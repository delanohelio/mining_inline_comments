{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMTYwMzU5", "number": 266, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMToyMzoyNVrODk0hTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjoxNzo1MVrODlOSgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5OTM1ODIxOnYy", "diffSide": "RIGHT", "path": "config/configuration.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMToyMzoyNVrOFxXAnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMToyMzoyNVrOFxXAnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMwMTUzMg==", "bodyText": "Could you also add the md doc for this check and update the available_checks.md file to include this check?", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387301532", "createdAt": "2020-03-03T21:23:25Z", "author": {"login": "sayas01"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzAyNTgzOnYy", "diffSide": "RIGHT", "path": "config/configuration.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxOToxOToxMlrOFx6TEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMTo1Njo1MFrOFx_HYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg3OTY5OQ==", "bodyText": "nit: this could be\n\"ocean\" : {\n     \"valid\": \n     \"invalid\":\n  }", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387879699", "createdAt": "2020-03-04T19:19:12Z", "author": {"login": "sayas01"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean.valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk1ODYyNA==", "bodyText": "That's more readable, agreed", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387958624", "createdAt": "2020-03-04T21:56:50Z", "author": {"login": "seancoulter"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean.valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg3OTY5OQ=="}, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzA0MjE2OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/openstreetmap/atlas/checks/validation/intersections/OceanBleedingCheckTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxOToyNDowM1rOFx6ddw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMTo1NjozNlrOFx_G9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg4MjM1OQ==", "bodyText": "Could you also add a check with non empty config?", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387882359", "createdAt": "2020-03-04T19:24:03Z", "author": {"login": "sayas01"}, "path": "src/test/java/org/openstreetmap/atlas/checks/validation/intersections/OceanBleedingCheckTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package org.openstreetmap.atlas.checks.validation.intersections;\n+\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.openstreetmap.atlas.checks.configuration.ConfigurationResolver;\n+import org.openstreetmap.atlas.checks.validation.verifier.ConsumerBasedExpectedCheckVerifier;\n+\n+/**\n+ * Unit tests for {@link OceanBleedingCheck}\n+ *\n+ * @author seancoulter\n+ */\n+public class OceanBleedingCheckTest\n+{\n+    @Rule\n+    public OceanBleedingCheckTestRule setup = new OceanBleedingCheckTestRule();\n+\n+    @Rule\n+    public ConsumerBasedExpectedCheckVerifier verifier = new ConsumerBasedExpectedCheckVerifier();\n+\n+    @Test\n+    public void invalidBuildingBleedingIntoOcean()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk1ODUxOA==", "bodyText": "Done, see ed33586", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387958518", "createdAt": "2020-03-04T21:56:36Z", "author": {"login": "seancoulter"}, "path": "src/test/java/org/openstreetmap/atlas/checks/validation/intersections/OceanBleedingCheckTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package org.openstreetmap.atlas.checks.validation.intersections;\n+\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.openstreetmap.atlas.checks.configuration.ConfigurationResolver;\n+import org.openstreetmap.atlas.checks.validation.verifier.ConsumerBasedExpectedCheckVerifier;\n+\n+/**\n+ * Unit tests for {@link OceanBleedingCheck}\n+ *\n+ * @author seancoulter\n+ */\n+public class OceanBleedingCheckTest\n+{\n+    @Rule\n+    public OceanBleedingCheckTestRule setup = new OceanBleedingCheckTestRule();\n+\n+    @Rule\n+    public ConsumerBasedExpectedCheckVerifier verifier = new ConsumerBasedExpectedCheckVerifier();\n+\n+    @Test\n+    public void invalidBuildingBleedingIntoOcean()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg4MjM1OQ=="}, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzM5OTQxOnYy", "diffSide": "RIGHT", "path": "config/configuration.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMToxNzo1MVrOFx99YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMTozOTowNlrOFx-lQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzkzOTY4MA==", "bodyText": "Do \"offending\" and \"invalid\" have the same definitions? If so, we should stick to one naming convention", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387939680", "createdAt": "2020-03-04T21:17:51Z", "author": {"login": "danielduhh"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean.valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",\n+    \"ocean.invalid\": \"man_made->breakwater,pier|natural->beach,marsh,swamp|water->marsh|wetland->bog,fen,mangrove,marsh,saltern,saltmarsh,string_bog,swamp,wet_meadow|landuse->*\",\n+    \"highway.minimum\": \"path\",\n+    \"highways.exclude\": [\n+      \"bus_guideway\"\n+    ],\n+    \"lineItems.offending\": \"railway->rail,narrow_gauge,preserved,subway,disused,monorail,tram,light_rail,funicular,construction,miniature\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk0OTg5MA==", "bodyText": "They're not quite the same--offending refers to tags that must be found on a lineItem for it to be considered bleeding into the ocean. But if it were called valid/invalid I think that would make it less clear if they should be considered or not\nInvalid refers to tags that cannot be found on an ocean for that ocean to be considered for the check.", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387949890", "createdAt": "2020-03-04T21:39:06Z", "author": {"login": "seancoulter"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean.valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",\n+    \"ocean.invalid\": \"man_made->breakwater,pier|natural->beach,marsh,swamp|water->marsh|wetland->bog,fen,mangrove,marsh,saltern,saltmarsh,string_bog,swamp,wet_meadow|landuse->*\",\n+    \"highway.minimum\": \"path\",\n+    \"highways.exclude\": [\n+      \"bus_guideway\"\n+    ],\n+    \"lineItems.offending\": \"railway->rail,narrow_gauge,preserved,subway,disused,monorail,tram,light_rail,funicular,construction,miniature\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzkzOTY4MA=="}, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzU4MDE2OnYy", "diffSide": "RIGHT", "path": "config/configuration.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjoxNzo1MVrOFx_tvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjoxNzo1MVrOFx_tvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk2ODQ0NA==", "bodyText": "This could be\nhighway:{\nminimum: path,\nexclude: []\n}", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387968444", "createdAt": "2020-03-04T22:17:51Z", "author": {"login": "danielduhh"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,22 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean\": {\n+      \"valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",\n+      \"invalid\": \"man_made->breakwater,pier|natural->beach,marsh,swamp|water->marsh|wetland->bog,fen,mangrove,marsh,saltern,saltmarsh,string_bog,swamp,wet_meadow|landuse->*\"\n+    },\n+    \"highway.minimum\": \"path\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a985be2217811194a0da3bdb93f98c3760120cad"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3272, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}