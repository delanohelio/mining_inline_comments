{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0OTE4MDc4", "number": 245, "title": "Connectivity check bug fix.", "bodyText": "Description:\nThis PR is a bug fix for existing connectivity check. The code checks for synthetic boundary nodes and if the nodes are not one of them it creates flags. Other validations are left as is.\nPotential Impact:\nChanges made to Atlas-checks.\nUnit Test Approach:\nAdded one unit test for validating flags with added synthetic node.\nTest Results:\nUsing some Atlas files, verified that the starting node and near by nodes are checking the synthetic boundary condition which is added and filter on it. Also, will take analyst help to analyze the flags correctly.", "createdAt": "2020-01-20T16:30:45Z", "url": "https://github.com/osmlab/atlas-checks/pull/245", "merged": true, "mergeCommit": {"oid": "5fe5e04376f2f9f22068c03de5a036e1aa717d94"}, "closed": true, "closedAt": "2020-01-21T16:28:39Z", "author": {"login": "smaheshwaram"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABbql3sUAH2gAyMzY0OTE4MDc4OjdjNGNiZjkyNTE5YTQ0YzMwNjJmZWYxZTY1ODQ0ZGFkZDA0N2I4OGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8jvG5gFqTM0NjAxNDkzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7c4cbf92519a44c3062fef1e65844dadd047b88c", "author": {"user": {"login": "smaheshwaram", "name": "Sugandhi Maheshwaram"}}, "url": "https://github.com/osmlab/atlas-checks/commit/7c4cbf92519a44c3062fef1e65844dadd047b88c", "committedDate": "2019-11-26T20:47:04Z", "message": "Sonar-fixes, commit 3, replacing throwable with IOException."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dba23192632af4bf72d89c54712dc88394a9424e", "author": {"user": {"login": "smaheshwaram", "name": "Sugandhi Maheshwaram"}}, "url": "https://github.com/osmlab/atlas-checks/commit/dba23192632af4bf72d89c54712dc88394a9424e", "committedDate": "2020-01-17T19:07:13Z", "message": "Merge branch 'dev' of https://github.com/osmlab/atlas-checks into connectivity-check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afffe99d0710b54e06f1e3d4a3251de420eef026", "author": {"user": {"login": "smaheshwaram", "name": "Sugandhi Maheshwaram"}}, "url": "https://github.com/osmlab/atlas-checks/commit/afffe99d0710b54e06f1e3d4a3251de420eef026", "committedDate": "2020-01-17T19:47:40Z", "message": "ConnectivityCheck, checking if the object is Synthetic boundary node."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08020301f6c8d65ab57881c46d6ab23d46508bc9", "author": {"user": {"login": "smaheshwaram", "name": "Sugandhi Maheshwaram"}}, "url": "https://github.com/osmlab/atlas-checks/commit/08020301f6c8d65ab57881c46d6ab23d46508bc9", "committedDate": "2020-01-19T21:15:51Z", "message": "ConnectivityCheck, checking if the object is Synthetic boundary node."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "660f29428a841a61cd029c4133eef83eadeffbcf", "author": {"user": {"login": "smaheshwaram", "name": "Sugandhi Maheshwaram"}}, "url": "https://github.com/osmlab/atlas-checks/commit/660f29428a841a61cd029c4133eef83eadeffbcf", "committedDate": "2020-01-20T16:35:39Z", "message": "ConnectivityCheck, build fixes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1NDc1NTc3", "url": "https://github.com/osmlab/atlas-checks/pull/245#pullrequestreview-345475577", "createdAt": "2020-01-20T18:23:23Z", "commit": {"oid": "660f29428a841a61cd029c4133eef83eadeffbcf"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxODoyMzoyM1rOFfmZPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxODoyMzozNlrOFfmZgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODY3OTIyOQ==", "bodyText": "typo: are not synthetic boundary or start nodes**", "url": "https://github.com/osmlab/atlas-checks/pull/245#discussion_r368679229", "createdAt": "2020-01-20T18:23:23Z", "author": {"login": "danielduhh"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java", "diffHunk": "@@ -103,9 +104,11 @@ public boolean validCheckForObject(final AtlasObject object)\n                         && this.getLayerMap(nearbyNode).keySet().stream()\n                                 .anyMatch(nodeLayerMap::containsKey)))\n         {\n-            // Flag nearby nodes if they are not are start node, are not a barrier, have a valid\n+            // Flag nearby nodes if they are not synthetic boundary node, are start node, are not a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "660f29428a841a61cd029c4133eef83eadeffbcf"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODY3OTI5Ng==", "bodyText": "Could you add a test case for this ?", "url": "https://github.com/osmlab/atlas-checks/pull/245#discussion_r368679296", "createdAt": "2020-01-20T18:23:36Z", "author": {"login": "danielduhh"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java", "diffHunk": "@@ -68,8 +69,8 @@ public ConnectivityCheck(final Configuration configuration)\n     @Override\n     public boolean validCheckForObject(final AtlasObject object)\n     {\n-        return object instanceof Node && !this.isFlagged(object.getOsmIdentifier())\n-                && !BarrierTag.isBarrier(object)\n+        return object instanceof Node && !SyntheticBoundaryNodeTag.isSyntheticBoundaryNode(object)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "660f29428a841a61cd029c4133eef83eadeffbcf"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "765ecfb2423324def1405d8506941191301b2661", "author": {"user": {"login": "smaheshwaram", "name": "Sugandhi Maheshwaram"}}, "url": "https://github.com/osmlab/atlas-checks/commit/765ecfb2423324def1405d8506941191301b2661", "committedDate": "2020-01-20T19:43:07Z", "message": "ConnectivityCheck, adding unit test plus fixing typo."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1NTkxMTYy", "url": "https://github.com/osmlab/atlas-checks/pull/245#pullrequestreview-345591162", "createdAt": "2020-01-21T01:18:11Z", "commit": {"oid": "765ecfb2423324def1405d8506941191301b2661"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MDE0OTMy", "url": "https://github.com/osmlab/atlas-checks/pull/245#pullrequestreview-346014932", "createdAt": "2020-01-21T16:28:31Z", "commit": {"oid": "765ecfb2423324def1405d8506941191301b2661"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3258, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}