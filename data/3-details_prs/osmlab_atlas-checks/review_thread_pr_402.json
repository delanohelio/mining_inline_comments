{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMzk0OTM3", "number": 402, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDoxNzo0MlrOEyYAxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxODoyMDo1N1rOE0f7jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjU3NjY5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDoxNzo0MlrOHo-lJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDoxNzo0MlrOHo-lJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjczMDQwNg==", "bodyText": "I would reverse the conditional here and make the connectedEdges.add inside the conditional and remove the \"return\".\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        if (wayId.getOsmIdentifier() == edge.getOsmIdentifier())\n          \n          \n            \n                                        {\n          \n          \n            \n                                            return;\n          \n          \n            \n                                        }\n          \n          \n            \n                                        connectedEdges.add(wayId.getOsmIdentifier());\n          \n          \n            \n                                        if (wayId.getOsmIdentifier() != edge.getOsmIdentifier())\n          \n          \n            \n                                        {\n          \n          \n            \n                                            connectedEdges.add(wayId.getOsmIdentifier());\n          \n          \n            \n                                        }", "url": "https://github.com/osmlab/atlas-checks/pull/402#discussion_r512730406", "createdAt": "2020-10-27T14:17:42Z", "author": {"login": "atiannicelli"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "diffHunk": "@@ -151,8 +165,16 @@ private boolean intersectingWithMoreThan(final Edge edge)\n                         .filter(HighwayTag::isCarNavigableHighway)\n                         .filter(obj -> obj.getTag(ServiceTag.KEY).isEmpty())\n                         // de-duplication sectioned edges\n-                        .forEach(wayId -> connectedEdges.add(wayId.getOsmIdentifier())));\n-        return connectedEdges.size() > MINIMUM_INTERSECTION;\n+                        .forEach(wayId ->\n+                        {\n+                            if (wayId.getOsmIdentifier() == edge.getOsmIdentifier())\n+                            {\n+                                return;\n+                            }\n+                            connectedEdges.add(wayId.getOsmIdentifier());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "673e6fcc905c32df9c0c4606fdff52e5195afa93"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyODc1Njg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo0NTo1OFrOHrb8ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQyMDowMjozOVrOHreY-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMwODY0NA==", "bodyText": "This configuration key is already defined in BaseCheck. While there is no loss of effect because BaseCheck is using it effectively the same way, it would be better to use a different key.", "url": "https://github.com/osmlab/atlas-checks/pull/402#discussion_r515308644", "createdAt": "2020-10-30T18:45:58Z", "author": {"login": "Bentleysb"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "diffHunk": "@@ -60,6 +67,10 @@ public RoundaboutMissingTagCheck(final Configuration configuration)\n                 \"angle.threshold.maximum_degree\", MAX_THRESHOLD_DEGREES_DEFAULT, Angle::degrees);\n         this.minAngleThreshold = this.configurationValue(configuration,\n                 \"angle.threshold.minimum_degree\", MIN_THRESHOLD_DEGREES_DEFAULT, Angle::degrees);\n+        this.tagFilterIgnore = this.configurationValue(configuration, \"tags.filter\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49fa241cbd2380b1e38c92a220cb2c3cf52056b6"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM0ODczMA==", "bodyText": "thanks for suggestion! changed.", "url": "https://github.com/osmlab/atlas-checks/pull/402#discussion_r515348730", "createdAt": "2020-10-30T20:02:39Z", "author": {"login": "vladlemberg"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "diffHunk": "@@ -60,6 +67,10 @@ public RoundaboutMissingTagCheck(final Configuration configuration)\n                 \"angle.threshold.maximum_degree\", MAX_THRESHOLD_DEGREES_DEFAULT, Angle::degrees);\n         this.minAngleThreshold = this.configurationValue(configuration,\n                 \"angle.threshold.minimum_degree\", MIN_THRESHOLD_DEGREES_DEFAULT, Angle::degrees);\n+        this.tagFilterIgnore = this.configurationValue(configuration, \"tags.filter\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMwODY0NA=="}, "originalCommit": {"oid": "49fa241cbd2380b1e38c92a220cb2c3cf52056b6"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNDc2MjUwOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheckTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzo1NzozMVrOHsPuwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxODo0MzoxNFrOHsRQGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE1NzEyMQ==", "bodyText": "Can you change the configurable here too?", "url": "https://github.com/osmlab/atlas-checks/pull/402#discussion_r516157121", "createdAt": "2020-11-02T17:57:31Z", "author": {"login": "Bentleysb"}, "path": "src/test/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheckTest.java", "diffHunk": "@@ -19,6 +20,9 @@\n     @Rule\n     public ConsumerBasedExpectedCheckVerifier verifier = new ConsumerBasedExpectedCheckVerifier();\n \n+    private final Configuration inlineConfiguration = ConfigurationResolver.inlineConfiguration(\n+            \"{\\\"RoundaboutMissingTagCheck\\\":{\\\"tags.filter\\\":\\\"motor_vehicle->!no&foot->!yes&footway->!&access->!private&construction->!\\\"}}\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f63bb740b1906033265ed7640b5e34c534f6505"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE4MjA0Mw==", "bodyText": "fixed.", "url": "https://github.com/osmlab/atlas-checks/pull/402#discussion_r516182043", "createdAt": "2020-11-02T18:43:14Z", "author": {"login": "vladlemberg"}, "path": "src/test/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheckTest.java", "diffHunk": "@@ -19,6 +20,9 @@\n     @Rule\n     public ConsumerBasedExpectedCheckVerifier verifier = new ConsumerBasedExpectedCheckVerifier();\n \n+    private final Configuration inlineConfiguration = ConfigurationResolver.inlineConfiguration(\n+            \"{\\\"RoundaboutMissingTagCheck\\\":{\\\"tags.filter\\\":\\\"motor_vehicle->!no&foot->!yes&footway->!&access->!private&construction->!\\\"}}\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE1NzEyMQ=="}, "originalCommit": {"oid": "6f63bb740b1906033265ed7640b5e34c534f6505"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNDg0NTU3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxODoyMDo1N1rOHsQhvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxODoyMDo1N1rOHsQhvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE3MDE3NQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/osmlab/atlas-checks/pull/402#discussion_r516170175", "createdAt": "2020-11-02T18:20:57Z", "author": {"login": "sayas01"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/RoundaboutMissingTagCheck.java", "diffHunk": "@@ -168,4 +187,33 @@ private boolean isPartOfClosedWay(final Edge edge)\n                 .filter(inEdge -> inEdge.getOsmIdentifier() == edge.getOsmIdentifier())\n                 .count() == 1;\n     }\n+\n+    /**\n+     * Check if original OSM Way is a Turning Circle. See\n+     * https://wiki.openstreetmap.org/wiki/Tag:highway%3Dturning_circle\n+     *\n+     * @param edge\n+     *            entity with valence equal to\n+     *            {@link RoundaboutMissingTagCheck#MINIMUM_INTERSECTION}\n+     * @return true if way is a turning circle. OSM Examples:\n+     *         https://www.openstreetmap.org/way/220432725", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f63bb740b1906033265ed7640b5e34c534f6505"}, "originalPosition": 88}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3205, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}