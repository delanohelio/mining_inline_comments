{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NjY4OTUz", "number": 2151, "title": "ZK-4653: Provide a collection of constants for Keys and provide isPre\u2026", "bodyText": "\u2026ssed API", "createdAt": "2020-09-02T08:47:06Z", "url": "https://github.com/zkoss/zk/pull/2151", "merged": true, "mergeCommit": {"oid": "05ee759e661c08279d4cd52e373d081465650617"}, "closed": true, "closedAt": "2020-09-03T10:25:29Z", "author": {"login": "plijyfes"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE4H55gBqjM3MTg2MzIyNzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFN-sXABqjM3MjQwMTQ4MDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "04f4a2c650aa088add974d5534a4ab491b6fc530", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/04f4a2c650aa088add974d5534a4ab491b6fc530", "committedDate": "2020-09-02T08:45:31Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}, "afterCommit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/fe30d54b2b588007971a19ed6c34e9ef4dd68466", "committedDate": "2020-09-02T08:56:00Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjQ4Njk4", "url": "https://github.com/zkoss/zk/pull/2151#pullrequestreview-480648698", "createdAt": "2020-09-02T09:34:38Z", "commit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOTozNDozOFrOHLnDRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOTozNDozOFrOHLnDRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTkzNjE5Ng==", "bodyText": "zk.error", "url": "https://github.com/zkoss/zk/pull/2151#discussion_r481936196", "createdAt": "2020-09-02T09:34:38Z", "author": {"login": "plijyfes"}, "path": "zk/src/archive/web/js/zk/evt.js", "diffHunk": "@@ -208,6 +208,45 @@ evt.stop({progagation:true,revoke:true}); //revoke the event propagation\n \t\tif (!opts || opts.propagation) this.stopped = b;\n \t\tif (!opts || opts.dom) this.domStopped = b;\n \t\tif (opts && opts.au) this.auStopped = b;\n+\t},\n+\t/** Indicates whether a key is currently pressed.\n+\t * You can also pass more then one key into this method as a key combination, but combination only works with modifer keys(ALT/CONTROL/SHIFT/META).\n+\t * If you combine two(or more) keys that are not modifer keys, you will always get false since it is invalid.\n+\t * For example:\n+\t * isPressed(zKeys.CONTROL, zKeys.ALT, zKeys.ARROWDOWN) is valid.\n+\t * isPressed(zKeys.ARROWDOWN, zKeys.ARROWUP) is invalid.\n+\t * @param String... The target key and the modifer keys\n+\t * @return boolean\n+\t * @see zKeys\n+\t */\n+\tisPressed: function () {\n+\t\tvar keyCount = 0;\n+\t\tfor (var i = 0, len = arguments.length; i < len; i++) {\n+\t\t\tvar arg = arguments[i];\n+\t\t\tif (arg != zKeys.META && arg != zKeys.ALT && arg != zKeys.CONTROL && arg != zKeys.SHIFT) {\n+\t\t\t\tkeyCount++;\n+\t\t\t\tif (keyCount > 1)\n+\t\t\t\t\treturn false; // Keys combination is invalid", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjUyMzEz", "url": "https://github.com/zkoss/zk/pull/2151#pullrequestreview-480652313", "createdAt": "2020-09-02T09:39:37Z", "commit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOTozOTozN1rOHLnOvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOTozOTozN1rOHLnOvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTkzOTEzNQ==", "bodyText": "if", "url": "https://github.com/zkoss/zk/pull/2151#discussion_r481939135", "createdAt": "2020-09-02T09:39:37Z", "author": {"login": "plijyfes"}, "path": "zk/src/archive/web/js/zk/evt.js", "diffHunk": "@@ -208,6 +208,45 @@ evt.stop({progagation:true,revoke:true}); //revoke the event propagation\n \t\tif (!opts || opts.propagation) this.stopped = b;\n \t\tif (!opts || opts.dom) this.domStopped = b;\n \t\tif (opts && opts.au) this.auStopped = b;\n+\t},\n+\t/** Indicates whether a key is currently pressed.\n+\t * You can also pass more then one key into this method as a key combination, but combination only works with modifer keys(ALT/CONTROL/SHIFT/META).\n+\t * If you combine two(or more) keys that are not modifer keys, you will always get false since it is invalid.\n+\t * For example:\n+\t * isPressed(zKeys.CONTROL, zKeys.ALT, zKeys.ARROWDOWN) is valid.\n+\t * isPressed(zKeys.ARROWDOWN, zKeys.ARROWUP) is invalid.\n+\t * @param String... The target key and the modifer keys\n+\t * @return boolean\n+\t * @see zKeys\n+\t */\n+\tisPressed: function () {\n+\t\tvar keyCount = 0;\n+\t\tfor (var i = 0, len = arguments.length; i < len; i++) {\n+\t\t\tvar arg = arguments[i];\n+\t\t\tif (arg != zKeys.META && arg != zKeys.ALT && arg != zKeys.CONTROL && arg != zKeys.SHIFT) {\n+\t\t\t\tkeyCount++;\n+\t\t\t\tif (keyCount > 1)\n+\t\t\t\t\treturn false; // Keys combination is invalid\n+\t\t\t\telse if (arg != this.key)\n+\t\t\t\t\treturn false;\n+\t\t\t} else {\n+\t\t\t\tswitch (arg) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjY0NDM2", "url": "https://github.com/zkoss/zk/pull/2151#pullrequestreview-480664436", "createdAt": "2020-09-02T09:56:23Z", "commit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOTo1NjoyM1rOHLn0OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOTo1NjoyM1rOHLn0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTk0ODcyOQ==", "bodyText": "@Class zKeys\nSince 9.5.0", "url": "https://github.com/zkoss/zk/pull/2151#discussion_r481948729", "createdAt": "2020-09-02T09:56:23Z", "author": {"login": "plijyfes"}, "path": "zk/src/archive/web/js/zk/keys.js", "diffHunk": "@@ -0,0 +1,250 @@\n+/* keys.js\n+\n+\t\tPurpose:\n+\t\t\n+\t\tDescription:\n+\t\t\n+\t\tHistory:\n+\t\t\t\tTue Sep 01 11:59:55 CST 2020, Created by leon\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+\n+/**\n+ * A collection of constants for KeyboardEvent.key values.\n+ * Ref: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjcwNzg4", "url": "https://github.com/zkoss/zk/pull/2151#pullrequestreview-480670788", "createdAt": "2020-09-02T10:05:28Z", "commit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe30d54b2b588007971a19ed6c34e9ef4dd68466", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/fe30d54b2b588007971a19ed6c34e9ef4dd68466", "committedDate": "2020-09-02T08:56:00Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}, "afterCommit": {"oid": "106f559bf91096721a2ca0e806bb1f8c25dc8210", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/106f559bf91096721a2ca0e806bb1f8c25dc8210", "committedDate": "2020-09-03T03:08:25Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "106f559bf91096721a2ca0e806bb1f8c25dc8210", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/106f559bf91096721a2ca0e806bb1f8c25dc8210", "committedDate": "2020-09-03T03:08:25Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}, "afterCommit": {"oid": "90c0831d8a15b1719aedf208cd043233381489da", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/90c0831d8a15b1719aedf208cd043233381489da", "committedDate": "2020-09-03T03:11:17Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNjg5NzEw", "url": "https://github.com/zkoss/zk/pull/2151#pullrequestreview-481689710", "createdAt": "2020-09-03T10:04:25Z", "commit": {"oid": "90c0831d8a15b1719aedf208cd043233381489da"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92358c6b2d07c7ba839e624f862d52434a85b3ac", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/92358c6b2d07c7ba839e624f862d52434a85b3ac", "committedDate": "2020-09-03T10:24:01Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90c0831d8a15b1719aedf208cd043233381489da", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/90c0831d8a15b1719aedf208cd043233381489da", "committedDate": "2020-09-03T03:11:17Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}, "afterCommit": {"oid": "92358c6b2d07c7ba839e624f862d52434a85b3ac", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/92358c6b2d07c7ba839e624f862d52434a85b3ac", "committedDate": "2020-09-03T10:24:01Z", "message": "ZK-4653: Provide a collection of constants for Keys and provide isPressed API"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 97, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}