{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3Mjc5NjI4", "number": 2049, "title": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout\u2026", "bodyText": "\u2026 and borderlayout", "createdAt": "2020-07-10T07:38:23Z", "url": "https://github.com/zkoss/zk/pull/2049", "merged": true, "mergeCommit": {"oid": "62cf7f894e3638b1e63317c55026b3d1a326c8d4"}, "closed": true, "closedAt": "2020-07-17T10:42:41Z", "author": {"login": "DevChu"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczgloSgFqTQ0NjI3MzQ5Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1xeWZAFqTQ1MDU1NjczOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MjczNDk3", "url": "https://github.com/zkoss/zk/pull/2049#pullrequestreview-446273497", "createdAt": "2020-07-10T09:52:03Z", "commit": {"oid": "5d4c598196310dd0329163c09d92d84ad2b1c115"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwOTo1MjowNFrOGvxTew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwOTo1MjowNFrOGvxTew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjc0NDA1OQ==", "bodyText": "test div height instead", "url": "https://github.com/zkoss/zk/pull/2049#discussion_r452744059", "createdAt": "2020-07-10T09:52:04Z", "author": {"login": "scribetw"}, "path": "zktest/src/archive/test2/B95-ZK-4476.zul", "diffHunk": "@@ -0,0 +1,31 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+B95-ZK-4476.zul\n+\n+\tPurpose:\n+\t\t\n+\tDescription:\n+\t\t\n+\tHistory:\n+\t\tTue, Jul 2, 2020  02:48:18 PM, Created by jameschu\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+\n+-->\n+<zk xmlns:w=\"client\">\n+\t<hlayout hflex=\"1\" vflex=\"1\">\n+\t\t<borderlayout hflex=\"1\" vflex=\"min\">\n+\t\t\t<north>\n+\t\t\t\t<div vflex=\"min\" style=\"background:yellow;\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d4c598196310dd0329163c09d92d84ad2b1c115"}, "originalPosition": 20}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d4c598196310dd0329163c09d92d84ad2b1c115", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/5d4c598196310dd0329163c09d92d84ad2b1c115", "committedDate": "2020-07-10T07:37:53Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}, "afterCommit": {"oid": "ff06286e4bc9c24804ba2b4ef9d29726b852721c", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/ff06286e4bc9c24804ba2b4ef9d29726b852721c", "committedDate": "2020-07-10T10:26:14Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff06286e4bc9c24804ba2b4ef9d29726b852721c", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/ff06286e4bc9c24804ba2b4ef9d29726b852721c", "committedDate": "2020-07-10T10:26:14Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}, "afterCommit": {"oid": "d109b72a4d446fb5720022695a2043b5f438c626", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/d109b72a4d446fb5720022695a2043b5f438c626", "committedDate": "2020-07-15T08:36:38Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNTM4NTMw", "url": "https://github.com/zkoss/zk/pull/2049#pullrequestreview-450538530", "createdAt": "2020-07-17T10:10:32Z", "commit": {"oid": "d109b72a4d446fb5720022695a2043b5f438c626"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDoxMDozMlrOGzNdHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDoxMDozMlrOGzNdHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM1MTAwNA==", "bodyText": "divide by 0", "url": "https://github.com/zkoss/zk/pull/2049#discussion_r456351004", "createdAt": "2020-07-17T10:10:32Z", "author": {"login": "scribetw"}, "path": "zul/src/archive/web/js/zul/box/Hlayout.js", "diffHunk": "@@ -50,5 +58,36 @@ zul.box.Hlayout = zk.$extends(zul.box.Layout, {\n \t},\n \tgetFlexDirection_: function () {\n \t\treturn 'row';\n+\t},\n+\t//ZK-4476\n+\tbeforeSize: function () {\n+\t\tvar xc = this.firstChild,\n+\t\t\ttotalWd = this.$n().offsetWidth,\n+\t\t\tflexCnt = 0,\n+\t\t\tflexWgts = [];\n+\t\tfor (; xc; xc = xc.nextSibling) {\n+\t\t\tif (xc.isVisible() && !(zkc = zk(xc)).hasVParent()) {\n+\t\t\t\tvar nhflex = xc._nhflex,\n+\t\t\t\t\tnXc = xc.$n();\n+\t\t\t\tif (nhflex) {\n+\t\t\t\t\tflexWgts.push({wgt: xc, flex: nhflex});\n+\t\t\t\t\tflexCnt += nhflex;\n+\t\t\t\t} else if (nXc) {\n+\t\t\t\t\tvar xcOffsetWidth = nXc.offsetWidth;\n+\t\t\t\t\ttotalWd -= xcOffsetWidth;\n+\t\t\t\t\txc.$n('chdex').style.width = jq.px0(xcOffsetWidth);\n+\t\t\t\t}\n+\t\t\t}\n+\t\t}\n+\t\tvar perWd = totalWd / flexCnt;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d109b72a4d446fb5720022695a2043b5f438c626"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "650435f3b86368e9e5ecbb999052b45e75856fbe", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/650435f3b86368e9e5ecbb999052b45e75856fbe", "committedDate": "2020-07-17T10:27:25Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d109b72a4d446fb5720022695a2043b5f438c626", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/d109b72a4d446fb5720022695a2043b5f438c626", "committedDate": "2020-07-15T08:36:38Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}, "afterCommit": {"oid": "650435f3b86368e9e5ecbb999052b45e75856fbe", "author": {"user": {"login": "DevChu", "name": "James Chu"}}, "url": "https://github.com/zkoss/zk/commit/650435f3b86368e9e5ecbb999052b45e75856fbe", "committedDate": "2020-07-17T10:27:25Z", "message": "ZK-4476: Height calculation error when using vFlex = \"min\" in hlayout and borderlayout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNTQ5MjI1", "url": "https://github.com/zkoss/zk/pull/2049#pullrequestreview-450549225", "createdAt": "2020-07-17T10:29:03Z", "commit": {"oid": "650435f3b86368e9e5ecbb999052b45e75856fbe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNTU2NzM5", "url": "https://github.com/zkoss/zk/pull/2049#pullrequestreview-450556739", "createdAt": "2020-07-17T10:42:34Z", "commit": {"oid": "650435f3b86368e9e5ecbb999052b45e75856fbe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 105, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}