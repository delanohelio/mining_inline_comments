{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MTQ0OTI3", "number": 2052, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMjo1MDo1NVrOEOFHDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMzowMToxNFrOEOFOaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMTk5MjQ1OnYy", "diffSide": "RIGHT", "path": "zul/src/archive/web/js/zul/sel/Treecell.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMjo1MDo1NVrOGxCC6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMjo1MDo1NVrOGxCC6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA2NjkyMQ==", "bodyText": "lineClass", "url": "https://github.com/zkoss/zk/pull/2052#discussion_r454066921", "createdAt": "2020-07-14T02:50:55Z", "author": {"login": "scribetw"}, "path": "zul/src/archive/web/js/zul/sel/Treecell.js", "diffHunk": "@@ -180,8 +180,14 @@ zul.sel.Treecell = zk.$extends(zul.LabelImageWidget, {\n \t\t\t}\n \t\t\tvar iconScls = tree ? tree.getZclass() : '',\n \t\t\t\tpitems = this._getTreeitems(item, tree);\n-\t\t\tfor (var j = 0, k = pitems.length; j < k; ++j)\n-\t\t\t\tthis._appendIcon(sb, iconScls, 'spacer', false, j == k - 1); // ZK-4494: provide line anchor information to draw tree lines\n+\t\t\tfor (var j = 0, k = pitems.length; j < k; ++j) {\n+\t\t\t\tvar lineAnchor = '';\n+\t\t\t\tif (j == k - 1) // last meaningful line in structure\n+\t\t\t\t\tlineAnchor = '-line-anchor';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daba14d8375aa5f16603bba76d482a8784fb15ff"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMjAwMzg4OnYy", "diffSide": "RIGHT", "path": "zul/src/archive/web/js/zul/sel/Treechildren.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMjo1NzowOVrOGxCJkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMjo1NzowOVrOGxCJkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA2ODYyNg==", "bodyText": "reverse order find visible child", "url": "https://github.com/zkoss/zk/pull/2052#discussion_r454068626", "createdAt": "2020-07-14T02:57:09Z", "author": {"login": "scribetw"}, "path": "zul/src/archive/web/js/zul/sel/Treechildren.js", "diffHunk": "@@ -261,6 +261,16 @@ zul.sel.Treechildren = zk.$extends(zul.Widget, {\n \t\t\tjq(n).replaceWith(content);\n \t\t}\n \t\tchild.bind(desktop, skipper);\n+\t},\n+\tgetLastVisibleItem_: function () { // ZK-4494: provide line anchor information to draw tree lines\n+\t\tvar items = [];\n+\t\tfor (var w = this.firstChild; w; w = w.nextSibling)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daba14d8375aa5f16603bba76d482a8784fb15ff"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMjAxMTI5OnYy", "diffSide": "RIGHT", "path": "zul/src/archive/web/js/zul/sel/Treerow.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMzowMToxNFrOGxCN1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMzowMToxNFrOGxCN1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA2OTcxNw==", "bodyText": "return treechildren && treechildren.getLastVisibleItem_() == treeitem;", "url": "https://github.com/zkoss/zk/pull/2052#discussion_r454069717", "createdAt": "2020-07-14T03:01:14Z", "author": {"login": "scribetw"}, "path": "zul/src/archive/web/js/zul/sel/Treerow.js", "diffHunk": "@@ -92,5 +92,13 @@ zul.sel.Treerow = zk.$extends(zul.Widget, {\n \t},\n \tdeferRedrawHTML_: function (out) {\n \t\tout.push('<tr', this.domAttrs_({domClass: 1}), ' class=\"z-renderdefer\"></tr>');\n+\t},\n+\tisLastVisibleChild_: function () {\n+\t\tvar result = false,\n+\t\t\ttreeitem = this.parent,\n+\t\t\ttreechildren = treeitem.parent;\n+\t\tif (treechildren)\n+\t\t\tresult = treechildren.getLastVisibleItem_() == treeitem;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daba14d8375aa5f16603bba76d482a8784fb15ff"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 564, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}