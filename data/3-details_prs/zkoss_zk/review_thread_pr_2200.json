{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3NjY1ODk1", "number": 2200, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToxNzo0MlrOEqo9BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToyNjo0MVrOEqpKig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTQ2NjI5OnYy", "diffSide": "RIGHT", "path": "zkbind/src/org/zkoss/bind/impl/ParamCall.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToxNzo0MlrOHc9ZEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToxNzo0MlrOHc9ZEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyODAxNw==", "bodyText": "move to resolvePositionalParameter", "url": "https://github.com/zkoss/zk/pull/2200#discussion_r500128017", "createdAt": "2020-10-06T09:17:42Z", "author": {"login": "scribetw"}, "path": "zkbind/src/org/zkoss/bind/impl/ParamCall.java", "diffHunk": "@@ -208,8 +209,16 @@ private Object resolveParameter(Annotation[] parmAnnos, Class<?> paramType, Stri\n \t\t\t\t}\n \t\t\t}\n \t\t}\n-\t\tif (val == null)\n+\t\tif (val == null && _bindingArgs != null && index < _bindingArgs.size()) {\n+\t\t\tint argIndex = 0;\n+\t\t\tfor (Map.Entry<String, Object> entry : _bindingArgs.entrySet()) {\n+\t\t\t\t// skip using positional if the param key is not auto-generated\n+\t\t\t\tif (argIndex == index && !entry.getKey().startsWith(Parser.SIMPLIFIED_COMMAND_PARAM_PREFIX))\n+\t\t\t\t\treturn null;\n+\t\t\t\targIndex++;\n+\t\t\t}\n \t\t\tval = resolvePositionalParameter(paramType, index);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c95e1bafd83d3cbecaf65c2023521118e2a394f9"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTQ3NzEwOnYy", "diffSide": "RIGHT", "path": "zktest/src/org/zkoss/zktest/test2/B95_ZK_4688VM.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToyMDozMVrOHc9gGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToyMDozMVrOHc9gGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyOTgxNg==", "bodyText": "add \",\"", "url": "https://github.com/zkoss/zk/pull/2200#discussion_r500129816", "createdAt": "2020-10-06T09:20:31Z", "author": {"login": "scribetw"}, "path": "zktest/src/org/zkoss/zktest/test2/B95_ZK_4688VM.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package org.zkoss.zktest.test2;\r\n+\r\n+import java.util.Calendar;\r\n+import java.util.Date;\r\n+import java.util.HashMap;\r\n+import java.util.Locale;\r\n+import java.util.Map;\r\n+\r\n+import org.zkoss.bind.BindUtils;\r\n+import org.zkoss.bind.annotation.BindingParam;\r\n+import org.zkoss.bind.annotation.Command;\r\n+import org.zkoss.bind.annotation.GlobalCommand;\r\n+import org.zkoss.bind.annotation.NotifyChange;\r\n+\r\n+public class B95_ZK_4688VM {\r\n+\r\n+\tprivate String result = \"\";\r\n+\r\n+\t@GlobalCommand\r\n+\t@NotifyChange(\"result\")\r\n+\tpublic void stopSetup(@BindingParam(\"finishDate\") Date when, @BindingParam(\"setupQty\") int setupQty,\r\n+\t\t\t@BindingParam(\"reason\") Locale reason) {\r\n+\t\tresult = when + \",\" + setupQty + reason;\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c95e1bafd83d3cbecaf65c2023521118e2a394f9"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTUwMDkwOnYy", "diffSide": "LEFT", "path": "zkbind/src/org/zkoss/bind/impl/ParamCall.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToyNjo0MVrOHc9vBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToyNjo0MVrOHc9vBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMzYzOA==", "bodyText": "++", "url": "https://github.com/zkoss/zk/pull/2200#discussion_r500133638", "createdAt": "2020-10-06T09:26:41Z", "author": {"login": "scribetw"}, "path": "zkbind/src/org/zkoss/bind/impl/ParamCall.java", "diffHunk": "@@ -218,14 +219,14 @@ private Object resolveParameter(Annotation[] parmAnnos, Class<?> paramType, Stri\n \tprivate Object resolvePositionalParameter(Class<?> returnType, int index) {\n \t\tObject val = null;\n \t\tif (_bindingArgs != null) {\n-\t\t\tCollection<Object> values = _bindingArgs.values();\n-\t\t\tint i = 0;\n-\t\t\tfor (Object v : values) {\n-\t\t\t\tif (index == i) {\n-\t\t\t\t\tval = v;\n+\t\t\tint argIndex = 0;\n+\t\t\tfor (Map.Entry<String, Object> entry : _bindingArgs.entrySet()) {\n+\t\t\t\t// skip using positional if the param key is not auto-generated\n+\t\t\t\tif (argIndex == index) {\n+\t\t\t\t\tif (entry.getKey().startsWith(Parser.SIMPLIFIED_COMMAND_PARAM_PREFIX))\n+\t\t\t\t\t\tval = entry.getValue();\n \t\t\t\t\tbreak;\n \t\t\t\t}\n-\t\t\t\ti++;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d127af923bfdfd74f40e6100f7670e9d3591f53"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 529, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}