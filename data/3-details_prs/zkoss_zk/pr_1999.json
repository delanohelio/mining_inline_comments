{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NzE5NzU4", "number": 1999, "title": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme cust\u2026", "bodyText": "\u2026omization", "createdAt": "2020-05-14T02:57:31Z", "url": "https://github.com/zkoss/zk/pull/1999", "merged": true, "mergeCommit": {"oid": "ae49f735650401973580b8e7cfc4dc332157b25a"}, "closed": true, "closedAt": "2020-05-21T09:07:57Z", "author": {"login": "plijyfes"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchIl5YgFqTQxMTU0NDc0OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjZ8-2AFqTQxNTk5MjM2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTQ0NzQ5", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-411544749", "createdAt": "2020-05-14T07:46:13Z", "commit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzo0NjoxM1rOGVP9aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzo0NjoxM1rOGVP9aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkzNDc2MA==", "bodyText": "this.$s('checked')", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r424934760", "createdAt": "2020-05-14T07:46:13Z", "author": {"login": "plijyfes"}, "path": "zul/src/archive/web/js/zul/wgt/Radio.js", "diffHunk": "@@ -90,6 +90,7 @@ zul.wgt.Radio = zk.$extends(zul.wgt.Checkbox, {\n \t\t\tif (n) {\n \t\t\t\tn.checked = checked || false;\n \t\t\t\tchecked ? jq(n).attr('checked','checked') : jq(n).removeAttr('checked');\n+\t\t\t\tjq(this.$n()).toggleClass(this.$s() + '-checked', checked);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTQ1Mzg4", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-411545388", "createdAt": "2020-05-14T07:47:10Z", "commit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzo0NzoxMFrOGVP_bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzo0NzoxMFrOGVP_bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkzNTI3Nw==", "bodyText": "add remove class name test", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r424935277", "createdAt": "2020-05-14T07:47:10Z", "author": {"login": "plijyfes"}, "path": "zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/* F91_ZK_4544Test.java\n+\n+\t\tPurpose:\n+\t\t\n+\t\tDescription:\n+\t\t\n+\t\tHistory:\n+\t\t\t\tThu May 14 10:23:07 CST 2020, Created by leon\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+package org.zkoss.zktest.zats.test2;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.zkoss.zktest.zats.WebDriverTestCase;\n+\n+public class F91_ZK_4544Test extends WebDriverTestCase {\n+\t@Test\n+\tpublic void test() {\n+\t\tconnect();\n+\t\tclick(jq(\".z-radio-content\").eq(0));\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(jq(\".z-radio\").eq(0).hasClass(\"z-radio-checked\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTQ5Nzk5", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-411549799", "createdAt": "2020-05-14T07:53:03Z", "commit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzo1MzowM1rOGVQNEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzo1MzowM1rOGVQNEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkzODc3MA==", "bodyText": "checkbox default", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r424938770", "createdAt": "2020-05-14T07:53:03Z", "author": {"login": "plijyfes"}, "path": "zkdoc/release-note", "diffHunk": "@@ -8,6 +8,7 @@ ZK 9.1.0\n   ZK-4552: Simplify MVVM syntax\n   ZK-4560: Theme customization improvement - avoid patch.less\n   ZK-4562: Introduce OWASP Dependency-Check", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "878d87533fc96ec39de9f4325b6f5e49388795de", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/878d87533fc96ec39de9f4325b6f5e49388795de", "committedDate": "2020-05-14T02:52:10Z", "message": "ZK-4544: Radio provide a status class name for more easier theme customization"}, "afterCommit": {"oid": "9286bed7ddd215e3b2a4b718712e4233e6f813db", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/9286bed7ddd215e3b2a4b718712e4233e6f813db", "committedDate": "2020-05-15T03:02:55Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9286bed7ddd215e3b2a4b718712e4233e6f813db", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/9286bed7ddd215e3b2a4b718712e4233e6f813db", "committedDate": "2020-05-15T03:02:55Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}, "afterCommit": {"oid": "be5120a979704af12430f41d98cd0d2da4810fe3", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/be5120a979704af12430f41d98cd0d2da4810fe3", "committedDate": "2020-05-15T03:16:17Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMzIyODMy", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-412322832", "createdAt": "2020-05-15T03:27:22Z", "commit": {"oid": "be5120a979704af12430f41d98cd0d2da4810fe3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be5120a979704af12430f41d98cd0d2da4810fe3", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/be5120a979704af12430f41d98cd0d2da4810fe3", "committedDate": "2020-05-15T03:16:17Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}, "afterCommit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/388c902c240934f7398aa4a88506a6a897635f21", "committedDate": "2020-05-15T03:40:04Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTM1Nzg1", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-415135785", "createdAt": "2020-05-20T09:05:50Z", "commit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTowNTo1MFrOGYCO7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTowNTo1MFrOGYCO7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg1NTU5Nw==", "bodyText": "getMoldPrefix_", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r427855597", "createdAt": "2020-05-20T09:05:50Z", "author": {"login": "plijyfes"}, "path": "zul/src/archive/web/js/zul/wgt/Checkbox.ts", "diffHunk": "@@ -362,21 +360,27 @@ zul.wgt.Checkbox = zk.$extends(zul.LabelImageWidget, {\n \t\t\t}\r\n \t\t}\r\n \t},\r\n+\t_getMoldPrefix(): string {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTM2MjIy", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-415136222", "createdAt": "2020-05-20T09:06:23Z", "commit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTowNjoyM1rOGYCQNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTowNjoyM1rOGYCQNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg1NTkyNg==", "bodyText": "clearStateClassName_", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r427855926", "createdAt": "2020-05-20T09:06:23Z", "author": {"login": "plijyfes"}, "path": "zul/src/archive/web/js/zul/wgt/Checkbox.ts", "diffHunk": "@@ -362,21 +360,27 @@ zul.wgt.Checkbox = zk.$extends(zul.LabelImageWidget, {\n \t\t\t}\r\n \t\t}\r\n \t},\r\n+\t_getMoldPrefix(): string {\r\n+\t\tif (this._isDefaultMold())\r\n+\t\t\treturn '';\r\n+\t\telse\r\n+\t\t\treturn this.getMold() + '-';\r\n+\t},\r\n \t_getClassNameByState(): string {\r\n-\t\tlet mold = this.getMold();\r\n+\t\tlet moldPrefix = this._getMoldPrefix();\r\n \t\tif (this._indeterminate) {\r\n-\t\t\treturn this.$s(mold + '-indeterminate');\r\n+\t\t\treturn this.$s(moldPrefix + 'indeterminate');\r\n \t\t} else {\r\n-\t\t\treturn this.$s(mold + (this._checked ? '-on' : '-off'));\r\n+\t\t\treturn this.$s(moldPrefix + (this._checked ? 'on' : 'off'));\r\n \t\t}\r\n \t},\r\n \t_clearStateClassName() {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTM3ODA4", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-415137808", "createdAt": "2020-05-20T09:08:22Z", "commit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTowODoyM1rOGYCVBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTowODoyM1rOGYCVBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg1NzE1OA==", "bodyText": "test default on/off for both radio and checkbox", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r427857158", "createdAt": "2020-05-20T09:08:23Z", "author": {"login": "plijyfes"}, "path": "zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/* F91_ZK_4544Test.java\n+\n+\t\tPurpose:\n+\t\t\n+\t\tDescription:\n+\t\t\n+\t\tHistory:\n+\t\t\t\tThu May 14 10:23:07 CST 2020, Created by leon\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+package org.zkoss.zktest.zats.test2;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.zkoss.zktest.zats.WebDriverTestCase;\n+import org.zkoss.zktest.zats.ztl.JQuery;\n+\n+public class F91_ZK_4544Test extends WebDriverTestCase {\n+\t@Test\n+\tpublic void radioTest() {\n+\t\tconnect();\n+\t\t\n+\t\tJQuery radio = jq(\".z-radio\").eq(0);\n+\t\tJQuery radioDisabledButton = jq(\"@button\").eq(0);\n+\t\t\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-off\"));\n+\t\t\n+\t\tclick(jq(\".z-radio-content\").eq(0));\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-on\"));\n+\t\t\n+\t\tclick(jq(\".z-radio-content\").eq(1));\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(radio.hasClass(\"z-radio-on\"));\n+\t\tAssert.assertTrue(jq(\".z-radio\").eq(1).hasClass(\"z-radio-on\"));\n+\t\t\n+\t\tclick(radioDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-disabled\"));\n+\t\t\n+\t\tclick(radioDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(radio.hasClass(\"z-radio-disabled\"));\n+\t}\n+\t\n+\t@Test\n+\tpublic void checkboxTest() {\n+\t\tconnect();\n+\t\t\n+\t\tJQuery checkbox = jq(\".z-checkbox\").eq(0);\n+\t\tJQuery checkboxContent = jq(\".z-checkbox-content\").eq(0);\n+\t\tJQuery checkboxDisabledButton = jq(\"@button\").eq(1);\n+\t\t\n+\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-off\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cde95bd52ede90aa142827393a34dfcdd3948a67", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/cde95bd52ede90aa142827393a34dfcdd3948a67", "committedDate": "2020-05-20T10:11:28Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "388c902c240934f7398aa4a88506a6a897635f21", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/388c902c240934f7398aa4a88506a6a897635f21", "committedDate": "2020-05-15T03:40:04Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}, "afterCommit": {"oid": "cde95bd52ede90aa142827393a34dfcdd3948a67", "author": {"user": {"login": "plijyfes", "name": "LeonLee"}}, "url": "https://github.com/zkoss/zk/commit/cde95bd52ede90aa142827393a34dfcdd3948a67", "committedDate": "2020-05-20T10:11:28Z", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTk1MzM4", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-415195338", "createdAt": "2020-05-20T10:22:51Z", "commit": {"oid": "cde95bd52ede90aa142827393a34dfcdd3948a67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1OTkyMzY3", "url": "https://github.com/zkoss/zk/pull/1999#pullrequestreview-415992367", "createdAt": "2020-05-21T09:07:40Z", "commit": {"oid": "cde95bd52ede90aa142827393a34dfcdd3948a67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4977, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}