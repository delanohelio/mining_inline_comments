{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MjM4NzA3", "number": 609, "title": "Add legacy support for warnings", "bodyText": "Add legacy support for warnings\nAtm /warn does not display the title to 1.7 users. To resolve that, this PR sends a nicely formatted text warning to 1.7 clients.\nScreenshot\n\nSigned-off-by: applenick applenick@users.noreply.github.com", "createdAt": "2020-08-13T08:40:21Z", "url": "https://github.com/PGMDev/PGM/pull/609", "merged": true, "mergeCommit": {"oid": "22b7a44c96f9411260c77ed01aa07a8c8229d656"}, "closed": true, "closedAt": "2020-08-17T15:33:45Z", "author": {"login": "applenick"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-b8gpgFqTQ2NjU2MDc0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_0N6LAFqTQ2ODU3MTEyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NTYwNzQ3", "url": "https://github.com/PGMDev/PGM/pull/609#pullrequestreview-466560747", "createdAt": "2020-08-13T08:42:55Z", "commit": {"oid": "7c708aca172254c3212cbfccb7434a6e919f5c1e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDI4NzM4", "url": "https://github.com/PGMDev/PGM/pull/609#pullrequestreview-467028738", "createdAt": "2020-08-13T18:31:54Z", "commit": {"oid": "7c708aca172254c3212cbfccb7434a6e919f5c1e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODozMTo1NFrOHAYcbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODozMTo1NFrOHAYcbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE2MjU0Mg==", "bodyText": "We are using this if statement a lot. Do you mind a quick refactor? Add a MatchPlayer#isLegacy method.", "url": "https://github.com/PGMDev/PGM/pull/609#discussion_r470162542", "createdAt": "2020-08-13T18:31:54Z", "author": {"login": "Electroid"}, "path": "core/src/main/java/tc/oc/pgm/community/command/ModerationCommand.java", "diffHunk": "@@ -809,7 +810,25 @@ private void sendWarning(MatchPlayer target, String reason) {\n         TextComponent.builder().append(WARN_SYMBOL).append(titleWord).append(WARN_SYMBOL).build();\n     Component subtitle = formatPunishmentReason(reason).color(TextColor.GOLD);\n \n-    target.showTitle(title, subtitle, 5, 200, 10);\n+    // Legacy support - Displays a chat message instead of title\n+    if (ViaUtils.getProtocolVersion(target.getBukkit()) <= ViaUtils.VERSION_1_7) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c708aca172254c3212cbfccb7434a6e919f5c1e"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13b1c2e5a5cd5bcca831b84ec6631933a7a06b32", "author": {"user": {"login": "applenick", "name": "applenick"}}, "url": "https://github.com/PGMDev/PGM/commit/13b1c2e5a5cd5bcca831b84ec6631933a7a06b32", "committedDate": "2020-08-13T18:36:04Z", "message": "Add legacy support for warnings\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c24997043d56fedebc5bd034f47205ac7db9e64c", "author": {"user": {"login": "applenick", "name": "applenick"}}, "url": "https://github.com/PGMDev/PGM/commit/c24997043d56fedebc5bd034f47205ac7db9e64c", "committedDate": "2020-08-13T18:46:17Z", "message": "Add isLegacy() to MatchPlayer\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c708aca172254c3212cbfccb7434a6e919f5c1e", "author": {"user": {"login": "applenick", "name": "applenick"}}, "url": "https://github.com/PGMDev/PGM/commit/7c708aca172254c3212cbfccb7434a6e919f5c1e", "committedDate": "2020-08-13T08:38:03Z", "message": "Add legacy support for warnings\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>"}, "afterCommit": {"oid": "c24997043d56fedebc5bd034f47205ac7db9e64c", "author": {"user": {"login": "applenick", "name": "applenick"}}, "url": "https://github.com/PGMDev/PGM/commit/c24997043d56fedebc5bd034f47205ac7db9e64c", "committedDate": "2020-08-13T18:46:17Z", "message": "Add isLegacy() to MatchPlayer\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTcxMTI0", "url": "https://github.com/PGMDev/PGM/pull/609#pullrequestreview-468571124", "createdAt": "2020-08-17T15:33:34Z", "commit": {"oid": "c24997043d56fedebc5bd034f47205ac7db9e64c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 451, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}