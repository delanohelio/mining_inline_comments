{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5ODA2MTU0", "number": 284, "title": "Fix 'You joined Observers' message after event cancellation, resolves #282", "bodyText": "Did not intend to close the previous pull request. @Electroid is this a suitable fix, or should I change how the event is fired/handled anyway?\nSigned-off-by: Meeples10 8867705+Meeples10@users.noreply.github.com", "createdAt": "2020-01-31T23:01:56Z", "url": "https://github.com/PGMDev/PGM/pull/284", "merged": true, "mergeCommit": {"oid": "134672ae03430b30984f4eeeb633d676d45c55e2"}, "closed": true, "closedAt": "2020-02-02T15:58:05Z", "author": {"login": "Meeples10"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_3TIbAH2gAyMzY5ODA2MTU0OjUwNWZmMmMyZDFhMTFlNjA3YmViZGQ3OTkxMDE3OTI0ZWFiMTUzNDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAafTGAFqTM1MTk1MDU1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "505ff2c2d1a11e607bebdd7991017924eab15340", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/505ff2c2d1a11e607bebdd7991017924eab15340", "committedDate": "2020-01-31T22:57:50Z", "message": "Fix 'You joined Observers' message after event cancellation\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODMxMTk5", "url": "https://github.com/PGMDev/PGM/pull/284#pullrequestreview-351831199", "createdAt": "2020-01-31T23:20:49Z", "commit": {"oid": "505ff2c2d1a11e607bebdd7991017924eab15340"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMzoyMDo1MFrOFkagNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMzoyMDo1MFrOFkagNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzcyNzI4Nw==", "bodyText": "Since this is TeamMatchModule, we will need to check if the Party is a Team and not a Tribute.\nevent.getOldParty() instanceof Team && event.getNewParty() instanceof Team\nThe reason this works is because null instanceof <anything> is always evaluated to be false.", "url": "https://github.com/PGMDev/PGM/pull/284#discussion_r373727287", "createdAt": "2020-01-31T23:20:50Z", "author": {"login": "Electroid"}, "path": "src/main/java/tc/oc/pgm/teams/TeamMatchModule.java", "diffHunk": "@@ -634,7 +634,7 @@ public boolean kickPlayerOffTeam(Team kickFrom, boolean forBalance) {\n \n   @EventHandler(priority = EventPriority.MONITOR)\n   public void onPartyChange(PlayerPartyChangeEvent event) {\n-    if (event.getNewParty() instanceof Team) {\n+    if (event.getOldParty() != null && event.getNewParty() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "505ff2c2d1a11e607bebdd7991017924eab15340"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e794935ab9807e1794671b9aac4265c477729c9e", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/e794935ab9807e1794671b9aac4265c477729c9e", "committedDate": "2020-01-31T23:36:17Z", "message": "Check if new party is an instance of Team or Observers\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODg4MTgz", "url": "https://github.com/PGMDev/PGM/pull/284#pullrequestreview-351888183", "createdAt": "2020-02-01T15:00:30Z", "commit": {"oid": "e794935ab9807e1794671b9aac4265c477729c9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODg4NTg0", "url": "https://github.com/PGMDev/PGM/pull/284#pullrequestreview-351888584", "createdAt": "2020-02-01T15:10:44Z", "commit": {"oid": "e794935ab9807e1794671b9aac4265c477729c9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTUwNTU2", "url": "https://github.com/PGMDev/PGM/pull/284#pullrequestreview-351950556", "createdAt": "2020-02-02T15:57:48Z", "commit": {"oid": "e794935ab9807e1794671b9aac4265c477729c9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 562, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}