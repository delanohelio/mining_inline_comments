{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNzUzMzkz", "number": 301, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMDo1NDoyMlrODePJVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwMjo0ODozMFrODeP9eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMDMyMDIxOnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMDo1NDoyMlrOFnSAQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMTo0Njo1NVrOFnSLTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczMzc2MQ==", "bodyText": "Can we put this in a util? Also, BlockTransformEvent is a very, very hot part of the code: Can we optimize this with enums and switches?\nI would even check have two checks, so this will be short-circuited.\nif (event.getNewState().getY() < this.buildHeight - 1) return;\nif (event.getNewState().getY()\n    + getExtraHeight(event.getNewState().getMaterial()) < this.buildHeight) return;\n// setCancelled", "url": "https://github.com/PGMDev/PGM/pull/301#discussion_r376733761", "createdAt": "2020-02-08T20:54:22Z", "author": {"login": "Electroid"}, "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "diffHunk": "@@ -33,4 +34,10 @@ public void checkBuildHeight(BlockTransformEvent event) {\n       }\n     }\n   }\n+\n+  private int getExtraHeight(Material material) {\n+    if (material.name().contains(\"DOOR\") && !material.name().contains(\"TRAP\")) return 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e8f7825a2b569c0a3930e40d3ec0abf7c60e0ee"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczMzgwNA==", "bodyText": "Also, this isn't just an issue with MaxBuildHeightMatchModule, right? The bug will still happen for RegionMatchModule, can we fix it for both?", "url": "https://github.com/PGMDev/PGM/pull/301#discussion_r376733804", "createdAt": "2020-02-08T20:55:31Z", "author": {"login": "Electroid"}, "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "diffHunk": "@@ -33,4 +34,10 @@ public void checkBuildHeight(BlockTransformEvent event) {\n       }\n     }\n   }\n+\n+  private int getExtraHeight(Material material) {\n+    if (material.name().contains(\"DOOR\") && !material.name().contains(\"TRAP\")) return 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczMzc2MQ=="}, "originalCommit": {"oid": "2e8f7825a2b569c0a3930e40d3ec0abf7c60e0ee"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczNjU5MA==", "bodyText": "Code changed in latest commit, re-review", "url": "https://github.com/PGMDev/PGM/pull/301#discussion_r376736590", "createdAt": "2020-02-08T21:46:55Z", "author": {"login": "AustinLMayes"}, "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "diffHunk": "@@ -33,4 +34,10 @@ public void checkBuildHeight(BlockTransformEvent event) {\n       }\n     }\n   }\n+\n+  private int getExtraHeight(Material material) {\n+    if (material.name().contains(\"DOOR\") && !material.name().contains(\"TRAP\")) return 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczMzc2MQ=="}, "originalCommit": {"oid": "2e8f7825a2b569c0a3930e40d3ec0abf7c60e0ee"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMDQ1MzY5OnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwMjo0ODozMFrOFnTAHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwNDowNDowNlrOFnTL1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1MDExMA==", "bodyText": "getMaterialHeight maybe? Should return 1 or 2.", "url": "https://github.com/PGMDev/PGM/pull/301#discussion_r376750110", "createdAt": "2020-02-09T02:48:30Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "diffHunk": "@@ -33,4 +34,23 @@ public void checkBuildHeight(BlockTransformEvent event) {\n       }\n     }\n   }\n+\n+  private int getExtraHeight(Material material) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7765ceea8b55e831a3a5cfcb94e1c4c4e145f7bf"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1MzExMQ==", "bodyText": "This is old code, review the latest commit only", "url": "https://github.com/PGMDev/PGM/pull/301#discussion_r376753111", "createdAt": "2020-02-09T04:04:06Z", "author": {"login": "AustinLMayes"}, "path": "src/main/java/tc/oc/pgm/modules/MaxBuildHeightMatchModule.java", "diffHunk": "@@ -33,4 +34,23 @@ public void checkBuildHeight(BlockTransformEvent event) {\n       }\n     }\n   }\n+\n+  private int getExtraHeight(Material material) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1MDExMA=="}, "originalCommit": {"oid": "7765ceea8b55e831a3a5cfcb94e1c4c4e145f7bf"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1128, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}