{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3ODM1MzE3", "number": 611, "title": "Implement overtime", "bodyText": "Addresses #473 (comment) , and fixes #547 & fixes #529\nMaps can define a overtime as well as a max-overtime on their timelimit, it can also be defined via the /tl command, once the time limit runs out, if no team is winning (there's a tie) overtime starts.\nAs soon as one team breaks the tie time starts ticking down, if a tie or a comeback (other team starts winning) the time refreshes back to start ticking down from full overtime.\nOnce max overtime has passed, time will no longer keep refreshing, this avoids infinite matches.\nHas been tested and works correctly, there is one known bug, if you're approaching the max overtime limit, time may not refresh if it had started ticking down already (even if it should refresh, but to less than the overtime value).\nEg: max-overtime 15m, overtime 1m, at 13:45 overtime starts ticking down, at 14:15, overtime is at 30 seconds left, and a tie occurs again or one team makes a comeback, overtime will not refresh, but it should have refreshed to 0:45.\nSome refactoring of countdowns was required or otherwise this \"continuously-refreshing-countdown\" would cause the bossbar/countdown (including wither packets) to keep on being re-created", "createdAt": "2020-08-14T08:00:05Z", "url": "https://github.com/PGMDev/PGM/pull/611", "merged": true, "mergeCommit": {"oid": "123352c5936d2e08d663742f115ffb96da0504f2"}, "closed": true, "closedAt": "2020-08-19T15:30:15Z", "author": {"login": "Pablete1234"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-vy-OAH2gAyNDY3ODM1MzE3OjgyMjdlNGRhOWI4NTU5ZThhNzg0MmY5OTdhMmQ3N2FiNWJiYzAzMWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAdXQWgFqTQ3MDU3NTkwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8227e4da9b8559e8a7842f997a2d77ab5bbc031b", "author": {"user": {"login": "Pablete1234", "name": "Pablo Herrera"}}, "url": "https://github.com/PGMDev/PGM/commit/8227e4da9b8559e8a7842f997a2d77ab5bbc031b", "committedDate": "2020-08-14T07:50:36Z", "message": "Implement overtime\n\nSigned-off-by: Pablete1234 <pabloherrerapalacio@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTY3NDU5", "url": "https://github.com/PGMDev/PGM/pull/611#pullrequestreview-468567459", "createdAt": "2020-08-17T15:29:10Z", "commit": {"oid": "8227e4da9b8559e8a7842f997a2d77ab5bbc031b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNToyOToxMVrOHBtp3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNToyOToxMVrOHBtp3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU1ODYyMA==", "bodyText": "Overtime: {0}", "url": "https://github.com/PGMDev/PGM/pull/611#discussion_r471558620", "createdAt": "2020-08-17T15:29:11Z", "author": {"login": "Electroid"}, "path": "util/src/main/i18n/templates/misc.properties", "diffHunk": "@@ -54,6 +54,8 @@ misc.timeAgo = {0} ago\n # {0} = duration (e.g. \"1:00\" for 1 minute left, \"15:25\" for 15 minutes and 25 seconds left)\n misc.timeRemaining = Time Remaining: {0}\n \n+misc.overtime = Overtime {0}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8227e4da9b8559e8a7842f997a2d77ab5bbc031b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTY5MjY5", "url": "https://github.com/PGMDev/PGM/pull/611#pullrequestreview-468569269", "createdAt": "2020-08-17T15:31:21Z", "commit": {"oid": "8227e4da9b8559e8a7842f997a2d77ab5bbc031b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNTozMToyMVrOHBtvtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNTozMjowMVrOHBtxdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDExNg==", "bodyText": "Overtime! The timer will start after the tie is broken", "url": "https://github.com/PGMDev/PGM/pull/611#discussion_r471560116", "createdAt": "2020-08-17T15:31:21Z", "author": {"login": "Electroid"}, "path": "util/src/main/i18n/templates/match.properties", "diffHunk": "@@ -111,6 +111,9 @@ broadcast.matchStart = The match has started!\n \n broadcast.startCancel = Match start cancelled\n \n+broadcast.overtime = The match was tied, overtime has started, once the tie is broken time will start ticking", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8227e4da9b8559e8a7842f997a2d77ab5bbc031b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDU2Ng==", "bodyText": "If there is no winner after {0}, the match will be tied.", "url": "https://github.com/PGMDev/PGM/pull/611#discussion_r471560566", "createdAt": "2020-08-17T15:32:01Z", "author": {"login": "Electroid"}, "path": "util/src/main/i18n/templates/match.properties", "diffHunk": "@@ -111,6 +111,9 @@ broadcast.matchStart = The match has started!\n \n broadcast.startCancel = Match start cancelled\n \n+broadcast.overtime = The match was tied, overtime has started, once the tie is broken time will start ticking\n+broadcast.overtime.limit = If the match is still tied after {0} it will result in a tie.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8227e4da9b8559e8a7842f997a2d77ab5bbc031b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de204274c30f1c025d2027d83890bd1b0b19798b", "author": {"user": {"login": "Pablete1234", "name": "Pablo Herrera"}}, "url": "https://github.com/PGMDev/PGM/commit/de204274c30f1c025d2027d83890bd1b0b19798b", "committedDate": "2020-08-17T18:05:27Z", "message": "Modify overtime info messages\n\nSigned-off-by: Pablete1234 <pabloherrerapalacio@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNTc1OTAy", "url": "https://github.com/PGMDev/PGM/pull/611#pullrequestreview-470575902", "createdAt": "2020-08-19T15:29:53Z", "commit": {"oid": "de204274c30f1c025d2027d83890bd1b0b19798b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 453, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}