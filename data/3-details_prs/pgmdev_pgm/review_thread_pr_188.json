{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjM0Njc4", "number": 188, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowMjoyOFrODV0SmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNDo0OTo0OVrODV03vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjAzNDE2OnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/api/setting/SettingKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowMjoyOFrOFaPROw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjoyMjozOFrOFaPUEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzQ2Nw==", "bodyText": "Similar with death, how about join and jms", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363057467", "createdAt": "2020-01-04T22:02:28Z", "author": {"login": "Electroid"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingKey.java", "diffHunk": "@@ -17,7 +17,13 @@\n   CHAT(\"chat\", CHAT_TEAM, CHAT_GLOBAL, CHAT_ADMIN), // Changes the default chat channel\n   DEATH(\n       Arrays.asList(\"death\", \"dms\"), DEATH_ALL, DEATH_OWN), // Changes which death messages are seen\n-  PICKER(\"picker\", PICKER_AUTO, PICKER_ON, PICKER_OFF); // Changes when the picker is displayed\n+  PICKER(\"picker\", PICKER_AUTO, PICKER_ON, PICKER_OFF), // Changes when the picker is displayed\n+  JOIN_MESSAGES(\n+      Arrays.asList(\"join-messages\", \"jms\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da5a8a6653937393b7799feda9678bdecf141d7c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1ODE5NA==", "bodyText": "I took jms from OCN/ProjectAres repo, in case people were used to it.", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363058194", "createdAt": "2020-01-04T22:22:38Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingKey.java", "diffHunk": "@@ -17,7 +17,13 @@\n   CHAT(\"chat\", CHAT_TEAM, CHAT_GLOBAL, CHAT_ADMIN), // Changes the default chat channel\n   DEATH(\n       Arrays.asList(\"death\", \"dms\"), DEATH_ALL, DEATH_OWN), // Changes which death messages are seen\n-  PICKER(\"picker\", PICKER_AUTO, PICKER_ON, PICKER_OFF); // Changes when the picker is displayed\n+  PICKER(\"picker\", PICKER_AUTO, PICKER_ON, PICKER_OFF), // Changes when the picker is displayed\n+  JOIN_MESSAGES(\n+      Arrays.asList(\"join-messages\", \"jms\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzQ2Nw=="}, "originalCommit": {"oid": "da5a8a6653937393b7799feda9678bdecf141d7c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjEyOTExOnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/api/setting/SettingKey.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNDo0OTowNVrOFaP_1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNDo0OTowNVrOFaP_1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2OTM5OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              JOIN(Arrays.asList(\"join\", \"jms\"), JOIN_ON, JOIN_OFF), // Changes which join messages are seen\n          \n          \n            \n              JOIN(Arrays.asList(\"join\", \"jms\"), JOIN_ON, JOIN_OFF), // Changes if join messages are seen", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363069399", "createdAt": "2020-01-05T04:49:05Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingKey.java", "diffHunk": "@@ -17,7 +17,9 @@\n   CHAT(\"chat\", CHAT_TEAM, CHAT_GLOBAL, CHAT_ADMIN), // Changes the default chat channel\n   DEATH(\n       Arrays.asList(\"death\", \"dms\"), DEATH_ALL, DEATH_OWN), // Changes which death messages are seen\n-  PICKER(\"picker\", PICKER_AUTO, PICKER_ON, PICKER_OFF); // Changes when the picker is displayed\n+  PICKER(\"picker\", PICKER_AUTO, PICKER_ON, PICKER_OFF), // Changes when the picker is displayed\n+  JOIN(Arrays.asList(\"join\", \"jms\"), JOIN_ON, JOIN_OFF), // Changes which join messages are seen", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d46b12221be42ec32f754aba148279422183aea"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjEyOTIxOnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/api/setting/SettingValue.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNDo0OToyNlrOFaP_4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwODozNzowMFrOFaQgIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2OTQwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              JOIN_OFF(\"join\", \"none\"), // Never send join messages\n          \n          \n            \n              JOIN_OFF(\"join\", \"none\") // Never send join messages", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363069409", "createdAt": "2020-01-05T04:49:26Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingValue.java", "diffHunk": "@@ -17,11 +17,17 @@\n   CHAT_TEAM(\"chat\", \"team\"), // Only send to members on the player's team\n   CHAT_GLOBAL(\"chat\", \"global\"), // Send to all players in the same match\n   CHAT_ADMIN(\"chat\", \"admin\"), // Send to all server operators\n+\n   DEATH_OWN(\"death\", \"own\"), // Only send death messages involving self\n   DEATH_ALL(\"death\", \"all\"), // Send all death messages, highlight your own\n+\n   PICKER_AUTO(\"picker\", \"auto\"), // Display after cycle, or with permissions.\n   PICKER_ON(\"picker\", \"on\"), // Display the picker GUI always\n-  PICKER_OFF(\"picker\", \"off\"); // Never display the picker GUI\n+  PICKER_OFF(\"picker\", \"off\"), // Never display the picker GUI\n+\n+  JOIN_ON(\"join\", \"all\"), // Send all join messages\n+  JOIN_OFF(\"join\", \"none\"), // Never send join messages", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d46b12221be42ec32f754aba148279422183aea"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA3Njg0NA==", "bodyText": "Why this change?", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363076844", "createdAt": "2020-01-05T08:20:35Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingValue.java", "diffHunk": "@@ -17,11 +17,17 @@\n   CHAT_TEAM(\"chat\", \"team\"), // Only send to members on the player's team\n   CHAT_GLOBAL(\"chat\", \"global\"), // Send to all players in the same match\n   CHAT_ADMIN(\"chat\", \"admin\"), // Send to all server operators\n+\n   DEATH_OWN(\"death\", \"own\"), // Only send death messages involving self\n   DEATH_ALL(\"death\", \"all\"), // Send all death messages, highlight your own\n+\n   PICKER_AUTO(\"picker\", \"auto\"), // Display after cycle, or with permissions.\n   PICKER_ON(\"picker\", \"on\"), // Display the picker GUI always\n-  PICKER_OFF(\"picker\", \"off\"); // Never display the picker GUI\n+  PICKER_OFF(\"picker\", \"off\"), // Never display the picker GUI\n+\n+  JOIN_ON(\"join\", \"all\"), // Send all join messages\n+  JOIN_OFF(\"join\", \"none\"), // Never send join messages", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2OTQwOQ=="}, "originalCommit": {"oid": "9d46b12221be42ec32f754aba148279422183aea"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA3NzU2Ng==", "bodyText": "Doesn't make sense to leave a trailing comma at the end", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363077566", "createdAt": "2020-01-05T08:35:05Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingValue.java", "diffHunk": "@@ -17,11 +17,17 @@\n   CHAT_TEAM(\"chat\", \"team\"), // Only send to members on the player's team\n   CHAT_GLOBAL(\"chat\", \"global\"), // Send to all players in the same match\n   CHAT_ADMIN(\"chat\", \"admin\"), // Send to all server operators\n+\n   DEATH_OWN(\"death\", \"own\"), // Only send death messages involving self\n   DEATH_ALL(\"death\", \"all\"), // Send all death messages, highlight your own\n+\n   PICKER_AUTO(\"picker\", \"auto\"), // Display after cycle, or with permissions.\n   PICKER_ON(\"picker\", \"on\"), // Display the picker GUI always\n-  PICKER_OFF(\"picker\", \"off\"); // Never display the picker GUI\n+  PICKER_OFF(\"picker\", \"off\"), // Never display the picker GUI\n+\n+  JOIN_ON(\"join\", \"all\"), // Send all join messages\n+  JOIN_OFF(\"join\", \"none\"), // Never send join messages", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2OTQwOQ=="}, "originalCommit": {"oid": "9d46b12221be42ec32f754aba148279422183aea"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA3NzY2Ng==", "bodyText": "If somebody adds more settings later, less lines are going to be affected. Makes resolving conflicts easier.", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363077666", "createdAt": "2020-01-05T08:37:00Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/api/setting/SettingValue.java", "diffHunk": "@@ -17,11 +17,17 @@\n   CHAT_TEAM(\"chat\", \"team\"), // Only send to members on the player's team\n   CHAT_GLOBAL(\"chat\", \"global\"), // Send to all players in the same match\n   CHAT_ADMIN(\"chat\", \"admin\"), // Send to all server operators\n+\n   DEATH_OWN(\"death\", \"own\"), // Only send death messages involving self\n   DEATH_ALL(\"death\", \"all\"), // Send all death messages, highlight your own\n+\n   PICKER_AUTO(\"picker\", \"auto\"), // Display after cycle, or with permissions.\n   PICKER_ON(\"picker\", \"on\"), // Display the picker GUI always\n-  PICKER_OFF(\"picker\", \"off\"); // Never display the picker GUI\n+  PICKER_OFF(\"picker\", \"off\"), // Never display the picker GUI\n+\n+  JOIN_ON(\"join\", \"all\"), // Send all join messages\n+  JOIN_OFF(\"join\", \"none\"), // Never send join messages", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2OTQwOQ=="}, "originalCommit": {"oid": "9d46b12221be42ec32f754aba148279422183aea"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjEyOTI1OnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/listeners/PGMListener.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNDo0OTo0OVrOFaP_5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNDo0OTo0OVrOFaP_5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2OTQxMw==", "bodyText": "Unused", "url": "https://github.com/PGMDev/PGM/pull/188#discussion_r363069413", "createdAt": "2020-01-05T04:49:49Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/listeners/PGMListener.java", "diffHunk": "@@ -33,13 +38,19 @@\n import tc.oc.pgm.api.match.event.MatchStartEvent;\n import tc.oc.pgm.api.party.Competitor;\n import tc.oc.pgm.api.player.MatchPlayer;\n+import tc.oc.pgm.api.setting.SettingKey;\n+import tc.oc.pgm.api.setting.SettingValue;\n import tc.oc.pgm.events.PlayerJoinMatchEvent;\n import tc.oc.pgm.events.PlayerPartyChangeEvent;\n import tc.oc.pgm.gamerules.GameRule;\n import tc.oc.pgm.gamerules.GameRulesModule;\n import tc.oc.pgm.modules.TimeLockModule;\n \n public class PGMListener implements Listener {\n+\n+  /** If player count exceeds this number, viewers with \"AUTO\" setting won't receive any message. */\n+  private static final int JOIN_MESSAGE_ONLINE_THRESHOLD = 30;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d46b12221be42ec32f754aba148279422183aea"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1096, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}