{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzIzMjE2", "number": 176, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNjo1NTo0M1rODVfo7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODo0NlrODV0TYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzODY1MDcwOnYy", "diffSide": "RIGHT", "path": "src/main/resources/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNjo1NTo0M1rOFZwHCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNjo1NTo0M1rOFZwHCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU0Njk1Mg==", "bodyText": "Missing new line", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362546952", "createdAt": "2020-01-02T16:55:43Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,11 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  enabled: false\n+  # Text may be formatted with '&'\n+  text: \"\"\n+  # If the message should be positioned at the top or bottom of the sidebar\n+  top: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ae8bf5561e2f5ef36e7d9dab66e0ff5e1e516b0"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzODcwOTY1OnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/Config.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNzoyMjo0N1rOFZwq8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNzoyMjo0N1rOFZwq8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU1NjE0NQ==", "bodyText": "Would maybe be easier to have message-top and message-bottom, with the ability to leave either of them blank?\nThat way you convert 3 settings into 2 (remove enabled & atTop, keep message-top and message-bottom), it gives more flexibility for people trying to configure it, and it's (maybe?) easier to code the condition.", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362556145", "createdAt": "2020-01-02T17:22:47Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/Config.java", "diffHunk": "@@ -384,4 +384,19 @@ public int getDestroyMatchDelay() {\n       return destroyMatchDelay;\n     }\n   }\n+\n+  public static class SidebarMessage {\n+    public static boolean enabled() {\n+      return getConfiguration().getBoolean(\"sidebar-message.enabled\", false);\n+    }\n+\n+    public static String format() {\n+      return ChatColor.translateAlternateColorCodes(\n+          '&', getConfiguration().getString(\"sidebar-message.text\"));\n+    }\n+\n+    public static boolean atTop() {\n+      return getConfiguration().getBoolean(\"sidebar-message.top\", false);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzODcxMTM4OnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNzoyMzozMVrOFZwr8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoyMzo1OFrOFZ0YBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU1NjQwMw==", "bodyText": "Can we have a player setting to disable scoreboard messages?", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362556403", "createdAt": "2020-01-02T17:23:31Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "diffHunk": "@@ -463,6 +463,17 @@ public int compare(Goal a, Goal b) {\n           }\n         }\n       }\n+      if (Config.SidebarMessage.enabled()) {\n+        if (Config.SidebarMessage.atTop()) {\n+          rows.add(0, Config.SidebarMessage.format());\n+        } else {\n+          if (rows.size() >= MAX_ROWS) {\n+            rows.set(MAX_ROWS - 1, Config.SidebarMessage.format());\n+          } else {\n+            rows.add(Config.SidebarMessage.format());\n+          }\n+        }\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDUwNQ==", "bodyText": "This wouldn't be possible with the way sidebars are currently rendered. The sidebar doesn't know which player is viewing it, only the player's team.", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362614505", "createdAt": "2020-01-02T20:16:36Z", "author": {"login": "Meeples10"}, "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "diffHunk": "@@ -463,6 +463,17 @@ public int compare(Goal a, Goal b) {\n           }\n         }\n       }\n+      if (Config.SidebarMessage.enabled()) {\n+        if (Config.SidebarMessage.atTop()) {\n+          rows.add(0, Config.SidebarMessage.format());\n+        } else {\n+          if (rows.size() >= MAX_ROWS) {\n+            rows.set(MAX_ROWS - 1, Config.SidebarMessage.format());\n+          } else {\n+            rows.add(Config.SidebarMessage.format());\n+          }\n+        }\n+      }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU1NjQwMw=="}, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNjgzNg==", "bodyText": "Don't add the setting then lol ;p\n98246c3#diff-f08f8cdb20626aaae1393d6a6ea2a79fR13-R16", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362616836", "createdAt": "2020-01-02T20:23:58Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "diffHunk": "@@ -463,6 +463,17 @@ public int compare(Goal a, Goal b) {\n           }\n         }\n       }\n+      if (Config.SidebarMessage.enabled()) {\n+        if (Config.SidebarMessage.atTop()) {\n+          rows.add(0, Config.SidebarMessage.format());\n+        } else {\n+          if (rows.size() >= MAX_ROWS) {\n+            rows.set(MAX_ROWS - 1, Config.SidebarMessage.format());\n+          } else {\n+            rows.add(Config.SidebarMessage.format());\n+          }\n+        }\n+      }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU1NjQwMw=="}, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzODg2MjEyOnYy", "diffSide": "RIGHT", "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODozNTo1OVrOFZyHjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODozNTo1OVrOFZyHjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU3OTg1Mg==", "bodyText": "I think there should a setting overwrite-existing default to false. If they scoreboard is full already, we can lose important information about the objectives/match.", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362579852", "createdAt": "2020-01-02T18:35:59Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "diffHunk": "@@ -463,6 +463,17 @@ public int compare(Goal a, Goal b) {\n           }\n         }\n       }\n+      if (Config.SidebarMessage.enabled()) {\n+        if (Config.SidebarMessage.atTop()) {\n+          rows.add(0, Config.SidebarMessage.format());\n+        } else {\n+          if (rows.size() >= MAX_ROWS) {\n+            rows.set(MAX_ROWS - 1, Config.SidebarMessage.format());\n+          } else {\n+            rows.add(Config.SidebarMessage.format());\n+          }\n+        }\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjAzNTk2OnYy", "diffSide": "RIGHT", "path": "src/main/resources/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODoxOVrOFaPSJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODoxOVrOFaPSJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzcwMA==", "bodyText": "sidebar", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057700", "createdAt": "2020-01-04T22:08:19Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjAzNTk4OnYy", "diffSide": "RIGHT", "path": "src/main/resources/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODozMFrOFaPSKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODozMFrOFaPSKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzcwNQ==", "bodyText": "top", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057705", "createdAt": "2020-01-04T22:08:30Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  # Text may be formatted with '&'\n+  # Leave blank to disable\n+  message-top: \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjAzNjA4OnYy", "diffSide": "RIGHT", "path": "src/main/resources/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODozOVrOFaPSNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODozOVrOFaPSNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzcxNg==", "bodyText": "bottom", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057716", "createdAt": "2020-01-04T22:08:39Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  # Text may be formatted with '&'\n+  # Leave blank to disable\n+  message-top: \"\"\n+  message-bottom: \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MjAzNjE4OnYy", "diffSide": "RIGHT", "path": "src/main/resources/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODo0NlrOFaPSQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODo0NlrOFaPSQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzczMA==", "bodyText": "overwrite", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057730", "createdAt": "2020-01-04T22:08:46Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  # Text may be formatted with '&'\n+  # Leave blank to disable\n+  message-top: \"\"\n+  message-bottom: \"\"\n+  # If the sidebar message should overwrite lines in the sidebar when it is full\n+  overwrite-existing: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1144, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}