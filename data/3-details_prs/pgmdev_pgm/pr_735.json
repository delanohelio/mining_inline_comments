{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3Mjk0OTU1", "number": 735, "title": "Make length of death animation configurable", "bodyText": "This PR makes a config option for how long the death animation should be shown before the player is vanished. The default value in PGM is 15 ticks. Here is a video showing 7 ticks and 3 ticks respectively: https://youtu.be/0-oW-7wEpQA\nFor context, this helps an issue where a dead player's animation blocks sword hits.\nSigned-off-by: mrcookie", "createdAt": "2020-12-11T19:15:12Z", "url": "https://github.com/PGMDev/PGM/pull/735", "merged": true, "mergeCommit": {"oid": "4e9bb53101a455dfe16b366fa20e7a2351fdcaf3"}, "closed": true, "closedAt": "2020-12-11T22:50:25Z", "author": {"login": "mrcookieunderscore13"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlMxE_AH2gAyNTM3Mjk0OTU1OmU1N2NhYzExMzMxZGM2N2VhYzVlZjAzMTE2ZDY4YjUxNzZjMDhjOWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlQJrSgFqTU1MDYzMjI5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e", "author": {"user": {"login": "mrcookieunderscore13", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/e57cac11331dc67eac5ef03116d68b5176c08c9e", "committedDate": "2020-12-11T19:04:54Z", "message": "Make length of death animation configurable\n\nSigned-off-by: mrcookie <athertonmook@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNTEyMzU3", "url": "https://github.com/PGMDev/PGM/pull/735#pullrequestreview-550512357", "createdAt": "2020-12-11T19:20:43Z", "commit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxOToyMDo0M1rOIEHh4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxOToyMTowMFrOIEHi-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE4ODU3Ng==", "bodyText": "gameplay.death-ticks", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541188576", "createdAt": "2020-12-11T19:20:43Z", "author": {"login": "Electroid"}, "path": "core/src/main/java/tc/oc/pgm/PGMConfig.java", "diffHunk": "@@ -164,6 +165,8 @@\n     this.verboseStats = parseBoolean(config.getString(\"ui.verbose-stats\", \"false\"));\n     this.griefScore =\n         parseInteger(config.getString(\"gameplay.grief-score\", \"-10\"), Range.atMost(0));\n+    this.deathAnimationLength =\n+        parseInteger(config.getString(\"gameplay.death-animation-length\", \"15\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE4ODg1OQ==", "bodyText": "getDeathTicks", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541188859", "createdAt": "2020-12-11T19:21:00Z", "author": {"login": "Electroid"}, "path": "core/src/main/java/tc/oc/pgm/api/Config.java", "diffHunk": "@@ -253,6 +253,13 @@\n    */\n   int getGriefScore();\n \n+  /**\n+   * Gets the length in ticks for how long the death animation is shown\n+   *\n+   * @return length of death animation\n+   */\n+  int getDeathAnimationLength();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb4c610ca45cdb411414f6951abaaf9a7d1ca516", "author": {"user": {"login": "mrcookieunderscore13", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/eb4c610ca45cdb411414f6951abaaf9a7d1ca516", "committedDate": "2020-12-11T19:38:27Z", "message": "small changes\n\nSigned-off-by: mrcookie <athertonmook@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNTMyMjEx", "url": "https://github.com/PGMDev/PGM/pull/735#pullrequestreview-550532211", "createdAt": "2020-12-11T19:51:46Z", "commit": {"oid": "eb4c610ca45cdb411414f6951abaaf9a7d1ca516"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxOTo1MTo0NlrOIEJWrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxOTo1Mjo1M1rOIEJbFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIxODQ3OQ==", "bodyText": "death-ticks, missing an s", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541218479", "createdAt": "2020-12-11T19:51:46Z", "author": {"login": "Electroid"}, "path": "core/src/main/java/tc/oc/pgm/PGMConfig.java", "diffHunk": "@@ -164,6 +165,8 @@\n     this.verboseStats = parseBoolean(config.getString(\"ui.verbose-stats\", \"false\"));\n     this.griefScore =\n         parseInteger(config.getString(\"gameplay.grief-score\", \"-10\"), Range.atMost(0));\n+    this.deathTicks =\n+        parseInteger(config.getString(\"gameplay.death-tick\", \"15\"), Range.atLeast(0));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb4c610ca45cdb411414f6951abaaf9a7d1ca516"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIxOTYwNg==", "bodyText": "death-ticks: 15 # Number of ticks the death animation should last", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541219606", "createdAt": "2020-12-11T19:52:53Z", "author": {"login": "Electroid"}, "path": "core/src/main/resources/config.yml", "diffHunk": "@@ -65,6 +65,7 @@ join:\n gameplay:\n   refill-wool: true # Should wool in wool rooms be automatically refilled?\n   grief-score: -10 # Score under which players should be kept out of the match\n+  death-tick: 15 # how long should the death animation be shown for?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb4c610ca45cdb411414f6951abaaf9a7d1ca516"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNTI0OTI0", "url": "https://github.com/PGMDev/PGM/pull/735#pullrequestreview-550524924", "createdAt": "2020-12-11T19:40:00Z", "commit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxOTo0MDowMFrOIEIqTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxOTo1NDowMFrOIEJfXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIwNzExNg==", "bodyText": "see comment below", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541207116", "createdAt": "2020-12-11T19:40:00Z", "author": {"login": "Pablete1234"}, "path": "core/src/main/java/tc/oc/pgm/spawns/states/Dead.java", "diffHunk": "@@ -32,6 +33,7 @@ public Dead(SpawnMatchModule smm, MatchPlayer player) {\n \n   public Dead(SpawnMatchModule smm, MatchPlayer player, long deathTick) {\n     super(smm, player);\n+    CORPSE_ROT_TICKS = PGM.get().getConfiguration().getDeathAnimationLength();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyMDcwMQ==", "bodyText": "This must be between 0 and under the minimum respawn time which currently in pgm is 20 ticks. If you set it to a higher number and the map has a low respawn time you'd start seeing some bad behaviour where a player may respawn before their death animation has ended.", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541220701", "createdAt": "2020-12-11T19:54:00Z", "author": {"login": "Pablete1234"}, "path": "core/src/main/java/tc/oc/pgm/PGMConfig.java", "diffHunk": "@@ -164,6 +165,8 @@\n     this.verboseStats = parseBoolean(config.getString(\"ui.verbose-stats\", \"false\"));\n     this.griefScore =\n         parseInteger(config.getString(\"gameplay.grief-score\", \"-10\"), Range.atMost(0));\n+    this.deathAnimationLength =\n+        parseInteger(config.getString(\"gameplay.death-animation-length\", \"15\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE4ODU3Ng=="}, "originalCommit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNTM5MDM1", "url": "https://github.com/PGMDev/PGM/pull/735#pullrequestreview-550539035", "createdAt": "2020-12-11T20:02:47Z", "commit": {"oid": "eb4c610ca45cdb411414f6951abaaf9a7d1ca516"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMjo0N1rOIEJ8-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMzowNFrOIEJ-Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyODI4MQ==", "bodyText": "This must be between 0 and under the minimum respawn time which currently in pgm is 20 ticks. If you set it to a higher number and the map has a low respawn time you'd start seeing some bad behaviour where a player may respawn before their death animation has ended.", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541228281", "createdAt": "2020-12-11T20:02:47Z", "author": {"login": "Pablete1234"}, "path": "core/src/main/java/tc/oc/pgm/PGMConfig.java", "diffHunk": "@@ -164,6 +165,8 @@\n     this.verboseStats = parseBoolean(config.getString(\"ui.verbose-stats\", \"false\"));\n     this.griefScore =\n         parseInteger(config.getString(\"gameplay.grief-score\", \"-10\"), Range.atMost(0));\n+    this.deathTicks =\n+        parseInteger(config.getString(\"gameplay.death-tick\", \"15\"), Range.atLeast(0));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIxODQ3OQ=="}, "originalCommit": {"oid": "eb4c610ca45cdb411414f6951abaaf9a7d1ca516"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyODU0Ng==", "bodyText": "This is not a per-player configuration, you can have this as a static variable without having every Dead state object need to grab it", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541228546", "createdAt": "2020-12-11T20:03:04Z", "author": {"login": "Pablete1234"}, "path": "core/src/main/java/tc/oc/pgm/spawns/states/Dead.java", "diffHunk": "@@ -32,6 +33,7 @@ public Dead(SpawnMatchModule smm, MatchPlayer player) {\n \n   public Dead(SpawnMatchModule smm, MatchPlayer player, long deathTick) {\n     super(smm, player);\n+    CORPSE_ROT_TICKS = PGM.get().getConfiguration().getDeathAnimationLength();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIwNzExNg=="}, "originalCommit": {"oid": "e57cac11331dc67eac5ef03116d68b5176c08c9e"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6a61b450bf0cce30a6b0044938d84a63598ad13", "author": {"user": {"login": "mrcookieunderscore13", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/c6a61b450bf0cce30a6b0044938d84a63598ad13", "committedDate": "2020-12-11T22:16:50Z", "message": "Fixed typo and fixed range of allowed values\n\nSigned-off-by: mrcookie <athertonmook@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNjI4MDIz", "url": "https://github.com/PGMDev/PGM/pull/735#pullrequestreview-550628023", "createdAt": "2020-12-11T22:49:43Z", "commit": {"oid": "c6a61b450bf0cce30a6b0044938d84a63598ad13"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNjMyMjk2", "url": "https://github.com/PGMDev/PGM/pull/735#pullrequestreview-550632296", "createdAt": "2020-12-11T23:01:29Z", "commit": {"oid": "c6a61b450bf0cce30a6b0044938d84a63598ad13"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMzowMToyOVrOIETnKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMzowMToyOVrOIETnKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTM4NjUzOA==", "bodyText": "This is still copying the value every time a player dies, which is unneeded", "url": "https://github.com/PGMDev/PGM/pull/735#discussion_r541386538", "createdAt": "2020-12-11T23:01:29Z", "author": {"login": "Pablete1234"}, "path": "core/src/main/java/tc/oc/pgm/spawns/states/Dead.java", "diffHunk": "@@ -33,7 +33,7 @@ public Dead(SpawnMatchModule smm, MatchPlayer player) {\n \n   public Dead(SpawnMatchModule smm, MatchPlayer player, long deathTick) {\n     super(smm, player);\n-    CORPSE_ROT_TICKS = PGM.get().getConfiguration().getDeathAnimationLength();\n+    CORPSE_ROT_TICKS = PGM.get().getConfiguration().getDeathTicks();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6a61b450bf0cce30a6b0044938d84a63598ad13"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 382, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}