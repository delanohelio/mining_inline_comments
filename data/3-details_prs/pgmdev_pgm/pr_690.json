{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0OTI3MTc2", "number": 690, "title": "Refactor: Remove old sendMessage/showTitle", "bodyText": "Moves away from old methods, properly references the console, fixes a couple of sound names\n\nNext commit: Replacing some StringBuilders with Components\nSigned-off-by: KingSimon 19822231+KingOfSquares@users.noreply.github.com", "createdAt": "2020-11-03T18:46:26Z", "url": "https://github.com/PGMDev/PGM/pull/690", "merged": true, "mergeCommit": {"oid": "797d40c9dc7cffb53fa6c4dd5149ac2c49fe00b7"}, "closed": true, "closedAt": "2020-11-04T15:14:45Z", "author": {"login": "KingOfSquares"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY9qp4gH2gAyNTE0OTI3MTc2OmIxMGE1ZTExMjQyMGU0Nzg4YmE0OTAzMTVlOGJhMTExZjk5NjJlYTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZMEulAH2gAyNTE0OTI3MTc2OmZhNWIyMzdjNGUxYTJjM2EzYjNjZWVmMTI2MjhjNmZjMDM2ODAzNTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b10a5e112420e4788ba490315e8ba111f9962ea7", "author": {"user": {"login": "KingOfSquares", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/b10a5e112420e4788ba490315e8ba111f9962ea7", "committedDate": "2020-11-03T18:42:13Z", "message": "Start moving away from old PGM Audience class\n- MatchPlayer(State)/Party/Match etc. now implements adventure ForwardingAudience(creates an audience at creation) instead of going the detour through the old Audience class. This also results in a move to adventure objects for Titles/Components/Bossbars etc.\n- Make a centralized AudienceProvider in PGMAudiences that can be passed around\n- Move the widely used sendWarning to PGMAudiences as a static method\n\n- Fixed a couple of sound names\n\nSigned-off-by: KingSimon <19822231+KingOfSquares@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNzg3MTI1", "url": "https://github.com/PGMDev/PGM/pull/690#pullrequestreview-522787125", "createdAt": "2020-11-03T18:52:18Z", "commit": {"oid": "b10a5e112420e4788ba490315e8ba111f9962ea7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxODo1MjoxOFrOHs8Mtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxODo1MjoxOFrOHs8Mtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg4NTY4Nw==", "bodyText": "Switch this to use TextFormatter#horizontalLineHeading \ud83d\ude04", "url": "https://github.com/PGMDev/PGM/pull/690#discussion_r516885687", "createdAt": "2020-11-03T18:52:18Z", "author": {"login": "applenick"}, "path": "core/src/main/java/tc/oc/pgm/command/ClassCommand.java", "diffHunk": "@@ -65,10 +65,12 @@ public void classList(Match match, MatchPlayer player) {\n     final PlayerClass currentClass = classes.getSelectedClass(player.getId());\n \n     player.sendMessage(\n-        LegacyFormatUtils.dashedChatMessage(\n-            ChatColor.GOLD + TextTranslations.translate(\"match.class.title\", player.getBukkit()),\n-            \"-\",\n-            ChatColor.RED.toString()));\n+        text(\n+            LegacyFormatUtils.dashedChatMessage(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b10a5e112420e4788ba490315e8ba111f9962ea7"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e5e43a751e82b26593dab962427d2ff87736dc0", "author": {"user": {"login": "KingOfSquares", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/3e5e43a751e82b26593dab962427d2ff87736dc0", "committedDate": "2020-11-03T19:18:04Z", "message": "rename console refrence\n\nSigned-off-by: KingSimon <19822231+KingOfSquares@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyOTQwMTA1", "url": "https://github.com/PGMDev/PGM/pull/690#pullrequestreview-522940105", "createdAt": "2020-11-03T23:10:04Z", "commit": {"oid": "3e5e43a751e82b26593dab962427d2ff87736dc0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzoxMDowNFrOHtDuKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzoxMDowNFrOHtDuKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzAwODkzOQ==", "bodyText": "Instead of having something like PGMAudiences, I would like this to live in util.\ntc.oc.util.text.Audience would be both an interface, with things like sendWarning wrapper, and 1-stop-shop to create audiences from players or groups of players.", "url": "https://github.com/PGMDev/PGM/pull/690#discussion_r517008939", "createdAt": "2020-11-03T23:10:04Z", "author": {"login": "Electroid"}, "path": "core/src/main/java/tc/oc/pgm/PGMAudiences.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package tc.oc.pgm;\n+\n+import net.kyori.adventure.audience.Audience;\n+import net.kyori.adventure.key.Key;\n+import net.kyori.adventure.platform.bukkit.BukkitAudiences;\n+import net.kyori.adventure.sound.Sound;\n+import net.kyori.adventure.text.Component;\n+import net.kyori.adventure.text.format.NamedTextColor;\n+import org.bukkit.plugin.Plugin;\n+\n+public class PGMAudiences {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e5e43a751e82b26593dab962427d2ff87736dc0"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa5b237c4e1a2c3a3b3ceef12628c6fc03680356", "author": {"user": {"login": "KingOfSquares", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/fa5b237c4e1a2c3a3b3ceef12628c6fc03680356", "committedDate": "2020-11-04T11:29:22Z", "message": "Move back to PGM Audience\n- Remove all references to adventure Audience in favour of our Audience\n- remove deprecation\n- add identities to ChatDispatcher\n\nSigned-off-by: KingSimon <19822231+KingOfSquares@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 341, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}