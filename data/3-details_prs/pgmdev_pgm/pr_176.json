{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzIzMjE2", "number": 176, "title": "Implement custom sidebar messages, resolves Electroid#157", "bodyText": "Signed-off-by: Meeples10 8867705+Meeples10@users.noreply.github.com", "createdAt": "2020-01-02T16:52:58Z", "url": "https://github.com/PGMDev/PGM/pull/176", "merged": true, "mergeCommit": {"oid": "439a207cd0fb7fbb6301e8f31ba9ec72fea59ad3"}, "closed": true, "closedAt": "2020-01-05T11:52:58Z", "author": {"login": "Meeples10"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2crCBgH2gAyMzU4NzIzMjE2OjdhZThiZjU1NjFlMmY1ZWYzNmU3ZDlkYWI2NmUwZmY1ZTFlNTE2YjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3WKfYAH2gAyMzU4NzIzMjE2OjBhOTFmYjc1YmU5NThkMDNlMTIyMDY0ZDRiNjQ5YjRlMmViYzNmYzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ae8bf5561e2f5ef36e7d9dab66e0ff5e1e516b0", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/7ae8bf5561e2f5ef36e7d9dab66e0ff5e1e516b0", "committedDate": "2020-01-02T16:51:11Z", "message": "Implement custom sidebar messages, resolves Electroid#157\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3NzUyODE2", "url": "https://github.com/PGMDev/PGM/pull/176#pullrequestreview-337752816", "createdAt": "2020-01-02T16:55:42Z", "commit": {"oid": "7ae8bf5561e2f5ef36e7d9dab66e0ff5e1e516b0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNjo1NTo0M1rOFZwHCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNjo1NTo0M1rOFZwHCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU0Njk1Mg==", "bodyText": "Missing new line", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362546952", "createdAt": "2020-01-02T16:55:43Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,11 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  enabled: false\n+  # Text may be formatted with '&'\n+  text: \"\"\n+  # If the message should be positioned at the top or bottom of the sidebar\n+  top: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ae8bf5561e2f5ef36e7d9dab66e0ff5e1e516b0"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/922936e4afc8da27b46e43f766060d8f5d46240d", "committedDate": "2020-01-02T16:59:34Z", "message": "Add final newline to config.yml\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3NzY0NjA0", "url": "https://github.com/PGMDev/PGM/pull/176#pullrequestreview-337764604", "createdAt": "2020-01-02T17:22:47Z", "commit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNzoyMjo0N1rOFZwq8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxNzoyMzozMVrOFZwr8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU1NjE0NQ==", "bodyText": "Would maybe be easier to have message-top and message-bottom, with the ability to leave either of them blank?\nThat way you convert 3 settings into 2 (remove enabled & atTop, keep message-top and message-bottom), it gives more flexibility for people trying to configure it, and it's (maybe?) easier to code the condition.", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362556145", "createdAt": "2020-01-02T17:22:47Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/Config.java", "diffHunk": "@@ -384,4 +384,19 @@ public int getDestroyMatchDelay() {\n       return destroyMatchDelay;\n     }\n   }\n+\n+  public static class SidebarMessage {\n+    public static boolean enabled() {\n+      return getConfiguration().getBoolean(\"sidebar-message.enabled\", false);\n+    }\n+\n+    public static String format() {\n+      return ChatColor.translateAlternateColorCodes(\n+          '&', getConfiguration().getString(\"sidebar-message.text\"));\n+    }\n+\n+    public static boolean atTop() {\n+      return getConfiguration().getBoolean(\"sidebar-message.top\", false);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU1NjQwMw==", "bodyText": "Can we have a player setting to disable scoreboard messages?", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362556403", "createdAt": "2020-01-02T17:23:31Z", "author": {"login": "Pablete1234"}, "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "diffHunk": "@@ -463,6 +463,17 @@ public int compare(Goal a, Goal b) {\n           }\n         }\n       }\n+      if (Config.SidebarMessage.enabled()) {\n+        if (Config.SidebarMessage.atTop()) {\n+          rows.add(0, Config.SidebarMessage.format());\n+        } else {\n+          if (rows.size() >= MAX_ROWS) {\n+            rows.set(MAX_ROWS - 1, Config.SidebarMessage.format());\n+          } else {\n+            rows.add(Config.SidebarMessage.format());\n+          }\n+        }\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3Nzk0MDkz", "url": "https://github.com/PGMDev/PGM/pull/176#pullrequestreview-337794093", "createdAt": "2020-01-02T18:35:59Z", "commit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODozNTo1OVrOFZyHjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODozNTo1OVrOFZyHjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU3OTg1Mg==", "bodyText": "I think there should a setting overwrite-existing default to false. If they scoreboard is full already, we can lose important information about the objectives/match.", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r362579852", "createdAt": "2020-01-02T18:35:59Z", "author": {"login": "TheMolkaPL"}, "path": "src/main/java/tc/oc/pgm/scoreboard/SidebarMatchModule.java", "diffHunk": "@@ -463,6 +463,17 @@ public int compare(Goal a, Goal b) {\n           }\n         }\n       }\n+      if (Config.SidebarMessage.enabled()) {\n+        if (Config.SidebarMessage.atTop()) {\n+          rows.add(0, Config.SidebarMessage.format());\n+        } else {\n+          if (rows.size() >= MAX_ROWS) {\n+            rows.set(MAX_ROWS - 1, Config.SidebarMessage.format());\n+          } else {\n+            rows.add(Config.SidebarMessage.format());\n+          }\n+        }\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "922936e4afc8da27b46e43f766060d8f5d46240d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98246c32928f7490406181d41dd0c4a0d7004323", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/98246c32928f7490406181d41dd0c4a0d7004323", "committedDate": "2020-01-02T20:19:47Z", "message": "Implement custom sidebar messages, resolves Electroid#157\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/e1f9e39817df524787dfef2e91cdd38dfde834ab", "committedDate": "2020-01-02T20:41:33Z", "message": "Remove unused settings\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzcxNjc4", "url": "https://github.com/PGMDev/PGM/pull/176#pullrequestreview-338371678", "createdAt": "2020-01-04T21:54:13Z", "commit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzcyMDg5", "url": "https://github.com/PGMDev/PGM/pull/176#pullrequestreview-338372089", "createdAt": "2020-01-04T22:08:19Z", "commit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODoxOVrOFaPSJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNFQyMjowODo0NlrOFaPSQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzcwMA==", "bodyText": "sidebar", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057700", "createdAt": "2020-01-04T22:08:19Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzcwNQ==", "bodyText": "top", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057705", "createdAt": "2020-01-04T22:08:30Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  # Text may be formatted with '&'\n+  # Leave blank to disable\n+  message-top: \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzcxNg==", "bodyText": "bottom", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057716", "createdAt": "2020-01-04T22:08:39Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  # Text may be formatted with '&'\n+  # Leave blank to disable\n+  message-top: \"\"\n+  message-bottom: \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1NzczMA==", "bodyText": "overwrite", "url": "https://github.com/PGMDev/PGM/pull/176#discussion_r363057730", "createdAt": "2020-01-04T22:08:46Z", "author": {"login": "Electroid"}, "path": "src/main/resources/config.yml", "diffHunk": "@@ -108,4 +108,12 @@ experiments:\n   # Defer tab rendering to group more updates at once, in ticks\n   tab-render-delay: 5\n   # Ticks to wait to destroy older match\n-  destroy-match-delay: 100\n\\ No newline at end of file\n+  destroy-match-delay: 100\n+\n+sidebar-message:\n+  # Text may be formatted with '&'\n+  # Leave blank to disable\n+  message-top: \"\"\n+  message-bottom: \"\"\n+  # If the sidebar message should overwrite lines in the sidebar when it is full\n+  overwrite-existing: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1f9e39817df524787dfef2e91cdd38dfde834ab"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9701b4f872b73e5961a3d79553961e2154920ab5", "author": {"user": {"login": "Meeples10", "name": null}}, "url": "https://github.com/PGMDev/PGM/commit/9701b4f872b73e5961a3d79553961e2154920ab5", "committedDate": "2020-01-04T22:12:11Z", "message": "Change config key names\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a91fb75be958d03e122064d4b649b4e2ebc3fc6", "author": {"user": {"login": "Electroid", "name": "Ashcon Partovi"}}, "url": "https://github.com/PGMDev/PGM/commit/0a91fb75be958d03e122064d4b649b4e2ebc3fc6", "committedDate": "2020-01-05T11:50:08Z", "message": "Merge branch 'master' into sidebar-messages"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 600, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}