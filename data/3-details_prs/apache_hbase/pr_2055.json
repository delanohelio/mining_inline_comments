{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MTAzMDU0", "number": 2055, "title": "HBASE-24625 AsyncFSWAL.getLogFileSizeIfBeingWritten does not return the expected synced file length(addendum)", "bodyText": "Open this addendum PR to  incorporate @ndimiduk  's suggestions in #2034  and other minor changes.\nI did not  use the AtomicLong.getAndAccumulate to replace AtomicUtils.updateMax because\nhttps://issues.apache.org/jira/browse/HBASE-24625?focusedCommentId=17155993&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17155993\n@Apache9  @ndimiduk", "createdAt": "2020-07-13T08:46:04Z", "url": "https://github.com/apache/hbase/pull/2055", "merged": true, "mergeCommit": {"oid": "7b099eaa75a74a77bfdbc76346ed119cb8ed5706"}, "closed": true, "closedAt": "2020-08-10T01:57:27Z", "author": {"login": "comnetwork"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0dH0iAH2gAyNDQ4MTAzMDU0OmQ4YzVkZTdmNzc0Y2IzM2I0ZDQ3ZGExNzI4YjkwZDE2YjNkMzI4NWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9YVh5AFqTQ2MzkyODIzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d8c5de7f774cb33b4d47da1728b90d16b3d3285b", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/d8c5de7f774cb33b4d47da1728b90d16b3d3285b", "committedDate": "2020-07-13T08:25:56Z", "message": "HBASE-24625 addnum"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "212166ed4892d5705e633083aa55be3adb09289e", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/212166ed4892d5705e633083aa55be3adb09289e", "committedDate": "2020-07-13T08:27:18Z", "message": "Merge remote-tracking branch 'upstream/master' into hbase24625addnummaster"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91eac7ce9046e5b12ea8226ab1e0d660fa682745", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/91eac7ce9046e5b12ea8226ab1e0d660fa682745", "committedDate": "2020-07-13T08:28:10Z", "message": "HBASE-24625 addnum"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTc2MjI1", "url": "https://github.com/apache/hbase/pull/2055#pullrequestreview-448176225", "createdAt": "2020-07-14T14:44:10Z", "commit": {"oid": "91eac7ce9046e5b12ea8226ab1e0d660fa682745"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0NDoxMFrOGxXAAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0NDoxMFrOGxXAAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMDI0Mw==", "bodyText": "Do we really need to make it volatile? IIRC, it will be initialized in the init call and we will always call it when constructing a new ProtobufLogWriter. Make it volatile may cause developer confusing...", "url": "https://github.com/apache/hbase/pull/2055#discussion_r454410243", "createdAt": "2020-07-14T14:44:10Z", "author": {"login": "Apache9"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/AsyncProtobufLogWriter.java", "diffHunk": "@@ -59,7 +59,7 @@\n \n   private final Class<? extends Channel> channelClass;\n \n-  private AsyncFSOutput output;\n+  private volatile AsyncFSOutput output;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91eac7ce9046e5b12ea8226ab1e0d660fa682745"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42f368f655d53954a7bc3f088e2a2c9fc89c559c", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/42f368f655d53954a7bc3f088e2a2c9fc89c559c", "committedDate": "2020-07-22T01:37:03Z", "message": "Merge remote-tracking branch 'upstream/master' into hbase24625addnummaster"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efb161f6791207b0cb9511fdf38e64ca819ad6ee", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/efb161f6791207b0cb9511fdf38e64ca819ad6ee", "committedDate": "2020-07-22T09:47:44Z", "message": "add finalSyncedLength to support getSyncedLength after AsyncProtobufWriter.close"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1772b5f1267a32a05d2274de3e1d3bd01398eb82", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/1772b5f1267a32a05d2274de3e1d3bd01398eb82", "committedDate": "2020-07-22T09:48:35Z", "message": "Merge remote-tracking branch 'upstream/master' into hbase24625addnummaster"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "255b26b380f19ec2599c41048f1b6d05ce1c7f97", "author": {"user": {"login": "comnetwork", "name": "chenglei"}}, "url": "https://github.com/apache/hbase/commit/255b26b380f19ec2599c41048f1b6d05ce1c7f97", "committedDate": "2020-07-22T10:01:18Z", "message": "add finalSyncedLength to support getSyncedLength after AsyncProtobufWriter.close"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzOTI4MjM5", "url": "https://github.com/apache/hbase/pull/2055#pullrequestreview-463928239", "createdAt": "2020-08-10T01:56:42Z", "commit": {"oid": "255b26b380f19ec2599c41048f1b6d05ce1c7f97"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4249, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}