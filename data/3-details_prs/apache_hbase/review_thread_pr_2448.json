{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxOTAzNTU4", "number": 2448, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMDo1MjoyNlrOEm1aMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxMzo0NDoxMVrOEndkaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5MTU2NDAwOnYy", "diffSide": "RIGHT", "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/CatalogFamilyFormat.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMDo1MjoyNlrOHXGBhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMDo1MjoyNlrOHXGBhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk3Nzk5MA==", "bodyText": "Add ut for this?", "url": "https://github.com/apache/hbase/pull/2448#discussion_r493977990", "createdAt": "2020-09-24T00:52:26Z", "author": {"login": "infraio"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/CatalogFamilyFormat.java", "diffHunk": "@@ -101,7 +101,7 @@ public static RegionInfo parseRegionInfoFromRegionName(byte[] regionName) throws\n     long regionId = Long.parseLong(Bytes.toString(fields[2]));\n     int replicaId = fields.length > 3 ? Integer.parseInt(Bytes.toString(fields[3]), 16) : 0;\n     return RegionInfoBuilder.newBuilder(TableName.valueOf(fields[0])).setStartKey(fields[1])\n-      .setEndKey(fields[2]).setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();\n+      .setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dee7eedcb889ab20e94d302a110ad557561a5e0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NTcwMDU3OnYy", "diffSide": "RIGHT", "path": "hbase-client/src/test/java/org/apache/hadoop/hbase/TestCatalogFamilyFormat.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMTo0MDoxMlrOHXtmZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMTo0MDoxMlrOHXtmZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDYyNjQwNg==", "bodyText": "NIT: As these variables are only used in the builder (and with that their purpose is also visible) below they can be directly used in the builder.", "url": "https://github.com/apache/hbase/pull/2448#discussion_r494626406", "createdAt": "2020-09-24T21:40:12Z", "author": {"login": "HorizonNet"}, "path": "hbase-client/src/test/java/org/apache/hadoop/hbase/TestCatalogFamilyFormat.java", "diffHunk": "@@ -70,4 +79,32 @@ public void testMetaReaderGetColumnMethods() {\n         HConstants.SEQNUM_QUALIFIER_STR + CatalogFamilyFormat.META_REPLICA_ID_DELIMITER + \"002A\"),\n       CatalogFamilyFormat.getSeqNumColumn(42));\n   }\n+\n+  /**\n+   * The info we can get from the regionName is: table name, start key, regionId, replicaId.\n+   */\n+  @Test\n+  public void testparseRegionInfoFromRegionName() throws IOException  {\n+    TableName tableName = TableName.valueOf(name.getMethodName());\n+    long regionId = 999999L;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66e7e0a68d063bfca4389b56d1eb8c16bf84c554"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5ODE0Mzc3OnYy", "diffSide": "RIGHT", "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/CatalogFamilyFormat.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxMzo0NDoxMVrOHYEPIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxMzo0NDoxMVrOHYEPIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk5NzI4Mg==", "bodyText": "I think the setSplit(false) could also be removed. The default value is false.", "url": "https://github.com/apache/hbase/pull/2448#discussion_r494997282", "createdAt": "2020-09-25T13:44:11Z", "author": {"login": "Apache9"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/CatalogFamilyFormat.java", "diffHunk": "@@ -101,7 +101,7 @@ public static RegionInfo parseRegionInfoFromRegionName(byte[] regionName) throws\n     long regionId = Long.parseLong(Bytes.toString(fields[2]));\n     int replicaId = fields.length > 3 ? Integer.parseInt(Bytes.toString(fields[3]), 16) : 0;\n     return RegionInfoBuilder.newBuilder(TableName.valueOf(fields[0])).setStartKey(fields[1])\n-      .setEndKey(fields[2]).setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();\n+      .setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef90262f4066da88cffccfe24dc1e19d6b33e8cf"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2506, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}