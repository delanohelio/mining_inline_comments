{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMTk5MDAw", "number": 1464, "title": "HBASE-24150 Allow module tests run in parallel", "bodyText": "Pass --threads=2 to mvn when yetus runs so some parallelism\nwhen dependencies allow.", "createdAt": "2020-04-09T04:20:26Z", "url": "https://github.com/apache/hbase/pull/1464", "merged": true, "mergeCommit": {"oid": "9eb49172d01e1cd4c6c6cc53ba8a5228aa6a9b2c"}, "closed": true, "closedAt": "2020-04-09T21:41:42Z", "author": {"login": "saintstack"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV0nRXgH2gAyNDAxMTk5MDAwOmIzYTUyY2E5ODBiYzIwM2E4NDI2MGE2OWM4NTcyOTQ3Y2QwM2UyMDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWDDBfAFqTM5MTEzMTc4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b3a52ca980bc203a84260a69c8572947cd03e204", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/b3a52ca980bc203a84260a69c8572947cd03e204", "committedDate": "2020-04-09T04:16:27Z", "message": "HBASE-24150 Allow module tests run in parallel\nPass --threads=2 to mvn when yetus runs so some parallelism\nwhen dependencies allow."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTU0NzQ4", "url": "https://github.com/apache/hbase/pull/1464#pullrequestreview-390954748", "createdAt": "2020-04-09T16:37:31Z", "commit": {"oid": "b3a52ca980bc203a84260a69c8572947cd03e204"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTU5OTk5", "url": "https://github.com/apache/hbase/pull/1464#pullrequestreview-390959999", "createdAt": "2020-04-09T16:44:38Z", "commit": {"oid": "b3a52ca980bc203a84260a69c8572947cd03e204"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjo0NDozOFrOGDg1Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjo0NToxNVrOGDg2mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzNjgzNQ==", "bodyText": "Not just parallel test suites, but everything. With this change, maven will run up to 2 concurrent modules when the dependency graph permits. I imaging this will be a nice general benefit.\nOne thing to note though is that some plugins don't support multithreading. IIRC, surefire-reports was one such plugin, and would print warnings in the build. Looks like this patch didn't actually trigger any maven invocation, so I cannot point you at the message. A simple mvn clean package -DskipTests should be enough to get the message printed.\nSince we use Jenkins to aggregate test results, I suggest we disable/remove surefire-reports (this was something I discussed with @busbey sometime back, but neither of us have gotten to it).", "url": "https://github.com/apache/hbase/pull/1464#discussion_r406336835", "createdAt": "2020-04-09T16:44:38Z", "author": {"login": "ndimiduk"}, "path": "dev-support/hbase-personality.sh", "diffHunk": "@@ -140,7 +140,10 @@ function personality_modules\n \n   clear_personality_queue\n \n-  extra=\"-DHBasePatchProcess\"\n+  # At a few points, hbase modules can run their test suites in parallel", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3a52ca980bc203a84260a69c8572947cd03e204"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzNzE3Ng==", "bodyText": "There's no value in --threads for grabbing the version info, is there?", "url": "https://github.com/apache/hbase/pull/1464#discussion_r406337176", "createdAt": "2020-04-09T16:45:15Z", "author": {"login": "ndimiduk"}, "path": "dev-support/hbase_nightly_source-artifact.sh", "diffHunk": "@@ -125,7 +125,7 @@ fi\n # See http://hbase.apache.org/book.html#maven.release\n \n echo \"Maven details, in case our JDK doesn't match expectations:\"\n-mvn --version --offline | tee \"${working_dir}/maven_version\"\n+mvn --threads=2 --version --offline | tee \"${working_dir}/maven_version\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3a52ca980bc203a84260a69c8572947cd03e204"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "260fbf65717339d940bf4f03f83161235f11baef", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/260fbf65717339d940bf4f03f83161235f11baef", "committedDate": "2020-04-09T17:15:26Z", "message": "Address feedback from Nick"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMTMxNzgx", "url": "https://github.com/apache/hbase/pull/1464#pullrequestreview-391131781", "createdAt": "2020-04-09T21:05:26Z", "commit": {"oid": "260fbf65717339d940bf4f03f83161235f11baef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2366, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}