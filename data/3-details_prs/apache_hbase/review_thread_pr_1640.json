{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyOTcwNjEw", "number": 1640, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDozOToyNVrOD6gmHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNToyMToyOVrOD7SWXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjc4MDQ1OnYy", "diffSide": "LEFT", "path": "hbase-archetypes/hbase-client-project/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDozOToyNVrOGSYx1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDozOToyNVrOGSYx1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzMzUyNw==", "bodyText": "Good", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421933527", "createdAt": "2020-05-08T04:39:25Z", "author": {"login": "saintstack"}, "path": "hbase-archetypes/hbase-client-project/pom.xml", "diffHunk": "@@ -43,31 +43,35 @@\n     <dependency>\n       <groupId>org.apache.hbase</groupId>\n       <artifactId>hbase-testing-util</artifactId>\n-      <version>${project.version}</version>\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n       <groupId>org.apache.hbase</groupId>\n       <artifactId>hbase-common</artifactId>\n-      <version>${project.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjgwMjI5OnYy", "diffSide": "RIGHT", "path": "hbase-assembly/pom.xml", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDo1MjozM1rOGSY-Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNDo1OToxNVrOGTgKMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNjcwNw==", "bodyText": "This is a good note. Should it go elsewhere, in the top-level pom for instance? (Maybe it is there already...  Let me keep going)", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421936707", "createdAt": "2020-05-08T04:52:33Z", "author": {"login": "saintstack"}, "path": "hbase-assembly/pom.xml", "diffHunk": "@@ -318,5 +318,18 @@\n       <artifactId>jaxws-ri</artifactId>\n       <type>pom</type>\n     </dependency>\n+    <!--\n+      Include the log framework here.\n+      For other sub modules, we only declare slf4j-api as a compile dependency,\n+      so here we must pull in the real logging framework to actually log to log4j.\n+    -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNzA2NA==", "bodyText": "What happens when we run in-situ... i.e. build and then do ./bin/start-hbase.sh? Does it produce logs?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421937064", "createdAt": "2020-05-08T04:54:02Z", "author": {"login": "saintstack"}, "path": "hbase-assembly/pom.xml", "diffHunk": "@@ -318,5 +318,18 @@\n       <artifactId>jaxws-ri</artifactId>\n       <type>pom</type>\n     </dependency>\n+    <!--\n+      Include the log framework here.\n+      For other sub modules, we only declare slf4j-api as a compile dependency,\n+      so here we must pull in the real logging framework to actually log to log4j.\n+    -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNjcwNw=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTk4NjQ1OA==", "bodyText": "If the tarball is built by running assembly, we will include the slf4j and log4j jars, and also the log4j.properties under conf directory, so it will produce logs.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421986458", "createdAt": "2020-05-08T07:21:11Z", "author": {"login": "Apache9"}, "path": "hbase-assembly/pom.xml", "diffHunk": "@@ -318,5 +318,18 @@\n       <artifactId>jaxws-ri</artifactId>\n       <type>pom</type>\n     </dependency>\n+    <!--\n+      Include the log framework here.\n+      For other sub modules, we only declare slf4j-api as a compile dependency,\n+      so here we must pull in the real logging framework to actually log to log4j.\n+    -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNjcwNw=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM2OTQ0OQ==", "bodyText": "I'm asking about running an hbase instance from built checkout, not from an assembly. Currently it works. It looks like it will no longer work if this patch goes in?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r422369449", "createdAt": "2020-05-08T20:54:51Z", "author": {"login": "saintstack"}, "path": "hbase-assembly/pom.xml", "diffHunk": "@@ -318,5 +318,18 @@\n       <artifactId>jaxws-ri</artifactId>\n       <type>pom</type>\n     </dependency>\n+    <!--\n+      Include the log framework here.\n+      For other sub modules, we only declare slf4j-api as a compile dependency,\n+      so here we must pull in the real logging framework to actually log to log4j.\n+    -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNjcwNw=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0MDgxNQ==", "bodyText": "We could do this? I'v never tried this before. How does the start-hbase.sh script find all the dependencies? We do not have a lib directory in the checkout directory...", "url": "https://github.com/apache/hbase/pull/1640#discussion_r422440815", "createdAt": "2020-05-09T02:05:13Z", "author": {"login": "Apache9"}, "path": "hbase-assembly/pom.xml", "diffHunk": "@@ -318,5 +318,18 @@\n       <artifactId>jaxws-ri</artifactId>\n       <type>pom</type>\n     </dependency>\n+    <!--\n+      Include the log framework here.\n+      For other sub modules, we only declare slf4j-api as a compile dependency,\n+      so here we must pull in the real logging framework to actually log to log4j.\n+    -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNjcwNw=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwMzAyNg==", "bodyText": "Check it out. It has always worked. Good for dev. We build up classpath and cache it.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423103026", "createdAt": "2020-05-11T14:59:15Z", "author": {"login": "saintstack"}, "path": "hbase-assembly/pom.xml", "diffHunk": "@@ -318,5 +318,18 @@\n       <artifactId>jaxws-ri</artifactId>\n       <type>pom</type>\n     </dependency>\n+    <!--\n+      Include the log framework here.\n+      For other sub modules, we only declare slf4j-api as a compile dependency,\n+      so here we must pull in the real logging framework to actually log to log4j.\n+    -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNjcwNw=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjgwNzY1OnYy", "diffSide": "LEFT", "path": "hbase-server/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDo1NTo0MFrOGSZBXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDo1NTo0MFrOGSZBXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNzUwMQ==", "bodyText": "Fixed?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421937501", "createdAt": "2020-05-08T04:55:40Z", "author": {"login": "saintstack"}, "path": "hbase-server/pom.xml", "diffHunk": "@@ -481,15 +473,6 @@\n       <artifactId>httpcore</artifactId>\n       <scope>test</scope>\n     </dependency>\n-    <!-- commons-logging is used by HBTU to monkey with log levels\n-         have to put it at compile scope because Hadoop's IOUtils uses it\n-         both for hadoop 2.7 and 3.0, so we'll fail at compile if it's at test scope.\n-      -->\n-    <dependency>\n-      <groupId>commons-logging</groupId>\n-      <artifactId>commons-logging</artifactId>\n-      <scope>compile</scope>\n-    </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjgxMDAyOnYy", "diffSide": "RIGHT", "path": "hbase-shaded/pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDo1NzowOFrOGSZCxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQwMjowOTowNVrOGS3xFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNzg2Mg==", "bodyText": "This is targeted at hbase2 which is to run against hadoop2? This comment that it can't be non-optional is fixed now? Not needed?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421937862", "createdAt": "2020-05-08T04:57:08Z", "author": {"login": "saintstack"}, "path": "hbase-shaded/pom.xml", "diffHunk": "@@ -51,15 +51,14 @@\n       <dependency>\n          <groupId>org.apache.hbase</groupId>\n          <artifactId>hbase-resource-bundle</artifactId>\n-         <version>${project.version}</version>\n          <optional>true</optional>\n       </dependency>\n-      <!-- log4j has to be non-optional for Hadoop 2 atleast -->\n+      <!-- put the log implementations to optional -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTk4NTA4OQ==", "bodyText": "At least for hadoop 2.8+, they have already moved to slf4j.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421985089", "createdAt": "2020-05-08T07:18:11Z", "author": {"login": "Apache9"}, "path": "hbase-shaded/pom.xml", "diffHunk": "@@ -51,15 +51,14 @@\n       <dependency>\n          <groupId>org.apache.hbase</groupId>\n          <artifactId>hbase-resource-bundle</artifactId>\n-         <version>${project.version}</version>\n          <optional>true</optional>\n       </dependency>\n-      <!-- log4j has to be non-optional for Hadoop 2 atleast -->\n+      <!-- put the log implementations to optional -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNzg2Mg=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0MTIzNw==", "bodyText": "After trying HBASE-19577, some hadoop classes do have dependencies on log4j directly, for example the FSNamesystem class. But usually we do not need to touch this class unless in UT. Anyway, since we are still on log4j after this patch so I think it is fine for now. When switching to log4j2, we need to more testing to find out the direct dependencies on log4j from hadoop and try to fix them.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r422441237", "createdAt": "2020-05-09T02:09:05Z", "author": {"login": "Apache9"}, "path": "hbase-shaded/pom.xml", "diffHunk": "@@ -51,15 +51,14 @@\n       <dependency>\n          <groupId>org.apache.hbase</groupId>\n          <artifactId>hbase-resource-bundle</artifactId>\n-         <version>${project.version}</version>\n          <optional>true</optional>\n       </dependency>\n-      <!-- log4j has to be non-optional for Hadoop 2 atleast -->\n+      <!-- put the log implementations to optional -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzNzg2Mg=="}, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjgxMjAwOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDo1ODoyM1rOGSZD4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNDo1ODoyM1rOGSZD4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkzODE0NA==", "bodyText": "Painful.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r421938144", "createdAt": "2020-05-08T04:58:23Z", "author": {"login": "saintstack"}, "path": "pom.xml", "diffHunk": "@@ -2861,6 +2917,14 @@\n                <groupId>org.codehause.jackson</groupId>\n                <artifactId>jackson-mapper-asl</artifactId>\n              </exclusion>\n+             <exclusion>\n+               <groupId>org.slf4j</groupId>\n+               <artifactId>slf4j-log4j12</artifactId>\n+             </exclusion>\n+             <exclusion>\n+               <groupId>log4j</groupId>\n+               <artifactId>log4j</artifactId>\n+             </exclusion>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b270f9a5f0a95666fb4887c8e0e374e068623e62"}, "originalPosition": 132}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNDgzNzg3OnYy", "diffSide": "RIGHT", "path": "hbase-assembly/src/main/assembly/client.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTowMDoyMFrOGTgNfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTozMzo1M1rOGThr3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwMzg3MA==", "bodyText": "There are a few extras here. Thats ok?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423103870", "createdAt": "2020-05-11T15:00:20Z", "author": {"login": "saintstack"}, "path": "hbase-assembly/src/main/assembly/client.xml", "diffHunk": "@@ -50,20 +52,22 @@\n               <exclude>com.sun.jersey:*</exclude>\n               <exclude>com.sun.jersey.contribs:*</exclude>\n               <exclude>jline:jline</exclude>\n-        <exclude>com.github.stephenc.findbugs:findbugs-annotations</exclude>\n-        <exclude>commons-logging:commons-logging</exclude>\n-        <exclude>log4j:log4j</exclude>\n-        <exclude>org.apache.hbase:hbase-shaded-client</exclude>\n-        <exclude>org.apache.hbase:hbase-shaded-client-byo-hadoop</exclude>\n-        <exclude>org.apache.hbase:hbase-shaded-mapreduce</exclude>\n-        <exclude>org.apache.htrace:htrace-core4</exclude>\n-        <exclude>org.apache.htrace:htrace-core</exclude>\n-        <exclude>org.apache.yetus:audience-annotations</exclude>\n-        <exclude>org.slf4j:slf4j-api</exclude>\n-        <exclude>org.slf4j:slf4j-log4j12</exclude>\n+              <exclude>com.github.stephenc.findbugs:findbugs-annotations</exclude>\n+              <exclude>commons-logging:commons-logging</exclude>\n+              <exclude>log4j:log4j</exclude>\n+              <exclude>org.apache.hbase:hbase-shaded-client</exclude>\n+              <exclude>org.apache.hbase:hbase-shaded-client-byo-hadoop</exclude>\n+              <exclude>org.apache.hbase:hbase-shaded-mapreduce</exclude>\n+              <exclude>org.apache.htrace:htrace-core4</exclude>\n+              <exclude>org.apache.htrace:htrace-core</exclude>\n+              <exclude>org.apache.yetus:audience-annotations</exclude>\n+              <exclude>org.slf4j:slf4j-api</exclude>\n+              <exclude>org.slf4j:jcl-over-slf4j</exclude>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEyODAzMA==", "bodyText": "I introduced jcl-over-slf4j and jul-to-slf4j which should also be excluded.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423128030", "createdAt": "2020-05-11T15:33:53Z", "author": {"login": "Apache9"}, "path": "hbase-assembly/src/main/assembly/client.xml", "diffHunk": "@@ -50,20 +52,22 @@\n               <exclude>com.sun.jersey:*</exclude>\n               <exclude>com.sun.jersey.contribs:*</exclude>\n               <exclude>jline:jline</exclude>\n-        <exclude>com.github.stephenc.findbugs:findbugs-annotations</exclude>\n-        <exclude>commons-logging:commons-logging</exclude>\n-        <exclude>log4j:log4j</exclude>\n-        <exclude>org.apache.hbase:hbase-shaded-client</exclude>\n-        <exclude>org.apache.hbase:hbase-shaded-client-byo-hadoop</exclude>\n-        <exclude>org.apache.hbase:hbase-shaded-mapreduce</exclude>\n-        <exclude>org.apache.htrace:htrace-core4</exclude>\n-        <exclude>org.apache.htrace:htrace-core</exclude>\n-        <exclude>org.apache.yetus:audience-annotations</exclude>\n-        <exclude>org.slf4j:slf4j-api</exclude>\n-        <exclude>org.slf4j:slf4j-log4j12</exclude>\n+              <exclude>com.github.stephenc.findbugs:findbugs-annotations</exclude>\n+              <exclude>commons-logging:commons-logging</exclude>\n+              <exclude>log4j:log4j</exclude>\n+              <exclude>org.apache.hbase:hbase-shaded-client</exclude>\n+              <exclude>org.apache.hbase:hbase-shaded-client-byo-hadoop</exclude>\n+              <exclude>org.apache.hbase:hbase-shaded-mapreduce</exclude>\n+              <exclude>org.apache.htrace:htrace-core4</exclude>\n+              <exclude>org.apache.htrace:htrace-core</exclude>\n+              <exclude>org.apache.yetus:audience-annotations</exclude>\n+              <exclude>org.slf4j:slf4j-api</exclude>\n+              <exclude>org.slf4j:jcl-over-slf4j</exclude>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwMzg3MA=="}, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNDg0MTgyOnYy", "diffSide": "RIGHT", "path": "hbase-asyncfs/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTowMTowNFrOGTgP1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTowMTowNFrOGTgP1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwNDQ2OA==", "bodyText": "Interesting", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423104468", "createdAt": "2020-05-11T15:01:04Z", "author": {"login": "saintstack"}, "path": "hbase-asyncfs/pom.xml", "diffHunk": "@@ -72,6 +72,12 @@\n       <type>test-jar</type>\n       <scope>test</scope>\n     </dependency>\n+    <dependency>\n+      <groupId>org.apache.hbase</groupId>\n+      <artifactId>hbase-logging</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNDg1ODQwOnYy", "diffSide": "RIGHT", "path": "hbase-common/pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTowNDo0MFrOGTgaRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTozNTo1MlrOGThxjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwNzE0MA==", "bodyText": "Whats jcl and jul?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423107140", "createdAt": "2020-05-11T15:04:40Z", "author": {"login": "saintstack"}, "path": "hbase-common/pom.xml", "diffHunk": "@@ -212,9 +221,24 @@\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n-      <!--For Hadoop-->\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>jcl-over-slf4j</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>jul-to-slf4j</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEyNTM0NA==", "bodyText": "Some of our code uses these?", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423125344", "createdAt": "2020-05-11T15:30:05Z", "author": {"login": "saintstack"}, "path": "hbase-common/pom.xml", "diffHunk": "@@ -212,9 +221,24 @@\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n-      <!--For Hadoop-->\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>jcl-over-slf4j</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>jul-to-slf4j</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwNzE0MA=="}, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEyOTQ4Nw==", "bodyText": "java commons-logging and java.util.logging, at least when I tried to ban all the dependencies to commons-logging it was failed, as there are some libraries we use depend on commons-logging, so redirecting the jcl and jul to slf4j could help us to get more log messages from depended libraries, no harm.", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423129487", "createdAt": "2020-05-11T15:35:52Z", "author": {"login": "Apache9"}, "path": "hbase-common/pom.xml", "diffHunk": "@@ -212,9 +221,24 @@\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n-      <!--For Hadoop-->\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>jcl-over-slf4j</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>jul-to-slf4j</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwNzE0MA=="}, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNDkzMjEzOnYy", "diffSide": "RIGHT", "path": "hbase-logging/src/main/java/org/apache/hadoop/hbase/logging/InternalLog4jUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNToyMToyOVrOGThJNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNToyMToyOVrOGThJNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzExOTE1OA==", "bodyText": "Good", "url": "https://github.com/apache/hbase/pull/1640#discussion_r423119158", "createdAt": "2020-05-11T15:21:29Z", "author": {"login": "saintstack"}, "path": "hbase-logging/src/main/java/org/apache/hadoop/hbase/logging/InternalLog4jUtils.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.hadoop.hbase.logging;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.util.Enumeration;\n+import java.util.HashSet;\n+import java.util.Set;\n+import org.apache.yetus.audience.InterfaceAudience;\n+\n+/**\n+ * The actual class for operating on log4j.\n+ * <p/>\n+ * This class will depend on log4j directly, so callers should not use this class directly to avoid\n+ * introducing log4j dependencies to downstream users. Please call the methods in\n+ * {@link Log4jUtils}, as they will call the methods here through reflection.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5634becf77927fffa2878a66aa49184f184ab84d"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1736, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}