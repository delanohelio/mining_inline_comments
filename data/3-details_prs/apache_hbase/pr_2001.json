{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNzgzMzY1", "number": 2001, "title": "HBASE-24572 release scripts should try to use a keyid when refering to GPG keys.", "bodyText": "first pass at turning a given gpg key name into a key id during release info gathering.", "createdAt": "2020-06-30T05:00:52Z", "url": "https://github.com/apache/hbase/pull/2001", "merged": true, "mergeCommit": {"oid": "fe5571bfe6d8c4d8aef90ee683c4a589ccaf4e01"}, "closed": true, "closedAt": "2020-08-02T03:28:24Z", "author": {"login": "busbey"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwOVkygH2gAyNDQxNzgzMzY1OjE5ZDFkZjZmODQxYmY4ZDUyN2JjOTU3NjQxNjNjOTZlZGQ1MDQzMGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczX_ZcgFqTQ0NjA0MDk4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "19d1df6f841bf8d527bc95764163c96edd50430b", "author": {"user": {"login": "busbey", "name": "Sean Busbey"}}, "url": "https://github.com/apache/hbase/commit/19d1df6f841bf8d527bc95764163c96edd50430b", "committedDate": "2020-06-30T04:56:41Z", "message": "HBASE-24572 release scripts should try to use a keyid when refering to GPG keys."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDQxNDc1", "url": "https://github.com/apache/hbase/pull/2001#pullrequestreview-442041475", "createdAt": "2020-07-02T21:58:20Z", "commit": {"oid": "19d1df6f841bf8d527bc95764163c96edd50430b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMTo1ODoyMFrOGseIVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMTo1ODoyMFrOGseIVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NDE4MQ==", "bodyText": "missing closing brace on [y/n?", "url": "https://github.com/apache/hbase/pull/2001#discussion_r449284181", "createdAt": "2020-07-02T21:58:20Z", "author": {"login": "ndimiduk"}, "path": "dev-support/create-release/release-util.sh", "diffHunk": "@@ -236,6 +236,14 @@ function get_release_info {\n \n   GIT_EMAIL=\"$ASF_USERNAME@apache.org\"\n   GPG_KEY=\"$(read_config \"GPG_KEY\" \"$GIT_EMAIL\")\"\n+  if ! GPG_KEY_ID=$(\"${GPG}\" \"${GPG_ARGS[@]}\" --keyid-format 0xshort --list-public-key \"${GPG_KEY}\" | grep \"\\[S\\]\" | grep -o \"0x[0-9A-F]*\") ||\n+      [ -z \"${GPG_KEY_ID}\" ] ; then\n+    GPG_KEY_ID=$(\"${GPG}\" \"${GPG_ARGS[@]}\" --keyid-format 0xshort --list-public-key \"${GPG_KEY}\" | head -n 1 | grep -o \"0x[0-9A-F]*\" || true)\n+  fi\n+  read -r -p \"We think the key '${GPG_KEY}' corresponds to the key id '${GPG_KEY_ID}'. Is this correct [y/n? \" ANSWER", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19d1df6f841bf8d527bc95764163c96edd50430b"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4593b88543473af43d55fb2c733846dc1226956", "author": {"user": {"login": "busbey", "name": "Sean Busbey"}}, "url": "https://github.com/apache/hbase/commit/e4593b88543473af43d55fb2c733846dc1226956", "committedDate": "2020-07-02T22:28:26Z", "message": "addendum to fix the GPG KEY ID prompt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MDQwOTg1", "url": "https://github.com/apache/hbase/pull/2001#pullrequestreview-446040985", "createdAt": "2020-07-09T23:53:17Z", "commit": {"oid": "e4593b88543473af43d55fb2c733846dc1226956"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4440, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}