{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMzMyNTA2", "number": 1654, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0MDo0OFrOD5SbFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0MDo0OFrOD5SbFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMzk3MjcwOnYy", "diffSide": "RIGHT", "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0MDo0OFrOGQd1Ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwODoyNzoyM1rOGQfUBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkxOTE2Mw==", "bodyText": "Shall we use para{} log style?", "url": "https://github.com/apache/hbase/pull/1654#discussion_r419919163", "createdAt": "2020-05-05T07:40:48Z", "author": {"login": "Reidddddd"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl.java", "diffHunk": "@@ -225,11 +233,12 @@ void waitForRead(WriteEntry e) {\n     synchronized (readWaiters) {\n       while (readPoint.get() < e.getWriteNumber()) {\n         if (count % 100 == 0 && count > 0) {\n-          LOG.warn(\"STUCK: \" + this);\n+          long totalWaitTillNow = READPOINT_ADVANCE_WAIT_TIME * count;\n+          LOG.warn(\"STUCK for : \" + totalWaitTillNow + \" millis. \" + this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d6f1693335091559a27316fc02361146022e674"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkyMjc2NQ==", "bodyText": "Ideally WARN level will be enabled always. That is why I thought its ok to keep this existing way. I pushed master branch already this way. If u strongly feel we need to change,  I can change. Might have to put addendum on Master. wdyt?", "url": "https://github.com/apache/hbase/pull/1654#discussion_r419922765", "createdAt": "2020-05-05T07:48:07Z", "author": {"login": "anoopsjohn"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl.java", "diffHunk": "@@ -225,11 +233,12 @@ void waitForRead(WriteEntry e) {\n     synchronized (readWaiters) {\n       while (readPoint.get() < e.getWriteNumber()) {\n         if (count % 100 == 0 && count > 0) {\n-          LOG.warn(\"STUCK: \" + this);\n+          long totalWaitTillNow = READPOINT_ADVANCE_WAIT_TIME * count;\n+          LOG.warn(\"STUCK for : \" + totalWaitTillNow + \" millis. \" + this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkxOTE2Mw=="}, "originalCommit": {"oid": "2d6f1693335091559a27316fc02361146022e674"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkzMjc2Mg==", "bodyText": "ok, it's fine", "url": "https://github.com/apache/hbase/pull/1654#discussion_r419932762", "createdAt": "2020-05-05T08:07:31Z", "author": {"login": "Reidddddd"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl.java", "diffHunk": "@@ -225,11 +233,12 @@ void waitForRead(WriteEntry e) {\n     synchronized (readWaiters) {\n       while (readPoint.get() < e.getWriteNumber()) {\n         if (count % 100 == 0 && count > 0) {\n-          LOG.warn(\"STUCK: \" + this);\n+          long totalWaitTillNow = READPOINT_ADVANCE_WAIT_TIME * count;\n+          LOG.warn(\"STUCK for : \" + totalWaitTillNow + \" millis. \" + this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkxOTE2Mw=="}, "originalCommit": {"oid": "2d6f1693335091559a27316fc02361146022e674"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk0MzQyOQ==", "bodyText": "I mean it's ok to keep the same, since it is already in master.", "url": "https://github.com/apache/hbase/pull/1654#discussion_r419943429", "createdAt": "2020-05-05T08:27:23Z", "author": {"login": "Reidddddd"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl.java", "diffHunk": "@@ -225,11 +233,12 @@ void waitForRead(WriteEntry e) {\n     synchronized (readWaiters) {\n       while (readPoint.get() < e.getWriteNumber()) {\n         if (count % 100 == 0 && count > 0) {\n-          LOG.warn(\"STUCK: \" + this);\n+          long totalWaitTillNow = READPOINT_ADVANCE_WAIT_TIME * count;\n+          LOG.warn(\"STUCK for : \" + totalWaitTillNow + \" millis. \" + this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkxOTE2Mw=="}, "originalCommit": {"oid": "2d6f1693335091559a27316fc02361146022e674"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1743, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}