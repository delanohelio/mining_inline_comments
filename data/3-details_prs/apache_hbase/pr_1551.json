{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1ODA4MDgw", "number": 1551, "title": "HBASE-24196 [Shell] Add rename rsgroup command in hbase shell", "bodyText": "JIRA link: HBASE-24196", "createdAt": "2020-04-20T03:54:07Z", "url": "https://github.com/apache/hbase/pull/1551", "merged": true, "mergeCommit": {"oid": "9cddac01badfd64afae34e8048f4a6607bcc2b0e"}, "closed": true, "closedAt": "2020-04-21T02:22:34Z", "author": {"login": "Reidddddd"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZW3oiAH2gAyNDA1ODA4MDgwOjA2MDE3YjIxMjExNTAyODMyNTlkYzFiNjQ3NWMxYmViN2M4OGNkYzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZgHIAAH2gAyNDA1ODA4MDgwOmRjMTNhMTI2ZTFmMTg1NzkyYTFlNGMzNTg3OGM4MTE5MTU5NDAwM2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "06017b2121150283259dc1b6475c1beb7c88cdc5", "author": {"user": {"login": "Reidddddd", "name": "Reid Chan"}}, "url": "https://github.com/apache/hbase/commit/06017b2121150283259dc1b6475c1beb7c88cdc5", "committedDate": "2020-04-20T03:52:52Z", "message": "HBASE-24196 [Shell] Add rename rsgroup command in hbase shell"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MzM5Mzc1", "url": "https://github.com/apache/hbase/pull/1551#pullrequestreview-396339375", "createdAt": "2020-04-20T10:43:00Z", "commit": {"oid": "06017b2121150283259dc1b6475c1beb7c88cdc5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MzQyMDYy", "url": "https://github.com/apache/hbase/pull/1551#pullrequestreview-396342062", "createdAt": "2020-04-20T10:47:28Z", "commit": {"oid": "06017b2121150283259dc1b6475c1beb7c88cdc5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMDo0NzoyOFrOGIOd6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMDo0NzoyOFrOGIOd6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI3ODgyNw==", "bodyText": "Does it make sense to also check if the old rsgroup is gone?", "url": "https://github.com/apache/hbase/pull/1551#discussion_r411278827", "createdAt": "2020-04-20T10:47:28Z", "author": {"login": "HorizonNet"}, "path": "hbase-shell/src/test/ruby/shell/rsgroup_shell_test.rb", "diffHunk": "@@ -127,5 +127,17 @@ def setup\n         @hbase.rsgroup_admin().get_rsgroup_of_table('foobar')\n       end\n     end\n+\n+    define_test 'Test rsgroup rename' do\n+      old_rs_group_name = 'test_group'\n+      new_rs_group_name = 'renamed_test_group'\n+      table_name = 'test_table'\n+\n+      @hbase.rsgroup_admin.rename_rsgroup(old_rs_group_name, new_rs_group_name)\n+      assert_not_nil(@admin.getRSGroup(new_rs_group_name))\n+      assert_equal(1, @admin.getRSGroup(new_rs_group_name).getServers.count)\n+      assert_equal(1, @admin.listTablesInRSGroup(new_rs_group_name).count)\n+      assert_true(@admin.listTablesInRSGroup(new_rs_group_name).contains(org.apache.hadoop.hbase.TableName.valueOf(table_name)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06017b2121150283259dc1b6475c1beb7c88cdc5"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc13a126e1f185792a1e4c35878c81191594003d", "author": {"user": {"login": "Reidddddd", "name": "Reid Chan"}}, "url": "https://github.com/apache/hbase/commit/dc13a126e1f185792a1e4c35878c81191594003d", "committedDate": "2020-04-20T14:38:56Z", "message": "Addressed review comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2196, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}