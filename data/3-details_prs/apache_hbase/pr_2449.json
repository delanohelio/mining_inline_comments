{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxOTUzNDQ1", "number": 2449, "title": "HBASE-25091 Move LogComparator from ReplicationSource to AbstractFSWA\u2026", "bodyText": "\u2026LProvider#.WALsStartTimeComparator\nGive the comparator a more descriptive name, a better location,\nand make it work even when passed hbase:meta WAL files.", "createdAt": "2020-09-23T18:14:47Z", "url": "https://github.com/apache/hbase/pull/2449", "merged": true, "mergeCommit": {"oid": "3b91a15183482a243a443509dfc7385fac856beb"}, "closed": true, "closedAt": "2020-10-01T17:04:59Z", "author": {"login": "saintstack"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdL35HbAFqTQ5NTE3OTk1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOKm01AFqTUwMDAxOTA3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MTc5OTUz", "url": "https://github.com/apache/hbase/pull/2449#pullrequestreview-495179953", "createdAt": "2020-09-24T02:37:23Z", "commit": {"oid": "fb3ddfd265403f6fff8abcb0bfd053eb93aaed6e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMjozNzoyM1rOHXHorw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMjozNzoyM1rOHXHorw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDAwNDM5OQ==", "bodyText": "WALFileStartTimeComparator is better? We are comparing Paths here.", "url": "https://github.com/apache/hbase/pull/2449#discussion_r494004399", "createdAt": "2020-09-24T02:37:23Z", "author": {"login": "Apache9"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.java", "diffHunk": "@@ -418,6 +419,30 @@ public static boolean isMetaFile(String p) {\n     return p != null && p.endsWith(META_WAL_PROVIDER_ID);\n   }\n \n+  /**\n+   * Comparator used to compare logs together based on their start time.\n+   * Just compares start times and nothing else.\n+   */\n+  public static class WALsStartTimeComparator implements Comparator<Path> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb3ddfd265403f6fff8abcb0bfd053eb93aaed6e"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb3ddfd265403f6fff8abcb0bfd053eb93aaed6e", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/fb3ddfd265403f6fff8abcb0bfd053eb93aaed6e", "committedDate": "2020-09-23T18:11:54Z", "message": "HBASE-25091 Move LogComparator from ReplicationSource to AbstractFSWALProvider#.WALsStartTimeComparator\n\nGive the comparator a more descriptive name, a better location,\nand make it work even when passed hbase:meta WAL files."}, "afterCommit": {"oid": "33dbbe6b8480ca8077485fa5ce92ab9a6eab1e3a", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/33dbbe6b8480ca8077485fa5ce92ab9a6eab1e3a", "committedDate": "2020-09-24T18:48:48Z", "message": "HBASE-25091 Move LogComparator from ReplicationSource to AbstractFSWALProvider#.WALsStartTimeComparator\n\nGive the comparator a more descriptive name, a better location,\nand make it work even when passed hbase:meta WAL files."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MjM5NDAz", "url": "https://github.com/apache/hbase/pull/2449#pullrequestreview-496239403", "createdAt": "2020-09-25T09:01:56Z", "commit": {"oid": "33dbbe6b8480ca8077485fa5ce92ab9a6eab1e3a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwOTowMTo1N1rOHX7PvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwOTowMTo1N1rOHX7PvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDg0OTk4MA==", "bodyText": "I mean is it better to change 'WALs' to 'WALFile'? Or at least to 'WAL'? 'WALs' looks strange...", "url": "https://github.com/apache/hbase/pull/2449#discussion_r494849980", "createdAt": "2020-09-25T09:01:57Z", "author": {"login": "Apache9"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.java", "diffHunk": "@@ -418,6 +419,30 @@ public static boolean isMetaFile(String p) {\n     return p != null && p.endsWith(META_WAL_PROVIDER_ID);\n   }\n \n+  /**\n+   * Comparator used to compare logs together based on their start time.\n+   * Just compares start times and nothing else.\n+   */\n+  public static class WALsStartTimeComparator implements Comparator<Path> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDAwNDM5OQ=="}, "originalCommit": {"oid": "fb3ddfd265403f6fff8abcb0bfd053eb93aaed6e"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e689e893ad13e84e094455444564964e33250ff", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/8e689e893ad13e84e094455444564964e33250ff", "committedDate": "2020-09-30T17:18:53Z", "message": "HBASE-25091 Move LogComparator from ReplicationSource to AbstractFSWALProvider#.WALsStartTimeComparator\n\nGive the comparator a more descriptive name, a better location,\nand make it work even when passed hbase:meta WAL files.\n\nSigned-off-by: Duo Zhang <zhangduo@apache.org>\nSigned-off-by: Guanghao Zhang <zghao@apache.org>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33dbbe6b8480ca8077485fa5ce92ab9a6eab1e3a", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/33dbbe6b8480ca8077485fa5ce92ab9a6eab1e3a", "committedDate": "2020-09-24T18:48:48Z", "message": "HBASE-25091 Move LogComparator from ReplicationSource to AbstractFSWALProvider#.WALsStartTimeComparator\n\nGive the comparator a more descriptive name, a better location,\nand make it work even when passed hbase:meta WAL files."}, "afterCommit": {"oid": "8e689e893ad13e84e094455444564964e33250ff", "author": {"user": {"login": "saintstack", "name": "Michael Stack"}}, "url": "https://github.com/apache/hbase/commit/8e689e893ad13e84e094455444564964e33250ff", "committedDate": "2020-09-30T17:18:53Z", "message": "HBASE-25091 Move LogComparator from ReplicationSource to AbstractFSWALProvider#.WALsStartTimeComparator\n\nGive the comparator a more descriptive name, a better location,\nand make it work even when passed hbase:meta WAL files.\n\nSigned-off-by: Duo Zhang <zhangduo@apache.org>\nSigned-off-by: Guanghao Zhang <zghao@apache.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMDE5MDc3", "url": "https://github.com/apache/hbase/pull/2449#pullrequestreview-500019077", "createdAt": "2020-10-01T05:33:38Z", "commit": {"oid": "8e689e893ad13e84e094455444564964e33250ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4557, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}