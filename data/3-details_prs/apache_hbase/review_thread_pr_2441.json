{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMjEzNTE2", "number": 2441, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMDo1ODowNVrOEnmdjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMDo1ODowNVrOEnmdjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5OTYwMDc5OnYy", "diffSide": "RIGHT", "path": "dev-support/hbase-vote.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMDo1ODowNVrOHYSRaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMTowNjo0MVrOHYSe1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIyNzI0MQ==", "bodyText": "[nit] should we add -Dsurefire.rerunFailingTestsCount=3 as part of the output?", "url": "https://github.com/apache/hbase/pull/2441#discussion_r495227241", "createdAt": "2020-09-25T20:58:05Z", "author": {"login": "taklwu"}, "path": "dev-support/hbase-vote.sh", "diffHunk": "@@ -164,11 +167,11 @@ function print_when_exit() {\n         * Signature: $( ((SIGNATURE_PASSED)) && echo \"ok\" || echo \"failed\" )\n         * Checksum : $( ((CHECKSUM_PASSED)) && echo \"ok\" || echo \"failed\" )\n         * Rat check (${JAVA_VERSION}): $( ((RAT_CHECK_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn clean apache-rat:check\n+         - mvn clean apache-rat:check \"${MVN_PROPERTIES}\"\n         * Built from source (${JAVA_VERSION}): $( ((BUILD_FROM_SOURCE_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn clean install -DskipTests\n+         - mvn clean install -DskipTests \"${MVN_PROPERTIES}\"\n         * Unit tests pass (${JAVA_VERSION}): $( ((UNIT_TEST_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn package ${MVN_ARGS}\n+         - mvn package ${MVN_PROFILES} \"${MVN_PROPERTIES}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0f0eb5658ca78cd3e7ea590a9e159a9543a78ab"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIzMDY3Nw==", "bodyText": "We can if you'd like. Since it's a \"standard\" part of the script, I don't think there's much value in adding it. I also wonder if it should be removed from the mvn invocation; in my experience, the tests that are flakey are cluster tests, and cluster tests tend to not clean up after themselves well enough to have a surefire rerun launch in a valid environment -- usually the retries fail due to \"unable to start cluster\" or similar setup nonsense.", "url": "https://github.com/apache/hbase/pull/2441#discussion_r495230677", "createdAt": "2020-09-25T21:06:41Z", "author": {"login": "ndimiduk"}, "path": "dev-support/hbase-vote.sh", "diffHunk": "@@ -164,11 +167,11 @@ function print_when_exit() {\n         * Signature: $( ((SIGNATURE_PASSED)) && echo \"ok\" || echo \"failed\" )\n         * Checksum : $( ((CHECKSUM_PASSED)) && echo \"ok\" || echo \"failed\" )\n         * Rat check (${JAVA_VERSION}): $( ((RAT_CHECK_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn clean apache-rat:check\n+         - mvn clean apache-rat:check \"${MVN_PROPERTIES}\"\n         * Built from source (${JAVA_VERSION}): $( ((BUILD_FROM_SOURCE_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn clean install -DskipTests\n+         - mvn clean install -DskipTests \"${MVN_PROPERTIES}\"\n         * Unit tests pass (${JAVA_VERSION}): $( ((UNIT_TEST_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn package ${MVN_ARGS}\n+         - mvn package ${MVN_PROFILES} \"${MVN_PROPERTIES}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIyNzI0MQ=="}, "originalCommit": {"oid": "c0f0eb5658ca78cd3e7ea590a9e159a9543a78ab"}, "originalPosition": 89}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2503, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}