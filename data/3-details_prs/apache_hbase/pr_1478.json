{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNzI5NjMz", "number": 1478, "title": "HBASE-24137:The max merge count of metafixer may be remind in hbase-site.xml", "bodyText": "", "createdAt": "2020-04-10T02:34:47Z", "url": "https://github.com/apache/hbase/pull/1478", "merged": true, "mergeCommit": {"oid": "3d96007c37f1a6b8e8b9aa581717b9a749e08f61"}, "closed": true, "closedAt": "2020-05-05T23:14:15Z", "author": {"login": "gentlewangyu"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWHtgBgH2gAyNDAxNzI5NjMzOmM1ZmE3ZDcwYmNkZGQ4NGI2ZjA0ZGU3N2ZkMTViNDlmZTk5ODEzN2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceVqOKAH2gAyNDAxNzI5NjMzOmQ3MmQ4ZTE0YTNlZjFjYTFhN2NmZGZlYjg5ZjJjZWY0MGZlNzFkYjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/c5fa7d70bcddd84b6f04de77fd15b49fe998137d", "committedDate": "2020-04-10T02:31:27Z", "message": "The max merge count of metafixer should be configurable in MetaFixer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjY4MDIz", "url": "https://github.com/apache/hbase/pull/1478#pullrequestreview-391268023", "createdAt": "2020-04-10T05:07:18Z", "commit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNTowNzoxOFrOGDxIzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNTowNzoxOFrOGDxIzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwMzk4MQ==", "bodyText": "It was configurable before this change? You could add\n  \n    hbase.master.metafixer.max.merge.count\n    11\n    configure the max merge count\n  \n...\nto your hbase-site.xml and away you go?\nBut maybe you think it deserves mention in the hbase-default.xml so operators can find it easier? If so, I'd suggest a fuller description.\nThanks.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r406603981", "createdAt": "2020-04-10T05:07:18Z", "author": {"login": "saintstack"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetaFixer.java", "diffHunk": "@@ -63,7 +61,7 @@\n   MetaFixer(MasterServices masterServices) {\n     this.masterServices = masterServices;\n     this.maxMergeCount = this.masterServices.getConfiguration().\n-        getInt(MAX_MERGE_COUNT_KEY, MAX_MERGE_COUNT_DEFAULT);\n+        getInt(\"hbase.master.metafixer.max.merge.count\", 10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8501b9d8c6fbd8070eb8e888b15989fb18870646", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/8501b9d8c6fbd8070eb8e888b15989fb18870646", "committedDate": "2020-04-10T07:49:35Z", "message": "add description of configure the max merge count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a06f41d24ebc8b7362524aa32201e8932e966b2", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/3a06f41d24ebc8b7362524aa32201e8932e966b2", "committedDate": "2020-04-15T03:21:11Z", "message": "The max merge count of metafixer may be remind in hbase-site.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTU2MDM1", "url": "https://github.com/apache/hbase/pull/1478#pullrequestreview-393956035", "createdAt": "2020-04-15T16:49:42Z", "commit": {"oid": "3a06f41d24ebc8b7362524aa32201e8932e966b2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0OTo0MlrOGGCqmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0OTo0MlrOGGCqmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4ODMxMw==", "bodyText": "How about\n\nThe maximum regions to merge in one operation when fixing overlaps noted in the CatalogJanitor consistency report.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r408988313", "createdAt": "2020-04-15T16:49:42Z", "author": {"login": "ndimiduk"}, "path": "hbase-common/src/main/resources/hbase-default.xml", "diffHunk": "@@ -1946,4 +1946,10 @@ possible configurations would overwhelm and obscure the important.\n       responses with complete data.\n     </description>\n   </property>\n+  <property>\n+    <name>hbase.master.metafixer.max.merge.count</name>\n+    <value>10</value>\n+    <description>Maximum regions to merge at a time when we fix overlaps noted in\n+      CJ consistency report, but avoid merging 100 regions in one go!</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a06f41d24ebc8b7362524aa32201e8932e966b2"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50bd97cfa8cc152355c3576822c8c4fffed2b04b", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/50bd97cfa8cc152355c3576822c8c4fffed2b04b", "committedDate": "2020-04-16T02:01:25Z", "message": "add description to hbase-default.adoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMzE2MzUy", "url": "https://github.com/apache/hbase/pull/1478#pullrequestreview-391316352", "createdAt": "2020-04-10T07:54:00Z", "commit": {"oid": "8501b9d8c6fbd8070eb8e888b15989fb18870646"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNzo1NDowMFrOGDz1UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNzo1NDowMFrOGDz1UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY0ODE0NA==", "bodyText": "I think should be add hbase.master.metafixer.max.merge.count in hbase-default.xml that so operators can change it easier. I have added fuller description in hbase-default.xml.\nThanks", "url": "https://github.com/apache/hbase/pull/1478#discussion_r406648144", "createdAt": "2020-04-10T07:54:00Z", "author": {"login": "gentlewangyu"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetaFixer.java", "diffHunk": "@@ -63,7 +61,7 @@\n   MetaFixer(MasterServices masterServices) {\n     this.masterServices = masterServices;\n     this.maxMergeCount = this.masterServices.getConfiguration().\n-        getInt(MAX_MERGE_COUNT_KEY, MAX_MERGE_COUNT_DEFAULT);\n+        getInt(\"hbase.master.metafixer.max.merge.count\", 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwMzk4MQ=="}, "originalCommit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9c9f5f976e1ef410e312fddda8b37d666373ee0", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/b9c9f5f976e1ef410e312fddda8b37d666373ee0", "committedDate": "2020-04-28T17:14:10Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzY5MzYy", "url": "https://github.com/apache/hbase/pull/1478#pullrequestreview-405369362", "createdAt": "2020-05-04T21:42:33Z", "commit": {"oid": "b9c9f5f976e1ef410e312fddda8b37d666373ee0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTo0MjozM1rOGQTTbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTo0MjozM1rOGQTTbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NjY3MQ==", "bodyText": "The default changed.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r419746671", "createdAt": "2020-05-04T21:42:33Z", "author": {"login": "saintstack"}, "path": "hbase-common/src/main/resources/hbase-default.xml", "diffHunk": "@@ -1946,6 +1946,14 @@ possible configurations would overwhelm and obscure the important.\n       responses with complete data.\n     </description>\n   </property>\n+  <property>\n+    <name>hbase.master.metafixer.max.merge.count</name>\n+    <value>10</value>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9c9f5f976e1ef410e312fddda8b37d666373ee0"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d72d8e14a3ef1ca1a7cfdfeb89f2cef40fe71db9", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/d72d8e14a3ef1ca1a7cfdfeb89f2cef40fe71db9", "committedDate": "2020-05-05T15:17:56Z", "message": "change default value"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2385, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}