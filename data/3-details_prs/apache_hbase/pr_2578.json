{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3OTczNjAy", "number": 2578, "title": "HBASE-24768 Clear cached service kerberos ticket in case of SASL fail\u2026", "bodyText": "\u2026ures thrown from server side", "createdAt": "2020-10-22T02:41:58Z", "url": "https://github.com/apache/hbase/pull/2578", "merged": true, "mergeCommit": {"oid": "0b48208bd54bb201c6103c195146727ed000a9da"}, "closed": true, "closedAt": "2020-10-29T21:23:53Z", "author": {"login": "sguggilam"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdU4td6AH2gAyNTA3OTczNjAyOjYxZmM4ODA3NDU2OWQzMDEwYWRhOWFhMWQ4ZGU3NjA0YmU2OTM2NGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXYtfPAFqTUyMDA4NTUyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "61fc88074569d3010ada9aa1d8de7604be69364c", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/61fc88074569d3010ada9aa1d8de7604be69364c", "committedDate": "2020-10-22T02:40:04Z", "message": "HBASE-24768 Clear cached service kerberos ticket in case of SASL failures thrown from server side"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1OTM1NzA1", "url": "https://github.com/apache/hbase/pull/2578#pullrequestreview-515935705", "createdAt": "2020-10-23T19:05:56Z", "commit": {"oid": "61fc88074569d3010ada9aa1d8de7604be69364c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxOTowNTo1N1rOHnaYhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxOTowODo0MFrOHnaeYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA4ODc3NQ==", "bodyText": "Is there a reason this shouldn't default to 'true'? Otherwise we don't clear the cache and we should?", "url": "https://github.com/apache/hbase/pull/2578#discussion_r511088775", "createdAt": "2020-10-23T19:05:57Z", "author": {"login": "apurtell"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcConnection.java", "diffHunk": "@@ -126,8 +136,13 @@ protected RpcConnection(Configuration conf, HashedWheelTimer timeoutTimer, Conne\n       LOG.debug(\"Use \" + authMethod + \" authentication for service \" + remoteId.serviceName\n           + \", sasl=\" + useSasl);\n     }\n+\n     reloginMaxBackoff = conf.getInt(\"hbase.security.relogin.maxbackoff\", 5000);\n     this.remoteId = remoteId;\n+\n+    forceReloginEnabled = conf.getBoolean(\"hbase.security.force.relogin.enabled\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61fc88074569d3010ada9aa1d8de7604be69364c"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA4OTk3NQ==", "bodyText": "Isn't this confusing now? Consider an operator or a tech writer looking at this code. What does \"maxbackoff\" mean? It's not the max time we would back off (5 seconds?) when now there is \"hbase.security.force.relogin.backoff\" at 600000 I assume milliseconds. These things need better naming, as an operator I have no clear idea what to do here.", "url": "https://github.com/apache/hbase/pull/2578#discussion_r511089975", "createdAt": "2020-10-23T19:08:16Z", "author": {"login": "apurtell"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcConnection.java", "diffHunk": "@@ -126,8 +136,13 @@ protected RpcConnection(Configuration conf, HashedWheelTimer timeoutTimer, Conne\n       LOG.debug(\"Use \" + authMethod + \" authentication for service \" + remoteId.serviceName\n           + \", sasl=\" + useSasl);\n     }\n+\n     reloginMaxBackoff = conf.getInt(\"hbase.security.relogin.maxbackoff\", 5000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61fc88074569d3010ada9aa1d8de7604be69364c"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA5MDI3NQ==", "bodyText": "See above comment. These config names do not help an operator to know what to do at all.", "url": "https://github.com/apache/hbase/pull/2578#discussion_r511090275", "createdAt": "2020-10-23T19:08:40Z", "author": {"login": "apurtell"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcConnection.java", "diffHunk": "@@ -126,8 +136,13 @@ protected RpcConnection(Configuration conf, HashedWheelTimer timeoutTimer, Conne\n       LOG.debug(\"Use \" + authMethod + \" authentication for service \" + remoteId.serviceName\n           + \", sasl=\" + useSasl);\n     }\n+\n     reloginMaxBackoff = conf.getInt(\"hbase.security.relogin.maxbackoff\", 5000);\n     this.remoteId = remoteId;\n+\n+    forceReloginEnabled = conf.getBoolean(\"hbase.security.force.relogin.enabled\", false);\n+    // Default minimum time between force relogin attempts is 10 minutes\n+    this.forceReloginBackoff = conf.getInt(\"hbase.security.force.relogin.backoff\", 10 * 60 * 1000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61fc88074569d3010ada9aa1d8de7604be69364c"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57ceb69e0c4deab90e7634e63a3ef7ceabb91229", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/57ceb69e0c4deab90e7634e63a3ef7ceabb91229", "committedDate": "2020-10-26T20:50:28Z", "message": "Better renaming of configuration key for force relogin attempts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MjcxODU2", "url": "https://github.com/apache/hbase/pull/2578#pullrequestreview-518271856", "createdAt": "2020-10-28T01:58:20Z", "commit": {"oid": "57ceb69e0c4deab90e7634e63a3ef7ceabb91229"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDg1NTIx", "url": "https://github.com/apache/hbase/pull/2578#pullrequestreview-520085521", "createdAt": "2020-10-29T21:04:54Z", "commit": {"oid": "57ceb69e0c4deab90e7634e63a3ef7ceabb91229"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4441, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}