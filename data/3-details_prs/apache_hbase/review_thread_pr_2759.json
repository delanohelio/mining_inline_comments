{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NDgxMjMw", "number": 2759, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODo0NDowOFrOFDoL2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxOToxMTo0MFrOFDo4sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzQ4NDQzOnYy", "diffSide": "RIGHT", "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/MetaTableAccessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODo0NDowOFrOIDYBzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMDowOToyNVrOIIG38Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQxMDMxNw==", "bodyText": "Worth noting at trace level? Might be fun to enable trace logging on this class and see what users are sending in?", "url": "https://github.com/apache/hbase/pull/2759#discussion_r540410317", "createdAt": "2020-12-10T18:44:08Z", "author": {"login": "saintstack"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/MetaTableAccessor.java", "diffHunk": "@@ -279,7 +279,9 @@ public static HRegionLocation getRegionLocation(Connection connection, byte[] re\n       parsedInfo = parseRegionInfoFromRegionName(regionName);\n       row = getMetaKeyForRegion(parsedInfo);\n     } catch (Exception parseEx) {\n-      // Ignore. This is used with tableName passed as regionName.\n+      // If it is not a valid regionName(i.e, tableName), it needs to return null here\n+      // as querying meta table wont help.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b67ccf5c41d1f28c5d46ac7d1832dab6efc4c1af"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM3MjE0NQ==", "bodyText": "I think non-regionName input comes from hbase shell, where user can input table name.", "url": "https://github.com/apache/hbase/pull/2759#discussion_r545372145", "createdAt": "2020-12-17T20:09:25Z", "author": {"login": "huaxiangsun"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/MetaTableAccessor.java", "diffHunk": "@@ -279,7 +279,9 @@ public static HRegionLocation getRegionLocation(Connection connection, byte[] re\n       parsedInfo = parseRegionInfoFromRegionName(regionName);\n       row = getMetaKeyForRegion(parsedInfo);\n     } catch (Exception parseEx) {\n-      // Ignore. This is used with tableName passed as regionName.\n+      // If it is not a valid regionName(i.e, tableName), it needs to return null here\n+      // as querying meta table wont help.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQxMDMxNw=="}, "originalCommit": {"oid": "b67ccf5c41d1f28c5d46ac7d1832dab6efc4c1af"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzQ5ODQxOnYy", "diffSide": "RIGHT", "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODo0NzoyMVrOIDYJ6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxOTowODo0MVrOIDY-nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQxMjM5NQ==", "bodyText": "There is Bytes.isHexDigit.  It is missing (c >= 'a' && c <= 'f'). Bytes might be better place for this than here?", "url": "https://github.com/apache/hbase/pull/2759#discussion_r540412395", "createdAt": "2020-12-10T18:47:21Z", "author": {"login": "saintstack"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java", "diffHunk": "@@ -1935,6 +1936,22 @@ protected Void postOperationResult(final Void result, final long deadlineTs)\n     }\n   }\n \n+  private boolean isHexChar(char c) {\n+    return (c >= 'A' && c <= 'F') || (c >= 'a' && c <= 'f') || (c >= '0' && c <= '9');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b67ccf5c41d1f28c5d46ac7d1832dab6efc4c1af"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQyNTg4NA==", "bodyText": "I tried poking around.. you'd think this sort of thing would be available in a lib... but I couldn't find an easy ref after looking for 5 mins.", "url": "https://github.com/apache/hbase/pull/2759#discussion_r540425884", "createdAt": "2020-12-10T19:08:41Z", "author": {"login": "saintstack"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java", "diffHunk": "@@ -1935,6 +1936,22 @@ protected Void postOperationResult(final Void result, final long deadlineTs)\n     }\n   }\n \n+  private boolean isHexChar(char c) {\n+    return (c >= 'A' && c <= 'F') || (c >= 'a' && c <= 'f') || (c >= '0' && c <= '9');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQxMjM5NQ=="}, "originalCommit": {"oid": "b67ccf5c41d1f28c5d46ac7d1832dab6efc4c1af"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzU5OTIwOnYy", "diffSide": "RIGHT", "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxOToxMTo0MFrOIDZFhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMDoxMDozOVrOIIG6ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQyNzY1NA==", "bodyText": "Yeah, this should be elsewhere too (RegionInfo as a static since that is where you get the MD5 length from?)... Capitalize the 'd'.... so MD5, not md5.", "url": "https://github.com/apache/hbase/pull/2759#discussion_r540427654", "createdAt": "2020-12-10T19:11:40Z", "author": {"login": "saintstack"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java", "diffHunk": "@@ -1935,6 +1936,22 @@ protected Void postOperationResult(final Void result, final long deadlineTs)\n     }\n   }\n \n+  private boolean isHexChar(char c) {\n+    return (c >= 'A' && c <= 'F') || (c >= 'a' && c <= 'f') || (c >= '0' && c <= '9');\n+\n+  }\n+  private boolean isMd5Hash(String encodedRegionName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b67ccf5c41d1f28c5d46ac7d1832dab6efc4c1af"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM3Mjg1OA==", "bodyText": "Done. I put the new isMD5Hash() in RegionInfo and embed isHexDigit inside this method.", "url": "https://github.com/apache/hbase/pull/2759#discussion_r545372858", "createdAt": "2020-12-17T20:10:39Z", "author": {"login": "huaxiangsun"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java", "diffHunk": "@@ -1935,6 +1936,22 @@ protected Void postOperationResult(final Void result, final long deadlineTs)\n     }\n   }\n \n+  private boolean isHexChar(char c) {\n+    return (c >= 'A' && c <= 'F') || (c >= 'a' && c <= 'f') || (c >= '0' && c <= '9');\n+\n+  }\n+  private boolean isMd5Hash(String encodedRegionName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQyNzY1NA=="}, "originalCommit": {"oid": "b67ccf5c41d1f28c5d46ac7d1832dab6efc4c1af"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2341, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}