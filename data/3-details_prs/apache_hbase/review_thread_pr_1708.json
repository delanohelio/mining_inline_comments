{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NDU3MzU4", "number": 1708, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNVQxOTo0NToyNFrOFmJvtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNVQxOTo0NTo0OFrOFmJwbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzc1NTQ5ODc5OnYy", "diffSide": "RIGHT", "path": "bin/hbase", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNVQxOTo0NToyNFrOI3FnNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNlQwMDo0MzoxMVrOI3OxgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDU0OA==", "bodyText": "Make a function of this filtering so don't have to repeat code?", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594634548", "createdAt": "2021-03-15T19:45:24Z", "author": {"login": "saintstack"}, "path": "bin/hbase", "diffHunk": "@@ -658,7 +663,10 @@ elif [ \"$COMMAND\" = \"mapredcp\" ] ; then\n     for f in \"${HBASE_HOME}\"/lib/client-facing-thirdparty/*.jar; do\n       if [[ ! \"${f}\" =~ ^.*/htrace-core-3.*\\.jar$ ]] && \\\n          [ \"${f}\" != \"htrace-core.jar$\" ] && \\\n-         [[ ! \"${f}\" =~ ^.*/slf4j-log4j.*$ ]]; then\n+         [[ ! \"${f}\" =~ ^.*/log4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/slf4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/jcl-over-slf4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/jul-to-slf4j.*$ ]]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDc4NDY0MA==", "bodyText": "Let me check this.", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594784640", "createdAt": "2021-03-16T00:43:11Z", "author": {"login": "Apache9"}, "path": "bin/hbase", "diffHunk": "@@ -658,7 +663,10 @@ elif [ \"$COMMAND\" = \"mapredcp\" ] ; then\n     for f in \"${HBASE_HOME}\"/lib/client-facing-thirdparty/*.jar; do\n       if [[ ! \"${f}\" =~ ^.*/htrace-core-3.*\\.jar$ ]] && \\\n          [ \"${f}\" != \"htrace-core.jar$\" ] && \\\n-         [[ ! \"${f}\" =~ ^.*/slf4j-log4j.*$ ]]; then\n+         [[ ! \"${f}\" =~ ^.*/log4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/slf4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/jcl-over-slf4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/jul-to-slf4j.*$ ]]; then", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDU0OA=="}, "originalCommit": {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzc1NTUwMDYxOnYy", "diffSide": "RIGHT", "path": "bin/hbase", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNVQxOTo0NTo0OFrOI3FoTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNlQwMTowNzo0NlrOI3PQfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA==", "bodyText": "Yeah, incompatible change but good for hbase3 I'd say.", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594634828", "createdAt": "2021-03-15T19:45:48Z", "author": {"login": "saintstack"}, "path": "bin/hbase", "diffHunk": "@@ -775,25 +783,31 @@ HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.dir=$HBASE_LOG_DIR\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.file=$HBASE_LOGFILE\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.home.dir=$HBASE_HOME\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.id.str=$HBASE_IDENT_STRING\"\n-HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger=${HBASE_ROOT_LOGGER:-INFO,console}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.level=${HBASE_ROOT_LOGGER_LEVEL:-INFO}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.appender=${HBASE_ROOT_LOGGER_APPENDER:-console}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNTUwMg==", "bodyText": "If HBASE_ROOT_LOGGER defined, do you want to try parsing it and using result to populate HBASE_ROOT_LOGGER_LEVEL, etc.", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594635502", "createdAt": "2021-03-15T19:46:59Z", "author": {"login": "saintstack"}, "path": "bin/hbase", "diffHunk": "@@ -775,25 +783,31 @@ HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.dir=$HBASE_LOG_DIR\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.file=$HBASE_LOGFILE\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.home.dir=$HBASE_HOME\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.id.str=$HBASE_IDENT_STRING\"\n-HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger=${HBASE_ROOT_LOGGER:-INFO,console}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.level=${HBASE_ROOT_LOGGER_LEVEL:-INFO}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.appender=${HBASE_ROOT_LOGGER_APPENDER:-console}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA=="}, "originalCommit": {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDc4NDY4Mw==", "bodyText": "Let me try...", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594784683", "createdAt": "2021-03-16T00:43:21Z", "author": {"login": "Apache9"}, "path": "bin/hbase", "diffHunk": "@@ -775,25 +783,31 @@ HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.dir=$HBASE_LOG_DIR\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.file=$HBASE_LOGFILE\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.home.dir=$HBASE_HOME\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.id.str=$HBASE_IDENT_STRING\"\n-HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger=${HBASE_ROOT_LOGGER:-INFO,console}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.level=${HBASE_ROOT_LOGGER_LEVEL:-INFO}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.appender=${HBASE_ROOT_LOGGER_APPENDER:-console}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA=="}, "originalCommit": {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDc5MjU3Mg==", "bodyText": "Seems log4j2 also supports properties files in newer versions now. Let me see if we could use a property file so we could still use the old config pattern.", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594792572", "createdAt": "2021-03-16T01:07:46Z", "author": {"login": "Apache9"}, "path": "bin/hbase", "diffHunk": "@@ -775,25 +783,31 @@ HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.dir=$HBASE_LOG_DIR\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.file=$HBASE_LOGFILE\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.home.dir=$HBASE_HOME\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.id.str=$HBASE_IDENT_STRING\"\n-HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger=${HBASE_ROOT_LOGGER:-INFO,console}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.level=${HBASE_ROOT_LOGGER_LEVEL:-INFO}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.appender=${HBASE_ROOT_LOGGER_APPENDER:-console}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA=="}, "originalCommit": {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1773, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}