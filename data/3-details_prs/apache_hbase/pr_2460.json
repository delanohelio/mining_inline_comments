{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyOTgxODA1", "number": 2460, "title": "HBASE-25098 ReplicationStatisticsChore runs in wrong time unit", "bodyText": "", "createdAt": "2020-09-25T10:29:22Z", "url": "https://github.com/apache/hbase/pull/2460", "merged": true, "mergeCommit": {"oid": "380585ef20d8139e9aadffa4adb8189fa3824554"}, "closed": true, "closedAt": "2020-09-26T11:49:03Z", "author": {"login": "ddupg"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMUmgMgBqjM4MDczOTIxNjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMmVAmAFqTQ5Njk2NTE5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19db79c1a3256f7510975af69db110609c297827", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/19db79c1a3256f7510975af69db110609c297827", "committedDate": "2020-09-25T10:28:21Z", "message": "HBASE-25098 ReplicationStatisticsChore runs in wrong time unit"}, "afterCommit": {"oid": "b87929a468e1b134d85bac6428605499b2aa61d0", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/b87929a468e1b134d85bac6428605499b2aa61d0", "committedDate": "2020-09-25T12:02:59Z", "message": "HBASE-25098 ReplicationStatisticsChore runs in wrong time unit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MzcwNDQ1", "url": "https://github.com/apache/hbase/pull/2460#pullrequestreview-496370445", "createdAt": "2020-09-25T12:24:04Z", "commit": {"oid": "b87929a468e1b134d85bac6428605499b2aa61d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NjQwMjUz", "url": "https://github.com/apache/hbase/pull/2460#pullrequestreview-496640253", "createdAt": "2020-09-25T18:09:50Z", "commit": {"oid": "b87929a468e1b134d85bac6428605499b2aa61d0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxODowOTo1MVrOHYNsog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxODoxMDowNVrOHYNtGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE1MjI5MA==", "bodyText": "You can use TimeUnit.SECONDS.toMillis(statsPeriodInSecond)", "url": "https://github.com/apache/hbase/pull/2460#discussion_r495152290", "createdAt": "2020-09-25T18:09:51Z", "author": {"login": "virajjasani"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/replication/ReplicationSinkServiceImpl.java", "diffHunk": "@@ -75,7 +75,8 @@ public void initialize(Server server, FileSystem fs, Path logdir, Path oldLogDir\n   public void startReplicationService() throws IOException {\n     this.replicationSink = new ReplicationSink(this.conf);\n     this.server.getChoreService().scheduleChore(\n-      new ReplicationStatisticsChore(\"ReplicationSinkStatistics\", server, statsPeriod));\n+        new ReplicationStatisticsChore(\"ReplicationSinkStatistics\", server,\n+            1000 * statsPeriodInSecond));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b87929a468e1b134d85bac6428605499b2aa61d0"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE1MjQwOQ==", "bodyText": "same here", "url": "https://github.com/apache/hbase/pull/2460#discussion_r495152409", "createdAt": "2020-09-25T18:10:05Z", "author": {"login": "virajjasani"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/Replication.java", "diffHunk": "@@ -169,7 +169,8 @@ public void stopReplicationService() {\n   public void startReplicationService() throws IOException {\n     this.replicationManager.init();\n     this.server.getChoreService().scheduleChore(\n-      new ReplicationStatisticsChore(\"ReplicationSourceStatistics\", server, statsPeriod));\n+      new ReplicationStatisticsChore(\"ReplicationSourceStatistics\", server,\n+          1000 * statsPeriodInSecond));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b87929a468e1b134d85bac6428605499b2aa61d0"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "780277f35152094fbc5167aed63931869ea133aa", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/780277f35152094fbc5167aed63931869ea133aa", "committedDate": "2020-09-26T07:08:03Z", "message": "HBASE-25098 ReplicationStatisticsChore runs in wrong time unit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b87929a468e1b134d85bac6428605499b2aa61d0", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/b87929a468e1b134d85bac6428605499b2aa61d0", "committedDate": "2020-09-25T12:02:59Z", "message": "HBASE-25098 ReplicationStatisticsChore runs in wrong time unit"}, "afterCommit": {"oid": "780277f35152094fbc5167aed63931869ea133aa", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/780277f35152094fbc5167aed63931869ea133aa", "committedDate": "2020-09-26T07:08:03Z", "message": "HBASE-25098 ReplicationStatisticsChore runs in wrong time unit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2OTY1MTk2", "url": "https://github.com/apache/hbase/pull/2460#pullrequestreview-496965196", "createdAt": "2020-09-26T08:43:40Z", "commit": {"oid": "780277f35152094fbc5167aed63931869ea133aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4595, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}