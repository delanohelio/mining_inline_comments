{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxOTAzNTU4", "number": 2448, "title": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFrom\u2026", "bodyText": "\u2026RegionName incorrectly setEndKey to regionId", "createdAt": "2020-09-23T16:34:39Z", "url": "https://github.com/apache/hbase/pull/2448", "merged": true, "mergeCommit": {"oid": "1093e34967f0e59c212c0d96ef611f0fff6c6f10"}, "closed": true, "closedAt": "2020-09-26T08:55:55Z", "author": {"login": "Joseph295"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdL2Y4PgFqTQ5NTE0OTkyNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMmWhRgFqTQ5Njk2NzA5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MTQ5OTI2", "url": "https://github.com/apache/hbase/pull/2448#pullrequestreview-495149926", "createdAt": "2020-09-24T00:52:26Z", "commit": {"oid": "9dee7eedcb889ab20e94d302a110ad557561a5e0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMDo1MjoyNlrOHXGBhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwMDo1MjoyNlrOHXGBhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk3Nzk5MA==", "bodyText": "Add ut for this?", "url": "https://github.com/apache/hbase/pull/2448#discussion_r493977990", "createdAt": "2020-09-24T00:52:26Z", "author": {"login": "infraio"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/CatalogFamilyFormat.java", "diffHunk": "@@ -101,7 +101,7 @@ public static RegionInfo parseRegionInfoFromRegionName(byte[] regionName) throws\n     long regionId = Long.parseLong(Bytes.toString(fields[2]));\n     int replicaId = fields.length > 3 ? Integer.parseInt(Bytes.toString(fields[3]), 16) : 0;\n     return RegionInfoBuilder.newBuilder(TableName.valueOf(fields[0])).setStartKey(fields[1])\n-      .setEndKey(fields[2]).setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();\n+      .setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dee7eedcb889ab20e94d302a110ad557561a5e0"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dee7eedcb889ab20e94d302a110ad557561a5e0", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/9dee7eedcb889ab20e94d302a110ad557561a5e0", "committedDate": "2020-09-23T16:32:24Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}, "afterCommit": {"oid": "752977a893b80d23ea4fda258b502b5a83aa3b83", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/752977a893b80d23ea4fda258b502b5a83aa3b83", "committedDate": "2020-09-24T15:17:13Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "752977a893b80d23ea4fda258b502b5a83aa3b83", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/752977a893b80d23ea4fda258b502b5a83aa3b83", "committedDate": "2020-09-24T15:17:13Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}, "afterCommit": {"oid": "66e7e0a68d063bfca4389b56d1eb8c16bf84c554", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/66e7e0a68d063bfca4389b56d1eb8c16bf84c554", "committedDate": "2020-09-24T15:19:56Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1OTcwNDcy", "url": "https://github.com/apache/hbase/pull/2448#pullrequestreview-495970472", "createdAt": "2020-09-24T21:40:11Z", "commit": {"oid": "66e7e0a68d063bfca4389b56d1eb8c16bf84c554"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMTo0MDoxMlrOHXtmZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMTo0MDoxMlrOHXtmZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDYyNjQwNg==", "bodyText": "NIT: As these variables are only used in the builder (and with that their purpose is also visible) below they can be directly used in the builder.", "url": "https://github.com/apache/hbase/pull/2448#discussion_r494626406", "createdAt": "2020-09-24T21:40:12Z", "author": {"login": "HorizonNet"}, "path": "hbase-client/src/test/java/org/apache/hadoop/hbase/TestCatalogFamilyFormat.java", "diffHunk": "@@ -70,4 +79,32 @@ public void testMetaReaderGetColumnMethods() {\n         HConstants.SEQNUM_QUALIFIER_STR + CatalogFamilyFormat.META_REPLICA_ID_DELIMITER + \"002A\"),\n       CatalogFamilyFormat.getSeqNumColumn(42));\n   }\n+\n+  /**\n+   * The info we can get from the regionName is: table name, start key, regionId, replicaId.\n+   */\n+  @Test\n+  public void testparseRegionInfoFromRegionName() throws IOException  {\n+    TableName tableName = TableName.valueOf(name.getMethodName());\n+    long regionId = 999999L;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66e7e0a68d063bfca4389b56d1eb8c16bf84c554"}, "originalPosition": 41}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66e7e0a68d063bfca4389b56d1eb8c16bf84c554", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/66e7e0a68d063bfca4389b56d1eb8c16bf84c554", "committedDate": "2020-09-24T15:19:56Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}, "afterCommit": {"oid": "ef90262f4066da88cffccfe24dc1e19d6b33e8cf", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/ef90262f4066da88cffccfe24dc1e19d6b33e8cf", "committedDate": "2020-09-25T06:05:34Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MjAyNjk3", "url": "https://github.com/apache/hbase/pull/2448#pullrequestreview-496202697", "createdAt": "2020-09-25T08:11:49Z", "commit": {"oid": "ef90262f4066da88cffccfe24dc1e19d6b33e8cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NDMxODQ0", "url": "https://github.com/apache/hbase/pull/2448#pullrequestreview-496431844", "createdAt": "2020-09-25T13:44:11Z", "commit": {"oid": "ef90262f4066da88cffccfe24dc1e19d6b33e8cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxMzo0NDoxMVrOHYEPIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxMzo0NDoxMVrOHYEPIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk5NzI4Mg==", "bodyText": "I think the setSplit(false) could also be removed. The default value is false.", "url": "https://github.com/apache/hbase/pull/2448#discussion_r494997282", "createdAt": "2020-09-25T13:44:11Z", "author": {"login": "Apache9"}, "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/CatalogFamilyFormat.java", "diffHunk": "@@ -101,7 +101,7 @@ public static RegionInfo parseRegionInfoFromRegionName(byte[] regionName) throws\n     long regionId = Long.parseLong(Bytes.toString(fields[2]));\n     int replicaId = fields.length > 3 ? Integer.parseInt(Bytes.toString(fields[3]), 16) : 0;\n     return RegionInfoBuilder.newBuilder(TableName.valueOf(fields[0])).setStartKey(fields[1])\n-      .setEndKey(fields[2]).setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();\n+      .setSplit(false).setRegionId(regionId).setReplicaId(replicaId).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef90262f4066da88cffccfe24dc1e19d6b33e8cf"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1969e5a782af9260629a5f8c7d3e9c86cfaca0f1", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/1969e5a782af9260629a5f8c7d3e9c86cfaca0f1", "committedDate": "2020-09-25T14:14:46Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef90262f4066da88cffccfe24dc1e19d6b33e8cf", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/ef90262f4066da88cffccfe24dc1e19d6b33e8cf", "committedDate": "2020-09-25T06:05:34Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}, "afterCommit": {"oid": "1969e5a782af9260629a5f8c7d3e9c86cfaca0f1", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/1969e5a782af9260629a5f8c7d3e9c86cfaca0f1", "committedDate": "2020-09-25T14:14:46Z", "message": "HBASE-25088 CatalogFamilyFormat/MetaTableAccessor.parseRegionInfoFromRegionName incorrectly setEndKey to regionId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2OTY3MDkx", "url": "https://github.com/apache/hbase/pull/2448#pullrequestreview-496967091", "createdAt": "2020-09-26T08:45:19Z", "commit": {"oid": "1969e5a782af9260629a5f8c7d3e9c86cfaca0f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4556, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}