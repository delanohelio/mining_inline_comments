{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3Nzc2NDQ5", "number": 1422, "title": "HBASE-24106 Update getting started documentation after HBASE-24086", "bodyText": "Updates documentation according to change in HBASE-24086 / #1408 .", "createdAt": "2020-04-02T19:35:00Z", "url": "https://github.com/apache/hbase/pull/1422", "merged": true, "mergeCommit": {"oid": "7de861bb839e05dfbf5709c55387c3be6dd7344b"}, "closed": true, "closedAt": "2020-04-06T20:54:09Z", "author": {"login": "ndimiduk"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTxlprgBqjMxOTM3MzU1MTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVFFKDgBqjMyMDcxODU1MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "094cc6bdc4f6c81b0e3c31b6ebebd81b2b0584b1", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/094cc6bdc4f6c81b0e3c31b6ebebd81b2b0584b1", "committedDate": "2020-04-02T19:33:36Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086"}, "afterCommit": {"oid": "c9c164e3d4d91e05c33418cba62fdcfb98b605ef", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/c9c164e3d4d91e05c33418cba62fdcfb98b605ef", "committedDate": "2020-04-02T19:36:59Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NzgxNzcz", "url": "https://github.com/apache/hbase/pull/1422#pullrequestreview-386781773", "createdAt": "2020-04-02T21:15:34Z", "commit": {"oid": "c9c164e3d4d91e05c33418cba62fdcfb98b605ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMToxNTozNFrOF_8x-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMToxNTozNFrOF_8x-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYwMDQ0Mg==", "bodyText": "oh fun, asciidoc rendered {version} as 3.0.0-SNAPSHOT.", "url": "https://github.com/apache/hbase/pull/1422#discussion_r402600442", "createdAt": "2020-04-02T21:15:34Z", "author": {"login": "ndimiduk"}, "path": "src/main/asciidoc/_chapters/getting_started.adoc", "diffHunk": "@@ -55,35 +55,43 @@ See <<java,Java>> for information about supported JDK versions.\n . Choose a download site from this list of link:https://www.apache.org/dyn/closer.lua/hbase/[Apache Download Mirrors].\n   Click on the suggested top link.\n   This will take you to a mirror of _HBase Releases_.\n-  Click on the folder named _stable_ and then download the binary file that ends in _.tar.gz_ to your local filesystem.\n-  Do not download the file ending in _src.tar.gz_ for now.\n+  Click on the folder named _stable_ and then download the binary file that looks like\n+  _hbase-{version}-bin.tar.gz_ to your local filesystem.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9c164e3d4d91e05c33418cba62fdcfb98b605ef"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9c164e3d4d91e05c33418cba62fdcfb98b605ef", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/c9c164e3d4d91e05c33418cba62fdcfb98b605ef", "committedDate": "2020-04-02T19:36:59Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086"}, "afterCommit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/27e6663c08bf158ef788f004f727f252e90dc92f", "committedDate": "2020-04-02T22:06:15Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2ODU4Mzk5", "url": "https://github.com/apache/hbase/pull/1422#pullrequestreview-386858399", "createdAt": "2020-04-03T00:05:10Z", "commit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QwMDowNToxMFrOGAAsjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QwMDowNToxMFrOGAAsjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY2NDU4OA==", "bodyText": "Given this change is only going into specific versions, should we add a note for users on older versions? Something like...\nif you are on v < 2.3, disable stream enforcement by setting this flag.. later versions Hbase takes care of it automatically.....", "url": "https://github.com/apache/hbase/pull/1422#discussion_r402664588", "createdAt": "2020-04-03T00:05:10Z", "author": {"login": "bharathv"}, "path": "src/main/asciidoc/_chapters/getting_started.adoc", "diffHunk": "@@ -55,85 +55,67 @@ See <<java,Java>> for information about supported JDK versions.\n . Choose a download site from this list of link:https://www.apache.org/dyn/closer.lua/hbase/[Apache Download Mirrors].\n   Click on the suggested top link.\n   This will take you to a mirror of _HBase Releases_.\n-  Click on the folder named _stable_ and then download the binary file that ends in _.tar.gz_ to your local filesystem.\n-  Do not download the file ending in _src.tar.gz_ for now.\n+  Click on the folder named _stable_ and then download the binary file that looks like\n+  _hbase-<version>-bin.tar.gz_.\n \n-. Extract the downloaded file, and change to the newly-created directory.\n+. Extract the downloaded file and change to the newly-created directory.\n +\n-[source,subs=\"attributes\"]\n ----\n-\n-$ tar xzvf hbase-{Version}-bin.tar.gz\n-$ cd hbase-{Version}/\n+$ tar xzvf hbase-<version>-bin.tar.gz\n+$ cd hbase-<version>/\n ----\n \n-. You must set the `JAVA_HOME` environment variable before starting HBase.\n-  To make this easier, HBase lets you set it within the _conf/hbase-env.sh_ file. You must locate where Java is\n-  installed on your machine, and one way to find this is by using the _whereis java_ command. Once you have the location,\n-  edit the _conf/hbase-env.sh_ file and uncomment the line starting with _#export JAVA_HOME=_, and then set it to your Java installation path.\n+. Set the `JAVA_HOME` environment variable in _conf/hbase-env.sh_.\n+  First, locate the installation of `java` on your machine. On Unix systems, you can use the\n+  _whereis java_ command. Once you have the location, edit _conf/hbase-env.sh_ file, found inside\n+  the extracted _hbase-<version>_ directory, uncomment the line starting with `#export JAVA_HOME=`,\n+  and then set it to your Java installation path.\n +\n-.Example extract from _hbase-env.sh_ where _JAVA_HOME_ is set\n+.Example extract from _conf/hbase-env.sh_ where `JAVA_HOME` is set\n   # Set environment variables here.\n   # The java implementation to use.\n   export JAVA_HOME=/usr/jdk64/jdk1.8.0_112\n +\n \n-. Edit _conf/hbase-site.xml_, which is the main HBase configuration file.\n-  At this time, you need to specify the directory on the local filesystem where HBase and ZooKeeper write data and acknowledge some risks.\n-  By default, a new directory is created under /tmp.\n-  Many servers are configured to delete the contents of _/tmp_ upon reboot, so you should store the data elsewhere.\n-  The following configuration will store HBase's data in the _hbase_ directory, in the home directory of the user called `testuser`.\n-  Paste the `<property>` tags beneath the `<configuration>` tags, which should be empty in a new HBase install.\n+. Optionally set the <<hbase.tmp.dir,`hbase.tmp.dir`>> property in _conf/hbase-site.xml_.\n+  At this time, you may consider changing the location on the local filesystem where HBase writes\n+  its application data and the data  written by its embedded ZooKeeper  instance. By default, HBase\n+  uses paths under <<hbase.tmp.dir,`hbase.tmp.dir`>> for these directories.\n++\n+NOTE: On most systems, this is a path created under _/tmp_. Many system periodically delete the\n+  contents of _/tmp_. If you start working with HBase in this way, and then return after the\n+  cleanup operation takes place, you're likely to find strange errors. The following\n+  configuration will place HBase's runtime data in a _tmp_ directory found inside the extracted\n+  _hbase-<version>_ directory, where it will be safe from this periodic cleanup.\n++\n+Open _conf/hbase-site.xml_ and paste the `<property>` tags between the empty `<configuration>`\n+tags.\n +\n .Example _hbase-site.xml_ for Standalone HBase\n ====\n [source,xml]\n ----\n-\n <configuration>\n   <property>\n-    <name>hbase.rootdir</name>\n-    <value>file:///home/testuser/hbase</value>\n-  </property>\n-  <property>\n-    <name>hbase.zookeeper.property.dataDir</name>\n-    <value>/home/testuser/zookeeper</value>\n-  </property>\n-  <property>\n-    <name>hbase.unsafe.stream.capability.enforce</name>\n-    <value>false</value>\n-    <description>\n-      Controls whether HBase will check for stream capabilities (hflush/hsync).\n-\n-      Disable this if you intend to run on LocalFileSystem, denoted by a rootdir\n-      with the 'file://' scheme, but be mindful of the NOTE below.\n-\n-      WARNING: Setting this to false blinds you to potential data loss and\n-      inconsistent system state in the event of process and/or node failures. If\n-      HBase is complaining of an inability to use hsync or hflush it's most\n-      likely not a false positive.\n-    </description>\n+    <name>hbase.tmp.dir</name>\n+    <value>tmp</value>\n   </property>\n </configuration>\n ----\n ====\n +\n-You do not need to create the HBase data directory.\n-HBase will do this for you.  If you create the directory,\n-HBase will attempt to do a migration, which is not what you want.\n+You do not need to create the HBase _tmp_ directory; HBase will do this for you.\n +\n-NOTE: The _hbase.rootdir_ in the above example points to a directory\n-in the _local filesystem_. The 'file://' prefix is how we denote local\n-filesystem. You should take the WARNING present in the configuration example\n-to heart. In standalone mode HBase makes use of the local filesystem abstraction\n-from the Apache Hadoop project. That abstraction doesn't provide the durability\n-promises that HBase needs to operate safely. This is fine for local development\n-and testing use cases where the cost of cluster failure is well contained. It is\n-not appropriate for production deployments; eventually you will lose data.\n-\n-To home HBase on an existing instance of HDFS, set the _hbase.rootdir_ to point at a\n-directory up on your instance: e.g. _hdfs://namenode.example.org:8020/hbase_.\n-For more on this variant, see the section below on Standalone HBase over HDFS.\n+NOTE: When unconfigured, HBase uses <<hbase.tmp.dir,`hbase.tmp.dir`>> as a starting point for many\n+important configurations. Notable among them are <<hbase.rootdir,`hbase.rootdir`>>, the path under\n+which HBase stores its data. You can specify values for this configuration directly, as you'll see\n+in the subsequent sections.\n++\n+NOTE: In this example, HBase is running on Hadoop's `LocalFileSystem`. That abstraction doesn't", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f"}, "originalPosition": 115}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MTg5MDk5", "url": "https://github.com/apache/hbase/pull/1422#pullrequestreview-387189099", "createdAt": "2020-04-03T11:56:07Z", "commit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMTo1NjowN1rOGASRWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMTo1NjowN1rOGASRWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk1MjUzNw==", "bodyText": "Generally, documentation changes are merged to master and cherry-picked to appropriate branches. In this case the commit should be backported to branch-2 and branch-2.3 but not to branch-2.2.", "url": "https://github.com/apache/hbase/pull/1422#discussion_r402952537", "createdAt": "2020-04-03T11:56:07Z", "author": {"login": "petersomogyi"}, "path": "src/main/asciidoc/_chapters/getting_started.adoc", "diffHunk": "@@ -55,85 +55,67 @@ See <<java,Java>> for information about supported JDK versions.\n . Choose a download site from this list of link:https://www.apache.org/dyn/closer.lua/hbase/[Apache Download Mirrors].\n   Click on the suggested top link.\n   This will take you to a mirror of _HBase Releases_.\n-  Click on the folder named _stable_ and then download the binary file that ends in _.tar.gz_ to your local filesystem.\n-  Do not download the file ending in _src.tar.gz_ for now.\n+  Click on the folder named _stable_ and then download the binary file that looks like\n+  _hbase-<version>-bin.tar.gz_.\n \n-. Extract the downloaded file, and change to the newly-created directory.\n+. Extract the downloaded file and change to the newly-created directory.\n +\n-[source,subs=\"attributes\"]\n ----\n-\n-$ tar xzvf hbase-{Version}-bin.tar.gz\n-$ cd hbase-{Version}/\n+$ tar xzvf hbase-<version>-bin.tar.gz\n+$ cd hbase-<version>/\n ----\n \n-. You must set the `JAVA_HOME` environment variable before starting HBase.\n-  To make this easier, HBase lets you set it within the _conf/hbase-env.sh_ file. You must locate where Java is\n-  installed on your machine, and one way to find this is by using the _whereis java_ command. Once you have the location,\n-  edit the _conf/hbase-env.sh_ file and uncomment the line starting with _#export JAVA_HOME=_, and then set it to your Java installation path.\n+. Set the `JAVA_HOME` environment variable in _conf/hbase-env.sh_.\n+  First, locate the installation of `java` on your machine. On Unix systems, you can use the\n+  _whereis java_ command. Once you have the location, edit _conf/hbase-env.sh_ file, found inside\n+  the extracted _hbase-<version>_ directory, uncomment the line starting with `#export JAVA_HOME=`,\n+  and then set it to your Java installation path.\n +\n-.Example extract from _hbase-env.sh_ where _JAVA_HOME_ is set\n+.Example extract from _conf/hbase-env.sh_ where `JAVA_HOME` is set\n   # Set environment variables here.\n   # The java implementation to use.\n   export JAVA_HOME=/usr/jdk64/jdk1.8.0_112\n +\n \n-. Edit _conf/hbase-site.xml_, which is the main HBase configuration file.\n-  At this time, you need to specify the directory on the local filesystem where HBase and ZooKeeper write data and acknowledge some risks.\n-  By default, a new directory is created under /tmp.\n-  Many servers are configured to delete the contents of _/tmp_ upon reboot, so you should store the data elsewhere.\n-  The following configuration will store HBase's data in the _hbase_ directory, in the home directory of the user called `testuser`.\n-  Paste the `<property>` tags beneath the `<configuration>` tags, which should be empty in a new HBase install.\n+. Optionally set the <<hbase.tmp.dir,`hbase.tmp.dir`>> property in _conf/hbase-site.xml_.\n+  At this time, you may consider changing the location on the local filesystem where HBase writes\n+  its application data and the data  written by its embedded ZooKeeper  instance. By default, HBase\n+  uses paths under <<hbase.tmp.dir,`hbase.tmp.dir`>> for these directories.\n++\n+NOTE: On most systems, this is a path created under _/tmp_. Many system periodically delete the\n+  contents of _/tmp_. If you start working with HBase in this way, and then return after the\n+  cleanup operation takes place, you're likely to find strange errors. The following\n+  configuration will place HBase's runtime data in a _tmp_ directory found inside the extracted\n+  _hbase-<version>_ directory, where it will be safe from this periodic cleanup.\n++\n+Open _conf/hbase-site.xml_ and paste the `<property>` tags between the empty `<configuration>`\n+tags.\n +\n .Example _hbase-site.xml_ for Standalone HBase\n ====\n [source,xml]\n ----\n-\n <configuration>\n   <property>\n-    <name>hbase.rootdir</name>\n-    <value>file:///home/testuser/hbase</value>\n-  </property>\n-  <property>\n-    <name>hbase.zookeeper.property.dataDir</name>\n-    <value>/home/testuser/zookeeper</value>\n-  </property>\n-  <property>\n-    <name>hbase.unsafe.stream.capability.enforce</name>\n-    <value>false</value>\n-    <description>\n-      Controls whether HBase will check for stream capabilities (hflush/hsync).\n-\n-      Disable this if you intend to run on LocalFileSystem, denoted by a rootdir\n-      with the 'file://' scheme, but be mindful of the NOTE below.\n-\n-      WARNING: Setting this to false blinds you to potential data loss and\n-      inconsistent system state in the event of process and/or node failures. If\n-      HBase is complaining of an inability to use hsync or hflush it's most\n-      likely not a false positive.\n-    </description>\n+    <name>hbase.tmp.dir</name>\n+    <value>tmp</value>\n   </property>\n </configuration>\n ----\n ====\n +\n-You do not need to create the HBase data directory.\n-HBase will do this for you.  If you create the directory,\n-HBase will attempt to do a migration, which is not what you want.\n+You do not need to create the HBase _tmp_ directory; HBase will do this for you.\n +\n-NOTE: The _hbase.rootdir_ in the above example points to a directory\n-in the _local filesystem_. The 'file://' prefix is how we denote local\n-filesystem. You should take the WARNING present in the configuration example\n-to heart. In standalone mode HBase makes use of the local filesystem abstraction\n-from the Apache Hadoop project. That abstraction doesn't provide the durability\n-promises that HBase needs to operate safely. This is fine for local development\n-and testing use cases where the cost of cluster failure is well contained. It is\n-not appropriate for production deployments; eventually you will lose data.\n-\n-To home HBase on an existing instance of HDFS, set the _hbase.rootdir_ to point at a\n-directory up on your instance: e.g. _hdfs://namenode.example.org:8020/hbase_.\n-For more on this variant, see the section below on Standalone HBase over HDFS.\n+NOTE: When unconfigured, HBase uses <<hbase.tmp.dir,`hbase.tmp.dir`>> as a starting point for many\n+important configurations. Notable among them are <<hbase.rootdir,`hbase.rootdir`>>, the path under\n+which HBase stores its data. You can specify values for this configuration directly, as you'll see\n+in the subsequent sections.\n++\n+NOTE: In this example, HBase is running on Hadoop's `LocalFileSystem`. That abstraction doesn't", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY2NDU4OA=="}, "originalCommit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f"}, "originalPosition": 115}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODkxNDE0", "url": "https://github.com/apache/hbase/pull/1422#pullrequestreview-387891414", "createdAt": "2020-04-06T01:35:28Z", "commit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NDY1MjY4", "url": "https://github.com/apache/hbase/pull/1422#pullrequestreview-388465268", "createdAt": "2020-04-06T17:27:19Z", "commit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b409d17641a5cbad0bec0e069c1dce22e3f080cd", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/b409d17641a5cbad0bec0e069c1dce22e3f080cd", "committedDate": "2020-04-06T20:52:22Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086\n\nSigned-off-by: Josh Elser <elserj@apache.org>\nSigned-off-by: Bharath Vissapragada <bharathv@apache.org>\nSigned-off-by: Peter Somogyi <psomogyi@apache.org>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "27e6663c08bf158ef788f004f727f252e90dc92f", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/27e6663c08bf158ef788f004f727f252e90dc92f", "committedDate": "2020-04-02T22:06:15Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086"}, "afterCommit": {"oid": "b409d17641a5cbad0bec0e069c1dce22e3f080cd", "author": {"user": {"login": "ndimiduk", "name": "Nick Dimiduk"}}, "url": "https://github.com/apache/hbase/commit/b409d17641a5cbad0bec0e069c1dce22e3f080cd", "committedDate": "2020-04-06T20:52:22Z", "message": "HBASE-24106 Update getting started documentation after HBASE-24086\n\nSigned-off-by: Josh Elser <elserj@apache.org>\nSigned-off-by: Bharath Vissapragada <bharathv@apache.org>\nSigned-off-by: Peter Somogyi <psomogyi@apache.org>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2551, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}