{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMTYyMTI2", "number": 1782, "title": "HBASE-24431 RSGroupInfo add configuration map to store something extra", "bodyText": "JIRA: https://issues.apache.org/jira/browse/HBASE-24431", "createdAt": "2020-05-26T12:01:02Z", "url": "https://github.com/apache/hbase/pull/1782", "merged": true, "mergeCommit": {"oid": "4b89ee24f33d6dc268a6910ea497e9d0a98a14a9"}, "closed": true, "closedAt": "2020-06-24T10:46:09Z", "author": {"login": "ddupg"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclmEHVAFqTQxOTc2NzEwOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABctoaW6ABqjM0NjYzMzA0MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NzY3MTA4", "url": "https://github.com/apache/hbase/pull/1782#pullrequestreview-419767108", "createdAt": "2020-05-28T04:22:10Z", "commit": {"oid": "ad40532450392c709f2f64fbe82d14255e8d76ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwNDoyMjoxMFrOGblJFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwNDoyMjoxMFrOGblJFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU3MzI3MA==", "bodyText": "This has been added to master.proto. Why add this here too?", "url": "https://github.com/apache/hbase/pull/1782#discussion_r431573270", "createdAt": "2020-05-28T04:22:10Z", "author": {"login": "infraio"}, "path": "hbase-protocol-shaded/src/main/protobuf/server/rsgroup/RSGroupAdmin.proto", "diffHunk": "@@ -183,4 +191,7 @@ service RSGroupAdminService {\n \n   rpc RenameRSGroup(RenameRSGroupRequest)\n     returns (RenameRSGroupResponse);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad40532450392c709f2f64fbe82d14255e8d76ce"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad40532450392c709f2f64fbe82d14255e8d76ce", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/ad40532450392c709f2f64fbe82d14255e8d76ce", "committedDate": "2020-05-26T11:59:51Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "718af13d71c4850d53e9d66c8bfbb2ce818f5f76", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/718af13d71c4850d53e9d66c8bfbb2ce818f5f76", "committedDate": "2020-05-29T03:10:20Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "718af13d71c4850d53e9d66c8bfbb2ce818f5f76", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/718af13d71c4850d53e9d66c8bfbb2ce818f5f76", "committedDate": "2020-05-29T03:10:20Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "980570e3f5e20d0c9157063a58103b3230c0f86f", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/980570e3f5e20d0c9157063a58103b3230c0f86f", "committedDate": "2020-05-29T03:14:47Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "980570e3f5e20d0c9157063a58103b3230c0f86f", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/980570e3f5e20d0c9157063a58103b3230c0f86f", "committedDate": "2020-05-29T03:14:47Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "b12c1fafedd38b98418b2f7874639401dadeda7f", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/b12c1fafedd38b98418b2f7874639401dadeda7f", "committedDate": "2020-06-05T11:00:17Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b12c1fafedd38b98418b2f7874639401dadeda7f", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/b12c1fafedd38b98418b2f7874639401dadeda7f", "committedDate": "2020-06-05T11:00:17Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "16eb648a2ab1af6da3b75b9ba7bcba35c8772a6d", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/16eb648a2ab1af6da3b75b9ba7bcba35c8772a6d", "committedDate": "2020-06-05T11:12:59Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16eb648a2ab1af6da3b75b9ba7bcba35c8772a6d", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/16eb648a2ab1af6da3b75b9ba7bcba35c8772a6d", "committedDate": "2020-06-05T11:12:59Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/60b5a79ff5b286f89c4b3ced9e2dd919a3526279", "committedDate": "2020-06-08T02:10:49Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDYwODAx", "url": "https://github.com/apache/hbase/pull/1782#pullrequestreview-433460801", "createdAt": "2020-06-18T16:38:59Z", "commit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjozOTowMFrOGl3fSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjo0MDo0OVrOGl3jmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM1OTYyNw==", "bodyText": "TableDescriptor and ColumnFamiltyDescriptor have a similar requirement, but provide a richer interface for interacting with their maps. Consider providing similar?", "url": "https://github.com/apache/hbase/pull/1782#discussion_r442359627", "createdAt": "2020-06-18T16:39:00Z", "author": {"login": "ndimiduk"}, "path": "hbase-common/src/main/java/org/apache/hadoop/hbase/rsgroup/RSGroupInfo.java", "diffHunk": "@@ -114,6 +120,14 @@ public boolean removeServer(Address hostPort) {\n     return servers.remove(hostPort);\n   }\n \n+  public Map<String, String> getConfiguration() {\n+    return configuration;\n+  }\n+\n+  public void setConfiguration(Map<String, String> configuration) {\n+    this.configuration = configuration;\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2MDcyOQ==", "bodyText": "Similar question about the interface allowing deeper access to the map.", "url": "https://github.com/apache/hbase/pull/1782#discussion_r442360729", "createdAt": "2020-06-18T16:40:49Z", "author": {"login": "ndimiduk"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/rsgroup/RSGroupInfoManager.java", "diffHunk": "@@ -114,4 +115,12 @@ static RSGroupInfoManager create(MasterServices master) throws IOException {\n    */\n   void renameRSGroup(String oldName, String newName) throws IOException;\n \n+  /**\n+   * Update RSGroup configuration\n+   * @param groupName the group name\n+   * @param configuration new configuration of the group name to be set\n+   * @throws IOException if a remote or network exception occurs\n+   */\n+  void updateRSGroupConfig(String groupName, Map<String, String> configuration) throws IOException;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzODM0MzM2", "url": "https://github.com/apache/hbase/pull/1782#pullrequestreview-433834336", "createdAt": "2020-06-19T06:34:37Z", "commit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNjozNDozN1rOGmJoRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNjozNDozN1rOGmJoRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY1NjgzOQ==", "bodyText": "Add one log here? Update from xxx to xxx?", "url": "https://github.com/apache/hbase/pull/1782#discussion_r442656839", "createdAt": "2020-06-19T06:34:37Z", "author": {"login": "infraio"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/rsgroup/RSGroupInfoManagerImpl.java", "diffHunk": "@@ -1244,4 +1244,11 @@ public synchronized void renameRSGroup(String oldName, String newName) throws IO\n     setRSGroup(updateTables, newName);\n   }\n \n+  @Override\n+  public synchronized void updateRSGroupConfig(String groupName, Map<String, String> configuration)\n+      throws IOException {\n+    RSGroupInfo rsGroupInfo = getRSGroupInfo(groupName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "60b5a79ff5b286f89c4b3ced9e2dd919a3526279", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/60b5a79ff5b286f89c4b3ced9e2dd919a3526279", "committedDate": "2020-06-08T02:10:49Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "4828cf544576dcca3ea80a71517026a92f8b0d31", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/4828cf544576dcca3ea80a71517026a92f8b0d31", "committedDate": "2020-06-20T06:29:27Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDg2ODMw", "url": "https://github.com/apache/hbase/pull/1782#pullrequestreview-434486830", "createdAt": "2020-06-21T09:52:47Z", "commit": {"oid": "4828cf544576dcca3ea80a71517026a92f8b0d31"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwOTo1Mjo0N1rOGmq74w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwOTo1Mjo1NVrOGmq76Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIwMjUzMQ==", "bodyText": "We have a removeConfiguration so let's not allow null value here?", "url": "https://github.com/apache/hbase/pull/1782#discussion_r443202531", "createdAt": "2020-06-21T09:52:47Z", "author": {"login": "Apache9"}, "path": "hbase-common/src/main/java/org/apache/hadoop/hbase/rsgroup/RSGroupInfo.java", "diffHunk": "@@ -114,6 +121,34 @@ public boolean removeServer(Address hostPort) {\n     return servers.remove(hostPort);\n   }\n \n+  /**\n+   * Getter for fetching an unmodifiable {@link #configuration} map.\n+   */\n+  public Map<String, String> getConfiguration() {\n+    // shallow pointer copy\n+    return Collections.unmodifiableMap(configuration);\n+  }\n+\n+  /**\n+   * Setter for storing a configuration setting in {@link #configuration} map.\n+   * @param key Config key.\n+   * @param value String value. If null, removes the setting.\n+   */\n+  public void setConfiguration(String key, String value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4828cf544576dcca3ea80a71517026a92f8b0d31"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIwMjUzNw==", "bodyText": "final?", "url": "https://github.com/apache/hbase/pull/1782#discussion_r443202537", "createdAt": "2020-06-21T09:52:55Z", "author": {"login": "Apache9"}, "path": "hbase-common/src/main/java/org/apache/hadoop/hbase/rsgroup/RSGroupInfo.java", "diffHunk": "@@ -46,6 +49,8 @@\n   @Deprecated\n   private final SortedSet<TableName> tables;\n \n+  private Map<String, String> configuration;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4828cf544576dcca3ea80a71517026a92f8b0d31"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4828cf544576dcca3ea80a71517026a92f8b0d31", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/4828cf544576dcca3ea80a71517026a92f8b0d31", "committedDate": "2020-06-20T06:29:27Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "9cf0c31897fadbd841e94f3158e7ec16ce9e1cd9", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/9cf0c31897fadbd841e94f3158e7ec16ce9e1cd9", "committedDate": "2020-06-21T10:24:28Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTcxMDgx", "url": "https://github.com/apache/hbase/pull/1782#pullrequestreview-434571081", "createdAt": "2020-06-22T02:37:48Z", "commit": {"oid": "9cf0c31897fadbd841e94f3158e7ec16ce9e1cd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1553c54c3d5ef9343946dd96e493675ca7039ff8", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/1553c54c3d5ef9343946dd96e493675ca7039ff8", "committedDate": "2020-06-22T03:37:20Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9cf0c31897fadbd841e94f3158e7ec16ce9e1cd9", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/9cf0c31897fadbd841e94f3158e7ec16ce9e1cd9", "committedDate": "2020-06-21T10:24:28Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}, "afterCommit": {"oid": "1553c54c3d5ef9343946dd96e493675ca7039ff8", "author": {"user": {"login": "ddupg", "name": "XinSun"}}, "url": "https://github.com/apache/hbase/commit/1553c54c3d5ef9343946dd96e493675ca7039ff8", "committedDate": "2020-06-22T03:37:20Z", "message": "HBASE-24431 RSGroupInfo add configuration map to store something extra"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4757, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}