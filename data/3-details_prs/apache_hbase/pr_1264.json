{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MDIyNDg3", "number": 1264, "title": "HBASE-23954 SplitParent region should not be balanced", "bodyText": "", "createdAt": "2020-03-10T09:28:04Z", "url": "https://github.com/apache/hbase/pull/1264", "merged": true, "mergeCommit": {"oid": "6e6b241e2bfec8a3f618a8e91bd86ab6ee8048c6"}, "closed": true, "closedAt": "2020-03-10T18:14:44Z", "author": {"login": "nyl3532016"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMP_Q3gFqTM3MTgzNDg2Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMWmxXAFqTM3MjIwNDYzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxODM0ODY2", "url": "https://github.com/apache/hbase/pull/1264#pullrequestreview-371834866", "createdAt": "2020-03-10T10:30:50Z", "commit": {"oid": "4d6b4a03f470c3e8acce49ba37dc734db2f509f7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxMDozMDo1MFrOF0JNcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxMDozMDo1MFrOF0JNcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIyMTE3MQ==", "bodyText": "filter twice is easy to read?\n.filter(region -> !isTableDisabled(tableStateManager, region.getTable()).filter(region -> !region.isSplitParent())", "url": "https://github.com/apache/hbase/pull/1264#discussion_r390221171", "createdAt": "2020-03-10T10:30:50Z", "author": {"login": "infraio"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/assignment/RegionStates.java", "diffHunk": "@@ -581,9 +584,11 @@ public ServerName getRegionServerOfRegion(RegionInfo regionInfo) {\n       for (ServerName serverName : onlineServers) {\n         ServerStateNode serverNode = serverMap.get(serverName);\n         if (serverNode != null) {\n-          ensemble.put(serverNode.getServerName(), serverNode.getRegionInfoList().stream()\n-            .filter(region -> !isTableDisabled(tableStateManager, region.getTable()))\n-            .collect(Collectors.toList()));\n+          ensemble.put(serverNode.getServerName(),\n+            serverNode.getRegionInfoList().stream()\n+                .filter(region -> !isTableDisabled(tableStateManager, region.getTable())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6b4a03f470c3e8acce49ba37dc734db2f509f7"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "572db61fe595bf5db4e3951999ed6ef345feadba", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/572db61fe595bf5db4e3951999ed6ef345feadba", "committedDate": "2020-03-10T10:43:29Z", "message": "HBASE-23954 SplitParent region should not be balanced"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d6b4a03f470c3e8acce49ba37dc734db2f509f7", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/4d6b4a03f470c3e8acce49ba37dc734db2f509f7", "committedDate": "2020-03-10T09:26:20Z", "message": "HBASE-23954 SplitParent region should not be balanced"}, "afterCommit": {"oid": "572db61fe595bf5db4e3951999ed6ef345feadba", "author": {"user": null}, "url": "https://github.com/apache/hbase/commit/572db61fe595bf5db4e3951999ed6ef345feadba", "committedDate": "2020-03-10T10:43:29Z", "message": "HBASE-23954 SplitParent region should not be balanced"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMDkzNjc1", "url": "https://github.com/apache/hbase/pull/1264#pullrequestreview-372093675", "createdAt": "2020-03-10T16:00:46Z", "commit": {"oid": "572db61fe595bf5db4e3951999ed6ef345feadba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMjA0NjMx", "url": "https://github.com/apache/hbase/pull/1264#pullrequestreview-372204631", "createdAt": "2020-03-10T18:13:26Z", "commit": {"oid": "572db61fe595bf5db4e3951999ed6ef345feadba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2620, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}