{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNzI5NjMz", "number": 1478, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNTowNzoxOFrODwpfvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTo0MjozM1rOD5LQ9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMzM4MTEwOnYy", "diffSide": "RIGHT", "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetaFixer.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNTowNzoxOFrOGDxIzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMzozMzoxOVrOGD6m6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwMzk4MQ==", "bodyText": "It was configurable before this change? You could add\n  \n    hbase.master.metafixer.max.merge.count\n    11\n    configure the max merge count\n  \n...\nto your hbase-site.xml and away you go?\nBut maybe you think it deserves mention in the hbase-default.xml so operators can find it easier? If so, I'd suggest a fuller description.\nThanks.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r406603981", "createdAt": "2020-04-10T05:07:18Z", "author": {"login": "saintstack"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetaFixer.java", "diffHunk": "@@ -63,7 +61,7 @@\n   MetaFixer(MasterServices masterServices) {\n     this.masterServices = masterServices;\n     this.maxMergeCount = this.masterServices.getConfiguration().\n-        getInt(MAX_MERGE_COUNT_KEY, MAX_MERGE_COUNT_DEFAULT);\n+        getInt(\"hbase.master.metafixer.max.merge.count\", 10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY0ODE0NA==", "bodyText": "I think should be add hbase.master.metafixer.max.merge.count in hbase-default.xml that so operators can change it easier. I have added fuller description in hbase-default.xml.\nThanks", "url": "https://github.com/apache/hbase/pull/1478#discussion_r406648144", "createdAt": "2020-04-10T07:54:00Z", "author": {"login": "gentlewangyu"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetaFixer.java", "diffHunk": "@@ -63,7 +61,7 @@\n   MetaFixer(MasterServices masterServices) {\n     this.masterServices = masterServices;\n     this.maxMergeCount = this.masterServices.getConfiguration().\n-        getInt(MAX_MERGE_COUNT_KEY, MAX_MERGE_COUNT_DEFAULT);\n+        getInt(\"hbase.master.metafixer.max.merge.count\", 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwMzk4MQ=="}, "originalCommit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc1OTE0NQ==", "bodyText": "Yes if the purpose is to mention this config in hbase-default.xml, good to also document it in hbase-default.adoc with detailed description.\nHowever, in that case, title of PR doesn't match. As @saintstack said, this is already configurable.\nThanks.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r406759145", "createdAt": "2020-04-10T13:33:19Z", "author": {"login": "virajjasani"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetaFixer.java", "diffHunk": "@@ -63,7 +61,7 @@\n   MetaFixer(MasterServices masterServices) {\n     this.masterServices = masterServices;\n     this.maxMergeCount = this.masterServices.getConfiguration().\n-        getInt(MAX_MERGE_COUNT_KEY, MAX_MERGE_COUNT_DEFAULT);\n+        getInt(\"hbase.master.metafixer.max.merge.count\", 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwMzk4MQ=="}, "originalCommit": {"oid": "c5fa7d70bcddd84b6f04de77fd15b49fe998137d"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTIxMDQ2OnYy", "diffSide": "RIGHT", "path": "hbase-common/src/main/resources/hbase-default.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0OTo0MlrOGGCqmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0OTo0MlrOGGCqmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4ODMxMw==", "bodyText": "How about\n\nThe maximum regions to merge in one operation when fixing overlaps noted in the CatalogJanitor consistency report.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r408988313", "createdAt": "2020-04-15T16:49:42Z", "author": {"login": "ndimiduk"}, "path": "hbase-common/src/main/resources/hbase-default.xml", "diffHunk": "@@ -1946,4 +1946,10 @@ possible configurations would overwhelm and obscure the important.\n       responses with complete data.\n     </description>\n   </property>\n+  <property>\n+    <name>hbase.master.metafixer.max.merge.count</name>\n+    <value>10</value>\n+    <description>Maximum regions to merge at a time when we fix overlaps noted in\n+      CJ consistency report, but avoid merging 100 regions in one go!</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a06f41d24ebc8b7362524aa32201e8932e966b2"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjc5OTg5OnYy", "diffSide": "RIGHT", "path": "hbase-common/src/main/resources/hbase-default.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTo0MjozM1rOGQTTbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNToyMzoyNVrOGQurig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NjY3MQ==", "bodyText": "The default changed.", "url": "https://github.com/apache/hbase/pull/1478#discussion_r419746671", "createdAt": "2020-05-04T21:42:33Z", "author": {"login": "saintstack"}, "path": "hbase-common/src/main/resources/hbase-default.xml", "diffHunk": "@@ -1946,6 +1946,14 @@ possible configurations would overwhelm and obscure the important.\n       responses with complete data.\n     </description>\n   </property>\n+  <property>\n+    <name>hbase.master.metafixer.max.merge.count</name>\n+    <value>10</value>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9c9f5f976e1ef410e312fddda8b37d666373ee0"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE5NTIxMA==", "bodyText": "@saintstack I have changed the  default value\nThanks", "url": "https://github.com/apache/hbase/pull/1478#discussion_r420195210", "createdAt": "2020-05-05T15:23:25Z", "author": {"login": "gentlewangyu"}, "path": "hbase-common/src/main/resources/hbase-default.xml", "diffHunk": "@@ -1946,6 +1946,14 @@ possible configurations would overwhelm and obscure the important.\n       responses with complete data.\n     </description>\n   </property>\n+  <property>\n+    <name>hbase.master.metafixer.max.merge.count</name>\n+    <value>10</value>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NjY3MQ=="}, "originalCommit": {"oid": "b9c9f5f976e1ef410e312fddda8b37d666373ee0"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1899, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}