{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MTgwNzE5", "number": 2756, "title": "HBASE-25378 Legacy comparator in Hfile trailer will fail to load", "bodyText": "Fallback to MetaCellComparator when \"org.apache.hadoop.hbase.CellComparator$MetaCellComparator\" or \"org.apache.hadoop.hbase.CellComparatorImpl$MetaCellComparator\" is set in Hfile trailer", "createdAt": "2020-12-09T13:29:39Z", "url": "https://github.com/apache/hbase/pull/2756", "merged": true, "mergeCommit": {"oid": "9bdac6cd174bce570a2faf92849931b3e76f240d"}, "closed": true, "closedAt": "2020-12-15T18:26:03Z", "author": {"login": "pankaj72981"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkeuzdgH2gAyNTM1MTgwNzE5OmZhMmU3NDY0M2Q0YmY2YzEwYjU0YjllYWQ5MjlkNjkyNzNmNTMyY2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmTyD5AFqTU1MjEyMzk1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa2e74643d4bf6c10b54b9ead929d69273f532ce", "author": {"user": {"login": "pankaj72981", "name": "Pankaj"}}, "url": "https://github.com/apache/hbase/commit/fa2e74643d4bf6c10b54b9ead929d69273f532ce", "committedDate": "2020-12-09T13:26:47Z", "message": "HBASE-25378 Legacy comparator in Hfile trailer will fail to load"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjkwNDMw", "url": "https://github.com/apache/hbase/pull/2756#pullrequestreview-548290430", "createdAt": "2020-12-09T15:17:40Z", "commit": {"oid": "fa2e74643d4bf6c10b54b9ead929d69273f532ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNToxNzo0MFrOICZ9xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNToxNzo0MFrOICZ9xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTM5MzQ3Ng==", "bodyText": "Is CellComparator not enough? I just checked previous commit where only CellComparator was present and not CellComparatorImpl", "url": "https://github.com/apache/hbase/pull/2756#discussion_r539393476", "createdAt": "2020-12-09T15:17:40Z", "author": {"login": "virajjasani"}, "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/FixedFileTrailer.java", "diffHunk": "@@ -612,6 +612,8 @@ private String getHBase1CompatibleName(final String comparator) {\n       comparatorKlass = CellComparatorImpl.class;\n     } else if (comparatorClassName.equals(KeyValue.META_COMPARATOR.getLegacyKeyComparatorName())\n       || comparatorClassName.equals(KeyValue.META_COMPARATOR.getClass().getName())\n+      || (comparatorClassName.equals(\"org.apache.hadoop.hbase.CellComparator$MetaCellComparator\"))      \n+      || (comparatorClassName.equals(\"org.apache.hadoop.hbase.CellComparatorImpl$MetaCellComparator\"))      ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa2e74643d4bf6c10b54b9ead929d69273f532ce"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxODAxNjQ4", "url": "https://github.com/apache/hbase/pull/2756#pullrequestreview-551801648", "createdAt": "2020-12-14T18:59:44Z", "commit": {"oid": "fa2e74643d4bf6c10b54b9ead929d69273f532ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMTIzOTU2", "url": "https://github.com/apache/hbase/pull/2756#pullrequestreview-552123956", "createdAt": "2020-12-15T05:49:14Z", "commit": {"oid": "fa2e74643d4bf6c10b54b9ead929d69273f532ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1827, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}