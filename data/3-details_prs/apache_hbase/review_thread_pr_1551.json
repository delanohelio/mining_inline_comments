{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1ODA4MDgw", "number": 1551, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMDo0NzoyOFrODzqhgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMDo0NzoyOFrODzqhgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NTAwNjcyOnYy", "diffSide": "RIGHT", "path": "hbase-shell/src/test/ruby/shell/rsgroup_shell_test.rb", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMDo0NzoyOFrOGIOd6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNTowNjoyNlrOGIZMJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI3ODgyNw==", "bodyText": "Does it make sense to also check if the old rsgroup is gone?", "url": "https://github.com/apache/hbase/pull/1551#discussion_r411278827", "createdAt": "2020-04-20T10:47:28Z", "author": {"login": "HorizonNet"}, "path": "hbase-shell/src/test/ruby/shell/rsgroup_shell_test.rb", "diffHunk": "@@ -127,5 +127,17 @@ def setup\n         @hbase.rsgroup_admin().get_rsgroup_of_table('foobar')\n       end\n     end\n+\n+    define_test 'Test rsgroup rename' do\n+      old_rs_group_name = 'test_group'\n+      new_rs_group_name = 'renamed_test_group'\n+      table_name = 'test_table'\n+\n+      @hbase.rsgroup_admin.rename_rsgroup(old_rs_group_name, new_rs_group_name)\n+      assert_not_nil(@admin.getRSGroup(new_rs_group_name))\n+      assert_equal(1, @admin.getRSGroup(new_rs_group_name).getServers.count)\n+      assert_equal(1, @admin.listTablesInRSGroup(new_rs_group_name).count)\n+      assert_true(@admin.listTablesInRSGroup(new_rs_group_name).contains(org.apache.hadoop.hbase.TableName.valueOf(table_name)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06017b2121150283259dc1b6475c1beb7c88cdc5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ1NDUwMA==", "bodyText": "Add that check in the new commit.", "url": "https://github.com/apache/hbase/pull/1551#discussion_r411454500", "createdAt": "2020-04-20T15:06:26Z", "author": {"login": "Reidddddd"}, "path": "hbase-shell/src/test/ruby/shell/rsgroup_shell_test.rb", "diffHunk": "@@ -127,5 +127,17 @@ def setup\n         @hbase.rsgroup_admin().get_rsgroup_of_table('foobar')\n       end\n     end\n+\n+    define_test 'Test rsgroup rename' do\n+      old_rs_group_name = 'test_group'\n+      new_rs_group_name = 'renamed_test_group'\n+      table_name = 'test_table'\n+\n+      @hbase.rsgroup_admin.rename_rsgroup(old_rs_group_name, new_rs_group_name)\n+      assert_not_nil(@admin.getRSGroup(new_rs_group_name))\n+      assert_equal(1, @admin.getRSGroup(new_rs_group_name).getServers.count)\n+      assert_equal(1, @admin.listTablesInRSGroup(new_rs_group_name).count)\n+      assert_true(@admin.listTablesInRSGroup(new_rs_group_name).contains(org.apache.hadoop.hbase.TableName.valueOf(table_name)))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI3ODgyNw=="}, "originalCommit": {"oid": "06017b2121150283259dc1b6475c1beb7c88cdc5"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1806, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}