{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5NzQzODMw", "number": 893, "title": "BXC-2515 - Premis Migration", "bodyText": "https://jira.lib.unc.edu/browse/BXC-2515\n\nAdds classes which perform transformation of deposit or content object PREMIS event logs to RDF\nAdds a commandline framework\nadds command for performing bulk transformation of PREMIS event logs.", "createdAt": "2020-01-31T19:47:39Z", "url": "https://github.com/UNC-Libraries/box-c/pull/893", "merged": true, "mergeCommit": {"oid": "5b6a21854b4452a9d52a77a62b336d5cf4f279c7"}, "closed": true, "closedAt": "2020-02-03T20:50:39Z", "author": {"login": "bbpennel"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9kMs_AH2gAyMzY5NzQzODMwOjhlMzIxNzQzNzNkY2JkZTQ4MTZkNTkwNTY0MDRkYmVmZDczZDU1OTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAy9pMAH2gAyMzY5NzQzODMwOjI2MTQ5YjgwMjE1Y2FmMDY1YjhlNWU5NTMxMGNlZjY3N2U4YWZiNDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8e32174373dcbde4816d59056404dbefd73d5592", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/8e32174373dcbde4816d59056404dbefd73d5592", "committedDate": "2020-01-24T19:34:46Z", "message": "Remove unnecessary rethrow as caught exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6ee1a4bad802ec79cf410f72c0ed08585a6e001", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/e6ee1a4bad802ec79cf410f72c0ed08585a6e001", "committedDate": "2020-01-24T19:34:46Z", "message": "Allow event id to be supplied when building events"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afa9be68278ad101effc4996eff0e5e0df491f39", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/afa9be68278ad101effc4996eff0e5e0df491f39", "committedDate": "2020-01-24T22:23:59Z", "message": "Add transformation for deposit record premis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "878832de31b45bdcf96ba3852aa2805bce3b2a10", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/878832de31b45bdcf96ba3852aa2805bce3b2a10", "committedDate": "2020-01-26T03:08:41Z", "message": "Add the name of agent as a slug to hash uri to allow for multiple agents of same type on an event. Only perform event detail formatting when more than zero arguments provided."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a39d99cce2ce53a032868dc9a7c02758479ab8a", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/1a39d99cce2ce53a032868dc9a7c02758479ab8a", "committedDate": "2020-01-26T03:09:12Z", "message": "Add transformation for content object premis events. Add more premis types and software agents."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6efdd97046c56428383a156fe26497fcbb4a16ca", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/6efdd97046c56428383a156fe26497fcbb4a16ca", "committedDate": "2020-01-29T22:47:10Z", "message": "Pull premis test helper methods into test utility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34cb199c2e037eb0cf68271f04721b1041ebfcb3", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/34cb199c2e037eb0cf68271f04721b1041ebfcb3", "committedDate": "2020-01-29T23:11:32Z", "message": "Add services and commandline for executing premis transformation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e696c9911dc7143b87ab10d7e6f32d8203ae5601", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/e696c9911dc7143b87ab10d7e6f32d8203ae5601", "committedDate": "2020-01-30T15:22:13Z", "message": "Fix class path issues with jar. Add flags for premis tranformation. Add tests for transformation services"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae005b76bae9ec470b2113172c37b476978b1b94", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/ae005b76bae9ec470b2113172c37b476978b1b94", "committedDate": "2020-01-30T15:42:05Z", "message": "Add missing event profiles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b1df57fdadc5958247943d3d5e4f4683d2f5bbd", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/4b1df57fdadc5958247943d3d5e4f4683d2f5bbd", "committedDate": "2020-02-01T17:34:45Z", "message": "Catch illegal arg exception when setting date fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6ba475ea70dc9eebdca73fc0bf5db5fe0378965", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/a6ba475ea70dc9eebdca73fc0bf5db5fe0378965", "committedDate": "2020-02-03T15:01:27Z", "message": "Catch null event outcome case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab58a14847aa78e21887d219bd1c2b492f2c6b0e", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/ab58a14847aa78e21887d219bd1c2b492f2c6b0e", "committedDate": "2020-02-03T19:04:01Z", "message": "Update readme"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNDk4Nzk0", "url": "https://github.com/UNC-Libraries/box-c/pull/893#pullrequestreview-352498794", "createdAt": "2020-02-03T19:20:26Z", "commit": {"oid": "ab58a14847aa78e21887d219bd1c2b492f2c6b0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxOToyMDoyNlrOFk85zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxOToyMDoyNlrOFk85zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI5MDg5Mg==", "bodyText": "Remove Premis.VirusCheck", "url": "https://github.com/UNC-Libraries/box-c/pull/893#discussion_r374290892", "createdAt": "2020-02-03T19:20:26Z", "author": {"login": "bbpennel"}, "path": "migration-util/src/main/java/edu/unc/lib/dcr/migration/MigrationCLI.java", "diffHunk": "@@ -18,29 +18,46 @@\n import static edu.unc.lib.dcr.migration.MigrationConstants.OUTPUT_LOGGER;\n import static org.slf4j.LoggerFactory.getLogger;\n \n+import java.util.concurrent.Callable;\n+\n import org.slf4j.Logger;\n \n+import edu.unc.lib.dl.rdf.Premis;\n+import picocli.CommandLine;\n+import picocli.CommandLine.Command;\n+\n /**\n  * Main class for the migration tool\n  *\n  * @author bbpennel\n  *\n  */\n-public class MigrationMain {\n+@Command(subcommands = {\n+        TransformPremis.class\n+    })\n+public class MigrationCLI implements Callable<Integer> {\n     private static final Logger output = getLogger(OUTPUT_LOGGER);\n \n-    private MigrationMain() {\n+    private MigrationCLI() {\n+    }\n+\n+    @Override\n+    public Integer call() throws Exception {\n+        output.info(\"{} {}\", BannerUtility.getBanner(), Premis.VirusCheck);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab58a14847aa78e21887d219bd1c2b492f2c6b0e"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c4b6a5a1c8b3bb92e06320ddc4df7f41bda24d1", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/6c4b6a5a1c8b3bb92e06320ddc4df7f41bda24d1", "committedDate": "2020-02-03T20:18:17Z", "message": "Remove unintentional output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26149b80215caf065b8e5e95310cef677e8afb44", "author": {"user": {"login": "bbpennel", "name": "Ben Pennell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/26149b80215caf065b8e5e95310cef677e8afb44", "committedDate": "2020-02-03T20:28:40Z", "message": "Remove unused import"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2405, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}