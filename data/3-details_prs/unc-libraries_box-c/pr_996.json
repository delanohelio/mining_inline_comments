{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMjMyNDYy", "number": 996, "title": "Fix display of bulk action buttons from user actions", "bodyText": "Fix display of bulk action buttons\nRemove publish/unpublish actions\n\nhttps://jira.lib.unc.edu/browse/BXC-2672", "createdAt": "2020-05-26T14:13:21Z", "url": "https://github.com/UNC-Libraries/box-c/pull/996", "merged": true, "mergeCommit": {"oid": "4e00c3a7a25e67424d952daa1448347cd44e69de"}, "closed": true, "closedAt": "2020-06-02T21:02:01Z", "author": {"login": "lfarrell"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclFRfzgH2gAyNDIzMjMyNDYyOjMxZjIyYjVmZDAzMWUwYjY4NGFmMjE4NDhmZTFmYTVjNmQ2ZmUxMWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnaYUCgH2gAyNDIzMjMyNDYyOjRmMzFlMjI0MzJhZGNhMjFmMWZlNzQ1NWNmMWRlMDYxMDliNGNkNDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "31f22b5fd031e0b684af21848fe1fa5c6d6fe11e", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/31f22b5fd031e0b684af21848fe1fa5c6d6fe11e", "committedDate": "2020-05-26T14:09:55Z", "message": "* Fix display of bulk action buttons\n* Remove publish/unpublish actions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjYwMTg0", "url": "https://github.com/UNC-Libraries/box-c/pull/996#pullrequestreview-418660184", "createdAt": "2020-05-26T20:36:18Z", "commit": {"oid": "31f22b5fd031e0b684af21848fe1fa5c6d6fe11e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwNDE5MDk5", "url": "https://github.com/UNC-Libraries/box-c/pull/996#pullrequestreview-420419099", "createdAt": "2020-05-28T19:24:03Z", "commit": {"oid": "31f22b5fd031e0b684af21848fe1fa5c6d6fe11e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxOToyNDowNFrOGcDR3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxOToyNDowNFrOGcDR3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA2NzAzOA==", "bodyText": "Looking around a bit, it seems that this set of resultActions is passed into ResultObjectActionMenu and used for a bulk actions menu. My recollection is that when multiple things are selected, right clicking to bring up the context menu was supposed to list these actions rather than the usual menu options for individual objects. That doesn't appear to be working here or in production, but the code appears to still be around. See the batchActions references in ResultObjectActionMenu.\nAll that to say, it might be good to check on why that menu isn't working anymore while we're already looking at the bulk actions.", "url": "https://github.com/UNC-Libraries/box-c/pull/996#discussion_r432067038", "createdAt": "2020-05-28T19:24:04Z", "author": {"login": "bbpennel"}, "path": "static/js/admin/src/ResultView.js", "diffHunk": "@@ -30,14 +30,10 @@ define('ResultView', [ 'jquery', 'jquery-ui', 'ResultObjectList', 'URLUtilities'\n \t\t\t\t\t\t\t]\n \t\t\t\t\t\t},*/\n \t\t\t\t\t\t{\n-\t\t\t\t\t\t\tactions : [\n-\t\t\t\t\t\t\t\t{action : 'PublishBatch', label : 'Publish'},\n-\t\t\t\t\t\t\t\t{action : 'UnpublishBatch', label : 'Unpublish'}\n-\t\t\t\t\t\t\t]\n-\t\t\t\t\t\t}, {\n \t\t\t\t\t\t\tactions : [\n \t\t\t\t\t\t\t\t{action : 'RestoreBatch', label : 'Restore'},\n-\t\t\t\t\t\t\t\t{action : 'OpenDeleteBatch', label : 'Delete'}\n+\t\t\t\t\t\t\t\t{action : 'OpenDeleteBatch', label : 'Delete'},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f22b5fd031e0b684af21848fe1fa5c6d6fe11e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffac47235941ca076735e8b69121c9dad4020060", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/ffac47235941ca076735e8b69121c9dad4020060", "committedDate": "2020-05-28T20:14:06Z", "message": "Move destroy into its own button group"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5ef80b761027856a68388ab54f3a6bbc1da7a57", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/e5ef80b761027856a68388ab54f3a6bbc1da7a57", "committedDate": "2020-05-29T13:41:03Z", "message": "* Update gear menu for bulk actions\n* Remove unpublished"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f31e22432adca21f1fe7455cf1de06109b4cd41", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/4f31e22432adca21f1fe7455cf1de06109b4cd41", "committedDate": "2020-06-02T19:53:13Z", "message": "Remove \"publish\" check"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2385, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}