{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzODU0MDAx", "number": 998, "title": "Filter and display tags", "bodyText": "Filter and display tags\nRemove unpublished tag\n\nSupersedes #991\nhttps://jira.lib.unc.edu/browse/BXC-2226", "createdAt": "2020-05-27T13:30:04Z", "url": "https://github.com/UNC-Libraries/box-c/pull/998", "merged": true, "mergeCommit": {"oid": "c9a411fb0e5cc641abecbf81dc76da60f511b696"}, "closed": true, "closedAt": "2020-06-03T21:01:14Z", "author": {"login": "lfarrell"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclZKKAAH2gAyNDIzODU0MDAxOjAzYjU5YTYwNGFmNjljZmE4MWM2MDg2ZTJmYWExM2M5MjY5MDczODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnUQizAH2gAyNDIzODU0MDAxOmI3MGEwOWMzNjMyZTEzNWU5YWFkNjYwNWY0YmQ2NGZkYmNhZDJiYzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03b59a604af69cfa81c6086e2faa13c926907383", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/03b59a604af69cfa81c6086e2faa13c926907383", "committedDate": "2020-05-27T13:20:00Z", "message": "* Filter and display tags\n* Remove unpublished tag"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5Mjk5NTcw", "url": "https://github.com/UNC-Libraries/box-c/pull/998#pullrequestreview-419299570", "createdAt": "2020-05-27T14:50:55Z", "commit": {"oid": "03b59a604af69cfa81c6086e2faa13c926907383"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNDo1MDo1NlrOGbOOLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNDo1MDo1NlrOGbOOLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE5Nzc0MQ==", "bodyText": "Is tag.text still a thing? Seems like the tags are just strings now. It would probably be a good idea to have help text for each tag though, which could be passed in as a map. You're welcome to add that, or create a follow up ticket for it", "url": "https://github.com/UNC-Libraries/box-c/pull/998#discussion_r431197741", "createdAt": "2020-05-27T14:50:56Z", "author": {"login": "bbpennel"}, "path": "static/templates/admin/resultEntry.html", "diffHunk": "@@ -28,7 +28,7 @@\n \t\t\t<% for (var i in metadata.tags) { \n \t\t\t\tvar tag = metadata.tags[i];\n \t\t\t\t%>\n-\t\t\t\t<a class=\"status\" title=\"<%= tag.text %>\" ><%= _.escape(tag.label) %></a>\n+\t\t\t\t<a class=\"status\" title=\"<%= tag.text %>\" ><%= _.escape(tag) %></a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03b59a604af69cfa81c6086e2faa13c926907383"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4c0bf20679d769097382ad696613414fea2dd7", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/9a4c0bf20679d769097382ad696613414fea2dd7", "committedDate": "2020-05-27T19:27:09Z", "message": "Add help text for tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00ebb5457551890bb0fc5a84b7a379f99c414841", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/00ebb5457551890bb0fc5a84b7a379f99c414841", "committedDate": "2020-05-28T17:37:42Z", "message": "Update hover text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMjA4MjE2", "url": "https://github.com/UNC-Libraries/box-c/pull/998#pullrequestreview-422208216", "createdAt": "2020-06-01T21:52:53Z", "commit": {"oid": "00ebb5457551890bb0fc5a84b7a379f99c414841"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMTo1Mjo1M1rOGdbYXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMTo1Mjo1M1rOGdbYXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUxMDQ5NQ==", "bodyText": "Based on the list from the ticket, I don't think public-access should be showing as a tag, only as a facet", "url": "https://github.com/UNC-Libraries/box-c/pull/998#discussion_r433510495", "createdAt": "2020-06-01T21:52:53Z", "author": {"login": "bbpennel"}, "path": "static/js/admin/src/ResultObject.js", "diffHunk": "@@ -60,6 +66,38 @@ define('ResultObject', [ 'jquery', 'jquery-ui', 'underscore', 'ModalLoadingOverl\n \t\tif (this.options.selected || this.selected)\n \t\t\tthis.select();\n \t};\n+\n+\tResultObject.prototype._tagText = function(tag) {\n+\t\tvar helpText;\n+\n+\t\tswitch (tag) {\n+\t\t\tcase 'deleted':\n+\t\t\t\thelpText = 'Object has been marked for deletion'\n+\t\t\t\tbreak;\n+\t\t\tcase 'described':\n+\t\t\t\thelpText = 'Object has a MODS description';\n+\t\t\t\tbreak;\n+\t\t\tcase 'embargoed':\n+\t\t\t\thelpText = 'Object has an active embargo set';\n+\t\t\t\tbreak;\n+\t\t\tcase 'patron-settings':\n+\t\t\t\thelpText = 'Patron access settings for this object have been added';\n+\t\t\t\tbreak;\n+\t\t\tcase 'primary-object':\n+\t\t\t\thelpText = 'This file is the representative object for the work which contains it';\n+\t\t\t\tbreak;\n+\t\t\tcase 'public-access':", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00ebb5457551890bb0fc5a84b7a379f99c414841"}, "originalPosition": 74}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b70a09c3632e135e9aad6605f4bd64fdbcad2bc2", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/b70a09c3632e135e9aad6605f4bd64fdbcad2bc2", "committedDate": "2020-06-02T12:45:18Z", "message": "Don't display \"public access\""}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2203, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}