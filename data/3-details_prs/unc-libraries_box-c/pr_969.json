{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwODgzNTc3", "number": 969, "title": "Upgrade Vue.js CLI to 4.x", "bodyText": "https://jira.lib.unc.edu/browse/BXC-2523", "createdAt": "2020-04-29T18:39:43Z", "url": "https://github.com/UNC-Libraries/box-c/pull/969", "merged": true, "mergeCommit": {"oid": "df3816141a3a27850ce99ccdb7264a687a897f10"}, "closed": true, "closedAt": "2020-04-30T20:46:29Z", "author": {"login": "lfarrell"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccFq46AH2gAyNDEwODgzNTc3OjY1NjFiZjQyYzlkNDU1YjA2YzlkYzZkYmU4OTIyMTIxZWE1Njc2NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcczUMxgFqTQwMzg2MzA1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6561bf42c9d455b06c9dc6dbe8922121ea567649", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/6561bf42c9d455b06c9dc6dbe8922121ea567649", "committedDate": "2020-04-28T15:32:20Z", "message": "Package updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962797ab909300b041dba4da010e4294eefdef20", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/962797ab909300b041dba4da010e4294eefdef20", "committedDate": "2020-04-28T15:32:40Z", "message": "Update for new output names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9899190762bd5ea26dd1dcabdfb38567ca637315", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/9899190762bd5ea26dd1dcabdfb38567ca637315", "committedDate": "2020-04-28T16:46:39Z", "message": "Update permissions editor to vue-cli 4.3.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72b4e4face07c4006dae6388a70626597a98d1ca", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/72b4e4face07c4006dae6388a70626597a98d1ca", "committedDate": "2020-04-28T18:07:59Z", "message": "Update vue-cdr-access packages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "657fc1106cf6f35737f0fa902302dc258365eb5f", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/657fc1106cf6f35737f0fa902302dc258365eb5f", "committedDate": "2020-04-28T18:10:10Z", "message": "Router push needs a catch block, as navigating to same route throws an error, see https://github.com/vuejs/vue-router/issues/2881#issuecomment-520554378. It seems it's not supposed to throw the error if parameters are changed, so maybe a bug in vue-router?"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e92e54b0a3f3e98ed1a419d5bad09105ce054411", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/e92e54b0a3f3e98ed1a419d5bad09105ce054411", "committedDate": "2020-04-28T20:29:50Z", "message": "* Update vue-cdr-access packages\n* Security fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51f91dbd765294dddc44c60312ba273c4697dc3e", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/51f91dbd765294dddc44c60312ba273c4697dc3e", "committedDate": "2020-04-29T14:00:24Z", "message": "Fix issue with js build not overwriting previous build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a7249ce1c3e42ffb8ff979cb302b076e729cf25", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/8a7249ce1c3e42ffb8ff979cb302b076e729cf25", "committedDate": "2020-04-29T17:20:54Z", "message": "Update vue-test-utils and fix tests. There were breaking changes in 1.0.0-beta.30"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ead054709c84446be4ad78f5aaa5cea1ed5f656c", "author": {"user": {"login": "lfarrell", "name": "Dean Farrell"}}, "url": "https://github.com/UNC-Libraries/box-c/commit/ead054709c84446be4ad78f5aaa5cea1ed5f656c", "committedDate": "2020-04-29T19:04:57Z", "message": "Remove unneeded import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjk2Mzg4", "url": "https://github.com/UNC-Libraries/box-c/pull/969#pullrequestreview-403696388", "createdAt": "2020-04-30T16:43:56Z", "commit": {"oid": "ead054709c84446be4ad78f5aaa5cea1ed5f656c"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNjo0Mzo1NlrOGOxnxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzoyMDoxNlrOGOy7Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE0NjI0Ng==", "bodyText": "Just checking, but is the case now that we don't need to change behaviors depending on the deploy type for the permissions editor js, but do still need to for the css?", "url": "https://github.com/UNC-Libraries/box-c/pull/969#discussion_r418146246", "createdAt": "2020-04-30T16:43:56Z", "author": {"login": "bbpennel"}, "path": "Makefile", "diffHunk": "@@ -14,18 +14,13 @@ endif\n \n \tcat /dev/null > static/js/vue-permissions.js\n \n-ifeq ($(DEPLOY_TYPE), prod)\n-\tcat static/js/admin/vue-permissions-editor/dist/js/chunk-vendors*.js > static/js/vue-permissions.js\n-endif\n+\tcat static/js/admin/vue-permissions-editor/dist/js/chunk-vendors*js > static/js/vue-permissions.js\n+\n \n \t# Add new line so app*.js doesn't get commented out\n \techo >> static/js/vue-permissions.js\n \n-ifeq ($(DEPLOY_TYPE), prod)\n-\tcat static/js/admin/vue-permissions-editor/dist/js/app*.js >> static/js/vue-permissions.js\n-else\n-\tcat static/js/admin/vue-permissions-editor/dist/app.js >> static/js/vue-permissions.js\n-endif\n+\tcat static/js/admin/vue-permissions-editor/dist/js/app*js >> static/js/vue-permissions.js", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ead054709c84446be4ad78f5aaa5cea1ed5f656c"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE1OTk1Mg==", "bodyText": "what triggers NavigationDuplicated errors? Something like clicking twice on a link?", "url": "https://github.com/UNC-Libraries/box-c/pull/969#discussion_r418159952", "createdAt": "2020-04-30T17:07:22Z", "author": {"login": "bbpennel"}, "path": "static/js/vue-cdr-access/src/components/browseSearch.vue", "diffHunk": "@@ -41,7 +41,12 @@\n         methods: {\n             getResults() {\n                 let update_params = { anywhere: encodeURIComponent(this.search_query) };\n-                this.$router.push({ name: 'displayRecords', query: this.urlParams(update_params) });\n+                this.$router.push({ name: 'displayRecords', query: this.urlParams(update_params) })\n+                    .catch((e) => {\n+                        if (e.name !== 'NavigationDuplicated') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ead054709c84446be4ad78f5aaa5cea1ed5f656c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE2NzYwNg==", "bodyText": "Real dean is getting prettified!", "url": "https://github.com/UNC-Libraries/box-c/pull/969#discussion_r418167606", "createdAt": "2020-04-30T17:20:16Z", "author": {"login": "bbpennel"}, "path": "static/js/vue-cdr-access/tests/unit/modalMetadata.spec.js", "diffHunk": "@@ -9,7 +10,7 @@ localVue.use(VueRouter);\n \n const updated_uuid = 'c03a4bd7-25f4-4a6c-a68d-fedc4251b680';\n const title = 'Test Collection';\n-const response = `<table><tbody><tr><th>Creator</th> <td><p>Real Dean</p></td></tr></tbody></table>`;\n+const response = pretty(`<table><tbody><tr><th>Creator</th><td><p>Real Dean</p></td></tr></tbody></table>`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ead054709c84446be4ad78f5aaa5cea1ed5f656c"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODYzMDUy", "url": "https://github.com/UNC-Libraries/box-c/pull/969#pullrequestreview-403863052", "createdAt": "2020-04-30T20:43:11Z", "commit": {"oid": "ead054709c84446be4ad78f5aaa5cea1ed5f656c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2351, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}