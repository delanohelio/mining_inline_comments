{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NTI3MDE5", "number": 2241, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwOToyMzozNlrODgM7vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwOTozODoxNVrODgM-fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1MDkyOTI2OnYy", "diffSide": "RIGHT", "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/metrics/ParameterizedMetricKey.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwOToyMzozNlrOFqSixQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwOToyMzozNlrOFqSixQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg4ODMyNQ==", "bodyText": "I think, POOL needs to be a concurrent map, otherwise there might be a chance, that we create two instances for the same... I'll change that before merging", "url": "https://github.com/pmd/pmd/pull/2241#discussion_r379888325", "createdAt": "2020-02-16T09:23:36Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/metrics/ParameterizedMetricKey.java", "diffHunk": "@@ -65,6 +70,7 @@ public int hashCode() {\n      */\n     @SuppressWarnings(\"PMD.SingletonClassReturningNewInstance\")\n     public static <N extends Node> ParameterizedMetricKey<N> getInstance(MetricKey<N> key, MetricOptions options) {\n+        // sharing instances allows using DataMap, which uses reference identity", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08544a7539624689f235042892ee7e17105deb1e"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1MDkzNjMwOnYy", "diffSide": "RIGHT", "path": "pmd-java/src/test/resources/net/sourceforge/pmd/lang/java/metrics/impl/xml/AtfdTest.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwOTozODoxNVrOFqSmkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwOTozODoxNVrOFqSmkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg4OTI5Nw==", "bodyText": "I see, now the sum actually matches all the methods.... 36=6+4+0+4+4+18 - and the biggest contributor is the method with 18", "url": "https://github.com/pmd/pmd/pull/2241#discussion_r379889297", "createdAt": "2020-02-16T09:38:15Z", "author": {"login": "adangel"}, "path": "pmd-java/src/test/resources/net/sourceforge/pmd/lang/java/metrics/impl/xml/AtfdTest.xml", "diffHunk": "@@ -129,7 +129,7 @@ public class StatementAndBraceFinder extends JavaParserVisitorAdapter {\n         <description>Full example</description> <!-- TODO issues w/ that-->\n         <expected-problems>7</expected-problems>\n         <expected-messages>\n-            <message>'StatementAndBraceFinder' has value 10 highest 6.</message>\n+            <message>'StatementAndBraceFinder' has value 36 highest 18.</message>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08544a7539624689f235042892ee7e17105deb1e"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 468, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}