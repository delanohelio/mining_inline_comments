{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MDczMjc5", "number": 2680, "title": "[core] Deprecate report methods", "bodyText": "Describe the PR\nDeprecate many methods of Report. This follows from #1962.\nRelated issues\n\n\nFixes #1962\nCloses #1960\n\nReady?\n\n\n Added unit tests for fixed bug/feature\n Passing all unit tests\n Complete build ./mvnw clean verify passes (checked automatically by travis)\n Added (in-code) documentation (if needed)", "createdAt": "2020-07-28T21:39:39Z", "url": "https://github.com/pmd/pmd/pull/2680", "merged": true, "mergeCommit": {"oid": "709ec484c6c43f8a0e96b5dad4d57fe3d4a47fbb"}, "closed": true, "closedAt": "2020-08-03T19:02:04Z", "author": {"login": "oowekyala"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5V3K9AH2gAyNDU4MDczMjc5OmY2MmE0MTFhNDVlZTk0YmI4YWU2MjljNWZjMzZiMjFjOTdlNDZiMDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7WhwoAFqTQ2MDI1Nzk4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f62a411a45ee94bb8ae629c5fc36b21c97e46b05", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/f62a411a45ee94bb8ae629c5fc36b21c97e46b05", "committedDate": "2020-07-28T12:48:02Z", "message": "Deprecate some Report methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce3257309073b683299fc3cfcc4233e6c19b5300", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/ce3257309073b683299fc3cfcc4233e6c19b5300", "committedDate": "2020-07-28T12:55:01Z", "message": "Deprecate more methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "772bc1346ca41585a9fa8f38f28a9f050fdff952", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/772bc1346ca41585a9fa8f38f28a9f050fdff952", "committedDate": "2020-07-28T21:34:01Z", "message": "Deprecate more things"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/34d961b79421e6c84728a133dc7b6e502a1764b9", "committedDate": "2020-07-29T15:45:19Z", "message": "Deprecate ReadableDuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjUwMTgw", "url": "https://github.com/pmd/pmd/pull/2680#pullrequestreview-459650180", "createdAt": "2020-08-02T13:43:26Z", "commit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQxMzo0MzoyNlrOG6lMxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQxMzo1Mzo1M1rOG6lQfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA4MDA2OQ==", "bodyText": "... Use {@link #getViolations()}.isEmpty() instead.", "url": "https://github.com/pmd/pmd/pull/2680#discussion_r464080069", "createdAt": "2020-08-02T13:43:26Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/Report.java", "diffHunk": "@@ -445,27 +439,36 @@ public boolean isEmpty() {\n      *\n      * @return <code>true</code> if there were any processing errors,\n      *         <code>false</code> otherwise\n+     *\n+     * @deprecated Use {@link #getProcessingErrors()}.isEmpty()\n      */\n+    @Deprecated\n     public boolean hasErrors() {\n-        return errors != null && !errors.isEmpty();\n+        return !getProcessingErrors().isEmpty();\n     }\n \n     /**\n      * Checks whether any configuration errors have been reported.\n      *\n      * @return <code>true</code> if there were any configuration errors,\n      *         <code>false</code> otherwise\n+     *\n+     * @deprecated Use {@link #getConfigErrors()}.isEmpty()\n      */\n+    @Deprecated\n     public boolean hasConfigErrors() {\n-        return configErrors != null && !configErrors.isEmpty();\n+        return !getConfigErrors().isEmpty();\n     }\n \n     /**\n      * Checks whether no violations have been reported.\n      *\n      * @return <code>true</code> if no violations have been reported,\n      *         <code>false</code> otherwise\n+     *\n+     * @deprecated The {@link ReportTree} is deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9"}, "originalPosition": 171}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA4MDMxOA==", "bodyText": "Let's spend a sentence to explain, what this method checks:\nChecks whether there are no violations and no processing errors. That means, that PMD analysis yielded nothing to worry about.", "url": "https://github.com/pmd/pmd/pull/2680#discussion_r464080318", "createdAt": "2020-08-02T13:45:56Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/Report.java", "diffHunk": "@@ -436,6 +426,10 @@ public boolean hasMetrics() {\n         return metrics.iterator();\n     }\n \n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA4MDU4NA==", "bodyText": "We seem to keep the violations sorted by RuleViolationComparator.INSTANCE. Maybe that's worth mentioning, that the list of violations is actually a sorted list?", "url": "https://github.com/pmd/pmd/pull/2680#discussion_r464080584", "createdAt": "2020-08-02T13:48:46Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/Report.java", "diffHunk": "@@ -474,39 +477,89 @@ public boolean treeIsEmpty() {\n      * Returns an iteration over the reported violations.\n      *\n      * @return an iterator\n+     *\n+     * @deprecated The {@link ReportTree} is deprecated\n      */\n+    @Deprecated\n     public Iterator<RuleViolation> treeIterator() {\n         return violationTree.iterator();\n     }\n \n+    /**\n+     * @deprecated Use {@link #getViolations()}\n+     */\n+    @Deprecated\n     @Override\n     public Iterator<RuleViolation> iterator() {\n         return violations.iterator();\n     }\n \n+\n+    /**\n+     * Returns an unmodifiable list of violations that were suppressed.\n+     */\n+    public List<SuppressedViolation> getSuppressedRuleViolations() {\n+        return Collections.unmodifiableList(suppressedRuleViolations);\n+    }\n+\n+    /**\n+     * Returns an unmodifiable list of violations that have been\n+     * recorded until now. None of those violations were suppressed.\n+     */\n+    public List<RuleViolation> getViolations() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9"}, "originalPosition": 210}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA4MDk3NA==", "bodyText": "I think we should name this without abbreviation, since this is the only one, where we use abbrev.\nI think, it should be called getConfigurationErrors().", "url": "https://github.com/pmd/pmd/pull/2680#discussion_r464080974", "createdAt": "2020-08-02T13:53:17Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/Report.java", "diffHunk": "@@ -474,39 +477,89 @@ public boolean treeIsEmpty() {\n      * Returns an iteration over the reported violations.\n      *\n      * @return an iterator\n+     *\n+     * @deprecated The {@link ReportTree} is deprecated\n      */\n+    @Deprecated\n     public Iterator<RuleViolation> treeIterator() {\n         return violationTree.iterator();\n     }\n \n+    /**\n+     * @deprecated Use {@link #getViolations()}\n+     */\n+    @Deprecated\n     @Override\n     public Iterator<RuleViolation> iterator() {\n         return violations.iterator();\n     }\n \n+\n+    /**\n+     * Returns an unmodifiable list of violations that were suppressed.\n+     */\n+    public List<SuppressedViolation> getSuppressedRuleViolations() {\n+        return Collections.unmodifiableList(suppressedRuleViolations);\n+    }\n+\n+    /**\n+     * Returns an unmodifiable list of violations that have been\n+     * recorded until now. None of those violations were suppressed.\n+     */\n+    public List<RuleViolation> getViolations() {\n+        return Collections.unmodifiableList(violations);\n+    }\n+\n+\n+    /**\n+     * Returns an unmodifiable list of processing errors that have been\n+     * recorded until now.\n+     */\n+    public List<ProcessingError> getProcessingErrors() {\n+        return Collections.unmodifiableList(errors);\n+    }\n+\n+\n+    /**\n+     * Returns an unmodifiable list of configuration errors that have\n+     * been recorded until now.\n+     */\n+    public List<ConfigurationError> getConfigErrors() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9"}, "originalPosition": 228}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA4MTAyMw==", "bodyText": "The getter for the violations is only called getViolations and not getRuleViolations. In that sense, I think, this method should be called getSuppressedViolations().\nIf you agree, we need to create the new method getSuppressedViolations() and deprecated the existing getSuppressedRuleViolations().", "url": "https://github.com/pmd/pmd/pull/2680#discussion_r464081023", "createdAt": "2020-08-02T13:53:53Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/Report.java", "diffHunk": "@@ -474,39 +477,89 @@ public boolean treeIsEmpty() {\n      * Returns an iteration over the reported violations.\n      *\n      * @return an iterator\n+     *\n+     * @deprecated The {@link ReportTree} is deprecated\n      */\n+    @Deprecated\n     public Iterator<RuleViolation> treeIterator() {\n         return violationTree.iterator();\n     }\n \n+    /**\n+     * @deprecated Use {@link #getViolations()}\n+     */\n+    @Deprecated\n     @Override\n     public Iterator<RuleViolation> iterator() {\n         return violations.iterator();\n     }\n \n+\n+    /**\n+     * Returns an unmodifiable list of violations that were suppressed.\n+     */\n+    public List<SuppressedViolation> getSuppressedRuleViolations() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34d961b79421e6c84728a133dc7b6e502a1764b9"}, "originalPosition": 202}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66efc90cb3eb103caa8fdceef8ffbf127c49505c", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/66efc90cb3eb103caa8fdceef8ffbf127c49505c", "committedDate": "2020-08-03T11:20:51Z", "message": "PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1080d123c63059d85c63353fadcca75ebce23a4c", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/1080d123c63059d85c63353fadcca75ebce23a4c", "committedDate": "2020-08-03T11:23:17Z", "message": "Merge branch 'master' into deprecate-report-methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "709ec484c6c43f8a0e96b5dad4d57fe3d4a47fbb", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/709ec484c6c43f8a0e96b5dad4d57fe3d4a47fbb", "committedDate": "2020-08-03T11:26:49Z", "message": "Merge branch 'master' into deprecate-report-methods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjU3OTgx", "url": "https://github.com/pmd/pmd/pull/2680#pullrequestreview-460257981", "createdAt": "2020-08-03T18:42:24Z", "commit": {"oid": "709ec484c6c43f8a0e96b5dad4d57fe3d4a47fbb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4665, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}