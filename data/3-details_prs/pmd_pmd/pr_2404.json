{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MTkzMzk3", "number": 2404, "title": "[core] Add JsonRenderer", "bodyText": "Fixes #1286\nPR Description:\nThat's a simple implementation for supporting the json format as a standard renderer.\nThe format is very simple, but complete.\nOpen points:\n\nDo we need a separate json format version? In case we change the structure of the file, a version number is needed to differenciate. Maybe the pmd version is enough for that?\nThe documentation of the report formats could be expanded - I'd imagine some samples there (see https://pmd.github.io/latest/pmd_userdocs_cli_reference.html#available-report-formats)\n\nSample report\nproduced with the following command:\npmd-bin-6.23.0-SNAPSHOT/bin/run.sh pmd -f json -d ~/PMD/source/pmd-github/pmd-core/src/main/java -R rulesets/java/quickstart.xml -r report.json\nreport.json.txt\nHere for convienence, the beginning of the file:\n{\n  \"version\": \"6.23.0-SNAPSHOT\",\n  \"timestamp\": \"2020-04-05T20:13:49.698+02:00\",\n  \"files\": [\n    {\n      \"filename\": \"/home/andreas/PMD/source/pmd-github/pmd-core/src/main/java/net/sourceforge/pmd/PMDVersion.java\",\n      \"violations\": [\n        {\n          \"beginline\": 16,\n          \"begincolumn\": 14,\n          \"endline\": 79,\n          \"endcolumn\": 1,\n          \"description\": \"The utility class name \\u0027PMDVersion\\u0027 doesn\\u0027t match \\u0027[A-Z][a-zA-Z0-9]+(Utils?|Helper)\\u0027\",\n          \"rule\": \"ClassNamingConventions\",\n          \"ruleset\": \"Code Style\",\n          \"priority\": 1,\n          \"externalInfoUrl\": \"https://pmd.github.io/pmd/pmd_rules_java_codestyle.html#classnamingconventions\"\n        }\n      ]\n    },\n    {\n      \"filename\": \"/home/andreas/PMD/source/pmd-github/pmd-core/src/main/java/net/sourceforge/pmd/RuleContext.java\",\n      \"violations\": [\n        {\n          \"beginline\": 124,\n          \"begincolumn\": 9,\n          \"endline\": 125,\n          \"endcolumn\": 111,\n          \"description\": \"Logger calls should be surrounded by log level guards.\",\n          \"rule\": \"GuardLogStatement\",\n          \"ruleset\": \"Best Practices\",\n          \"priority\": 2,\n          \"externalInfoUrl\": \"https://pmd.github.io/pmd/pmd_rules_java_bestpractices.html#guardlogstatement\"\n        }\n      ]\n    },\n    {\n      \"filename\": \"/home/andreas/PMD/source/pmd-github/pmd-core/src/main/java/net/sourceforge/pmd/RuleSet.java\",\n      \"violations\": [\n        {\n          \"beginline\": 145,\n          \"begincolumn\": 21,\n          \"endline\": 146,\n          \"endcolumn\": 90,\n          \"description\": \"Logger calls should be surrounded by log level guards.\",\n          \"rule\": \"GuardLogStatement\",\n          \"ruleset\": \"Best Practices\",\n          \"priority\": 2,\n          \"externalInfoUrl\": \"https://pmd.github.io/pmd/pmd_rules_java_bestpractices.html#guardlogstatement\"\n        },\n        {\n          \"beginline\": 474,\n          \"begincolumn\": 21,\n          \"endline\": 474,\n          \"endcolumn\": 141,\n          \"description\": \"Logger calls should be surrounded by log level guards.\",\n          \"rule\": \"GuardLogStatement\",\n          \"ruleset\": \"Best Practices\",\n          \"priority\": 2,\n          \"externalInfoUrl\": \"https://pmd.github.io/pmd/pmd_rules_java_bestpractices.html#guardlogstatement\"\n        }\n      ]\n    },\nBefore submitting a PR, please check that:\n\n The PR is submitted against master. The PMD team will merge back to support branches as needed.\n ./mvnw clean verify passes. This will build and test PMD, execute PMD and checkstyle rules. Check this for more info", "createdAt": "2020-04-05T18:22:38Z", "url": "https://github.com/pmd/pmd/pull/2404", "merged": true, "mergeCommit": {"oid": "51f22c14864d25565657a411c2972772d22a3a7b"}, "closed": true, "closedAt": "2020-04-23T09:36:19Z", "author": {"login": "adangel"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUuMhugH2gAyMzk5MTkzMzk3OmQyM2Q0NGMzMDgwYjNlZjc4YTFjODNiMTkxMTFlOWFiNWE4MGUzZDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaYYhQgFqTM5ODg2MTAzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d23d44c3080b3ef78a1c83b19111e9ab5a80e3d1", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/d23d44c3080b3ef78a1c83b19111e9ab5a80e3d1", "committedDate": "2020-04-05T18:13:53Z", "message": "[core] Add JsonRenderer\n\nFixes #1286"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bac8d33ebd313db0ea4e3534758735d4203e0780", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/bac8d33ebd313db0ea4e3534758735d4203e0780", "committedDate": "2020-04-06T18:00:06Z", "message": "Fix build under windows"}, "afterCommit": {"oid": "9be7251fb091ef327a2927743deae08a51f81b48", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/9be7251fb091ef327a2927743deae08a51f81b48", "committedDate": "2020-04-06T18:37:37Z", "message": "Fix build under windows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc88b79b92aaf829fcc8b687dfa304955e8ef619", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/fc88b79b92aaf829fcc8b687dfa304955e8ef619", "committedDate": "2020-04-07T17:42:23Z", "message": "Fix build under windows"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9be7251fb091ef327a2927743deae08a51f81b48", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/9be7251fb091ef327a2927743deae08a51f81b48", "committedDate": "2020-04-06T18:37:37Z", "message": "Fix build under windows"}, "afterCommit": {"oid": "fc88b79b92aaf829fcc8b687dfa304955e8ef619", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/fc88b79b92aaf829fcc8b687dfa304955e8ef619", "committedDate": "2020-04-07T17:42:23Z", "message": "Fix build under windows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3c4d4b1fd433ecf8b5514e34767611aef3affbe", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/d3c4d4b1fd433ecf8b5514e34767611aef3affbe", "committedDate": "2020-04-20T07:09:51Z", "message": "Merge branch 'master' into json-report-format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5abaa7489a2812f2433a7c65ec7fc37e98b0faee", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/5abaa7489a2812f2433a7c65ec7fc37e98b0faee", "committedDate": "2020-04-20T07:14:04Z", "message": "Update release notes (add todo)\n\nCloses #1286, refs #2404, #2413"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MTk3MTUz", "url": "https://github.com/pmd/pmd/pull/2404#pullrequestreview-396197153", "createdAt": "2020-04-20T07:19:34Z", "commit": {"oid": "fc88b79b92aaf829fcc8b687dfa304955e8ef619"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57ae752756f61b7c607e0d3a3c60e77676e91cd8", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/57ae752756f61b7c607e0d3a3c60e77676e91cd8", "committedDate": "2020-04-20T07:26:55Z", "message": "Add separate format version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f22fa24cb92bc1624cb0eea000621ed6e53309d2", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/f22fa24cb92bc1624cb0eea000621ed6e53309d2", "committedDate": "2020-04-20T08:35:30Z", "message": "Merge branch 'master' into json-report-format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33fd5d0ba29ee8d801952d9dc00ce2bd6ae6cd6c", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/33fd5d0ba29ee8d801952d9dc00ce2bd6ae6cd6c", "committedDate": "2020-04-20T08:48:43Z", "message": "Add documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daf84fb2bcc3f2da6938588c96b5e59ce3222f54", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/daf84fb2bcc3f2da6938588c96b5e59ce3222f54", "committedDate": "2020-04-20T08:51:50Z", "message": "Fix todo in release notes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODYxMDM2", "url": "https://github.com/pmd/pmd/pull/2404#pullrequestreview-398861036", "createdAt": "2020-04-23T08:12:36Z", "commit": {"oid": "57ae752756f61b7c607e0d3a3c60e77676e91cd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODoxMjozNlrOGKchxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODoxMjozNlrOGKchxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYwNjM0Mw==", "bodyText": "For now, we don't need it public. We don't write a reader, just a writer, so the only important thing is, that this formatVersion ends up in the serialized json file.", "url": "https://github.com/pmd/pmd/pull/2404#discussion_r413606343", "createdAt": "2020-04-23T08:12:36Z", "author": {"login": "adangel"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/renderers/JsonRenderer.java", "diffHunk": "@@ -21,6 +21,12 @@\n public class JsonRenderer extends AbstractIncrementingRenderer {\n     public static final String NAME = \"json\";\n \n+    // TODO do we make this public? It would make it possible to write eg", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57ae752756f61b7c607e0d3a3c60e77676e91cd8"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4755, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}