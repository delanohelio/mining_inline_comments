{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2OTgwNTI4", "number": 2478, "title": "[java] New rule: LiteralsFirstInComparisons", "bodyText": "Describe the PR\nAdds a new rule LiteralsFirstInComparisons that examines the positioning of literals for all String comparison operations. This rule's logic is identical to AbstractPositionLiteralsFirstInComparisons with the exception of the AbstractNode.image check.\nThe following comparisons are supported:\n\n.equals\n.equalsIgnoreCase\n.compareTo\n.compareToIgnoreCase\n.contentEquals\n\nThis is a generalization of the previously defined rules PositionLiteralsFirstInComparisons and PositionLiteralsFirstInCaseInsensitiveComparisons. These now redundant rules will be deprecated in a separate PR.\nIncluded all the original test cases for the original rules, as well as test cases for the new comparisons as well.\nRelated issues\n\nRef #2145 - this rule will replace the two old rules\n\nReady?\n\n Added unit tests for fixed bug/feature\n Passing all unit tests\n Complete build ./mvnw clean verify passes (checked automatically by travis)\n Added (in-code) documentation (if needed)", "createdAt": "2020-05-12T21:29:38Z", "url": "https://github.com/pmd/pmd/pull/2478", "merged": true, "mergeCommit": {"oid": "72128e14764a586d0458f60d7aceaca350925bfc"}, "closed": true, "closedAt": "2020-05-18T18:42:39Z", "author": {"login": "John-Teng"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgq1hgAH2gAyNDE2OTgwNTI4OjhmZjQ1MjA4MGJjY2ZjNjI3ZDA0MTVmYmJmNjM4OWEyMzE1ZWU2ZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcijjK6AFqTQxMzgwODY2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8ff452080bccfc627d0415fbbf6389a2315ee6d6", "author": {"user": {"login": "John-Teng", "name": null}}, "url": "https://github.com/pmd/pmd/commit/8ff452080bccfc627d0415fbbf6389a2315ee6d6", "committedDate": "2020-05-12T21:06:08Z", "message": "Added new rule corresponding to all string literal comparisons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99db8b437347efff551cc63720f5a5ccb17a68b4", "author": {"user": {"login": "John-Teng", "name": null}}, "url": "https://github.com/pmd/pmd/commit/99db8b437347efff551cc63720f5a5ccb17a68b4", "committedDate": "2020-05-12T21:07:21Z", "message": "Added new rule to bestpractices category, added unit tests for all comparison cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMDgyNDk0", "url": "https://github.com/pmd/pmd/pull/2478#pullrequestreview-412082494", "createdAt": "2020-05-14T18:36:33Z", "commit": {"oid": "99db8b437347efff551cc63720f5a5ccb17a68b4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxODozNjozNFrOGVpXJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxODozNzo0M1rOGVpZaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM1MDk0OA==", "bodyText": "This will need to be 6.24.0", "url": "https://github.com/pmd/pmd/pull/2478#discussion_r425350948", "createdAt": "2020-05-14T18:36:34Z", "author": {"login": "adangel"}, "path": "pmd-java/src/main/resources/category/java/bestpractices.xml", "diffHunk": "@@ -877,6 +877,43 @@ public class MyTest {\n     public void testGood() {\n         doSomething();\n     }\n+}\n+]]>\n+        </example>\n+    </rule>\n+\n+    <rule name=\"LiteralsFirstInComparisons\"\n+          language=\"java\"\n+          since=\"6.23\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99db8b437347efff551cc63720f5a5ccb17a68b4"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM1MTUyOA==", "bodyText": "You can remove the CDATA sections here for the descriptions, that's not needed. That's an old habit... without CDATA, the description is better readable", "url": "https://github.com/pmd/pmd/pull/2478#discussion_r425351528", "createdAt": "2020-05-14T18:37:43Z", "author": {"login": "adangel"}, "path": "pmd-java/src/test/resources/net/sourceforge/pmd/lang/java/rule/bestpractices/xml/LiteralsFirstInComparisons.xml", "diffHunk": "@@ -0,0 +1,297 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<test-data\n+        xmlns=\"http://pmd.sourceforge.net/rule-tests\"\n+        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+        xsi:schemaLocation=\"http://pmd.sourceforge.net/rule-tests http://pmd.sourceforge.net/rule-tests_1_0_0.xsd\">\n+    <test-code>\n+        <description><![CDATA[", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99db8b437347efff551cc63720f5a5ccb17a68b4"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72128e14764a586d0458f60d7aceaca350925bfc", "author": {"user": {"login": "John-Teng", "name": null}}, "url": "https://github.com/pmd/pmd/commit/72128e14764a586d0458f60d7aceaca350925bfc", "committedDate": "2020-05-15T14:43:51Z", "message": "fixed the rule version, removed CDATA tags from descriptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzODA4NjY3", "url": "https://github.com/pmd/pmd/pull/2478#pullrequestreview-413808667", "createdAt": "2020-05-18T17:44:36Z", "commit": {"oid": "72128e14764a586d0458f60d7aceaca350925bfc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4780, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}