{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MjAzMTAw", "number": 2486, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozMzozMlrOD8nurQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMzo0OToyOVrOD84R6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODkyMDc3OnYy", "diffSide": "RIGHT", "path": "pmd-core/src/main/java/net/sourceforge/pmd/rules/RuleBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozMzozMlrOGVrPjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQxNjo1NjowM1rOGWbZeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MTc3Mw==", "bodyText": "this change is unrelated, but the language attribute is not required in rule definition (may be provided by the rule implementation directly), so this may produce NPEs for definitions such as:\n<!-- AccessorClassGenerationRule is an AbstractJavaRule, which sets language to Java, \nmaximumLanguageVersion is invalid, but the builder is never explicitly told the language -->\n<rule name=\"AccessorClassGeneration\"\n          since=\"1.04\"\n          maximumLanguageVersion=\"16\"\n          message=\"Avoid instantiation through private constructors from outside of the constructor's class.\"\n          class=\"net.sourceforge.pmd.lang.java.rule.bestpractices.AccessorClassGenerationRule\"\n          externalInfoUrl=\"${pmd.website.baseurl}/pmd_rules_java_bestpractices.html#accessorclassgeneration\">\nthis bug just happened to bit me during my refactors :D", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r425381773", "createdAt": "2020-05-14T19:33:32Z", "author": {"login": "jsotuyod"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/rules/RuleBuilder.java", "diffHunk": "@@ -184,12 +184,12 @@ private void loadLanguageMinMaxVersions(Rule rule) {\n         checkLanguageVersionsAreOrdered(rule);\n     }\n \n-    private void throwUnknownLanguageVersionException(String minOrMax, String unknownVersion) {\n+    private void throwUnknownLanguageVersionException(String minOrMax, String unknownVersion, Language lang) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjE3MDc0Ng==", "bodyText": "I think this needs a test case. I'll add one when merging", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r426170746", "createdAt": "2020-05-16T16:56:03Z", "author": {"login": "oowekyala"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/rules/RuleBuilder.java", "diffHunk": "@@ -184,12 +184,12 @@ private void loadLanguageMinMaxVersions(Rule rule) {\n         checkLanguageVersionsAreOrdered(rule);\n     }\n \n-    private void throwUnknownLanguageVersionException(String minOrMax, String unknownVersion) {\n+    private void throwUnknownLanguageVersionException(String minOrMax, String unknownVersion, Language lang) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MTc3Mw=="}, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODkyNDQ2OnYy", "diffSide": "RIGHT", "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/BaseLanguageModule.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozNDozOVrOGVrR5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNDowNDoyMlrOGWGQ8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MjM3NA==", "bodyText": "shall we deprecate it and promote the experimental version?", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r425382374", "createdAt": "2020-05-14T19:34:39Z", "author": {"login": "jsotuyod"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/BaseLanguageModule.java", "diffHunk": "@@ -56,9 +57,9 @@ protected void addVersions(LanguageVersionHandler languageVersionHandler, boolea\n             defaultVersion = languageVersion;\n         }\n     }\n-\n+    \n     protected void addVersion(String version, LanguageVersionHandler languageVersionHandler, boolean isDefault) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxNzA3NA==", "bodyText": "I think, we shouldn't remove the redundant overload on master, but deprecating it and removing it later is appropriate. Removing it abruptly would at least break the designer, though I don't know about other dependent projects", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r425817074", "createdAt": "2020-05-15T13:53:02Z", "author": {"login": "oowekyala"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/BaseLanguageModule.java", "diffHunk": "@@ -56,9 +57,9 @@ protected void addVersions(LanguageVersionHandler languageVersionHandler, boolea\n             defaultVersion = languageVersion;\n         }\n     }\n-\n+    \n     protected void addVersion(String version, LanguageVersionHandler languageVersionHandler, boolean isDefault) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MjM3NA=="}, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgyNDQ5Nw==", "bodyText": "true, we are compiling the designer against older pmd-core for release, and get a bumped pmd-core in runtime. I completely forgot about that one.", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r425824497", "createdAt": "2020-05-15T14:04:22Z", "author": {"login": "jsotuyod"}, "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/BaseLanguageModule.java", "diffHunk": "@@ -56,9 +57,9 @@ protected void addVersions(LanguageVersionHandler languageVersionHandler, boolea\n             defaultVersion = languageVersion;\n         }\n     }\n-\n+    \n     protected void addVersion(String version, LanguageVersionHandler languageVersionHandler, boolean isDefault) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MjM3NA=="}, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTYzMjQyOnYy", "diffSide": "RIGHT", "path": "pmd-java/src/main/java/net/sourceforge/pmd/lang/java/JavaLanguageModule.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMzo0OToyOVrOGWFqdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNDo0MzoyNVrOGWH0yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxNDY0NA==", "bodyText": "I think we could improve further by hiding the isDefault parameter. There's only one default version, but all those calls have to mention this false argument, which is obscure unless you know what it is, or are in an IDE. We could just have addVersion for non-default versions, and a separate addDefaultVersion method", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r425814644", "createdAt": "2020-05-15T13:49:29Z", "author": {"login": "oowekyala"}, "path": "pmd-java/src/main/java/net/sourceforge/pmd/lang/java/JavaLanguageModule.java", "diffHunk": "@@ -19,12 +19,12 @@ public JavaLanguageModule() {\n         super(NAME, null, TERSE_NAME, JavaRuleChainVisitor.class, \"java\");\n         addVersion(\"1.3\", new JavaLanguageHandler(3), false);\n         addVersion(\"1.4\", new JavaLanguageHandler(4), false);\n-        addVersions(new JavaLanguageHandler(5), false, \"1.5\", \"5\");\n-        addVersions(new JavaLanguageHandler(6), false, \"1.6\", \"6\");\n-        addVersions(new JavaLanguageHandler(7), false, \"1.7\", \"7\");\n-        addVersions(new JavaLanguageHandler(8), false, \"1.8\", \"8\");\n-        addVersions(new JavaLanguageHandler(9), false, \"9\", \"1.9\");\n-        addVersions(new JavaLanguageHandler(10), false, \"10\", \"1.10\");\n+        addVersion(\"1.5\", new JavaLanguageHandler(5), false, \"5\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg1MDA1Nw==", "bodyText": "done", "url": "https://github.com/pmd/pmd/pull/2486#discussion_r425850057", "createdAt": "2020-05-15T14:43:25Z", "author": {"login": "jsotuyod"}, "path": "pmd-java/src/main/java/net/sourceforge/pmd/lang/java/JavaLanguageModule.java", "diffHunk": "@@ -19,12 +19,12 @@ public JavaLanguageModule() {\n         super(NAME, null, TERSE_NAME, JavaRuleChainVisitor.class, \"java\");\n         addVersion(\"1.3\", new JavaLanguageHandler(3), false);\n         addVersion(\"1.4\", new JavaLanguageHandler(4), false);\n-        addVersions(new JavaLanguageHandler(5), false, \"1.5\", \"5\");\n-        addVersions(new JavaLanguageHandler(6), false, \"1.6\", \"6\");\n-        addVersions(new JavaLanguageHandler(7), false, \"1.7\", \"7\");\n-        addVersions(new JavaLanguageHandler(8), false, \"1.8\", \"8\");\n-        addVersions(new JavaLanguageHandler(9), false, \"9\", \"1.9\");\n-        addVersions(new JavaLanguageHandler(10), false, \"10\", \"1.10\");\n+        addVersion(\"1.5\", new JavaLanguageHandler(5), false, \"5\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxNDY0NA=="}, "originalCommit": {"oid": "d1e0f8c5faa4690beeea629f88e9aa6d6ebeb8eb"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 402, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}