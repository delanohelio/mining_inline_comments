{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxOTUzMzA1", "number": 2980, "title": "Dogfood - Update PMD to 6.32.0", "bodyText": "Describe the PR\n\nUpdate PMD to 6.31.0 6.32.0\nFixes new CompareObjectsWithEquals violations\nUses new build-tools 9-SNAPSHOT which has a suppression configured for Nodes for CompareObjectsWithEquals\n\nRelated issues\n\nnone\n\nReady?\n\n\n Added unit tests for fixed bug/feature\n Passing all unit tests\n Complete build ./mvnw clean verify passes (checked automatically by travis)\n Added (in-code) documentation (if needed)", "createdAt": "2020-12-17T15:46:24Z", "url": "https://github.com/pmd/pmd/pull/2980", "merged": true, "mergeCommit": {"oid": "a2d1976db9ea6816cca5deb8d325b6249008e284"}, "closed": true, "closedAt": "2021-03-01T14:46:59Z", "author": {"login": "adangel"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlbPaJAH2gAyNTQxOTUzMzA1OjNhODJjZjVhZTFkNWZjYzkwYmIyYjVkZjk2YzUzNjAzZjE4MmU5MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd-OXTkAH2gAyNTQxOTUzMzA1OmJlMjNiNmY4YWEzZDBiNDgwZWY4YjA4ZmRiZjZlZWEzOWU3MmE5MGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3a82cf5ae1d5fcc90bb2b5df96c53603f182e907", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/3a82cf5ae1d5fcc90bb2b5df96c53603f182e907", "committedDate": "2020-12-12T11:56:42Z", "message": "(dogfood) Bump pmd from 6.29.0 to 6.30.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62a052e97b6285fa25d39f11a8e59692016adff1", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/62a052e97b6285fa25d39f11a8e59692016adff1", "committedDate": "2020-12-17T15:44:32Z", "message": "(dogfood) Further CompareObjectsWithEquals fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTAxMDk2", "url": "https://github.com/pmd/pmd/pull/2980#pullrequestreview-554901096", "createdAt": "2020-12-17T19:01:32Z", "commit": {"oid": "62a052e97b6285fa25d39f11a8e59692016adff1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowMTozMlrOIIEXbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowMTozMlrOIIEXbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMzMTA1NQ==", "bodyText": "I think == for nodes is more readable than equals. An equals calls looks like it could be recursing, because intuitively two nodes are equal if their subtree are the equal. But everywhere you replaced, we don't want to test whether the subtrees are structurally equal, we want to know whether they're the same. Only == captures this intent, using equals obscures this. Not to mention that equals may NPE and is in that sense less ergonomic.\nI think we should enhance the rule with a list of types for which == is correct.\nEdit: in the meantime i think we could suppress those new violations...", "url": "https://github.com/pmd/pmd/pull/2980#discussion_r545331055", "createdAt": "2020-12-17T19:01:32Z", "author": {"login": "oowekyala"}, "path": "pmd-java/src/main/java/net/sourceforge/pmd/lang/java/rule/performance/AvoidInstantiatingObjectsInLoopsRule.java", "diffHunk": "@@ -119,7 +119,7 @@ private boolean notInsideLoop(ASTAllocationExpression node) {\n                  */\n                 n = n.getParent();\n             } else if (n.getParent() instanceof ASTForStatement && n.getParent().getNumChildren() > 1\n-                    && n == n.getParent().getChild(1)) {\n+                    && n.equals(n.getParent().getChild(1))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62a052e97b6285fa25d39f11a8e59692016adff1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7384a69d3128a831e2dcf44409c384d2804f2e40", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/7384a69d3128a831e2dcf44409c384d2804f2e40", "committedDate": "2021-02-26T18:26:36Z", "message": "Merge branch 'master' into dogfood-6.30.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b03ec450c200749d02fe1a2f6dcddff5b21439c8", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/b03ec450c200749d02fe1a2f6dcddff5b21439c8", "committedDate": "2021-02-26T19:31:26Z", "message": "(dogfood) Bump pmd from 6.30.0 to 6.31.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84ea5e04b4db0d456ea8cbb40a61f036ac55024e", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/84ea5e04b4db0d456ea8cbb40a61f036ac55024e", "committedDate": "2021-02-26T19:59:35Z", "message": "Revert the changes - compare Nodes with == again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bae42f954a935a2e986ad038ce7e34d4769d29a5", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/bae42f954a935a2e986ad038ce7e34d4769d29a5", "committedDate": "2021-02-26T21:09:43Z", "message": "Fix build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be23b6f8aa3d0b480ef8b08fdbf6eea39e72a90c", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/be23b6f8aa3d0b480ef8b08fdbf6eea39e72a90c", "committedDate": "2021-02-27T13:04:40Z", "message": "(dogfood) Bump pmd from 6.31.0 to 6.32.0"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4612, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}