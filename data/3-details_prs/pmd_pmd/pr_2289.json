{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NjA0NzY4", "number": 2289, "title": "[vm] Adapt VM module to the new javacc wrapper", "bodyText": "Refs #2211, part of #2239\nThis also renames ASTprocess to ASTTemplate, and removes a lot of dead code (though not nearly enough), including\n\nLogUtil\nTemplateParseException\nMacroParseException\nMany methods of AbstractVmNode\nSome logic in the parser\n\n#2176 is still on. I ported it to the new build just so it can't prevent other cross-language improvements by lagging behind", "createdAt": "2020-02-14T22:49:00Z", "url": "https://github.com/pmd/pmd/pull/2289", "merged": true, "mergeCommit": {"oid": "79f843dea8eafcaa2f9339b5577445922f9edf28"}, "closed": true, "closedAt": "2020-03-13T09:21:06Z", "author": {"login": "oowekyala"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEXKZSgH2gAyMzc1NjA0NzY4OmU0NmE4NzVmMmNmZTRkNzY3YmU3YmNkYTcyY2Y2NTI4ODM5MjczMGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNMBRigH2gAyMzc1NjA0NzY4OmJiNThmY2I0N2ZkYTExMGY4YjQ4M2QzYjkyMDYyOGQ1NmMwZDMyNTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e46a875f2cfe4d767be7bcda72cf65288392730e", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/e46a875f2cfe4d767be7bcda72cf65288392730e", "committedDate": "2020-02-14T22:20:57Z", "message": "Port velocity module to new script\n\nRemove a bunch of useless copy pasted goo\n* LogUtil\n* TemplateParseException\n* MacroParseException\n* Many methods of AbstractVmNode\n\nRename ASTprocess to ASTTemplate."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1b7c1da2b8ece67f1ff186668c11f1a8d163d8c", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/c1b7c1da2b8ece67f1ff186668c11f1a8d163d8c", "committedDate": "2020-02-14T22:47:29Z", "message": "Cleanup VM parser"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9983a52486613c5ca0e614977a93794b8048a225", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/9983a52486613c5ca0e614977a93794b8048a225", "committedDate": "2020-02-14T23:50:14Z", "message": "Fix windows build"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0907353a868ee0719012612ef465327a2f940a74", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/0907353a868ee0719012612ef465327a2f940a74", "committedDate": "2020-02-14T23:48:57Z", "message": "Fix windows build"}, "afterCommit": {"oid": "9983a52486613c5ca0e614977a93794b8048a225", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/9983a52486613c5ca0e614977a93794b8048a225", "committedDate": "2020-02-14T23:50:14Z", "message": "Fix windows build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cd705dd35f3e7e0b1d29428aa79427bbab23c3f", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/5cd705dd35f3e7e0b1d29428aa79427bbab23c3f", "committedDate": "2020-02-15T08:26:26Z", "message": "Restrict ctor visibility"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxODAzOTIx", "url": "https://github.com/pmd/pmd/pull/2289#pullrequestreview-361803921", "createdAt": "2020-02-20T10:49:25Z", "commit": {"oid": "5cd705dd35f3e7e0b1d29428aa79427bbab23c3f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMDo0OToyNVrOFsOujg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTowMzozOFrOFsPK2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyMjk1OA==", "bodyText": "Standard procedure: first deprecate/internalize on master, merge master into PMD 7, then merge this PR...", "url": "https://github.com/pmd/pmd/pull/2289#discussion_r381922958", "createdAt": "2020-02-20T10:49:25Z", "author": {"login": "adangel"}, "path": "pmd-vm/src/main/java/net/sourceforge/pmd/lang/vm/ast/ASTAddNode.java", "diffHunk": "@@ -34,22 +34,11 @@\n  * @version $Id: ASTAddNode.java 712887 2008-11-11 00:27:50Z nbubna $\n  */\n public class ASTAddNode extends ASTMathNode {\n-    /**\n-     * @param id\n-     */\n-    public ASTAddNode(final int id) {\n+    ASTAddNode(int id) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cd705dd35f3e7e0b1d29428aa79427bbab23c3f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkzMDIwMA==", "bodyText": "It seems we moved the JavaTokenManager as well from lang.java to sub-package lang.java.ast - without noting this incompatibility...", "url": "https://github.com/pmd/pmd/pull/2289#discussion_r381930200", "createdAt": "2020-02-20T11:03:38Z", "author": {"login": "adangel"}, "path": "pmd-vm/src/main/java/net/sourceforge/pmd/lang/vm/ast/VmTokenManager.java", "diffHunk": "@@ -1,22 +1,21 @@\n-/**\n+/*\n  * BSD-style license; for more info see http://pmd.sourceforge.net/license.html\n  */\n \n-package net.sourceforge.pmd.lang.vm;\n+package net.sourceforge.pmd.lang.vm.ast;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cd705dd35f3e7e0b1d29428aa79427bbab23c3f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMTA4NDky", "url": "https://github.com/pmd/pmd/pull/2289#pullrequestreview-362108492", "createdAt": "2020-02-20T17:51:06Z", "commit": {"oid": "5cd705dd35f3e7e0b1d29428aa79427bbab23c3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNzo1MTowNlrOFsdMDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNzo1MTowNlrOFsdMDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE1OTg4NA==", "bodyText": "Should be final\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class ASTBlock extends AbstractVmNode {\n          \n          \n            \n            public final class ASTBlock extends AbstractVmNode {", "url": "https://github.com/pmd/pmd/pull/2289#discussion_r382159884", "createdAt": "2020-02-20T17:51:06Z", "author": {"login": "adangel"}, "path": "pmd-vm/src/main/java/net/sourceforge/pmd/lang/vm/ast/ASTBlock.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * BSD-style license; for more info see http://pmd.sourceforge.net/license.html\n+ */\n+\n+package net.sourceforge.pmd.lang.vm.ast;\n+\n+import org.apache.commons.lang3.StringUtils;\n+\n+public class ASTBlock extends AbstractVmNode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cd705dd35f3e7e0b1d29428aa79427bbab23c3f"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7cbab5d470fb9b597085a67b8567442fc230596", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/b7cbab5d470fb9b597085a67b8567442fc230596", "committedDate": "2020-02-21T13:42:52Z", "message": "Update pmd-vm/src/main/java/net/sourceforge/pmd/lang/vm/ast/ASTBlock.java\n\nCo-Authored-By: Andreas Dangel <andreas.dangel@pmd-code.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "888340666ccb56efaa4577c2440c220d83b9672b", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/888340666ccb56efaa4577c2440c220d83b9672b", "committedDate": "2020-03-12T20:19:43Z", "message": "Merge branch 'pmd/7.0.x' into pr-2289"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0680c4354b5cd2fce3bec40a10be2d1773e98122", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/0680c4354b5cd2fce3bec40a10be2d1773e98122", "committedDate": "2020-03-12T20:37:12Z", "message": "[vm] Make AST nodes final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0aa0333312ca3d16cbefa46efb7e665aa6490af9", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/0aa0333312ca3d16cbefa46efb7e665aa6490af9", "committedDate": "2020-03-12T20:44:47Z", "message": "[vm] small refactoring for NodeUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fd87dab4a632899926ba3c7cf19ae8c7be00187", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/4fd87dab4a632899926ba3c7cf19ae8c7be00187", "committedDate": "2020-03-12T20:45:05Z", "message": "[vm] Remove deprecated VelocityCharStream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68a93e13c47bf18d5eaf1333001b6086994a9349", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/68a93e13c47bf18d5eaf1333001b6086994a9349", "committedDate": "2020-03-13T07:30:14Z", "message": "[vm] Refactor ASTDirective\n\n* remove directive mapper\n* remove all directive helper classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e685c6aadeaa59310389e4710e944319b7a32bb2", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/e685c6aadeaa59310389e4710e944319b7a32bb2", "committedDate": "2020-03-13T08:04:55Z", "message": "[vm] Refactor checkstyle warnings and suppressions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36a23e108f9c8718bc10403cd5ca7b065cf2c4b7", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/36a23e108f9c8718bc10403cd5ca7b065cf2c4b7", "committedDate": "2020-03-13T08:26:50Z", "message": "[vm] test data - whitespaces and CDATA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ac1cff01aeb43225ebda1a3584bae4c5df42a81", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/1ac1cff01aeb43225ebda1a3584bae4c5df42a81", "committedDate": "2020-03-13T08:27:06Z", "message": "[vm] Fix more license headers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb58fcb47fda110f8b483d3b920628d56c0d3257", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/bb58fcb47fda110f8b483d3b920628d56c0d3257", "committedDate": "2020-03-13T08:27:21Z", "message": "[vm] NodeUtils::tokenLiteral should be package private"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4889, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}