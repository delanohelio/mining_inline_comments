{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0ODg5NjUw", "number": 2384, "title": "[java] Performance improve xpath based rules", "bodyText": "Before submitting a PR, please check that:\n\n The PR is submitted against master. The PMD team will merge back to support branches as needed.\n ./mvnw clean verify passes. This will build and test PMD, execute PMD and checkstyle rules. Check this for more info\n\nPR Description:\nIf an unbounded path expression like\n//PrimaryExpression[//ClassOrInterfaceDeclaration]\n\nis used, then this will search the whole document again.\nIt will also avoid using rule chain later on, see #2382\nI'll try to get some performance numbers from these changes...", "createdAt": "2020-03-27T17:45:19Z", "url": "https://github.com/pmd/pmd/pull/2384", "merged": true, "mergeCommit": {"oid": "485fa4ad500c467e258dc5073cd9a4a1ecd4e264"}, "closed": true, "closedAt": "2020-03-29T15:35:01Z", "author": {"login": "adangel"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcR0VQ2gH2gAyMzk0ODg5NjUwOjI1ZWY1OWQ1YTcyZGJjNmEwYzQyNDkxMTMxYWQ4OTE0NzIzNjFlMGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSCbIlAH2gAyMzk0ODg5NjUwOjQ4NWZhNGFkNTAwYzQ2N2UyNThkYzUwNzNjZDlhNGExZWNkNGUyNjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "25ef59d5a72dbc6a0c42491131ad891472361e0e", "author": {"user": {"login": "adangel", "name": "Andreas Dangel"}}, "url": "https://github.com/pmd/pmd/commit/25ef59d5a72dbc6a0c42491131ad891472361e0e", "committedDate": "2020-03-27T17:41:05Z", "message": "[java] Performance improve xpath based rules\n\nIf an unbounded path expression like\n\n    //PrimaryExpression[//ClassOrInterfaceDeclaration]\n\nis used, then this will search the whole document again.\nIt will also avoid using rule chain later on, see #2382"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDk1NjUy", "url": "https://github.com/pmd/pmd/pull/2384#pullrequestreview-383095652", "createdAt": "2020-03-27T18:14:01Z", "commit": {"oid": "25ef59d5a72dbc6a0c42491131ad891472361e0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxODoxNDowMVrOF88wEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxODoxNDowMVrOF88wEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ1NDIyNA==", "bodyText": "This actually fixes some false-negative when nested classes are in use...\nSee e.g. https://chunk.io/pmd/f0f07b25b93b453e993fa6b0d71b44e6/diff/checkstyle/index.html#A1", "url": "https://github.com/pmd/pmd/pull/2384#discussion_r399454224", "createdAt": "2020-03-27T18:14:01Z", "author": {"login": "adangel"}, "path": "pmd-java/src/main/resources/category/java/design.xml", "diffHunk": "@@ -28,7 +28,7 @@ protected constructor in order to prevent instantiation than make the class misl\n <![CDATA[\n //ClassOrInterfaceDeclaration\n     [@Abstract = 'true']\n-    [count(//MethodDeclaration) + count(//ConstructorDeclaration) = 0]\n+    [count(.//MethodDeclaration) + count(.//ConstructorDeclaration) = 0]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25ef59d5a72dbc6a0c42491131ad891472361e0e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDk3NDA1", "url": "https://github.com/pmd/pmd/pull/2384#pullrequestreview-383097405", "createdAt": "2020-03-27T18:16:36Z", "commit": {"oid": "25ef59d5a72dbc6a0c42491131ad891472361e0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxODoxNjozNlrOF881cQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxODoxNjozNlrOF881cQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ1NTYwMQ==", "bodyText": "These changes now create a new false-negative, see https://chunk.io/pmd/f0f07b25b93b453e993fa6b0d71b44e6/diff/spring-framework/index.html#A1\n... not sure why...", "url": "https://github.com/pmd/pmd/pull/2384#discussion_r399455601", "createdAt": "2020-03-27T18:16:36Z", "author": {"login": "adangel"}, "path": "pmd-java/src/main/resources/category/java/bestpractices.xml", "diffHunk": "@@ -1513,20 +1523,25 @@ by more specific methods, like assertSame, assertNotSame.\n                 <value>\n <![CDATA[\n //PrimaryExpression[\n-    PrimaryPrefix/Name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25ef59d5a72dbc6a0c42491131ad891472361e0e"}, "originalPosition": 67}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "552931d965e4ec0e8ad8263c274e94a8b20bc1de", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/552931d965e4ec0e8ad8263c274e94a8b20bc1de", "committedDate": "2020-03-28T10:03:40Z", "message": "Fix AbstractClassWithoutAnyMethods FN with inner classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "485fa4ad500c467e258dc5073cd9a4a1ecd4e264", "author": {"user": {"login": "oowekyala", "name": "Cl\u00e9ment Fournier"}}, "url": "https://github.com/pmd/pmd/commit/485fa4ad500c467e258dc5073cd9a4a1ecd4e264", "committedDate": "2020-03-28T10:06:10Z", "message": "Fix test case name"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4738, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}