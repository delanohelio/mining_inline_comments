{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNzQzMDMz", "number": 2056, "title": "Added Climbing Pick", "bodyText": "Description\n\nAdded the Climbing Pick from the Ice Pick approved suggestion.\nNote: Do not merge this until I add PlayerMock#setVelocity to MockBukkit.(Or merge without the JUnit test file)\nChanges\n\nAdded Climbing Pick which lets players to climb.\nAdded ClimbingPickLaunchEvent.\nFixed a bug about public handlers that caused blocks to be broken by multi tool and climbing pick.\nFixed some documentation from Explosive Shovel.\nRefactored Explosive.java a bit.\nAdded a JUnit test for ClimbingPick.\nAdded a recipe for Enhanced Crafting Table.\nAdded a research for the Climbing Pick.\nRelated Issues\n\n\nN/A\nChecklist\n\n\n\n I have fully tested the proposed changes and promise that they will not break everything into chaos.\n I have also tested the proposed changes in combination with various popular addons and can confirm my changes do not break them.\n I followed the existing code standards and didn't mess up the formatting.\n I did my best to add documentation to any public classes or methods I added.\n I added sufficient Unit Tests to cover my code.", "createdAt": "2020-06-26T19:08:04Z", "url": "https://github.com/Slimefun/Slimefun4/pull/2056", "merged": true, "mergeCommit": {"oid": "a45815ead92f6976a404768c5c342b422dfe87f8"}, "closed": true, "closedAt": "2020-08-24T16:14:35Z", "author": {"login": "LinoxGH"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvIDOQgH2gAyNDQwNzQzMDMzOjIwN2NiMzVkZGFmYmNlOTcxOTUxYTkxNzAyN2U5NTZkYzk1NzY3Yjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdA2oUigH2gAyNDQwNzQzMDMzOjI5MDkyYjg3YzllZTM2NTBiMTkwYTIxOGRlNzIwNzM1YWFhZDNjZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/207cb35ddafbce971951a917027e956dc95767b7", "committedDate": "2020-06-26T19:03:17Z", "message": "Added Climbing Pick"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTM3MDQ5", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#pullrequestreview-438537049", "createdAt": "2020-06-26T19:16:04Z", "commit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxOToxNjowNFrOGpr-UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxOToyNjozMVrOGpsQIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM2NTI2NA==", "bodyText": "This is a stupidly long line", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446365264", "createdAt": "2020-06-26T19:16:04Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM2NjkzNg==", "bodyText": "You could save some intention and just negate + return.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446366936", "createdAt": "2020-06-26T19:19:39Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (e.getClickedBlock().isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM2NzY3Ng==", "bodyText": "Don't do a fucking containsKey and a get. A containsKey literally is a get anyway", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446367676", "createdAt": "2020-06-26T19:21:22Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (e.getClickedBlock().isPresent()) {\n+                Block block = e.getClickedBlock().get();\n+                ItemStack item = e.getItem();\n+                Player p = e.getPlayer();\n+\n+                if (!getID().equals(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+                if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+                if (!users.contains(p.getUniqueId())) {\n+                    Vector velocity = new Vector(1, 1, 1);\n+                    if (!getID().equals(\"TEST_CLIMBING_PICK\")) {\n+                        velocity = p.getVelocity();\n+                    }\n+\n+                    Material mat = block.getType();\n+                    if (materialSpeeds.getValue().containsKey(mat.name())) {\n+                        double launch = materialSpeeds.getValue().get(mat.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM2ODExMA==", "bodyText": "Again, get after a containsKey. Slowing this down for no reason", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446368110", "createdAt": "2020-06-26T19:22:22Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (e.getClickedBlock().isPresent()) {\n+                Block block = e.getClickedBlock().get();\n+                ItemStack item = e.getItem();\n+                Player p = e.getPlayer();\n+\n+                if (!getID().equals(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+                if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+                if (!users.contains(p.getUniqueId())) {\n+                    Vector velocity = new Vector(1, 1, 1);\n+                    if (!getID().equals(\"TEST_CLIMBING_PICK\")) {\n+                        velocity = p.getVelocity();\n+                    }\n+\n+                    Material mat = block.getType();\n+                    if (materialSpeeds.getValue().containsKey(mat.name())) {\n+                        double launch = materialSpeeds.getValue().get(mat.name());\n+                        if (item.getEnchantments().containsKey(Enchantment.DIG_SPEED)) {\n+                            launch += (item.getEnchantmentLevel(Enchantment.DIG_SPEED) * 0.2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM2OTIzOA==", "bodyText": "What the hell is the point of this listener...", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446369238", "createdAt": "2020-06-26T19:25:02Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/ClimbingPickListener.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.listeners;\n+\n+import org.bukkit.GameMode;\n+import org.bukkit.Sound;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.EventHandler;\n+import org.bukkit.event.Listener;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+\n+/**\n+ * The special event listener for {@link ClimbingPick}.\n+ * This is made like this to allow addons to add more materials to climbing pick.\n+ *\n+ * @author Linox\n+ *\n+ * @see ClimbingPick\n+ *\n+ */\n+public class ClimbingPickListener implements Listener {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM2OTgyNQ==", "bodyText": "Why is the unit test item in here...", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446369825", "createdAt": "2020-06-26T19:26:31Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (e.getClickedBlock().isPresent()) {\n+                Block block = e.getClickedBlock().get();\n+                ItemStack item = e.getItem();\n+                Player p = e.getPlayer();\n+\n+                if (!getID().equals(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+                if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+                if (!users.contains(p.getUniqueId())) {\n+                    Vector velocity = new Vector(1, 1, 1);\n+                    if (!getID().equals(\"TEST_CLIMBING_PICK\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "207cb35ddafbce971951a917027e956dc95767b7"}, "originalPosition": 93}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1aa8a08d0b9ea7dd9df7f542985c3af71faab0d", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/f1aa8a08d0b9ea7dd9df7f542985c3af71faab0d", "committedDate": "2020-06-26T20:59:40Z", "message": "Did the requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6334e251cb866b0c521dbf435f28a92dcf01a7a8", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/6334e251cb866b0c521dbf435f28a92dcf01a7a8", "committedDate": "2020-06-26T21:06:22Z", "message": "Improved the computation of velocity."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/9fcbe94553d25fc6205a6eb6e4014ec350de3120", "committedDate": "2020-06-26T21:13:00Z", "message": "Organized the new imports."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjAzMDA0", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#pullrequestreview-438603004", "createdAt": "2020-06-26T21:22:57Z", "commit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMToyMjo1N1rOGpvE1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMToyOTo0M1rOGpvOyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNjA4Ng==", "bodyText": "I very much like the Addition of this Event but it should also include a reference to the corresponding ClimbingPick that was used, in case there may be multiple kinds in the future.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446416086", "createdAt": "2020-06-26T21:22:57Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/ClimbingPickLaunchEvent.java", "diffHunk": "@@ -0,0 +1,84 @@\n+package io.github.thebusybiscuit.slimefun4.api.events;\n+\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.Cancellable;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.HandlerList;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+\n+/**\n+ * An {@link Event} that is called whenever a {@link Player} has\n+ * used a {@link ClimbingPick} on a climbable surface.\n+ *\n+ * @author Linox\n+ *\n+ * @see ClimbingPick\n+ *\n+ */\n+public class ClimbingPickLaunchEvent extends Event implements Cancellable {\n+\n+    private static final HandlerList handlers = new HandlerList();\n+\n+    private final Player player;\n+    private final Vector velocity;\n+    private final ItemStack pick;\n+    private boolean cancelled;\n+\n+    public ClimbingPickLaunchEvent(Player player, Vector velocity, ItemStack pick) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNjI2Nw==", "bodyText": "Also this should extend PlayerEvent, since it features a Player.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446416267", "createdAt": "2020-06-26T21:23:32Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/ClimbingPickLaunchEvent.java", "diffHunk": "@@ -0,0 +1,84 @@\n+package io.github.thebusybiscuit.slimefun4.api.events;\n+\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.Cancellable;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.HandlerList;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+\n+/**\n+ * An {@link Event} that is called whenever a {@link Player} has\n+ * used a {@link ClimbingPick} on a climbable surface.\n+ *\n+ * @author Linox\n+ *\n+ * @see ClimbingPick\n+ *\n+ */\n+public class ClimbingPickLaunchEvent extends Event implements Cancellable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNjM1MA==", "bodyText": "Missing @Override annotation.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446416350", "createdAt": "2020-06-26T21:23:47Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/ClimbingPickLaunchEvent.java", "diffHunk": "@@ -0,0 +1,84 @@\n+package io.github.thebusybiscuit.slimefun4.api.events;\n+\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.Cancellable;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.HandlerList;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+\n+/**\n+ * An {@link Event} that is called whenever a {@link Player} has\n+ * used a {@link ClimbingPick} on a climbable surface.\n+ *\n+ * @author Linox\n+ *\n+ * @see ClimbingPick\n+ *\n+ */\n+public class ClimbingPickLaunchEvent extends Event implements Cancellable {\n+\n+    private static final HandlerList handlers = new HandlerList();\n+\n+    private final Player player;\n+    private final Vector velocity;\n+    private final ItemStack pick;\n+    private boolean cancelled;\n+\n+    public ClimbingPickLaunchEvent(Player player, Vector velocity, ItemStack pick) {\n+        super(false);\n+\n+        this.player = player;\n+        this.velocity = velocity;\n+        this.pick = pick;\n+    }\n+\n+    public HandlerList getHandlers() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNjYxMA==", "bodyText": "For Velocity, we should probably also add a setter, since that's something that may be fun to play around with.\nShould also add a Validate.notNull(v, ...) check in that setter then though.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446416610", "createdAt": "2020-06-26T21:24:35Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/ClimbingPickLaunchEvent.java", "diffHunk": "@@ -0,0 +1,84 @@\n+package io.github.thebusybiscuit.slimefun4.api.events;\n+\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.Cancellable;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.HandlerList;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+\n+/**\n+ * An {@link Event} that is called whenever a {@link Player} has\n+ * used a {@link ClimbingPick} on a climbable surface.\n+ *\n+ * @author Linox\n+ *\n+ * @see ClimbingPick\n+ *\n+ */\n+public class ClimbingPickLaunchEvent extends Event implements Cancellable {\n+\n+    private static final HandlerList handlers = new HandlerList();\n+\n+    private final Player player;\n+    private final Vector velocity;\n+    private final ItemStack pick;\n+    private boolean cancelled;\n+\n+    public ClimbingPickLaunchEvent(Player player, Vector velocity, ItemStack pick) {\n+        super(false);\n+\n+        this.player = player;\n+        this.velocity = velocity;\n+        this.pick = pick;\n+    }\n+\n+    public HandlerList getHandlers() {\n+        return handlers;\n+    }\n+\n+    public static HandlerList getHandlerList() {\n+        return handlers;\n+    }\n+\n+    /**\n+     * This returns the {@link Player} that used the {@link ClimbingPick}.\n+     *\n+     * @return The {@link Player} that used\n+     */\n+    public Player getPlayer() {\n+        return player;\n+    }\n+\n+    /**\n+     * This returns the {@link Vector} velocity that was applied to the {@link Player}\n+     * who used the {@link ClimbingPick}.\n+     *\n+     * @return The {@link Vector} of the applied velocity\n+     */\n+    public Vector getVelocity() {\n+        return velocity;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNzAwNQ==", "bodyText": "You should keep ExplosivePickaxe too there.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446417005", "createdAt": "2020-06-26T21:25:39Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosiveShovel.java", "diffHunk": "@@ -21,7 +21,7 @@\n  * \n  * @author Linox\n  * \n- * @see ExplosivePickaxe\n+ * @see ExplosiveTool", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNzMyMw==", "bodyText": "Removing this is quite a bad idea, you should always use the primitive boolean here instead of boxing it.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446417323", "createdAt": "2020-06-26T21:26:35Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosiveTool.java", "diffHunk": "@@ -59,7 +59,7 @@ public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List\n \n                         List<Block> blocks = findBlocks(e.getBlock());\n \n-                        if (callExplosionEvent.getValue().booleanValue()) {\n+                        if (callExplosionEvent.getValue()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxNzg3NA==", "bodyText": "Why even? This method does literally nothing.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446417874", "createdAt": "2020-06-26T21:28:03Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/SlimefunItem/SlimefunItem.java", "diffHunk": "@@ -429,6 +429,7 @@ private void loadItemHandlers() {\n             if (!handler.isPrivate()) {\n                 Set<ItemHandler> handlerset = getPublicItemHandlers(handler.getIdentifier());\n                 handlerset.add(handler);\n+                SlimefunPlugin.getRegistry().getPublicItemHandlers().replace(handler.getIdentifier(), handlerset);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxODA4MQ==", "bodyText": "This should be moved below the overloaded method.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446418081", "createdAt": "2020-06-26T21:28:35Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/test/java/io/github/thebusybiscuit/slimefun4/testing/interfaces/SlimefunItemTest.java", "diffHunk": "@@ -39,4 +41,9 @@ default void simulateConsumption(Player player, T item) {\n         item.callItemHandler(ItemConsumptionHandler.class, handler -> handler.onConsume(event, player, event.getItem()));\n     }\n \n+    default void simulateRightClickBlock(Player player, T item, BlockMock block, BlockFace face) {\n+        PlayerInteractEvent e = new PlayerInteractEvent(player, Action.RIGHT_CLICK_BLOCK, item.getItem().clone(), block, face, EquipmentSlot.HAND);\n+        PlayerRightClickEvent event = new PlayerRightClickEvent(e);\n+        item.callItemHandler(ItemUseHandler.class, handler -> handler.onRightClick(event));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxODM2Ng==", "bodyText": "Please don't use a static variable for this, use a seperate item for every test.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446418366", "createdAt": "2020-06-26T21:29:21Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/test/java/io/github/thebusybiscuit/slimefun4/testing/tests/items/implementations/tools/TestClimbingPick.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package io.github.thebusybiscuit.slimefun4.testing.tests.items.implementations.tools;\n+\n+import org.bukkit.Material;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.inventory.ItemStack;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+import be.seeseemelk.mockbukkit.MockBukkit;\n+import be.seeseemelk.mockbukkit.ServerMock;\n+import be.seeseemelk.mockbukkit.block.BlockMock;\n+import be.seeseemelk.mockbukkit.entity.PlayerMock;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+import io.github.thebusybiscuit.slimefun4.testing.TestUtilities;\n+import io.github.thebusybiscuit.slimefun4.testing.interfaces.SlimefunItemTest;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+public class TestClimbingPick implements SlimefunItemTest<ClimbingPick> {\n+\n+    private static ServerMock server;\n+    private static SlimefunPlugin plugin;\n+    private static ClimbingPick pick;\n+\n+    @BeforeAll\n+    public static void load() {\n+        server = MockBukkit.mock();\n+        plugin = MockBukkit.load(SlimefunPlugin.class);\n+        TestUtilities.registerDefaultTags(server);\n+    }\n+\n+    @AfterAll\n+    public static void unload() {\n+        MockBukkit.unmock();\n+    }\n+\n+    @Override\n+    public ClimbingPick registerSlimefunItem(SlimefunPlugin plugin, String id) {\n+        SlimefunItemStack item = new SlimefunItemStack(id, Material.IRON_PICKAXE, \"&5Test Pick\");\n+        ClimbingPick pick = new ClimbingPick(TestUtilities.getCategory(plugin, \"climbing_pick\"), item, RecipeType.NULL, new ItemStack[9]);\n+        pick.register(plugin);\n+        return pick;\n+    }\n+\n+    @Test\n+    public void testItemUse() {\n+        PlayerMock player = server.addPlayer();\n+        if (pick == null) pick = registerSlimefunItem(plugin, \"TEST_CLIMBING_PICK\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQxODYzNQ==", "bodyText": "This should very well be a parameterized test instead of using a BlockFace for loop here.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446418635", "createdAt": "2020-06-26T21:29:43Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/test/java/io/github/thebusybiscuit/slimefun4/testing/tests/items/implementations/tools/TestClimbingPick.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package io.github.thebusybiscuit.slimefun4.testing.tests.items.implementations.tools;\n+\n+import org.bukkit.Material;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.inventory.ItemStack;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+import be.seeseemelk.mockbukkit.MockBukkit;\n+import be.seeseemelk.mockbukkit.ServerMock;\n+import be.seeseemelk.mockbukkit.block.BlockMock;\n+import be.seeseemelk.mockbukkit.entity.PlayerMock;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+import io.github.thebusybiscuit.slimefun4.testing.TestUtilities;\n+import io.github.thebusybiscuit.slimefun4.testing.interfaces.SlimefunItemTest;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+public class TestClimbingPick implements SlimefunItemTest<ClimbingPick> {\n+\n+    private static ServerMock server;\n+    private static SlimefunPlugin plugin;\n+    private static ClimbingPick pick;\n+\n+    @BeforeAll\n+    public static void load() {\n+        server = MockBukkit.mock();\n+        plugin = MockBukkit.load(SlimefunPlugin.class);\n+        TestUtilities.registerDefaultTags(server);\n+    }\n+\n+    @AfterAll\n+    public static void unload() {\n+        MockBukkit.unmock();\n+    }\n+\n+    @Override\n+    public ClimbingPick registerSlimefunItem(SlimefunPlugin plugin, String id) {\n+        SlimefunItemStack item = new SlimefunItemStack(id, Material.IRON_PICKAXE, \"&5Test Pick\");\n+        ClimbingPick pick = new ClimbingPick(TestUtilities.getCategory(plugin, \"climbing_pick\"), item, RecipeType.NULL, new ItemStack[9]);\n+        pick.register(plugin);\n+        return pick;\n+    }\n+\n+    @Test\n+    public void testItemUse() {\n+        PlayerMock player = server.addPlayer();\n+        if (pick == null) pick = registerSlimefunItem(plugin, \"TEST_CLIMBING_PICK\");\n+\n+        for (BlockFace face : BlockFace.values()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcbe94553d25fc6205a6eb6e4014ec350de3120"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc074c83eea012bc297b95cf9098f5ee145d9aca", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/bc074c83eea012bc297b95cf9098f5ee145d9aca", "committedDate": "2020-06-26T23:22:17Z", "message": "Did the requested changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ecf5a8845d647e7a987804d5fcf578be878322d", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/2ecf5a8845d647e7a987804d5fcf578be878322d", "committedDate": "2020-06-27T21:33:17Z", "message": "Performance Improvement."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd5024b0be87a0c146aedc498ad647cf8349d938", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/dd5024b0be87a0c146aedc498ad647cf8349d938", "committedDate": "2020-06-28T11:13:40Z", "message": "Disabled the JUnit test until MockBukkit pr is merged."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2c66e9b93c3c0b641cffe24c6c46a83933f0d63", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d2c66e9b93c3c0b641cffe24c6c46a83933f0d63", "committedDate": "2020-06-28T11:16:28Z", "message": "Merge branch 'master' into IcePick"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "073fe1322b22573bd53b12475f224ceb4a3e06f4", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/073fe1322b22573bd53b12475f224ceb4a3e06f4", "committedDate": "2020-06-28T11:42:34Z", "message": "Merge branch 'master' of https://github.com/TheBusyBiscuit/Slimefun4 into IcePick\n\n\u0001 Conflicts:\n\u0001\tsrc/test/java/io/github/thebusybiscuit/slimefun4/testing/TestUtilities.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64debe70decd5b8ce0c051f3ad34ba82b1b4ffd8", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/64debe70decd5b8ce0c051f3ad34ba82b1b4ffd8", "committedDate": "2020-06-28T11:49:20Z", "message": "Fixed the build errors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/61067c375cd0f11a524604700f17f9e32d2bf6ff", "committedDate": "2020-06-28T11:51:15Z", "message": "Merge remote-tracking branch 'origin/IcePick' into IcePick\n\n# Conflicts:\n#\tsrc/test/java/io/github/thebusybiscuit/slimefun4/testing/TestUtilities.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NzczODY3", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#pullrequestreview-438773867", "createdAt": "2020-06-28T12:01:01Z", "commit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMjowMTowMVrOGp82xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMjoxMDo1NlrOGp86eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MTg2Mg==", "bodyText": "The ItemStack and Block of this Event may be good to have too.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446641862", "createdAt": "2020-06-28T12:01:01Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/ClimbingPickLaunchEvent.java", "diffHunk": "@@ -0,0 +1,82 @@\n+package io.github.thebusybiscuit.slimefun4.api.events;\n+\n+import org.apache.commons.lang.Validate;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.Cancellable;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.HandlerList;\n+import org.bukkit.event.player.PlayerEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+\n+/**\n+ * An {@link Event} that is called whenever a {@link Player} has\n+ * used a {@link ClimbingPick} on a climbable surface.\n+ *\n+ * @author Linox\n+ *\n+ * @see ClimbingPick\n+ *\n+ */\n+public class ClimbingPickLaunchEvent extends PlayerEvent implements Cancellable {\n+\n+    private static final HandlerList handlers = new HandlerList();\n+\n+    private Vector velocity;\n+    private final ClimbingPick pick;\n+    private boolean cancelled;\n+\n+    public ClimbingPickLaunchEvent(Player player, Vector velocity, ClimbingPick pick) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MTkzNQ==", "bodyText": "Just an enhancement idea:\nImplement RecipeDisplayItem and list the blocks that can be climbed in the guide below.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446641935", "createdAt": "2020-06-28T12:01:45Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MTk3MA==", "bodyText": "Do not use ItemSetting for complex data types, such as a Map...", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446641970", "createdAt": "2020-06-28T12:02:15Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjAzOQ==", "bodyText": "Why this special case?", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642039", "createdAt": "2020-06-28T12:02:59Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        }\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (!getID().startsWith(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 93}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjEzOA==", "bodyText": "Don't box this double, use the primitive value and use getOrDefault.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642138", "createdAt": "2020-06-28T12:03:51Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        }\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (!getID().startsWith(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                Double launch = materialSpeeds.getValue().get(mat.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjE4Mg==", "bodyText": "You made this a cancellable event, yet you don't listen for whether it was cancelled.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642182", "createdAt": "2020-06-28T12:04:28Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        }\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (!getID().startsWith(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                Double launch = materialSpeeds.getValue().get(mat.name());\n+\n+                Vector velocity = new Vector(0, 0, 0);\n+                if (launch != null) {\n+                    Integer efficiencyLevel = item.getEnchantments().get(Enchantment.DIG_SPEED);\n+                    if (efficiencyLevel != null){\n+                        launch += (efficiencyLevel * 0.2);\n+                    }\n+                    velocity.setY(launch);\n+\n+                    users.add(p.getUniqueId());\n+                    Bukkit.getScheduler().runTaskLaterAsynchronously(SlimefunPlugin.instance, () -> users.remove(p.getUniqueId()), 4L);\n+                }\n+\n+                ClimbingPickLaunchEvent event = new ClimbingPickLaunchEvent(p, velocity, this);\n+                Bukkit.getPluginManager().callEvent(event);\n+\n+                p.setVelocity(event.getVelocity());\n+                p.playSound(p.getLocation(), Sound.ENTITY_ENDERMAN_TELEPORT, 1F, 1F);\n+\n+                if (p.getGameMode() != GameMode.CREATIVE) {\n+                    damageItem(p, e.getItem());\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 120}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjI3Nw==", "bodyText": "I find this addition rather useless, people should be able to use it to mine too. Is ee no reason why this would be a problem.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642277", "createdAt": "2020-06-28T12:05:14Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        }\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (!getID().startsWith(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                Double launch = materialSpeeds.getValue().get(mat.name());\n+\n+                Vector velocity = new Vector(0, 0, 0);\n+                if (launch != null) {\n+                    Integer efficiencyLevel = item.getEnchantments().get(Enchantment.DIG_SPEED);\n+                    if (efficiencyLevel != null){\n+                        launch += (efficiencyLevel * 0.2);\n+                    }\n+                    velocity.setY(launch);\n+\n+                    users.add(p.getUniqueId());\n+                    Bukkit.getScheduler().runTaskLaterAsynchronously(SlimefunPlugin.instance, () -> users.remove(p.getUniqueId()), 4L);\n+                }\n+\n+                ClimbingPickLaunchEvent event = new ClimbingPickLaunchEvent(p, velocity, this);\n+                Bukkit.getPluginManager().callEvent(event);\n+\n+                p.setVelocity(event.getVelocity());\n+                p.playSound(p.getLocation(), Sound.ENTITY_ENDERMAN_TELEPORT, 1F, 1F);\n+\n+                if (p.getGameMode() != GameMode.CREATIVE) {\n+                    damageItem(p, e.getItem());\n+                }\n+            }\n+        };\n+    }\n+\n+    private BlockBreakHandler getBlockBreakHandler() {\n+        return new BlockBreakHandler() {\n+            @Override\n+            public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List<ItemStack> drops) {\n+                if (isItem(item)) {\n+                    e.setCancelled(true);\n+                    return true;\n+                }\n+                return false;\n+            }\n+\n+            @Override\n+            public boolean isPrivate() {\n+                return false;\n+            }\n+        };\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 141}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjMyNA==", "bodyText": "No need for the D, floating point numbers are doubles by default.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642324", "createdAt": "2020-06-28T12:05:52Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjM4Nw==", "bodyText": "Why are you doing .name() here?\nShould really just store the Enum and even better: Use an EnumMap<>\nThis is much more cleaner and better storage-wise.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642387", "createdAt": "2020-06-28T12:06:30Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjQxNg==", "bodyText": "Can just use 1, no need for the D here.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642416", "createdAt": "2020-06-28T12:06:45Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjQzMg==", "bodyText": "Why Concrete Powder?", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642432", "createdAt": "2020-06-28T12:06:53Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjUxOQ==", "bodyText": "I find this Enderman sound a bit inappropriate here, the Player isn't getting teleported. They're climbing.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642519", "createdAt": "2020-06-28T12:07:50Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        }\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (!getID().startsWith(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                Double launch = materialSpeeds.getValue().get(mat.name());\n+\n+                Vector velocity = new Vector(0, 0, 0);\n+                if (launch != null) {\n+                    Integer efficiencyLevel = item.getEnchantments().get(Enchantment.DIG_SPEED);\n+                    if (efficiencyLevel != null){\n+                        launch += (efficiencyLevel * 0.2);\n+                    }\n+                    velocity.setY(launch);\n+\n+                    users.add(p.getUniqueId());\n+                    Bukkit.getScheduler().runTaskLaterAsynchronously(SlimefunPlugin.instance, () -> users.remove(p.getUniqueId()), 4L);\n+                }\n+\n+                ClimbingPickLaunchEvent event = new ClimbingPickLaunchEvent(p, velocity, this);\n+                Bukkit.getPluginManager().callEvent(event);\n+\n+                p.setVelocity(event.getVelocity());\n+                p.playSound(p.getLocation(), Sound.ENTITY_ENDERMAN_TELEPORT, 1F, 1F);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjU3Nw==", "bodyText": "Why 4?\nWhy asynchronously? If you are accessing this Set asynchronously, you should absolutely use a thread-safe implementation like ConcurrentSet.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642577", "createdAt": "2020-06-28T12:08:27Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.block.BlockBreakEvent;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.items.ItemSetting;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.BlockBreakHandler;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem {\n+\n+    private final Map<String, Double> materialSpeedsDef = new HashMap<>();\n+    private final ItemSetting<Map<String, Double>> materialSpeeds = new ItemSetting<>(\"launch-amounts\", materialSpeedsDef);\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6D);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6D);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6D);\n+        }\n+\n+        addItemSetting(materialSpeeds);\n+    }\n+\n+    @Override\n+    public void preRegister() {\n+        super.preRegister();\n+\n+        addItemHandler(getBlockBreakHandler());\n+    }\n+\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (!getID().startsWith(\"TEST_CLIMBING_PICK\") && p.getLocation().distance(block.getLocation()) > 1.5) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                Double launch = materialSpeeds.getValue().get(mat.name());\n+\n+                Vector velocity = new Vector(0, 0, 0);\n+                if (launch != null) {\n+                    Integer efficiencyLevel = item.getEnchantments().get(Enchantment.DIG_SPEED);\n+                    if (efficiencyLevel != null){\n+                        launch += (efficiencyLevel * 0.2);\n+                    }\n+                    velocity.setY(launch);\n+\n+                    users.add(p.getUniqueId());\n+                    Bukkit.getScheduler().runTaskLaterAsynchronously(SlimefunPlugin.instance, () -> users.remove(p.getUniqueId()), 4L);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjY3OQ==", "bodyText": "Again, this .replace() call is completely unnecessary here, the Set is already from the Hashmap and computed otherwise, adding it to the Set itself is enough, this is a wasteful call.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642679", "createdAt": "2020-06-28T12:09:34Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/SlimefunItem/SlimefunItem.java", "diffHunk": "@@ -430,6 +430,7 @@ private void loadItemHandlers() {\n             if (!handler.isPrivate()) {\n                 Set<ItemHandler> handlerset = getPublicItemHandlers(handler.getIdentifier());\n                 handlerset.add(handler);\n+                SlimefunPlugin.getRegistry().getPublicItemHandlers().replace(handler.getIdentifier(), handlerset);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0Mjc0MQ==", "bodyText": "You made a Pull Request for it, so wait till that is merged instead of disabling this.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642741", "createdAt": "2020-06-28T12:10:03Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/test/java/io/github/thebusybiscuit/slimefun4/testing/tests/items/implementations/tools/TestClimbingPick.java", "diffHunk": "@@ -0,0 +1,70 @@\n+package io.github.thebusybiscuit.slimefun4.testing.tests.items.implementations.tools;\n+\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.inventory.ItemStack;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Disabled;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.EnumSource;\n+\n+import be.seeseemelk.mockbukkit.MockBukkit;\n+import be.seeseemelk.mockbukkit.ServerMock;\n+import be.seeseemelk.mockbukkit.block.BlockMock;\n+import be.seeseemelk.mockbukkit.entity.PlayerMock;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+import io.github.thebusybiscuit.slimefun4.testing.TestUtilities;\n+import io.github.thebusybiscuit.slimefun4.testing.interfaces.SlimefunItemTest;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+public class TestClimbingPick implements SlimefunItemTest<ClimbingPick> {\n+\n+    private static ServerMock server;\n+    private static SlimefunPlugin plugin;\n+\n+    @BeforeAll\n+    public static void load() {\n+        server = MockBukkit.mock();\n+        plugin = MockBukkit.load(SlimefunPlugin.class);\n+        TestUtilities.registerDefaultTags(server);\n+    }\n+\n+    @AfterAll\n+    public static void unload() {\n+        MockBukkit.unmock();\n+    }\n+\n+    @Override\n+    public ClimbingPick registerSlimefunItem(SlimefunPlugin plugin, String id) {\n+        SlimefunItemStack item = new SlimefunItemStack(id, Material.IRON_PICKAXE, \"&5Test Pick\");\n+        ClimbingPick pick = new ClimbingPick(TestUtilities.getCategory(plugin, \"climbing_pick\"), item, RecipeType.NULL, new ItemStack[9]);\n+        pick.register(plugin);\n+        return pick;\n+    }\n+\n+    @ParameterizedTest\n+    @EnumSource(value = BlockFace.class)\n+    @Disabled(\"Player velocity is currently not fully implemented in MockBukkit\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY0MjgwOQ==", "bodyText": "You know... you also could have just done\nshouldCancel = face == BlockFace.DOWN || face == BlockFace.UP\n...", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446642809", "createdAt": "2020-06-28T12:10:56Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/test/java/io/github/thebusybiscuit/slimefun4/testing/tests/items/implementations/tools/TestClimbingPick.java", "diffHunk": "@@ -0,0 +1,70 @@\n+package io.github.thebusybiscuit.slimefun4.testing.tests.items.implementations.tools;\n+\n+import org.bukkit.Material;\n+import org.bukkit.Sound;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.inventory.ItemStack;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Disabled;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.EnumSource;\n+\n+import be.seeseemelk.mockbukkit.MockBukkit;\n+import be.seeseemelk.mockbukkit.ServerMock;\n+import be.seeseemelk.mockbukkit.block.BlockMock;\n+import be.seeseemelk.mockbukkit.entity.PlayerMock;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import io.github.thebusybiscuit.slimefun4.implementation.items.tools.ClimbingPick;\n+import io.github.thebusybiscuit.slimefun4.testing.TestUtilities;\n+import io.github.thebusybiscuit.slimefun4.testing.interfaces.SlimefunItemTest;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+public class TestClimbingPick implements SlimefunItemTest<ClimbingPick> {\n+\n+    private static ServerMock server;\n+    private static SlimefunPlugin plugin;\n+\n+    @BeforeAll\n+    public static void load() {\n+        server = MockBukkit.mock();\n+        plugin = MockBukkit.load(SlimefunPlugin.class);\n+        TestUtilities.registerDefaultTags(server);\n+    }\n+\n+    @AfterAll\n+    public static void unload() {\n+        MockBukkit.unmock();\n+    }\n+\n+    @Override\n+    public ClimbingPick registerSlimefunItem(SlimefunPlugin plugin, String id) {\n+        SlimefunItemStack item = new SlimefunItemStack(id, Material.IRON_PICKAXE, \"&5Test Pick\");\n+        ClimbingPick pick = new ClimbingPick(TestUtilities.getCategory(plugin, \"climbing_pick\"), item, RecipeType.NULL, new ItemStack[9]);\n+        pick.register(plugin);\n+        return pick;\n+    }\n+\n+    @ParameterizedTest\n+    @EnumSource(value = BlockFace.class)\n+    @Disabled(\"Player velocity is currently not fully implemented in MockBukkit\")\n+    public void testItemUse(BlockFace face) {\n+        PlayerMock player = server.addPlayer();\n+        ClimbingPick pick = registerSlimefunItem(plugin, \"TEST_CLIMBING_PICK_\" + face.name());\n+\n+        boolean shouldCancel = false;\n+        if (face == BlockFace.DOWN || face == BlockFace.UP) shouldCancel = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61067c375cd0f11a524604700f17f9e32d2bf6ff"}, "originalPosition": 58}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/ef1735985e3fae288f0beb654e7c703307a975d8", "committedDate": "2020-06-28T13:42:46Z", "message": "Did the requested changes, enabled and fixed JUnit test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4Nzg4MDEw", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#pullrequestreview-438788010", "createdAt": "2020-06-28T15:01:32Z", "commit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxNTowMTozMlrOGp-DXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxNTowMzo1NVrOGp-EPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MTQ2OA==", "bodyText": "You can remove the D here, it's redundant. You can just use 1.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446661468", "createdAt": "2020-06-28T15:01:32Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,134 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Effect;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.item.CustomItem;\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.RecipeDisplayItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem, RecipeDisplayItem {\n+\n+    private final Map<String, Double> materialSpeeds;\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        Map<String, Double> materialSpeedsDef = new HashMap<>();\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MTUxNg==", "bodyText": "Please use the actual Materials and not .name() ...\nYou should also use an EnumMap for this.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446661516", "createdAt": "2020-06-28T15:02:04Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,134 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Effect;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.item.CustomItem;\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.RecipeDisplayItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem, RecipeDisplayItem {\n+\n+    private final Map<String, Double> materialSpeeds;\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        Map<String, Double> materialSpeedsDef = new HashMap<>();\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MTU0Nw==", "bodyText": "Remove this line.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446661547", "createdAt": "2020-06-28T15:02:16Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,134 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Effect;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.item.CustomItem;\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.RecipeDisplayItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem, RecipeDisplayItem {\n+\n+    private final Map<String, Double> materialSpeeds;\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        Map<String, Double> materialSpeedsDef = new HashMap<>();\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6);\n+        }\n+        materialSpeeds = SlimefunPlugin.getItemCfg().getOrSetDefault(getID() + \".launch-amounts\", materialSpeedsDef);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MTY0Mg==", "bodyText": "This is a really badly done lore.\nFirst of all, you should not change the name... The user should see what Block they can climb. Just do new ItemStack(mat) instead.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446661642", "createdAt": "2020-06-28T15:03:19Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,134 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Effect;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.item.CustomItem;\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.RecipeDisplayItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem, RecipeDisplayItem {\n+\n+    private final Map<String, Double> materialSpeeds;\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        Map<String, Double> materialSpeedsDef = new HashMap<>();\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6);\n+        }\n+        materialSpeeds = SlimefunPlugin.getItemCfg().getOrSetDefault(getID() + \".launch-amounts\", materialSpeedsDef);\n+    }\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (p.getLocation().distanceSquared(block.getLocation()) > 2.25) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                double launch = materialSpeeds.getOrDefault(mat.name(), 0D);\n+\n+                Vector velocity = new Vector(0, 0, 0);\n+                if (launch > 0.05) {\n+                    int efficiencyLevel = item.getEnchantments().getOrDefault(Enchantment.DIG_SPEED, 0);\n+                    if (efficiencyLevel != 0){\n+                        launch += (efficiencyLevel * 0.2);\n+                    }\n+                    velocity.setY(launch);\n+\n+                    users.add(p.getUniqueId());\n+                    Bukkit.getScheduler().runTaskLater(SlimefunPlugin.instance, () -> users.remove(p.getUniqueId()), 4L);\n+                }\n+\n+                ClimbingPickLaunchEvent event = new ClimbingPickLaunchEvent(p, velocity, this, item, block);\n+                Bukkit.getPluginManager().callEvent(event);\n+\n+                if (!event.isCancelled()) {\n+                    p.setVelocity(event.getVelocity());\n+                    p.getWorld().playEffect(block.getLocation(), Effect.STEP_SOUND, 1);\n+\n+                    if (p.getGameMode() != GameMode.CREATIVE) {\n+                        damageItem(p, e.getItem());\n+                    }\n+                }\n+            }\n+        };\n+    }\n+\n+    @Override\n+    public boolean isDamageable() {\n+        return true;\n+    }\n+\n+    @Override\n+    public List<ItemStack> getDisplayRecipes() {\n+        List<ItemStack> display = new ArrayList<>();\n+        for (String matName : materialSpeeds.keySet()) {\n+            Material mat = Material.getMaterial(matName);\n+            if (mat == null) continue;\n+            display.add(new CustomItem(mat, \"&bCan Climb This Block\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MTY5NA==", "bodyText": "When implementing this, you should also override the label method and add a new string to the language file, since it would otherwise say \"These recipes can be crafted in this machine\" by default.", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#discussion_r446661694", "createdAt": "2020-06-28T15:03:55Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ClimbingPick.java", "diffHunk": "@@ -0,0 +1,134 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.UUID;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Effect;\n+import org.bukkit.GameMode;\n+import org.bukkit.Material;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.BlockFace;\n+import org.bukkit.enchantments.Enchantment;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.util.Vector;\n+\n+import io.github.thebusybiscuit.cscorelib2.item.CustomItem;\n+import io.github.thebusybiscuit.cscorelib2.materials.MaterialCollections;\n+import io.github.thebusybiscuit.slimefun4.api.events.ClimbingPickLaunchEvent;\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.DamageableItem;\n+import io.github.thebusybiscuit.slimefun4.core.attributes.RecipeDisplayItem;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.ItemUseHandler;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * The {@link ClimbingPick} launches you 1 block upwards when you right click\n+ * on a ice {@link Block}.\n+ * Every level of efficiency {@link Enchantment} increases the launch by 0.2 blocks.\n+ *\n+ * @author Linox\n+ *\n+ */\n+public class ClimbingPick extends SimpleSlimefunItem<ItemUseHandler> implements DamageableItem, RecipeDisplayItem {\n+\n+    private final Map<String, Double> materialSpeeds;\n+    private final Set<UUID> users = new HashSet<>();\n+\n+    public ClimbingPick(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe) {\n+        super(category, item, recipeType, recipe);\n+\n+        Map<String, Double> materialSpeedsDef = new HashMap<>();\n+        for (Material mat : MaterialCollections.getAllIceBlocks()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllConcretePowderColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+        for (Material mat : MaterialCollections.getAllTerracottaColors()) {\n+            materialSpeedsDef.put(mat.name(), 1D);\n+        }\n+\n+        materialSpeedsDef.put(Material.GRAVEL.name(), 0.4);\n+        materialSpeedsDef.put(Material.SAND.name(), 0.4);\n+        materialSpeedsDef.put(Material.STONE.name(), 0.6);\n+        materialSpeedsDef.put(Material.DIORITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.GRANITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.ANDESITE.name(), 0.6);\n+        materialSpeedsDef.put(Material.NETHERRACK.name(), 0.6);\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)) {\n+            materialSpeedsDef.put(Material.BLACKSTONE.name(), 0.6);\n+        }\n+        materialSpeeds = SlimefunPlugin.getItemCfg().getOrSetDefault(getID() + \".launch-amounts\", materialSpeedsDef);\n+    }\n+    \n+    @Override\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            if (!e.getClickedBlock().isPresent()) return;\n+\n+            Block block = e.getClickedBlock().get();\n+            ItemStack item = e.getItem();\n+            Player p = e.getPlayer();\n+\n+            if (p.getLocation().distanceSquared(block.getLocation()) > 2.25) return;\n+            if (e.getClickedFace() == BlockFace.DOWN || e.getClickedFace() == BlockFace.UP) return;\n+\n+            if (!users.contains(p.getUniqueId())) {\n+                Material mat = block.getType();\n+                double launch = materialSpeeds.getOrDefault(mat.name(), 0D);\n+\n+                Vector velocity = new Vector(0, 0, 0);\n+                if (launch > 0.05) {\n+                    int efficiencyLevel = item.getEnchantments().getOrDefault(Enchantment.DIG_SPEED, 0);\n+                    if (efficiencyLevel != 0){\n+                        launch += (efficiencyLevel * 0.2);\n+                    }\n+                    velocity.setY(launch);\n+\n+                    users.add(p.getUniqueId());\n+                    Bukkit.getScheduler().runTaskLater(SlimefunPlugin.instance, () -> users.remove(p.getUniqueId()), 4L);\n+                }\n+\n+                ClimbingPickLaunchEvent event = new ClimbingPickLaunchEvent(p, velocity, this, item, block);\n+                Bukkit.getPluginManager().callEvent(event);\n+\n+                if (!event.isCancelled()) {\n+                    p.setVelocity(event.getVelocity());\n+                    p.getWorld().playEffect(block.getLocation(), Effect.STEP_SOUND, 1);\n+\n+                    if (p.getGameMode() != GameMode.CREATIVE) {\n+                        damageItem(p, e.getItem());\n+                    }\n+                }\n+            }\n+        };\n+    }\n+\n+    @Override\n+    public boolean isDamageable() {\n+        return true;\n+    }\n+\n+    @Override\n+    public List<ItemStack> getDisplayRecipes() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef1735985e3fae288f0beb654e7c703307a975d8"}, "originalPosition": 124}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "005d4c04cc3873bbe15026898f1fb19d5a0580d5", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/005d4c04cc3873bbe15026898f1fb19d5a0580d5", "committedDate": "2020-06-28T15:53:12Z", "message": "Did the requested changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12176a9ae794e780c4e3053dd4e2e4e28b0ea61f", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/12176a9ae794e780c4e3053dd4e2e4e28b0ea61f", "committedDate": "2020-06-30T10:09:02Z", "message": "Merge branch 'experimental' into IcePick"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzAyOTM4", "url": "https://github.com/Slimefun/Slimefun4/pull/2056#pullrequestreview-441702938", "createdAt": "2020-07-02T13:56:03Z", "commit": {"oid": "12176a9ae794e780c4e3053dd4e2e4e28b0ea61f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d18a2ee121e041191e9bd04b80978ae51332301e", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d18a2ee121e041191e9bd04b80978ae51332301e", "committedDate": "2020-07-03T20:04:58Z", "message": "Updated MockBukkit dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca2c068e7aedcc2a1d5fd5d507423cd123b13bae", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/ca2c068e7aedcc2a1d5fd5d507423cd123b13bae", "committedDate": "2020-07-06T17:13:18Z", "message": "Merge branch 'experimental' into IcePick"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b17874ea2f31d55d04444dd75a6547dea598865", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/3b17874ea2f31d55d04444dd75a6547dea598865", "committedDate": "2020-07-24T16:39:59Z", "message": "Merge branch 'experimental' into IcePick"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c56ebe9c23a8450ed01a3910dad8bdca46d65a61", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/c56ebe9c23a8450ed01a3910dad8bdca46d65a61", "committedDate": "2020-08-04T17:12:00Z", "message": "Merge branch 'master' into IcePick"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f78e7a854c0a2ebb857150bce76a6ea95f751fd", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/5f78e7a854c0a2ebb857150bce76a6ea95f751fd", "committedDate": "2020-08-20T08:43:14Z", "message": "Merge branch 'master' into IcePick"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0946b88cd12e0395b4d98e8d3e81a61cd8a7fa05", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/0946b88cd12e0395b4d98e8d3e81a61cd8a7fa05", "committedDate": "2020-08-20T11:11:46Z", "message": "Fixed symbol name issues in ClimbingPick.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf3b04a4c52239a39e5c2229112314614f8d470f", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/bf3b04a4c52239a39e5c2229112314614f8d470f", "committedDate": "2020-08-20T11:19:48Z", "message": "Oops sorry for this silly mistake"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37bacaa8cb04efff280d427f225303b40c409379", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/37bacaa8cb04efff280d427f225303b40c409379", "committedDate": "2020-08-20T11:30:21Z", "message": "Apparently SlimefunPlugin.instance is private now."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73d623a0fd8f4e7d91dc8a5c0d7a21002f9fb879", "author": {"user": {"login": "LinoxGH", "name": null}}, "url": "https://github.com/Slimefun/Slimefun4/commit/73d623a0fd8f4e7d91dc8a5c0d7a21002f9fb879", "committedDate": "2020-08-20T11:39:31Z", "message": "Github Web and its indent issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29092b87c9ee3650b190a218de720735aaad3ce0", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/29092b87c9ee3650b190a218de720735aaad3ce0", "committedDate": "2020-08-20T20:56:09Z", "message": "Merge branch 'experimental' into IcePick"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2499, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}