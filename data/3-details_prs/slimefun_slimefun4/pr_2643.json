{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MTczMzQ3", "number": 2643, "title": "Refactoring for hasUnlocked() checks", "bodyText": "Description\n\nSome refactoring, changing the old Slimefun.hasUnlocked() to be a bit cleaner, better documented and object-oriented.\nChecklist\n\n\n\n I have fully tested the proposed changes and promise that they will not break everything into chaos.\n I have also tested the proposed changes in combination with various popular addons and can confirm my changes do not break them.\n I followed the existing code standards and didn't mess up the formatting.\n I did my best to add documentation to any public classes or methods I added.\n I have added Nonnull and Nullable annotations to my methods to indicate their behaviour for null values\n I added sufficient Unit Tests to cover my code.", "createdAt": "2020-12-22T14:54:35Z", "url": "https://github.com/Slimefun/Slimefun4/pull/2643", "merged": true, "mergeCommit": {"oid": "695ba7c7428b71eccf5660cb5fae731c6864f4bf"}, "closed": true, "closedAt": "2021-02-02T17:30:46Z", "author": {"login": "TheBusyBiscuit"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoUNsiAH2gAyNTQ0MTczMzQ3OjY1ZmMzY2VhNGUyZmU2Mzc0NjMzMWUwYmM2MjEyZjZjZTgzMjljNDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd2PLymAFqTU4MTU5NzQ5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "65fc3cea4e2fe63746331e0bc6212f6ce8329c49", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/65fc3cea4e2fe63746331e0bc6212f6ce8329c49", "committedDate": "2020-12-21T11:27:16Z", "message": "Finalized the fix for #2636"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b00afa4790223043c45908d587ea90d74b493e7b", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b00afa4790223043c45908d587ea90d74b493e7b", "committedDate": "2020-12-22T14:47:58Z", "message": "Refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cd0378306666ef97c67938f2650f9418a8449db", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/2cd0378306666ef97c67938f2650f9418a8449db", "committedDate": "2020-12-22T14:53:00Z", "message": "Thank god we have Unit Tests :monkaS:"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd06d0daecda82b441857ddec7bb534b664bb3ea", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/bd06d0daecda82b441857ddec7bb534b664bb3ea", "committedDate": "2020-12-22T14:58:18Z", "message": "Wrong import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MzQ3Nzk3", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-557347797", "createdAt": "2020-12-22T20:26:59Z", "commit": {"oid": "bd06d0daecda82b441857ddec7bb534b664bb3ea"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMDoyNzowMFrOIKIQsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMDozMTo1MFrOIKIXcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ5MjAxOA==", "bodyText": "Its weird because the variable name recipient for some reason sounds wrong in this context (same for all the other uses in this file), and I would then suggest something like \"endUser\" but it literally means the same thing, guess my mind is just acting weird xD", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r547492018", "createdAt": "2020-12-22T20:27:00Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/services/localization/SlimefunLocalization.java", "diffHunk": "@@ -215,76 +215,76 @@ public ItemStack getRecipeTypeItem(Player p, RecipeType recipeType) {\n     }\n \n     @Override\n-    public void sendMessage(CommandSender sender, String key, boolean addPrefix) {\n+    public void sendMessage(CommandSender recipient, String key, boolean addPrefix) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd06d0daecda82b441857ddec7bb534b664bb3ea"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ5Mzc0Ng==", "bodyText": "No need for Validate.notNull here?\nOr is it checked upon in the methods which it calls later on?", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r547493746", "createdAt": "2020-12-22T20:31:50Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/runes/SoulboundRune.java", "diffHunk": "@@ -59,7 +60,7 @@ public ItemDropHandler getItemHandler() {\n         };\n     }\n \n-    private void activate(Player p, Item rune) {\n+    private void activate(@Nonnull Player p, @Nonnull Item rune) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd06d0daecda82b441857ddec7bb534b664bb3ea"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MDM3NTQz", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-558037543", "createdAt": "2020-12-23T16:14:42Z", "commit": {"oid": "bd06d0daecda82b441857ddec7bb534b664bb3ea"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32b9788e748c308d3c37acca41ee9235f58e0d9c", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/32b9788e748c308d3c37acca41ee9235f58e0d9c", "committedDate": "2020-12-24T11:40:08Z", "message": "Merge branch 'master' into chore/has-unlocked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0ODQ3NDA1", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-564847405", "createdAt": "2021-01-10T09:57:52Z", "commit": {"oid": "32b9788e748c308d3c37acca41ee9235f58e0d9c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d4e22c4b5d28d8f7420f5069b76c94472d4829f", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/5d4e22c4b5d28d8f7420f5069b76c94472d4829f", "committedDate": "2021-01-14T11:25:37Z", "message": "Merge branch 'master' of https://github.com/Slimefun/Slimefun4.git into\nchore/has-unlocked\n\nConflicts:\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/core/categories/LockedCategory.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/guide/BookSlimefunGuide.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/guide/ChestSlimefunGuide.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockListener.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/tasks/TickerTask.java\n\tsrc/main/java/me/mrCookieSlime/Slimefun/api/Slimefun.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "452dc5c3c57b2f2245102bf472cb5bda9a09ca58", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/452dc5c3c57b2f2245102bf472cb5bda9a09ca58", "committedDate": "2021-01-14T11:26:21Z", "message": "Updated changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "739e7a7a9a99a8d7a110a48eedf782b129aa4a5c", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/739e7a7a9a99a8d7a110a48eedf782b129aa4a5c", "committedDate": "2021-01-14T13:44:57Z", "message": "Merge branch 'master' into chore/has-unlocked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY4NjMyNjQ0", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-568632644", "createdAt": "2021-01-14T21:16:25Z", "commit": {"oid": "739e7a7a9a99a8d7a110a48eedf782b129aa4a5c"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQyMToxNjoyNVrOIT3i6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQyMToxNjoyNVrOIT3i6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzcwMzkxNQ==", "bodyText": "Are these comments under the if statements necessary everywhere? They seem pretty self-explanatory to me", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r557703915", "createdAt": "2021-01-14T21:16:25Z", "author": {"login": "svr333"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/SlimefunItem/SlimefunItem.java", "diffHunk": "@@ -1012,6 +1015,90 @@ public void error(@Nonnull String message, @Nonnull Throwable throwable) {\n         }\n     }\n \n+    /**\n+     * This method checks if the given {@link Player} is able to use this {@link SlimefunItem}.\n+     * A {@link Player} can use it if the following conditions apply:\n+     * \n+     * <p>\n+     * <ul>\n+     * <li>The {@link SlimefunItem} is not disabled\n+     * <li>The {@link SlimefunItem} was not disabled for that {@link Player}'s {@link World}.\n+     * <li>The {@link Player} has the required {@link Permission} (if present)\n+     * <li>The {@link Player} has unlocked the required {@link Research} (if present)\n+     * </ul>\n+     * <p>\n+     * \n+     * If any of these conditions evaluate to <code>false</code>, then an optional message will be\n+     * sent to the {@link Player}.\n+     * \n+     * @param p\n+     *            The {@link Player} to check\n+     * @param sendMessage\n+     *            Whether to send that {@link Player} a message response.\n+     * \n+     * @return Whether this {@link Player} is able to use this {@link SlimefunItem}.\n+     */\n+    public boolean canUse(@Nonnull Player p, boolean sendMessage) {\n+        Validate.notNull(p, \"The Player cannot be null!\");\n+\n+        if (getState() == ItemState.VANILLA_FALLBACK) {\n+            // Vanilla items (which fell back) can always be used.\n+            return true;\n+        } else if (isDisabled()) {\n+            // The Item has been disabled in the config", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "739e7a7a9a99a8d7a110a48eedf782b129aa4a5c"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b527f4a6108a85f8066780951cc7fda259b2ed9", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/1b527f4a6108a85f8066780951cc7fda259b2ed9", "committedDate": "2021-01-16T10:34:57Z", "message": "Merge branch 'master' into chore/has-unlocked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY5OTA2NDgz", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-569906483", "createdAt": "2021-01-16T11:06:25Z", "commit": {"oid": "1b527f4a6108a85f8066780951cc7fda259b2ed9"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY5OTMzNDA4", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-569933408", "createdAt": "2021-01-16T11:59:06Z", "commit": {"oid": "1b527f4a6108a85f8066780951cc7fda259b2ed9"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8b135592d432a139ed03490ba5db6e877cad575", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/f8b135592d432a139ed03490ba5db6e877cad575", "committedDate": "2021-01-16T15:04:21Z", "message": "Merge branch 'master' into chore/has-unlocked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY5OTQ0ODM4", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-569944838", "createdAt": "2021-01-16T15:04:38Z", "commit": {"oid": "f8b135592d432a139ed03490ba5db6e877cad575"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b28f3685ae9c3f99bcb8c585b5d8ab36949ed9e", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/8b28f3685ae9c3f99bcb8c585b5d8ab36949ed9e", "committedDate": "2021-01-17T13:33:46Z", "message": "Merge branch 'master' of https://github.com/Slimefun/Slimefun4.git into chore/has-unlocked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgxNTk3NDkz", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#pullrequestreview-581597493", "createdAt": "2021-02-02T17:30:36Z", "commit": {"oid": "8b28f3685ae9c3f99bcb8c585b5d8ab36949ed9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2603, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}