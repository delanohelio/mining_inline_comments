{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4OTEyNTgw", "number": 2402, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1ODowOFrOEq-OlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoyMDo0NlrOErV9Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDk1MTg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1ODowOFrOHde60g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1ODowOFrOHde60g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzMzMA==", "bodyText": "else on the next line after the bracket.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500677330", "createdAt": "2020-10-07T00:58:08Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "diffHunk": "@@ -17,6 +20,22 @@ public GPSControlPanel(Category category, SlimefunItemStack item, RecipeType rec\n \n     @Override\n     public BlockUseHandler getItemHandler() {\n-        return e -> SlimefunPlugin.getGPSNetwork().openTransmitterControlPanel(e.getPlayer());\n+        return e ->  {\n+            e.cancel();\n+\n+            Player p = e.getPlayer();\n+\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")\n+                || (SlimefunPlugin.getProtectionManager().hasPermission(\n+                p, e.getClickedBlock().get().getLocation(), ProtectableAction.ACCESS_INVENTORIES))\n+                && Slimefun.hasUnlocked(p, item, false)\n+            ) {\n+\n+                SlimefunPlugin.getGPSNetwork().openTransmitterControlPanel(p);\n+            } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDk1MjA5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1ODoxNVrOHde67g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1ODoxNVrOHde67g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzM1OA==", "bodyText": "else on the next line after the bracket.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500677358", "createdAt": "2020-10-07T00:58:15Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "diffHunk": "@@ -19,10 +22,22 @@ public GEOScanner(Category category, SlimefunItemStack item, RecipeType recipeTy\n     @Override\n     public BlockUseHandler getItemHandler() {\n         return e -> {\n+            e.cancel();\n+\n             Block b = e.getClickedBlock().get();\n+            Player p = e.getPlayer();\n \n-            e.cancel();\n-            SlimefunPlugin.getGPSNetwork().getResourceManager().scan(e.getPlayer(), b, 0);\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")\n+                || (SlimefunPlugin.getProtectionManager().hasPermission(\n+                p, b.getLocation(), ProtectableAction.ACCESS_INVENTORIES))\n+                && Slimefun.hasUnlocked(e.getPlayer(), item, false)\n+            ) {\n+\n+                SlimefunPlugin.getGPSNetwork().getResourceManager().scan(p, b, 0);\n+            } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDk1MzAxOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1ODo1N1rOHde7jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0NToyM1rOHd8YNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzUxNw==", "bodyText": "This check is redundant as it's already done before this handler is called.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500677517", "createdAt": "2020-10-07T00:58:57Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "diffHunk": "@@ -19,10 +22,22 @@ public GEOScanner(Category category, SlimefunItemStack item, RecipeType recipeTy\n     @Override\n     public BlockUseHandler getItemHandler() {\n         return e -> {\n+            e.cancel();\n+\n             Block b = e.getClickedBlock().get();\n+            Player p = e.getPlayer();\n \n-            e.cancel();\n-            SlimefunPlugin.getGPSNetwork().getResourceManager().scan(e.getPlayer(), b, 0);\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")\n+                || (SlimefunPlugin.getProtectionManager().hasPermission(\n+                p, b.getLocation(), ProtectableAction.ACCESS_INVENTORIES))\n+                && Slimefun.hasUnlocked(e.getPlayer(), item, false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY5ODUxOQ==", "bodyText": "The entire thing? I have tested it and it allows other people to access them/activate them", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500698519", "createdAt": "2020-10-07T02:17:28Z", "author": {"login": "NCBPFluffyBear"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "diffHunk": "@@ -19,10 +22,22 @@ public GEOScanner(Category category, SlimefunItemStack item, RecipeType recipeTy\n     @Override\n     public BlockUseHandler getItemHandler() {\n         return e -> {\n+            e.cancel();\n+\n             Block b = e.getClickedBlock().get();\n+            Player p = e.getPlayer();\n \n-            e.cancel();\n-            SlimefunPlugin.getGPSNetwork().getResourceManager().scan(e.getPlayer(), b, 0);\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")\n+                || (SlimefunPlugin.getProtectionManager().hasPermission(\n+                p, b.getLocation(), ProtectableAction.ACCESS_INVENTORIES))\n+                && Slimefun.hasUnlocked(e.getPlayer(), item, false)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzUxNw=="}, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1OTk4OQ==", "bodyText": "The hasUnlocked() check is redundant, handlers aren't even called unless the Player has access to the item.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r501159989", "createdAt": "2020-10-07T16:45:23Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "diffHunk": "@@ -19,10 +22,22 @@ public GEOScanner(Category category, SlimefunItemStack item, RecipeType recipeTy\n     @Override\n     public BlockUseHandler getItemHandler() {\n         return e -> {\n+            e.cancel();\n+\n             Block b = e.getClickedBlock().get();\n+            Player p = e.getPlayer();\n \n-            e.cancel();\n-            SlimefunPlugin.getGPSNetwork().getResourceManager().scan(e.getPlayer(), b, 0);\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")\n+                || (SlimefunPlugin.getProtectionManager().hasPermission(\n+                p, b.getLocation(), ProtectableAction.ACCESS_INVENTORIES))\n+                && Slimefun.hasUnlocked(e.getPlayer(), item, false)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzUxNw=="}, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDk1MzE4OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1OTowMlrOHde7pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1OTowMlrOHde7pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzU0MQ==", "bodyText": "This check is redundant as it's already done before this handler is called.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500677541", "createdAt": "2020-10-07T00:59:02Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "diffHunk": "@@ -17,6 +20,22 @@ public GPSControlPanel(Category category, SlimefunItemStack item, RecipeType rec\n \n     @Override\n     public BlockUseHandler getItemHandler() {\n-        return e -> SlimefunPlugin.getGPSNetwork().openTransmitterControlPanel(e.getPlayer());\n+        return e ->  {\n+            e.cancel();\n+\n+            Player p = e.getPlayer();\n+\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")\n+                || (SlimefunPlugin.getProtectionManager().hasPermission(\n+                p, e.getClickedBlock().get().getLocation(), ProtectableAction.ACCESS_INVENTORIES))\n+                && Slimefun.hasUnlocked(p, item, false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDk1MzkxOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1OToyOVrOHde8Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1OToyOVrOHde8Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzY1MA==", "bodyText": "You should really have a designated permissions node for this, it's not an inventory.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500677650", "createdAt": "2020-10-07T00:59:29Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "diffHunk": "@@ -17,6 +20,22 @@ public GPSControlPanel(Category category, SlimefunItemStack item, RecipeType rec\n \n     @Override\n     public BlockUseHandler getItemHandler() {\n-        return e -> SlimefunPlugin.getGPSNetwork().openTransmitterControlPanel(e.getPlayer());\n+        return e ->  {\n+            e.cancel();\n+\n+            Player p = e.getPlayer();\n+\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDk1NDExOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1OTozNFrOHde8MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMDo1OTozNFrOHde8MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY3NzY4MQ==", "bodyText": "You should really have a designated permissions node for this, it's not an inventory.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r500677681", "createdAt": "2020-10-07T00:59:34Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "diffHunk": "@@ -19,10 +22,22 @@ public GEOScanner(Category category, SlimefunItemStack item, RecipeType recipeTy\n     @Override\n     public BlockUseHandler getItemHandler() {\n         return e -> {\n+            e.cancel();\n+\n             Block b = e.getClickedBlock().get();\n+            Player p = e.getPlayer();\n \n-            e.cancel();\n-            SlimefunPlugin.getGPSNetwork().getResourceManager().scan(e.getPlayer(), b, 0);\n+            if (p.hasPermission(\"slimefun.inventory.bypass\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f0715156dd8a8f7228f532daf9e3aeec34a2a4"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzODgzNDc5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoxOTozN1rOHeEAhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoxOTozN1rOHeEAhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4NDk5OA==", "bodyText": "Misplaced imports.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r501284998", "createdAt": "2020-10-07T20:19:37Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/geo/GEOScanner.java", "diffHunk": "@@ -1,6 +1,9 @@\n package io.github.thebusybiscuit.slimefun4.implementation.items.geo;\n \n+import io.github.thebusybiscuit.cscorelib2.protection.ProtectableAction;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b577c1e4a369fe954420ecb7b2fe0aa2cd1ce5d7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzODgzOTA3OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoyMDo0NlrOHeEDBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoyMDo0NlrOHeEDBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4NTYzNg==", "bodyText": "Misplaced imports.", "url": "https://github.com/Slimefun/Slimefun4/pull/2402#discussion_r501285636", "createdAt": "2020-10-07T20:20:46Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/gps/GPSControlPanel.java", "diffHunk": "@@ -1,5 +1,8 @@\n package io.github.thebusybiscuit.slimefun4.implementation.items.gps;\n \n+import io.github.thebusybiscuit.cscorelib2.protection.ProtectableAction;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b577c1e4a369fe954420ecb7b2fe0aa2cd1ce5d7"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 232, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}