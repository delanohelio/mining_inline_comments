{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5NjI4NDUw", "number": 2027, "title": " Improve the handling of non-registered worlds", "bodyText": "Description &\n\n\nSome plugins may create fake worlds. For example, AWE can do that after the first usage of //regen. Those ghost worlds aren't handled by Slimefun (they do not exist during startup and world load event is not fired for them too), so there was an error when the plugin was trying to save them.\nThere's a minor chance for NPE when saving block data. See related issues.\nFixed a tiny typo that was annoying me.\n\nChanges\n\n\nSlimefun now tries to save data only for registered worlds.\nSlimefun now handles possible NPEs. There will be a warning instead.\noccured -> occurred.\n\nRelated Issues\n\n\nSee TheBusyBiscuit/ExoticGarden#123 as an example of point 2 above.\nChecklist\nWow, there are more checkboxes now! I wasn't contributing to Slimefun code-wise for quite a while :o\n\n\n\n I have fully tested the proposed changes and promise that they will not break everything into chaos.\n I have also tested the proposed changes in combination with various popular addons and can confirm my changes do not break them.\n I followed the existing code standards and didn't mess up the formatting. (I hope so xD)\n I did my best to add documentation to any public classes or methods I added.\n I added sufficient Unit Tests to cover my code.", "createdAt": "2020-06-25T03:09:14Z", "url": "https://github.com/Slimefun/Slimefun4/pull/2027", "merged": true, "mergeCommit": {"oid": "ff205aee4e128cfef7e6a6b604e81305fcc60cd0"}, "closed": true, "closedAt": "2020-06-25T10:12:09Z", "author": {"login": "SoSeDiK"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABculSQzAH2gAyNDM5NjI4NDUwOmMxNzU1OTY1MzY5YzI2NWNkYjQ4ZmRmMDYyNTVkZTIwODBhZjY5YmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcur2bbAFqTQzNzM1NDg2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c1755965369c265cdb48fdf06255de2080af69bc", "author": {"user": {"login": "SoSeDiK", "name": "SoSeDiK"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/c1755965369c265cdb48fdf06255de2080af69bc", "committedDate": "2020-06-25T02:33:02Z", "message": "Improve the handling of non-registered worlds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecd97b3e500a1b5316790d8dc8dcaa3881001b2a", "author": {"user": {"login": "SoSeDiK", "name": "SoSeDiK"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/ecd97b3e500a1b5316790d8dc8dcaa3881001b2a", "committedDate": "2020-06-25T02:54:21Z", "message": "Fixed a tiny typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzA5OTUz", "url": "https://github.com/Slimefun/Slimefun4/pull/2027#pullrequestreview-437309953", "createdAt": "2020-06-25T09:10:55Z", "commit": {"oid": "ecd97b3e500a1b5316790d8dc8dcaa3881001b2a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwOToxMDo1NVrOGoyJ8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwOToxMDo1NVrOGoyJ8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQxNzk3MQ==", "bodyText": "Please don't use .forEach(...), it can have quite a negative impact on performance. It is advised to use the standard for loop format instead.", "url": "https://github.com/Slimefun/Slimefun4/pull/2027#discussion_r445417971", "createdAt": "2020-06-25T09:10:55Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/SlimefunPlugin.java", "diffHunk": "@@ -391,21 +391,15 @@ public void onDisable() {\n             }\n         });\n \n-        for (World world : Bukkit.getWorlds()) {\n+        // Save all registered Worlds\n+        getRegistry().getWorlds().forEach((world, storage) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecd97b3e500a1b5316790d8dc8dcaa3881001b2a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ed2258eb0b1bb9f03d68fd2fd0b7dcac6af67fe", "author": {"user": {"login": "SoSeDiK", "name": "SoSeDiK"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/4ed2258eb0b1bb9f03d68fd2fd0b7dcac6af67fe", "committedDate": "2020-06-25T09:49:18Z", "message": "Replace stream with for loop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ade18c7bd8b21515b51d9c797608ac400a165331", "author": {"user": {"login": "SoSeDiK", "name": "SoSeDiK"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/ade18c7bd8b21515b51d9c797608ac400a165331", "committedDate": "2020-06-25T09:58:04Z", "message": "Remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "386cbea53b58765b7bb3390fbb19193607c92ddc", "author": {"user": {"login": "SoSeDiK", "name": "SoSeDiK"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/386cbea53b58765b7bb3390fbb19193607c92ddc", "committedDate": "2020-06-25T09:59:02Z", "message": "Whoops"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzQ2Mjg2", "url": "https://github.com/Slimefun/Slimefun4/pull/2027#pullrequestreview-437346286", "createdAt": "2020-06-25T09:59:43Z", "commit": {"oid": "ade18c7bd8b21515b51d9c797608ac400a165331"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzQ2NTY0", "url": "https://github.com/Slimefun/Slimefun4/pull/2027#pullrequestreview-437346564", "createdAt": "2020-06-25T10:00:06Z", "commit": {"oid": "386cbea53b58765b7bb3390fbb19193607c92ddc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMDowMDowNlrOGoz53g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMDowMDowNlrOGoz53g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQ0NjYyMg==", "bodyText": "Please do not use the star import.", "url": "https://github.com/Slimefun/Slimefun4/pull/2027#discussion_r445446622", "createdAt": "2020-06-25T10:00:06Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/SlimefunPlugin.java", "diffHunk": "@@ -1,11 +1,7 @@\n package me.mrCookieSlime.Slimefun;\n \n import java.io.File;\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collection;\n-import java.util.List;\n-import java.util.Set;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "386cbea53b58765b7bb3390fbb19193607c92ddc"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e52ac9d43b49cd451d8000e3c71a1603d021c2ba", "author": {"user": {"login": "SoSeDiK", "name": "SoSeDiK"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/e52ac9d43b49cd451d8000e3c71a1603d021c2ba", "committedDate": "2020-06-25T10:06:34Z", "message": "Make it compile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzU0ODY0", "url": "https://github.com/Slimefun/Slimefun4/pull/2027#pullrequestreview-437354864", "createdAt": "2020-06-25T10:11:58Z", "commit": {"oid": "e52ac9d43b49cd451d8000e3c71a1603d021c2ba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2487, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}