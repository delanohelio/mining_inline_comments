{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NzQyNzM3", "number": 2015, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MDo1NVrOEIJPiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0NDoxMlrOEIJS5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTc1NDk5OnYy", "diffSide": "RIGHT", "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/handlers/EntityInteractHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MDo1NVrOGn7odQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MDo1NVrOGn7odQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNDY2MQ==", "bodyText": "I think we should include the Entity rather than the Event as the parameter for simplicity.", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444524661", "createdAt": "2020-06-23T21:40:55Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/handlers/EntityInteractHandler.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package me.mrCookieSlime.Slimefun.Objects.handlers;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.player.PlayerInteractAtEntityEvent;\n+import org.bukkit.inventory.ItemStack;\n+\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+\n+/**\n+ * This is triggered when a {@link Player} interacts with an {@link Entity}.\n+ *\n+ * @author Linox\n+ *\n+ * @see ItemHandler\n+ * @see SimpleSlimefunItem\n+ *\n+ */\n+@FunctionalInterface\n+public interface EntityInteractHandler extends ItemHandler {\n+\n+    /**\n+     * This function is triggered when a {@link Player} right clicks with the assigned {@link SlimefunItem}\n+     * in his hand.\n+     *\n+     * @param e\n+     *            The {@link PlayerInteractAtEntityEvent} that was triggered\n+     */\n+    void onInteract(PlayerInteractAtEntityEvent e, ItemStack item);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTc1NTEwOnYy", "diffSide": "RIGHT", "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/handlers/EntityInteractHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MDo1OFrOGn7ogw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MDo1OFrOGn7ogw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNDY3NQ==", "bodyText": "Missing @param for the ItemStack", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444524675", "createdAt": "2020-06-23T21:40:58Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/handlers/EntityInteractHandler.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package me.mrCookieSlime.Slimefun.Objects.handlers;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.player.PlayerInteractAtEntityEvent;\n+import org.bukkit.inventory.ItemStack;\n+\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+\n+/**\n+ * This is triggered when a {@link Player} interacts with an {@link Entity}.\n+ *\n+ * @author Linox\n+ *\n+ * @see ItemHandler\n+ * @see SimpleSlimefunItem\n+ *\n+ */\n+@FunctionalInterface\n+public interface EntityInteractHandler extends ItemHandler {\n+\n+    /**\n+     * This function is triggered when a {@link Player} right clicks with the assigned {@link SlimefunItem}\n+     * in his hand.\n+     *\n+     * @param e\n+     *            The {@link PlayerInteractAtEntityEvent} that was triggered", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTc1NTk1OnYy", "diffSide": "RIGHT", "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/handlers/EntityInteractHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MToyM1rOGn7pHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MToyM1rOGn7pHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNDgzMA==", "bodyText": "Should probably mention the PlayerInteractAtEntityEvent in the description too.", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444524830", "createdAt": "2020-06-23T21:41:23Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/handlers/EntityInteractHandler.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package me.mrCookieSlime.Slimefun.Objects.handlers;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Player;\n+import org.bukkit.event.player.PlayerInteractAtEntityEvent;\n+import org.bukkit.inventory.ItemStack;\n+\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+\n+/**\n+ * This is triggered when a {@link Player} interacts with an {@link Entity}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTc1ODk0OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/setup/SlimefunItemSetup.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MjoyMFrOGn7q4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMjowMTowMlrOGn8KZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNTI4Mg==", "bodyText": "Why is this 1.14 only?", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444525282", "createdAt": "2020-06-23T21:42:20Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/setup/SlimefunItemSetup.java", "diffHunk": "@@ -775,6 +779,17 @@ public static void setup(SlimefunPlugin plugin) {\n \t\t    .register(plugin);\n \t\t}\n \n+\t\tif (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUzMzM0OA==", "bodyText": "because the convert method for zombie villagers were added in 1.14", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444533348", "createdAt": "2020-06-23T22:01:02Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/setup/SlimefunItemSetup.java", "diffHunk": "@@ -775,6 +779,17 @@ public static void setup(SlimefunPlugin plugin) {\n \t\t    .register(plugin);\n \t\t}\n \n+\t\tif (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNTI4Mg=="}, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTc2MTE4OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicPills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MzowOVrOGn7sSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0MzowOVrOGn7sSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNTY0Mg==", "bodyText": "We got ItemUtils.consumeItem... for this", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444525642", "createdAt": "2020-06-23T21:43:09Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicPills.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.magical;\n+\n+import org.bukkit.Sound;\n+import org.bukkit.entity.EntityType;\n+import org.bukkit.entity.Player;\n+import org.bukkit.entity.Villager;\n+import org.bukkit.entity.ZombieVillager;\n+import org.bukkit.inventory.EquipmentSlot;\n+import org.bukkit.inventory.ItemStack;\n+\n+import io.github.thebusybiscuit.slimefun4.api.MinecraftVersion;\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SimpleSlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import me.mrCookieSlime.Slimefun.Objects.handlers.EntityInteractHandler;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * This {@link SlimefunItem} allows you to convert any {@link ZombieVillager} to\n+ * their {@link Villager} variant.\n+ *\n+ * @author Linox\n+ *\n+ * @see EntityInteractHandler\n+ *\n+ */\n+public class MagicPills extends SimpleSlimefunItem<EntityInteractHandler> {\n+\n+    public MagicPills(Category category, SlimefunItemStack item, RecipeType recipeType, ItemStack[] recipe, ItemStack recipeOutput) {\n+        super(category, item, recipeType, recipe, recipeOutput);\n+    }\n+\n+    @Override\n+    public EntityInteractHandler getItemHandler() {\n+        return (e, item) -> {\n+            if (e.getRightClicked().getType() == EntityType.ZOMBIE_VILLAGER) {\n+                Player p = e.getPlayer();\n+\n+                item.setAmount(item.getAmount() - 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTc2MzU5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/setup/ResearchSetup.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0NDoxMlrOGn7t0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTo0NDoxMlrOGn7t0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUyNjAzMw==", "bodyText": "This needs to be added to the researches_en.yml translation file too!", "url": "https://github.com/Slimefun/Slimefun4/pull/2015#discussion_r444526033", "createdAt": "2020-06-23T21:44:12Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/setup/ResearchSetup.java", "diffHunk": "@@ -265,6 +265,7 @@ public static void setupResearches() {\n         register(\"tree_growth_accelerator\", 256, \"Faster Trees\", 18, SlimefunItems.TREE_GROWTH_ACCELERATOR);\n         register(\"industrial_miner\", 95, \"Industrial Mining\", 28, SlimefunItems.INDUSTRIAL_MINER);\n         register(\"advanced_industrial_miner\", 98, \"Better Mining\", 36, SlimefunItems.ADVANCED_INDUSTRIAL_MINER);\n+        register(\"magic_pills\", 257, \"De-Zombification\", 22, SlimefunItems.MAGIC_PILLS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9205b143ede29c2c0a958f26441ff91130802dd2"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 371, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}