{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MzkyMDMy", "number": 2645, "title": "Experimental talismans", "bodyText": "Description\nImplement 2 new talismans, Talisman of the Wise and Talisman of the Resurrected. Also refactors the Talisman class quite a bit.\nRegarding my Testing results below, I dont know if Ender Talismans are supposed to work in inventories, otherwise the only thing needed to fix is the ability to right click the Ender variant of the Talisman of the Resurrected.\nChanges\n\nEverything from the old PR\nAdd a return statement so it doesnt send 2 messages\n\nTesting Results\n@ \nI did some thorough testing and came to the following results:\n\nEnder Talismans only work in enderchest, not in inventory\nRight clicking on the Ender Talisman of the Resurrected does not set a respawn point\nBoth variants of the Talismans of the Anvil, Miner, Wise and Traveller work (I assume the rest works too but I didnt test all of them)\n\nChecklist\n\n\n\n I have fully tested the proposed changes and promise that they will not break everything into chaos.\n I have also tested the proposed changes in combination with various popular addons and can confirm my changes do not break them.\n I followed the existing code standards and didn't mess up the formatting.\n I did my best to add documentation to any public classes or methods I added.\n I have added Nonnull and Nullable annotations to my methods to indicate their behaviour for null values\n I added sufficient Unit Tests to cover my code.", "createdAt": "2020-12-22T21:53:20Z", "url": "https://github.com/Slimefun/Slimefun4/pull/2645", "merged": true, "mergeCommit": {"oid": "f6e9d70baab141aaac88a81abccb6ceef271aca6"}, "closed": true, "closedAt": "2021-01-24T17:06:20Z", "author": {"login": "svr333"}, "timelineItems": {"totalCount": 75, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPBA8TAH2gAyNTQ0MzkyMDMyOmE3YzQ4Y2VjNjQyOGQzM2M3Mjc5MTFiNDNmNWFiMTYzMDk5MWIyMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdth1IuAFqTU2MjgzMDA5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a7c48cec6428d33c727911b43f5ab1630991b213", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a7c48cec6428d33c727911b43f5ab1630991b213", "committedDate": "2020-10-03T20:57:02Z", "message": "Create Talisman of the Wise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aefb51cc278707f3c2dcd9547cd2bb02bb05b5d4", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/aefb51cc278707f3c2dcd9547cd2bb02bb05b5d4", "committedDate": "2020-10-03T20:57:20Z", "message": "Add text entries for wise_talisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cd9a4e2f8cc3c205c7e2043522bb6ca1ea5d4d5", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/8cd9a4e2f8cc3c205c7e2043522bb6ca1ea5d4d5", "committedDate": "2020-10-03T20:58:29Z", "message": "Add ResearchSetup entry for wise_talisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "682c89975470dc8b2fa6131e042ffbb2957a090b", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/682c89975470dc8b2fa6131e042ffbb2957a090b", "committedDate": "2020-10-03T21:10:27Z", "message": "Add Talisman of the Resurrected"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b39865f426ddb7ff1c3ded1737b1b1a502b789f", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/2b39865f426ddb7ff1c3ded1737b1b1a502b789f", "committedDate": "2020-10-03T21:26:25Z", "message": "Add event logic for resurrection_talisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74107cf963449fa1111e87f40159c16de4901478", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/74107cf963449fa1111e87f40159c16de4901478", "committedDate": "2020-10-04T18:28:39Z", "message": "Add Talisman of the Resurrected"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef12fc3d015f98ae0bc801b0231f7e85b876842a", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/ef12fc3d015f98ae0bc801b0231f7e85b876842a", "committedDate": "2020-10-04T18:29:14Z", "message": "Add text entries for resurrected_talisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5e5484697699f107938233767e8658620b17851", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/f5e5484697699f107938233767e8658620b17851", "committedDate": "2020-10-04T18:33:42Z", "message": "Remove unnecessary import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1d5d474fcc86c57409b702f9b9761bcfa745b89", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a1d5d474fcc86c57409b702f9b9761bcfa745b89", "committedDate": "2020-10-04T18:35:41Z", "message": "Remove unused scheduler var"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5b62bc48cf8ac4582d28c13e2474624ad5f54d4", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b5b62bc48cf8ac4582d28c13e2474624ad5f54d4", "committedDate": "2020-10-04T18:56:13Z", "message": "Fix imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "207d69a09b3ca2262ce1d880a2475507958f4023", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/207d69a09b3ca2262ce1d880a2475507958f4023", "committedDate": "2020-10-04T18:56:34Z", "message": "Uppercase talisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49578b7b51dad9b8f64cbd2e9b5e82265b7b28a4", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/49578b7b51dad9b8f64cbd2e9b5e82265b7b28a4", "committedDate": "2020-10-04T18:59:52Z", "message": "Fix grammar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5d7960a569fcb5b612dd714b2f9f0a7661078f3", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d5d7960a569fcb5b612dd714b2f9f0a7661078f3", "committedDate": "2020-10-04T19:00:53Z", "message": "Add missing brackets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e08b4b1f17536414b5343370da0b70e2e1c4d735", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/e08b4b1f17536414b5343370da0b70e2e1c4d735", "committedDate": "2020-10-05T10:05:53Z", "message": "Refactor onExperienceReceive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e1dba507df4b86039cb2abcea40fd81094b276f", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/0e1dba507df4b86039cb2abcea40fd81094b276f", "committedDate": "2020-10-05T10:07:16Z", "message": "Remove redundant .getPlayer()'s"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "133705e287b96dbd1c7c265e4f8f0ba32e2965b4", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/133705e287b96dbd1c7c265e4f8f0ba32e2965b4", "committedDate": "2020-10-05T10:11:00Z", "message": "Use SlimefunPlugin.runSync over scheduler\n\nCo-authored-by: TheBusyBiscuit <TheBusyBiscuit@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64e39abc625f5be6d39b36f07a01d281da9119ba", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/64e39abc625f5be6d39b36f07a01d281da9119ba", "committedDate": "2020-10-05T10:13:46Z", "message": "Update resurrected talisman message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "961f44273351b5a662fbf1fc964ffb06f8dc8e5f", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/961f44273351b5a662fbf1fc964ffb06f8dc8e5f", "committedDate": "2020-10-05T10:18:42Z", "message": "Update recipe for wise_talisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e240fa1b6442cfe331a55070c6a12135d528f657", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/e240fa1b6442cfe331a55070c6a12135d528f657", "committedDate": "2020-10-05T10:31:55Z", "message": "Refactor onPlayerDeath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d64fe94b504523b866df35436d6001154b9706fc", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d64fe94b504523b866df35436d6001154b9706fc", "committedDate": "2020-10-05T13:58:32Z", "message": "Merge branch 'master' of https://github.com/Slimefun/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51de09540403ed411c783567e9e8e6abcd250f1e", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/51de09540403ed411c783567e9e8e6abcd250f1e", "committedDate": "2020-10-05T17:55:27Z", "message": "Add ResurrectedTalisman class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7eb680fa58c77f715f10aeb66253fc18a3671424", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/7eb680fa58c77f715f10aeb66253fc18a3671424", "committedDate": "2020-10-05T18:15:11Z", "message": "Remove redundant new line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5caaaa13e517639af36330725e9911bd083c2a6", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d5caaaa13e517639af36330725e9911bd083c2a6", "committedDate": "2020-10-05T20:46:53Z", "message": "Add base for ResurrectedTalisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ce3c1f3e6049988326087d93dc1b1c92f4e67c", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a9ce3c1f3e6049988326087d93dc1b1c92f4e67c", "committedDate": "2020-10-06T13:34:18Z", "message": "Try to implement requested feature for RessurectedTalisman"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2eddaef88c2f5067c8809cca49e38a38adf6fc2b", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/2eddaef88c2f5067c8809cca49e38a38adf6fc2b", "committedDate": "2020-10-06T22:00:22Z", "message": "Fix comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db7e39ff10f01dda043b7fbcda45ac32439afc38", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/db7e39ff10f01dda043b7fbcda45ac32439afc38", "committedDate": "2020-10-06T22:06:32Z", "message": "Fix requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ff3b31bf6296ca7dcf99b835ee1c4f834828ee7", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/8ff3b31bf6296ca7dcf99b835ee1c4f834828ee7", "committedDate": "2020-10-07T10:03:45Z", "message": "Create tryFind method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9b8f608ffe67353dd1e5de229852706269282eb", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a9b8f608ffe67353dd1e5de229852706269282eb", "committedDate": "2020-10-07T13:54:32Z", "message": "Attempt to make it work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3747ba4afafda121172974d5e1307ca202c5a502", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/3747ba4afafda121172974d5e1307ca202c5a502", "committedDate": "2020-10-07T13:59:33Z", "message": "Remove second consumeItem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5998773e3ac8b35236aaba41ae1c032b5263a69", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a5998773e3ac8b35236aaba41ae1c032b5263a69", "committedDate": "2020-10-07T14:04:02Z", "message": "Fix build error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "085ad2cd6b1d66e179badb7f193c6fb4de08b509", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/085ad2cd6b1d66e179badb7f193c6fb4de08b509", "committedDate": "2020-10-07T14:06:32Z", "message": "Merge branch 'master' into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79d652bb705a587a8e111ec1a5e4ded079482ae9", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/79d652bb705a587a8e111ec1a5e4ded079482ae9", "committedDate": "2020-10-07T14:42:53Z", "message": "Add .factorypath and .vscode folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9be590459a8a8defb1d05b18d293042349805dd5", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/9be590459a8a8defb1d05b18d293042349805dd5", "committedDate": "2020-10-07T14:43:20Z", "message": "Merge branch 'MoreTalismans' of https://github.com/svr333/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e39920e59fd682c6e9caccab5cea7ae88e11659", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/5e39920e59fd682c6e9caccab5cea7ae88e11659", "committedDate": "2020-10-07T14:45:34Z", "message": "Remove static's"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "273d95ed9c82b6d5b8f8954e61048dbe6a519c68", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/273d95ed9c82b6d5b8f8954e61048dbe6a519c68", "committedDate": "2020-10-07T14:51:52Z", "message": "Delete settings.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6a29509c7e6ebd7b7d853e47e03006bff46c0c6", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a6a29509c7e6ebd7b7d853e47e03006bff46c0c6", "committedDate": "2020-10-07T15:02:42Z", "message": "Fix remaining issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d17d21b7ed4d23e7449699cdcb9a78ae27d3c9d7", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d17d21b7ed4d23e7449699cdcb9a78ae27d3c9d7", "committedDate": "2020-10-07T15:04:31Z", "message": "Merge branch 'MoreTalismans' of https://github.com/svr333/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b722dc2a002b202acfc8f159b645b8804482b421", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b722dc2a002b202acfc8f159b645b8804482b421", "committedDate": "2020-10-07T22:20:35Z", "message": "Update lore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73cbbc3b546bbdb3697a670b60679f530fbd2aa6", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/73cbbc3b546bbdb3697a670b60679f530fbd2aa6", "committedDate": "2020-10-08T13:29:46Z", "message": "Improve recipes of new Talismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82716dd808d6607e698b01d68d058d49509d2f5c", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/82716dd808d6607e698b01d68d058d49509d2f5c", "committedDate": "2020-10-08T13:30:25Z", "message": "Fix resurrected_talisman lore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddd8ccec6b139b2fb05e6112dfa721f09b9aa262", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/ddd8ccec6b139b2fb05e6112dfa721f09b9aa262", "committedDate": "2020-10-08T16:12:34Z", "message": "Imports go brrrrrr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c030c736f495c11ad1a96eebbf6ebc7e8ad7902", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/7c030c736f495c11ad1a96eebbf6ebc7e8ad7902", "committedDate": "2020-10-08T16:21:00Z", "message": "Refactor (still build errors)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "172dfc061095748b04337de6f762b8fae171dcf3", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/172dfc061095748b04337de6f762b8fae171dcf3", "committedDate": "2020-10-08T16:22:23Z", "message": "Merge branch 'master' of https://github.com/Slimefun/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc21ec5752c26f7f13d0d727ddfcf78720306de7", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/dc21ec5752c26f7f13d0d727ddfcf78720306de7", "committedDate": "2020-10-08T16:23:15Z", "message": "Merge branch 'MoreTalismans' of https://github.com/svr333/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdac03e411d4aea35496b8893d351a698ab6d663", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/cdac03e411d4aea35496b8893d351a698ab6d663", "committedDate": "2020-10-08T16:25:57Z", "message": "Update imports-fix.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "488f1c626bacc9fe7d4dfe4f034143f65be03b00", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/488f1c626bacc9fe7d4dfe4f034143f65be03b00", "committedDate": "2020-10-08T16:26:45Z", "message": "Update imports-fix.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfc55038ea683da86c1476eab5685a3a89a3879e", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/cfc55038ea683da86c1476eab5685a3a89a3879e", "committedDate": "2020-10-08T16:29:24Z", "message": "Maybe this?"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bcc00b62f4968c15beebfe174df9a0ba0d7cbad", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/3bcc00b62f4968c15beebfe174df9a0ba0d7cbad", "committedDate": "2020-10-08T16:29:59Z", "message": "Perhaps we just need ticks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b399d0c942673b436cd5a1d879a160cbffb6e419", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b399d0c942673b436cd5a1d879a160cbffb6e419", "committedDate": "2020-10-08T16:30:35Z", "message": "Or maybe the ticks go here..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cfc8aec90866bd06f721f6b7e9a067cffc93bcd", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/1cfc8aec90866bd06f721f6b7e9a067cffc93bcd", "committedDate": "2020-10-08T20:15:30Z", "message": "Refactor (no build errors)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dcf895258ccee6373b5073ad431685b98dc829f", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/9dcf895258ccee6373b5073ad431685b98dc829f", "committedDate": "2020-10-08T20:15:53Z", "message": "Merge branch 'MoreTalismans' of https://github.com/svr333/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b042fbd3a4eb65af898b49225abfa1eba86325ba", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b042fbd3a4eb65af898b49225abfa1eba86325ba", "committedDate": "2020-10-08T20:34:18Z", "message": "Add check for ProtectionManagers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bb974ce96770db9f3381204ac73c95b82b7b195", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/3bb974ce96770db9f3381204ac73c95b82b7b195", "committedDate": "2020-10-08T21:25:07Z", "message": "Delete imports-fix.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64684d86c3bc5a3a11f94e13da3d9a820999d286", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/64684d86c3bc5a3a11f94e13da3d9a820999d286", "committedDate": "2020-10-09T14:49:06Z", "message": "Reduce to local scoop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbf5236bd6e0c46fa4c7eb17a791d3b1880a1499", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/bbf5236bd6e0c46fa4c7eb17a791d3b1880a1499", "committedDate": "2020-10-09T14:49:24Z", "message": "Merge branch 'MoreTalismans' of https://github.com/svr333/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125239f173a5fa35d0d045b52770e899950bf7d6", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/125239f173a5fa35d0d045b52770e899950bf7d6", "committedDate": "2020-10-11T22:19:19Z", "message": "Refactor and rename methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0b5c5a47f992474a87b878246a3ec685f474169", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b0b5c5a47f992474a87b878246a3ec685f474169", "committedDate": "2020-10-11T22:20:39Z", "message": "Simplify to talisman.isItem()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d474de290ebb071f4e0f61e9fc0ca16c7c2a3f4", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/4d474de290ebb071f4e0f61e9fc0ca16c7c2a3f4", "committedDate": "2020-10-11T22:57:11Z", "message": "Merge branch 'master' into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db95cca3fbcc4eb3709ee74c0015522be0e987dd", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/db95cca3fbcc4eb3709ee74c0015522be0e987dd", "committedDate": "2020-10-12T17:59:16Z", "message": "Merge branch 'master' into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a250d6d00993c2e7b64f4a3861c837a440f8aa3", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/6a250d6d00993c2e7b64f4a3861c837a440f8aa3", "committedDate": "2020-10-21T20:28:59Z", "message": "Fix requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03edaa53a34b4de4c49832e4f7d0e39ec24e4ba4", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/03edaa53a34b4de4c49832e4f7d0e39ec24e4ba4", "committedDate": "2020-10-21T20:29:18Z", "message": "Merge branch 'MoreTalismans' of https://github.com/svr333/Slimefun4 into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "192258fb741ed2afe6fb05e533162c2be69cb103", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/192258fb741ed2afe6fb05e533162c2be69cb103", "committedDate": "2020-10-30T21:54:36Z", "message": "Merge branch 'master' into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21d6281ecdb5d99c2f2cabdc38eb646387e5cc0e", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/21d6281ecdb5d99c2f2cabdc38eb646387e5cc0e", "committedDate": "2020-10-30T21:57:27Z", "message": "Some formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bae560bd5d295c5ec9af2546415b2baae928ddd1", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/bae560bd5d295c5ec9af2546415b2baae928ddd1", "committedDate": "2020-10-30T21:58:57Z", "message": "More formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f39ef5b4185ed622287b4c0ba55f70d7194d8d7", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/6f39ef5b4185ed622287b4c0ba55f70d7194d8d7", "committedDate": "2020-10-30T22:01:06Z", "message": "Fixed imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e953eb1c81658b3da172b470607e4ac6e9529366", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/e953eb1c81658b3da172b470607e4ac6e9529366", "committedDate": "2020-10-30T22:03:44Z", "message": "Refactored talisman grabbing method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34719320505ff8137767428064db3c3fc57216da", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/34719320505ff8137767428064db3c3fc57216da", "committedDate": "2020-10-30T22:05:55Z", "message": "Update Talisman.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17e0d0ef1a235aed5eac17eba459487393c54829", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/17e0d0ef1a235aed5eac17eba459487393c54829", "committedDate": "2020-10-30T22:10:07Z", "message": "Update TalismanListener.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db673e0fb11f4031719351cfa1dd9ca240fb40e6", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/db673e0fb11f4031719351cfa1dd9ca240fb40e6", "committedDate": "2020-10-30T22:12:41Z", "message": "Forgotten a bracket :eyes:"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d69cf78331771ef47acdf4a800014d80a94b7251", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/d69cf78331771ef47acdf4a800014d80a94b7251", "committedDate": "2020-11-02T14:12:56Z", "message": "Merge branch 'master' into MoreTalismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5704aee3f0ecc824f1a34fb9f677fee155c2ff0", "author": {"user": {"login": "TheBusyBiscuit", "name": "TheBusyBiscuit"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/a5704aee3f0ecc824f1a34fb9f677fee155c2ff0", "committedDate": "2020-11-08T22:35:40Z", "message": "Merge pull request #2388 from svr333/MoreTalismans\n\nMore talismans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0da074b98389dd631b47d47feff7d661cc17089", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/f0da074b98389dd631b47d47feff7d661cc17089", "committedDate": "2020-12-22T21:26:04Z", "message": "Add missing return statement\nIf we dont add that return statement it can send 2 messages at once"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c3836a3f52af6c263c54e5f415d2a5e1c1ecb8c", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/3c3836a3f52af6c263c54e5f415d2a5e1c1ecb8c", "committedDate": "2020-12-22T21:45:33Z", "message": "Merge branch master from upstream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c32089eeb9a0839b2ae705635a83a88b50bd2e1", "author": {"user": {"login": "svr333", "name": "svr333"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/9c32089eeb9a0839b2ae705635a83a88b50bd2e1", "committedDate": "2020-12-22T21:59:30Z", "message": "Update class description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyODMwMDk1", "url": "https://github.com/Slimefun/Slimefun4/pull/2645#pullrequestreview-562830095", "createdAt": "2021-01-06T16:04:58Z", "commit": {"oid": "9c32089eeb9a0839b2ae705635a83a88b50bd2e1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxNjowNDo1OFrOIPJBaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxNjowNzoyNVrOIPJMDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjc0NzM2OQ==", "bodyText": "I would recommend just changing this. You can use BlockPosition and just store the long.", "url": "https://github.com/Slimefun/Slimefun4/pull/2645#discussion_r552747369", "createdAt": "2021-01-06T16:04:58Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/talismans/ResurrectedTalisman.java", "diffHunk": "@@ -0,0 +1,106 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.magical.talismans;\n+\n+import java.util.UUID;\n+\n+import javax.annotation.Nonnull;\n+import javax.annotation.Nullable;\n+\n+import org.bukkit.Bukkit;\n+import org.bukkit.Location;\n+import org.bukkit.NamespacedKey;\n+import org.bukkit.World;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+import org.bukkit.persistence.PersistentDataContainer;\n+import org.bukkit.potion.PotionEffect;\n+import org.bukkit.potion.PotionEffectType;\n+\n+import com.google.gson.JsonObject;\n+\n+import io.github.thebusybiscuit.cscorelib2.data.PersistentJsonDataType;\n+import io.github.thebusybiscuit.cscorelib2.protection.ProtectableAction;\n+import io.github.thebusybiscuit.slimefun4.core.handlers.ItemUseHandler;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+\n+/**\n+ * This {@link SlimefunItem} is a special variant of the {@Link Talisman}. This specific {@Link Talisman} saves you\n+ * from a death caused by the void and teleports to a safe location.\n+ * This location is determined as follows: Talisman NBT-saved location -> Bed spawn -> World spawn\n+ *\n+ * @author svr333\n+ *\n+ */\n+\n+public class ResurrectedTalisman extends Talisman {\n+\n+    private final NamespacedKey locationKey = new NamespacedKey(SlimefunPlugin.instance(), \"resurrected_location\");\n+\n+    public ResurrectedTalisman(SlimefunItemStack item, ItemStack[] recipe) {\n+        super(item, recipe, true, true, \"resurrected\", new PotionEffect(PotionEffectType.GLOWING, 400, 0), new PotionEffect(PotionEffectType.ABSORPTION, 400, 4), new PotionEffect(PotionEffectType.DAMAGE_RESISTANCE, 200, 20));\n+\n+        addItemHandler(getItemHandler());\n+    }\n+\n+    @Nonnull\n+    public ItemUseHandler getItemHandler() {\n+        return e -> {\n+            Location currentLoc = e.getPlayer().getLocation();\n+            JsonObject json = createJsonFromLocation(currentLoc);\n+            ItemStack item = e.getItem();\n+\n+            if (SlimefunPlugin.getProtectionManager().hasPermission(e.getPlayer(), currentLoc, ProtectableAction.PLACE_BLOCK) && item.hasItemMeta()) {\n+                ItemMeta itemMeta = item.getItemMeta();\n+                \n+                itemMeta.getPersistentDataContainer().set(locationKey, PersistentJsonDataType.JSON_OBJECT, json);\n+                item.setItemMeta(itemMeta);\n+    \n+                SlimefunPlugin.getLocalization().sendMessage(e.getPlayer(), \"messages.talisman.resurrected-location\", true);\n+                return;\n+            }\n+\n+            SlimefunPlugin.getLocalization().sendMessage(e.getPlayer(), \"messages.talisman.resurrected-location-failed\", true);\n+        };\n+    }\n+\n+    @Nullable\n+    public Location getSavedLocation(@Nonnull ItemStack item) {\n+        PersistentDataContainer pdc = item.getItemMeta().getPersistentDataContainer();\n+        JsonObject json = pdc.get(locationKey, PersistentJsonDataType.JSON_OBJECT);\n+\n+        if (json != null) {\n+            return parseLocationFromJsonObject(json);\n+        } else {\n+            return null;\n+        }\n+    }\n+\n+    @Nonnull\n+    private JsonObject createJsonFromLocation(@Nonnull Location loc) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c32089eeb9a0839b2ae705635a83a88b50bd2e1"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjc1MDA5NA==", "bodyText": "Any reason you delay this 2 ticks? This event will keep firing as the player is on half a heart and keeps getting damage from the void.", "url": "https://github.com/Slimefun/Slimefun4/pull/2645#discussion_r552750094", "createdAt": "2021-01-06T16:07:25Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/TalismanListener.java", "diffHunk": "@@ -291,10 +303,47 @@ public void onBlockDropItems(BlockDropItemEvent e) {\n     @EventHandler\n     public void onBlockBreak(BlockBreakEvent e) {\n         if (SlimefunTag.CAVEMAN_TALISMAN_TRIGGERS.isTagged(e.getBlock().getType())) {\n-            Talisman.checkFor(e, SlimefunItems.TALISMAN_CAVEMAN);\n+            Talisman.tryActivate(e, SlimefunItems.TALISMAN_CAVEMAN);\n+        }\n+    }\n+\n+    @EventHandler\n+    public void onExperienceReceive(PlayerExpChangeEvent e) {\n+        if (e.getAmount() > 0 && Talisman.tryActivate(e, SlimefunItems.TALISMAN_WISE)) {\n+            e.setAmount(e.getAmount() * 2);\n+        }\n+    }\n+\n+    @EventHandler\n+    public void onPlayerDeath(PlayerDeathEvent e) {\n+        Player player = e.getEntity();\n+        DamageCause dmgCause = player.getLastDamageCause().getCause();\n+        ItemStack talisman = Talisman.tryActivateAndGet(e, SlimefunItems.TALISMAN_RESURRECTED);\n+\n+        if (dmgCause == DamageCause.VOID && talisman != null) {\n+            // This event is cancelled by the Talisman, so they don't actually die, we just teleport them after 2 ticks.\n+            SlimefunPlugin.runSync(() -> PaperLib.teleportAsync(player, getSafeRespawnLocation(talisman, player)), 2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c32089eeb9a0839b2ae705635a83a88b50bd2e1"}, "originalPosition": 170}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2575, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}