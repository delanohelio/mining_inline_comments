{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MzkzMjIy", "number": 2376, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MDo0MFrOEpjgNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0NjozMFrOEpjnlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDA4NzU5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MDo0MFrOHbSsTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MDo0MFrOHbSsTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3OTg1Mg==", "bodyText": "Please use BlockStorage#hasBlockInfo() instead. Also, formatting (put a space after if)", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498379852", "createdAt": "2020-10-01T16:40:40Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDA5MDE2OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MToyNVrOHbSt-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MToyNVrOHbSt-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MDI4MA==", "bodyText": "Please use BlockStorage#hasBlockInfo() instead. Also, formatting (put a space after if)", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498380280", "createdAt": "2020-10-01T16:41:25Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;\n+                }\n             }\n         }\n     }\n \n     @EventHandler\n     public void onPistonRetract(BlockPistonRetractEvent e) {\n-        if (e.isSticky()) {\n+        if(BlockStorage.check(e.getBlock()) != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDA5NzAyOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MzozMlrOHbSydA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MzozMlrOHbSydA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MTQyOA==", "bodyText": "Please put else { to a new line.", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498381428", "createdAt": "2020-10-01T16:43:32Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDEwMDAxOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0NDoyOVrOHbS0bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNzo0OTowMVrOHbU-Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MTkzMg==", "bodyText": "This is redundant.", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498381932", "createdAt": "2020-10-01T16:44:29Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxMzQzMA==", "bodyText": "I am kind of confused on when, if, and where the \"getBlock()\"/piston (the piston itself) occurs in getBlocks() (what objects the piston might push, possibly including the piston itself). That's why those lines of code were kept in.\nI'm kind of new to Minecraft/Spigot/Paper modding and plugins but I knew Scala beforehand.", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498413430", "createdAt": "2020-10-01T17:42:12Z", "author": {"login": "Chlorophytus"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MTkzMg=="}, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxNTMzMA==", "bodyText": "Only return; is redundant here.", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498415330", "createdAt": "2020-10-01T17:45:31Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MTkzMg=="}, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxNzE2Mg==", "bodyText": "There could be a break; instead.", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498417162", "createdAt": "2020-10-01T17:49:01Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MTkzMg=="}, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDEwNjQ2OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0NjozMFrOHbS4mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNzozNjoyNlrOHbUjWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MzAwMw==", "bodyText": "Put else if to a new line please", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498383003", "createdAt": "2020-10-01T16:46:30Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;\n+                }\n             }\n         }\n     }\n \n     @EventHandler\n     public void onPistonRetract(BlockPistonRetractEvent e) {\n-        if (e.isSticky()) {\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else if (e.isSticky()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwOTc3MQ==", "bodyText": "Change(s) have been performed.", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498409771", "createdAt": "2020-10-01T17:35:23Z", "author": {"login": "Chlorophytus"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;\n+                }\n             }\n         }\n     }\n \n     @EventHandler\n     public void onPistonRetract(BlockPistonRetractEvent e) {\n-        if (e.isSticky()) {\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else if (e.isSticky()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MzAwMw=="}, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxMDMzMA==", "bodyText": "Thank you! You can mark them as resolved by pushing the \"Resolve conversation\" button!", "url": "https://github.com/Slimefun/Slimefun4/pull/2376#discussion_r498410330", "createdAt": "2020-10-01T17:36:26Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockPhysicsListener.java", "diffHunk": "@@ -54,17 +55,23 @@ public void onBlockFall(EntityChangeBlockEvent e) {\n \n     @EventHandler\n     public void onPistonExtend(BlockPistonExtendEvent e) {\n-        for (Block b : e.getBlocks()) {\n-            if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n-                e.setCancelled(true);\n-                return;\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else {\n+            for (Block b : e.getBlocks()) {\n+                if (BlockStorage.hasBlockInfo(b) || (b.getRelative(e.getDirection()).getType() == Material.AIR && BlockStorage.hasBlockInfo(b.getRelative(e.getDirection())))) {\n+                    e.setCancelled(true);\n+                    return;\n+                }\n             }\n         }\n     }\n \n     @EventHandler\n     public void onPistonRetract(BlockPistonRetractEvent e) {\n-        if (e.isSticky()) {\n+        if(BlockStorage.check(e.getBlock()) != null) {\n+            e.setCancelled(true);\n+        } else if (e.isSticky()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MzAwMw=="}, "originalCommit": {"oid": "cbc48584bcc14c6d8cd4d348c5e3f0461a0a0990"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 185, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}