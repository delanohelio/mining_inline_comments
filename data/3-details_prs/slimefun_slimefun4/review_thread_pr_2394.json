{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3ODM3MDQw", "number": 2394, "reviewThreads": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzowOTo1OVrOEqT32w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NTo0N1rOEqa2nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODAxMjQzOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzowOTo1OVrOHccStg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzowOTo1OVrOHccStg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU4NTcxOA==", "bodyText": "This is pretty redundant with the above, there's probably lots of ways to refactor this.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499585718", "createdAt": "2020-10-05T13:09:59Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -63,6 +64,20 @@ public EntityInteractHandler getItemHandler() {\n                     zombieVillager.setConversionPlayer(p);\n                 }\n             }\n+            else if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)\n+                    && entity.getType() == EntityType.ZOMBIFIED_PIGLIN) {\n+                Player p = e.getPlayer();\n+\n+                if (p.getGameMode() != GameMode.CREATIVE) {\n+                    ItemUtils.consumeItem(item, false);\n+                }\n+\n+                Location loc = entity.getLocation();\n+                p.playSound(loc, Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n+\n+                entity.remove();\n+                loc.getWorld().spawnEntity(loc, EntityType.PIGLIN);\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bf7cf60704eee6da3dfaf9ebaae223f305e48f"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODA0MDQ1OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/SlimefunItems.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzoxNjo0OFrOHccjvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMToxMVrOHcdLMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5MDA3OQ==", "bodyText": "I'm not sure about the lore change here. It may break some items in some servers.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499590079", "createdAt": "2020-10-05T13:16:48Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/SlimefunItems.java", "diffHunk": "@@ -63,7 +63,7 @@ private SlimefunItems() {}\n     public static final SlimefunItemStack SPLINT = new SlimefunItemStack(\"SPLINT\", Material.STICK, \"&cSplint\", \"\", \"&aLevel I - Medical Supply\", \"\", \"&fRestores 2 Hearts\", \"\", LoreBuilder.RIGHT_CLICK_TO_USE);\n     public static final SlimefunItemStack VITAMINS = new SlimefunItemStack(\"VITAMINS\", Material.NETHER_WART, \"&cVitamins\", \"\", \"&aLevel III - Medical Supply\", \"\", \"&fRestores 4 Hearts\", \"&fExtinguishes Fire\", \"&fCures Poison/Wither/Radiation\", \"\", LoreBuilder.RIGHT_CLICK_TO_USE);\n     public static final SlimefunItemStack MEDICINE = new SlimefunItemStack(\"MEDICINE\", Material.POTION, Color.RED, \"&cMedicine\", \"\", \"&aLevel III - Medical Supply\", \"\", \"&fRestores 4 Hearts\", \"&fExtinguishes Fire\", \"&fCures Poison/Wither/Radiation\");\n-    public static final SlimefunItemStack MAGICAL_ZOMBIE_PILLS = new SlimefunItemStack(\"MAGICAL_ZOMBIE_PILLS\", Material.NETHER_WART, \"&6Magical Zombie Pills\", \"\", \"&eRight Click &7a Zombified Villager to\", \"&7instantly cure it from its curse\");\n+    public static final SlimefunItemStack MAGICAL_ZOMBIE_PILLS = new SlimefunItemStack(\"MAGICAL_ZOMBIE_PILLS\", Material.NETHER_WART, \"&6Magical Zombie Pills\", \"\", \"&eRight Click &7a Zombified Villager\", \"&eor &7a Zombified Piglin to\", \"&7instantly cure it from its curse\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bf7cf60704eee6da3dfaf9ebaae223f305e48f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5ODc1MA==", "bodyText": "Other than simply not stacking with older items this should be fine.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499598750", "createdAt": "2020-10-05T13:29:17Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/SlimefunItems.java", "diffHunk": "@@ -63,7 +63,7 @@ private SlimefunItems() {}\n     public static final SlimefunItemStack SPLINT = new SlimefunItemStack(\"SPLINT\", Material.STICK, \"&cSplint\", \"\", \"&aLevel I - Medical Supply\", \"\", \"&fRestores 2 Hearts\", \"\", LoreBuilder.RIGHT_CLICK_TO_USE);\n     public static final SlimefunItemStack VITAMINS = new SlimefunItemStack(\"VITAMINS\", Material.NETHER_WART, \"&cVitamins\", \"\", \"&aLevel III - Medical Supply\", \"\", \"&fRestores 4 Hearts\", \"&fExtinguishes Fire\", \"&fCures Poison/Wither/Radiation\", \"\", LoreBuilder.RIGHT_CLICK_TO_USE);\n     public static final SlimefunItemStack MEDICINE = new SlimefunItemStack(\"MEDICINE\", Material.POTION, Color.RED, \"&cMedicine\", \"\", \"&aLevel III - Medical Supply\", \"\", \"&fRestores 4 Hearts\", \"&fExtinguishes Fire\", \"&fCures Poison/Wither/Radiation\");\n-    public static final SlimefunItemStack MAGICAL_ZOMBIE_PILLS = new SlimefunItemStack(\"MAGICAL_ZOMBIE_PILLS\", Material.NETHER_WART, \"&6Magical Zombie Pills\", \"\", \"&eRight Click &7a Zombified Villager to\", \"&7instantly cure it from its curse\");\n+    public static final SlimefunItemStack MAGICAL_ZOMBIE_PILLS = new SlimefunItemStack(\"MAGICAL_ZOMBIE_PILLS\", Material.NETHER_WART, \"&6Magical Zombie Pills\", \"\", \"&eRight Click &7a Zombified Villager\", \"&eor &7a Zombified Piglin to\", \"&7instantly cure it from its curse\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5MDA3OQ=="}, "originalCommit": {"oid": "21bf7cf60704eee6da3dfaf9ebaae223f305e48f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwMDE3Nw==", "bodyText": "True, but if you dont put it in the lore, not many people will know about it\nBusys message didnt show when I posted this", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499600177", "createdAt": "2020-10-05T13:31:11Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/SlimefunItems.java", "diffHunk": "@@ -63,7 +63,7 @@ private SlimefunItems() {}\n     public static final SlimefunItemStack SPLINT = new SlimefunItemStack(\"SPLINT\", Material.STICK, \"&cSplint\", \"\", \"&aLevel I - Medical Supply\", \"\", \"&fRestores 2 Hearts\", \"\", LoreBuilder.RIGHT_CLICK_TO_USE);\n     public static final SlimefunItemStack VITAMINS = new SlimefunItemStack(\"VITAMINS\", Material.NETHER_WART, \"&cVitamins\", \"\", \"&aLevel III - Medical Supply\", \"\", \"&fRestores 4 Hearts\", \"&fExtinguishes Fire\", \"&fCures Poison/Wither/Radiation\", \"\", LoreBuilder.RIGHT_CLICK_TO_USE);\n     public static final SlimefunItemStack MEDICINE = new SlimefunItemStack(\"MEDICINE\", Material.POTION, Color.RED, \"&cMedicine\", \"\", \"&aLevel III - Medical Supply\", \"\", \"&fRestores 4 Hearts\", \"&fExtinguishes Fire\", \"&fCures Poison/Wither/Radiation\");\n-    public static final SlimefunItemStack MAGICAL_ZOMBIE_PILLS = new SlimefunItemStack(\"MAGICAL_ZOMBIE_PILLS\", Material.NETHER_WART, \"&6Magical Zombie Pills\", \"\", \"&eRight Click &7a Zombified Villager to\", \"&7instantly cure it from its curse\");\n+    public static final SlimefunItemStack MAGICAL_ZOMBIE_PILLS = new SlimefunItemStack(\"MAGICAL_ZOMBIE_PILLS\", Material.NETHER_WART, \"&6Magical Zombie Pills\", \"\", \"&eRight Click &7a Zombified Villager\", \"&eor &7a Zombified Piglin to\", \"&7instantly cure it from its curse\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5MDA3OQ=="}, "originalCommit": {"oid": "21bf7cf60704eee6da3dfaf9ebaae223f305e48f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODA1NjE5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzoyMDowOVrOHcctBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzoyMDowOVrOHcctBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5MjQ1Mw==", "bodyText": "This part is now a duplicate of the code above. Instead move this to a private method and call it. For both entity types. I am not sure if this is still possible. Though it's worth a try.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499592453", "createdAt": "2020-10-05T13:20:09Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -63,6 +64,20 @@ public EntityInteractHandler getItemHandler() {\n                     zombieVillager.setConversionPlayer(p);\n                 }\n             }\n+            else if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16)\n+                    && entity.getType() == EntityType.ZOMBIFIED_PIGLIN) {\n+                Player p = e.getPlayer();\n+\n+                if (p.getGameMode() != GameMode.CREATIVE) {\n+                    ItemUtils.consumeItem(item, false);\n+                }\n+\n+                Location loc = entity.getLocation();\n+                p.playSound(loc, Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n+\n+                entity.remove();\n+                loc.getWorld().spawnEntity(loc, EntityType.PIGLIN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bf7cf60704eee6da3dfaf9ebaae223f305e48f"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODEwMzc5OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMDo1MVrOHcdKXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMDo1MVrOHcdKXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5OTk2Ng==", "bodyText": "@Nonnull \ud83d\udc40", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499599966", "createdAt": "2020-10-05T13:30:51Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +76,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(ZombieVillager zombieVillager, Player p) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab5251021ad654f49f570a024172e2c6c129c7ad"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODEwNDEzOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMDo1NVrOHcdKkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMDo1NVrOHcdKkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwMDAxOQ==", "bodyText": "@Nonnull \ud83d\udc40", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499600019", "createdAt": "2020-10-05T13:30:55Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +76,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(ZombieVillager zombieVillager, Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(Entity zombiePiglin) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab5251021ad654f49f570a024172e2c6c129c7ad"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODEwNjc2OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMTozNlrOHcdMMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozMTozNlrOHcdMMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwMDQzMw==", "bodyText": "Also, while this should not cause any probems as it is, it could be a better practice to do an instanceof check here instead because you are doing a class cast, just in case.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499600433", "createdAt": "2020-10-05T13:31:36Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +57,12 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n+                if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n \n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                else if (entity.getType() == EntityType.ZOMBIFIED_PIGLIN) {\n+                    healZombifiedPiglin(entity);\n                 }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab5251021ad654f49f570a024172e2c6c129c7ad"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODE0MTI0OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzozOTo1MVrOHcdiNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzo0MDoyMVrOHcdjkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwNjA2OQ==", "bodyText": "No star imports!", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499606069", "createdAt": "2020-10-05T13:39:51Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -3,11 +3,7 @@\n import org.bukkit.GameMode;\n import org.bukkit.Location;\n import org.bukkit.Sound;\n-import org.bukkit.entity.Entity;\n-import org.bukkit.entity.EntityType;\n-import org.bukkit.entity.Player;\n-import org.bukkit.entity.Villager;\n-import org.bukkit.entity.ZombieVillager;\n+import org.bukkit.entity.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d3f432158cb58d620b4f607231341e1090150fa"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwNjQxNw==", "bodyText": "Yeah my ide did that automatically, already fixed", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499606417", "createdAt": "2020-10-05T13:40:21Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -3,11 +3,7 @@\n import org.bukkit.GameMode;\n import org.bukkit.Location;\n import org.bukkit.Sound;\n-import org.bukkit.entity.Entity;\n-import org.bukkit.entity.EntityType;\n-import org.bukkit.entity.Player;\n-import org.bukkit.entity.Villager;\n-import org.bukkit.entity.ZombieVillager;\n+import org.bukkit.entity.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwNjA2OQ=="}, "originalCommit": {"oid": "8d3f432158cb58d620b4f607231341e1090150fa"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODE2NDUxOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzo0NToxNlrOHcdwtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMzo1MzowMVrOHceG1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwOTc4MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private void healZombifiedPiglin(@Nonnull Entity zombiePiglin) {\n          \n          \n            \n                private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499609781", "createdAt": "2020-10-05T13:45:16Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +79,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull Entity zombiePiglin) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8c2c97766abc475e12ea9aa8fc7b010acdffcec"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYxMTg5MA==", "bodyText": "Casting here isnt necessary, it saves a few milliseconds so I dont think it matters\nIn the current context, were 100% sure its a PigZombie, but we dont have to cast it since we can use the generic Entity methods\nThough if this is preferred, Ill change it", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499611890", "createdAt": "2020-10-05T13:48:16Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +79,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull Entity zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwOTc4MQ=="}, "originalCommit": {"oid": "b8c2c97766abc475e12ea9aa8fc7b010acdffcec"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYxNDEwNw==", "bodyText": "I agree with Linox, changing the parameter type restricts the type of argument this can accept.\nSo this is definitely a desired change in terms of maintainability.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499614107", "createdAt": "2020-10-05T13:51:13Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +79,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull Entity zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwOTc4MQ=="}, "originalCommit": {"oid": "b8c2c97766abc475e12ea9aa8fc7b010acdffcec"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYxNTQ0NA==", "bodyText": "Casting here isnt necessary, it saves a few milliseconds so I dont think it matters\nIn the current context, were 100% sure its a PigZombie, but we dont have to cast it since we can use the generic Entity methods\nThough if this is preferred, Ill change it\n\nYou are already checking instanceof bef\u0131re this is called. That doesn't change a thing.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499615444", "createdAt": "2020-10-05T13:53:01Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +79,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull Entity zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYwOTc4MQ=="}, "originalCommit": {"oid": "b8c2c97766abc475e12ea9aa8fc7b010acdffcec"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODcxNTE4OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNTo0NToxMVrOHcjE0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNTo0NToxMVrOHcjE0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY5Njg1MA==", "bodyText": "Can you please remove this empty line here?", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499696850", "createdAt": "2020-10-05T15:45:11Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +60,12 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a19f767872159d6cb963230c81da0bfa403e89c"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODk4Mzc2OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNjo1NDo0OVrOHclt1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzozMDowNlrOHcm6UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ==", "bodyText": "Wait a second, I only just realized that you removed the 1.16 version check? O_O", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499740119", "createdAt": "2020-10-05T16:54:49Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0NTIzNg==", "bodyText": "entity.getType will never be equal to a ZombiePiglin, because they dont exist in other versions", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499745236", "createdAt": "2020-10-05T17:03:51Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0NTM1Ng==", "bodyText": "I could add it back though, if thats preferred", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499745356", "createdAt": "2020-10-05T17:04:04Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODE4Mw==", "bodyText": "entity.getType will never be equal to a ZombiePiglin, because they dont exist in other versions\n\nYes and cause an exception. That is why the version check is needed.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499748183", "createdAt": "2020-10-05T17:09:26Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0OTQyMw==", "bodyText": "I dont actually think it will create an exception?  (im probably wrong here)\nBut sure Ill add the check", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499749423", "createdAt": "2020-10-05T17:11:50Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1MTkxNw==", "bodyText": "I dont actually think it will create an exception?  (im probably wrong here)\nBut sure Ill add the check\n\nOf course it will. The server will try to access an EntityType that doesn't exist and boom. Exception.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499751917", "createdAt": "2020-10-05T17:16:11Z", "author": {"login": "LinoxGH"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTY5Ng==", "bodyText": "Oh I was assuming that it still uses the latest version of the api, and that it would just throw if anything out of that version was accessed. Good to know this!", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499759696", "createdAt": "2020-10-05T17:30:06Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -74,4 +78,19 @@ public EntityInteractHandler getItemHandler() {\n     public ItemUseHandler onRightClick() {\n         return PlayerRightClickEvent::cancel;\n     }\n-}\n\\ No newline at end of file\n+\n+    private void healZombieVillager(@Nonnull ZombieVillager zombieVillager, @Nonnull Player p) {\n+        zombieVillager.setConversionTime(1);\n+\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n+            zombieVillager.setConversionPlayer(p);\n+        }\n+    }\n+\n+    private void healZombifiedPiglin(@Nonnull PigZombie zombiePiglin) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MDExOQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODk5OTM4OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNjo1OTowN1rOHcl3gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzozNDozNVrOHcnDkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MjU5NQ==", "bodyText": "This else if is redundant, it could be simply an else.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499742595", "createdAt": "2020-10-05T16:59:07Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +60,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else if (entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0OTE3NQ==", "bodyText": "Im aware that it is, but if there will ever be more recipes added, theyd have to create the else if statement back", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499749175", "createdAt": "2020-10-05T17:11:23Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +60,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else if (entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MjU5NQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1NjAxMg==", "bodyText": "It will be their problem. Currently, this else if is redundant since we are working with only two cases (ZombieVillager and PigZombie), and the first one is already handled by an if check, for the second one it could simply be an else.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499756012", "createdAt": "2020-10-05T17:23:27Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +60,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else if (entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MjU5NQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2MDU4MQ==", "bodyText": "I agree with @svr333 here, this else if clearly indicates what exact case this is for.\nAn else could lead to unwanted side effects if we ever add more entity types.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499760581", "createdAt": "2020-10-05T17:31:52Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +60,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else if (entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MjU5NQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2MjA2NQ==", "bodyText": "Fair enough.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499762065", "createdAt": "2020-10-05T17:34:35Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +60,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else if (entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0MjU5NQ=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyOTAzNDMwOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzowOTozNFrOHcmNkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzozMzo0NlrOHcnB1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw==", "bodyText": "Also, why are we using PigZombie instead of Piglin? Then the version check should be a bit different.\nIs a zombified piglin entity really an instance of PigZombie?", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499748243", "createdAt": "2020-10-05T17:09:34Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODg1Mg==", "bodyText": "Because we want to turn a PigZombie into a Piglin, not vice versa", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499748852", "createdAt": "2020-10-05T17:10:45Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0OTQ3OA==", "bodyText": "But in 1.16 there is no PigZombie. Or am I wrong?", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499749478", "createdAt": "2020-10-05T17:11:55Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1MDAyMQ==", "bodyText": "We are looking for zombified piglins, right? Is a zombified piglin entity really an instance of PigZombie?", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499750021", "createdAt": "2020-10-05T17:12:53Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTkzOQ==", "bodyText": "Zombie pigmen were renamed to Zombified Piglins, theyre the same\nAlso I compiled locally and tested and it worked fine", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499759939", "createdAt": "2020-10-05T17:30:35Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2MDgzMQ==", "bodyText": "I believe you. Did you test this ingame?", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499760831", "createdAt": "2020-10-05T17:32:18Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2MTAxMw==", "bodyText": "Yep, Spigot still calls the Zombified Pigling PigZombie internally. That's the corrret class", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499761013", "createdAt": "2020-10-05T17:32:43Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2MTYyMQ==", "bodyText": "Okay then", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499761621", "createdAt": "2020-10-05T17:33:46Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,7 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (entity instanceof ZombieVillager || entity instanceof PigZombie) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODI0Mw=="}, "originalCommit": {"oid": "fe50d962700c5093a9534d2a6fac092e150f1e2f"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyOTE0Nzg2OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0MzowOFrOHcnUqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0MzowOFrOHcnUqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NjQ0MQ==", "bodyText": "Not a fan of this line here, it's really messy and redundant with the two if statements below.\nI'll suggest an alternative below", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499766441", "createdAt": "2020-10-05T17:43:08Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,8 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16) && entity instanceof PigZombie\n+                    || entity instanceof ZombieVillager) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868a7e566b0be9358354343e32638b1ccb7337ee"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyOTE1MjYxOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NDo0M1rOHcnX3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NzoyNlrOHcndrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NzI2MQ==", "bodyText": "Please change this back to an else if as stated here D:", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499767261", "createdAt": "2020-10-05T17:44:43Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +61,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868a7e566b0be9358354343e32638b1ccb7337ee"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2ODc1MQ==", "bodyText": "More specifically: #2394 (comment)", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499768751", "createdAt": "2020-10-05T17:47:26Z", "author": {"login": "poma123"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +61,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NzI2MQ=="}, "originalCommit": {"oid": "868a7e566b0be9358354343e32638b1ccb7337ee"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyOTE1NDMxOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NToxM1rOHcnY6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NToxM1rOHcnY6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NzUyOQ==", "bodyText": "What if you put Line 56-62 into a seperate method like useItem or whatever and then just call this method before the specific heal method, this way we save redundancy even further because we no longer need two different if statements for the same check.", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499767529", "createdAt": "2020-10-05T17:45:13Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -47,7 +51,8 @@ public EntityInteractHandler getItemHandler() {\n         return (e, item, offhand) -> {\n             Entity entity = e.getRightClicked();\n \n-            if (entity.getType() == EntityType.ZOMBIE_VILLAGER) {\n+            if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16) && entity instanceof PigZombie\n+                    || entity instanceof ZombieVillager) {\n                 Player p = e.getPlayer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868a7e566b0be9358354343e32638b1ccb7337ee"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyOTE1NjEzOnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NTo0N1rOHcnaCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo1MTo1MFrOHcnmqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NzgxNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            else {\n          \n          \n            \n                            else if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_16) && entity instanceof PigZombie) {", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499767817", "createdAt": "2020-10-05T17:45:47Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +61,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868a7e566b0be9358354343e32638b1ccb7337ee"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc3MTA0OA==", "bodyText": "I did the minecraft version check above it, is that not good?\ndidnt see the first messages", "url": "https://github.com/Slimefun/Slimefun4/pull/2394#discussion_r499771048", "createdAt": "2020-10-05T17:51:50Z", "author": {"login": "svr333"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/MagicalZombiePills.java", "diffHunk": "@@ -56,11 +61,11 @@ public EntityInteractHandler getItemHandler() {\n \n                 p.playSound(p.getLocation(), Sound.ENTITY_ZOMBIE_VILLAGER_CONVERTED, 1, 1);\n \n-                ZombieVillager zombieVillager = (ZombieVillager) entity;\n-                zombieVillager.setConversionTime(1);\n-\n-                if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_15)) {\n-                    zombieVillager.setConversionPlayer(p);\n+                if (entity instanceof ZombieVillager) {\n+                    healZombieVillager((ZombieVillager) entity, p);\n+                }\n+                else {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NzgxNw=="}, "originalCommit": {"oid": "868a7e566b0be9358354343e32638b1ccb7337ee"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 228, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}