{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1Nzg1MDEw", "number": 1898, "title": "Backpack command", "bodyText": "Description\nAdded a command that allows for backpack retrieval in the event they are lost. The command accepts a name and id, if those match up it spawns a Medium Backpack with the correct lore set in the sender's inventory - if not it sends them a message about which of the two isn't found.\nChanges\nAdded a new SubCommand class, edited messages-en.yml to include 2 new error messages and and the command description, edited plugin.yml to add the command\nRelated Issues\nN/A\nChecklist\n\n[ V ] I have fully tested the proposed changes and promise that they will not break everything into chaos.\n[ = ] I have also tested the proposed changes in combination with various popular addons and can confirm my changes do not break them.\nOnly ExtraTools and TranscEndence were loaded with it, it does not mess with anything Addon related though.\n[ X ] I followed the existing code standards and didn't mess up the formatting.\nUnder Walshy's pressure (so blame him) I rewrote the SubCommand to have if/return checks instead of the nested ifs other SubCommands follow.\n[ X ] I did my best to add documentation to any public classes or methods I added.\nNot sure what \"proper\" documentation would imply for this class so I assume not.", "createdAt": "2020-05-10T21:39:00Z", "url": "https://github.com/Slimefun/Slimefun4/pull/1898", "merged": true, "mergeCommit": {"oid": "05e36bf839565000e14f758e6eb0155af3d227bd"}, "closed": true, "closedAt": "2020-05-11T22:08:43Z", "author": {"login": "Sfiguz7"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgB8C8gH2gAyNDE1Nzg1MDEwOmZjZjI4ZmRmN2Y2NjIzNzk5NDZiN2UwZTM1MTFiNmQxZTc1MGY5ZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgWNfFAFqTQwOTUyOTU2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fcf28fdf7f662379946b7e0e3511b6d1e750f9d7", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/fcf28fdf7f662379946b7e0e3511b6d1e750f9d7", "committedDate": "2020-05-10T21:27:09Z", "message": "Added a command to retrieve lost backpacks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/0fc0a0be29b22d98129afbea4fe9a94b54f423ee", "committedDate": "2020-05-10T21:28:30Z", "message": "I said, added a command!"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Nzg1MTc4", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-408785178", "createdAt": "2020-05-10T21:53:27Z", "commit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMTo1MzoyN1rOGTH5pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMTo1ODo0M1rOGTH8Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwNTU3Mw==", "bodyText": "This is a little redundant. Bukkit.getOfflinePlayer(...) will return an online player if possible anyway, so potentially calling this twice makes little sense, can pretty much just call Bukkit.getOfflinePlayer(...) right away", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422705573", "createdAt": "2020-05-10T21:53:27Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerBackpack;\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.ChatColor;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+\n+import java.util.List;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true, msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <Number>\"));\n+            return;\n+        }\n+\n+        Player p = (Player) sender;\n+        String ownerName = args[1];\n+        int id = Integer.parseInt(args[2]);\n+        OfflinePlayer owner = Bukkit.getPlayer(ownerName);\n+\n+        if (owner == null) {\n+            owner = Bukkit.getOfflinePlayer(ownerName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwNTg3OA==", "bodyText": "Also make sure to add the new permission and command to the wiki", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422705878", "createdAt": "2020-05-10T21:56:37Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/resources/plugin.yml", "diffHunk": "@@ -37,6 +37,9 @@ permissions:\n   slimefun.command.versions:\n     description: Allows you to do /sf versions\n     default: op\n+  slimefun.command.backpack:\n+    description: Allows you to do /sf backpack\n+    default: op", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwNTg5OA==", "bodyText": "Please add a space after the comma", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422705898", "createdAt": "2020-05-10T21:56:52Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/Commands.java", "diffHunk": "@@ -25,5 +25,6 @@ public static void addCommands(SlimefunCommand cmd, Collection<SubCommand> comma\n         commands.add(new OpenGuideCommand(plugin, cmd));\n         commands.add(new SearchCommand(plugin, cmd));\n         commands.add(new DebugFishCommand(plugin, cmd));\n+        commands.add(new BackpackCommand(plugin,cmd));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwNTk1Ng==", "bodyText": "Pretty sure you can just use BackpackListener#setBackpackId(...) or so here, might have to look into that", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422705956", "createdAt": "2020-05-10T21:57:34Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerBackpack;\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.ChatColor;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+\n+import java.util.List;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true, msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <Number>\"));\n+            return;\n+        }\n+\n+        Player p = (Player) sender;\n+        String ownerName = args[1];\n+        int id = Integer.parseInt(args[2]);\n+        OfflinePlayer owner = Bukkit.getPlayer(ownerName);\n+\n+        if (owner == null) {\n+            owner = Bukkit.getOfflinePlayer(ownerName);\n+            if (!owner.hasPlayedBefore()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.player-never-joined\");\n+                return;\n+            }\n+        }\n+\n+        PlayerProfile.get(owner, profile -> {\n+            if (!profile.getBackpack(id).isPresent()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.backpack-does-not-exist\");\n+                return;\n+            }\n+            PlayerBackpack bp = profile.getBackpack(id).get();\n+            //No point switching for size, would still miss soulbound\n+            ItemStack item = SlimefunItems.BACKPACK_MEDIUM;\n+            ItemMeta meta = item.getItemMeta();\n+            List lore = meta.getLore();\n+            lore.set(2, ChatColor.GRAY + \"ID: \" + profile.getUUID().toString() + \"#\" + id);\n+            meta.setLore(lore);\n+            item.setItemMeta(meta);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwNjE5NQ==", "bodyText": "Should probably also send a message like \"Heres your backpack\" or so", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422706195", "createdAt": "2020-05-10T21:58:43Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerBackpack;\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.ChatColor;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+\n+import java.util.List;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true, msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <Number>\"));\n+            return;\n+        }\n+\n+        Player p = (Player) sender;\n+        String ownerName = args[1];\n+        int id = Integer.parseInt(args[2]);\n+        OfflinePlayer owner = Bukkit.getPlayer(ownerName);\n+\n+        if (owner == null) {\n+            owner = Bukkit.getOfflinePlayer(ownerName);\n+            if (!owner.hasPlayedBefore()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.player-never-joined\");\n+                return;\n+            }\n+        }\n+\n+        PlayerProfile.get(owner, profile -> {\n+            if (!profile.getBackpack(id).isPresent()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.backpack-does-not-exist\");\n+                return;\n+            }\n+            PlayerBackpack bp = profile.getBackpack(id).get();\n+            //No point switching for size, would still miss soulbound\n+            ItemStack item = SlimefunItems.BACKPACK_MEDIUM;\n+            ItemMeta meta = item.getItemMeta();\n+            List lore = meta.getLore();\n+            lore.set(2, ChatColor.GRAY + \"ID: \" + profile.getUUID().toString() + \"#\" + id);\n+            meta.setLore(lore);\n+            item.setItemMeta(meta);\n+            Slimefun.runSync(() -> p.getInventory().addItem(item));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fc0a0be29b22d98129afbea4fe9a94b54f423ee"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e021fb9ce35eb7ede4cf3ebf65991e9c24af3813", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/e021fb9ce35eb7ede4cf3ebf65991e9c24af3813", "committedDate": "2020-05-10T23:25:59Z", "message": "Tweaked, requested changes added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cedd749edb4a740bba18a5bdd549c1b6a45fead7", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/cedd749edb4a740bba18a5bdd549c1b6a45fead7", "committedDate": "2020-05-10T23:46:12Z", "message": "Split a line for readability"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Nzk0MDU1", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-408794055", "createdAt": "2020-05-10T23:44:12Z", "commit": {"oid": "e021fb9ce35eb7ede4cf3ebf65991e9c24af3813"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMzo0NDoxMlrOGTIq5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMzo0NzoyNVrOGTIsYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcxODE4Mw==", "bodyText": "Variable is only ever used once, no point in it", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422718183", "createdAt": "2020-05-10T23:44:12Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.utils.PatternUtils;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true, msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <ID>\"));\n+            return;\n+        }\n+\n+        final Player p = (Player) sender;\n+        final String ownerName = args[1];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e021fb9ce35eb7ede4cf3ebf65991e9c24af3813"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcxODI0NQ==", "bodyText": "Looks very long, I assume this is over column limit?", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422718245", "createdAt": "2020-05-10T23:44:40Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.utils.PatternUtils;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true, msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <ID>\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e021fb9ce35eb7ede4cf3ebf65991e9c24af3813"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcxODI5NA==", "bodyText": "Redundant brackets around hasPermission statement", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422718294", "createdAt": "2020-05-10T23:45:04Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.utils.PatternUtils;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e021fb9ce35eb7ede4cf3ebf65991e9c24af3813"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcxODQ0OQ==", "bodyText": "Make this a SlimefunItemStack", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422718449", "createdAt": "2020-05-10T23:46:14Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/me/mrCookieSlime/Slimefun/Lists/SlimefunItems.java", "diffHunk": "@@ -72,6 +72,8 @@ private SlimefunItems() {}\n     public static final ItemStack RADIANT_BACKPACK = new SlimefunItemStack(\"RADIANT_BACKPACK\", \"40cb1e67b512ab2d4bf3d7ace0eaaf61c32cd4681ddc3987ceb326706a33fa\", \"&eRadiant Backpack\", \"\", \"&7Size: &e54 (Double chest)\", \"&7ID: <ID>\", \"\", \"&7&eRight Click&7 to open\");\n     public static final SlimefunItemStack BOUND_BACKPACK = new SlimefunItemStack(\"BOUND_BACKPACK\", \"2a3b34862b9afb63cf8d5779966d3fba70af82b04e83f3eaf6449aeba\", \"&cSoulbound Backpack\", \"\", \"&7Size: &e36\", \"&7ID: <ID>\", \"\", \"&7&eRight Click&7 to open\");\n     public static final SlimefunItemStack COOLER = new SlimefunItemStack(\"COOLER\", \"d4c1572584eb5de229de9f5a4f779d0aacbaffd33bcb33eb4536a6a2bc6a1\", \"&bCooler\", \"&rAllows you to store Juices/Smoothies\", \"&rand automatically consumes them when you are hungry\", \"&rand you have this in your Inventory\", \"\", \"&7Size: &e27\", \"&7ID: <ID>\", \"\", \"&7&eRight Click&7 to open\");\n+    public static final ItemStack RESTORED_BACKPACK = new SlimefunItemStack(\"RESTORED_BACKPACK\", \"40cb1e67b512ab2d4bf3d7ace0eaaf61c32cd4681ddc3987ceb326706a33fa\", \"&eRestored Backpack\", \"\", \"&7Retrieve your lost items\", \"\", \"&7&eRight Click&7 to open\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e021fb9ce35eb7ede4cf3ebf65991e9c24af3813"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcxODU2Mg==", "bodyText": "Never set the backpack ID or anything...", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r422718562", "createdAt": "2020-05-10T23:47:25Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.utils.PatternUtils;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !(sender.hasPermission(\"slimefun.command.backpack\"))) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true,\n+                    msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <ID>\"));\n+            return;\n+        }\n+\n+        final Player p = (Player) sender;\n+        final String ownerName = args[1];\n+        if (!PatternUtils.NUMERIC.matcher(args[2]).matches()){\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.invalid-id\");\n+            return;\n+        }\n+        final int id = Integer.parseInt(args[2]);\n+        final OfflinePlayer owner = Bukkit.getOfflinePlayer(ownerName);\n+        if (!owner.hasPlayedBefore()) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.player-never-joined\");\n+            return;\n+        }\n+\n+        PlayerProfile.get(owner, profile -> {\n+            if (!profile.getBackpack(id).isPresent()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.backpack-does-not-exist\");\n+                return;\n+            }\n+            Slimefun.runSync(() -> {\n+                p.getInventory().addItem(SlimefunItems.RESTORED_BACKPACK);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cedd749edb4a740bba18a5bdd549c1b6a45fead7"}, "originalPosition": 62}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21f21ed67160ea4ee3a81f8e08f67a1ef0f0d610", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/21f21ed67160ea4ee3a81f8e08f67a1ef0f0d610", "committedDate": "2020-05-11T00:18:06Z", "message": "Last fixes(?)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb8efb2d55b9cb9033a927495c6fa0cd38c12b3e", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/cb8efb2d55b9cb9033a927495c6fa0cd38c12b3e", "committedDate": "2020-05-11T07:19:25Z", "message": "Revert \"Last fixes(?)\"\n\nThis reverts commit 21f21ed67160ea4ee3a81f8e08f67a1ef0f0d610."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6", "committedDate": "2020-05-11T07:24:01Z", "message": "Redone fixes without formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcb2add2a67e94cf9eff324cf547436b11f965ab", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/bcb2add2a67e94cf9eff324cf547436b11f965ab", "committedDate": "2020-05-11T13:19:50Z", "message": "Integrity! HiddenBackpack now accepts size, restored bp has 54"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MTYxNjk5", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-409161699", "createdAt": "2020-05-11T13:17:56Z", "commit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzoxNzo1NlrOGTbzhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzoyMDoyOVrOGTb6EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzMTY4Nw==", "bodyText": "Pretty sure you can do BackpackListener#setBackpackId(...) her... wait a second didn't I already say that?", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423031687", "createdAt": "2020-05-11T13:17:56Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.utils.PatternUtils;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.ChatColor;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+\n+import java.util.List;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !sender.hasPermission(\"slimefun.command.backpack\")) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true,\n+                    msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <ID>\"));\n+            return;\n+        }\n+\n+        final Player p = (Player) sender;\n+        if (!PatternUtils.NUMERIC.matcher(args[2]).matches()) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.invalid-id\");\n+            return;\n+        }\n+        final int id = Integer.parseInt(args[2]);\n+        final OfflinePlayer owner = Bukkit.getOfflinePlayer(args[1]);\n+        if (!owner.hasPlayedBefore()) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.player-never-joined\");\n+            return;\n+        }\n+\n+        PlayerProfile.get(owner, profile -> {\n+            if (!profile.getBackpack(id).isPresent()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"guide.backpack.backpack-does-not-exist\");\n+                return;\n+            }\n+            Slimefun.runSync(() -> {\n+                ItemStack item = SlimefunItems.RESTORED_BACKPACK;\n+                ItemMeta meta = item.getItemMeta();\n+                List lore = meta.getLore();\n+                lore.set(2, ChatColor.GRAY + \"ID: \" + profile.getUUID().toString() + \"#\" + id);\n+                meta.setLore(lore);\n+                item.setItemMeta(meta);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzMjA5Mw==", "bodyText": "Should maybe rather be called \"RestoredBackpack\". Also please add adequate javadocs here.", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423032093", "createdAt": "2020-05-11T13:18:35Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/HiddenBackpack.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package io.github.thebusybiscuit.slimefun4.implementation.items.tools;\n+\n+import me.mrCookieSlime.Slimefun.Lists.RecipeType;\n+import me.mrCookieSlime.Slimefun.Objects.Category;\n+import me.mrCookieSlime.Slimefun.api.SlimefunItemStack;\n+import org.bukkit.inventory.ItemStack;\n+\n+public class HiddenBackpack extends SlimefunBackpack {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzMjYxNQ==", "bodyText": "Why exactly is this in the \"guide\" section? Doesn't seem to have anything to do with the Slimefun guide to me.\nShould probably rather be in the \"commands\" section.", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423032615", "createdAt": "2020-05-11T13:19:21Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/resources/languages/messages_en.yml", "diffHunk": "@@ -42,6 +43,12 @@ guide:\n \n   cheat:\n     no-multiblocks: '&4You cannot cheat in Multiblocks, you have to build them!'\n+\n+  backpack:\n+    invalid-id: '&4The id must be a non-negative integer!'\n+    player-never-joined: '&4No player with that name has ever joined the server!'\n+    backpack-does-not-exist: '&4That backpack does not exist!'\n+    restored-backpack-given: 'Backpack restored successfully! Added to your inventory!'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzMzIxOQ==", "bodyText": "Rather use the word \"number\", \"integer\" does not appear to be so user-friendly. Also maybe call it \"backpack id\" rather than just \"id\"", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423033219", "createdAt": "2020-05-11T13:20:16Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/resources/languages/messages_en.yml", "diffHunk": "@@ -42,6 +43,12 @@ guide:\n \n   cheat:\n     no-multiblocks: '&4You cannot cheat in Multiblocks, you have to build them!'\n+\n+  backpack:\n+    invalid-id: '&4The id must be a non-negative integer!'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzMzM2MA==", "bodyText": "Maybe some color? \ud83d\udc40", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423033360", "createdAt": "2020-05-11T13:20:29Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/resources/languages/messages_en.yml", "diffHunk": "@@ -42,6 +43,12 @@ guide:\n \n   cheat:\n     no-multiblocks: '&4You cannot cheat in Multiblocks, you have to build them!'\n+\n+  backpack:\n+    invalid-id: '&4The id must be a non-negative integer!'\n+    player-never-joined: '&4No player with that name has ever joined the server!'\n+    backpack-does-not-exist: '&4That backpack does not exist!'\n+    restored-backpack-given: 'Backpack restored successfully! Added to your inventory!'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da25ac9f80e0cedbd7381bba9e21a9e684fdb6e6"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23fdd45b3dedd898b711d1fd1db7b5b854d6329a", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/23fdd45b3dedd898b711d1fd1db7b5b854d6329a", "committedDate": "2020-05-11T13:35:35Z", "message": "Messages fixes, Refactored HiddenBackpack to be dedicated to restored bp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MTg0NzM0", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-409184734", "createdAt": "2020-05-11T13:43:48Z", "commit": {"oid": "23fdd45b3dedd898b711d1fd1db7b5b854d6329a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzo0Mzo0OFrOGTc35g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzo0Mzo0OFrOGTc35g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA0OTE5MA==", "bodyText": "This is actually a duplicate key. You already placed the description under \"commands.backpack\".", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423049190", "createdAt": "2020-05-11T13:43:48Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/resources/languages/messages_en.yml", "diffHunk": "@@ -15,6 +15,12 @@ commands:\n     description: Unlock/Reset researches for a player\n     reset: '&cYou have reset %player%''s Knowledge'\n     reset-target: '&cYour Knowledge has been reset'\n+\n+  backpack:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fdd45b3dedd898b711d1fd1db7b5b854d6329a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2856755d9b89e9dacbfba6e7cd0b6709fcb2f4f", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/b2856755d9b89e9dacbfba6e7cd0b6709fcb2f4f", "committedDate": "2020-05-11T14:11:41Z", "message": "Added Javadocs, removed unnecessary parameter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MjQ2NzE5", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-409246719", "createdAt": "2020-05-11T14:50:31Z", "commit": {"oid": "b2856755d9b89e9dacbfba6e7cd0b6709fcb2f4f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNDo1MDozMVrOGTfxKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNDo1MDozMVrOGTfxKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA5NjYxOA==", "bodyText": "Hold up...\nVery dangerous here, you need to add a .clone() otherwise you are modifying the original and not a copy.", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423096618", "createdAt": "2020-05-11T14:50:31Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/BackpackCommand.java", "diffHunk": "@@ -0,0 +1,72 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.api.player.PlayerProfile;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.utils.PatternUtils;\n+import me.mrCookieSlime.Slimefun.Lists.SlimefunItems;\n+import me.mrCookieSlime.Slimefun.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.api.Slimefun;\n+import org.bukkit.Bukkit;\n+import org.bukkit.ChatColor;\n+import org.bukkit.OfflinePlayer;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+\n+import java.util.List;\n+\n+class BackpackCommand extends SubCommand {\n+\n+    BackpackCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"backpack\";\n+    }\n+\n+    @Override\n+    public boolean isHidden() {\n+        return false;\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (!(sender instanceof Player) || !sender.hasPermission(\"slimefun.command.backpack\")) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.no-permission\", true);\n+            return;\n+        }\n+        if (args.length != 3) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"messages.usage\", true,\n+                    msg -> msg.replace(\"%usage%\", \"/sf backpack <Player> <ID>\"));\n+            return;\n+        }\n+\n+        final Player p = (Player) sender;\n+        if (!PatternUtils.NUMERIC.matcher(args[2]).matches()) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"commands.backpack.invalid-id\");\n+            return;\n+        }\n+        final int id = Integer.parseInt(args[2]);\n+        final OfflinePlayer owner = Bukkit.getOfflinePlayer(args[1]);\n+        if (!owner.hasPlayedBefore()) {\n+            SlimefunPlugin.getLocal().sendMessage(sender, \"commands.backpack.player-never-joined\");\n+            return;\n+        }\n+\n+        PlayerProfile.get(owner, profile -> {\n+            if (!profile.getBackpack(id).isPresent()) {\n+                SlimefunPlugin.getLocal().sendMessage(sender, \"commands.backpack.backpack-does-not-exist\");\n+                return;\n+            }\n+            Slimefun.runSync(() -> {\n+                ItemStack item = SlimefunItems.RESTORED_BACKPACK;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2856755d9b89e9dacbfba6e7cd0b6709fcb2f4f"}, "originalPosition": 66}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c0ff9acfb2149b9e8a5a1c2c7bf5e9cc9866b6f", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/8c0ff9acfb2149b9e8a5a1c2c7bf5e9cc9866b6f", "committedDate": "2020-05-11T14:58:58Z", "message": "Now cloning :/ Also fixed double key in messages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MjU5MDUw", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-409259050", "createdAt": "2020-05-11T15:03:11Z", "commit": {"oid": "8c0ff9acfb2149b9e8a5a1c2c7bf5e9cc9866b6f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTowMzoxMlrOGTgWJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTowMzoxMlrOGTgWJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEwNjA4Ng==", "bodyText": "You updated the key though but you don't seme to use it actually :?", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#discussion_r423106086", "createdAt": "2020-05-11T15:03:12Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/resources/languages/messages_en.yml", "diffHunk": "@@ -17,6 +16,7 @@ commands:\n     reset-target: '&cYour Knowledge has been reset'\n \n   backpack:\n+    description: Retrieve an existing backpack", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c0ff9acfb2149b9e8a5a1c2c7bf5e9cc9866b6f"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b09111b4a11b226114780cef966eeddd3957973", "author": {"user": {"login": "Sfiguz7", "name": "Sfiguz7"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/8b09111b4a11b226114780cef966eeddd3957973", "committedDate": "2020-05-11T20:19:33Z", "message": "Overridden description getter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTI5NTY2", "url": "https://github.com/Slimefun/Slimefun4/pull/1898#pullrequestreview-409529566", "createdAt": "2020-05-11T21:04:18Z", "commit": {"oid": "8b09111b4a11b226114780cef966eeddd3957973"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2529, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}