{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2NTMxNDk4", "number": 2272, "title": "Added /sf charge", "bodyText": "Description\nThis command charges the item that the sender is holding to max. It is intended to be used for admins on servers or testing items.\nChanges\nAdded ChargeCommand subcommand class, added command description, a success message, and a fail message to messages_en.yml, and added command to plugin.yml.\nRelated Issues\nN/A\nChecklist\n\n\n\n I have fully tested the proposed changes and promise that they will not break everything into chaos.\n I have also tested the proposed changes in combination with various popular addons and can confirm my changes do not break them.\n I followed the existing code standards and didn't mess up the formatting.\n I did my best to add documentation to any public classes or methods I added.\n I added sufficient Unit Tests to cover my code.\n*This PR only adds a small change, so the entire thing is essentially a Unit Test.", "createdAt": "2020-08-31T20:44:54Z", "url": "https://github.com/Slimefun/Slimefun4/pull/2272", "merged": true, "mergeCommit": {"oid": "649d4797c91eaf86ce59bec55f41c7799341b2d9"}, "closed": true, "closedAt": "2020-09-05T20:15:49Z", "author": {"login": "NCBPFluffyBear"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEY3YsgH2gAyNDc2NTMxNDk4OjE2ZWE0NjhjMzgwYjIzNGYzZGRjYzk3NjkwNTgzMjczYjc1NjUyY2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFeg_zgH2gAyNDc2NTMxNDk4OjY0OWQ0Nzk3YzkxZWFmODZjZTU5YmVjNTVmNDFjNzc5OTM0MWIyZDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "16ea468c380b234f3ddcc97690583273b75652ca", "author": {"user": null}, "url": "https://github.com/Slimefun/Slimefun4/commit/16ea468c380b234f3ddcc97690583273b75652ca", "committedDate": "2020-08-31T20:31:09Z", "message": "Added command to charge items"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e", "author": {"user": null}, "url": "https://github.com/Slimefun/Slimefun4/commit/125c3fe60d5c4dbf10795551972c6e20a251435e", "committedDate": "2020-08-31T20:34:56Z", "message": "Updated plugin.yml to include new charge command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTQ5MjA1", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#pullrequestreview-478949205", "createdAt": "2020-08-31T20:57:11Z", "commit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDo1NzoxMVrOHKI9nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMTowMDoyNVrOHKJEVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NDY1NQ==", "bodyText": "No need to mark these as final here.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480394655", "createdAt": "2020-08-31T20:57:11Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NDgxMw==", "bodyText": "Missing Override annotation.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480394813", "createdAt": "2020-08-31T20:57:27Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NDg5NQ==", "bodyText": "Missing javadocs and author tag.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480394895", "createdAt": "2020-08-31T20:57:37Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NTQzMw==", "bodyText": "space before the bracket {", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480395433", "createdAt": "2020-08-31T20:58:40Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NTYxNA==", "bodyText": "You should create a variable for Rechargeable here rather than casting it twice.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480395614", "createdAt": "2020-08-31T20:58:58Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){\n+                    ((Rechargeable) slimefunItem).addItemCharge(item, ((Rechargeable) slimefunItem).getMaxItemCharge(item));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NjA0NA==", "bodyText": "setItemCharge would be much more appropriate here since you want to set the charge, not add to it.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480396044", "createdAt": "2020-08-31T20:59:48Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){\n+                    ((Rechargeable) slimefunItem).addItemCharge(item, ((Rechargeable) slimefunItem).getMaxItemCharge(item));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NjE2MQ==", "bodyText": "The else should go on the next line here like the rest.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480396161", "createdAt": "2020-08-31T20:59:59Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){\n+                    ((Rechargeable) slimefunItem).addItemCharge(item, ((Rechargeable) slimefunItem).getMaxItemCharge(item));\n+                    SlimefunPlugin.getLocalization().sendMessage(sender, \"commands.charge.charge-success\", true);\n+                } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NjM3NQ==", "bodyText": "Player#getPlayer() is very redundant, you already cast sender to a Player.", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480396375", "createdAt": "2020-08-31T21:00:25Z", "author": {"login": "TheBusyBiscuit"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c091c7992f5223bc865c1e6087863c70acda0bb9", "author": {"user": null}, "url": "https://github.com/Slimefun/Slimefun4/commit/c091c7992f5223bc865c1e6087863c70acda0bb9", "committedDate": "2020-08-31T23:50:35Z", "message": "Removed redundancies, added javadocs, fixed formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NTEyODMy", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#pullrequestreview-479512832", "createdAt": "2020-09-01T08:28:02Z", "commit": {"oid": "c091c7992f5223bc865c1e6087863c70acda0bb9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "649d4797c91eaf86ce59bec55f41c7799341b2d9", "author": {"user": {"login": "NCBPFluffyBear", "name": "FluffyBear"}}, "url": "https://github.com/Slimefun/Slimefun4/commit/649d4797c91eaf86ce59bec55f41c7799341b2d9", "committedDate": "2020-09-04T05:40:03Z", "message": "Merge pull request #1 from TheBusyBiscuit/master\n\nUpdate to latest"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2447, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}