{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNjk0NjA2", "number": 1924, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzozNjoyNFrOD-0WSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDoxMDo0NFrOD-0nxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTk1OTc4OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosivePickaxe.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzozNjoyNFrOGZJqrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzo1NDoxOFrOGZJ4Xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyNTk2NA==", "bodyText": "Not a fan of EntityExplodeEvent, this should b BlockExplodeEvent with the actual broken block.\nThis is gonna lead to weird behaviour by plugins.", "url": "https://github.com/Slimefun/Slimefun4/pull/1924#discussion_r429025964", "createdAt": "2020-05-22T03:36:24Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosivePickaxe.java", "diffHunk": "@@ -63,11 +67,18 @@ public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List\n                                         continue;\n                                     }\n \n-                                    Block b = e.getBlock().getRelative(x, y, z);\n-                                    breakBlock(e.getPlayer(), item, b, fortune, drops);\n+                                    blocks.add(e.getBlock().getRelative(x, y, z));\n                                 }\n                             }\n                         }\n+\n+                        EntityExplodeEvent entityExplodeEvent = new EntityExplodeEvent(e.getPlayer(), e.getBlock().getLocation(), blocks, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388ed255b89c4ecf9dada3997a95cfef0f2b6526"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyOTQ3MA==", "bodyText": "Thats right, ill change and test.", "url": "https://github.com/Slimefun/Slimefun4/pull/1924#discussion_r429029470", "createdAt": "2020-05-22T03:54:18Z", "author": {"login": "FabioZumbi12"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosivePickaxe.java", "diffHunk": "@@ -63,11 +67,18 @@ public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List\n                                         continue;\n                                     }\n \n-                                    Block b = e.getBlock().getRelative(x, y, z);\n-                                    breakBlock(e.getPlayer(), item, b, fortune, drops);\n+                                    blocks.add(e.getBlock().getRelative(x, y, z));\n                                 }\n                             }\n                         }\n+\n+                        EntityExplodeEvent entityExplodeEvent = new EntityExplodeEvent(e.getPlayer(), e.getBlock().getLocation(), blocks, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyNTk2NA=="}, "originalCommit": {"oid": "388ed255b89c4ecf9dada3997a95cfef0f2b6526"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTk3ODg0OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosivePickaxe.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzo1MTozMFrOGZJ2PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzo1NDoyOVrOGZJ4gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyODkyNA==", "bodyText": "Shouldn't use curly brace for lambda with one line.", "url": "https://github.com/Slimefun/Slimefun4/pull/1924#discussion_r429028924", "createdAt": "2020-05-22T03:51:30Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosivePickaxe.java", "diffHunk": "@@ -63,11 +67,18 @@ public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List\n                                         continue;\n                                     }\n \n-                                    Block b = e.getBlock().getRelative(x, y, z);\n-                                    breakBlock(e.getPlayer(), item, b, fortune, drops);\n+                                    blocks.add(e.getBlock().getRelative(x, y, z));\n                                 }\n                             }\n                         }\n+\n+                        EntityExplodeEvent entityExplodeEvent = new EntityExplodeEvent(e.getPlayer(), e.getBlock().getLocation(), blocks, 0);\n+                        Bukkit.getServer().getPluginManager().callEvent(entityExplodeEvent);\n+                        if (!entityExplodeEvent.isCancelled()) {\n+                            entityExplodeEvent.blockList().forEach(b -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388ed255b89c4ecf9dada3997a95cfef0f2b6526"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyOTUwNQ==", "bodyText": "IDE completing! Ill change ;)", "url": "https://github.com/Slimefun/Slimefun4/pull/1924#discussion_r429029505", "createdAt": "2020-05-22T03:54:29Z", "author": {"login": "FabioZumbi12"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosivePickaxe.java", "diffHunk": "@@ -63,11 +67,18 @@ public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List\n                                         continue;\n                                     }\n \n-                                    Block b = e.getBlock().getRelative(x, y, z);\n-                                    breakBlock(e.getPlayer(), item, b, fortune, drops);\n+                                    blocks.add(e.getBlock().getRelative(x, y, z));\n                                 }\n                             }\n                         }\n+\n+                        EntityExplodeEvent entityExplodeEvent = new EntityExplodeEvent(e.getPlayer(), e.getBlock().getLocation(), blocks, 0);\n+                        Bukkit.getServer().getPluginManager().callEvent(entityExplodeEvent);\n+                        if (!entityExplodeEvent.isCancelled()) {\n+                            entityExplodeEvent.blockList().forEach(b -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyODkyNA=="}, "originalCommit": {"oid": "388ed255b89c4ecf9dada3997a95cfef0f2b6526"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MjAwNDU0OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosiveShovel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDoxMDo0NFrOGZKFtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDoxMDo0NFrOGZKFtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAzMjg4Nw==", "bodyText": "Missing space at start of line", "url": "https://github.com/Slimefun/Slimefun4/pull/1924#discussion_r429032887", "createdAt": "2020-05-22T04:10:44Z", "author": {"login": "WalshyDev"}, "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosiveShovel.java", "diffHunk": "@@ -57,31 +61,38 @@ public boolean onBlockBreak(BlockBreakEvent e, ItemStack item, int fortune, List\n                         e.getBlock().getWorld().createExplosion(e.getBlock().getLocation(), 0.0F);\n                         e.getBlock().getWorld().playSound(e.getBlock().getLocation(), Sound.ENTITY_GENERIC_EXPLODE, 0.3F, 1F);\n \n+                        List<Block> blocks = new ArrayList<>();\n                         for (int x = -1; x <= 1; x++) {\n                             for (int y = -1; y <= 1; y++) {\n                                 for (int z = -1; z <= 1; z++) {\n                                     if (x == 0 && y == 0 && z == 0) {\n                                         continue;\n                                     }\n \n-                                    Block b = e.getBlock().getRelative(x, y, z);\n+                                   blocks.add(e.getBlock().getRelative(x, y, z));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1a968d4ff48b20ade2d14f9f71e2d11b94a000d"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 452, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}