{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MjE0MTk2", "number": 698, "title": "Digital twin/telemetry explosion", "bodyText": "Checklist\n\n I have read the [contribution guidelines] (https://github.com/Azure/azure-iot-sdk-java/blob/master/.github/CONTRIBUTING.md).\n I added or modified the existing tests to cover the change (we do not allow our test coverage to go down).\nIf this is a modification that impacts the behavior of a public API\n\n I edited the corresponding document in the devdoc folder and added or modified requirements.\n\n\nI submitted this PR against the correct branch:\n\n This pull-request is submitted against the master branch.\n\n\n\nReference/Link to the issue solved with this PR (if any)\nDescription of the problem\n\nDescription of the solution", "createdAt": "2020-01-30T18:08:52Z", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698", "merged": true, "mergeCommit": {"oid": "bcbf661d9a1d5dd0b4ae8767f6796b475031a96a"}, "closed": true, "closedAt": "2020-01-31T00:03:45Z", "author": {"login": "davilu"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_elIYAH2gAyMzY5MjE0MTk2OmExZWM3MTIxMWExOGM0MGNjNTQ5ZjljMDc0ZTFiMTNhNjYxYTE0MTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_jm4LAFqTM1MTIyMzQ5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a1ec71211a18c40cc549f9c074e1b13a661a1416", "author": {"user": {"login": "davilu", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/a1ec71211a18c40cc549f9c074e1b13a661a1416", "committedDate": "2020-01-30T18:09:52Z", "message": "refactor(digital-twin-device):modified for telemetry message explosion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3c3dbb3a05f28c421e032aa2d2bb7adb0217423", "author": {"user": {"login": "davilu", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/c3c3dbb3a05f28c421e032aa2d2bb7adb0217423", "committedDate": "2020-01-30T18:05:49Z", "message": "refactor(digital-twin-device):modified for telemetry message explosion"}, "afterCommit": {"oid": "a1ec71211a18c40cc549f9c074e1b13a661a1416", "author": {"user": {"login": "davilu", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/a1ec71211a18c40cc549f9c074e1b13a661a1416", "committedDate": "2020-01-30T18:09:52Z", "message": "refactor(digital-twin-device):modified for telemetry message explosion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDQ4NjI4", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351048628", "createdAt": "2020-01-30T18:34:16Z", "commit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNDoxNlrOFj1d7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNDoxNlrOFj1d7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyMDQ5NA==", "bodyText": "tabbing looks off on this brace", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#discussion_r373120494", "createdAt": "2020-01-30T18:34:16Z", "author": {"login": "drwill-ms"}, "path": "digital-twin/device/src/main/java/com/microsoft/azure/sdk/iot/digitaltwin/device/AbstractDigitalTwinComponent.java", "diffHunk": "@@ -59,17 +59,27 @@ protected AbstractDigitalTwinComponent(@NonNull String digitalTwinComponentName,\n      * The application may invoke this function as many times as it wants, subject to the device's resource availability. The application does NOT need to wait for each send to finish.\n      * The SDK will automatically attempt to retry the telemetry send on transient errors.\n      *\n+     * @param payload DigitalTwin telemetry message payload. It should be a valid json string represent a map. The key is property name. the JSON should look like:\n+     *\t\t\t\t{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDQ4ODMw", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351048830", "createdAt": "2020-01-30T18:34:35Z", "commit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNDozNVrOFj1eig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNDozNVrOFj1eig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyMDY1MA==", "bodyText": "here too", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#discussion_r373120650", "createdAt": "2020-01-30T18:34:35Z", "author": {"login": "drwill-ms"}, "path": "digital-twin/device/src/main/java/com/microsoft/azure/sdk/iot/digitaltwin/device/AbstractDigitalTwinComponent.java", "diffHunk": "@@ -80,10 +90,21 @@ protected AbstractDigitalTwinComponent(@NonNull String digitalTwinComponentName,\n      * The device application calls this function to send telemetry to the server. The call will be blocked and will return the result once telemetry is processed.\n      * The SDK will automatically attempt to retry the telemetry send on transient errors.\n      *\n+     * @param payload DigitalTwin telemetry message payload. It should be a valid json string represent a map. The key is property name. the JSON should look like:\n+     *\t\t\t\t{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDQ5NDQ3", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351049447", "createdAt": "2020-01-30T18:35:34Z", "commit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNTozNFrOFj1gWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNTozNFrOFj1gWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyMTExMg==", "bodyText": "The value of the telemetry is the same name as the entire thing, which is confusing. Suggest changing this to TELEMETRY_VALUE.", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#discussion_r373121112", "createdAt": "2020-01-30T18:35:34Z", "author": {"login": "drwill-ms"}, "path": "digital-twin/device/src/test/java/com/microsoft/azure/sdk/iot/digitaltwin/device/AbstractDigitalTwinComponentTest.java", "diffHunk": "@@ -41,8 +41,7 @@\n public class AbstractDigitalTwinComponentTest {\n     private static final String DIGITAL_TWIN_COMPONENT_NAME = \"DIGITAL_TWIN_COMPONENT_NAME\";\n     private static final String DIGITAL_TWIN_INTERFACE_ID = \"DIGITAL_TWIN_INTERFACE_ID\";\n-    private static final String TELEMETRY_NAME = \"TELEMETRY_NAME\";\n-    private static final String TELEMETRY_PAYLOAD = \"TELEMETRY_PAYLOAD\";\n+    private static final String TELEMETRY_PAYLOAD = \"{\\\"TELEMETRY_NAME\\\": \\\"TELEMETRY_PAYLOAD\\\"}\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDUxMzY5", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351051369", "createdAt": "2020-01-30T18:38:41Z", "commit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozODo0MVrOFj1mhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozODo0MVrOFj1mhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyMjY5NA==", "bodyText": "grammar: representing", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#discussion_r373122694", "createdAt": "2020-01-30T18:38:41Z", "author": {"login": "drwill-ms"}, "path": "digital-twin/device/src/main/java/com/microsoft/azure/sdk/iot/digitaltwin/device/AbstractDigitalTwinComponent.java", "diffHunk": "@@ -59,17 +59,27 @@ protected AbstractDigitalTwinComponent(@NonNull String digitalTwinComponentName,\n      * The application may invoke this function as many times as it wants, subject to the device's resource availability. The application does NOT need to wait for each send to finish.\n      * The SDK will automatically attempt to retry the telemetry send on transient errors.\n      *\n+     * @param payload DigitalTwin telemetry message payload. It should be a valid json string represent a map. The key is property name. the JSON should look like:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDUxNzkx", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351051791", "createdAt": "2020-01-30T18:39:19Z", "commit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozOToxOVrOFj1n0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozOToxOVrOFj1n0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyMzAyNQ==", "bodyText": "grammar: capital T in \"the\" from \"the JSON should look like:\"", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#discussion_r373123025", "createdAt": "2020-01-30T18:39:19Z", "author": {"login": "drwill-ms"}, "path": "digital-twin/device/src/main/java/com/microsoft/azure/sdk/iot/digitaltwin/device/AbstractDigitalTwinComponent.java", "diffHunk": "@@ -59,17 +59,27 @@ protected AbstractDigitalTwinComponent(@NonNull String digitalTwinComponentName,\n      * The application may invoke this function as many times as it wants, subject to the device's resource availability. The application does NOT need to wait for each send to finish.\n      * The SDK will automatically attempt to retry the telemetry send on transient errors.\n      *\n+     * @param payload DigitalTwin telemetry message payload. It should be a valid json string represent a map. The key is property name. the JSON should look like:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDUyMjY5", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351052269", "createdAt": "2020-01-30T18:40:04Z", "commit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c53812c42aded46b057f3467bec86acc61a46bf4", "author": {"user": {"login": "davilu", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/c53812c42aded46b057f3467bec86acc61a46bf4", "committedDate": "2020-01-30T19:21:49Z", "message": "fix(doc): fixed link to digital twin samples"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a1e763b27f86eb2393d4f72b24d0a45a357cce8", "author": {"user": {"login": "davilu", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/3a1e763b27f86eb2393d4f72b24d0a45a357cce8", "committedDate": "2020-01-30T18:22:25Z", "message": "fix(doc): fixed link to digital twin samples"}, "afterCommit": {"oid": "c53812c42aded46b057f3467bec86acc61a46bf4", "author": {"user": {"login": "davilu", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/c53812c42aded46b057f3467bec86acc61a46bf4", "committedDate": "2020-01-30T19:21:49Z", "message": "fix(doc): fixed link to digital twin samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjIzNDk1", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/698#pullrequestreview-351223495", "createdAt": "2020-01-31T00:01:18Z", "commit": {"oid": "c53812c42aded46b057f3467bec86acc61a46bf4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1809, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}