{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNzQ0Mjgx", "number": 933, "title": "Adding support for BasicDigitalTwin", "bodyText": "Checklist\n\n I have read the [contribution guidelines] (https://github.com/Azure/azure-iot-sdk-java/blob/master/.github/CONTRIBUTING.md).\n I added or modified the existing tests to cover the change (we do not allow our test coverage to go down).\nIf this is a modification that impacts the behavior of a public API\n\n I edited the corresponding document in the devdoc folder and added or modified requirements.\n\n\nI submitted this PR against the correct branch:\n\n This pull-request is submitted against the master branch.\n\n\n\nReference/Link to the issue solved with this PR (if any)\nDescription of the problem\n\nDescription of the solution", "createdAt": "2020-09-24T23:10:39Z", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933", "merged": true, "mergeCommit": {"oid": "dba05610acf23770ab3eb66d14d0db7c03d71cad"}, "closed": true, "closedAt": "2020-09-24T23:47:52Z", "author": {"login": "vinagesh"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMJcEkAH2gAyNDkyNzQ0MjgxOjcxZTY4ODBjNTdlZTM2NzhlMzBkOGY4MWM2OGU4NDBlZDFmMjVhY2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMKI5tAFqTQ5NjAyMzQzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/71e6880c57ee3678e30d8f81c68e840ed1f25acd", "committedDate": "2020-09-24T23:04:08Z", "message": "Adding support for BasicDigitalTwin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDExMzIy", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496011322", "createdAt": "2020-09-24T23:16:31Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzoxNjozMVrOHXvtVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzoxNjozMVrOHXvtVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY2MDk0OA==", "bodyText": "conform?", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494660948", "createdAt": "2020-09-24T23:16:31Z", "author": {"login": "bikamani"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/models/BasicDigitalTwin.java", "diffHunk": "@@ -0,0 +1,84 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.microsoft.azure.sdk.iot.service.digitaltwin.models;\n+\n+import com.fasterxml.jackson.annotation.JsonAnyGetter;\n+import com.fasterxml.jackson.annotation.JsonAnySetter;\n+import com.fasterxml.jackson.annotation.JsonIgnore;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * An optional, helper class for deserializing a digital twin.\n+ * Only properties with non-null values are included.\n+ */\n+public final class BasicDigitalTwin {\n+    @JsonProperty(value = \"$dtId\", required = true)\n+    private String id;\n+\n+    @JsonProperty(value = \"$metadata\", required = true)\n+    private DigitalTwinMetadata metadata;\n+\n+    @JsonIgnore\n+    private final Map<String, Object> customProperties = new HashMap<>();\n+\n+    /**\n+     * Gets the unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     * @return The unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     */\n+    public String getId() {\n+        return id;\n+    }\n+\n+    /**\n+     * Sets the unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     * @param id The unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     * @return The BasicDigitalTwin object itself.\n+     */\n+    private BasicDigitalTwin setId(String id) {\n+        this.id =id;\n+        return this;\n+    }\n+\n+    /**\n+     * Gets the information about the model a digital twin conforms to. This field is present on every digital twin.\n+     * @return The information about the model a digital twin conforms to. This field is present on every digital twin.\n+     */\n+    public DigitalTwinMetadata getMetadata() {\n+        return metadata;\n+    }\n+\n+    /**\n+     * Sets the information about the model a digital twin conforms to. This field is present on every digital twin.\n+     * @param metadata The information about the model a digital twin conforms to. This field is present on every digital twin.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDE0Mjk1", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496014295", "createdAt": "2020-09-24T23:25:35Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzoyNTozNVrOHXv4WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzoyNTozNVrOHXv4WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY2Mzc2OA==", "bodyText": "copyright", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494663768", "createdAt": "2020-09-24T23:25:35Z", "author": {"login": "bikamani"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/models/DigitalTwinMetadata.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package com.microsoft.azure.sdk.iot.service.digitaltwin.models;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDE0NzUz", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496014753", "createdAt": "2020-09-24T23:27:02Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzoyNzowMlrOHXv59g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzoyNzowMlrOHXv59g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY2NDE4Mg==", "bodyText": "This and other classes should be in helper directory now that I think more about it.", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494664182", "createdAt": "2020-09-24T23:27:02Z", "author": {"login": "bikamani"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/models/DigitalTwinMetadata.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package com.microsoft.azure.sdk.iot.service.digitaltwin.models;\n+\n+import com.fasterxml.jackson.annotation.JsonAnyGetter;\n+import com.fasterxml.jackson.annotation.JsonAnySetter;\n+import com.fasterxml.jackson.annotation.JsonIgnore;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDE0OTc5", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496014979", "createdAt": "2020-09-24T23:27:41Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDIyNTIx", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496022521", "createdAt": "2020-09-24T23:50:14Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MDoxNVrOHXwUvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MDoxNVrOHXwUvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY3MTAzNw==", "bodyText": "we should check if other models in our repo are fluent, if not, then these shouldn't have fluent setters either. We'd need to be consistent across this library.", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494671037", "createdAt": "2020-09-24T23:50:15Z", "author": {"login": "abhipsaMisra"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/models/BasicDigitalTwin.java", "diffHunk": "@@ -0,0 +1,84 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.microsoft.azure.sdk.iot.service.digitaltwin.models;\n+\n+import com.fasterxml.jackson.annotation.JsonAnyGetter;\n+import com.fasterxml.jackson.annotation.JsonAnySetter;\n+import com.fasterxml.jackson.annotation.JsonIgnore;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * An optional, helper class for deserializing a digital twin.\n+ * Only properties with non-null values are included.\n+ */\n+public final class BasicDigitalTwin {\n+    @JsonProperty(value = \"$dtId\", required = true)\n+    private String id;\n+\n+    @JsonProperty(value = \"$metadata\", required = true)\n+    private DigitalTwinMetadata metadata;\n+\n+    @JsonIgnore\n+    private final Map<String, Object> customProperties = new HashMap<>();\n+\n+    /**\n+     * Gets the unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     * @return The unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     */\n+    public String getId() {\n+        return id;\n+    }\n+\n+    /**\n+     * Sets the unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     * @param id The unique Id of the digital twin in a digital twins instance. This field is present on every digital twin.\n+     * @return The BasicDigitalTwin object itself.\n+     */\n+    private BasicDigitalTwin setId(String id) {\n+        this.id =id;\n+        return this;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDIzMDgw", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496023080", "createdAt": "2020-09-24T23:51:59Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MTo1OVrOHXwWfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MTo1OVrOHXwWfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY3MTQ4Nw==", "bodyText": "public class is missing xml comments", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494671487", "createdAt": "2020-09-24T23:51:59Z", "author": {"login": "abhipsaMisra"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/models/DigitalTwinCommandResponse.java", "diffHunk": "@@ -5,7 +5,7 @@\n import lombok.Getter;\n import lombok.Setter;\n \n-public class DigitalTwinCommandResponse {\n+public final class DigitalTwinCommandResponse {\n     @Getter\n     @Setter\n     Integer status;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDIzMTkz", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496023193", "createdAt": "2020-09-24T23:52:20Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MjoyMFrOHXwW3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MjoyMFrOHXwW3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY3MTU4MQ==", "bodyText": "copyright", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494671581", "createdAt": "2020-09-24T23:52:20Z", "author": {"login": "abhipsaMisra"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/models/DigitalTwinMetadata.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package com.microsoft.azure.sdk.iot.service.digitaltwin.models;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDIzNDM4", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#pullrequestreview-496023438", "createdAt": "2020-09-24T23:53:06Z", "commit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MzowNlrOHXwXjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMzo1MzowNlrOHXwXjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDY3MTc1OQ==", "bodyText": "nit: this could take in a generic json object", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/933#discussion_r494671759", "createdAt": "2020-09-24T23:53:06Z", "author": {"login": "abhipsaMisra"}, "path": "service/iot-service-samples/digitaltwin-service-samples/thermostat-service-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/Thermostat.java", "diffHunk": "@@ -103,7 +104,13 @@ private static void InvokeMethodOnRootLevel()\n \n         // Invoke a method on root level.\n         DigitalTwinCommandResponse response = client.invokeCommand(digitalTwinid, commandName, commandInput);\n-        System.out.println(\"Invoked Command \" + commandName + \" response: \" + response.getPayload());\n+        System.out.println(\"Invoked Command \" + commandName + \" response: \" + prettyString(response.getPayload()));\n+    }\n+\n+    private static String prettyBasicDigitalTwin(BasicDigitalTwin basicDigitalTwin)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e6880c57ee3678e30d8f81c68e840ed1f25acd"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1562, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}