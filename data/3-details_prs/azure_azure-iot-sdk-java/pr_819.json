{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5NTM0NTU1", "number": 819, "title": "fix(e2e): Fix issue where transport client twin tests sometimes threw a null pointer exception", "bodyText": "The twin service client can be relegated to the test instance. Having a static instance was causing issues as it was sometimes prematurely disposed and would cause the NPE in a different thread.", "createdAt": "2020-06-24T21:41:46Z", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/819", "merged": true, "mergeCommit": {"oid": "35ffdad2b57c3bcae9d2587946dd5f2dc7fad4f6"}, "closed": true, "closedAt": "2020-06-25T01:15:11Z", "author": {"login": "timtay-microsoft"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuhDZ1gH2gAyNDM5NTM0NTU1OmZiMTE4MDZhYzdhMzU2YzI2NGU2YzI1YmY3NmFiZWExYmM0Y2NjY2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuiCh4AH2gAyNDM5NTM0NTU1OmUyMmYzMGRhOGExYWY5NGZkMWZlZjZiMTY4ZjNjNTdjMzE5YzE0Mjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fb11806ac7a356c264e6c25bf76abea1bc4ccccb", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/fb11806ac7a356c264e6c25bf76abea1bc4ccccb", "committedDate": "2020-06-24T21:37:11Z", "message": "fix(e2e): Fix issue where transport client twin tests sometimes threw a null pointer exception\n\nThe twin service client can be relegated to the test instance. Having a static instance was causing issues as it was sometimes prematurely disposed and would cause the NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "130e02285b11fe59dc8c9faae5d59bf0ab1eb81c", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/130e02285b11fe59dc8c9faae5d59bf0ab1eb81c", "committedDate": "2020-06-24T22:02:44Z", "message": "fix(e2e): Fix flakey twin tests\n\nA lot of scenarios had a 3 second timeout which is rather strict. Opening that timeout up to 1 minute so that the test isn't as flakey"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "326bcf09abe03b3c7d1d9642fcd76aacd142712f", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/326bcf09abe03b3c7d1d9642fcd76aacd142712f", "committedDate": "2020-06-24T22:17:32Z", "message": "Revert \"fix(e2e): Fix flakey twin tests\"\n\nThis reverts commit 130e02285b11fe59dc8c9faae5d59bf0ab1eb81c."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MDQ5NjAz", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/819#pullrequestreview-437049603", "createdAt": "2020-06-24T22:28:22Z", "commit": {"oid": "326bcf09abe03b3c7d1d9642fcd76aacd142712f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMjoyODoyMlrOGolQRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMjoyODoyMlrOGolQRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIwNjU5Ng==", "bodyText": "Setting a shared resource to null caused NPEs, so don't share it, and don't set it null", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/819#discussion_r445206596", "createdAt": "2020-06-24T22:28:22Z", "author": {"login": "timtay-microsoft"}, "path": "iot-e2e-tests/common/src/test/java/tests/integration/com/microsoft/azure/sdk/iot/iothub/TransportClientTests.java", "diffHunk": "@@ -968,8 +967,6 @@ private void tearDownTwin(TransportClient transportClient)\n             // No need to fail the test just because cleanup failed.\n             e.printStackTrace();\n         }\n-\n-        sCDeviceTwin = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "326bcf09abe03b3c7d1d9642fcd76aacd142712f"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MDUwNjUy", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/819#pullrequestreview-437050652", "createdAt": "2020-06-24T22:30:46Z", "commit": {"oid": "326bcf09abe03b3c7d1d9642fcd76aacd142712f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d8ce54468d789ae53d4e3be6a792df7b96a6bd1", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/1d8ce54468d789ae53d4e3be6a792df7b96a6bd1", "committedDate": "2020-06-24T22:32:09Z", "message": "squash"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e22f30da8a1af94fd1fef6b168f3c57c319c1428", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/e22f30da8a1af94fd1fef6b168f3c57c319c1428", "committedDate": "2020-06-24T22:46:08Z", "message": "Merge branch 'master' into timtay/npe"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1683, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}