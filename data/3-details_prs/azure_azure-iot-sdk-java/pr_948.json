{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MDk2NTQz", "number": 948, "title": "Fixing serialization issue in java", "bodyText": "Checklist\n\n I have read the [contribution guidelines] (https://github.com/Azure/azure-iot-sdk-java/blob/master/.github/CONTRIBUTING.md).\n I added or modified the existing tests to cover the change (we do not allow our test coverage to go down).\nIf this is a modification that impacts the behavior of a public API\n\n I edited the corresponding document in the devdoc folder and added or modified requirements.\n\n\nI submitted this PR against the correct branch:\n\n This pull-request is submitted against the master branch.\n\n\n\nReference/Link to the issue solved with this PR (if any)\nDescription of the problem\n\nDescription of the solution", "createdAt": "2020-09-29T20:49:28Z", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948", "merged": true, "mergeCommit": {"oid": "3fc38da1816e8f29f64a315e3d531df3aae05fb5"}, "closed": true, "closedAt": "2020-09-29T21:51:59Z", "author": {"login": "vinagesh"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNuhXuAFqTQ5ODg4MjE1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNvaqtgFqTQ5ODg4Nzk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODgyMTUz", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#pullrequestreview-498882153", "createdAt": "2020-09-29T20:50:19Z", "commit": {"oid": "0a0c1aa98014f0bebaa4effa70dfce070651fdc7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDo1MDoyMFrOHaBKkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDo1MDoyMFrOHaBKkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NDExMg==", "bodyText": "This logic is only needed in the max overload to make testing more efficient. I've cleaned up duplicate logic.", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497044112", "createdAt": "2020-09-29T20:50:20Z", "author": {"login": "vinagesh"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/DigitalTwinAsyncClient.java", "diffHunk": "@@ -70,11 +77,6 @@ public static DigitalTwinAsyncClient createFromConnectionString(String connectio\n      */\n     public <T> Observable<T> getDigitalTwin (String digitalTwinId, Class<T> clazz)\n     {\n-        if(clazz == null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a0c1aa98014f0bebaa4effa70dfce070651fdc7"}, "originalPosition": 46}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a0c1aa98014f0bebaa4effa70dfce070651fdc7", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/0a0c1aa98014f0bebaa4effa70dfce070651fdc7", "committedDate": "2020-09-29T20:48:33Z", "message": "Fixing serialization issue in java"}, "afterCommit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7584cebb51331a6b852128d5218a7f9dce65778b", "committedDate": "2020-09-29T20:56:08Z", "message": "Fixing serialization issue in java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODk3NTQ5", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#pullrequestreview-498897549", "createdAt": "2020-09-29T21:13:54Z", "commit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMToxMzo1NFrOHaCV1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMToxMzo1NFrOHaCV1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA2MzM4Mg==", "bodyText": "To understand, why do we need to do this?", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497063382", "createdAt": "2020-09-29T21:13:54Z", "author": {"login": "bikamani"}, "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/DigitalTwinAsyncClient.java", "diffHunk": "@@ -40,12 +43,16 @@\n         ServiceConnectionString serviceConnectionString = ServiceConnectionStringParser.parseConnectionString(connectionString);\n         SasTokenProvider sasTokenProvider = serviceConnectionString.createSasTokenProvider();\n         String httpsEndpoint = serviceConnectionString.getHttpsEndpoint();\n+        final SimpleModule stringModule = new SimpleModule(\"String Serializer\");\n+        stringModule.addSerializer(new DigitalTwinStringSerializer(String.class, objectMapper));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4OTA5MzE1", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#pullrequestreview-498909315", "createdAt": "2020-09-29T21:32:47Z", "commit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7da535e763c0d67b2fbbe05e2850222b3facc101", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7da535e763c0d67b2fbbe05e2850222b3facc101", "committedDate": "2020-09-29T21:50:16Z", "message": "Fixing serialization issue in java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7584cebb51331a6b852128d5218a7f9dce65778b", "committedDate": "2020-09-29T20:56:08Z", "message": "Fixing serialization issue in java"}, "afterCommit": {"oid": "7da535e763c0d67b2fbbe05e2850222b3facc101", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7da535e763c0d67b2fbbe05e2850222b3facc101", "committedDate": "2020-09-29T21:50:16Z", "message": "Fixing serialization issue in java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODg3OTU5", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#pullrequestreview-498887959", "createdAt": "2020-09-29T20:59:02Z", "commit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDo1OTowMlrOHaBtCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDo1OToxOFrOHaBuIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MjkzNg==", "bodyText": "break the lines ... this is too long", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497052936", "createdAt": "2020-09-29T20:59:02Z", "author": {"login": "azabbasi"}, "path": "iot-e2e-tests/common/src/test/java/tests/integration/com/microsoft/azure/sdk/iot/digitaltwin/DigitalTwinClientComponentTests.java", "diffHunk": "@@ -151,41 +151,43 @@ public void invokeComponentLevelCommand() throws IOException {\n \n         // act\n         DigitalTwinCommandResponse responseWithNoPayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, null);\n-        DigitalTwinCommandResponse response = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, commandInput);\n-        ServiceResponseWithHeaders<DigitalTwinCommandResponse, DigitalTwinInvokeCommandHeaders> responseWithHeaders = this.digitalTwinClient.invokeComponentCommandWithResponse(deviceId, componentName, commandName, commandInput, options);\n+        DigitalTwinCommandResponse responseWithJsonStringPayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, jsonStringInput);\n+        DigitalTwinCommandResponse responseWithDatePayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, commandInput);\n+        ServiceResponseWithHeaders<DigitalTwinCommandResponse, DigitalTwinInvokeCommandHeaders> datePayloadResponseWithHeaders = this.digitalTwinClient.invokeComponentCommandWithResponse(deviceId, componentName, commandName, commandInput, options);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MzIxNg==", "bodyText": "elsewhere as well", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497053216", "createdAt": "2020-09-29T20:59:18Z", "author": {"login": "azabbasi"}, "path": "iot-e2e-tests/common/src/test/java/tests/integration/com/microsoft/azure/sdk/iot/digitaltwin/DigitalTwinClientComponentTests.java", "diffHunk": "@@ -151,41 +151,43 @@ public void invokeComponentLevelCommand() throws IOException {\n \n         // act\n         DigitalTwinCommandResponse responseWithNoPayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, null);\n-        DigitalTwinCommandResponse response = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, commandInput);\n-        ServiceResponseWithHeaders<DigitalTwinCommandResponse, DigitalTwinInvokeCommandHeaders> responseWithHeaders = this.digitalTwinClient.invokeComponentCommandWithResponse(deviceId, componentName, commandName, commandInput, options);\n+        DigitalTwinCommandResponse responseWithJsonStringPayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, jsonStringInput);\n+        DigitalTwinCommandResponse responseWithDatePayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, commandInput);\n+        ServiceResponseWithHeaders<DigitalTwinCommandResponse, DigitalTwinInvokeCommandHeaders> datePayloadResponseWithHeaders = this.digitalTwinClient.invokeComponentCommandWithResponse(deviceId, componentName, commandName, commandInput, options);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MjkzNg=="}, "originalCommit": {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1580, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}