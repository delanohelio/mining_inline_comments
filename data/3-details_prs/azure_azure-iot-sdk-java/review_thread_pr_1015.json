{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzOTIwODM5", "number": 1015, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMDozMToxOFrOFB-UEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMjowNTowNlrOFCApFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjEzODQxOnYy", "diffSide": "LEFT", "path": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/transport/amqps/AmqpsIotHubConnection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMDozMToxOFrOIA5aig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowOTowOVrOIA6zCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgxMTU5NA==", "bodyText": "I am assuming we only want to clean up on close?", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/1015#discussion_r537811594", "createdAt": "2020-12-07T20:31:18Z", "author": {"login": "barustum"}, "path": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/transport/amqps/AmqpsIotHubConnection.java", "diffHunk": "@@ -158,8 +158,10 @@ public void open(Queue<DeviceClientConfig> deviceClientConfigs) throws Transport\n             }\n             catch (InterruptedException e)\n             {\n-                executorServicesCleanup();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd37367195fc23b85d1e959ebb89a90389620aa"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgzNDI1MA==", "bodyText": "The close method already calls executorServicesCleanup, so I'm just delaying it until after the reactor has stopped", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/1015#discussion_r537834250", "createdAt": "2020-12-07T21:09:09Z", "author": {"login": "timtay-microsoft"}, "path": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/transport/amqps/AmqpsIotHubConnection.java", "diffHunk": "@@ -158,8 +158,10 @@ public void open(Queue<DeviceClientConfig> deviceClientConfigs) throws Transport\n             }\n             catch (InterruptedException e)\n             {\n-                executorServicesCleanup();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgxMTU5NA=="}, "originalCommit": {"oid": "0dd37367195fc23b85d1e959ebb89a90389620aa"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjUxOTg5OnYy", "diffSide": "RIGHT", "path": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/transport/amqps/AmqpsIotHubConnection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMjowNTowNlrOIA817Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMjoyMTo0MVrOIA9bQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzg2Nzc1Nw==", "bodyText": "A proton reactor!? Sounds powerful and dangerous.", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/1015#discussion_r537867757", "createdAt": "2020-12-07T22:05:06Z", "author": {"login": "drwill-ms"}, "path": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/transport/amqps/AmqpsIotHubConnection.java", "diffHunk": "@@ -181,6 +183,7 @@ public void close() throws TransportException\n         }\n         catch (InterruptedException e)\n         {\n+            this.executorServicesCleanup();\n             throw new TransportException(\"Interrupted while closing proton reactor\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd37367195fc23b85d1e959ebb89a90389620aa"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzg3NzMxMg==", "bodyText": "It's like we are nuclear physicists or something!", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/1015#discussion_r537877312", "createdAt": "2020-12-07T22:21:41Z", "author": {"login": "timtay-microsoft"}, "path": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/transport/amqps/AmqpsIotHubConnection.java", "diffHunk": "@@ -181,6 +183,7 @@ public void close() throws TransportException\n         }\n         catch (InterruptedException e)\n         {\n+            this.executorServicesCleanup();\n             throw new TransportException(\"Interrupted while closing proton reactor\", e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzg2Nzc1Nw=="}, "originalCommit": {"oid": "0dd37367195fc23b85d1e959ebb89a90389620aa"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2645, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}