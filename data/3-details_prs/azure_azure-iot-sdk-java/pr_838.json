{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTIzMDEx", "number": 838, "title": "refactor(e2e): Fix query tests", "bodyText": "Now every query test will re-run the query until the expected conditions are met or a timeout occurs. This helps to account for any propagation delays on the service side between device creation and when the device is queryable.\nBy inheriting from DeviceTwinCommon, each query test was run for every device side protocol and for every device side authentication. These query tests are entirely service client tests, though. It doesn't make sense to parameterize them on device client settings", "createdAt": "2020-07-06T17:59:45Z", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/838", "merged": true, "mergeCommit": {"oid": "038af15909cba4045935dc93cfa346e8c8dea49b"}, "closed": true, "closedAt": "2020-07-27T19:46:41Z", "author": {"login": "timtay-microsoft"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0jvmmgBqjM1NDAyNTg5MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5FsdRgBqjM1OTEwMDM2MTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eed2446c415b7e5bd5ef80c3bcb2b4eca28c9fd0", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/eed2446c415b7e5bd5ef80c3bcb2b4eca28c9fd0", "committedDate": "2020-07-13T16:07:17Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays\n\nNow every query test will re-run the query until the expected conditions are met or a timeout occurs"}, "afterCommit": {"oid": "681fc4a0b9701090e70c5cb1d4a8662b175c89e5", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/681fc4a0b9701090e70c5cb1d4a8662b175c89e5", "committedDate": "2020-07-13T16:08:42Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays\n\nNow every query test will re-run the query until the expected conditions are met or a timeout occurs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "681fc4a0b9701090e70c5cb1d4a8662b175c89e5", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/681fc4a0b9701090e70c5cb1d4a8662b175c89e5", "committedDate": "2020-07-13T16:08:42Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays\n\nNow every query test will re-run the query until the expected conditions are met or a timeout occurs"}, "afterCommit": {"oid": "e475207eaea850ed622731e460b49a489e854469", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/e475207eaea850ed622731e460b49a489e854469", "committedDate": "2020-07-13T16:09:06Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays\n\nNow every query test will re-run the query until the expected conditions are met or a timeout occurs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e475207eaea850ed622731e460b49a489e854469", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/e475207eaea850ed622731e460b49a489e854469", "committedDate": "2020-07-13T16:09:06Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays\n\nNow every query test will re-run the query until the expected conditions are met or a timeout occurs"}, "afterCommit": {"oid": "0cfec85515dbb90985691c8137b28d57d38b7308", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/0cfec85515dbb90985691c8137b28d57d38b7308", "committedDate": "2020-07-13T18:18:16Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays\n\nNow every query test will re-run the query until the expected conditions are met or a timeout occurs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMjY1MDAz", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/838#pullrequestreview-450265003", "createdAt": "2020-07-16T22:43:08Z", "commit": {"oid": "a7f10940059713be1379e53a46d2bcb70879385c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjo0MzowOVrOGy_R_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjo0MzowOVrOGy_R_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjExODc4Mg==", "bodyText": "The emulator tasks have hit this 10 minute mark and failed even though the emulator is ready to use in the next step, so I've bumped up the timeout to allow for slower emulator start up times", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/838#discussion_r456118782", "createdAt": "2020-07-16T22:43:09Z", "author": {"login": "timtay-microsoft"}, "path": "vsts/windowsLinuxAndAndroidBuildMatrixConfig.yaml", "diffHunk": "@@ -241,7 +243,7 @@ jobs:\n       - task: Bash@3\n         condition: eq(variables['task.android.needToRunTestGroup'], 'yes')\n         displayName: 'Start Android Emulator'\n-        timeoutInMinutes: 10", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7f10940059713be1379e53a46d2bcb70879385c"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MDA1ODk2", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/838#pullrequestreview-456005896", "createdAt": "2020-07-27T17:51:40Z", "commit": {"oid": "83f429c7e1f934052c572f20e12205a8d5550cfe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "832b183a6f492f2e4c8dfea30ce4006d34971214", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/832b183a6f492f2e4c8dfea30ce4006d34971214", "committedDate": "2020-07-27T17:52:44Z", "message": "refactor(e2e): Simplify parameterization of query tests\n\nBy inheriting from DeviceTwinCommon, each query test was run for every device side protocol and for every device side authentication. These query tests are entirely service client tests, though. It doesn't make sense to parameterize them on device client settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e87ae9653188620b9c7f2231324a0b57b168d824", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/e87ae9653188620b9c7f2231324a0b57b168d824", "committedDate": "2020-07-27T17:57:37Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83f429c7e1f934052c572f20e12205a8d5550cfe", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/83f429c7e1f934052c572f20e12205a8d5550cfe", "committedDate": "2020-07-17T01:33:29Z", "message": "Merge branch 'master' into timtay/queryTests"}, "afterCommit": {"oid": "e87ae9653188620b9c7f2231324a0b57b168d824", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-iot-sdk-java/commit/e87ae9653188620b9c7f2231324a0b57b168d824", "committedDate": "2020-07-27T17:57:37Z", "message": "fix(e2e): Fix query e2e tests not accounting for propagation delays"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1719, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}