{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMzYzOTE1", "number": 806, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMjo0NzoxNVrOEE37jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMjo1OToyMVrOEE4FMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNTQ2MTI3OnYy", "diffSide": "RIGHT", "path": "iot-e2e-tests/common/src/main/java/com/microsoft/azure/sdk/iot/common/tests/iothub/TransportClientTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMjo0NzoxNVrOGixQwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMzowNzozM1rOGixpzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTExMTg3Mg==", "bodyText": "Nothing like TimeSpan in Java?", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/806#discussion_r439111872", "createdAt": "2020-06-11T22:47:15Z", "author": {"login": "drwill-ms"}, "path": "iot-e2e-tests/common/src/main/java/com/microsoft/azure/sdk/iot/common/tests/iothub/TransportClientTests.java", "diffHunk": "@@ -50,8 +47,8 @@\n     private static final int NUM_MESSAGES_PER_CONNECTION = 3;\n \n     private static final long RETRY_MILLISECONDS = 100; //.1 seconds\n-    private static final long SEND_TIMEOUT_MILLISECONDS = 5 * 60 * 1000; // 5 minutes\n-    private static final long RECEIVE_MESSAGE_TIMEOUT = 5 * 60 * 1000; // 5 minutes\n+    private static final long SEND_TIMEOUT_MILLISECONDS = 20 * 1000; // 20 seconds", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6ddb0eb0d1bfc68a2663124c6044994184c7d43"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTExODI4Nw==", "bodyText": "Not that I'm familiar with, no. Operations like .await are always just in milliseconds (long or int)", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/806#discussion_r439118287", "createdAt": "2020-06-11T23:07:33Z", "author": {"login": "timtay-microsoft"}, "path": "iot-e2e-tests/common/src/main/java/com/microsoft/azure/sdk/iot/common/tests/iothub/TransportClientTests.java", "diffHunk": "@@ -50,8 +47,8 @@\n     private static final int NUM_MESSAGES_PER_CONNECTION = 3;\n \n     private static final long RETRY_MILLISECONDS = 100; //.1 seconds\n-    private static final long SEND_TIMEOUT_MILLISECONDS = 5 * 60 * 1000; // 5 minutes\n-    private static final long RECEIVE_MESSAGE_TIMEOUT = 5 * 60 * 1000; // 5 minutes\n+    private static final long SEND_TIMEOUT_MILLISECONDS = 20 * 1000; // 20 seconds", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTExMTg3Mg=="}, "originalCommit": {"oid": "e6ddb0eb0d1bfc68a2663124c6044994184c7d43"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNTQ4NTkzOnYy", "diffSide": "RIGHT", "path": "iot-e2e-tests/common/src/main/java/com/microsoft/azure/sdk/iot/common/tests/iothub/TransportClientTests.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMjo1OToyMVrOGixfrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMjo1OToyMVrOGixfrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTExNTY5NA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/806#discussion_r439115694", "createdAt": "2020-06-11T22:59:21Z", "author": {"login": "prmathur-microsoft"}, "path": "iot-e2e-tests/common/src/main/java/com/microsoft/azure/sdk/iot/common/tests/iothub/TransportClientTests.java", "diffHunk": "@@ -251,20 +248,21 @@ public void receiveMessagesIncludingProperties() throws Exception\n     }\n \n     @Test\n-    public void sendMessagesMultithreaded() throws InterruptedException, URISyntaxException, IOException\n+    public void sendMessagesMultithreaded() throws InterruptedException, IOException\n     {\n-        CountDownLatch cdl = new CountDownLatch(testInstance.clientArrayList.size());\n-\n         testInstance.transportClient.open();\n+        Thread[] threads = new Thread[testInstance.clientArrayList.size()];\n \n         for (int i = 0; i < testInstance.clientArrayList.size(); i++)\n         {\n-            new Thread(\n-                    new MultiplexRunnable(\n-                            testInstance.devicesList[i], testInstance.clientArrayList.get(i), NUM_MESSAGES_PER_CONNECTION, NUM_KEYS_PER_MESSAGE, SEND_TIMEOUT_MILLISECONDS, cdl, testInstance.succeed))\n-                    .start();\n+            threads[i] = new Thread(new MultiplexRunnable(testInstance.devicesList[i], testInstance.clientArrayList.get(i), testInstance.succeed));\n+            threads[i].start();\n+        }\n+\n+        for (int i = 0; i < testInstance.clientArrayList.size(); i++)\n+        {\n+            threads[i].join(SEND_TIMEOUT_MILLISECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "234d841a8e6f1c2916efe5f9c357a6a0ec6a8e23"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2823, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}