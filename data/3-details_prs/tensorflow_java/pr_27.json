{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNTczOTI2", "number": 27, "title": "Deterministic ops generation", "bodyText": "This enforces a deterministic order on the ops generation by passing each OpsSpec's method collection through a comparator before building the Java output. The comparator first compares the method name using String's natural ordering, then compares the number of arguments to the methods, then compares the name of each method argument at a specific position using String's natural ordering.\nThe only real edit in this commit is to OperatorProcessor.java the rest is just the rearrangement of the ops according to the above comparator. Unfortunately this means it does rearrange the ops again, but it should be for the final time.", "createdAt": "2020-02-07T19:50:50Z", "url": "https://github.com/tensorflow/java/pull/27", "merged": true, "mergeCommit": {"oid": "7e639c41aa8f99db49cb062cf3e8506ad63e65c8"}, "closed": true, "closedAt": "2020-02-07T20:13:25Z", "author": {"login": "Craigacp"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCExi2AH2gAyMzcyNTczOTI2OmMwMWIzZWU2MTQ4NzFmNjgyMWYyOTgxNTk5NDcwZjNhOGE5Yzg3OWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCFIvOAFqTM1NTQxMDEzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c01b3ee614871f6821f2981599470f3a8a9c879a", "author": {"user": {"login": "Craigacp", "name": "Adam Pocock"}}, "url": "https://github.com/tensorflow/java/commit/c01b3ee614871f6821f2981599470f3a8a9c879a", "committedDate": "2020-02-07T19:47:40Z", "message": "Enforcing an ordering on the ops generation. This should make it perfectly deterministic."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1Mzk5NzYx", "url": "https://github.com/tensorflow/java/pull/27#pullrequestreview-355399761", "createdAt": "2020-02-07T19:54:01Z", "commit": {"oid": "c01b3ee614871f6821f2981599470f3a8a9c879a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOTo1NDowMVrOFnIfdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOTo1NDowMVrOFnIfdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjU3NzkxMQ==", "bodyText": "no need of else blocks if you return in the previous if", "url": "https://github.com/tensorflow/java/pull/27#discussion_r376577911", "createdAt": "2020-02-07T19:54:01Z", "author": {"login": "karllessard"}, "path": "tensorflow-core/tensorflow-core-generator/src/main/java/org/tensorflow/processor/operator/OperatorProcessor.java", "diffHunk": "@@ -154,17 +155,39 @@ public boolean process(Set<? extends TypeElement> annotations, RoundEnvironment\n   }\n \n   private static class OpsSpec {\n+    private static final Comparator<MethodSpec> PARAMETER_SPEC_COMPARATOR = (o1, o2) -> {\n+      if (o1.parameters.size() > o2.parameters.size()) {\n+        return 1;\n+      } else if (o1.parameters.size() < o2.parameters.size()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c01b3ee614871f6821f2981599470f3a8a9c879a"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ccc4f0365b006808dc9f1d0a07210701c3350cc", "author": {"user": {"login": "Craigacp", "name": "Adam Pocock"}}, "url": "https://github.com/tensorflow/java/commit/9ccc4f0365b006808dc9f1d0a07210701c3350cc", "committedDate": "2020-02-07T19:57:07Z", "message": "Removing an unnecessary else block."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b7e344f557bba049b000023a3af0cbc53a20dc7", "author": {"user": {"login": "Craigacp", "name": "Adam Pocock"}}, "url": "https://github.com/tensorflow/java/commit/1b7e344f557bba049b000023a3af0cbc53a20dc7", "committedDate": "2020-02-07T20:08:56Z", "message": "And the other one."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NDEwMTMw", "url": "https://github.com/tensorflow/java/pull/27#pullrequestreview-355410130", "createdAt": "2020-02-07T20:13:00Z", "commit": {"oid": "1b7e344f557bba049b000023a3af0cbc53a20dc7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3433, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}