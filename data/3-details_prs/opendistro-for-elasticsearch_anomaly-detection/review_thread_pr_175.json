{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5MzU2MDk2", "number": 175, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDo1MjozNVrOEIhmYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDo1NTo1MFrOEIhqgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3Mzc0NTYzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDo1MjozNVrOGoituA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNjozNToxMlrOGqZChg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NDk4NA==", "bodyText": "minor. why not add maxvalue?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/175#discussion_r445164984", "createdAt": "2020-06-24T20:52:35Z", "author": {"login": "wnbts"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -163,7 +163,8 @@ private AnomalyDetectorSettings() {}\n \n     public static final double DESIRED_MODEL_SIZE_PERCENTAGE = 0.0002;\n \n-    public static final double MODEL_MAX_SIZE_PERCENTAGE = 0.1;\n+    public static final Setting<Double> MODEL_MAX_SIZE_PERCENTAGE = Setting\n+        .doubleSetting(\"opendistro.anomaly_detection.model_max_size_percent\", 0.1, 0, Setting.Property.NodeScope, Setting.Property.Dynamic);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dffdf3207668778f21f86916ae9d87247cedf26a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEwMzYyMg==", "bodyText": "added 0.7 as max", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/175#discussion_r447103622", "createdAt": "2020-06-29T16:35:12Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -163,7 +163,8 @@ private AnomalyDetectorSettings() {}\n \n     public static final double DESIRED_MODEL_SIZE_PERCENTAGE = 0.0002;\n \n-    public static final double MODEL_MAX_SIZE_PERCENTAGE = 0.1;\n+    public static final Setting<Double> MODEL_MAX_SIZE_PERCENTAGE = Setting\n+        .doubleSetting(\"opendistro.anomaly_detection.model_max_size_percent\", 0.1, 0, Setting.Property.NodeScope, Setting.Property.Dynamic);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NDk4NA=="}, "originalCommit": {"oid": "dffdf3207668778f21f86916ae9d87247cedf26a"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3Mzc1NjE4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/ml/ModelManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDo1NTo1MFrOGoi0OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzozNjoxMVrOGqbPFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NjY0OA==", "bodyText": "why not do this at plugin configuration to reduce unnecessary dependencies only used once?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/175#discussion_r445166648", "createdAt": "2020-06-24T20:55:50Z", "author": {"login": "wnbts"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/ml/ModelManager.java", "diffHunk": "@@ -197,6 +200,9 @@ public ModelManager(\n         this.forests = new ConcurrentHashMap<>();\n         this.thresholds = new ConcurrentHashMap<>();\n         this.shingleSize = shingleSize;\n+\n+        this.modelMaxSizePercentage = MODEL_MAX_SIZE_PERCENTAGE.get(settings);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dffdf3207668778f21f86916ae9d87247cedf26a"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEzOTYwNA==", "bodyText": "good idea.  Changed.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/175#discussion_r447139604", "createdAt": "2020-06-29T17:36:11Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/ml/ModelManager.java", "diffHunk": "@@ -197,6 +200,9 @@ public ModelManager(\n         this.forests = new ConcurrentHashMap<>();\n         this.thresholds = new ConcurrentHashMap<>();\n         this.shingleSize = shingleSize;\n+\n+        this.modelMaxSizePercentage = MODEL_MAX_SIZE_PERCENTAGE.get(settings);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NjY0OA=="}, "originalCommit": {"oid": "dffdf3207668778f21f86916ae9d87247cedf26a"}, "originalPosition": 70}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2886, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}