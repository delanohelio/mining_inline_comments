{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MzM4NDcy", "number": 168, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNjo1Mjo0MVrOEHp37Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxODo0ODowNFrOEHsJzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NDYxNTQ5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNjo1Mjo0MlrOGnJI4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNzo0OToxMVrOGnK_qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzY5NzM3Ng==", "bodyText": "minor. comments are outdated.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/168#discussion_r443697376", "createdAt": "2020-06-22T16:52:42Z", "author": {"login": "wnbts"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -88,7 +88,7 @@ private AnomalyDetectorSettings() {}\n             // Suppose generally per cluster has 200 detectors and all run with 1 minute interval.\n             // We will get 288,000 AD result docs. So set it as 300k to avoid multiple roll overs\n             // per day.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "142688cefc420180cca4137a7441f817cbbe1486"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzcyNzc4NA==", "bodyText": "updated", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/168#discussion_r443727784", "createdAt": "2020-06-22T17:49:11Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -88,7 +88,7 @@ private AnomalyDetectorSettings() {}\n             // Suppose generally per cluster has 200 detectors and all run with 1 minute interval.\n             // We will get 288,000 AD result docs. So set it as 300k to avoid multiple roll overs\n             // per day.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzY5NzM3Ng=="}, "originalCommit": {"oid": "142688cefc420180cca4137a7441f817cbbe1486"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NDk4ODkyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxODo0ODowNFrOGnM2aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDozNTo1MFrOGnQEYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc1ODE4NQ==", "bodyText": "Is this a problem for 200 detectors? From the comment 300k is taking care of  288k limit to avoid multiple roll overs right?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/168#discussion_r443758185", "createdAt": "2020-06-22T18:48:04Z", "author": {"login": "vamshin"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -86,9 +86,9 @@ private AnomalyDetectorSettings() {}\n         .longSetting(\n             \"opendistro.anomaly_detection.ad_result_history_max_docs\",\n             // Suppose generally per cluster has 200 detectors and all run with 1 minute interval.\n-            // We will get 288,000 AD result docs. So set it as 300k to avoid multiple roll overs\n+            // We will get 288,000 AD result docs. So set it as 9000k to avoid multiple roll overs\n             // per day.\n-            300 * 1000L,\n+            9_000_000L,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac3bc59701689e8dd1074d3ff130bfb7a94f90d2"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc3NzYyOA==", "bodyText": "it is not a problem for 200 detectors.  It is a problem of small shard.   Please see my PR descriptions.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/168#discussion_r443777628", "createdAt": "2020-06-22T19:27:29Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -86,9 +86,9 @@ private AnomalyDetectorSettings() {}\n         .longSetting(\n             \"opendistro.anomaly_detection.ad_result_history_max_docs\",\n             // Suppose generally per cluster has 200 detectors and all run with 1 minute interval.\n-            // We will get 288,000 AD result docs. So set it as 300k to avoid multiple roll overs\n+            // We will get 288,000 AD result docs. So set it as 9000k to avoid multiple roll overs\n             // per day.\n-            300 * 1000L,\n+            9_000_000L,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc1ODE4NQ=="}, "originalCommit": {"oid": "ac3bc59701689e8dd1074d3ff130bfb7a94f90d2"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxMDkxMw==", "bodyText": "Right i get that. Comment is misleading here. Why not mention the message in PR description as comment? We are talking about 200 detectors and roll overs in the comment. Atleast mention the PR?\nOne more thing you might want to confirm is does having larger index impact performance when compared to previous smaller index?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/168#discussion_r443810913", "createdAt": "2020-06-22T20:35:50Z", "author": {"login": "vamshin"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/settings/AnomalyDetectorSettings.java", "diffHunk": "@@ -86,9 +86,9 @@ private AnomalyDetectorSettings() {}\n         .longSetting(\n             \"opendistro.anomaly_detection.ad_result_history_max_docs\",\n             // Suppose generally per cluster has 200 detectors and all run with 1 minute interval.\n-            // We will get 288,000 AD result docs. So set it as 300k to avoid multiple roll overs\n+            // We will get 288,000 AD result docs. So set it as 9000k to avoid multiple roll overs\n             // per day.\n-            300 * 1000L,\n+            9_000_000L,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc1ODE4NQ=="}, "originalCommit": {"oid": "ac3bc59701689e8dd1074d3ff130bfb7a94f90d2"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2873, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}