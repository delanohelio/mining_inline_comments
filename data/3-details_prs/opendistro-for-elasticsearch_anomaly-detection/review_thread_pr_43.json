{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MDI4MDgx", "number": 43, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMToyNjowOFrODftDNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwODowMTozNVrODhbKjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTcwNTUxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMToyNjowOFrOFpkGfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMzozMDowOFrOFpnHfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEyNzQyMg==", "bodyText": "remove empty line", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r379127422", "createdAt": "2020-02-13T21:26:08Z", "author": {"login": "ylwu-amzn"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsRequest.java", "diffHunk": "@@ -35,6 +35,12 @@\n \n     private Set<String> statsToBeRetrieved;\n \n+    public ADStatsRequest(StreamInput in) throws IOException {\n+        super(in);\n+        statsToBeRetrieved = in.readSet(StreamInput::readString);\n+        ;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE3NjgyOQ==", "bodyText": "Oops, will do, thanks.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r379176829", "createdAt": "2020-02-13T23:30:08Z", "author": {"login": "jngz-es"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsRequest.java", "diffHunk": "@@ -35,6 +35,12 @@\n \n     private Set<String> statsToBeRetrieved;\n \n+    public ADStatsRequest(StreamInput in) throws IOException {\n+        super(in);\n+        statsToBeRetrieved = in.readSet(StreamInput::readString);\n+        ;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEyNzQyMg=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTc2MTQ5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMTo0NjozNFrOFpkqiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMzozMDozNFrOFpnH8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzNjY1MQ==", "bodyText": "Why change to writeList?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r379136651", "createdAt": "2020-02-13T21:46:34Z", "author": {"login": "ylwu-amzn"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsResponse.java", "diffHunk": "@@ -77,7 +77,7 @@ public void writeTo(StreamOutput out) throws IOException {\n \n     @Override\n     public void writeNodesTo(StreamOutput out, List<ADStatsNodeResponse> nodes) throws IOException {\n-        out.writeStreamableList(nodes);\n+        out.writeList(nodes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE3Njk0NQ==", "bodyText": "Yeah, that was deprecated.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r379176945", "createdAt": "2020-02-13T23:30:34Z", "author": {"login": "jngz-es"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsResponse.java", "diffHunk": "@@ -77,7 +77,7 @@ public void writeTo(StreamOutput out) throws IOException {\n \n     @Override\n     public void writeNodesTo(StreamOutput out, List<ADStatsNodeResponse> nodes) throws IOException {\n-        out.writeStreamableList(nodes);\n+        out.writeList(nodes);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzNjY1MQ=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAyMjAyOnYy", "diffSide": "RIGHT", "path": "build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMjowN1rOFred6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1NzoxM1rOFsfQ2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjI2Ng==", "bodyText": "We are still doing an alpha release, not official release, right?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r381132266", "createdAt": "2020-02-19T08:12:07Z", "author": {"login": "kaituo"}, "path": "build.gradle", "diffHunk": "@@ -43,11 +43,11 @@ repositories {\n }\n \n ext {\n-    opendistroVersion = '1.2.1'\n+    opendistroVersion = '1.4.0'\n     isSnapshot = \"true\" == System.getProperty(\"build.snapshot\", \"true\")\n }\n \n-version = \"${opendistroVersion}.0-alpha\"\n+version = \"${opendistroVersion}.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5Mzg4Mw==", "bodyText": "I think this is for 7.4 release.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r382193883", "createdAt": "2020-02-20T18:57:13Z", "author": {"login": "jngz-es"}, "path": "build.gradle", "diffHunk": "@@ -43,11 +43,11 @@ repositories {\n }\n \n ext {\n-    opendistroVersion = '1.2.1'\n+    opendistroVersion = '1.4.0'\n     isSnapshot = \"true\" == System.getProperty(\"build.snapshot\", \"true\")\n }\n \n-version = \"${opendistroVersion}.0-alpha\"\n+version = \"${opendistroVersion}.0\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjI2Ng=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAyNDYzOnYy", "diffSide": "RIGHT", "path": "build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMzowOFrOFrefiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1OToyNlrOFsfVXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjY4MA==", "bodyText": "Why do we add those exclusions?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r381132680", "createdAt": "2020-02-19T08:13:08Z", "author": {"login": "kaituo"}, "path": "build.gradle", "diffHunk": "@@ -258,6 +258,9 @@ List<String> jacocoExclusions = [\n         'com.amazon.opendistroforelasticsearch.ad.transport.StopDetectorRequest',\n         'com.amazon.opendistroforelasticsearch.ad.transport.StopDetectorResponse',\n         'com.amazon.opendistroforelasticsearch.ad.transport.StopDetectorTransportAction',\n+        'com.amazon.opendistroforelasticsearch.ad.transport.ADStatsAction',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NTAzOA==", "bodyText": "To speed up 7.4 release, I excluded them since UT coverage is below the threshold.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r382195038", "createdAt": "2020-02-20T18:59:26Z", "author": {"login": "jngz-es"}, "path": "build.gradle", "diffHunk": "@@ -258,6 +258,9 @@ List<String> jacocoExclusions = [\n         'com.amazon.opendistroforelasticsearch.ad.transport.StopDetectorRequest',\n         'com.amazon.opendistroforelasticsearch.ad.transport.StopDetectorResponse',\n         'com.amazon.opendistroforelasticsearch.ad.transport.StopDetectorTransportAction',\n+        'com.amazon.opendistroforelasticsearch.ad.transport.ADStatsAction',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjY4MA=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MzU2Mjg4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsNodeRequest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNjo0NTozOFrOFsHukQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTowMDoyNlrOFsfXVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgwODI3Mw==", "bodyText": "Do we still need this method since you have added a new constructor taking StreamInput as input?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r381808273", "createdAt": "2020-02-20T06:45:38Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsNodeRequest.java", "diffHunk": "@@ -54,9 +57,7 @@ public ADStatsRequest getADStatsRequest() {\n         return request;\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NTU0Mg==", "bodyText": "I saw there is still reference to this function, so I kept it.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r382195542", "createdAt": "2020-02-20T19:00:26Z", "author": {"login": "jngz-es"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsNodeRequest.java", "diffHunk": "@@ -54,9 +57,7 @@ public ADStatsRequest getADStatsRequest() {\n         return request;\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgwODI3Mw=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MzU3Mjc3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsNodeResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNjo0ODowOVrOFsHzvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTowNDo0MVrOFsfgdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgwOTU5OQ==", "bodyText": "Do we still need this method?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r381809599", "createdAt": "2020-02-20T06:48:09Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsNodeResponse.java", "diffHunk": "@@ -70,9 +75,7 @@ public static ADStatsNodeResponse readStats(StreamInput in) throws IOException {\n         return statsMap;\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n         this.statsMap = in.readMap(StreamInput::readString, StreamInput::readGenericValue);\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5Nzg3OQ==", "bodyText": "You are right, I will remove it.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r382197879", "createdAt": "2020-02-20T19:04:41Z", "author": {"login": "jngz-es"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsNodeResponse.java", "diffHunk": "@@ -70,9 +75,7 @@ public static ADStatsNodeResponse readStats(StreamInput in) throws IOException {\n         return statsMap;\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n         this.statsMap = in.readMap(StreamInput::readString, StreamInput::readGenericValue);\n     }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgwOTU5OQ=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MzU4MDAyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsRequest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNjo0OTo0NVrOFsH3Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTowNjoyNlrOFsfkNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgxMDUxNQ==", "bodyText": "Do we still need this method since you have added a new constructor taking StreamInput as input?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r381810515", "createdAt": "2020-02-20T06:49:45Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsRequest.java", "diffHunk": "@@ -79,9 +85,7 @@ public void clear() {\n         return statsToBeRetrieved;\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5ODgzNg==", "bodyText": "I still see a reference to this function. I don't want to touch too much code which is not related to build against 7.4.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r382198836", "createdAt": "2020-02-20T19:06:26Z", "author": {"login": "jngz-es"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADStatsRequest.java", "diffHunk": "@@ -79,9 +85,7 @@ public void clear() {\n         return statsToBeRetrieved;\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgxMDUxNQ=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2Mzc0NjcwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelNodeRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwODowMTozNVrOFsJY1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOToxODoxNlrOFsf8mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgzNTQ3OQ==", "bodyText": "Do we still need this method since you have added a new constructor taking StreamInput as input?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r381835479", "createdAt": "2020-02-20T08:01:35Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelNodeRequest.java", "diffHunk": "@@ -30,14 +30,16 @@\n \n     DeleteModelNodeRequest() {}\n \n-    DeleteModelNodeRequest(String nodeID, DeleteModelRequest request) {\n-        super(nodeID);\n+    DeleteModelNodeRequest(StreamInput in) throws IOException {\n+        super(in);\n+        this.adID = in.readString();\n+    }\n+\n+    DeleteModelNodeRequest(DeleteModelRequest request) {\n         this.adID = request.getAdID();\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwNTA4MQ==", "bodyText": "You are right, I will remove it.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/43#discussion_r382205081", "createdAt": "2020-02-20T19:18:16Z", "author": {"login": "jngz-es"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelNodeRequest.java", "diffHunk": "@@ -30,14 +30,16 @@\n \n     DeleteModelNodeRequest() {}\n \n-    DeleteModelNodeRequest(String nodeID, DeleteModelRequest request) {\n-        super(nodeID);\n+    DeleteModelNodeRequest(StreamInput in) throws IOException {\n+        super(in);\n+        this.adID = in.readString();\n+    }\n+\n+    DeleteModelNodeRequest(DeleteModelRequest request) {\n         this.adID = request.getAdID();\n     }\n \n-    @Override\n     public void readFrom(StreamInput in) throws IOException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgzNTQ3OQ=="}, "originalCommit": {"oid": "5041c8c38b2ed61f22a50aa5401ea6e762b2fcc7"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2973, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}