{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MDY0MTA3", "number": 284, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQyMTo1MDoyNVrOEv_atg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMDowMzozNlrOEwBbBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NzU3NTU4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADResultBulkAction.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQyMTo1MDoyNVrOHlSdAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQyMjowNjo1N1rOHlS5_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MTY5Ng==", "bodyText": "Could we put the internal and external action common prefix to CommonValue so that it is harder to have typo errors and easier to maintain in case that we want to change in the future?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508861696", "createdAt": "2020-10-20T21:50:25Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADResultBulkAction.java", "diffHunk": "@@ -23,7 +23,7 @@\n public class ADResultBulkAction extends ActionType<BulkResponse> {\n \n     public static final ADResultBulkAction INSTANCE = new ADResultBulkAction();\n-    //Internal Action which is not used for public facing RestAPIs.\n+    // Internal Action which is not used for public facing RestAPIs.\n     public static final String NAME = \"cluster:admin/opendistro/adinternal/write/bulk\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe7867a789a0d020c69ee989d8bec154a3ba28e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2OTExNg==", "bodyText": "Sure, thats a nice idea.\nWill make a change.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508869116", "createdAt": "2020-10-20T22:06:57Z", "author": {"login": "saratvemulapalli"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADResultBulkAction.java", "diffHunk": "@@ -23,7 +23,7 @@\n public class ADResultBulkAction extends ActionType<BulkResponse> {\n \n     public static final ADResultBulkAction INSTANCE = new ADResultBulkAction();\n-    //Internal Action which is not used for public facing RestAPIs.\n+    // Internal Action which is not used for public facing RestAPIs.\n     public static final String NAME = \"cluster:admin/opendistro/adinternal/write/bulk\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MTY5Ng=="}, "originalCommit": {"oid": "dbe7867a789a0d020c69ee989d8bec154a3ba28e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NzU4MDYzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/AnomalyResultAction.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQyMTo1MjowN1rOHlSgIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMDowMDoyMlrOHlVduA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjQ5Ng==", "bodyText": "should this be internal since only background job runs it?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508862496", "createdAt": "2020-10-20T21:52:07Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/AnomalyResultAction.java", "diffHunk": "@@ -19,7 +19,7 @@\n \n public class AnomalyResultAction extends ActionType<AnomalyResultResponse> {\n     public static final AnomalyResultAction INSTANCE = new AnomalyResultAction();\n-    //External Action which used for public facing RestAPIs.\n+    // External Action which used for public facing RestAPIs.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe7867a789a0d020c69ee989d8bec154a3ba28e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2OTQ1Ng==", "bodyText": "It is also used in one of our Rest APIs which I wanted it to be external action : \n  \n    \n      anomaly-detection/src/main/java/com/amazon/opendistroforelasticsearch/ad/rest/RestExecuteAnomalyDetectorAction.java\n    \n    \n         Line 127\n      in\n      129d249\n    \n    \n    \n    \n\n        \n          \n           client.execute(AnomalyResultAction.INSTANCE, getRequest, new RestToXContentListener<>(channel));", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508869456", "createdAt": "2020-10-20T22:07:51Z", "author": {"login": "saratvemulapalli"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/AnomalyResultAction.java", "diffHunk": "@@ -19,7 +19,7 @@\n \n public class AnomalyResultAction extends ActionType<AnomalyResultResponse> {\n     public static final AnomalyResultAction INSTANCE = new AnomalyResultAction();\n-    //External Action which used for public facing RestAPIs.\n+    // External Action which used for public facing RestAPIs.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjQ5Ng=="}, "originalCommit": {"oid": "dbe7867a789a0d020c69ee989d8bec154a3ba28e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTAzMg==", "bodyText": "I see.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508911032", "createdAt": "2020-10-21T00:00:22Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/AnomalyResultAction.java", "diffHunk": "@@ -19,7 +19,7 @@\n \n public class AnomalyResultAction extends ActionType<AnomalyResultResponse> {\n     public static final AnomalyResultAction INSTANCE = new AnomalyResultAction();\n-    //External Action which used for public facing RestAPIs.\n+    // External Action which used for public facing RestAPIs.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjQ5Ng=="}, "originalCommit": {"oid": "dbe7867a789a0d020c69ee989d8bec154a3ba28e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NzkwNDA0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelAction.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMDowMzozNlrOHlVhcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMDowNTo1N1rOHlVj9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTk4Nw==", "bodyText": "This is internal.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508911987", "createdAt": "2020-10-21T00:03:36Z", "author": {"login": "kaituo"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelAction.java", "diffHunk": "@@ -15,12 +15,13 @@\n \n package com.amazon.opendistroforelasticsearch.ad.transport;\n \n+import com.amazon.opendistroforelasticsearch.ad.constant.CommonValue;\n import org.elasticsearch.action.ActionType;\n \n public class DeleteModelAction extends ActionType<DeleteModelResponse> {\n     public static final DeleteModelAction INSTANCE = new DeleteModelAction();\n     // Internal Action which is not used for public facing RestAPIs.\n-    public static final String NAME = \"cluster:admin/opendistro/adinternal/model/delete\";\n+    public static final String NAME = CommonValue.EXTERNAL_ACTION_PREFIX + \"model/delete\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8718f078d784abe61f4cd6132a3bf46fe49bff"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMjYzMQ==", "bodyText": "Yeah I did take care of it : )", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508912631", "createdAt": "2020-10-21T00:05:57Z", "author": {"login": "saratvemulapalli"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelAction.java", "diffHunk": "@@ -15,12 +15,13 @@\n \n package com.amazon.opendistroforelasticsearch.ad.transport;\n \n+import com.amazon.opendistroforelasticsearch.ad.constant.CommonValue;\n import org.elasticsearch.action.ActionType;\n \n public class DeleteModelAction extends ActionType<DeleteModelResponse> {\n     public static final DeleteModelAction INSTANCE = new DeleteModelAction();\n     // Internal Action which is not used for public facing RestAPIs.\n-    public static final String NAME = \"cluster:admin/opendistro/adinternal/model/delete\";\n+    public static final String NAME = CommonValue.EXTERNAL_ACTION_PREFIX + \"model/delete\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTk4Nw=="}, "originalCommit": {"oid": "fe8718f078d784abe61f4cd6132a3bf46fe49bff"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2787, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}