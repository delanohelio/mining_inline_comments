{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MzAyMDY2", "number": 165, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQwMTowMToyM1rOEHQ9jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQwMTowMToyM1rOEHQ9jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MDUzMzkwOnYy", "diffSide": "RIGHT", "path": ".github/workflows/CI.yml", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQwMTowMToyM1rOGmj6kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQwMTo1ODo0MFrOGmkLjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA==", "bodyText": "if it is false, will the CI workflow fail?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443087504", "createdAt": "2020-06-20T01:01:23Z", "author": {"login": "yizheliu-amazon"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4ODY3Ng==", "bodyText": "no, it won't.  See the workflow ran as part of the PR.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443088676", "createdAt": "2020-06-20T01:16:02Z", "author": {"login": "kaituo"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA=="}, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4OTQ3OQ==", "bodyText": "hmmm, should we fail workflow if docker image doesn't exist? It is a dependency to the workflow. If any PR comes when docker image is not there, we may miss the unit test as protection here.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443089479", "createdAt": "2020-06-20T01:26:21Z", "author": {"login": "yizheliu-amazon"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA=="}, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4OTkwOA==", "bodyText": "unit tests still runs.  Only docker related tests won't run.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443089908", "createdAt": "2020-06-20T01:31:32Z", "author": {"login": "kaituo"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA=="}, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA5MTY2Ng==", "bodyText": "I see. IT won't run if docker is missing. Will it be a concern if PR which may break IT gets merged, but not caught in CI given docker is missing?", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443091666", "createdAt": "2020-06-20T01:55:33Z", "author": {"login": "yizheliu-amazon"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA=="}, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA5MTc5OA==", "bodyText": "IT runs as well. Just won't run in a docker environment.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443091798", "createdAt": "2020-06-20T01:57:32Z", "author": {"login": "kaituo"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA=="}, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA5MTg1NA==", "bodyText": "okay.", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/165#discussion_r443091854", "createdAt": "2020-06-20T01:58:40Z", "author": {"login": "yizheliu-amazon"}, "path": ".github/workflows/CI.yml", "diffHunk": "@@ -48,15 +52,20 @@ jobs:\n             echo \"RUN /usr/share/elasticsearch/bin/elasticsearch-plugin install --batch file:/tmp/opendistro-anomaly-detection-$plugin_version.zip\" >> Dockerfile\n \n             docker build -t odfe-ad:test .\n+            echo \"::set-env name=imagePresent::true\"\n+          else\n+            echo \"::set-env name=imagePresent::false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA4NzUwNA=="}, "originalCommit": {"oid": "898fa28a9420cd87c31621ca9169f00bdce60996"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2870, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}