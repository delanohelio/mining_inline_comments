{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MTU5NTk1", "number": 101, "title": "Round", "bodyText": "feat: adding functions roundup(), rounddown() and support for negative precision.", "createdAt": "2020-01-03T23:56:48Z", "url": "https://github.com/questdb/questdb/pull/101", "merged": true, "mergeCommit": {"oid": "12b8bb9041cabd2610a42c0a0db3d4f3e883eb20"}, "closed": true, "closedAt": "2020-01-06T18:05:02Z", "author": {"login": "TheTanc"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb21MXhgH2gAyMzU5MTU5NTk1OjNjODBjMDBhY2NiYWM2YTNkN2RiMzBiZmIzNDcwMzI4YTk4YThkODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3wG69AFqTMzODc5OTIyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3c80c00accbac6a3d7db30bfb3470328a98a8d85", "author": {"user": null}, "url": "https://github.com/questdb/questdb/commit/3c80c00accbac6a3d7db30bfb3470328a98a8d85", "committedDate": "2020-01-03T21:25:19Z", "message": "feat: Adding negative scale support for round()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed95bdea0c10a0cc12d7c20d8a180ee445dd8986", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/ed95bdea0c10a0cc12d7c20d8a180ee445dd8986", "committedDate": "2020-01-03T23:52:52Z", "message": "feat: Adding roundup() and rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b44529cac60bb9f7dd1309ea29126fc2d7f63cc2", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/b44529cac60bb9f7dd1309ea29126fc2d7f63cc2", "committedDate": "2020-01-04T23:39:02Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Mzc0OTQw", "url": "https://github.com/questdb/questdb/pull/101#pullrequestreview-338374940", "createdAt": "2020-01-05T00:02:11Z", "commit": {"oid": "b44529cac60bb9f7dd1309ea29126fc2d7f63cc2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwMDowMjoxMVrOFaPgzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwMDowNToyMFrOFaPhKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MTQ1NA==", "bodyText": "Now that you know right is constant there no need to pass Function, pass int instead. This will eliminate possible function call for every row.", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363061454", "createdAt": "2020-01-05T00:02:11Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);\n+        if (precision.isConstant()) {\n+            int precisionValue = precision.getInt(null);\n+            return (precisionValue != Numbers.INT_NaN && precisionValue * precisionValue <= Numbers.pow10max * Numbers.pow10max) ?\n+                    new FuncConst(position, args.getQuick(0), precision) :\n+                    new DoubleConstant(position, Double.NaN);\n+        }\n+        return new Func(position, args.getQuick(0), args.getQuick(1));\n+    }\n+\n+    private static class FuncConst extends DoubleFunction implements BinaryFunction {\n+        private final Function left;\n+        private final Function right;\n+\n+        public FuncConst(int position, Function left, Function right) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b44529cac60bb9f7dd1309ea29126fc2d7f63cc2"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MTUzMQ==", "bodyText": "the check\nr > 0\n\ncan be done in factory and instead of one FuncConst class we could have two: FuncPosConst and FuncNegConst, which will invoke respective Numbers static function.", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363061531", "createdAt": "2020-01-05T00:04:15Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);\n+        if (precision.isConstant()) {\n+            int precisionValue = precision.getInt(null);\n+            return (precisionValue != Numbers.INT_NaN && precisionValue * precisionValue <= Numbers.pow10max * Numbers.pow10max) ?\n+                    new FuncConst(position, args.getQuick(0), precision) :\n+                    new DoubleConstant(position, Double.NaN);\n+        }\n+        return new Func(position, args.getQuick(0), args.getQuick(1));\n+    }\n+\n+    private static class FuncConst extends DoubleFunction implements BinaryFunction {\n+        private final Function left;\n+        private final Function right;\n+\n+        public FuncConst(int position, Function left, Function right) {\n+            super(position);\n+            this.left = left;\n+            this.right = right;\n+        }\n+\n+        @Override\n+        public double getDouble(Record rec) {\n+            final double l = left.getDouble(rec);\n+            if (l != l) {\n+                return l;\n+            }\n+\n+            final int r = right.getInt(null);\n+            return (r > 0) ? Numbers.roundDownPosScale(l, r) : Numbers.roundDownNegScale(l, r);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b44529cac60bb9f7dd1309ea29126fc2d7f63cc2"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MTU0NQ==", "bodyText": "what is the secret behind comparing squared values, why not compare precisionValue and pow10max directly?", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363061545", "createdAt": "2020-01-05T00:05:20Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);\n+        if (precision.isConstant()) {\n+            int precisionValue = precision.getInt(null);\n+            return (precisionValue != Numbers.INT_NaN && precisionValue * precisionValue <= Numbers.pow10max * Numbers.pow10max) ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b44529cac60bb9f7dd1309ea29126fc2d7f63cc2"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9933e52154cd3eae703af239f4513a803a87ee78", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/9933e52154cd3eae703af239f4513a803a87ee78", "committedDate": "2020-01-05T00:13:14Z", "message": "feat: Adding roundup() and rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45b44416261d8c9b81ecd8365a576c274d790d19", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/45b44416261d8c9b81ecd8365a576c274d790d19", "committedDate": "2020-01-05T00:13:14Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b061755643f8ce4d917c2b7b04033834f7a2bf58", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/b061755643f8ce4d917c2b7b04033834f7a2bf58", "committedDate": "2020-01-05T00:13:33Z", "message": "Merge branch 'round' of https://github.com/questdb/questdb into round"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d11c41163ca38526cfa4490f48eb9ed3cf014e57", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/d11c41163ca38526cfa4490f48eb9ed3cf014e57", "committedDate": "2020-01-05T00:56:03Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ac490981b025a63d9ce4d6a6fd98749f730f927", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/1ac490981b025a63d9ce4d6a6fd98749f730f927", "committedDate": "2020-01-05T00:58:30Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Mzc2MzI0", "url": "https://github.com/questdb/questdb/pull/101#pullrequestreview-338376324", "createdAt": "2020-01-05T01:07:22Z", "commit": {"oid": "1ac490981b025a63d9ce4d6a6fd98749f730f927"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwMTowNzoyMlrOFaPoMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwMToxMjoxNVrOFaPovA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MzM0Nw==", "bodyText": "technically, <= will execute a little slower that >. This branch can be inverted without changing logic of the code.", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363063347", "createdAt": "2020-01-05T01:07:22Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);\n+        if (precision.isConstant()) {\n+            int precisionValue = precision.getInt(null);\n+            if (precisionValue != Numbers.INT_NaN && Math.abs(precisionValue) <= Numbers.pow10max) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ac490981b025a63d9ce4d6a6fd98749f730f927"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MzM4NQ==", "bodyText": "in the same vane, x >= 0 is slower than x > -1. The outcome is the same though", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363063385", "createdAt": "2020-01-05T01:08:11Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);\n+        if (precision.isConstant()) {\n+            int precisionValue = precision.getInt(null);\n+            if (precisionValue != Numbers.INT_NaN && Math.abs(precisionValue) <= Numbers.pow10max) {\n+                if (precisionValue >= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ac490981b025a63d9ce4d6a6fd98749f730f927"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MzQ4MA==", "bodyText": "here is a suggestion: when we pass precisionValue as is to this constructor we will have to execute -scale for every row. If on other hand we pass -previsionValue the functions can be rewritten to take positive scale value and but interpret it as negative. Thus not execute - operator for every row.", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363063480", "createdAt": "2020-01-05T01:11:45Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);\n+        if (precision.isConstant()) {\n+            int precisionValue = precision.getInt(null);\n+            if (precisionValue != Numbers.INT_NaN && Math.abs(precisionValue) <= Numbers.pow10max) {\n+                if (precisionValue >= 0) {\n+                    return new FuncPosConst(position, args.getQuick(0), precisionValue);\n+                }\n+                return new FuncNegConst(position, args.getQuick(0), precisionValue);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ac490981b025a63d9ce4d6a6fd98749f730f927"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MzQ4NA==", "bodyText": "may be we should use scale term instead of precision", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363063484", "createdAt": "2020-01-05T01:12:15Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function precision = args.getQuick(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ac490981b025a63d9ce4d6a6fd98749f730f927"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "281381762ab3b6553b54c1fa9b62d5ddf47c6a14", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/281381762ab3b6553b54c1fa9b62d5ddf47c6a14", "committedDate": "2020-01-05T02:38:38Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Mzc4Mzk2", "url": "https://github.com/questdb/questdb/pull/101#pullrequestreview-338378396", "createdAt": "2020-01-05T02:42:30Z", "commit": {"oid": "281381762ab3b6553b54c1fa9b62d5ddf47c6a14"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwMjo0MjozMFrOFaPyiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwMjo0NTowOVrOFaPy3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2NTk5NQ==", "bodyText": "no return statement?", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363065995", "createdAt": "2020-01-05T02:42:30Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function scale = args.getQuick(1);\n+        if (scale.isConstant()) {\n+            int scaleValue = scale.getInt(null);\n+            if (scaleValue != Numbers.INT_NaN) {\n+                if (scaleValue > 0 && scaleValue < Numbers.pow10max) {\n+                    return new FuncPosConst(position, args.getQuick(0), scaleValue);\n+                } else {\n+                    new DoubleConstant(position, Double.NaN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "281381762ab3b6553b54c1fa9b62d5ddf47c6a14"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2NjAxMg==", "bodyText": "no return statement and perhaps this should be a NaN constant rather than 0", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363066012", "createdAt": "2020-01-05T02:42:55Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function scale = args.getQuick(1);\n+        if (scale.isConstant()) {\n+            int scaleValue = scale.getInt(null);\n+            if (scaleValue != Numbers.INT_NaN) {\n+                if (scaleValue > 0 && scaleValue < Numbers.pow10max) {\n+                    return new FuncPosConst(position, args.getQuick(0), scaleValue);\n+                } else {\n+                    new DoubleConstant(position, Double.NaN);\n+                }\n+                if (scaleValue < 0 && scaleValue < -Numbers.pow10max) {\n+                    return new FuncNegConst(position, args.getQuick(0), scaleValue);\n+                } else {\n+                    new DoubleConstant(position, 0.0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "281381762ab3b6553b54c1fa9b62d5ddf47c6a14"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2NjA3Nw==", "bodyText": "no return statement?", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363066077", "createdAt": "2020-01-05T02:45:09Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function scale = args.getQuick(1);\n+        if (scale.isConstant()) {\n+            int scaleValue = scale.getInt(null);\n+            if (scaleValue != Numbers.INT_NaN) {\n+                if (scaleValue > 0 && scaleValue < Numbers.pow10max) {\n+                    return new FuncPosConst(position, args.getQuick(0), scaleValue);\n+                } else {\n+                    new DoubleConstant(position, Double.NaN);\n+                }\n+                if (scaleValue < 0 && scaleValue < -Numbers.pow10max) {\n+                    return new FuncNegConst(position, args.getQuick(0), scaleValue);\n+                } else {\n+                    new DoubleConstant(position, 0.0);\n+                }\n+            }\n+            new DoubleConstant(position, Double.NaN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "281381762ab3b6553b54c1fa9b62d5ddf47c6a14"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24a1c06dbd938b6800671bf7c4e571053b9de2c0", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/24a1c06dbd938b6800671bf7c4e571053b9de2c0", "committedDate": "2020-01-05T14:00:11Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NDI1MDkw", "url": "https://github.com/questdb/questdb/pull/101#pullrequestreview-338425090", "createdAt": "2020-01-05T22:26:33Z", "commit": {"oid": "24a1c06dbd938b6800671bf7c4e571053b9de2c0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQyMjoyNjozM1rOFaTK0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQyMjoyNjozM1rOFaTK0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzEyMTM2MQ==", "bodyText": "when scaleValue is NaN we go ahead and return  heaviest implementation. Perhaps return statement just above this comment needs to sit outside if(scaleValue != Numbers.INT_NaN)", "url": "https://github.com/questdb/questdb/pull/101#discussion_r363121361", "createdAt": "2020-01-05T22:26:33Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/griffin/engine/functions/math/RoundDownDoubleFunctionFactory.java", "diffHunk": "@@ -0,0 +1,160 @@\n+/*******************************************************************************\n+ *     ___                  _   ____  ____\n+ *    / _ \\ _   _  ___  ___| |_|  _ \\| __ )\n+ *   | | | | | | |/ _ \\/ __| __| | | |  _ \\\n+ *   | |_| | |_| |  __/\\__ \\ |_| |_| | |_) |\n+ *    \\__\\_\\\\__,_|\\___||___/\\__|____/|____/\n+ *\n+ *  Copyright (c) 2014-2019 Appsicle\n+ *  Copyright (c) 2019-2020 QuestDB\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ ******************************************************************************/\n+\n+package io.questdb.griffin.engine.functions.math;\n+\n+import io.questdb.griffin.FunctionFactory;\n+import io.questdb.cairo.CairoConfiguration;\n+import io.questdb.cairo.sql.Function;\n+import io.questdb.cairo.sql.Record;\n+import io.questdb.griffin.engine.functions.BinaryFunction;\n+import io.questdb.griffin.engine.functions.DoubleFunction;\n+import io.questdb.griffin.engine.functions.UnaryFunction;\n+import io.questdb.griffin.engine.functions.constants.DoubleConstant;\n+import io.questdb.std.Numbers;\n+import io.questdb.std.NumericException;\n+import io.questdb.std.ObjList;\n+\n+\n+public class RoundDownDoubleFunctionFactory implements FunctionFactory {\n+\n+    @Override\n+    public String getSignature() {\n+        return \"rounddown(DI)\";\n+    }\n+\n+    @Override\n+    public Function newInstance(ObjList<Function> args, int position, CairoConfiguration configuration) {\n+        Function scale = args.getQuick(1);\n+        if (scale.isConstant()) {\n+            int scaleValue = scale.getInt(null);\n+            if (scaleValue != Numbers.INT_NaN) {\n+                if (scaleValue > -1 && scaleValue < Numbers.pow10max) {\n+                    return new FuncPosConst(position, args.getQuick(0), scaleValue);\n+                }\n+                if (scaleValue < 0 && scaleValue < -Numbers.pow10max) {\n+                    return new FuncNegConst(position, args.getQuick(0), scaleValue);\n+                }\n+                return new DoubleConstant(position, Double.NaN);\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24a1c06dbd938b6800671bf7c4e571053b9de2c0"}, "originalPosition": 60}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebfd2ff16f9b2d1dd7b49521db1b1dc70d1352ca", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/ebfd2ff16f9b2d1dd7b49521db1b1dc70d1352ca", "committedDate": "2020-01-06T09:00:59Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57858c0cb0898caeb68f6ed48b5000fcd60c29a2", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/57858c0cb0898caeb68f6ed48b5000fcd60c29a2", "committedDate": "2020-01-06T14:09:31Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2eb40ae4c13ee45dc850ac583e82f71295c4f41", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/e2eb40ae4c13ee45dc850ac583e82f71295c4f41", "committedDate": "2020-01-06T14:14:06Z", "message": "feat: Constant optimisation for rounddown()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ca3701aff06dad858683fa76313229c5ceb5ae5", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/3ca3701aff06dad858683fa76313229c5ceb5ae5", "committedDate": "2020-01-06T17:44:58Z", "message": "feat: Constant optimisation for round(), roundup(). Added -(DOUBLE)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NzkyMDg0", "url": "https://github.com/questdb/questdb/pull/101#pullrequestreview-338792084", "createdAt": "2020-01-06T17:50:18Z", "commit": {"oid": "3ca3701aff06dad858683fa76313229c5ceb5ae5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25c367a5812ed3ca9f1ffc441907d2e1565854c7", "author": {"user": {"login": "TheTanc", "name": null}}, "url": "https://github.com/questdb/questdb/commit/25c367a5812ed3ca9f1ffc441907d2e1565854c7", "committedDate": "2020-01-06T18:02:57Z", "message": "feat: rename round_down/round_up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Nzk5MjIz", "url": "https://github.com/questdb/questdb/pull/101#pullrequestreview-338799223", "createdAt": "2020-01-06T18:03:46Z", "commit": {"oid": "25c367a5812ed3ca9f1ffc441907d2e1565854c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3333, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}