{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3ODk2Njg2", "number": 362, "title": "fix(cairo) - support millis timestamp in import", "bodyText": "", "createdAt": "2020-06-04T14:57:18Z", "url": "https://github.com/questdb/questdb/pull/362", "merged": true, "mergeCommit": {"oid": "7167a0547fca18e398c24474ab8bb6d62abf8544"}, "closed": true, "closedAt": "2020-06-05T10:05:39Z", "author": {"login": "jaugsburger"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcn-EfigH2gAyNDI3ODk2Njg2OjEyZjNkODU0OTY1MDU4YjZjODg1ZjE4MDAxMjUxMzFlOGE2ZmM4M2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoPxH0gFqTQyNTE2NzQ1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "12f3d854965058b6c885f1800125131e8a6fc83f", "author": {"user": null}, "url": "https://github.com/questdb/questdb/commit/12f3d854965058b6c885f1800125131e8a6fc83f", "committedDate": "2020-06-04T13:28:09Z", "message": "fix(cairo) - millis imported as timestamp #296"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fce9999a42e58b92ccae1b58981173602b2dbb3", "author": {"user": null}, "url": "https://github.com/questdb/questdb/commit/8fce9999a42e58b92ccae1b58981173602b2dbb3", "committedDate": "2020-06-04T14:42:38Z", "message": "fix(cairo) - millis imported as timestamp #296"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac8c721e7032c910659ca3b4c5622692f664e34b", "author": {"user": null}, "url": "https://github.com/questdb/questdb/commit/ac8c721e7032c910659ca3b4c5622692f664e34b", "committedDate": "2020-06-04T16:43:54Z", "message": "fix(cairo) - millis imported as timestamp #296"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NjQ5NDY1", "url": "https://github.com/questdb/questdb/pull/362#pullrequestreview-424649465", "createdAt": "2020-06-04T16:58:25Z", "commit": {"oid": "ac8c721e7032c910659ca3b4c5622692f664e34b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo1ODoyNVrOGfPQ1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo1ODoyNVrOGfPQ1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwOTEwOA==", "bodyText": "Table can have more than one timestamp and more than one date that is misplaced against target column type. A single instance of dateToTimestampAdapter can be overwritten.\nThere is ObjectPool that can produce multiple adaptors like that when needed.", "url": "https://github.com/questdb/questdb/pull/362#discussion_r435409108", "createdAt": "2020-06-04T16:58:25Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/cutlass/text/CairoTextWriter.java", "diffHunk": "@@ -254,8 +256,12 @@ private TableWriter openWriterAndOverrideImportTypes(\n                         this.types.setQuick(i, BadDateAdapter.INSTANCE);\n                         break;\n                     case ColumnType.TIMESTAMP:\n-                        logTypeError(i);\n-                        this.types.setQuick(i, BadTimestampAdapter.INSTANCE);\n+                        if (detectedType == ColumnType.DATE) {\n+                            this.types.setQuick(i, dateToTimestampAdapter.of((DateAdapter) this.types.getQuick(i)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac8c721e7032c910659ca3b4c5622692f664e34b"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59caeac6a1f0e0ac57e44382de6c784d37eced2e", "author": {"user": null}, "url": "https://github.com/questdb/questdb/commit/59caeac6a1f0e0ac57e44382de6c784d37eced2e", "committedDate": "2020-06-04T17:56:34Z", "message": "fix(cairo) - millis imported as timestamp #296"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "def1ef2dc3822b36c7268d8ed3215e4e4bf88d4c", "author": {"user": null}, "url": "https://github.com/questdb/questdb/commit/def1ef2dc3822b36c7268d8ed3215e4e4bf88d4c", "committedDate": "2020-06-05T08:58:29Z", "message": "fix(cairo) - millis imported as timestamp #296"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTY3NDU3", "url": "https://github.com/questdb/questdb/pull/362#pullrequestreview-425167457", "createdAt": "2020-06-05T10:05:17Z", "commit": {"oid": "def1ef2dc3822b36c7268d8ed3215e4e4bf88d4c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3222, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}