{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MDQ3Njgx", "number": 533, "title": "chore(cutlass): Change ILP TCP connection defaults to never disconnec\u2026", "bodyText": "Change ILP TCP connection defaults to never disconnect idle peers\nupdate IODispatchers to ignore idleConnectionTimeout", "createdAt": "2020-08-06T14:01:30Z", "url": "https://github.com/questdb/questdb/pull/533", "merged": true, "mergeCommit": {"oid": "ba776d902e143918c6614aa60d30350ec96c2683"}, "closed": true, "closedAt": "2020-08-07T10:16:27Z", "author": {"login": "patrickSpaceSurfer"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8PzAzAH2gAyNDY0MDQ3NjgxOjkwZjgxOTQyYzQ2ZWNiY2M3ZTVlZjc0ZTBlZTI1ZmY3M2U4MWM5NzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8hpJegFqTQ2MzE5NzU4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "90f81942c46ecbcc7e5ef74e0ee25ff73e81c974", "author": {"user": {"login": "patrickSpaceSurfer", "name": "Patrick Mackinlay"}}, "url": "https://github.com/questdb/questdb/commit/90f81942c46ecbcc7e5ef74e0ee25ff73e81c974", "committedDate": "2020-08-06T13:25:50Z", "message": "chore(cutlass): Change ILP TCP connection defaults to never disconnect idle peers\n update IODispatchers to ignore idleConnectionTimeout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTk4MTQz", "url": "https://github.com/questdb/questdb/pull/533#pullrequestreview-462598143", "createdAt": "2020-08-06T14:53:55Z", "commit": {"oid": "90f81942c46ecbcc7e5ef74e0ee25ff73e81c974"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjY3ODAw", "url": "https://github.com/questdb/questdb/pull/533#pullrequestreview-462667800", "createdAt": "2020-08-06T16:12:13Z", "commit": {"oid": "90f81942c46ecbcc7e5ef74e0ee25ff73e81c974"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNjoxMjoxNFrOG86fjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNjoxMjoxNFrOG86fjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUyNjA5NQ==", "bodyText": "when configured idelConnectionTimeout is set to 0 or is negative, why don't we automatically set to Long.MIN_VALUE?. When this is the case we would not need an extra if", "url": "https://github.com/questdb/questdb/pull/533#discussion_r466526095", "createdAt": "2020-08-06T16:12:14Z", "author": {"login": "bluestreak01"}, "path": "core/src/main/java/io/questdb/network/IODispatcherLinux.java", "diffHunk": "@@ -158,10 +158,12 @@ protected boolean runSerially() {\n         }\n \n         // process timed out connections\n-        final long deadline = timestamp - idleConnectionTimeout;\n-        if (pending.size() > 0 && pending.get(0, M_TIMESTAMP) < deadline) {\n-            processIdleConnections(deadline);\n-            useful = true;\n+        if (idleConnectionTimeout > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90f81942c46ecbcc7e5ef74e0ee25ff73e81c974"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a79ece9cfc118403050bc01a8ff0db70392411c", "author": {"user": {"login": "patrickSpaceSurfer", "name": "Patrick Mackinlay"}}, "url": "https://github.com/questdb/questdb/commit/7a79ece9cfc118403050bc01a8ff0db70392411c", "committedDate": "2020-08-07T07:07:44Z", "message": "chore(cutlass): update IODispatchers to ignore idleConnectionTimeout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTk3NTg4", "url": "https://github.com/questdb/questdb/pull/533#pullrequestreview-463197588", "createdAt": "2020-08-07T10:13:21Z", "commit": {"oid": "7a79ece9cfc118403050bc01a8ff0db70392411c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3185, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}