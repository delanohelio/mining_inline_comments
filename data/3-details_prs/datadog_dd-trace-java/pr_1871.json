{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3NTkxNzMx", "number": 1871, "title": "Enable health metrics by default", "bodyText": "", "createdAt": "2020-09-15T21:34:07Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1871", "merged": true, "mergeCommit": {"oid": "a3f5caf7714b2cb8c9dc4b539dfd791c7ebd7e8a"}, "closed": true, "closedAt": "2020-10-16T21:14:16Z", "author": {"login": "randomanderson"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJO1H7gFqTQ4OTEyNjgyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUExP6AFqTUxMTgwMzM2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MTI2ODIx", "url": "https://github.com/DataDog/dd-trace-java/pull/1871#pullrequestreview-489126821", "createdAt": "2020-09-15T21:39:15Z", "commit": {"oid": "a8d578348a953762492821b9b899d4d2f4ce9121"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MzUwMzM4", "url": "https://github.com/DataDog/dd-trace-java/pull/1871#pullrequestreview-489350338", "createdAt": "2020-09-16T07:33:43Z", "commit": {"oid": "a4587de2abad08e6ad327ac967f8727269098a4f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0MDAwOTE2", "url": "https://github.com/DataDog/dd-trace-java/pull/1871#pullrequestreview-494000916", "createdAt": "2020-09-23T03:18:14Z", "commit": {"oid": "a4587de2abad08e6ad327ac967f8727269098a4f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a4587de2abad08e6ad327ac967f8727269098a4f", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a4587de2abad08e6ad327ac967f8727269098a4f", "committedDate": "2020-09-15T23:31:52Z", "message": "change default in second place"}, "afterCommit": {"oid": "8fa39885e48931f8cfcd8c2a04b889bb18c62f3e", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8fa39885e48931f8cfcd8c2a04b889bb18c62f3e", "committedDate": "2020-09-23T16:35:10Z", "message": "change default in second place"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea9c5fb8256f8298b7b7c441a715e9898ce82101", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ea9c5fb8256f8298b7b7c441a715e9898ce82101", "committedDate": "2020-10-15T17:39:48Z", "message": "Enable health metrics by default"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fa39885e48931f8cfcd8c2a04b889bb18c62f3e", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8fa39885e48931f8cfcd8c2a04b889bb18c62f3e", "committedDate": "2020-09-23T16:35:10Z", "message": "change default in second place"}, "afterCommit": {"oid": "ea9c5fb8256f8298b7b7c441a715e9898ce82101", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ea9c5fb8256f8298b7b7c441a715e9898ce82101", "committedDate": "2020-10-15T17:39:48Z", "message": "Enable health metrics by default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea3c0884482239b0320cbfea71fd347f45f74747", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ea3c0884482239b0320cbfea71fd347f45f74747", "committedDate": "2020-10-15T18:45:39Z", "message": "Test all combinations of profiling/healthmetrics/enabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9e0fdacc29798bfdf92cdfc39a81995cf518911", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/e9e0fdacc29798bfdf92cdfc39a81995cf518911", "committedDate": "2020-10-15T19:58:28Z", "message": "ScopeEventTest leaks a system property change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18fa623028f4f99c6e011d897c6f503cc299c950", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/18fa623028f4f99c6e011d897c6f503cc299c950", "committedDate": "2020-10-15T20:19:42Z", "message": "fix ScopeEventTest failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39cb0c78fd369078b63a26066f47435837a2a78a", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/39cb0c78fd369078b63a26066f47435837a2a78a", "committedDate": "2020-10-15T21:06:31Z", "message": "hack to get tests passing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4cf846623b7229af650db98b462c2e8ef29fa221", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/4cf846623b7229af650db98b462c2e8ef29fa221", "committedDate": "2020-10-15T20:44:31Z", "message": "hack to get tests passing"}, "afterCommit": {"oid": "39cb0c78fd369078b63a26066f47435837a2a78a", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/39cb0c78fd369078b63a26066f47435837a2a78a", "committedDate": "2020-10-15T21:06:31Z", "message": "hack to get tests passing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c77b5602167d516f86c6f000a701e333f8a324f", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1c77b5602167d516f86c6f000a701e333f8a324f", "committedDate": "2020-10-16T15:44:49Z", "message": "Fix assumptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExODAzMzY0", "url": "https://github.com/DataDog/dd-trace-java/pull/1871#pullrequestreview-511803364", "createdAt": "2020-10-19T14:09:08Z", "commit": {"oid": "1c77b5602167d516f86c6f000a701e333f8a324f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDowOTowOFrOHkQZEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDowOTowOFrOHkQZEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzc3OTM0Ng==", "bodyText": "perhaps this should clear the property instead of setting to true?", "url": "https://github.com/DataDog/dd-trace-java/pull/1871#discussion_r507779346", "createdAt": "2020-10-19T14:09:08Z", "author": {"login": "tylerbenson"}, "path": "dd-trace-core/src/test/groovy/datadog/trace/core/CoreTracerTest.groovy", "diffHunk": "@@ -43,36 +43,37 @@ class CoreTracerTest extends DDSpecification {\n \n   def \"verify defaults on tracer\"() {\n     when:\n-    def tracer = CoreTracer.builder().build()\n+    // FIXME this line should be unnecessary but a system property is leaking from somewhere\n+    // Remove when config overrides is fixed\n+    System.setProperty(PREFIX + HEALTH_METRICS_ENABLED, \"true\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c77b5602167d516f86c6f000a701e333f8a324f"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3113, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}