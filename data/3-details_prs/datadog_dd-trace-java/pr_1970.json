{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNzAwNjEy", "number": 1970, "title": "Merge thread-utils module with internal-api", "bodyText": "This moves the agent scheduler to the datadog.trace.util package in the internal-api\nIt also moves other utility classes from internal-api to datadog.trace.util\nTo avoid a package-prefix clash test utilities have been moved from datadog.trace.util.test to datadog.trace.test.util", "createdAt": "2020-10-09T16:30:36Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1970", "merged": true, "mergeCommit": {"oid": "b3b69e6fa04dab18674b0bb81761f56f5cc79b4d"}, "closed": true, "closedAt": "2020-10-15T14:15:54Z", "author": {"login": "mcculls"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQ9vMjgBqjM4NjE5NDU0MjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSypc0AFqTUwOTQ0MTcxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7dda926a4f27efaddfcd11ea586e623e56f57963", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/7dda926a4f27efaddfcd11ea586e623e56f57963", "committedDate": "2020-10-09T16:53:27Z", "message": "revapi"}, "afterCommit": {"oid": "8477fc36c4e76d7b6d0c0e9094917a558c015755", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8477fc36c4e76d7b6d0c0e9094917a558c015755", "committedDate": "2020-10-09T21:48:15Z", "message": "revapi"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8477fc36c4e76d7b6d0c0e9094917a558c015755", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8477fc36c4e76d7b6d0c0e9094917a558c015755", "committedDate": "2020-10-09T21:48:15Z", "message": "revapi"}, "afterCommit": {"oid": "a6dfd0200d6227e95cb320e4476dda1134293d5a", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a6dfd0200d6227e95cb320e4476dda1134293d5a", "committedDate": "2020-10-12T08:47:08Z", "message": "revapi"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9c5618ec90de645aa206f687be723b459b01e305", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/9c5618ec90de645aa206f687be723b459b01e305", "committedDate": "2020-10-12T12:30:12Z", "message": "temporary logging"}, "afterCommit": {"oid": "ed8aa8913412f7a82a5e099e9424b583226ee9d0", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ed8aa8913412f7a82a5e099e9424b583226ee9d0", "committedDate": "2020-10-12T12:43:20Z", "message": "temporary logging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed8aa8913412f7a82a5e099e9424b583226ee9d0", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ed8aa8913412f7a82a5e099e9424b583226ee9d0", "committedDate": "2020-10-12T12:43:20Z", "message": "temporary logging"}, "afterCommit": {"oid": "de2d3c12663bde0e7cd95b560a687ee217ca9b6e", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/de2d3c12663bde0e7cd95b560a687ee217ca9b6e", "committedDate": "2020-10-12T21:06:11Z", "message": "temporary logging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de2d3c12663bde0e7cd95b560a687ee217ca9b6e", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/de2d3c12663bde0e7cd95b560a687ee217ca9b6e", "committedDate": "2020-10-12T21:06:11Z", "message": "temporary logging"}, "afterCommit": {"oid": "b4fcd924d174cc8652a512744c05a7695e658a84", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/b4fcd924d174cc8652a512744c05a7695e658a84", "committedDate": "2020-10-13T09:11:32Z", "message": "revapi"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb04c2bc0fc20c4b47457255f8ae6d75bb39b8f6", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/eb04c2bc0fc20c4b47457255f8ae6d75bb39b8f6", "committedDate": "2020-10-13T10:40:25Z", "message": "Exclude exec classes from coverage (they were already excluded in thread-utils)"}, "afterCommit": {"oid": "613cf7d092b29792829b7b72bcb68f75c06b7646", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/613cf7d092b29792829b7b72bcb68f75c06b7646", "committedDate": "2020-10-13T11:16:31Z", "message": "Exclude exec classes from coverage (they were already excluded in thread-utils)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c5fc0bc6114970b21e34dec4534ecf8aee8dea1", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/0c5fc0bc6114970b21e34dec4534ecf8aee8dea1", "committedDate": "2020-10-13T13:39:36Z", "message": "Exclude exec classes from coverage"}, "afterCommit": {"oid": "23776fac48c139840e8c3405fd42a75eed6fc57c", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/23776fac48c139840e8c3405fd42a75eed6fc57c", "committedDate": "2020-10-13T13:41:52Z", "message": "Exclude exec classes from coverage (they were already excluded in thread-utils)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NTI4Nzc0", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#pullrequestreview-507528774", "createdAt": "2020-10-13T14:56:52Z", "commit": {"oid": "23776fac48c139840e8c3405fd42a75eed6fc57c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1Njo1M1rOHgrC5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1Njo1M1rOHgrC5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTczNQ==", "bodyText": "I wonder if we should have a datadog.trace.util package instead?", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#discussion_r504021735", "createdAt": "2020-10-13T14:56:53Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/exception-profiling/src/test/java/com/datadog/profiling/exceptions/StreamingSamplerTest.java", "diffHunk": "@@ -7,8 +7,8 @@\n import static org.mockito.ArgumentMatchers.same;\n import static org.mockito.Mockito.doNothing;\n \n-import datadog.common.exec.AgentTaskScheduler;\n-import datadog.common.exec.AgentTaskScheduler.Task;\n+import datadog.trace.api.exec.AgentTaskScheduler;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23776fac48c139840e8c3405fd42a75eed6fc57c"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NTI5Mzk2", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#pullrequestreview-507529396", "createdAt": "2020-10-13T14:57:26Z", "commit": {"oid": "23776fac48c139840e8c3405fd42a75eed6fc57c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NTc2Nzc4", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#pullrequestreview-507576778", "createdAt": "2020-10-13T15:40:53Z", "commit": {"oid": "23776fac48c139840e8c3405fd42a75eed6fc57c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23776fac48c139840e8c3405fd42a75eed6fc57c", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/23776fac48c139840e8c3405fd42a75eed6fc57c", "committedDate": "2020-10-13T13:41:52Z", "message": "Exclude exec classes from coverage (they were already excluded in thread-utils)"}, "afterCommit": {"oid": "95bc90f1f1c6e5db91514ee6d75c635d53c70fbe", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/95bc90f1f1c6e5db91514ee6d75c635d53c70fbe", "committedDate": "2020-10-14T12:22:21Z", "message": "revapi"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4Mjk3MDU4", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#pullrequestreview-508297058", "createdAt": "2020-10-14T12:35:31Z", "commit": {"oid": "95bc90f1f1c6e5db91514ee6d75c635d53c70fbe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fe7ea2bfa229f9738059f9bdda48405b86306b3", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1fe7ea2bfa229f9738059f9bdda48405b86306b3", "committedDate": "2020-10-15T12:29:33Z", "message": "Merge thread-utils module with internal-api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d895ac5250dde4819d725b2656d565f9f5346866", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/d895ac5250dde4819d725b2656d565f9f5346866", "committedDate": "2020-10-15T12:29:33Z", "message": "Exclude exec classes from coverage (they were already excluded in thread-utils)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "239fe03c2154a64394dc0a797dc31491a3430ab4", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/239fe03c2154a64394dc0a797dc31491a3430ab4", "committedDate": "2020-10-15T12:29:33Z", "message": "Move test utilities to datadog.trace.test.util"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f20616f13a7d7c4195db8b37bb2d8184eee19dd", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/4f20616f13a7d7c4195db8b37bb2d8184eee19dd", "committedDate": "2020-10-15T12:29:33Z", "message": "Move datadog.trace.api.exec to datadog.trace.util (internal-api)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73c11eeac2fd05242388fa7d8fa5541e1be84e2b", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/73c11eeac2fd05242388fa7d8fa5541e1be84e2b", "committedDate": "2020-10-15T12:29:33Z", "message": "Mark datadog.trace.util as bootstrap package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97321a43d1506d50d0a7fd6b3269006496edb3ea", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/97321a43d1506d50d0a7fd6b3269006496edb3ea", "committedDate": "2020-10-15T12:29:33Z", "message": "Move datadog.trace.api.utils to datadog.trace.util"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa4a00b6eacdf140fcda156c9a7c6755d2dfc3da", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/aa4a00b6eacdf140fcda156c9a7c6755d2dfc3da", "committedDate": "2020-10-15T12:29:33Z", "message": "revapi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75941fe515bd5d8990cb86c873f0193ededd048e", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/75941fe515bd5d8990cb86c873f0193ededd048e", "committedDate": "2020-10-15T12:29:33Z", "message": "Exclude shutdown class from coverage"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "716c1bd2e5aa699f2b9137bd3600448e55f563a0", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/716c1bd2e5aa699f2b9137bd3600448e55f563a0", "committedDate": "2020-10-14T13:45:56Z", "message": "Exclude shutdown class from coverage"}, "afterCommit": {"oid": "75941fe515bd5d8990cb86c873f0193ededd048e", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/75941fe515bd5d8990cb86c873f0193ededd048e", "committedDate": "2020-10-15T12:29:33Z", "message": "Exclude shutdown class from coverage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NDI0Mjgy", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#pullrequestreview-509424282", "createdAt": "2020-10-15T14:11:59Z", "commit": {"oid": "75941fe515bd5d8990cb86c873f0193ededd048e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NDQxNzE0", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#pullrequestreview-509441714", "createdAt": "2020-10-15T14:28:23Z", "commit": {"oid": "75941fe515bd5d8990cb86c873f0193ededd048e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDoyODoyNFrOHiKsCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDoyODoyNFrOHiKsCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU4ODc0Nw==", "bodyText": "I would have preferred splitting up the util package... ie datadog.trace.util.exec but not a big deal.", "url": "https://github.com/DataDog/dd-trace-java/pull/1970#discussion_r505588747", "createdAt": "2020-10-15T14:28:24Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/agent-tooling/src/main/java/datadog/trace/agent/tooling/WeakMapSuppliers.java", "diffHunk": "@@ -1,9 +1,9 @@\n package datadog.trace.agent.tooling;\n \n import com.blogspot.mydailyjava.weaklockfree.WeakConcurrentMap;\n-import datadog.common.exec.AgentTaskScheduler;\n-import datadog.common.exec.AgentTaskScheduler.Task;\n import datadog.trace.bootstrap.WeakMap;\n+import datadog.trace.util.AgentTaskScheduler;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75941fe515bd5d8990cb86c873f0193ededd048e"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2950, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}