{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MjQ5ODcz", "number": 2098, "title": "remove analytics sample rate rule", "bodyText": "", "createdAt": "2020-11-19T21:41:34Z", "url": "https://github.com/DataDog/dd-trace-java/pull/2098", "merged": true, "mergeCommit": {"oid": "217f12d57c8834e3cc10705cd451f4dda9545056"}, "closed": true, "closedAt": "2020-11-20T09:52:44Z", "author": {"login": "richardstartin"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeJ3hMgFqTUzNDg4MDU2Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeUIJnAFqTUzNTI3MDg2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0ODgwNTY2", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#pullrequestreview-534880566", "createdAt": "2020-11-19T21:44:45Z", "commit": {"oid": "be9a8b68c95cf3f3ff08051204da70a0abca9c09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0ODgyNjUy", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#pullrequestreview-534882652", "createdAt": "2020-11-19T21:47:51Z", "commit": {"oid": "be9a8b68c95cf3f3ff08051204da70a0abca9c09"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be9a8b68c95cf3f3ff08051204da70a0abca9c09", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/be9a8b68c95cf3f3ff08051204da70a0abca9c09", "committedDate": "2020-11-19T21:40:48Z", "message": "remove analytics sample rate rule"}, "afterCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6", "committedDate": "2020-11-19T22:00:36Z", "message": "remove analytics sample rate rule"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0ODkyNTEw", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#pullrequestreview-534892510", "createdAt": "2020-11-19T22:02:32Z", "commit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTA3MzU0", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#pullrequestreview-534907354", "createdAt": "2020-11-19T22:24:29Z", "commit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMjoyNDoyOVrOH20dSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMjoyNDoyOVrOH20dSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI0NDYxOA==", "bodyText": "\ud83d\udc4d  ?", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527244618", "createdAt": "2020-11-19T22:24:29Z", "author": {"login": "lpriima"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/processor/TraceProcessor.java", "diffHunk": "@@ -17,11 +16,7 @@\n   final Rule[] DEFAULT_RULES =\n       new Rule[] {\n         // Rules are applied in order.\n-        new DBStatementRule(),\n-        new ResourceNameRule(),\n-        new ErrorRule(),\n-        new URLAsResourceNameRule(),\n-        new AnalyticsSampleRateRule(),\n+        new DBStatementRule(), new ResourceNameRule(), new ErrorRule(), new URLAsResourceNameRule()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MTkyNzk1", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#pullrequestreview-535192795", "createdAt": "2020-11-20T08:00:46Z", "commit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMDo0NlrOH3ELUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMToyOFrOH3ENmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUwMjE2MA==", "bodyText": "So the old code tried to convert a String into a Double, but now we just drop it. Is that intended?", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527502160", "createdAt": "2020-11-20T08:00:46Z", "author": {"login": "bantonsson"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/CoreTracer.java", "diffHunk": "@@ -673,6 +674,11 @@ public CoreSpanBuilder asChildOf(final AgentSpan agentSpan) {\n     @Override\n     public CoreSpanBuilder withTag(final String tag, final Object value) {\n       switch (tag) {\n+        case DDTags.ANALYTICS_SAMPLE_RATE:\n+          if (value instanceof Number) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUwMjc0Nw==", "bodyText": "Here as well...", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527502747", "createdAt": "2020-11-20T08:01:28Z", "author": {"login": "bantonsson"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/DDSpanContext.java", "diffHunk": "@@ -362,6 +363,11 @@ public void setTag(final String tag, final Object value) {\n           this.spanType = (CharSequence) value;\n         }\n         break;\n+      case ANALYTICS_SAMPLE_RATE:\n+        if (value instanceof Number) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6463532e527a8be53763eec9ae9ee49a12c1fd5a", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6463532e527a8be53763eec9ae9ee49a12c1fd5a", "committedDate": "2020-11-20T08:56:03Z", "message": "remove analytics sample rate rule"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec348376ad85b9db66448dcd1872b7e389886db9", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ec348376ad85b9db66448dcd1872b7e389886db9", "committedDate": "2020-11-20T08:54:41Z", "message": "foo"}, "afterCommit": {"oid": "6463532e527a8be53763eec9ae9ee49a12c1fd5a", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6463532e527a8be53763eec9ae9ee49a12c1fd5a", "committedDate": "2020-11-20T08:56:03Z", "message": "remove analytics sample rate rule"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjcwODY5", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#pullrequestreview-535270869", "createdAt": "2020-11-20T09:41:58Z", "commit": {"oid": "6463532e527a8be53763eec9ae9ee49a12c1fd5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2844, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}