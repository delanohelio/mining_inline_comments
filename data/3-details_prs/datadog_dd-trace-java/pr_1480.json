{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMDE0MzQ2", "number": 1480, "title": "Register WeakMapProvider earlier in AgentInstaller", "bodyText": "Specifically it is used statically by FieldBackedProvider which was likely called before the AgentTooling class was initialized.", "createdAt": "2020-05-20T20:54:00Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1480", "merged": true, "mergeCommit": {"oid": "704da3f4060d0f6ef2cc45d6bce4a6530b397fe6"}, "closed": true, "closedAt": "2020-05-26T16:41:59Z", "author": {"login": "tylerbenson"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjPcZ7AH2gAyNDIxMDE0MzQ2Ojg2Zjc1YjNiYjIwMjhlMmIxNDMwMGEyYWM4NGMzOTk2YzRiZDRmN2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclHYDIgFqTQxODQ3NzM5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c", "committedDate": "2020-05-20T20:53:02Z", "message": "Register WeakMapProvider earlier in AgentInstaller\n\nSpecifically it is used statically by `FieldBackedProvider` which was likely called before the `AgentTooling` class was initialized."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NzI2NTAx", "url": "https://github.com/DataDog/dd-trace-java/pull/1480#pullrequestreview-415726501", "createdAt": "2020-05-20T21:27:03Z", "commit": {"oid": "86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQyMToyNzowM1rOGYeY2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQyMToyNzowM1rOGYeY2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMxNjg5MQ==", "bodyText": "Why do we want to lower the logging level?  I'd actually like to know readily if this happens.", "url": "https://github.com/DataDog/dd-trace-java/pull/1480#discussion_r428316891", "createdAt": "2020-05-20T21:27:03Z", "author": {"login": "dougqh"}, "path": "dd-java-agent/agent-bootstrap/src/main/java/datadog/trace/bootstrap/WeakMap.java", "diffHunk": "@@ -52,7 +52,7 @@ public static boolean isProviderRegistered() {\n \n       @Override\n       public <K, V> WeakMap<K, V> get() {\n-        log.warn(\"WeakMap.Supplier not registered. Returning a synchronized WeakHashMap.\");\n+        log.debug(\"WeakMap.Supplier not registered. Returning a synchronized WeakHashMap.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NDc3Mzkz", "url": "https://github.com/DataDog/dd-trace-java/pull/1480#pullrequestreview-418477393", "createdAt": "2020-05-26T16:35:08Z", "commit": {"oid": "86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNjozNTowOVrOGamu4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNjozNjo0NlrOGamywQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU1MDc1NA==", "bodyText": "Agreed that this shouldn't log to users in the default configuration. I think users should only see things that are actionable by them in the default configuration, other than version numbers", "url": "https://github.com/DataDog/dd-trace-java/pull/1480#discussion_r430550754", "createdAt": "2020-05-26T16:35:09Z", "author": {"login": "devinsba"}, "path": "dd-java-agent/agent-bootstrap/src/main/java/datadog/trace/bootstrap/WeakMap.java", "diffHunk": "@@ -52,7 +52,7 @@ public static boolean isProviderRegistered() {\n \n       @Override\n       public <K, V> WeakMap<K, V> get() {\n-        log.warn(\"WeakMap.Supplier not registered. Returning a synchronized WeakHashMap.\");\n+        log.debug(\"WeakMap.Supplier not registered. Returning a synchronized WeakHashMap.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMxNjg5MQ=="}, "originalCommit": {"oid": "86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU1MTc0NQ==", "bodyText": "Is this callsite still needed?", "url": "https://github.com/DataDog/dd-trace-java/pull/1480#discussion_r430551745", "createdAt": "2020-05-26T16:36:46Z", "author": {"login": "devinsba"}, "path": "dd-java-agent/agent-tooling/src/main/java/datadog/trace/agent/tooling/AgentTooling.java", "diffHunk": "@@ -20,7 +20,7 @@\n     registerWeakMapProvider();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86f75b3bb2028e2b14300a2ac84c3996c4bd4f7c"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2279, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}