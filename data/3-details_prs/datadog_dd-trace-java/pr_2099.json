{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MjcyOTU0", "number": 2099, "title": "Don't override user-provided service name with servlet.context", "bodyText": "The check in ServletContextTagInterceptor was insufficient.  If a user's service name matched the CapturedEnvironment service name (eg, by matching filename of the executable jar), the tracer overrode the user provided service name with the servlet context.\nWith this pull request, whether or not the service name was explicitly set by the user is tracked in config.  That flag is checked inside the tag interceptor.\nThe tracer still has incorrect behavior if the service name is set via tag.  Too many pervasive changes would be required to track the setting of the service tag everywhere and distinguish instrumentation calls versus user calls.  Setting the service name to the jar name (or unnamed-java-app) as a tag seems too rare to warrant those changes.", "createdAt": "2020-11-19T22:25:16Z", "url": "https://github.com/DataDog/dd-trace-java/pull/2099", "merged": true, "mergeCommit": {"oid": "e88738172871c988a414cc4ea805e46c0684b738"}, "closed": true, "closedAt": "2020-11-20T16:50:14Z", "author": {"login": "randomanderson"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeKQCiAH2gAyNTI0MjcyOTU0OmI1OTBkOWY2OTg4MzIwZDljMTAyOWJmY2ExMDRmY2M3YTBmMmUzZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeZoEEgFqTUzNTU2MDYzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b590d9f6988320d9c1029bfca104fcc7a0f2e3fb", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/b590d9f6988320d9c1029bfca104fcc7a0f2e3fb", "committedDate": "2020-11-19T22:11:32Z", "message": "Don't override user-provided service name with servlet.context"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTQwNzg4", "url": "https://github.com/DataDog/dd-trace-java/pull/2099#pullrequestreview-534940788", "createdAt": "2020-11-19T23:28:36Z", "commit": {"oid": "b590d9f6988320d9c1029bfca104fcc7a0f2e3fb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMzoyODozNlrOH22J7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMzoyODozNlrOH22J7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI3MjQzMQ==", "bodyText": "Could we get a more descriptive name besides clazz here?  Perhaps excludedSource?  The type could probably even be Class<? extends ConfigProvider.Source> (or is it super... I can never remember).", "url": "https://github.com/DataDog/dd-trace-java/pull/2099#discussion_r527272431", "createdAt": "2020-11-19T23:28:36Z", "author": {"login": "tylerbenson"}, "path": "internal-api/src/main/java/datadog/trace/bootstrap/config/provider/ConfigProvider.java", "diffHunk": "@@ -47,12 +47,14 @@ public final String getString(String key, String defaultValue, String... aliases\n     return defaultValue;\n   }\n \n-  public final String getStringBypassSysProps(String key, String defaultValue) {\n+  public final String getStringExcludingSource(\n+      String key, String defaultValue, Class clazz, String... aliases) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b590d9f6988320d9c1029bfca104fcc7a0f2e3fb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjMyNTgw", "url": "https://github.com/DataDog/dd-trace-java/pull/2099#pullrequestreview-535232580", "createdAt": "2020-11-20T08:57:00Z", "commit": {"oid": "b590d9f6988320d9c1029bfca104fcc7a0f2e3fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2e9bc56e9dce52bcdf6c15b38986e3bef39dfa0", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a2e9bc56e9dce52bcdf6c15b38986e3bef39dfa0", "committedDate": "2020-11-20T15:52:08Z", "message": "rename parameter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NTYwNjMy", "url": "https://github.com/DataDog/dd-trace-java/pull/2099#pullrequestreview-535560632", "createdAt": "2020-11-20T16:06:21Z", "commit": {"oid": "a2e9bc56e9dce52bcdf6c15b38986e3bef39dfa0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2846, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}