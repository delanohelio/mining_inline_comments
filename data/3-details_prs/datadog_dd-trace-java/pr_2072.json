{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMzk5OTg1", "number": 2072, "title": "Add toHexStringPadded to DDId", "bodyText": "", "createdAt": "2020-11-13T07:16:09Z", "url": "https://github.com/DataDog/dd-trace-java/pull/2072", "merged": true, "mergeCommit": {"oid": "9b74700c078d5971e2b370bbfa639b95dd7198ec"}, "closed": true, "closedAt": "2020-11-13T16:04:40Z", "author": {"login": "bantonsson"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcB5CNgBqjM5OTIxNDMzMTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcIviqgFqTUzMDE0ODc2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "70204727773faead8c18e07911ff7adccdcc8c77", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/70204727773faead8c18e07911ff7adccdcc8c77", "committedDate": "2020-11-13T07:15:35Z", "message": "Add toHexStringPadded to DDId"}, "afterCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/3a1e07231666a356e1582bf7e3fc9467f6c24784", "committedDate": "2020-11-13T07:18:57Z", "message": "Add toHexStringPadded to DDId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODU1NjUy", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#pullrequestreview-529855652", "createdAt": "2020-11-13T08:16:59Z", "commit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODoxNjo1OVrOHyj3cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODoxNjo1OVrOHyj3cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc3ODQ4Mw==", "bodyText": "If you make this a byte[] it would work better on newer JDKs", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522778483", "createdAt": "2020-11-13T08:16:59Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +209,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final char[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    char[] chars = new char[size];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODY4OTE3", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#pullrequestreview-529868917", "createdAt": "2020-11-13T08:38:53Z", "commit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/3a1e07231666a356e1582bf7e3fc9467f6c24784", "committedDate": "2020-11-13T07:18:57Z", "message": "Add toHexStringPadded to DDId"}, "afterCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6b4d223242e7f944c8fb96490152220e7b89662e", "committedDate": "2020-11-13T08:48:51Z", "message": "Add toHexStringPadded to DDId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODgxMzMx", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#pullrequestreview-529881331", "createdAt": "2020-11-13T08:54:08Z", "commit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODo1NDowOVrOHylyoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODo1NDowOVrOHylyoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgxMDAxNw==", "bodyText": "for maximum efficiency you could turn this in to a counted loop by counting the number of leading zeros and dividing it by 4.", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522810017", "createdAt": "2020-11-13T08:54:09Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +210,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final byte[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    byte[] bytes = new byte[size];\n+    Arrays.fill(bytes, (byte) '0');\n+    int pos = bytes.length - 1;\n+    long remaining = this.id;\n+    while (remaining != 0 && pos >= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "originalPosition": 33}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6b4d223242e7f944c8fb96490152220e7b89662e", "committedDate": "2020-11-13T08:48:51Z", "message": "Add toHexStringPadded to DDId"}, "afterCommit": {"oid": "68b51bf7add478c736ec3181c9d56caedbe60bd5", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/68b51bf7add478c736ec3181c9d56caedbe60bd5", "committedDate": "2020-11-13T09:35:32Z", "message": "Add toHexStringPadded to DDId"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b4f93f8403f2624d663c126cb693aaed8e9e29d", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/3b4f93f8403f2624d663c126cb693aaed8e9e29d", "committedDate": "2020-11-13T09:51:30Z", "message": "Add toHexStringPadded to DDId"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68b51bf7add478c736ec3181c9d56caedbe60bd5", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/68b51bf7add478c736ec3181c9d56caedbe60bd5", "committedDate": "2020-11-13T09:35:32Z", "message": "Add toHexStringPadded to DDId"}, "afterCommit": {"oid": "3b4f93f8403f2624d663c126cb693aaed8e9e29d", "author": {"user": {"login": "bantonsson", "name": "Bj\u00f6rn Antonsson"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/3b4f93f8403f2624d663c126cb693aaed8e9e29d", "committedDate": "2020-11-13T09:51:30Z", "message": "Add toHexStringPadded to DDId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMTQ4NzYz", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#pullrequestreview-530148763", "createdAt": "2020-11-13T15:18:17Z", "commit": {"oid": "3b4f93f8403f2624d663c126cb693aaed8e9e29d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2822, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}