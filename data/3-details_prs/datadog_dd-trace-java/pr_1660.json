{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2MjA2MTA2", "number": 1660, "title": "log startup status", "bodyText": "Logs diagnostic info in a standardised way.\n{\"os_name\":\"Mac OS X\",\"os_version\":\"10.15.4\",\"architecture\":\"x86_64\",\"lang\":\"jvm\",\"lang_version\":\"11.0.6\",\"jvm_vendor\":\"AdoptOpenJDK\",\"jvm_version\":\"11.0.6+10\",\"java_class_version\":\"55.0\",\"enabled\":true,\"service\":\"unnamed-java-app\",\"agent_url\":\"http://localhost:8126\",\"agent_error\":false,\"debug\":false,\"analytics_enabled\":false,\"sampling_rules\":[{},{}],\"priority_sampling_enabled\":true,\"logs_correlation_enabled\":false,\"profiling_enabled\":false,\"dd_version\":\"null\",\"health_checks_enabled\":false,\"configuration_file\":\"no config file present\",\"runtime_id\":\"b69deb26-8bc3-4c00-8952-d42bf8c2123b\"}", "createdAt": "2020-07-08T12:20:10Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1660", "merged": true, "mergeCommit": {"oid": "f056c3438a17836677ac7c74b700e75bc6ee86ec"}, "closed": true, "closedAt": "2020-07-15T19:39:23Z", "author": {"login": "richardstartin"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczPszcAFqTQ0NTY1NzY1MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1PhOUABqjM1NDk5NDA1Njk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NjU3NjUx", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#pullrequestreview-445657651", "createdAt": "2020-07-09T14:13:44Z", "commit": {"oid": "1a31be5445e1c28a423856951a7c04a5835c7112"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NzE0ODk4", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#pullrequestreview-445714898", "createdAt": "2020-07-09T15:13:00Z", "commit": {"oid": "1a31be5445e1c28a423856951a7c04a5835c7112"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNToxMzowMFrOGvVw8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNToxNzoxN1rOGvV8VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5Mjg1MQ==", "bodyText": "Should the result here be fed into loadConfigurationFile() so it doesn't need to be done twice?", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r452292851", "createdAt": "2020-07-09T15:13:00Z", "author": {"login": "tylerbenson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/Config.java", "diffHunk": "@@ -348,13 +348,17 @@ private String profilingProxyPasswordMasker() {\n \n   @Getter private final boolean kafkaClientPropagationEnabled;\n \n+  @Getter private final boolean debugEnabled;\n+  @Getter private final String configFile;\n+\n   // Values from an optionally provided properties file\n   private static Properties propertiesFromConfigFile;\n \n   // Read order: System Properties -> Env Variables, [-> properties file], [-> default value]\n   // Visible for testing\n   Config() {\n     propertiesFromConfigFile = loadConfigurationFile();\n+    configFile = findConfigurationFile();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a31be5445e1c28a423856951a7c04a5835c7112"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5NTc2NA==", "bodyText": "I wonder if this should take into account the slf4j flavor of this property:\n-Ddatadog.slf4j.simpleLogger.defaultLogLevel=debug", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r452295764", "createdAt": "2020-07-09T15:17:17Z", "author": {"login": "tylerbenson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/Config.java", "diffHunk": "@@ -953,6 +963,23 @@ public boolean isTraceAnalyticsIntegrationEnabled(\n     return isEnabled(integrationNames, \".analytics.enabled\", defaultEnabled);\n   }\n \n+  private static boolean isDebugMode() {\n+    final String tracerDebugLevelSysprop = \"dd.trace.debug\";\n+    final String tracerDebugLevelProp = System.getProperty(tracerDebugLevelSysprop);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a31be5445e1c28a423856951a7c04a5835c7112"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80738f8fba348239a947d2838bd48f58e5c79783", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/80738f8fba348239a947d2838bd48f58e5c79783", "committedDate": "2020-07-15T15:59:41Z", "message": "log startup status"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cbf3fc8994305b18b6720881f0f7d44e294344dc", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/cbf3fc8994305b18b6720881f0f7d44e294344dc", "committedDate": "2020-07-15T15:56:14Z", "message": "timeout for startup check, add tag to log line"}, "afterCommit": {"oid": "914a36726013da25b763447b6ad563ed4272fa16", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/914a36726013da25b763447b6ad563ed4272fa16", "committedDate": "2020-07-15T15:59:44Z", "message": "timeout for startup check, add tag to log line"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "914a36726013da25b763447b6ad563ed4272fa16", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/914a36726013da25b763447b6ad563ed4272fa16", "committedDate": "2020-07-15T15:59:44Z", "message": "timeout for startup check, add tag to log line"}, "afterCommit": {"oid": "a25b15fb88e881ecf8401c01d6f77ca5e62ff04b", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a25b15fb88e881ecf8401c01d6f77ca5e62ff04b", "committedDate": "2020-07-15T18:57:19Z", "message": "timeout for startup check, add tag to log line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "518f128125aba1dad2f489bd0770318cded0424f", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/518f128125aba1dad2f489bd0770318cded0424f", "committedDate": "2020-07-15T19:08:46Z", "message": "timeout for startup check, add tag to log line"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a25b15fb88e881ecf8401c01d6f77ca5e62ff04b", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a25b15fb88e881ecf8401c01d6f77ca5e62ff04b", "committedDate": "2020-07-15T18:57:19Z", "message": "timeout for startup check, add tag to log line"}, "afterCommit": {"oid": "518f128125aba1dad2f489bd0770318cded0424f", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/518f128125aba1dad2f489bd0770318cded0424f", "committedDate": "2020-07-15T19:08:46Z", "message": "timeout for startup check, add tag to log line"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2242, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}