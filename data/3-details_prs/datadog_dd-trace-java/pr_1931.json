{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NDE4ODAx", "number": 1931, "title": "Enable OldObjectSample JFR event", "bodyText": "This simple change is enabling the JFR OldObjectSample by default.\nPreliminary tests are showing that enabling this event is not causing any noticeable performance or recording size overhead.\nHowever, in the unlikely event of a customer experiencing problems caused by this event it is still possible to disable it via the standard template override (-Ddd.profiling.jfr-template-override-file=<override.jfp>) where the override JFP file will contain the jdk.OldObjectSample#enabled=false line.", "createdAt": "2020-09-30T10:45:28Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1931", "merged": true, "mergeCommit": {"oid": "8c7c52d107887566fc08609e0aad926a369aff6b"}, "closed": true, "closedAt": "2020-10-01T11:29:41Z", "author": {"login": "jbachorik"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdN6sZJAFqTQ5OTMxNDA5MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOO72UgBqjM4Mjg3NjMyNjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5MzE0MDkx", "url": "https://github.com/DataDog/dd-trace-java/pull/1931#pullrequestreview-499314091", "createdAt": "2020-09-30T11:01:14Z", "commit": {"oid": "bd18ad2b0a4b507e53a0e67a54fc968220d75528"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5MzM0ODUw", "url": "https://github.com/DataDog/dd-trace-java/pull/1931#pullrequestreview-499334850", "createdAt": "2020-09-30T11:32:57Z", "commit": {"oid": "bd18ad2b0a4b507e53a0e67a54fc968220d75528"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd18ad2b0a4b507e53a0e67a54fc968220d75528", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/bd18ad2b0a4b507e53a0e67a54fc968220d75528", "committedDate": "2020-09-30T10:41:11Z", "message": "Enable OldObjectSample JFR event"}, "afterCommit": {"oid": "daaa00f25b28e532755aef98d49a01c132dada54", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/daaa00f25b28e532755aef98d49a01c132dada54", "committedDate": "2020-09-30T13:56:05Z", "message": "Enable the OldObjectSample JFR event"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a16eea12ff38b963dfeac1f603f824af0937722a", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a16eea12ff38b963dfeac1f603f824af0937722a", "committedDate": "2020-09-30T13:58:05Z", "message": "Add comment"}, "afterCommit": {"oid": "9ecf115b94fbca735540f1bd204c746173a83b3f", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/9ecf115b94fbca735540f1bd204c746173a83b3f", "committedDate": "2020-09-30T14:41:16Z", "message": "Add comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NjM2NDQ5", "url": "https://github.com/DataDog/dd-trace-java/pull/1931#pullrequestreview-499636449", "createdAt": "2020-09-30T17:00:05Z", "commit": {"oid": "9ecf115b94fbca735540f1bd204c746173a83b3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNzowMDowNlrOHanBFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNzowMDowNlrOHanBFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY2NDI3Ng==", "bodyText": "are you sure about threshold?\ndefinition in https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/jdk.jfr/share/conf/jfr/default.jfc#L426 shows only cutoff", "url": "https://github.com/DataDog/dd-trace-java/pull/1931#discussion_r497664276", "createdAt": "2020-09-30T17:00:06Z", "author": {"login": "jpbempel"}, "path": "dd-java-agent/agent-profiling/profiling-controller-openjdk/src/main/resources/jfr/dd.jfp", "diffHunk": "@@ -152,9 +152,9 @@ jdk.TenuringDistribution#enabled=true\n jdk.G1HeapRegionInformation#enabled=false\n jdk.G1HeapRegionInformation#period=everyChunk\n jdk.G1HeapRegionTypeChange#enabled=false\n-jdk.OldObjectSample#enabled=false\n+jdk.OldObjectSample#enabled=true\n jdk.OldObjectSample#stackTrace=true\n-jdk.OldObjectSample#cutoff=900 ms\n+jdk.OldObjectSample#threshold=0 ms", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ecf115b94fbca735540f1bd204c746173a83b3f"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMTU2NTc0", "url": "https://github.com/DataDog/dd-trace-java/pull/1931#pullrequestreview-500156574", "createdAt": "2020-10-01T09:15:54Z", "commit": {"oid": "80a794bfb9827ab15cdee3740790f2d12821b6f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "80a794bfb9827ab15cdee3740790f2d12821b6f3", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/80a794bfb9827ab15cdee3740790f2d12821b6f3", "committedDate": "2020-10-01T09:12:27Z", "message": "Use 'cutoff' instead of 'threshold'"}, "afterCommit": {"oid": "9d1173f99ae1d50684cdc0c47c4552cb0eeca687", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/9d1173f99ae1d50684cdc0c47c4552cb0eeca687", "committedDate": "2020-10-01T09:34:20Z", "message": "Use 'cutoff' instead of 'threshold'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "795180a0e99e23a53ecaf4b2d94138257dc6f26b", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/795180a0e99e23a53ecaf4b2d94138257dc6f26b", "committedDate": "2020-10-01T10:36:03Z", "message": "Enable the OldObjectSample JFR event"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d1173f99ae1d50684cdc0c47c4552cb0eeca687", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/9d1173f99ae1d50684cdc0c47c4552cb0eeca687", "committedDate": "2020-10-01T09:34:20Z", "message": "Use 'cutoff' instead of 'threshold'"}, "afterCommit": {"oid": "795180a0e99e23a53ecaf4b2d94138257dc6f26b", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/795180a0e99e23a53ecaf4b2d94138257dc6f26b", "committedDate": "2020-10-01T10:36:03Z", "message": "Enable the OldObjectSample JFR event"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3181, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}