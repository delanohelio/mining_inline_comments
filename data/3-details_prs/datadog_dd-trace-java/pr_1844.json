{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxOTY3ODg1", "number": 1844, "title": "Add option to not treat async request timeouts as errors", "bodyText": "For scenarios where clients disconnect without explicitly closing connections it is useful to not treat timeouts as errors when recording spans.\nThe default behaviour remains the same (async request timeouts are treated as errors) but you can now set:\ndd.trace.servlet.async-timeout.error=false\n\nto not treat them as errors. These spans will still have the \"timeout\" tag set regardless of this setting.", "createdAt": "2020-09-08T11:13:01Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1844", "merged": true, "mergeCommit": {"oid": "60977a7b721513090354ceaa911e3701f374f9ac"}, "closed": true, "closedAt": "2020-09-09T11:39:34Z", "author": {"login": "mcculls"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG1QDYgH2gAyNDgxOTY3ODg1Ojk2ZWUwMDlhMjM2M2Y1ZjFkYWM4ZjQxZWMwMzQxNGQ4ODdiMzYzMzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHGQP6gFqTQ4NDY5NzQwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "96ee009a2363f5f1dac8f41ec03414d887b36332", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/96ee009a2363f5f1dac8f41ec03414d887b36332", "committedDate": "2020-09-08T10:43:17Z", "message": "Add 'trace.servlet.timeout.asError' property to control whether servlet3 async timeouts are treated as errors (default: true)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "329c449f7c162503ad5afb070b6bbf0c9140166a", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/329c449f7c162503ad5afb070b6bbf0c9140166a", "committedDate": "2020-09-08T10:43:17Z", "message": "Add async timeout test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "311f8864443775da4dcfc716e2479f826164a17b", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/311f8864443775da4dcfc716e2479f826164a17b", "committedDate": "2020-09-08T10:58:37Z", "message": "Update Jetty TagSettingAsyncListener to attach itself to following async requests like the generic servlet3 TagSettingAsyncListener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "057e1a600c201f2c4e0fd73cf161a50b9a9381de", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/057e1a600c201f2c4e0fd73cf161a50b9a9381de", "committedDate": "2020-09-08T11:36:52Z", "message": "Remove stray semicolon"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MTAxNTY2", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484101566", "createdAt": "2020-09-08T12:53:58Z", "commit": {"oid": "057e1a600c201f2c4e0fd73cf161a50b9a9381de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MTQ2MjI2", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484146226", "createdAt": "2020-09-08T13:35:47Z", "commit": {"oid": "057e1a600c201f2c4e0fd73cf161a50b9a9381de"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1e8cbfb28e544cbe929845106b4cbc50370dc90", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f1e8cbfb28e544cbe929845106b4cbc50370dc90", "committedDate": "2020-09-08T14:17:05Z", "message": "Make clear this is specific to servlet async timeouts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MjAwMzcw", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484200370", "createdAt": "2020-09-08T14:30:49Z", "commit": {"oid": "f1e8cbfb28e544cbe929845106b4cbc50370dc90"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e28760f34c2a189304d68cfa28c8721746968cf", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6e28760f34c2a189304d68cfa28c8721746968cf", "committedDate": "2020-09-08T14:41:03Z", "message": "Remove camel-case from property name to match other properties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MjI3MzMy", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484227332", "createdAt": "2020-09-08T14:56:27Z", "commit": {"oid": "6e28760f34c2a189304d68cfa28c8721746968cf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNDo1NjoyOFrOHOhNvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNDo1NjoyOFrOHOhNvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4NjMwMA==", "bodyText": "I think my only remaining question is should the is- be removed? Don't have strong opinion either way though.", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#discussion_r484986300", "createdAt": "2020-09-08T14:56:28Z", "author": {"login": "tylerbenson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/config/TraceInstrumentationConfig.java", "diffHunk": "@@ -36,7 +36,8 @@\n \n   public static final String HYSTRIX_TAGS_ENABLED = \"hystrix.tags.enabled\";\n   public static final String SERVLET_PRINCIPAL_ENABLED = \"trace.servlet.principal.enabled\";\n-  public static final String SERVLET_ASYNC_TIMEOUT_AS_ERROR = \"trace.servlet.asyncTimeout.asError\";\n+  public static final String SERVLET_ASYNC_TIMEOUT_IS_ERROR =\n+      \"trace.servlet.async-timeout.is-error\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e28760f34c2a189304d68cfa28c8721746968cf"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0Mjk2NTQ3", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484296547", "createdAt": "2020-09-08T16:14:06Z", "commit": {"oid": "f04104f327bcccaa6443d5baa1148e85f2aeb2ea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9e2076c300d956cd023b10614477cbc3cc7a1b9", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/e9e2076c300d956cd023b10614477cbc3cc7a1b9", "committedDate": "2020-09-08T19:06:04Z", "message": "Simplify property"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f04104f327bcccaa6443d5baa1148e85f2aeb2ea", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f04104f327bcccaa6443d5baa1148e85f2aeb2ea", "committedDate": "2020-09-08T15:00:20Z", "message": "Simplify property"}, "afterCommit": {"oid": "e9e2076c300d956cd023b10614477cbc3cc7a1b9", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/e9e2076c300d956cd023b10614477cbc3cc7a1b9", "committedDate": "2020-09-08T19:06:04Z", "message": "Simplify property"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NjcyMjA2", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484672206", "createdAt": "2020-09-09T05:32:10Z", "commit": {"oid": "e9e2076c300d956cd023b10614477cbc3cc7a1b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0Njk3NDAx", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#pullrequestreview-484697401", "createdAt": "2020-09-09T06:31:53Z", "commit": {"oid": "e9e2076c300d956cd023b10614477cbc3cc7a1b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2013, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}