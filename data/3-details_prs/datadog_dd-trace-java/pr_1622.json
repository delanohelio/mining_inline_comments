{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5MjU4NzQ1", "number": 1622, "title": "Handle kafka tombstones ", "bodyText": "Changes the handling of Kafka tombstones (where there are no headers and the body is null).\n\nWe don't propagate through tombstones, since they are logically terminal operations. We tag the producer span as being a tombstone.\nIf we detect a tombstone during consumption, we still create a span to indicate that a tombstone has been consumed, but tag as a tombstone and won't compute an e2e duration since no baggage can have been propagated in this case.", "createdAt": "2020-06-24T14:48:58Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1622", "merged": true, "mergeCommit": {"oid": "b4493b4f4ed5f2865e0d5ad0ed81375c43c71344"}, "closed": true, "closedAt": "2020-06-24T15:30:57Z", "author": {"login": "richardstartin"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcubRykAFqTQzNjcyNzk0Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcubc5gAFqTQzNjczNjk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzI3OTQy", "url": "https://github.com/DataDog/dd-trace-java/pull/1622#pullrequestreview-436727942", "createdAt": "2020-06-24T14:53:28Z", "commit": {"oid": "d7b0cd0734bd2181d0894bf7e198e89a6e45afa1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44bd16d8a4bdb4166f19918b9d504389ea944a9a", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/44bd16d8a4bdb4166f19918b9d504389ea944a9a", "committedDate": "2020-06-24T14:56:25Z", "message": "don't propagate tombstones"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7b0cd0734bd2181d0894bf7e198e89a6e45afa1", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/d7b0cd0734bd2181d0894bf7e198e89a6e45afa1", "committedDate": "2020-06-24T14:44:04Z", "message": "don't propagate tombstones"}, "afterCommit": {"oid": "44bd16d8a4bdb4166f19918b9d504389ea944a9a", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/44bd16d8a4bdb4166f19918b9d504389ea944a9a", "committedDate": "2020-06-24T14:56:25Z", "message": "don't propagate tombstones"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzM2OTY5", "url": "https://github.com/DataDog/dd-trace-java/pull/1622#pullrequestreview-436736969", "createdAt": "2020-06-24T15:02:17Z", "commit": {"oid": "44bd16d8a4bdb4166f19918b9d504389ea944a9a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNTowMjoxN1rOGoWU_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNTowMjoxN1rOGoWU_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk2MjA0NQ==", "bodyText": "Optional: add a comment here explaining the purpose", "url": "https://github.com/DataDog/dd-trace-java/pull/1622#discussion_r444962045", "createdAt": "2020-06-24T15:02:17Z", "author": {"login": "tylerbenson"}, "path": "internal-api/src/main/java/datadog/trace/bootstrap/instrumentation/api/InstrumentationTags.java", "diffHunk": "@@ -12,6 +12,7 @@\n   public static final String OFFSET = \"offset\";\n   public static final String RECORD_QUEUE_TIME_MS = \"record.queue_time_ms\";\n   public static final String RECORD_END_TO_END_DURATION_MS = \"record.e2e_duration_ms\";\n+  public static final String TOMBSTONE = \"tombstone\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bd16d8a4bdb4166f19918b9d504389ea944a9a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2202, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}