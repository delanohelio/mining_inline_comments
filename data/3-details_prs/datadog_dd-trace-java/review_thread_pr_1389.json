{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MzIzNzg3", "number": 1389, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQyMjo0NTo0MlrODz9Kdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDo1NjoxOFrOD0Sl_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODA2MDcxOnYy", "diffSide": "RIGHT", "path": "dd-java-agent/instrumentation/rediscala-1.8.1/rediscala-1.8.1.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQyMjo0NTo0MlrOGIquIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODoyOTowMlrOGI5YWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTc0MTcyOQ==", "bodyText": "do you know why 1.8.0 doesn't work?", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r411741729", "createdAt": "2020-04-20T22:45:42Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.1/rediscala-1.8.1.gradle", "diffHunk": "@@ -0,0 +1,45 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+muzzle {\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.8.1,)\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3448396b0f712c988301b8403dc800bd5cb3120"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk4MTkxMg==", "bodyText": "It looks like the instrumentation is built against a fork source code of etaty/rediscala. Let's catch up later to discuss which library we should be supporting.", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r411981912", "createdAt": "2020-04-21T08:29:02Z", "author": {"login": "richardstartin"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.1/rediscala-1.8.1.gradle", "diffHunk": "@@ -0,0 +1,45 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+muzzle {\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.8.1,)\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTc0MTcyOQ=="}, "originalCommit": {"oid": "e3448396b0f712c988301b8403dc800bd5cb3120"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODA2NjA4OnYy", "diffSide": "RIGHT", "path": "dd-java-agent/instrumentation/rediscala/src/main/java/datadog/trace/instrumentation/rediscala/RediscalaClientDecorator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQyMjo0NzozMVrOGIqxJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNjoyNzo0MVrOGI0rhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTc0MjUwMw==", "bodyText": "Looks like the original classes are duplicated instead of being moved/renamed properly.", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r411742503", "createdAt": "2020-04-20T22:47:31Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/rediscala/src/main/java/datadog/trace/instrumentation/rediscala/RediscalaClientDecorator.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package datadog.trace.instrumentation.rediscala;\n+\n+import datadog.trace.agent.decorator.DatabaseClientDecorator;\n+import datadog.trace.api.DDSpanTypes;\n+import redis.RedisCommand;\n+\n+public class RediscalaClientDecorator extends DatabaseClientDecorator<RedisCommand> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3448396b0f712c988301b8403dc800bd5cb3120"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNDkwMQ==", "bodyText": "Yeah, I hadn't added staged the deletions, good catch.", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r411904901", "createdAt": "2020-04-21T06:27:41Z", "author": {"login": "richardstartin"}, "path": "dd-java-agent/instrumentation/rediscala/src/main/java/datadog/trace/instrumentation/rediscala/RediscalaClientDecorator.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package datadog.trace.instrumentation.rediscala;\n+\n+import datadog.trace.agent.decorator.DatabaseClientDecorator;\n+import datadog.trace.api.DDSpanTypes;\n+import redis.RedisCommand;\n+\n+public class RediscalaClientDecorator extends DatabaseClientDecorator<RedisCommand> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTc0MjUwMw=="}, "originalCommit": {"oid": "e3448396b0f712c988301b8403dc800bd5cb3120"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MTQ0MTU4OnYy", "diffSide": "RIGHT", "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDozMzoyMFrOGJJEWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDo0NDozM1rOGJJqFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzODkzOQ==", "bodyText": "if both are commonly used and we are able to work with either one, I suggest adding both checks to muzzle.", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r412238939", "createdAt": "2020-04-21T14:33:20Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "diffHunk": "@@ -4,21 +4,21 @@ ext {\n \n muzzle {\n   pass {\n-    group = \"com.github.Ma27\"\n+    group = \"com.github.etaty\"\n     module = \"rediscala_2.11\"\n-    versions = \"[1.8.1,)\"\n+    versions = \"[1.8.0,)\"\n     assertInverse = true\n   }\n \n   pass {\n-    group = \"com.github.Ma27\"\n+    group = \"com.github.etaty\"\n     module = \"rediscala_2.12\"\n-    versions = \"[1.8.1,)\"\n+    versions = \"[1.8.0,)\"\n     assertInverse = true\n   }\n \n   pass {\n-    group = \"com.github.Ma27\"\n+    group = \"com.github.etaty\"\n     module = \"rediscala_2.13\"\n     versions = \"[1.9.0,)\"\n     assertInverse = true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29d73ebd2b9a217207a4452fbbfb8808f9c55baa"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI0ODU5OQ==", "bodyText": "OK, done. Note that there is no Ma27 1.8.0, it starts at 1.8.1", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r412248599", "createdAt": "2020-04-21T14:44:33Z", "author": {"login": "richardstartin"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "diffHunk": "@@ -4,21 +4,21 @@ ext {\n \n muzzle {\n   pass {\n-    group = \"com.github.Ma27\"\n+    group = \"com.github.etaty\"\n     module = \"rediscala_2.11\"\n-    versions = \"[1.8.1,)\"\n+    versions = \"[1.8.0,)\"\n     assertInverse = true\n   }\n \n   pass {\n-    group = \"com.github.Ma27\"\n+    group = \"com.github.etaty\"\n     module = \"rediscala_2.12\"\n-    versions = \"[1.8.1,)\"\n+    versions = \"[1.8.0,)\"\n     assertInverse = true\n   }\n \n   pass {\n-    group = \"com.github.Ma27\"\n+    group = \"com.github.etaty\"\n     module = \"rediscala_2.13\"\n     versions = \"[1.9.0,)\"\n     assertInverse = true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzODkzOQ=="}, "originalCommit": {"oid": "29d73ebd2b9a217207a4452fbbfb8808f9c55baa"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MTU3MTgyOnYy", "diffSide": "RIGHT", "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDo1NjoxOFrOGJKS1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNjoxMDo1N1rOGJMxqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1OTAyOA==", "bodyText": "We might want a second latestDepTest source set that uses the latest from the fork", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r412259028", "createdAt": "2020-04-21T14:56:18Z", "author": {"login": "devinsba"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "diffHunk": "@@ -0,0 +1,66 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+muzzle {\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.5.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.12\"\n+    versions = \"[1.8.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.13\"\n+    versions = \"[1.9.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.8.1,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.12\"\n+    versions = \"[1.8.1,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.13\"\n+    versions = \"[1.9.0,)\"\n+    assertInverse = true\n+  }\n+}\n+\n+apply from: \"${rootDir}/gradle/java.gradle\"\n+\n+apply plugin: 'org.unbroken-dome.test-sets'\n+\n+testSets {\n+  latestDepTest {\n+    dirName = 'test'\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc84659df0033709642fb3e62f44fdf08fc83abd"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI2MDc0NA==", "bodyText": "latestForkDepTest {\n  dirName = 'test'\n}\n\nAND\nlatestForkDepTestCompile group: 'com.github.Ma27', name: 'rediscala_2.11', version: '+'", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r412260744", "createdAt": "2020-04-21T14:58:16Z", "author": {"login": "devinsba"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "diffHunk": "@@ -0,0 +1,66 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+muzzle {\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.5.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.12\"\n+    versions = \"[1.8.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.13\"\n+    versions = \"[1.9.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.8.1,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.12\"\n+    versions = \"[1.8.1,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.13\"\n+    versions = \"[1.9.0,)\"\n+    assertInverse = true\n+  }\n+}\n+\n+apply from: \"${rootDir}/gradle/java.gradle\"\n+\n+apply plugin: 'org.unbroken-dome.test-sets'\n+\n+testSets {\n+  latestDepTest {\n+    dirName = 'test'\n+  }\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1OTAyOA=="}, "originalCommit": {"oid": "dc84659df0033709642fb3e62f44fdf08fc83abd"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI5OTY4OQ==", "bodyText": "Spoke to @tylerbenson, will address this on another PR.", "url": "https://github.com/DataDog/dd-trace-java/pull/1389#discussion_r412299689", "createdAt": "2020-04-21T16:10:57Z", "author": {"login": "richardstartin"}, "path": "dd-java-agent/instrumentation/rediscala-1.8.0/rediscala-1.8.0.gradle", "diffHunk": "@@ -0,0 +1,66 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+muzzle {\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.5.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.12\"\n+    versions = \"[1.8.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.etaty\"\n+    module = \"rediscala_2.13\"\n+    versions = \"[1.9.0,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.11\"\n+    versions = \"[1.8.1,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.12\"\n+    versions = \"[1.8.1,)\"\n+    assertInverse = true\n+  }\n+\n+  pass {\n+    group = \"com.github.Ma27\"\n+    module = \"rediscala_2.13\"\n+    versions = \"[1.9.0,)\"\n+    assertInverse = true\n+  }\n+}\n+\n+apply from: \"${rootDir}/gradle/java.gradle\"\n+\n+apply plugin: 'org.unbroken-dome.test-sets'\n+\n+testSets {\n+  latestDepTest {\n+    dirName = 'test'\n+  }\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1OTAyOA=="}, "originalCommit": {"oid": "dc84659df0033709642fb3e62f44fdf08fc83abd"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 257, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}