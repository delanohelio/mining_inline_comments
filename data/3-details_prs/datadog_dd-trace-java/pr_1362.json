{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDM3NjU5", "number": 1362, "title": "add {\"_dd.measured\":1} to every integration individually", "bodyText": "add {\"_dd.measured\":1} to every individual span, for which we want to calculate metric automatically", "createdAt": "2020-04-10T19:27:47Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1362", "merged": true, "mergeCommit": {"oid": "63e4a1411a1cbe7fc5ce411ef8d8ea03dae5dc1e"}, "closed": true, "closedAt": "2020-05-28T18:43:58Z", "author": {"login": "lpriima"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXRuOagFqTM5MjI2ODkxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABclxXE3AFqTQyMDMzOTIxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMjY4OTE5", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-392268919", "createdAt": "2020-04-13T16:45:13Z", "commit": {"oid": "885825d318316b914445839cce509df26930960b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "885825d318316b914445839cce509df26930960b", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/885825d318316b914445839cce509df26930960b", "committedDate": "2020-04-10T19:25:16Z", "message": "add {\"metrics\":{\"_dd.measured\":0}...} to every span"}, "afterCommit": {"oid": "ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5", "committedDate": "2020-04-16T05:53:58Z", "message": "add {\"_dd.measured\":1} to ServerDecorator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NTgwMDM1", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-398580035", "createdAt": "2020-04-22T20:52:40Z", "commit": {"oid": "ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMDo1Mjo0MFrOGKLU2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMDo1Mjo0MFrOGKLU2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzMyNDUwNQ==", "bodyText": "this ServerDecorator is only used for spans handling http requests correct?\ne.g. Spring, Struts, Play, etc?", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#discussion_r413324505", "createdAt": "2020-04-22T20:52:40Z", "author": {"login": "brettlangdon"}, "path": "dd-java-agent/agent-bootstrap/src/main/java/datadog/trace/bootstrap/instrumentation/decorator/ServerDecorator.java", "diffHunk": "@@ -11,6 +11,7 @@ public AgentSpan afterStart(final AgentSpan span) {\n     assert span != null;\n     span.setTag(Tags.SPAN_KIND, Tags.SPAN_KIND_SERVER);\n     span.setTag(Config.LANGUAGE_TAG_KEY, Config.LANGUAGE_TAG_VALUE);\n+    span.setTag(\"_dd.measured\", \"1\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NTk3Mzg4", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-398597388", "createdAt": "2020-04-22T21:19:00Z", "commit": {"oid": "ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMToxOTowMFrOGKMSuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMToxOTowMFrOGKMSuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM0MDM0NA==", "bodyText": "I'm a bit concerned by some of the decorators where this would have effect.\nFor example, a standard spring boot app, we would see potentially 2 spans with this added, the top level servlet span, plus the handler/controller span.  The first one makes sense, but I'm not sure the second one does.  Before we merge this, we'd need to review all the decorators that extend this class to confirm we want the metric added.", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#discussion_r413340344", "createdAt": "2020-04-22T21:19:00Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/agent-bootstrap/src/main/java/datadog/trace/bootstrap/instrumentation/decorator/ServerDecorator.java", "diffHunk": "@@ -11,6 +11,7 @@ public AgentSpan afterStart(final AgentSpan span) {\n     assert span != null;\n     span.setTag(Tags.SPAN_KIND, Tags.SPAN_KIND_SERVER);\n     span.setTag(Config.LANGUAGE_TAG_KEY, Config.LANGUAGE_TAG_VALUE);\n+    span.setTag(\"_dd.measured\", \"1\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzMyNDUwNQ=="}, "originalCommit": {"oid": "ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/ee5ec1b4c4e300f6288c70bde9aa32c774d7e8a5", "committedDate": "2020-04-16T05:53:58Z", "message": "add {\"_dd.measured\":1} to ServerDecorator"}, "afterCommit": {"oid": "13804bf1dbcc42b7dc035047a385c2f3753de4c6", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/13804bf1dbcc42b7dc035047a385c2f3753de4c6", "committedDate": "2020-05-20T20:50:27Z", "message": "Keep Tags.PEER_SERVICE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13804bf1dbcc42b7dc035047a385c2f3753de4c6", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/13804bf1dbcc42b7dc035047a385c2f3753de4c6", "committedDate": "2020-05-20T20:50:27Z", "message": "Keep Tags.PEER_SERVICE"}, "afterCommit": {"oid": "78afcb61b54c1b8b15cf9ca0010106bea1b988d2", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/78afcb61b54c1b8b15cf9ca0010106bea1b988d2", "committedDate": "2020-05-21T03:30:56Z", "message": "add {\"_dd.measured\":1} to ServerDecorator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78afcb61b54c1b8b15cf9ca0010106bea1b988d2", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/78afcb61b54c1b8b15cf9ca0010106bea1b988d2", "committedDate": "2020-05-21T03:30:56Z", "message": "add {\"_dd.measured\":1} to ServerDecorator"}, "afterCommit": {"oid": "bd0af464428b0f900493fb66587b23ab03001ab6", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/bd0af464428b0f900493fb66587b23ab03001ab6", "committedDate": "2020-05-26T21:48:40Z", "message": "specify _dd.measured individually for every integration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd0af464428b0f900493fb66587b23ab03001ab6", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/bd0af464428b0f900493fb66587b23ab03001ab6", "committedDate": "2020-05-26T21:48:40Z", "message": "specify _dd.measured individually for every integration"}, "afterCommit": {"oid": "1be8f68391807b33cb6bb1d238eb071c2fc5e13b", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1be8f68391807b33cb6bb1d238eb071c2fc5e13b", "committedDate": "2020-05-26T21:54:21Z", "message": "specify _dd.measured individually for every integration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1be8f68391807b33cb6bb1d238eb071c2fc5e13b", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1be8f68391807b33cb6bb1d238eb071c2fc5e13b", "committedDate": "2020-05-26T21:54:21Z", "message": "specify _dd.measured individually for every integration"}, "afterCommit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c", "committedDate": "2020-05-26T21:59:04Z", "message": "specify _dd.measured individually for every integration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4OTE2Nzgw", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-418916780", "createdAt": "2020-05-27T07:16:46Z", "commit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNjo0N1rOGa8WgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNjo0N1rOGa8WgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwNDk2MA==", "bodyText": "Is there a reason we're making this a string? Ultimately, it would be beneficial for all numeric tags to be numeric, because the vast majority of our allocation overhead is in UTF-8 encoding of strings. As things stand, this will get converted to a string anyway, but when we find a reasonable way to pass numerics through as numerics, it would be nice if this code didn't need alteration.", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#discussion_r430904960", "createdAt": "2020-05-27T07:16:47Z", "author": {"login": "richardstartin"}, "path": "dd-java-agent/instrumentation/akka-http-10.0/src/main/java/datadog/trace/instrumentation/akkahttp/AkkaHttpClientInstrumentation.java", "diffHunk": "@@ -80,6 +81,7 @@ public static AgentScope methodEnter(\n       }\n \n       final AgentSpan span = startSpan(\"akka-http.request\");\n+      span.setTag(DD_MEASURED, \"1\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MzkxNzc4", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-419391778", "createdAt": "2020-05-27T16:16:41Z", "commit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjoxNjo0MVrOGbSpaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjoxNjo0MVrOGbSpaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI3MDI0OA==", "bodyText": "This should be a metric, not a tag.", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#discussion_r431270248", "createdAt": "2020-05-27T16:16:41Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/testing/src/main/groovy/datadog/trace/agent/test/asserts/TagsAssert.groovy", "diffHunk": "@@ -37,6 +37,7 @@ class TagsAssert {\n     assertedTags.add(\"thread.id\")\n     assertedTags.add(Config.RUNTIME_ID_TAG)\n     assertedTags.add(Config.LANGUAGE_TAG_KEY)\n+    assertedTags.add(\"_dd.measured\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c", "committedDate": "2020-05-26T21:59:04Z", "message": "specify _dd.measured individually for every integration"}, "afterCommit": {"oid": "c316f06981a74cd7f0c40a8e2b6686317f784795", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/c316f06981a74cd7f0c40a8e2b6686317f784795", "committedDate": "2020-05-27T16:23:19Z", "message": "set tag \"_dd.measured\" as integer 1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c316f06981a74cd7f0c40a8e2b6686317f784795", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/c316f06981a74cd7f0c40a8e2b6686317f784795", "committedDate": "2020-05-27T16:23:19Z", "message": "set tag \"_dd.measured\" as integer 1"}, "afterCommit": {"oid": "9d1742716715245e59c0934a294822b3d009f4bf", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/9d1742716715245e59c0934a294822b3d009f4bf", "committedDate": "2020-05-27T22:45:22Z", "message": "set metric  \"_dd.measured\":1 if _dd.measured tag is true"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bda6869667ca4b7c62b68d5d4b7ff4d643e8d291", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/bda6869667ca4b7c62b68d5d4b7ff4d643e8d291", "committedDate": "2020-05-27T23:35:51Z", "message": "send \"_dd.measured\":1 metric instead of tag by rule"}, "afterCommit": {"oid": "f1289fe535bacf0ace32d1ba64e8c019536c3071", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f1289fe535bacf0ace32d1ba64e8c019536c3071", "committedDate": "2020-05-28T02:25:53Z", "message": "send \"_dd.measured\":1 metric instead of tag by rule"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1289fe535bacf0ace32d1ba64e8c019536c3071", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f1289fe535bacf0ace32d1ba64e8c019536c3071", "committedDate": "2020-05-28T02:25:53Z", "message": "send \"_dd.measured\":1 metric instead of tag by rule"}, "afterCommit": {"oid": "d6ab7dd7ff77c8d5e9f54aa42324ca0ff81db63b", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/d6ab7dd7ff77c8d5e9f54aa42324ca0ff81db63b", "committedDate": "2020-05-28T02:31:06Z", "message": "send \"_dd.measured\":1 metric instead of tag by rule"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMTYwMjMy", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-420160232", "createdAt": "2020-05-28T14:22:31Z", "commit": {"oid": "d6ab7dd7ff77c8d5e9f54aa42324ca0ff81db63b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNDoyMjozMVrOGb3dvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNDoyMzoyNFrOGb3gcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg3MzQ2OA==", "bodyText": "@lpriima I think you can remove this line now.", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#discussion_r431873468", "createdAt": "2020-05-28T14:22:31Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/testing/src/main/groovy/datadog/trace/agent/test/asserts/TagsAssert.groovy", "diffHunk": "@@ -37,6 +37,7 @@ class TagsAssert {\n     assertedTags.add(\"thread.id\")\n     assertedTags.add(Config.RUNTIME_ID_TAG)\n     assertedTags.add(Config.LANGUAGE_TAG_KEY)\n+    assertedTags.add(\"_dd.measured\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI3MDI0OA=="}, "originalCommit": {"oid": "7a73ade71b1f56a272a2cc0bd5beb40d29adfb7c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg3NDE2MA==", "bodyText": "See Richard's work in #1504", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#discussion_r431874160", "createdAt": "2020-05-28T14:23:24Z", "author": {"login": "tylerbenson"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/processor/rule/MarkSpanForMetricCalculationRule.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package datadog.trace.core.processor.rule;\n+\n+import datadog.trace.bootstrap.instrumentation.api.InstrumentationTags;\n+import datadog.trace.core.DDSpan;\n+import datadog.trace.core.processor.TraceProcessor;\n+import java.util.Collection;\n+import java.util.Map;\n+\n+public class MarkSpanForMetricCalculationRule implements TraceProcessor.Rule {\n+  @Override\n+  public String[] aliases() {\n+    return new String[] {};\n+  }\n+\n+  @Override\n+  public void processSpan(DDSpan span, Map<String, Object> tags, Collection<DDSpan> trace) {\n+    final Object val = tags.get(InstrumentationTags.DD_MEASURED);\n+    if (val instanceof Boolean && (Boolean) val) {\n+      span.context().setMetric(InstrumentationTags.DD_MEASURED, 1);\n+      span.removeTag(InstrumentationTags.DD_MEASURED);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6ab7dd7ff77c8d5e9f54aa42324ca0ff81db63b"}, "originalPosition": 20}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6ab7dd7ff77c8d5e9f54aa42324ca0ff81db63b", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/d6ab7dd7ff77c8d5e9f54aa42324ca0ff81db63b", "committedDate": "2020-05-28T02:31:06Z", "message": "send \"_dd.measured\":1 metric instead of tag by rule"}, "afterCommit": {"oid": "8fa46b72abf273066b6db049724e61b829eeaa90", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8fa46b72abf273066b6db049724e61b829eeaa90", "committedDate": "2020-05-28T16:33:42Z", "message": "remove \"_dd.measured\" from defult tags in tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57e0629db68cf09337ddebf29fa05345efd1caa5", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/57e0629db68cf09337ddebf29fa05345efd1caa5", "committedDate": "2020-05-28T17:12:20Z", "message": "add {\"_dd.measured\":1} to ServerDecorator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97c9aa0f31e0cca38489dad70583a4a9b693267b", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/97c9aa0f31e0cca38489dad70583a4a9b693267b", "committedDate": "2020-05-28T17:12:20Z", "message": "specify _dd.measured individually for every integration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51b8d60fa82a0ec67bf115572538a317d998ffde", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/51b8d60fa82a0ec67bf115572538a317d998ffde", "committedDate": "2020-05-28T17:12:20Z", "message": "set tag \"_dd.measured\" as integer 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "977bc2f42a512170a6d13b3ffe10cf5bf92026fd", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/977bc2f42a512170a6d13b3ffe10cf5bf92026fd", "committedDate": "2020-05-28T17:12:21Z", "message": "set metric  \"_dd.measured\":1 if _dd.measured tag is true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8cb80cd9fc700d30b2ed33c091df7844cb5c99c", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/e8cb80cd9fc700d30b2ed33c091df7844cb5c99c", "committedDate": "2020-05-28T17:12:21Z", "message": "send \"_dd.measured\":1 metric instead of tag by rule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a211c25deecfa54b01ff771474ef3531040a7db3", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a211c25deecfa54b01ff771474ef3531040a7db3", "committedDate": "2020-05-28T17:12:21Z", "message": "remove \"_dd.measured\" from defult tags in tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d0ecd93771aab46074974040d6a17bdcd423bd7", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1d0ecd93771aab46074974040d6a17bdcd423bd7", "committedDate": "2020-05-28T17:16:43Z", "message": "use DDSpan::getAndRemoveTag from #1504"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fa46b72abf273066b6db049724e61b829eeaa90", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8fa46b72abf273066b6db049724e61b829eeaa90", "committedDate": "2020-05-28T16:33:42Z", "message": "remove \"_dd.measured\" from defult tags in tests"}, "afterCommit": {"oid": "1d0ecd93771aab46074974040d6a17bdcd423bd7", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1d0ecd93771aab46074974040d6a17bdcd423bd7", "committedDate": "2020-05-28T17:16:43Z", "message": "use DDSpan::getAndRemoveTag from #1504"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMzM5MjE2", "url": "https://github.com/DataDog/dd-trace-java/pull/1362#pullrequestreview-420339216", "createdAt": "2020-05-28T17:31:51Z", "commit": {"oid": "1d0ecd93771aab46074974040d6a17bdcd423bd7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2642, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}