{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMzk5OTg1", "number": 2072, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODoxNjo1OVrOE4j5PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODo1NDowOVrOE4lDfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NzQzODA0OnYy", "diffSide": "RIGHT", "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODoxNjo1OVrOHyj3cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODo0MTozN1rOHylPkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc3ODQ4Mw==", "bodyText": "If you make this a byte[] it would work better on newer JDKs", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522778483", "createdAt": "2020-11-13T08:16:59Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +209,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final char[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    char[] chars = new char[size];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc4Mjk5NA==", "bodyText": "And tell the String the bytes are US_ASCII", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522782994", "createdAt": "2020-11-13T08:21:21Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +209,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final char[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    char[] chars = new char[size];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc3ODQ4Mw=="}, "originalCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc5MzY5MA==", "bodyText": "Thanks, I'll do that", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522793690", "createdAt": "2020-11-13T08:30:53Z", "author": {"login": "bantonsson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +209,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final char[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    char[] chars = new char[size];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc3ODQ4Mw=="}, "originalCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc5NTg4MA==", "bodyText": "Actually I just saw you can skip the negatives check if you claim they are ISO_8859_1 (which they are)", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522795880", "createdAt": "2020-11-13T08:32:57Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +209,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final char[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    char[] chars = new char[size];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc3ODQ4Mw=="}, "originalCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgwMTA0MA==", "bodyText": "Even better", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522801040", "createdAt": "2020-11-13T08:41:37Z", "author": {"login": "bantonsson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +209,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final char[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    char[] chars = new char[size];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc3ODQ4Mw=="}, "originalCommit": {"oid": "3a1e07231666a356e1582bf7e3fc9467f6c24784"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NzYyODE0OnYy", "diffSide": "RIGHT", "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwODo1NDowOVrOHylyoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwOTo0OToyOFrOHynotw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgxMDAxNw==", "bodyText": "for maximum efficiency you could turn this in to a counted loop by counting the number of leading zeros and dividing it by 4.", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522810017", "createdAt": "2020-11-13T08:54:09Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +210,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final byte[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    byte[] bytes = new byte[size];\n+    Arrays.fill(bytes, (byte) '0');\n+    int pos = bytes.length - 1;\n+    long remaining = this.id;\n+    while (remaining != 0 && pos >= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgyOTg5NQ==", "bodyText": "Just checked and it seems to make no difference \ud83d\udc4d", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522829895", "createdAt": "2020-11-13T09:30:46Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +210,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final byte[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    byte[] bytes = new byte[size];\n+    Arrays.fill(bytes, (byte) '0');\n+    int pos = bytes.length - 1;\n+    long remaining = this.id;\n+    while (remaining != 0 && pos >= 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgxMDAxNw=="}, "originalCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgzMTc2Mg==", "bodyText": "Maybe it would be even faster if the code was for (int i = 0; i < 16 - nibbleCount; i++) which also produce the correct result \ud83d\ude09", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522831762", "createdAt": "2020-11-13T09:34:16Z", "author": {"login": "bantonsson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +210,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final byte[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    byte[] bytes = new byte[size];\n+    Arrays.fill(bytes, (byte) '0');\n+    int pos = bytes.length - 1;\n+    long remaining = this.id;\n+    while (remaining != 0 && pos >= 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgxMDAxNw=="}, "originalCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgzOTY4NA==", "bodyText": "I did run some tests and found some errors, but found no performance improvements. Sorry if I led you down this path.", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522839684", "createdAt": "2020-11-13T09:48:23Z", "author": {"login": "richardstartin"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +210,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final byte[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    byte[] bytes = new byte[size];\n+    Arrays.fill(bytes, (byte) '0');\n+    int pos = bytes.length - 1;\n+    long remaining = this.id;\n+    while (remaining != 0 && pos >= 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgxMDAxNw=="}, "originalCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjg0MDI0Nw==", "bodyText": "No worries.", "url": "https://github.com/DataDog/dd-trace-java/pull/2072#discussion_r522840247", "createdAt": "2020-11-13T09:49:28Z", "author": {"login": "bantonsson"}, "path": "dd-trace-api/src/main/java/datadog/trace/api/DDId.java", "diffHunk": "@@ -208,6 +210,36 @@ public String toHexString() {\n     return Long.toHexString(this.id);\n   }\n \n+  private static final byte[] HEX_DIGITS = {\n+    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n+  };\n+\n+  /**\n+   * Returns the zero padded hex representation, in lower case, of the unsigned 64 bit id. The size\n+   * will be rounded up to 16 or 32 characters. The hex {@code String} will NOT be cached.\n+   *\n+   * @param size the size in characters of the 0 padded String (rounded up to 16 or 32)\n+   * @return zero padded hex String\n+   */\n+  public String toHexStringPadded(int size) {\n+    if (size > 16) {\n+      size = 32;\n+    } else if (size < 16) {\n+      size = 16;\n+    }\n+    byte[] bytes = new byte[size];\n+    Arrays.fill(bytes, (byte) '0');\n+    int pos = bytes.length - 1;\n+    long remaining = this.id;\n+    while (remaining != 0 && pos >= 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjgxMDAxNw=="}, "originalCommit": {"oid": "6b4d223242e7f944c8fb96490152220e7b89662e"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4587, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}