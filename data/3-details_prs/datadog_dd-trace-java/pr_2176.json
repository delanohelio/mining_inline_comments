{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0OTM5NzM3", "number": 2176, "title": "Don't check total count of request handlers in AmazonWebServiceClient", "bodyText": "latest AmazonRDSClient seems to have extra StartDBInstanceAutomatedBackupsReplicationPresignHandlerand the count of requestHandler2s becomes 5 instead of 4 in previous versions (+ we add our TracingRequestHandler during instrumentation).\nThis change:\n\nremoves check for total count of requestHandler2s\nchecks that exactly one \"TracingRequestHandler\" was added during instrumentation", "createdAt": "2020-12-09T06:27:10Z", "url": "https://github.com/DataDog/dd-trace-java/pull/2176", "merged": true, "mergeCommit": {"oid": "c0d5c3deb4a41e5da3cbfa91840b4b7a73a9107d"}, "closed": true, "closedAt": "2020-12-09T09:48:31Z", "author": {"login": "lpriima"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkZ-LXgH2gAyNTM0OTM5NzM3OjA5NzE5ODAwMjY5NzQ0OGE4MDg3YTA1NDE0MDI2MjU5ODg1YjUxM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkbQ2YgH2gAyNTM0OTM5NzM3OjhmNmRkMzNiZGJjNTJiODRmZDExYWRlMjdjYzc5NzgyMDI1Yjk4YTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "097198002697448a8087a05414026259885b513a", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/097198002697448a8087a05414026259885b513a", "committedDate": "2020-12-09T07:54:03Z", "message": "latest AmazonRDSClient can have 5 or 6 optional request handlers"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f460950fe0cdad8f937a5d69dbf909ada5eb9bc4", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f460950fe0cdad8f937a5d69dbf909ada5eb9bc4", "committedDate": "2020-12-09T06:25:34Z", "message": "latest AmazonRDSClient has 5 handlers + tracing"}, "afterCommit": {"oid": "097198002697448a8087a05414026259885b513a", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/097198002697448a8087a05414026259885b513a", "committedDate": "2020-12-09T07:54:03Z", "message": "latest AmazonRDSClient can have 5 or 6 optional request handlers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a", "committedDate": "2020-12-09T08:17:48Z", "message": "Don't check total count of reuest handlers in AmazonWebServiceClient"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90bb1300a0dba22212e60ebc91e34e3d39657553", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/90bb1300a0dba22212e60ebc91e34e3d39657553", "committedDate": "2020-12-09T07:57:51Z", "message": "Don't check total count of reuest handlers in AmazonWebServiceClient"}, "afterCommit": {"oid": "0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a", "committedDate": "2020-12-09T08:17:48Z", "message": "Don't check total count of reuest handlers in AmazonWebServiceClient"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTc2Mzgy", "url": "https://github.com/DataDog/dd-trace-java/pull/2176#pullrequestreview-547976382", "createdAt": "2020-12-09T09:12:39Z", "commit": {"oid": "0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTc1ODcy", "url": "https://github.com/DataDog/dd-trace-java/pull/2176#pullrequestreview-547975872", "createdAt": "2020-12-09T09:12:03Z", "commit": {"oid": "0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwOToxMjowM1rOICKEkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwOToxMjowM1rOICKEkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTEzMzA3NQ==", "bodyText": "Maybe loop through the handlers as well and make sure that there is only one?", "url": "https://github.com/DataDog/dd-trace-java/pull/2176#discussion_r539133075", "createdAt": "2020-12-09T09:12:03Z", "author": {"login": "bantonsson"}, "path": "dd-java-agent/instrumentation/aws-java-sdk-1.11.0/src/test/groovy/AWS1ClientTest.groovy", "diffHunk": "@@ -123,7 +123,6 @@ class AWS1ClientTest extends AgentTestRunner {\n     response != null\n \n     client.requestHandler2s != null\n-    client.requestHandler2s.size() == handlerCount\n     client.requestHandler2s.get(0).getClass().getSimpleName() == \"TracingRequestHandler\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0be559ebd2caf4b19cc84cb4d65b3ad28ef5f31a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f6dd33bdbc52b84fd11ade27cc79782025b98a1", "author": {"user": {"login": "lpriima", "name": "Lev"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8f6dd33bdbc52b84fd11ade27cc79782025b98a1", "committedDate": "2020-12-09T09:24:21Z", "message": "check we instrumented with exactly one TracingRequestHandler"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2717, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}