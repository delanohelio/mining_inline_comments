{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MTgwNTE0", "number": 1762, "title": " trace agent v0.5 integration tests", "bodyText": "will convert to reviewable once the trace agent is released.", "createdAt": "2020-08-11T15:28:05Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1762", "merged": true, "mergeCommit": {"oid": "cab87e4f2e1d8784c61b43878113158a9a9c07cf"}, "closed": true, "closedAt": "2020-08-14T17:49:26Z", "author": {"login": "richardstartin"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc940FPABqjM2NDM4NDE0Nzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-1b8wgFqTQ2NzYxNzMwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "352f63f251765de175a9f3c7ee6488f2ca382072", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/352f63f251765de175a9f3c7ee6488f2ca382072", "committedDate": "2020-08-11T15:23:54Z", "message": "trace agent v0.5 integration tests"}, "afterCommit": {"oid": "5ea0d29a42f7ab745f24ede0a951e74ced39e612", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/5ea0d29a42f7ab745f24ede0a951e74ced39e612", "committedDate": "2020-08-11T15:46:49Z", "message": "trace agent v0.5 integration tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6a74d66a673cf7c3045ccd6b90e3d4c214791f7", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a6a74d66a673cf7c3045ccd6b90e3d4c214791f7", "committedDate": "2020-08-11T16:24:54Z", "message": "specify agent image version in gitlab config"}, "afterCommit": {"oid": "da1b6f2ebac6b7fd14e0b3c69384b6db242dfb92", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/da1b6f2ebac6b7fd14e0b3c69384b6db242dfb92", "committedDate": "2020-08-11T18:13:06Z", "message": "specify agent image version in gitlab config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb07ffce2ea5ddab3b28b7dcfdb9252e5214b307", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/bb07ffce2ea5ddab3b28b7dcfdb9252e5214b307", "committedDate": "2020-08-11T18:59:29Z", "message": "add debug logging"}, "afterCommit": {"oid": "f6245e51e9bc41a01f30b3638ef53a50ca5d277f", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f6245e51e9bc41a01f30b3638ef53a50ca5d277f", "committedDate": "2020-08-11T19:14:45Z", "message": "drop this"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f6245e51e9bc41a01f30b3638ef53a50ca5d277f", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/f6245e51e9bc41a01f30b3638ef53a50ca5d277f", "committedDate": "2020-08-11T19:14:45Z", "message": "drop this"}, "afterCommit": {"oid": "6898fdf8ed567128f82e263798782c7ad7049204", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6898fdf8ed567128f82e263798782c7ad7049204", "committedDate": "2020-08-11T19:21:04Z", "message": "drop this"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6898fdf8ed567128f82e263798782c7ad7049204", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/6898fdf8ed567128f82e263798782c7ad7049204", "committedDate": "2020-08-11T19:21:04Z", "message": "drop this"}, "afterCommit": {"oid": "25cdcadf9f07cbba584d8c3945657f4b41055346", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/25cdcadf9f07cbba584d8c3945657f4b41055346", "committedDate": "2020-08-11T20:09:25Z", "message": "test detected endpoint version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "25cdcadf9f07cbba584d8c3945657f4b41055346", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/25cdcadf9f07cbba584d8c3945657f4b41055346", "committedDate": "2020-08-11T20:09:25Z", "message": "test detected endpoint version"}, "afterCommit": {"oid": "a3b5e8023001c29c7dc0c82e9ae3a8406c3ab334", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a3b5e8023001c29c7dc0c82e9ae3a8406c3ab334", "committedDate": "2020-08-11T20:11:31Z", "message": "test detected endpoint version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb6252faef1e7787554a114593e81072e3e0a05e", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/bb6252faef1e7787554a114593e81072e3e0a05e", "committedDate": "2020-08-11T20:27:47Z", "message": "improve assertions"}, "afterCommit": {"oid": "64ee96b106dae646f543710b76ed284b0037d976", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/64ee96b106dae646f543710b76ed284b0037d976", "committedDate": "2020-08-11T20:39:22Z", "message": "improve assertions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2619c8568b4b1d607562adce0ccb4a83c8be48a4", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/2619c8568b4b1d607562adce0ccb4a83c8be48a4", "committedDate": "2020-08-13T10:29:24Z", "message": "trace agent v0.5 integration tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "429f9768f453ecfe07c3cfe7a085388984b5d99b", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/429f9768f453ecfe07c3cfe7a085388984b5d99b", "committedDate": "2020-08-13T10:29:24Z", "message": "specify agent image version in gitlab config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "878b230b3f7ae35f0815b4d49ddf39d890290ffe", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/878b230b3f7ae35f0815b4d49ddf39d890290ffe", "committedDate": "2020-08-13T10:29:24Z", "message": "test detected endpoint version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6d3de68b7500d8e6b1cd45f70b0d10bade5f00a", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/c6d3de68b7500d8e6b1cd45f70b0d10bade5f00a", "committedDate": "2020-08-13T10:29:24Z", "message": "improve assertions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44d371e9372d15cfbf1b17242f4d77b74e2de45d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/44d371e9372d15cfbf1b17242f4d77b74e2de45d", "committedDate": "2020-08-13T10:29:24Z", "message": "assert about response body"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5158d5c1e9b660782e759ff1ca5508812e4707d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/b5158d5c1e9b660782e759ff1ca5508812e4707d", "committedDate": "2020-08-13T10:38:38Z", "message": "report error message from response's body when available"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13f946e7db9c3b08de11f9f65f2850b517008f98", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/13f946e7db9c3b08de11f9f65f2850b517008f98", "committedDate": "2020-08-11T21:03:39Z", "message": "assert about response body"}, "afterCommit": {"oid": "b5158d5c1e9b660782e759ff1ca5508812e4707d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/b5158d5c1e9b660782e759ff1ca5508812e4707d", "committedDate": "2020-08-13T10:38:38Z", "message": "report error message from response's body when available"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4077cfaf5055080f3ee2ddf56b9fdf969f68b9f2", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/4077cfaf5055080f3ee2ddf56b9fdf969f68b9f2", "committedDate": "2020-08-13T17:46:20Z", "message": "update to rc.3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a294e2098dadc07138b22bd4599c57e005bc4850", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/a294e2098dadc07138b22bd4599c57e005bc4850", "committedDate": "2020-08-13T20:42:37Z", "message": "make it possible to disable trace agent v0.5, add ingtegration test for disabled endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0159bcd6a4eec4033f372998c1a631437bd37e36", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/0159bcd6a4eec4033f372998c1a631437bd37e36", "committedDate": "2020-08-13T21:09:12Z", "message": "cut down number of tests to finish within timeout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MzcyMTAw", "url": "https://github.com/DataDog/dd-trace-java/pull/1762#pullrequestreview-467372100", "createdAt": "2020-08-14T07:46:55Z", "commit": {"oid": "0159bcd6a4eec4033f372998c1a631437bd37e36"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNzo0Njo1NVrOHAq5bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNzo0Njo1NVrOHAq5bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQ2NDg3Ng==", "bodyText": "Nice cleanup", "url": "https://github.com/DataDog/dd-trace-java/pull/1762#discussion_r470464876", "createdAt": "2020-08-14T07:46:55Z", "author": {"login": "bantonsson"}, "path": "dd-trace-core/src/main/java/datadog/trace/common/writer/ddagent/DDAgentApi.java", "diffHunk": "@@ -186,28 +199,26 @@ private void countAndLogFailedSend(\n       final IOException outer) {\n     // count the failed traces\n     this.failedTraces += traceCount;\n-\n     // these are used to catch and log if there is a failure in debug logging the response body\n-    IOException exception = outer;\n     boolean hasLogged = false;\n-\n+    String agentError = getResponseBody(response);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0159bcd6a4eec4033f372998c1a631437bd37e36"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NjE3MzAz", "url": "https://github.com/DataDog/dd-trace-java/pull/1762#pullrequestreview-467617303", "createdAt": "2020-08-14T14:24:53Z", "commit": {"oid": "0159bcd6a4eec4033f372998c1a631437bd37e36"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2110, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}