{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4MDI1NTg3", "number": 1193, "title": "Fix potential StackOverFlowError on regexp", "bodyText": "Fix for #1191", "createdAt": "2020-01-28T13:52:39Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1193", "merged": true, "mergeCommit": {"oid": "8757ba0a81c6084178da65a048ab754ea77d7a15"}, "closed": true, "closedAt": "2020-01-29T18:19:41Z", "author": {"login": "Blikingor"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-t7MYgH2gAyMzY4MDI1NTg3OjFlMzkwOTg0YzE1NGI1NDFkZTRmNWJjODIwYTM3Mjc2ZDY3ODc5ZWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_J6YIAFqTM1MDMxNDEzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e390984c154b541de4f5bc820a37276d67879ed", "author": {"user": {"login": "Blikingor", "name": null}}, "url": "https://github.com/DataDog/dd-trace-java/commit/1e390984c154b541de4f5bc820a37276d67879ed", "committedDate": "2020-01-28T09:28:37Z", "message": "Fix potential StackOverFlowError on regexp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf876b5e679ae54c10c3e70eaa3a378033eb904c", "author": {"user": {"login": "Blikingor", "name": null}}, "url": "https://github.com/DataDog/dd-trace-java/commit/cf876b5e679ae54c10c3e70eaa3a378033eb904c", "committedDate": "2020-01-28T14:21:50Z", "message": "Fix import order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10b963d27707b862e6dad79f599aefed05e90d5c", "author": {"user": {"login": "Blikingor", "name": null}}, "url": "https://github.com/DataDog/dd-trace-java/commit/10b963d27707b862e6dad79f599aefed05e90d5c", "committedDate": "2020-01-28T14:35:39Z", "message": "Codenarc fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "811051d111e2342a063230918688923596bca140", "author": {"user": {"login": "Blikingor", "name": null}}, "url": "https://github.com/DataDog/dd-trace-java/commit/811051d111e2342a063230918688923596bca140", "committedDate": "2020-01-28T15:06:23Z", "message": "Remove overlapping tests and fix failing unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db485d10da748aae90c974c60dfe3f9839767e9d", "author": {"user": {"login": "Blikingor", "name": null}}, "url": "https://github.com/DataDog/dd-trace-java/commit/db485d10da748aae90c974c60dfe3f9839767e9d", "committedDate": "2020-01-28T15:20:02Z", "message": "final configString"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMjE0NTYz", "url": "https://github.com/DataDog/dd-trace-java/pull/1193#pullrequestreview-350214563", "createdAt": "2020-01-29T15:50:49Z", "commit": {"oid": "db485d10da748aae90c974c60dfe3f9839767e9d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNTo1MDo1MFrOFjNijQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNTo1MDo1MFrOFjNijQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ2NjMxNw==", "bodyText": "I don't think clazz is the right variable name for this. Maybe segment instead?", "url": "https://github.com/DataDog/dd-trace-java/pull/1193#discussion_r372466317", "createdAt": "2020-01-29T15:50:50Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/trace-annotation/src/main/java/datadog/trace/instrumentation/trace_annotation/TraceConfigInstrumentation.java", "diffHunk": "@@ -42,16 +42,25 @@\n           + PACKAGE_CLASS_NAME_REGEX\n           + \"\\\\[\"\n           + METHOD_LIST_REGEX\n-          + \"\\\\]\\\\s*;?\\\\s*\";\n+          + \"\\\\]\";\n \n   private final Map<String, Set<String>> classMethodsToTrace;\n \n+  private boolean validateConfigString(String configString) {\n+    for (String clazz : configString.split(\";\")) {\n+      if (!clazz.trim().matches(CONFIG_FORMAT)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db485d10da748aae90c974c60dfe3f9839767e9d"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMjE3Nzcw", "url": "https://github.com/DataDog/dd-trace-java/pull/1193#pullrequestreview-350217770", "createdAt": "2020-01-29T15:54:38Z", "commit": {"oid": "1e390984c154b541de4f5bc820a37276d67879ed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNTo1NDozOFrOFjNsOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNTo1NDozOFrOFjNsOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ2ODc5Mw==", "bodyText": "I see you had a test but removed it? Any reason in particular?", "url": "https://github.com/DataDog/dd-trace-java/pull/1193#discussion_r372468793", "createdAt": "2020-01-29T15:54:38Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/trace-annotation/src/test/groovy/TraceConfigInstrumentationTest.groovy", "diffHunk": "@@ -0,0 +1,102 @@\n+import datadog.trace.agent.test.AgentTestRunner\n+import datadog.trace.agent.test.utils.ConfigUtils\n+import datadog.trace.instrumentation.trace_annotation.TraceConfigInstrumentation\n+\n+class TraceConfigInstrumentationTest extends AgentTestRunner {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e390984c154b541de4f5bc820a37276d67879ed"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d831721288be231c7b3f25b4ec96614c57947f1", "author": {"user": {"login": "Blikingor", "name": null}}, "url": "https://github.com/DataDog/dd-trace-java/commit/8d831721288be231c7b3f25b4ec96614c57947f1", "committedDate": "2020-01-29T17:41:29Z", "message": "clazz -> segment rename"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMzE0MTM0", "url": "https://github.com/DataDog/dd-trace-java/pull/1193#pullrequestreview-350314134", "createdAt": "2020-01-29T18:05:04Z", "commit": {"oid": "8d831721288be231c7b3f25b4ec96614c57947f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2691, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}