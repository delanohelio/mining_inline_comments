{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNjc3NTk0", "number": 1741, "title": "finer grained synchronization for classloading of agent classes", "bodyText": "this just reproduces the default classloader locking behaviour which happens to reduce the granularity of the lock", "createdAt": "2020-08-04T10:30:08Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1741", "merged": true, "mergeCommit": {"oid": "d281206565a08f34f04416425935168bd807a17f"}, "closed": true, "closedAt": "2020-08-04T14:44:28Z", "author": {"login": "richardstartin"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7kE00AH2gAyNDYyNjc3NTk0OjJlMTZjMTk1ODM1OTlmYTFmOGMyZDUyOWZkNWZiODNjMzhiY2E4MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7mfyyAFqTQ2MDgwMzY4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2e16c19583599fa1f8c2d529fd5fb83c38bca807", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/2e16c19583599fa1f8c2d529fd5fb83c38bca807", "committedDate": "2020-08-04T10:29:28Z", "message": "finer grained synchronization for classloading of agent classes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNzM3OTIz", "url": "https://github.com/DataDog/dd-trace-java/pull/1741#pullrequestreview-460737923", "createdAt": "2020-08-04T11:48:05Z", "commit": {"oid": "2e16c19583599fa1f8c2d529fd5fb83c38bca807"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMTo0ODowNlrOG7c2rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMTo0ODowNlrOG7c2rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk5MTkxNw==", "bodyText": "Nice. Didn't know about this one.", "url": "https://github.com/DataDog/dd-trace-java/pull/1741#discussion_r464991917", "createdAt": "2020-08-04T11:48:06Z", "author": {"login": "bantonsson"}, "path": "dd-java-agent/agent-bootstrap/src/main/java/datadog/trace/bootstrap/DatadogClassLoader.java", "diffHunk": "@@ -68,7 +68,7 @@ public boolean hasLoadedClass(final String className) {\n \n   Class<?> loadFromPackage(String packageName, String name) throws ClassNotFoundException {\n     if (internalJarURLHandler.getPackages().contains(packageName)) {\n-      synchronized (this) {\n+      synchronized (getClassLoadingLock(name)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e16c19583599fa1f8c2d529fd5fb83c38bca807"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6b399b85d1164ecd7395a6f166d73a74ec3936d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/b6b399b85d1164ecd7395a6f166d73a74ec3936d", "committedDate": "2020-08-04T12:26:25Z", "message": "synchronize at package level"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b0e665b79363cec5fb908f60feb952404a7fe79", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/3b0e665b79363cec5fb908f60feb952404a7fe79", "committedDate": "2020-08-04T12:23:30Z", "message": "synchronize at package level"}, "afterCommit": {"oid": "b6b399b85d1164ecd7395a6f166d73a74ec3936d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/b6b399b85d1164ecd7395a6f166d73a74ec3936d", "committedDate": "2020-08-04T12:26:25Z", "message": "synchronize at package level"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwODAzNjgy", "url": "https://github.com/DataDog/dd-trace-java/pull/1741#pullrequestreview-460803682", "createdAt": "2020-08-04T13:18:44Z", "commit": {"oid": "b6b399b85d1164ecd7395a6f166d73a74ec3936d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2082, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}