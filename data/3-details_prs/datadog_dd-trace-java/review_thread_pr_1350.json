{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MzEyMTIy", "number": 1350, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxOToyODo0NlrODuitPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxOToyODo0NlrODuitPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMTI5NzI2OnYy", "diffSide": "RIGHT", "path": "dd-java-agent/agent-profiling/profiling-controller/src/main/java/com/datadog/profiling/controller/ControllerFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxOToyODo0NlrOGAlRJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxOToyODo0NlrOGAlRJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzI2Mzc4Mg==", "bodyText": "Mind adding a test for this? We are running on at least some version that this should be testable from.", "url": "https://github.com/DataDog/dd-trace-java/pull/1350#discussion_r403263782", "createdAt": "2020-04-03T19:28:46Z", "author": {"login": "mar-kolya"}, "path": "dd-java-agent/agent-profiling/profiling-controller/src/main/java/com/datadog/profiling/controller/ControllerFactory.java", "diffHunk": "@@ -49,8 +49,28 @@ public static Controller createController(final Config config)\n         | InstantiationException\n         | IllegalAccessException\n         | InvocationTargetException e) {\n-      throw new UnsupportedEnvironmentException(\n-          \"The JFR controller could not find a supported JFR API\", e);\n+      String exMsg = \"The JFR controller could not find a supported JFR API\"\n+        + getFixProposalMessage();\n+      throw new UnsupportedEnvironmentException(exMsg, e);\n+    }\n+  }\n+\n+  private static String getFixProposalMessage() {\n+    try {\n+      String javaVersion = System.getProperty(\"java.version\");\n+      if (javaVersion == null) {\n+        return \"\";\n+      }\n+      String javaVendor = System.getProperty(\"java.vendor\", \"\");\n+      if (javaVersion.startsWith(\"1.8\")) {\n+        if (javaVendor.startsWith(\"Azul Systems\")) {\n+          return \", use Azul zulu version 1.8.0_212+\";\n+        }\n+        // TODO Add version minimum once JFR backported into OpenJDK distros\n+      }\n+      return \", use OpenJDK 11+ or Azul zulu version 1.8.0_212+\";\n+    } catch (Exception ex) {\n+      return \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "343a77d6190d687a97c1d45f4c73a1540af0e85a"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 434, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}