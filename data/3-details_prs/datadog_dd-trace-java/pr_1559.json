{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMjc3NTgz", "number": 1559, "title": "PROF-1622: Sample all exceptions", "bodyText": "Capture all exceptions by instrumenting Throwable constructors so they can be subsampled.\nIt became obvious that there are libraries/applications using even Error types as a code flow control - generating 10s of thousands of error events. Therefore it makes sense to use the exception sampling facility to handle also errors and instrument the java.lang.Throwable constructor to get full coverage.", "createdAt": "2020-06-08T17:03:59Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1559", "merged": true, "mergeCommit": {"oid": "d093a2ac3f5c8c21efee0c7364eca51a9cfad658"}, "closed": true, "closedAt": "2020-06-11T10:36:36Z", "author": {"login": "jbachorik"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpUjWAgFqTQyNjQ5NDA0Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqLaJagBqjM0MzM0NDk0Nzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NDk0MDQy", "url": "https://github.com/DataDog/dd-trace-java/pull/1559#pullrequestreview-426494042", "createdAt": "2020-06-08T18:13:41Z", "commit": {"oid": "dfb476b3f1a0e734e8038ae67e3e1bc67615bd47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NDk3ODUy", "url": "https://github.com/DataDog/dd-trace-java/pull/1559#pullrequestreview-426497852", "createdAt": "2020-06-08T18:19:10Z", "commit": {"oid": "dfb476b3f1a0e734e8038ae67e3e1bc67615bd47"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxODoxOToxMFrOGgqd9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxODoxOToxMFrOGgqd9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjkwMzQxNQ==", "bodyText": "The class name should be renamed to match.", "url": "https://github.com/DataDog/dd-trace-java/pull/1559#discussion_r436903415", "createdAt": "2020-06-08T18:19:10Z", "author": {"login": "tylerbenson"}, "path": "dd-java-agent/instrumentation/exception-profiling/src/main/java/datadog/exceptions/instrumentation/ExceptionInstrumentation.java", "diffHunk": "@@ -13,12 +13,7 @@\n import net.bytebuddy.description.type.TypeDescription;\n import net.bytebuddy.matcher.ElementMatcher;\n \n-/**\n- * Provides instrumentation of {@linkplain Exception} constructor. <br>\n- * {@linkplain Exception}, as opposed to {@linkplain Throwable} was deliberately chosen such that we\n- * don't instrument {@linkplain Error} class/subclasses since they are tracked by a native JFR event\n- * already.\n- */\n+/** Provides instrumentation of {@linkplain Throwable} constructor. <br> */\n @AutoService(Instrumenter.class)\n public final class ExceptionInstrumentation extends Instrumenter.Default {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfb476b3f1a0e734e8038ae67e3e1bc67615bd47"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2ODU3MzQw", "url": "https://github.com/DataDog/dd-trace-java/pull/1559#pullrequestreview-426857340", "createdAt": "2020-06-09T07:26:21Z", "commit": {"oid": "dfb476b3f1a0e734e8038ae67e3e1bc67615bd47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "929bd02e9f8c4603fe09bfc10889da9c45cd184a", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/929bd02e9f8c4603fe09bfc10889da9c45cd184a", "committedDate": "2020-06-11T09:51:31Z", "message": "PROF-1622: Sample all exceptions\nCapture all exceptions by instrumenting `Throwable` constructors so they can be subsampled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2b9e025da755a0c30e7389386bbbbda9e887167", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/c2b9e025da755a0c30e7389386bbbbda9e887167", "committedDate": "2020-06-11T10:08:12Z", "message": "Rename advice and instrumentation classes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dfb476b3f1a0e734e8038ae67e3e1bc67615bd47", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/dfb476b3f1a0e734e8038ae67e3e1bc67615bd47", "committedDate": "2020-06-08T17:01:12Z", "message": "PROF-1622: Sample all exceptions\nCapture all exceptions by instrumenting `Throwable` constructors so they can be subsampled"}, "afterCommit": {"oid": "c2b9e025da755a0c30e7389386bbbbda9e887167", "author": {"user": {"login": "jbachorik", "name": "Jaroslav Bachorik"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/c2b9e025da755a0c30e7389386bbbbda9e887167", "committedDate": "2020-06-11T10:08:12Z", "message": "Rename advice and instrumentation classes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2385, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}