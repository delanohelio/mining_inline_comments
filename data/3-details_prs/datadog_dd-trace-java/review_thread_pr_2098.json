{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MjQ5ODcz", "number": 2098, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMjoyNDoyOVrOE7RTCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMToyOFrOE7bL4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNTg0ODQyOnYy", "diffSide": "RIGHT", "path": "dd-trace-core/src/main/java/datadog/trace/core/processor/TraceProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMjoyNDoyOVrOH20dSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMjoyNjoxNFrOH20gsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI0NDYxOA==", "bodyText": "\ud83d\udc4d  ?", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527244618", "createdAt": "2020-11-19T22:24:29Z", "author": {"login": "lpriima"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/processor/TraceProcessor.java", "diffHunk": "@@ -17,11 +16,7 @@\n   final Rule[] DEFAULT_RULES =\n       new Rule[] {\n         // Rules are applied in order.\n-        new DBStatementRule(),\n-        new ResourceNameRule(),\n-        new ErrorRule(),\n-        new URLAsResourceNameRule(),\n-        new AnalyticsSampleRateRule(),\n+        new DBStatementRule(), new ResourceNameRule(), new ErrorRule(), new URLAsResourceNameRule()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI0NTQ5MA==", "bodyText": "spotless...", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527245490", "createdAt": "2020-11-19T22:26:14Z", "author": {"login": "richardstartin"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/processor/TraceProcessor.java", "diffHunk": "@@ -17,11 +16,7 @@\n   final Rule[] DEFAULT_RULES =\n       new Rule[] {\n         // Rules are applied in order.\n-        new DBStatementRule(),\n-        new ResourceNameRule(),\n-        new ErrorRule(),\n-        new URLAsResourceNameRule(),\n-        new AnalyticsSampleRateRule(),\n+        new DBStatementRule(), new ResourceNameRule(), new ErrorRule(), new URLAsResourceNameRule()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI0NDYxOA=="}, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQ2NDcxOnYy", "diffSide": "RIGHT", "path": "dd-trace-core/src/main/java/datadog/trace/core/CoreTracer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMDo0NlrOH3ELUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMDo0NlrOH3ELUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUwMjE2MA==", "bodyText": "So the old code tried to convert a String into a Double, but now we just drop it. Is that intended?", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527502160", "createdAt": "2020-11-20T08:00:46Z", "author": {"login": "bantonsson"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/CoreTracer.java", "diffHunk": "@@ -673,6 +674,11 @@ public CoreSpanBuilder asChildOf(final AgentSpan agentSpan) {\n     @Override\n     public CoreSpanBuilder withTag(final String tag, final Object value) {\n       switch (tag) {\n+        case DDTags.ANALYTICS_SAMPLE_RATE:\n+          if (value instanceof Number) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQ2ODUxOnYy", "diffSide": "RIGHT", "path": "dd-trace-core/src/main/java/datadog/trace/core/DDSpanContext.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMToyOFrOH3ENmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODowMToyOFrOH3ENmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUwMjc0Nw==", "bodyText": "Here as well...", "url": "https://github.com/DataDog/dd-trace-java/pull/2098#discussion_r527502747", "createdAt": "2020-11-20T08:01:28Z", "author": {"login": "bantonsson"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/DDSpanContext.java", "diffHunk": "@@ -362,6 +363,11 @@ public void setTag(final String tag, final Object value) {\n           this.spanType = (CharSequence) value;\n         }\n         break;\n+      case ANALYTICS_SAMPLE_RATE:\n+        if (value instanceof Number) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5169cf1d39594bfa8b3a4d4121b3c1590a9f53f6"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4603, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}