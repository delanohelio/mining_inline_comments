{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMDAzNjc4", "number": 1962, "title": "Use SystemAccess to query JMX in health metrics", "bodyText": "This is the same access class used by the profiler's ScopeEvent to avoid premature loading/initialisation of JMX beans.", "createdAt": "2020-10-08T15:20:26Z", "url": "https://github.com/DataDog/dd-trace-java/pull/1962", "merged": true, "mergeCommit": {"oid": "20473c0b54eb997991a69ce834c2c8a169f0dbe6"}, "closed": true, "closedAt": "2020-10-09T11:09:39Z", "author": {"login": "mcculls"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQjGzgAH2gAyNTAwMDAzNjc4OjAwZGM5OGRiYjRlOWExMWRmMzU1YTc5MTNjM2ZhYTU1NWRiMDBlNDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQyo-dAFqTUwNTUwNDAyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "00dc98dbb4e9a11df355a7913c3faa555db00e47", "author": {"user": {"login": "mcculls", "name": "Stuart McCulloch"}}, "url": "https://github.com/DataDog/dd-trace-java/commit/00dc98dbb4e9a11df355a7913c3faa555db00e47", "committedDate": "2020-10-08T15:14:08Z", "message": "Use SystemAccess to query JMX in health metrics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTExNjY3", "url": "https://github.com/DataDog/dd-trace-java/pull/1962#pullrequestreview-504911667", "createdAt": "2020-10-08T15:34:16Z", "commit": {"oid": "00dc98dbb4e9a11df355a7913c3faa555db00e47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTI2NTQ4", "url": "https://github.com/DataDog/dd-trace-java/pull/1962#pullrequestreview-504926548", "createdAt": "2020-10-08T15:49:55Z", "commit": {"oid": "00dc98dbb4e9a11df355a7913c3faa555db00e47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NTA0MDI3", "url": "https://github.com/DataDog/dd-trace-java/pull/1962#pullrequestreview-505504027", "createdAt": "2020-10-09T09:20:02Z", "commit": {"oid": "00dc98dbb4e9a11df355a7913c3faa555db00e47"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwOToyMDowMlrOHfB9Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwOToyMDowMlrOHfB9Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMwMDAwMw==", "bodyText": "I don't think this is necessary.", "url": "https://github.com/DataDog/dd-trace-java/pull/1962#discussion_r502300003", "createdAt": "2020-10-09T09:20:02Z", "author": {"login": "richardstartin"}, "path": "dd-trace-core/src/main/java/datadog/trace/core/monitor/CPUTimer.java", "diffHunk": "@@ -23,21 +21,25 @@\n   @Override\n   public Recording start() {\n     super.start();\n-    this.start = threadMXBean.getCurrentThreadCpuTime();\n+    this.start = SystemAccess.getCurrentThreadCpuTime();\n     return this;\n   }\n \n   @Override\n   public void reset() {\n-    long cpuNanos = threadMXBean.getCurrentThreadCpuTime();\n-    this.cpuTime += (cpuNanos - start);\n+    long cpuNanos = SystemAccess.getCurrentThreadCpuTime();\n+    if (start > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00dc98dbb4e9a11df355a7913c3faa555db00e47"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2944, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}