{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MjU5ODUy", "number": 9835, "title": "CMTS-99: Support default values for DeclarationServices", "bodyText": "", "createdAt": "2020-12-09T15:26:22Z", "url": "https://github.com/mulesoft/mule/pull/9835", "merged": true, "mergeCommit": {"oid": "1ff8f42b8942dc8e7380fa56f1a0e29e463a0e42"}, "closed": true, "closedAt": "2020-12-14T14:35:13Z", "author": {"login": "gsfernandes"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkgJHvAH2gAyNTM1MjU5ODUyOjRkNTY2NjAwNWQ1M2M2ZDg3M2MyNTY1ZjUyZjYwNjQ0NDI2ZDZiZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmGRwdgFqTU1MTM5NjYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4d5666005d53c6d873c2565f52f60644426d6bdd", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/4d5666005d53c6d873c2565f52f60644426d6bdd", "committedDate": "2020-12-09T15:05:26Z", "message": "CMTS-99: Support default values for DeclarationServices"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MjMyMDMw", "url": "https://github.com/mulesoft/mule/pull/9835#pullrequestreview-549232030", "createdAt": "2020-12-10T14:10:11Z", "commit": {"oid": "4d5666005d53c6d873c2565f52f60644426d6bdd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDoxMDoxMVrOIDLETQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDoxMjoyN1rOIDLLFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5Nzk2NQ==", "bodyText": "static import", "url": "https://github.com/mulesoft/mule/pull/9835#discussion_r540197965", "createdAt": "2020-12-10T14:10:11Z", "author": {"login": "lucianoRM"}, "path": "modules/tooling-support/src/main/java/org/mule/runtime/module/tooling/internal/artifact/metadata/MetadataKeyDeclarationResolver.java", "diffHunk": "@@ -43,20 +50,34 @@\n  */\n public class MetadataKeyDeclarationResolver {\n \n+  private static final Logger LOGGER = LoggerFactory.getLogger(MetadataKeyDeclarationResolver.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d5666005d53c6d873c2565f52f60644426d6bdd"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5OTcwMA==", "bodyText": "why this validation? When is the expressionManager going to be null? and why shouldn't we fail if that is the case?", "url": "https://github.com/mulesoft/mule/pull/9835#discussion_r540199700", "createdAt": "2020-12-10T14:12:27Z", "author": {"login": "lucianoRM"}, "path": "modules/tooling-support/src/main/java/org/mule/runtime/module/tooling/internal/artifact/metadata/MetadataKeyDeclarationResolver.java", "diffHunk": "@@ -68,15 +89,31 @@ public MetadataKeyResult resolveKeyResult() {\n     Map<String, String> keyPartValues =\n         getMetadataKeyPartsValuesFromComponentDeclaration(componentElementDeclaration, componentModel);\n     for (MetadataKeyInfo keyInfo : keyPartModelsInfo) {\n-      String id;\n+      String id = null;\n+      boolean isNullValue = false;\n       if (keyPartValues.containsKey(keyInfo.parameterModel.getName())) {\n         id = keyPartValues.get(keyInfo.parameterModel.getName());\n+        isNullValue = id == null;\n+      } else if (!partialKey && keyInfo.parameterModel.getDefaultValue() != null) {\n+        String defaultValue = keyInfo.parameterModel.getDefaultValue().toString();\n+        if (expressionManager != null && isExpression(defaultValue)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d5666005d53c6d873c2565f52f60644426d6bdd"}, "originalPosition": 79}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71e860c8a8406655c620afd200820567b0060c83", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/71e860c8a8406655c620afd200820567b0060c83", "committedDate": "2020-12-10T16:52:24Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMzk2NjA3", "url": "https://github.com/mulesoft/mule/pull/9835#pullrequestreview-551396607", "createdAt": "2020-12-14T14:05:11Z", "commit": {"oid": "71e860c8a8406655c620afd200820567b0060c83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1025, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}