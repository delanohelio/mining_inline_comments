{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyOTQ3MTM2", "number": 8833, "title": "MULE-18363: Decouple spring bean definition from ComponentAst", "bodyText": "", "createdAt": "2020-05-04T13:19:41Z", "url": "https://github.com/mulesoft/mule/pull/8833", "merged": true, "mergeCommit": {"oid": "5be66865d72989e136c6ca80c81d093a855ea4f2"}, "closed": true, "closedAt": "2020-05-04T20:28:27Z", "author": {"login": "elrodro83"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcd_WkCgH2gAyNDEyOTQ3MTM2OmIwYTgyOGEzNGUwMDM4ZjQ2NTI4NGQxMGUzYzJiZmFjMjdiNjYyNTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceESvZAFqTQwNTI2NTE2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0a828a34e0038f465284d10e3c2bfac27b66257", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/b0a828a34e0038f465284d10e3c2bfac27b66257", "committedDate": "2020-05-04T13:18:33Z", "message": "MULE-18363: Decouple spring bean definition from ComponentAst"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0OTg4MDUy", "url": "https://github.com/mulesoft/mule/pull/8833#pullrequestreview-404988052", "createdAt": "2020-05-04T13:30:50Z", "commit": {"oid": "b0a828a34e0038f465284d10e3c2bfac27b66257"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMzozMDo1MFrOGQAZyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMzozMDo1MFrOGQAZyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTQzNzAwMg==", "bodyText": "Remove this code if not needed.", "url": "https://github.com/mulesoft/mule/pull/8833#discussion_r419437002", "createdAt": "2020-05-04T13:30:50Z", "author": {"login": "gsfernandes"}, "path": "modules/spring-config/src/main/java/org/mule/runtime/config/internal/model/ApplicationModel.java", "diffHunk": "@@ -586,10 +592,24 @@ public void resolveComponentTypes() {\n         Optional<ComponentBuildingDefinition<?>> buildingDefinition =\n             buildingDefinitionRegistry.getBuildingDefinition(componentModel.getIdentifier());\n         buildingDefinition.map(definition -> {\n-          ObjectTypeVisitor typeDefinitionVisitor = new ObjectTypeVisitor((ComponentModel) componentModel);\n+          ObjectTypeVisitor typeDefinitionVisitor = new ObjectTypeVisitor(componentModel);\n           definition.getTypeDefinition().visit(typeDefinitionVisitor);\n           // We still have components without extension models\n-          ((ComponentModel) componentModel).setType(typeDefinitionVisitor.getType());\n+          final Class<?> type = typeDefinitionVisitor.getType();\n+          ((ComponentModel) componentModel).setType(type);\n+\n+          if (ComponentLocationVisitor.BATCH_JOB_COMPONENT_IDENTIFIER.equals(componentModel.getIdentifier())\n+              || ComponentLocationVisitor.BATCH_PROCESSS_RECORDS_COMPONENT_IDENTIFIER.equals(componentModel.getIdentifier())) {\n+            ((ComponentModel) componentModel).setComponentType(ROUTER);\n+          } else\n+\n+          // if (areMatchingTypes(ErrorHandler.class, type)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0a828a34e0038f465284d10e3c2bfac27b66257"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1325567c04b7182e060ad31c2bd21f16051dd84", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/c1325567c04b7182e060ad31c2bd21f16051dd84", "committedDate": "2020-05-04T13:35:32Z", "message": "review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0OTk0MDMz", "url": "https://github.com/mulesoft/mule/pull/8833#pullrequestreview-404994033", "createdAt": "2020-05-04T13:37:31Z", "commit": {"oid": "c1325567c04b7182e060ad31c2bd21f16051dd84"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d5e251aec27780f6bd31108b6206ceeaa6dc290", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/9d5e251aec27780f6bd31108b6206ceeaa6dc290", "committedDate": "2020-05-04T17:06:04Z", "message": "sonar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjMzODAz", "url": "https://github.com/mulesoft/mule/pull/8833#pullrequestreview-405233803", "createdAt": "2020-05-04T18:20:42Z", "commit": {"oid": "9d5e251aec27780f6bd31108b6206ceeaa6dc290"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45fe19ed07d4093576e44fb41819a194b7ac56bf", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/45fe19ed07d4093576e44fb41819a194b7ac56bf", "committedDate": "2020-05-04T19:01:31Z", "message": "more sonar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjY1MTY2", "url": "https://github.com/mulesoft/mule/pull/8833#pullrequestreview-405265166", "createdAt": "2020-05-04T19:03:54Z", "commit": {"oid": "45fe19ed07d4093576e44fb41819a194b7ac56bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 849, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}