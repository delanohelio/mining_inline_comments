{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxOTQ3MzQ4", "number": 8693, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQyMjo0MjozMFrODkDBlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQyMjo0Mjo1MFrODkDBng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTI0ODg3OnYy", "diffSide": "RIGHT", "path": "modules/launcher/src/main/java/org/mule/runtime/module/launcher/log4j2/MuleLog4jContextFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQyMjo0MjozMFrOFwLR6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQyMzoyMToyOVrOFwLZtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2MDc3OQ==", "bodyText": "where is this being called?", "url": "https://github.com/mulesoft/mule/pull/8693#discussion_r386060779", "createdAt": "2020-02-29T22:42:30Z", "author": {"login": "marianogonzalez"}, "path": "modules/launcher/src/main/java/org/mule/runtime/module/launcher/log4j2/MuleLog4jContextFactory.java", "diffHunk": "@@ -53,12 +56,22 @@\n   private static final String ASYNC_LOGGER_EXCEPTION_HANDLER_PROPERTY = \"AsyncLoggerConfig.ExceptionHandler\";\n   private static final String DEFAULT_ASYNC_LOGGER_EXCEPTION_HANDLER = AsyncLoggerExceptionHandler.class.getName();\n \n+  private static final boolean LOG_SEPARATION_ENABLED = getProperty(MULE_LOG_SEPARATION_DISABLED) == null;\n+\n+  /**\n+   * Initializes using a {@link ArtifactAwareContextSelector}\n+   * <p>\n+   * Log4j tries to instantiate this class using a default constructor.\n+   */\n+  public MuleLog4jContextFactory() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ca982982950e2846e6313d6c2da1f864011b34b"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2Mjc3Mg==", "bodyText": "This happens in embedded runtime:\n java.lang.InstantiationException: org.mule.runtime.module.launcher.log4j2.MuleLog4jContextFactory\n\tat java.lang.Class.newInstance(Class.java:427)\n\tat org.apache.logging.log4j.util.LoaderUtil.newInstanceOf(LoaderUtil.java:188)\n\tat org.apache.logging.log4j.util.LoaderUtil.newInstanceOf(LoaderUtil.java:207)\n\tat org.apache.logging.log4j.util.LoaderUtil.newCheckedInstanceOf(LoaderUtil.java:228)\n\tat org.apache.logging.log4j.LogManager.<clinit>(LogManager.java:77)\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:138)\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:45)\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:48)\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:30)\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)\n\tat org.mule.runtime.core.api.util.FileUtils.<clinit>(FileUtils.java:58)\n\tat org.mule.runtime.module.embedded.impl.EmbeddedController.setUpEnvironment(EmbeddedController.java:165)\n\tat org.mule.runtime.module.embedded.impl.EmbeddedController.start(EmbeddedController.java:77)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.mule.runtime.module.embedded.internal.DefaultEmbeddedContainerBuilder$1.lambda$executeUsingReflection$4(DefaultEmbeddedContainerBuilder.java:283)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NoSuchMethodException: org.mule.runtime.module.launcher.log4j2.MuleLog4jContextFactory.<init>()\n\tat java.lang.Class.getConstructor0(Class.java:3082)\n\tat java.lang.Class.newInstance(Class.java:412)\n\t... 23 more```", "url": "https://github.com/mulesoft/mule/pull/8693#discussion_r386062772", "createdAt": "2020-02-29T23:21:29Z", "author": {"login": "elrodro83"}, "path": "modules/launcher/src/main/java/org/mule/runtime/module/launcher/log4j2/MuleLog4jContextFactory.java", "diffHunk": "@@ -53,12 +56,22 @@\n   private static final String ASYNC_LOGGER_EXCEPTION_HANDLER_PROPERTY = \"AsyncLoggerConfig.ExceptionHandler\";\n   private static final String DEFAULT_ASYNC_LOGGER_EXCEPTION_HANDLER = AsyncLoggerExceptionHandler.class.getName();\n \n+  private static final boolean LOG_SEPARATION_ENABLED = getProperty(MULE_LOG_SEPARATION_DISABLED) == null;\n+\n+  /**\n+   * Initializes using a {@link ArtifactAwareContextSelector}\n+   * <p>\n+   * Log4j tries to instantiate this class using a default constructor.\n+   */\n+  public MuleLog4jContextFactory() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2MDc3OQ=="}, "originalCommit": {"oid": "7ca982982950e2846e6313d6c2da1f864011b34b"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTI0ODk0OnYy", "diffSide": "RIGHT", "path": "modules/launcher/src/main/java/org/mule/runtime/module/launcher/log4j2/MuleLog4jContextFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQyMjo0Mjo1MFrOFwLR9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQyMjo0Mjo1MFrOFwLR9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2MDc4OA==", "bodyText": "The exact same condition is already evaluated in MuleContainer class. Extract.", "url": "https://github.com/mulesoft/mule/pull/8693#discussion_r386060788", "createdAt": "2020-02-29T22:42:50Z", "author": {"login": "marianogonzalez"}, "path": "modules/launcher/src/main/java/org/mule/runtime/module/launcher/log4j2/MuleLog4jContextFactory.java", "diffHunk": "@@ -53,12 +56,22 @@\n   private static final String ASYNC_LOGGER_EXCEPTION_HANDLER_PROPERTY = \"AsyncLoggerConfig.ExceptionHandler\";\n   private static final String DEFAULT_ASYNC_LOGGER_EXCEPTION_HANDLER = AsyncLoggerExceptionHandler.class.getName();\n \n+  private static final boolean LOG_SEPARATION_ENABLED = getProperty(MULE_LOG_SEPARATION_DISABLED) == null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ca982982950e2846e6313d6c2da1f864011b34b"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 54, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}