{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNTA4NTM2", "number": 9451, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDozMjo0M1rOEnEyPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMDozMDowNVrOEnNUQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NDA4MzE4OnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/data/sample/SampleDataProviderMediator.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDozMjo0M1rOHXd46Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNjowNjoyOVrOHXiJ7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2OTAwMQ==", "bodyText": "you're already providing the config. You should expose this in the API", "url": "https://github.com/mulesoft/mule/pull/9451#discussion_r494369001", "createdAt": "2020-09-24T14:32:43Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/data/sample/SampleDataProviderMediator.java", "diffHunk": "@@ -96,6 +98,28 @@ public Message getSampleData(ParameterValueResolver parameterValueResolver,\n                                Supplier<Object> connectionSupplier,\n                                Supplier<Object> configurationSupplier)\n       throws SampleDataException {\n+    return getSampleData(parameterValueResolver, connectionSupplier, configurationSupplier, null);\n+  }\n+\n+  /**\n+   * Resolves the sample data\n+   *\n+   * @param parameterValueResolver  parameter resolver required if the associated {@link SampleDataProvider} requires\n+   *                                the value of parameters from the same parameter container.\n+   * @param connectionSupplier      supplier of connection instances related to the container and used, if necessary,\n+   *                                by the {@link SampleDataProvider}\n+   * @param configurationSupplier   supplier of connection instances related to the container and used, if necessary,\n+   *                                by the  {@link SampleDataProvider}\n+   * @param connectionProvider      the connection provider in charge of providing the connection given by the connection supplier.\n+   *\n+   * @return a {@link Message} carrying the sample data\n+   * @throws SampleDataException if an error occurs resolving the sample data\n+   */\n+  public Message getSampleData(ParameterValueResolver parameterValueResolver,\n+                               Supplier<Object> connectionSupplier,\n+                               Supplier<Object> configurationSupplier,\n+                               ConnectionProvider connectionProvider)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64e0faf6ae8f039eb3dd8ec662c7bd346019f6e"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQxNDE4OA==", "bodyText": "I did not understand this comment, could you rephrase?", "url": "https://github.com/mulesoft/mule/pull/9451#discussion_r494414188", "createdAt": "2020-09-24T15:31:51Z", "author": {"login": "ndinu"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/data/sample/SampleDataProviderMediator.java", "diffHunk": "@@ -96,6 +98,28 @@ public Message getSampleData(ParameterValueResolver parameterValueResolver,\n                                Supplier<Object> connectionSupplier,\n                                Supplier<Object> configurationSupplier)\n       throws SampleDataException {\n+    return getSampleData(parameterValueResolver, connectionSupplier, configurationSupplier, null);\n+  }\n+\n+  /**\n+   * Resolves the sample data\n+   *\n+   * @param parameterValueResolver  parameter resolver required if the associated {@link SampleDataProvider} requires\n+   *                                the value of parameters from the same parameter container.\n+   * @param connectionSupplier      supplier of connection instances related to the container and used, if necessary,\n+   *                                by the {@link SampleDataProvider}\n+   * @param configurationSupplier   supplier of connection instances related to the container and used, if necessary,\n+   *                                by the  {@link SampleDataProvider}\n+   * @param connectionProvider      the connection provider in charge of providing the connection given by the connection supplier.\n+   *\n+   * @return a {@link Message} carrying the sample data\n+   * @throws SampleDataException if an error occurs resolving the sample data\n+   */\n+  public Message getSampleData(ParameterValueResolver parameterValueResolver,\n+                               Supplier<Object> connectionSupplier,\n+                               Supplier<Object> configurationSupplier,\n+                               ConnectionProvider connectionProvider)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2OTAwMQ=="}, "originalCommit": {"oid": "d64e0faf6ae8f039eb3dd8ec662c7bd346019f6e"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQzODg5NA==", "bodyText": "In order to give me the connection provider, the caller needed to create the configuration. What I can do is to receive a Supplier and only do it only if necessary.\nThe util method that makes the refresh of the token will also need to receive the Supplier instead of the provider directly.", "url": "https://github.com/mulesoft/mule/pull/9451#discussion_r494438894", "createdAt": "2020-09-24T16:06:29Z", "author": {"login": "ndinu"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/data/sample/SampleDataProviderMediator.java", "diffHunk": "@@ -96,6 +98,28 @@ public Message getSampleData(ParameterValueResolver parameterValueResolver,\n                                Supplier<Object> connectionSupplier,\n                                Supplier<Object> configurationSupplier)\n       throws SampleDataException {\n+    return getSampleData(parameterValueResolver, connectionSupplier, configurationSupplier, null);\n+  }\n+\n+  /**\n+   * Resolves the sample data\n+   *\n+   * @param parameterValueResolver  parameter resolver required if the associated {@link SampleDataProvider} requires\n+   *                                the value of parameters from the same parameter container.\n+   * @param connectionSupplier      supplier of connection instances related to the container and used, if necessary,\n+   *                                by the {@link SampleDataProvider}\n+   * @param configurationSupplier   supplier of connection instances related to the container and used, if necessary,\n+   *                                by the  {@link SampleDataProvider}\n+   * @param connectionProvider      the connection provider in charge of providing the connection given by the connection supplier.\n+   *\n+   * @return a {@link Message} carrying the sample data\n+   * @throws SampleDataException if an error occurs resolving the sample data\n+   */\n+  public Message getSampleData(ParameterValueResolver parameterValueResolver,\n+                               Supplier<Object> connectionSupplier,\n+                               Supplier<Object> configurationSupplier,\n+                               ConnectionProvider connectionProvider)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2OTAwMQ=="}, "originalCommit": {"oid": "d64e0faf6ae8f039eb3dd8ec662c7bd346019f6e"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NTQ4MDk5OnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/data/sample/SampleDataProviderMediator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMDozMDowNVrOHXrgrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMDozMDowNVrOHXrgrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDU5MjE3NQ==", "bodyText": "typo, should say supplier of configurations instances", "url": "https://github.com/mulesoft/mule/pull/9451#discussion_r494592175", "createdAt": "2020-09-24T20:30:05Z", "author": {"login": "SebaElizalde"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/data/sample/SampleDataProviderMediator.java", "diffHunk": "@@ -96,6 +98,28 @@ public Message getSampleData(ParameterValueResolver parameterValueResolver,\n                                Supplier<Object> connectionSupplier,\n                                Supplier<Object> configurationSupplier)\n       throws SampleDataException {\n+    return getSampleData(parameterValueResolver, connectionSupplier, configurationSupplier, null);\n+  }\n+\n+  /**\n+   * Resolves the sample data\n+   *\n+   * @param parameterValueResolver  parameter resolver required if the associated {@link SampleDataProvider} requires\n+   *                                the value of parameters from the same parameter container.\n+   * @param connectionSupplier      supplier of connection instances related to the container and used, if necessary,\n+   *                                by the {@link SampleDataProvider}\n+   * @param configurationSupplier   supplier of connection instances related to the container and used, if necessary,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64e0faf6ae8f039eb3dd8ec662c7bd346019f6e"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4733, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}