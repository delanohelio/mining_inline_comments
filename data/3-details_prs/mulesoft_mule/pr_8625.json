{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNTIwNzYx", "number": 8625, "title": "MULE-18029: Fine grained Error resolution for the runtime core and ex\u2026", "bodyText": "Retry Exhausted scope has been modified and now trows a suppressed mule exception, fixing MULE-17953", "createdAt": "2020-02-03T21:01:39Z", "url": "https://github.com/mulesoft/mule/pull/8625", "merged": true, "mergeCommit": {"oid": "c6609d6daae306ce58afb208853656d762f05bb4"}, "closed": true, "closedAt": "2020-02-06T21:57:36Z", "author": {"login": "IvanAndresFritzler"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcAzDv0AH2gAyMzcwNTIwNzYxOmExMzExNTI5NGFlMTI4YjYwNjIxNDFmYmVkYzQ0NGZmNDc1NmEzODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBvmt3AFqTM1NDY5OTQwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a13115294ae128b6062141fbedc444ff4756a383", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/a13115294ae128b6062141fbedc444ff4756a383", "committedDate": "2020-02-03T20:35:20Z", "message": "MULE-18029: Fine grained Error resolution for the runtime core and extensions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e59ee33a6f8a7f13a141a3fe619d9fc15beaa1c", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/6e59ee33a6f8a7f13a141a3fe619d9fc15beaa1c", "committedDate": "2020-02-03T20:55:52Z", "message": "MULE-18029: Self review modifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d40a2fc591f3d556a92755a07d2476caed7576e", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/6d40a2fc591f3d556a92755a07d2476caed7576e", "committedDate": "2020-02-03T20:59:29Z", "message": "MULE-18029: Self review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96d7f933e3003a452afae0c63b56a7af01654573", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/96d7f933e3003a452afae0c63b56a7af01654573", "committedDate": "2020-02-03T21:00:15Z", "message": "MULE-18029: Self review changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyOTY5ODI0", "url": "https://github.com/mulesoft/mule/pull/8625#pullrequestreview-352969824", "createdAt": "2020-02-04T13:24:23Z", "commit": {"oid": "96d7f933e3003a452afae0c63b56a7af01654573"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzoyNDoyM1rOFlT2TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzoyNDoyM1rOFlT2TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY2NjgyOA==", "bodyText": "handle this inside getExceptionsAsList(me), so adding unwanted elements to the list is avoided from the start", "url": "https://github.com/mulesoft/mule/pull/8625#discussion_r374666828", "createdAt": "2020-02-04T13:24:23Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/util/MessagingExceptionResolver.java", "diffHunk": "@@ -148,13 +149,18 @@ private void propagateAlreadyLogged(MessagingException origin, MuleException res\n         .findFirst();\n   }\n \n-  private List<Pair<Throwable, ErrorType>> collectErrors(Component obj, MessagingException me, ErrorTypeLocator locator) {\n+  private List<Pair<Throwable, ErrorType>> collectUnsuppressedErrors(Component obj, MessagingException me,\n+                                                                     ErrorTypeLocator locator) {\n     List<Pair<Throwable, ErrorType>> errors = new ArrayList<>(4);\n     final List<Throwable> exceptionsAsList = getExceptionsAsList(me);\n     for (Throwable e : exceptionsAsList) {\n-      ErrorType type = errorTypeFromException(obj, locator, e);\n-      if (!isUnknownMuleError(type) && !isCriticalMuleError(type)) {\n-        errors.add(new Pair<>(e, type));\n+      if (e instanceof SuppressedMuleException) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96d7f933e3003a452afae0c63b56a7af01654573"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df1a90f3c05ef5bb6947c2f35908b6ff61ad4e6e", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/df1a90f3c05ef5bb6947c2f35908b6ff61ad4e6e", "committedDate": "2020-02-05T21:05:09Z", "message": "MULE-18029: Changes due to SuppressedMuleException moving to internal"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NDUwOTE2", "url": "https://github.com/mulesoft/mule/pull/8625#pullrequestreview-354450916", "createdAt": "2020-02-06T13:34:04Z", "commit": {"oid": "df1a90f3c05ef5bb6947c2f35908b6ff61ad4e6e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13c251bc412e414b72ed73d29946e8142b674127", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/13c251bc412e414b72ed73d29946e8142b674127", "committedDate": "2020-02-06T15:05:12Z", "message": "MULE-18029: New matcher for class names (needed for integration tests)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjYwNzAy", "url": "https://github.com/mulesoft/mule/pull/8625#pullrequestreview-354660702", "createdAt": "2020-02-06T18:06:30Z", "commit": {"oid": "13c251bc412e414b72ed73d29946e8142b674127"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODowNjozMFrOFmk-CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODowNjozMFrOFmk-CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk5NTkxMw==", "bodyText": "where is this used? Also, the format is wrong", "url": "https://github.com/mulesoft/mule/pull/8625#discussion_r375995913", "createdAt": "2020-02-06T18:06:30Z", "author": {"login": "elrodro83"}, "path": "tests/unit/src/main/java/org/mule/functional/junit4/matchers/ClassNameMatcher.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Copyright (c) MuleSoft, Inc.  All rights reserved.  http://www.mulesoft.com\n+ * The software in this package is published under the terms of the CPAL v1.0\n+ * license, a copy of which has been included with this distribution in the\n+ * LICENSE.txt file.\n+ */\n+package org.mule.functional.junit4.matchers;\n+\n+import org.hamcrest.Description;\n+import org.hamcrest.Factory;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.TypeSafeMatcher;\n+\n+/**\n+ * Matcher to check the class name of an {@link Object}\n+ * @param <T> the type of {@link Object} to match\n+ */\n+public class ClassNameMatcher<T> extends TypeSafeMatcher<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13c251bc412e414b72ed73d29946e8142b674127"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "334a9a83b194dc60bc0d63aec2069b1a92e6441d", "author": {"user": {"login": "IvanAndresFritzler", "name": "Ivan Fritzler"}}, "url": "https://github.com/mulesoft/mule/commit/334a9a83b194dc60bc0d63aec2069b1a92e6441d", "committedDate": "2020-02-06T19:05:33Z", "message": "MULE-18029: Code review changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0Njk5NDA0", "url": "https://github.com/mulesoft/mule/pull/8625#pullrequestreview-354699404", "createdAt": "2020-02-06T19:07:50Z", "commit": {"oid": "334a9a83b194dc60bc0d63aec2069b1a92e6441d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1393, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}