{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNDMwOTUx", "number": 8637, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozMzoyNFrODgAn6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNDoxMDowM1rODhFXig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0ODkxMjQwOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mule/runtime/core/internal/connection/ConnectionProviderWrapper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozMzoyNFrOFqC5gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozMzoyNFrOFqC5gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzMjAwMw==", "bodyText": "jdoc", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379632003", "createdAt": "2020-02-14T20:33:24Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/connection/ConnectionProviderWrapper.java", "diffHunk": "@@ -23,4 +24,5 @@\n \n   RetryPolicyTemplate getRetryPolicyTemplate();\n \n+  ConnectionManagementType getConnectionManagementType();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0ODkyMzM3OnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/ConnectionProviderModelValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozNzo1OFrOFqDALw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozNzo1OFrOFqDALw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzMzcxMQ==", "bodyText": "extract to org.mule.runtime.module.extension.internal.util.MuleExtensionUtils", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379633711", "createdAt": "2020-02-14T20:37:58Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/ConnectionProviderModelValidator.java", "diffHunk": "@@ -104,6 +105,9 @@ private void validateConfigLevelConnectionTypes(Multimap<ConfigurationModel, Con\n                                                   ProblemsReporter problemsReporter) {\n     configLevelConnectionProviders.asMap().forEach((configModel, providerModels) -> {\n       for (ConnectionProviderModel providerModel : providerModels) {\n+        if (providerModel.getModelProperty(SyntheticModelModelProperty.class).isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0ODkyNDU3OnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/config/ConfigurationInstanceFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozODozMlrOFqDA7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozODozMlrOFqDA7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzMzkwMg==", "bodyText": "move to org.mule.runtime.module.extension.internal.ExtensionProperties", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379633902", "createdAt": "2020-02-14T20:38:32Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/config/ConfigurationInstanceFactory.java", "diffHunk": "@@ -40,6 +40,7 @@\n  */\n public final class ConfigurationInstanceFactory<T> {\n \n+  public static final String CONFIGURATION_MODEL_PROPERTY_NAME = \"Configuration model\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0ODkyODQwOnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/connectivity/oauth/ocs/PlatformManagedOAuthConnectionProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MDoxNFrOFqDDTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MDoxNFrOFqDDTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzNDUwOA==", "bodyText": "pretty sure we already have an utils for this. If we don't, add it to org.mule.runtime.module.extension.internal.util.MuleExtensionUtils", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379634508", "createdAt": "2020-02-14T20:40:14Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/connectivity/oauth/ocs/PlatformManagedOAuthConnectionProvider.java", "diffHunk": "@@ -216,6 +232,10 @@ private void initialiseDelegate() throws MuleException {\n     }, MuleException.class, e -> e);\n   }\n \n+  private Optional<Class> getDelegateProviderType(ConnectionProviderModel delegateConnectionProviderModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0ODkzMTQyOnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/resolver/ValueResolvingContext.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MTozNFrOFqDFSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MTozNFrOFqDFSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzNTAxNw==", "bodyText": "add jdoc. Don't forget to include @since", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379635017", "createdAt": "2020-02-14T20:41:34Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/resolver/ValueResolvingContext.java", "diffHunk": "@@ -85,6 +90,10 @@ public void changeEvent(CoreEvent event) {\n     return ofNullable(config);\n   }\n \n+  public Object getProperty(String propertyName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0ODkzMTc4OnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/resolver/ValueResolvingContext.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MTo0M1rOFqDFiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MTo0M1rOFqDFiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzNTA4Mw==", "bodyText": "jdoc with since", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379635083", "createdAt": "2020-02-14T20:41:43Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/resolver/ValueResolvingContext.java", "diffHunk": "@@ -145,19 +155,24 @@ public Builder withExpressionManager(ExpressionManager manager) {\n       return this;\n     }\n \n+    public Builder withProperty(String propertyName, Object propertyValue) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1MzEzODIxOnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/ExtensionProperties.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDo0MDowMlrOFqmtBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDo0MDowMlrOFqmtBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIxODYzMQ==", "bodyText": "missing since", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r380218631", "createdAt": "2020-02-17T14:40:02Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/ExtensionProperties.java", "diffHunk": "@@ -70,5 +70,11 @@\n \n   public static final String DEFAULT_CONNECTION_PROVIDER_NAME = \"connection\";\n \n+  /**\n+   * The name to be used in a property of a {@link ValueResolvingContext} to store the {@link ConfigurationModel} being\n+   * used in that context.\n+   */\n+  public static final String CONFIGURATION_MODEL_PROPERTY_NAME = \"Configuration model\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0828cf185191e0b2c4033d836e04f576181f788e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1MzE2NDIyOnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/util/MuleExtensionUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDo0NzozMFrOFqm86Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDo0NzozMFrOFqm86Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIyMjY5Nw==", "bodyText": "This should receive EnrichableModel and should be used not only for Connection providers. Look for usages of ImplementingTypeModelProperty and change it everywhere (boyscout rule)", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r380222697", "createdAt": "2020-02-17T14:47:30Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/util/MuleExtensionUtils.java", "diffHunk": "@@ -486,4 +488,26 @@ public static boolean isCompileTime(ExtensionModel extensionModel) {\n     return extensionModel.getModelProperty(CompileTimeModelProperty.class).isPresent();\n   }\n \n+  /**\n+   * Indicates whether a give {@link EnrichableModel} is synthetic or not.\n+   *\n+   * @param enrichableModel the enrichable model that may be synthetic\n+   * @return if the enrichable model is synthetic or not\n+   * @since 4.3.0\n+   */\n+  public static boolean isSynthetic(EnrichableModel enrichableModel) {\n+    return enrichableModel.getModelProperty(SyntheticModelModelProperty.class).isPresent();\n+  }\n+\n+  /**\n+   * Tests the given {@code connectionProviderModel} for a {@link ImplementingTypeModelProperty} and if present it\n+   * returns the enclosed implementing type.\n+   *\n+   * @param connectionProviderModel the provider to get the implemented type from\n+   * @return an {@link Optional} that either has the provider implementing type, or is empty\n+   * @since 4.3.0\n+   */\n+  public static Optional<Class> getImplementingType(ConnectionProviderModel connectionProviderModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0828cf185191e0b2c4033d836e04f576181f788e"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MDE3NTQ2OnYy", "diffSide": "RIGHT", "path": "tests/functional/src/main/java/org/mule/functional/junit4/ArtifactFunctionalTestCase.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNDoxMDowM1rOFrpfzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNDoxMDowM1rOFrpfzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMxMjk3NA==", "bodyText": "rename to reloadableXXX and add a jdoc explaining that this is for {@link #mustRegenerateExtensionModels()} to function", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r381312974", "createdAt": "2020-02-19T14:10:03Z", "author": {"login": "marianogonzalez"}, "path": "tests/functional/src/main/java/org/mule/functional/junit4/ArtifactFunctionalTestCase.java", "diffHunk": "@@ -107,6 +107,7 @@\n   private static ServiceManager serviceRepository;\n   private static ClassLoaderRepository classLoaderRepository;\n   private static IsolatedClassLoaderExtensionsManagerConfigurationBuilder extensionsManagerConfigurationBuilder;\n+  private static IsolatedClassLoaderExtensionsManagerConfigurationBuilder alternativeExtensionsManagerConfigurationBuilder;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047dc96d6053cb771dbaa5776d989a3ce821123e"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 89, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}