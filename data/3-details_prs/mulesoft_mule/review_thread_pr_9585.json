{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NTg5NTM0", "number": 9585, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0Mjo1M1rOEuhFwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0NDowMVrOEuhIDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjEyMDk4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0Mjo1M1rOHi-cKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0Mjo1M1rOHi-cKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNjY0OQ==", "bodyText": "remove empty line", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506436649", "createdAt": "2020-10-16T13:42:53Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "diffHunk": "@@ -44,4 +58,15 @@ public Spliterator spliterator() {\n     populator.accept(size());\n     return super.toArray(object);\n   }\n+\n+  @Override\n+  public void writeExternal(ObjectOutput out) throws IOException {\n+    out.writeObject(getCollection());\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjEyMzMxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0MzoyMFrOHi-duA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzozNTozMVrOHjJ4yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzA0OA==", "bodyText": "we shouldn't be expecting to encounter this actual class serialized.", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506437048", "createdAt": "2020-10-16T13:43:20Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "diffHunk": "@@ -44,4 +58,15 @@ public Spliterator spliterator() {\n     populator.accept(size());\n     return super.toArray(object);\n   }\n+\n+  @Override\n+  public void writeExternal(ObjectOutput out) throws IOException {\n+    out.writeObject(getCollection());\n+\n+  }\n+\n+  @Override\n+  public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException {\n+    this.collection = (Collection) in.readObject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYyNDIwMw==", "bodyText": "Needed for the case where we are not using kryo.", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506624203", "createdAt": "2020-10-16T17:35:31Z", "author": {"login": "fsgonz"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "diffHunk": "@@ -44,4 +58,15 @@ public Spliterator spliterator() {\n     populator.accept(size());\n     return super.toArray(object);\n   }\n+\n+  @Override\n+  public void writeExternal(ObjectOutput out) throws IOException {\n+    out.writeObject(getCollection());\n+\n+  }\n+\n+  @Override\n+  public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException {\n+    this.collection = (Collection) in.readObject();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzA0OA=="}, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjEyNDQ2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsList.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0MzozNFrOHi-eaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0MzozNFrOHi-eaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzIyNw==", "bodyText": "we shouldn't be expecting to encounter this actual class serialized.", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506437227", "createdAt": "2020-10-16T13:43:34Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsList.java", "diffHunk": "@@ -45,4 +61,14 @@ public Spliterator spliterator() {\n     return super.toArray(object);\n   }\n \n+  @Override\n+  public void writeExternal(ObjectOutput out) throws IOException {\n+    out.writeObject(getList());\n+  }\n+\n+  @Override\n+  public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException {\n+    this.collection = (List) in.readObject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjEyNjUxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0Mzo1NlrOHi-fsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNDoyMjo0N1rOHjBC5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzU1NQ==", "bodyText": "would this be needed if there were a kryo serializer for this class?", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506437555", "createdAt": "2020-10-16T13:43:56Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "diffHunk": "@@ -6,18 +6,32 @@\n  */\n package org.mule.runtime.core.internal.management.stats;\n \n+import java.io.Externalizable;\n+import java.io.IOException;\n+import java.io.ObjectInput;\n+import java.io.ObjectOutput;\n import java.util.Collection;\n+import java.util.HashSet;\n import java.util.Iterator;\n import java.util.Spliterator;\n import java.util.Spliterators;\n import java.util.function.LongConsumer;\n \n import org.apache.commons.collections.collection.AbstractCollectionDecorator;\n \n-class PayloadStatisticsCollection<T> extends AbstractCollectionDecorator {\n+class PayloadStatisticsCollection<T> extends AbstractCollectionDecorator implements Externalizable {\n \n   private final LongConsumer populator;\n \n+  public PayloadStatisticsCollection() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3OTMzMw==", "bodyText": "the void constructor is needed for non-kryo scenarios. Kryo also needs all parameters to be initialized in the void constructor.", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506479333", "createdAt": "2020-10-16T14:22:47Z", "author": {"login": "fsgonz"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsCollection.java", "diffHunk": "@@ -6,18 +6,32 @@\n  */\n package org.mule.runtime.core.internal.management.stats;\n \n+import java.io.Externalizable;\n+import java.io.IOException;\n+import java.io.ObjectInput;\n+import java.io.ObjectOutput;\n import java.util.Collection;\n+import java.util.HashSet;\n import java.util.Iterator;\n import java.util.Spliterator;\n import java.util.Spliterators;\n import java.util.function.LongConsumer;\n \n import org.apache.commons.collections.collection.AbstractCollectionDecorator;\n \n-class PayloadStatisticsCollection<T> extends AbstractCollectionDecorator {\n+class PayloadStatisticsCollection<T> extends AbstractCollectionDecorator implements Externalizable {\n \n   private final LongConsumer populator;\n \n+  public PayloadStatisticsCollection() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzU1NQ=="}, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjEyNjg0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsList.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo0NDowMVrOHi-f4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNDoyMjo1MVrOHjBDLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzYwMw==", "bodyText": "would this be needed if there were a kryo serializer for this class?", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506437603", "createdAt": "2020-10-16T13:44:01Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsList.java", "diffHunk": "@@ -14,10 +19,21 @@\n \n import org.apache.commons.collections.list.AbstractListDecorator;\n \n-final class PayloadStatisticsList<T> extends AbstractListDecorator {\n+final class PayloadStatisticsList<T> extends AbstractListDecorator implements Externalizable {\n+\n+  private static final long serialVersionUID = -5991764233175594789L;\n \n   private final LongConsumer populator;\n \n+  public PayloadStatisticsList() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3OTQwNg==", "bodyText": "the void constructor is needed for non-kryo scenarios. Kryo also needs all parameters to be initialized in the void constructor.", "url": "https://github.com/mulesoft/mule/pull/9585#discussion_r506479406", "createdAt": "2020-10-16T14:22:51Z", "author": {"login": "fsgonz"}, "path": "core/src/main/java/org/mule/runtime/core/internal/management/stats/PayloadStatisticsList.java", "diffHunk": "@@ -14,10 +19,21 @@\n \n import org.apache.commons.collections.list.AbstractListDecorator;\n \n-final class PayloadStatisticsList<T> extends AbstractListDecorator {\n+final class PayloadStatisticsList<T> extends AbstractListDecorator implements Externalizable {\n+\n+  private static final long serialVersionUID = -5991764233175594789L;\n \n   private final LongConsumer populator;\n \n+  public PayloadStatisticsList() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQzNzYwMw=="}, "originalCommit": {"oid": "1d6e8ccc4b61248442c17712e1ab40a0f2fa3865"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4699, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}