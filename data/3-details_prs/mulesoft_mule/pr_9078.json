{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNDc2NDYz", "number": 9078, "title": "MULE-17709: Add `error-mapping` information into operations model", "bodyText": "", "createdAt": "2020-07-20T13:56:22Z", "url": "https://github.com/mulesoft/mule/pull/9078", "merged": true, "mergeCommit": {"oid": "ec27731728650d82ddbf6f90234a89d2ef1612ea"}, "closed": true, "closedAt": "2020-07-23T17:52:07Z", "author": {"login": "elrodro83"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3I0yegFqTQ1MjYyNTY2OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3wSPYgFqTQ1NDE4NzQzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNjI1NjY4", "url": "https://github.com/mulesoft/mule/pull/9078#pullrequestreview-452625668", "createdAt": "2020-07-21T16:23:13Z", "commit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNjoyMzoxNFrOG0_7ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNjoyODoxMVrOG1AH6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNjUzMg==", "bodyText": "delete?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458226532", "createdAt": "2020-07-21T16:23:14Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/exception/DefaultErrorMapping.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright (c) MuleSoft, Inc.  All rights reserved.  http://www.mulesoft.com\n+ * The software in this package is published under the terms of the CPAL v1.0\n+ * license, a copy of which has been included with this distribution in the\n+ * LICENSE.txt file.\n+ */\n+package org.mule.runtime.core.internal.exception;\n+\n+import org.mule.runtime.api.meta.model.operation.ErrorMapping;\n+\n+public final class DefaultErrorMapping implements ErrorMapping {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzA2OQ==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227069", "createdAt": "2020-07-21T16:24:06Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -82,6 +82,9 @@\n                 <parameter name=\"config-ref\">\n                     <description><![CDATA[The name of the configuration to be used to execute this component]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzEyMw==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227123", "createdAt": "2020-07-21T16:24:10Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -96,6 +99,9 @@\n                 <parameter name=\"config-ref\">\n                     <description><![CDATA[The name of the configuration to be used to execute this component]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzE5Nw==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227197", "createdAt": "2020-07-21T16:24:18Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -110,6 +116,9 @@\n                 <parameter name=\"otherFriend\">\n                     <description><![CDATA[Some other friend]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzIzNA==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227234", "createdAt": "2020-07-21T16:24:23Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -135,6 +147,9 @@\n                 <parameter name=\"alias-param\">\n                     <description><![CDATA[Param with alias]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzI3Nw==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227277", "createdAt": "2020-07-21T16:24:27Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -143,6 +158,9 @@\n                 <parameter name=\"value\">\n                     <description><![CDATA[some doc]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzMxMA==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227310", "createdAt": "2020-07-21T16:24:31Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -151,6 +169,9 @@\n                 <parameter name=\"value\">\n                     <description><![CDATA[this is the String to be returned]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzM4Mw==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227383", "createdAt": "2020-07-21T16:24:38Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/single-extension-descriptions.xml", "diffHunk": "@@ -69,6 +69,9 @@\n                 <parameter name=\"config-ref\">\n                     <description><![CDATA[The name of the configuration to be used to execute this component]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzQzNg==", "bodyText": "make this human readable", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227436", "createdAt": "2020-07-21T16:24:43Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/single-extension-descriptions.xml", "diffHunk": "@@ -86,6 +89,9 @@\n                 <parameter name=\"second\">\n                     <description><![CDATA[Second Description]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzc3NQ==", "bodyText": "this is a weird typeId", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458227775", "createdAt": "2020-07-21T16:25:10Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/models/test-fn.json", "diffHunk": "@@ -431,6 +431,131 @@\n           \"name\": \"Output\",\n           \"description\": \"\",\n           \"modelProperties\": {}\n+        },\n+        {\n+          \"parameters\": [\n+            {\n+              \"type\": {\n+                \"format\": \"java\",\n+                \"type\": \"Array\",\n+                \"annotations\": {\n+                  \"description\": {\n+                    \"value\": \"Determines that an error thrown by this operation should be mapped to another\"\n+                  },\n+                  \"typeDsl\": {\n+                    \"allowInlineDefinition\": true,\n+                    \"allowTopLevelDefinition\": false\n+                  }\n+                },\n+                \"item\": {\n+                  \"type\": \"Object\",\n+                  \"annotations\": {\n+                    \"typeId\": \"errorMapping\"\n+                  },\n+                  \"fields\": [\n+                    {\n+                      \"key\": {\n+                        \"name\": \"source\"\n+                      },\n+                      \"model\": {\n+                        \"format\": {\n+                          \"id\": \"text\",\n+                          \"label\": \"Text\",\n+                          \"validMimeTypes\": [\n+                            \"text/plain\"\n+                          ]\n+                        },\n+                        \"type\": \"String\",\n+                        \"annotations\": {\n+                          \"typeId\": \"errorTypeMatcher\"\n+                        }\n+                      }\n+                    },\n+                    {\n+                      \"key\": {\n+                        \"name\": \"target\",\n+                        \"required\": \"true\"\n+                      },\n+                      \"model\": {\n+                        \"format\": {\n+                          \"id\": \"text\",\n+                          \"label\": \"Text\",\n+                          \"validMimeTypes\": [\n+                            \"text/plain\"\n+                          ]\n+                        },\n+                        \"type\": \"String\",\n+                        \"annotations\": {\n+                          \"typeId\": \"errorTypeDeclared\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyODI5OQ==", "bodyText": "this is weird. Your original intent was to reflect this on the extension model, but why is the XSD being changed? Wasn't it possible to provide this error mapping before?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458228299", "createdAt": "2020-07-21T16:25:58Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/schemas/implicit-config.xsd", "diffHunk": "@@ -101,6 +103,7 @@\n       <xs:extension xmlns:mule=\"http://www.mulesoft.org/schema/mule/core\" base=\"mule:abstractOperatorType\">\n         <xs:sequence minOccurs=\"0\" maxOccurs=\"1\">\n           <xs:element minOccurs=\"0\" maxOccurs=\"1\" ref=\"mule:abstract-reconnection-strategy\"></xs:element>\n+          <xs:element minOccurs=\"0\" maxOccurs=\"unbounded\" ref=\"mule:error-mapping\"></xs:element>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyOTEyMg==", "bodyText": "Weird:\na) added but never used\nb) shoudln't this use the extension's classlaoder?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458229122", "createdAt": "2020-07-21T16:27:14Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/java/OperationModelLoaderDelegate.java", "diffHunk": "@@ -55,6 +58,8 @@\n final class OperationModelLoaderDelegate extends AbstractModelLoaderDelegate {\n \n   private static final String OPERATION = \"Operation\";\n+  private static final ClassTypeLoader TYPE_LOADER = ExtensionsTypeLoaderFactory.getDefault()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyOTczNg==", "bodyText": "shouldn't this be forEachErrorMapping ?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458229736", "createdAt": "2020-07-21T16:28:11Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/exception/ErrorMappingUtils.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) MuleSoft, Inc.  All rights reserved.  http://www.mulesoft.com\n+ * The software in this package is published under the terms of the CPAL v1.0\n+ * license, a copy of which has been included with this distribution in the\n+ * LICENSE.txt file.\n+ */\n+package org.mule.runtime.module.extension.internal.runtime.exception;\n+\n+import static org.mule.runtime.extension.api.ExtensionConstants.ERROR_MAPPINGS_PARAMETER_NAME;\n+\n+import org.mule.runtime.api.meta.model.operation.ErrorMapping;\n+import org.mule.runtime.api.meta.model.operation.OperationModel;\n+import org.mule.runtime.ast.api.ComponentAst;\n+import org.mule.runtime.ast.api.ComponentParameterAst;\n+\n+import java.util.List;\n+import java.util.function.Consumer;\n+\n+/**\n+ * Utilities for dealing with {@code error-mapping} in operations.\n+ *\n+ * @since 4.4\n+ */\n+public final class ErrorMappingUtils {\n+\n+  private ErrorMappingUtils() {\n+    // Nothing to do\n+  }\n+\n+  /**\n+   * For the given AST node representing an operation, execute the given {@code action} for each error mapping it has.\n+   * \n+   * @param operation the operation from which to iterate the error mappings.\n+   * @param action what is executed for every error mapping.\n+   */\n+  public static void doForErrorMappings(ComponentAst operation, Consumer<List<ErrorMapping>> action) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c130d3c47e4480d9965135e886f070ff89de067", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/5c130d3c47e4480d9965135e886f070ff89de067", "committedDate": "2020-07-21T21:32:15Z", "message": "MULE-17709: Add `error-mapping` information into operations model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b52a36ab75ad54ff3c0b1e4f6e7b82c7b119ee6", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/3b52a36ab75ad54ff3c0b1e4f6e7b82c7b119ee6", "committedDate": "2020-07-21T21:32:16Z", "message": "utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df9467c699cc9041afd84ceb8c746ce46c92b1cd", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/df9467c699cc9041afd84ceb8c746ce46c92b1cd", "committedDate": "2020-07-21T21:32:18Z", "message": "lalal!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4519b0a91065b074cff87dc6724b6ecd1c247912", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/4519b0a91065b074cff87dc6724b6ecd1c247912", "committedDate": "2020-07-21T21:32:20Z", "message": "adfsad"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2572e30e9dfc33646ff1586281b5ef09618acaeb", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/2572e30e9dfc33646ff1586281b5ef09618acaeb", "committedDate": "2020-07-21T21:32:21Z", "message": "adgaergqwe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "548f06e10053074260445693c3b9b300f02a6e7d", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/548f06e10053074260445693c3b9b300f02a6e7d", "committedDate": "2020-07-21T21:32:23Z", "message": "wrapping up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbd93cb7db641f7230c75ccf4e918e27a6caa1e0", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/dbd93cb7db641f7230c75ccf4e918e27a6caa1e0", "committedDate": "2020-07-21T21:32:24Z", "message": "jd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48f6b220a07e6f848ba2440e7a34271a4592f977", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/48f6b220a07e6f848ba2440e7a34271a4592f977", "committedDate": "2020-07-21T21:32:26Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzEyNzg0", "url": "https://github.com/mulesoft/mule/pull/9078#pullrequestreview-453312784", "createdAt": "2020-07-22T13:24:25Z", "commit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzoyNDoyNVrOG1iODQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzoyODo0MFrOG1iZnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4ODM2NQ==", "bodyText": "still no delete?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458788365", "createdAt": "2020-07-22T13:24:25Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/exception/DefaultErrorMapping.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright (c) MuleSoft, Inc.  All rights reserved.  http://www.mulesoft.com\n+ * The software in this package is published under the terms of the CPAL v1.0\n+ * license, a copy of which has been included with this distribution in the\n+ * LICENSE.txt file.\n+ */\n+package org.mule.runtime.core.internal.exception;\n+\n+import org.mule.runtime.api.meta.model.operation.ErrorMapping;\n+\n+public final class DefaultErrorMapping implements ErrorMapping {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNjUzMg=="}, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4OTA0MA==", "bodyText": "unresolved... this one and the below", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458789040", "createdAt": "2020-07-22T13:25:20Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/META-INF/multiple-extension-descriptions.xml", "diffHunk": "@@ -82,6 +82,9 @@\n                 <parameter name=\"config-ref\">\n                     <description><![CDATA[The name of the configuration to be used to execute this component]]></description>\n                 </parameter>\n+                <parameter name=\"errorMappings\">\n+                    <description><![CDATA[Set of 'errorMapping's]]></description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyNzA2OQ=="}, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4OTM4OA==", "bodyText": "this part I still don't underestand... so nobody was paying attention to this in 4.3?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458789388", "createdAt": "2020-07-22T13:25:54Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/main/java/org/mule/runtime/module/extension/internal/AbstractComponentDefinitionParser.java", "diffHunk": "@@ -81,6 +80,7 @@ protected Builder doParse(Builder definitionBuilder)\n                                        fromSimpleParameter(TARGET_VALUE_PARAMETER_NAME).build())\n         .withSetterParameterDefinition(CURSOR_PROVIDER_FACTORY_FIELD_NAME,\n                                        fromChildConfiguration(CursorProviderFactory.class).build())\n+        .withSetterParameterDefinition(\"errorMappings\", fromChildCollectionConfiguration(EnrichedErrorMapping.class).build())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5MDczNw==", "bodyText": "I don't think this is a good change then. If it can be defined globally in the base type, it should be kept like that. Not only because of redundancy and code tidyness... this change risks potential problems because of element ordering in exchange for no gain I can appretiate", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458790737", "createdAt": "2020-07-22T13:27:52Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/schemas/implicit-config.xsd", "diffHunk": "@@ -101,6 +103,7 @@\n       <xs:extension xmlns:mule=\"http://www.mulesoft.org/schema/mule/core\" base=\"mule:abstractOperatorType\">\n         <xs:sequence minOccurs=\"0\" maxOccurs=\"1\">\n           <xs:element minOccurs=\"0\" maxOccurs=\"1\" ref=\"mule:abstract-reconnection-strategy\"></xs:element>\n+          <xs:element minOccurs=\"0\" maxOccurs=\"unbounded\" ref=\"mule:error-mapping\"></xs:element>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyODI5OQ=="}, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5MTA2NA==", "bodyText": "no action?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458791064", "createdAt": "2020-07-22T13:28:19Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/java/OperationModelLoaderDelegate.java", "diffHunk": "@@ -55,6 +58,8 @@\n final class OperationModelLoaderDelegate extends AbstractModelLoaderDelegate {\n \n   private static final String OPERATION = \"Operation\";\n+  private static final ClassTypeLoader TYPE_LOADER = ExtensionsTypeLoaderFactory.getDefault()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyOTEyMg=="}, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5MTMyNQ==", "bodyText": "no action", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458791325", "createdAt": "2020-07-22T13:28:40Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/exception/ErrorMappingUtils.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) MuleSoft, Inc.  All rights reserved.  http://www.mulesoft.com\n+ * The software in this package is published under the terms of the CPAL v1.0\n+ * license, a copy of which has been included with this distribution in the\n+ * LICENSE.txt file.\n+ */\n+package org.mule.runtime.module.extension.internal.runtime.exception;\n+\n+import static org.mule.runtime.extension.api.ExtensionConstants.ERROR_MAPPINGS_PARAMETER_NAME;\n+\n+import org.mule.runtime.api.meta.model.operation.ErrorMapping;\n+import org.mule.runtime.api.meta.model.operation.OperationModel;\n+import org.mule.runtime.ast.api.ComponentAst;\n+import org.mule.runtime.ast.api.ComponentParameterAst;\n+\n+import java.util.List;\n+import java.util.function.Consumer;\n+\n+/**\n+ * Utilities for dealing with {@code error-mapping} in operations.\n+ *\n+ * @since 4.4\n+ */\n+public final class ErrorMappingUtils {\n+\n+  private ErrorMappingUtils() {\n+    // Nothing to do\n+  }\n+\n+  /**\n+   * For the given AST node representing an operation, execute the given {@code action} for each error mapping it has.\n+   * \n+   * @param operation the operation from which to iterate the error mappings.\n+   * @param action what is executed for every error mapping.\n+   */\n+  public static void doForErrorMappings(ComponentAst operation, Consumer<List<ErrorMapping>> action) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyOTczNg=="}, "originalCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69e7eeaecf57283e33fec073d81fcc2e5a53b23a", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/69e7eeaecf57283e33fec073d81fcc2e5a53b23a", "committedDate": "2020-07-22T13:54:32Z", "message": "review + fixes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b0600763791afb32ce4e2e202decdf571419a6e", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/5b0600763791afb32ce4e2e202decdf571419a6e", "committedDate": "2020-07-17T21:32:57Z", "message": "fix"}, "afterCommit": {"oid": "69e7eeaecf57283e33fec073d81fcc2e5a53b23a", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/69e7eeaecf57283e33fec073d81fcc2e5a53b23a", "committedDate": "2020-07-22T13:54:32Z", "message": "review + fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNDE3MDg5", "url": "https://github.com/mulesoft/mule/pull/9078#pullrequestreview-453417089", "createdAt": "2020-07-22T15:12:36Z", "commit": {"oid": "69e7eeaecf57283e33fec073d81fcc2e5a53b23a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNToxMjozN1rOG1nF-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNToxMjozN1rOG1nF-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg2ODIxOQ==", "bodyText": "4.0?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r458868219", "createdAt": "2020-07-22T15:12:37Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/exception/EnrichedErrorMapping.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright (c) MuleSoft, Inc.  All rights reserved.  http://www.mulesoft.com\n+ * The software in this package is published under the terms of the CPAL v1.0\n+ * license, a copy of which has been included with this distribution in the\n+ * LICENSE.txt file.\n+ */\n+package org.mule.runtime.core.internal.exception;\n+\n+import org.mule.runtime.api.component.AbstractComponent;\n+import org.mule.runtime.api.message.ErrorType;\n+import org.mule.runtime.core.api.exception.ErrorTypeMatcher;\n+\n+/**\n+ * Represents a mapping between source and target {@link ErrorType}s, indicating that if\n+ * the first or a match for it is found then the other should be propagated instead.\n+ *\n+ * @since 4.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69e7eeaecf57283e33fec073d81fcc2e5a53b23a"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4264c5f4ade5afb0689b21240fb02dbcfd1fa78f", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/4264c5f4ade5afb0689b21240fb02dbcfd1fa78f", "committedDate": "2020-07-22T20:41:11Z", "message": "another review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTc2NDYz", "url": "https://github.com/mulesoft/mule/pull/9078#pullrequestreview-454176463", "createdAt": "2020-07-23T14:15:58Z", "commit": {"oid": "4264c5f4ade5afb0689b21240fb02dbcfd1fa78f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNDoxNTo1OFrOG2MnUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNDoxNTo1OFrOG2MnUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ4Mjk2MQ==", "bodyText": "what's the actual change in these?", "url": "https://github.com/mulesoft/mule/pull/9078#discussion_r459482961", "createdAt": "2020-07-23T14:15:58Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-spring-support/src/test/resources/schemas/basic.xsd", "diffHunk": "@@ -115,4 +115,4 @@\n       </xs:extension>\n     </xs:complexContent>\n   </xs:complexType>\n-</xs:schema>\n+</xs:schema>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4264c5f4ade5afb0689b21240fb02dbcfd1fa78f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff1c61b6ecc7ba23742f5b48aa69a7fa1291f4b7", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/ff1c61b6ecc7ba23742f5b48aa69a7fa1291f4b7", "committedDate": "2020-07-23T14:25:43Z", "message": "properly revert xsd changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTg3NDM2", "url": "https://github.com/mulesoft/mule/pull/9078#pullrequestreview-454187436", "createdAt": "2020-07-23T14:27:17Z", "commit": {"oid": "ff1c61b6ecc7ba23742f5b48aa69a7fa1291f4b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 563, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}