{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNDMwOTUx", "number": 8637, "title": "Mule 17984: Add test scenarios for OCS extensions", "bodyText": "", "createdAt": "2020-02-07T14:12:23Z", "url": "https://github.com/mulesoft/mule/pull/8637", "merged": true, "mergeCommit": {"oid": "53930ffee88b4e8b0e978a2b2e25e9d542c0d551"}, "closed": true, "closedAt": "2020-02-19T20:51:12Z", "author": {"login": "ndinu"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcES5Q0gBqjMwMzk1MjI5MjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcF8zDJAFqTM2MTQyMzUxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "370e9c1361a497708012955df430cedaca7ce824", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/370e9c1361a497708012955df430cedaca7ce824", "committedDate": "2020-02-10T19:53:56Z", "message": "Add new Configuration to OAuth Test Extension"}, "afterCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/4d0529414479f7df0a8d014e36e632d5d9af7111", "committedDate": "2020-02-14T16:31:28Z", "message": "more progress"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MjAzMTcx", "url": "https://github.com/mulesoft/mule/pull/8637#pullrequestreview-359203171", "createdAt": "2020-02-14T20:33:24Z", "commit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDozMzoyNFrOFqC5gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDo0MTo0M1rOFqDFiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzMjAwMw==", "bodyText": "jdoc", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379632003", "createdAt": "2020-02-14T20:33:24Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/connection/ConnectionProviderWrapper.java", "diffHunk": "@@ -23,4 +24,5 @@\n \n   RetryPolicyTemplate getRetryPolicyTemplate();\n \n+  ConnectionManagementType getConnectionManagementType();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzMzcxMQ==", "bodyText": "extract to org.mule.runtime.module.extension.internal.util.MuleExtensionUtils", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379633711", "createdAt": "2020-02-14T20:37:58Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/ConnectionProviderModelValidator.java", "diffHunk": "@@ -104,6 +105,9 @@ private void validateConfigLevelConnectionTypes(Multimap<ConfigurationModel, Con\n                                                   ProblemsReporter problemsReporter) {\n     configLevelConnectionProviders.asMap().forEach((configModel, providerModels) -> {\n       for (ConnectionProviderModel providerModel : providerModels) {\n+        if (providerModel.getModelProperty(SyntheticModelModelProperty.class).isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzMzkwMg==", "bodyText": "move to org.mule.runtime.module.extension.internal.ExtensionProperties", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379633902", "createdAt": "2020-02-14T20:38:32Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/config/ConfigurationInstanceFactory.java", "diffHunk": "@@ -40,6 +40,7 @@\n  */\n public final class ConfigurationInstanceFactory<T> {\n \n+  public static final String CONFIGURATION_MODEL_PROPERTY_NAME = \"Configuration model\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzNDUwOA==", "bodyText": "pretty sure we already have an utils for this. If we don't, add it to org.mule.runtime.module.extension.internal.util.MuleExtensionUtils", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379634508", "createdAt": "2020-02-14T20:40:14Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/connectivity/oauth/ocs/PlatformManagedOAuthConnectionProvider.java", "diffHunk": "@@ -216,6 +232,10 @@ private void initialiseDelegate() throws MuleException {\n     }, MuleException.class, e -> e);\n   }\n \n+  private Optional<Class> getDelegateProviderType(ConnectionProviderModel delegateConnectionProviderModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzNTAxNw==", "bodyText": "add jdoc. Don't forget to include @since", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379635017", "createdAt": "2020-02-14T20:41:34Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/resolver/ValueResolvingContext.java", "diffHunk": "@@ -85,6 +90,10 @@ public void changeEvent(CoreEvent event) {\n     return ofNullable(config);\n   }\n \n+  public Object getProperty(String propertyName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYzNTA4Mw==", "bodyText": "jdoc with since", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r379635083", "createdAt": "2020-02-14T20:41:43Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/runtime/resolver/ValueResolvingContext.java", "diffHunk": "@@ -145,19 +155,24 @@ public Builder withExpressionManager(ExpressionManager manager) {\n       return this;\n     }\n \n+    public Builder withProperty(String propertyName, Object propertyValue) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d0529414479f7df0a8d014e36e632d5d9af7111"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NzgxNjQ0", "url": "https://github.com/mulesoft/mule/pull/8637#pullrequestreview-359781644", "createdAt": "2020-02-17T14:40:02Z", "commit": {"oid": "0828cf185191e0b2c4033d836e04f576181f788e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDo0MDowMlrOFqmtBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDo0NzozMFrOFqm86Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIxODYzMQ==", "bodyText": "missing since", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r380218631", "createdAt": "2020-02-17T14:40:02Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/ExtensionProperties.java", "diffHunk": "@@ -70,5 +70,11 @@\n \n   public static final String DEFAULT_CONNECTION_PROVIDER_NAME = \"connection\";\n \n+  /**\n+   * The name to be used in a property of a {@link ValueResolvingContext} to store the {@link ConfigurationModel} being\n+   * used in that context.\n+   */\n+  public static final String CONFIGURATION_MODEL_PROPERTY_NAME = \"Configuration model\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0828cf185191e0b2c4033d836e04f576181f788e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIyMjY5Nw==", "bodyText": "This should receive EnrichableModel and should be used not only for Connection providers. Look for usages of ImplementingTypeModelProperty and change it everywhere (boyscout rule)", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r380222697", "createdAt": "2020-02-17T14:47:30Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/util/MuleExtensionUtils.java", "diffHunk": "@@ -486,4 +488,26 @@ public static boolean isCompileTime(ExtensionModel extensionModel) {\n     return extensionModel.getModelProperty(CompileTimeModelProperty.class).isPresent();\n   }\n \n+  /**\n+   * Indicates whether a give {@link EnrichableModel} is synthetic or not.\n+   *\n+   * @param enrichableModel the enrichable model that may be synthetic\n+   * @return if the enrichable model is synthetic or not\n+   * @since 4.3.0\n+   */\n+  public static boolean isSynthetic(EnrichableModel enrichableModel) {\n+    return enrichableModel.getModelProperty(SyntheticModelModelProperty.class).isPresent();\n+  }\n+\n+  /**\n+   * Tests the given {@code connectionProviderModel} for a {@link ImplementingTypeModelProperty} and if present it\n+   * returns the enclosed implementing type.\n+   *\n+   * @param connectionProviderModel the provider to get the implemented type from\n+   * @return an {@link Optional} that either has the provider implementing type, or is empty\n+   * @since 4.3.0\n+   */\n+  public static Optional<Class> getImplementingType(ConnectionProviderModel connectionProviderModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0828cf185191e0b2c4033d836e04f576181f788e"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5ODA5NjQy", "url": "https://github.com/mulesoft/mule/pull/8637#pullrequestreview-359809642", "createdAt": "2020-02-17T15:19:09Z", "commit": {"oid": "a53b7ef829d32fbcccb2901899082648051f27b2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNDE4NDMz", "url": "https://github.com/mulesoft/mule/pull/8637#pullrequestreview-360418433", "createdAt": "2020-02-18T15:12:07Z", "commit": {"oid": "d06ecb9665379f32359e3d0c4754b9be3c54aaaa"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "814b7ba97f3f05173475ff0180226387c1918774", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/814b7ba97f3f05173475ff0180226387c1918774", "committedDate": "2020-02-18T22:28:33Z", "message": "Progress on testing and fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fba73b2d9495245778932ab1a2a43d3609b9c2a9", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/fba73b2d9495245778932ab1a2a43d3609b9c2a9", "committedDate": "2020-02-18T22:28:34Z", "message": "progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb17d0e2d0b56ad842476830a09953495cd7edce", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/bb17d0e2d0b56ad842476830a09953495cd7edce", "committedDate": "2020-02-18T22:28:34Z", "message": "Progress testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a77af2007f4821ae3356c828164bebb7e6f93b1c", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/a77af2007f4821ae3356c828164bebb7e6f93b1c", "committedDate": "2020-02-18T22:28:34Z", "message": "testing ocs progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b38800175f33f98a6e835fa8242665700131c21", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/0b38800175f33f98a6e835fa8242665700131c21", "committedDate": "2020-02-18T22:28:34Z", "message": "Remove unnecesary imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6054e2cccff56c3903a56ebed2eb13df2964534", "author": {"user": {"login": "marianogonzalez", "name": "Mariano Gonzalez"}}, "url": "https://github.com/mulesoft/mule/commit/b6054e2cccff56c3903a56ebed2eb13df2964534", "committedDate": "2020-02-18T22:28:34Z", "message": "add constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4217951990ccf436fcac318ac3cfb6d2e19003dd", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/4217951990ccf436fcac318ac3cfb6d2e19003dd", "committedDate": "2020-02-18T22:28:34Z", "message": "progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fb9b7cab06db6ade00daea2aea7c3205a71fa94", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/0fb9b7cab06db6ade00daea2aea7c3205a71fa94", "committedDate": "2020-02-18T22:28:34Z", "message": "progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d10c50dab6cc7c38390c2b8d2a063b1dab7b777", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/6d10c50dab6cc7c38390c2b8d2a063b1dab7b777", "committedDate": "2020-02-18T22:28:34Z", "message": "changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2906aefaca1dcd50da23b19b3f6345e07a0d357", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/c2906aefaca1dcd50da23b19b3f6345e07a0d357", "committedDate": "2020-02-18T22:28:34Z", "message": "Throw error when delegate does not have implementing type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95b24b7b6ecac0a97a0d61dab1c483b460a06f73", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/95b24b7b6ecac0a97a0d61dab1c483b460a06f73", "committedDate": "2020-02-18T22:28:34Z", "message": "Add new Configuration to OAuth Test Extension"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6505f76174d406ff73b2fb0b8f710e0ed5a6a382", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/6505f76174d406ff73b2fb0b8f710e0ed5a6a382", "committedDate": "2020-02-18T22:28:34Z", "message": "Fix compilation issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c42bd406cfc4e1e7e0012028d965d71074c933a", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/5c42bd406cfc4e1e7e0012028d965d71074c933a", "committedDate": "2020-02-18T22:28:34Z", "message": "Adds test operation for testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc8b4896c03e71050f91f9238190a2e62296b728", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/bc8b4896c03e71050f91f9238190a2e62296b728", "committedDate": "2020-02-18T22:28:34Z", "message": "Progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1947bb38ca190016da9fb54622694617d991d6ec", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/1947bb38ca190016da9fb54622694617d991d6ec", "committedDate": "2020-02-18T22:28:34Z", "message": "more progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcc62cb044141dcd0d6bee1405a212c4198c0aa3", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/dcc62cb044141dcd0d6bee1405a212c4198c0aa3", "committedDate": "2020-02-18T22:28:34Z", "message": "Adds requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94d8fa9429cbbf448a02a26da9709b36113f64ba", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/94d8fa9429cbbf448a02a26da9709b36113f64ba", "committedDate": "2020-02-18T22:28:34Z", "message": "Adds requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69257b3c88a5267488a366f3191027c10785347a", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/69257b3c88a5267488a366f3191027c10785347a", "committedDate": "2020-02-18T22:28:34Z", "message": "Fix leak in test infrastructure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "047dc96d6053cb771dbaa5776d989a3ce821123e", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/047dc96d6053cb771dbaa5776d989a3ce821123e", "committedDate": "2020-02-18T22:28:34Z", "message": "Changes test infrastructure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fbb4bcf8445318075b5bca50469bb07c01945921", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/fbb4bcf8445318075b5bca50469bb07c01945921", "committedDate": "2020-02-18T21:58:08Z", "message": "Changes test infrastructure"}, "afterCommit": {"oid": "047dc96d6053cb771dbaa5776d989a3ce821123e", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/047dc96d6053cb771dbaa5776d989a3ce821123e", "committedDate": "2020-02-18T22:28:34Z", "message": "Changes test infrastructure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMTM4Njky", "url": "https://github.com/mulesoft/mule/pull/8637#pullrequestreview-361138692", "createdAt": "2020-02-19T14:10:03Z", "commit": {"oid": "047dc96d6053cb771dbaa5776d989a3ce821123e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNDoxMDowM1rOFrpfzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNDoxMDowM1rOFrpfzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMxMjk3NA==", "bodyText": "rename to reloadableXXX and add a jdoc explaining that this is for {@link #mustRegenerateExtensionModels()} to function", "url": "https://github.com/mulesoft/mule/pull/8637#discussion_r381312974", "createdAt": "2020-02-19T14:10:03Z", "author": {"login": "marianogonzalez"}, "path": "tests/functional/src/main/java/org/mule/functional/junit4/ArtifactFunctionalTestCase.java", "diffHunk": "@@ -107,6 +107,7 @@\n   private static ServiceManager serviceRepository;\n   private static ClassLoaderRepository classLoaderRepository;\n   private static IsolatedClassLoaderExtensionsManagerConfigurationBuilder extensionsManagerConfigurationBuilder;\n+  private static IsolatedClassLoaderExtensionsManagerConfigurationBuilder alternativeExtensionsManagerConfigurationBuilder;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047dc96d6053cb771dbaa5776d989a3ce821123e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdd3317bdcdd8abb3f3d1d034eb2314993398518", "author": {"user": {"login": "ndinu", "name": null}}, "url": "https://github.com/mulesoft/mule/commit/bdd3317bdcdd8abb3f3d1d034eb2314993398518", "committedDate": "2020-02-19T14:47:43Z", "message": "Adds jdoc to test infrastracture"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNDIzNTEx", "url": "https://github.com/mulesoft/mule/pull/8637#pullrequestreview-361423511", "createdAt": "2020-02-19T20:45:46Z", "commit": {"oid": "bdd3317bdcdd8abb3f3d1d034eb2314993398518"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 955, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}