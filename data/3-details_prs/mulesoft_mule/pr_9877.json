{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MjI4NTk4", "number": 9877, "title": "MULE-19076: Log warning when remove variable component tries to remove a non existing variable", "bodyText": "", "createdAt": "2020-12-22T16:25:42Z", "url": "https://github.com/mulesoft/mule/pull/9877", "merged": true, "mergeCommit": {"oid": "a0b33123a65542b26b976f77faed2814b997cff4"}, "closed": true, "closedAt": "2021-01-13T19:06:28Z", "author": {"login": "mbuchwald"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdot1X_AFqTU1NzIzNDEwNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABds2KPrAFqTU2MTAyMDE2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MjM0MTA0", "url": "https://github.com/mulesoft/mule/pull/9877#pullrequestreview-557234104", "createdAt": "2020-12-22T17:12:10Z", "commit": {"oid": "0562689e0f686023cfa7ad399773dc7a673038b1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNzoxMjoxMFrOIKCc-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNzoxMjo1NlrOIKCedA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5Njg1Ng==", "bodyText": "You might want to check the expression  -> Check the 'variableName' parameter", "url": "https://github.com/mulesoft/mule/pull/9877#discussion_r547396856", "createdAt": "2020-12-22T17:12:10Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/processor/simple/RemoveFlowVariableProcessor.java", "diffHunk": "@@ -22,7 +25,13 @@\n \n   @Override\n   protected PrivilegedEvent removeProperty(PrivilegedEvent event, String propertyName) {\n-    return PrivilegedEvent.builder(event).removeVariable(propertyName).build();\n+    if (event.getVariables().containsKey(propertyName)) {\n+      return PrivilegedEvent.builder(event).removeVariable(propertyName).build();\n+    } else {\n+      LOGGER.warn(\"There is no variable named '%s'. You might want to check the expression in remove-variable component in: %s\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0562689e0f686023cfa7ad399773dc7a673038b1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5NzAzMA==", "bodyText": "remove-variable  -> the 'remove-variable'", "url": "https://github.com/mulesoft/mule/pull/9877#discussion_r547397030", "createdAt": "2020-12-22T17:12:30Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/processor/simple/RemoveFlowVariableProcessor.java", "diffHunk": "@@ -22,7 +25,13 @@\n \n   @Override\n   protected PrivilegedEvent removeProperty(PrivilegedEvent event, String propertyName) {\n-    return PrivilegedEvent.builder(event).removeVariable(propertyName).build();\n+    if (event.getVariables().containsKey(propertyName)) {\n+      return PrivilegedEvent.builder(event).removeVariable(propertyName).build();\n+    } else {\n+      LOGGER.warn(\"There is no variable named '%s'. You might want to check the expression in remove-variable component in: %s\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0562689e0f686023cfa7ad399773dc7a673038b1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5NzEyMw==", "bodyText": "in: -> at", "url": "https://github.com/mulesoft/mule/pull/9877#discussion_r547397123", "createdAt": "2020-12-22T17:12:43Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/processor/simple/RemoveFlowVariableProcessor.java", "diffHunk": "@@ -22,7 +25,13 @@\n \n   @Override\n   protected PrivilegedEvent removeProperty(PrivilegedEvent event, String propertyName) {\n-    return PrivilegedEvent.builder(event).removeVariable(propertyName).build();\n+    if (event.getVariables().containsKey(propertyName)) {\n+      return PrivilegedEvent.builder(event).removeVariable(propertyName).build();\n+    } else {\n+      LOGGER.warn(\"There is no variable named '%s'. You might want to check the expression in remove-variable component in: %s\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0562689e0f686023cfa7ad399773dc7a673038b1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5NzIzNg==", "bodyText": "static import", "url": "https://github.com/mulesoft/mule/pull/9877#discussion_r547397236", "createdAt": "2020-12-22T17:12:56Z", "author": {"login": "elrodro83"}, "path": "core/src/main/java/org/mule/runtime/core/internal/processor/simple/RemoveFlowVariableProcessor.java", "diffHunk": "@@ -8,12 +8,15 @@\n \n import org.mule.runtime.core.privileged.event.PrivilegedEvent;\n import org.mule.runtime.core.privileged.processor.simple.AbstractRemoveVariablePropertyProcessor;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n import java.util.Set;\n \n public class RemoveFlowVariableProcessor extends AbstractRemoveVariablePropertyProcessor {\n \n   private static final String FLOW_VAR_NAME = \"flow variables\";\n+  private static final Logger LOGGER = LoggerFactory.getLogger(RemoveFlowVariableProcessor.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0562689e0f686023cfa7ad399773dc7a673038b1"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5755c9078e05263ed67cab1a05641993c58abad", "author": {"user": {"login": "mbuchwald", "name": "Mart\u00edn Buchwald"}}, "url": "https://github.com/mulesoft/mule/commit/b5755c9078e05263ed67cab1a05641993c58abad", "committedDate": "2020-12-22T17:28:07Z", "message": "Log warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1155ed798af1132d22b52bea8926bf94048a6cc", "author": {"user": {"login": "mbuchwald", "name": "Mart\u00edn Buchwald"}}, "url": "https://github.com/mulesoft/mule/commit/c1155ed798af1132d22b52bea8926bf94048a6cc", "committedDate": "2020-12-22T17:28:07Z", "message": "review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d40ec6fd254f0b52aa859a6a17545584282cb98c", "author": {"user": {"login": "mbuchwald", "name": "Mart\u00edn Buchwald"}}, "url": "https://github.com/mulesoft/mule/commit/d40ec6fd254f0b52aa859a6a17545584282cb98c", "committedDate": "2020-12-22T17:38:44Z", "message": "review"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6466ab69a6fde3654bcdd3f9c944cfe9e69c6834", "author": {"user": {"login": "mbuchwald", "name": "Mart\u00edn Buchwald"}}, "url": "https://github.com/mulesoft/mule/commit/6466ab69a6fde3654bcdd3f9c944cfe9e69c6834", "committedDate": "2020-12-22T17:23:52Z", "message": "review"}, "afterCommit": {"oid": "d40ec6fd254f0b52aa859a6a17545584282cb98c", "author": {"user": {"login": "mbuchwald", "name": "Mart\u00edn Buchwald"}}, "url": "https://github.com/mulesoft/mule/commit/d40ec6fd254f0b52aa859a6a17545584282cb98c", "committedDate": "2020-12-22T17:38:44Z", "message": "review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMDIwMTY5", "url": "https://github.com/mulesoft/mule/pull/9877#pullrequestreview-561020169", "createdAt": "2021-01-04T13:15:58Z", "commit": {"oid": "d40ec6fd254f0b52aa859a6a17545584282cb98c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1052, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}