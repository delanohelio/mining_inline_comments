{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MDY5Nzcy", "number": 8538, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODowOTo0NFrODVt9_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxOTowNToyMFrODVuqdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MDk5ODM4OnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/MetadataComponentModelValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODowOTo0NFrOFaGCHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODowOTo0NFrOFaGCHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjkwNjE0Mw==", "bodyText": "make this the very first condition so that mule startup doesn't go through unnecessary processing.", "url": "https://github.com/mulesoft/mule/pull/8538#discussion_r362906143", "createdAt": "2020-01-03T18:09:44Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/MetadataComponentModelValidator.java", "diffHunk": "@@ -144,14 +144,15 @@ private void validateResolversName(ComponentModel model, MetadataResolverFactory\n         });\n   }\n \n-  private void validateMetadataKeyId(ComponentModel model, MetadataResolverFactory resolverFactory,\n+  private void validateMetadataKeyId(ExtensionModel extensionModel, ComponentModel model, MetadataResolverFactory resolverFactory,\n                                      ProblemsReporter problemsReporter) {\n     final String modelTypeName = capitalize(getComponentModelTypeName(model));\n     Optional<MetadataKeyIdModelProperty> keyId = model.getModelProperty(MetadataKeyIdModelProperty.class);\n     if (keyId.isPresent()) {\n \n       if (resolverFactory.getOutputResolver() instanceof NullMetadataResolver\n-          && !thereIsAnInputTypeResolverDefined(getAllInputResolvers(model, resolverFactory))) {\n+          && !thereIsAnInputTypeResolverDefined(getAllInputResolvers(model, resolverFactory))\n+          && isCompileTime(extensionModel)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "262b0698b04b83431ec032a93d03335005ef4073"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTAwMDEyOnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/MetadataComponentModelValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODoxMDo0MFrOFaGDOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODoxMDo0MFrOFaGDOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjkwNjQyNA==", "bodyText": "this looks like something we would do (or we potentially are doing) in several places. Move this to org.mule.runtime.module.extension.api.util.MuleExtensionUtils and check for other places where this code is repeated.", "url": "https://github.com/mulesoft/mule/pull/8538#discussion_r362906424", "createdAt": "2020-01-03T18:10:40Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/validation/MetadataComponentModelValidator.java", "diffHunk": "@@ -350,4 +351,8 @@ private boolean shouldValidateComponentOutputMetadata(ConnectableComponentModel\n         .orElse(true);\n   }\n \n+  private boolean isCompileTime(ExtensionModel extensionModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "262b0698b04b83431ec032a93d03335005ef4073"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTExMjIwOnYy", "diffSide": "RIGHT", "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/util/MuleExtensionUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxOTowNToyMFrOFaHIlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxOTowNToyMFrOFaHIlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjkyNDE4Mw==", "bodyText": "add @since 4.3.0", "url": "https://github.com/mulesoft/mule/pull/8538#discussion_r362924183", "createdAt": "2020-01-03T19:05:20Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/util/MuleExtensionUtils.java", "diffHunk": "@@ -474,4 +475,14 @@ public static boolean isExpression(Object value) {\n     }\n   }\n \n+  /**\n+   * Indicates if the extension model is being built on compile time.\n+   *\n+   * @param extensionModel the extension model to check\n+   * @return a boolean indicating if the the extension model is being build on runtime or not", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf73bd0ab25de91179442a3eaeaebbe54b3d0cc3"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 105, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}