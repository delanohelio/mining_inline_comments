{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MTQ4NDMz", "number": 9333, "title": "MULE-18717: Cache MetadataType when declaring an Extension as part of\u2026", "bodyText": "\u2026 ExtensionModelLoader process", "createdAt": "2020-09-01T15:07:54Z", "url": "https://github.com/mulesoft/mule/pull/9333", "merged": true, "mergeCommit": {"oid": "e3ca54bcb316d5ff0000f782fdfc00c75c63532f"}, "closed": true, "closedAt": "2020-09-03T11:32:21Z", "author": {"login": "gsfernandes"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE2iRBAFqTQ4MDUzNjg0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFOyY9AFqTQ4MTc0MDc4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTM2ODQ3", "url": "https://github.com/mulesoft/mule/pull/9333#pullrequestreview-480536847", "createdAt": "2020-09-02T07:03:52Z", "commit": {"oid": "573ff352299640f8022c0d249006490ba3e71669"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzowMzo1MlrOHLfYZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzowMzo1MlrOHLfYZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMDUzNQ==", "bodyText": "static import", "url": "https://github.com/mulesoft/mule/pull/9333#discussion_r481810535", "createdAt": "2020-09-02T07:03:52Z", "author": {"login": "lucianoRM"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/java/type/runtime/ExtensionTypeWrapper.java", "diffHunk": "@@ -93,4 +101,35 @@ public String getVendor() {\n   public String getName() {\n     return extensionAnnotation.get().name();\n   }\n+\n+  private static class CachedClassTypeLoader implements ClassTypeLoader {\n+\n+    private ClassTypeLoader classTypeLoader;\n+\n+    private Map<Type, MetadataType> typeMetadataTypeMap = new HashMap<>();\n+    private Map<String, Optional<MetadataType>> typeIdentifierMetadataTypeMap = new HashMap<>();\n+\n+    public CachedClassTypeLoader(ClassTypeLoader classTypeLoader) {\n+      Objects.requireNonNull(classTypeLoader, \"classTypeLoader cannot be null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "573ff352299640f8022c0d249006490ba3e71669"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f607720ed167de509be003c36fb54ac6287d904", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/2f607720ed167de509be003c36fb54ac6287d904", "committedDate": "2020-09-02T16:43:14Z", "message": "MULE-18717: Cache MetadataType when declaring an Extension as part of ExtensionModelLoader process"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d805fe382840ec852b54cd3a9bb7a1df7f21c29c", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/d805fe382840ec852b54cd3a9bb7a1df7f21c29c", "committedDate": "2020-09-02T18:59:46Z", "message": "PR feedback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "573ff352299640f8022c0d249006490ba3e71669", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/573ff352299640f8022c0d249006490ba3e71669", "committedDate": "2020-09-01T15:06:27Z", "message": "MULE-18717: Cache MetadataType when declaring an Extension as part of ExtensionModelLoader process"}, "afterCommit": {"oid": "d805fe382840ec852b54cd3a9bb7a1df7f21c29c", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/d805fe382840ec852b54cd3a9bb7a1df7f21c29c", "committedDate": "2020-09-02T18:59:46Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjY1OTA1", "url": "https://github.com/mulesoft/mule/pull/9333#pullrequestreview-481265905", "createdAt": "2020-09-02T20:14:57Z", "commit": {"oid": "d805fe382840ec852b54cd3a9bb7a1df7f21c29c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjczMjc0", "url": "https://github.com/mulesoft/mule/pull/9333#pullrequestreview-481273274", "createdAt": "2020-09-02T20:26:11Z", "commit": {"oid": "d805fe382840ec852b54cd3a9bb7a1df7f21c29c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoyNjoxMVrOHMEVIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoyNjoxMVrOHMEVIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQxNTkwNQ==", "bodyText": "use a weakhashmap", "url": "https://github.com/mulesoft/mule/pull/9333#discussion_r482415905", "createdAt": "2020-09-02T20:26:11Z", "author": {"login": "marianogonzalez"}, "path": "modules/extensions-support/src/main/java/org/mule/runtime/module/extension/internal/loader/java/type/runtime/ExtensionTypeWrapper.java", "diffHunk": "@@ -93,4 +101,35 @@ public String getVendor() {\n   public String getName() {\n     return extensionAnnotation.get().name();\n   }\n+\n+  private static class CachedClassTypeLoader implements ClassTypeLoader {\n+\n+    private ClassTypeLoader classTypeLoader;\n+\n+    private Map<Type, MetadataType> typeMetadataTypeMap = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d805fe382840ec852b54cd3a9bb7a1df7f21c29c"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77ea18192359a0431c2bedac3a09cbb3a2c912d6", "author": {"user": {"login": "gsfernandes", "name": "Guillermo Fernandes"}}, "url": "https://github.com/mulesoft/mule/commit/77ea18192359a0431c2bedac3a09cbb3a2c912d6", "committedDate": "2020-09-02T21:00:54Z", "message": "PR feedback, weak hash map"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzE3NDAz", "url": "https://github.com/mulesoft/mule/pull/9333#pullrequestreview-481317403", "createdAt": "2020-09-02T21:34:40Z", "commit": {"oid": "77ea18192359a0431c2bedac3a09cbb3a2c912d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNzQwNzg2", "url": "https://github.com/mulesoft/mule/pull/9333#pullrequestreview-481740786", "createdAt": "2020-09-03T11:20:34Z", "commit": {"oid": "77ea18192359a0431c2bedac3a09cbb3a2c912d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1257, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}