{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5ODI2NjMz", "number": 8784, "title": "MULE-18205: Review performance overhead of", "bodyText": "FlowProcessMediator#policySuccessError", "createdAt": "2020-04-06T18:29:05Z", "url": "https://github.com/mulesoft/mule/pull/8784", "merged": true, "mergeCommit": {"oid": "97ba6f780388ee31a43b17c0cc2552b4cbf85334"}, "closed": true, "closedAt": "2020-04-07T15:46:51Z", "author": {"login": "elrodro83"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVC_PvgH2gAyMzk5ODI2NjMzOjc1MzU5ODQ3YmYyNjJmMjNiM2FiZmExYWI3ZjUzYWQyN2U4ODQ5MGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVUuQXgFqTM4OTIxMTkyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75359847bf262f23b3abfa1ab7f53ad27e88490b", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/75359847bf262f23b3abfa1ab7f53ad27e88490b", "committedDate": "2020-04-06T18:27:23Z", "message": "MULE-18205: Review performance overhead of\nFlowProcessMediator#policySuccessError"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTIyNzQx", "url": "https://github.com/mulesoft/mule/pull/8784#pullrequestreview-388522741", "createdAt": "2020-04-06T18:45:42Z", "commit": {"oid": "75359847bf262f23b3abfa1ab7f53ad27e88490b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo0NTo0M1rOGBlLXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo0NzozNFrOGBlPlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxMDg3Nw==", "bodyText": "I would remove the Phase thing from this name. The Phase concept is genetic garbage inherited from 3.x... I wouldn't bubble that up all the way here", "url": "https://github.com/mulesoft/mule/pull/8784#discussion_r404310877", "createdAt": "2020-04-06T18:45:43Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/message/InternalEvent.java", "diffHunk": "@@ -45,6 +45,21 @@\n   @Deprecated\n   <T> T getInternalParameter(String key);\n \n+  /**\n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @since 4.4, 4.3.1\n+   */\n+  public EventInternalContext getFlowProcessMediatorPhaseContext();\n+\n+  /**\n+   * Sets context related to the source-flow dispatch\n+   * \n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @param context an {@link EventInternalContext}\n+   * @since 4.4, 4.3.1\n+   */\n+  public void setFlowProcessMediatorPhaseContext(EventInternalContext flowProcessMediatorPhaseContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75359847bf262f23b3abfa1ab7f53ad27e88490b"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxMTk1OA==", "bodyText": "At a quick glance, all other implementations of EventInternalContext are named explicitly when used in method signatures such as this. Although I see why you want to keep this so abstract, this API is telling people that ANY implementation is valid when it's not the case. I think that we should promote PhaseContext to a first class citizen like OperationPolicyContext and rename it to something better while at it (this comment also implies the getter method above and other variable names)", "url": "https://github.com/mulesoft/mule/pull/8784#discussion_r404311958", "createdAt": "2020-04-06T18:47:34Z", "author": {"login": "marianogonzalez"}, "path": "core/src/main/java/org/mule/runtime/core/internal/message/InternalEvent.java", "diffHunk": "@@ -45,6 +45,21 @@\n   @Deprecated\n   <T> T getInternalParameter(String key);\n \n+  /**\n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @since 4.4, 4.3.1\n+   */\n+  public EventInternalContext getFlowProcessMediatorPhaseContext();\n+\n+  /**\n+   * Sets context related to the source-flow dispatch\n+   * \n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @param context an {@link EventInternalContext}\n+   * @since 4.4, 4.3.1\n+   */\n+  public void setFlowProcessMediatorPhaseContext(EventInternalContext flowProcessMediatorPhaseContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75359847bf262f23b3abfa1ab7f53ad27e88490b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf2ae88540b689b1b7c7c57713399a8d4c026b10", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/cf2ae88540b689b1b7c7c57713399a8d4c026b10", "committedDate": "2020-04-06T20:28:14Z", "message": "review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00a5308e4a69975d108afbf5ff7731d36e4e0ad0", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/00a5308e4a69975d108afbf5ff7731d36e4e0ad0", "committedDate": "2020-04-06T21:33:35Z", "message": "review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f431ebbed10ac4c4c0b3a449c3d06001f912a90", "author": {"user": {"login": "elrodro83", "name": "Rodrigo Merino"}}, "url": "https://github.com/mulesoft/mule/commit/4f431ebbed10ac4c4c0b3a449c3d06001f912a90", "committedDate": "2020-04-07T14:20:07Z", "message": "sonar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MjExOTI3", "url": "https://github.com/mulesoft/mule/pull/8784#pullrequestreview-389211927", "createdAt": "2020-04-07T15:07:07Z", "commit": {"oid": "4f431ebbed10ac4c4c0b3a449c3d06001f912a90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 786, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}