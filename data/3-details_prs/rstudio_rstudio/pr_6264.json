{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MzUyMjcx", "number": 6264, "title": "overhaul display of Tutorial pane tutorials", "bodyText": "This PR overhauls the display for RStudio Tutorials. In particular:\n\n\nWe no longer show the internal tutorial name, nor the name of the package providing the tutorial. I couldn't figure out a nice way to display this information together without looking too cluttered.\n\n\nWe now display a Start Tutorial button, used to launch the related tutorial.\n\n\nWe display help links at the bottom of the Tutorial list.\n\n\nScreenshots:", "createdAt": "2020-02-19T19:29:52Z", "url": "https://github.com/rstudio/rstudio/pull/6264", "merged": true, "mergeCommit": {"oid": "762fb8af3d8c684c07bd1c03313feebde093c851"}, "closed": true, "closedAt": "2020-02-19T23:59:15Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcF7qKGgH2gAyMzc3MzUyMjcxOjhiY2Y5ODg3YmQ3ZTVmZDYxYjUxZTU4YWRjZGE2ZmNjNmU5N2Q1YzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcF_ea6gH2gAyMzc3MzUyMjcxOmY4MmE4ZjRiYmY0NmYwNWZmZTA3N2JlMWJiMjRiYzkwZTJiOTMwNTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8bcf9887bd7e5fd61b51e58adcda6fcc6e97d5c3", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/8bcf9887bd7e5fd61b51e58adcda6fcc6e97d5c3", "committedDate": "2020-02-19T19:26:09Z", "message": "overhaul display of Tutorial pane tutorials"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNDU1NTY1", "url": "https://github.com/rstudio/rstudio/pull/6264#pullrequestreview-361455565", "createdAt": "2020-02-19T21:37:11Z", "commit": {"oid": "8bcf9887bd7e5fd61b51e58adcda6fcc6e97d5c3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMTozNzoxMVrOFr4hSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMTozNzoxMVrOFr4hSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU1OTExNQ==", "bodyText": "The examples make me wonder if we should interpret Markdown here. We already build and include a self-contained Markdown parser (sundown, see R Presentations for use) so might be very straightforward to integrate. What do you think?", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381559115", "createdAt": "2020-02-19T21:37:11Z", "author": {"login": "jmcphers"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -267,10 +245,12 @@ void handleTutorialHomeRequest(const http::Request& request,\n                << tutorial.description", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcf9887bd7e5fd61b51e58adcda6fcc6e97d5c3"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5f9f52db3df87e93e3f77758b0b0cc0ec7ad33a", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/b5f9f52db3df87e93e3f77758b0b0cc0ec7ad33a", "committedDate": "2020-02-19T21:56:57Z", "message": "render markdown included in tutorial description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/127577bff3a2af114ac916ac1a73d44b0bded2fb", "committedDate": "2020-02-19T21:59:18Z", "message": "slightly more compact display"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNDc0NTA4", "url": "https://github.com/rstudio/rstudio/pull/6264#pullrequestreview-361474508", "createdAt": "2020-02-19T22:08:15Z", "commit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjowODoxNVrOFr5boQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNzoxMVrOFr6POw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU3NDA0OQ==", "bodyText": "Instead of a div use <main class=\"rstudio-tutorials-container\">. This is more semantically correct and provides more context on the page layout to a screen reader user.\nIf main causes styling issues, could instead add role=\"main\" to the div and achieve the same result.", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381574049", "createdAt": "2020-02-19T22:08:15Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/resources/tutorial_resources/index.html", "diffHunk": "@@ -7,9 +7,23 @@\n    </head>\n \n    <body class=\"rstudio-tutorials\" style=\"visibility: hidden;\">\n+\n       <div class=\"rstudio-tutorials-container\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU3NTM3OQ==", "bodyText": "The icon doesn't add any useful information to a screen reader user, so just use an empty alt to mark it as purely a decorative element that a screen-reader can ignore.\n<img class=\"rstudio-tutorials-logo\" alt src=\"./rstudio-logo.png\">", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381575379", "createdAt": "2020-02-19T22:11:10Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/resources/tutorial_resources/index.html", "diffHunk": "@@ -7,9 +7,23 @@\n    </head>\n \n    <body class=\"rstudio-tutorials\" style=\"visibility: hidden;\">\n+\n       <div class=\"rstudio-tutorials-container\">\n          #!tutorials#\n       </div>\n+\n+      <div class=\"rstudio-tutorials-footer\">\n+\n+         <img class=\"rstudio-tutorials-logo\" alt=\"RStudio Icon\" src=\"./rstudio-logo.png\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU3NjgxMw==", "bodyText": "Instead of a div use <footer>. Same reasons as for using main.\nAlternatively can add role=\"contentinfo\" to the div to achieve the same result.", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381576813", "createdAt": "2020-02-19T22:14:14Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/resources/tutorial_resources/index.html", "diffHunk": "@@ -7,9 +7,23 @@\n    </head>\n \n    <body class=\"rstudio-tutorials\" style=\"visibility: hidden;\">\n+\n       <div class=\"rstudio-tutorials-container\">\n          #!tutorials#\n       </div>\n+\n+      <div class=\"rstudio-tutorials-footer\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NDYwNQ==", "bodyText": "The heading of each tutorial should actually be an HTML heading, probably <h2>. Don't want to use <h1> because there should generally only be a single <h1> in a given page/iframe. In this case we have no h1 but that's life in the big city.\nReason to use actual heading is that screen readers can then present a list of the tutorials for easier browsing and navigation. Otherwise it's just a big text document with no structure.\nInstead of using actual <h2> can markup the existing span like this:\n<span role=\"heading\" aria-level=\"2\" class=\"rstudio-tutorials-label\">", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381584605", "createdAt": "2020-02-19T22:31:16Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -249,8 +225,11 @@ void handleTutorialHomeRequest(const http::Request& request,\n             << htmlEscape(tutorial.title)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NzI1OQ==", "bodyText": "The purpose of the button is obvious to a sighted user, but to a screen-reader user the buttons look like a list of identical buttons with no context. Example below from VoiceOver.\nTo fix this, add an aria-label=\"foo\" to each button where \"foo\" is something like \"Start Data Basics Tutorial\". This will be read by screen readers, but visual users will just see the existing label.", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381587259", "createdAt": "2020-02-19T22:37:11Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -249,8 +225,11 @@ void handleTutorialHomeRequest(const http::Request& request,\n             << htmlEscape(tutorial.title)\n             << \"</span>\";\n          \n-         ss << \"<span class=\\\"rstudio-tutorials-name\\\">\"\n-            << htmlFormatTutorialName(pkgName, tutorial)\n+         ss << \"<span class=\\\"rstudio-tutorials-run-container\\\">\"\n+            << \"<button class=\\\"rstudio-tutorials-run-button\\\" onclick=\\\"window.parent.tutorialRun('\" << htmlEscape(tutorial.name) << \"', '\" << htmlEscape(pkgName) << \"')\\\">\"\n+            << \"<span class=\\\"rstudio-tutorials-run-button-label\\\">Start Tutorial</span>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08a382993935193a9cb1e939544a5a6c35d5767b", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/08a382993935193a9cb1e939544a5a6c35d5767b", "committedDate": "2020-02-19T23:05:04Z", "message": "further refine styles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c342e49956400f68374e4fbfab007f9d93441d0c", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/c342e49956400f68374e4fbfab007f9d93441d0c", "committedDate": "2020-02-19T23:21:55Z", "message": "accessibility feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73d95188ce799461a8a86de29799b65ee67ed96e", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/73d95188ce799461a8a86de29799b65ee67ed96e", "committedDate": "2020-02-19T23:23:20Z", "message": "missed alt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7991bbbc8ecde17d41869b2ae6a04430ffd137b9", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/7991bbbc8ecde17d41869b2ae6a04430ffd137b9", "committedDate": "2020-02-19T23:45:10Z", "message": "disallow selection of button text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5f4d7fb044151b9a153b35691fe829baee1a1fb", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/e5f4d7fb044151b9a153b35691fe829baee1a1fb", "committedDate": "2020-02-19T23:47:01Z", "message": "implement missing zoom handler for Tutorial"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNTIyMTUx", "url": "https://github.com/rstudio/rstudio/pull/6264#pullrequestreview-361522151", "createdAt": "2020-02-19T23:49:19Z", "commit": {"oid": "e5f4d7fb044151b9a153b35691fe829baee1a1fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f82a8f4bbf46f05ffe077be1bb24bc90e2b93050", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/f82a8f4bbf46f05ffe077be1bb24bc90e2b93050", "committedDate": "2020-02-19T23:52:57Z", "message": "add missing tutorial activate command"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 391, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}