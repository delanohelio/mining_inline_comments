{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5ODc0NTQy", "number": 6599, "title": "Restore project if it starts successfully", "bodyText": "Today, if an R session crashes, the next session that starts will be in the empty project. This is an intentional safety feature that allows users to escape a crash loop: if the contents of a directory cause RStudio to crash when started there, there would be no escape if we kept restarting RStudio in that directory.\nHowever, most crashes are not startup crashes, and so this behavior is usually unwanted. In some configurations it can also lead to data loss because of source database detachment.\nThis change allows the R session to keep starting in the same directory even after a crash, presuming that the session was alive for a suitable period of time after startup. It does this by writing the last-project-path setting (formerly written only on a clean quit).\nFixes #3220.", "createdAt": "2020-04-06T20:01:44Z", "url": "https://github.com/rstudio/rstudio/pull/6599", "merged": true, "mergeCommit": {"oid": "5fdd24d84c1247f1978395891d5db33664374e98"}, "closed": true, "closedAt": "2020-04-06T22:45:35Z", "author": {"login": "jmcphers"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVGWLmgFqTM4ODY1OTUxNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVGqsGgBqjMyMDc1MDI2MzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NjU5NTE0", "url": "https://github.com/rstudio/rstudio/pull/6599#pullrequestreview-388659514", "createdAt": "2020-04-06T22:21:35Z", "commit": {"oid": "aaa5f24d3084dabf74a7be0ee9a5d3c864046344"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQyMjoyMTozNlrOGBsEqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQyMjoyMTozNlrOGBsEqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQyMzg0OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"description\": \"The number of seconds after which a project is deemed to have sucessfully started.\"\n          \n          \n            \n                        \"description\": \"The number of seconds after which a project is deemed to have successfully started.\"", "url": "https://github.com/rstudio/rstudio/pull/6599#discussion_r404423849", "createdAt": "2020-04-06T22:21:36Z", "author": {"login": "kevinushey"}, "path": "src/cpp/session/resources/schema/user-prefs-schema.json", "diffHunk": "@@ -905,6 +905,11 @@\n             \"default\": true,\n             \"description\": \"Whether to restore the last project when starting RStudio.\"\n         },\n+        \"project_safe_startup_seconds\": {\n+            \"type\": \"integer\",\n+            \"default\": 30,\n+            \"description\": \"The number of seconds after which a project is deemed to have sucessfully started.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aaa5f24d3084dabf74a7be0ee9a5d3c864046344"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76758995bee6043acbbc6c52afff2c10d245ed08", "author": {"user": {"login": "jmcphers", "name": "Jonathan"}}, "url": "https://github.com/rstudio/rstudio/commit/76758995bee6043acbbc6c52afff2c10d245ed08", "committedDate": "2020-04-06T22:44:19Z", "message": "restore project if it starts successfully\n\nUpdate src/cpp/session/resources/schema/user-prefs-schema.json\n\nCo-Authored-By: Kevin Ushey <kevin@rstudio.com>\n\nfix spelling in comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f46dba9741dd23b8d4d6e9e9b4706245cf75480b", "author": {"user": {"login": "jmcphers", "name": "Jonathan"}}, "url": "https://github.com/rstudio/rstudio/commit/f46dba9741dd23b8d4d6e9e9b4706245cf75480b", "committedDate": "2020-04-06T22:42:10Z", "message": "fix spelling in comments"}, "afterCommit": {"oid": "76758995bee6043acbbc6c52afff2c10d245ed08", "author": {"user": {"login": "jmcphers", "name": "Jonathan"}}, "url": "https://github.com/rstudio/rstudio/commit/76758995bee6043acbbc6c52afff2c10d245ed08", "committedDate": "2020-04-06T22:44:19Z", "message": "restore project if it starts successfully\n\nUpdate src/cpp/session/resources/schema/user-prefs-schema.json\n\nCo-Authored-By: Kevin Ushey <kevin@rstudio.com>\n\nfix spelling in comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 323, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}