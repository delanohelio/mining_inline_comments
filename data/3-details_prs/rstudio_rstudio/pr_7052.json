{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4ODU2Njg2", "number": 7052, "title": "move console-related preferences to their own pane", "bodyText": "Fixes #7047\nIncluded the sources for the new icons in GIMP format (GNU Image Manipulation Program)\nPut back spacing in Code / Display panel previously removed due to crowding", "createdAt": "2020-06-05T23:53:28Z", "url": "https://github.com/rstudio/rstudio/pull/7052", "merged": true, "mergeCommit": {"oid": "762c1e40060aab16670ddccecca52414b0e2e5aa"}, "closed": true, "closedAt": "2020-06-06T17:14:30Z", "author": {"login": "gtritchie"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcobj4ggH2gAyNDI4ODU2Njg2OmJhOTBkNTRmYTVmOWZmMWQwMTAzN2Y3MDcyYjMwZDNlMmQzM2QwY2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoqcdWgH2gAyNDI4ODU2Njg2Ojk5NmU4ZTFjYzk1MjIzYjVlNzg1YjgwZjc3MTcxZDlhN2E1ZTMwMmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba90d54fa5f9ff1d01037f7072b30d3e2d33d0cb", "author": {"user": {"login": "gtritchie", "name": "Gary"}}, "url": "https://github.com/rstudio/rstudio/commit/ba90d54fa5f9ff1d01037f7072b30d3e2d33d0cb", "committedDate": "2020-06-05T23:49:41Z", "message": "move console-related preferences to their own pane\n\n- Fixes #7047\n- Included the sources for the new icons in GIMP format (GNU Image Manipulation Program)\n- Put back spacing in Code / Display panel previously removed due to crowding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "941aba7beee8a016d236c569b6c1437bdc980d0d", "author": {"user": {"login": "gtritchie", "name": "Gary"}}, "url": "https://github.com/rstudio/rstudio/commit/941aba7beee8a016d236c569b6c1437bdc980d0d", "committedDate": "2020-06-05T23:55:14Z", "message": "update NEWS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1Njg1MDU3", "url": "https://github.com/rstudio/rstudio/pull/7052#pullrequestreview-425685057", "createdAt": "2020-06-06T00:02:45Z", "commit": {"oid": "941aba7beee8a016d236c569b6c1437bdc980d0d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQwMDowMjo0NVrOGgAO-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQwMDowMjo0NVrOGgAO-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjIxMTQ1MQ==", "bodyText": "Since you're touching this code anyway, you can get rid of this check (and as much of the underlying machinery as you feel like). We no longer support any R versions that don't have source references.", "url": "https://github.com/rstudio/rstudio/pull/7052#discussion_r436211451", "createdAt": "2020-06-06T00:02:45Z", "author": {"login": "jmcphers"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/prefs/views/ConsolePreferencesPane.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/*\n+ * ConsolePreferencesPane.java\n+ *\n+ * Copyright (C) 2020 by RStudio, PBC\n+ *\n+ * Unless you have received this program directly from RStudio pursuant\n+ * to the terms of a commercial license agreement with RStudio, then\n+ * this program is licensed to you under the terms of version 3 of the\n+ * GNU Affero General Public License. This program is distributed WITHOUT\n+ * ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING THOSE OF NON-INFRINGEMENT,\n+ * MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Please refer to the\n+ * AGPL (http://www.gnu.org/licenses/agpl-3.0.txt) for more details.\n+ *\n+ */\n+package org.rstudio.studio.client.workbench.prefs.views;\n+\n+import com.google.gwt.resources.client.ImageResource;\n+import com.google.gwt.user.client.ui.Label;\n+import com.google.inject.Inject;\n+import org.rstudio.core.client.prefs.RestartRequirement;\n+import org.rstudio.core.client.resources.ImageResource2x;\n+import org.rstudio.core.client.widget.NumericValueWidget;\n+import org.rstudio.core.client.widget.SelectWidget;\n+import org.rstudio.studio.client.application.Desktop;\n+import org.rstudio.studio.client.workbench.model.Session;\n+import org.rstudio.studio.client.workbench.prefs.model.UserPrefs;\n+\n+\n+public class ConsolePreferencesPane extends PreferencesPane\n+{\n+   @Inject\n+   public ConsolePreferencesPane(UserPrefs prefs,\n+                                 Session session,\n+                                 PreferencesDialogResources res)\n+   {\n+      prefs_ = prefs;\n+      res_ = res;\n+\n+      add(headerLabel(\"Display\"));\n+      add(checkboxPref(\"Show syntax highlighting in console input\", prefs_.syntaxColorConsole()));\n+      add(checkboxPref(\"Different color for error or message output (requires restart)\", prefs_.highlightConsoleErrors()));\n+      NumericValueWidget limitLengthPref =\n+         numericPref(\"Limit length of lines to:\", prefs_.consoleLineLengthLimit());\n+      add(nudgeRightPlus(limitLengthPref));\n+\n+      consoleColorMode_ = new SelectWidget(\n+         \"ANSI Escape Codes:\",\n+         new String[] {\n+            \"Show ANSI colors\",\n+            \"Remove ANSI codes\",\n+            \"Ignore ANSI codes (1.0 behavior)\"\n+         },\n+         new String[] {\n+            UserPrefs.ANSI_CONSOLE_MODE_ON,\n+            UserPrefs.ANSI_CONSOLE_MODE_STRIP,\n+            UserPrefs.ANSI_CONSOLE_MODE_OFF\n+         },\n+         false,\n+         true,\n+         false);\n+      add(consoleColorMode_);\n+\n+      // The error handler features require source references; if this R\n+      // version doesn't support them, don't show these options. \n+      if (session.getSessionInfo().getHaveSrcrefAttribute())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "941aba7beee8a016d236c569b6c1437bdc980d0d"}, "originalPosition": 65}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "996e8e1cc95223b5e785b80f77171d9a7a5e302e", "author": {"user": {"login": "gtritchie", "name": "Gary"}}, "url": "https://github.com/rstudio/rstudio/commit/996e8e1cc95223b5e785b80f77171d9a7a5e302e", "committedDate": "2020-06-06T17:10:09Z", "message": "eliminate handling of R versions without source references"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 177, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}