{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzODAyNDk5", "number": 7267, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMToxOFrOELIGcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMzo1NVrOELIIAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMTAyNTEzOnYy", "diffSide": "RIGHT", "path": "docker/jenkins/Dockerfile.windows", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMToxOFrOGskBYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMToxOFrOGskBYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM4MDcwNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              choco install -y ninja --verion \"Ninja 1.10.0\"\n          \n          \n            \n              choco install -y ninja --version \"Ninja 1.10.0\"", "url": "https://github.com/rstudio/rstudio/pull/7267#discussion_r449380704", "createdAt": "2020-07-03T05:21:18Z", "author": {"login": "kevinushey"}, "path": "docker/jenkins/Dockerfile.windows", "diffHunk": "@@ -22,11 +22,12 @@ RUN choco install -y cmake --installargs 'ADD_CMAKE_TO_PATH=\"\"System\"\"' --fail-o\n   choco install -y -i ant; `\n   choco install -y windows-sdk-10.1 --version 10.1.17134.12; `\n   choco install -y 7zip; `\n-  choco install -y nsis\n-  \n+  choco install -y nsis; `\n+  choco install -y ninja --verion \"Ninja 1.10.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8feca9b4f9af546332af1a69ab1f2339d561925"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMTAyODI5OnYy", "diffSide": "RIGHT", "path": "package/win32/make-install-win32.bat", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMzowOVrOGskDNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMzowOVrOGskDNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM4MTE3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            cmake --build . %MAKEFLAGS% --config %CMAKE_BUILD_TYPE% --target install || goto :error\n          \n          \n            \n            cmake --build . --config %CMAKE_BUILD_TYPE% --target install -- %MAKEFLAGS% || goto :error\n          \n      \n    \n    \n  \n\nIIRC, CMake usually expects flags that will be passed to the underlying build tool at the end, following --.", "url": "https://github.com/rstudio/rstudio/pull/7267#discussion_r449381172", "createdAt": "2020-07-03T05:23:09Z", "author": {"login": "kevinushey"}, "path": "package/win32/make-install-win32.bat", "diffHunk": "@@ -18,14 +18,17 @@ cd %WIN32_BUILD_PATH%\n if exist CMakeCache.txt del CMakeCache.txt\n \n REM Build the project\n-cmake -G\"Visual Studio 15 2017\" ^\n-      -T host=x86 ^\n+call \"%ProgramFiles(x86)%\\Microsoft Visual Studio\\2017\\BuildTools\\Common7\\Tools\\VsDevCmd.bat\" -clean_env -no_logo || goto :error\n+call \"%ProgramFiles(x86)%\\Microsoft Visual Studio\\2017\\BuildTools\\Common7\\Tools\\VsDevCmd.bat\" -arch=x86 -startdir=none -host_arch=x86 -winsdk=10.0.17134.0 -no_logo || goto :error\n+cmake -G \"Ninja\" ^\n       -DCMAKE_INSTALL_PREFIX:String=%INSTALL_PATH% ^\n       -DCMAKE_BUILD_TYPE=%CMAKE_BUILD_TYPE% ^\n       -DRSTUDIO_TARGET=SessionWin32 ^\n       -DRSTUDIO_PACKAGE_BUILD=1 ^\n+      -DCMAKE_C_COMPILER=cl.exe ^\n+      -DCMAKE_CXX_COMPILER=cl.exe ^\n       ..\\..\\.. || goto :error\n-cmake --build . --config %CMAKE_BUILD_TYPE% --target install || goto :error\n+cmake --build . %MAKEFLAGS% --config %CMAKE_BUILD_TYPE% --target install || goto :error", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8feca9b4f9af546332af1a69ab1f2339d561925"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMTAyOTE1OnYy", "diffSide": "RIGHT", "path": "package/win32/make-package.bat", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMzo1NVrOGskDwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNToyMzo1NVrOGskDwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM4MTMxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            cmake --build . %MAKEFLAGS% --config %CMAKE_BUILD_TYPE% || goto :error\n          \n          \n            \n            cmake --build . --config %CMAKE_BUILD_TYPE% -- %MAKEFLAGS% || goto :error", "url": "https://github.com/rstudio/rstudio/pull/7267#discussion_r449381314", "createdAt": "2020-07-03T05:23:55Z", "author": {"login": "kevinushey"}, "path": "package/win32/make-package.bat", "diffHunk": "@@ -39,21 +39,22 @@ if exist \"%BUILD_DIR%/_CPack_Packages\" rmdir /s /q \"%BUILD_DIR%\\_CPack_Packages\"\n \n REM Configure and build the project. (Note that Windows / MSVC builds require\n REM that we specify the build type both at configure time and at build time)\n-cmake -G\"Visual Studio 15 2017 Win64\" ^\n-      -T host=x64 ^\n+call \"%ProgramFiles(x86)%\\Microsoft Visual Studio\\2017\\BuildTools\\Common7\\Tools\\VsDevCmd.bat\" -clean_env -no_logo || goto :error\n+call \"%ProgramFiles(x86)%\\Microsoft Visual Studio\\2017\\BuildTools\\Common7\\Tools\\VsDevCmd.bat\" -arch=amd64 -startdir=none -host_arch=amd64 -winsdk=10.0.17134.0 -no_logo || goto :error\n+cmake -G \"Ninja\" ^\n       -DRSTUDIO_TARGET=Desktop ^\n       -DCMAKE_BUILD_TYPE=%CMAKE_BUILD_TYPE% ^\n       -DRSTUDIO_PACKAGE_BUILD=1 ^\n+      -DCMAKE_C_COMPILER=cl ^\n+      -DCMAKE_CXX_COMPILER=cl ^\n       ..\\..\\.. || goto :error\n-cmake --build . --config %CMAKE_BUILD_TYPE% || goto :error\n+cmake --build . %MAKEFLAGS% --config %CMAKE_BUILD_TYPE% || goto :error", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8feca9b4f9af546332af1a69ab1f2339d561925"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4299, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}