{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3Mzg2OTM5", "number": 6710, "title": "Fall back rstudio service installation path to /usr/lib/systemd", "bodyText": "Fall back on installing rstudio service scripts at /usr/lib/systemd if /lib/systemd does not exist.\nFixes rstudio/rstudio-pro#1612", "createdAt": "2020-04-22T16:04:43Z", "url": "https://github.com/rstudio/rstudio/pull/6710", "merged": true, "mergeCommit": {"oid": "233c583e5a0689c5ba885e9a409238a55a26ce8c"}, "closed": true, "closedAt": "2020-04-22T17:39:42Z", "author": {"login": "kfeinauer"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaKgH1gH2gAyNDA3Mzg2OTM5OjRlZDU3OTUyNDEzY2M2MTZkNzcwYWMyZGI0OGRmMGM3NTc3MWMyNWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaNePzgFqTM5ODUwOTA4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4ed57952413cc616d770ac2db48df0c75771c25a", "author": {"user": {"login": "kfeinauer", "name": "Karl Feinauer"}}, "url": "https://github.com/rstudio/rstudio/commit/4ed57952413cc616d770ac2db48df0c75771c25a", "committedDate": "2020-04-22T16:02:15Z", "message": "Fall back on installing rstudio service scripts at /usr/lib/systemd if /lib/systemd does not exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NDI1MzYy", "url": "https://github.com/rstudio/rstudio/pull/6710#pullrequestreview-398425362", "createdAt": "2020-04-22T17:38:43Z", "commit": {"oid": "4ed57952413cc616d770ac2db48df0c75771c25a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NTA4ODY5", "url": "https://github.com/rstudio/rstudio/pull/6710#pullrequestreview-398508869", "createdAt": "2020-04-22T19:29:37Z", "commit": {"oid": "4ed57952413cc616d770ac2db48df0c75771c25a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyOTozOFrOGKHZcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyOTozOFrOGKHZcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI2MDE0Nw==", "bodyText": "Shouldn't this be -e? (since -f tests for existence of 'regular' file)", "url": "https://github.com/rstudio/rstudio/pull/6710#discussion_r413260147", "createdAt": "2020-04-22T19:29:38Z", "author": {"login": "kevinushey"}, "path": "package/linux/debian-control/postinst.in", "diffHunk": "@@ -77,7 +77,16 @@ if test \"$INIT_SYSTEM\" = \"systemd\"\n then\n    systemctl stop rstudio-server.service 2>/dev/null\n    systemctl disable rstudio-server.service 2>/dev/null\n-   cp ${CMAKE_INSTALL_PREFIX}/extras/systemd/rstudio-server.service /lib/systemd/system/rstudio-server.service\n+  \n+   if test -f /lib/systemd", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ed57952413cc616d770ac2db48df0c75771c25a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NTA5MDgx", "url": "https://github.com/rstudio/rstudio/pull/6710#pullrequestreview-398509081", "createdAt": "2020-04-22T19:29:54Z", "commit": {"oid": "4ed57952413cc616d770ac2db48df0c75771c25a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyOTo1NFrOGKHaCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyOTo1NFrOGKHaCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI2MDI5Nw==", "bodyText": "Same here", "url": "https://github.com/rstudio/rstudio/pull/6710#discussion_r413260297", "createdAt": "2020-04-22T19:29:54Z", "author": {"login": "kevinushey"}, "path": "package/linux/rpm-script/postinst.sh.in", "diffHunk": "@@ -102,7 +102,16 @@ then\n    \n    systemctl stop rstudio-server.service 2>/dev/null\n    systemctl disable rstudio-server.service 2>/dev/null\n-   cp ${CMAKE_INSTALL_PREFIX}/extras/systemd/rstudio-server.redhat.service /lib/systemd/system/rstudio-server.service\n+\n+   if test -f /lib/systemd", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ed57952413cc616d770ac2db48df0c75771c25a"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 217, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}