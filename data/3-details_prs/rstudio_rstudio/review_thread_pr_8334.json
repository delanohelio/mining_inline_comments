{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4Njk5NzM5", "number": 8334, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTowNTozN1rOE3X1Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTowNTozN1rOE3X1Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NDk3NTc5OnYy", "diffSide": "RIGHT", "path": "src/gwt/panmirror/src/editor/src/optional/ace/ace.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTowNTozN1rOHwrjsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOToxMzowNVrOHwrzfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgwNzM0Ng==", "bodyText": "What happens if you initiate a click / mousedown within the visual editor surface, but then later mouseup somewhere else? Does this event handler still see the mouseup event?", "url": "https://github.com/rstudio/rstudio/pull/8334#discussion_r520807346", "createdAt": "2020-11-10T19:05:37Z", "author": {"login": "kevinushey"}, "path": "src/gwt/panmirror/src/editor/src/optional/ace/ace.ts", "diffHunk": "@@ -711,6 +716,15 @@ export class AceNodeView implements NodeView {\n         this.scrollRow = -1;\n       }),\n     );\n+\n+    // Keep track of mouse state so we can avoid e.g., autoscrolling while the\n+    // mouse is down\n+    this.dom.addEventListener(\"mousedown\", (evt) => {\n+      this.mouseDown = true;\n+    });\n+    this.dom.addEventListener(\"mouseup\", (evt) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55ab22cdf07860f8ebe838d5b9425fe5056cb263"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgxMTM4OQ==", "bodyText": "It's a weird thing to do (you'd be generating a selection with one foot in code and the other in prose), but it would indeed leave this flag stuck if you did. I'll add a mouseleave handler to guard against this.", "url": "https://github.com/rstudio/rstudio/pull/8334#discussion_r520811389", "createdAt": "2020-11-10T19:13:05Z", "author": {"login": "jmcphers"}, "path": "src/gwt/panmirror/src/editor/src/optional/ace/ace.ts", "diffHunk": "@@ -711,6 +716,15 @@ export class AceNodeView implements NodeView {\n         this.scrollRow = -1;\n       }),\n     );\n+\n+    // Keep track of mouse state so we can avoid e.g., autoscrolling while the\n+    // mouse is down\n+    this.dom.addEventListener(\"mousedown\", (evt) => {\n+      this.mouseDown = true;\n+    });\n+    this.dom.addEventListener(\"mouseup\", (evt) => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgwNzM0Ng=="}, "originalCommit": {"oid": "55ab22cdf07860f8ebe838d5b9425fe5056cb263"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4113, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}