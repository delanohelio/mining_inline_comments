{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NzkxOTI1", "number": 6733, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0MFrOD1_ISw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzowMzo0M1rOD1_OWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3OTM1NDM1OnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/core/client/theme/res/themeStyles.css", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0MFrOGLr8Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzo1MDowNFrOGLs52w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwNzQzNQ==", "bodyText": "Using !important is evil, but sadly often unavoidable.\nhttps://css-tricks.com/when-using-important-is-the-right-choice/", "url": "https://github.com/rstudio/rstudio/pull/6733#discussion_r414907435", "createdAt": "2020-04-24T22:57:40Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/core/client/theme/res/themeStyles.css", "diffHunk": "@@ -2591,12 +2591,12 @@ body.rstudio-themes-flat .rstudio-themes-dark-grey {\n \n .rstudio-themes-flat .rstudio-themes-dark-grey .gwt-TabLayoutPanelTabs table.rstheme_tabLayoutCenter,\n .rstudio-themes-flat .rstudio-themes-dark-grey .rstheme_minimizedWindowObject table.rstheme_tabLayoutCenter {\n-   background: THEME_DARKGREY_INACTIVE;\n+   background: THEME_DARKGREY_INACTIVE !important;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cef373b7b10f0aab64103078d10b20a3cf0523e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkyMzIyNw==", "bodyText": "Yes \ud83d\ude1e and I think in this particular case we're likely working around some erroneous handling of CSS rule specificity that only occurs in IE / \"old Edge\".", "url": "https://github.com/rstudio/rstudio/pull/6733#discussion_r414923227", "createdAt": "2020-04-24T23:50:04Z", "author": {"login": "kevinushey"}, "path": "src/gwt/src/org/rstudio/core/client/theme/res/themeStyles.css", "diffHunk": "@@ -2591,12 +2591,12 @@ body.rstudio-themes-flat .rstudio-themes-dark-grey {\n \n .rstudio-themes-flat .rstudio-themes-dark-grey .gwt-TabLayoutPanelTabs table.rstheme_tabLayoutCenter,\n .rstudio-themes-flat .rstudio-themes-dark-grey .rstheme_minimizedWindowObject table.rstheme_tabLayoutCenter {\n-   background: THEME_DARKGREY_INACTIVE;\n+   background: THEME_DARKGREY_INACTIVE !important;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwNzQzNQ=="}, "originalCommit": {"oid": "4cef373b7b10f0aab64103078d10b20a3cf0523e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3OTM2OTg2OnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/studio/client/common/shell/ShellWidget.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzowMzo0M1rOGLsEVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzozMDoxOFrOGLsj5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwOTUyNw==", "bodyText": "Should we skip doing this if scrollIntoViewPending_ is already true so there's no way for requests to stack up?", "url": "https://github.com/rstudio/rstudio/pull/6733#discussion_r414909527", "createdAt": "2020-04-24T23:03:43Z", "author": {"login": "jmcphers"}, "path": "src/gwt/src/org/rstudio/studio/client/common/shell/ShellWidget.java", "diffHunk": "@@ -433,7 +435,15 @@ public void consolePrompt(String prompt, boolean showInput)\n    @Override\n    public void ensureInputVisible()\n    {\n-      scrollIntoView();\n+      // NOTE: we don't scroll immediately as this is normally called\n+      // in response to mutations of the console input buffer, and so\n+      // we need to wait until Ace has finished rendering in response\n+      // to that change.\n+      scrollIntoViewPending_ = true;\n+      \n+      // In case there wasn't an Ace render in-flight, force a check\n+      // for pending scroll (which will then force the cursor into view)\n+      Scheduler.get().scheduleDeferred(() -> checkForPendingScroll());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cef373b7b10f0aab64103078d10b20a3cf0523e"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkxNzYwNQ==", "bodyText": "Good idea!", "url": "https://github.com/rstudio/rstudio/pull/6733#discussion_r414917605", "createdAt": "2020-04-24T23:30:18Z", "author": {"login": "kevinushey"}, "path": "src/gwt/src/org/rstudio/studio/client/common/shell/ShellWidget.java", "diffHunk": "@@ -433,7 +435,15 @@ public void consolePrompt(String prompt, boolean showInput)\n    @Override\n    public void ensureInputVisible()\n    {\n-      scrollIntoView();\n+      // NOTE: we don't scroll immediately as this is normally called\n+      // in response to mutations of the console input buffer, and so\n+      // we need to wait until Ace has finished rendering in response\n+      // to that change.\n+      scrollIntoViewPending_ = true;\n+      \n+      // In case there wasn't an Ace render in-flight, force a check\n+      // for pending scroll (which will then force the cursor into view)\n+      Scheduler.get().scheduleDeferred(() -> checkForPendingScroll());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwOTUyNw=="}, "originalCommit": {"oid": "4cef373b7b10f0aab64103078d10b20a3cf0523e"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3924, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}