{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5MTkyMzgz", "number": 7054, "title": "Correctly cancel the preview timer", "bodyText": "When the component unmounts, cancel the preview timer. This fixes:\n\nwhich is caused by the timer calling back when the component has been closed (reproduces by mousing over the grid, then closing the popup immediately).", "createdAt": "2020-06-06T13:07:33Z", "url": "https://github.com/rstudio/rstudio/pull/7054", "merged": true, "mergeCommit": {"oid": "c6a4e9f794b8ab2b0a5452327219db23dfd4fbb5"}, "closed": true, "closedAt": "2020-06-06T19:01:21Z", "author": {"login": "dragonstyle"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcom9FdAH2gAyNDI5MTkyMzgzOjk2MTkxN2U1MTAwYjNjNzhjZmEyMWJjZDJhNjJiOGRhNzhjOTU3ZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcorftEAFqTQyNTc1OTIwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "961917e5100b3c78cfa21bcd2a62b8da78c957d0", "author": {"user": {"login": "dragonstyle", "name": "Charles Teague"}}, "url": "https://github.com/rstudio/rstudio/commit/961917e5100b3c78cfa21bcd2a62b8da78c957d0", "committedDate": "2020-06-06T13:06:10Z", "message": "Correctly cancel the preview timer\n\nWhen the component unmounts, cancel the preview timer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzU5MjA4", "url": "https://github.com/rstudio/rstudio/pull/7054#pullrequestreview-425759208", "createdAt": "2020-06-06T18:23:36Z", "commit": {"oid": "961917e5100b3c78cfa21bcd2a62b8da78c957d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxODoyMzozNlrOGgFAmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxODoyMzozNlrOGgFAmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI4OTY4OA==", "bodyText": "Will this work correctly even if previewTimer.current is unset/null?", "url": "https://github.com/rstudio/rstudio/pull/7054#discussion_r436289688", "createdAt": "2020-06-06T18:23:36Z", "author": {"login": "jjallaire"}, "path": "src/gwt/panmirror/src/editor/src/behaviors/insert_symbol/insert_symbol-grid.tsx", "diffHunk": "@@ -116,6 +116,7 @@ const SymbolCharacterGrid = React.forwardRef<any, CharacterGridProps>((props, re\n       previewTimer.current = window.setTimeout(() => {\n         setShowPreview(true);\n       }, kWaitToShowPreviewMs);\n+      return () => { window.clearTimeout(previewTimer.current); };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "961917e5100b3c78cfa21bcd2a62b8da78c957d0"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 180, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}