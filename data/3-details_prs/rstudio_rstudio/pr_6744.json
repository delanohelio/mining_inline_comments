{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NjA5MjQx", "number": 6744, "title": "Use separate state files for desktop and server", "bodyText": "We currently store RStudio's per-user state in ~/.local/share/rstudio/rstudio-state.json. This means that both desktop and server share per-user state, which can cause conflicts when RStudio Desktop and RStudio Server are both used with the same account.\nThe fix is to store them in separate files in the same folder (rstudio-desktop.json and rstudio-server.json). This causes them to use different context IDs, which in turn gives them different source databases.\nFixes #6742.", "createdAt": "2020-04-27T16:28:20Z", "url": "https://github.com/rstudio/rstudio/pull/6744", "merged": true, "mergeCommit": {"oid": "a78f3fbd41739a1d62939d821c844fe1b4f18eaf"}, "closed": true, "closedAt": "2020-04-27T17:19:41Z", "author": {"login": "jmcphers"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbx07kAH2gAyNDA5NjA5MjQxOjFiMmZkOTBjMGU5ZTdhNjYwYzk0YTdlNDdmNWU2MGYyMGZiMDIyN2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb5y_HgFqTQwMTQ0MTE2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1b2fd90c0e9e7a660c94a7e47f5e60f20fb0227b", "author": {"user": {"login": "jmcphers", "name": "Jonathan"}}, "url": "https://github.com/rstudio/rstudio/commit/1b2fd90c0e9e7a660c94a7e47f5e60f20fb0227b", "committedDate": "2020-04-27T16:25:12Z", "message": "use separate state files for desktop/server"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMTI1NDM2", "url": "https://github.com/rstudio/rstudio/pull/6744#pullrequestreview-401125436", "createdAt": "2020-04-27T16:32:25Z", "commit": {"oid": "1b2fd90c0e9e7a660c94a7e47f5e60f20fb0227b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNDQxMTYw", "url": "https://github.com/rstudio/rstudio/pull/6744#pullrequestreview-401441160", "createdAt": "2020-04-28T01:42:18Z", "commit": {"oid": "1b2fd90c0e9e7a660c94a7e47f5e60f20fb0227b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwMTo0MjoxOFrOGM-1sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwMTo0MjoxOFrOGM-1sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI2NTY0OA==", "bodyText": "Does this change require a migration from existing users of v1.3 that already have rstudio-state.json ?", "url": "https://github.com/rstudio/rstudio/pull/6744#discussion_r416265648", "createdAt": "2020-04-28T01:42:18Z", "author": {"login": "jjallaire"}, "path": "src/cpp/session/include/session/prefs/UserState.hpp", "diffHunk": "@@ -16,7 +16,8 @@\n #ifndef SESSION_USER_STATE_HPP\n #define SESSION_USER_STATE_HPP\n \n-#define kUserStateFile \"rstudio-state.json\"\n+#define kUserStateFileDesktop \"rstudio-desktop.json\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b2fd90c0e9e7a660c94a7e47f5e60f20fb0227b"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 229, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}