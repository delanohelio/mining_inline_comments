{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MjYwNjgz", "number": 6571, "title": "force software rendering when using nouveau driver w/ older Qt", "bodyText": "Closes #3781.", "createdAt": "2020-04-01T22:20:56Z", "url": "https://github.com/rstudio/rstudio/pull/6571", "merged": true, "mergeCommit": {"oid": "c54da1da1730bca752189e19f8d4ad8dba4b937c"}, "closed": true, "closedAt": "2020-04-02T00:11:29Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTfU9yAH2gAyMzk3MjYwNjgzOjRkOGYxYjQ3ZGQ4NzZjMmZmNWJiMjYwMTc2MWZjZjUxMmZlZjE5YzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTg6Z-AFqTM4NjAzMTYxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4d8f1b47dd876c2ff5bb2601761fcf512fef19c3", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/4d8f1b47dd876c2ff5bb2601761fcf512fef19c3", "committedDate": "2020-04-01T22:20:36Z", "message": "force software rendering when using nouveau driver"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MDExOTg2", "url": "https://github.com/rstudio/rstudio/pull/6571#pullrequestreview-386011986", "createdAt": "2020-04-01T23:14:12Z", "commit": {"oid": "4d8f1b47dd876c2ff5bb2601761fcf512fef19c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMzoxNDoxMlrOF_V6cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMzoxNDoxMlrOF_V6cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk2MzYzNQ==", "bodyText": "Does inferDefaultRenderingEngine only get called on Linux?", "url": "https://github.com/rstudio/rstudio/pull/6571#discussion_r401963635", "createdAt": "2020-04-01T23:14:12Z", "author": {"login": "jmcphers"}, "path": "src/cpp/desktop/DesktopMain.cpp", "diffHunk": "@@ -376,6 +376,32 @@ QString inferDefaultRenderingEngine()\n \n QString inferDefaultRenderingEngine()\n {\n+   // disable opengl when using nouveau drivers, as a large number\n+   // of users have reported crashes when attempting to do so.\n+   //\n+   // NOTE: we'll currently assume this is fixed in the next Qt\n+   // update, so guard only for older Qt for now\n+   //\n+   // https://github.com/rstudio/rstudio/issues/3781\n+   // https://bugreports.qt.io/browse/QTBUG-73715\n+#if QT_VERSION < QT_VERSION_CHECK(5, 13, 0)\n+   core::system::ProcessResult result;\n+   Error error = core::system::runCommand(\n+            \"lspci -mkv | grep -q 'Driver:[[:space:]]*nouveau'\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d8f1b47dd876c2ff5bb2601761fcf512fef19c3"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c603206655c36e546ab360a628a429b0c34578c7", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/c603206655c36e546ab360a628a429b0c34578c7", "committedDate": "2020-04-01T23:21:37Z", "message": "clarify platform-specific code is platform-specific"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MDMxNjE1", "url": "https://github.com/rstudio/rstudio/pull/6571#pullrequestreview-386031615", "createdAt": "2020-04-02T00:11:24Z", "commit": {"oid": "c603206655c36e546ab360a628a429b0c34578c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 311, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}