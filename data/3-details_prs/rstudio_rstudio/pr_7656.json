{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMzYwNTA4", "number": 7656, "title": "allow for project-specific Python options", "bodyText": "Intent\nMake it possible to configure the version of Python used on a per-project basis, by storing the Python type, version, and path. While currently only the recorded Python path is used, in the future we may use the Python type + version to automatically provision Python environments matching those requirements if requested (e.g. for project portability).\nApproach\nImplement the associated pane for the project options dialog, refactoring the common UI code into a base class that can be used by both panes.\nCurrently, the project options are persisted as part of the .Rproj file -- we may want to consider if that's the right approach.\nQA Notes\n\nValidate that the \"global\" version of Python and \"project-specific\" version of Python can be changed independently;\nValidate that a project-specific version of Python will override the global default.\n\nCloses #7610.", "createdAt": "2020-08-25T17:43:55Z", "url": "https://github.com/rstudio/rstudio/pull/7656", "merged": true, "mergeCommit": {"oid": "ab8a2776d182e4d5879451ea83f7fad23864c09d"}, "closed": true, "closedAt": "2020-08-31T20:44:51Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCJZFtAH2gAyNDczMzYwNTA4OjU5ZDkyZDY3MzU2YmMwYTQxOTdjOWI0YTUxNjY5MzhhZjg5ZDE2YTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEZDOggH2gAyNDczMzYwNTA4OjdmM2M3NzAzYWMxMjBlZDYyZDNhMDUxNTM1NGY5NDRkYjk5YTAyZmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "59d92d67356bc0a4197c9b4a5166938af89d16a6", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/59d92d67356bc0a4197c9b4a5166938af89d16a6", "committedDate": "2020-08-24T21:21:38Z", "message": "store python type, version, path in prefs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f69faa187bec5d27d49c1ab8381238cafd637503", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/f69faa187bec5d27d49c1ab8381238cafd637503", "committedDate": "2020-08-24T21:28:21Z", "message": "update pref values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "478a913cb1dacdfb27db6968e9345bbee83b843a", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/478a913cb1dacdfb27db6968e9345bbee83b843a", "committedDate": "2020-08-24T21:29:45Z", "message": "rename a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d09228e40dbe4adc7f90b18e269579310f84404", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/1d09228e40dbe4adc7f90b18e269579310f84404", "committedDate": "2020-08-24T21:32:03Z", "message": "set python type, version, path in prefs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92f17371cc7a3028f843b2748d7d124668b004d9", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/92f17371cc7a3028f843b2748d7d124668b004d9", "committedDate": "2020-08-24T23:30:45Z", "message": "use common base for global, project Python prefs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5947a5b0eb98713dc2f2b0d008ecc247fdadef3e", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/5947a5b0eb98713dc2f2b0d008ecc247fdadef3e", "committedDate": "2020-08-24T23:43:48Z", "message": "refactor a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00d54c2920f47a182b339c2c10db0c3e457df11b", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/00d54c2920f47a182b339c2c10db0c3e457df11b", "committedDate": "2020-08-25T17:17:29Z", "message": "refactor a little"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67204437f5641a6f48602ca6319567660c88603d", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/67204437f5641a6f48602ca6319567660c88603d", "committedDate": "2020-08-25T17:39:22Z", "message": "update project file with Python prefs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2aaff6f332cbb0d442cb0455d837eecd9418139c", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/2aaff6f332cbb0d442cb0455d837eecd9418139c", "committedDate": "2020-08-25T18:36:01Z", "message": "guard against recursive calls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2e58187b5dc36463e47e767379e785cee71713c", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/b2e58187b5dc36463e47e767379e785cee71713c", "committedDate": "2020-08-25T18:49:46Z", "message": "allow 'enter' in input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36399dfdf1b1d0d1cca1bc6f92ed0a2e510e9410", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/36399dfdf1b1d0d1cca1bc6f92ed0a2e510e9410", "committedDate": "2020-08-25T19:16:34Z", "message": "unset pref values when unsetting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0OTAzMDMw", "url": "https://github.com/rstudio/rstudio/pull/7656#pullrequestreview-474903030", "createdAt": "2020-08-25T21:08:56Z", "commit": {"oid": "36399dfdf1b1d0d1cca1bc6f92ed0a2e510e9410"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQyMTowODo1NlrOHGpzag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQyMTowODo1NlrOHGpzag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjczODQxMA==", "bodyText": "The title is only used in the Command Palette, which doesn't show options w/o a Title -- so by convention options that can only be correctly manipulated by dedicated UI have no title. In this case I think we should remove the title so these options don't show up in the palette.", "url": "https://github.com/rstudio/rstudio/pull/7656#discussion_r476738410", "createdAt": "2020-08-25T21:08:56Z", "author": {"login": "jmcphers"}, "path": "src/cpp/session/resources/schema/user-prefs-schema.json", "diffHunk": "@@ -1395,11 +1395,23 @@\n                 \"Ubuntu Mono\"\n             ]\n         },\n-        \"python_default_interpreter\": {\n+        \"python_type\": {\n+            \"title\": \"Python Type\",\n+            \"description\": \"The Python type.\",\n             \"type\": \"string\",\n-            \"title\": \"Default Python interpreter\",\n-            \"default\": \"\",\n-            \"description\": \"The path to the default Python interpreter\"\n+            \"default\": \"\"\n+        },\n+        \"python_version\": {\n+            \"title\": \"Python Version\",\n+            \"description\": \"The Python version.\",\n+            \"type\": \"string\",\n+            \"default\": \"\"\n+        },\n+        \"python_path\": {\n+            \"title\": \"Python Path\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36399dfdf1b1d0d1cca1bc6f92ed0a2e510e9410"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fc8d803716ac6dc292c13f1bd4b7f83d3f8da3d", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/1fc8d803716ac6dc292c13f1bd4b7f83d3f8da3d", "committedDate": "2020-08-25T22:09:02Z", "message": "no title for prefs that should only be set via UI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a294a773b9678e89130b06dea056deb0cd9e807", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/4a294a773b9678e89130b06dea056deb0cd9e807", "committedDate": "2020-08-25T22:40:00Z", "message": "inform user if project is configured with specific version of Python"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0c9a15cc6bc8767deffcb1dc418d89e5938152d", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/f0c9a15cc6bc8767deffcb1dc418d89e5938152d", "committedDate": "2020-08-25T23:17:56Z", "message": "always restart when Python changed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14498506aabfcb4b38b019cc96d46a773d9f9754", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/14498506aabfcb4b38b019cc96d46a773d9f9754", "committedDate": "2020-08-25T23:31:46Z", "message": "tweaks to styling, etc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MTA4MTQ5", "url": "https://github.com/rstudio/rstudio/pull/7656#pullrequestreview-476108149", "createdAt": "2020-08-26T23:31:01Z", "commit": {"oid": "14498506aabfcb4b38b019cc96d46a773d9f9754"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MDcwNzk4", "url": "https://github.com/rstudio/rstudio/pull/7656#pullrequestreview-478070798", "createdAt": "2020-08-28T23:27:48Z", "commit": {"oid": "14498506aabfcb4b38b019cc96d46a773d9f9754"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f61e1a23492d3b40ecd072fdacc2f1044d9aed40", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/f61e1a23492d3b40ecd072fdacc2f1044d9aed40", "committedDate": "2020-08-31T20:42:23Z", "message": "use aliased paths for project-local Python installs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f3c7703ac120ed62d3a0515354f944db99a02ff", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/7f3c7703ac120ed62d3a0515354f944db99a02ff", "committedDate": "2020-08-31T20:44:05Z", "message": "Merge remote-tracking branch 'origin/master' into feature/python-project-options"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 60, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}