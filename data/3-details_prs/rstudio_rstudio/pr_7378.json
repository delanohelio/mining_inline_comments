{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxNDc3NTMz", "number": 7378, "title": "avoid loading rmarkdown, packrat packages when unnecessary", "bodyText": "Closes #7265.", "createdAt": "2020-07-17T21:38:16Z", "url": "https://github.com/rstudio/rstudio/pull/7378", "merged": true, "mergeCommit": {"oid": "a2bd88b018397934e5aedbfcbeb32958b75a9143"}, "closed": true, "closedAt": "2020-07-20T18:22:12Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc160MHAH2gAyNDUxNDc3NTMzOmY2NmNlMDA2MTExNjJkN2IwNTFhMjI5ZTJhOGRiNmZiMTdiMjFmYjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc18NUNgH2gAyNDUxNDc3NTMzOjNlNzA5YTBiMDk5ZWUzODk0ZDRiMmNkODU0MjRhZTJlYWY1YzNlNTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f66ce00611162d7b051a229e2a8db6fb17b21fb7", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/f66ce00611162d7b051a229e2a8db6fb17b21fb7", "committedDate": "2020-07-17T21:35:34Z", "message": "avoid loading packrat package when not needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8b284d03372ccaaaf4a65c1f768131c4950855", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/2a8b284d03372ccaaaf4a65c1f768131c4950855", "committedDate": "2020-07-17T21:35:39Z", "message": "only require yaml package when reading tutorial metadata"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwOTg5NzY5", "url": "https://github.com/rstudio/rstudio/pull/7378#pullrequestreview-450989769", "createdAt": "2020-07-17T22:37:54Z", "commit": {"oid": "2a8b284d03372ccaaaf4a65c1f768131c4950855"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMjozNzo1NFrOGzi5Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMjozOTowOFrOGzi6fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjcwMjMwMw==", "bodyText": "Incomplete comment?", "url": "https://github.com/rstudio/rstudio/pull/7378#discussion_r456702303", "createdAt": "2020-07-17T22:37:54Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/modules/SessionTutorial.R", "diffHunk": "@@ -247,7 +247,18 @@\n    \n    tutorialFile <- tutorialFiles[[1]]\n    contents <- readLines(tutorialFile, encoding = \"UTF-8\", warn = FALSE)\n-   yaml <- rmarkdown:::parse_yaml_front_matter(contents)\n+   \n+   # find YAML header (if any). note that we avoid using rmarkdown here\n+   # just because we want to avoid ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a8b284d03372ccaaaf4a65c1f768131c4950855"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjcwMjU5MQ==", "bodyText": "Is this a common regex, i.e. we use it elsewhere for this purpose? Don't know that we have any way to share such things in our embedded R code, mainly curious if this is tried and tested vs. something new.", "url": "https://github.com/rstudio/rstudio/pull/7378#discussion_r456702591", "createdAt": "2020-07-17T22:39:08Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/modules/SessionTutorial.R", "diffHunk": "@@ -247,7 +247,18 @@\n    \n    tutorialFile <- tutorialFiles[[1]]\n    contents <- readLines(tutorialFile, encoding = \"UTF-8\", warn = FALSE)\n-   yaml <- rmarkdown:::parse_yaml_front_matter(contents)\n+   \n+   # find YAML header (if any). note that we avoid using rmarkdown here\n+   # just because we want to avoid \n+   reYamlSeparator <- \"^\\\\s*(?:---|[.][.][.])\\\\s*$\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a8b284d03372ccaaaf4a65c1f768131c4950855"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e709a0b099ee3894d4b2cd85424ae2eaf5c3e54", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/3e709a0b099ee3894d4b2cd85424ae2eaf5c3e54", "committedDate": "2020-07-17T23:12:55Z", "message": "finish train of thought"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 122, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}