{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2ODE3MzI4", "number": 7027, "title": "Rainbow parentheses feature", "bodyText": "Colorize matching parentheses, braces, and brackets in a series of colors. This is customizable in the theme CSS. It can also be turned on/off dynamically per document through the Code -> Rainbow parentheses option.\nExample in light and dark themes:\n\nCloses #1888", "createdAt": "2020-06-02T20:38:23Z", "url": "https://github.com/rstudio/rstudio/pull/7027", "merged": true, "mergeCommit": {"oid": "1d578c645300ec9572242a43f4c0e1698252ada1"}, "closed": true, "closedAt": "2020-06-18T16:29:16Z", "author": {"login": "adamconroy"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnI1DXgH2gAyNDI2ODE3MzI4OjdlYzAzOGE4Y2RiOTc4N2IwYTllYjFkZmI3MDY2ZmMxYzNlNDZlODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsS3u7gFqTQzMjg1MjgxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ec038a8cdb9787b0a9eb1dfb7066fc1c3e46e80", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/7ec038a8cdb9787b0a9eb1dfb7066fc1c3e46e80", "committedDate": "2020-06-01T23:26:19Z", "message": "initial rainbow parentheses implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5065fb775ad2aff835e02912d47bbb6dc338e3a3", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/5065fb775ad2aff835e02912d47bbb6dc338e3a3", "committedDate": "2020-06-02T19:51:40Z", "message": "regenerate themes with parentheses colors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74e002b682ee65fd6223020b5e25fc01c890f7b5", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/74e002b682ee65fd6223020b5e25fc01c890f7b5", "committedDate": "2020-06-02T20:29:41Z", "message": "just use the standard nomenclature of rainbow parentheses to in user facing settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9bc1cd591af0d72f06b91e39ca5226e59d0ae80", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/b9bc1cd591af0d72f06b91e39ca5226e59d0ae80", "committedDate": "2020-06-02T20:45:45Z", "message": "remove debug code and re-enable sync rainbow editor setting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/6a27746f7145e833a214a5ecb88ebfe906073b7d", "committedDate": "2020-06-02T20:58:08Z", "message": "add NEWS entry"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzODMwNTUx", "url": "https://github.com/rstudio/rstudio/pull/7027#pullrequestreview-423830551", "createdAt": "2020-06-03T18:42:06Z", "commit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxODo0MjowNlrOGeovTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxOTowNzo0NFrOGeplPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc3NzkzMg==", "bodyText": "spelling: \"parantheses\", but correct in user-prefs-schema.json, so just need to rerun generate-prefs.R", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434777932", "createdAt": "2020-06-03T18:42:06Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/include/session/prefs/UserPrefValues.hpp", "diffHunk": "@@ -773,6 +774,12 @@ class UserPrefValues: public Preferences\n    bool highlightRFunctionCalls();\n    core::Error setHighlightRFunctionCalls(bool val);\n \n+   /**\n+    * Whether to highlight parantheses (and other bracketed characters) in various colors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc3ODM5MQ==", "bodyText": "Same as earlier comment about \"parantheses\"", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434778391", "createdAt": "2020-06-03T18:42:56Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/prefs/UserPrefValues.cpp", "diffHunk": "@@ -933,6 +933,19 @@ core::Error UserPrefValues::setHighlightRFunctionCalls(bool val)\n    return writePref(\"highlight_r_function_calls\", val);\n }\n \n+/**\n+ * Whether to highlight parantheses (and other bracketed characters) in various colors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc4MjE3MA==", "bodyText": "This matches [, (, { via the RainbowParenHighlightRules and then adds in < (and equivalent closing symbols)? Just checking my understanding.", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434782170", "createdAt": "2020-06-03T18:49:57Z", "author": {"login": "gtritchie"}, "path": "src/gwt/acesupport/acemode/c_cpp_highlight_rules.js", "diffHunk": "@@ -181,24 +182,16 @@ var c_cppHighlightRules = function() {\n             token : \"keyword.punctuation.operator\",\n             merge : false,\n             regex : \"\\\\?|\\\\:|\\\\,|\\\\;|\\\\.|\\\\\\\\\"\n-         }, {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc4NTgxMw==", "bodyText": "Curious, why is the added checking now required?", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434785813", "createdAt": "2020-06-03T18:56:51Z", "author": {"login": "gtritchie"}, "path": "src/gwt/acesupport/acemode/c_cpp.js", "diffHunk": "@@ -157,7 +157,13 @@ oop.inherits(Mode, TextMode);\n \n    this.inRLanguageMode = function(state)\n    {\n-      return state.match(/^r-/);\n+     if (!state)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc4NzI4MQ==", "bodyText": "Can you resubmit this without the indentation changes? Makes it very hard to review. If the indentation change is important, then maybe do a whitespace-only change and commit that, then make your changes?", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434787281", "createdAt": "2020-06-03T18:59:25Z", "author": {"login": "gtritchie"}, "path": "src/gwt/acesupport/acemode/r_highlight_rules.js", "diffHunk": "@@ -17,491 +17,473 @@\n  * AGPL (http://www.gnu.org/licenses/agpl-3.0.txt) for more details.\n  *\n  */\n-\n var $colorFunctionCalls = false;\n \n define(\"mode/r_highlight_rules\", [\"require\", \"exports\", \"module\"], function(require, exports, module)\n {\n-   function include(rules) {\n-      var result = new Array(rules.length);\n-      for (var i = 0; i < rules.length; i++) {\n-         result[i] = {include: rules[i]};\n+  function include(rules) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc4ODgyOA==", "bodyText": "Switch to our new \"current-year only\" format.", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434788828", "createdAt": "2020-06-03T19:02:20Z", "author": {"login": "gtritchie"}, "path": "src/gwt/acesupport/acemode/rainbow_paren_highlight_rules.js", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * rainbow_paren_highlight_rules.js\n+ *\n+ * Copyright (C) 2009-20 by RStudio, PBC", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5MTc0MQ==", "bodyText": "Does everything in this pane still fit (vertically)? Noticed this pane is getting very full. I ran into a problem adding a checkbox to the Code / Display pane in #7030 and had to remove some other spacing or it was slightly clipped at the bottom", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r434791741", "createdAt": "2020-06-03T19:07:44Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/prefs/views/EditingPreferencesPane.java", "diffHunk": "@@ -77,6 +77,7 @@ public EditingPreferencesPane(UserPrefs prefs,\n             \"When enabled, the indentation for documents not part of an RStudio project \" +\n             \"will be automatically detected.\"));\n       editingPanel.add(checkboxPref(\"Insert matching parens/quotes\", prefs_.insertMatching()));\n+      editingPanel.add(checkboxPref(\"Rainbow parentheses\", prefs_.rainbowParentheses()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODY0NDI4", "url": "https://github.com/rstudio/rstudio/pull/7027#pullrequestreview-425864428", "createdAt": "2020-06-07T23:58:48Z", "commit": {"oid": "6a27746f7145e833a214a5ecb88ebfe906073b7d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71822819932c55dde958826074c8c3fe3ab7a78f", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/71822819932c55dde958826074c8c3fe3ab7a78f", "committedDate": "2020-06-10T00:30:30Z", "message": "Merge branch 'master' into feature/rainbow-parens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04342f33550e4720ec6ec9aa91bec491c7f10fb5", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/04342f33550e4720ec6ec9aa91bec491c7f10fb5", "committedDate": "2020-06-10T01:57:44Z", "message": "pr feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "275c94109c4f703120ba9ee74ff0ce883d84cf58", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/275c94109c4f703120ba9ee74ff0ce883d84cf58", "committedDate": "2020-06-10T16:30:35Z", "message": "Merge branch 'feature/rainbow-parens' of https://github.com/rstudio/rstudio into feature/rainbow-parens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d5106ca67dd292f28c2e194c2527c3450d4ebb4", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/0d5106ca67dd292f28c2e194c2527c3450d4ebb4", "committedDate": "2020-06-11T23:25:11Z", "message": "pr feedback, update user pref for new interface"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwODU5NDE5", "url": "https://github.com/rstudio/rstudio/pull/7027#pullrequestreview-430859419", "createdAt": "2020-06-15T17:42:12Z", "commit": {"oid": "0d5106ca67dd292f28c2e194c2527c3450d4ebb4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89d7ddfb848b0c67dd307a70175bff94e87aa67e", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/89d7ddfb848b0c67dd307a70175bff94e87aa67e", "committedDate": "2020-06-15T19:26:25Z", "message": "make token cursor paren matching consistent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTY5NzU1", "url": "https://github.com/rstudio/rstudio/pull/7027#pullrequestreview-430969755", "createdAt": "2020-06-15T20:29:14Z", "commit": {"oid": "89d7ddfb848b0c67dd307a70175bff94e87aa67e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMDoyOToxNFrOGkBnTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMDoyOToxNFrOGkBnTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQyODM2Ng==", "bodyText": "Add a title to this (and regenerate prefs) so it can be set from the Command palette.", "url": "https://github.com/rstudio/rstudio/pull/7027#discussion_r440428366", "createdAt": "2020-06-15T20:29:14Z", "author": {"login": "jmcphers"}, "path": "src/cpp/session/resources/schema/user-prefs-schema.json", "diffHunk": "@@ -515,6 +515,11 @@\n             \"title\": \"Highlight R function calls\",\n             \"description\": \"Whether to highlight R function calls in the code editor.\"\n         },\n+        \"rainbow_parentheses\": {\n+            \"type\": \"boolean\",\n+            \"default\": false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d7ddfb848b0c67dd307a70175bff94e87aa67e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efae97f2439aac4f8c290083b1c0d8f2f784c28e", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/efae97f2439aac4f8c290083b1c0d8f2f784c28e", "committedDate": "2020-06-17T05:58:37Z", "message": "merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "241740fcb57d71f5dd894381d48ac755a51cb902", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/241740fcb57d71f5dd894381d48ac755a51cb902", "committedDate": "2020-06-17T20:41:08Z", "message": "move paren_color style from rsthemes to themeStyles.css, update rainbow_parens UserPref"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db44549d2864d0fe113cecee38373eb3e0a86c42", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/db44549d2864d0fe113cecee38373eb3e0a86c42", "committedDate": "2020-06-17T21:40:54Z", "message": "remove ace_paren from rstheme tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c956b7eeed17443ef8b932b6c3dd0b8fdbf0047f", "author": {"user": {"login": "adamconroy", "name": null}}, "url": "https://github.com/rstudio/rstudio/commit/c956b7eeed17443ef8b932b6c3dd0b8fdbf0047f", "committedDate": "2020-06-17T21:41:55Z", "message": "Merge branch 'master' of https://github.com/rstudio/rstudio into feature/rainbow-parens"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyODA0MzMw", "url": "https://github.com/rstudio/rstudio/pull/7027#pullrequestreview-432804330", "createdAt": "2020-06-17T21:54:39Z", "commit": {"oid": "c956b7eeed17443ef8b932b6c3dd0b8fdbf0047f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyODUyODE4", "url": "https://github.com/rstudio/rstudio/pull/7027#pullrequestreview-432852818", "createdAt": "2020-06-17T23:57:55Z", "commit": {"oid": "c956b7eeed17443ef8b932b6c3dd0b8fdbf0047f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 171, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}