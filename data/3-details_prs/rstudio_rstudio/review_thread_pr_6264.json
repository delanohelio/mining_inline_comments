{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MzUyMjcx", "number": 6264, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMTozNzoxMVrODhOx1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNzoxMVrODhP1-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTcxNzMyOnYy", "diffSide": "RIGHT", "path": "src/cpp/session/modules/SessionTutorial.cpp", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMTozNzoxMVrOFr4hSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMTo1MTowOVrOFr48Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU1OTExNQ==", "bodyText": "The examples make me wonder if we should interpret Markdown here. We already build and include a self-contained Markdown parser (sundown, see R Presentations for use) so might be very straightforward to integrate. What do you think?", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381559115", "createdAt": "2020-02-19T21:37:11Z", "author": {"login": "jmcphers"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -267,10 +245,12 @@ void handleTutorialHomeRequest(const http::Request& request,\n                << tutorial.description", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcf9887bd7e5fd61b51e58adcda6fcc6e97d5c3"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU2NTk5NA==", "bodyText": "That is an excellent idea!", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381565994", "createdAt": "2020-02-19T21:51:09Z", "author": {"login": "kevinushey"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -267,10 +245,12 @@ void handleTutorialHomeRequest(const http::Request& request,\n                << tutorial.description", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU1OTExNQ=="}, "originalCommit": {"oid": "8bcf9887bd7e5fd61b51e58adcda6fcc6e97d5c3"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTgwOTY0OnYy", "diffSide": "RIGHT", "path": "src/cpp/session/resources/tutorial_resources/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjowODoxNVrOFr5boQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjowODoxNVrOFr5boQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU3NDA0OQ==", "bodyText": "Instead of a div use <main class=\"rstudio-tutorials-container\">. This is more semantically correct and provides more context on the page layout to a screen reader user.\nIf main causes styling issues, could instead add role=\"main\" to the div and achieve the same result.", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381574049", "createdAt": "2020-02-19T22:08:15Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/resources/tutorial_resources/index.html", "diffHunk": "@@ -7,9 +7,23 @@\n    </head>\n \n    <body class=\"rstudio-tutorials\" style=\"visibility: hidden;\">\n+\n       <div class=\"rstudio-tutorials-container\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTgxNzY3OnYy", "diffSide": "RIGHT", "path": "src/cpp/session/resources/tutorial_resources/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjoxMToxMFrOFr5g0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjoxMToxMFrOFr5g0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU3NTM3OQ==", "bodyText": "The icon doesn't add any useful information to a screen reader user, so just use an empty alt to mark it as purely a decorative element that a screen-reader can ignore.\n<img class=\"rstudio-tutorials-logo\" alt src=\"./rstudio-logo.png\">", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381575379", "createdAt": "2020-02-19T22:11:10Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/resources/tutorial_resources/index.html", "diffHunk": "@@ -7,9 +7,23 @@\n    </head>\n \n    <body class=\"rstudio-tutorials\" style=\"visibility: hidden;\">\n+\n       <div class=\"rstudio-tutorials-container\">\n          #!tutorials#\n       </div>\n+\n+      <div class=\"rstudio-tutorials-footer\">\n+\n+         <img class=\"rstudio-tutorials-logo\" alt=\"RStudio Icon\" src=\"./rstudio-logo.png\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTgyNzAxOnYy", "diffSide": "RIGHT", "path": "src/cpp/session/resources/tutorial_resources/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjoxNDoxNFrOFr5mbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjoxNDoxNFrOFr5mbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU3NjgxMw==", "bodyText": "Instead of a div use <footer>. Same reasons as for using main.\nAlternatively can add role=\"contentinfo\" to the div to achieve the same result.", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381576813", "createdAt": "2020-02-19T22:14:14Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/resources/tutorial_resources/index.html", "diffHunk": "@@ -7,9 +7,23 @@\n    </head>\n \n    <body class=\"rstudio-tutorials\" style=\"visibility: hidden;\">\n+\n       <div class=\"rstudio-tutorials-container\">\n          #!tutorials#\n       </div>\n+\n+      <div class=\"rstudio-tutorials-footer\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTg3NTI0OnYy", "diffSide": "RIGHT", "path": "src/cpp/session/modules/SessionTutorial.cpp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozMToxNlrOFr6E3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozMToxNlrOFr6E3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NDYwNQ==", "bodyText": "The heading of each tutorial should actually be an HTML heading, probably <h2>. Don't want to use <h1> because there should generally only be a single <h1> in a given page/iframe. In this case we have no h1 but that's life in the big city.\nReason to use actual heading is that screen readers can then present a list of the tutorials for easier browsing and navigation. Otherwise it's just a big text document with no structure.\nInstead of using actual <h2> can markup the existing span like this:\n<span role=\"heading\" aria-level=\"2\" class=\"rstudio-tutorials-label\">", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381584605", "createdAt": "2020-02-19T22:31:16Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -249,8 +225,11 @@ void handleTutorialHomeRequest(const http::Request& request,\n             << htmlEscape(tutorial.title)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTg5MTc2OnYy", "diffSide": "RIGHT", "path": "src/cpp/session/modules/SessionTutorial.cpp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNzoxMVrOFr6POw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNzoxMVrOFr6POw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NzI1OQ==", "bodyText": "The purpose of the button is obvious to a sighted user, but to a screen-reader user the buttons look like a list of identical buttons with no context. Example below from VoiceOver.\nTo fix this, add an aria-label=\"foo\" to each button where \"foo\" is something like \"Start Data Basics Tutorial\". This will be read by screen readers, but visual users will just see the existing label.", "url": "https://github.com/rstudio/rstudio/pull/6264#discussion_r381587259", "createdAt": "2020-02-19T22:37:11Z", "author": {"login": "gtritchie"}, "path": "src/cpp/session/modules/SessionTutorial.cpp", "diffHunk": "@@ -249,8 +225,11 @@ void handleTutorialHomeRequest(const http::Request& request,\n             << htmlEscape(tutorial.title)\n             << \"</span>\";\n          \n-         ss << \"<span class=\\\"rstudio-tutorials-name\\\">\"\n-            << htmlFormatTutorialName(pkgName, tutorial)\n+         ss << \"<span class=\\\"rstudio-tutorials-run-container\\\">\"\n+            << \"<button class=\\\"rstudio-tutorials-run-button\\\" onclick=\\\"window.parent.tutorialRun('\" << htmlEscape(tutorial.name) << \"', '\" << htmlEscape(pkgName) << \"')\\\">\"\n+            << \"<span class=\\\"rstudio-tutorials-run-button-label\\\">Start Tutorial</span>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127577bff3a2af114ac916ac1a73d44b0bded2fb"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4065, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}