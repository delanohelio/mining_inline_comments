{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNDc5NzY3", "number": 6138, "title": "Exception in Find in Files dialog", "bodyText": "Fixes #6085\nThis PR fixes an issue where the find result count was being cleared on initialization of the Find In Files dialog, causing this information to be lost from the state when a new rsession started.\nIt also prevents any calls to clear the result count from causing an exception when the result count is null.", "createdAt": "2020-02-03T19:20:34Z", "url": "https://github.com/rstudio/rstudio/pull/6138", "merged": true, "mergeCommit": {"oid": "86349d87c93b5b447651ba53ba3a5ca175b9f593"}, "closed": true, "closedAt": "2020-02-04T22:26:54Z", "author": {"login": "melissa-barca"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-g9HYgH2gAyMzcwNDc5NzY3OjFiMzk3YTYyNTYwZTI4OGU0Y2RhN2FhNWI0ZmRiMzI1YzFkOWRjNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBJGrngFqTM1MzM0MTUxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1b397a62560e288e4cda7aa5b4fdb325c1d9dc78", "author": {"user": {"login": "melissa-barca", "name": "Melissa Barca"}}, "url": "https://github.com/rstudio/rstudio/commit/1b397a62560e288e4cda7aa5b4fdb325c1d9dc78", "committedDate": "2020-01-27T18:21:57Z", "message": "fix bug where resultsCount was being cleared before being initialized"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33b845043faedd6bef45aad45ed0040a95e9e721", "author": {"user": {"login": "melissa-barca", "name": "Melissa Barca"}}, "url": "https://github.com/rstudio/rstudio/commit/33b845043faedd6bef45aad45ed0040a95e9e721", "committedDate": "2020-01-28T00:32:37Z", "message": "Merge branch 'master' of https://github.com/rstudio/rstudio into bugfix/find-in-files-exception"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNTUwNjgx", "url": "https://github.com/rstudio/rstudio/pull/6138#pullrequestreview-352550681", "createdAt": "2020-02-03T20:46:40Z", "commit": {"oid": "213053573ab7282db621a4ffa6da6c5dea544b53"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDo0Njo0MFrOFk_Yhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDo0Njo0MFrOFk_Yhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDMzMTUyNw==", "bodyText": "The exception was happening when this is null, so it would still happen here. I think we need to either (a) check dialogState_ for null upstream, or (b) check this itself here.", "url": "https://github.com/rstudio/rstudio/pull/6138#discussion_r374331527", "createdAt": "2020-02-03T20:46:40Z", "author": {"login": "jmcphers"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/output/find/FindInFilesDialog.java", "diffHunk": "@@ -126,7 +126,8 @@ public native final int getResultsCount() /*-{\n       }-*/;\n \n       public native final void clearResultsCount() /*-{\n-         this.resultsCount = 0;\n+         if (this.resultsCount !== null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "213053573ab7282db621a4ffa6da6c5dea544b53"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a23c4f28563d77e6c5670c76581636e688fbddd", "author": {"user": {"login": "melissa-barca", "name": "Melissa Barca"}}, "url": "https://github.com/rstudio/rstudio/commit/9a23c4f28563d77e6c5670c76581636e688fbddd", "committedDate": "2020-02-04T01:04:57Z", "message": "prevent resultsCount from being set when Find In Files state is null"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "213053573ab7282db621a4ffa6da6c5dea544b53", "author": {"user": {"login": "melissa-barca", "name": "Melissa Barca"}}, "url": "https://github.com/rstudio/rstudio/commit/213053573ab7282db621a4ffa6da6c5dea544b53", "committedDate": "2020-02-03T19:07:02Z", "message": "allow resultsCount to be set when undefined"}, "afterCommit": {"oid": "9a23c4f28563d77e6c5670c76581636e688fbddd", "author": {"user": {"login": "melissa-barca", "name": "Melissa Barca"}}, "url": "https://github.com/rstudio/rstudio/commit/9a23c4f28563d77e6c5670c76581636e688fbddd", "committedDate": "2020-02-04T01:04:57Z", "message": "prevent resultsCount from being set when Find In Files state is null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMzQxNTE1", "url": "https://github.com/rstudio/rstudio/pull/6138#pullrequestreview-353341515", "createdAt": "2020-02-04T22:16:28Z", "commit": {"oid": "9a23c4f28563d77e6c5670c76581636e688fbddd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 343, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}