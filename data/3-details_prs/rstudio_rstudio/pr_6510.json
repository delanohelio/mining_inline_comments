{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNTM0MjMx", "number": 6510, "title": "refresh potentially stale viewer fn definitions", "bodyText": "Closes #6509.", "createdAt": "2020-03-23T17:31:57Z", "url": "https://github.com/rstudio/rstudio/pull/6510", "merged": true, "mergeCommit": {"oid": "f8347f916e4d957de2f3febac1c477bb9a9288eb"}, "closed": true, "closedAt": "2020-03-23T18:05:55Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQhzV4gH2gAyMzkyNTM0MjMxOmQyZWM4ZjQyZmVlMGZhNzFhZTFjNjI1ZGRjNzdmYjEwNzk2MjhmNmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQiSVSAFqTM3OTY4OTIyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2ec8f42fee0fa71ae1c625ddc77fb1079628f6d", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/d2ec8f42fee0fa71ae1c625ddc77fb1079628f6d", "committedDate": "2020-03-23T17:31:49Z", "message": "refresh potentially stale viewer fn definitions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5NjY1ODQw", "url": "https://github.com/rstudio/rstudio/pull/6510#pullrequestreview-379665840", "createdAt": "2020-03-23T17:37:06Z", "commit": {"oid": "d2ec8f42fee0fa71ae1c625ddc77fb1079628f6d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNzozNzowNlrOF6Qj4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNzozNzowNlrOF6Qj4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjYzMzA1OQ==", "bodyText": "Should this be behind an else? (otherwise it looks like a NULL initial value will cause us to set the option twice)", "url": "https://github.com/rstudio/rstudio/pull/6510#discussion_r396633059", "createdAt": "2020-03-23T17:37:06Z", "author": {"login": "jmcphers"}, "path": "src/cpp/session/modules/SessionShinyViewer.cpp", "diffHunk": "@@ -329,6 +329,15 @@ Error initShinyViewerPref(boost::shared_ptr<std::string> pShinyViewerType)\n    {\n       setShinyViewerType(*pShinyViewerType);\n    }\n+   \n+   // the functions used to invoke the Shiny viewer changed in v1.2 -> v1.3;\n+   // however, the older versions of these functions may be persisted as part\n+   // of the R options (for shiny.launch.browser). for that reason, we detect\n+   // if this option is set and ensure an up-to-date copy of the function is\n+   // used as appropriate\n+   Error error = r::exec::RFunction(\".rs.refreshShinyLaunchBrowserOption\").call();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2ec8f42fee0fa71ae1c625ddc77fb1079628f6d"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b313a9d02e6994acde539d74e2c984de48cd4fd", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/6b313a9d02e6994acde539d74e2c984de48cd4fd", "committedDate": "2020-03-23T17:57:48Z", "message": "only refresh when option is non-null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5Njg5MjI4", "url": "https://github.com/rstudio/rstudio/pull/6510#pullrequestreview-379689228", "createdAt": "2020-03-23T18:05:40Z", "commit": {"oid": "6b313a9d02e6994acde539d74e2c984de48cd4fd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 298, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}