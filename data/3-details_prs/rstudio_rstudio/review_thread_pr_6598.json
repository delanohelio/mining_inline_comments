{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5ODYyMzE4", "number": 6598, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOTo0NDowMFrODvRz_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOTo0NDowMFrODvRz_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwOTAxNTAxOnYy", "diffSide": "RIGHT", "path": "src/cpp/core/FilePathTests.cpp", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOTo0NDowMFrOGBnK6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOTo1MDozM1rOGBnYgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0MzUyOA==", "bodyText": "Nit: these tests could still fail on anyone's local machine where the RStudio git drive isn't C:. This is really minor, but if there's a way to check the current drive letter, or maybe just compare against a regex (e.g. [A-Z]), or maybe by stripping ^[^:]+: from the start of the actual paths in the tests it could allow the tests to pass regardless of the drive name.", "url": "https://github.com/rstudio/rstudio/pull/6598#discussion_r404343528", "createdAt": "2020-04-06T19:44:00Z", "author": {"login": "MariaSemple"}, "path": "src/cpp/core/FilePathTests.cpp", "diffHunk": "@@ -13,15 +13,18 @@\n  *\n  */\n \n-// All of these tests presume Unix-style paths\n-#ifndef _WIN32\n-\n #define RSTUDIO_NO_TESTTHAT_ALIASES\n #include <tests/TestThat.hpp>\n \n #include <shared_core/Error.hpp>\n #include <shared_core/FilePath.hpp>\n \n+#ifdef _WIN32\n+# define kRootPrefix \"C:/\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc31b57aca88e69bf6ab8721ec901316fc832ea0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0NTY1OQ==", "bodyText": "Good idea -- perhaps I should just use the drive associated with the current working directory?", "url": "https://github.com/rstudio/rstudio/pull/6598#discussion_r404345659", "createdAt": "2020-04-06T19:48:07Z", "author": {"login": "kevinushey"}, "path": "src/cpp/core/FilePathTests.cpp", "diffHunk": "@@ -13,15 +13,18 @@\n  *\n  */\n \n-// All of these tests presume Unix-style paths\n-#ifndef _WIN32\n-\n #define RSTUDIO_NO_TESTTHAT_ALIASES\n #include <tests/TestThat.hpp>\n \n #include <shared_core/Error.hpp>\n #include <shared_core/FilePath.hpp>\n \n+#ifdef _WIN32\n+# define kRootPrefix \"C:/\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0MzUyOA=="}, "originalCommit": {"oid": "bc31b57aca88e69bf6ab8721ec901316fc832ea0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0NzAxMA==", "bodyText": "I think that would be ideal, if that's possible.", "url": "https://github.com/rstudio/rstudio/pull/6598#discussion_r404347010", "createdAt": "2020-04-06T19:50:33Z", "author": {"login": "MariaSemple"}, "path": "src/cpp/core/FilePathTests.cpp", "diffHunk": "@@ -13,15 +13,18 @@\n  *\n  */\n \n-// All of these tests presume Unix-style paths\n-#ifndef _WIN32\n-\n #define RSTUDIO_NO_TESTTHAT_ALIASES\n #include <tests/TestThat.hpp>\n \n #include <shared_core/Error.hpp>\n #include <shared_core/FilePath.hpp>\n \n+#ifdef _WIN32\n+# define kRootPrefix \"C:/\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0MzUyOA=="}, "originalCommit": {"oid": "bc31b57aca88e69bf6ab8721ec901316fc832ea0"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4018, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}