{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MDUyODk0", "number": 7830, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo0MDoxNVrOElCqIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0Mzo1NVrOEl2X5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Mjc2MzIxOnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.cmd.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo0MDoxNVrOHUUZQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo0MDoxNVrOHUUZQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA2NzcxMw==", "bodyText": "Since this command isn't on a menu you don't need a menuLabel. If this is ever added to the main menu it won't build because there is no access key (\"_\"). So, suggest just removing menuLabel.", "url": "https://github.com/rstudio/rstudio/pull/7830#discussion_r491067713", "createdAt": "2020-09-18T16:40:15Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.cmd.xml", "diffHunk": "@@ -2471,6 +2471,13 @@ well as menu structures (for main menu and popup menus).\n         windowMode=\"main\"\n         desc=\"Clear console\"/>\n \n+   <cmd id=\"buildClear\"\n+        buttonLabel=\"\"\n+        label=\"Clear Build\"\n+        menuLabel=\"Clear Build\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54344abe3148923033c59cef7e053c56a5bfeaf8"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Mjc2OTMzOnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/buildtools/BuildClearButton.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo0MjowOVrOHUUdLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo0ODoxNFrOHUUphg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA2ODcxNg==", "bodyText": "Do you need a custom class for this? The terminal pane has a clear button, and it just does it with a straight ToolbarButton like this:\n      clearButton_ = commands_.clearTerminalScrollbackBuffer().createToolbarButton();\n      clearButton_.addStyleName(ThemeStyles.INSTANCE.terminalClearButton());\n      toolbar.addRightWidget(clearButton_);", "url": "https://github.com/rstudio/rstudio/pull/7830#discussion_r491068716", "createdAt": "2020-09-18T16:42:09Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/buildtools/BuildClearButton.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ * ConsoleClearButton.java\n+ *\n+ * Copyright (C) 2020 by RStudio, PBC\n+ *\n+ * Unless you have received this program directly from RStudio pursuant\n+ * to the terms of a commercial license agreement with RStudio, then\n+ * this program is licensed to you under the terms of version 3 of the\n+ * GNU Affero General Public License. This program is distributed WITHOUT\n+ * ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING THOSE OF NON-INFRINGEMENT,\n+ * MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Please refer to the\n+ * AGPL (http://www.gnu.org/licenses/agpl-3.0.txt) for more details.\n+ *\n+ */\n+package org.rstudio.studio.client.workbench.views.buildtools;\n+\n+import com.google.gwt.dom.client.Style.Position;\n+import com.google.gwt.resources.client.ImageResource;\n+import com.google.gwt.user.client.ui.Composite;\n+import com.google.gwt.user.client.ui.SimplePanel;\n+import com.google.inject.Inject;\n+import org.rstudio.core.client.command.AppCommand;\n+import org.rstudio.core.client.theme.res.ThemeStyles;\n+import org.rstudio.core.client.widget.ToolbarButton;\n+import org.rstudio.studio.client.workbench.commands.Commands;\n+\n+public class BuildClearButton extends Composite", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54344abe3148923033c59cef7e053c56a5bfeaf8"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3MTg3OA==", "bodyText": "Due to the way the \"mouse down\" action happens I believe that is why the custom class was created for the ConsoleClear button as well. Not getting a TON of value out of having its own class but it's following the precedent set with that icon elsewhere.", "url": "https://github.com/rstudio/rstudio/pull/7830#discussion_r491071878", "createdAt": "2020-09-18T16:48:14Z", "author": {"login": "adamconroy"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/buildtools/BuildClearButton.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ * ConsoleClearButton.java\n+ *\n+ * Copyright (C) 2020 by RStudio, PBC\n+ *\n+ * Unless you have received this program directly from RStudio pursuant\n+ * to the terms of a commercial license agreement with RStudio, then\n+ * this program is licensed to you under the terms of version 3 of the\n+ * GNU Affero General Public License. This program is distributed WITHOUT\n+ * ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING THOSE OF NON-INFRINGEMENT,\n+ * MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Please refer to the\n+ * AGPL (http://www.gnu.org/licenses/agpl-3.0.txt) for more details.\n+ *\n+ */\n+package org.rstudio.studio.client.workbench.views.buildtools;\n+\n+import com.google.gwt.dom.client.Style.Position;\n+import com.google.gwt.resources.client.ImageResource;\n+import com.google.gwt.user.client.ui.Composite;\n+import com.google.gwt.user.client.ui.SimplePanel;\n+import com.google.inject.Inject;\n+import org.rstudio.core.client.command.AppCommand;\n+import org.rstudio.core.client.theme.res.ThemeStyles;\n+import org.rstudio.core.client.widget.ToolbarButton;\n+import org.rstudio.studio.client.workbench.commands.Commands;\n+\n+public class BuildClearButton extends Composite", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA2ODcxNg=="}, "originalCommit": {"oid": "54344abe3148923033c59cef7e053c56a5bfeaf8"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTIxNDY5OnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.cmd.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTozNjoxMlrOHVjRKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTozNjoxMlrOHVjRKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM1OTk3OA==", "bodyText": "Suggest adding context=\"packageDevelopment\" to this command to match other build-pane related commands. This controls grouping in the keyboard shortcut reference panel, and appears in the command-palette.", "url": "https://github.com/rstudio/rstudio/pull/7830#discussion_r492359978", "createdAt": "2020-09-21T21:36:12Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.cmd.xml", "diffHunk": "@@ -2471,6 +2471,12 @@ well as menu structures (for main menu and popup menus).\n         windowMode=\"main\"\n         desc=\"Clear console\"/>\n \n+   <cmd id=\"clearBuild\"\n+        buttonLabel=\"\"\n+        label=\"Clear Build\"\n+        windowMode=\"main\"\n+        desc=\"Clear build\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc5addfe98a780f8efc5bf423cdeaf6e77bef8b"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTIxOTY3OnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.cmd.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTozNzo1NVrOHVjUJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTozNzo1NVrOHVjUJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2MDc0MA==", "bodyText": "This label appears in the Command Palette; probably should be a bit more descriptive? Maybe: \"Clear Build Pane Output\"?", "url": "https://github.com/rstudio/rstudio/pull/7830#discussion_r492360740", "createdAt": "2020-09-21T21:37:55Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.cmd.xml", "diffHunk": "@@ -2471,6 +2471,12 @@ well as menu structures (for main menu and popup menus).\n         windowMode=\"main\"\n         desc=\"Clear console\"/>\n \n+   <cmd id=\"clearBuild\"\n+        buttonLabel=\"\"\n+        label=\"Clear Build\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc5addfe98a780f8efc5bf423cdeaf6e77bef8b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTIzNjIzOnYy", "diffSide": "RIGHT", "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0Mzo1NVrOHVjeNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0Mzo1NVrOHVjeNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2MzMxNg==", "bodyText": "Should hide this command when Build pane is not available. Do this in BuildCommands.java in setBuildCommandState() in same branch that hides activateBuild.", "url": "https://github.com/rstudio/rstudio/pull/7830#discussion_r492363316", "createdAt": "2020-09-21T21:43:55Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/commands/Commands.java", "diffHunk": "@@ -535,6 +535,7 @@\n    public abstract AppCommand loadServerHome();\n \n    // Build\n+   public abstract AppCommand clearBuild();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc5addfe98a780f8efc5bf423cdeaf6e77bef8b"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4206, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}