{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MTI3MTYx", "number": 6976, "title": "cpp completion manager needs to explicitly handle keys", "bodyText": "Closes #6971.\nCandidate for v1.3-patch backport. Affects v1.4 only; not a candidate for backport.", "createdAt": "2020-05-27T21:37:57Z", "url": "https://github.com/rstudio/rstudio/pull/6976", "merged": true, "mergeCommit": {"oid": "00bf37436e26ae4ec4bb47472ec6a22c94b03d24"}, "closed": true, "closedAt": "2020-05-28T21:46:39Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclgQ9bAH2gAyNDI0MTI3MTYxOjE5NGM2N2U0OGIyMWEzOGExY2Y2ODk4NTM5MmVmOWNlOWUzOTQzN2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclxpS4AFqTQyMDM1MzUwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "194c67e48b21a38a1cf68985392ef9ce9e39437a", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/194c67e48b21a38a1cf68985392ef9ce9e39437a", "committedDate": "2020-05-27T21:36:46Z", "message": "cpp completion manager needs to explicitly handle keys"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMjc0NTc0", "url": "https://github.com/rstudio/rstudio/pull/6976#pullrequestreview-420274574", "createdAt": "2020-05-28T16:12:50Z", "commit": {"oid": "194c67e48b21a38a1cf68985392ef9ce9e39437a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNjoxMjo1MFrOGb8lkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNjoxMjo1MFrOGb8lkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk1NzM5NQ==", "bodyText": "For parity with the old behavior, please also add support for home, end, PgUp and PgDn. This is what got removed, essentially:\n                     case KeyCodes.KEY_PAGEDOWN:\n                        moveSelectionFwd(5);\n                        break;\n                     case KeyCodes.KEY_PAGEUP:\n                        moveSelectionBwd(5);\n                        break;\n                     case KeyCodes.KEY_HOME:\n                        selectFirst();\n                        break;\n                     case KeyCodes.KEY_END:\n                        selectLast();\n                        break;", "url": "https://github.com/rstudio/rstudio/pull/6976#discussion_r431957395", "createdAt": "2020-05-28T16:12:50Z", "author": {"login": "gtritchie"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/source/editors/text/cpp/CppCompletionManager.java", "diffHunk": "@@ -210,21 +210,27 @@ else if (event.getKeyCode() == 113 // F2\n             case KeyCodes.KEY_N: return popup.selectNext();\n             }\n          }\n-             \n+         \n+         // allow navigation with arrow keys\n+         // (needs to be handled here as the popup will not be explicitly focused)\n+         if (modifier == KeyboardShortcut.NONE)\n+         {\n+            switch (keyCode)\n+            {\n+            case KeyCodes.KEY_UP:    return popup.selectPrev();\n+            case KeyCodes.KEY_DOWN:  return popup.selectNext();\n+            case KeyCodes.KEY_ENTER: return popup.acceptSelected();\n+            case KeyCodes.KEY_TAB:   return popup.acceptSelected();\n+            }\n+         }\n+         ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "194c67e48b21a38a1cf68985392ef9ce9e39437a"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d51bbd966cf55f99603905f013b26096f481b1eb", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/d51bbd966cf55f99603905f013b26096f481b1eb", "committedDate": "2020-05-28T17:44:09Z", "message": "implement other navigation keys for cpp popup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMzUzNTAx", "url": "https://github.com/rstudio/rstudio/pull/6976#pullrequestreview-420353501", "createdAt": "2020-05-28T17:51:44Z", "commit": {"oid": "d51bbd966cf55f99603905f013b26096f481b1eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 155, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}