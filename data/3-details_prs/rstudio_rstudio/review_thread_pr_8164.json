{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4NTYxOTg5", "number": 8164, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTozMTo1OVrOEw89Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTozMTo1OVrOEw89Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzY1NzcxOnYy", "diffSide": "RIGHT", "path": "src/cpp/desktop/DesktopOptions.cpp", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTozMTo1OVrOHm0oMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNTo0NDoyOVrOHm-I8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg==", "bodyText": "Is there an associated QTBUG we could link to here?", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510470192", "createdAt": "2020-10-22T21:31:59Z", "author": {"login": "kevinushey"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MjMwMQ==", "bodyText": "No, I couldn't find one.", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510472301", "createdAt": "2020-10-22T21:36:10Z", "author": {"login": "jmcphers"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3NDE3MA==", "bodyText": "Should this be happening here too (or instead)?\nhttps://github.com/rstudio/rstudio/pull/8142/files#diff-bbf9a277ef640cbca697c4b529194712a2a7f42175e76a30dcaff778a6545b38", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510474170", "createdAt": "2020-10-22T21:40:20Z", "author": {"login": "gtritchie"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3NDQwOQ==", "bodyText": "Oh, I found the Qt bug! https://bugreports.qt.io/browse/QTBUG-87267", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510474409", "createdAt": "2020-10-22T21:40:49Z", "author": {"login": "jmcphers"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3NjAxOQ==", "bodyText": "@gtritchie No, that's the last resort font and it's okay if it's a system font. This is the font used for proportionalFont everywhere in our UI.\nBased on my reading of 87267, we couldn't even bet on this change making it into Qt 5.15.2 (\"fix versions: none\"). Is that right?", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510476019", "createdAt": "2020-10-22T21:44:32Z", "author": {"login": "jmcphers"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MzMxMQ==", "bodyText": "Based on my reading of 87267, we couldn't even bet on this change making it into Qt 5.15.2 (\"fix versions: none\"). Is that right?\n\nUnclear from the Qt issue; I've asked in the issue.", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510483311", "createdAt": "2020-10-22T22:01:20Z", "author": {"login": "gtritchie"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDYyNjAzMg==", "bodyText": "Qt issue was updated with: \u201cThe fix is already in Qt 6 beta-1 which was released on Tuesday. It will also be a part of Qt 5.15.2 which is planned for release in November.\u201d", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510626032", "createdAt": "2020-10-23T05:44:29Z", "author": {"login": "gtritchie"}, "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, "originalCommit": {"oid": "b2747148acf4c576699668bb01a5c45ad474aca4"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4161, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}