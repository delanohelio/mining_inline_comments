{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MDUyOTM4", "number": 8466, "title": "don't use virtual console for inline chunk output", "bodyText": "Intent\nCloses #8465.\nApproach\nDisable virtualized console for outputs generated from inline code chunks. Also add a safety fix in virtualscroller.js to ensure we do have a scroller element to inspect when adding output.\nQA Notes\nTest via notes in #8465.", "createdAt": "2020-11-23T23:14:55Z", "url": "https://github.com/rstudio/rstudio/pull/8466", "merged": true, "mergeCommit": {"oid": "17fea7e3035f9faeaae544610059555ece466fac"}, "closed": true, "closedAt": "2020-11-24T01:40:39Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfdii4AH2gAyNTI2MDUyOTM4OjAzYTg3ZGM3OGIyMDcyYWE2M2NjNjdiY2M2ODliMmQxOGY1NDRmZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdffovvgFqTUzNzAwMzYzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03a87dc78b2072aa63cc67bcc689b2d18f544fe8", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/03a87dc78b2072aa63cc67bcc689b2d18f544fe8", "committedDate": "2020-11-23T23:13:52Z", "message": "don't use virtual console for inline chunk output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2OTU1MzY4", "url": "https://github.com/rstudio/rstudio/pull/8466#pullrequestreview-536955368", "createdAt": "2020-11-24T00:44:30Z", "commit": {"oid": "03a87dc78b2072aa63cc67bcc689b2d18f544fe8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDo0NDozMFrOH4lC-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDo0NDozMFrOH4lC-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA4OTI3Mg==", "bodyText": "Unfortunately these invariants will just hide bugs. Those two cases are invalid for how this is written. A scroller element with a parent is necessary for the virtualizer, at least at the moment. We could put a check higher up to throw an error early, like when it's traversing up the DOM to find the scroller element, but the assumption is that this class is written expressly to work inside an ace_scroller element.", "url": "https://github.com/rstudio/rstudio/pull/8466#discussion_r529089272", "createdAt": "2020-11-24T00:44:30Z", "author": {"login": "adamconroy"}, "path": "src/gwt/src/org/rstudio/core/client/virtualscroller/virtualscroller.js", "diffHunk": "@@ -87,7 +87,12 @@ var VirtualScroller;\n       }\n \n       // jump to latest button\n-      if (this.scrollerEle.parentElement.getElementsByClassName(\"jump-to-latest-console\").length < 1) {\n+      var hasJumpToConsoleBtn =\n+        this.scrollerEle &&\n+        this.scrollerEle.parentElement &&\n+        this.scrollerEle.parentElement.getElementsByClassName(\"jump-to-latest-console\").length < 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03a87dc78b2072aa63cc67bcc689b2d18f544fe8"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c295e3284f9087a58e4d7a20ada1cc17aa09787", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/3c295e3284f9087a58e4d7a20ada1cc17aa09787", "committedDate": "2020-11-24T01:25:29Z", "message": "throw error when no scroller element found"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MDAzNjM5", "url": "https://github.com/rstudio/rstudio/pull/8466#pullrequestreview-537003639", "createdAt": "2020-11-24T01:40:27Z", "commit": {"oid": "3c295e3284f9087a58e4d7a20ada1cc17aa09787"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4903, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}