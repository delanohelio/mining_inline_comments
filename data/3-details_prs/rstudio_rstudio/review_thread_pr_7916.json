{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MTc2MTY3", "number": 7916, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMDozNDowN1rOEpMakg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMDo0MjowOFrOEpMkfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjMwNDgyOnYy", "diffSide": "RIGHT", "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMDozNDowN1rOHauTtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMDozNDowN1rOHauTtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4MzczMg==", "bodyText": "Could we call this systemCallError instead?", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497783732", "createdAt": "2020-09-30T20:34:07Z", "author": {"login": "MariaSemple"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -709,6 +709,36 @@ Error systemError(\n    const Error& in_cause,\n    const ErrorLocation& in_location);\n \n+/**\n+ * @brief Function which creates a system error associated with a particular system call.\n+ *\n+ * @param in_function        The error message to associate with this error.\n+ * @param in_code            The error code (typically errno).\n+ * @param in_location        The location of the error.\n+ *\n+ * @return A system error.\n+ */\n+Error syscallError(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjMxMDY1OnYy", "diffSide": "RIGHT", "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMDozNTo1OVrOHauXXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMTowODoxOFrOHavY0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4NDY3MA==", "bodyText": "I think the description here would be more accurate if it were something like The system function for which this error occurred.", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497784670", "createdAt": "2020-09-30T20:35:59Z", "author": {"login": "MariaSemple"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -709,6 +709,36 @@ Error systemError(\n    const Error& in_cause,\n    const ErrorLocation& in_location);\n \n+/**\n+ * @brief Function which creates a system error associated with a particular system call.\n+ *\n+ * @param in_function        The error message to associate with this error.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgwMTQyNQ==", "bodyText": "You're right -- I had forgotten to update the text here; thanks for catching that.", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497801425", "createdAt": "2020-09-30T21:08:18Z", "author": {"login": "kevinushey"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -709,6 +709,36 @@ Error systemError(\n    const Error& in_cause,\n    const ErrorLocation& in_location);\n \n+/**\n+ * @brief Function which creates a system error associated with a particular system call.\n+ *\n+ * @param in_function        The error message to associate with this error.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4NDY3MA=="}, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjMzMDIzOnYy", "diffSide": "RIGHT", "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMDo0MjowOFrOHaujaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzoxODo1MFrOHayhsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4Nzc1Mw==", "bodyText": "Can this be entirely defined in the cpp file? Once I pull these changes to the SDK (and release it) it will become very difficult to make signature changes to any functions in public headers (Error.hpp is a public header in the SDK).", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497787753", "createdAt": "2020-09-30T20:42:08Z", "author": {"login": "MariaSemple"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -735,6 +765,8 @@ Error unknownError(const std::string& in_message, const ErrorLocation& in_locati\n  */\n Error unknownError(const std::string& in_message, const Error& in_cause, const ErrorLocation& in_location);\n \n+// returns the error message associated with a particular system error code\n+std::string systemErrorMessage(int code);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgwNjMwMA==", "bodyText": "I've made a compromise here:\n\nError.cpp (in shared_core) gets its own inline version, just so that we avoid changing the public interface for the SDK;\nSystem.hpp (in core) gets a public version, which can be used by other 'core' utilities (and so LinuxFileMonitor).\n\nDoes that sound reasonable?", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497806300", "createdAt": "2020-09-30T21:18:22Z", "author": {"login": "kevinushey"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -735,6 +765,8 @@ Error unknownError(const std::string& in_message, const ErrorLocation& in_locati\n  */\n Error unknownError(const std::string& in_message, const Error& in_cause, const ErrorLocation& in_location);\n \n+// returns the error message associated with a particular system error code\n+std::string systemErrorMessage(int code);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4Nzc1Mw=="}, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgzOTkxNw==", "bodyText": "Ah - I missed that usage in LinuxFileMonitor, my mistake. I think it's fine to leave it the other way. I should be able move the declaration to the cpp file with my pull-shared-core.sh script. I believe I'm doing that for another function elsewhere already.", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497839917", "createdAt": "2020-09-30T22:38:49Z", "author": {"login": "MariaSemple"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -735,6 +765,8 @@ Error unknownError(const std::string& in_message, const ErrorLocation& in_locati\n  */\n Error unknownError(const std::string& in_message, const Error& in_cause, const ErrorLocation& in_location);\n \n+// returns the error message associated with a particular system error code\n+std::string systemErrorMessage(int code);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4Nzc1Mw=="}, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1Mjg1MA==", "bodyText": "Done -- thanks!", "url": "https://github.com/rstudio/rstudio/pull/7916#discussion_r497852850", "createdAt": "2020-09-30T23:18:50Z", "author": {"login": "kevinushey"}, "path": "src/cpp/shared_core/include/shared_core/Error.hpp", "diffHunk": "@@ -735,6 +765,8 @@ Error unknownError(const std::string& in_message, const ErrorLocation& in_locati\n  */\n Error unknownError(const std::string& in_message, const Error& in_cause, const ErrorLocation& in_location);\n \n+// returns the error message associated with a particular system error code\n+std::string systemErrorMessage(int code);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4Nzc1Mw=="}, "originalCommit": {"oid": "10cb77ee823f47571087d9a71e097d56b79b1af2"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4215, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}