{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0OTQ2NzMz", "number": 8089, "title": "use Ctrl + D to send EOF when readLines active", "bodyText": "Intent\nCurrently, it is not possible for R scripts to read user input via readLines(), as RStudio doesn't provide any mechanism for sending an EOF.\nApproach\nMake that possible, by:\n\nAllowing Ctrl + D in the console to send a special \"EOF\" console input,\nRefactor the various console input classes to accept a set of flags, rather than an implicit \"cancel\" action.\n\nQA Notes\nTest that multi-line input can be read via readLines(), e.g. by executing the following:\nreadLines()\nHello!\nPleased to meet you.\n<Ctrl + D>\n\n\n\nCloses #3448.", "createdAt": "2020-10-16T16:00:25Z", "url": "https://github.com/rstudio/rstudio/pull/8089", "merged": true, "mergeCommit": {"oid": "ef872c3996a93a628af1bf3b5c1c859a86da31af"}, "closed": true, "closedAt": "2020-10-22T21:01:01Z", "author": {"login": "kevinushey"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTIcQZAH2gAyNTA0OTQ2NzMzOjJlZTM5OWY2YTQ2MTAzZDRiNDliYjAxYWQxMzJiMzVjNGVjY2Y0ZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTTijYAH2gAyNTA0OTQ2NzMzOjkxNGQ2YWQ3ZjFhM2UzM2YwZTRkYmY0ODVkNmE4NDNjMGNjZDFjZjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2ee399f6a46103d4b49bb01ad132b35c4eccf4e0", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/2ee399f6a46103d4b49bb01ad132b35c4eccf4e0", "committedDate": "2020-10-16T15:51:54Z", "message": "use Ctrl + D to send EOF when readLines active"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0d1f637149333aca95384903869493f2db6401c", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/a0d1f637149333aca95384903869493f2db6401c", "committedDate": "2020-10-16T16:02:29Z", "message": "update NEWS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62509f60056a29ba4189e76567fdbf609b04f82b", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/62509f60056a29ba4189e76567fdbf609b04f82b", "committedDate": "2020-10-16T16:02:04Z", "message": "update NEWS"}, "afterCommit": {"oid": "a0d1f637149333aca95384903869493f2db6401c", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/a0d1f637149333aca95384903869493f2db6401c", "committedDate": "2020-10-16T16:02:29Z", "message": "update NEWS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwODA1MDE4", "url": "https://github.com/rstudio/rstudio/pull/8089#pullrequestreview-510805018", "createdAt": "2020-10-16T21:20:46Z", "commit": {"oid": "a0d1f637149333aca95384903869493f2db6401c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMToyMDo0NlrOHjQIFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMToyMDo0NlrOHjQIFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjcyNjQyMQ==", "bodyText": "Does this successfully override the Ctrl + D \"bookmark this page\" shortcut (Windows) and/or our own Delete Line shortcut? (wondering if this should be a rebindable \"Send EOF to Console\" command)", "url": "https://github.com/rstudio/rstudio/pull/8089#discussion_r506726421", "createdAt": "2020-10-16T21:20:46Z", "author": {"login": "jmcphers"}, "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/console/shell/Shell.java", "diffHunk": "@@ -666,6 +668,13 @@ public void onError(ServerError error)\n \n             input_.clear();\n          }\n+         else if (keyCode == KeyCodes.KEY_D &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0d1f637149333aca95384903869493f2db6401c"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "914d6ad7f1a3e33f0e4dbf485d6a843c0ccd1cf4", "author": {"user": {"login": "kevinushey", "name": "Kevin Ushey"}}, "url": "https://github.com/rstudio/rstudio/commit/914d6ad7f1a3e33f0e4dbf485d6a843c0ccd1cf4", "committedDate": "2020-10-17T04:47:44Z", "message": "stop event propagation when handling Ctrl+D"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4932, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}