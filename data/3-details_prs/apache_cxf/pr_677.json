{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMwNjIwNDU3", "number": 677, "title": "CXF-8296: Custom Boolean ParamConverter wrong behaviour", "bodyText": "The general issue is with the way CXF handles null parameter values injection, it does not actually distinguish if the converter was applied and returned null, or the result is just null for any reason (no converter found fe).", "createdAt": "2020-06-08T02:44:23Z", "url": "https://github.com/apache/cxf/pull/677", "merged": true, "mergeCommit": {"oid": "e68022f3d92725f4379391559cf843bd56335673"}, "closed": true, "closedAt": "2020-06-09T20:44:41Z", "author": {"login": "reta"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpQdGzgFqTQyNjIyNjI4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpaHzfABqjM0MjI1NDU4ODY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MjI2Mjg1", "url": "https://github.com/apache/cxf/pull/677#pullrequestreview-426226285", "createdAt": "2020-06-08T13:21:11Z", "commit": {"oid": "c2fa6f36bf0a9db1b0c178a221e4398086143f5d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMzoyMToxMVrOGgds-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMzoyMToxMVrOGgds-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY5NDI2Ng==", "bodyText": "Minor suggestion - you could replace the if-check and this line with return Optional.ofNullable(pm);", "url": "https://github.com/apache/cxf/pull/677#discussion_r436694266", "createdAt": "2020-06-08T13:21:11Z", "author": {"login": "andymc12"}, "path": "rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/utils/InjectionUtils.java", "diffHunk": "@@ -539,21 +547,32 @@ private static RuntimeException createParamConversionException(ParameterType pTy\n         }\n         return ExceptionUtils.toBadRequestException(ex, null);\n     }\n-    public static <T> T createFromParameterHandler(String value,\n-                                                    Class<T> pClass,\n-                                                    Type genericType,\n-                                                    Annotation[] anns,\n-                                                    Message message) {\n-        T result = null;\n+    \n+    public static <T> Optional<ParamConverter<T>> getParamConverter(Class<T> pClass,\n+            Type genericType, Annotation[] anns, Message message) {\n+        \n         if (message != null) {\n             ServerProviderFactory pf = ServerProviderFactory.getInstance(message);\n             ParamConverter<T> pm = pf.createParameterHandler(pClass, genericType, anns, message);\n             if (pm != null) {\n-                result = pm.fromString(value);\n+                return Optional.of(pm);\n             }\n         }\n-        return result;\n+        \n+        return Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2fa6f36bf0a9db1b0c178a221e4398086143f5d"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b2b194ef61001f5fd8c0c3feb0f0da671a408d4", "author": {"user": {"login": "reta", "name": "Andriy Redko"}}, "url": "https://github.com/apache/cxf/commit/3b2b194ef61001f5fd8c0c3feb0f0da671a408d4", "committedDate": "2020-06-09T00:42:38Z", "message": "CXF-8296: Custom Boolean ParamConverter wrong behaviour"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2fa6f36bf0a9db1b0c178a221e4398086143f5d", "author": {"user": {"login": "reta", "name": "Andriy Redko"}}, "url": "https://github.com/apache/cxf/commit/c2fa6f36bf0a9db1b0c178a221e4398086143f5d", "committedDate": "2020-06-08T02:40:42Z", "message": "CXF-8296: Custom Boolean ParamConverter wrong behaviour"}, "afterCommit": {"oid": "3b2b194ef61001f5fd8c0c3feb0f0da671a408d4", "author": {"user": {"login": "reta", "name": "Andriy Redko"}}, "url": "https://github.com/apache/cxf/commit/3b2b194ef61001f5fd8c0c3feb0f0da671a408d4", "committedDate": "2020-06-09T00:42:38Z", "message": "CXF-8296: Custom Boolean ParamConverter wrong behaviour"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2095, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}