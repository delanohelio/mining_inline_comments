{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4ODM3MjM4", "number": 707, "title": "[CXF-8353] MediaType validation", "bodyText": "Performs validation on the type and subtype of the MediaType string passed-in according to https://tools.ietf.org/html/rfc2045#section-5.1", "createdAt": "2020-10-06T21:10:17Z", "url": "https://github.com/apache/cxf/pull/707", "merged": true, "mergeCommit": {"oid": "ef6db601365745aee00040f2b793ce8913fb9bfd"}, "closed": true, "closedAt": "2020-10-12T16:48:34Z", "author": {"login": "andymc12"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRz5cZgFqTUwNjYxMzk2OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR0j5MgBqjM4NjY4MjE5ODk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NjEzOTY4", "url": "https://github.com/apache/cxf/pull/707#pullrequestreview-506613968", "createdAt": "2020-10-12T13:21:51Z", "commit": {"oid": "e1280ffa11ad06512a88b201d1f1279f1245fb65"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMzoyMTo1MVrOHf-g0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMzoyMTo1MVrOHf-g0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI5MjExNA==", "bodyText": "Minor, may be check str.trim().length(), it seems weird media types like application/    are still passing through.", "url": "https://github.com/apache/cxf/pull/707#discussion_r503292114", "createdAt": "2020-10-12T13:21:51Z", "author": {"login": "reta"}, "path": "rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/impl/MediaTypeHeaderProvider.java", "diffHunk": "@@ -190,4 +190,35 @@ private static MediaType handleMediaTypeWithoutSubtype(String mType) {\n         }\n         throw new IllegalArgumentException(\"Media type separator is missing\");\n     }\n+\n+    // Determines whether the type or subtype contains any of the tspecials characters defined at:\n+    // https://tools.ietf.org/html/rfc2045#section-5.1\n+    private static boolean isValid(String str) {\n+        final int len = str.length();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1280ffa11ad06512a88b201d1f1279f1245fb65"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NjE0MDIw", "url": "https://github.com/apache/cxf/pull/707#pullrequestreview-506614020", "createdAt": "2020-10-12T13:21:55Z", "commit": {"oid": "e1280ffa11ad06512a88b201d1f1279f1245fb65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adfa9ff834fcf81d4d9d15e14ef8c420b4e05a00", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/apache/cxf/commit/adfa9ff834fcf81d4d9d15e14ef8c420b4e05a00", "committedDate": "2020-10-12T14:08:07Z", "message": "[CXF-8353] MediaType validation\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0c1b36b15924d01a8c7b100222e0fa32de2b832", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/apache/cxf/commit/e0c1b36b15924d01a8c7b100222e0fa32de2b832", "committedDate": "2020-10-12T14:08:07Z", "message": "Code review comment - trim before check\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1280ffa11ad06512a88b201d1f1279f1245fb65", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/apache/cxf/commit/e1280ffa11ad06512a88b201d1f1279f1245fb65", "committedDate": "2020-10-06T21:09:01Z", "message": "[CXF-8353] MediaType validation\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>"}, "afterCommit": {"oid": "e0c1b36b15924d01a8c7b100222e0fa32de2b832", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/apache/cxf/commit/e0c1b36b15924d01a8c7b100222e0fa32de2b832", "committedDate": "2020-10-12T14:08:07Z", "message": "Code review comment - trim before check\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2137, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}