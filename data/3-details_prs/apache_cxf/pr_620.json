{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MzUwNTE5", "number": 620, "title": "CXF-7996: TCK: Resolves FormParam-related failures", "bodyText": "Should fix:\nallParamsInParamTest_from_standalone\nallParamsOnFieldTest_from_standalone\nformParamInParamTest_from_standalone\nformParamOnFieldTest_from_standalone", "createdAt": "2020-01-06T00:10:18Z", "url": "https://github.com/apache/cxf/pull/620", "merged": true, "mergeCommit": {"oid": "dc71ce1635330136e472e0b6fb5ce4a71ae0d474"}, "closed": true, "closedAt": "2020-01-10T16:13:15Z", "author": {"login": "andymc12"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3NjiogH2gAyMzU5MzUwNTE5OjFmOGExODAwOGQzNTI3MGI5OTg3ODcyZTFhZTZjYmU3ZDQ1Zjk5ZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4e8CYgFqTM0MDIzMTc3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f8a18008d35270b9987872e1ae6cbe7d45f99f1", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/apache/cxf/commit/1f8a18008d35270b9987872e1ae6cbe7d45f99f1", "committedDate": "2020-01-05T01:48:21Z", "message": "TCK: Resolves FormParam-related failures\n\nShould fix:\nallParamsInParamTest_from_standalone\nallParamsOnFieldTest_from_standalone\nformParamInParamTest_from_standalone\nformParamOnFieldTest_from_standalone\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMjMxNTI2", "url": "https://github.com/apache/cxf/pull/620#pullrequestreview-340231526", "createdAt": "2020-01-09T00:36:25Z", "commit": {"oid": "1f8a18008d35270b9987872e1ae6cbe7d45f99f1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwMDozNjoyNlrOFboCVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwMDozNjoyNlrOFboCVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUxMTgyOQ==", "bodyText": "I am wondering if we have to close the source (origin) InputStream here, since we replace it (dangling?) with the copy , what do you think @andymc12 ?", "url": "https://github.com/apache/cxf/pull/620#discussion_r364511829", "createdAt": "2020-01-09T00:36:26Z", "author": {"login": "reta"}, "path": "rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/utils/JAXRSUtils.java", "diffHunk": "@@ -1878,4 +1891,16 @@ public static String logMessageHandlerProblem(String name, Class<?> cls, MediaTy\n         return errorMessage;\n     }\n \n+    // copy the input stream so that it is not inadvertently closed\n+    private static InputStream copyAndGetEntityStream(Message m) {\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        try {\n+            IOUtils.copy(m.getContent(InputStream.class), baos);\n+        } catch (IOException e) {\n+            throw ExceptionUtils.toInternalServerErrorException(e, null);\n+        }\n+        final byte[] copiedBytes = baos.toByteArray();\n+        m.setContent(InputStream.class, new ByteArrayInputStream(copiedBytes));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f8a18008d35270b9987872e1ae6cbe7d45f99f1"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMjMxNzc5", "url": "https://github.com/apache/cxf/pull/620#pullrequestreview-340231779", "createdAt": "2020-01-09T00:37:26Z", "commit": {"oid": "1f8a18008d35270b9987872e1ae6cbe7d45f99f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2170, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}