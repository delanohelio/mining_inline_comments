{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NDM5NDcz", "number": 1220, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTozMDozNlrOD9Wo5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTozMDo1N1rOD9Wpaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NjYwNjQ0OnYy", "diffSide": "RIGHT", "path": "instrumentation/http-tests/src/main/java/brave/test/http/ITHttpServer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTozMDozNlrOGWzDGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTozMDozNlrOGWzDGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU1ODIzNQ==", "bodyText": "This is the part that should fix the bug", "url": "https://github.com/openzipkin/brave/pull/1220#discussion_r426558235", "createdAt": "2020-05-18T11:30:36Z", "author": {"login": "codefromthecrypt"}, "path": "instrumentation/http-tests/src/main/java/brave/test/http/ITHttpServer.java", "diffHunk": "@@ -530,13 +529,15 @@ void spanHandlerSeesError(String path) throws IOException {\n             return true;\n           }\n         })\n+        .addSpanHandler(testSpanHandler)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a73627671fc096463f34eb53c99d80d705621218"}, "originalPosition": 219}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NjYwNzc5OnYy", "diffSide": "RIGHT", "path": "instrumentation/http-tests/src/main/java/brave/test/http/ITHttpServer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTozMDo1N1rOGWzD4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTozMDo1N1rOGWzD4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU1ODQzMw==", "bodyText": "horrible error.. my fault", "url": "https://github.com/openzipkin/brave/pull/1220#discussion_r426558433", "createdAt": "2020-05-18T11:30:57Z", "author": {"login": "codefromthecrypt"}, "path": "instrumentation/http-tests/src/main/java/brave/test/http/ITHttpServer.java", "diffHunk": "@@ -530,13 +529,15 @@ void spanHandlerSeesError(String path) throws IOException {\n             return true;\n           }\n         })\n+        .addSpanHandler(testSpanHandler)\n         .build());\n     init();\n \n+    // If this passes, a span was reported with an error\n     httpStatusCodeTagMatchesResponse_onUncaughtException(path, \".*not ready\");\n \n     assertThat(caughtThrowables)\n-        .withFailMessage(\"Span didn't finish\")\n+        .withFailMessage(\"Span finished with error, but caughtThrowables empty\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a73627671fc096463f34eb53c99d80d705621218"}, "originalPosition": 228}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1460, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}