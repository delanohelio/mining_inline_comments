{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MDY5MzI1", "number": 1216, "title": "Polish based on use in secondary sampling and sleuth", "bodyText": "notably secondary sampling needs to undo the shared flag\nNPE due to forgotten decrement on tag\nSpringBootTest timeout", "createdAt": "2020-05-17T06:38:09Z", "url": "https://github.com/openzipkin/brave/pull/1216", "merged": true, "mergeCommit": {"oid": "bca53f7cf0a447ed66725964dba821f534b96549"}, "closed": true, "closedAt": "2020-05-17T08:43:30Z", "author": {"login": "codefromthecrypt"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciFbc4gH2gAyNDE5MDY5MzI1OmNmNzIwNTM5YmNiNDc0NTMwNWRhYTNmMDJmOWNmODhhMTAzNGIwY2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciG0m8AH2gAyNDE5MDY5MzI1OjczZGFlNGZlYTE4ZmFjYWM0OWY4YTM3ZjgzZmE5NWYwMDUxOTE3ZjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cf720539bcb4745305daa3f02f9cf88a1034b0cc", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/cf720539bcb4745305daa3f02f9cf88a1034b0cc", "committedDate": "2020-05-17T06:39:01Z", "message": "Adds accidentally forgotten unset methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d1f3db94d25447a20a95643ec9da80100efabb0", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/8d1f3db94d25447a20a95643ec9da80100efabb0", "committedDate": "2020-05-17T07:10:24Z", "message": "fix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97b5fcdbf5a7c4e605515c46e0d3c9202fa8d09c", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/97b5fcdbf5a7c4e605515c46e0d3c9202fa8d09c", "committedDate": "2020-05-17T07:50:17Z", "message": "add really long timeout for SpringBootTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTM2NTk0", "url": "https://github.com/openzipkin/brave/pull/1216#pullrequestreview-413136594", "createdAt": "2020-05-17T07:54:19Z", "commit": {"oid": "97b5fcdbf5a7c4e605515c46e0d3c9202fa8d09c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwNzo1NDoyMFrOGWfBlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwNzo1NDoyMFrOGWfBlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIzMDE2Ng==", "bodyText": "I always wanted this to be less, but I feel like moving it to 5s will just result in another PR to move it to 10", "url": "https://github.com/openzipkin/brave/pull/1216#discussion_r426230166", "createdAt": "2020-05-17T07:54:20Z", "author": {"login": "codefromthecrypt"}, "path": "brave-tests/src/main/java/brave/test/IntegrationTestSpanHandler.java", "diffHunk": "@@ -146,7 +146,9 @@ public MutableSpan takeLocalSpan() {\n   MutableSpan doTakeSpan(boolean flushed) {\n     MutableSpan result;\n     try {\n-      result = spans.poll(3, TimeUnit.SECONDS);\n+      // Same rationale as ITRemote: tests should never take 5s in normal circumstances.\n+      // In practice, @SpringBootTest tests overrun 3-5 seconds in CI.\n+      result = spans.poll(20, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97b5fcdbf5a7c4e605515c46e0d3c9202fa8d09c"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebf5598d48b799b716965ad0d6f45236b54d3f4c", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/ebf5598d48b799b716965ad0d6f45236b54d3f4c", "committedDate": "2020-05-17T07:55:00Z", "message": "clarify"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTM3NTQw", "url": "https://github.com/openzipkin/brave/pull/1216#pullrequestreview-413137540", "createdAt": "2020-05-17T08:07:15Z", "commit": {"oid": "ebf5598d48b799b716965ad0d6f45236b54d3f4c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwODowNzoxNVrOGWfF9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwODowNzoxNVrOGWfF9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIzMTI4Ng==", "bodyText": "So how about set to 10? ;)", "url": "https://github.com/openzipkin/brave/pull/1216#discussion_r426231286", "createdAt": "2020-05-17T08:07:15Z", "author": {"login": "anuraaga"}, "path": "brave-tests/src/main/java/brave/test/IntegrationTestSpanHandler.java", "diffHunk": "@@ -146,7 +146,9 @@ public MutableSpan takeLocalSpan() {\n   MutableSpan doTakeSpan(boolean flushed) {\n     MutableSpan result;\n     try {\n-      result = spans.poll(3, TimeUnit.SECONDS);\n+      // Same rationale as ITRemote: tests should never take 5s in normal circumstances.\n+      // In practice, @SpringBootTest tests overrun 3-5 seconds in CI.\n+      result = spans.poll(20, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIzMDE2Ng=="}, "originalCommit": {"oid": "97b5fcdbf5a7c4e605515c46e0d3c9202fa8d09c"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73dae4fea18facac49f8a37f83fa95f0051917f0", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/73dae4fea18facac49f8a37f83fa95f0051917f0", "committedDate": "2020-05-17T08:16:24Z", "message": "and the number for the counting is 10.. 4 is right out"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1758, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}