{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MzI2MjYz", "number": 1176, "title": "Makes Http adapters finishable with only (response, span)", "bodyText": "Similar to #999, HTTP should also be able to derive the error directly\nfrom HttpResponse vs a second argument. This also allows exceptions\nthat nest status codes to become parsable into span tags.\nThis also updates places where we still used Tracer.withSpanInScope\nin HTTP. This api has a problem that it cannot detect if a span is already\nin scope.", "createdAt": "2020-04-27T08:08:25Z", "url": "https://github.com/openzipkin/brave/pull/1176", "merged": true, "mergeCommit": {"oid": "3a8bb062f68d6729f80c38969e87c32ce42a7681"}, "closed": true, "closedAt": "2020-04-27T10:20:36Z", "author": {"login": "codefromthecrypt"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbqsETgH2gAyNDA5MzI2MjYzOmZlNGVjNDZjMzVhZjRkZTE3ZDJjMzcwZjEzZGU0MGNiM2UzMWEwZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbrzS5gH2gAyNDA5MzI2MjYzOjk1Njk0MWZjNTZjZGExNDA0NTlmNjlkM2E0MzYyZWM5N2Y4Njk5MzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/fe4ec46c35af4de17d2c370f13de40cb3e31a0db", "committedDate": "2020-04-27T08:06:11Z", "message": "Makes Http adapters finishable with only (response, span)\n\nSimilar to #999, HTTP should also be able to derive the error directly\nfrom `HttpResponse` vs a second argument. This also allows exceptions\nthat nest status codes to become parsable into span tags."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNzE5NTgz", "url": "https://github.com/openzipkin/brave/pull/1176#pullrequestreview-400719583", "createdAt": "2020-04-27T08:10:08Z", "commit": {"oid": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwODoxMDowOFrOGMWVSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwODoxMDowOFrOGMWVSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMTk5Mw==", "bodyText": "note: changes to this file are mainly to it almost identical to RpcHandler in #999", "url": "https://github.com/openzipkin/brave/pull/1176#discussion_r415601993", "createdAt": "2020-04-27T08:10:08Z", "author": {"login": "codefromthecrypt"}, "path": "instrumentation/http/src/main/java/brave/http/HttpHandler.java", "diffHunk": "@@ -15,6 +15,9 @@\n \n import brave.Span;\n import brave.internal.Nullable;\n+import brave.internal.Platform;\n+\n+import static brave.internal.Throwables.propagateIfFatal;\n \n abstract class HttpHandler {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b3c31302029b29e3bf8c4cc615010745ee9f0a0", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/0b3c31302029b29e3bf8c4cc615010745ee9f0a0", "committedDate": "2020-04-27T08:14:07Z", "message": "missing test copies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNzIxNDMy", "url": "https://github.com/openzipkin/brave/pull/1176#pullrequestreview-400721432", "createdAt": "2020-04-27T08:12:40Z", "commit": {"oid": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwODoxMjo0MFrOGMWbxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwODoxMjo0MFrOGMWbxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMzY1NQ==", "bodyText": "The space is back!", "url": "https://github.com/openzipkin/brave/pull/1176#discussion_r415603655", "createdAt": "2020-04-27T08:12:40Z", "author": {"login": "anuraaga"}, "path": "instrumentation/http/src/main/java/brave/http/HttpClientHandler.java", "diffHunk": "@@ -97,7 +97,7 @@\n     this.tracer = httpTracing.tracing().tracer();\n     this.sampler = httpTracing.tracing().sampler();\n     this.httpSampler = httpTracing.clientRequestSampler();\n-    this.serverName = !\"\".equals(httpTracing.serverName()) ? httpTracing.serverName() : null;\n+    this.serverName = !\"\" .equals(httpTracing.serverName()) ? httpTracing.serverName() : null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "956941fc56cda140459f69d3a4362ec97f869932", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/956941fc56cda140459f69d3a4362ec97f869932", "committedDate": "2020-04-27T09:23:59Z", "message": "un.. space.. my heart..."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1693, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}