{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNTYwMzUz", "number": 1156, "title": "Adds trace IDs to MutableSpan", "bodyText": "This allows features only possible prior with zipkin model:\n\nre-parenting span to the local root (skeletal spans)\nresetting trace ID to an external one (secondary sampling)\n\nOne simplifying change is that this only tracks empty span allocation\nwhen Tracing.Builder.trackOrphans() is set. This is because we no\nlonger have an accidental way of creating them with\nTracer.currentSpan()", "createdAt": "2020-04-13T09:28:33Z", "url": "https://github.com/openzipkin/brave/pull/1156", "merged": true, "mergeCommit": {"oid": "ed7da8d33a5be86ca9622793a9b146ad7ddb5b3c"}, "closed": true, "closedAt": "2020-04-14T02:30:15Z", "author": {"login": "codefromthecrypt"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXLb-RgH2gAyNDAyNTYwMzUzOjEwY2ExNmRjYTI3ZmQzZmRiMDBjOGJjOGI1Y2M1Njc2NjE5ZDg0ZDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXZ0eYgH2gAyNDAyNTYwMzUzOjljZjllN2VmZTU5MGQzMzU4ODNlNDMzYTcyZDQyMTUyNjYyYWIxMWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "10ca16dca27fd3fdb00c8bc8b5cc5676619d84d9", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/10ca16dca27fd3fdb00c8bc8b5cc5676619d84d9", "committedDate": "2020-04-13T09:25:51Z", "message": "Adds trace IDs to MutableSpan\n\nThis allows features only possible prior with zipkin model:\n* re-parenting span to the local root (skeletal spans)\n* resetting trace ID to an external one (secondary sampling)\n\nOne simplifying change is that this only tracks empty span allocation\nwhen `Tracing.Builder.trackOrphans()` is set. This is because we no\nlonger have an accidental way of creating them with\n`Tracer.currentSpan()`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMDU3Njgx", "url": "https://github.com/openzipkin/brave/pull/1156#pullrequestreview-392057681", "createdAt": "2020-04-13T09:53:05Z", "commit": {"oid": "10ca16dca27fd3fdb00c8bc8b5cc5676619d84d9"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QwOTo1MzowNVrOGEiHoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QwOTo1MzowNVrOGEiHoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQwNjQ5Nw==", "bodyText": "Missing localRootId", "url": "https://github.com/openzipkin/brave/pull/1156#discussion_r407406497", "createdAt": "2020-04-13T09:53:05Z", "author": {"login": "anuraaga"}, "path": "brave/src/main/java/brave/handler/MutableSpan.java", "diffHunk": "@@ -90,6 +91,9 @@ public MutableSpan() {\n   /** @since 5.12 */\n   public MutableSpan(MutableSpan toCopy) {\n     if (toCopy == null) throw new NullPointerException(\"toCopy == null\");\n+    traceId = toCopy.traceId;\n+    parentId = toCopy.parentId;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10ca16dca27fd3fdb00c8bc8b5cc5676619d84d9"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cf9e7efe590d335883e433a72d42152662ab11e", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/9cf9e7efe590d335883e433a72d42152662ab11e", "committedDate": "2020-04-14T02:11:17Z", "message": "polish and misc fixies"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1946, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}