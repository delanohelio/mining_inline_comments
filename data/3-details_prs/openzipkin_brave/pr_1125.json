{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzOTgxODYx", "number": 1125, "title": "Cleans up MongoDB for release", "bodyText": "Removes unused dependency on async\nRemoves irrelevant dependency on reactivestreams\nAdds note to vote for async\nRemoves toBuilder\nRemoves unnecessary null defense on command failed\nBackports tests to ITRemote\nMakes tags checking more strict, notably with cluster ID\nAdjusts formatting\nFixes pom versions", "createdAt": "2020-03-26T06:28:11Z", "url": "https://github.com/openzipkin/brave/pull/1125", "merged": true, "mergeCommit": {"oid": "3589710f63320bb46e977eae4547c1535d8603b9"}, "closed": true, "closedAt": "2020-03-28T03:19:57Z", "author": {"login": "codefromthecrypt"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRWICSgFqTM4MTczMDEyMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR7XabABqjMxNzQ1Mzk4MTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNzMwMTIy", "url": "https://github.com/openzipkin/brave/pull/1125#pullrequestreview-381730122", "createdAt": "2020-03-26T06:29:28Z", "commit": {"oid": "e90fbee4d1986ef7a7b76c76687e11d4560e2a67"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwNjoyOToyOFrOF744mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwNjoyOToyOFrOF744mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM0MjI5OA==", "bodyText": "I checked every reference in mongo's driver. My guess is that this guard was added because of mocks. I've noticed some irrelevant null defense elsewhere when mocks are used primarily.", "url": "https://github.com/openzipkin/brave/pull/1125#discussion_r398342298", "createdAt": "2020-03-26T06:29:28Z", "author": {"login": "codefromthecrypt"}, "path": "instrumentation/mongodb/src/main/java/brave/mongodb/TraceMongoCommandListener.java", "diffHunk": "@@ -104,8 +104,7 @@\n   @Override public void commandFailed(CommandFailedEvent event) {\n     Span span = threadLocalSpan.remove();\n     if (span == null) return;\n-    Throwable throwable = event.getThrowable();\n-    span.error(throwable == null ? new MongoException(\"Command failed but no throwable was reported\") : throwable);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e90fbee4d1986ef7a7b76c76687e11d4560e2a67"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxODU4MzE5", "url": "https://github.com/openzipkin/brave/pull/1125#pullrequestreview-381858319", "createdAt": "2020-03-26T10:04:18Z", "commit": {"oid": "e90fbee4d1986ef7a7b76c76687e11d4560e2a67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46b11b12b3c088778aca78b5ac271f4fe59ffedf", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/46b11b12b3c088778aca78b5ac271f4fe59ffedf", "committedDate": "2020-03-28T01:52:18Z", "message": "Cleans up MongoDB for release\n\n* Removes unused dependency on async\n* Removes irrelevant dependency on reactivestreams\n* Adds note to vote for async\n* Removes toBuilder\n* Removes unnecessary null defense on command failed\n* Backports tests to ITRemote\n* Makes tags checking more strict, notably with cluster ID\n* Adjusts formatting\n* Fixes pom versions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e90fbee4d1986ef7a7b76c76687e11d4560e2a67", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/e90fbee4d1986ef7a7b76c76687e11d4560e2a67", "committedDate": "2020-03-26T06:25:45Z", "message": "Cleans up MongoDB for release\n\n* Removes unused dependency on async\n* Removes irrelevant dependency on reactivestreams\n* Adds note to vote for async\n* Removes toBuilder\n* Removes unnecessary null defense on command failed\n* Backports tests to ITRemote\n* Makes tags checking more strict, notably with cluster ID\n* Adjusts formatting\n* Fixes pom versions"}, "afterCommit": {"oid": "46b11b12b3c088778aca78b5ac271f4fe59ffedf", "author": {"user": null}, "url": "https://github.com/openzipkin/brave/commit/46b11b12b3c088778aca78b5ac271f4fe59ffedf", "committedDate": "2020-03-28T01:52:18Z", "message": "Cleans up MongoDB for release\n\n* Removes unused dependency on async\n* Removes irrelevant dependency on reactivestreams\n* Adds note to vote for async\n* Removes toBuilder\n* Removes unnecessary null defense on command failed\n* Backports tests to ITRemote\n* Makes tags checking more strict, notably with cluster ID\n* Adjusts formatting\n* Fixes pom versions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1887, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}