{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTc4MDg4", "number": 2781, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTo0NjozNlrOEcIY_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjowMDo1NVrOEcIxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3OTMzMDUzOnYy", "diffSide": "RIGHT", "path": "server/bin/org_migrator/org_migrator.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTo0NjozNlrOHGeYMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTo0NjozNlrOHGeYMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU1MTIxNg==", "bodyText": "We are still limited to Python2 in some environments, so this change can't go through. But we can make it compatible with python3 by changing it to:\nprint(\"Available orgs: %s\" % (list_orgs(db)))", "url": "https://github.com/candlepin/candlepin/pull/2781#discussion_r476551216", "createdAt": "2020-08-25T15:46:36Z", "author": {"login": "Ceiu"}, "path": "server/bin/org_migrator/org_migrator.py", "diffHunk": "@@ -926,7 +926,7 @@ def main():\n                 log.error(\"No such org: %s\", args[0])\n \n         elif options.act_list:\n-            print \"Available orgs: %s\" % (list_orgs(db))\n+            print(f\"Available orgs: {list_orgs(db)}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3635851cc48f23860f007c350ed13f3d9ab5bed"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3OTM5MjUxOnYy", "diffSide": "RIGHT", "path": "server/bin/org_migrator/org_migrator.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjowMDo1NVrOHGe-uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjowMDo1NVrOHGe-uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU2MTA4Mw==", "bodyText": "In line with the other Python2 compat change, can we keep the buffer type present? I've also added some warning output and a handler in the event the type isn't present:\n    def data_converter(obj):\n        if isinstance(obj, (bytearray, buffer, memoryview)):\n            return binascii.b2a_base64(obj)\n        if isinstance(obj, datetime.datetime):\n            return str(obj)\n\n        raise TypeError(\"Unexpected type: %s\" % (type(obj)))", "url": "https://github.com/candlepin/candlepin/pull/2781#discussion_r476561083", "createdAt": "2020-08-25T16:00:55Z", "author": {"login": "Ceiu"}, "path": "server/bin/org_migrator/org_migrator.py", "diffHunk": "@@ -64,7 +64,7 @@ def list_orgs(db):\n \n def jsonify(data):\n     def data_converter(obj):\n-        if isinstance(obj, bytearray) or isinstance(obj, buffer):\n+        if isinstance(obj, (bytearray, memoryview)):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3635851cc48f23860f007c350ed13f3d9ab5bed"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4067, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}