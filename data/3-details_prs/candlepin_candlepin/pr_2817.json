{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NDM5MDk1", "number": 2817, "title": "ENT-2790: Port CrlResource to spec-first", "bodyText": "", "createdAt": "2020-10-06T10:37:40Z", "url": "https://github.com/candlepin/candlepin/pull/2817", "merged": true, "mergeCommit": {"oid": "a5aabf0522d558fd6504d58ee05fb291041f3fa8"}, "closed": true, "closedAt": "2020-10-07T05:16:56Z", "author": {"login": "Januson"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP3yxWAFqTUwMjgzNTcxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP4kxigFqTUwMjk3NDE4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyODM1NzEy", "url": "https://github.com/candlepin/candlepin/pull/2817#pullrequestreview-502835712", "createdAt": "2020-10-06T11:22:45Z", "commit": {"oid": "54b60d8cc65c352e311c7a29f59f26e9f90acd7b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMjozOTowNFrOHdETcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMjo0MDoxN1rOHdEWqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI0MTI2NA==", "bodyText": "The same applies here. Let's avoid capitalization of the display message.", "url": "https://github.com/candlepin/candlepin/pull/2817#discussion_r500241264", "createdAt": "2020-10-06T12:39:04Z", "author": {"login": "sonalidhome"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -1215,6 +1215,64 @@ paths:\n         default:\n           $ref: '#/components/responses/default'\n \n+  /crl:\n+    get:\n+      tags:\n+        - Certificate Revocation List\n+      description: Retrieves the Certificate Revocation List\n+      operationId: getCurrentCrl\n+      security: []\n+      x-java-response:\n+        type: javax.ws.rs.core.Response\n+        isContainer: false\n+      responses:\n+        200:\n+          description: Certificate Revocation List successfully retrieved\n+          content:\n+            text/plain:\n+              schema:\n+                type: string\n+        500:\n+          description: CRL file path not defined in config file\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/ExceptionMessage'\n+              example:\n+                displayMessage: CRL file path not defined in config file\n+                requestUuid: c4347004-8792-41fe-a4d8-fccaa0d3898a\n+        default:\n+          $ref: '#/components/responses/default'\n+\n+    delete:\n+      tags:\n+        - Certificate Revocation List\n+      description: Deletes a Certificate from the Revocation List", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54b60d8cc65c352e311c7a29f59f26e9f90acd7b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI0MTMxMg==", "bodyText": "Let's avoid capitalization of the display message.", "url": "https://github.com/candlepin/candlepin/pull/2817#discussion_r500241312", "createdAt": "2020-10-06T12:39:10Z", "author": {"login": "sonalidhome"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -1215,6 +1215,64 @@ paths:\n         default:\n           $ref: '#/components/responses/default'\n \n+  /crl:\n+    get:\n+      tags:\n+        - Certificate Revocation List\n+      description: Retrieves the Certificate Revocation List\n+      operationId: getCurrentCrl\n+      security: []\n+      x-java-response:\n+        type: javax.ws.rs.core.Response\n+        isContainer: false\n+      responses:\n+        200:\n+          description: Certificate Revocation List successfully retrieved", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54b60d8cc65c352e311c7a29f59f26e9f90acd7b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI0MjA4OQ==", "bodyText": "@Path and @Api annotations can be removed.", "url": "https://github.com/candlepin/candlepin/pull/2817#discussion_r500242089", "createdAt": "2020-10-06T12:40:17Z", "author": {"login": "sonalidhome"}, "path": "server/src/main/java/org/candlepin/resource/CrlResource.java", "diffHunk": "@@ -26,55 +25,44 @@\n import com.google.inject.Inject;\n \n import io.swagger.annotations.Api;\n-import io.swagger.annotations.ApiOperation;\n import io.swagger.annotations.Authorization;\n \n import java.io.File;\n import java.io.FileInputStream;\n import java.io.FileOutputStream;\n import java.io.IOException;\n import java.math.BigInteger;\n-import java.security.cert.CRLException;\n import java.util.LinkedList;\n import java.util.List;\n+import java.util.Objects;\n \n-import javax.ws.rs.DELETE;\n-import javax.ws.rs.GET;\n import javax.ws.rs.Path;\n-import javax.ws.rs.Produces;\n-import javax.ws.rs.QueryParam;\n-import javax.ws.rs.core.Context;\n-import javax.ws.rs.core.MediaType;\n import javax.ws.rs.core.Response;\n \n /**\n  * CrlResource\n  */\n @Path(\"/crl\")\n @Api(value = \"crl\", authorizations = { @Authorization(\"basic\") })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54b60d8cc65c352e311c7a29f59f26e9f90acd7b"}, "originalPosition": 38}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "54b60d8cc65c352e311c7a29f59f26e9f90acd7b", "author": {"user": {"login": "Januson", "name": null}}, "url": "https://github.com/candlepin/candlepin/commit/54b60d8cc65c352e311c7a29f59f26e9f90acd7b", "committedDate": "2020-10-06T10:36:19Z", "message": "ENT-2790: Port CrlResource to spec-first"}, "afterCommit": {"oid": "3fdd9ffcaef2f5b444076eaf04e506c4c9dafa0d", "author": {"user": {"login": "Januson", "name": null}}, "url": "https://github.com/candlepin/candlepin/commit/3fdd9ffcaef2f5b444076eaf04e506c4c9dafa0d", "committedDate": "2020-10-06T13:14:52Z", "message": "ENT-2790: Port CrlResource to spec-first"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "943a88eccc913e71cb35a79188ec4e8a317186aa", "author": {"user": {"login": "Januson", "name": null}}, "url": "https://github.com/candlepin/candlepin/commit/943a88eccc913e71cb35a79188ec4e8a317186aa", "committedDate": "2020-10-06T13:16:09Z", "message": "ENT-2790: Port CrlResource to spec-first"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3fdd9ffcaef2f5b444076eaf04e506c4c9dafa0d", "author": {"user": {"login": "Januson", "name": null}}, "url": "https://github.com/candlepin/candlepin/commit/3fdd9ffcaef2f5b444076eaf04e506c4c9dafa0d", "committedDate": "2020-10-06T13:14:52Z", "message": "ENT-2790: Port CrlResource to spec-first"}, "afterCommit": {"oid": "943a88eccc913e71cb35a79188ec4e8a317186aa", "author": {"user": {"login": "Januson", "name": null}}, "url": "https://github.com/candlepin/candlepin/commit/943a88eccc913e71cb35a79188ec4e8a317186aa", "committedDate": "2020-10-06T13:16:09Z", "message": "ENT-2790: Port CrlResource to spec-first"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyOTc0MTg4", "url": "https://github.com/candlepin/candlepin/pull/2817#pullrequestreview-502974188", "createdAt": "2020-10-06T13:40:57Z", "commit": {"oid": "943a88eccc913e71cb35a79188ec4e8a317186aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2326, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}