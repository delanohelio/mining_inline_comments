{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MzAzMDY2", "number": 2581, "title": "[F] Convert StatusResource to the OpenAPI specification (ENT-1884)", "bodyText": "Created new specifications for the status resource and status DTO\nUpdated StatusResource to implement the generated API specification\nDeleted existing StatusDTO and KeycloakStatusDTO\nDeleted existing StatusDTOTest test\nMerge keycloak status fields into status DTO\nUpdated StatusCache to use new DTO", "createdAt": "2020-01-23T11:01:31Z", "url": "https://github.com/candlepin/candlepin/pull/2581", "merged": true, "mergeCommit": {"oid": "def942e19ab5e758f313df33ce84d94aeb948812"}, "closed": true, "closedAt": "2020-02-12T11:42:27Z", "author": {"login": "abhiskum"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9MKJNgFqTM0NzM5MTE3MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDiQtsgFqTM1NzI2OTg0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3MzkxMTcx", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-347391171", "createdAt": "2020-01-23T15:33:27Z", "commit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNTozMzoyN1rOFhClDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNTozMzoyN1rOFhClDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA==", "bodyText": "Something of note here: when we added the keycloak bits, we didn't want the values to be present in status if it was disabled (which it would be in most places); hence the separated DTOs. We should probably retain that.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370189580", "createdAt": "2020-01-23T15:33:27Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a", "committedDate": "2020-01-23T10:54:54Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Merge keycloak status fields into status DTO\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "487efd189a12c1cb8f88e5fe1a81556a302eb8e5", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/487efd189a12c1cb8f88e5fe1a81556a302eb8e5", "committedDate": "2020-01-24T06:07:17Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Merge keycloak status fields into status DTO\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "487efd189a12c1cb8f88e5fe1a81556a302eb8e5", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/487efd189a12c1cb8f88e5fe1a81556a302eb8e5", "committedDate": "2020-01-24T06:07:17Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Merge keycloak status fields into status DTO\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "fcc8ebd632a5763c662734312f2b288dfc97753c", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/fcc8ebd632a5763c662734312f2b288dfc97753c", "committedDate": "2020-01-24T06:10:40Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcc8ebd632a5763c662734312f2b288dfc97753c", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/fcc8ebd632a5763c662734312f2b288dfc97753c", "committedDate": "2020-01-24T06:10:40Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "5795a66ec8193cda916c2276b6c4208c72adb0e1", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/5795a66ec8193cda916c2276b6c4208c72adb0e1", "committedDate": "2020-01-24T06:57:28Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5795a66ec8193cda916c2276b6c4208c72adb0e1", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/5795a66ec8193cda916c2276b6c4208c72adb0e1", "committedDate": "2020-01-24T06:57:28Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/f4122c8298ef76478e106e64ca8996cebbafa556", "committedDate": "2020-01-24T11:12:10Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MTUyODAy", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-348152802", "createdAt": "2020-01-24T18:49:04Z", "commit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MTkwNjM2", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-348190636", "createdAt": "2020-01-24T19:57:20Z", "commit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxOTo1NzoyMFrOFho1iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxOTo1NzoyMFrOFho1iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgxNjM5NQ==", "bodyText": "Depending on where we land with the other date things, these may need to become a date format.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370816395", "createdAt": "2020-01-24T19:57:20Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,53 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Version and Status information about running Candlepin server\n+      discriminator:\n+        propertyName: type\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556"}, "originalPosition": 44}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/f4122c8298ef76478e106e64ca8996cebbafa556", "committedDate": "2020-01-24T11:12:10Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "ebc07a0a2d69967a96069c4033d003ed46bca500", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/ebc07a0a2d69967a96069c4033d003ed46bca500", "committedDate": "2020-01-26T11:25:08Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ebc07a0a2d69967a96069c4033d003ed46bca500", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/ebc07a0a2d69967a96069c4033d003ed46bca500", "committedDate": "2020-01-26T11:25:08Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "8f68576ff859e50f9a4df99be4c58d0c4d89b05b", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/8f68576ff859e50f9a4df99be4c58d0c4d89b05b", "committedDate": "2020-01-28T13:15:48Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f68576ff859e50f9a4df99be4c58d0c4d89b05b", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/8f68576ff859e50f9a4df99be4c58d0c4d89b05b", "committedDate": "2020-01-28T13:15:48Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/3a1d133878c57af397af0034eaed6f02f2d5cb22", "committedDate": "2020-01-29T00:10:40Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMTY0MjAw", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-350164200", "createdAt": "2020-01-29T14:50:41Z", "commit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNDo1MDo0MVrOFjLISA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNToxMjozNFrOFjMBgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQyNjgyNA==", "bodyText": "I believe we're keeping date-time, as per the update in #2584 (comment). That PR has been updated with proper custom (de)serialization for OffsetDateTime.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372426824", "createdAt": "2020-01-29T14:50:41Z", "author": {"login": "nikosmoum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,53 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Version and Status information about running Candlepin server\n+      discriminator:\n+        propertyName: type\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgxNjM5NQ=="}, "originalCommit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQzOTkzMg==", "bodyText": "There is no need to create a Date instance first and then convert it to OffsetDateTime here. OffsetDateTime.now() will do.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372439932", "createdAt": "2020-01-29T15:10:24Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/resource/StatusResource.java", "diffHunk": "@@ -157,30 +146,26 @@ public StatusDTO status() {\n \n         good = good && (mode == Mode.NORMAL);\n \n-        StatusDTO status;\n+        StatusDTO status = new StatusDTO()\n+            .result(good)\n+            .version(version)\n+            .release(release)\n+            .standalone(standalone)\n+            .rulesVersion(jsProvider.getRulesVersion())\n+            .rulesSource(rulesSource != null ? rulesSource.toString() : null)\n+            .mode(mode != null ? mode.toString() : null)\n+            .modeReason(mcr != null ? mcr.toString() : null)\n+            .modeChangeTime(mcr != null ? mcr.getTime().toInstant().atOffset(ZoneOffset.UTC) : null)\n+            .managerCapabilities(caps.stream().collect(Collectors.toList()))\n+            .timeUTC(new Date().toInstant().atOffset(ZoneOffset.UTC));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ0MTQ3NQ==", "bodyText": "Same for all the changes in this file, just use OffsetDateTime.now() directly.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372441475", "createdAt": "2020-01-29T15:12:34Z", "author": {"login": "nikosmoum"}, "path": "server/src/test/java/org/candlepin/cache/StatusCacheTest.java", "diffHunk": "@@ -46,8 +47,8 @@ public void setAndGet() {\n         StatusCache cache = new StatusCache();\n \n         StatusDTO status = new StatusDTO()\n-            .setResult(true)\n-            .setTimeUTC(new Date());\n+            .result(true)\n+            .timeUTC(new Date().toInstant().atOffset(ZoneOffset.UTC));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMzM2OTY3", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-350336967", "createdAt": "2020-01-29T18:41:29Z", "commit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxODo0MToyOVrOFjTVvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxODo0MToyOVrOFjTVvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ==", "bodyText": "Please remove this line", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372561341", "createdAt": "2020-01-29T18:41:29Z", "author": {"login": "kahowell"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/3a1d133878c57af397af0034eaed6f02f2d5cb22", "committedDate": "2020-01-29T00:10:40Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "934511256f65aa70595ab1c7ff17db499b5ce2d0", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/934511256f65aa70595ab1c7ff17db499b5ce2d0", "committedDate": "2020-01-30T00:12:31Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNjYxNDIy", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-350661422", "createdAt": "2020-01-30T08:55:33Z", "commit": {"oid": "934511256f65aa70595ab1c7ff17db499b5ce2d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "934511256f65aa70595ab1c7ff17db499b5ce2d0", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/934511256f65aa70595ab1c7ff17db499b5ce2d0", "committedDate": "2020-01-30T00:12:31Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "d4f5181f296946066189fd5bbe48ecacc2cf17fe", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/d4f5181f296946066189fd5bbe48ecacc2cf17fe", "committedDate": "2020-02-03T03:39:26Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4f5181f296946066189fd5bbe48ecacc2cf17fe", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/d4f5181f296946066189fd5bbe48ecacc2cf17fe", "committedDate": "2020-02-03T03:39:26Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "ca317d18aea70e72d8c763ab612c9f911a155bbe", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/ca317d18aea70e72d8c763ab612c9f911a155bbe", "committedDate": "2020-02-04T04:02:37Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjE0MjAy", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-354614202", "createdAt": "2020-02-06T16:57:49Z", "commit": {"oid": "ca317d18aea70e72d8c763ab612c9f911a155bbe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca317d18aea70e72d8c763ab612c9f911a155bbe", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/ca317d18aea70e72d8c763ab612c9f911a155bbe", "committedDate": "2020-02-04T04:02:37Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "9a780b988a40e3c0371e437fc534b5c6c981b555", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/9a780b988a40e3c0371e437fc534b5c6c981b555", "committedDate": "2020-02-06T17:39:52Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfd2c78149078f10c0df338b173d20c289fe665e", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/bfd2c78149078f10c0df338b173d20c289fe665e", "committedDate": "2020-02-12T06:00:22Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a780b988a40e3c0371e437fc534b5c6c981b555", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/9a780b988a40e3c0371e437fc534b5c6c981b555", "committedDate": "2020-02-06T17:39:52Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}, "afterCommit": {"oid": "bfd2c78149078f10c0df338b173d20c289fe665e", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/bfd2c78149078f10c0df338b173d20c289fe665e", "committedDate": "2020-02-12T06:00:22Z", "message": "Convert StatusResource to the OpenAPI specification\n   - Created new specifications for the status resource and status DTO\n   - Updated StatusResource to implement the generated API specification\n   - Deleted existing StatusDTO and KeycloakStatusDTO\n   - Deleted existing StatusDTOTest test\n   - Updated StatusCache to use new DTO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjY5ODQ4", "url": "https://github.com/candlepin/candlepin/pull/2581#pullrequestreview-357269848", "createdAt": "2020-02-12T08:42:53Z", "commit": {"oid": "bfd2c78149078f10c0df338b173d20c289fe665e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwODo0Mjo1M1rOFolyiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwODo0Mjo1M1rOFolyiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODEwNjUwNQ==", "bodyText": "With the latest rebase, the description got accidentally reverted back to an empty string it seems. Once it's added back it should be good to merge", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r378106505", "createdAt": "2020-02-12T08:42:53Z", "author": {"login": "nikosmoum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -236,6 +236,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfd2c78149078f10c0df338b173d20c289fe665e"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2468, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}