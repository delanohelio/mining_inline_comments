{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1NTE5OTkz", "number": 2671, "title": "[M] ENT-2215: truncate correlation id to 40 characters", "bodyText": "Truncate correlation id to 40 characters instead of dropping it.", "createdAt": "2020-03-30T09:24:37Z", "url": "https://github.com/candlepin/candlepin/pull/2671", "merged": true, "mergeCommit": {"oid": "9d2802979a2f273fcc10f6a86329f6a1a0439842"}, "closed": true, "closedAt": "2020-04-02T21:07:12Z", "author": {"login": "abhiskum"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSt5skAFqTM4MzgxNDQ2MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTy3TRAFqTM4Njc3NjExNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODE0NDYw", "url": "https://github.com/candlepin/candlepin/pull/2671#pullrequestreview-383814460", "createdAt": "2020-03-30T12:44:08Z", "commit": {"oid": "95c7316dc0f76423a429a4646c85107d39c54ee0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0NDowOFrOF9n42A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0NDowOFrOF9n42A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2MDk4NA==", "bodyText": "Please keep and use the constant.", "url": "https://github.com/candlepin/candlepin/pull/2671#discussion_r400160984", "createdAt": "2020-03-30T12:44:08Z", "author": {"login": "wottop"}, "path": "common/src/main/java/org/candlepin/common/filter/LoggingFilter.java", "diffHunk": "@@ -46,8 +46,7 @@\n     private static Logger log = LoggerFactory.getLogger(LoggingFilter.class);\n \n     public static final String CSID_KEY = \"csid\";\n-    private static final int CSID_MAX_LENGTH = 40;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95c7316dc0f76423a429a4646c85107d39c54ee0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODQ1MjU5", "url": "https://github.com/candlepin/candlepin/pull/2671#pullrequestreview-383845259", "createdAt": "2020-03-30T13:20:43Z", "commit": {"oid": "95c7316dc0f76423a429a4646c85107d39c54ee0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyMDo0M1rOF9pWDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyMDo0M1rOF9pWDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE4NDg0NQ==", "bodyText": "I really don't feel truncating is the right approach here, but if that's what we're going to do, we should still output a log message indicating that we've truncated the original value down, and what that value was so we can at least track and figure out what happened in the event that it happens or when there's a collision caused by it.", "url": "https://github.com/candlepin/candlepin/pull/2671#discussion_r400184845", "createdAt": "2020-03-30T13:20:43Z", "author": {"login": "Ceiu"}, "path": "common/src/main/java/org/candlepin/common/filter/LoggingFilter.java", "diffHunk": "@@ -95,11 +94,11 @@ public void doFilter(ServletRequest request, ServletResponse response,\n \n             if (correlationId != null) {\n                 if (CSID_REGEX.matcher(correlationId).matches()) {\n-                    MDC.put(CSID_KEY, correlationId);\n+                    MDC.put(CSID_KEY,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95c7316dc0f76423a429a4646c85107d39c54ee0"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95c7316dc0f76423a429a4646c85107d39c54ee0", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/95c7316dc0f76423a429a4646c85107d39c54ee0", "committedDate": "2020-03-30T09:22:24Z", "message": "ENT-2215: truncate correlation id to 40 characters\n  - Truncate correlation id to 40 characters instead of dropping"}, "afterCommit": {"oid": "d32805a6afa664d1937809d94cb840fcf0ace1ab", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/d32805a6afa664d1937809d94cb840fcf0ace1ab", "committedDate": "2020-04-01T07:21:39Z", "message": "ENT-2215: truncate correlation id to 40 characters\n  - Truncate correlation id to 40 characters instead of dropping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8871bfb7fac830eb76d85a7509deefcaf5190f77", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/8871bfb7fac830eb76d85a7509deefcaf5190f77", "committedDate": "2020-04-01T07:36:29Z", "message": "ENT-2215: truncate correlation id to 40 characters\n  - Truncate correlation id to 40 characters instead of dropping"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d32805a6afa664d1937809d94cb840fcf0ace1ab", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/d32805a6afa664d1937809d94cb840fcf0ace1ab", "committedDate": "2020-04-01T07:21:39Z", "message": "ENT-2215: truncate correlation id to 40 characters\n  - Truncate correlation id to 40 characters instead of dropping"}, "afterCommit": {"oid": "8871bfb7fac830eb76d85a7509deefcaf5190f77", "author": {"user": {"login": "abhiskum", "name": "Abhishek Kumar"}}, "url": "https://github.com/candlepin/candlepin/commit/8871bfb7fac830eb76d85a7509deefcaf5190f77", "committedDate": "2020-04-01T07:36:29Z", "message": "ENT-2215: truncate correlation id to 40 characters\n  - Truncate correlation id to 40 characters instead of dropping"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTYwNjY1", "url": "https://github.com/candlepin/candlepin/pull/2671#pullrequestreview-385560665", "createdAt": "2020-04-01T13:01:44Z", "commit": {"oid": "8871bfb7fac830eb76d85a7509deefcaf5190f77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2Nzc2MTE2", "url": "https://github.com/candlepin/candlepin/pull/2671#pullrequestreview-386776116", "createdAt": "2020-04-02T21:06:18Z", "commit": {"oid": "8871bfb7fac830eb76d85a7509deefcaf5190f77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2360, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}