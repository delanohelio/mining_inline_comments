{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwOTg5MTEx", "number": 2645, "title": "[M] [RFE] Added support for changing content access parameters via API (ENT-2219)", "bodyText": "OwnerResource.updateOwner now allows changing the content access\nmode and content access mode list if Candlepin is not running in\nstandalone mode\nOwner refresh no longer attempts to pull content access details", "createdAt": "2020-03-19T13:00:01Z", "url": "https://github.com/candlepin/candlepin/pull/2645", "merged": true, "mergeCommit": {"oid": "bb3711030f0bef1f193d61bcb0d2184d28668e97"}, "closed": true, "closedAt": "2020-04-08T14:27:58Z", "author": {"login": "Ceiu"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQe_5ggFqTM3OTQ2OTcxMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVntgvABqjMyMTQwNDk4NTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5NDY5NzEz", "url": "https://github.com/candlepin/candlepin/pull/2645#pullrequestreview-379469713", "createdAt": "2020-03-23T14:15:49Z", "commit": {"oid": "2092b9a0825264b2cdaa76959c65500fedba0462"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2092b9a0825264b2cdaa76959c65500fedba0462", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/2092b9a0825264b2cdaa76959c65500fedba0462", "committedDate": "2020-03-18T14:48:49Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details"}, "afterCommit": {"oid": "ccab264daf50a3103e5e08f1026a265755994274", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/ccab264daf50a3103e5e08f1026a265755994274", "committedDate": "2020-03-24T20:53:08Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccab264daf50a3103e5e08f1026a265755994274", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/ccab264daf50a3103e5e08f1026a265755994274", "committedDate": "2020-03-24T20:53:08Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details"}, "afterCommit": {"oid": "b89568105b71f9d4699b94fc8b8ce62995e4212a", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/b89568105b71f9d4699b94fc8b8ce62995e4212a", "committedDate": "2020-03-28T15:57:04Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b89568105b71f9d4699b94fc8b8ce62995e4212a", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/b89568105b71f9d4699b94fc8b8ce62995e4212a", "committedDate": "2020-03-28T15:57:04Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists"}, "afterCommit": {"oid": "5ccad2bc40f6b32f9eafca27074eaa2ba6d142d1", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/5ccad2bc40f6b32f9eafca27074eaa2ba6d142d1", "committedDate": "2020-03-28T23:02:02Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ccad2bc40f6b32f9eafca27074eaa2ba6d142d1", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/5ccad2bc40f6b32f9eafca27074eaa2ba6d142d1", "committedDate": "2020-03-28T23:02:02Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}, "afterCommit": {"oid": "4d4f381137179cc8a8849c410362e16ed657b5cd", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/4d4f381137179cc8a8849c410362e16ed657b5cd", "committedDate": "2020-04-01T19:25:19Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d4f381137179cc8a8849c410362e16ed657b5cd", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/4d4f381137179cc8a8849c410362e16ed657b5cd", "committedDate": "2020-04-01T19:25:19Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}, "afterCommit": {"oid": "a43437408e8c9c9bba940ca178e3f63d03a4d449", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/a43437408e8c9c9bba940ca178e3f63d03a4d449", "committedDate": "2020-04-01T20:02:53Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a43437408e8c9c9bba940ca178e3f63d03a4d449", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/a43437408e8c9c9bba940ca178e3f63d03a4d449", "committedDate": "2020-04-01T20:02:53Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}, "afterCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/49b856684952fd79ca79ea6d011d5f602c62d241", "committedDate": "2020-04-01T21:32:41Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MDA4OTk3", "url": "https://github.com/candlepin/candlepin/pull/2645#pullrequestreview-389008997", "createdAt": "2020-04-07T11:03:09Z", "commit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMTowMzowOVrOGB-UbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTowNTozNFrOGCSCZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDcyMjc5Nw==", "bodyText": "Unless I'm misunderstanding something, this is not correct, right? org_environment is definitely used in standalone mode, it's just that we can't directly set/update it (that should only happen during import)? This test (and the next one in the same file) should still be running in standalone mode, since they are testing the registration & heal logic, not the create_owner logic.", "url": "https://github.com/candlepin/candlepin/pull/2645#discussion_r404722797", "createdAt": "2020-04-07T11:03:09Z", "author": {"login": "nikosmoum"}, "path": "server/spec/autobind_disabled_for_owner_spec.rb", "diffHunk": "@@ -85,10 +85,14 @@\n   end\n \n   it 'will still register when content access setting enabled and autobind enabled on activation key' do\n+    # org_environment mode cannot be used in standalone mode\n+    skip(\"candlepin running in standalone mode\") if not is_hosted?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg0NzYwNA==", "bodyText": "I don't know if this is something that could happen, but this will set listUpdated to true if the order of csv in the list is switched (e.g. currentList is org_environment,entitlement and updatedList is entitlement,org_environment. The final effect might be the same, but we'll be running some of the following code unnecesserilly. Maybe it should be comparing after both strings are split into arrays of Strings?\nIf we decide we care about the ordering of these, then we should also change this in the other places we compare the list Strings (create/update owner calls).", "url": "https://github.com/candlepin/candlepin/pull/2645#discussion_r404847604", "createdAt": "2020-04-07T14:21:07Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/controller/ContentAccessManager.java", "diffHunk": "@@ -388,4 +489,172 @@ private String createDN(Consumer consumer, Owner owner) {\n         return v3extensionUtil.createEntitlementDataPayload(productModels,\n             emptyConsumer, emptyPool, null);\n     }\n+\n+    public boolean hasCertChangedSince(Consumer consumer, Date date) {\n+        if (date == null) {\n+            return true;\n+        }\n+\n+        Environment env = this.environmentCurator.getConsumerEnvironment(consumer);\n+        OwnerEnvContentAccess oeca = ownerEnvContentAccessCurator\n+            .getContentAccess(consumer.getOwnerId(), env == null ? null : env.getId());\n+\n+        return oeca == null ||\n+            consumer.getContentAccessCert() == null ||\n+            oeca.getUpdated().getTime() > date.getTime();\n+    }\n+\n+    @Transactional\n+    public void removeContentAccessCert(Consumer consumer) {\n+        if (consumer.getContentAccessCert() == null) {\n+            return;\n+        }\n+        contentAccessCertificateCurator.delete(consumer.getContentAccessCert());\n+        consumer.setContentAccessCert(null);\n+    }\n+\n+\n+    /**\n+     * Updates the content access mode state for the given owner using the updated content access mode\n+     * list and content access mode provided.\n+     *\n+     * @param owner\n+     *  The owner to refresh\n+     *\n+     * @param updatedList\n+     *  the updated content access mode list to apply, or an empty string to restore the default value\n+     *\n+     * @param updatedMode\n+     *  the updated content access mode to apply, or an empty string to restore the default value\n+     *\n+     * @throws IllegalStateException\n+     *  if the requested content access mode is not in the provided content access mode list\n+     *\n+     * @return\n+     *  the refreshed owner; may be a different instance than the input owner\n+     */\n+    @Transactional\n+    public Owner updateOwnerContentAccess(Owner owner, String updatedList, String updatedMode) {\n+        if (owner == null) {\n+            throw new IllegalArgumentException(\"owner is null\");\n+        }\n+\n+        boolean listUpdated = false;\n+        boolean modeUpdated = false;\n+\n+        this.ownerCurator.lock(owner);\n+\n+        final String defaultMode = ContentAccessMode.getDefault().toDatabaseValue();\n+\n+        // Grab the current list and mode\n+        String currentList = this.resolveContentAccessValue(owner.getContentAccessModeList(), true);\n+        String currentMode = this.resolveContentAccessValue(owner.getContentAccessMode(), true);\n+\n+        // Resolve the updated list and mode\n+        updatedList = this.resolveContentAccessValue(updatedList, false);\n+        updatedMode = this.resolveContentAccessValue(updatedMode, false);\n+\n+        if (updatedList != null) {\n+            String[] modes = updatedList.split(\",\");\n+\n+            // We're not interested in storing access modes that we don't support\n+            for (String mode : modes) {\n+                // This will throw an IAE if the mode isn't one we support.\n+                ContentAccessMode.resolveModeName(mode);\n+            }\n+\n+            listUpdated = !updatedList.equals(currentList);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241"}, "originalPosition": 391}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg1NjkxMw==", "bodyText": "incomplete comment", "url": "https://github.com/candlepin/candlepin/pull/2645#discussion_r404856913", "createdAt": "2020-04-07T14:33:02Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/model/ConsumerCurator.java", "diffHunk": "@@ -1287,4 +1290,32 @@ public int getConsumerEntitlementCount(Owner owner, ConsumerType type) {\n             .list();\n     }\n \n+    /**\n+     * Clears (nulls) the content access mode for any consumer belonging to the given owner, that is\n+     * using a mode which is", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg1NzQwNw==", "bodyText": "This is the @param existingModes, not the @return", "url": "https://github.com/candlepin/candlepin/pull/2645#discussion_r404857407", "createdAt": "2020-04-07T14:33:44Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/model/ConsumerCurator.java", "diffHunk": "@@ -1287,4 +1290,32 @@ public int getConsumerEntitlementCount(Owner owner, ConsumerType type) {\n             .list();\n     }\n \n+    /**\n+     * Clears (nulls) the content access mode for any consumer belonging to the given owner, that is\n+     * using a mode which is\n+     *\n+     * @param owner\n+     *  the owner for which to fetch active consumer content access modes\n+     *\n+     * @throws IllegalArgumentException\n+     *  if owner is null\n+     *\n+     * @return\n+     *  a list of all active consumer content access modes for consumers of the given owner", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0NTg2MA==", "bodyText": "I see this was not a restriction on the create owner call before (both the mode and the list could be set). Was that an omission? Also, I assume this has something to do with the implementation note below about pre-existing expected behaviours; what are those?\nAlso, if we're adding this restriction here now, we should add a test case about it (best place is probably OwnerResourceTest.java)", "url": "https://github.com/candlepin/candlepin/pull/2645#discussion_r405045860", "createdAt": "2020-04-07T19:05:34Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/resource/OwnerResource.java", "diffHunk": "@@ -879,35 +886,54 @@ public OwnerDTO createOwner(@ApiParam(name = \"owner\", required = true) OwnerDTO\n             throw new BadRequestException(i18n.tr(\"Owners must be created with a valid key\"));\n         }\n \n-        // Validate and set content access mode list & content access mode\n-        if (StringUtils.isBlank(dto.getContentAccessModeList())) {\n-            dto.setContentAccessModeList(ContentAccessCertServiceAdapter.DEFAULT_CONTENT_ACCESS_MODE);\n-        }\n+        Owner owner = new Owner();\n+        owner.setKey(dto.getKey());\n \n-        if (StringUtils.isBlank(dto.getContentAccessMode())) {\n-            dto.setContentAccessMode(ContentAccessCertServiceAdapter.DEFAULT_CONTENT_ACCESS_MODE);\n+        // Check that the default service level is *not* set at this point\n+        if (!StringUtils.isBlank(dto.getDefaultServiceLevel())) {\n+            throw new BadRequestException(\n+                i18n.tr(\"The default service level cannot be specified during owner creation\"));\n         }\n \n-        if (!containsContentAccessMode(dto.getContentAccessModeList(), dto.getContentAccessMode())) {\n-            throw new BadRequestException(\n-                i18n.tr(\"The content access mode \\\"{1}\\\" is not allowed for this owner.\",\n-                    dto.getContentAccessMode()));\n+        // Validate and set content access mode list & content access mode\n+        boolean configureContentAccess = false;\n+\n+        final String defaultContentAccess = ContentAccessMode.getDefault().toDatabaseValue();\n+        String contentAccessModeList = dto.getContentAccessModeList();\n+        String contentAccessMode = dto.getContentAccessMode();\n+\n+        if (!StringUtils.isBlank(contentAccessMode) && !contentAccessMode.equals(defaultContentAccess)) {\n+            if (config.getBoolean(ConfigProperties.STANDALONE)) {\n+                throw new BadRequestException(\n+                    i18n.tr(\"The owner content access mode and content access mode list cannot be set \" +\n+                        \"directly in standalone mode.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241"}, "originalPosition": 85}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49b856684952fd79ca79ea6d011d5f602c62d241", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/49b856684952fd79ca79ea6d011d5f602c62d241", "committedDate": "2020-04-01T21:32:41Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}, "afterCommit": {"oid": "4591715317ca7b517388d6078e813b19ba64b322", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/4591715317ca7b517388d6078e813b19ba64b322", "committedDate": "2020-04-07T20:39:12Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dd3a78aa4aff6d072618d5c02f4ed81b43d6c6a", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/9dd3a78aa4aff6d072618d5c02f4ed81b43d6c6a", "committedDate": "2020-04-08T13:14:18Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4591715317ca7b517388d6078e813b19ba64b322", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/4591715317ca7b517388d6078e813b19ba64b322", "committedDate": "2020-04-07T20:39:12Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}, "afterCommit": {"oid": "9dd3a78aa4aff6d072618d5c02f4ed81b43d6c6a", "author": {"user": {"login": "Ceiu", "name": "Chris \"Ceiu\" Rog"}}, "url": "https://github.com/candlepin/candlepin/commit/9dd3a78aa4aff6d072618d5c02f4ed81b43d6c6a", "committedDate": "2020-04-08T13:14:18Z", "message": "Added support for changing content access parameters via API\n\n- OwnerResource.updateOwner now allows changing the content access\n  mode and content access mode list if Candlepin is not running in\n  standalone mode\n- Owner refresh no longer attempts to pull content access details\n- Content access mode lists no longer accept unsupported modes as\n  part of the lists\n- Updated JUnit to 5.4.2; updated several affected tests accordingly\n- Refactored the ImporterTest"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2342, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}