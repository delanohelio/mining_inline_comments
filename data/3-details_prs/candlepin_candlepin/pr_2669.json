{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NzA5MDAx", "number": 2669, "title": "[F]ENT-1879:Port ContentDTO to openapi spec", "bodyText": "Added specifications of ContentDTO in yaml file\nAdded Translator to convert DTOs into Model Entities\nbecause newly generated DTOs do not implement Info interfaces.\n\nContentDTOTranslator\nProductDTOTranslator\nBrandingDTOTranslator\n\n\nAdded test suites for above translators\nHosted Test changes\nGetter/Setter of ModifiedProductIds in Content model entity.\nThese changes are related to return null instead\nof empty collection.", "createdAt": "2020-03-27T11:49:51Z", "url": "https://github.com/candlepin/candlepin/pull/2669", "merged": true, "mergeCommit": {"oid": "d1b1d364ae34480b3468dea78d00a99db79c3590"}, "closed": true, "closedAt": "2020-04-14T09:36:33Z", "author": {"login": "sonalidhome"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSnh-0ABqjMxNzY5MjUyNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcV2uNHABqjMyMTY5NzU3NDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e724861e589758152492470c896fbc43258f7ee", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/0e724861e589758152492470c896fbc43258f7ee", "committedDate": "2020-03-27T11:34:38Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}, "afterCommit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/c808610fe7c7d216f30bfe29680a93e9c8b6d0ee", "committedDate": "2020-03-30T05:17:52Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNzkxNDgx", "url": "https://github.com/candlepin/candlepin/pull/2669#pullrequestreview-383791481", "createdAt": "2020-03-30T12:12:56Z", "commit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNzkwOTI1", "url": "https://github.com/candlepin/candlepin/pull/2669#pullrequestreview-383790925", "createdAt": "2020-03-30T12:12:10Z", "commit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjoxMjoxMFrOF9mt2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0MjozNVrOF9n1IQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE0MTc4Ng==", "bodyText": "The HostedTestSubscriptionResource is only used for testing, so there is no need to run validation here.", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r400141786", "createdAt": "2020-03-30T12:12:10Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/hostedtest/HostedTestSubscriptionResource.java", "diffHunk": "@@ -68,6 +72,12 @@\n     @Inject\n     private UniqueIdGenerator idGenerator;\n \n+    @Inject\n+    private ModelTranslator translator;\n+\n+    @Inject\n+    private DTOValidator validator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE0OTkyMg==", "bodyText": "Depending on what we decide to do there might not be a need for this translator (or the other two: ProductDTOTranslator, BrandingDTOTranslator). You can use the existing ProductDTOTranslator/ContentDTOTranslator which translates Product/ContentDTO to Product/ContentData, which are already implementing the *Info interfaces, and are the chosen \"dto\" structures for adapters code.", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r400149922", "createdAt": "2020-03-30T12:25:41Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/dto/api/v1/ContentDTOTranslator.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/**\n+ * Copyright (c) 2009 - 2020 Red Hat, Inc.\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+\n+package org.candlepin.dto.api.v1;\n+\n+import org.candlepin.dto.ModelTranslator;\n+import org.candlepin.dto.ObjectTranslator;\n+import org.candlepin.model.Content;\n+\n+import java.util.Date;\n+\n+/**\n+ * Provides translation from ContentDTO to Content model objects\n+ */\n+public class ContentDTOTranslator implements ObjectTranslator<ContentDTO, Content> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE1MDM3OA==", "bodyText": "as mentioned in the other comment, unless we decide otherwise, this should be translating into ProductData instead of Product (same for other endpoints in this class, including ContentData.class instead of Content.class).", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r400150378", "createdAt": "2020-03-30T12:26:26Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/hostedtest/HostedTestSubscriptionResource.java", "diffHunk": "@@ -429,7 +441,7 @@ public ProductInfo updateProduct(\n             throw new NotFoundException(\"product does not yet exist: \" + productId);\n         }\n \n-        return this.adapter.updateProduct(productId, update);\n+        return this.adapter.updateProduct(productId, this.translator.translate(update, Product.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2MDAzMw==", "bodyText": "I know this was the comment on the original DTO, but since this is not going to implement the *Info interface, it has nothing to do with adapter layers now, so the last 3 words can be removed", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r400160033", "createdAt": "2020-03-30T12:42:35Z", "author": {"login": "nikosmoum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -633,6 +633,56 @@ components:\n             manifest:\n               type: boolean\n \n+    ContentDTO:\n+      description: Represents the content data exposed to the API and adapter layers.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c808610fe7c7d216f30bfe29680a93e9c8b6d0ee", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/c808610fe7c7d216f30bfe29680a93e9c8b6d0ee", "committedDate": "2020-03-30T05:17:52Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}, "afterCommit": {"oid": "684bd5793cc314f21f966c5c63f28a7a412077ad", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/684bd5793cc314f21f966c5c63f28a7a412077ad", "committedDate": "2020-04-02T09:12:21Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added ProductDTO, ContentDTO and BrandingDTO in\n   org.candlepin.dto.service for service adapter layer.\n - Added Translator to convert DTOs into service layer DTOs.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for new DTOs and translators.\n - Hosted Test changes."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "684bd5793cc314f21f966c5c63f28a7a412077ad", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/684bd5793cc314f21f966c5c63f28a7a412077ad", "committedDate": "2020-04-02T09:12:21Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added ProductDTO, ContentDTO and BrandingDTO in\n   org.candlepin.dto.service for service adapter layer.\n - Added Translator to convert DTOs into service layer DTOs.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for new DTOs and translators.\n - Hosted Test changes."}, "afterCommit": {"oid": "084d9a304103f5009b1ee4d830eddbb0aa63d941", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/084d9a304103f5009b1ee4d830eddbb0aa63d941", "committedDate": "2020-04-02T10:07:25Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added ProductDTO, ContentDTO and BrandingDTO in\n   org.candlepin.dto.service for service adapter layer.\n - Added Translator to convert DTOs into service layer DTOs.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for new DTOs and translators.\n - Hosted Test changes."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "084d9a304103f5009b1ee4d830eddbb0aa63d941", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/084d9a304103f5009b1ee4d830eddbb0aa63d941", "committedDate": "2020-04-02T10:07:25Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added ProductDTO, ContentDTO and BrandingDTO in\n   org.candlepin.dto.service for service adapter layer.\n - Added Translator to convert DTOs into service layer DTOs.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for new DTOs and translators.\n - Hosted Test changes."}, "afterCommit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/e42f00d02a42816615027f246d8839500394c9f1", "committedDate": "2020-04-02T11:02:25Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added ProductDTO, ContentDTO and BrandingDTO in\n   org.candlepin.dto.service for service adapter layer.\n - Added Translator to convert DTOs into service layer DTOs.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for new DTOs and translators.\n - Hosted Test changes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NDIwNDc1", "url": "https://github.com/candlepin/candlepin/pull/2669#pullrequestreview-386420475", "createdAt": "2020-04-02T13:23:52Z", "commit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMzoyMzo1M1rOF_q-ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNDoyNjoyMVrOF_t0pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjMwODczMQ==", "bodyText": "Docs need updating here", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r402308731", "createdAt": "2020-04-02T13:23:53Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/dto/api/v1/ProductDTOTranslator.java", "diffHunk": "@@ -0,0 +1,107 @@\n+/**\n+ * Copyright (c) 2009 - 2020 Red Hat, Inc.\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+\n+package org.candlepin.dto.api.v1;\n+\n+import org.candlepin.dto.ModelTranslator;\n+import org.candlepin.dto.ObjectTranslator;\n+\n+import java.util.Collection;\n+import java.util.Collections;\n+\n+/**\n+ * The ProductDTOTranslator provides translation from ProductDTO to Product model objects", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM0NjcyNg==", "bodyText": "I don't know if this is the best place for this. I wonder if we shouldn't use this as an opportunity to break out the translators into their own package.", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r402346726", "createdAt": "2020-04-02T14:14:56Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/dto/api/v1/ContentDTOTranslator.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/**\n+ * Copyright (c) 2009 - 2020 Red Hat, Inc.\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+\n+package org.candlepin.dto.api.v1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM1NDI5NQ==", "bodyText": "We don't need the timestamped parts to implement BrandingInfo.", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r402354295", "createdAt": "2020-04-02T14:24:57Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/dto/service/BrandingDTO.java", "diffHunk": "@@ -0,0 +1,225 @@\n+/**\n+ * Copyright (c) 2009 - 2020 Red Hat, Inc.\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+\n+package org.candlepin.dto.service;\n+\n+import org.candlepin.dto.TimestampedCandlepinDTO;\n+import org.candlepin.service.model.BrandingInfo;\n+\n+import org.apache.commons.lang.builder.HashCodeBuilder;\n+\n+import java.util.Date;\n+import java.util.Objects;\n+\n+/**\n+ * A DTO representation of the Branding used in Service Adapter Layer.\n+ */\n+public class BrandingDTO extends TimestampedCandlepinDTO<BrandingDTO> implements BrandingInfo {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM1NTM2NQ==", "bodyText": "Extraneous setter. Let's stick with the more standard set* and get*, but keep the chaining behavior.", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r402355365", "createdAt": "2020-04-02T14:26:21Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/dto/service/BrandingDTO.java", "diffHunk": "@@ -0,0 +1,225 @@\n+/**\n+ * Copyright (c) 2009 - 2020 Red Hat, Inc.\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+\n+package org.candlepin.dto.service;\n+\n+import org.candlepin.dto.TimestampedCandlepinDTO;\n+import org.candlepin.service.model.BrandingInfo;\n+\n+import org.apache.commons.lang.builder.HashCodeBuilder;\n+\n+import java.util.Date;\n+import java.util.Objects;\n+\n+/**\n+ * A DTO representation of the Branding used in Service Adapter Layer.\n+ */\n+public class BrandingDTO extends TimestampedCandlepinDTO<BrandingDTO> implements BrandingInfo {\n+\n+    private String productId;\n+    private String name;\n+    private String type;\n+\n+    /**\n+     * Initializes a new BrandingDTO instance with null values.\n+     */\n+    public BrandingDTO() {\n+        // Intentionally left empty\n+    }\n+\n+    /**\n+     * Initializes a new BrandingDTO instance which is a shallow copy of the provided\n+     * source entity.\n+     *\n+     * @param source\n+     *  The source entity to copy\n+     */\n+    public BrandingDTO(BrandingDTO source) {\n+        super(source);\n+    }\n+\n+    /**\n+     * Sets this branding's created date.\n+     *\n+     * @param created the created date to set on this branding DTO.\n+     *\n+     * @return this branding object\n+     */\n+    public BrandingDTO created(Date created) {\n+        this.created = created;\n+        return this;\n+    }\n+\n+    /**\n+     * Sets this branding's updated date.\n+     *\n+     * @param updated the updated date to set on this branding DTO.\n+     *\n+     * @return this branding object\n+     */\n+    public BrandingDTO updated(Date updated) {\n+        this.updated = updated;\n+        return this;\n+    }\n+\n+    /**\n+     * Sets this branding's product id.\n+     *\n+     * @param productId the product id to set on this branding DTO.\n+     *\n+     * @return this branding object\n+     */\n+    public BrandingDTO productId(String productId) {\n+        this.productId = productId;\n+        return this;\n+    }\n+\n+    /**\n+     * Returns this branding's product id.\n+     *\n+     * @return this branding's product id.\n+     */\n+    @Override\n+    public String getProductId() {\n+        return productId;\n+    }\n+\n+    /**\n+     * Sets this branding's product id.\n+     *\n+     * @param productId the product id to set on this branding DTO.\n+     */\n+    public void setProductId(String productId) {\n+        this.productId = productId;\n+    }\n+\n+    /**\n+     * Sets this branding's name.\n+     *\n+     * @param name the name to set on this branding DTO.\n+     *\n+     * @return this branding object\n+     */\n+    public BrandingDTO name(String name) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1"}, "originalPosition": 115}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e42f00d02a42816615027f246d8839500394c9f1", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/e42f00d02a42816615027f246d8839500394c9f1", "committedDate": "2020-04-02T11:02:25Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added ProductDTO, ContentDTO and BrandingDTO in\n   org.candlepin.dto.service for service adapter layer.\n - Added Translator to convert DTOs into service layer DTOs.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for new DTOs and translators.\n - Hosted Test changes."}, "afterCommit": {"oid": "a7ab2cda15114d9aa269c9bf237cac4c8ecb8a47", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/a7ab2cda15114d9aa269c9bf237cac4c8ecb8a47", "committedDate": "2020-04-06T08:53:04Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MTY0NzAz", "url": "https://github.com/candlepin/candlepin/pull/2669#pullrequestreview-388164703", "createdAt": "2020-04-06T11:36:46Z", "commit": {"oid": "a7ab2cda15114d9aa269c9bf237cac4c8ecb8a47"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMTozNjo0N1rOGBTm6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMTozNjo0N1rOGBTm6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAyMzAxNw==", "bodyText": "Why is this changed? We want to resolve the product content on the incoming data (pinfo) not the existing product (pdata)", "url": "https://github.com/candlepin/candlepin/pull/2669#discussion_r404023017", "createdAt": "2020-04-06T11:36:47Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/hostedtest/HostedTestSubscriptionServiceAdapter.java", "diffHunk": "@@ -318,7 +318,7 @@ public ProductInfo updateProduct(String productId, ProductInfo pinfo) {\n         // Apply updates...\n         // Don't allow changing the ID\n \n-        Collection<ProductContentData> pcdata = this.resolveProductContent(pinfo.getProductContent());\n+        Collection<ProductContentData> pcdata = this.resolveProductContent(pdata.getProductContent());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7ab2cda15114d9aa269c9bf237cac4c8ecb8a47"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7ab2cda15114d9aa269c9bf237cac4c8ecb8a47", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/a7ab2cda15114d9aa269c9bf237cac4c8ecb8a47", "committedDate": "2020-04-06T08:53:04Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}, "afterCommit": {"oid": "5d8a5c5748f98c90f9b79bdcaa5851c8c928b135", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/5d8a5c5748f98c90f9b79bdcaa5851c8c928b135", "committedDate": "2020-04-07T06:06:57Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4OTE3Mzc1", "url": "https://github.com/candlepin/candlepin/pull/2669#pullrequestreview-388917375", "createdAt": "2020-04-07T08:56:09Z", "commit": {"oid": "5d8a5c5748f98c90f9b79bdcaa5851c8c928b135"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ea018e7d26f83020b8aac808bb74727e04fa82e", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/5ea018e7d26f83020b8aac808bb74727e04fa82e", "committedDate": "2020-04-09T06:42:20Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added methods to adapt *DTOs into *Info objects\n   in HostedTestSubscriptionResource.java file.\n - Passed these adapted object to hosted create/update\n   methods."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d8a5c5748f98c90f9b79bdcaa5851c8c928b135", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/5d8a5c5748f98c90f9b79bdcaa5851c8c928b135", "committedDate": "2020-04-07T06:06:57Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added Translator to convert DTOs into Model Entities\n   because newly generated DTOs do not implement Info interfaces.\n   1. ContentDTOTranslator\n   2. ProductDTOTranslator\n   3. BrandingDTOTranslator\n - Added test suites for above translators\n - Hosted Test changes\n - Getter/Setter of ModifiedProductIds in Content model entity.\n   These changes are related to return null instead\n   of empty collection."}, "afterCommit": {"oid": "5ea018e7d26f83020b8aac808bb74727e04fa82e", "author": {"user": {"login": "sonalidhome", "name": "Sonali Dhome"}}, "url": "https://github.com/candlepin/candlepin/commit/5ea018e7d26f83020b8aac808bb74727e04fa82e", "committedDate": "2020-04-09T06:42:20Z", "message": "ENT-1879:Port ContentDTO to openapi spec\n - Added specifications of ContentDTO in yaml file\n - Added methods to adapt *DTOs into *Info objects\n   in HostedTestSubscriptionResource.java file.\n - Passed these adapted object to hosted create/update\n   methods."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2357, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}