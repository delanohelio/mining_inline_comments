{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MzAzMDY2", "number": 2581, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNTozMzoyN1rODaNsoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwODo0Mjo1M1rODfFt6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODEzOTg1OnYy", "diffSide": "RIGHT", "path": "api/candlepin-api-spec.yaml", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNTozMzoyN1rOFhClDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMzowMjozNVrOFikIRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA==", "bodyText": "Something of note here: when we added the keycloak bits, we didn't want the values to be present in status if it was disabled (which it would be in most places); hence the separated DTOs. We should probably retain that.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370189580", "createdAt": "2020-01-23T15:33:27Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIwNjAyNg==", "bodyText": "@Ceiu\nAre you suggesting separated DTO with just keycloak fields or with status DTO fields plus keycloak fields?", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370206026", "createdAt": "2020-01-23T16:00:19Z", "author": {"login": "abhiskum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA=="}, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM1ODUyMg==", "bodyText": "An extension of StatusDTO like we had when it was manual. allOf with an inline object should work here.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370358522", "createdAt": "2020-01-23T21:16:24Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA=="}, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDYzNDgyMg==", "bodyText": "@Ceiu\nI was under the impression that 'allOf' will generate different classes instead of inheritance. However, after exploring open API documentation, It appears we can generate inheritance using 'discriminator'.  I have updated to code to generate StatusDTO and KeycloakStatusDTO classes. However, after adding this, one additional property (discriminator property value)  coming in the response. I need to explore to avoid this additional property in the response.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370634822", "createdAt": "2020-01-24T13:33:45Z", "author": {"login": "abhiskum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA=="}, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4NjM3Mg==", "bodyText": "Disregard my request here. As you noted, what we should be doing is not possible with OpenAPI short of making substantial modifications to it.\nWhat you have here that combines the DTOs is what we're going to be doing going forward.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370786372", "createdAt": "2020-01-24T18:48:48Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA=="}, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA1NjQ0OQ==", "bodyText": "@Ceiu\nI had one additional query, I have already made changes to create separate DTOs using \u2018discriminator\u2019 and pushed in this PR.\nTo clarify, Is your approval for combining both StatusDTO and KeycloakStatusDTO into one or for separate DTOs using \u2018discriminator\u2019?", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r371056449", "createdAt": "2020-01-27T03:34:23Z", "author": {"login": "abhiskum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA=="}, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc4Nzg0Nw==", "bodyText": "Combined until we find something better.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r371787847", "createdAt": "2020-01-28T13:02:35Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,44 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Represents a deleted consumer\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time\n+        result:\n+          type: boolean\n+          example: true\n+        version:\n+          type: string\n+          example: 0.9.10\n+        release:\n+          type: string\n+        standalone:\n+          type: boolean\n+        timeUTC:\n+          type: string\n+          format: date-time\n+        rulesSource:\n+          type: string\n+        rulesVersion:\n+          type: string\n+          example: 5.8\n+        capabilities:\n+          type: array\n+          items:\n+            type: string\n+        keycloakRealm:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE4OTU4MA=="}, "originalCommit": {"oid": "3fa826abdf6d0a7ad4e30e5f904ad5732eed1a3a"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MjE0MTI0OnYy", "diffSide": "RIGHT", "path": "api/candlepin-api-spec.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxOTo1NzoyMFrOFho1iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNDo1MDo0MVrOFjLISA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgxNjM5NQ==", "bodyText": "Depending on where we land with the other date things, these may need to become a date format.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r370816395", "createdAt": "2020-01-24T19:57:20Z", "author": {"login": "Ceiu"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,53 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Version and Status information about running Candlepin server\n+      discriminator:\n+        propertyName: type\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQyNjgyNA==", "bodyText": "I believe we're keeping date-time, as per the update in #2584 (comment). That PR has been updated with proper custom (de)serialization for OffsetDateTime.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372426824", "createdAt": "2020-01-29T14:50:41Z", "author": {"login": "nikosmoum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -22,6 +42,53 @@ components:\n         requestUuid:\n           type: string\n \n+    StatusDTO:\n+      description: Version and Status information about running Candlepin server\n+      discriminator:\n+        propertyName: type\n+      properties:\n+        mode:\n+          type: string\n+        modeReason:\n+          type: string\n+        modeChangeTime:\n+          type: string\n+          format: date-time", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgxNjM5NQ=="}, "originalCommit": {"oid": "f4122c8298ef76478e106e64ca8996cebbafa556"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMjc0MTMzOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/candlepin/resource/StatusResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNToxMDoyNFrOFjL7fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwMDoxMzo1NFrOFjb11g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQzOTkzMg==", "bodyText": "There is no need to create a Date instance first and then convert it to OffsetDateTime here. OffsetDateTime.now() will do.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372439932", "createdAt": "2020-01-29T15:10:24Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/resource/StatusResource.java", "diffHunk": "@@ -157,30 +146,26 @@ public StatusDTO status() {\n \n         good = good && (mode == Mode.NORMAL);\n \n-        StatusDTO status;\n+        StatusDTO status = new StatusDTO()\n+            .result(good)\n+            .version(version)\n+            .release(release)\n+            .standalone(standalone)\n+            .rulesVersion(jsProvider.getRulesVersion())\n+            .rulesSource(rulesSource != null ? rulesSource.toString() : null)\n+            .mode(mode != null ? mode.toString() : null)\n+            .modeReason(mcr != null ? mcr.toString() : null)\n+            .modeChangeTime(mcr != null ? mcr.getTime().toInstant().atOffset(ZoneOffset.UTC) : null)\n+            .managerCapabilities(caps.stream().collect(Collectors.toList()))\n+            .timeUTC(new Date().toInstant().atOffset(ZoneOffset.UTC));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjcwMDYzMA==", "bodyText": "Done.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372700630", "createdAt": "2020-01-30T00:13:54Z", "author": {"login": "abhiskum"}, "path": "server/src/main/java/org/candlepin/resource/StatusResource.java", "diffHunk": "@@ -157,30 +146,26 @@ public StatusDTO status() {\n \n         good = good && (mode == Mode.NORMAL);\n \n-        StatusDTO status;\n+        StatusDTO status = new StatusDTO()\n+            .result(good)\n+            .version(version)\n+            .release(release)\n+            .standalone(standalone)\n+            .rulesVersion(jsProvider.getRulesVersion())\n+            .rulesSource(rulesSource != null ? rulesSource.toString() : null)\n+            .mode(mode != null ? mode.toString() : null)\n+            .modeReason(mcr != null ? mcr.toString() : null)\n+            .modeChangeTime(mcr != null ? mcr.getTime().toInstant().atOffset(ZoneOffset.UTC) : null)\n+            .managerCapabilities(caps.stream().collect(Collectors.toList()))\n+            .timeUTC(new Date().toInstant().atOffset(ZoneOffset.UTC));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQzOTkzMg=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMjc1MTM2OnYy", "diffSide": "RIGHT", "path": "server/src/test/java/org/candlepin/cache/StatusCacheTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNToxMjozNFrOFjMBgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwMDoxNDowNFrOFjb2GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ0MTQ3NQ==", "bodyText": "Same for all the changes in this file, just use OffsetDateTime.now() directly.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372441475", "createdAt": "2020-01-29T15:12:34Z", "author": {"login": "nikosmoum"}, "path": "server/src/test/java/org/candlepin/cache/StatusCacheTest.java", "diffHunk": "@@ -46,8 +47,8 @@ public void setAndGet() {\n         StatusCache cache = new StatusCache();\n \n         StatusDTO status = new StatusDTO()\n-            .setResult(true)\n-            .setTimeUTC(new Date());\n+            .result(true)\n+            .timeUTC(new Date().toInstant().atOffset(ZoneOffset.UTC));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjcwMDY5Ng==", "bodyText": "Done.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372700696", "createdAt": "2020-01-30T00:14:04Z", "author": {"login": "abhiskum"}, "path": "server/src/test/java/org/candlepin/cache/StatusCacheTest.java", "diffHunk": "@@ -46,8 +47,8 @@ public void setAndGet() {\n         StatusCache cache = new StatusCache();\n \n         StatusDTO status = new StatusDTO()\n-            .setResult(true)\n-            .setTimeUTC(new Date());\n+            .result(true)\n+            .timeUTC(new Date().toInstant().atOffset(ZoneOffset.UTC));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ0MTQ3NQ=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMzQ5OTE2OnYy", "diffSide": "RIGHT", "path": "api/candlepin-api-spec.yaml", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxODo0MToyOVrOFjTVvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNDowNjowMlrOFlHivg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ==", "bodyText": "Please remove this line", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372561341", "createdAt": "2020-01-29T18:41:29Z", "author": {"login": "kahowell"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjcwMTU2Ng==", "bodyText": "@kahowell\nI am getting the following error after removing description from response section.\n`Execution failed for task ':api:openApiGenerate'.\n\nThere were issues with the specification. The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).\n| Error count: 1, Warning count: 0\nErrors:\n-attribute paths.'/status'(get).responses.200.description is missing\n`", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r372701566", "createdAt": "2020-01-30T00:16:59Z", "author": {"login": "abhiskum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE4NTQ0NA==", "bodyText": "Ah, I should have looked closer! We'll need to fill in something for description to make the spec valid as you already figured out.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r374185444", "createdAt": "2020-02-03T15:57:47Z", "author": {"login": "kahowell"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE4NjUwOQ==", "bodyText": "For a 200, a simple description of \"OK\" would be fine.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r374186509", "createdAt": "2020-02-03T15:59:27Z", "author": {"login": "kahowell"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE4ODM3Nw==", "bodyText": "After some discussion, it would be better to include some description (here and in other PRs with empty descriptions like #2577) so that we can use this as an opportunity to improve our API documentation.\nIt doesn't have to be a lot, a verbose to-the-point description will do. This document has some nice guidelines/examples: https://swagger.io/docs/specification/describing-responses/", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r374188377", "createdAt": "2020-02-03T16:02:33Z", "author": {"login": "nikosmoum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ2NTIxNA==", "bodyText": "@kahowell @nikosmoum\nAdded description value in the spec. Please re-review.", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r374465214", "createdAt": "2020-02-04T04:06:02Z", "author": {"login": "abhiskum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -193,6 +193,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU2MTM0MQ=="}, "originalCommit": {"oid": "3a1d133878c57af397af0034eaed6f02f2d5cb22"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzOTI2MTIxOnYy", "diffSide": "RIGHT", "path": "api/candlepin-api-spec.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwODo0Mjo1M1rOFolyiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwODo0Mjo1M1rOFolyiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODEwNjUwNQ==", "bodyText": "With the latest rebase, the description got accidentally reverted back to an empty string it seems. Once it's added back it should be good to merge", "url": "https://github.com/candlepin/candlepin/pull/2581#discussion_r378106505", "createdAt": "2020-02-12T08:42:53Z", "author": {"login": "nikosmoum"}, "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -236,6 +236,27 @@ paths:\n               schema:\n                 $ref: '#/components/schemas/ExceptionMessage'\n \n+  /status:\n+    get:\n+      description: Returns status of the server\n+      tags:\n+        - Status\n+      operationId: status\n+      security: []\n+      responses:\n+        200:\n+          description: ''", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfd2c78149078f10c0df338b173d20c289fe665e"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4265, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}