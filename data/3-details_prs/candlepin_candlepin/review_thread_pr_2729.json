{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2NjkzMzgw", "number": 2729, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNzowNToxMFrOEHA2-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNzowNToxMFrOEHA2-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1Nzg5NTYxOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNzowNToxMFrOGmKUPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNTo1ODo1OVrOGmZybA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg==", "bodyText": "Depending on what we decide to do with paging on the spec-first branch (here), we want to either remove this and add a PageRequest pageRequest = ResteasyProviderFactory.getContextData(PageRequest.class); at the start of the method, or add a card to add the pagination here in the way that Ondrej did it.\nMaybe it's time to rebase spec-first against master?", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442668092", "createdAt": "2020-06-19T07:05:10Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "diffHunk": "@@ -184,7 +191,8 @@ public SchedulerStatusDTO setSchedulerStatus(\n         @QueryParam(\"origin\") Set<String> origins,\n         @QueryParam(\"executor\") Set<String> executors,\n         @QueryParam(\"after\") @DateFormat Date after,\n-        @QueryParam(\"before\") @DateFormat Date before) {\n+        @QueryParam(\"before\") @DateFormat Date before,\n+        @Context PageRequest pageRequest) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e424c0129551177e915820311487b237964a6efd"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg0NzM1Ng==", "bodyText": "Does OpenAPI not allow for specifying a thing that comes from the context, nor specifying that an object's properties should be unboxed for documentation? Seems like a pretty major shortcoming in an already irritatingly limited \"API\".\nNeither of those options sound particularly great to me, but of the two, pulling from the context makes the most sense, as we have to inject the page into the context later anyway, so it's more complete/consistent from an implementation standpoint.\nSpec tests are probably unnecessary here, since we're testing the paging parameters on the frontend and backend, but I can see how easy it is to add a couple spec tests just for the sake of end-to-end verification. If it's not too painful, I'll throw in a couple tests.", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442847356", "createdAt": "2020-06-19T13:41:19Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "diffHunk": "@@ -184,7 +191,8 @@ public SchedulerStatusDTO setSchedulerStatus(\n         @QueryParam(\"origin\") Set<String> origins,\n         @QueryParam(\"executor\") Set<String> executors,\n         @QueryParam(\"after\") @DateFormat Date after,\n-        @QueryParam(\"before\") @DateFormat Date before) {\n+        @QueryParam(\"before\") @DateFormat Date before,\n+        @Context PageRequest pageRequest) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, "originalCommit": {"oid": "e424c0129551177e915820311487b237964a6efd"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg0ODEwMw==", "bodyText": "Also, yes, after this gets merged, the spec first branch is in need of a rebase. I know of at least three areas that have changed out from under it, but I'm unsure if the resources have been converted yet or not.", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442848103", "createdAt": "2020-06-19T13:42:43Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "diffHunk": "@@ -184,7 +191,8 @@ public SchedulerStatusDTO setSchedulerStatus(\n         @QueryParam(\"origin\") Set<String> origins,\n         @QueryParam(\"executor\") Set<String> executors,\n         @QueryParam(\"after\") @DateFormat Date after,\n-        @QueryParam(\"before\") @DateFormat Date before) {\n+        @QueryParam(\"before\") @DateFormat Date before,\n+        @Context PageRequest pageRequest) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, "originalCommit": {"oid": "e424c0129551177e915820311487b237964a6efd"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg5ODYzNg==", "bodyText": "I could not find anything like that in OpenAPI docs", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442898636", "createdAt": "2020-06-19T15:15:20Z", "author": {"login": "nikosmoum"}, "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "diffHunk": "@@ -184,7 +191,8 @@ public SchedulerStatusDTO setSchedulerStatus(\n         @QueryParam(\"origin\") Set<String> origins,\n         @QueryParam(\"executor\") Set<String> executors,\n         @QueryParam(\"after\") @DateFormat Date after,\n-        @QueryParam(\"before\") @DateFormat Date before) {\n+        @QueryParam(\"before\") @DateFormat Date before,\n+        @Context PageRequest pageRequest) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, "originalCommit": {"oid": "e424c0129551177e915820311487b237964a6efd"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkyMTU4MA==", "bodyText": "Removed the context param and added spec tests", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442921580", "createdAt": "2020-06-19T15:58:59Z", "author": {"login": "Ceiu"}, "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "diffHunk": "@@ -184,7 +191,8 @@ public SchedulerStatusDTO setSchedulerStatus(\n         @QueryParam(\"origin\") Set<String> origins,\n         @QueryParam(\"executor\") Set<String> executors,\n         @QueryParam(\"after\") @DateFormat Date after,\n-        @QueryParam(\"before\") @DateFormat Date before) {\n+        @QueryParam(\"before\") @DateFormat Date before,\n+        @Context PageRequest pageRequest) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, "originalCommit": {"oid": "e424c0129551177e915820311487b237964a6efd"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4221, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}