{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNTg4MTEy", "number": 2770, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowMDowOFrOEU48wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowMDowOFrOEU48wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMzQwMDMyOnYy", "diffSide": "RIGHT", "path": "docker/candlepin-base/cp-test", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowMDowOFrOG7VdwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOTozMzozOFrOG7YxHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3MDg0OQ==", "bodyText": "Instead of doing cd everywhere, we should simplify things, and just run .gradlew test from the root directory.\nSo here this if block would become:\n    if [ -f ./gradlew ]; then\n        ./gradlew test\n\nand later on (right before we run the unit tests), we don't cd into server/ , but cd into the root dir (so cd $PROJECT_DIR turns into cd $CP_HOME. And we only do a cd $PROJECT_DIR later, once the unit tests are finished and before we setup qpid", "url": "https://github.com/candlepin/candlepin/pull/2770#discussion_r464870849", "createdAt": "2020-08-04T08:00:08Z", "author": {"login": "nikosmoum"}, "path": "docker/candlepin-base/cp-test", "diffHunk": "@@ -45,6 +45,13 @@ build_lint() {\n build_unittest() {\n     UTCMD=$1\n     if [ -f ../gradlew ]; then\n+\n+        # set project to run units from the candlepin-common project\n+        cd ../common/\n+        ../gradlew test\n+\n+        # set project back to server\n+        cd ../server/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a4fa33fec347803637e7e290756fac8f0110ff0"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkyNDk1OQ==", "bodyText": "Agreed, simplified the code.", "url": "https://github.com/candlepin/candlepin/pull/2770#discussion_r464924959", "createdAt": "2020-08-04T09:33:38Z", "author": {"login": "sonalidhome"}, "path": "docker/candlepin-base/cp-test", "diffHunk": "@@ -45,6 +45,13 @@ build_lint() {\n build_unittest() {\n     UTCMD=$1\n     if [ -f ../gradlew ]; then\n+\n+        # set project to run units from the candlepin-common project\n+        cd ../common/\n+        ../gradlew test\n+\n+        # set project back to server\n+        cd ../server/", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3MDg0OQ=="}, "originalCommit": {"oid": "9a4fa33fec347803637e7e290756fac8f0110ff0"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4057, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}