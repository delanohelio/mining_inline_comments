{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NDk4NTg3", "number": 2818, "title": "ENT-1675: Upgrade candlepin to use Java 11", "bodyText": "Changes\n\nDependencies upgraded to support Java 11\n\nHow to test/verify this PR locally ?\n\nFor Local Gradle build\n\n\nInstall Java-11\njava-11-openjdk-devel\nMake it a default\nupdate-alternatives --config java\nRun gradle build\n\n\nFor Vagrant (Dependent on candlepin/ansible-role-candlepin#14)\nUpdate requirement.yml file to checkout the above PR's branch.", "createdAt": "2020-10-06T12:23:45Z", "url": "https://github.com/candlepin/candlepin/pull/2818", "merged": true, "mergeCommit": {"oid": "88eeffaba8830c3e126ce29d3e048a296ca4a523"}, "closed": true, "closedAt": "2020-10-14T13:12:39Z", "author": {"login": "wolfdale"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQaubYABqjM4NTM1NDY3MDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSG12JgFqTUwNzMzMjA0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac9b904d0442676693898b344652c7e4d842372f", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/ac9b904d0442676693898b344652c7e4d842372f", "committedDate": "2020-10-07T10:16:33Z", "message": "More dep/plugin upgrade"}, "afterCommit": {"oid": "5b905dc24fbf24b247eb0ecae8d3e518fbddd071", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/5b905dc24fbf24b247eb0ecae8d3e518fbddd071", "committedDate": "2020-10-08T05:27:27Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b905dc24fbf24b247eb0ecae8d3e518fbddd071", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/5b905dc24fbf24b247eb0ecae8d3e518fbddd071", "committedDate": "2020-10-08T05:27:27Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}, "afterCommit": {"oid": "a2b2176f909132316ad7a7af102b412465dec764", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/a2b2176f909132316ad7a7af102b412465dec764", "committedDate": "2020-10-08T06:44:12Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2b2176f909132316ad7a7af102b412465dec764", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/a2b2176f909132316ad7a7af102b412465dec764", "committedDate": "2020-10-08T06:44:12Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}, "afterCommit": {"oid": "92129821667a5be8067e9c4c7b2c3cba5280c21c", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/92129821667a5be8067e9c4c7b2c3cba5280c21c", "committedDate": "2020-10-09T09:08:19Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "92129821667a5be8067e9c4c7b2c3cba5280c21c", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/92129821667a5be8067e9c4c7b2c3cba5280c21c", "committedDate": "2020-10-09T09:08:19Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}, "afterCommit": {"oid": "21c6e9a43b3b63c00064031ce9645cea4e2639dd", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/21c6e9a43b3b63c00064031ce9645cea4e2639dd", "committedDate": "2020-10-09T09:21:57Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "21c6e9a43b3b63c00064031ce9645cea4e2639dd", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/21c6e9a43b3b63c00064031ce9645cea4e2639dd", "committedDate": "2020-10-09T09:21:57Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}, "afterCommit": {"oid": "6d224e79952015d5a31b6c40afee314cee3aafd6", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/6d224e79952015d5a31b6c40afee314cee3aafd6", "committedDate": "2020-10-09T10:42:28Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NTgwMzc3", "url": "https://github.com/candlepin/candlepin/pull/2818#pullrequestreview-505580377", "createdAt": "2020-10-09T11:15:30Z", "commit": {"oid": "6d224e79952015d5a31b6c40afee314cee3aafd6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMToxNTozMVrOHfFfPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMToxNTozMVrOHfFfPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM1NzgyMA==", "bodyText": "Why are we doing this twice? This is already done above", "url": "https://github.com/candlepin/candlepin/pull/2818#discussion_r502357820", "createdAt": "2020-10-09T11:15:31Z", "author": {"login": "nikosmoum"}, "path": "docker/candlepin-base/cp-test", "diffHunk": "@@ -246,6 +254,14 @@ fi\n # Set our project to test\n PROJECT=${PROJECT:-server}\n \n+# Update tomcat config to use Java 11 &\n+# explicitly set Java 11 as default\n+if [ \"$JAVA_VERSION\" == \"11\" ]; then\n+    echo \"Overriding tomcat.conf to use Java 11\"\n+    update-alternatives --set java /usr/lib/jvm/java-$JAVA_VERSION-openjdk-$JAVA_VERSION*/bin/java\n+    sed -i 's/JAVA_HOME=.*/JAVA_HOME=\"\\/usr\\/lib\\/jvm\\/jre-11\"/' /etc/tomcat/tomcat.conf", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d224e79952015d5a31b6c40afee314cee3aafd6"}, "originalPosition": 33}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d224e79952015d5a31b6c40afee314cee3aafd6", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/6d224e79952015d5a31b6c40afee314cee3aafd6", "committedDate": "2020-10-09T10:42:28Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}, "afterCommit": {"oid": "0b1b0a59991482a2201b28c10896a188e471711f", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/0b1b0a59991482a2201b28c10896a188e471711f", "committedDate": "2020-10-12T04:39:16Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5f545e30d483ca42ba8e210b2d2dbf7c4997061", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/b5f545e30d483ca42ba8e210b2d2dbf7c4997061", "committedDate": "2020-10-12T14:25:09Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b1b0a59991482a2201b28c10896a188e471711f", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/0b1b0a59991482a2201b28c10896a188e471711f", "committedDate": "2020-10-12T04:39:16Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}, "afterCommit": {"oid": "b5f545e30d483ca42ba8e210b2d2dbf7c4997061", "author": {"user": {"login": "wolfdale", "name": "Prakhar Gupta"}}, "url": "https://github.com/candlepin/candlepin/commit/b5f545e30d483ca42ba8e210b2d2dbf7c4997061", "committedDate": "2020-10-12T14:25:09Z", "message": "ENT-1675: Upgrade candlepin to use Java 11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MzMyMDQ3", "url": "https://github.com/candlepin/candlepin/pull/2818#pullrequestreview-507332047", "createdAt": "2020-10-13T11:26:07Z", "commit": {"oid": "b5f545e30d483ca42ba8e210b2d2dbf7c4997061"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2329, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}