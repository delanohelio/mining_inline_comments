{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MDM5Nzk4", "number": 5536, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNjo1MDozMlrOECPWSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0MjozNVrOECUD1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNzg0MDczOnYy", "diffSide": "RIGHT", "path": "ksqldb-engine/src/main/java/io/confluent/ksql/function/udf/map/MapUnion.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNjo1MDozMlrOGekzjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNzo1OToyMlrOGenQ6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxMzQ4NA==", "bodyText": "What if the maps have the same key with different values? Currently, the latter will be in the result. Maybe point this out in the description", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434713484", "createdAt": "2020-06-03T16:50:32Z", "author": {"login": "vpapavas"}, "path": "ksqldb-engine/src/main/java/io/confluent/ksql/function/udf/map/MapUnion.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 Confluent Inc.\n+ *\n+ * Licensed under the Confluent Community License (the \"License\"; you may not use this file except\n+ * in compliance with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.confluent.io/confluent-community-license\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License\n+ * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and limitations under the\n+ * License.\n+ */\n+\n+package io.confluent.ksql.function.udf.map;\n+\n+import io.confluent.ksql.function.udf.Udf;\n+import io.confluent.ksql.function.udf.UdfDescription;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+@UdfDescription(\n+    name = \"map_union\",\n+    description = \"Returns a new map containing the union of all entries from both input maps. \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7512103c40851c9394c07238f3ab4f5bdd42a734"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc1Mzc2OA==", "bodyText": "yeah - this is described in the docs file but not here, will add something to call it out here also", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434753768", "createdAt": "2020-06-03T17:59:22Z", "author": {"login": "blueedgenick"}, "path": "ksqldb-engine/src/main/java/io/confluent/ksql/function/udf/map/MapUnion.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 Confluent Inc.\n+ *\n+ * Licensed under the Confluent Community License (the \"License\"; you may not use this file except\n+ * in compliance with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.confluent.io/confluent-community-license\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License\n+ * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and limitations under the\n+ * License.\n+ */\n+\n+package io.confluent.ksql.function.udf.map;\n+\n+import io.confluent.ksql.function.udf.Udf;\n+import io.confluent.ksql.function.udf.UdfDescription;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+@UdfDescription(\n+    name = \"map_union\",\n+    description = \"Returns a new map containing the union of all entries from both input maps. \"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxMzQ4NA=="}, "originalCommit": {"oid": "7512103c40851c9394c07238f3ab4f5bdd42a734"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNzg0NzA5OnYy", "diffSide": "RIGHT", "path": "ksqldb-engine/src/main/java/io/confluent/ksql/function/udf/map/MapUnion.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNjo1MjoyMFrOGek3tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNzo1OTo0MVrOGenRpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxNDU0OA==", "bodyText": "Add @UdfParameter just so that it can compile without the -parameters in the pom file?", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434714548", "createdAt": "2020-06-03T16:52:20Z", "author": {"login": "vpapavas"}, "path": "ksqldb-engine/src/main/java/io/confluent/ksql/function/udf/map/MapUnion.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 Confluent Inc.\n+ *\n+ * Licensed under the Confluent Community License (the \"License\"; you may not use this file except\n+ * in compliance with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.confluent.io/confluent-community-license\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License\n+ * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and limitations under the\n+ * License.\n+ */\n+\n+package io.confluent.ksql.function.udf.map;\n+\n+import io.confluent.ksql.function.udf.Udf;\n+import io.confluent.ksql.function.udf.UdfDescription;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+@UdfDescription(\n+    name = \"map_union\",\n+    description = \"Returns a new map containing the union of all entries from both input maps. \"\n+        + \"Returns NULL if all of the input maps are NULL.\")\n+public class MapUnion {\n+\n+  @Udf\n+  public <T> Map<String, T> union(final Map<String, T> input1, final Map<String, T> input2) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7512103c40851c9394c07238f3ab4f5bdd42a734"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc1Mzk1OQ==", "bodyText": "makes sense", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434753959", "createdAt": "2020-06-03T17:59:41Z", "author": {"login": "blueedgenick"}, "path": "ksqldb-engine/src/main/java/io/confluent/ksql/function/udf/map/MapUnion.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 Confluent Inc.\n+ *\n+ * Licensed under the Confluent Community License (the \"License\"; you may not use this file except\n+ * in compliance with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.confluent.io/confluent-community-license\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License\n+ * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and limitations under the\n+ * License.\n+ */\n+\n+package io.confluent.ksql.function.udf.map;\n+\n+import io.confluent.ksql.function.udf.Udf;\n+import io.confluent.ksql.function.udf.UdfDescription;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+@UdfDescription(\n+    name = \"map_union\",\n+    description = \"Returns a new map containing the union of all entries from both input maps. \"\n+        + \"Returns NULL if all of the input maps are NULL.\")\n+public class MapUnion {\n+\n+  @Udf\n+  public <T> Map<String, T> union(final Map<String, T> input1, final Map<String, T> input2) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxNDU0OA=="}, "originalCommit": {"oid": "7512103c40851c9394c07238f3ab4f5bdd42a734"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwODYwNDQyOnYy", "diffSide": "RIGHT", "path": "docs/developer-guide/ksqldb-reference/scalar-functions.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDozOTo1N1rOGesh0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDozOTo1N1rOGesh0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MDAxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Returns an array of all the keys from the specified map.\n          \n          \n            \n            Returns an array that contains all of the keys from the specified map.", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434840016", "createdAt": "2020-06-03T20:39:57Z", "author": {"login": "JimGalasyn"}, "path": "docs/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -259,6 +259,52 @@ MAP(key VARCHAR := value, ...)\n \n Construct a map from specific key-value tuples.\n \n+### `MAP_KEYS`\n+\n+```sql\n+MAP_KEYS(a_map)\n+```\n+\n+Returns an array of all the keys from the specified map.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a22986c221289d883554c1e452d711f0e597c26"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwODYwNzM0OnYy", "diffSide": "RIGHT", "path": "docs/developer-guide/ksqldb-reference/scalar-functions.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0MDo1MFrOGesjpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0MDo1MFrOGesjpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MDQ4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Returns an array of all the values from the specified map.\n          \n          \n            \n            Returns an array that contains all of the values from the specified map.", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434840485", "createdAt": "2020-06-03T20:40:50Z", "author": {"login": "JimGalasyn"}, "path": "docs/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -259,6 +259,52 @@ MAP(key VARCHAR := value, ...)\n \n Construct a map from specific key-value tuples.\n \n+### `MAP_KEYS`\n+\n+```sql\n+MAP_KEYS(a_map)\n+```\n+\n+Returns an array of all the keys from the specified map.\n+\n+Returns NULL if the input map is NULL.\n+\n+Example:\n+```sql\n+map_keys( map('apple' := 10, 'banana' := 20) )  => ['apple', 'banana'] \n+```\n+\n+### `MAP_VALUES`\n+\n+```sql\n+MAP_VALUES(a_map)\n+```\n+\n+Returns an array of all the values from the specified map.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a22986c221289d883554c1e452d711f0e597c26"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwODYxMjY4OnYy", "diffSide": "RIGHT", "path": "docs/developer-guide/ksqldb-reference/scalar-functions.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0MjozNVrOGesnFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0MjozNVrOGesnFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MTM2NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Returns a new map containing the union of all entries from both input maps. If a key is present in both input maps then the corresponding value from _map2_ is the one which appears in the output.\n          \n          \n            \n            Returns a new map containing the union of all entries from both input maps. If a key is present in both input maps, the corresponding value from _map2_ is returned.", "url": "https://github.com/confluentinc/ksql/pull/5536#discussion_r434841365", "createdAt": "2020-06-03T20:42:35Z", "author": {"login": "JimGalasyn"}, "path": "docs/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -259,6 +259,52 @@ MAP(key VARCHAR := value, ...)\n \n Construct a map from specific key-value tuples.\n \n+### `MAP_KEYS`\n+\n+```sql\n+MAP_KEYS(a_map)\n+```\n+\n+Returns an array of all the keys from the specified map.\n+\n+Returns NULL if the input map is NULL.\n+\n+Example:\n+```sql\n+map_keys( map('apple' := 10, 'banana' := 20) )  => ['apple', 'banana'] \n+```\n+\n+### `MAP_VALUES`\n+\n+```sql\n+MAP_VALUES(a_map)\n+```\n+\n+Returns an array of all the values from the specified map.\n+\n+Returns NULL if the input map is NULL.\n+\n+Example:\n+```sql\n+map_values( map('apple' := 10, 'banana' := 20) )  => [10, 20] \n+```\n+\n+### `MAP_UNION`\n+\n+```sql\n+MAP_UNION(map1, map2)\n+```\n+\n+Returns a new map containing the union of all entries from both input maps. If a key is present in both input maps then the corresponding value from _map2_ is the one which appears in the output.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a22986c221289d883554c1e452d711f0e597c26"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3348, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}