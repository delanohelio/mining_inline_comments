{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MTIyNTQ5", "number": 5118, "title": "refactor: Remove jax rs response", "bodyText": "Description\nThis is stacked PR, please review only the top commit(s)\nAs part of the migration from Jetty to Vert.x, this PR removes most usages of JAX-RS Response.\nTesting done\nNon functional change\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-04-20T15:08:01Z", "url": "https://github.com/confluentinc/ksql/pull/5118", "merged": true, "mergeCommit": {"oid": "04eeaba575f92c0f7f289821b4380e1d27c6dce6"}, "closed": true, "closedAt": "2020-04-22T09:16:45Z", "author": {"login": "purplefox"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaDGH5gFqTM5Nzg5NjMxMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaEJy9AH2gAyNDA2MTIyNTQ5OjA5N2IyZTg4OTQ0MDdhYTI4NDMwYTIxZjRmNjdlODdjYTFhYTI2MDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3ODk2MzEw", "url": "https://github.com/confluentinc/ksql/pull/5118#pullrequestreview-397896310", "createdAt": "2020-04-22T07:01:35Z", "commit": {"oid": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNzowMTozNVrOGJmjzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNzoxMTo1NFrOGJm7VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyMjEyNw==", "bodyText": "Why are these tests being removed?", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412722127", "createdAt": "2020-04-22T07:01:35Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-rest-app/src/test/java/io/confluent/ksql/rest/server/resources/ServerMetadataResourceTest.java", "diffHunk": "@@ -110,26 +107,5 @@ public void shouldReturnServerClusterId() {\n         equalTo(ServerClusterId.of(KAFKA_CLUSTER_ID, KSQL_SERVICE_ID))\n     );\n   }\n-\n-\n-  @Test\n-  public void shouldGetKafkaClusterIdWithTimeout()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyMzg1NQ==", "bodyText": "nit: rename this to OldApiExceptionMapperTest to be consistent with the rename of KsqlExceptionMapper to OldApiExceptionMapper.", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412723855", "createdAt": "2020-04-22T07:04:38Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-rest-app/src/test/java/io/confluent/ksql/rest/server/resources/KsqlExceptionMapperTest.java", "diffHunk": "@@ -15,46 +15,49 @@\n \n package io.confluent.ksql.rest.server.resources;\n \n+import static io.netty.handler.codec.http.HttpResponseStatus.INTERNAL_SERVER_ERROR;\n import static org.hamcrest.CoreMatchers.equalTo;\n import static org.hamcrest.CoreMatchers.instanceOf;\n import static org.hamcrest.CoreMatchers.sameInstance;\n import static org.hamcrest.MatcherAssert.assertThat;\n \n+import io.confluent.ksql.api.server.OldApiExceptionMapper;\n+import io.confluent.ksql.rest.EndpointResponse;\n import io.confluent.ksql.rest.Errors;\n import io.confluent.ksql.rest.entity.KsqlErrorMessage;\n import javax.ws.rs.WebApplicationException;\n-import javax.ws.rs.core.Response;\n import org.junit.Test;\n \n public class KsqlExceptionMapperTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyODE0OQ==", "bodyText": "statusMessage is unused.", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412728149", "createdAt": "2020-04-22T07:11:54Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-rest-model/src/main/java/io/confluent/ksql/rest/EndpointResponse.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/*\n+ * Copyright 2020 Confluent Inc.\n+ *\n+ * Licensed under the Confluent Community License (the \"License\"); you may not use\n+ * this file except in compliance with the License.  You may obtain a copy of the\n+ * License at\n+ *\n+ * http://www.confluent.io/confluent-community-license\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OF ANY KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package io.confluent.ksql.rest;\n+\n+import io.netty.handler.codec.http.HttpResponseStatus;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+public final class EndpointResponse {\n+\n+  private final Map<String, String> headers;\n+  private final int status;\n+  private final Object entity;\n+\n+  private EndpointResponse(final Map<String, String> headers, final int status,\n+      final String statusMessage, final Object entity) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114"}, "originalPosition": 29}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114", "author": {"user": {"login": "purplefox", "name": "Tim Fox"}}, "url": "https://github.com/confluentinc/ksql/commit/e50487c0a73a10d7a9229ea43fb62e4e9c78d114", "committedDate": "2020-04-20T20:04:25Z", "message": "Removed redundant tests"}, "afterCommit": {"oid": "5fff2400314246b715142cd2ac88bf6aba143df4", "author": {"user": {"login": "purplefox", "name": "Tim Fox"}}, "url": "https://github.com/confluentinc/ksql/commit/5fff2400314246b715142cd2ac88bf6aba143df4", "committedDate": "2020-04-22T07:35:31Z", "message": "Remove most usages of jax rs response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "author": {"user": {"login": "purplefox", "name": "Tim Fox"}}, "url": "https://github.com/confluentinc/ksql/commit/4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "committedDate": "2020-04-22T08:34:34Z", "message": "Remove most usages of jax rs response"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5fff2400314246b715142cd2ac88bf6aba143df4", "author": {"user": {"login": "purplefox", "name": "Tim Fox"}}, "url": "https://github.com/confluentinc/ksql/commit/5fff2400314246b715142cd2ac88bf6aba143df4", "committedDate": "2020-04-22T07:35:31Z", "message": "Remove most usages of jax rs response"}, "afterCommit": {"oid": "4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "author": {"user": {"login": "purplefox", "name": "Tim Fox"}}, "url": "https://github.com/confluentinc/ksql/commit/4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "committedDate": "2020-04-22T08:34:34Z", "message": "Remove most usages of jax rs response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "097b2e8894407aa28430a21f4f67e87ca1aa2604", "author": {"user": {"login": "purplefox", "name": "Tim Fox"}}, "url": "https://github.com/confluentinc/ksql/commit/097b2e8894407aa28430a21f4f67e87ca1aa2604", "committedDate": "2020-04-22T08:38:26Z", "message": "Review updates"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4870, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}