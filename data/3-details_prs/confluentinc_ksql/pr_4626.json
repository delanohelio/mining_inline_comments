{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NzI3NTc4", "number": 4626, "title": "docs: document healthcheck for ksqlDB headless containers (DOCS-3066)", "bodyText": "", "createdAt": "2020-02-25T18:16:34Z", "url": "https://github.com/confluentinc/ksql/pull/4626", "merged": true, "mergeCommit": {"oid": "b647f362eafea94136db835554522d35dc579c47"}, "closed": true, "closedAt": "2020-02-26T21:21:44Z", "author": {"login": "JimGalasyn"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcH2GDLAH2gAyMzc5NzI3NTc4OjEzMTAxN2JmOTQ0NmVmMGRhZmVkMDM0MGJjYjIyMDQ1MGVmZWI1Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcH6BJfAH2gAyMzc5NzI3NTc4OjFlYjU0ZDg3OTM3YzZhNzdkMjRlNjQyMDY3OTc3NDFiNjU4ZWEzYTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "131017bf9446ef0dafed0340bcb220450efeb5ca", "author": {"user": {"login": "JimGalasyn", "name": "Jim Galasyn"}}, "url": "https://github.com/confluentinc/ksql/commit/131017bf9446ef0dafed0340bcb220450efeb5ca", "committedDate": "2020-02-25T18:05:02Z", "message": "docs: document healthcheck for ksqlDB headless containers (DOCS-3066)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MzcxMjAx", "url": "https://github.com/confluentinc/ksql/pull/4626#pullrequestreview-364371201", "createdAt": "2020-02-25T19:03:55Z", "commit": {"oid": "131017bf9446ef0dafed0340bcb220450efeb5ca"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxOTowMzo1NVrOFuRa-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxOToyMzo0MlrOFuSDRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA2NDI1MQ==", "bodyText": "Is this recommendation Docker-specific? Seems like it would be applicable for native deployments as well.", "url": "https://github.com/confluentinc/ksql/pull/4626#discussion_r384064251", "createdAt": "2020-02-25T19:03:55Z", "author": {"login": "mikebin"}, "path": "docs-md/operate-and-deploy/installation/check-ksqldb-server-health.md", "diffHunk": "@@ -80,4 +80,29 @@ If you're running ksqlDB server in a Docker container, run the\n the `ksql-server` container is `Up`. Check the health of the process in\n the container by running `docker logs <ksql-server-container-id>`.\n \n-Page last revised on: {{ git_revision_date }}\n+Check a headless ksqlDB Server running in a Docker Container ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "131017bf9446ef0dafed0340bcb220450efeb5ca"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA3NDU2NA==", "bodyText": "Would using the built in script ksql-print-metrics <port=NNNN> be an alternative? Not sure it's any better, but it's an out-of-the-box option to consider.", "url": "https://github.com/confluentinc/ksql/pull/4626#discussion_r384074564", "createdAt": "2020-02-25T19:23:42Z", "author": {"login": "mikebin"}, "path": "docs-md/operate-and-deploy/installation/check-ksqldb-server-health.md", "diffHunk": "@@ -80,4 +80,29 @@ If you're running ksqlDB server in a Docker container, run the\n the `ksql-server` container is `Up`. Check the health of the process in\n the container by running `docker logs <ksql-server-container-id>`.\n \n-Page last revised on: {{ git_revision_date }}\n+Check a headless ksqlDB Server running in a Docker Container \n+------------------------------------------------------------\n+\n+A headless deployment of ksqlDB Server doesn't have a REST server that you can\n+query for health. Instead, you can probe the JMX port for liveness. A JMX probe\n+is the most reliable way to determine readiness of a headless deployment.\n+\n+The following command probes the JMX port by using the Netcat utility.\n+\n+```bash\n+nc -z <ksql-node>:1099", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "131017bf9446ef0dafed0340bcb220450efeb5ca"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eb54d87937c6a77d24e64206797741b658ea3a8", "author": {"user": {"login": "JimGalasyn", "name": "Jim Galasyn"}}, "url": "https://github.com/confluentinc/ksql/commit/1eb54d87937c6a77d24e64206797741b658ea3a8", "committedDate": "2020-02-25T22:39:18Z", "message": "docs: incorporate feedback and refactor topic a bit"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4866, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}