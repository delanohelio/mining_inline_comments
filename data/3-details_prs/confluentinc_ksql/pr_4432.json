{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNTkyMjIy", "number": 4432, "title": "refactor: move Format into ksql-serde module", "bodyText": "Description\nAs part of the protobuf/pluggable schema work, I wanted to make the Format class an interface that can be implemented more easily and for less of the code to rely on it. As such, this PR has four main changes:\n\nmove Format, ValueFormat and KeyFormat into the ksql-serde module\nadd getSerdeFactory into the Format enum (later this enum will become an interface that others can implement as well)\nFormatInfo now knows nothing about Format and stores only a string containing the format name. This inverts the ownership model as Format#of now takes a FormatInfo\nmade it so that we don't enforce the format type in an enum in schema.json\n\nTesting done\n\nupdated unit tests\n\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-02-04T00:43:06Z", "url": "https://github.com/confluentinc/ksql/pull/4432", "merged": true, "mergeCommit": {"oid": "db665369ec0707d6ee8ef9fe8413a093254cf398"}, "closed": true, "closedAt": "2020-02-04T17:55:43Z", "author": {"login": "agavra"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA2jMmAH2gAyMzcwNTkyMjIyOmQxNzczNmJmNTE4ZmZkZWJhNzA2NDU4MTE4NTVmMWU1MGNmZWVjNGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBE03NAFqTM1MzE1MzA5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d17736bf518ffdeba70645811855f1e50cfeec4f", "author": {"user": {"login": "agavra", "name": "Almog Gavra"}}, "url": "https://github.com/confluentinc/ksql/commit/d17736bf518ffdeba70645811855f1e50cfeec4f", "committedDate": "2020-02-04T00:39:24Z", "message": "refactor: move Format into ksql-serde module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d589b34dbc03ccab3e1acf5f4ebc073afd70929d", "author": {"user": {"login": "agavra", "name": "Almog Gavra"}}, "url": "https://github.com/confluentinc/ksql/commit/d589b34dbc03ccab3e1acf5f4ebc073afd70929d", "committedDate": "2020-02-04T17:00:56Z", "message": "test: fix a test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTUzMDk1", "url": "https://github.com/confluentinc/ksql/pull/4432#pullrequestreview-353153095", "createdAt": "2020-02-04T17:13:01Z", "commit": {"oid": "d589b34dbc03ccab3e1acf5f4ebc073afd70929d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNzoxMzowMVrOFlcXAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNzoxMzowMVrOFlcXAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgwNjI3NA==", "bodyText": "Switching this means poor UX: if a user submits a request with multiple statements in it, the error doesn't identify which statement had the error.   This can make it hard(er) for the user to track down the cause of the error.\nBetter to fix the code to ensure the statement exception is thrown.", "url": "https://github.com/confluentinc/ksql/pull/4432#discussion_r374806274", "createdAt": "2020-02-04T17:13:01Z", "author": {"login": "big-andy-coates"}, "path": "ksql-functional-tests/src/test/resources/query-validation-tests/delimited.json", "diffHunk": "@@ -178,7 +178,7 @@\n         }\n       ],\n       \"expectedException\": {\n-        \"type\": \"io.confluent.ksql.util.KsqlStatementException\",\n+        \"type\": \"io.confluent.ksql.util.KsqlException\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d589b34dbc03ccab3e1acf5f4ebc073afd70929d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4942, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}