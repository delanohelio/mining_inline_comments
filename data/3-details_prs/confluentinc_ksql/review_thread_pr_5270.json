{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNjI0MzE2", "number": 5270, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNzoyOTo1M1rOD5gZEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNzoyOTo1M1rOD5gZEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNjI2MTI4OnYy", "diffSide": "RIGHT", "path": "ksqldb-common/src/main/java/io/confluent/ksql/util/DecimalUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNzoyOTo1M1rOGQ0FcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNDo0MjowOVrOGSoAoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDI4Mzc2MA==", "bodyText": "why do we need this at all? does decimal format not handle integer digits by default?", "url": "https://github.com/confluentinc/ksql/pull/5270#discussion_r420283760", "createdAt": "2020-05-05T17:29:53Z", "author": {"login": "agavra"}, "path": "ksqldb-common/src/main/java/io/confluent/ksql/util/DecimalUtil.java", "diffHunk": "@@ -113,16 +113,20 @@ public static int precision(final Schema schema) {\n   }\n \n   /**\n-   * Formats the decimal string, padding zeros if necessary.\n+   * Formats the decimal string, adding trailing zeros if necessary.\n    *\n    * @param value the value\n    * @return the formatted string\n    */\n   public static String format(final int precision, final int scale, final BigDecimal value) {\n     final DecimalFormat format = new DecimalFormat();\n-    format.setMinimumIntegerDigits(precision - scale);\n     format.setMinimumFractionDigits(scale);\n \n+    // Avoids adding leading zeros if precision is higher than the value precision\n+    if (precision < value.precision()) {\n+      format.setMinimumIntegerDigits(precision - scale);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4622a8e63ce082cab3c5d041333441307fc6461f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE4MzA3Mg==", "bodyText": "I wasn't sure why this was needed before, but I know now this is used to add the zeros at the left. I removed it now.", "url": "https://github.com/confluentinc/ksql/pull/5270#discussion_r422183072", "createdAt": "2020-05-08T14:42:09Z", "author": {"login": "spena"}, "path": "ksqldb-common/src/main/java/io/confluent/ksql/util/DecimalUtil.java", "diffHunk": "@@ -113,16 +113,20 @@ public static int precision(final Schema schema) {\n   }\n \n   /**\n-   * Formats the decimal string, padding zeros if necessary.\n+   * Formats the decimal string, adding trailing zeros if necessary.\n    *\n    * @param value the value\n    * @return the formatted string\n    */\n   public static String format(final int precision, final int scale, final BigDecimal value) {\n     final DecimalFormat format = new DecimalFormat();\n-    format.setMinimumIntegerDigits(precision - scale);\n     format.setMinimumFractionDigits(scale);\n \n+    // Avoids adding leading zeros if precision is higher than the value precision\n+    if (precision < value.precision()) {\n+      format.setMinimumIntegerDigits(precision - scale);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDI4Mzc2MA=="}, "originalCommit": {"oid": "4622a8e63ce082cab3c5d041333441307fc6461f"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3527, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}