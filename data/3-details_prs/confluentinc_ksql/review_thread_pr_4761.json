{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NDk4MDQw", "number": 4761, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMjo1NTowN1rODnqazw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMjo1NToxMlrODnqa4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyOTE2MDQ3OnYy", "diffSide": "RIGHT", "path": "docs-md/concepts/processing-guarantees.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMjo1NTowN1rOF1yl5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMzo0NzoyMVrOF1zedw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk0Nzc1MQ==", "bodyText": "Was there an effort to remove references to CP from the community docs?", "url": "https://github.com/confluentinc/ksql/pull/4761#discussion_r391947751", "createdAt": "2020-03-12T22:55:07Z", "author": {"login": "vcrfxia"}, "path": "docs-md/concepts/processing-guarantees.md", "diffHunk": "@@ -1,11 +1,93 @@\n ---\r\n layout: page\r\n title: Processing Guarantees\r\n-tagline: Processing in ksqlDB\r\n-description: Learn about processing in ksqlDB\r\n-keywords: ksqldb, processing\r\n+tagline: Processing guarantees in ksqlDB\r\n+description: Learn about at-least-once, exactly-once semantics in ksqlDB\r\n+keywords: ksqldb, processing, eos, at-least-once, exactly-once\r\n ---\r\n \r\n-TODO: EOS, etc.\r\n+ksqlDB supports *at-least-once* and *exactly-once* processing guarantees.\r\n \r\n-Page last revised on: {{ git_revision_date }}\n\\ No newline at end of file\n+At-least-once semantics\r\n+-----------------------\r\n+\r\n+Records are never lost but may be redelivered. If your stream processing\r\n+application fails, no data records are lost and fail to be processed, but some\r\n+data records may be re-read and therefore re-processed. At-least-once semantics\r\n+is enabled by default in your ksqlDB configuration, with\r\n+`processing.guarantee=\"at_least_once\"`.\r\n+\r\n+Exactly-once semantics\r\n+----------------------\r\n+\r\n+Records are processed once. Even if a producer sends a duplicate record, it's\r\n+written to the broker exactly once.\r\n+\r\n+Exactly-once stream processing is the ability to execute a read-process-write\r\n+operation exactly one time. All of the processing happens exactly once,\r\n+including the processing and the materialized state created by the processing\r\n+job that is written back to {{ site.ak }}.\r\n+\r\n+To enable exactly-once semantics, set `processing.guarantee=\"exactly_once\"` in\r\n+your ksqlDB configuration.\r\n+\r\n+For more information, see\r\n+[Processing Guarantees](https://docs.confluent.io/current/streams/concepts.html#processing-guarantees).\r\n+\r\n+### Enable exactly-once semantics\r\n+\r\n+Exactly-once isn't enabled by default in ksqlDB, but you can enable it on a\r\n+query-by-query basis by passing the `processing.guarantee` configuration setting\r\n+to ksqlDB.\r\n+\r\n+How you pass the configuration setting to ksqlDB depends on how you\r\n+run ksqlDB Server and on how you send requests to start queries.\r\n+\r\n+#### ksqlDB CLI\r\n+\r\n+Use the SET command to enable exactly-once for the subsequent\r\n+query:\r\n+\r\n+```sql\r\n+SET 'processing.guarantee' = 'exactly_once';\r\n+```\r\n+\r\n+For more information, see\r\n+[Configure ksqlDB CLI](../operate-and-deploy/installation/cli-config.md).\r\n+\r\n+#### REST API\r\n+\r\n+Pass the config as a property along with the request:\r\n+\r\n+```http\r\n+POST /query HTTP/1.1\r\n+Accept: application/vnd.ksql.v1+json\r\n+Content-Type: application/vnd.ksql.v1+json\r\n+\r\n+{\r\n+\"ksql\": \"SELECT * FROM pageviews EMIT CHANGES;\",\r\n+\"streamsProperties\": {\r\n+    \"processing.guarantee\": \"exactly_once\"\r\n+}\r\n+}\r\n+```\r\n+\r\n+For more information, see\r\n+[Run a query and stream back the output](../developer-guide/ksqldb-rest-api/query-endpoint.md).\r\n+\r\n+#### Default for all queries and non-interactive (headless) mode\r\n+\r\n+To enable exactly-once by default for all queries, and for non-interactive\r\n+(headless) mode, set the configuration in the ksqlDB Server properties file,\r\n+which by default is located at\r\n+`${CONFLUENT_HOME}/etc/ksql/ksql-server.properties` in a {{ site.cp }}\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a410e10f4037d50914269209751366fe32d1d8e"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk1NzI1MA==", "bodyText": "@vcrfxia yes, and I stuck this in here just because there's no convenient place in the Enterprise docs (yet).", "url": "https://github.com/confluentinc/ksql/pull/4761#discussion_r391957250", "createdAt": "2020-03-12T23:28:30Z", "author": {"login": "JimGalasyn"}, "path": "docs-md/concepts/processing-guarantees.md", "diffHunk": "@@ -1,11 +1,93 @@\n ---\r\n layout: page\r\n title: Processing Guarantees\r\n-tagline: Processing in ksqlDB\r\n-description: Learn about processing in ksqlDB\r\n-keywords: ksqldb, processing\r\n+tagline: Processing guarantees in ksqlDB\r\n+description: Learn about at-least-once, exactly-once semantics in ksqlDB\r\n+keywords: ksqldb, processing, eos, at-least-once, exactly-once\r\n ---\r\n \r\n-TODO: EOS, etc.\r\n+ksqlDB supports *at-least-once* and *exactly-once* processing guarantees.\r\n \r\n-Page last revised on: {{ git_revision_date }}\n\\ No newline at end of file\n+At-least-once semantics\r\n+-----------------------\r\n+\r\n+Records are never lost but may be redelivered. If your stream processing\r\n+application fails, no data records are lost and fail to be processed, but some\r\n+data records may be re-read and therefore re-processed. At-least-once semantics\r\n+is enabled by default in your ksqlDB configuration, with\r\n+`processing.guarantee=\"at_least_once\"`.\r\n+\r\n+Exactly-once semantics\r\n+----------------------\r\n+\r\n+Records are processed once. Even if a producer sends a duplicate record, it's\r\n+written to the broker exactly once.\r\n+\r\n+Exactly-once stream processing is the ability to execute a read-process-write\r\n+operation exactly one time. All of the processing happens exactly once,\r\n+including the processing and the materialized state created by the processing\r\n+job that is written back to {{ site.ak }}.\r\n+\r\n+To enable exactly-once semantics, set `processing.guarantee=\"exactly_once\"` in\r\n+your ksqlDB configuration.\r\n+\r\n+For more information, see\r\n+[Processing Guarantees](https://docs.confluent.io/current/streams/concepts.html#processing-guarantees).\r\n+\r\n+### Enable exactly-once semantics\r\n+\r\n+Exactly-once isn't enabled by default in ksqlDB, but you can enable it on a\r\n+query-by-query basis by passing the `processing.guarantee` configuration setting\r\n+to ksqlDB.\r\n+\r\n+How you pass the configuration setting to ksqlDB depends on how you\r\n+run ksqlDB Server and on how you send requests to start queries.\r\n+\r\n+#### ksqlDB CLI\r\n+\r\n+Use the SET command to enable exactly-once for the subsequent\r\n+query:\r\n+\r\n+```sql\r\n+SET 'processing.guarantee' = 'exactly_once';\r\n+```\r\n+\r\n+For more information, see\r\n+[Configure ksqlDB CLI](../operate-and-deploy/installation/cli-config.md).\r\n+\r\n+#### REST API\r\n+\r\n+Pass the config as a property along with the request:\r\n+\r\n+```http\r\n+POST /query HTTP/1.1\r\n+Accept: application/vnd.ksql.v1+json\r\n+Content-Type: application/vnd.ksql.v1+json\r\n+\r\n+{\r\n+\"ksql\": \"SELECT * FROM pageviews EMIT CHANGES;\",\r\n+\"streamsProperties\": {\r\n+    \"processing.guarantee\": \"exactly_once\"\r\n+}\r\n+}\r\n+```\r\n+\r\n+For more information, see\r\n+[Run a query and stream back the output](../developer-guide/ksqldb-rest-api/query-endpoint.md).\r\n+\r\n+#### Default for all queries and non-interactive (headless) mode\r\n+\r\n+To enable exactly-once by default for all queries, and for non-interactive\r\n+(headless) mode, set the configuration in the ksqlDB Server properties file,\r\n+which by default is located at\r\n+`${CONFLUENT_HOME}/etc/ksql/ksql-server.properties` in a {{ site.cp }}\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk0Nzc1MQ=="}, "originalCommit": {"oid": "9a410e10f4037d50914269209751366fe32d1d8e"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk2MjIzMQ==", "bodyText": "I added an example for Docker, too.", "url": "https://github.com/confluentinc/ksql/pull/4761#discussion_r391962231", "createdAt": "2020-03-12T23:47:21Z", "author": {"login": "JimGalasyn"}, "path": "docs-md/concepts/processing-guarantees.md", "diffHunk": "@@ -1,11 +1,93 @@\n ---\r\n layout: page\r\n title: Processing Guarantees\r\n-tagline: Processing in ksqlDB\r\n-description: Learn about processing in ksqlDB\r\n-keywords: ksqldb, processing\r\n+tagline: Processing guarantees in ksqlDB\r\n+description: Learn about at-least-once, exactly-once semantics in ksqlDB\r\n+keywords: ksqldb, processing, eos, at-least-once, exactly-once\r\n ---\r\n \r\n-TODO: EOS, etc.\r\n+ksqlDB supports *at-least-once* and *exactly-once* processing guarantees.\r\n \r\n-Page last revised on: {{ git_revision_date }}\n\\ No newline at end of file\n+At-least-once semantics\r\n+-----------------------\r\n+\r\n+Records are never lost but may be redelivered. If your stream processing\r\n+application fails, no data records are lost and fail to be processed, but some\r\n+data records may be re-read and therefore re-processed. At-least-once semantics\r\n+is enabled by default in your ksqlDB configuration, with\r\n+`processing.guarantee=\"at_least_once\"`.\r\n+\r\n+Exactly-once semantics\r\n+----------------------\r\n+\r\n+Records are processed once. Even if a producer sends a duplicate record, it's\r\n+written to the broker exactly once.\r\n+\r\n+Exactly-once stream processing is the ability to execute a read-process-write\r\n+operation exactly one time. All of the processing happens exactly once,\r\n+including the processing and the materialized state created by the processing\r\n+job that is written back to {{ site.ak }}.\r\n+\r\n+To enable exactly-once semantics, set `processing.guarantee=\"exactly_once\"` in\r\n+your ksqlDB configuration.\r\n+\r\n+For more information, see\r\n+[Processing Guarantees](https://docs.confluent.io/current/streams/concepts.html#processing-guarantees).\r\n+\r\n+### Enable exactly-once semantics\r\n+\r\n+Exactly-once isn't enabled by default in ksqlDB, but you can enable it on a\r\n+query-by-query basis by passing the `processing.guarantee` configuration setting\r\n+to ksqlDB.\r\n+\r\n+How you pass the configuration setting to ksqlDB depends on how you\r\n+run ksqlDB Server and on how you send requests to start queries.\r\n+\r\n+#### ksqlDB CLI\r\n+\r\n+Use the SET command to enable exactly-once for the subsequent\r\n+query:\r\n+\r\n+```sql\r\n+SET 'processing.guarantee' = 'exactly_once';\r\n+```\r\n+\r\n+For more information, see\r\n+[Configure ksqlDB CLI](../operate-and-deploy/installation/cli-config.md).\r\n+\r\n+#### REST API\r\n+\r\n+Pass the config as a property along with the request:\r\n+\r\n+```http\r\n+POST /query HTTP/1.1\r\n+Accept: application/vnd.ksql.v1+json\r\n+Content-Type: application/vnd.ksql.v1+json\r\n+\r\n+{\r\n+\"ksql\": \"SELECT * FROM pageviews EMIT CHANGES;\",\r\n+\"streamsProperties\": {\r\n+    \"processing.guarantee\": \"exactly_once\"\r\n+}\r\n+}\r\n+```\r\n+\r\n+For more information, see\r\n+[Run a query and stream back the output](../developer-guide/ksqldb-rest-api/query-endpoint.md).\r\n+\r\n+#### Default for all queries and non-interactive (headless) mode\r\n+\r\n+To enable exactly-once by default for all queries, and for non-interactive\r\n+(headless) mode, set the configuration in the ksqlDB Server properties file,\r\n+which by default is located at\r\n+`${CONFLUENT_HOME}/etc/ksql/ksql-server.properties` in a {{ site.cp }}\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk0Nzc1MQ=="}, "originalCommit": {"oid": "9a410e10f4037d50914269209751366fe32d1d8e"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyOTE2MDY1OnYy", "diffSide": "RIGHT", "path": "docs-md/concepts/processing-guarantees.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMjo1NToxMlrOF1ymBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwMDowNzowMlrOF1zx-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk0Nzc4MA==", "bodyText": "I realize this is just cut-and-paste but I found this confusing the first time I read it: \"producer\" here doesn't refer to the application producer (the initial producer before the stream processing takes place, the analogous producer to the \"end consumer\"), but rather only producers within KSQL / Streams apps.\nAs a more general comment along the same lines, I wonder if we should clarify somewhere that exactly-once only refers to the stream processing guarantees and needs to be used with care (end consumers and producers that are also exactly-once) in order to achieve a truly exactly-once system?", "url": "https://github.com/confluentinc/ksql/pull/4761#discussion_r391947780", "createdAt": "2020-03-12T22:55:12Z", "author": {"login": "vcrfxia"}, "path": "docs-md/concepts/processing-guarantees.md", "diffHunk": "@@ -1,11 +1,93 @@\n ---\r\n layout: page\r\n title: Processing Guarantees\r\n-tagline: Processing in ksqlDB\r\n-description: Learn about processing in ksqlDB\r\n-keywords: ksqldb, processing\r\n+tagline: Processing guarantees in ksqlDB\r\n+description: Learn about at-least-once, exactly-once semantics in ksqlDB\r\n+keywords: ksqldb, processing, eos, at-least-once, exactly-once\r\n ---\r\n \r\n-TODO: EOS, etc.\r\n+ksqlDB supports *at-least-once* and *exactly-once* processing guarantees.\r\n \r\n-Page last revised on: {{ git_revision_date }}\n\\ No newline at end of file\n+At-least-once semantics\r\n+-----------------------\r\n+\r\n+Records are never lost but may be redelivered. If your stream processing\r\n+application fails, no data records are lost and fail to be processed, but some\r\n+data records may be re-read and therefore re-processed. At-least-once semantics\r\n+is enabled by default in your ksqlDB configuration, with\r\n+`processing.guarantee=\"at_least_once\"`.\r\n+\r\n+Exactly-once semantics\r\n+----------------------\r\n+\r\n+Records are processed once. Even if a producer sends a duplicate record, it's\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a410e10f4037d50914269209751366fe32d1d8e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk2NzIyNA==", "bodyText": "Cool, I added a warning note.", "url": "https://github.com/confluentinc/ksql/pull/4761#discussion_r391967224", "createdAt": "2020-03-13T00:07:02Z", "author": {"login": "JimGalasyn"}, "path": "docs-md/concepts/processing-guarantees.md", "diffHunk": "@@ -1,11 +1,93 @@\n ---\r\n layout: page\r\n title: Processing Guarantees\r\n-tagline: Processing in ksqlDB\r\n-description: Learn about processing in ksqlDB\r\n-keywords: ksqldb, processing\r\n+tagline: Processing guarantees in ksqlDB\r\n+description: Learn about at-least-once, exactly-once semantics in ksqlDB\r\n+keywords: ksqldb, processing, eos, at-least-once, exactly-once\r\n ---\r\n \r\n-TODO: EOS, etc.\r\n+ksqlDB supports *at-least-once* and *exactly-once* processing guarantees.\r\n \r\n-Page last revised on: {{ git_revision_date }}\n\\ No newline at end of file\n+At-least-once semantics\r\n+-----------------------\r\n+\r\n+Records are never lost but may be redelivered. If your stream processing\r\n+application fails, no data records are lost and fail to be processed, but some\r\n+data records may be re-read and therefore re-processed. At-least-once semantics\r\n+is enabled by default in your ksqlDB configuration, with\r\n+`processing.guarantee=\"at_least_once\"`.\r\n+\r\n+Exactly-once semantics\r\n+----------------------\r\n+\r\n+Records are processed once. Even if a producer sends a duplicate record, it's\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk0Nzc4MA=="}, "originalCommit": {"oid": "9a410e10f4037d50914269209751366fe32d1d8e"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3755, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}