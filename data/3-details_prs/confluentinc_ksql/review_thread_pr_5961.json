{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MjM2NjY0", "number": 5961, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozMzowMlrOEV-59Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNzoyMFrOEV-_IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDg2MTk3OnYy", "diffSide": "RIGHT", "path": "docs/concepts/queries/push.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozMzowM1rOG9DRrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozMzowM1rOG9DRrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY2OTk5Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Specify a push query by using the EMIT clause in a SELECT statement.\n          \n          \n            \n            Specify a push query by using an EMIT refinement clause in a SELECT statement.", "url": "https://github.com/confluentinc/ksql/pull/5961#discussion_r466669996", "createdAt": "2020-08-06T20:33:03Z", "author": {"login": "agavra"}, "path": "docs/concepts/queries/push.md", "diffHunk": "@@ -38,7 +38,7 @@ CREATE TABLE AS SELECT or CREATE STREAM AS SELECT statement.\n Example push query\r\n ==================\r\n \r\n-Specify a push query by using the EMIT CHANGES clause in a SELECT statement.\r\n+Specify a push query by using the EMIT clause in a SELECT statement.\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7a1eff631426161196eb7d1904701714bee41f3"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDg3MTAyOnYy", "diffSide": "RIGHT", "path": "docs/concepts/time-and-windows-in-ksqldb-queries.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNTo1MlrOG9DXMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNTo1MlrOG9DXMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3MTQxMA==", "bodyText": "might be good to link to the documentation explaining different refinement expressions (currently in select-push-query.md)", "url": "https://github.com/confluentinc/ksql/pull/5961#discussion_r466671410", "createdAt": "2020-08-06T20:35:52Z", "author": {"login": "agavra"}, "path": "docs/concepts/time-and-windows-in-ksqldb-queries.md", "diffHunk": "@@ -423,3 +423,22 @@ CREATE TABLE pageviews_per_region AS\n \n Note that the specified retention period should be larger than the sum of window size and any grace\n period.\n+\n+### Window Final Results\n+\n+In ksqlDB, windowed aggregations update their results continuously. As new data arrives for \n+a window, freshly computed results are emitted downstream. For many applications, this is ideal, \n+since fresh results are always available, and ksqlDB is designed to make programming \n+continuous computations seamless. However, some applications need to take action only on the final \n+result of a windowed computation. Common examples of this are sending alerts or delivering results \n+to a system that doesn\u2019t support updates.\n+\n+Suppose that you have an hourly windowed count of events per user. If you want to send an alert \n+when a user has less than three events in an hour, you have a real challenge. All users would match \n+this condition at first, until they accrue enough events, so you can\u2019t simply send an alert when \n+someone matches the condition; you have to wait until you know you won\u2019t see any more events for a \n+particular window, and then send the alert.\n+\n+ksqlDB offers a clean way to define this logic: after defining your windowed aggregation, \n+you can suppress the intermediate results, emitting the final count for each user when the window \n+is closed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7a1eff631426161196eb7d1904701714bee41f3"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDg3MjI0OnYy", "diffSide": "RIGHT", "path": "docs/developer-guide/ksqldb-reference/create-table-as-select.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNjoyMFrOG9DYCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNjoyMFrOG9DYCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3MTYyNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note that EMIT clause defaults to `EMIT CHANGES` unless explicitly set to `EMIT FINAL` on a\n          \n          \n            \n            Note that EMIT `output_refinement` defaults to `CHANGES` unless explicitly set to `FINAL` on a", "url": "https://github.com/confluentinc/ksql/pull/5961#discussion_r466671625", "createdAt": "2020-08-06T20:36:20Z", "author": {"login": "agavra"}, "path": "docs/developer-guide/ksqldb-reference/create-table-as-select.md", "diffHunk": "@@ -34,6 +34,9 @@ stream the result of the query as a changelog into the topic.\n Note that the WINDOW clause can only be used if the `from_item` is a stream and the query contains\r\n a `GROUP BY` clause.\r\n \r\n+Note that EMIT clause defaults to `EMIT CHANGES` unless explicitly set to `EMIT FINAL` on a\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7a1eff631426161196eb7d1904701714bee41f3"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDg3NDcwOnYy", "diffSide": "RIGHT", "path": "docs/developer-guide/ksqldb-reference/select-push-query.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNzowN1rOG9DZjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNzowN1rOG9DZjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3MjAxNA==", "bodyText": "nit: should probably be nested one layer deeper (and below)", "url": "https://github.com/confluentinc/ksql/pull/5961#discussion_r466672014", "createdAt": "2020-08-06T20:37:07Z", "author": {"login": "agavra"}, "path": "docs/developer-guide/ksqldb-reference/select-push-query.md", "diffHunk": "@@ -184,3 +184,21 @@ SELECT windowstart, windowend, item_id, SUM(quantity)\n   GROUP BY item_id\r\n   EMIT CHANGES;\r\n ```\r\n+\r\n+#### EMIT\r\n+\r\n+The EMIT clause lets you control the output refinement of your push query. The output refinement is\r\n+just how you would like to *emit* your results. \r\n+\r\n+ksqlDB supports the following output refinement types.\r\n+\r\n+#### CHANGES\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7a1eff631426161196eb7d1904701714bee41f3"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDg3NTIwOnYy", "diffSide": "RIGHT", "path": "docs/developer-guide/ksqldb-reference/select-push-query.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNzoyMFrOG9DZ7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMDozNzoyMFrOG9DZ7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3MjEwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            just how you would like to *emit* your results. \n          \n          \n            \n            how you would like to *emit* your results.", "url": "https://github.com/confluentinc/ksql/pull/5961#discussion_r466672109", "createdAt": "2020-08-06T20:37:20Z", "author": {"login": "agavra"}, "path": "docs/developer-guide/ksqldb-reference/select-push-query.md", "diffHunk": "@@ -184,3 +184,21 @@ SELECT windowstart, windowend, item_id, SUM(quantity)\n   GROUP BY item_id\r\n   EMIT CHANGES;\r\n ```\r\n+\r\n+#### EMIT\r\n+\r\n+The EMIT clause lets you control the output refinement of your push query. The output refinement is\r\n+just how you would like to *emit* your results. \r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7a1eff631426161196eb7d1904701714bee41f3"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3049, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}