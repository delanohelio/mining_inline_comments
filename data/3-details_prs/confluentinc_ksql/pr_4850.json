{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNDgzMTEy", "number": 4850, "title": " feat: expand IFNULL to support all types", "bodyText": "Description\nNote: stacked on top of #4829: review that first, or just review the final commit in this PR: 2d2167d\nfixes: #4831\nIFNULL now supports all SQL types.\nTesting done\nUsual\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-03-20T11:31:31Z", "url": "https://github.com/confluentinc/ksql/pull/4850", "merged": true, "mergeCommit": {"oid": "3bff0c31431043f1a0f09a0c123a229b29f10451"}, "closed": true, "closedAt": "2020-03-24T09:23:35Z", "author": {"login": "big-andy-coates"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPOyM3gH2gAyMzkxNDgzMTEyOjAyZjZiMjQ3Zjc4MjFhY2M3Zjk2NTAyYzQzNjZhMGY3NzE0YmQ1MjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQsqA3gFqTM4MDAyMTgxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "02f6b247f7821acc7f96502c4366a0f7714bd526", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/02f6b247f7821acc7f96502c4366a0f7714bd526", "committedDate": "2020-03-19T16:48:27Z", "message": "feat: add COALESCE function\n\nThe `COALESCE` function takes one or more parameters and returns the first that is non-null.\n\nAll parameters must be of the same type.\n\nThis function supersedes the existing `IFNULL` function, which only worked for strings and one accepted two parameters."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "259fbd5d401ceda270b79b43d367d16245d4d709", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/259fbd5d401ceda270b79b43d367d16245d4d709", "committedDate": "2020-03-19T17:14:41Z", "message": "test: add test using coalesce in PARTITION BY"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9162c228143fd8589b1197f89a6ef9afb0f24cd7", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/9162c228143fd8589b1197f89a6ef9afb0f24cd7", "committedDate": "2020-03-19T17:25:17Z", "message": "chore: log deprecation on first use of IFNULL"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b46930c4ac099bbabb930b82d0c1e0b9890805f", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/4b46930c4ac099bbabb930b82d0c1e0b9890805f", "committedDate": "2020-03-19T17:57:52Z", "message": "chore: changes requested by Nick"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8090246ce25791c44acc94fb9003b5476f0f0d7", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/f8090246ce25791c44acc94fb9003b5476f0f0d7", "committedDate": "2020-03-20T10:29:17Z", "message": "chore: remove ARRAY_LENGTH docs\n\nMoved to separate PR."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/2d2167d86c1f4fcb269f258b98c0c7dc9351bb08", "committedDate": "2020-03-20T11:30:14Z", "message": "feat: expand IFNULL to support all types\n\nfixes: https://github.com/confluentinc/ksql/issues/4831"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NjA0MDg5", "url": "https://github.com/confluentinc/ksql/pull/4850#pullrequestreview-378604089", "createdAt": "2020-03-20T15:52:37Z", "commit": {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNTo1MjozOFrOF5ZbUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNTo1MjozOFrOF5ZbUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTcyOTc0NQ==", "bodyText": "Maybe NULL or null?", "url": "https://github.com/confluentinc/ksql/pull/4850#discussion_r395729745", "createdAt": "2020-03-20T15:52:38Z", "author": {"login": "JimGalasyn"}, "path": "docs-md/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -431,6 +424,26 @@ UCASE\n \r\n Convert a string to uppercase.\r\n \r\n+Nulls\r\n+=====\r\n+\r\n+COALESCE\r\n+--------\r\n+\r\n+`COALESCE(a, b, c, d)`\r\n+\r\n+Returns the first non-null parameter. All parameters must be of the same type.\r\n+\r\n+Where the parameter type is a complex type, for example `ARRAY` or `STRUCT`, the contents of the\r\n+complex type are not inspected. The behaviour is the same: the first non-null element is returned.\r\n+\r\n+IFNULL\r\n+------\r\n+\r\n+`IFNULL(expression, altValue)`\r\n+\r\n+If the provided `expression` is NULL, returns `altValue`, otherwise, returns `expression`.\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08"}, "originalPosition": 119}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NjA0NTMy", "url": "https://github.com/confluentinc/ksql/pull/4850#pullrequestreview-378604532", "createdAt": "2020-03-20T15:53:08Z", "commit": {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNTo1MzowOVrOF5Zcog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNTo1MzowOVrOF5Zcog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTczMDA4Mg==", "bodyText": "null or NULL? I'm fine with either, but we should be consistent.", "url": "https://github.com/confluentinc/ksql/pull/4850#discussion_r395730082", "createdAt": "2020-03-20T15:53:09Z", "author": {"login": "JimGalasyn"}, "path": "docs-md/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -431,6 +424,26 @@ UCASE\n \r\n Convert a string to uppercase.\r\n \r\n+Nulls\r\n+=====\r\n+\r\n+COALESCE\r\n+--------\r\n+\r\n+`COALESCE(a, b, c, d)`\r\n+\r\n+Returns the first non-null parameter. All parameters must be of the same type.\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08"}, "originalPosition": 109}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NjA1MDQ5", "url": "https://github.com/confluentinc/ksql/pull/4850#pullrequestreview-378605049", "createdAt": "2020-03-20T15:53:26Z", "commit": {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85f2ad56d86844878c7ef603f36c17b2d2bc4c8a", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/85f2ad56d86844878c7ef603f36c17b2d2bc4c8a", "committedDate": "2020-03-20T18:11:49Z", "message": "chore: jim's requested changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5NjMxMzAz", "url": "https://github.com/confluentinc/ksql/pull/4850#pullrequestreview-379631303", "createdAt": "2020-03-23T17:01:47Z", "commit": {"oid": "85f2ad56d86844878c7ef603f36c17b2d2bc4c8a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a2080c90381fb16aed2a7155904a2972d767fb4", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/0a2080c90381fb16aed2a7155904a2972d767fb4", "committedDate": "2020-03-23T17:40:13Z", "message": "Merge branch 'master' into if_null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5286503c2e814eec8c2b1378456d135251af1380", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/5286503c2e814eec8c2b1378456d135251af1380", "committedDate": "2020-03-23T17:42:41Z", "message": "chore: merge from master\n\nConflicting files\ndocs-md/developer-guide/ksqldb-reference/scalar-functions.md\nksqldb-functional-tests/src/test/resources/query-validation-tests/null.json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMDIxODEw", "url": "https://github.com/confluentinc/ksql/pull/4850#pullrequestreview-380021810", "createdAt": "2020-03-24T06:10:35Z", "commit": {"oid": "5286503c2e814eec8c2b1378456d135251af1380"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 57, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}