{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzMDQ5Njc2", "number": 6302, "title": "chore: unwrap single keys on internal topics", "bodyText": "Description\nfixes: #6209\nEnsure internal changelog and repartition topics set SerdeFeature.UNWRAP_SINGLES if the key format supports both unwrapping and wrapping.  This is done to avoid ambiguity, which may cause compatibility issues once wrapped keys are supported.\nTesting done\nUsual\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-09-25T12:49:20Z", "url": "https://github.com/confluentinc/ksql/pull/6302", "merged": true, "mergeCommit": {"oid": "cabdafaf26ee79d72887c5beb3510fd4f799c08f"}, "closed": true, "closedAt": "2020-09-28T14:47:52Z", "author": {"login": "big-andy-coates"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMVPB8gH2gAyNDkzMDQ5Njc2OmM5NWY5YzA2NThiYWRiNDJlZjE0NGQ1ZDI4MWEwZDRkYmFhNzczNGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNUanAgFqTQ5NzU2NjYyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c95f9c0658badb42ef144d5d281a0d4dbaa7734d", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/c95f9c0658badb42ef144d5d281a0d4dbaa7734d", "committedDate": "2020-09-25T12:48:45Z", "message": "chore: unwrap single keys on internal topics\n\nfixes: https://github.com/confluentinc/ksql/issues/6209\n\nEnsure internal changelog and repartition topics set `SerdeFeature.UNWRAP_SINGLES` if the key format supports both unwrapping and wrapping.  This is done to avoid ambiguity, which may cause compatibility issues once wrapped keys are supported."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NTY2NjIz", "url": "https://github.com/confluentinc/ksql/pull/6302#pullrequestreview-497566623", "createdAt": "2020-09-28T14:25:12Z", "commit": {"oid": "c95f9c0658badb42ef144d5d281a0d4dbaa7734d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNDoyNToxMlrOHZANcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNDoyNToxMlrOHZANcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk3OTg5MQ==", "bodyText": "Any reason we don't remove getFormat and inline using getFormatInfo here, similar to the changes we recently made to the source properties classes?", "url": "https://github.com/confluentinc/ksql/pull/6302#discussion_r495979891", "createdAt": "2020-09-28T14:25:12Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-engine/src/test/java/io/confluent/ksql/structured/SchemaKGroupedStreamTest.java", "diffHunk": "@@ -107,6 +108,7 @@\n \n   @Before\n   public void setUp() {\n+    when(keyFormat.getFormat()).thenReturn(FormatFactory.KAFKA);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c95f9c0658badb42ef144d5d281a0d4dbaa7734d"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4676, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}