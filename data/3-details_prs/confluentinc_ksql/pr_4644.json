{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTA1NzIy", "number": 4644, "title": "chore: if provided, always use revision param in CI release job", "bodyText": "Description\nFor ksql-db-release job parameters, currently any GIT_REVISION is ignored unless RELEASE_BUILD is true. For pre-release validation, we should be able to run a non-release job at a given sha. The principal thing we want to avoid is creating an unnecessary tag, which happens when RELEASE_BUILD is true.\nThis PR allows the provided revision to also be used when RELEASE_BUILD is false.\nTesting done\nDescribe the testing strategy. Unit and integration tests are expected for any behavior changes.\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-02-26T21:04:19Z", "url": "https://github.com/confluentinc/ksql/pull/4644", "merged": true, "mergeCommit": {"oid": "e71a3ce1b5580f0625384c02dcd23e753be94529"}, "closed": true, "closedAt": "2020-02-28T18:28:11Z", "author": {"login": "colinhicks"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcINIBKAH2gAyMzgwNTA1NzIyOmIzMzJkOGRhN2I5ZTVkN2Q4ODRhODE3MzI3MmM3OGJjMzk2ZmU0M2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIzggAAFqTM2NjU2OTAxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b332d8da7b9e5d7d884a8173272c78bc396fe43f", "author": {"user": {"login": "colinhicks", "name": "Colin Hicks"}}, "url": "https://github.com/confluentinc/ksql/commit/b332d8da7b9e5d7d884a8173272c78bc396fe43f", "committedDate": "2020-02-26T20:55:00Z", "message": "chore: if provided, always use release revision"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MjQ0MjM0", "url": "https://github.com/confluentinc/ksql/pull/4644#pullrequestreview-365244234", "createdAt": "2020-02-26T21:10:23Z", "commit": {"oid": "b332d8da7b9e5d7d884a8173272c78bc396fe43f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODU2MzEx", "url": "https://github.com/confluentinc/ksql/pull/4644#pullrequestreview-365856311", "createdAt": "2020-02-27T17:28:31Z", "commit": {"oid": "b332d8da7b9e5d7d884a8173272c78bc396fe43f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzoyODozMVrOFvaZTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzoyODozMVrOFvaZTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI1OTg1NA==", "bodyText": "we can move this line to be after the else statement now, and remove line 75.", "url": "https://github.com/confluentinc/ksql/pull/4644#discussion_r385259854", "createdAt": "2020-02-27T17:28:31Z", "author": {"login": "elismaga"}, "path": "Jenkinsfile", "diffHunk": "@@ -78,7 +78,8 @@ def job = {\n         config.docker_tag = config.ksql_db_version\n     } else {\n         config.docker_tag = config.ksql_db_version.tokenize(\"-\")[0] + '-' + env.BUILD_NUMBER\n-        config.revision = 'refs/heads/master'\n+        // Use revision param if provided, otherwise default to master\n+        config.revision = params.GIT_REVISION ?: 'refs/heads/master'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b332d8da7b9e5d7d884a8173272c78bc396fe43f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7874f2d2db31afed0fc3b8749b2a072c6d918f4b", "author": {"user": {"login": "colinhicks", "name": "Colin Hicks"}}, "url": "https://github.com/confluentinc/ksql/commit/7874f2d2db31afed0fc3b8749b2a072c6d918f4b", "committedDate": "2020-02-28T01:32:43Z", "message": "Implement review feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NTY5MDEy", "url": "https://github.com/confluentinc/ksql/pull/4644#pullrequestreview-366569012", "createdAt": "2020-02-28T17:38:08Z", "commit": {"oid": "7874f2d2db31afed0fc3b8749b2a072c6d918f4b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4880, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}