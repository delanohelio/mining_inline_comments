{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NzQ5MTY4", "number": 5529, "title": "fix: deals with issue #5521 by adding more descriptive error message", "bodyText": "fixes #5521\nDescription\nError message before was not very helpful, this patch serves to make it more clear to the user that the decimal scale was not being matched appropriately for example.\nTesting done\nReviewed manually by running some insert statements on ksql to see that error message was more appropriate now\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-06-02T18:10:53Z", "url": "https://github.com/confluentinc/ksql/pull/5529", "merged": true, "mergeCommit": {"oid": "86f8b67ba6855dbdb8f77c15657aeab567b15bb7"}, "closed": true, "closedAt": "2020-06-03T06:41:30Z", "author": {"login": "nae701"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnZCxbgFqTQyMjk0MjU0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnc1iigH2gAyNDI2NzQ5MTY4OmI0ZTg4NjQ3YWNhYWU2MjdjYTQwYzgyMDcxYzk3Yjc0M2Q5MDE1ZTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyOTQyNTQw", "url": "https://github.com/confluentinc/ksql/pull/5529#pullrequestreview-422942540", "createdAt": "2020-06-02T18:17:51Z", "commit": {"oid": "124a657ff8827fc236c93a4fc57493e1a30f22be"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxODoxNzo1MlrOGd-Y4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxODoxODo1M1rOGd-cSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA4NDA2Nw==", "bodyText": "it looks like you have IntelliJ set to use 4 spaces for tabs instead of 2. Please make sure to change that style setting and change this file back :)", "url": "https://github.com/confluentinc/ksql/pull/5529#discussion_r434084067", "createdAt": "2020-06-02T18:17:52Z", "author": {"login": "agavra"}, "path": "ksqldb-engine/src/main/java/io/confluent/ksql/engine/InsertValuesExecutor.java", "diffHunk": "@@ -100,41 +100,41 @@ public InsertValuesExecutor() {\n   public interface RecordProducer {\n \n     void sendRecord(\n-        ProducerRecord<byte[], byte[]> record,\n-        ServiceContext serviceContext,\n-        Map<String, Object> producerProps\n+            ProducerRecord<byte[], byte[]> record,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "124a657ff8827fc236c93a4fc57493e1a30f22be"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA4NDkzOQ==", "bodyText": "this change seems to be leftover from a previous commit - please make sure to rebase from master and push only the most recent commit to this PR branch. (same comment about the files below)", "url": "https://github.com/confluentinc/ksql/pull/5529#discussion_r434084939", "createdAt": "2020-06-02T18:18:53Z", "author": {"login": "agavra"}, "path": "ksqldb-execution/src/main/java/io/confluent/ksql/execution/codegen/CodeGenSpec.java", "diffHunk": "@@ -101,9 +101,8 @@ public String getStructSchemaName(final CreateStructExpression createStructExpre\n     private final Map<ColumnName, String> columnRefToName = new HashMap<>();\n     private final ImmutableListMultimap.Builder<FunctionName, String> functionNameBuilder =\n         ImmutableListMultimap.builder();\n-    private final ImmutableMap.Builder<CreateStructExpression, String> structToSchemaName =\n-        ImmutableMap.builder();\n-\n+    private final Map<CreateStructExpression, String> structToSchemaName =\n+            new HashMap<CreateStructExpression, String>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "124a657ff8827fc236c93a4fc57493e1a30f22be"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "author": {"user": {"login": "nae701", "name": "Natea Eshetu Beshada"}}, "url": "https://github.com/confluentinc/ksql/commit/9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "committedDate": "2020-06-02T21:35:41Z", "message": "add more descriptive error message for issue 5282/5521"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "124a657ff8827fc236c93a4fc57493e1a30f22be", "author": {"user": null}, "url": "https://github.com/confluentinc/ksql/commit/124a657ff8827fc236c93a4fc57493e1a30f22be", "committedDate": "2020-06-02T18:01:40Z", "message": "add more descriptive error message for issue 5282/5521"}, "afterCommit": {"oid": "9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "author": {"user": {"login": "nae701", "name": "Natea Eshetu Beshada"}}, "url": "https://github.com/confluentinc/ksql/commit/9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "committedDate": "2020-06-02T21:35:41Z", "message": "add more descriptive error message for issue 5282/5521"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "604c9e36d37d43e4af573e002ec355db107d9dbc", "author": {"user": {"login": "nae701", "name": "Natea Eshetu Beshada"}}, "url": "https://github.com/confluentinc/ksql/commit/604c9e36d37d43e4af573e002ec355db107d9dbc", "committedDate": "2020-06-02T21:42:38Z", "message": "fix space formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMDc5OTI4", "url": "https://github.com/confluentinc/ksql/pull/5529#pullrequestreview-423079928", "createdAt": "2020-06-02T21:45:27Z", "commit": {"oid": "604c9e36d37d43e4af573e002ec355db107d9dbc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "author": {"user": {"login": "nae701", "name": "Natea Eshetu Beshada"}}, "url": "https://github.com/confluentinc/ksql/commit/87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "committedDate": "2020-06-02T22:41:55Z", "message": "Revert \"fix space formatting\"\n\nThis reverts commit 604c9e36d37d43e4af573e002ec355db107d9dbc."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec726150422e806bcb5aec0a5941306fb8aa933b", "author": {"user": null}, "url": "https://github.com/confluentinc/ksql/commit/ec726150422e806bcb5aec0a5941306fb8aa933b", "committedDate": "2020-06-02T21:54:29Z", "message": "fix conflict cherrypick"}, "afterCommit": {"oid": "87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "author": {"user": {"login": "nae701", "name": "Natea Eshetu Beshada"}}, "url": "https://github.com/confluentinc/ksql/commit/87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "committedDate": "2020-06-02T22:41:55Z", "message": "Revert \"fix space formatting\"\n\nThis reverts commit 604c9e36d37d43e4af573e002ec355db107d9dbc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4e88647acaae627ca40c82071c97b743d9015e8", "author": {"user": {"login": "nae701", "name": "Natea Eshetu Beshada"}}, "url": "https://github.com/confluentinc/ksql/commit/b4e88647acaae627ca40c82071c97b743d9015e8", "committedDate": "2020-06-02T22:44:57Z", "message": "Revert \"Revert \"fix space formatting\"\"\n\nThis reverts commit 87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4701, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}