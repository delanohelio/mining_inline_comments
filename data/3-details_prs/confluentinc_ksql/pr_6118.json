{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0OTMwMDEw", "number": 6118, "title": "feat: Adds support for 0x, X'...', x'...' type hex strings in udf:encode", "bodyText": "Description\nEarlier, the encode udf would not recognize hex strings of types belong to {0x, X'...', x'...'} while converting to ascii, utf8 and base 64 and would give nulls. Now it recognizes them and converts them accordingly from hex to other formats. Behavior is similar to https://dev.mysql.com/doc/refman/8.0/en/hexadecimal-literals.html\nTesting done\nUnit + query-validation-tests + manual\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-08-27T20:24:24Z", "url": "https://github.com/confluentinc/ksql/pull/6118", "merged": true, "mergeCommit": {"oid": "d492556d5ff38acc83487b4cefaa1c828ffb58b7"}, "closed": true, "closedAt": "2020-09-03T22:59:42Z", "author": {"login": "cprasad1"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDF1SKAH2gAyNDc0OTMwMDEwOjJlZTRmOGRiNzZhZDU4MjBkOGI5YTU0MTc1MzkyZjRhODcwYzMwN2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFWX4PgFqTQ4MjE2NjEyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2ee4f8db76ad5820d8b9a54175392f4a870c307c", "author": {"user": {"login": "cprasad1", "name": null}}, "url": "https://github.com/confluentinc/ksql/commit/2ee4f8db76ad5820d8b9a54175392f4a870c307c", "committedDate": "2020-08-27T19:46:44Z", "message": "adds support for 0x, X'', x'' type hex in udf:encode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTc1NTky", "url": "https://github.com/confluentinc/ksql/pull/6118#pullrequestreview-477175592", "createdAt": "2020-08-28T00:57:13Z", "commit": {"oid": "2ee4f8db76ad5820d8b9a54175392f4a870c307c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo1NzoxM1rOHIl_VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo1NzoxM1rOHIl_VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc3MzA3Ng==", "bodyText": "I think this is an accidental change", "url": "https://github.com/confluentinc/ksql/pull/6118#discussion_r478773076", "createdAt": "2020-08-28T00:57:13Z", "author": {"login": "vpapavas"}, "path": "ksqldb-functional-tests/src/test/resources/test-runner/correct/from_docs/input.json", "diffHunk": "@@ -1,3 +1,4 @@\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ee4f8db76ad5820d8b9a54175392f4a870c307c"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTc3Mzk4", "url": "https://github.com/confluentinc/ksql/pull/6118#pullrequestreview-477177398", "createdAt": "2020-08-28T01:03:13Z", "commit": {"oid": "2ee4f8db76ad5820d8b9a54175392f4a870c307c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a404b0b11b1de09717f0a7c7e6eb87c221c61791", "author": {"user": {"login": "cprasad1", "name": null}}, "url": "https://github.com/confluentinc/ksql/commit/a404b0b11b1de09717f0a7c7e6eb87c221c61791", "committedDate": "2020-08-28T17:37:27Z", "message": "added one line of comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3OTE4Mzcw", "url": "https://github.com/confluentinc/ksql/pull/6118#pullrequestreview-477918370", "createdAt": "2020-08-28T17:48:31Z", "commit": {"oid": "a404b0b11b1de09717f0a7c7e6eb87c221c61791"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo0ODozMVrOHJPXFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo0ODozMVrOHJPXFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1MDkwMg==", "bodyText": "What happens if the string is 0x0x? Or 0X? Or X' without a closing quote? Are there any characters that are not allowed with these formats?", "url": "https://github.com/confluentinc/ksql/pull/6118#discussion_r479450902", "createdAt": "2020-08-28T17:48:31Z", "author": {"login": "vpapavas"}, "path": "ksqldb-engine/src/test/java/io/confluent/ksql/function/udf/string/EncodeTest.java", "diffHunk": "@@ -41,6 +41,15 @@ public void shouldEncodeHexToAscii() {\n     assertThat(udf.encode(\"31202b2031203d2031\", \"hex\", \"ascii\"), is(\"1 + 1 = 1\"));\n     assertThat(udf.encode(\"ce95cebbcebbceacceb4ceb1\", \"hex\", \"ascii\"), is(\"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\"));\n     assertThat(udf.encode(\"c39c6265726d656e736368\", \"hex\", \"ascii\"), is(\"\ufffd\ufffdbermensch\"));\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a404b0b11b1de09717f0a7c7e6eb87c221c61791"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d61f269371b4edb316cb55482d925f37eb3f3211", "author": {"user": {"login": "cprasad1", "name": null}}, "url": "https://github.com/confluentinc/ksql/commit/d61f269371b4edb316cb55482d925f37eb3f3211", "committedDate": "2020-08-28T18:39:52Z", "message": "added some more tests for odd length hex and corrupted hex"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d56a975bd6d18318f4001fd2c0e5353433c21f9e", "author": {"user": {"login": "cprasad1", "name": null}}, "url": "https://github.com/confluentinc/ksql/commit/d56a975bd6d18318f4001fd2c0e5353433c21f9e", "committedDate": "2020-08-31T18:15:54Z", "message": "remove input.json from pr"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDA4MDIz", "url": "https://github.com/confluentinc/ksql/pull/6118#pullrequestreview-480008023", "createdAt": "2020-09-01T18:26:49Z", "commit": {"oid": "d56a975bd6d18318f4001fd2c0e5353433c21f9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTY2MTIy", "url": "https://github.com/confluentinc/ksql/pull/6118#pullrequestreview-482166122", "createdAt": "2020-09-03T20:10:51Z", "commit": {"oid": "d56a975bd6d18318f4001fd2c0e5353433c21f9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4740, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}