{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MjA5MTY2", "number": 5655, "title": "test: fix flaky test: KsMaterializationFunctionalTest", "bodyText": "Description\nfixes: #5654\nTesting done\nusual\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-06-19T17:00:04Z", "url": "https://github.com/confluentinc/ksql/pull/5655", "merged": true, "mergeCommit": {"oid": "038df15312a6c732f06204d4ab43c14605719a7b"}, "closed": true, "closedAt": "2020-06-24T11:00:31Z", "author": {"login": "big-andy-coates"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcs2FKqAH2gAyNDM3MjA5MTY2OjZhNGYyZjA2NjRhNjBhMjllNjhlZjJmNmE1MWU5MWU1NTgyZjQ2YzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuOpcMAH2gAyNDM3MjA5MTY2OjZkZGI0ZmZkYjZlZDM4MGVhY2IzYjU5NGNiOGQ2ZmExMzk4NTc5ODA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6a4f2f0664a60a29e68ef2f6a51e91e5582f46c6", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/6a4f2f0664a60a29e68ef2f6a51e91e5582f46c6", "committedDate": "2020-06-19T16:59:16Z", "message": "test: fix flaky test\n\nfixes: https://github.com/confluentinc/ksql/issues/5654"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjI0NjE0", "url": "https://github.com/confluentinc/ksql/pull/5655#pullrequestreview-434224614", "createdAt": "2020-06-19T17:02:37Z", "commit": {"oid": "6a4f2f0664a60a29e68ef2f6a51e91e5582f46c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjI5MTQ5", "url": "https://github.com/confluentinc/ksql/pull/5655#pullrequestreview-434229149", "createdAt": "2020-06-19T17:10:56Z", "commit": {"oid": "6a4f2f0664a60a29e68ef2f6a51e91e5582f46c6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNzoxMDo1NlrOGmb3wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNzoxMDo1NlrOGmb3wQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk1NTcxMw==", "bodyText": "It might be nice to pull this retry logic out to a common utility.  This is a common pattern, though not sure if I've seen it elsewhere in KSQL.", "url": "https://github.com/confluentinc/ksql/pull/5655#discussion_r442955713", "createdAt": "2020-06-19T17:10:56Z", "author": {"login": "AlanConfluent"}, "path": "ksqldb-engine/src/test/java/io/confluent/ksql/materialization/ks/KsMaterializationFunctionalTest.java", "diffHunk": "@@ -745,5 +756,21 @@ private static void initializeKsql(final TestKsqlContext ksqlContext) {\n         + \");\"\n     );\n   }\n+\n+  /*\n+   * table.get() calls can sometimes fail when partitions are being rebalanced.\n+   * When that happens: retry!\n+   */\n+  private static <T> T withRetry(final Supplier<T> supplier) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a4f2f0664a60a29e68ef2f6a51e91e5582f46c6"}, "originalPosition": 187}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ddb4ffdb6ed380eacb3b594cb8d6fa139857980", "author": {"user": {"login": "big-andy-coates", "name": "Andy Coates"}}, "url": "https://github.com/confluentinc/ksql/commit/6ddb4ffdb6ed380eacb3b594cb8d6fa139857980", "committedDate": "2020-06-24T00:10:32Z", "message": "test: generalize assertEventually to allow custom exception handling"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 239, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}