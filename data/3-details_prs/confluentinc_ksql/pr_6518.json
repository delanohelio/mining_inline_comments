{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MjUyODgz", "number": 6518, "title": "chore: json_sr tests and minor fixes", "bodyText": "Description\nmostly fixes #6225\n\nadd JSON_SR key tests\nfix wiring issue with isKey and json_sr\n\nTesting done\nthis change is nearly all testing :D\nReviewer checklist\n\n Ensure docs are updated if necessary. (eg. if a user visible feature is being added or changed).\n Ensure relevant issues are linked (description should include text like \"Fixes #\")", "createdAt": "2020-10-23T22:45:37Z", "url": "https://github.com/confluentinc/ksql/pull/6518", "merged": true, "mergeCommit": {"oid": "df59755907811f19a379dfde51d070f1bac8f9a3"}, "closed": true, "closedAt": "2020-10-26T18:30:21Z", "author": {"login": "agavra"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVeimDgH2gAyNTA5MjUyODgzOjRmN2FmZTRmNjBiZTEzYmUxNDkzOTBjY2Q3MTQ0MDM5NGIxMTc5MDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWXa9dAH2gAyNTA5MjUyODgzOjM1Zjk5MDJiYTEzY2JlN2Q4YzljMmI3NWQwZDViNjE4MWI4NTE3MDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4f7afe4f60be13be149390ccd71440394b117905", "author": {"user": {"login": "agavra", "name": "Almog Gavra"}}, "url": "https://github.com/confluentinc/ksql/commit/4f7afe4f60be13be149390ccd71440394b117905", "committedDate": "2020-10-23T22:44:35Z", "message": "chore: json_sr tests and minor fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MTU3MDYy", "url": "https://github.com/confluentinc/ksql/pull/6518#pullrequestreview-516157062", "createdAt": "2020-10-24T04:05:11Z", "commit": {"oid": "4f7afe4f60be13be149390ccd71440394b117905"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwNDowNToxMVrOHnnjFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwNDowNToyMFrOHnnjUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDQ3MQ==", "bodyText": "Is this just for clarity? this should already refer to PostTopicNode.this here, right?", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r511304471", "createdAt": "2020-10-24T04:05:11Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-functional-tests/src/main/java/io/confluent/ksql/test/model/PostConditionsNode.java", "diffHunk": "@@ -205,7 +205,7 @@ public PostTopicNode(\n         @Override\n         public void describeTo(final Description description) {\n           try {\n-            description.appendText(TestJsonMapper.INSTANCE.get().writeValueAsString(this));\n+            description.appendText(TestJsonMapper.INSTANCE.get().writeValueAsString(PostTopicNode.this));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7afe4f60be13be149390ccd71440394b117905"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDUwNA==", "bodyText": "How come we're making JSON_SR available by default, given that AVRO still isn't enabled by default? Aren't both blocked on the same additional testing for joins?\nAlso, what's the point of having \"ksql.key.format.enabled\": true in the new QTTs (with primitive keys) if we're enabling this by default?", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r511304504", "createdAt": "2020-10-24T04:05:17Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-serde/src/main/java/io/confluent/ksql/serde/KeyFormatUtils.java", "diffHunk": "@@ -25,7 +25,8 @@\n       FormatFactory.NONE,\n       FormatFactory.KAFKA,\n       FormatFactory.DELIMITED,\n-      FormatFactory.JSON\n+      FormatFactory.JSON,\n+      FormatFactory.JSON_SR", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7afe4f60be13be149390ccd71440394b117905"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDUzMQ==", "bodyText": "nit: I'm with @big-andy-coates on preferring tests simply have throws Exception so we don't need to worry about keeping lists of exceptions up to date. I don't think seeing the specific exceptions is insightful either.", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r511304531", "createdAt": "2020-10-24T04:05:20Z", "author": {"login": "vcrfxia"}, "path": "ksqldb-serde/src/test/java/io/confluent/ksql/serde/json/KsqlJsonSerializerTest.java", "diffHunk": "@@ -233,7 +236,7 @@ public void shouldHandleNestedStruct() throws IOException {\n   }\n \n   @Test\n-  public void shouldSerializeBoolean() {\n+  public void shouldSerializeBoolean() throws IOException, RestClientException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7afe4f60be13be149390ccd71440394b117905"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35f9902ba13cbe7d8c9c2b75d0d5b6181b851709", "author": {"user": {"login": "agavra", "name": "Almog Gavra"}}, "url": "https://github.com/confluentinc/ksql/commit/35f9902ba13cbe7d8c9c2b75d0d5b6181b851709", "committedDate": "2020-10-26T17:00:50Z", "message": "chore: victorias comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4590, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}