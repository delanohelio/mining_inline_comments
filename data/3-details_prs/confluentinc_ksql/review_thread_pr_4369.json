{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2NDY1Nzg5", "number": 4369, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNDo1NzowMFrODaYskw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNDo1NzowMFrODaYskw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4OTk0MTk1OnYy", "diffSide": "RIGHT", "path": "ksql-functional-tests/src/test/resources/query-validation-tests/key-schemas.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNDo1NzowMFrOFhT7oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMjo1NDo0NVrOFhxqgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ3Mzg4OQ==", "bodyText": "this is not a windowed stream right?", "url": "https://github.com/confluentinc/ksql/pull/4369#discussion_r370473889", "createdAt": "2020-01-24T04:57:00Z", "author": {"login": "rodesai"}, "path": "ksql-functional-tests/src/test/resources/query-validation-tests/key-schemas.json", "diffHunk": "@@ -350,6 +350,89 @@\n       \"outputs\": [\n         {\"topic\": \"OUTPUT\", \"key\": \"1\", \"value\": {\"ID\": 1, \"KEY\": \"a\"}}\n       ]\n+    },\n+    {\n+      \"name\": \"windowed table explicit non-STRING ROWKEY\",\n+      \"statements\": [\n+        \"CREATE STREAM INPUT (ROWKEY BIGINT KEY, VALUE BIGINT) WITH (kafka_topic='input', value_format='JSON');\",\n+        \"CREATE TABLE OUTPUT as SELECT ROWKEY AS ID, max(value) AS MAX FROM INPUT WINDOW TUMBLING (SIZE 30 SECONDS) group by ROWKEY;\"\n+      ],\n+      \"inputs\": [\n+        {\"topic\": \"input\", \"key\": 10, \"value\": {\"value\": 1}},\n+        {\"topic\": \"input\", \"key\": 10, \"value\": {\"value\": 2}}\n+      ],\n+      \"outputs\": [\n+        {\"topic\": \"OUTPUT\", \"key\": 10, \"value\": {\"ID\": 10, \"MAX\": 1}, \"window\": {\"start\": 0, \"end\": 30000, \"type\": \"time\"}},\n+        {\"topic\": \"OUTPUT\", \"key\": 10, \"value\": {\"ID\": 10, \"MAX\": 2}, \"window\": {\"start\": 0, \"end\": 30000, \"type\": \"time\"}}\n+      ],\n+      \"post\": {\n+        \"sources\": [\n+          {\n+            \"name\": \"OUTPUT\",\n+            \"type\": \"table\",\n+            \"keyFormat\": {\"format\": \"KAFKA\", \"windowType\": \"TUMBLING\", \"windowSize\": 30000},\n+            \"keyField\": null,\n+            \"schema\": \"`ROWKEY` BIGINT KEY, `ID` BIGINT, `MAX` BIGINT\"\n+          }\n+        ]\n+      }\n+    },\n+    {\n+      \"name\": \"windowed stream explicit non-STRING ROWKEY udf\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ac81f4950b5852adbef351770fc4ebc9216ed9f"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk2MTAyNg==", "bodyText": "It's a good point, well made ;)", "url": "https://github.com/confluentinc/ksql/pull/4369#discussion_r370961026", "createdAt": "2020-01-25T22:54:45Z", "author": {"login": "big-andy-coates"}, "path": "ksql-functional-tests/src/test/resources/query-validation-tests/key-schemas.json", "diffHunk": "@@ -350,6 +350,89 @@\n       \"outputs\": [\n         {\"topic\": \"OUTPUT\", \"key\": \"1\", \"value\": {\"ID\": 1, \"KEY\": \"a\"}}\n       ]\n+    },\n+    {\n+      \"name\": \"windowed table explicit non-STRING ROWKEY\",\n+      \"statements\": [\n+        \"CREATE STREAM INPUT (ROWKEY BIGINT KEY, VALUE BIGINT) WITH (kafka_topic='input', value_format='JSON');\",\n+        \"CREATE TABLE OUTPUT as SELECT ROWKEY AS ID, max(value) AS MAX FROM INPUT WINDOW TUMBLING (SIZE 30 SECONDS) group by ROWKEY;\"\n+      ],\n+      \"inputs\": [\n+        {\"topic\": \"input\", \"key\": 10, \"value\": {\"value\": 1}},\n+        {\"topic\": \"input\", \"key\": 10, \"value\": {\"value\": 2}}\n+      ],\n+      \"outputs\": [\n+        {\"topic\": \"OUTPUT\", \"key\": 10, \"value\": {\"ID\": 10, \"MAX\": 1}, \"window\": {\"start\": 0, \"end\": 30000, \"type\": \"time\"}},\n+        {\"topic\": \"OUTPUT\", \"key\": 10, \"value\": {\"ID\": 10, \"MAX\": 2}, \"window\": {\"start\": 0, \"end\": 30000, \"type\": \"time\"}}\n+      ],\n+      \"post\": {\n+        \"sources\": [\n+          {\n+            \"name\": \"OUTPUT\",\n+            \"type\": \"table\",\n+            \"keyFormat\": {\"format\": \"KAFKA\", \"windowType\": \"TUMBLING\", \"windowSize\": 30000},\n+            \"keyField\": null,\n+            \"schema\": \"`ROWKEY` BIGINT KEY, `ID` BIGINT, `MAX` BIGINT\"\n+          }\n+        ]\n+      }\n+    },\n+    {\n+      \"name\": \"windowed stream explicit non-STRING ROWKEY udf\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ3Mzg4OQ=="}, "originalCommit": {"oid": "2ac81f4950b5852adbef351770fc4ebc9216ed9f"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2275, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}