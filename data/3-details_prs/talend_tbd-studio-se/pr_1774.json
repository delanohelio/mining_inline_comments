{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MzU0Njky", "number": 1774, "title": "fix(TBD-11772):S3 component doesn't work on CDP 7.1.1", "bodyText": "Please check if the PR fulfills these requirements\n\n The commit(s) message(s) follows our guidelines ?\n Unit tests for the Java changes have been added (for bug fixes / features) ?\n TUJ for the JavaJet changes have been added (for bug fixes / features) ?\n Docs have been added / updated (for bug fixes / features) ?\n The new code does not introduce new technical issues\n\nWhat is the current behavior? (You can also link to an open issue here)\nWhat is the new behavior?\nBREAKING CHANGE\nIf this PR contains a breaking change, please describe the impact and migration\npath for existing applications.\nIf not please remove this section.\nOther information:", "createdAt": "2020-12-14T10:51:51Z", "url": "https://github.com/Talend/tbd-studio-se/pull/1774", "merged": true, "mergeCommit": {"oid": "d6214fb22fbf91a1947dcbdb9f7117574c48de91"}, "closed": true, "closedAt": "2020-12-31T09:08:52Z", "author": {"login": "hliashchuk"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmDfy0AH2gAyNTM5MzU0NjkyOjJjYmM2MzRmZjYzMmVmMWE0NGZmMTNjYWE5ZTdiNDlhYTZjZjA3YWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrfY9hAFqTU2MDI4ODgzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2cbc634ff632ef1a44ff13caa9e7b49aa6cf07aa", "author": {"user": {"login": "hliashchuk", "name": "Hanna Liashchuk"}}, "url": "https://github.com/Talend/tbd-studio-se/commit/2cbc634ff632ef1a44ff13caa9e7b49aa6cf07aa", "committedDate": "2020-12-14T10:50:48Z", "message": "fix(TBD-11772): fixed missing module group for s3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db2ac8ea82f2175da7b2c64a7a310eaedfa04af1", "author": {"user": {"login": "hliashchuk", "name": "Hanna Liashchuk"}}, "url": "https://github.com/Talend/tbd-studio-se/commit/db2ac8ea82f2175da7b2c64a7a310eaedfa04af1", "committedDate": "2020-12-14T10:51:22Z", "message": "Merge branch 'hliashchuk/fix/TBD-11772' of github.com:Talend/tbd-studio-se into hliashchuk/fix/TBD-11772"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMzYxNjI1", "url": "https://github.com/Talend/tbd-studio-se/pull/1774#pullrequestreview-551361625", "createdAt": "2020-12-14T13:25:47Z", "commit": {"oid": "db2ac8ea82f2175da7b2c64a7a310eaedfa04af1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzoyNTo0N1rOIFQTHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzoyNTo0N1rOIFQTHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4MDgzMA==", "bodyText": "Would be better to plug this in node module group for s3 components only to avoid adding those aws libs on all Spark jobs.\nCan be done in https://github.com/Talend/tbd-studio-se/blob/maintenance/7.3/main/plugins/org.talend.hadoop.distribution/src/main/java/org/talend/hadoop/distribution/dynamic/template/DynamicSparkBatchModuleGroupTemplate.java#L67", "url": "https://github.com/Talend/tbd-studio-se/pull/1774#discussion_r542380830", "createdAt": "2020-12-14T13:25:47Z", "author": {"login": "lbourgeois"}, "path": "main/plugins/org.talend.hadoop.distribution/src/main/java/org/talend/hadoop/distribution/dynamic/template/modulegroup/cdp/DynamicCDPSparkBatchModuleGroup.java", "diffHunk": "@@ -89,6 +92,9 @@ protected void initConditions() {\n                     new BasicExpression(SparkBatchConstant.USE_CLOUDERA_NAVIGATOR));\r\n             moduleGroups.add(new DistributionModuleGroup(talendClouderaNaviRuntimeId, true, conditionUseNavigator));\r\n         }\r\n+        if (StringUtils.isNotBlank(sparkS3RuntimeId)) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db2ac8ea82f2175da7b2c64a7a310eaedfa04af1"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "771a15344ae8f4b69f5681629c9063864d284eeb", "author": {"user": {"login": "hliashchuk", "name": "Hanna Liashchuk"}}, "url": "https://github.com/Talend/tbd-studio-se/commit/771a15344ae8f4b69f5681629c9063864d284eeb", "committedDate": "2020-12-30T17:25:20Z", "message": "fix(TBD-11772): missing dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMTM3MDU3", "url": "https://github.com/Talend/tbd-studio-se/pull/1774#pullrequestreview-560137057", "createdAt": "2020-12-30T17:27:11Z", "commit": {"oid": "771a15344ae8f4b69f5681629c9063864d284eeb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjg3MTg5", "url": "https://github.com/Talend/tbd-studio-se/pull/1774#pullrequestreview-560287189", "createdAt": "2020-12-31T08:00:39Z", "commit": {"oid": "771a15344ae8f4b69f5681629c9063864d284eeb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODowMDozOVrOIM7JPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODowMDozOVrOIM7JPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQyMjg0Nw==", "bodyText": "Just to my knowledge : we support s3a for CDP, right?", "url": "https://github.com/Talend/tbd-studio-se/pull/1774#discussion_r550422847", "createdAt": "2020-12-31T08:00:39Z", "author": {"login": "sponomarova"}, "path": "main/plugins/org.talend.hadoop.distribution.cdp/src/main/java/org/talend/hadoop/distribution/cdp/CDP7xDistributionTemplate.java", "diffHunk": "@@ -269,6 +269,11 @@ public boolean doImportDynamoDBDependencies() {\n \tpublic boolean doSupportAssumeRole() {\n \t\treturn true;\n \t}\n+\t\n+\t@Override\n+    public boolean useS3AProperties() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "771a15344ae8f4b69f5681629c9063864d284eeb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjg4ODM0", "url": "https://github.com/Talend/tbd-studio-se/pull/1774#pullrequestreview-560288834", "createdAt": "2020-12-31T08:10:18Z", "commit": {"oid": "771a15344ae8f4b69f5681629c9063864d284eeb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4718, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}