{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MTYyNjM0", "number": 834, "title": "Issue 833- Optimize VIPService by removing unused code. Automate initialization of VIPService in VIPCfg", "bodyText": "code clean up\n\nOptimize VIPService by removing unused code such as productId and version properties.\nNo need to have a singleton instance of VIPService because VIPService is a member of VIPCfg.\nAutomate instantiation of VIPService in VIPCfg. Do not allow instantiation of VIPCfg  with null vipServer or null/faultyHttpRequester", "createdAt": "2020-10-21T00:01:06Z", "url": "https://github.com/vmware/singleton/pull/834", "merged": true, "mergeCommit": {"oid": "e3ca4b01599eee4993b478e589970b35b2a74d91"}, "closed": true, "closedAt": "2020-10-23T15:30:36Z", "author": {"login": "jessiejuachon"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUhuMxgH2gAyNTA3MTYyNjM0OjBjYWJjM2U0YWUyZDE0ZDQ2YmIxMjY0YTYyMjdhYWNhMjVlY2JlM2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVSwJ4AFqTUxNTQ3NjAwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f", "committedDate": "2020-10-20T23:53:03Z", "message": "Issue 833- Optimize VIPService by removing unused code. Automate initialization of VIPService in VIPCfg"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMjkyNjQ0", "url": "https://github.com/vmware/singleton/pull/834#pullrequestreview-513292644", "createdAt": "2020-10-21T04:09:45Z", "commit": {"oid": "0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNDowOTo0NlrOHlZiMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNDowOTo0NlrOHlZiMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODk3NzcxNQ==", "bodyText": "Remove this line because it's unnecessary any longer. It has been executed in constructor.", "url": "https://github.com/vmware/singleton/pull/834#discussion_r508977715", "createdAt": "2020-10-21T04:09:46Z", "author": {"login": "Xiaochao8"}, "path": "src/main/java/com/vmware/vipclient/i18n/base/VIPService.java", "diffHunk": "@@ -15,46 +15,23 @@\n  *\n  */\n public class VIPService {\n-    private static VIPService vIPServiceInstance;\n     private HttpRequester     httpRequester;\n-    private String            productID;\n-    private String            version;\n \n-    private VIPService() {\n+    public VIPService(String vipServer)throws MalformedURLException {\n+        createHttpRequester(vipServer);\n     }\n \n     /**\n-     * get the instance of the VIPService.\n+     * Initializes VIP service.\n      *\n-     * @return The object of the VIPService.\n-     */\n-    public static VIPService getVIPServiceInstance() {\n-        if (vIPServiceInstance == null) {\n-            vIPServiceInstance = new VIPService();\n-        }\n-        return vIPServiceInstance;\n-    }\n-\n-    /**\n-     * Initialize vIP Service with productID, version and vIPHostName.\n-     *\n-     * @param productID\n-     *            The name of product.\n-     * @param version\n-     *            The release version of product.\n-     * @param vIPHostName\n-     *            The info of vIP Server(ip:port).\n+     * @param vipServer\n+     *            The VIP server host (ip:port).\n      * @throws MalformedURLException\n+     * @Deprecated use the constructor instead\n      */\n-    public void initializeVIPService(String productID, String version,\n-            String vIPServer) throws MalformedURLException {\n-        if (vIPServiceInstance == null) {\n-            throw new VIPJavaClientException(\n-                    \"Please create VIPServiceInstance first!\");\n-        }\n-        this.productID = productID;\n-        this.version = version;\n-        createHttpRequester(vIPServer);\n+    @Deprecated\n+    public void initializeVIPService(String vipServer) throws MalformedURLException {\n+        createHttpRequester(vipServer);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMjkzMjMx", "url": "https://github.com/vmware/singleton/pull/834#pullrequestreview-513293231", "createdAt": "2020-10-21T04:11:59Z", "commit": {"oid": "0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNDoxMjowMFrOHlZkQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNDoxMjowMFrOHlZkQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODk3ODI0MQ==", "bodyText": "Add @deprecated onto this method?", "url": "https://github.com/vmware/singleton/pull/834#discussion_r508978241", "createdAt": "2020-10-21T04:12:00Z", "author": {"login": "Xiaochao8"}, "path": "src/main/java/com/vmware/vipclient/i18n/VIPCfg.java", "diffHunk": "@@ -192,10 +193,8 @@ public void initialize(String cfg) throws VIPClientInitException {\n      * initialize VIPService instances to provide HTTP requester\n      */\n     public void initializeVIPService() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzODE4MDU2", "url": "https://github.com/vmware/singleton/pull/834#pullrequestreview-513818056", "createdAt": "2020-10-21T15:30:04Z", "commit": {"oid": "0cabc3e4ae2d14d46bb1264a6227aaca25ecbe3f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa60c9446918264057d05bf813bd11bb452de887", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/fa60c9446918264057d05bf813bd11bb452de887", "committedDate": "2020-10-21T20:59:38Z", "message": "code clean up - adding @Deprecated and removing unused code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NzIyNjAz", "url": "https://github.com/vmware/singleton/pull/834#pullrequestreview-514722603", "createdAt": "2020-10-22T13:25:55Z", "commit": {"oid": "43ace0e0b7339d9da46625eaebcb1f583daf2de3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMzoyNTo1NVrOHmhp1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMzoyNTo1NVrOHmhp1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDE1OTMxNg==", "bodyText": "why remove this line?", "url": "https://github.com/vmware/singleton/pull/834#discussion_r510159316", "createdAt": "2020-10-22T13:25:55Z", "author": {"login": "linr211"}, "path": "src/main/java/com/vmware/vipclient/i18n/filters/VIPComponentFilter.java", "diffHunk": "@@ -110,7 +110,6 @@ public void init(FilterConfig filterConfig) throws ServletException {\n             } catch (VIPClientInitException e) {\n                 logger.error(e.getMessage());\n             }\n-            gc.initializeVIPService();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43ace0e0b7339d9da46625eaebcb1f583daf2de3"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "43ace0e0b7339d9da46625eaebcb1f583daf2de3", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/43ace0e0b7339d9da46625eaebcb1f583daf2de3", "committedDate": "2020-10-21T21:54:44Z", "message": "updating tests"}, "afterCommit": {"oid": "fa60c9446918264057d05bf813bd11bb452de887", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/fa60c9446918264057d05bf813bd11bb452de887", "committedDate": "2020-10-21T20:59:38Z", "message": "code clean up - adding @Deprecated and removing unused code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51424cedcac2fb8fc12a866565a6203ccb10e021", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/51424cedcac2fb8fc12a866565a6203ccb10e021", "committedDate": "2020-10-22T21:24:42Z", "message": "Do not allow instantiation of null VIPService or null HttpRequester"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MjU2NDk5", "url": "https://github.com/vmware/singleton/pull/834#pullrequestreview-515256499", "createdAt": "2020-10-23T03:44:10Z", "commit": {"oid": "51424cedcac2fb8fc12a866565a6203ccb10e021"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDc2MDAy", "url": "https://github.com/vmware/singleton/pull/834#pullrequestreview-515476002", "createdAt": "2020-10-23T09:00:32Z", "commit": {"oid": "51424cedcac2fb8fc12a866565a6203ccb10e021"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4112, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}