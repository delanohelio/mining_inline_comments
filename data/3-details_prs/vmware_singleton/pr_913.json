{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0MTAzNzc4", "number": 913, "title": "Fix Windows bug on getComponentMessages", "bodyText": "Paths.get must not be use here because the defined path separator in JAR files is '/' (forward slash). Paths.get will use '' (backslash) in Windows which results to not finding the messages_xx.json path inside the jar.", "createdAt": "2020-12-08T04:07:23Z", "url": "https://github.com/vmware/singleton/pull/913", "merged": true, "mergeCommit": {"oid": "36788729a6058d3d7a1ec3c12b4d64eb3aee6043"}, "closed": true, "closedAt": "2020-12-09T05:46:38Z", "author": {"login": "jessiejuachon"}, "timelineItems": {"totalCount": 37, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdddQLAgH2gAyNTM0MTAzNzc4OjVmNDIwOTlhYzEyZjQzNTljMjQzYWQ0MDVlZmI4MTRmM2ZkOTQ4MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkTrkxAFqTU0Nzc0Njc0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f42099ac12f4359c243ad405efb814f3fd94804", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/5f42099ac12f4359c243ad405efb814f3fd94804", "committedDate": "2020-11-17T17:45:57Z", "message": "Non-blocking getSupportedLocales"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a207056bed88cde53601edd708ae91fd6d47af9f", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/a207056bed88cde53601edd708ae91fd6d47af9f", "committedDate": "2020-11-17T22:13:49Z", "message": "fixing failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d291d7a04e00bd56a78149615e5bf1c6dffe95a6", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/d291d7a04e00bd56a78149615e5bf1c6dffe95a6", "committedDate": "2020-11-17T22:17:05Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "134d23d8c2685edbe4b82d59739870e7b021860e", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/134d23d8c2685edbe4b82d59739870e7b021860e", "committedDate": "2020-11-18T00:23:58Z", "message": "test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a75c69b1b1a255519ec8e06ff11bcaef021229e2", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/a75c69b1b1a255519ec8e06ff11bcaef021229e2", "committedDate": "2020-11-18T01:06:44Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de5850ad5190a38f0c3aee4b94602d2a5384aa77", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/de5850ad5190a38f0c3aee4b94602d2a5384aa77", "committedDate": "2020-11-18T01:36:11Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c67db91591df11e8cd642210d94019fd5de56c7", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/1c67db91591df11e8cd642210d94019fd5de56c7", "committedDate": "2020-11-18T01:38:11Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7b27c305b8851a72336741b0c4d9081c6644121", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/d7b27c305b8851a72336741b0c4d9081c6644121", "committedDate": "2020-11-18T21:02:22Z", "message": "Refresh cache of supported locales in a separate thread"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9b5238462e0043a61fd106d44e2f2acf4d6f476", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/a9b5238462e0043a61fd106d44e2f2acf4d6f476", "committedDate": "2020-11-18T21:15:59Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1dca831225246a33e4a94fd746b2a2b0864a70c", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/e1dca831225246a33e4a94fd746b2a2b0864a70c", "committedDate": "2020-11-18T21:17:29Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f05a14b8eec7eed046f2243fee5da8e6c3c61c1", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/7f05a14b8eec7eed046f2243fee5da8e6c3c61c1", "committedDate": "2020-11-19T01:00:11Z", "message": "fixing sonarcube bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "120e4d9475e2224189bbef81203f278c460d96c1", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/120e4d9475e2224189bbef81203f278c460d96c1", "committedDate": "2020-11-19T01:08:47Z", "message": "code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0b385da498cfb7edd56e53c4fd661616a900391", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/c0b385da498cfb7edd56e53c4fd661616a900391", "committedDate": "2020-11-19T03:32:39Z", "message": "sonarcube bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12cc751f788b20f5b77a031742467e37c5b0e0e5", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/12cc751f788b20f5b77a031742467e37c5b0e0e5", "committedDate": "2020-11-22T18:26:38Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0dae5dcca2b92157818d1f8d34416d787cabcd3", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/d0dae5dcca2b92157818d1f8d34416d787cabcd3", "committedDate": "2020-11-22T19:58:16Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b86d3374fa641cfb1c43436bbebdc13509ada1db", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/b86d3374fa641cfb1c43436bbebdc13509ada1db", "committedDate": "2020-11-30T21:52:52Z", "message": "Use getResourceAsStream to read bundle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "117b8b2131600336b0563874390108697b98444a", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/117b8b2131600336b0563874390108697b98444a", "committedDate": "2020-12-01T22:40:26Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ae72d527ef95c5aefab314b1235b1cd75267b6e", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/7ae72d527ef95c5aefab314b1235b1cd75267b6e", "committedDate": "2020-12-02T17:34:33Z", "message": "adding else block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c99efe185ef61b7a074b8cbc00a24463ea7a800", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/5c99efe185ef61b7a074b8cbc00a24463ea7a800", "committedDate": "2020-12-03T17:12:28Z", "message": "Update src/main/java/com/vmware/vipclient/i18n/messages/api/opt/local/LocalMessagesOpt.java\n\nCo-authored-by: Xiaochao Li <48587632+Xiaochao8@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e58155aebeaaf97b7cff398f9e22141c6713721d", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/e58155aebeaaf97b7cff398f9e22141c6713721d", "committedDate": "2020-12-03T21:38:26Z", "message": "changes after code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cebb186d42c08a8a2171d8fa200cfcec0fecbce1", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/cebb186d42c08a8a2171d8fa200cfcec0fecbce1", "committedDate": "2020-12-03T21:46:36Z", "message": "rename parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eb761b82c7b52c06668720213f915fe63cdf7f7", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/4eb761b82c7b52c06668720213f915fe63cdf7f7", "committedDate": "2020-12-03T22:59:06Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fa2837842baae6e1297b5411c1fd8dec6954a72", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/9fa2837842baae6e1297b5411c1fd8dec6954a72", "committedDate": "2020-12-03T22:59:54Z", "message": "Merge branch 'non-block-cache' of github.com:jessiejuachon/singleton into non-block-cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6559b36f1a8c94dddb9b52c38ac025fb6b3ea88", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/d6559b36f1a8c94dddb9b52c38ac025fb6b3ea88", "committedDate": "2020-12-04T03:38:15Z", "message": "thread safety"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ab40c53fea011ae2e894a5c8e511a73a49be3cf", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/5ab40c53fea011ae2e894a5c8e511a73a49be3cf", "committedDate": "2020-12-04T03:52:03Z", "message": "adding comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26bc13855d88e03b1890b8300d6b065b38a8b589", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/26bc13855d88e03b1890b8300d6b065b38a8b589", "committedDate": "2020-12-04T03:56:58Z", "message": "space clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f47feea51f629fd43fce5d37db886abd60ba831f", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/f47feea51f629fd43fce5d37db886abd60ba831f", "committedDate": "2020-12-04T05:58:28Z", "message": "thread-safe file system access"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f11aa817ce79100f273f64a1f62e42fa4546f9e", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/8f11aa817ce79100f273f64a1f62e42fa4546f9e", "committedDate": "2020-12-04T21:40:42Z", "message": "optimizations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84b6e2f49a6b61b1b693df24c5e2e9f4eb462023", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/84b6e2f49a6b61b1b693df24c5e2e9f4eb462023", "committedDate": "2020-12-04T22:49:18Z", "message": "Merge remote-tracking branch 'upstream/g11n-java-client' into non-block-cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d830b283732b915a0d9993cd291cb262325c83c", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/1d830b283732b915a0d9993cd291cb262325c83c", "committedDate": "2020-12-05T18:06:53Z", "message": "removing file system lock from this PR (out of scope)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b55e685870091baa74bf354458e566ce504e1038", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/b55e685870091baa74bf354458e566ce504e1038", "committedDate": "2020-12-05T19:30:48Z", "message": "closing input stream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8ac6f6df8f74f120528d93ea25c27bf10197cb4", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/d8ac6f6df8f74f120528d93ea25c27bf10197cb4", "committedDate": "2020-12-05T19:46:27Z", "message": "closing inputstream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e5e871b15351b59ead2feee67e5d04ac0ace8d7", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/6e5e871b15351b59ead2feee67e5d04ac0ace8d7", "committedDate": "2020-12-08T04:02:49Z", "message": "Fixing windows bug on getComponentMessages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NzgxNDgw", "url": "https://github.com/vmware/singleton/pull/913#pullrequestreview-546781480", "createdAt": "2020-12-08T06:34:13Z", "commit": {"oid": "6e5e871b15351b59ead2feee67e5d04ac0ace8d7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2Nzk1NzYw", "url": "https://github.com/vmware/singleton/pull/913#pullrequestreview-546795760", "createdAt": "2020-12-08T06:57:29Z", "commit": {"oid": "6e5e871b15351b59ead2feee67e5d04ac0ace8d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQwNjo1NzoyOVrOIBJ3dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQwNjo1NzoyOVrOIBJ3dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4MTE0MA==", "bodyText": "Can \"/\" be suitable for all systems? Should it be FileSeparator?", "url": "https://github.com/vmware/singleton/pull/913#discussion_r538081140", "createdAt": "2020-12-08T06:57:29Z", "author": {"login": "huihuiw01"}, "path": "src/main/java/com/vmware/vipclient/i18n/messages/api/opt/local/LocalMessagesOpt.java", "diffHunk": "@@ -67,9 +67,11 @@ public void getComponentMessages(MessageCacheItem cacheItem) {\n \tprivate InputStream getInputStream() {\n \t\tString locale = LocaleUtility.fmtToMappedLocale(dto.getLocale()).toLanguageTag();\n \t\twhile (true) {\n-\t\t\tString filePath = FormatUtils.format(OFFLINE_RESOURCE_PATH, dto.getComponent(), locale);\n-\t\t\tPath path = Paths.get(VIPCfg.getInstance().getOfflineResourcesBaseUrl(), filePath);\n-\t\t\tInputStream is = Thread.currentThread().getContextClassLoader().getResourceAsStream(path.toString());\n+\t\t\tString offlineResourcePath = VIPCfg.getInstance().getOfflineResourcesBaseUrl();\n+\t\t\tif(!offlineResourcePath.endsWith(\"/\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e5e871b15351b59ead2feee67e5d04ac0ace8d7"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bb40e03c7d3679739cfa38d6c72450ef2f81f26", "author": {"user": {"login": "jessiejuachon", "name": "JESSIELY JUACHON"}}, "url": "https://github.com/vmware/singleton/commit/6bb40e03c7d3679739cfa38d6c72450ef2f81f26", "committedDate": "2020-12-08T17:29:33Z", "message": "Merge remote-tracking branch 'upstream/g11n-java-client' into non-block-cache"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NzQ2NzQx", "url": "https://github.com/vmware/singleton/pull/913#pullrequestreview-547746741", "createdAt": "2020-12-09T00:34:18Z", "commit": {"oid": "6bb40e03c7d3679739cfa38d6c72450ef2f81f26"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4177, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}