{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MTMxMTc5", "number": 549, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNjo1MTowMlrOD9Qr5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNzowNToyNFrOD9Q67g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NTYzMTA4OnYy", "diffSide": "RIGHT", "path": "g11n-ws/modules/md-service-i18n-l2/src/main/java/com/vmware/i18n/l2/service/pattern/PatternServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNjo1MTowMlrOGWpjRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwOTowNTowMVrOGWuDwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwMjYzMA==", "bodyText": "Is it more convenient to filter data when get categorie\u2018s data?", "url": "https://github.com/vmware/singleton/pull/549#discussion_r426402630", "createdAt": "2020-05-18T06:51:02Z", "author": {"login": "huihuiw01"}, "path": "g11n-ws/modules/md-service-i18n-l2/src/main/java/com/vmware/i18n/l2/service/pattern/PatternServiceImpl.java", "diffHunk": "@@ -240,10 +240,23 @@ private void filterScope(Map<String, Object> patternMap, String scopeFilter) {\n \t\t\treturn;\n \t\t}\n \n-\t\tArrays.asList(scopeFilter.split(ConstantsChar.COMMA)).stream().forEach(scopeNode -> {\n-\t\t\tList<String> scopeFilters = Arrays.asList(scopeNode.split(ConstantsChar.UNDERLINE));\n-\t\t\tremoveData(patternMap, scopeFilters, 0);\n-\t\t});\n+\t\t// If scopeFilter starts with ^, it means deleting the data under the node", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecb3236f9aae6dda9b05fe7baeeb7e8b5016b6bf"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ3NjQ4Mg==", "bodyText": "In the buildPatternMap method, after obtaining the data of categories, there are other processing logics in the follow-up, so it is not recommended to put in the getCategories method.", "url": "https://github.com/vmware/singleton/pull/549#discussion_r426476482", "createdAt": "2020-05-18T09:05:01Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/modules/md-service-i18n-l2/src/main/java/com/vmware/i18n/l2/service/pattern/PatternServiceImpl.java", "diffHunk": "@@ -240,10 +240,23 @@ private void filterScope(Map<String, Object> patternMap, String scopeFilter) {\n \t\t\treturn;\n \t\t}\n \n-\t\tArrays.asList(scopeFilter.split(ConstantsChar.COMMA)).stream().forEach(scopeNode -> {\n-\t\t\tList<String> scopeFilters = Arrays.asList(scopeNode.split(ConstantsChar.UNDERLINE));\n-\t\t\tremoveData(patternMap, scopeFilters, 0);\n-\t\t});\n+\t\t// If scopeFilter starts with ^, it means deleting the data under the node", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwMjYzMA=="}, "originalCommit": {"oid": "ecb3236f9aae6dda9b05fe7baeeb7e8b5016b6bf"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NTYzNjgyOnYy", "diffSide": "RIGHT", "path": "g11n-ws/modules/md-service-i18n-l2/src/main/java/com/vmware/i18n/l2/service/pattern/PatternServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNjo1MzowOFrOGWpmvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwMzoyMjozMlrOGYk7ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwMzUxNg==", "bodyText": "What's the usage of 'scopeFilter'?\nIs it possible to have such value: currency_CNY, measurements_volume-liter, ^(dates_dateTimeFormats_intervalFormats )?\nIf yes, looks like the logic doesn't handle this.", "url": "https://github.com/vmware/singleton/pull/549#discussion_r426403516", "createdAt": "2020-05-18T06:53:08Z", "author": {"login": "huihuiw01"}, "path": "g11n-ws/modules/md-service-i18n-l2/src/main/java/com/vmware/i18n/l2/service/pattern/PatternServiceImpl.java", "diffHunk": "@@ -240,10 +240,23 @@ private void filterScope(Map<String, Object> patternMap, String scopeFilter) {\n \t\t\treturn;\n \t\t}\n \n-\t\tArrays.asList(scopeFilter.split(ConstantsChar.COMMA)).stream().forEach(scopeNode -> {\n-\t\t\tList<String> scopeFilters = Arrays.asList(scopeNode.split(ConstantsChar.UNDERLINE));\n-\t\t\tremoveData(patternMap, scopeFilters, 0);\n-\t\t});\n+\t\t// If scopeFilter starts with ^, it means deleting the data under the node\n+\t\tif (scopeFilter.startsWith(ConstantsChar.REVERSE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecb3236f9aae6dda9b05fe7baeeb7e8b5016b6bf"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQyNDA3NA==", "bodyText": "Currently only supports forward or reverse, this format is temporarily not supported.", "url": "https://github.com/vmware/singleton/pull/549#discussion_r428424074", "createdAt": "2020-05-21T03:22:32Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/modules/md-service-i18n-l2/src/main/java/com/vmware/i18n/l2/service/pattern/PatternServiceImpl.java", "diffHunk": "@@ -240,10 +240,23 @@ private void filterScope(Map<String, Object> patternMap, String scopeFilter) {\n \t\t\treturn;\n \t\t}\n \n-\t\tArrays.asList(scopeFilter.split(ConstantsChar.COMMA)).stream().forEach(scopeNode -> {\n-\t\t\tList<String> scopeFilters = Arrays.asList(scopeNode.split(ConstantsChar.UNDERLINE));\n-\t\t\tremoveData(patternMap, scopeFilters, 0);\n-\t\t});\n+\t\t// If scopeFilter starts with ^, it means deleting the data under the node\n+\t\tif (scopeFilter.startsWith(ConstantsChar.REVERSE)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwMzUxNg=="}, "originalCommit": {"oid": "ecb3236f9aae6dda9b05fe7baeeb7e8b5016b6bf"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NTY2OTU4OnYy", "diffSide": "RIGHT", "path": "g11n-ws/vip-common/src/main/java/com/vmware/vip/common/constants/ConstantsMsg.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNzowNToyNFrOGWp7KA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwOTowNTo1NFrOGWuGNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwODc0NA==", "bodyText": "scope filter should be 'scopeFilter'", "url": "https://github.com/vmware/singleton/pull/549#discussion_r426408744", "createdAt": "2020-05-18T07:05:24Z", "author": {"login": "huihuiw01"}, "path": "g11n-ws/vip-common/src/main/java/com/vmware/vip/common/constants/ConstantsMsg.java", "diffHunk": "@@ -27,6 +27,7 @@\n    public static final String PARAM_NOT_VALIDATE = \"The parameter is not pass the validate\";\n    public static final String PATTERN_NOT_VALIDATE = \"The request pattern name is invalid\";\n    public static final String FIFE_NOT_FOUND= \"File is not existing\";\n+   public static final String SCOPE_FILTER_NOT_VALIDATE = \"The request parameter scope filter is invalid, only one filtering method is supported\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecb3236f9aae6dda9b05fe7baeeb7e8b5016b6bf"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ3NzExMA==", "bodyText": "fixed", "url": "https://github.com/vmware/singleton/pull/549#discussion_r426477110", "createdAt": "2020-05-18T09:05:54Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/vip-common/src/main/java/com/vmware/vip/common/constants/ConstantsMsg.java", "diffHunk": "@@ -27,6 +27,7 @@\n    public static final String PARAM_NOT_VALIDATE = \"The parameter is not pass the validate\";\n    public static final String PATTERN_NOT_VALIDATE = \"The request pattern name is invalid\";\n    public static final String FIFE_NOT_FOUND= \"File is not existing\";\n+   public static final String SCOPE_FILTER_NOT_VALIDATE = \"The request parameter scope filter is invalid, only one filtering method is supported\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwODc0NA=="}, "originalCommit": {"oid": "ecb3236f9aae6dda9b05fe7baeeb7e8b5016b6bf"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4597, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}