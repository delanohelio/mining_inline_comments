{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NjA5OTQz", "number": 693, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxMzoxOVrOETH-0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxOTo0MFrOETIHCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NDg5MTcwOnYy", "diffSide": "RIGHT", "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/timezone/CldrTimeZoneUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxMzoxOVrOG4ri1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwODozNzoxMlrOG5Zi0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA4Njg2OA==", "bodyText": "Instead of creating a select method, you can use it directly JSONUtil.select()", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462086868", "createdAt": "2020-07-29T07:13:19Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/timezone/CldrTimeZoneUtils.java", "diffHunk": "@@ -0,0 +1,149 @@\n+/*\n+ * Copyright 2019 VMware, Inc.\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package com.vmware.i18n.utils.timezone;\n+\n+import java.text.MessageFormat;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.TimeZone;\n+\n+import org.json.simple.JSONArray;\n+import org.json.simple.JSONObject;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+public class CldrTimeZoneUtils {\n+    \n+  \n+    \n+    @SuppressWarnings(\"unchecked\")\n+    public static String createTimeZoneNameJson(JSONObject metaZonesJson, JSONObject timeZoneNamesPath,\n+            String language) {\n+        JSONArray arry = (JSONArray) select(metaZonesJson, \"supplemental.metaZones.metazones\");\n+        JSONObject dates = (JSONObject) select(timeZoneNamesPath,\"main.\" + language + \".dates\");\n+        String gmtZeroFormat = (String) select(dates, \"timeZoneNames.gmtZeroFormat\");\n+        String gmtFormat = (String) select(dates, \"timeZoneNames.gmtFormat\");\n+        String hourFormat = (String) select(dates, \"timeZoneNames.hourFormat\");\n+        String regionFormat = (String) select(dates, \"timeZoneNames.regionFormat\");\n+        String regionFormatTypeDaylight = (String) select(dates,\n+                \"timeZoneNames.regionFormat-type-daylight\");\n+        String regionFormatTypeStandard = (String) select(dates,\n+                \"timeZoneNames.regionFormat-type-standard\");\n+        String fallbackFormat = (String) select(dates, \"timeZoneNames.hourFormat\");\n+        Iterator<JSONObject> iterator = arry.iterator();\n+        List<CldrMetaZone> metaZones = new ArrayList<>();\n+        while (iterator.hasNext()) {\n+            JSONObject objZone = iterator.next();\n+            String zoneKey = (String) select(objZone, \"mapZone._type\");\n+            String territory = (String) select(objZone, \"mapZone._territory\");\n+            String metazoneKey = (String) select(objZone, \"mapZone._other\");\n+            JSONObject metazoneValue = (JSONObject) select(dates,\n+                    \"timeZoneNames.metazone.\" + metazoneKey);\n+            String timeZone = findTimeZone(zoneKey, gmtFormat, gmtZeroFormat, hourFormat);\n+            String exemplarCity = null;\n+            try {\n+                exemplarCity = (String) select(dates,\n+                        \"timeZoneNames.zone.\" + zoneKey.replace(\"/\", \".\") + \".exemplarCity\");\n+\n+            } catch (Exception e) {\n+                // TODO Auto-generated catch block\n+                exemplarCity = \"\";\n+                e.printStackTrace();\n+            }\n+\n+            TimeZoneDisplayName name = new TimeZoneDisplayName();\n+            if (metazoneValue == null) {\n+                String stard = MessageFormat.format(regionFormatTypeStandard, exemplarCity);\n+                name.setLongStandard(stard);\n+            } else {\n+                String longStandard = (String) select(metazoneValue, \"long.standard\");\n+                String longDaylight = (String) select(metazoneValue, \"long.daylight\");\n+                String longGeneric = (String) select(metazoneValue, \"long.generic\");\n+                String shortStandard = (String) select(metazoneValue, \"short.standard\");\n+                String shortDaylight = (String) select(metazoneValue, \"short.daylight\");\n+                String shortGeneric = (String) select(metazoneValue, \"short.generic\");\n+                name.setLongStandard(longStandard);\n+                name.setLongDaylight(longDaylight);\n+                name.setLongGeneric(longGeneric);\n+                name.setShortStandard(shortStandard);\n+                name.setShortDaylight(shortDaylight);\n+                name.setShortGeneric(shortGeneric);\n+            }\n+            metaZones.add(new CldrMetaZone(zoneKey, exemplarCity, metazoneKey, timeZone, name,\n+                    territory));\n+        }\n+\n+        TimeZoneName zone = new TimeZoneName(language, gmtZeroFormat, gmtFormat, hourFormat,\n+                regionFormat, regionFormatTypeDaylight, regionFormatTypeStandard, fallbackFormat,\n+                metaZones);\n+        String result = null;\n+        try {\n+            result = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(zone);\n+        } catch (JsonProcessingException e) {\n+            // TODO Auto-generated catch block\n+            e.printStackTrace();\n+        }\n+        return result;\n+    }\n+\n+    private static String findTimeZone(String targetId, String gmtFormat, String gmtZeroFormat,\n+            String hourFormat) {\n+\n+        TimeZone timeZone = TimeZone.getTimeZone(targetId);\n+        \n+\n+        int offset = timeZone.getRawOffset();\n+        // System.out.println(timeZone.getDisplayName()+\" gmt\"+offset/3600000);\n+\n+        if (offset > 0) {\n+            Date date = new Date(offset);\n+            SimpleDateFormat outputFormat = new SimpleDateFormat(hourFormat.split(\";\")[0].trim());\n+            outputFormat.setTimeZone(TimeZone.getTimeZone(gmtZeroFormat));\n+            return MessageFormat.format(gmtFormat, outputFormat.format(date));\n+\n+        } else if (offset < 0) {\n+            Date date = new Date(0 - offset);\n+            SimpleDateFormat outputFormat = new SimpleDateFormat(hourFormat.split(\";\")[1].trim());\n+            outputFormat.setTimeZone(TimeZone.getTimeZone(gmtZeroFormat));\n+            return MessageFormat.format(gmtFormat, outputFormat.format(date));\n+\n+        } else {\n+            return gmtZeroFormat;\n+        }\n+    }\n+\n+    /**\n+     * Get the node value of JSON string. e.g. main.locale.day\n+     * @param jsonObj JSONObject\n+     * @param keyPath JSON node path\n+     * @return the node value\n+     */\n+    private static Object select(JSONObject jsonObj, String keyPath) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg0MDUzMQ==", "bodyText": "done", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462840531", "createdAt": "2020-07-30T08:37:12Z", "author": {"login": "tigershi"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/timezone/CldrTimeZoneUtils.java", "diffHunk": "@@ -0,0 +1,149 @@\n+/*\n+ * Copyright 2019 VMware, Inc.\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package com.vmware.i18n.utils.timezone;\n+\n+import java.text.MessageFormat;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.TimeZone;\n+\n+import org.json.simple.JSONArray;\n+import org.json.simple.JSONObject;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+public class CldrTimeZoneUtils {\n+    \n+  \n+    \n+    @SuppressWarnings(\"unchecked\")\n+    public static String createTimeZoneNameJson(JSONObject metaZonesJson, JSONObject timeZoneNamesPath,\n+            String language) {\n+        JSONArray arry = (JSONArray) select(metaZonesJson, \"supplemental.metaZones.metazones\");\n+        JSONObject dates = (JSONObject) select(timeZoneNamesPath,\"main.\" + language + \".dates\");\n+        String gmtZeroFormat = (String) select(dates, \"timeZoneNames.gmtZeroFormat\");\n+        String gmtFormat = (String) select(dates, \"timeZoneNames.gmtFormat\");\n+        String hourFormat = (String) select(dates, \"timeZoneNames.hourFormat\");\n+        String regionFormat = (String) select(dates, \"timeZoneNames.regionFormat\");\n+        String regionFormatTypeDaylight = (String) select(dates,\n+                \"timeZoneNames.regionFormat-type-daylight\");\n+        String regionFormatTypeStandard = (String) select(dates,\n+                \"timeZoneNames.regionFormat-type-standard\");\n+        String fallbackFormat = (String) select(dates, \"timeZoneNames.hourFormat\");\n+        Iterator<JSONObject> iterator = arry.iterator();\n+        List<CldrMetaZone> metaZones = new ArrayList<>();\n+        while (iterator.hasNext()) {\n+            JSONObject objZone = iterator.next();\n+            String zoneKey = (String) select(objZone, \"mapZone._type\");\n+            String territory = (String) select(objZone, \"mapZone._territory\");\n+            String metazoneKey = (String) select(objZone, \"mapZone._other\");\n+            JSONObject metazoneValue = (JSONObject) select(dates,\n+                    \"timeZoneNames.metazone.\" + metazoneKey);\n+            String timeZone = findTimeZone(zoneKey, gmtFormat, gmtZeroFormat, hourFormat);\n+            String exemplarCity = null;\n+            try {\n+                exemplarCity = (String) select(dates,\n+                        \"timeZoneNames.zone.\" + zoneKey.replace(\"/\", \".\") + \".exemplarCity\");\n+\n+            } catch (Exception e) {\n+                // TODO Auto-generated catch block\n+                exemplarCity = \"\";\n+                e.printStackTrace();\n+            }\n+\n+            TimeZoneDisplayName name = new TimeZoneDisplayName();\n+            if (metazoneValue == null) {\n+                String stard = MessageFormat.format(regionFormatTypeStandard, exemplarCity);\n+                name.setLongStandard(stard);\n+            } else {\n+                String longStandard = (String) select(metazoneValue, \"long.standard\");\n+                String longDaylight = (String) select(metazoneValue, \"long.daylight\");\n+                String longGeneric = (String) select(metazoneValue, \"long.generic\");\n+                String shortStandard = (String) select(metazoneValue, \"short.standard\");\n+                String shortDaylight = (String) select(metazoneValue, \"short.daylight\");\n+                String shortGeneric = (String) select(metazoneValue, \"short.generic\");\n+                name.setLongStandard(longStandard);\n+                name.setLongDaylight(longDaylight);\n+                name.setLongGeneric(longGeneric);\n+                name.setShortStandard(shortStandard);\n+                name.setShortDaylight(shortDaylight);\n+                name.setShortGeneric(shortGeneric);\n+            }\n+            metaZones.add(new CldrMetaZone(zoneKey, exemplarCity, metazoneKey, timeZone, name,\n+                    territory));\n+        }\n+\n+        TimeZoneName zone = new TimeZoneName(language, gmtZeroFormat, gmtFormat, hourFormat,\n+                regionFormat, regionFormatTypeDaylight, regionFormatTypeStandard, fallbackFormat,\n+                metaZones);\n+        String result = null;\n+        try {\n+            result = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(zone);\n+        } catch (JsonProcessingException e) {\n+            // TODO Auto-generated catch block\n+            e.printStackTrace();\n+        }\n+        return result;\n+    }\n+\n+    private static String findTimeZone(String targetId, String gmtFormat, String gmtZeroFormat,\n+            String hourFormat) {\n+\n+        TimeZone timeZone = TimeZone.getTimeZone(targetId);\n+        \n+\n+        int offset = timeZone.getRawOffset();\n+        // System.out.println(timeZone.getDisplayName()+\" gmt\"+offset/3600000);\n+\n+        if (offset > 0) {\n+            Date date = new Date(offset);\n+            SimpleDateFormat outputFormat = new SimpleDateFormat(hourFormat.split(\";\")[0].trim());\n+            outputFormat.setTimeZone(TimeZone.getTimeZone(gmtZeroFormat));\n+            return MessageFormat.format(gmtFormat, outputFormat.format(date));\n+\n+        } else if (offset < 0) {\n+            Date date = new Date(0 - offset);\n+            SimpleDateFormat outputFormat = new SimpleDateFormat(hourFormat.split(\";\")[1].trim());\n+            outputFormat.setTimeZone(TimeZone.getTimeZone(gmtZeroFormat));\n+            return MessageFormat.format(gmtFormat, outputFormat.format(date));\n+\n+        } else {\n+            return gmtZeroFormat;\n+        }\n+    }\n+\n+    /**\n+     * Get the node value of JSON string. e.g. main.locale.day\n+     * @param jsonObj JSONObject\n+     * @param keyPath JSON node path\n+     * @return the node value\n+     */\n+    private static Object select(JSONObject jsonObj, String keyPath) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA4Njg2OA=="}, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 126}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NDkwMzQ4OnYy", "diffSide": "RIGHT", "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxNjo0NVrOG4rp0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwODo0MDo1MlrOG5Zq9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA4ODY1Ng==", "bodyText": "writeJsonStr2File and writePatternDataIntoFile may be unified into one method, or you can directly use writePatternDataIntoFile", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462088656", "createdAt": "2020-07-29T07:16:45Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "diffHunk": "@@ -1125,8 +1128,63 @@ public static void languageDataExtract() {\n         logger.info(\"Extract languageData.json data complete!\");\n     }\n \n+    \n+    public static void writeJsonStr2File(String filePath, String jsonStr) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg0MjYxMw==", "bodyText": "can't use it", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462842613", "createdAt": "2020-07-30T08:40:52Z", "author": {"login": "tigershi"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "diffHunk": "@@ -1125,8 +1128,63 @@ public static void languageDataExtract() {\n         logger.info(\"Extract languageData.json data complete!\");\n     }\n \n+    \n+    public static void writeJsonStr2File(String filePath, String jsonStr) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA4ODY1Ng=="}, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NDkxMDA4OnYy", "diffSide": "RIGHT", "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxODo1M1rOG4rt7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxODo1M1rOG4rt7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA4OTcwOA==", "bodyText": "System.out.println --> logger.info", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462089708", "createdAt": "2020-07-29T07:18:53Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "diffHunk": "@@ -1125,8 +1128,63 @@ public static void languageDataExtract() {\n         logger.info(\"Extract languageData.json data complete!\");\n     }\n \n+    \n+    public static void writeJsonStr2File(String filePath, String jsonStr) {\n+        OutputStreamWriter write = null;\n+        BufferedWriter writer = null;\n+        FileOutputStream outputStream = null;\n+        try {\n+            File f = new File(filePath);\n+            if (!f.getParentFile().exists()) {\n+                f.getParentFile().mkdirs();\n+            }\n+            if (!f.exists()) {\n+                f.createNewFile();\n+            }\n+            System.out.println(f.getAbsolutePath());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NDkxMDkyOnYy", "diffSide": "RIGHT", "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxOTowOFrOG4ruYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxOTowOFrOG4ruYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA4OTgyNw==", "bodyText": "System.out.println --> logger.info", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462089827", "createdAt": "2020-07-29T07:19:08Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "diffHunk": "@@ -1125,8 +1128,63 @@ public static void languageDataExtract() {\n         logger.info(\"Extract languageData.json data complete!\");\n     }\n \n+    \n+    public static void writeJsonStr2File(String filePath, String jsonStr) {\n+        OutputStreamWriter write = null;\n+        BufferedWriter writer = null;\n+        FileOutputStream outputStream = null;\n+        try {\n+            File f = new File(filePath);\n+            if (!f.getParentFile().exists()) {\n+                f.getParentFile().mkdirs();\n+            }\n+            if (!f.exists()) {\n+                f.createNewFile();\n+            }\n+            System.out.println(f.getAbsolutePath());\n+            outputStream = new FileOutputStream(f);\n+            write = new OutputStreamWriter(outputStream, Constants.UTF8);\n+            writer = new BufferedWriter(write);\n+            writer.write(jsonStr);\n+            writer.flush();\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        } finally {\n+            IOUtil.closeWriter(writer);\n+            IOUtil.closeWriter(write);\n+            IOUtil.closeOutputStream(outputStream);\n+        }\n+    }\n+    \n+    /**\n+     * Extract timeZoneNames.json\n+     */\n+\tpublic static void patternTimeZoneNameExtract() {\n+\t\tSystem.out.println(\"Start to extract timezonename pattern data ... \");\n+\t\tMap<String, String> allLocales = getAllCldrLocales();\n+\t\tSystem.out.println(\"allLocales size is : \" + allLocales.size());\n+\t\tString coreZipPath = CLDRConstants.CORE_ZIP_FILE_PATH;\n+\t\tString metaZonefileName = CLDRConstants.CLDR_CORE_METAZONE;\n+\t\tSystem.out.println(metaZonefileName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NDkxMjcyOnYy", "diffSide": "RIGHT", "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzoxOTo0MFrOG4rvbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwODo0ODo1M1rOG5Z96g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA5MDA5Mw==", "bodyText": "ditto", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462090093", "createdAt": "2020-07-29T07:19:40Z", "author": {"login": "chaoq0318"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "diffHunk": "@@ -1125,8 +1128,63 @@ public static void languageDataExtract() {\n         logger.info(\"Extract languageData.json data complete!\");\n     }\n \n+    \n+    public static void writeJsonStr2File(String filePath, String jsonStr) {\n+        OutputStreamWriter write = null;\n+        BufferedWriter writer = null;\n+        FileOutputStream outputStream = null;\n+        try {\n+            File f = new File(filePath);\n+            if (!f.getParentFile().exists()) {\n+                f.getParentFile().mkdirs();\n+            }\n+            if (!f.exists()) {\n+                f.createNewFile();\n+            }\n+            System.out.println(f.getAbsolutePath());\n+            outputStream = new FileOutputStream(f);\n+            write = new OutputStreamWriter(outputStream, Constants.UTF8);\n+            writer = new BufferedWriter(write);\n+            writer.write(jsonStr);\n+            writer.flush();\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        } finally {\n+            IOUtil.closeWriter(writer);\n+            IOUtil.closeWriter(write);\n+            IOUtil.closeOutputStream(outputStream);\n+        }\n+    }\n+    \n+    /**\n+     * Extract timeZoneNames.json\n+     */\n+\tpublic static void patternTimeZoneNameExtract() {\n+\t\tSystem.out.println(\"Start to extract timezonename pattern data ... \");\n+\t\tMap<String, String> allLocales = getAllCldrLocales();\n+\t\tSystem.out.println(\"allLocales size is : \" + allLocales.size());\n+\t\tString coreZipPath = CLDRConstants.CORE_ZIP_FILE_PATH;\n+\t\tString metaZonefileName = CLDRConstants.CLDR_CORE_METAZONE;\n+\t\tSystem.out.println(metaZonefileName);\n+\t\tString metaZonejson = CLDRUtils.readZip(metaZonefileName, coreZipPath);\n+\t    System.out.println(metaZonejson);\n+\t\tJSONObject metaZoneObj = JSONUtil.string2JSON(metaZonejson);\n+\t\tfor (String locale : allLocales.values()) {\n+\t\t\tSystem.out.println(\"locale is:\" + locale);\n+\t\t\tString zipPath = CLDRConstants.DATE_ZIP_FILE_PATH;\n+\t\t\tString timeZoneNameFileName = MessageFormat.format(CLDRConstants.CLDR_DATES_FULL_DATE_TIMEZONENAME,\n+\t\t\t\t\tCLDR_VERSION, locale);\n+\t\t\tString timeZoneNameJson = CLDRUtils.readZip(timeZoneNameFileName, zipPath);\n+\t\t\tSystem.out.println(timeZoneNameJson);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg0NzQ2Ng==", "bodyText": "done", "url": "https://github.com/vmware/singleton/pull/693#discussion_r462847466", "createdAt": "2020-07-30T08:48:53Z", "author": {"login": "tigershi"}, "path": "g11n-ws/tools/tool-cldr-extractor/src/main/java/com/vmware/i18n/utils/CLDRUtils.java", "diffHunk": "@@ -1125,8 +1128,63 @@ public static void languageDataExtract() {\n         logger.info(\"Extract languageData.json data complete!\");\n     }\n \n+    \n+    public static void writeJsonStr2File(String filePath, String jsonStr) {\n+        OutputStreamWriter write = null;\n+        BufferedWriter writer = null;\n+        FileOutputStream outputStream = null;\n+        try {\n+            File f = new File(filePath);\n+            if (!f.getParentFile().exists()) {\n+                f.getParentFile().mkdirs();\n+            }\n+            if (!f.exists()) {\n+                f.createNewFile();\n+            }\n+            System.out.println(f.getAbsolutePath());\n+            outputStream = new FileOutputStream(f);\n+            write = new OutputStreamWriter(outputStream, Constants.UTF8);\n+            writer = new BufferedWriter(write);\n+            writer.write(jsonStr);\n+            writer.flush();\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        } finally {\n+            IOUtil.closeWriter(writer);\n+            IOUtil.closeWriter(write);\n+            IOUtil.closeOutputStream(outputStream);\n+        }\n+    }\n+    \n+    /**\n+     * Extract timeZoneNames.json\n+     */\n+\tpublic static void patternTimeZoneNameExtract() {\n+\t\tSystem.out.println(\"Start to extract timezonename pattern data ... \");\n+\t\tMap<String, String> allLocales = getAllCldrLocales();\n+\t\tSystem.out.println(\"allLocales size is : \" + allLocales.size());\n+\t\tString coreZipPath = CLDRConstants.CORE_ZIP_FILE_PATH;\n+\t\tString metaZonefileName = CLDRConstants.CLDR_CORE_METAZONE;\n+\t\tSystem.out.println(metaZonefileName);\n+\t\tString metaZonejson = CLDRUtils.readZip(metaZonefileName, coreZipPath);\n+\t    System.out.println(metaZonejson);\n+\t\tJSONObject metaZoneObj = JSONUtil.string2JSON(metaZonejson);\n+\t\tfor (String locale : allLocales.values()) {\n+\t\t\tSystem.out.println(\"locale is:\" + locale);\n+\t\t\tString zipPath = CLDRConstants.DATE_ZIP_FILE_PATH;\n+\t\t\tString timeZoneNameFileName = MessageFormat.format(CLDRConstants.CLDR_DATES_FULL_DATE_TIMEZONENAME,\n+\t\t\t\t\tCLDR_VERSION, locale);\n+\t\t\tString timeZoneNameJson = CLDRUtils.readZip(timeZoneNameFileName, zipPath);\n+\t\t\tSystem.out.println(timeZoneNameJson);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA5MDA5Mw=="}, "originalCommit": {"oid": "8fea97c676519ae0924e491f8c8a5be55d88b678"}, "originalPosition": 70}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4493, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}