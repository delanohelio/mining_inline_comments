{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MDM5MDYx", "number": 880, "title": "upload external pattern lib smoke test", "bodyText": "", "createdAt": "2020-11-19T15:33:37Z", "url": "https://github.com/vmware/singleton/pull/880", "merged": true, "mergeCommit": {"oid": "7e59d7d52354b07751e92bd5eb677155e9a92290"}, "closed": true, "closedAt": "2020-12-03T10:06:00Z", "author": {"login": "lyiyu66"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeEeo7gH2gAyNTI0MDM5MDYxOjAxMGJlNzQ2ZmM5ZTYwNDQ5NjI2MjU1NGFjMGM5OWVjODQ2ZmQ2ZTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdie6EFAFqTU0MzcwOTgzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "010be746fc9e604496262554ac0c99ec846fd6e5", "author": {"user": {"login": "lyiyu66", "name": "Yiyu"}}, "url": "https://github.com/vmware/singleton/commit/010be746fc9e604496262554ac0c99ec846fd6e5", "committedDate": "2020-11-19T15:28:03Z", "message": "upload external pattern lib smoke test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MDE0MTMx", "url": "https://github.com/vmware/singleton/pull/880#pullrequestreview-535014131", "createdAt": "2020-11-20T01:45:08Z", "commit": {"oid": "010be746fc9e604496262554ac0c99ec846fd6e5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMTo0NTowOFrOH26VyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMjoxMzo0OVrOH264SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM0MTAwMA==", "bodyText": "that may have out of range exception when excel column count has changed. Please add 'try catch' block and print friendly waring message to show excel file loading failure.", "url": "https://github.com/vmware/singleton/pull/880#discussion_r527341000", "createdAt": "2020-11-20T01:45:08Z", "author": {"login": "surite"}, "path": "autotest/cldrpattern/excelutility.py", "diffHunk": "@@ -0,0 +1,37 @@\n+from openpyxl import load_workbook\n+\n+def excelutil():\n+    workbook = load_workbook(filename='ExternalPatternLibTestCases.xlsx')\n+    sheet = workbook.active\n+\n+    datas = []\n+\n+    for row in sheet.iter_rows(min_row=2, values_only=True):\n+        # data = TestData(casename=row[0],\n+        #                 path=row[1],\n+        #                 filename=row[2],\n+        #                 key=row[3],\n+        #                 expected=row[4])\n+        data = {\"caseid\": row[0],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "010be746fc9e604496262554ac0c99ec846fd6e5"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM0MjM4OQ==", "bodyText": "it is better to extract file name into a properties file or at least a constant.", "url": "https://github.com/vmware/singleton/pull/880#discussion_r527342389", "createdAt": "2020-11-20T01:49:21Z", "author": {"login": "surite"}, "path": "autotest/cldrpattern/excelutility.py", "diffHunk": "@@ -0,0 +1,37 @@\n+from openpyxl import load_workbook\n+\n+def excelutil():\n+    workbook = load_workbook(filename='ExternalPatternLibTestCases.xlsx')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "010be746fc9e604496262554ac0c99ec846fd6e5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM0Mjc2NQ==", "bodyText": "is the  version static and no changing in future?", "url": "https://github.com/vmware/singleton/pull/880#discussion_r527342765", "createdAt": "2020-11-20T01:50:20Z", "author": {"login": "surite"}, "path": "autotest/cldrpattern/test.py", "diffHunk": "@@ -0,0 +1,90 @@\n+import os,json,HTMLTestRunner,unittest\n+from excelutility import excelutil\n+from ddt import ddt,data\n+from datetime import datetime\n+\n+# Set testdata directory:\n+# rootdir = 'D:\\\\PycharmProjects\\\\SmokeTesting\\\\singleton-i18n-patterns-core-0.5.1' #The path of cldr data storage\n+# test_dir = 'D:\\\\PycharmProjects\\\\SmokeTesting' #The directory of generated test report\n+rootdir = './singleton-i18n-patterns-core-0.5.1' #The path of cldr data storage", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "010be746fc9e604496262554ac0c99ec846fd6e5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM0OTgzMw==", "bodyText": "can you give a description about what these verification means? so people would know how you test it.", "url": "https://github.com/vmware/singleton/pull/880#discussion_r527349833", "createdAt": "2020-11-20T02:13:49Z", "author": {"login": "surite"}, "path": "autotest/cldrpattern/test.py", "diffHunk": "@@ -0,0 +1,90 @@\n+import os,json,HTMLTestRunner,unittest\n+from excelutility import excelutil\n+from ddt import ddt,data\n+from datetime import datetime\n+\n+# Set testdata directory:\n+# rootdir = 'D:\\\\PycharmProjects\\\\SmokeTesting\\\\singleton-i18n-patterns-core-0.5.1' #The path of cldr data storage\n+# test_dir = 'D:\\\\PycharmProjects\\\\SmokeTesting' #The directory of generated test report\n+rootdir = './singleton-i18n-patterns-core-0.5.1' #The path of cldr data storage\n+test_dir = './' #The directory of generated test report\n+\n+def curfoldercount(dir):\n+    return str(len(os.listdir(dir)))\n+\n+\n+def rootfoldercount(dir):\n+    L = []\n+    for paths in os.walk(dir):\n+        L.append(paths)\n+    # L includes the root, should -1 to get the folder count under it\n+    return str(len(L)-1)\n+\n+def rootfilecount(dir):\n+    L = []\n+    for paths, folders, files in os.walk(dir):\n+        L.extend(files)\n+    return str(len(L))\n+\n+def readjson(dir, filename, key):\n+    with open(dir+filename, 'r', encoding='utf-8') as f:\n+        temp = json.load(f)\n+        keylist = key.split('.')\n+        for i in keylist:\n+            temp = temp[i]\n+    return str(temp)\n+\n+\n+\n+@ddt\n+class Test(unittest.TestCase):\n+\n+    @data(*excelutil())\n+    def test(self, case):\n+\n+        if (case['casename'] == 'Check the number of folders in cldr folder'):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "010be746fc9e604496262554ac0c99ec846fd6e5"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "511d395b626cb0e12c932ba0f6840c8b2192d65f", "author": {"user": {"login": "lyiyu66", "name": "Yiyu"}}, "url": "https://github.com/vmware/singleton/commit/511d395b626cb0e12c932ba0f6840c8b2192d65f", "committedDate": "2020-12-03T07:15:19Z", "message": "updates for comment and branch structure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzNzA5ODMx", "url": "https://github.com/vmware/singleton/pull/880#pullrequestreview-543709831", "createdAt": "2020-12-03T08:31:14Z", "commit": {"oid": "511d395b626cb0e12c932ba0f6840c8b2192d65f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4158, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}