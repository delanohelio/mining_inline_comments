{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NDU5MzM3", "number": 517, "title": "upload smoke test script for go client", "bodyText": "", "createdAt": "2020-04-21T06:07:11Z", "url": "https://github.com/vmware/singleton/pull/517", "merged": true, "mergeCommit": {"oid": "e4e3168917f6e8f95a2ff157089affd8a4aba3c6"}, "closed": true, "closedAt": "2020-04-26T05:56:42Z", "author": {"login": "lyiyu66"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZtV5XAH2gAyNDA2NDU5MzM3Ojg3MDE4MzI5NjJlYWI4YTMzNjkxYzhhYWMxMmI4N2JjNWQ4NTVjNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbUKCRAFqTQwMDQ2MTczMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8701832962eab8a33691c8aac12b87bc5d855c75", "author": {"user": {"login": "lyiyu66", "name": "Yiyu"}}, "url": "https://github.com/vmware/singleton/commit/8701832962eab8a33691c8aac12b87bc5d855c75", "committedDate": "2020-04-21T06:03:50Z", "message": "upload smoke test script for go client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDQwNDI2", "url": "https://github.com/vmware/singleton/pull/517#pullrequestreview-397040426", "createdAt": "2020-04-21T07:01:58Z", "commit": {"oid": "8701832962eab8a33691c8aac12b87bc5d855c75"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4", "author": {"user": {"login": "lyiyu66", "name": "Yiyu"}}, "url": "https://github.com/vmware/singleton/commit/0cbda873aabf0becc878fd825baf45b9fd6fe9b4", "committedDate": "2020-04-21T13:39:05Z", "message": "update the service to localhost"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3Mzg5Mzkx", "url": "https://github.com/vmware/singleton/pull/517#pullrequestreview-397389391", "createdAt": "2020-04-21T14:30:28Z", "commit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDozMDoyOVrOGJI6vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDo1MzoxNlrOGJKIIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzNjQ3Ng==", "bodyText": "Change all the occurrences of 'JSCoreSDKTest' to 'GoClientTest'?", "url": "https://github.com/vmware/singleton/pull/517#discussion_r412236476", "createdAt": "2020-04-21T14:30:29Z", "author": {"login": "Xiaochao8"}, "path": "autotest/client/go/goclienttest/testdata/Config/configDefaultLocaleEmpty.yaml", "diffHunk": "@@ -0,0 +1,14 @@\n+singletonServer: https://localhost:8090\n+\n+enableCache: true\n+initializeCache: true\n+#unit: second\n+cacheExpiredTime: 500\n+\n+\n+defaultLocale: \"\"\n+\n+localBundles: \"\"\n+\n+productName: JSCoreSDKTest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzODE5MA==", "bodyText": "Change all the occurrences of 'VIP' to 'Singleton'?", "url": "https://github.com/vmware/singleton/pull/517#discussion_r412238190", "createdAt": "2020-04-21T14:32:26Z", "author": {"login": "Xiaochao8"}, "path": "autotest/client/go/goclienttest/testdata/localBundles/GoClientTest/1.0.0/contact/messages_de.json", "diffHunk": "@@ -0,0 +1,12 @@\n+{\n+    \"component\":\"contact\",\n+    \"messages\":{\n+      \"contact.marketing\": \"Marketing:\",\n+      \"contact.applicationname\": \"VIP-Sample-Web-Anwendung\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzOTkxMg==", "bodyText": "Remove all the occurrences of 'Angular', or change to other words?", "url": "https://github.com/vmware/singleton/pull/517#discussion_r412239912", "createdAt": "2020-04-21T14:34:31Z", "author": {"login": "Xiaochao8"}, "path": "autotest/client/go/goclienttest/testdata/localBundles/GoClientTest2/1.0/c2/messages_en.json", "diffHunk": "@@ -0,0 +1,9 @@\n+{\n+  \"component\" : \"c2\",\n+  \"messages\" : {\n+    \"demo.plural.users\" : \"{0, plural,one {Singleton Angular client has a user.} other {Singleton Angular client has # users.}}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI0NTY3NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            name: NoExistingProduct\n          \n          \n            \n            name:  NonExistentProduct\n          \n      \n    \n    \n  \n\nChange all the occurrences?", "url": "https://github.com/vmware/singleton/pull/517#discussion_r412245674", "createdAt": "2020-04-21T14:41:10Z", "author": {"login": "Xiaochao8"}, "path": "autotest/client/go/goclienttest/LocalBundlesOnly/confignull.yaml", "diffHunk": "@@ -0,0 +1,15 @@\n+singletonServer: \"\"\n+\n+enableCache: false\n+initializeCache: false\n+#unit: second\n+cacheExpiredTime: 1\n+\n+\n+defaultLocale: zh-Hans\n+\n+localBundles: \"../testdata/localBundles/GoClientTest/\"\n+\n+\n+name: NoExistingProduct", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1NjI5MQ==", "bodyText": "Change all the occurrences of 'localebundle' to 'localbundle'?", "url": "https://github.com/vmware/singleton/pull/517#discussion_r412256291", "createdAt": "2020-04-21T14:53:16Z", "author": {"login": "Xiaochao8"}, "path": "autotest/client/go/goclienttest/LocalBundlesOnly/getComponentTranslation_test.go", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+ * Copyright 2020 VMware, Inc.\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+\n+package LocalBundlesOnly\n+\n+import (\n+\t\"fmt\"\n+\t\"testing\"\n+\n+\t. \"github.com/smartystreets/goconvey/convey\"\n+\n+\tsgtn \"github.com/vmware/singleton\"\n+)\n+\n+func TestGetComponentTranslation(t *testing.T) {\n+\n+\tcfPath := \"config.yaml\"\n+\tcfg, _ := sgtn.NewConfig(cfPath)\n+\tinst, _ := sgtn.NewInst(*cfg)\n+\tfmt.Print(inst)\n+\ttranslation := inst.GetTranslation()\n+\n+\tConvey(\"component-localbundles-requestlocale: Get request locale's translation from localbundles\", t, func() {\n+\n+\t\tConvey(\"component-localbundle-requestlocale: request locale(fr) is in localebundle, return request locale translation from localbundles(P0)\", func() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cbda873aabf0becc878fd825baf45b9fd6fe9b4"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c39e08dfea9ac24dd8dfc558d6e87bfe3892a75", "author": {"user": {"login": "lyiyu66", "name": "Yiyu"}}, "url": "https://github.com/vmware/singleton/commit/1c39e08dfea9ac24dd8dfc558d6e87bfe3892a75", "committedDate": "2020-04-23T05:06:38Z", "message": "correct some testdata and function name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07945be7e7aaf27cc2dee6c631b72e1c891b163a", "author": {"user": {"login": "lyiyu66", "name": "Yiyu"}}, "url": "https://github.com/vmware/singleton/commit/07945be7e7aaf27cc2dee6c631b72e1c891b163a", "committedDate": "2020-04-23T05:11:00Z", "message": "correct the service instance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4Nzg3ODA4", "url": "https://github.com/vmware/singleton/pull/517#pullrequestreview-398787808", "createdAt": "2020-04-23T06:17:38Z", "commit": {"oid": "07945be7e7aaf27cc2dee6c631b72e1c891b163a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwNjoxNzozOFrOGKYYJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwNjoxNzozOFrOGKYYJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzUzODM0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\ttran2, _ := translation.GetStringMessage(\"fr\", \"contact\", \"non-existing.key\")\n          \n          \n            \n            \t\t\ttran2, _ := translation.GetStringMessage(\"fr\", \"contact\", \"non-existent.key\")\n          \n      \n    \n    \n  \n\nChange all the occurences of it?", "url": "https://github.com/vmware/singleton/pull/517#discussion_r413538343", "createdAt": "2020-04-23T06:17:38Z", "author": {"login": "Xiaochao8"}, "path": "autotest/client/go/goclienttest/LocalBundlesOnly/getStringTranslation_test.go", "diffHunk": "@@ -0,0 +1,101 @@\n+package LocalBundlesOnly\n+\n+import (\n+\t\"fmt\"\n+\t\"testing\"\n+\n+\t. \"github.com/smartystreets/goconvey/convey\"\n+\n+\tsgtn \"github.com/vmware/singleton\"\n+)\n+\n+func TestGetStringTranslation(t *testing.T) {\n+\n+\tcfPath := \"config.yaml\"\n+\n+\tcfg, _ := sgtn.NewConfig(cfPath)\n+\tinst, _ := sgtn.NewInst(*cfg)\n+\tfmt.Print(inst)\n+\ttranslation := inst.GetTranslation()\n+\n+\tConvey(\"localbundles-requestlocale: Get request locale's translation from localbundle\", t, func() {\n+\n+\t\t// cfPath := \"config.yaml\"\n+\n+\t\t// cfg, _ := sgtn.NewConfig(cfPath)\n+\t\t// inst, _ := sgtn.NewInst(*cfg)\n+\t\t// fmt.Print(inst)\n+\t\t// translation := inst.GetTranslation()\n+\n+\t\tConvey(\"localbundles-requestlocale: Get common strings successfully from localbundle(P0)\", func() {\n+\n+\t\t\ttran1, _ := translation.GetStringMessage(\"zh-Hans\", Defaultcom, commonkey)\n+\t\t\t// fmt.Print(tran1)\n+\n+\t\t\tSo(tran1, ShouldEqual, dlcncommonvalue)\n+\t\t\t// So(cfg, ShouldNotBeNil)\n+\t\t})\n+\n+\t\tConvey(\"localbundles-requestlocale: Get placehodler strings successfully from localbundle(P0)\", func() {\n+\n+\t\t\ttran2, _ := translation.GetStringMessage(\"fr\", Defaultcom, holderkey, \"a\", \"b\")\n+\n+\t\t\tSo(tran2, ShouldEqual, \"L'op\u00e9rateur 'a' n'est pas pris en charge pour la propri\u00e9t\u00e9 'b'.\")\n+\t\t})\n+\n+\t\tConvey(\"localbundles-requestlocale: Get long and html tag strings successfully from localbundle(P0)\", func() {\n+\n+\t\t\ttran2, _ := translation.GetStringMessage(\"fr\", Defaultcom, htmlkey)\n+\t\t\t// should add check if send out http request as the previous case has cached fr component translation\n+\n+\t\t\tSo(tran2, ShouldEqual, frhtmlvalue)\n+\t\t})\n+\n+\t\tConvey(\"localbundles-requestlocale: request a component(contact) is in localbundle but key isn't in localbundles, return key(P1)\", func() {\n+\n+\t\t\ttran2, _ := translation.GetStringMessage(\"fr\", \"contact\", \"non-existing.key\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07945be7e7aaf27cc2dee6c631b72e1c891b163a"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNDYxNzMx", "url": "https://github.com/vmware/singleton/pull/517#pullrequestreview-400461731", "createdAt": "2020-04-26T05:51:06Z", "commit": {"oid": "07945be7e7aaf27cc2dee6c631b72e1c891b163a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4348, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}