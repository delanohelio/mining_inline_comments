{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1OTMwMzQ5", "number": 9198, "title": "feat: disposable filter setup API in data communicator", "bodyText": "Extends the DataCommunicator API to set the permanent/disposable flag to the component's filter object and discards this filter after the next request to data provider, if disposable. This is needed to ignore the client filter of ComboBox in data view retrieve methods (getItems for instance) and to not fire the item count change event in case of client filtering.\nOverloaded version of setRequestedRange has also added in order to avoid a doubled flush invocations in ComboBox, when the client filter has changed.\nPart of vaadin/flow-components#210", "createdAt": "2020-10-19T12:29:54Z", "url": "https://github.com/vaadin/flow/pull/9198", "merged": true, "mergeCommit": {"oid": "6717396ee01be49590b3dba89d6f636279747026"}, "closed": true, "closedAt": "2020-10-21T11:11:17Z", "author": {"login": "mshabarov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUDPTWgH2gAyNTA1OTMwMzQ5OjZkMGU3YWRlZDE4YzZjNzA3MWU1YjE4MDE5NDIxNGMyYWZjMGZiMWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUra1egFqTUxMzU2MjAyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d0e7aded18c6c7071e5b180194214c2afc0fb1f", "author": {"user": {"login": "mshabarov", "name": "Mikhail Shabarov"}}, "url": "https://github.com/vaadin/flow/commit/6d0e7aded18c6c7071e5b180194214c2afc0fb1f", "committedDate": "2020-10-19T12:22:09Z", "message": "Disposable filter setup API in data communicator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNzM0MTU3", "url": "https://github.com/vaadin/flow/pull/9198#pullrequestreview-511734157", "createdAt": "2020-10-19T13:01:51Z", "commit": {"oid": "6d0e7aded18c6c7071e5b180194214c2afc0fb1f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxMzowMTo1MVrOHkNMpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxMzowNjo1MVrOHkNYYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzcyNzAxNQ==", "bodyText": "Maybe requestFlush is better name", "url": "https://github.com/vaadin/flow/pull/9198#discussion_r507727015", "createdAt": "2020-10-19T13:01:51Z", "author": {"login": "pleku"}, "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/DataCommunicator.java", "diffHunk": "@@ -225,17 +304,36 @@ public DataCommunicator(DataGenerator<T> dataGenerator,\n     }\n \n     /**\n-     * Sets the requested range of data to be sent.\n+     * Sets the requested range of data to be sent and requests the data of this\n+     * range from the data provider immediately.\n      *\n      * @param start\n      *            the start of the requested range\n      * @param length\n      *            the end of the requested range\n      */\n     public void setRequestedRange(int start, int length) {\n+        setRequestedRange(start, length, true);\n+    }\n+\n+    /**\n+     * Sets the requested range of data to be sent and sets whether the data\n+     * should be requested immediately or not.\n+     * \n+     * @param start\n+     *            the start of the requested range\n+     * @param length\n+     *            the end of the requested range\n+     * @param requestNow\n+     *            if {@code true}, the data will be requested immediately,\n+     *            otherwise it will just set the range.\n+     */\n+    public void setRequestedRange(int start, int length, boolean requestNow) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d0e7aded18c6c7071e5b180194214c2afc0fb1f"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzczMDAxNg==", "bodyText": "What is a disposable filter ?\nThe semantics should be explained in this method", "url": "https://github.com/vaadin/flow/pull/9198#discussion_r507730016", "createdAt": "2020-10-19T13:06:51Z", "author": {"login": "pleku"}, "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/DataCommunicator.java", "diffHunk": "@@ -306,16 +404,26 @@ public void confirmUpdate(int updateId) {\n      * @param initialFilter\n      *            the initial filter value to use, or <code>null</code> to not\n      *            use any initial filter value\n+     * @param permanentFilter\n+     *            if {@code true}, then the initial filter is considered as a\n+     *            permanent and won't be discarded after the next call to data\n+     *            provider, otherwise it will be treated as a disposable filter\n+     *            and will be discarded", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d0e7aded18c6c7071e5b180194214c2afc0fb1f"}, "originalPosition": 144}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11021d2f6ed5330d58d147651d10a10c05f1eceb", "author": {"user": {"login": "mshabarov", "name": "Mikhail Shabarov"}}, "url": "https://github.com/vaadin/flow/commit/11021d2f6ed5330d58d147651d10a10c05f1eceb", "committedDate": "2020-10-20T09:04:47Z", "message": "Fix review comments and get rid of flush call while confirming updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7ae092b1a933f5e3c5f8908c51ff181cdbb8f94", "author": {"user": {"login": "mshabarov", "name": "Mikhail Shabarov"}}, "url": "https://github.com/vaadin/flow/commit/f7ae092b1a933f5e3c5f8908c51ff181cdbb8f94", "committedDate": "2020-10-21T08:25:54Z", "message": "Add unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzNTYyMDIx", "url": "https://github.com/vaadin/flow/pull/9198#pullrequestreview-513562021", "createdAt": "2020-10-21T11:10:57Z", "commit": {"oid": "f7ae092b1a933f5e3c5f8908c51ff181cdbb8f94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4711, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}