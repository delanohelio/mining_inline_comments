{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NjkzNjI5", "number": 9543, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNjoxNTozMFrOE-9xNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNjo0MDo0MlrOFBnvgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NDU5MTg4OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-generator.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNjoxNTozMFrOH8ZlPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzoyOToxNVrOH8bNYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA5NTc0Mg==", "bodyText": "No added param documentation for themeProperties.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533095742", "createdAt": "2020-12-01T06:15:30Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-generator.js", "diffHunk": "@@ -46,7 +46,7 @@ export const injectGlobalCss = (css, target) => {\n  * @param {string} themeName name of the handled theme", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b25ea8b2b253319f85406ef98f277dbcbf725ba"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzEyMjQwMw==", "bodyText": "Added.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533122403", "createdAt": "2020-12-01T07:29:15Z", "author": {"login": "tanbt"}, "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-generator.js", "diffHunk": "@@ -46,7 +46,7 @@ export const injectGlobalCss = (css, target) => {\n  * @param {string} themeName name of the handled theme", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA5NTc0Mg=="}, "originalCommit": {"oid": "9b25ea8b2b253319f85406ef98f277dbcbf725ba"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NDU5Nzg1OnYy", "diffSide": "LEFT", "path": "flow-tests/test-themes/src/test/java/com/vaadin/flow/uitest/ui/theme/ThemeIT.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNjoxODoyNFrOH8ZovQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzo1MDo1NFrOH8bzUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA5NjYzNw==", "bodyText": "Lots of unrelated formatting changes in the test file.\nCould you check the TeamWiki Code style section. indentation at least seems different", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533096637", "createdAt": "2020-12-01T06:18:24Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/src/test/java/com/vaadin/flow/uitest/ui/theme/ThemeIT.java", "diffHunk": "@@ -38,11 +39,11 @@\n     public void secondTheme_staticFilesNotCopied() {\n         getDriver().get(getRootURL() + \"/path/VAADIN/static/img/bg.jpg\");\n         Assert.assertFalse(\"app-theme static files should be copied\",\n-            driver.getPageSource().contains(\"HTTP ERROR 404 Not Found\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b25ea8b2b253319f85406ef98f277dbcbf725ba"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzEzMjExMg==", "bodyText": "Reverted. My formatter setting was disappear somehow.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533132112", "createdAt": "2020-12-01T07:50:54Z", "author": {"login": "tanbt"}, "path": "flow-tests/test-themes/src/test/java/com/vaadin/flow/uitest/ui/theme/ThemeIT.java", "diffHunk": "@@ -38,11 +39,11 @@\n     public void secondTheme_staticFilesNotCopied() {\n         getDriver().get(getRootURL() + \"/path/VAADIN/static/img/bg.jpg\");\n         Assert.assertFalse(\"app-theme static files should be copied\",\n-            driver.getPageSource().contains(\"HTTP ERROR 404 Not Found\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA5NjYzNw=="}, "originalCommit": {"oid": "9b25ea8b2b253319f85406ef98f277dbcbf725ba"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0OTg5NTcyOnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwNjozMjowM1rOH9MTMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzozNTowNVrOH-CtHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNjcwNA==", "bodyText": "This has the problem that \"external\" url's are not filtered out making it fail as the files can not be found.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533926704", "createdAt": "2020-12-02T06:32:03Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -173,7 +173,8 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                return resourcePath.includes('/node_modules/')\n+                    || resourcePath.includes('/frontend/theme/');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk1MjA1Ng==", "bodyText": "Added a check to skip external URL.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533952056", "createdAt": "2020-12-02T07:36:36Z", "author": {"login": "tanbt"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -173,7 +173,8 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                return resourcePath.includes('/node_modules/')\n+                    || resourcePath.includes('/frontend/theme/');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNjcwNA=="}, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk5Mjc3Mw==", "bodyText": "Only http:// doesn't mean external also ./served/by/server or /absolute is external from the view of the theme see test module octopuss and monarch-butterfly", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533992773", "createdAt": "2020-12-02T08:52:16Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -173,7 +173,8 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                return resourcePath.includes('/node_modules/')\n+                    || resourcePath.includes('/frontend/theme/');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNjcwNA=="}, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDgwNzU5Ng==", "bodyText": "Will update with #9558.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r534807596", "createdAt": "2020-12-03T07:28:46Z", "author": {"login": "tanbt"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -173,7 +173,8 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                return resourcePath.includes('/node_modules/')\n+                    || resourcePath.includes('/frontend/theme/');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNjcwNA=="}, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDgxODA3OQ==", "bodyText": "Let's take in 9558 and you can rebase the fix on that.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r534818079", "createdAt": "2020-12-03T07:35:05Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -173,7 +173,8 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                return resourcePath.includes('/node_modules/')\n+                    || resourcePath.includes('/frontend/theme/');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNjcwNA=="}, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0OTg5ODA5OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwNjozMzowNlrOH9MUlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwODo0MToyMlrOH9P7Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNzA2Mw==", "bodyText": "This was my mistake, but the output path should be outputPath: 'static/', also I can't get this to actually copy anything.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533927063", "createdAt": "2020-12-02T06:33:06Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -189,6 +190,17 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files\n+        test: /\\.(png|gif|jpg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: '../resources/VAADIN/static/',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk2MjAyNw==", "bodyText": "Fixed.\nI can still see files are copied to target\\classes\\META-INF\\VAADIN\\static when using outputPath: '../resources/VAADIN/static/'.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533962027", "createdAt": "2020-12-02T07:57:38Z", "author": {"login": "tanbt"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -189,6 +190,17 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files\n+        test: /\\.(png|gif|jpg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: '../resources/VAADIN/static/',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNzA2Mw=="}, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk4NjA2Mw==", "bodyText": "that's because it's not file-loader that is doing the copying.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r533986063", "createdAt": "2020-12-02T08:41:22Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -189,6 +190,17 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files\n+        test: /\\.(png|gif|jpg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: '../resources/VAADIN/static/',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzkyNzA2Mw=="}, "originalCommit": {"oid": "b856802ce3473029a052060cd10eae0c42e176c1"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MjE4ODg2OnYy", "diffSide": "RIGHT", "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNDo1NToxMVrOIAV9ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMjo0OTowOFrOIBZBMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzIzMDczMA==", "bodyText": "As this should stay unchanged the path should get path from the application as it should be requested with the application context. There is a test that ./ should match RootUrl+/path when executed in browser context.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r537230730", "createdAt": "2020-12-07T04:55:11Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "diffHunk": "@@ -12,7 +12,7 @@ body {\n \n #butterfly {\n     /* This shouldn't be translated */\n-    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    background-image: url(\"/path/test/path/monarch-butterfly.jpg\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcyMTA0OA==", "bodyText": "I'm not sure about this, since the monarch-butterfly.jpg is a non-theme resource under src/webapp and that leading /path is actually a folder under webapp. As I know the URL of non-theme resources should not be translated, but please let me know if I'm missing something.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r537721048", "createdAt": "2020-12-07T18:13:12Z", "author": {"login": "taefi"}, "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "diffHunk": "@@ -12,7 +12,7 @@ body {\n \n #butterfly {\n     /* This shouldn't be translated */\n-    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    background-image: url(\"/path/test/path/monarch-butterfly.jpg\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzIzMDczMA=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODAzNDI4Ng==", "bodyText": "But the point is that the url is relative to the application and /path/ is from the application servlet path.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r538034286", "createdAt": "2020-12-08T04:54:12Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "diffHunk": "@@ -12,7 +12,7 @@ body {\n \n #butterfly {\n     /* This shouldn't be translated */\n-    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    background-image: url(\"/path/test/path/monarch-butterfly.jpg\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzIzMDczMA=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyNzMzMQ==", "bodyText": "Also this feature shouldn't touch the external url tests as this shouldn't change them in any way.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r538227331", "createdAt": "2020-12-08T10:38:04Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "diffHunk": "@@ -12,7 +12,7 @@ body {\n \n #butterfly {\n     /* This shouldn't be translated */\n-    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    background-image: url(\"/path/test/path/monarch-butterfly.jpg\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzIzMDczMA=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODMyNzIxOA==", "bodyText": "/path/ is from the application servlet path\n\nThe project structure is like this:\nproject-root\n|_ src\n    |_ webapp\n        |_ path\n            |_ test\n                |_ path\n                    |_ monarch-butterfly.jpg\n\nSo I think I got confused because @WebServlet(\"/path/*\") was the URL-pattern and not the context-path. So I removed the /path and changed it back to ./ as it was before.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r538327218", "createdAt": "2020-12-08T12:46:51Z", "author": {"login": "taefi"}, "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "diffHunk": "@@ -12,7 +12,7 @@ body {\n \n #butterfly {\n     /* This shouldn't be translated */\n-    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    background-image: url(\"/path/test/path/monarch-butterfly.jpg\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzIzMDczMA=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODMyOTM5Mw==", "bodyText": "I agree it's a bit confusing and should perhaps have a better comment on top.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r538329393", "createdAt": "2020-12-08T12:49:08Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/theme/app-theme/global.css", "diffHunk": "@@ -12,7 +12,7 @@ body {\n \n #butterfly {\n     /* This shouldn't be translated */\n-    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    background-image: url(\"/path/test/path/monarch-butterfly.jpg\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzIzMDczMA=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MjQyNDE3OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/NodeUpdater.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNjozNDo0MlrOIAX51Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxODowOTo0N1rOIAzwPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2MjU0OQ==", "bodyText": "Remove the extra file-loader as it was added from the merge in master. see 3 lines down", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r537262549", "createdAt": "2020-12-07T06:34:42Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/NodeUpdater.java", "diffHunk": "@@ -303,6 +303,7 @@ static void addVaadinDefaultsToJson(JsonObject json) {\n         defaults.put(\"compression-webpack-plugin\", \"4.0.1\");\n         defaults.put(\"webpack-merge\", \"4.2.2\");\n         defaults.put(\"css-loader\", \"4.2.1\");\n+        defaults.put(\"file-loader\", \"6.1.0\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxODg0Ng==", "bodyText": "Done.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r537718846", "createdAt": "2020-12-07T18:09:47Z", "author": {"login": "taefi"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/NodeUpdater.java", "diffHunk": "@@ -303,6 +303,7 @@ static void addVaadinDefaultsToJson(JsonObject json) {\n         defaults.put(\"compression-webpack-plugin\", \"4.0.1\");\n         defaults.put(\"webpack-merge\", \"4.2.2\");\n         defaults.put(\"css-loader\", \"4.2.1\");\n+        defaults.put(\"file-loader\", \"6.1.0\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2MjU0OQ=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MjQzNzcyOnYy", "diffSide": "RIGHT", "path": "flow-tests/test-themes/src/test/java/com/vaadin/flow/uitest/ui/theme/ThemeIT.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNjozOTo0MVrOIAYA3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNTowNDowNlrOIBhuUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDM0OQ==", "bodyText": "Should this check for something more. Are we certain the resource is available just because the css has been applied and no exceptions are on the console?\nShould we also check the resource e.g.\n        getDriver().get(getRootURL() + \"/path/VAADIN/static/[THE_RESOURCE_THAT_IS_EXPECTED]\");\n        Assert.assertFalse(\"Font resource should be available\",\n            driver.getPageSource().contains(\"HTTP ERROR 404 Not Found\"));", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r537264349", "createdAt": "2020-12-07T06:39:41Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/src/test/java/com/vaadin/flow/uitest/ui/theme/ThemeIT.java", "diffHunk": "@@ -79,6 +80,16 @@ public void applicationTheme_GlobalCss_isUsed() {\n             driver.getPageSource().contains(\"Could not navigate\"));\n     }\n \n+    @Test\n+    public void applicationTheme_importCSS_isUsed() {\n+        open();\n+        checkLogsForErrors();\n+\n+        Assert.assertEquals(\"Imported FontAwesome css file should be applied.\",\n+                \"\\\"Font Awesome 5 Brands\\\"\", $(SpanElement.class).id(FONTAWESOME_ID)\n+                        .getCssValue(\"font-family\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ3MjAxOQ==", "bodyText": "Done.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r538472019", "createdAt": "2020-12-08T15:04:06Z", "author": {"login": "taefi"}, "path": "flow-tests/test-themes/src/test/java/com/vaadin/flow/uitest/ui/theme/ThemeIT.java", "diffHunk": "@@ -79,6 +80,16 @@ public void applicationTheme_GlobalCss_isUsed() {\n             driver.getPageSource().contains(\"Could not navigate\"));\n     }\n \n+    @Test\n+    public void applicationTheme_importCSS_isUsed() {\n+        open();\n+        checkLogsForErrors();\n+\n+        Assert.assertEquals(\"Imported FontAwesome css file should be applied.\",\n+                \"\\\"Font Awesome 5 Brands\\\"\", $(SpanElement.class).id(FONTAWESOME_ID)\n+                        .getCssValue(\"font-family\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDM0OQ=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MjQ0MDMzOnYy", "diffSide": "RIGHT", "path": "flow-tests/test-themes/src/main/java/com/vaadin/flow/uitest/ui/theme/ThemeView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNjo0MDo0MlrOIAYCPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNTowNDowM1rOIBhuIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDcwMQ==", "bodyText": "Does this give something visible or should we add a icon class name also?", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r537264701", "createdAt": "2020-12-07T06:40:42Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/src/main/java/com/vaadin/flow/uitest/ui/theme/ThemeView.java", "diffHunk": "@@ -45,12 +46,16 @@ public ThemeView() {\n         Span octopuss = new Span();\n         octopuss.setId(OCTOPUSS_ID);\n \n+        Span faText = new Span(\"This test is FontAwesome.\");\n+        faText.setClassName(\"fab\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ3MTk3MA==", "bodyText": "Added an Icon. Done.", "url": "https://github.com/vaadin/flow/pull/9543#discussion_r538471970", "createdAt": "2020-12-08T15:04:03Z", "author": {"login": "taefi"}, "path": "flow-tests/test-themes/src/main/java/com/vaadin/flow/uitest/ui/theme/ThemeView.java", "diffHunk": "@@ -45,12 +46,16 @@ public ThemeView() {\n         Span octopuss = new Span();\n         octopuss.setId(OCTOPUSS_ID);\n \n+        Span faText = new Span(\"This test is FontAwesome.\");\n+        faText.setClassName(\"fab\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDcwMQ=="}, "originalCommit": {"oid": "be290d7635a2d32b3c47601adea19b18ee53dcd0"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2851, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}