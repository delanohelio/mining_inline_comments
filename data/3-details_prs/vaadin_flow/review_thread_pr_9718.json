{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NjYyNjY2", "number": 9718, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTo1ODo0M1rOFIhe5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTo1OToxMlrOFIhfog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NDgxNTA5OnYy", "diffSide": "LEFT", "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTo1ODo0M1rOIKfqCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMDowMjowNlrOIKfv3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NTMzNw==", "bodyText": "Why did you drop this check?", "url": "https://github.com/vaadin/flow/pull/9718#discussion_r547875337", "createdAt": "2020-12-23T09:58:43Z", "author": {"login": "mshabarov"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "diffHunk": "@@ -120,14 +120,8 @@ private void generatePluginFiles(String pluginName) throws IOException {\n             String packageFile = FileUtils\n                 .readFileToString(new File(pluginTargetFile, PACKAGE_JSON),\n                     StandardCharsets.UTF_8);\n-            final FrontendVersion packageVersion = new FrontendVersion(\n-                Json.parse(packageFile).getString(\"version\"));\n-            FrontendVersion pluginVersion = new FrontendVersion(\n-                packageJson.getString(\"version\"));\n-            if (packageVersion.isEqualTo(pluginVersion)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NjgyOQ==", "bodyText": "it's dropped so that you don't get the situation that you had where the plugin was not the same as for the project.", "url": "https://github.com/vaadin/flow/pull/9718#discussion_r547876829", "createdAt": "2020-12-23T10:02:06Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "diffHunk": "@@ -120,14 +120,8 @@ private void generatePluginFiles(String pluginName) throws IOException {\n             String packageFile = FileUtils\n                 .readFileToString(new File(pluginTargetFile, PACKAGE_JSON),\n                     StandardCharsets.UTF_8);\n-            final FrontendVersion packageVersion = new FrontendVersion(\n-                Json.parse(packageFile).getString(\"version\"));\n-            FrontendVersion pluginVersion = new FrontendVersion(\n-                packageJson.getString(\"version\"));\n-            if (packageVersion.isEqualTo(pluginVersion)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NTMzNw=="}, "originalCommit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NDgxNjk4OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTo1OToxMlrOIKfrFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMDowMTo1OFrOIKfvsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NTYwNw==", "bodyText": "What is the use case when the developer wants to skip any webpack plugin?", "url": "https://github.com/vaadin/flow/pull/9718#discussion_r547875607", "createdAt": "2020-12-23T09:59:12Z", "author": {"login": "mshabarov"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "diffHunk": "@@ -120,14 +120,8 @@ private void generatePluginFiles(String pluginName) throws IOException {\n             String packageFile = FileUtils\n                 .readFileToString(new File(pluginTargetFile, PACKAGE_JSON),\n                     StandardCharsets.UTF_8);\n-            final FrontendVersion packageVersion = new FrontendVersion(\n-                Json.parse(packageFile).getString(\"version\"));\n-            FrontendVersion pluginVersion = new FrontendVersion(\n-                packageJson.getString(\"version\"));\n-            if (packageVersion.isEqualTo(pluginVersion)) {\n-                log().debug(\n-                    \"Skipping install of {} for version {} already installed\",\n-                    pluginName, pluginVersion.getFullVersion());\n+            final JsonObject targetJson = Json.parse(packageFile);\n+            if(targetJson.hasKey(\"update\") && !targetJson.getBoolean(\"update\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3Njc4NA==", "bodyText": "Skipping getting the jar packaged plugin is really useful for when you develop the plugin in a project so you can make changes directly there without having the plugin overridden from the jar every time.", "url": "https://github.com/vaadin/flow/pull/9718#discussion_r547876784", "createdAt": "2020-12-23T10:01:58Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "diffHunk": "@@ -120,14 +120,8 @@ private void generatePluginFiles(String pluginName) throws IOException {\n             String packageFile = FileUtils\n                 .readFileToString(new File(pluginTargetFile, PACKAGE_JSON),\n                     StandardCharsets.UTF_8);\n-            final FrontendVersion packageVersion = new FrontendVersion(\n-                Json.parse(packageFile).getString(\"version\"));\n-            FrontendVersion pluginVersion = new FrontendVersion(\n-                packageJson.getString(\"version\"));\n-            if (packageVersion.isEqualTo(pluginVersion)) {\n-                log().debug(\n-                    \"Skipping install of {} for version {} already installed\",\n-                    pluginName, pluginVersion.getFullVersion());\n+            final JsonObject targetJson = Json.parse(packageFile);\n+            if(targetJson.hasKey(\"update\") && !targetJson.getBoolean(\"update\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NTYwNw=="}, "originalCommit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3793, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}