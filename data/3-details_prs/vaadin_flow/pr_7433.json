{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MzgyNzcw", "number": 7433, "title": "CCDM: useDeprecatedV14Bootstrapping=true to disable client-side", "bodyText": "Fixes #7417\n\n\nThis change is\u2002", "createdAt": "2020-01-27T09:10:39Z", "url": "https://github.com/vaadin/flow/pull/7433", "merged": true, "mergeCommit": {"oid": "d25432890d4dac5850b51c74622ebf2ccdbb3fb2"}, "closed": true, "closedAt": "2020-01-28T21:15:54Z", "author": {"login": "manolo"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-ZRrPAFqTM0ODUyMzU3OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-0edZAFqTM0OTU0ODY5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NTIzNTc5", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-348523579", "createdAt": "2020-01-27T09:25:10Z", "commit": {"oid": "56b1e9a9aa8e5047a8018d4d78b48d00f5dc01be"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56b1e9a9aa8e5047a8018d4d78b48d00f5dc01be", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/56b1e9a9aa8e5047a8018d4d78b48d00f5dc01be", "committedDate": "2020-01-27T09:08:35Z", "message": "CCDM: change useDeprecatedV14Bootstrapping to be true to disable client-side"}, "afterCommit": {"oid": "8983cd7396e9426e72274693f8ecb984e1e233a1", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/8983cd7396e9426e72274693f8ecb984e1e233a1", "committedDate": "2020-01-27T09:51:58Z", "message": "Check correctly the version in mocked pnpm and npm to reduce test log"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8983cd7396e9426e72274693f8ecb984e1e233a1", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/8983cd7396e9426e72274693f8ecb984e1e233a1", "committedDate": "2020-01-27T09:51:58Z", "message": "Check correctly the version in mocked pnpm and npm to reduce test log"}, "afterCommit": {"oid": "95e55b797c407f85182983b871a04c85f5735929", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/95e55b797c407f85182983b871a04c85f5735929", "committedDate": "2020-01-27T10:26:32Z", "message": "Check correctly the version in mocked pnpm and npm to reduce test log"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NzIzMjIz", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-348723223", "createdAt": "2020-01-27T14:55:51Z", "commit": {"oid": "95e55b797c407f85182983b871a04c85f5735929"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTc0MjY1", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349174265", "createdAt": "2020-01-28T07:40:04Z", "commit": {"oid": "95e55b797c407f85182983b871a04c85f5735929"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95e55b797c407f85182983b871a04c85f5735929", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/95e55b797c407f85182983b871a04c85f5735929", "committedDate": "2020-01-27T10:26:32Z", "message": "Check correctly the version in mocked pnpm and npm to reduce test log"}, "afterCommit": {"oid": "af10d82da5e6bb31f541f7cbfafde7efed1adfc4", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/af10d82da5e6bb31f541f7cbfafde7efed1adfc4", "committedDate": "2020-01-28T07:40:38Z", "message": "fixing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4d47c43041b1775b097407c2b1e1616c2314a31", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/d4d47c43041b1775b097407c2b1e1616c2314a31", "committedDate": "2020-01-28T07:41:22Z", "message": "CCDM: change useDeprecatedV14Bootstrapping to be true to disable client-side"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffee11326ccd20712f341cbadf522c1d1a1eb3da", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/ffee11326ccd20712f341cbadf522c1d1a1eb3da", "committedDate": "2020-01-28T07:41:22Z", "message": "Check correctly the version in mocked pnpm and npm to reduce test log"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "279f1bae377b9b08f02390c6a1ed90b2a6c78c95", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/279f1bae377b9b08f02390c6a1ed90b2a6c78c95", "committedDate": "2020-01-28T07:41:22Z", "message": "adjust messages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af10d82da5e6bb31f541f7cbfafde7efed1adfc4", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/af10d82da5e6bb31f541f7cbfafde7efed1adfc4", "committedDate": "2020-01-28T07:40:38Z", "message": "fixing tests"}, "afterCommit": {"oid": "cc0fc9597c65f5f931042a2b7854ca1f6b7db720", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/cc0fc9597c65f5f931042a2b7854ca1f6b7db720", "committedDate": "2020-01-28T07:41:22Z", "message": "fixing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2743ce1df8a28121772d816175922a99a8e2d94b", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/2743ce1df8a28121772d816175922a99a8e2d94b", "committedDate": "2020-01-28T07:53:54Z", "message": "fixing tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cc0fc9597c65f5f931042a2b7854ca1f6b7db720", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/cc0fc9597c65f5f931042a2b7854ca1f6b7db720", "committedDate": "2020-01-28T07:41:22Z", "message": "fixing tests"}, "afterCommit": {"oid": "2743ce1df8a28121772d816175922a99a8e2d94b", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/2743ce1df8a28121772d816175922a99a8e2d94b", "committedDate": "2020-01-28T07:53:54Z", "message": "fixing tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTgxOTky", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349181992", "createdAt": "2020-01-28T07:59:42Z", "commit": {"oid": "2743ce1df8a28121772d816175922a99a8e2d94b"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9086521f7e65ef6e09fea5a69025a2932906dac5", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/9086521f7e65ef6e09fea5a69025a2932906dac5", "committedDate": "2020-01-28T08:05:27Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}, "afterCommit": {"oid": "1af0cf17fa572c1e96676b86421fcab5bd63336c", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/1af0cf17fa572c1e96676b86421fcab5bd63336c", "committedDate": "2020-01-28T08:28:35Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1af0cf17fa572c1e96676b86421fcab5bd63336c", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/1af0cf17fa572c1e96676b86421fcab5bd63336c", "committedDate": "2020-01-28T08:28:35Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}, "afterCommit": {"oid": "d4f6af024398e103f89b12e0387240fde8310e36", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/d4f6af024398e103f89b12e0387240fde8310e36", "committedDate": "2020-01-28T08:32:50Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c03aa0f0b4aad13c99927ea3c1ead0f400c2d60", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/8c03aa0f0b4aad13c99927ea3c1ead0f400c2d60", "committedDate": "2020-01-28T08:34:30Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4f6af024398e103f89b12e0387240fde8310e36", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/d4f6af024398e103f89b12e0387240fde8310e36", "committedDate": "2020-01-28T08:32:50Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}, "afterCommit": {"oid": "8c03aa0f0b4aad13c99927ea3c1ead0f400c2d60", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/8c03aa0f0b4aad13c99927ea3c1ead0f400c2d60", "committedDate": "2020-01-28T08:34:30Z", "message": "CCDM: rename variable in TaskUpdateWebpack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzAzNzIw", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349303720", "createdAt": "2020-01-28T11:29:07Z", "commit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToyOTowN1rOFihr2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToyOTowN1rOFihr2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0NzgwMg==", "bodyText": "Format string should use %n rather than \\n in com.vaadin.flow.server.DefaultDeploymentConfiguration.checkV14Bootsrapping(boolean)", "url": "https://github.com/vaadin/flow/pull/7433#discussion_r371747802", "createdAt": "2020-01-28T11:29:07Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/DefaultDeploymentConfiguration.java", "diffHunk": "@@ -257,20 +268,22 @@ private void checkProductionMode(boolean loggWarning) {\n     }\n \n     /**\n-     * Log a message if Vaadin is running in useDeprecatedV14Bootstrapping.\n+     * Log a message about the bootstrapping being used.\n      */\n-    private void checkClientSideMode(boolean loggWarning) {\n+    private void checkV14Bootsrapping(boolean loggWarning) {\n         useDeprecatedV14Bootstrapping = getBooleanProperty(\n-                Constants.SERVLET_PARAMETER_CLIENT_SIDE_MODE, true);\n-        if (useDeprecatedV14Bootstrapping && loggWarning && !productionMode) {\n-            String frontendDir = getStringProperty(PARAM_FRONTEND_DIR, System\n-                    .getProperty(PARAM_FRONTEND_DIR, DEFAULT_FRONTEND_DIR));\n-            String indexHTMLMessage = getIndexHTMLMessage(frontendDir);\n-            String entryPointMessage = getEntryPointMessage(frontendDir);\n-            String outputMessage = SEPARATOR\n-                    + \"\\nRunning the application in 'useDeprecatedV14Bootstrapping'.\\n\"\n-                    + indexHTMLMessage + entryPointMessage + SEPARATOR;\n-            getLogger().info(outputMessage);\n+                Constants.SERVLET_PARAMETER_USE_V14_BOOTSTRAP, false);\n+        if (loggWarning) {\n+            if (useDeprecatedV14Bootstrapping) {\n+                getLogger().info(WARNING_V14_BOOTSTRAP);\n+            } else if (!productionMode) {\n+                String frontendDir = getStringProperty(PARAM_FRONTEND_DIR, System\n+                        .getProperty(PARAM_FRONTEND_DIR, DEFAULT_FRONTEND_DIR));\n+                String indexHTMLMessage = getIndexHTMLMessage(frontendDir);\n+                String entryPointMessage = getEntryPointMessage(frontendDir);\n+                getLogger().info(String.format(WARNING_V15_BOOTSTRAP,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzA1ODAx", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349305801", "createdAt": "2020-01-28T11:32:58Z", "commit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzA2Njc3", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349306677", "createdAt": "2020-01-28T11:34:37Z", "commit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzE2Mjc3", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349316277", "createdAt": "2020-01-28T11:52:10Z", "commit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzcxODEz", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349371813", "createdAt": "2020-01-28T13:29:16Z", "commit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5Mzc4ODMy", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349378832", "createdAt": "2020-01-28T13:39:42Z", "commit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af198912c45ea0117387461dfec860c83137fe40", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/af198912c45ea0117387461dfec860c83137fe40", "committedDate": "2020-01-28T16:42:11Z", "message": "CCDM: compute correctly DeploymentConfiguration V14Bootstrap flag when multiple instances"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/87f2cb6675f0dd3e4c56a85b2b2d2b3114706dde", "committedDate": "2020-01-28T10:30:11Z", "message": "CCDM: compute correctly DeploymentConfiguration V14Bootstrap flag when multiple instances"}, "afterCommit": {"oid": "af198912c45ea0117387461dfec860c83137fe40", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/af198912c45ea0117387461dfec860c83137fe40", "committedDate": "2020-01-28T16:42:11Z", "message": "CCDM: compute correctly DeploymentConfiguration V14Bootstrap flag when multiple instances"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5NTQ1NzQ1", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349545745", "createdAt": "2020-01-28T17:02:31Z", "commit": {"oid": "af198912c45ea0117387461dfec860c83137fe40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5NTQ4Njk4", "url": "https://github.com/vaadin/flow/pull/7433#pullrequestreview-349548698", "createdAt": "2020-01-28T17:06:34Z", "commit": {"oid": "af198912c45ea0117387461dfec860c83137fe40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 751, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}