{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyODUwMzI1", "number": 8990, "title": "Show webpack error on live reload of frontend resources", "bodyText": "Instead of sending using a separate async message for identifying frontend reloads, use the webpack output parser in DevModeHandler. This ensures that the webpack error shown is up-to-date when live reload triggers (avoiding the race #8965). It also simplifies the implementation.\nFixes #8965. Fixes #8960.", "createdAt": "2020-09-09T13:36:07Z", "url": "https://github.com/vaadin/flow/pull/8990", "merged": true, "mergeCommit": {"oid": "a177b6462afb2fbf3b65ff61124ba087f5fec166"}, "closed": true, "closedAt": "2020-09-10T16:47:52Z", "author": {"login": "joheriks"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHKzqTgH2gAyNDgyODUwMzI1OmU1NDFmMWIxZGYxZTBmYjAxOTc0MjgwOGFiNzlkMDE4OTI5NDhjNWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHfLW1AFqTQ4NTgzODcwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e541f1b1df1e0fb019742808ab79d01892948c5f", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/e541f1b1df1e0fb019742808ab79d01892948c5f", "committedDate": "2020-09-09T11:50:11Z", "message": "Live-reload: identify recompile using webpack console output instead of a separate async message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82b45f9d02f8fcbcbeb5915a56d204c326ce2a58", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/82b45f9d02f8fcbcbeb5915a56d204c326ce2a58", "committedDate": "2020-09-09T15:00:00Z", "message": "IT for live reload and webpack error box"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d11d41c0ee615eda9f0a230a3585b039c5d99264", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/d11d41c0ee615eda9f0a230a3585b039c5d99264", "committedDate": "2020-09-09T13:30:05Z", "message": "IT for live reload and webpack error box"}, "afterCommit": {"oid": "82b45f9d02f8fcbcbeb5915a56d204c326ce2a58", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/82b45f9d02f8fcbcbeb5915a56d204c326ce2a58", "committedDate": "2020-09-09T15:00:00Z", "message": "IT for live reload and webpack error box"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NjUzMDc4", "url": "https://github.com/vaadin/flow/pull/8990#pullrequestreview-485653078", "createdAt": "2020-09-10T07:28:44Z", "commit": {"oid": "82b45f9d02f8fcbcbeb5915a56d204c326ce2a58"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwNzoyODo0NVrOHPmosA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwNzozMDo0OFrOHPmtSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEyMzY5Ng==", "bodyText": "Should we close the ticket about refactoring watchdog + live reload now ?\nI would open another one (or modify the existing one) to refactor dev mode handler to avoid refer directly to live reload because of exactly the same reason: dev mode handler should not know anything about extra functionality.\nLive reload should be just one of derefenced SPI which is triggered on every reload.", "url": "https://github.com/vaadin/flow/pull/8990#discussion_r486123696", "createdAt": "2020-09-10T07:28:45Z", "author": {"login": "denis-anisimov"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/DevServerWatchDog.java", "diffHunk": "@@ -84,21 +78,6 @@ void stop() {\n         private Logger getLogger() {\n             return LoggerFactory.getLogger(WatchDogServer.class);\n         }\n-\n-        private void enterReloadMessageReadLoop(Socket accept) throws IOException{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82b45f9d02f8fcbcbeb5915a56d204c326ce2a58"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEyNDg3Mg==", "bodyText": "Is it needed ?\nI think Apache io library should contain something which just writes the file.\nOr Java Files.write", "url": "https://github.com/vaadin/flow/pull/8990#discussion_r486124872", "createdAt": "2020-09-10T07:30:48Z", "author": {"login": "denis-anisimov"}, "path": "flow-tests/test-live-reload/src/main/java/com/vaadin/flow/uitest/ui/FrontendTestUtil.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package com.vaadin.flow.uitest.ui;\n+\n+import java.io.BufferedWriter;\n+import java.io.File;\n+import java.io.FileWriter;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+\n+import com.vaadin.flow.server.VaadinService;\n+import com.vaadin.flow.server.frontend.FrontendUtils;\n+\n+public class FrontendTestUtil {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82b45f9d02f8fcbcbeb5915a56d204c326ce2a58"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e8da0b664f792093ab00b2458612ec04a21c7fe", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/1e8da0b664f792093ab00b2458612ec04a21c7fe", "committedDate": "2020-09-10T11:23:28Z", "message": "Removed extra class, use apache FileUtils"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1ODM4NzA3", "url": "https://github.com/vaadin/flow/pull/8990#pullrequestreview-485838707", "createdAt": "2020-09-10T11:34:10Z", "commit": {"oid": "1e8da0b664f792093ab00b2458612ec04a21c7fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 164, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}