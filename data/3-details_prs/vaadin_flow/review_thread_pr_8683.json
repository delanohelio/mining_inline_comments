{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNzY0NzA4", "number": 8683, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNjowNToxOFrOELIiyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNjowNToxOFrOELIiyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMTA5NzY5OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/resources/META-INF/resources/frontend/form/Binder.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNjowNToxOFrOGsks8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMDo1Mjo0OVrOGssiqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM5MTg1OQ==", "bodyText": "It looks like the defaultValue setter is going to be called twice: once at this.defaultValue = this[emptyValueSymbol], and then second time at this.reset() -> this.defaultValue = this[defaultValueSymbol]. Is this intentional?", "url": "https://github.com/vaadin/flow/pull/8683#discussion_r449391859", "createdAt": "2020-07-03T06:05:18Z", "author": {"login": "vlukashov"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/form/Binder.ts", "diffHunk": "@@ -78,15 +83,14 @@ export class Binder<T, M extends AbstractModel<T>> extends BinderNode<T, M> {\n     this.updateValidation();\n   }\n \n-  reset(defaultValue?: T) {\n-    if (defaultValue !== undefined) {\n-      this.defaultValue = defaultValue;\n-    }\n+  reset(defaultValue: T = this[defaultValueSymbol]) {\n+    this.defaultValue = defaultValue;\n     this.value = this.defaultValue;\n   }\n \n   clear() {\n-    this.value = this[emptyValueSymbol];\n+    this.defaultValue = this[emptyValueSymbol];\n+    this.reset();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b7faa7463d92b15f0ba89a2cfb3bcbd39e294d6"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTUyMDI5Nw==", "bodyText": "Not intentional, removed.", "url": "https://github.com/vaadin/flow/pull/8683#discussion_r449520297", "createdAt": "2020-07-03T10:52:49Z", "author": {"login": "platosha"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/form/Binder.ts", "diffHunk": "@@ -78,15 +83,14 @@ export class Binder<T, M extends AbstractModel<T>> extends BinderNode<T, M> {\n     this.updateValidation();\n   }\n \n-  reset(defaultValue?: T) {\n-    if (defaultValue !== undefined) {\n-      this.defaultValue = defaultValue;\n-    }\n+  reset(defaultValue: T = this[defaultValueSymbol]) {\n+    this.defaultValue = defaultValue;\n     this.value = this.defaultValue;\n   }\n \n   clear() {\n-    this.value = this[emptyValueSymbol];\n+    this.defaultValue = this[emptyValueSymbol];\n+    this.reset();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM5MTg1OQ=="}, "originalCommit": {"oid": "1b7faa7463d92b15f0ba89a2cfb3bcbd39e294d6"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3351, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}