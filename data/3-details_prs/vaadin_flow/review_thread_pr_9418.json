{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyMjA1MDg2", "number": 9418, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwODo0MToxOFrOE56FMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDo1MDoyN1rOE8KXvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTU1ODg4OnYy", "diffSide": "RIGHT", "path": "flow-tests/test-themes/frontend/my-field.js", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwODo0MToxOFrOH0p8hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNzoxMzowN1rOH1AEYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk3NTIzNw==", "bodyText": "Would it be good to add a test for lit template as well because it replaces polymer in the future?", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r524975237", "createdAt": "2020-11-17T08:41:18Z", "author": {"login": "knoobie"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">\n+  <template>\n+    <style include=\"lumo-required-field lumo-field-button\">\n+      :host {\n+        --lumo-text-field-size: var(--lumo-size-m);\n+        color: var(--lumo-body-text-color);\n+        font-size: var(--lumo-font-size-m);\n+        font-family: var(--lumo-font-family);\n+        -webkit-font-smoothing: antialiased;\n+        -moz-osx-font-smoothing: grayscale;\n+        -webkit-tap-highlight-color: transparent;\n+        padding: var(--lumo-space-xs) 0;\n+        display: inline-flex;\n+        outline: none;\n+      }\n+\n+      :host::before {\n+        height: var(--lumo-text-field-size);\n+        box-sizing: border-box;\n+        display: inline-flex;\n+        align-items: center;\n+        content: \"\\\\2003\";\n+        width: 0;\n+        display: inline-block;\n+        /* Size and position this element on the same vertical position as the input-field element\n+           to make vertical align for the host element work as expected */\n+      }\n+\n+      :host([focused]:not([readonly])) [part=\"label\"] {\n+        color: var(--lumo-primary-text-color);\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        cursor: inherit;\n+        min-height: var(--lumo-text-field-size);\n+        padding: 0 0.25em;\n+        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n+        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n+      }\n+\n+      [part=\"value\"]:focus,\n+      :host([focused]) [part=\"input-field\"] ::slotted(input),\n+      :host([focused]) [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-mask-image: none;\n+        mask-image: none;\n+      }\n+\n+      [part=\"input-field\"] {\n+        border-radius: var(--lumo-border-radius);\n+        background-color: var(--lumo-contrast-10pct);\n+        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n+        font-weight: 500;\n+        line-height: 1;\n+        position: relative;\n+        cursor: text;\n+        box-sizing: border-box;\n+      }\n+\n+      /* Used for hover and activation effects */\n+      [part=\"input-field\"]::after {\n+        content: \"\";\n+        position: absolute;\n+        top: 0;\n+        right: 0;\n+        bottom: 0;\n+        left: 0;\n+        border-radius: inherit;\n+        pointer-events: none;\n+        background-color: var(--lumo-contrast-50pct);\n+        opacity: 0;\n+        transition: transform 0.15s, opacity 0.2s;\n+        transform-origin: 100% 0;\n+      }\n+      \n+      /* Slotted content */\n+\n+      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n+        color: var(--lumo-secondary-text-color);\n+        font-weight: 400;\n+      }\n+      \n+      .my-field-container {\n+        display: flex;\n+        flex-direction: column;\n+        min-width: 100%;\n+        max-width: 100%;\n+        width: var(--vaadin-text-field-default-width, 12em);\n+      }\n+\n+      [part=\"input-field\"] {\n+        display: flex;\n+        align-items: center;\n+        flex: auto;\n+      }\n+\n+      .my-field-container [part=\"input-field\"] {\n+        flex-grow: 0;\n+      }\n+\n+      /* Reset the native input styles */\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-appearance: none;\n+        -moz-appearance: none;\n+        outline: none;\n+        margin: 0;\n+        padding: 0;\n+        border: 0;\n+        border-radius: 0;\n+        min-width: 0;\n+        font: inherit;\n+        font-size: 1em;\n+        line-height: normal;\n+        color: inherit;\n+        background-color: transparent;\n+        /* Disable default invalid style in Firefox */\n+        box-shadow: none;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(*) {\n+        flex: none;\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        flex: auto;\n+        white-space: nowrap;\n+        overflow: hidden;\n+        width: 100%;\n+        height: 100%;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        resize: none;\n+      }\n+\n+      [part=\"value\"]::-ms-clear,\n+      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n+        display: none;\n+      }\n+    </style>\n+  </template>\n+</dom-module>`;\n+\n+document.head.appendChild($_documentContainer.content);\n+\n+import { PolymerElement } from '@polymer/polymer/polymer-element.js';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 181}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNjgyOA==", "bodyText": "It would, but I don't know how the theme handles in LIT.\n@jouni would you have a simple component sample for Lumo on LIT?", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525026828", "createdAt": "2020-11-17T09:58:43Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">\n+  <template>\n+    <style include=\"lumo-required-field lumo-field-button\">\n+      :host {\n+        --lumo-text-field-size: var(--lumo-size-m);\n+        color: var(--lumo-body-text-color);\n+        font-size: var(--lumo-font-size-m);\n+        font-family: var(--lumo-font-family);\n+        -webkit-font-smoothing: antialiased;\n+        -moz-osx-font-smoothing: grayscale;\n+        -webkit-tap-highlight-color: transparent;\n+        padding: var(--lumo-space-xs) 0;\n+        display: inline-flex;\n+        outline: none;\n+      }\n+\n+      :host::before {\n+        height: var(--lumo-text-field-size);\n+        box-sizing: border-box;\n+        display: inline-flex;\n+        align-items: center;\n+        content: \"\\\\2003\";\n+        width: 0;\n+        display: inline-block;\n+        /* Size and position this element on the same vertical position as the input-field element\n+           to make vertical align for the host element work as expected */\n+      }\n+\n+      :host([focused]:not([readonly])) [part=\"label\"] {\n+        color: var(--lumo-primary-text-color);\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        cursor: inherit;\n+        min-height: var(--lumo-text-field-size);\n+        padding: 0 0.25em;\n+        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n+        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n+      }\n+\n+      [part=\"value\"]:focus,\n+      :host([focused]) [part=\"input-field\"] ::slotted(input),\n+      :host([focused]) [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-mask-image: none;\n+        mask-image: none;\n+      }\n+\n+      [part=\"input-field\"] {\n+        border-radius: var(--lumo-border-radius);\n+        background-color: var(--lumo-contrast-10pct);\n+        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n+        font-weight: 500;\n+        line-height: 1;\n+        position: relative;\n+        cursor: text;\n+        box-sizing: border-box;\n+      }\n+\n+      /* Used for hover and activation effects */\n+      [part=\"input-field\"]::after {\n+        content: \"\";\n+        position: absolute;\n+        top: 0;\n+        right: 0;\n+        bottom: 0;\n+        left: 0;\n+        border-radius: inherit;\n+        pointer-events: none;\n+        background-color: var(--lumo-contrast-50pct);\n+        opacity: 0;\n+        transition: transform 0.15s, opacity 0.2s;\n+        transform-origin: 100% 0;\n+      }\n+      \n+      /* Slotted content */\n+\n+      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n+        color: var(--lumo-secondary-text-color);\n+        font-weight: 400;\n+      }\n+      \n+      .my-field-container {\n+        display: flex;\n+        flex-direction: column;\n+        min-width: 100%;\n+        max-width: 100%;\n+        width: var(--vaadin-text-field-default-width, 12em);\n+      }\n+\n+      [part=\"input-field\"] {\n+        display: flex;\n+        align-items: center;\n+        flex: auto;\n+      }\n+\n+      .my-field-container [part=\"input-field\"] {\n+        flex-grow: 0;\n+      }\n+\n+      /* Reset the native input styles */\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-appearance: none;\n+        -moz-appearance: none;\n+        outline: none;\n+        margin: 0;\n+        padding: 0;\n+        border: 0;\n+        border-radius: 0;\n+        min-width: 0;\n+        font: inherit;\n+        font-size: 1em;\n+        line-height: normal;\n+        color: inherit;\n+        background-color: transparent;\n+        /* Disable default invalid style in Firefox */\n+        box-shadow: none;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(*) {\n+        flex: none;\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        flex: auto;\n+        white-space: nowrap;\n+        overflow: hidden;\n+        width: 100%;\n+        height: 100%;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        resize: none;\n+      }\n+\n+      [part=\"value\"]::-ms-clear,\n+      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n+        display: none;\n+      }\n+    </style>\n+  </template>\n+</dom-module>`;\n+\n+document.head.appendChild($_documentContainer.content);\n+\n+import { PolymerElement } from '@polymer/polymer/polymer-element.js';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk3NTIzNw=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 181}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MTg1MQ==", "bodyText": "Not sure what you mean by that. In any case, we should avoid using the <dom-module> element, and prefer using the official registerStyles method of injecting styles to component shadow roots: https://vaadin.com/docs/v14/themes/importing-style-sheets.html#component-styles\nIf the question is about ThemableMixin and LitElement, or how to the global Lumo style sheets, @web-padawan is the best to answer those questions.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525151851", "createdAt": "2020-11-17T13:28:22Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">\n+  <template>\n+    <style include=\"lumo-required-field lumo-field-button\">\n+      :host {\n+        --lumo-text-field-size: var(--lumo-size-m);\n+        color: var(--lumo-body-text-color);\n+        font-size: var(--lumo-font-size-m);\n+        font-family: var(--lumo-font-family);\n+        -webkit-font-smoothing: antialiased;\n+        -moz-osx-font-smoothing: grayscale;\n+        -webkit-tap-highlight-color: transparent;\n+        padding: var(--lumo-space-xs) 0;\n+        display: inline-flex;\n+        outline: none;\n+      }\n+\n+      :host::before {\n+        height: var(--lumo-text-field-size);\n+        box-sizing: border-box;\n+        display: inline-flex;\n+        align-items: center;\n+        content: \"\\\\2003\";\n+        width: 0;\n+        display: inline-block;\n+        /* Size and position this element on the same vertical position as the input-field element\n+           to make vertical align for the host element work as expected */\n+      }\n+\n+      :host([focused]:not([readonly])) [part=\"label\"] {\n+        color: var(--lumo-primary-text-color);\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        cursor: inherit;\n+        min-height: var(--lumo-text-field-size);\n+        padding: 0 0.25em;\n+        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n+        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n+      }\n+\n+      [part=\"value\"]:focus,\n+      :host([focused]) [part=\"input-field\"] ::slotted(input),\n+      :host([focused]) [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-mask-image: none;\n+        mask-image: none;\n+      }\n+\n+      [part=\"input-field\"] {\n+        border-radius: var(--lumo-border-radius);\n+        background-color: var(--lumo-contrast-10pct);\n+        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n+        font-weight: 500;\n+        line-height: 1;\n+        position: relative;\n+        cursor: text;\n+        box-sizing: border-box;\n+      }\n+\n+      /* Used for hover and activation effects */\n+      [part=\"input-field\"]::after {\n+        content: \"\";\n+        position: absolute;\n+        top: 0;\n+        right: 0;\n+        bottom: 0;\n+        left: 0;\n+        border-radius: inherit;\n+        pointer-events: none;\n+        background-color: var(--lumo-contrast-50pct);\n+        opacity: 0;\n+        transition: transform 0.15s, opacity 0.2s;\n+        transform-origin: 100% 0;\n+      }\n+      \n+      /* Slotted content */\n+\n+      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n+        color: var(--lumo-secondary-text-color);\n+        font-weight: 400;\n+      }\n+      \n+      .my-field-container {\n+        display: flex;\n+        flex-direction: column;\n+        min-width: 100%;\n+        max-width: 100%;\n+        width: var(--vaadin-text-field-default-width, 12em);\n+      }\n+\n+      [part=\"input-field\"] {\n+        display: flex;\n+        align-items: center;\n+        flex: auto;\n+      }\n+\n+      .my-field-container [part=\"input-field\"] {\n+        flex-grow: 0;\n+      }\n+\n+      /* Reset the native input styles */\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-appearance: none;\n+        -moz-appearance: none;\n+        outline: none;\n+        margin: 0;\n+        padding: 0;\n+        border: 0;\n+        border-radius: 0;\n+        min-width: 0;\n+        font: inherit;\n+        font-size: 1em;\n+        line-height: normal;\n+        color: inherit;\n+        background-color: transparent;\n+        /* Disable default invalid style in Firefox */\n+        box-shadow: none;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(*) {\n+        flex: none;\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        flex: auto;\n+        white-space: nowrap;\n+        overflow: hidden;\n+        width: 100%;\n+        height: 100%;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        resize: none;\n+      }\n+\n+      [part=\"value\"]::-ms-clear,\n+      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n+        display: none;\n+      }\n+    </style>\n+  </template>\n+</dom-module>`;\n+\n+document.head.appendChild($_documentContainer.content);\n+\n+import { PolymerElement } from '@polymer/polymer/polymer-element.js';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk3NTIzNw=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 181}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI4Mjk5MA==", "bodyText": "The main question is how will the lit components and their theming work as compared to the polymer version.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525282990", "createdAt": "2020-11-17T16:06:20Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">\n+  <template>\n+    <style include=\"lumo-required-field lumo-field-button\">\n+      :host {\n+        --lumo-text-field-size: var(--lumo-size-m);\n+        color: var(--lumo-body-text-color);\n+        font-size: var(--lumo-font-size-m);\n+        font-family: var(--lumo-font-family);\n+        -webkit-font-smoothing: antialiased;\n+        -moz-osx-font-smoothing: grayscale;\n+        -webkit-tap-highlight-color: transparent;\n+        padding: var(--lumo-space-xs) 0;\n+        display: inline-flex;\n+        outline: none;\n+      }\n+\n+      :host::before {\n+        height: var(--lumo-text-field-size);\n+        box-sizing: border-box;\n+        display: inline-flex;\n+        align-items: center;\n+        content: \"\\\\2003\";\n+        width: 0;\n+        display: inline-block;\n+        /* Size and position this element on the same vertical position as the input-field element\n+           to make vertical align for the host element work as expected */\n+      }\n+\n+      :host([focused]:not([readonly])) [part=\"label\"] {\n+        color: var(--lumo-primary-text-color);\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        cursor: inherit;\n+        min-height: var(--lumo-text-field-size);\n+        padding: 0 0.25em;\n+        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n+        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n+      }\n+\n+      [part=\"value\"]:focus,\n+      :host([focused]) [part=\"input-field\"] ::slotted(input),\n+      :host([focused]) [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-mask-image: none;\n+        mask-image: none;\n+      }\n+\n+      [part=\"input-field\"] {\n+        border-radius: var(--lumo-border-radius);\n+        background-color: var(--lumo-contrast-10pct);\n+        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n+        font-weight: 500;\n+        line-height: 1;\n+        position: relative;\n+        cursor: text;\n+        box-sizing: border-box;\n+      }\n+\n+      /* Used for hover and activation effects */\n+      [part=\"input-field\"]::after {\n+        content: \"\";\n+        position: absolute;\n+        top: 0;\n+        right: 0;\n+        bottom: 0;\n+        left: 0;\n+        border-radius: inherit;\n+        pointer-events: none;\n+        background-color: var(--lumo-contrast-50pct);\n+        opacity: 0;\n+        transition: transform 0.15s, opacity 0.2s;\n+        transform-origin: 100% 0;\n+      }\n+      \n+      /* Slotted content */\n+\n+      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n+        color: var(--lumo-secondary-text-color);\n+        font-weight: 400;\n+      }\n+      \n+      .my-field-container {\n+        display: flex;\n+        flex-direction: column;\n+        min-width: 100%;\n+        max-width: 100%;\n+        width: var(--vaadin-text-field-default-width, 12em);\n+      }\n+\n+      [part=\"input-field\"] {\n+        display: flex;\n+        align-items: center;\n+        flex: auto;\n+      }\n+\n+      .my-field-container [part=\"input-field\"] {\n+        flex-grow: 0;\n+      }\n+\n+      /* Reset the native input styles */\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-appearance: none;\n+        -moz-appearance: none;\n+        outline: none;\n+        margin: 0;\n+        padding: 0;\n+        border: 0;\n+        border-radius: 0;\n+        min-width: 0;\n+        font: inherit;\n+        font-size: 1em;\n+        line-height: normal;\n+        color: inherit;\n+        background-color: transparent;\n+        /* Disable default invalid style in Firefox */\n+        box-shadow: none;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(*) {\n+        flex: none;\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        flex: auto;\n+        white-space: nowrap;\n+        overflow: hidden;\n+        width: 100%;\n+        height: 100%;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        resize: none;\n+      }\n+\n+      [part=\"value\"]::-ms-clear,\n+      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n+        display: none;\n+      }\n+    </style>\n+  </template>\n+</dom-module>`;\n+\n+document.head.appendChild($_documentContainer.content);\n+\n+import { PolymerElement } from '@polymer/polymer/polymer-element.js';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk3NTIzNw=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 181}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMzNzY5Ng==", "bodyText": "Right. They will support registerStyles, but not <dom-module> (AFAIK).", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525337696", "createdAt": "2020-11-17T17:13:07Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">\n+  <template>\n+    <style include=\"lumo-required-field lumo-field-button\">\n+      :host {\n+        --lumo-text-field-size: var(--lumo-size-m);\n+        color: var(--lumo-body-text-color);\n+        font-size: var(--lumo-font-size-m);\n+        font-family: var(--lumo-font-family);\n+        -webkit-font-smoothing: antialiased;\n+        -moz-osx-font-smoothing: grayscale;\n+        -webkit-tap-highlight-color: transparent;\n+        padding: var(--lumo-space-xs) 0;\n+        display: inline-flex;\n+        outline: none;\n+      }\n+\n+      :host::before {\n+        height: var(--lumo-text-field-size);\n+        box-sizing: border-box;\n+        display: inline-flex;\n+        align-items: center;\n+        content: \"\\\\2003\";\n+        width: 0;\n+        display: inline-block;\n+        /* Size and position this element on the same vertical position as the input-field element\n+           to make vertical align for the host element work as expected */\n+      }\n+\n+      :host([focused]:not([readonly])) [part=\"label\"] {\n+        color: var(--lumo-primary-text-color);\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        cursor: inherit;\n+        min-height: var(--lumo-text-field-size);\n+        padding: 0 0.25em;\n+        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n+        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n+      }\n+\n+      [part=\"value\"]:focus,\n+      :host([focused]) [part=\"input-field\"] ::slotted(input),\n+      :host([focused]) [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-mask-image: none;\n+        mask-image: none;\n+      }\n+\n+      [part=\"input-field\"] {\n+        border-radius: var(--lumo-border-radius);\n+        background-color: var(--lumo-contrast-10pct);\n+        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n+        font-weight: 500;\n+        line-height: 1;\n+        position: relative;\n+        cursor: text;\n+        box-sizing: border-box;\n+      }\n+\n+      /* Used for hover and activation effects */\n+      [part=\"input-field\"]::after {\n+        content: \"\";\n+        position: absolute;\n+        top: 0;\n+        right: 0;\n+        bottom: 0;\n+        left: 0;\n+        border-radius: inherit;\n+        pointer-events: none;\n+        background-color: var(--lumo-contrast-50pct);\n+        opacity: 0;\n+        transition: transform 0.15s, opacity 0.2s;\n+        transform-origin: 100% 0;\n+      }\n+      \n+      /* Slotted content */\n+\n+      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n+        color: var(--lumo-secondary-text-color);\n+        font-weight: 400;\n+      }\n+      \n+      .my-field-container {\n+        display: flex;\n+        flex-direction: column;\n+        min-width: 100%;\n+        max-width: 100%;\n+        width: var(--vaadin-text-field-default-width, 12em);\n+      }\n+\n+      [part=\"input-field\"] {\n+        display: flex;\n+        align-items: center;\n+        flex: auto;\n+      }\n+\n+      .my-field-container [part=\"input-field\"] {\n+        flex-grow: 0;\n+      }\n+\n+      /* Reset the native input styles */\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        -webkit-appearance: none;\n+        -moz-appearance: none;\n+        outline: none;\n+        margin: 0;\n+        padding: 0;\n+        border: 0;\n+        border-radius: 0;\n+        min-width: 0;\n+        font: inherit;\n+        font-size: 1em;\n+        line-height: normal;\n+        color: inherit;\n+        background-color: transparent;\n+        /* Disable default invalid style in Firefox */\n+        box-shadow: none;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(*) {\n+        flex: none;\n+      }\n+\n+      [part=\"value\"],\n+      [part=\"input-field\"] ::slotted(input),\n+      [part=\"input-field\"] ::slotted(textarea),\n+      /* Slotted by vaadin-select-text-field */\n+      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n+        flex: auto;\n+        white-space: nowrap;\n+        overflow: hidden;\n+        width: 100%;\n+        height: 100%;\n+      }\n+\n+      [part=\"input-field\"] ::slotted(textarea) {\n+        resize: none;\n+      }\n+\n+      [part=\"value\"]::-ms-clear,\n+      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n+        display: none;\n+      }\n+    </style>\n+  </template>\n+</dom-module>`;\n+\n+document.head.appendChild($_documentContainer.content);\n+\n+import { PolymerElement } from '@polymer/polymer/polymer-element.js';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk3NTIzNw=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 181}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MjY5NDE1OnYy", "diffSide": "RIGHT", "path": "flow-tests/test-themes/frontend/my-field.js", "isResolved": true, "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMzoyOToyN1rOH00xPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMDozNDowMVrOH1nSAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg==", "bodyText": "Not sure if this is intentional, but it will conflict with the official Vaadin Text Field component style sheet, if both are imported to the same app. Prefer using unique IDs instead.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">\n          \n          \n            \n            const $_documentContainer = html`<dom-module id=\"my-text-field\" theme-for=\"my-field\">", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525152572", "createdAt": "2020-11-17T13:29:27Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MzA5OA==", "bodyText": "Note, that if we change to using registerStyles (see other thread), this is no longer relevant (no ID necessary).", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525153098", "createdAt": "2020-11-17T13:30:15Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI4MjI0Nw==", "bodyText": "This component is just here for testing purposes as we don't want Flow to depend on the components so its basically a ripped copy of the textField.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525282247", "createdAt": "2020-11-17T16:05:24Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMzODYxNw==", "bodyText": "I would still change it to use registerStyles, to future-proof it if this test is ever converted to using LitElement instead of PolymerElement.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525338617", "createdAt": "2020-11-17T17:14:12Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTgxNzEzNQ==", "bodyText": "Do we already have a component implementation using registerStyles internally?\nAs this should test that the feature works with the components.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525817135", "createdAt": "2020-11-18T05:04:59Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg4OTI1NQ==", "bodyText": "@caalador https://github.com/vaadin/vaadin-app-layout uses registerStyles for example in the branch next", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525889255", "createdAt": "2020-11-18T08:14:45Z", "author": {"login": "knoobie"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTkyMDY4NA==", "bodyText": "The big question is just that should we use here in the test something that we do not use in the actual version where the feature is coming out?", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525920684", "createdAt": "2020-11-18T09:05:39Z", "author": {"login": "caalador"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk1NTE5OQ==", "bodyText": "I'm the wrong person to decide that ;) Just wanted to make sure, that theming is tested with both worlds because lit element is planned for V14.5 and V18.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525955199", "createdAt": "2020-11-18T09:56:50Z", "author": {"login": "knoobie"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk3OTMxNA==", "bodyText": "registerStyles is an officially supported part of the API already in 14.x series. All components support it.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525979314", "createdAt": "2020-11-18T10:32:42Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk4MDE2MQ==", "bodyText": "The implementation of our components for 14.x is still Polymer 2 based (because of the need to support Bower-mode), and the automatic conversion to Polymer 3 generates the uglier version of the style modules, which is used here as well ($_documentContainer = ...).", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r525980161", "createdAt": "2020-11-18T10:34:01Z", "author": {"login": "jouni"}, "path": "flow-tests/test-themes/frontend/my-field.js", "diffHunk": "@@ -0,0 +1,210 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import '@vaadin/vaadin-lumo-styles/color.js';\n+import '@vaadin/vaadin-lumo-styles/sizing.js';\n+import '@vaadin/vaadin-lumo-styles/spacing.js';\n+import '@vaadin/vaadin-lumo-styles/style.js';\n+import '@vaadin/vaadin-lumo-styles/typography.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\n+import '@vaadin/vaadin-lumo-styles/font-icons.js';\n+import '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\n+import { html } from '@polymer/polymer/lib/utils/html-tag.js';\n+\n+const $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"my-field\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MjU3Mg=="}, "originalCommit": {"oid": "a590753c5bc760eb7f89de66e02b311b92fe10c4"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNTE5OTMzOnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-generator.js", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDo1MDoyN1rOH4IHTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMToxMzoxNlrOH4I4VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYxNTI0NA==", "bodyText": "While not entirely connected to this PR, we should probably document this thing a bit, as it is quite unclear what does this applyTheme do and when it is used. At least when just reading the code again after I while, it makes me go wat, what is this for and why ...", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r528615244", "createdAt": "2020-11-23T10:50:27Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-generator.js", "diffHunk": "@@ -77,6 +107,10 @@ function generateThemeFile(themeFolder, themeName) {\n     ${globalCssCode.join('')}\n     target['${globalCssFlag}'] = true;\n   }\n+  if (!document['${componentCssFlag}']) {\n+    ${componentCssCode.join('')}\n+    document['${componentCssFlag}'] = true;\n+  }\n }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fcd20872effb2377147390c32502f2099a4d1f2"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYyNzc5Ng==", "bodyText": "added some comment as there was need to merge and do conflict resolution.", "url": "https://github.com/vaadin/flow/pull/9418#discussion_r528627796", "createdAt": "2020-11-23T11:13:16Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-generator.js", "diffHunk": "@@ -77,6 +107,10 @@ function generateThemeFile(themeFolder, themeName) {\n     ${globalCssCode.join('')}\n     target['${globalCssFlag}'] = true;\n   }\n+  if (!document['${componentCssFlag}']) {\n+    ${componentCssCode.join('')}\n+    document['${componentCssFlag}'] = true;\n+  }\n }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYxNTI0NA=="}, "originalCommit": {"oid": "2fcd20872effb2377147390c32502f2099a4d1f2"}, "originalPosition": 68}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3041, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}