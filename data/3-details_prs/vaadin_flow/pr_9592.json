{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzOTI0MTY5", "number": 9592, "title": "feat: allow endpoints to work on non-public classes", "bodyText": "Fix sets accessible all public methods of endpoint which allows to call them even if class is not public.\nChecked with Oracle documentation that fix supports java 12 (there was a doubt that it's not)\nhttps://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/reflect/AccessibleObject.html\nFixes #8168", "createdAt": "2020-12-07T20:20:27Z", "url": "https://github.com/vaadin/flow/pull/9592", "merged": true, "mergeCommit": {"oid": "4e3992a17ae4fe9b65810fc7cc4eae8c8bac2ac8"}, "closed": true, "closedAt": "2020-12-16T18:07:44Z", "author": {"login": "tdq"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj7YiTgH2gAyNTMzOTI0MTY5OmI1YmVmZjkyYTlmYThjNzUzZWFmZWE2MDhmZmVjMTMzYzM5OTAxZDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmy8VrgFqTU1Mzk1MjQ3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b5beff92a9fa8c753eafea608ffec133c39901d3", "author": {"user": {"login": "NikolaiGorokhov", "name": null}}, "url": "https://github.com/vaadin/flow/commit/b5beff92a9fa8c753eafea608ffec133c39901d3", "committedDate": "2020-12-07T20:15:47Z", "message": "Allow endpoints to work on non-public classes.\nFixes #8168"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MzAxMzg5", "url": "https://github.com/vaadin/flow/pull/9592#pullrequestreview-549301389", "createdAt": "2020-12-10T15:16:53Z", "commit": {"oid": "b5beff92a9fa8c753eafea608ffec133c39901d3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNToxNjo1M1rOIDOWEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNToxNjo1M1rOIDOWEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI1MTY2Ng==", "bodyText": "This does set the accessible override flag on all public methods in the class, including those inherited from Object (wait, toString, ...) even though these are from being exposed as endpoints later on. Seems it would be safer to flag only the methods that can actually be called as endpoints.", "url": "https://github.com/vaadin/flow/pull/9592#discussion_r540251666", "createdAt": "2020-12-10T15:16:53Z", "author": {"login": "joheriks"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/connect/VaadinConnectController.java", "diffHunk": "@@ -221,8 +222,11 @@ void validateEndpointBean(EndpointNameChecker endpointNameChecker,\n                             endpointName, validationError));\n         }\n \n+        Method[] endpointPublicMethods = beanType.getMethods();\n+        AccessibleObject.setAccessible(endpointPublicMethods, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5beff92a9fa8c753eafea608ffec133c39901d3"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NjMzNDAw", "url": "https://github.com/vaadin/flow/pull/9592#pullrequestreview-549633400", "createdAt": "2020-12-10T21:53:17Z", "commit": {"oid": "b5beff92a9fa8c753eafea608ffec133c39901d3"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5ODk1Mjg2", "url": "https://github.com/vaadin/flow/pull/9592#pullrequestreview-549895286", "createdAt": "2020-12-11T08:37:02Z", "commit": {"oid": "b5beff92a9fa8c753eafea608ffec133c39901d3"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fa2e9f970d7df797c0c5a44b1246f71fe0f38e6", "author": {"user": {"login": "NikolaiGorokhov", "name": null}}, "url": "https://github.com/vaadin/flow/commit/1fa2e9f970d7df797c0c5a44b1246f71fe0f38e6", "committedDate": "2020-12-13T16:58:00Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2650b7811b0c1110491065ebe455a11b5b103cb9", "author": {"user": {"login": "haijian-vaadin", "name": "Haijian Wang"}}, "url": "https://github.com/vaadin/flow/commit/2650b7811b0c1110491065ebe455a11b5b103cb9", "committedDate": "2020-12-16T10:52:19Z", "message": "move testing endpoint class to fusion-endpoint module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3b50c865c2f219f5c662298d70a25d9caeabde6", "author": {"user": {"login": "haijian-vaadin", "name": "Haijian Wang"}}, "url": "https://github.com/vaadin/flow/commit/a3b50c865c2f219f5c662298d70a25d9caeabde6", "committedDate": "2020-12-16T17:07:18Z", "message": "Merge branch 'master' of https://github.com/vaadin/flow"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzOTUyNDcw", "url": "https://github.com/vaadin/flow/pull/9592#pullrequestreview-553952470", "createdAt": "2020-12-16T18:07:31Z", "commit": {"oid": "a3b50c865c2f219f5c662298d70a25d9caeabde6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4643, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}