{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0MzA3NTY2", "number": 7908, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0MlrODr38GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMzozOToyNVrODtHSbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzMxODY0OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0MlrOF8eYxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0MlrOF8eYxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1Njc0MA==", "bodyText": "Remove this use of \"getMinutes\"; it is deprecated.", "url": "https://github.com/vaadin/flow/pull/7908#discussion_r398956740", "createdAt": "2020-03-26T23:44:42Z", "author": {"login": "vaadin-bot"}, "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -187,6 +195,40 @@ private Element getOrCreateIndicator() {\n         return reloadIndicator;\n     }\n \n+    private Element getOrCreateReloadNotification() {\n+        Element reloadNotificationElement = Browser.getDocument()\n+                .getElementById(\"vaadin-live-reload-notification\");\n+        if (reloadNotificationElement == null) {\n+            reloadNotificationElement = Browser.getDocument()\n+                    .createElement(\"div\");\n+            reloadNotificationElement.setId(\"vaadin-live-reload-notification\");\n+            Element message = Browser.getDocument().createElement(\"span\");\n+            message.setId(\"vaadin-live-reload-timestamp\");\n+            message.setInnerText(LAST_RELOAD_TEXT + getLastReloadInStorage());\n+            reloadNotificationElement.appendChild(message);\n+            Element liveReloadOverlay = Browser.getDocument()\n+                    .getElementById(\"vaadin-live-reload-overlay\");\n+            liveReloadOverlay.appendChild(reloadNotificationElement);\n+        } else {\n+            Element message = Browser.getDocument()\n+                    .getElementById(\"vaadin-live-reload-timestamp\");\n+            message.setInnerText(LAST_RELOAD_TEXT + getLastReloadInStorage());\n+        }\n+        return reloadNotificationElement;\n+    }\n+\n+    private void saveLastReloadInStorage(Date date) {\n+\n+        StorageUtil.setSessionItem(LAST_RELOAD_KEY_IN_STORAGE,\n+                buildStringWith2LeadingZeroes(date.getHours()) + \":\"\n+                        + buildStringWith2LeadingZeroes(date.getMinutes()) + \":\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5030b0d05521ea12cc4a882805053a363aaf7f00"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzMxODY3OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0MlrOF8eYyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0MlrOF8eYyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1Njc0NA==", "bodyText": "Remove this use of \"getSeconds\"; it is deprecated.", "url": "https://github.com/vaadin/flow/pull/7908#discussion_r398956744", "createdAt": "2020-03-26T23:44:42Z", "author": {"login": "vaadin-bot"}, "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -187,6 +195,40 @@ private Element getOrCreateIndicator() {\n         return reloadIndicator;\n     }\n \n+    private Element getOrCreateReloadNotification() {\n+        Element reloadNotificationElement = Browser.getDocument()\n+                .getElementById(\"vaadin-live-reload-notification\");\n+        if (reloadNotificationElement == null) {\n+            reloadNotificationElement = Browser.getDocument()\n+                    .createElement(\"div\");\n+            reloadNotificationElement.setId(\"vaadin-live-reload-notification\");\n+            Element message = Browser.getDocument().createElement(\"span\");\n+            message.setId(\"vaadin-live-reload-timestamp\");\n+            message.setInnerText(LAST_RELOAD_TEXT + getLastReloadInStorage());\n+            reloadNotificationElement.appendChild(message);\n+            Element liveReloadOverlay = Browser.getDocument()\n+                    .getElementById(\"vaadin-live-reload-overlay\");\n+            liveReloadOverlay.appendChild(reloadNotificationElement);\n+        } else {\n+            Element message = Browser.getDocument()\n+                    .getElementById(\"vaadin-live-reload-timestamp\");\n+            message.setInnerText(LAST_RELOAD_TEXT + getLastReloadInStorage());\n+        }\n+        return reloadNotificationElement;\n+    }\n+\n+    private void saveLastReloadInStorage(Date date) {\n+\n+        StorageUtil.setSessionItem(LAST_RELOAD_KEY_IN_STORAGE,\n+                buildStringWith2LeadingZeroes(date.getHours()) + \":\"\n+                        + buildStringWith2LeadingZeroes(date.getMinutes()) + \":\"\n+                        + buildStringWith2LeadingZeroes(date.getSeconds()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5030b0d05521ea12cc4a882805053a363aaf7f00"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzMxODc2OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0M1rOF8eY0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0NDo0M1rOF8eY0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1Njc1NA==", "bodyText": "Remove this use of \"getHours\"; it is deprecated.", "url": "https://github.com/vaadin/flow/pull/7908#discussion_r398956754", "createdAt": "2020-03-26T23:44:43Z", "author": {"login": "vaadin-bot"}, "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -187,6 +195,40 @@ private Element getOrCreateIndicator() {\n         return reloadIndicator;\n     }\n \n+    private Element getOrCreateReloadNotification() {\n+        Element reloadNotificationElement = Browser.getDocument()\n+                .getElementById(\"vaadin-live-reload-notification\");\n+        if (reloadNotificationElement == null) {\n+            reloadNotificationElement = Browser.getDocument()\n+                    .createElement(\"div\");\n+            reloadNotificationElement.setId(\"vaadin-live-reload-notification\");\n+            Element message = Browser.getDocument().createElement(\"span\");\n+            message.setId(\"vaadin-live-reload-timestamp\");\n+            message.setInnerText(LAST_RELOAD_TEXT + getLastReloadInStorage());\n+            reloadNotificationElement.appendChild(message);\n+            Element liveReloadOverlay = Browser.getDocument()\n+                    .getElementById(\"vaadin-live-reload-overlay\");\n+            liveReloadOverlay.appendChild(reloadNotificationElement);\n+        } else {\n+            Element message = Browser.getDocument()\n+                    .getElementById(\"vaadin-live-reload-timestamp\");\n+            message.setInnerText(LAST_RELOAD_TEXT + getLastReloadInStorage());\n+        }\n+        return reloadNotificationElement;\n+    }\n+\n+    private void saveLastReloadInStorage(Date date) {\n+\n+        StorageUtil.setSessionItem(LAST_RELOAD_KEY_IN_STORAGE,\n+                buildStringWith2LeadingZeroes(date.getHours()) + \":\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5030b0d05521ea12cc4a882805053a363aaf7f00"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzQwNzM0OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMDoyOToxMVrOF8fNDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMDoyOToxMVrOF8fNDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3MDEyNg==", "bodyText": "Remove this unused method parameter \"evt\".", "url": "https://github.com/vaadin/flow/pull/7908#discussion_r398970126", "createdAt": "2020-03-27T00:29:11Z", "author": {"login": "vaadin-bot"}, "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -136,6 +145,20 @@ private void showMessage(String msg) {\n         }\n     }\n \n+    private void handleOnIconClickEvent(Event evt) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "469b690a5ec879239103e4b52e0ea66f144501dd"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzQwNzM4OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMDoyOToxMlrOF8fNEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMDoyOToxMlrOF8fNEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3MDEzMA==", "bodyText": "Remove this unused method parameter \"evt\".", "url": "https://github.com/vaadin/flow/pull/7908#discussion_r398970130", "createdAt": "2020-03-27T00:29:12Z", "author": {"login": "vaadin-bot"}, "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -187,6 +210,47 @@ private Element getOrCreateIndicator() {\n         return reloadIndicator;\n     }\n \n+    private void handleOnBodyFocusEvent(Event evt) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "469b690a5ec879239103e4b52e0ea66f144501dd"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NjMxOTE3OnYy", "diffSide": "RIGHT", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMzozOToyNVrOF-WRXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMzozOToyNVrOF-WRXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDkyMDkyNw==", "bodyText": "Consider simplifying if-else clause this way:\nlastReloadNotification.setHidden(\noverlay.isHidden());", "url": "https://github.com/vaadin/flow/pull/7908#discussion_r400920927", "createdAt": "2020-03-31T13:39:25Z", "author": {"login": "mshabarov"}, "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -136,6 +145,20 @@ private void showMessage(String msg) {\n         }\n     }\n \n+    private void handleOnIconClickEvent(Event evt) {\n+        Element overlay = Browser.getDocument()\n+                .getElementById(\"vaadin-live-reload-overlay\");\n+        overlay.setHidden(!overlay.isHidden());\n+        if (lastReloadNotification == null) {\n+            return;\n+        }\n+        if (!overlay.isHidden()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc128131bfb248d3440df74ec27418c4b87a00f"}, "originalPosition": 53}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3612, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}