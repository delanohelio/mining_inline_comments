{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMjU0NzA4", "number": 9558, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwOTo1Mjo1NFrOFAIE0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjoyMTozNFrOFANvhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1Njc2NjI0OnYy", "diffSide": "LEFT", "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-copy.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwOTo1Mjo1NFrOH-PjUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMDozOToyOFrOH-SyZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAyODU2MA==", "bodyText": "Should the docs above be updated to mention that this copies only node modules files ?", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535028560", "createdAt": "2020-12-03T09:52:54Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-copy.js", "diffHunk": "@@ -23,44 +23,6 @@ const fs = require('fs');\n const path = require('path');\n const glob = require('glob');\n \n-/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA4MTU3NA==", "bodyText": "updated that any copy functions should be here.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535081574", "createdAt": "2020-12-03T10:39:28Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/plugins/application-theme-plugin/theme-copy.js", "diffHunk": "@@ -23,44 +23,6 @@ const fs = require('fs');\n const path = require('path');\n const glob = require('glob');\n \n-/**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAyODU2MA=="}, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1Njc4NjYwOnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwOTo1NTo0N1rOH-Pwzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMDo0MTo0OVrOH-S82Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAzMjAxNQ==", "bodyText": "Not sure if these checks could be just combined to one debug log that outputs what is happening (also NIT missing whitespace)", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535032015", "createdAt": "2020-12-03T09:55:47Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,14 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);\n+                if(resolve) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA3OTQ4OA==", "bodyText": "But they are 2 different handles so you get more information about what is happening when they are differentiated as the url printed won't give you the path info and you don't really want or need the full resource path in the log.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535079488", "createdAt": "2020-12-03T10:37:33Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,14 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);\n+                if(resolve) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAzMjAxNQ=="}, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA4NDI0OQ==", "bodyText": "Dropped the log altogether as it is not clear how it would help the developer in any way.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535084249", "createdAt": "2020-12-03T10:41:49Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,14 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);\n+                if(resolve) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAzMjAxNQ=="}, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NjgxNjE1OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMDowMDowMFrOH-QEjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMDozNTo1NFrOH-Si2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAzNzA3MQ==", "bodyText": "If I understood correctly, the comments for the theme-loader below are not valid anymore as it is not aboud VAADIN/static but the  theme/[themeFolder]", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535037071", "createdAt": "2020-12-03T10:00:00Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,14 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);\n+                if(resolve) {\n+                  console.debug(\"Inlining node_module resource: \", url);\n+                } else if(themResource) {\n+                  console.debug(\"Handling theme resource: \", url);\n+                }\n+                return resolve || themResource;\n               },\n               // use theme-loader to also handle any imports in css files\n               importLoaders: 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA3NzU5Mw==", "bodyText": "It's still valid as the theme-loader handles the resources to be in the theme/my-theme format and css loader should give it any css imports to check also.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535077593", "createdAt": "2020-12-03T10:35:54Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,14 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);\n+                if(resolve) {\n+                  console.debug(\"Inlining node_module resource: \", url);\n+                } else if(themResource) {\n+                  console.debug(\"Handling theme resource: \", url);\n+                }\n+                return resolve || themResource;\n               },\n               // use theme-loader to also handle any imports in css files\n               importLoaders: 1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTAzNzA3MQ=="}, "originalCommit": {"oid": "2c3a1b668c506b07011866e92aa9aafd3c2f6855"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzYwMTc4OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjowNDo1NlrOH-YDug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjozNDozNlrOH-ZepA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE2NzkzMA==", "bodyText": "typo", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535167930", "createdAt": "2020-12-03T12:04:56Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,9 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE5MTIwNA==", "bodyText": "fixed", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535191204", "createdAt": "2020-12-03T12:34:36Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -179,7 +179,9 @@ module.exports = {\n             options: {\n               url: (url, resourcePath) => {\n                 // Only translate files from node_modules\n-                return resourcePath.includes('/node_modules/');\n+                const resolve = resourcePath.match(/(\\\\|\\/)node_modules\\1/);\n+                const themResource = resourcePath.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/) && url.match(/theme\\/[\\s\\S]*?\\//);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE2NzkzMA=="}, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzYxMzU5OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjowNjo1N1rOH-YK4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjo0MjoxM1rOH-ZxBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE2OTc2Mg==", "bodyText": "Should this regex be somewhere so that it is named and shared for both usage (this & css-loader) ?", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535169762", "createdAt": "2020-12-03T12:06:57Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE5NTkxMQ==", "bodyText": "done.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535195911", "createdAt": "2020-12-03T12:42:13Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE2OTc2Mg=="}, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzY4ODAzOnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjoxOTo1OFrOH-Y7Xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjozODoxN1rOH-ZnZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4MjE3NA==", "bodyText": "Just to make sure, the frontendFolder will never end with / or \\ ?", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535182174", "createdAt": "2020-12-03T12:19:58Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE5MzQ0NA==", "bodyText": "path.resolve never ends in a path separator. From the documentation The resulting path is normalized and trailing slashes are removed unless the path is resolved to the root directory.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535193444", "createdAt": "2020-12-03T12:38:17Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4MjE3NA=="}, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzY5MTE5OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjoyMDo0NVrOH-Y9Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjo1MjowOVrOH-aJ8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4MjY0Mw==", "bodyText": "Would it make sense to either use the output from the match above so there is only one regex operation ?", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535182643", "createdAt": "2020-12-03T12:20:45Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){\n+                return /[\\s\\S]*(\\\\|\\/)theme\\1[\\s\\S]*?\\1(.*)/.exec(resourcePath)[2];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIwMjI4OA==", "bodyText": "The match above doesn't collect the file name at all just checks that the theme part is there.\nIn the first case we match for the css file not for the resource file so then they need to differ in usage.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535202288", "createdAt": "2020-12-03T12:52:09Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){\n+                return /[\\s\\S]*(\\\\|\\/)theme\\1[\\s\\S]*?\\1(.*)/.exec(resourcePath)[2];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4MjY0Mw=="}, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzY5NDc5OnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/resources/webpack.generated.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjoyMTozNFrOH-Y_Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjo1MzowNFrOH-aMew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4MzE3NQ==", "bodyText": "Will this code be only executed for the currently active theme's resources as the theme name is not checked here ? I think so but just checking", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535183175", "createdAt": "2020-12-03T12:21:34Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){\n+                return /[\\s\\S]*(\\\\|\\/)theme\\1[\\s\\S]*?\\1(.*)/.exec(resourcePath)[2];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIwMjkzOQ==", "bodyText": "No other themes are pointed to so that webpack would find them so this will only handle the active theme.", "url": "https://github.com/vaadin/flow/pull/9558#discussion_r535202939", "createdAt": "2020-12-03T12:53:04Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -195,6 +197,23 @@ module.exports = {\n           }\n         ],\n       },\n+      {\n+        // File-loader only copies files used as imports in .js files or handled by css-loader\n+        test: /\\.(png|gif|jpg|jpeg|svg|eot|woff|woff2|ttf)$/,\n+        use: [{\n+          loader: 'file-loader',\n+          options: {\n+            outputPath: 'static/',\n+            name(resourcePath, resourceQuery) {\n+              const urlResource = resourcePath.substring(frontendFolder.length);\n+              if(urlResource.match(/(\\\\|\\/)theme\\1[\\s\\S]*?\\1/)){\n+                return /[\\s\\S]*(\\\\|\\/)theme\\1[\\s\\S]*?\\1(.*)/.exec(resourcePath)[2];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4MzE3NQ=="}, "originalCommit": {"oid": "8192a95215fa3e39a2a243e5ec25a3e502fc6d1d"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2862, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}