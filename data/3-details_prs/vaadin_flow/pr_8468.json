{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NDU5NzQ0", "number": 8468, "title": "Make handleFileUploadValidationAndData and sendUploadResponse protected", "bodyText": "This allows external code extending this class to reduce copy/pasting these and other private methods.\nAn example of where this would be beneficial is here in Vertx Vaadin.\n\n\nThis change is\u2002", "createdAt": "2020-05-30T12:29:56Z", "url": "https://github.com/vaadin/flow/pull/8468", "merged": true, "mergeCommit": {"oid": "fe45340af7dadc3ca0c4899faaefe1136da8f451"}, "closed": true, "closedAt": "2020-10-07T11:26:36Z", "author": {"login": "jhult"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvfqMaABqjM0ODk1MTYwNzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQKfXYAFqTUwMzc0MjY1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d1a184eb8116aebd5229066e3e2ee36c940dceb", "author": {"user": {"login": "jhult", "name": "Jonathan Hult"}}, "url": "https://github.com/vaadin/flow/commit/4d1a184eb8116aebd5229066e3e2ee36c940dceb", "committedDate": "2020-05-30T12:24:57Z", "message": "Make handleFileUploadValidationAndData and sendUploadResponse protected\n\nThis allows external code extending this class to reduce copy/pasting these and other private methods."}, "afterCommit": {"oid": "0657cc2ace5429b53fa9c86d61d41399ea3ad622", "author": {"user": {"login": "jhult", "name": "Jonathan Hult"}}, "url": "https://github.com/vaadin/flow/commit/0657cc2ace5429b53fa9c86d61d41399ea3ad622", "committedDate": "2020-06-27T22:33:03Z", "message": "Make handleFileUploadValidationAndData and sendUploadResponse protected\n\nThis allows external code extending this class to reduce copy/pasting these and other private methods."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MDc1MTI5", "url": "https://github.com/vaadin/flow/pull/8468#pullrequestreview-498075129", "createdAt": "2020-09-29T04:05:55Z", "commit": {"oid": "0657cc2ace5429b53fa9c86d61d41399ea3ad622"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDowNTo1NVrOHZXwAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDowNTo1NVrOHZXwAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM2NTU2OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                protected boolean handleFileUploadValidationAndData(VaadinSession session,\n          \n          \n            \n                /**\n          \n          \n            \n                 * Validate that stream target is in a valid state for receiving data\n          \n          \n            \n                 * and send stream to receiver. Handles cleanup and error in reading stream\n          \n          \n            \n                 *\n          \n          \n            \n                 * @param session\n          \n          \n            \n                 *         The session containing the stream variable\n          \n          \n            \n                 * @param inputStream\n          \n          \n            \n                 *         the request content input stream\n          \n          \n            \n                 * @param streamReceiver\n          \n          \n            \n                 *         the receiver containing the destination stream variable\n          \n          \n            \n                 * @param filename\n          \n          \n            \n                 *         name of the streamed file\n          \n          \n            \n                 * @param mimeType\n          \n          \n            \n                 *         file mime type\n          \n          \n            \n                 * @param contentLength\n          \n          \n            \n                 *         The length of the request content\n          \n          \n            \n                 * @param node\n          \n          \n            \n                 *         The owner of the stream\n          \n          \n            \n                 * @return true if upload successful, else false\n          \n          \n            \n                 * @throws UploadException\n          \n          \n            \n                 *         Thrown for illegal target node state\n          \n          \n            \n                 */\n          \n          \n            \n                protected boolean handleFileUploadValidationAndData(VaadinSession session,\n          \n      \n    \n    \n  \n\nProtected methods need to have javadocs.", "url": "https://github.com/vaadin/flow/pull/8468#discussion_r496365568", "createdAt": "2020-09-29T04:05:55Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/communication/StreamReceiverHandler.java", "diffHunk": "@@ -326,7 +326,7 @@ protected void doHandleXhrFilePost(VaadinSession session,\n         sendUploadResponse(response, success);\n     }\n \n-    private boolean handleFileUploadValidationAndData(VaadinSession session,\n+    protected boolean handleFileUploadValidationAndData(VaadinSession session,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0657cc2ace5429b53fa9c86d61d41399ea3ad622"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ada1c2a7e01ba0c9664e3d573a7fd0817f29f8e", "author": {"user": {"login": "jhult", "name": "Jonathan Hult"}}, "url": "https://github.com/vaadin/flow/commit/9ada1c2a7e01ba0c9664e3d573a7fd0817f29f8e", "committedDate": "2020-10-07T10:27:53Z", "message": "Make handleFileUploadValidationAndData and sendUploadResponse protected\n\nThis allows external code extending this class to reduce copy/pasting these and other private methods.\n\nAdd Javadoc for StreamReceiverHandler for protected `handleFileUploadValidationAndData` method\n\nCo-authored-by: caalador <mikael.grankvist@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4dd1a95a2c75db788ed628067066ed30610e2bf", "author": {"user": {"login": "jhult", "name": "Jonathan Hult"}}, "url": "https://github.com/vaadin/flow/commit/b4dd1a95a2c75db788ed628067066ed30610e2bf", "committedDate": "2020-10-06T16:53:27Z", "message": "Add Javadoc for StreamReceiverHandler\r\n\r\nFor protected `handleFileUploadValidationAndData` method\n\nCo-authored-by: caalador <mikael.grankvist@gmail.com>"}, "afterCommit": {"oid": "9ada1c2a7e01ba0c9664e3d573a7fd0817f29f8e", "author": {"user": {"login": "jhult", "name": "Jonathan Hult"}}, "url": "https://github.com/vaadin/flow/commit/9ada1c2a7e01ba0c9664e3d573a7fd0817f29f8e", "committedDate": "2020-10-07T10:27:53Z", "message": "Make handleFileUploadValidationAndData and sendUploadResponse protected\n\nThis allows external code extending this class to reduce copy/pasting these and other private methods.\n\nAdd Javadoc for StreamReceiverHandler for protected `handleFileUploadValidationAndData` method\n\nCo-authored-by: caalador <mikael.grankvist@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNzQyNjUz", "url": "https://github.com/vaadin/flow/pull/8468#pullrequestreview-503742653", "createdAt": "2020-10-07T10:33:20Z", "commit": {"oid": "9ada1c2a7e01ba0c9664e3d573a7fd0817f29f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 403, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}