{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5MDMyNzM5", "number": 9377, "title": "feat: application connection state store", "bodyText": "Adds a global ConnectionStateStore instance as window.Vaadin.Flow.connectionState.\nThis instance should be used by both Flow (GWT client) and Fusion (Flow.ts and\nrelated TS modules) for querying and transitioning between connection states (CONNECTED,\nLOADING,  RECONNECTING and CONNECTION_LOST). The state store will be used for the\nimplementation of the up-and-coming loading indicator.\nFixes #9343.", "createdAt": "2020-11-11T08:17:41Z", "url": "https://github.com/vaadin/flow/pull/9377", "merged": true, "mergeCommit": {"oid": "29fe11405c0c47051721df0010b00b4e7fbdc20b"}, "closed": true, "closedAt": "2020-11-17T13:35:28Z", "author": {"login": "joheriks"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbd94tABqjM5ODM4MzYwOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddXqqJgFqTUzMjI1OTI3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "571adcba1b323b3ca552fe6e28ae73860ea92ef2", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/571adcba1b323b3ca552fe6e28ae73860ea92ef2", "committedDate": "2020-11-10T13:31:49Z", "message": "feat: initial sketch of connection state store"}, "afterCommit": {"oid": "f5f87fbee2bd235d1176f675f45a9d4db2b5d5c9", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/f5f87fbee2bd235d1176f675f45a9d4db2b5d5c9", "committedDate": "2020-11-11T13:26:23Z", "message": "Connection state transition transitions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4MzcyNDc0", "url": "https://github.com/vaadin/flow/pull/9377#pullrequestreview-528372474", "createdAt": "2020-11-11T17:12:45Z", "commit": {"oid": "62c2196d3060ed05840c922f376c141fbbd97020"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzoxMjo0NlrOHxWd7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzoyNjozNlrOHxXASQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxMDM4MA==", "bodyText": "BTW: Using Set instead of array for storage works better for this use case, in particular, addStateChangeListener and removeStateChangeListener methods would map directly to stateChangeListeners.add and stateChangeListeners.remove.\nIterating a Set could be done with for...of\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set", "url": "https://github.com/vaadin/flow/pull/9377#discussion_r521510380", "createdAt": "2020-11-11T17:12:46Z", "author": {"login": "platosha"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/ConnectionState.ts", "diffHunk": "@@ -0,0 +1,72 @@\n+export enum ConnectionState {\n+  /**\n+   * Application is connected to server: last transaction over the wire (XHR /\n+   * heartbeat / endpoint call) was successful.\n+   */\n+  CONNECTED ='connected',\n+\n+  /**\n+   * Application is connected and Flow is loading application state from the\n+   * server, or Fusion is waiting for an endpoint call to return.\n+   */\n+  LOADING = 'loading',\n+\n+  /**\n+   * Application has been temporarily disconnected from the server because the\n+   * last transaction over the write (XHR / heartbeat / endpoint call) resulted\n+   * in a network error. Flow is attempting to reconnect.\n+   */\n+  RECONNECTING = 'reconnecting',\n+\n+  /**\n+   * Application has been permanently disconnected due to browser going offline,\n+   * or the server not being reached after a number of reconnect attempts\n+   * (see ReconnectDialogConfiguration.java: RECONNECT_ATTEMPTS_KEY).\n+   */\n+  CONNECTION_LOST = 'connection-lost'\n+}\n+\n+type ConnectionStateChangeListener = (previous: ConnectionState, current: ConnectionState) => void;\n+\n+export class ConnectionStateStore {\n+\n+  private state: ConnectionState;\n+\n+  private stateChangeListeners: ConnectionStateChangeListener[] = [];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62c2196d3060ed05840c922f376c141fbbd97020"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxMDQxOQ==", "bodyText": "Should we do get state() set state() instead of getState()/setState() maybe?", "url": "https://github.com/vaadin/flow/pull/9377#discussion_r521510419", "createdAt": "2020-11-11T17:12:48Z", "author": {"login": "platosha"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/ConnectionState.ts", "diffHunk": "@@ -0,0 +1,72 @@\n+export enum ConnectionState {\n+  /**\n+   * Application is connected to server: last transaction over the wire (XHR /\n+   * heartbeat / endpoint call) was successful.\n+   */\n+  CONNECTED ='connected',\n+\n+  /**\n+   * Application is connected and Flow is loading application state from the\n+   * server, or Fusion is waiting for an endpoint call to return.\n+   */\n+  LOADING = 'loading',\n+\n+  /**\n+   * Application has been temporarily disconnected from the server because the\n+   * last transaction over the write (XHR / heartbeat / endpoint call) resulted\n+   * in a network error. Flow is attempting to reconnect.\n+   */\n+  RECONNECTING = 'reconnecting',\n+\n+  /**\n+   * Application has been permanently disconnected due to browser going offline,\n+   * or the server not being reached after a number of reconnect attempts\n+   * (see ReconnectDialogConfiguration.java: RECONNECT_ATTEMPTS_KEY).\n+   */\n+  CONNECTION_LOST = 'connection-lost'\n+}\n+\n+type ConnectionStateChangeListener = (previous: ConnectionState, current: ConnectionState) => void;\n+\n+export class ConnectionStateStore {\n+\n+  private state: ConnectionState;\n+\n+  private stateChangeListeners: ConnectionStateChangeListener[] = [];\n+\n+  constructor(initialState: ConnectionState) {\n+      this.state = initialState;\n+  }\n+\n+  getState(): ConnectionState {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62c2196d3060ed05840c922f376c141fbbd97020"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxOTA4MA==", "bodyText": "Maybe get online(): boolean should be preferred", "url": "https://github.com/vaadin/flow/pull/9377#discussion_r521519080", "createdAt": "2020-11-11T17:26:26Z", "author": {"login": "platosha"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/ConnectionState.ts", "diffHunk": "@@ -0,0 +1,72 @@\n+export enum ConnectionState {\n+  /**\n+   * Application is connected to server: last transaction over the wire (XHR /\n+   * heartbeat / endpoint call) was successful.\n+   */\n+  CONNECTED ='connected',\n+\n+  /**\n+   * Application is connected and Flow is loading application state from the\n+   * server, or Fusion is waiting for an endpoint call to return.\n+   */\n+  LOADING = 'loading',\n+\n+  /**\n+   * Application has been temporarily disconnected from the server because the\n+   * last transaction over the write (XHR / heartbeat / endpoint call) resulted\n+   * in a network error. Flow is attempting to reconnect.\n+   */\n+  RECONNECTING = 'reconnecting',\n+\n+  /**\n+   * Application has been permanently disconnected due to browser going offline,\n+   * or the server not being reached after a number of reconnect attempts\n+   * (see ReconnectDialogConfiguration.java: RECONNECT_ATTEMPTS_KEY).\n+   */\n+  CONNECTION_LOST = 'connection-lost'\n+}\n+\n+type ConnectionStateChangeListener = (previous: ConnectionState, current: ConnectionState) => void;\n+\n+export class ConnectionStateStore {\n+\n+  private state: ConnectionState;\n+\n+  private stateChangeListeners: ConnectionStateChangeListener[] = [];\n+\n+  constructor(initialState: ConnectionState) {\n+      this.state = initialState;\n+  }\n+\n+  getState(): ConnectionState {\n+    return this.state;\n+  }\n+\n+  addStateChangeListener(listener: ConnectionStateChangeListener): void {\n+    if (this.stateChangeListeners.indexOf(listener) === -1) {\n+      this.stateChangeListeners.push(listener);\n+    }\n+  }\n+\n+  removeStateChangeListener(listener: ConnectionStateChangeListener): void {\n+    const index = this.stateChangeListeners.indexOf(listener);\n+    this.stateChangeListeners.splice(index);\n+  }\n+\n+  setState(newState: ConnectionState) {\n+    if (newState !== this.state) {\n+      const prevState = this.state;\n+      this.state = newState;\n+      this.stateChangeListeners.forEach(listener => listener(prevState, this.state));\n+    }\n+  }\n+\n+  isOnline(): boolean {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62c2196d3060ed05840c922f376c141fbbd97020"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxOTE3Nw==", "bodyText": "Placing these handlers in Flow.ts makes them inactive before the first server-side view is requested, right? Was that intentional?", "url": "https://github.com/vaadin/flow/pull/9377#discussion_r521519177", "createdAt": "2020-11-11T17:26:36Z", "author": {"login": "platosha"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/Flow.ts", "diffHunk": "@@ -404,19 +394,34 @@ export class Flow {\n     // be reused in Connect.ts\n     let timeout2nd: any;\n     let timeout3rd: any;\n-    $wnd.Vaadin.Flow.loading = (action: boolean) => {\n+    const connectionState = new ConnectionStateStore(\n+      navigator.onLine ? ConnectionState.CONNECTED : ConnectionState.CONNECTION_LOST);\n+    connectionState.addStateChangeListener( (_: ConnectionState, current: ConnectionState) => {\n       clearTimeout(timeout2nd);\n       clearTimeout(timeout3rd);\n       loading.classList.remove('second');\n       loading.classList.remove('third');\n-      if (action) {\n+      if (current === ConnectionState.LOADING) {\n         loading.removeAttribute('style');\n         timeout2nd = setTimeout(() => loading.classList.add('second'), 1500);\n         timeout3rd = setTimeout(() => loading.classList.add('third'), 5000);\n+\n+        // Make Testbench know that server request is in progress\n+        this.isActive = true;\n       } else {\n         loading.setAttribute('style', 'none');\n+        // Make Testbench know that server request is no longer active\n+        this.isActive = false;\n       }\n-    };\n+    });\n+\n+    $wnd.addEventListener('online', () => {\n+      connectionState.setState(ConnectionState.CONNECTED);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62c2196d3060ed05840c922f376c141fbbd97020"}, "originalPosition": 132}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69158850c5943d3b4ce8ab8cf675a61895d480e5", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/69158850c5943d3b4ce8ab8cf675a61895d480e5", "committedDate": "2020-11-12T07:38:27Z", "message": "Minor improvements: keep listeners in Set instead of array, online/offline properties"}, "afterCommit": {"oid": "cf36ec07e7fca9082a9faf88d5ed645ed0029e07", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/cf36ec07e7fca9082a9faf88d5ed645ed0029e07", "committedDate": "2020-11-12T07:46:49Z", "message": "Minor improvements: keep listeners in Set instead of array, online/offline properties"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fac4e49ce887579b929f280d1429054b2ec7df85", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/fac4e49ce887579b929f280d1429054b2ec7df85", "committedDate": "2020-11-12T22:07:59Z", "message": "De-flake IT"}, "afterCommit": {"oid": "c2625ce4611cbb5cc6ed6b9198bed0012c05b6b9", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/c2625ce4611cbb5cc6ed6b9198bed0012c05b6b9", "committedDate": "2020-11-13T07:27:32Z", "message": "De-flake IT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "723eff690dade00b51b79b5d52221a6a8787cdb6", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/723eff690dade00b51b79b5d52221a6a8787cdb6", "committedDate": "2020-11-16T09:13:27Z", "message": "fix: updated unit tests failing after UI annotation"}, "afterCommit": {"oid": "8d8ec36f80c3d19073e1ae9033e43ef75d397359", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/8d8ec36f80c3d19073e1ae9033e43ef75d397359", "committedDate": "2020-11-16T10:15:48Z", "message": "fix: transition logic, loadingStarted/loadingSucceded pair for stacking LOADING transitions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1672dd02b2cef4bd40832139b9e0a2f50340eab7", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/1672dd02b2cef4bd40832139b9e0a2f50340eab7", "committedDate": "2020-11-16T10:17:22Z", "message": "feat: initial sketch of connection state store"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b236fde166e5e423c8652f01f61309a35bbd8d51", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b236fde166e5e423c8652f01f61309a35bbd8d51", "committedDate": "2020-11-16T10:21:32Z", "message": "Connection state transition transitions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1cbeb88df92f650adf696fdcf0726ded559ccfb", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b1cbeb88df92f650adf696fdcf0726ded559ccfb", "committedDate": "2020-11-16T10:21:39Z", "message": "Minor improvements: keep listeners in Set instead of array, online/offline properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f20931a48b068d22f636a80d0bbfdce7d132baf", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/7f20931a48b068d22f636a80d0bbfdce7d132baf", "committedDate": "2020-11-16T10:21:39Z", "message": "Add `ConnectionState` to `generated-flow-imports.js`. Add connectionState to `window.Vaadin.Flow` on import."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d84b0b8f99478f7341f7c64ce61cb7dffdb21ca", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/3d84b0b8f99478f7341f7c64ce61cb7dffdb21ca", "committedDate": "2020-11-16T10:21:39Z", "message": "ConnectionState: `state` as property instead of getter, setter methods."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19ea28ea0bbf78a851aca8573e36693ee70e3e7c", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/19ea28ea0bbf78a851aca8573e36693ee70e3e7c", "committedDate": "2020-11-16T10:21:39Z", "message": "Serializable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45e126ba55f8fe120ec59c16895ceaa3f131d51b", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/45e126ba55f8fe120ec59c16895ceaa3f131d51b", "committedDate": "2020-11-16T10:21:39Z", "message": "fix: Create only one ConnectionStateStore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "266d2915f005c59d7ffeaa8346873ec4c65b7dcc", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/266d2915f005c59d7ffeaa8346873ec4c65b7dcc", "committedDate": "2020-11-16T10:21:39Z", "message": "Force ConnectionState into primary chunk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cbc6cab2c6b0a2d6f28169da707b59f5044fed6", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/5cbc6cab2c6b0a2d6f28169da707b59f5044fed6", "committedDate": "2020-11-16T10:21:39Z", "message": "fix: GWT - TS compatibility for `ConnectionState` type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6579b620a493c07122b73d2f9a17f5a32fbf94af", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/6579b620a493c07122b73d2f9a17f5a32fbf94af", "committedDate": "2020-11-16T10:21:39Z", "message": "De-flake IT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "031c711ef3a43eb891649d1142014868fc2dcee8", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/031c711ef3a43eb891649d1142014868fc2dcee8", "committedDate": "2020-11-16T10:21:39Z", "message": "Basic backwards-compatible LoadingIndicator Lit element with light DOM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd050b2e9fc4729d34bf1bf80d1369c6a5539027", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/fd050b2e9fc4729d34bf1bf80d1369c6a5539027", "committedDate": "2020-11-16T10:21:39Z", "message": "fix: loading indicator unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fab411f726eb62f4fbac59f5bbc068314c11cec", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/7fab411f726eb62f4fbac59f5bbc068314c11cec", "committedDate": "2020-11-16T10:21:39Z", "message": "Add LoadingIndicator.ts as JsModule dependency to UI for main bundle inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f3b39c46f626187e36e18df873f4286b6ff7c0a", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/0f3b39c46f626187e36e18df873f4286b6ff7c0a", "committedDate": "2020-11-16T10:21:39Z", "message": "fix: namespace (s/Vaadin.Flow.loadingIndicator/Vaadin.loadingIndicator/, s/Vaadin.Flow.connectionState/Vaadin.connectionState/)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6abd215182c54c908b43b5de482d73f745a116db", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/6abd215182c54c908b43b5de482d73f745a116db", "committedDate": "2020-11-16T10:21:39Z", "message": "fix: updated unit tests failing after UI annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40468593e69a449b4c02bb1bea701bab54d49446", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/40468593e69a449b4c02bb1bea701bab54d49446", "committedDate": "2020-11-16T10:22:17Z", "message": "fix: transition logic, loadingStarted/loadingSucceded pair for stacking LOADING transitions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aec44f9d29b5b699919a63cc10f53d0f84a23b15", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/aec44f9d29b5b699919a63cc10f53d0f84a23b15", "committedDate": "2020-11-16T11:05:00Z", "message": "fix: transition to CONNECTION_LOST when an endpoint call encounters network failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d8ec36f80c3d19073e1ae9033e43ef75d397359", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/8d8ec36f80c3d19073e1ae9033e43ef75d397359", "committedDate": "2020-11-16T10:15:48Z", "message": "fix: transition logic, loadingStarted/loadingSucceded pair for stacking LOADING transitions."}, "afterCommit": {"oid": "aec44f9d29b5b699919a63cc10f53d0f84a23b15", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/aec44f9d29b5b699919a63cc10f53d0f84a23b15", "committedDate": "2020-11-16T11:05:00Z", "message": "fix: transition to CONNECTION_LOST when an endpoint call encounters network failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fead6afa736a7c5cd78f1c3f80a70c614906ecf", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/5fead6afa736a7c5cd78f1c3f80a70c614906ecf", "committedDate": "2020-11-16T13:08:07Z", "message": "Guard statement accessing Vaadin.connectionState"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMzM3ODMw", "url": "https://github.com/vaadin/flow/pull/9377#pullrequestreview-531337830", "createdAt": "2020-11-16T13:52:49Z", "commit": {"oid": "5fead6afa736a7c5cd78f1c3f80a70c614906ecf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMzo1Mjo0OVrOHz_pWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMzo1Mjo0OVrOHz_pWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI4MjIwMQ==", "bodyText": "Do we really need this? Isn't the LoadingIndicator imported in Flow.ts?", "url": "https://github.com/vaadin/flow/pull/9377#discussion_r524282201", "createdAt": "2020-11-16T13:52:49Z", "author": {"login": "haijian-vaadin"}, "path": "flow-server/src/main/java/com/vaadin/flow/component/UI.java", "diffHunk": "@@ -92,6 +93,7 @@\n  *\n  * @since 1.0\n  */\n+@JsModule(\"@vaadin/flow-frontend/LoadingIndicator.js\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fead6afa736a7c5cd78f1c3f80a70c614906ecf"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70ed8a47133a300d6fac460f15e6d0e0f5384f62", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/70ed8a47133a300d6fac460f15e6d0e0f5384f62", "committedDate": "2020-11-16T19:32:57Z", "message": "De-flake another IT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1f23728d26f1dd6b5ee36805a7fe6994cca7072", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/a1f23728d26f1dd6b5ee36805a7fe6994cca7072", "committedDate": "2020-11-16T21:01:18Z", "message": "Update `isActive` eagerly instead of reactively on state transitions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "047b2a27c3366de88073f69d5d5efb4adbad0160", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/047b2a27c3366de88073f69d5d5efb4adbad0160", "committedDate": "2020-11-17T07:07:22Z", "message": "Revert \"De-flake IT\"\n\nThis reverts commit 6579b620a493c07122b73d2f9a17f5a32fbf94af."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962b19e9d18126463cf08c3a3e959c5d56d8ae78", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/962b19e9d18126463cf08c3a3e959c5d56d8ae78", "committedDate": "2020-11-17T07:07:29Z", "message": "Revert \"De-flake another IT\"\n\nThis reverts commit 70ed8a47133a300d6fac460f15e6d0e0f5384f62."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMjU5Mjcz", "url": "https://github.com/vaadin/flow/pull/9377#pullrequestreview-532259273", "createdAt": "2020-11-17T11:15:27Z", "commit": {"oid": "962b19e9d18126463cf08c3a3e959c5d56d8ae78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4826, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}