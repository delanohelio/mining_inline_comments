{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MjgzMTUy", "number": 9031, "title": "Be aware of property value in the Element", "bodyText": "Part of #9012", "createdAt": "2020-09-18T12:25:52Z", "url": "https://github.com/vaadin/flow/pull/9031", "merged": true, "mergeCommit": {"oid": "8f45195b78e2824604f462a2147001ebb3e53cf5"}, "closed": true, "closedAt": "2020-09-21T12:39:11Z", "author": {"login": "denis-anisimov"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKEtG1AH2gAyNDg5MjgzMTUyOjQyNzc1YzBiOGUyMzUyZWI1NzQzYTUyZTFhYmE3YzZiYmYxZDVhMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLCqRVgFqTQ5MjU1Mjk4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03", "author": {"user": null}, "url": "https://github.com/vaadin/flow/commit/42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03", "committedDate": "2020-09-18T12:25:22Z", "message": "Be aware of property value in the Element\n\nPart of #9012"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNDU1NzM2", "url": "https://github.com/vaadin/flow/pull/9031#pullrequestreview-491455736", "createdAt": "2020-09-18T13:18:33Z", "commit": {"oid": "42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMzoxODozM1rOHUMxcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMzoxODozM1rOHUMxcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk0MjgzMg==", "bodyText": "Remove this call from a constructor to the overridable \"getElement\" method.", "url": "https://github.com/vaadin/flow/pull/9031#discussion_r490942832", "createdAt": "2020-09-18T13:18:33Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/component/AbstractSinglePropertyField.java", "diffHunk": "@@ -242,6 +241,12 @@ public AbstractSinglePropertyField(String propertyName, T defaultValue,\n         propertyReader = typeHandler.createReader(element, propertyName,\n                 presentationToModel);\n \n+        // if underlying element already has a property value then it should be\n+        // set for the component\n+        if (getElement().getPropertyRaw(propertyName) != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNDAzMTU5", "url": "https://github.com/vaadin/flow/pull/9031#pullrequestreview-492403159", "createdAt": "2020-09-21T09:06:40Z", "commit": {"oid": "42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTowNjo0MFrOHVGp-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTowNjo0MFrOHVGp-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg5MTE5Mw==", "bodyText": "Is this really the right fix as the AbstractField creates the AbstractFieldSupport which sets the given default value to defaultValue and bufferedValue. I would expect it to be fixed there by setting something else as the initial value.\nOtherwise any component that extends AbstractField but not AbstractSinglePropertyField would be broken.", "url": "https://github.com/vaadin/flow/pull/9031#discussion_r491891193", "createdAt": "2020-09-21T09:06:40Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/java/com/vaadin/flow/component/AbstractSinglePropertyField.java", "diffHunk": "@@ -242,6 +241,12 @@ public AbstractSinglePropertyField(String propertyName, T defaultValue,\n         propertyReader = typeHandler.createReader(element, propertyName,\n                 presentationToModel);\n \n+        // if underlying element already has a property value then it should be\n+        // set for the component\n+        if (getElement().getPropertyRaw(propertyName) != null) {\n+            doSetModelValue(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTUyOTgy", "url": "https://github.com/vaadin/flow/pull/9031#pullrequestreview-492552982", "createdAt": "2020-09-21T12:36:23Z", "commit": {"oid": "42775c0b8e2352eb5743a52e1aba7c6bbf1d5a03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4915, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}