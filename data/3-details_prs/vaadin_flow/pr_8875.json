{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxMjYzNDM2", "number": 8875, "title": "Live reload on frontend changes", "bodyText": "When the webpack dev server finished recompilation, it will notify the Java server over\nthe watchdog connection. When the Java server notices the message, it in turn sends\nthe browser reload message over the dedicated live reload web socket connections.\nOther changes in this commit:\n\nlive reload now also works in V14 bootstrapping mode\nvaadin-devmode-gizmo is bundled separately\n\nAddresses tickets #8852, #8721, #8001, #5617, #607 (and maybe others).", "createdAt": "2020-08-20T22:00:56Z", "url": "https://github.com/vaadin/flow/pull/8875", "merged": true, "mergeCommit": {"oid": "58702c59352c92a233b240c32ee5f4860dc88623"}, "closed": true, "closedAt": "2020-08-24T10:33:37Z", "author": {"login": "joheriks"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdA3o0eABqjM2NzcyODYwODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdB_WmkAFqTQ3MzI5NzAyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b7579895797e1f529ed5f8c8167032f0ba26e844", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b7579895797e1f529ed5f8c8167032f0ba26e844", "committedDate": "2020-08-20T21:56:50Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nAlso adds live reload support for V14 bootstrapping mode."}, "afterCommit": {"oid": "d93d4014a677fc81c40fb6fde8aefa758af6eb81", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/d93d4014a677fc81c40fb6fde8aefa758af6eb81", "committedDate": "2020-08-20T22:06:21Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nAlso adds live reload support for V14 bootstrapping mode."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d93d4014a677fc81c40fb6fde8aefa758af6eb81", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/d93d4014a677fc81c40fb6fde8aefa758af6eb81", "committedDate": "2020-08-20T22:06:21Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nAlso adds live reload support for V14 bootstrapping mode."}, "afterCommit": {"oid": "d229d9ad1738e663acdc6bc6c46d117023480624", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/d229d9ad1738e663acdc6bc6c46d117023480624", "committedDate": "2020-08-21T06:40:00Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d229d9ad1738e663acdc6bc6c46d117023480624", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/d229d9ad1738e663acdc6bc6c46d117023480624", "committedDate": "2020-08-21T06:40:00Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}, "afterCommit": {"oid": "8eab654aab1231267c418c7ddd1190bb326766f0", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/8eab654aab1231267c418c7ddd1190bb326766f0", "committedDate": "2020-08-21T06:44:05Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8eab654aab1231267c418c7ddd1190bb326766f0", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/8eab654aab1231267c418c7ddd1190bb326766f0", "committedDate": "2020-08-21T06:44:05Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}, "afterCommit": {"oid": "bb3ced637c7a7819ad09201c6fe4a186dbc9c29c", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/bb3ced637c7a7819ad09201c6fe4a186dbc9c29c", "committedDate": "2020-08-21T07:40:36Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91209f1c458a6e58815109ef1433656aadacb010", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/91209f1c458a6e58815109ef1433656aadacb010", "committedDate": "2020-08-21T08:44:41Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb3ced637c7a7819ad09201c6fe4a186dbc9c29c", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/bb3ced637c7a7819ad09201c6fe4a186dbc9c29c", "committedDate": "2020-08-21T07:40:36Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}, "afterCommit": {"oid": "91209f1c458a6e58815109ef1433656aadacb010", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/91209f1c458a6e58815109ef1433656aadacb010", "committedDate": "2020-08-21T08:44:41Z", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMzQ4MzA1", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-472348305", "createdAt": "2020-08-21T09:36:39Z", "commit": {"oid": "91209f1c458a6e58815109ef1433656aadacb010"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwOTozNjozOVrOHEmLdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwOTozNjozOVrOHEmLdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDU4MTg3Ng==", "bodyText": "Constructor has 8 parameters, which is greater than 7 authorized.", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r474581876", "createdAt": "2020-08-21T09:36:39Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskUpdateWebpack.java", "diffHunk": "@@ -72,18 +73,21 @@\n      *            name of the JS file to update with the Flow project imports\n      * @param useV14Bootstrapping\n      *            whether the application running with deprecated V14 bootstrapping\n+     * @param flowResourcesFolder\n+     *            relative path to `flow-frontend` package\n      */\n     TaskUpdateWebpack(File frontendDirectory, File webpackConfigFolder,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91209f1c458a6e58815109ef1433656aadacb010"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdf872f902dd6dcac2db111ac3d5ff636d70d420", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/cdf872f902dd6dcac2db111ac3d5ff636d70d420", "committedDate": "2020-08-21T09:46:22Z", "message": "Sonar issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a31dc859cc1f8f2cdabd19c22bba3b07be6091c", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/4a31dc859cc1f8f2cdabd19c22bba3b07be6091c", "committedDate": "2020-08-21T09:48:37Z", "message": "IT test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/10b91637c485f6cc5ca19e670c19bb9c6ad2e9af", "committedDate": "2020-08-21T09:57:45Z", "message": "Avoid constant in interface"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMzg3Nzkx", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-472387791", "createdAt": "2020-08-21T10:40:11Z", "commit": {"oid": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo0MDoxMVrOHEob9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo0MDoxMVrOHEob9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYxODg2OA==", "bodyText": "Found reliance on default encoding in com.vaadin.flow.server.DevServerWatchDog$WatchDogServer.enterReloadMessageReadLoop(Socket): new java.io.InputStreamReader(InputStream)", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r474618868", "createdAt": "2020-08-21T10:40:11Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/DevServerWatchDog.java", "diffHunk": "@@ -79,6 +84,19 @@ private Logger getLogger() {\n             return LoggerFactory.getLogger(WatchDogServer.class);\n         }\n \n+        private void enterReloadMessageReadLoop(Socket accept) throws IOException{\n+            BufferedReader in = new BufferedReader(new InputStreamReader(accept.getInputStream()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMzg3Nzk4", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-472387798", "createdAt": "2020-08-21T10:40:12Z", "commit": {"oid": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo0MDoxMlrOHEob-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo0MDoxMlrOHEob-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYxODg3NA==", "bodyText": "Do not forget to remove this deprecated code someday.", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r474618874", "createdAt": "2020-08-21T10:40:12Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/Constants.java", "diffHunk": "@@ -406,6 +406,12 @@\n     @Deprecated\n     public static final String SERVLET_PARAMETER_DEVMODE_ENABLE_LIVE_RELOAD = InitParameters.SERVLET_PARAMETER_DEVMODE_ENABLE_LIVE_RELOAD;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/9763bdc63e1877c7b6de9c2fe417c784a9b619a6", "committedDate": "2020-08-21T14:32:34Z", "message": "Convert VaadinDevmodeGizmo to TypeScript"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNTQ1NTkz", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-472545593", "createdAt": "2020-08-21T14:37:47Z", "commit": {"oid": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTczNzAz", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-473173703", "createdAt": "2020-08-24T07:15:10Z", "commit": {"oid": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNzoxNToxMFrOHFXVyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwODoxMDo0OFrOHFZEhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM4NzMzNw==", "bodyText": "JavaDoc missing for new getters and setters. Could explain in the setter what the param does.", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r475387337", "createdAt": "2020-08-24T07:15:10Z", "author": {"login": "caalador"}, "path": "flow-client/src/main/java/com/vaadin/client/ApplicationConfiguration.java", "diffHunk": "@@ -353,4 +358,36 @@ public void setExportedWebComponents(String[] exportedWebComponents) {\n     public String[] getExportedWebComponents() {\n         return exportedWebComponents;\n     }\n+\n+    public boolean isDevmodeGizmoEnabled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTQxNTY4Nw==", "bodyText": "Could have the comment as unstyled css file for on the fly styling or other more descriptive use of the file.", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r475415687", "createdAt": "2020-08-24T08:10:48Z", "author": {"login": "caalador"}, "path": "flow-tests/test-live-reload/frontend/styles.css", "diffHunk": "@@ -0,0 +1 @@\n+/* A CSS file */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aac8cbfe9953c9f802fd9a49b1dfad634f02c494", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/aac8cbfe9953c9f802fd9a49b1dfad634f02c494", "committedDate": "2020-08-24T08:26:30Z", "message": "JavaDocs to AppliationConfiguration methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "398190a9fe9e9c2140a1d47fa5b68cdffbe898d6", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/398190a9fe9e9c2140a1d47fa5b68cdffbe898d6", "committedDate": "2020-08-24T08:26:50Z", "message": "Improved comment in empty CSS file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMjMyOTIx", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-473232921", "createdAt": "2020-08-24T08:43:47Z", "commit": {"oid": "398190a9fe9e9c2140a1d47fa5b68cdffbe898d6"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "442e76f7c56ad4784c9da75f820026df937f7600", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/442e76f7c56ad4784c9da75f820026df937f7600", "committedDate": "2020-08-24T09:35:48Z", "message": "Added ending periods to JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b9f2a3af3645ed995bb0bc4ba874a9a12077c5d", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/7b9f2a3af3645ed995bb0bc4ba874a9a12077c5d", "committedDate": "2020-08-24T09:37:23Z", "message": "Corrected live reload checkbox enabledness logic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMjk3MDIz", "url": "https://github.com/vaadin/flow/pull/8875#pullrequestreview-473297023", "createdAt": "2020-08-24T09:39:52Z", "commit": {"oid": "7b9f2a3af3645ed995bb0bc4ba874a9a12077c5d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 101, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}