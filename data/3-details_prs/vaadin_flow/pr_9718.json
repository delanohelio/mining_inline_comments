{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NjYyNjY2", "number": 9718, "title": "Always install webpack plugins", "bodyText": "Plugin installation can be skipped\nby defining \"update\": false, in installed\npackage.json of plugin under node_modules", "createdAt": "2020-12-23T09:08:55Z", "url": "https://github.com/vaadin/flow/pull/9718", "merged": true, "mergeCommit": {"oid": "090cda3119d5fc22562c8c84cf623fc5d7d376dc"}, "closed": true, "closedAt": "2021-01-04T12:27:37Z", "author": {"login": "caalador"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdo7bZoAH2gAyNTQ0NjYyNjY2Ojk0NDcxNzdkZmM1Zjk4YzQ3NWY0YTg4MjA3N2MwMDBlZmY3ZjUxMWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABds1c-NgFqTU2MDk5MTc1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e", "author": {"user": {"login": "caalador", "name": null}}, "url": "https://github.com/vaadin/flow/commit/9447177dfc5f98c475f4a882077c000eff7f511e", "committedDate": "2020-12-23T09:08:32Z", "message": "Always install webpack plugins\n\nPlugin installation can be skipped\nby defining `\"update\": false,` in installed\npackage.json of plugin under node_modules"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzY0MjMw", "url": "https://github.com/vaadin/flow/pull/9718#pullrequestreview-557764230", "createdAt": "2020-12-23T09:58:43Z", "commit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTo1ODo0M1rOIKfqCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTo1OToxMlrOIKfrFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NTMzNw==", "bodyText": "Why did you drop this check?", "url": "https://github.com/vaadin/flow/pull/9718#discussion_r547875337", "createdAt": "2020-12-23T09:58:43Z", "author": {"login": "mshabarov"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "diffHunk": "@@ -120,14 +120,8 @@ private void generatePluginFiles(String pluginName) throws IOException {\n             String packageFile = FileUtils\n                 .readFileToString(new File(pluginTargetFile, PACKAGE_JSON),\n                     StandardCharsets.UTF_8);\n-            final FrontendVersion packageVersion = new FrontendVersion(\n-                Json.parse(packageFile).getString(\"version\"));\n-            FrontendVersion pluginVersion = new FrontendVersion(\n-                packageJson.getString(\"version\"));\n-            if (packageVersion.isEqualTo(pluginVersion)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3NTYwNw==", "bodyText": "What is the use case when the developer wants to skip any webpack plugin?", "url": "https://github.com/vaadin/flow/pull/9718#discussion_r547875607", "createdAt": "2020-12-23T09:59:12Z", "author": {"login": "mshabarov"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskInstallWebpackPlugins.java", "diffHunk": "@@ -120,14 +120,8 @@ private void generatePluginFiles(String pluginName) throws IOException {\n             String packageFile = FileUtils\n                 .readFileToString(new File(pluginTargetFile, PACKAGE_JSON),\n                     StandardCharsets.UTF_8);\n-            final FrontendVersion packageVersion = new FrontendVersion(\n-                Json.parse(packageFile).getString(\"version\"));\n-            FrontendVersion pluginVersion = new FrontendVersion(\n-                packageJson.getString(\"version\"));\n-            if (packageVersion.isEqualTo(pluginVersion)) {\n-                log().debug(\n-                    \"Skipping install of {} for version {} already installed\",\n-                    pluginName, pluginVersion.getFullVersion());\n+            final JsonObject targetJson = Json.parse(packageFile);\n+            if(targetJson.hasKey(\"update\") && !targetJson.getBoolean(\"update\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3ODAxNTM2", "url": "https://github.com/vaadin/flow/pull/9718#pullrequestreview-557801536", "createdAt": "2020-12-23T11:07:59Z", "commit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwODA5NTc0", "url": "https://github.com/vaadin/flow/pull/9718#pullrequestreview-560809574", "createdAt": "2021-01-04T06:56:33Z", "commit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwOTkxNzU1", "url": "https://github.com/vaadin/flow/pull/9718#pullrequestreview-560991755", "createdAt": "2021-01-04T12:26:31Z", "commit": {"oid": "9447177dfc5f98c475f4a882077c000eff7f511e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 816, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}