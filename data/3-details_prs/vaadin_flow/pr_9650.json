{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5NjIzMjMy", "number": 9650, "title": "Support reusable application theme", "bodyText": "Resolves #9585", "createdAt": "2020-12-14T16:03:41Z", "url": "https://github.com/vaadin/flow/pull/9650", "merged": true, "mergeCommit": {"oid": "a6eebc7e7a654f134d438d7cf4cb02e99616f4c5"}, "closed": true, "closedAt": "2020-12-18T10:27:07Z", "author": {"login": "tanbt"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlDwavAH2gAyNTM5NjIzMjMyOmY4MWY0NGQ1ZmYzMDY1NmI4Nzg3Y2ExNmY3NDdlYWFiY2M3MmFiNGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnVVxSAFqTU1NTM1OTMwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f81f44d5ff30656b8787ca16f747eaabcc72ab4e", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/f81f44d5ff30656b8787ca16f747eaabcc72ab4e", "committedDate": "2020-12-11T08:35:02Z", "message": "Copy theme files from jar to target folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4b788fb58fb992eb3a26af4ae3d14c104e50ccf", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/c4b788fb58fb992eb3a26af4ae3d14c104e50ccf", "committedDate": "2020-12-11T08:41:50Z", "message": "Clone theme from frontend/themes to resources/META-INF/themes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18129cb539226b13ab58313a11b81642dc04e8fd", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/18129cb539226b13ab58313a11b81642dc04e8fd", "committedDate": "2020-12-11T08:59:31Z", "message": "Allow packaging test-theme to jar file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07a5b024445b387815fc8364cf769f5048ac89b9", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/07a5b024445b387815fc8364cf769f5048ac89b9", "committedDate": "2020-12-11T10:33:24Z", "message": "Recorrect theme location inside META-INF"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b64660dbdfe0246b61941681746c39e30403a257", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/b64660dbdfe0246b61941681746c39e30403a257", "committedDate": "2020-12-11T14:58:16Z", "message": "Add submodule for testing app theme reusable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7786ea73f4b60cbea37991e9cbc9cef6a2f8570e", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/7786ea73f4b60cbea37991e9cbc9cef6a2f8570e", "committedDate": "2020-12-11T17:07:39Z", "message": "Install test-themes jar file to .m2 local repo to use for reusable module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa3503b11a19887316e37a52577cb9506e593eeb", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/fa3503b11a19887316e37a52577cb9506e593eeb", "committedDate": "2020-12-11T19:24:28Z", "message": "Rename theme to themes in target/flow-frontend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdb764e70e954e27c150e1aef187581eb69f1ab2", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/cdb764e70e954e27c150e1aef187581eb69f1ab2", "committedDate": "2020-12-14T10:45:17Z", "message": "Merge branch 'master' into reusable-theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fa163482b151b3ef93c1369076b54bccc66e822", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/7fa163482b151b3ef93c1369076b54bccc66e822", "committedDate": "2020-12-14T16:02:33Z", "message": "Update reusable theme IT test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a7b0d51b3e6d5e4e0e58ec1ef1ff64f9377ba97", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/5a7b0d51b3e6d5e4e0e58ec1ef1ff64f9377ba97", "committedDate": "2020-12-15T19:55:30Z", "message": "Update to latest structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c8d9ab32d5c178baa07a5d8c94a1b90c52541a2", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/1c8d9ab32d5c178baa07a5d8c94a1b90c52541a2", "committedDate": "2020-12-15T19:56:57Z", "message": "Merge branch 'master' into reusable-theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "958536e0af427dfd28f84be2e1a8b87ff97b7f6a", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/958536e0af427dfd28f84be2e1a8b87ff97b7f6a", "committedDate": "2020-12-16T08:40:33Z", "message": "Fix assets location when copying to VAADIN/static\n\nThe location should be as same as app theme in frontend/themes/.\nI.e. `target\\classes\\META-INF\\VAADIN\\static\\themes\\reusable-theme`."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8eac0d4cfb08a83cc3138701287362d4242c7a61", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/8eac0d4cfb08a83cc3138701287362d4242c7a61", "committedDate": "2020-12-16T08:30:12Z", "message": "Fix assets location when copying to VAADIN/static\n\nThe location should be as same as app theme in frontend/themes/.\nI.e. `target\\classes\\META-INF\\VAADIN\\static\\themes\\reusable-theme`."}, "afterCommit": {"oid": "958536e0af427dfd28f84be2e1a8b87ff97b7f6a", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/958536e0af427dfd28f84be2e1a8b87ff97b7f6a", "committedDate": "2020-12-16T08:40:33Z", "message": "Fix assets location when copying to VAADIN/static\n\nThe location should be as same as app theme in frontend/themes/.\nI.e. `target\\classes\\META-INF\\VAADIN\\static\\themes\\reusable-theme`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d488a574057dea03b6a77c195074e8cd3893953c", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/d488a574057dea03b6a77c195074e8cd3893953c", "committedDate": "2020-12-16T09:57:52Z", "message": "Fix unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bbe260c35a5e1c0ba156365ca0018718141499d", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/9bbe260c35a5e1c0ba156365ca0018718141499d", "committedDate": "2020-12-16T16:00:21Z", "message": "Merge branch 'master' into reusable-theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eac0f69aed9407b8eb53bc233c640c73feed6e6", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/4eac0f69aed9407b8eb53bc233c640c73feed6e6", "committedDate": "2020-12-16T17:41:58Z", "message": "Move reusable-theme to be packaged in test-resources module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/b5e269d469b2fea457e0636aa37e6dce484c395e", "committedDate": "2020-12-16T20:36:37Z", "message": "Clean up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MzA4NTI3", "url": "https://github.com/vaadin/flow/pull/9650#pullrequestreview-554308527", "createdAt": "2020-12-17T06:22:20Z", "commit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwNjoyMjoyMFrOIHmcHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwNzowMDo1M1rOIHnUsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0MDczNQ==", "bodyText": "Not valid for reusable theme that only packages a jar of the theme", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544840735", "createdAt": "2020-12-17T06:22:20Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/test-theme-reusable/README.md", "diffHunk": "@@ -0,0 +1,2 @@\n+To test #9615 change the importCss and/or asset to a non installed npm module,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0MzYzOA==", "bodyText": "fontawesome should be in the reusable jar in a file Dependencies.java themable can be here as it's a vaadin component dependency if I remember correctly, might not even need it at all anymore as we use actual component implementations from npm.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544843638", "createdAt": "2020-12-17T06:30:11Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/test-theme-reusable/src/main/java/com/vaadin/flow/uitest/ui/theme/AppShell.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.vaadin.flow.uitest.ui.theme;\n+\n+import com.vaadin.flow.component.dependency.NpmPackage;\n+import com.vaadin.flow.component.page.AppShellConfigurator;\n+import com.vaadin.flow.theme.Theme;\n+\n+@Theme(value = \"reusable-theme\")\n+@NpmPackage(value = \"@vaadin/vaadin-themable-mixin\", version = \"1.6.1\")\n+@NpmPackage(value = \"@fortawesome/fontawesome-free\", version = \"5.15.1\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NTAyNg==", "bodyText": "The ts css tests are not needed here as they are not for the reusable feature.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544845026", "createdAt": "2020-12-17T06:33:58Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/test-theme-reusable/frontend/typescript/hello-world-view.ts", "diffHunk": "@@ -0,0 +1,20 @@\n+import '@vaadin/vaadin-text-field';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NTIxOA==", "bodyText": "This is not needed for the reusable test.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544845218", "createdAt": "2020-12-17T06:34:27Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/test-theme-reusable/frontend/index.ts", "diffHunk": "@@ -0,0 +1,23 @@\n+import {Flow} from '@vaadin/flow-frontend/Flow';\n+import {Router} from '@vaadin/router';\n+\n+const {serverSideRoutes} = new Flow({\n+    imports: () => import('../target/frontend/generated-flow-imports'),\n+});\n+\n+const routes = [\n+    // for client-side, place routes below (more info https://vaadin.com/docs/v15/flow/typescript/creating-routes.html)\n+    {\n+        path: 'hello',\n+        component: 'hello-world-view',\n+        action: async () => {\n+            await import('./typescript/hello-world-view');\n+        },\n+    },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NTQ5Ng==", "bodyText": "reusable theme test wouldn't even really need a frontend folder.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544845496", "createdAt": "2020-12-17T06:35:09Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/test-theme-reusable/frontend/index.html", "diffHunk": "@@ -0,0 +1,27 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NTc4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <module>test-theme-reusable</module>\n          \n          \n            \n                    <module>reusable-theme</module>\n          \n          \n            \n                    <module>test-theme-reusable</module>\n          \n      \n    \n    \n  \n\nwhere reusable-theme builds a jar for the test module to use.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544845788", "createdAt": "2020-12-17T06:35:59Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/pom.xml", "diffHunk": "@@ -0,0 +1,22 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>flow-tests</artifactId>\n+        <groupId>com.vaadin</groupId>\n+        <version>6.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>test-application-theme</artifactId>\n+    <name>Flow Application Theme Test</name>\n+    <packaging>pom</packaging>\n+\n+    <modules>\n+        <module>test-theme-reusable</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NjU4MA==", "bodyText": "Not applicable test for reusabel-theme", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544846580", "createdAt": "2020-12-17T06:38:06Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/test-theme-reusable/src/test/java/com/vaadin/flow/uitest/ui/theme/ReusableThemeIT.java", "diffHunk": "@@ -0,0 +1,198 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package com.vaadin.flow.uitest.ui.theme;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.JavascriptExecutor;\n+import org.openqa.selenium.WebElement;\n+\n+import com.vaadin.flow.component.html.testbench.ImageElement;\n+import com.vaadin.flow.component.html.testbench.SpanElement;\n+import com.vaadin.flow.testutil.ChromeBrowserTest;\n+import com.vaadin.testbench.TestBenchElement;\n+\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.BUTTERFLY_ID;\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.FONTAWESOME_ID;\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.MY_LIT_ID;\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.MY_POLYMER_ID;\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.SNOWFLAKE_ID;\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.OCTOPUSS_ID;\n+import static com.vaadin.flow.uitest.ui.theme.ReusableThemeView.SUB_COMPONENT_ID;\n+\n+public class ReusableThemeIT extends ChromeBrowserTest {\n+\n+    @Test\n+    public void typeScriptCssImport_stylesAreApplied() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NzQ2OQ==", "bodyText": "not in folder structure com/vaadin/apptheme/reusabletheme  instead in a folder com.vaadin.apptheme.reusabletheme\nThis should be in the reusable module.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544847469", "createdAt": "2020-12-17T06:40:20Z", "author": {"login": "caalador"}, "path": "flow-tests/test-resources/src/main/java/com.vaadin.apptheme.reusabletheme/Dependency.java", "diffHunk": "@@ -0,0 +1,8 @@\n+package org.vaadin.apptheme.reusabletheme;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg0NzUwNw==", "bodyText": "All of the files in resources should be in the reusable module.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544847507", "createdAt": "2020-12-17T06:40:28Z", "author": {"login": "caalador"}, "path": "flow-tests/test-resources/src/main/resources/META-INF/resources/themes/reusable-theme/README.md", "diffHunk": "@@ -0,0 +1,2 @@\n+This theme is cloned from frontend/themes/app-theme.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDg1NTIxNw==", "bodyText": "Comment is wrong now. Should be updated to say it for the theme-generated and for the jar theme", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544855217", "createdAt": "2020-12-17T07:00:53Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/resources/webpack.generated.js", "diffHunk": "@@ -228,7 +231,7 @@ module.exports = {\n \n     new ApplicationThemePlugin({\n       // The following matches target/flow-frontend/theme/theme-generated.js and not frontend/themes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e269d469b2fea457e0636aa37e6dce484c395e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4589ed2700736a63f569020580e8dec4384075d", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/f4589ed2700736a63f569020580e8dec4384075d", "committedDate": "2020-12-17T08:33:25Z", "message": "Merge branch 'master' into reusable-theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "808b9f1e4cecc3a6e20461fc212bc2fbc47f6c8a", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/808b9f1e4cecc3a6e20461fc212bc2fbc47f6c8a", "committedDate": "2020-12-17T09:36:19Z", "message": "Update flow-tests/test-application-theme/pom.xml\n\nCo-authored-by: caalador <mikael.grankvist@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36e712dad137dc66d6216385ac5d06ad3d006041", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/36e712dad137dc66d6216385ac5d06ad3d006041", "committedDate": "2020-12-17T10:44:46Z", "message": "Move reusable theme to its own module"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NDg3ODU5", "url": "https://github.com/vaadin/flow/pull/9650#pullrequestreview-554487859", "createdAt": "2020-12-17T10:51:56Z", "commit": {"oid": "36e712dad137dc66d6216385ac5d06ad3d006041"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMDo1MTo1NlrOIHv0Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMDo1MzozMFrOIHv4CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDk5NDMyMw==", "bodyText": "This is fine to build only in test-application-theme when it is built. it shouldn't be used outside of the module.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544994323", "createdAt": "2020-12-17T10:51:56Z", "author": {"login": "caalador"}, "path": "pom.xml", "diffHunk": "@@ -36,6 +36,7 @@\n         <module>flow-bom</module>\n         <module>fusion-endpoint</module>\n         <module>build-tools</module>\n+        <module>flow-tests/test-application-theme/reusable-theme</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36e712dad137dc66d6216385ac5d06ad3d006041"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDk5NTMzNg==", "bodyText": "I expect that you will need some flow dependencies to get the imports to compile as at least flow-tests only depend on lumo and not much else.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r544995336", "createdAt": "2020-12-17T10:53:30Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/reusable-theme/pom.xml", "diffHunk": "@@ -0,0 +1,20 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>test-application-theme</artifactId>\n+        <groupId>com.vaadin</groupId>\n+        <version>6.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>reusable-theme</artifactId>\n+    <name>Flow reusable application theme</name>\n+    <packaging>jar</packaging>\n+\n+    <properties>\n+        <maven.deploy.skip>true</maven.deploy.skip>\n+    </properties>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36e712dad137dc66d6216385ac5d06ad3d006041"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64a411c6106c49838d0b450c193cba0e803b3a77", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/64a411c6106c49838d0b450c193cba0e803b3a77", "committedDate": "2020-12-17T11:30:02Z", "message": "Not build reusable-theme outside of its parent module"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTkyMDIx", "url": "https://github.com/vaadin/flow/pull/9650#pullrequestreview-554592021", "createdAt": "2020-12-17T13:15:45Z", "commit": {"oid": "64a411c6106c49838d0b450c193cba0e803b3a77"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMzoxNTo0NlrOIH1Hcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMzoxNTo0NlrOIH1Hcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTA4MTIwMg==", "bodyText": "Not certain we would want the external urls in the reusable theme as then the one reusing should somehow have them served.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r545081202", "createdAt": "2020-12-17T13:15:46Z", "author": {"login": "caalador"}, "path": "flow-tests/test-application-theme/reusable-theme/src/main/resources/META-INF/resources/themes/reusable-theme/global.css", "diffHunk": "@@ -0,0 +1,26 @@\n+@import 'sub-css/sub.css';\n+\n+@font-face {\n+    font-family: \"Ostrich\";\n+    src: url(\"./font/ostrich-sans-regular.ttf\") format(\"TrueType\");\n+}\n+\n+body {\n+    background-image: url(\"./img/bg.jpg\");\n+    font-family: \"Ostrich\";\n+}\n+\n+#butterfly {\n+    /* This shouldn't be translated */\n+    background-image: url(\"./test/path/monarch-butterfly.jpg\");\n+    width: 300px;\n+    height: 274px;\n+    display: block;\n+}\n+\n+#octopuss {\n+    background-image: url('/octopuss.jpg');\n+    width: 224px;\n+    height: 224px;\n+    display: block;\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64a411c6106c49838d0b450c193cba0e803b3a77"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bdf9ad8e9ee4af4687b2dddef2caac9cf75d173", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/2bdf9ad8e9ee4af4687b2dddef2caac9cf75d173", "committedDate": "2020-12-17T13:16:19Z", "message": "Merge branch 'master' into reusable-theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7", "author": {"user": {"login": "tanbt", "name": "Tan Bui"}}, "url": "https://github.com/vaadin/flow/commit/61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7", "committedDate": "2020-12-17T16:13:05Z", "message": "Merge branch 'master' into reusable-theme"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1Mjk5MjMx", "url": "https://github.com/vaadin/flow/pull/9650#pullrequestreview-555299231", "createdAt": "2020-12-18T08:44:31Z", "commit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwODo0NDozMVrOIIYrQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwODo0NDozMVrOIIYrQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY2MzgxMQ==", "bodyText": "@taefi  is running for this to be in FrontendUtils.\n\nOf course, agree to define it once, but I have a feeling that it is better to define it here since many other\ndefault/hardcoded path and folder constants defined in this file, e.g. NODE_MODULES, FRONTEND,\nDEFAULT_NODE_DIR, DEFAULT_FRONTEND_DIR, etc. I propose to keep it here but rename it to\nAPPLICATION_THEME_ROOT as Tan defined.", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r545663811", "createdAt": "2020-12-18T08:44:31Z", "author": {"login": "caalador"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/Constants.java", "diffHunk": "@@ -240,6 +240,16 @@\n      */\n     public static final String RESOURCES_FRONTEND_DEFAULT = \"META-INF/frontend\";\n \n+    /**\n+     * The name of the application theme root folder.\n+     */\n+    public static final String APPLICATION_THEME_ROOT = \"themes\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzQ5NTU1", "url": "https://github.com/vaadin/flow/pull/9650#pullrequestreview-555349555", "createdAt": "2020-12-18T09:57:44Z", "commit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwOTo1Nzo0NFrOIIcZIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxMDowMzoxNlrOIIckkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTcyNDcwNg==", "bodyText": "non-blocking: I'm not sure if this related to this PR (?) but the comment should have been changed too", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r545724706", "createdAt": "2020-12-18T09:57:44Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskUpdateImports.java", "diffHunk": "@@ -134,7 +134,7 @@ protected void writeImportLines(List<String> lines) {\n \n             if (themeDef != null && !\"\".equals(themeDef.getName())) {\n                 // If we define a theme name we need to import theme/theme-generated.js\n-                lines.add(\"import {applyTheme} from 'theme/theme-generated.js';\");\n+                lines.add(\"import {applyTheme} from 'themes/theme-generated.js';\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTcyNzYzMg==", "bodyText": "Please resolve this kind of trivial issues as fast as possible by e.g. just agreeing over Slack", "url": "https://github.com/vaadin/flow/pull/9650#discussion_r545727632", "createdAt": "2020-12-18T10:03:16Z", "author": {"login": "pleku"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/Constants.java", "diffHunk": "@@ -240,6 +240,16 @@\n      */\n     public static final String RESOURCES_FRONTEND_DEFAULT = \"META-INF/frontend\";\n \n+    /**\n+     * The name of the application theme root folder.\n+     */\n+    public static final String APPLICATION_THEME_ROOT = \"themes\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY2MzgxMQ=="}, "originalCommit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzU5MzAw", "url": "https://github.com/vaadin/flow/pull/9650#pullrequestreview-555359300", "createdAt": "2020-12-18T10:12:04Z", "commit": {"oid": "61c0b9f8fa15b07d6b21c5ca56c41255d8df9ba7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 772, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}