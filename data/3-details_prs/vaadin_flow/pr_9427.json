{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyNTA3ODgy", "number": 9427, "title": "feat: TypeScript API for connection indicator configuration", "bodyText": "Use ConnectionIndicator.ts: getConnectionIndicator to access the component\nand configure it using properties in index.ts. Also fixes broken connection state\ntransition when the app is entered via a client-side view.\nFixes #9402.", "createdAt": "2020-11-17T15:42:58Z", "url": "https://github.com/vaadin/flow/pull/9427", "merged": true, "mergeCommit": {"oid": "b57d65c6ac37152241a41c8e48790be16c676560"}, "closed": true, "closedAt": "2020-11-25T08:00:56Z", "author": {"login": "joheriks"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddbiK-ABqjQwMDYxNTcyNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfuXW5AFqTUzNzgxMDIzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f07c770c4bf484c657495536f5d4b1f9d6269c7", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/5f07c770c4bf484c657495536f5d4b1f9d6269c7", "committedDate": "2020-11-17T15:17:45Z", "message": "feat: TypeScript API for connection indicator configuration"}, "afterCommit": {"oid": "bed16d14188ca3fe90f648f41a05290805381d05", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/bed16d14188ca3fe90f648f41a05290805381d05", "committedDate": "2020-11-17T15:45:16Z", "message": "feat: TypeScript API for connection indicator configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a05c90f411b96c5c2ef227d11b81b0729c6f0e9", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/4a05c90f411b96c5c2ef227d11b81b0729c6f0e9", "committedDate": "2020-11-17T16:59:58Z", "message": "feat(offline): add connection indicator element"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f02523f7c51de0ce56e36474505a5357044ead3", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/2f02523f7c51de0ce56e36474505a5357044ead3", "committedDate": "2020-11-17T17:13:37Z", "message": "use ConnectionStateStore in connection indicator element"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "974f09ca388ba2eccd82fa75c4ac6b71b9442bd1", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/974f09ca388ba2eccd82fa75c4ac6b71b9442bd1", "committedDate": "2020-11-17T17:13:43Z", "message": "combine separate loading boolean states into LoadingBarState enum"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43d971cc6445356772668bfddf48c995dd8aaef0", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/43d971cc6445356772668bfddf48c995dd8aaef0", "committedDate": "2020-11-17T17:23:03Z", "message": "fix linter errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b586e0eca18b438ebcb60bc8d243d778a71e614c", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/b586e0eca18b438ebcb60bc8d243d778a71e614c", "committedDate": "2020-11-17T18:23:08Z", "message": "render connection indicator style under head"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8ee252316cdfee93bceb2f345c40f877766c7c8", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/f8ee252316cdfee93bceb2f345c40f877766c7c8", "committedDate": "2020-11-18T11:02:16Z", "message": "fix document.head contents removed by accident"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa9c9e72cdae60c9504cf7aa5fc742f898c59cc2", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/fa9c9e72cdae60c9504cf7aa5fc742f898c59cc2", "committedDate": "2020-11-18T11:11:40Z", "message": "reflect reconnecting attribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16a7eed3ed2f0464baa2a5b5babc2db97d0af338", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/16a7eed3ed2f0464baa2a5b5babc2db97d0af338", "committedDate": "2020-11-18T12:43:07Z", "message": "remove obsolete LoadingIndicator.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "793a3ffb7de0aefa0acef5a09809bfc00a8c1647", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/793a3ffb7de0aefa0acef5a09809bfc00a8c1647", "committedDate": "2020-11-18T13:31:38Z", "message": "rename Vaadin.loadingIndicator to .connectionIndicator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bed16d14188ca3fe90f648f41a05290805381d05", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/bed16d14188ca3fe90f648f41a05290805381d05", "committedDate": "2020-11-17T15:45:16Z", "message": "feat: TypeScript API for connection indicator configuration"}, "afterCommit": {"oid": "b30af65e9ac09e5c2a177e351406d952249c9d07", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b30af65e9ac09e5c2a177e351406d952249c9d07", "committedDate": "2020-11-18T14:35:01Z", "message": "Configuration of additional parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "979d10e1cfbf795cffcdabdbac725a93050cf288", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/979d10e1cfbf795cffcdabdbac725a93050cf288", "committedDate": "2020-11-18T15:20:18Z", "message": "fix ConnectionIndicator showing online text for reconnecting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a4768da2fad4c9bdf0b819c67a2304b8eeeb489", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/2a4768da2fad4c9bdf0b819c67a2304b8eeeb489", "committedDate": "2020-11-18T16:24:48Z", "message": "fix: only expand connection indicator when after state changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ea6f59931c1f3685f2cb13e2c3bb13a5dbdd970", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/4ea6f59931c1f3685f2cb13e2c3bb13a5dbdd970", "committedDate": "2020-11-18T19:23:19Z", "message": "feat: TypeScript API for connection indicator configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d5b891d2022d18fd2cd42d4d2e39a6f30ecd869", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/0d5b891d2022d18fd2cd42d4d2e39a6f30ecd869", "committedDate": "2020-11-18T19:23:19Z", "message": "Configuration of additional parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MTc3MDY4", "url": "https://github.com/vaadin/flow/pull/9427#pullrequestreview-534177068", "createdAt": "2020-11-19T08:26:10Z", "commit": {"oid": "b30af65e9ac09e5c2a177e351406d952249c9d07"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODoyNjoxMVrOH2Rn1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODoyODozMFrOH2RtPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY3Mzg3OQ==", "bodyText": "Maybe it's better to put this at the top of the file", "url": "https://github.com/vaadin/flow/pull/9427#discussion_r526673879", "createdAt": "2020-11-19T08:26:11Z", "author": {"login": "haijian-vaadin"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/AppShell.ts", "diffHunk": "@@ -0,0 +1,103 @@\n+export interface ConnectionIndicatorConfiguration {\n+  onlineText?: string;\n+  offlineText?: string;\n+  firstDelay?: number;\n+  secondDelay?: number;\n+  thirdDelay?: number;\n+  applyDefaultTheme?: boolean;\n+  reconnectModal?: boolean;\n+  reconnectingText?: string;\n+}\n+\n+const $wnd = window as any;\n+\n+/**\n+ * Configures window.Vaadin.connectionIndicator. If not available globally, schedules a repeating\n+ * task until it becomes available.\n+ *\n+ * @param conf All defined fields are applied to the connection indicator configuration.\n+ * @returns The updated configuration of the connection indicator.\n+ */\n+export async function setConnectionIndicatorConfiguration(conf: ConnectionIndicatorConfiguration):\n+  Promise<ConnectionIndicatorConfiguration> {\n+  return new Promise((resolve, reject) => {\n+    const updateConfiguration = () => {\n+      try {\n+        validateDelay(conf.firstDelay);\n+        validateDelay(conf.secondDelay);\n+        validateDelay(conf.thirdDelay);\n+      } catch (error) {\n+        reject(error);\n+      }\n+      if ($wnd.Vaadin?.connectionIndicator) {\n+        setValidatedConnectionIndicatorConfiguration(conf);\n+        return true;\n+      } else {\n+        return false;\n+      }\n+    };\n+    let attempts = 0;\n+    const interval = setInterval(() => {\n+      if (updateConfiguration()) {\n+        clearInterval(interval);\n+        resolve(getConnectionIndicatorConfiguration());\n+      } else {\n+        attempts += 1;\n+        if (attempts >= 10) {\n+          throw new ConfigurationError('window.Vaadin.connectionIndicator not defined');\n+        }\n+      }\n+    }, 100);\n+  });\n+}\n+\n+/**\n+ * An exception that gets thrown for illegal configuration values.\n+ */\n+export class ConfigurationError extends Error {\n+  /**\n+   * @param message the `message` property value\n+   */\n+  constructor(message: string) {\n+    super(message);\n+  }\n+}\n+\n+function validateDelay(delay?: number) {\n+  if (delay !== undefined && delay! < 0) {\n+    throw new ConfigurationError('delays must be positive');\n+  }\n+}\n+\n+/**\n+ * Concrete values for each ConnectionIndicatorConfiguration to enable reflection over the field names.\n+ */\n+\n+/* tslint:disable: max-classes-per-file */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b30af65e9ac09e5c2a177e351406d952249c9d07"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY3NTI2Mg==", "bodyText": "Could also add Appshell.ts here?", "url": "https://github.com/vaadin/flow/pull/9427#discussion_r526675262", "createdAt": "2020-11-19T08:28:30Z", "author": {"login": "haijian-vaadin"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/index.ts", "diffHunk": "@@ -2,3 +2,4 @@ export * from './Flow';\n export * from './Connect';\n export * from './Authentication';\n export * from './Offline';\n+export * from './ConnectionIndicator';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b30af65e9ac09e5c2a177e351406d952249c9d07"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84efcc563f1a74e4b2ed13b3ff7e2ae1b15585d6", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/84efcc563f1a74e4b2ed13b3ff7e2ae1b15585d6", "committedDate": "2020-11-19T09:14:57Z", "message": "Create vaadin-connection-indicator eagerly when configuring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27799d22ebc709e4cb902a64ce400088c0d24787", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/27799d22ebc709e4cb902a64ce400088c0d24787", "committedDate": "2020-11-19T09:15:11Z", "message": "Add exports"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b30af65e9ac09e5c2a177e351406d952249c9d07", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b30af65e9ac09e5c2a177e351406d952249c9d07", "committedDate": "2020-11-18T14:35:01Z", "message": "Configuration of additional parameters"}, "afterCommit": {"oid": "27799d22ebc709e4cb902a64ce400088c0d24787", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/27799d22ebc709e4cb902a64ce400088c0d24787", "committedDate": "2020-11-19T09:15:11Z", "message": "Add exports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08a2ac3339337da602dfdd414ddbb179bf719880", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/08a2ac3339337da602dfdd414ddbb179bf719880", "committedDate": "2020-11-19T09:17:40Z", "message": "Doc correction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11bd03d449a294b838c0d156281873fb63616b98", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/11bd03d449a294b838c0d156281873fb63616b98", "committedDate": "2020-11-19T10:58:37Z", "message": "Connection indicator configuration IT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MzU5Mzc0", "url": "https://github.com/vaadin/flow/pull/9427#pullrequestreview-534359374", "createdAt": "2020-11-19T12:02:31Z", "commit": {"oid": "11bd03d449a294b838c0d156281873fb63616b98"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMjowMjozMVrOH2aLRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMjowMzozNVrOH2aNYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjgxNDAyMg==", "bodyText": "Maybe DefaultConnectionIndicatorConfiguration would be better than ConnectionIndicatorConfigurationImpl?", "url": "https://github.com/vaadin/flow/pull/9427#discussion_r526814022", "createdAt": "2020-11-19T12:02:31Z", "author": {"login": "haijian-vaadin"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/AppShell.ts", "diffHunk": "@@ -0,0 +1,82 @@\n+/* tslint:disable: max-classes-per-file */\n+\n+import {addConnectionIndicator} from \"./ConnectionIndicator\";\n+\n+export interface ConnectionIndicatorConfiguration {\n+  onlineText?: string;\n+  offlineText?: string;\n+  firstDelay?: number;\n+  secondDelay?: number;\n+  thirdDelay?: number;\n+  applyDefaultTheme?: boolean;\n+  reconnectModal?: boolean;\n+  reconnectingText?: string;\n+}\n+\n+const $wnd = window as any;\n+\n+/**\n+ * Configures window.Vaadin.connectionIndicator.\n+ *\n+ * @param conf All defined fields are applied to the connection indicator configuration.\n+ * @returns The updated configuration of the connection indicator.\n+ */\n+export function setConnectionIndicatorConfiguration(conf: ConnectionIndicatorConfiguration):\n+  ConnectionIndicatorConfiguration {\n+  // ensure the connection indicator is in the DOM and accessible via window.Vaadin.connectionIndicator\n+  addConnectionIndicator();\n+  validateDelay(conf.firstDelay);\n+  validateDelay(conf.secondDelay);\n+  validateDelay(conf.thirdDelay);\n+  setValidatedConnectionIndicatorConfiguration(conf);\n+  return getConnectionIndicatorConfiguration();\n+}\n+\n+/**\n+ * An exception that gets thrown for illegal configuration values.\n+ */\n+export class ConfigurationError extends Error {\n+  /**\n+   * @param message the `message` property value\n+   */\n+  constructor(message: string) {\n+    super(message);\n+  }\n+}\n+\n+function validateDelay(delay?: number) {\n+  if (delay !== undefined && delay! < 0) {\n+    throw new ConfigurationError('delays must be positive');\n+  }\n+}\n+\n+/**\n+ * Concrete values for each ConnectionIndicatorConfiguration to enable reflection over the field names.\n+ */\n+class ConnectionIndicatorConfigurationImpl implements ConnectionIndicatorConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11bd03d449a294b838c0d156281873fb63616b98"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjgxNDU2Mw==", "bodyText": "Could we have some inline doc for the class and the properties?", "url": "https://github.com/vaadin/flow/pull/9427#discussion_r526814563", "createdAt": "2020-11-19T12:03:35Z", "author": {"login": "haijian-vaadin"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/AppShell.ts", "diffHunk": "@@ -0,0 +1,82 @@\n+/* tslint:disable: max-classes-per-file */\n+\n+import {addConnectionIndicator} from \"./ConnectionIndicator\";\n+\n+export interface ConnectionIndicatorConfiguration {\n+  onlineText?: string;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11bd03d449a294b838c0d156281873fb63616b98"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28d71d198a9bffa6b4e4760264cb98a2a6dfc57a", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/28d71d198a9bffa6b4e4760264cb98a2a6dfc57a", "committedDate": "2020-11-23T15:50:28Z", "message": "Merge branch 'feature/offline-connection-indicator-element' into joheriks/9402-connection-indicator-ts-conf-api\n\n# Conflicts:\n#\tflow-client/src/main/resources/META-INF/resources/frontend/ConnectionIndicator.ts\n#\tflow-client/src/main/resources/META-INF/resources/frontend/Flow.ts\n#\tflow-client/src/main/resources/META-INF/resources/frontend/index.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7c77cb84f9dee95d1af72a7734967c501bbeb86", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b7c77cb84f9dee95d1af72a7734967c501bbeb86", "committedDate": "2020-11-23T16:17:49Z", "message": "Documented configuration fields, added expandedDuration, renamed internal class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d53d42e20bd242ab3a7f03bacb2833fc7d1e1ae", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/8d53d42e20bd242ab3a7f03bacb2833fc7d1e1ae", "committedDate": "2020-11-24T07:36:13Z", "message": "fix: If flow client not loaded, check server reachability using HEAD request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56ab2d5887eb6af49f60885145c22193bb98555c", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/56ab2d5887eb6af49f60885145c22193bb98555c", "committedDate": "2020-11-24T08:33:25Z", "message": "chore: unit test for transitions from CONNECTION_LOST to CONNECTED/RECONNECTING"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66b00624163ad14ef19847052b289527e9481e15", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/66b00624163ad14ef19847052b289527e9481e15", "committedDate": "2020-11-24T08:40:56Z", "message": "feat: simplified the connection indicator configuration (removed intermediate DTO)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6bb6b2b548838cf47d579c539063fdfbef26127", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/b6bb6b2b548838cf47d579c539063fdfbef26127", "committedDate": "2020-11-24T08:51:21Z", "message": "doc: documented getConnectionIndicator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e1b67a3d0532c60008b2f17f98992fe7b2551cd", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/8e1b67a3d0532c60008b2f17f98992fe7b2551cd", "committedDate": "2020-11-24T09:06:04Z", "message": "fix: go to RECONNECTING when receiving \"online\" in CONNECTION_LOST"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3Mjc3Njc0", "url": "https://github.com/vaadin/flow/pull/9427#pullrequestreview-537277674", "createdAt": "2020-11-24T09:07:58Z", "commit": {"oid": "b6bb6b2b548838cf47d579c539063fdfbef26127"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTowNzo1OFrOH4zCUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTowNzo1OFrOH4zCUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTMxODQ4MA==", "bodyText": "indentations missing?", "url": "https://github.com/vaadin/flow/pull/9427#discussion_r529318480", "createdAt": "2020-11-24T09:07:58Z", "author": {"login": "haijian-vaadin"}, "path": "flow-client/src/main/resources/META-INF/resources/frontend/ConnectionIndicator.ts", "diffHunk": "@@ -124,9 +124,9 @@ export class ConnectionIndicator extends LitElement {\n        style=\"${this.getLoadingBarStyle()}\"></div>\n \n       <div class=\"v-status-message ${classMap({\n-        active: this.reconnecting,\n-        modal: this.reconnectModal\n-      })}\">\n+      active: this.reconnecting,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6bb6b2b548838cf47d579c539063fdfbef26127"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3957b979d3610b7c1d0ec6c551858c099a7502fd", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/3957b979d3610b7c1d0ec6c551858c099a7502fd", "committedDate": "2020-11-24T10:04:27Z", "message": "chore: indentation fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66cf96ef498c3cbe0ca409eb7c18d05b293dd31e", "author": {"user": {"login": "joheriks", "name": "Johannes Eriksson"}}, "url": "https://github.com/vaadin/flow/commit/66cf96ef498c3cbe0ca409eb7c18d05b293dd31e", "committedDate": "2020-11-24T10:07:34Z", "message": "chore: minor test name correction"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODEwMjM4", "url": "https://github.com/vaadin/flow/pull/9427#pullrequestreview-537810238", "createdAt": "2020-11-24T18:50:02Z", "commit": {"oid": "66cf96ef498c3cbe0ca409eb7c18d05b293dd31e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4505, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}