{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5Mjg0NzQ3", "number": 8159, "title": "Generate Validations for Models", "bodyText": "This change is\u2002", "createdAt": "2020-04-27T06:36:48Z", "url": "https://github.com/vaadin/flow/pull/8159", "merged": true, "mergeCommit": {"oid": "0914175e4c937bc526ccf3cef1b6f21087f7aef7"}, "closed": true, "closedAt": "2020-04-27T17:07:55Z", "author": {"login": "manolo"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbZFkmgH2gAyNDA5Mjg0NzQ3OjZjMTc5ODQxZGFlYzE0MDk2MzMyMTNlZDQyZWE2ZDhjZjJhMmI2YWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbvbQmgFqTQwMDk1ODYwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6c179841daec1409633213ed42ea6d8cf2a2b6aa", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/6c179841daec1409633213ed42ea6d8cf2a2b6aa", "committedDate": "2020-04-26T11:35:45Z", "message": "Generate validators in TS"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c4e870179dc8535f3f2c177927829095cb139ae", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/3c4e870179dc8535f3f2c177927829095cb139ae", "committedDate": "2020-04-26T16:21:43Z", "message": "re-factor validators to pass an option object in constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b9b575f6122705faad5fcb62a0eda5748388c38", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/4b9b575f6122705faad5fcb62a0eda5748388c38", "committedDate": "2020-04-27T06:35:25Z", "message": "Add fromString to the ObjectModel"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNjY4NDAw", "url": "https://github.com/vaadin/flow/pull/8159#pullrequestreview-400668400", "createdAt": "2020-04-27T06:50:48Z", "commit": {"oid": "4b9b575f6122705faad5fcb62a0eda5748388c38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwNjo1MDo0OFrOGMTcAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwNjo1MDo0OFrOGMTcAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU1NDU2MA==", "bodyText": "This block of commented-out lines of code should be removed.", "url": "https://github.com/vaadin/flow/pull/8159#discussion_r415554560", "createdAt": "2020-04-27T06:50:48Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/connect/generator/OpenApiObjectGenerator.java", "diffHunk": "@@ -466,9 +466,23 @@ private Schema createSingleSchema(String fullQualifiedName,\n \n     private void addFieldAnnotationsToSchema(FieldDeclaration field,\n             Schema<?> schema) {\n-        List<String> annotations = field.getAnnotations().stream()\n-                .map(a -> a.toString().substring(1))\n-                .collect(Collectors.toList());\n+        List<String> annotations = new ArrayList<>();\n+        field.getAnnotations().stream().forEach(annotation -> {\n+            String str = annotation.toString()\n+                    // remove annotation character\n+                    .replaceFirst(\"@\", \"\")\n+                    // wrap arguments with curly\n+                    .replaceFirst(\"\\\\(\", \"({\").replaceFirst(\"\\\\)$\", \"})\")\n+                    // change to json syntax\n+                    .replace(\" = \", \":\");\n+            // append parenthesis if not already;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b9b575f6122705faad5fcb62a0eda5748388c38"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d3f2146928ff177ac41617437fff1e1451ce3b1", "author": {"user": {"login": "manolo", "name": "Manuel Carrasco Mo\u00f1ino"}}, "url": "https://github.com/vaadin/flow/commit/7d3f2146928ff177ac41617437fff1e1451ce3b1", "committedDate": "2020-04-27T09:53:32Z", "message": "align DecimalMin/DecimalMax implementation with java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwODA0Njg5", "url": "https://github.com/vaadin/flow/pull/8159#pullrequestreview-400804689", "createdAt": "2020-04-27T10:02:22Z", "commit": {"oid": "7d3f2146928ff177ac41617437fff1e1451ce3b1"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwOTU4NjA1", "url": "https://github.com/vaadin/flow/pull/8159#pullrequestreview-400958605", "createdAt": "2020-04-27T13:37:21Z", "commit": {"oid": "7d3f2146928ff177ac41617437fff1e1451ce3b1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 579, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}