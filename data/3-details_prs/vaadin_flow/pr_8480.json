{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NDg5NjY4", "number": 8480, "title": "Throw a meaningfull exception on change property/attribute of Text", "bodyText": "Fixes #7686\n\n\nThis change is\u2002", "createdAt": "2020-06-02T10:18:23Z", "url": "https://github.com/vaadin/flow/pull/8480", "merged": true, "mergeCommit": {"oid": "2b945d6b193ddb260c92aaf9e15f69d1ca02130c"}, "closed": true, "closedAt": "2020-06-09T06:35:56Z", "author": {"login": "denis-anisimov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnSJjJgH2gAyNDI2NDg5NjY4OjFkZmM4MTA0MTI1OGMwY2Q4M2VlMzk2MGY3ODgyOTVkMThlZGQ0Njk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpfJ7sgFqTQyNjgyNjM3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1dfc81041258c0cd83ee3960f788295d18edd469", "author": {"user": null}, "url": "https://github.com/vaadin/flow/commit/1dfc81041258c0cd83ee3960f788295d18edd469", "committedDate": "2020-06-02T10:17:51Z", "message": "Throw a meaningfull exception on change property/attribute of Text\n\nFixes #7686"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NDgwNjg5", "url": "https://github.com/vaadin/flow/pull/8480#pullrequestreview-424480689", "createdAt": "2020-06-04T14:01:35Z", "commit": {"oid": "1dfc81041258c0cd83ee3960f788295d18edd469"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNDowMTozNVrOGfHeZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNDowNTowNFrOGfHpOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI4MTUwOQ==", "bodyText": "Typo: \"visibiltiy\" -> \"visibility\".", "url": "https://github.com/vaadin/flow/pull/8480#discussion_r435281509", "createdAt": "2020-06-04T14:01:35Z", "author": {"login": "joheriks"}, "path": "flow-server/src/main/java/com/vaadin/flow/component/Text.java", "diffHunk": "@@ -59,4 +59,20 @@ public String getText() {\n         return getElement().getText();\n     }\n \n+    @Override\n+    protected <T> void set(PropertyDescriptor<T, ?> descriptor, T value) {\n+        throw new UnsupportedOperationException(\"Cannot set '\"\n+                + descriptor.getPropertyName() + \"' property to the \"\n+                + getClass().getSimpleName() + \" component because it doesn't \"\n+                + \"represent an HTML Element but a text Node on the client side.\");\n+    }\n+\n+    @Override\n+    public void setVisible(boolean visible) {\n+        throw new UnsupportedOperationException(\"Cannot change \"\n+                + getClass().getSimpleName()\n+                + \" component visibiltiy because it doesn't \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dfc81041258c0cd83ee3960f788295d18edd469"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI4NDI4MQ==", "bodyText": "Unnecessary redundant strings adds maintenance burden, could the test just check for UnsupportedOperationException agnostic about message contents?", "url": "https://github.com/vaadin/flow/pull/8480#discussion_r435284281", "createdAt": "2020-06-04T14:05:04Z", "author": {"login": "joheriks"}, "path": "flow-server/src/test/java/com/vaadin/flow/component/TextTest.java", "diffHunk": "@@ -44,4 +48,41 @@ public void setGetText() {\n         Assert.assertEquals(\"Simple\", new Text(\"Simple\").getText());\n         Assert.assertEquals(\"\u00e5\u00e4\u00f6 \u20ac#%\u00b0#\", new Text(\"\u00e5\u00e4\u00f6 \u20ac#%\u00b0#\").getText());\n     }\n+\n+    @Test\n+    public void setId_throwsWithMeaningfulMessage() {\n+        assertExceptionOnSetProperty(\"id\");\n+\n+        new Text(\"\").setId(\"foo\");\n+    }\n+\n+    @Test\n+    public void setFooProperty_throwsWithMeaningfulMessage() {\n+        assertExceptionOnSetProperty(\"foo\");\n+\n+        new Text(\"\").set(PropertyDescriptors.propertyWithDefault(\"foo\", true),\n+                false);\n+    }\n+\n+    @Test\n+    public void setVisibility_throwsWithMeaningfulMessage() {\n+        exception.expect(UnsupportedOperationException.class);\n+\n+        exception.expectMessage(CoreMatchers.allOf(\n+                CoreMatchers.containsString(\n+                        \"Cannot change Text component visibiltiy\"),\n+                CoreMatchers.containsString(\n+                        \"because it doesn't represent an HTML Element\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dfc81041258c0cd83ee3960f788295d18edd469"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cacda976972f0eb60d96ba241f8da5e963de60f3", "author": {"user": null}, "url": "https://github.com/vaadin/flow/commit/cacda976972f0eb60d96ba241f8da5e963de60f3", "committedDate": "2020-06-09T05:29:16Z", "message": "Correct typo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "538de21643a858bc1f22b49c4382fb832b44589e", "author": {"user": null}, "url": "https://github.com/vaadin/flow/commit/538de21643a858bc1f22b49c4382fb832b44589e", "committedDate": "2020-06-09T05:03:53Z", "message": "Correct typo"}, "afterCommit": {"oid": "cacda976972f0eb60d96ba241f8da5e963de60f3", "author": {"user": null}, "url": "https://github.com/vaadin/flow/commit/cacda976972f0eb60d96ba241f8da5e963de60f3", "committedDate": "2020-06-09T05:29:16Z", "message": "Correct typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2ODI2Mzcx", "url": "https://github.com/vaadin/flow/pull/8480#pullrequestreview-426826371", "createdAt": "2020-06-09T06:34:53Z", "commit": {"oid": "cacda976972f0eb60d96ba241f8da5e963de60f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 419, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}