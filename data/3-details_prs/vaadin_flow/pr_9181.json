{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzODkxNjE2", "number": 9181, "title": "fix(offline): support offlinePath from PWA annotation", "bodyText": "Fixes #8856", "createdAt": "2020-10-15T07:28:13Z", "url": "https://github.com/vaadin/flow/pull/9181", "merged": true, "mergeCommit": {"oid": "ffc0326710f8c704746546c85394b409f162b26f"}, "closed": true, "closedAt": "2020-10-28T10:50:11Z", "author": {"login": "platosha"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdS12DigBqjM4ODI5NDI0MDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdW6uKUgFqTUxODUwMjAwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d06dd3b861a57b1cba4acf3e8e1d306153afdaf0", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/d06dd3b861a57b1cba4acf3e8e1d306153afdaf0", "committedDate": "2020-10-15T07:26:19Z", "message": "--wip-- [skip ci]"}, "afterCommit": {"oid": "ded35b9cb96a5388b51e1791efc73a68f80a1773", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/ded35b9cb96a5388b51e1791efc73a68f80a1773", "committedDate": "2020-10-15T18:11:39Z", "message": "--wip-- [skip ci]"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ded35b9cb96a5388b51e1791efc73a68f80a1773", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/ded35b9cb96a5388b51e1791efc73a68f80a1773", "committedDate": "2020-10-15T18:11:39Z", "message": "--wip-- [skip ci]"}, "afterCommit": {"oid": "9ece64635451bce2bb2a234a08ec2a01446392ae", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/9ece64635451bce2bb2a234a08ec2a01446392ae", "committedDate": "2020-10-19T15:07:32Z", "message": "fix: enable using PWA offlinePath HTML for offline mode when set\n\nFixes #8856"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ece64635451bce2bb2a234a08ec2a01446392ae", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/9ece64635451bce2bb2a234a08ec2a01446392ae", "committedDate": "2020-10-19T15:07:32Z", "message": "fix: enable using PWA offlinePath HTML for offline mode when set\n\nFixes #8856"}, "afterCommit": {"oid": "f8000c09c32ee4cd4b12746fb8db1e211ed45598", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/f8000c09c32ee4cd4b12746fb8db1e211ed45598", "committedDate": "2020-10-21T15:42:08Z", "message": "fix: enable using PWA offlinePath HTML for offline mode when set\n\nFixes #8856"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MTUxOTAx", "url": "https://github.com/vaadin/flow/pull/9181#pullrequestreview-514151901", "createdAt": "2020-10-21T20:17:36Z", "commit": {"oid": "f8000c09c32ee4cd4b12746fb8db1e211ed45598"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8000c09c32ee4cd4b12746fb8db1e211ed45598", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/f8000c09c32ee4cd4b12746fb8db1e211ed45598", "committedDate": "2020-10-21T15:42:08Z", "message": "fix: enable using PWA offlinePath HTML for offline mode when set\n\nFixes #8856"}, "afterCommit": {"oid": "a5c19fad3f20a8ce3079e29734bad6fe7f2d6a0b", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/a5c19fad3f20a8ce3079e29734bad6fe7f2d6a0b", "committedDate": "2020-10-22T11:01:00Z", "message": "fix(test): avoid casting of CI RemoteWebDriver to ChromeDriver"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a5c19fad3f20a8ce3079e29734bad6fe7f2d6a0b", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/a5c19fad3f20a8ce3079e29734bad6fe7f2d6a0b", "committedDate": "2020-10-22T11:01:00Z", "message": "fix(test): avoid casting of CI RemoteWebDriver to ChromeDriver"}, "afterCommit": {"oid": "aa2c51de1c0bbbf50723dac8dba9b49cecd8e2ce", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/aa2c51de1c0bbbf50723dac8dba9b49cecd8e2ce", "committedDate": "2020-10-23T11:07:25Z", "message": "fix(test): avoid casting of CI RemoteWebDriver to ChromeDriver"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a546266e855f71e66e2f0ebaa0bcede1f4dc85ea", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/a546266e855f71e66e2f0ebaa0bcede1f4dc85ea", "committedDate": "2020-10-26T14:39:57Z", "message": "test: get location screenshots"}, "afterCommit": {"oid": "622b0ef88e2e4a45ca128c3fb9a3148ca08e2930", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/622b0ef88e2e4a45ca128c3fb9a3148ca08e2930", "committedDate": "2020-10-26T14:40:45Z", "message": "test: get location screenshots"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NzE5ODY5", "url": "https://github.com/vaadin/flow/pull/9181#pullrequestreview-517719869", "createdAt": "2020-10-27T13:46:29Z", "commit": {"oid": "a83d9f33f417bf1120d6d3cebf1284e2c019b345"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2496b42d2a54d647fbd22813a80a6691bd448b3", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/d2496b42d2a54d647fbd22813a80a6691bd448b3", "committedDate": "2020-10-27T15:32:55Z", "message": "fix: enable using PWA offlinePath HTML for offline mode when set\n\nFixes #8856"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1281d3e6beb5c9a350aa794d5d29d36bef4e964e", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/1281d3e6beb5c9a350aa794d5d29d36bef4e964e", "committedDate": "2020-10-27T15:32:55Z", "message": "fix(test): avoid casting of CI RemoteWebDriver to ChromeDriver"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "900519f405eb7c23a24416c5626bf59c7b3f2952", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/900519f405eb7c23a24416c5626bf59c7b3f2952", "committedDate": "2020-10-27T15:32:55Z", "message": "fix(test): use setNetworkConnection API for offline testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a0dbe623b5e81d805c6d15b4243b41f7e9a46b7", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/6a0dbe623b5e81d805c6d15b4243b41f7e9a46b7", "committedDate": "2020-10-27T15:32:55Z", "message": "fix(test): try waiting for offline page load"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4475ca74846592c2d77b331aa79513ead5b9a72a", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/4475ca74846592c2d77b331aa79513ead5b9a72a", "committedDate": "2020-10-27T15:32:55Z", "message": "fix(test): enable service workers in CI remote Chrome"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3df3e4bc01c37cbbf3c12ed387d3b98938b58b26", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/3df3e4bc01c37cbbf3c12ed387d3b98938b58b26", "committedDate": "2020-10-27T15:32:55Z", "message": "fix(PwaTestIT): remove headless flags from Chrome"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90c6a8471fc1101d40a622b2db4388f81f50aade", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/90c6a8471fc1101d40a622b2db4388f81f50aade", "committedDate": "2020-10-27T15:32:55Z", "message": "refactor(test): extract ChromeDeviceTest superclass and cleanup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a83d9f33f417bf1120d6d3cebf1284e2c019b345", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/a83d9f33f417bf1120d6d3cebf1284e2c019b345", "committedDate": "2020-10-27T12:42:30Z", "message": "fix(PwaTestIT): remove headless flags from Chrome"}, "afterCommit": {"oid": "90c6a8471fc1101d40a622b2db4388f81f50aade", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/90c6a8471fc1101d40a622b2db4388f81f50aade", "committedDate": "2020-10-27T15:32:55Z", "message": "refactor(test): extract ChromeDeviceTest superclass and cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MDk5OTgx", "url": "https://github.com/vaadin/flow/pull/9181#pullrequestreview-518099981", "createdAt": "2020-10-27T20:07:28Z", "commit": {"oid": "90c6a8471fc1101d40a622b2db4388f81f50aade"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowNzoyOFrOHpO34w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowNzoyOFrOHpO34w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NzM0Nw==", "bodyText": "Is this JavaDoc actually correct? I tested @PWA(offlinePath=\"notexisting.html) where notexisting.html is not served by the app and the browser replied This site can\u2019t be reached rather than falling back to the appshell.", "url": "https://github.com/vaadin/flow/pull/9181#discussion_r512997347", "createdAt": "2020-10-27T20:07:28Z", "author": {"login": "joheriks"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/PWA.java", "diffHunk": "@@ -66,14 +66,15 @@\n     /**\n      * Path to the static offline html file.\n      *\n-     * Defaults to (relative) {@literal offline.html} with default configuration\n-     * that is {@literal webapp/offline.html}\n+     * Defaults to empty value, meaning that the application shell (`index\n+     * .html` file) is used offline.\n      *\n-     * If offline file is not found, falls back to default offline page.\n+     * If offline file is not found, falls back to using the application shell\n+     * offline.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90c6a8471fc1101d40a622b2db4388f81f50aade"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4a0f6c6e57cfc1961058fbc59dc11eed20d4af9", "author": {"user": {"login": "platosha", "name": "Anton Platonov"}}, "url": "https://github.com/vaadin/flow/commit/b4a0f6c6e57cfc1961058fbc59dc11eed20d4af9", "committedDate": "2020-10-28T08:39:29Z", "message": "docs: fix offlinePath description on file not found case"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NTAyMDAw", "url": "https://github.com/vaadin/flow/pull/9181#pullrequestreview-518502000", "createdAt": "2020-10-28T10:08:30Z", "commit": {"oid": "b4a0f6c6e57cfc1961058fbc59dc11eed20d4af9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4692, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}