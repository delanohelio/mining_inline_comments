{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2ODc4NTkx", "number": 7625, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMzowMjo0MFrODhg-NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMzowMjo0MFrODhg-NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NDY5ODEzOnYy", "diffSide": "RIGHT", "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/FrontendUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMzowMjo0MFrOFsSdRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMzowMjo0MFrOFsSdRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk4NDA2OQ==", "bodyText": "Found reliance on default encoding in com.vaadin.flow.server.frontend.FrontendUtils.readProxySettingsFromNpmrcFile(String, File): new java.io.FileReader(File)", "url": "https://github.com/vaadin/flow/pull/7625#discussion_r381984069", "createdAt": "2020-02-20T13:02:40Z", "author": {"login": "vaadin-bot"}, "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/FrontendUtils.java", "diffHunk": "@@ -426,9 +441,118 @@ protected static String installNode(File installDirectory,\n                 .toString();\n     }\n \n-    private static List<ProxyConfig.Proxy> getProxies() {\n-        // TODO: Implement proxy collection #7567\n-        return Collections.emptyList();\n+    /**\n+     * Read list of configured proxies in order from system properties, .npmrc\n+     * file in the project root folder, .npmrc file in user root folder and\n+     * system environment variables.\n+     *\n+     * @param baseDir\n+     *            project root folder.\n+     * @return list of configured proxies\n+     */\n+    // Not private because of test\n+    static List<ProxyConfig.Proxy> getProxies(String baseDir) {\n+        File projectNpmrc = new File(baseDir, \".npmrc\");\n+        File userNpmrc = new File(FileUtils.getUserDirectory(), \".npmrc\");\n+        List<ProxyConfig.Proxy> proxyList = new ArrayList<>();\n+\n+        proxyList.addAll(readProxySettingsFromSystemProperties());\n+        proxyList.addAll(\n+                readProxySettingsFromNpmrcFile(\"project .npmrc\", projectNpmrc));\n+        proxyList.addAll(\n+                readProxySettingsFromNpmrcFile(\"user .npmrc\", userNpmrc));\n+        proxyList.addAll(readProxySettingsFromEnvironmentVariables());\n+\n+        return proxyList;\n+    }\n+\n+    private static List<ProxyConfig.Proxy> readProxySettingsFromNpmrcFile(\n+            String fileDescription, File npmrc) {\n+        if (!npmrc.exists()) {\n+            return Collections.emptyList();\n+        }\n+\n+        try (FileReader fileReader = new FileReader(npmrc)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c6a5c18405361cf8fa92d01bd01956989f356ec"}, "originalPosition": 109}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3676, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}