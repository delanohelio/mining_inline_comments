{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMTIyMTI2", "number": 275, "title": "HH-115873 change structure of datasource metrics", "bodyText": "\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u0435\u0442\u0440\u0438\u043a \u0411\u0414\n\u0411\u044b\u043b\u043e: name=\"hh-as.slow.connection.creation_ms\"\n\u0421\u0442\u0430\u043b\u043e: name=\"jdbc_pool.connection.creation_ms\", datasource=\"slow\", app=\"hh-as\"\n\u0418\u043c\u044f \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0443\u043d\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043e, \u0430 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0438\u043b\u0438 \u0411\u0414 \u0432\u044b\u043d\u0435\u0441\u0435\u043d\u044b \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0442\u044d\u0433\u0438\n\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442", "createdAt": "2020-10-29T09:02:21Z", "url": "https://github.com/hhru/nuts-and-bolts/pull/275", "merged": true, "mergeCommit": {"oid": "75d93002d93be8f8fd1dad9ebbde86a6b7b59ece"}, "closed": true, "closedAt": "2020-10-29T15:14:48Z", "author": {"login": "nicholasgribanov"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXRJDVAFqTUxOTYwMjAwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXTcthgBqjM5MzY3ODc1NTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NjAyMDA2", "url": "https://github.com/hhru/nuts-and-bolts/pull/275#pullrequestreview-519602006", "createdAt": "2020-10-29T12:15:30Z", "commit": {"oid": "9719e3e637655b483630fc6be2e69c2ca788c763"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjoxNTozMVrOHqZCYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjoxNTozMVrOHqZCYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDIxMjQ1MA==", "bodyText": "\u0447\u0442\u043e \u0437\u0430 null?", "url": "https://github.com/hhru/nuts-and-bolts/pull/275#discussion_r514212450", "createdAt": "2020-10-29T12:15:31Z", "author": {"login": "dzharikhin"}, "path": "nab-common/src/main/java/ru/hh/nab/common/executor/MonitoredThreadPoolExecutor.java", "diffHunk": "@@ -102,7 +102,7 @@ public static ThreadPoolExecutor create(FileSettings threadPoolSettings, String\n       statsDSender.sendMax(poolSizeMetricName, threadPoolExecutor.poolSizeMetric);\n       statsDSender.sendMax(activeCountMetricName, threadPoolExecutor.activeCountMetric);\n       statsDSender.sendMax(queueSizeMetricName, threadPoolExecutor.queueSizeMetric);\n-      statsDSender.sendHistogram(taskDurationMetricName, threadPoolExecutor.taskDurationMetric, DEFAULT_PERCENTILES);\n+      statsDSender.sendHistogram(taskDurationMetricName, null, threadPoolExecutor.taskDurationMetric, DEFAULT_PERCENTILES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9719e3e637655b483630fc6be2e69c2ca788c763"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5Njc3MjA5", "url": "https://github.com/hhru/nuts-and-bolts/pull/275#pullrequestreview-519677209", "createdAt": "2020-10-29T13:43:32Z", "commit": {"oid": "00e471455058f931579d6f95f5062d297ff85745"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7927fc649103bb76a560f1694d26c88184dd5d01", "author": {"user": null}, "url": "https://github.com/hhru/nuts-and-bolts/commit/7927fc649103bb76a560f1694d26c88184dd5d01", "committedDate": "2020-10-29T14:56:19Z", "message": "HH-115873 change structure of datasource metrics"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00e471455058f931579d6f95f5062d297ff85745", "author": {"user": null}, "url": "https://github.com/hhru/nuts-and-bolts/commit/00e471455058f931579d6f95f5062d297ff85745", "committedDate": "2020-10-29T13:31:48Z", "message": "overload sendHistogram"}, "afterCommit": {"oid": "7927fc649103bb76a560f1694d26c88184dd5d01", "author": {"user": null}, "url": "https://github.com/hhru/nuts-and-bolts/commit/7927fc649103bb76a560f1694d26c88184dd5d01", "committedDate": "2020-10-29T14:56:19Z", "message": "HH-115873 change structure of datasource metrics"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3361, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}