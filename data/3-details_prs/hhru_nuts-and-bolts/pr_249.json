{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5MjIxNjI3", "number": 249, "title": "Hh 111733", "bodyText": "https://jira.hh.ru/browse/HH-111733", "createdAt": "2020-06-24T13:51:14Z", "url": "https://github.com/hhru/nuts-and-bolts/pull/249", "merged": true, "mergeCommit": {"oid": "5bee96438a14bf42c0a549bdba2cce0fa32b8b83"}, "closed": true, "closedAt": "2020-06-25T16:53:14Z", "author": {"login": "pvorlov"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcua1stgFqTQzNjY5Njk3NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuwwcGgBqjM0ODMwNTg3NjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2Njk2OTc0", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-436696974", "createdAt": "2020-06-24T14:22:46Z", "commit": {"oid": "7d1edb7e38ec79fc95ab879e456a51bc02bd36fe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDoyMjo0N1rOGoUclw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDoyMjo0N1rOGoUclw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkzMTIyMw==", "bodyText": "\u0424\u0438\u043a\u0441 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0431\u0430\u0433\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438, PortHolder \u043d\u0435 \u043e\u0442\u043f\u0443\u0441\u043a\u0430\u043b \u043f\u043e\u0440\u0442 \u0438 \u0442\u0435\u0441\u0442\u044b \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u0438 \u0441 testbase-old", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#discussion_r444931223", "createdAt": "2020-06-24T14:22:47Z", "author": {"login": "pvorlov"}, "path": "nab-testbase-old/src/main/java/ru/hh/nab/testbase/old/JettyTestContainer.java", "diffHunk": "@@ -16,7 +16,7 @@\n   private final URI baseUri;\n \n   JettyTestContainer(NabApplication application, WebApplicationContext applicationContext, NabTestContext.PortHolder portHolder) {\n-    JettyServerFactory.JettyTestServer testServer = JettyServerFactory.createTestServer(portHolder.getPort());\n+    JettyServerFactory.JettyTestServer testServer = portHolder.releaseAndApply(JettyServerFactory::createTestServer);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d1edb7e38ec79fc95ab879e456a51bc02bd36fe"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzI2Njgz", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-436726683", "createdAt": "2020-06-24T14:52:15Z", "commit": {"oid": "d5f90e28f161c3287fba23299105fd3c0eaf2471"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDo1MjoxNVrOGoV2qQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDo1MjoxNVrOGoV2qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk1NDI4MQ==", "bodyText": "\u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u043d\u0430\u0434\u043e \u043d\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u0434\u0435\u043b\u0430\u0442\u044c, \u0434\u0430\u043c\u043f\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u0440\u0435\u0434\u044b \u044d\u0442\u043e \u0442\u044f\u0436\u0435\u043b\u043e \u0438 \u043f\u043e \u043f\u0435\u0440\u0444\u043e\u0440\u043c\u0430\u043d\u0441\u0443 \u0438 \u043f\u043e \u043f\u0430\u043c\u044f\u0442\u0438\n\u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u044e\u0437\u0430\u0442\u044c RateLimiter \u0438\u0437 \u0433\u0443\u0430\u0432\u044b \u0438\u043b\u0438 \u0447\u0442\u043e\u043d\u0438\u0442\u044c \u0442\u0430\u043a\u043e\u0435", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#discussion_r444954281", "createdAt": "2020-06-24T14:52:15Z", "author": {"login": "kincajou"}, "path": "nab-common/src/main/java/ru/hh/nab/common/executor/ThreadDiagnosticRejectedExecutionHandler.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package ru.hh.nab.common.executor;\n+\n+import java.lang.management.ManagementFactory;\n+import java.lang.management.ThreadInfo;\n+import java.lang.management.ThreadMXBean;\n+import java.util.concurrent.RejectedExecutionException;\n+import java.util.concurrent.RejectedExecutionHandler;\n+import java.util.concurrent.ThreadPoolExecutor;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class ThreadDiagnosticRejectedExecutionHandler implements RejectedExecutionHandler {\n+\n+  private static final Logger LOGGER = LoggerFactory.getLogger(ThreadDiagnosticRejectedExecutionHandler.class);\n+\n+  @Override\n+  public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n+    String threadPoolPhrase;\n+    if (executor instanceof MonitoredThreadPoolExecutor) {\n+      threadPoolPhrase = ((MonitoredThreadPoolExecutor) executor).getThreadPoolName() + \" thread pool\";\n+    } else {\n+      threadPoolPhrase = \"Thread pool\";\n+    }\n+    LOGGER.warn(\"{} is low on threads: size={}, activeCount={}, queueSize={}\",\n+        threadPoolPhrase, executor.getPoolSize(), executor.getActiveCount(), executor.getQueue().size());\n+\n+    StringBuilder threadDump = new StringBuilder(System.lineSeparator());\n+    ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5f90e28f161c3287fba23299105fd3c0eaf2471"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2ODY2NjI5", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-436866629", "createdAt": "2020-06-24T17:39:00Z", "commit": {"oid": "3139f02024123139fb121fff9ca4fa0b33b49239"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNzozOTowMFrOGocakA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNzozOTowMFrOGocakA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA2MTc3Ng==", "bodyText": "\u0437\u0430 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u043a\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u0434\u043e\u0431\u0435\u0436\u0438\u0442 \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u0442\u0443, \u0432 \u0441\u0435\u043a\u0446\u0438\u044e \u0442\u0430\u0431\u043e\u0440 \u0446\u044b\u0433\u0430\u043d \u0443\u0441\u043f\u0435\u0435\u0442 \u0437\u0430\u0439\u0442\u0438 \u0438 \u0443\u043a\u0440\u0430\u0441\u0442\u044c \u043b\u043e\u0448\u0430\u0434\u044c)\n\u043d\u0430\u0432\u0435\u0440\u043d\u043e\u0435 \u0442\u0443\u0442 \u043c\u043e\u0436\u043d\u043e \u043d\u0435 \u043c\u0443\u0434\u0440\u0438\u0442\u044c \u0438 \u0434\u0430\u0431\u043b\u0447\u0435\u043a\u043d\u0443\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0430\u0439\u0437\u0435\u0434", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#discussion_r445061776", "createdAt": "2020-06-24T17:39:00Z", "author": {"login": "dzharikhin"}, "path": "nab-common/src/main/java/ru/hh/nab/common/executor/ThreadDiagnosticRejectedExecutionHandler.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package ru.hh.nab.common.executor;\n+\n+import java.lang.management.ManagementFactory;\n+import java.lang.management.ThreadInfo;\n+import java.lang.management.ThreadMXBean;\n+import java.time.LocalDateTime;\n+import java.util.concurrent.RejectedExecutionException;\n+import java.util.concurrent.RejectedExecutionHandler;\n+import java.util.concurrent.ThreadPoolExecutor;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class ThreadDiagnosticRejectedExecutionHandler implements RejectedExecutionHandler {\n+\n+  private static final Logger LOGGER = LoggerFactory.getLogger(ThreadDiagnosticRejectedExecutionHandler.class);\n+  private static final int THREAD_DUMP_PRINTING_MIN_DELAY_IN_MINUTES = 5;\n+\n+  private volatile LocalDateTime lastThreadDumpPrinting;\n+\n+  @Override\n+  public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n+    String threadPoolPhrase;\n+    if (executor instanceof MonitoredThreadPoolExecutor) {\n+      threadPoolPhrase = ((MonitoredThreadPoolExecutor) executor).getThreadPoolName() + \" thread pool\";\n+    } else {\n+      threadPoolPhrase = \"Thread pool\";\n+    }\n+    LOGGER.warn(\"{} is low on threads: size={}, activeCount={}, queueSize={}\",\n+        threadPoolPhrase, executor.getPoolSize(), executor.getActiveCount(), executor.getQueue().size());\n+\n+    var now = LocalDateTime.now();\n+    if (lastThreadDumpPrinting == null || now.isAfter(lastThreadDumpPrinting.plusMinutes(THREAD_DUMP_PRINTING_MIN_DELAY_IN_MINUTES))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3139f02024123139fb121fff9ca4fa0b33b49239"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NTQ3MzE0", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-437547314", "createdAt": "2020-06-25T14:24:47Z", "commit": {"oid": "46ae91065f0244c5aa41245d678840a4662f8f0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNDoyNDo0N1rOGo9LbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNDoyNDo0N1rOGo9LbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU5ODU3Mw==", "bodyText": "\u0432\u0441\u0435 \u0442\u0440\u0438 \u0441\u0442\u0440\u043e\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434 \u043e\u0434\u0438\u043d try catch \u043f\u043e \u0438\u0434\u0435\u0435", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#discussion_r445598573", "createdAt": "2020-06-25T14:24:47Z", "author": {"login": "kincajou"}, "path": "nab-common/src/main/java/ru/hh/nab/common/util/ThreadDumpWriter.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package ru.hh.nab.common.util;\n+\n+import java.lang.management.ManagementFactory;\n+import java.lang.management.ThreadInfo;\n+import java.lang.management.ThreadMXBean;\n+import java.util.concurrent.ArrayBlockingQueue;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class ThreadDumpWriter {\n+\n+  private static final Logger LOGGER = LoggerFactory.getLogger(ThreadDumpWriter.class);\n+\n+  private final ArrayBlockingQueue<Integer> queue = new ArrayBlockingQueue<>(1);\n+  private final Pattern logLinesPattern;\n+\n+  public ThreadDumpWriter(String name, int linesInLogMessage, long delayMs) {\n+    logLinesPattern = Pattern.compile(\"(?:[^\\\\n]+\\\\n+){\" + (linesInLogMessage - 1) + \"}[^\\\\n]+\");\n+\n+    new Thread(() -> {\n+      while (!Thread.currentThread().isInterrupted()) {\n+        try {\n+          queue.take();\n+        } catch (InterruptedException e) {\n+          Thread.currentThread().interrupt();\n+          break;\n+        }\n+        writeThreadDump();\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46ae91065f0244c5aa41245d678840a4662f8f0b"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NTQ4NDg4", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-437548488", "createdAt": "2020-06-25T14:26:00Z", "commit": {"oid": "46ae91065f0244c5aa41245d678840a4662f8f0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNDoyNjowMFrOGo9OyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNDoyNjowMFrOGo9OyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU5OTQzMg==", "bodyText": "\u043d\u0430\u043f\u0438\u0448\u0438 \u0432 \u043b\u043e\u0433 \u0447\u0442\u043e \u043e\u043d \u0441\u0442\u043e\u043f\u0430\u043d\u0443\u043b\u0441\u044f, \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u043a \u043a\u043e\u0433\u0434\u0430 \u043e\u043d \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c. \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u043d\u0430\u0447\u043d\u0443\u0442\u0441\u044f \u0447\u0443\u0434\u0435\u0441\u0430 \u0438\u043d\u0442\u0435\u0440\u0440\u0430\u043f\u0442\u0430 \u0442\u043e \u0443\u0432\u0438\u0434\u0438\u0448\u044c \u043f\u0440\u043e \u044d\u0442\u043e \u0432 \u043b\u043e\u0433\u0435", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#discussion_r445599432", "createdAt": "2020-06-25T14:26:00Z", "author": {"login": "kincajou"}, "path": "nab-common/src/main/java/ru/hh/nab/common/util/ThreadDumpWriter.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package ru.hh.nab.common.util;\n+\n+import java.lang.management.ManagementFactory;\n+import java.lang.management.ThreadInfo;\n+import java.lang.management.ThreadMXBean;\n+import java.util.concurrent.ArrayBlockingQueue;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class ThreadDumpWriter {\n+\n+  private static final Logger LOGGER = LoggerFactory.getLogger(ThreadDumpWriter.class);\n+\n+  private final ArrayBlockingQueue<Integer> queue = new ArrayBlockingQueue<>(1);\n+  private final Pattern logLinesPattern;\n+\n+  public ThreadDumpWriter(String name, int linesInLogMessage, long delayMs) {\n+    logLinesPattern = Pattern.compile(\"(?:[^\\\\n]+\\\\n+){\" + (linesInLogMessage - 1) + \"}[^\\\\n]+\");\n+\n+    new Thread(() -> {\n+      while (!Thread.currentThread().isInterrupted()) {\n+        try {\n+          queue.take();\n+        } catch (InterruptedException e) {\n+          Thread.currentThread().interrupt();\n+          break;\n+        }\n+        writeThreadDump();\n+        try {\n+          Thread.sleep(delayMs);\n+        }\n+        catch (InterruptedException e) {\n+          Thread.currentThread().interrupt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46ae91065f0244c5aa41245d678840a4662f8f0b"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NTUxNzQw", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-437551740", "createdAt": "2020-06-25T14:29:19Z", "commit": {"oid": "46ae91065f0244c5aa41245d678840a4662f8f0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNDoyOToxOVrOGo9YbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNDoyOToxOVrOGo9YbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTYwMTkwMQ==", "bodyText": "\u043c\u043e\u0436\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u043a\u043e\u043c \u0435\u0433\u043e \u043e\u0431\u044a\u044f\u0432\u0438\u0442\u044c? \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c logLinesPattern \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c. \u041d\u0435 \u043c\u043e\u0433\u0443 \u0447\u0435\u0442\u043a\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u043e\u0447\u0435\u043c\u0443 \u0442\u0430\u043a \u0441\u0442\u043e\u0438\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c, \u043d\u043e \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0447\u0442\u043e \u043a\u0430\u043f\u0447\u0443\u0440\u0438\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0438 \u043b\u044f\u043c\u0431\u0434\u044b \u0442\u0440\u0435\u0434\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0441 \u0441\u0430\u043c\u043e\u0433\u043e ThreadDumpWriter \u043a\u0430\u043a-\u0442\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0447\u0442\u043e\u043b\u0438\n\u0430 \u0432\u043e\u0442 logLinesPattern, \u043a\u043e\u0442\u043e\u0440\u0430\u044f effictively final, \u043a\u0430\u043f\u0447\u0443\u0440\u0438\u0442\u044c \u043d\u043e\u0440\u043c", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#discussion_r445601901", "createdAt": "2020-06-25T14:29:19Z", "author": {"login": "kincajou"}, "path": "nab-common/src/main/java/ru/hh/nab/common/util/ThreadDumpWriter.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package ru.hh.nab.common.util;\n+\n+import java.lang.management.ManagementFactory;\n+import java.lang.management.ThreadInfo;\n+import java.lang.management.ThreadMXBean;\n+import java.util.concurrent.ArrayBlockingQueue;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class ThreadDumpWriter {\n+\n+  private static final Logger LOGGER = LoggerFactory.getLogger(ThreadDumpWriter.class);\n+\n+  private final ArrayBlockingQueue<Integer> queue = new ArrayBlockingQueue<>(1);\n+  private final Pattern logLinesPattern;\n+\n+  public ThreadDumpWriter(String name, int linesInLogMessage, long delayMs) {\n+    logLinesPattern = Pattern.compile(\"(?:[^\\\\n]+\\\\n+){\" + (linesInLogMessage - 1) + \"}[^\\\\n]+\");\n+\n+    new Thread(() -> {\n+      while (!Thread.currentThread().isInterrupted()) {\n+        try {\n+          queue.take();\n+        } catch (InterruptedException e) {\n+          Thread.currentThread().interrupt();\n+          break;\n+        }\n+        writeThreadDump();\n+        try {\n+          Thread.sleep(delayMs);\n+        }\n+        catch (InterruptedException e) {\n+          Thread.currentThread().interrupt();\n+          break;\n+        }\n+      }\n+    }, \"ThreadDumpWriter-\" + name).start();\n+  }\n+\n+  public void tryDumpThreads() {\n+    queue.offer(1);\n+  }\n+\n+  private void writeThreadDump() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46ae91065f0244c5aa41245d678840a4662f8f0b"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NjE2OTU0", "url": "https://github.com/hhru/nuts-and-bolts/pull/249#pullrequestreview-437616954", "createdAt": "2020-06-25T15:36:03Z", "commit": {"oid": "838793649d63ca8bb3b1d9fa5e775b64ce8ac80d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0c1038792b39ab59fad0fc5358bdcc11fc05872", "author": {"user": {"login": "pvorlov", "name": "Pavel Orlov"}}, "url": "https://github.com/hhru/nuts-and-bolts/commit/b0c1038792b39ab59fad0fc5358bdcc11fc05872", "committedDate": "2020-06-25T15:54:17Z", "message": "HH-111733 add ThreadDiagnosticRejectedExecutionHandler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ab0cde60fd957c393bab994b825d6458525758a", "author": {"user": {"login": "pvorlov", "name": "Pavel Orlov"}}, "url": "https://github.com/hhru/nuts-and-bolts/commit/3ab0cde60fd957c393bab994b825d6458525758a", "committedDate": "2020-06-25T15:54:17Z", "message": "HH-111733 fix PortHolder releasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "305c7df23b5486b0d6e3487b9f714331b8f7398b", "author": {"user": {"login": "pvorlov", "name": "Pavel Orlov"}}, "url": "https://github.com/hhru/nuts-and-bolts/commit/305c7df23b5486b0d6e3487b9f714331b8f7398b", "committedDate": "2020-06-25T15:54:17Z", "message": "HH-111733 add @FunctionalInterface for SerializerSupplier"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "838793649d63ca8bb3b1d9fa5e775b64ce8ac80d", "author": {"user": {"login": "pvorlov", "name": "Pavel Orlov"}}, "url": "https://github.com/hhru/nuts-and-bolts/commit/838793649d63ca8bb3b1d9fa5e775b64ce8ac80d", "committedDate": "2020-06-25T15:29:52Z", "message": "HH-111733 review fix"}, "afterCommit": {"oid": "305c7df23b5486b0d6e3487b9f714331b8f7398b", "author": {"user": {"login": "pvorlov", "name": "Pavel Orlov"}}, "url": "https://github.com/hhru/nuts-and-bolts/commit/305c7df23b5486b0d6e3487b9f714331b8f7398b", "committedDate": "2020-06-25T15:54:17Z", "message": "HH-111733 add @FunctionalInterface for SerializerSupplier"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3312, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}