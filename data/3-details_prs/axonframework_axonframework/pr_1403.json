{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNTkyMjU3", "number": 1403, "title": "Removed autoconfiguration of EventStore when EventBus is present", "bodyText": "When explicitly defining an EventBus in the configuration, that should be interpreted as an attempt to suppress Event Sourcing.\nResolves #1395", "createdAt": "2020-04-09T19:01:55Z", "url": "https://github.com/AxonFramework/AxonFramework/pull/1403", "merged": true, "mergeCommit": {"oid": "d1f7a635d4225e5b887fd98e112abf120eaaa130"}, "closed": true, "closedAt": "2020-04-17T13:18:41Z", "author": {"login": "abuijze"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWBQL4AH2gAyNDAxNTkyMjU3OjdlY2E0NDljZDZjYjAxZmNhMTU2YzViNjE0NTI4MGQ1N2M3NDQ4MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWNkHnAFqTM5MTM1MTUxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7eca449cd6cb01fca156c5b6145280d57c744804", "author": {"user": {"login": "abuijze", "name": "Allard Buijze"}}, "url": "https://github.com/AxonFramework/AxonFramework/commit/7eca449cd6cb01fca156c5b6145280d57c744804", "committedDate": "2020-04-09T19:00:00Z", "message": "Removed autoconfiguration of EventStore when EventBus is present\n\nWhen explicitly defining an EventBus in the configuration, that should be interpreted as an attempt to suppress Event Sourcing.\n\nResolves #1395"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMzAxODI2", "url": "https://github.com/AxonFramework/AxonFramework/pull/1403#pullrequestreview-391301826", "createdAt": "2020-04-10T07:16:18Z", "commit": {"oid": "7eca449cd6cb01fca156c5b6145280d57c744804"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNzoxNjoxOFrOGDzE2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNzoxNjoxOFrOGDzE2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYzNTczOQ==", "bodyText": "Why have the JdbcSQLErrorCodesResolver and UnitOfWorkAwareConnectionProviderWrapper assertions been removed from the test?", "url": "https://github.com/AxonFramework/AxonFramework/pull/1403#discussion_r406635739", "createdAt": "2020-04-10T07:16:18Z", "author": {"login": "smcvb"}, "path": "spring-boot-autoconfigure/src/test/java/org/axonframework/springboot/JdbcAutoConfigurationTest.java", "diffHunk": "@@ -56,39 +53,38 @@\n  *\n  * @author Milan Savic\n  */\n-@ExtendWith(SpringExtension.class)\n-@EnableMBeanExport(registration = RegistrationPolicy.IGNORE_EXISTING)\n-@ContextConfiguration(classes = JdbcAutoConfigurationTest.Context.class)\n-@EnableAutoConfiguration(exclude = {\n-        JpaRepositoriesAutoConfiguration.class,\n-        HibernateJpaAutoConfiguration.class,\n-        AxonServerAutoConfiguration.class\n-})\n public class JdbcAutoConfigurationTest {\n \n-    @Autowired\n-    private ApplicationContext applicationContext;\n-\n     @Test\n-    void testContextInitialization() {\n-        assertNotNull(applicationContext);\n-\n-        assertTrue(applicationContext.getBean(EventStorageEngine.class) instanceof JdbcEventStorageEngine);\n-        assertTrue(applicationContext.getBean(PersistenceExceptionResolver.class) instanceof JdbcSQLErrorCodesResolver);\n-        assertTrue(\n-                applicationContext.getBean(ConnectionProvider.class) instanceof UnitOfWorkAwareConnectionProviderWrapper\n-        );\n-        assertTrue(applicationContext.getBean(TokenStore.class) instanceof JdbcTokenStore);\n-        assertTrue(applicationContext.getBean(SagaStore.class) instanceof JdbcSagaStore);\n+    void testAllJdbcComponentsAutoConfigured() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7eca449cd6cb01fca156c5b6145280d57c744804"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3458741231eee2fa55f438cf42719188607f1203", "author": {"user": {"login": "abuijze", "name": "Allard Buijze"}}, "url": "https://github.com/AxonFramework/AxonFramework/commit/3458741231eee2fa55f438cf42719188607f1203", "committedDate": "2020-04-10T08:10:32Z", "message": "Fixed review comments\n\nReimplemented \"lost\" assertions in JdbcAutoConfigurationTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMzUxNTE5", "url": "https://github.com/AxonFramework/AxonFramework/pull/1403#pullrequestreview-391351519", "createdAt": "2020-04-10T09:20:38Z", "commit": {"oid": "3458741231eee2fa55f438cf42719188607f1203"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1741, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}