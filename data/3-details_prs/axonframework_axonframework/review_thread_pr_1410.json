{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MDQ1NTMz", "number": 1410, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMjozNjowMVrOD0OF4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMjozNjowMVrOD0OF4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDgzNDI0OnYy", "diffSide": "RIGHT", "path": "messaging/src/main/java/org/axonframework/messaging/GenericMessage.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMjozNjowMVrOGJDXVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNToyNDo1OFrOGJLy4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0NTQ5NQ==", "bodyText": "I think this class also needs to take instance of QueryMessage into account, and use the queryName property to get the name.\nAlso suggest using queryName instead of messageName as method name and moving it to GenericQueryMessage.", "url": "https://github.com/AxonFramework/AxonFramework/pull/1410#discussion_r412145495", "createdAt": "2020-04-21T12:36:01Z", "author": {"login": "abuijze"}, "path": "messaging/src/main/java/org/axonframework/messaging/GenericMessage.java", "diffHunk": "@@ -56,6 +57,23 @@\n         }\n     }\n \n+    /**\n+     * Extracts the message name from the given {@code payloadOrMessage}. If the given {@code payloadOrMessage} is an\n+     * instance of {@link Message}, {@link Message#getPayloadType()} is used. Otherwise we expect the given {@link\n+     * Object} to be the payload directly. The return value will be the result of {@link Class#getName()}, either from\n+     * the {@code Message}'s {@code payloadType} or from the payload's class.\n+     *\n+     * @param payloadOrMessage the payload to extract the {@link Class#getName()} from, or an instance of {@link\n+     *                         Message}\n+     * @return the {@link Class#getName()} result from the payload, or from the {@link Message#getPayloadType()} if the\n+     * given {@code payloadOrMessage} is an instance of {@link Message}\n+     */\n+    public static String messageName(Object payloadOrMessage) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d8b849ccfd496348bbb6bb0f2ad160da269360a"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI4MzYxOQ==", "bodyText": "Good point. Moved this method to the QueryMessage interface, renamed it to queryName and added a third option: that the given payloadOrMessage can be of type QueryMessage, meaning QueryMessage#getQueryName() should be returned.", "url": "https://github.com/AxonFramework/AxonFramework/pull/1410#discussion_r412283619", "createdAt": "2020-04-21T15:24:58Z", "author": {"login": "smcvb"}, "path": "messaging/src/main/java/org/axonframework/messaging/GenericMessage.java", "diffHunk": "@@ -56,6 +57,23 @@\n         }\n     }\n \n+    /**\n+     * Extracts the message name from the given {@code payloadOrMessage}. If the given {@code payloadOrMessage} is an\n+     * instance of {@link Message}, {@link Message#getPayloadType()} is used. Otherwise we expect the given {@link\n+     * Object} to be the payload directly. The return value will be the result of {@link Class#getName()}, either from\n+     * the {@code Message}'s {@code payloadType} or from the payload's class.\n+     *\n+     * @param payloadOrMessage the payload to extract the {@link Class#getName()} from, or an instance of {@link\n+     *                         Message}\n+     * @return the {@link Class#getName()} result from the payload, or from the {@link Message#getPayloadType()} if the\n+     * given {@code payloadOrMessage} is an instance of {@link Message}\n+     */\n+    public static String messageName(Object payloadOrMessage) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0NTQ5NQ=="}, "originalCommit": {"oid": "1d8b849ccfd496348bbb6bb0f2ad160da269360a"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3190, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}