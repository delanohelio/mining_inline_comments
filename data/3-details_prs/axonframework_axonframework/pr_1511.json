{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MzI4MTEx", "number": 1511, "title": "Client side Heartbeat Message enabling ", "bodyText": "This pull request introduces the means to have an Axon application enable heartbeats towards the Axon Server instance it is connected with. More specifically, it uses the AxonServerConnection of the default context this client is a part of.\nEnabling is done through the AxonServerConfiguration.HeartbeatConfiguration, allowing the specification to simply enable heartbeats, the interval between heartbeats and the timeout of the connection of no response is received", "createdAt": "2020-09-18T13:49:13Z", "url": "https://github.com/AxonFramework/AxonFramework/pull/1511", "merged": true, "mergeCommit": {"oid": "3e29ed46c38e10e6b6eb4de83656a5f06a87604d"}, "closed": true, "closedAt": "2020-09-21T08:00:59Z", "author": {"login": "smcvb"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKFlcTAH2gAyNDg5MzI4MTExOmMwZmQ2ZmY4MDIxNjc5OWY2NzVmNDM2ODNkYzEzZmRjOWI4MzY0ODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdK-dB5AH2gAyNDg5MzI4MTExOjA0ZDI5YjVhODBlZTQ1Yzg3MTBkNWVmMjYxYzBhNmRmOTFmMGRhMWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c0fd6ff80216799f675f43683dc13fdc9b836480", "author": {"user": {"login": "smcvb", "name": "Steven van Beelen"}}, "url": "https://github.com/AxonFramework/AxonFramework/commit/c0fd6ff80216799f675f43683dc13fdc9b836480", "committedDate": "2020-09-18T13:26:54Z", "message": "Allow easier enabling of heartbeat messages on the client side\n\nIntroduce a means to the AxonServerConfiguration to enable heartbeat\nmessages. If enabled, an interval and timeout field should be taken into\n account and given to the connection manager to enable heartbeat\n messages accordingly.\n\n#enable-heartbeats-client-side"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca218766ad24b56485688517ab059df9e84004cc", "author": {"user": {"login": "smcvb", "name": "Steven van Beelen"}}, "url": "https://github.com/AxonFramework/AxonFramework/commit/ca218766ad24b56485688517ab059df9e84004cc", "committedDate": "2020-09-18T13:51:40Z", "message": "Adjust timeout\n\nAdjust timeout to coop with build times\n\n#1511"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNDg5NzY1", "url": "https://github.com/AxonFramework/AxonFramework/pull/1511#pullrequestreview-491489765", "createdAt": "2020-09-18T13:56:50Z", "commit": {"oid": "ca218766ad24b56485688517ab059df9e84004cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTAwMDI4", "url": "https://github.com/AxonFramework/AxonFramework/pull/1511#pullrequestreview-491500028", "createdAt": "2020-09-18T14:08:36Z", "commit": {"oid": "ca218766ad24b56485688517ab059df9e84004cc"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDowODozNlrOHUOvmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDowODozNlrOHUOvmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk3NTEyOA==", "bodyText": "If you want you can also add a test to verify that no heartbeats are sent when the configuration is disabled, that it is actually what this PR fixes.", "url": "https://github.com/AxonFramework/AxonFramework/pull/1511#discussion_r490975128", "createdAt": "2020-09-18T14:08:36Z", "author": {"login": "saratry"}, "path": "axon-server-connector/src/test/java/org/axonframework/axonserver/connector/AxonServerConnectionManagerTest.java", "diffHunk": "@@ -123,4 +119,25 @@ public void getPlatformServer(ClientIdentification request, StreamObserver<Platf\n             assertTrue(e.getMessage().contains(\"connection\"));\n         }\n     }\n+\n+    @Test\n+    void testEnablingHeartbeatsEnsuresHeartbeatMessagesAreSent() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca218766ad24b56485688517ab059df9e84004cc"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTc2NjYz", "url": "https://github.com/AxonFramework/AxonFramework/pull/1511#pullrequestreview-491576663", "createdAt": "2020-09-18T15:37:58Z", "commit": {"oid": "ca218766ad24b56485688517ab059df9e84004cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04d29b5a80ee45c8710d5ef261c0a6df91f0da1c", "author": {"user": {"login": "smcvb", "name": "Steven van Beelen"}}, "url": "https://github.com/AxonFramework/AxonFramework/commit/04d29b5a80ee45c8710d5ef261c0a6df91f0da1c", "committedDate": "2020-09-21T07:42:18Z", "message": "Add test case\n\nAdd test case validating no heartbeats are sent if it has been disabled\n\n#1511"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1784, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}