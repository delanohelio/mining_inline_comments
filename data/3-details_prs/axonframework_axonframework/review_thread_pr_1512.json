{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMTQ3Njcy", "number": 1512, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMzoyMzowMVrOElp9sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMzoyMzowMVrOElp9sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3OTIwMzA1OnYy", "diffSide": "RIGHT", "path": "messaging/src/main/java/org/axonframework/eventhandling/TrackingEventProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMzoyMzowMVrOHVPv0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMzoyNjo1OFrOHVP6zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA0MDE0Ng==", "bodyText": "There is a check after the entire if block, so I don't see why there should be one here?", "url": "https://github.com/AxonFramework/AxonFramework/pull/1512#discussion_r492040146", "createdAt": "2020-09-21T13:23:01Z", "author": {"login": "abuijze"}, "path": "messaging/src/main/java/org/axonframework/eventhandling/TrackingEventProcessor.java", "diffHunk": "@@ -437,6 +436,7 @@ private void processBatch(Segment segment, BlockingStream<TrackedEventMessage<?>\n                     return;\n                 }\n             } else {\n+                checkSegmentCaughtUp(segment, eventStream);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e4435211d90f89bc4a3510a82a33f60c778b5f0"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA0Mjk1Nw==", "bodyText": "Thought was to allow validation if the caughtUp flag in the scenario the BlockingStream would not return at all. As the else reaches a return statement, we would thus miss updating the caughtUp flag in case the event stream was actually empty.", "url": "https://github.com/AxonFramework/AxonFramework/pull/1512#discussion_r492042957", "createdAt": "2020-09-21T13:26:58Z", "author": {"login": "smcvb"}, "path": "messaging/src/main/java/org/axonframework/eventhandling/TrackingEventProcessor.java", "diffHunk": "@@ -437,6 +436,7 @@ private void processBatch(Segment segment, BlockingStream<TrackedEventMessage<?>\n                     return;\n                 }\n             } else {\n+                checkSegmentCaughtUp(segment, eventStream);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA0MDE0Ng=="}, "originalCommit": {"oid": "6e4435211d90f89bc4a3510a82a33f60c778b5f0"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3233, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}