{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzE4OTMx", "number": 1425, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMDoyNjo1NFrOEeBDOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMTo0NjozMVrOEhbSEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTA5OTQ2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/com/quran/labs/androidquran/ui/SheikhAudioManagerActivity.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMDoyNjo1NFrOHJez8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMDoyNjo1NFrOHJez8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTcwNDA1MA==", "bodyText": "jazakumAllah khairan - one minor comment - save a reference to the dialog (nullable) and dismiss it onDestroy if it's not null to prevent leaks", "url": "https://github.com/quran/quran_android/pull/1425#discussion_r479704050", "createdAt": "2020-08-30T00:26:54Z", "author": {"login": "ahmedre"}, "path": "app/src/main/java/com/quran/labs/androidquran/ui/SheikhAudioManagerActivity.kt", "diffHunk": "@@ -243,8 +244,18 @@ class SheikhAudioManagerActivity : QuranActionBarActivity(), SimpleDownloadListe\n             val surah = position + 1\n             val downloaded = info.downloadedSuras[surah]\n             if (downloaded) {\n-              // TODO: show a confirmation dialog before deleting\n-              deleteSelection(ArrayList(listOf(surah)))\n+              var surahName = quranDisplayData.getSuraName(this, surah, true)\n+              val msg = String.format(getString(R.string.audio_manager_remove_audio_msg), surahName)\n+              val builder = AlertDialog.Builder(this)\n+              builder.setTitle(R.string.audio_manager_remove_audio_title)\n+                  .setMessage(msg)\n+                  .setPositiveButton(R.string.remove_button\n+                  ) { _, _ ->\n+                    deleteSelection(ArrayList(listOf(surah)))\n+                  }\n+                  .setNegativeButton(R.string.cancel\n+                  ) { dialog, _ -> dialog.dismiss() }\n+              builder.show()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4079951da1962cbd38b0566ef830b609c721e6eb"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNDg1NDU5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/com/quran/labs/androidquran/ui/SheikhAudioManagerActivity.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMTo0NjozMVrOHOvH3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMTo0NjozMVrOHOvH3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNDE3Mg==", "bodyText": "jazakumAllah khairan - don't need the null check since the ? is a null check", "url": "https://github.com/quran/quran_android/pull/1425#discussion_r485214172", "createdAt": "2020-09-08T21:46:31Z", "author": {"login": "ahmedre"}, "path": "app/src/main/java/com/quran/labs/androidquran/ui/SheikhAudioManagerActivity.kt", "diffHunk": "@@ -135,6 +137,9 @@ class SheikhAudioManagerActivity : QuranActionBarActivity(), SimpleDownloadListe\n \n   override fun onDestroy() {\n     compositeDisposable.clear()\n+    if (dialogConfirm != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c007df740ef62cff16ded3023b6317b1d47e6f7"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2048, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}