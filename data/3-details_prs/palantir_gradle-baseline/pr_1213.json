{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNDIwODgw", "number": 1213, "title": "-Pcom.palantir.baseline-error-prone.disable", "bodyText": "Before this PR\nI want to start running some unit tests with Java13, but currently error-prone barfs, see:\n\n#1107\n#1106\n#1095\n\nAfter this PR\n==COMMIT_MSG==\n./gradlew compileJava -Pcom.palantir.baseline-error-prone.disable turns off error-prone, to allow compilation on Java 13 which is not yet supported by error-prone.\n==COMMIT_MSG==\nPossible downsides?\n\nnot sure I want people to start using this as part of their regular dev workflow :/", "createdAt": "2020-02-05T15:00:51Z", "url": "https://github.com/palantir/gradle-baseline/pull/1213", "merged": true, "mergeCommit": {"oid": "7610bac344e7257587c042472a3e4d22e28c7685"}, "closed": true, "closedAt": "2020-02-05T15:14:01Z", "author": {"login": "iamdanfox"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBXW2hgH2gAyMzcxNDIwODgwOjQzOTdjM2Y4ZDZhNTM2MzEzZmNmMjBhYzhkOGVmODg0MWRmNjNkNGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBXp2WAFqTM1Mzc5NDIwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4397c3f8d6a536313fcf20ac8d8ef8841df63d4e", "author": {"user": {"login": "iamdanfox", "name": null}}, "url": "https://github.com/palantir/gradle-baseline/commit/4397c3f8d6a536313fcf20ac8d8ef8841df63d4e", "committedDate": "2020-02-05T14:52:47Z", "message": "Support a flag to turn off baseline-error-prone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b13e7938289f34e339501ceb4348905031960785", "author": {"user": {"login": "iamdanfox", "name": null}}, "url": "https://github.com/palantir/gradle-baseline/commit/b13e7938289f34e339501ceb4348905031960785", "committedDate": "2020-02-05T14:52:51Z", "message": "Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3997fa51764e849c4ee263f6e60c560bc1681579", "author": {"user": {"login": "iamdanfox", "name": null}}, "url": "https://github.com/palantir/gradle-baseline/commit/3997fa51764e849c4ee263f6e60c560bc1681579", "committedDate": "2020-02-05T14:56:07Z", "message": "test actually passes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5711d7f9fa9ce9cb58eab8ef06611ab0c9021f03", "author": {"user": {"login": "iamdanfox", "name": null}}, "url": "https://github.com/palantir/gradle-baseline/commit/5711d7f9fa9ce9cb58eab8ef06611ab0c9021f03", "committedDate": "2020-02-05T14:56:07Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNzg2NDkz", "url": "https://github.com/palantir/gradle-baseline/pull/1213#pullrequestreview-353786493", "createdAt": "2020-02-05T15:04:05Z", "commit": {"oid": "5711d7f9fa9ce9cb58eab8ef06611ab0c9021f03"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxNTowNDowNVrOFl7Egg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxNTowNDowNVrOFl7Egg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTMwOTQ0Mg==", "bodyText": "this block was pretty much an exact duplicate of a block above, so I moved this logic further down.", "url": "https://github.com/palantir/gradle-baseline/pull/1213#discussion_r375309442", "createdAt": "2020-02-05T15:04:05Z", "author": {"login": "iamdanfox"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineErrorProne.java", "diffHunk": "@@ -155,42 +181,6 @@ private static void applyToJavaProject(Project project) {\n                                 errorProneOptions.check(\"PreconditionsConstantMessage\", CheckSeverity.OFF);\n                             }));\n         });\n-\n-        project.getTasks().withType(JavaCompile.class).configureEach(javaCompile -> {\n-            ((ExtensionAware) javaCompile.getOptions())\n-                    .getExtensions()\n-                    .configure(ErrorProneOptions.class, errorProneOptions -> {\n-                        // Relax some checks for test code\n-                        if (errorProneOptions.isCompilingTestOnlyCode()) {\n-                            errorProneOptions.check(\"UnnecessaryLambda\", CheckSeverity.OFF);\n-                        }\n-                    });\n-        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5711d7f9fa9ce9cb58eab8ef06611ab0c9021f03"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNzk0MjA1", "url": "https://github.com/palantir/gradle-baseline/pull/1213#pullrequestreview-353794205", "createdAt": "2020-02-05T15:13:32Z", "commit": {"oid": "5711d7f9fa9ce9cb58eab8ef06611ab0c9021f03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2155, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}