{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3ODM1MDQy", "number": 1487, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjozNjo0MlrOEfictg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjozNjo0MlrOEfictg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNTA1NzE4OnYy", "diffSide": "RIGHT", "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineExactDependencies.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjozNjo0MlrOHL3sAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjozNjo0MlrOHL3sAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjIwODc3MA==", "bodyText": "Feels quite weird to have this direct knowledge of GCV here? Will this still work with old GCV?", "url": "https://github.com/palantir/gradle-baseline/pull/1487#discussion_r482208770", "createdAt": "2020-09-02T16:36:42Z", "author": {"login": "CRogers"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineExactDependencies.java", "diffHunk": "@@ -153,9 +153,13 @@ private static void configureSourceSet(\n         });\n \n         explicitCompile.withDependencies(deps -> {\n-            // Mirror the transitive constraints form compileClasspath in order to pick up GCV locks.\n-            // We should really do this with an addAllLater but that would require Gradle 6, or a hacky workaround.\n-            explicitCompile.getDependencyConstraints().addAll(compileClasspath.getAllDependencyConstraints());\n+            // Pick up GCV locks. We're making an internal assumption that this configuration exists,\n+            // but we can rely on this since we control GCV.\n+            // Alternatively, we could tell GCV to lock this configuration, at the cost of a slightly more\n+            // expensive 'unifiedClasspath' resolution during lock computation.\n+            if (project.getRootProject().getPluginManager().hasPlugin(\"com.palantir.versions-lock\")) {\n+                explicitCompile.extendsFrom(project.getConfigurations().getByName(\"lockConstraints\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9142595781bd5428fa491761f78849f0757f630"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2206, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}