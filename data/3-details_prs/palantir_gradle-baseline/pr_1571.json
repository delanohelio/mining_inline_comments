{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MjE4ODI0", "number": 1571, "title": "Exclude generated sources from error-prone", "bodyText": "Before this PR\n\nAs seen in excavator bump PR palantir/tritium#925 , the changes in #1568 do not seem to handle cases that previously were excluded such as build/metricSchema/generated_src used by metric-schema which is causing the baseline bump excavator on tritium to fail compilation: https://app.circleci.com/pipelines/github/palantir/tritium/906/workflows/7c65b97b-b475-46fc-a1e1-b5a4bf7198a0/jobs/11565\nAfter this PR\n\n==COMMIT_MSG==\nExclude generated sources from error-prone\n==COMMIT_MSG==\nCloses #1570\nPossible downsides?\n\nProbably want some additional test cases.", "createdAt": "2020-11-26T18:10:22Z", "url": "https://github.com/palantir/gradle-baseline/pull/1571", "merged": true, "mergeCommit": {"oid": "44682aac6fd66d6620f5c0371aac0af63928bc19"}, "closed": true, "closedAt": "2020-11-27T17:01:34Z", "author": {"login": "schlosna"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgW2WIgH2gAyNTI4MjE4ODI0OjZkOGJiZGVkZmM1MTY5NDhlNzM3MWYyNGMwYTBhNWQ5ODE4NmViMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhJHU2gFqTU0MDQ0NjcyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d8bbdedfc516948e7371f24c0a0a5d98186eb39", "author": {"user": {"login": "schlosna", "name": "David Schlosnagle"}}, "url": "https://github.com/palantir/gradle-baseline/commit/6d8bbdedfc516948e7371f24c0a0a5d98186eb39", "committedDate": "2020-11-26T18:00:05Z", "message": "Exclude generated sources from error-prone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efe8e94c3997ab87728f2ae3b5d7c7d7bdf5e724", "author": {"user": {"login": "schlosna", "name": "David Schlosnagle"}}, "url": "https://github.com/palantir/gradle-baseline/commit/efe8e94c3997ab87728f2ae3b5d7c7d7bdf5e724", "committedDate": "2020-11-26T18:00:05Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edabb0e13ec672e0c2d61aa86e5fd7343073facb", "author": {"user": {"login": "schlosna", "name": "David Schlosnagle"}}, "url": "https://github.com/palantir/gradle-baseline/commit/edabb0e13ec672e0c2d61aa86e5fd7343073facb", "committedDate": "2020-11-26T18:12:05Z", "message": "format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMTA0MDUz", "url": "https://github.com/palantir/gradle-baseline/pull/1571#pullrequestreview-540104053", "createdAt": "2020-11-27T17:01:30Z", "commit": {"oid": "edabb0e13ec672e0c2d61aa86e5fd7343073facb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDQ2NzIw", "url": "https://github.com/palantir/gradle-baseline/pull/1571#pullrequestreview-540446720", "createdAt": "2020-11-29T04:33:43Z", "commit": {"oid": "edabb0e13ec672e0c2d61aa86e5fd7343073facb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwNDozMzo0M1rOH7gGgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwNDozMzo0M1rOH7gGgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE1Mzk4NA==", "bodyText": "@iamdanfox we might be able to remove build from regex here, or might want to constrain the pattern to avoid falsely matching say com/foo/build/Bar.java.", "url": "https://github.com/palantir/gradle-baseline/pull/1571#discussion_r532153984", "createdAt": "2020-11-29T04:33:43Z", "author": {"login": "schlosna"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineErrorProne.java", "diffHunk": "@@ -292,6 +286,12 @@ private static void configureErrorProneOptions(\n         }\n     }\n \n+    static String excludedPathsRegex() {\n+        // don't want backslashes on windows to break our regex\n+        String separator = File.separator.contains(\"\\\\\") ? Pattern.quote(\"\\\\\") : File.separator;\n+        return String.format(\".*%s(build|generated_.*[sS]rc|src%sgenerated.*)%s.*\", separator, separator, separator);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edabb0e13ec672e0c2d61aa86e5fd7343073facb"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2013, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}