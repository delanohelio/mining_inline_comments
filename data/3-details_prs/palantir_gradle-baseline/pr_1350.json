{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwODcwMTk2", "number": 1350, "title": "Stop IntelliJ suggesting commonly shaded packages", "bodyText": "Before this PR\nJars commonly contain shaded dependencies - you should never use them, but they end up polluting your autocomplete suggestions:\n\nInternally, someone was confused why their code wasn't compiling because they were using a shaded version of an interface that was generated by gradle-shadow-jar.\nAfter this PR\n==COMMIT_MSG==\nClasses in common shaded packages are no longer for autocompletion/auto-import recommended by IntelliJ.\n==COMMIT_MSG==\n\n\nPossible downsides?\nI can't really think of any. It's only \"bad\" if people want to use this shaded classes (they shouldn't) and would perhaps be annoying they're not suggested? Even then, this just stops suggestions, you can still find them/use them:", "createdAt": "2020-05-20T16:31:04Z", "url": "https://github.com/palantir/gradle-baseline/pull/1350", "merged": true, "mergeCommit": {"oid": "bedaac9308b05d21bd47c9ef7d21dd5e1ba4c9d2"}, "closed": true, "closedAt": "2020-05-20T16:46:31Z", "author": {"login": "CRogers"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjLekzgH2gAyNDIwODcwMTk2OmFjZDY3M2E4ODFjNTlkZDNjZGY4Zjc3MmMyY2IyN2MyYWQ5ZmIwZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjLyD4AH2gAyNDIwODcwMTk2OjlmOGQyYmJjMjBkNWE2NTZlNzFjMDYyOTQ5MDczMWM3Yjk2YWU5MTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "acd673a881c59dd3cdf8f772c2cb27c2ad9fb0e2", "author": {"user": {"login": "CRogers", "name": "Callum Rogers"}}, "url": "https://github.com/palantir/gradle-baseline/commit/acd673a881c59dd3cdf8f772c2cb27c2ad9fb0e2", "committedDate": "2020-05-20T16:15:47Z", "message": "Stop IntelliJ suggesting commonly shaded packages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3de07a0261a5c16cdde2791736d7f4a0cb4ed237", "author": {"user": {"login": "CRogers", "name": "Callum Rogers"}}, "url": "https://github.com/palantir/gradle-baseline/commit/3de07a0261a5c16cdde2791736d7f4a0cb4ed237", "committedDate": "2020-05-20T16:15:47Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTE3MTg3", "url": "https://github.com/palantir/gradle-baseline/pull/1350#pullrequestreview-415517187", "createdAt": "2020-05-20T16:33:29Z", "commit": {"oid": "3de07a0261a5c16cdde2791736d7f4a0cb4ed237"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNjozMzoyOVrOGYUNAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNjozMzoyOVrOGYUNAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE1MDAxNw==", "bodyText": "@ilyanep If memory serves you had a list of packages that are helpful to exclude, is there anything missing here?", "url": "https://github.com/palantir/gradle-baseline/pull/1350#discussion_r428150017", "createdAt": "2020-05-20T16:33:29Z", "author": {"login": "carterkozak"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineIdea.groovy", "diffHunk": "@@ -286,6 +288,20 @@ class BaselineIdea extends AbstractBaselinePlugin {\n         }\n     }\n \n+    private static void ignoreCommonShadedPackages(Node node) {\n+        // language=xml\n+        node.append(new XmlParser().parseText('''\n+            <component name=\"JavaProjectCodeInsightSettings\">\n+              <excluded-names>\n+                <name>shadow</name><!-- from gradle-shadow-jar -->\n+                <name>org.gradle.internal.impldep</name>\n+                <name>autovalue.shaded</name>\n+                <name>org.inferred.freebuilder.shaded</name>\n+              </excluded-names>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de07a0261a5c16cdde2791736d7f4a0cb4ed237"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53162008e955f3c5c0ef35c60ae69e9f9bedf282", "author": {"user": {"login": "CRogers", "name": "Callum Rogers"}}, "url": "https://github.com/palantir/gradle-baseline/commit/53162008e955f3c5c0ef35c60ae69e9f9bedf282", "committedDate": "2020-05-20T16:36:19Z", "message": "Add immutables internal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f8d2bbc20d5a656e71c0629490731c7b96ae916", "author": {"user": {"login": "CRogers", "name": "Callum Rogers"}}, "url": "https://github.com/palantir/gradle-baseline/commit/9f8d2bbc20d5a656e71c0629490731c7b96ae916", "committedDate": "2020-05-20T16:37:04Z", "message": "Merge branch 'callumr/stop-suggesting-shaded-classes' of github.com:palantir/gradle-baseline into callumr/stop-suggesting-shaded-classes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2104, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}