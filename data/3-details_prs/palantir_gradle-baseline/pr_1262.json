{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTE3Mjg1", "number": 1262, "title": "BaselineExactDependencies applies to all source sets", "bodyText": "Before this PR\nBaselineExactDependencies only applied to the main source set\nAfter this PR\n==COMMIT_MSG==\nBaselineExactDependencies applies to all source sets\n==COMMIT_MSG==\nPossible downsides?\nThis will flag even more unused dependencies (including in tests), and could block upgrades", "createdAt": "2020-02-26T21:31:40Z", "url": "https://github.com/palantir/gradle-baseline/pull/1262", "merged": true, "mergeCommit": {"oid": "649b6e1e98c3e32e1c76a0c599e5c4d3b3e0d51b"}, "closed": true, "closedAt": "2020-02-28T16:00:26Z", "author": {"login": "ferozco"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcINPHQgH2gAyMzgwNTE3Mjg1OjdmNTZkMTQ1ODdmZWViNmZlM2M2NmZjOTc1MTFiOWRhMTQzY2U3NTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIyG6mgFqTM2NjUwNDU4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f56d14587feeb6fe3c66fc97511b9da143ce753", "author": {"user": {"login": "ferozco", "name": "Felipe Orozco"}}, "url": "https://github.com/palantir/gradle-baseline/commit/7f56d14587feeb6fe3c66fc97511b9da143ce753", "committedDate": "2020-02-26T21:02:45Z", "message": "checkUnusedDependencies ignores all sourceSets compileOnly configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "000b180b6a722f3d8140f5e94b10d1fa1f3cfd81", "author": {"user": {"login": "ferozco", "name": "Felipe Orozco"}}, "url": "https://github.com/palantir/gradle-baseline/commit/000b180b6a722f3d8140f5e94b10d1fa1f3cfd81", "committedDate": "2020-02-26T21:29:43Z", "message": "on all source sets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d599b2dcdb8bced9eb982011cd6549850223fc30", "author": {"user": {"login": "ferozco", "name": "Felipe Orozco"}}, "url": "https://github.com/palantir/gradle-baseline/commit/d599b2dcdb8bced9eb982011cd6549850223fc30", "committedDate": "2020-02-26T21:29:43Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NjMzNzE0", "url": "https://github.com/palantir/gradle-baseline/pull/1262#pullrequestreview-365633714", "createdAt": "2020-02-27T12:16:32Z", "commit": {"oid": "d599b2dcdb8bced9eb982011cd6549850223fc30"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjoxNjozMlrOFvQCvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjoxNjozMlrOFvQCvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA5MDIzOA==", "bodyText": "this should be per source set", "url": "https://github.com/palantir/gradle-baseline/pull/1262#discussion_r385090238", "createdAt": "2020-02-27T12:16:32Z", "author": {"login": "dansanduleac"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineExactDependencies.java", "diffHunk": "@@ -60,47 +63,65 @@\n     @Override\n     public void apply(Project project) {\n         project.getPluginManager().withPlugin(\"java\", plugin -> {\n-            SourceSet mainSourceSet = project.getConvention()\n+            TaskProvider<Task> checkUnusedDependencies = project.getTasks().register(\"checkUnusedDependencies\");\n+            TaskProvider<Task> checkImplicitDependencies = project.getTasks().register(\"checkImplicitDependencies\");\n+\n+            project.getConvention()\n                     .getPlugin(JavaPluginConvention.class)\n                     .getSourceSets()\n-                    .getByName(SourceSet.MAIN_SOURCE_SET_NAME);\n-            Configuration compileClasspath =\n-                    project.getConfigurations().getByName(JavaPlugin.COMPILE_CLASSPATH_CONFIGURATION_NAME);\n-            Configuration compileOnly =\n-                    project.getConfigurations().getByName(JavaPlugin.COMPILE_ONLY_CONFIGURATION_NAME);\n-            Configuration justCompileOnlyResolvable = project.getConfigurations()\n-                    .create(\"baseline-exact-dependencies-compileOnly\", conf -> {\n-                        conf.setVisible(false);\n-                        conf.setCanBeConsumed(false);\n-                        conf.extendsFrom(compileOnly);\n-                        // Important! this ensures we resolve 'compile' variants rather than 'runtime'\n-                        // This is the same attribute that's being set on compileClasspath\n-                        conf.getAttributes()\n-                                .attribute(\n-                                        Usage.USAGE_ATTRIBUTE,\n-                                        project.getObjects().named(Usage.class, Usage.JAVA_API));\n-                    });\n-\n-            project.getTasks().create(\"checkUnusedDependencies\", CheckUnusedDependenciesTask.class, task -> {\n-                task.dependsOn(JavaPlugin.CLASSES_TASK_NAME);\n-                task.setSourceClasses(mainSourceSet.getOutput().getClassesDirs());\n-                task.dependenciesConfiguration(compileClasspath);\n-                task.sourceOnlyConfiguration(justCompileOnlyResolvable);\n-\n-                // this is liberally applied to ease the Java8 -> 11 transition\n-                task.ignore(\"javax.annotation\", \"javax.annotation-api\");\n-            });\n-\n-            project.getTasks().create(\"checkImplicitDependencies\", CheckImplicitDependenciesTask.class, task -> {\n-                task.dependsOn(JavaPlugin.CLASSES_TASK_NAME);\n-                task.setSourceClasses(mainSourceSet.getOutput().getClassesDirs());\n-                task.dependenciesConfiguration(compileClasspath);\n-\n-                task.ignore(\"org.slf4j\", \"slf4j-api\");\n-            });\n+                    .forEach(sourceSet ->\n+                            configureSourceSet(project, sourceSet, checkUnusedDependencies, checkImplicitDependencies));\n         });\n     }\n \n+    private static void configureSourceSet(\n+            Project project,\n+            SourceSet sourceSet,\n+            TaskProvider<Task> checkUnusedDependencies,\n+            TaskProvider<Task> checkImplicitDependencies) {\n+        Configuration compileClasspath =\n+                project.getConfigurations().getByName(sourceSet.getCompileClasspathConfigurationName());\n+        Configuration compileOnly = project.getConfigurations().getByName(sourceSet.getCompileOnlyConfigurationName());\n+        Configuration resolvableCompileOnly = project.getConfigurations()\n+                .create(\"baseline-exact-dependencies-\" + sourceSet.getCompileOnlyConfigurationName(), conf -> {\n+                    conf.setVisible(false);\n+                    conf.setCanBeConsumed(false);\n+                    conf.extendsFrom(compileOnly);\n+                    // Important! this ensures we resolve 'compile' variants rather than\n+                    // 'runtime'\n+                    // This is the same attribute that's being set on compileClasspath\n+                    conf.getAttributes()\n+                            .attribute(\n+                                    Usage.USAGE_ATTRIBUTE, project.getObjects().named(Usage.class, Usage.JAVA_API));\n+                });\n+        TaskProvider<CheckUnusedDependenciesTask> sourceSetUnusedDependencies = project.getTasks()\n+                .register(\n+                        GUtil.toLowerCamelCase(\"checkUnusedDependencies \" + sourceSet.getName()),\n+                        CheckUnusedDependenciesTask.class,\n+                        task -> {\n+                            task.dependsOn(JavaPlugin.CLASSES_TASK_NAME);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d599b2dcdb8bced9eb982011cd6549850223fc30"}, "originalPosition": 93}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df86f65647974064850ef5e5c0e1df643a546574", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/df86f65647974064850ef5e5c0e1df643a546574", "committedDate": "2020-02-27T12:18:21Z", "message": "source set classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc8e9e2cca856833a02d3d8775c9641378a8953f", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/bc8e9e2cca856833a02d3d8775c9641378a8953f", "committedDate": "2020-02-27T12:21:48Z", "message": "comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f16f85ada959a12cc2d14508605e6d4c70df705", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/3f16f85ada959a12cc2d14508605e6d4c70df705", "committedDate": "2020-02-27T12:27:15Z", "message": "fail if trying to add unresolvable sourceOnlyConfiguration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NjQxMjcw", "url": "https://github.com/palantir/gradle-baseline/pull/1262#pullrequestreview-365641270", "createdAt": "2020-02-27T12:29:50Z", "commit": {"oid": "3f16f85ada959a12cc2d14508605e6d4c70df705"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjoyOTo1MVrOFvQZvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjoyOTo1MVrOFvQZvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA5NjEyNA==", "bodyText": "To be fair this method shouldn't exist, because I don't know in what situation users might actually use it.\nThe name is confusing now too since it implies source-only configurations need to be added, but we already add (ignore) all compileOnly configurations from all source sets.\nBut for now, let's at least throw eagerly if the user gave us a bad configuration.", "url": "https://github.com/palantir/gradle-baseline/pull/1262#discussion_r385096124", "createdAt": "2020-02-27T12:29:51Z", "author": {"login": "dansanduleac"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/tasks/CheckUnusedDependenciesTask.java", "diffHunk": "@@ -190,6 +191,11 @@ public final void dependenciesConfiguration(Configuration dependenciesConfigurat\n     }\n \n     public final void sourceOnlyConfiguration(Configuration configuration) {\n+        Preconditions.checkNotNull(configuration);\n+        Preconditions.checkArgument(\n+                configuration.isCanBeResolved(),\n+                \"May only add sourceOnlyConfiguration if it is resolvable: %s\",\n+                configuration);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f16f85ada959a12cc2d14508605e6d4c70df705"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c3df450a6789f31a96ab59758f732d560461d8", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/82c3df450a6789f31a96ab59758f732d560461d8", "committedDate": "2020-02-27T12:30:54Z", "message": "sigh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f1fae622f019512e9baadcc851b8f230ce3d6fb", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/4f1fae622f019512e9baadcc851b8f230ce3d6fb", "committedDate": "2020-02-27T16:38:22Z", "message": "abstract out  makeInternalCompileConfiguration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8473df44de9869f779e4cafbdf31f40d2296b80", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/d8473df44de9869f779e4cafbdf31f40d2296b80", "committedDate": "2020-02-28T11:54:37Z", "message": "only explicit direct dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55c0f2b9198654c8d87a42a111806ca21cef596e", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/55c0f2b9198654c8d87a42a111806ca21cef596e", "committedDate": "2020-02-28T11:57:09Z", "message": "delete unused"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e58b4a7f765064c5560b5ca7b7e25400065f7d1", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/8e58b4a7f765064c5560b5ca7b7e25400065f7d1", "committedDate": "2020-02-28T12:02:46Z", "message": "fix null pointer bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bdc909f80b746aa03bfda5981ed2331ea07d630", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/6bdc909f80b746aa03bfda5981ed2331ea07d630", "committedDate": "2020-02-28T14:48:09Z", "message": "garbaggio"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NDgzMzkw", "url": "https://github.com/palantir/gradle-baseline/pull/1262#pullrequestreview-366483390", "createdAt": "2020-02-28T15:32:31Z", "commit": {"oid": "6bdc909f80b746aa03bfda5981ed2331ea07d630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTozMjozMVrOFv4_3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTozMjozMVrOFv4_3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc2MTI0Nw==", "bodyText": "Can we write a test for this?", "url": "https://github.com/palantir/gradle-baseline/pull/1262#discussion_r385761247", "createdAt": "2020-02-28T15:32:31Z", "author": {"login": "CRogers"}, "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineExactDependencies.java", "diffHunk": "@@ -60,45 +65,100 @@\n     @Override\n     public void apply(Project project) {\n         project.getPluginManager().withPlugin(\"java\", plugin -> {\n-            SourceSet mainSourceSet = project.getConvention()\n+            TaskProvider<Task> checkUnusedDependencies = project.getTasks().register(\"checkUnusedDependencies\");\n+            TaskProvider<Task> checkImplicitDependencies = project.getTasks().register(\"checkImplicitDependencies\");\n+\n+            project.getConvention()\n                     .getPlugin(JavaPluginConvention.class)\n                     .getSourceSets()\n-                    .getByName(SourceSet.MAIN_SOURCE_SET_NAME);\n-            Configuration compileClasspath =\n-                    project.getConfigurations().getByName(JavaPlugin.COMPILE_CLASSPATH_CONFIGURATION_NAME);\n-            Configuration compileOnly =\n-                    project.getConfigurations().getByName(JavaPlugin.COMPILE_ONLY_CONFIGURATION_NAME);\n-            Configuration justCompileOnlyResolvable = project.getConfigurations()\n-                    .create(\"baseline-exact-dependencies-compileOnly\", conf -> {\n-                        conf.setVisible(false);\n-                        conf.setCanBeConsumed(false);\n-                        conf.extendsFrom(compileOnly);\n-                        // Important! this ensures we resolve 'compile' variants rather than 'runtime'\n-                        // This is the same attribute that's being set on compileClasspath\n-                        conf.getAttributes()\n-                                .attribute(\n-                                        Usage.USAGE_ATTRIBUTE,\n-                                        project.getObjects().named(Usage.class, Usage.JAVA_API));\n-                    });\n-\n-            project.getTasks().create(\"checkUnusedDependencies\", CheckUnusedDependenciesTask.class, task -> {\n-                task.dependsOn(JavaPlugin.CLASSES_TASK_NAME);\n-                task.setSourceClasses(mainSourceSet.getOutput().getClassesDirs());\n-                task.dependenciesConfiguration(compileClasspath);\n-                task.sourceOnlyConfiguration(justCompileOnlyResolvable);\n-\n-                // this is liberally applied to ease the Java8 -> 11 transition\n-                task.ignore(\"javax.annotation\", \"javax.annotation-api\");\n-            });\n+                    .all(sourceSet ->\n+                            configureSourceSet(project, sourceSet, checkUnusedDependencies, checkImplicitDependencies));\n+        });\n+    }\n \n-            project.getTasks().create(\"checkImplicitDependencies\", CheckImplicitDependenciesTask.class, task -> {\n-                task.dependsOn(JavaPlugin.CLASSES_TASK_NAME);\n-                task.setSourceClasses(mainSourceSet.getOutput().getClassesDirs());\n-                task.dependenciesConfiguration(compileClasspath);\n+    private static void configureSourceSet(\n+            Project project,\n+            SourceSet sourceSet,\n+            TaskProvider<Task> checkUnusedDependencies,\n+            TaskProvider<Task> checkImplicitDependencies) {\n+        Configuration implementation =\n+                project.getConfigurations().getByName(sourceSet.getImplementationConfigurationName());\n+        Configuration compile = project.getConfigurations().getByName(sourceSet.getCompileConfigurationName());\n+        Configuration compileClasspath =\n+                project.getConfigurations().getByName(sourceSet.getCompileClasspathConfigurationName());\n \n-                task.ignore(\"org.slf4j\", \"slf4j-api\");\n-            });\n+        Configuration explicitCompile = project.getConfigurations()\n+                .create(\"baseline-exact-dependencies-\" + sourceSet.getName(), conf -> {\n+                    conf.setDescription(String.format(\n+                            \"Tracks the explicit (not inherited) dependencies added to either %s or %s\",\n+                            compile.toString(), implementation.toString()));\n+                    conf.setVisible(false);\n+                    conf.setCanBeConsumed(false);\n+                    // Important! this ensures we resolve 'compile' variants rather than 'runtime'\n+                    // This is the same attribute that's being set on compileClasspath\n+                    conf.getAttributes()\n+                            .attribute(\n+                                    Usage.USAGE_ATTRIBUTE, project.getObjects().named(Usage.class, Usage.JAVA_API));\n+                });\n+\n+        // Figure out what our compile dependencies are while ignoring dependencies we've inherited from other source\n+        // sets. For example, if we are `test`, some of our configurations extend from the `main` source set:\n+        // testImplementation     extendsFrom(implementation)\n+        //  \\-- testCompile       extendsFrom(compile)\n+        // We therefore want to look at only the dependencies _directly_ declared in the implementation and compile\n+        // configurations (belonging to our source set)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bdc909f80b746aa03bfda5981ed2331ea07d630"}, "originalPosition": 109}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29f4c912d07d898374b20108cf45d1aa7a07fb49", "author": {"user": {"login": "dansanduleac", "name": "Dan S\u0103nduleac"}}, "url": "https://github.com/palantir/gradle-baseline/commit/29f4c912d07d898374b20108cf45d1aa7a07fb49", "committedDate": "2020-02-28T15:43:08Z", "message": "test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NDk0NDky", "url": "https://github.com/palantir/gradle-baseline/pull/1262#pullrequestreview-366494492", "createdAt": "2020-02-28T15:46:45Z", "commit": {"oid": "29f4c912d07d898374b20108cf45d1aa7a07fb49"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo0Njo0NVrOFv5iKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo0Njo0NVrOFv5iKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MDAyNg==", "bodyText": "Without my latest changes (with the previous implementation at https://github.com/palantir/gradle-baseline/pull/1262/files/bc8e9e2cca856833a02d3d8775c9641378a8953f) this test failed with:\n* What went wrong:\nExecution failed for task ':checkUnusedDependenciesTest'.\n> Found 1 dependencies unused during compilation, please delete them from 'build.gradle' or choose one of the suggested fixes:\n  \tcom.google.guava:guava", "url": "https://github.com/palantir/gradle-baseline/pull/1262#discussion_r385770026", "createdAt": "2020-02-28T15:46:45Z", "author": {"login": "dansanduleac"}, "path": "gradle-baseline-java/src/test/groovy/com/palantir/baseline/BaselineExactDependenciesTest.groovy", "diffHunk": "@@ -109,6 +109,32 @@ class BaselineExactDependenciesTest extends AbstractPluginTest {\n         BuildResult result = with('checkUnusedDependencies', '--stacktrace').build()\n         result.task(':classes').getOutcome() == TaskOutcome.SUCCESS\n         result.task(':checkUnusedDependencies').getOutcome() == TaskOutcome.SUCCESS\n+        result.task(':checkUnusedDependenciesMain').getOutcome() == TaskOutcome.SUCCESS\n+    }\n+\n+    def 'checkUnusedDependenciesTest passes if dependency from main source set is not referenced in test'() {\n+        when:\n+        buildFile << standardBuildFile\n+        buildFile << \"\"\"\n+        repositories {\n+            mavenCentral()\n+        }\n+        dependencies {\n+            compile 'com.google.guava:guava:28.0-jre'\n+        }\n+        \"\"\"\n+        file('src/main/java/pkg/Foo.java') << '''\n+        package pkg;\n+        public class Foo {\n+            void foo() {\n+                com.google.common.collect.ImmutableList.of();\n+            }\n+        }\n+        '''.stripIndent()\n+\n+        then:\n+        def result = with('checkUnusedDependencies', '--stacktrace').build()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29f4c912d07d898374b20108cf45d1aa7a07fb49"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NTA0NTg4", "url": "https://github.com/palantir/gradle-baseline/pull/1262#pullrequestreview-366504588", "createdAt": "2020-02-28T16:00:17Z", "commit": {"oid": "29f4c912d07d898374b20108cf45d1aa7a07fb49"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2172, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}