{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2ODM4MzM2", "number": 1380, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMTo1NzoyMlrOEB7wVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMTo1ODoyM1rOEB7xVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNDYzMDYxOnYy", "diffSide": "RIGHT", "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/RedundantModifier.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMTo1NzoyMlrOGeFWgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMjoyNzoxM1rOGeGCPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODE0Ng==", "bodyText": "seems like this should be an error", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434198146", "createdAt": "2020-06-02T21:57:22Z", "author": {"login": "ferozco"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/RedundantModifier.java", "diffHunk": "@@ -41,7 +42,7 @@\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n         providesFix = BugPattern.ProvidesFix.REQUIRES_HUMAN_ATTENTION,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNTI3NA==", "bodyText": "I think we want WARN here, iirc we use a flag to ignore error-prone warnings in generated code but it doesn't apply to errors.", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434205274", "createdAt": "2020-06-02T22:15:52Z", "author": {"login": "carterkozak"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/RedundantModifier.java", "diffHunk": "@@ -41,7 +42,7 @@\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n         providesFix = BugPattern.ProvidesFix.REQUIRES_HUMAN_ATTENTION,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODE0Ng=="}, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNzM5Mg==", "bodyText": "I believe we explicitly opt out of errorprone on generated source sets: \n  \n    \n      gradle-baseline/gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineErrorProne.java\n    \n    \n         Line 210\n      in\n      a63a0ad\n    \n    \n    \n    \n\n        \n          \n           .set(String.format(", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434207392", "createdAt": "2020-06-02T22:21:49Z", "author": {"login": "ferozco"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/RedundantModifier.java", "diffHunk": "@@ -41,7 +42,7 @@\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n         providesFix = BugPattern.ProvidesFix.REQUIRES_HUMAN_ATTENTION,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODE0Ng=="}, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwODI1Ng==", "bodyText": "Can we change this in a FLUP? I'd prefer not to accidentally break things in this PR.", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434208256", "createdAt": "2020-06-02T22:24:16Z", "author": {"login": "pkoenig10"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/RedundantModifier.java", "diffHunk": "@@ -41,7 +42,7 @@\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n         providesFix = BugPattern.ProvidesFix.REQUIRES_HUMAN_ATTENTION,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODE0Ng=="}, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwOTM0MA==", "bodyText": "+1 for handling warn->error separately. I don't think our regex catches 100% of generated code and I'm not sure it's worth the risk breaking some folks in order to fail builds in repos that don't fail on errors", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434209340", "createdAt": "2020-06-02T22:27:13Z", "author": {"login": "carterkozak"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/RedundantModifier.java", "diffHunk": "@@ -41,7 +42,7 @@\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n         providesFix = BugPattern.ProvidesFix.REQUIRES_HUMAN_ATTENTION,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODE0Ng=="}, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNDYzMzE3OnYy", "diffSide": "RIGHT", "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/StreamOfEmpty.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMTo1ODoyM1rOGeFYCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMjoyMTo1NVrOGeF6vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODUzNg==", "bodyText": "same here, definitely a bug", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434198536", "createdAt": "2020-06-02T21:58:23Z", "author": {"login": "ferozco"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/StreamOfEmpty.java", "diffHunk": "@@ -33,7 +34,7 @@\n         name = \"StreamOfEmpty\",\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNjUxOQ==", "bodyText": "I think the risk with making some of these errors is that repos which have a bunch of existing violation will be blocked. WARNING seems a bit safer because it's won't fail compilation unless you have -Werror.\nHappy to change it if you would still prefer ERROR, just wanted to point this out.", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434206519", "createdAt": "2020-06-02T22:19:20Z", "author": {"login": "pkoenig10"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/StreamOfEmpty.java", "diffHunk": "@@ -33,7 +34,7 @@\n         name = \"StreamOfEmpty\",\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODUzNg=="}, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNzQyMA==", "bodyText": "in practice these rules will be auto applied on upgrade so I'm not particularly worried about blocking upgrades.", "url": "https://github.com/palantir/gradle-baseline/pull/1380#discussion_r434207420", "createdAt": "2020-06-02T22:21:55Z", "author": {"login": "ferozco"}, "path": "baseline-error-prone/src/main/java/com/palantir/baseline/errorprone/StreamOfEmpty.java", "diffHunk": "@@ -33,7 +34,7 @@\n         name = \"StreamOfEmpty\",\n         link = \"https://github.com/palantir/gradle-baseline#baseline-error-prone-checks\",\n         linkType = BugPattern.LinkType.CUSTOM,\n-        severity = BugPattern.SeverityLevel.SUGGESTION,\n+        severity = SeverityLevel.WARNING,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE5ODUzNg=="}, "originalCommit": {"oid": "513430bdda9efcb78b08acaa53b5fe9c83a8cdb0"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2248, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}