{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NjMwNzY2", "number": 1857, "title": "Personnel biographical view and last name simplification ", "bodyText": "Primarily the purpose of this pull request was to add information on recruitment date and death date as a sortable field in the personnel table. Since it would get a little scrunched to add that to fluff, I created a new view called \"Biographical Information\" that includes these dates and I moved age, origin faction, and origin planet over from fluff information since that table was a bit cluttered. Here is a screenshot of the new view:\n\nWe could add other dates here as well. I wanted to add retirement date and PR #1843 asks for the date when people were taken as prisoners. However, we currently don't track those dates on the person, just as one of many possible events in their personnel log.\nSince I was messing about on the personnel table, I decide to fix up another issue as well. I don't like the way surname and bloodname were being distinguished based on the type of faction for the overall campaign. Players may want to run campaigns that involve a mix of non-clan and clan personnel and the dark age sort of assumes this sort of structure for many factions, with partially assimilated clanners. They may also want to just give all of their non-bloodnamed warriors the surname \"Wolf\" which there is also precedent for in canon. This seemed like an unnecessary restriction on how players might want to construct their campaigns.\nSo I got rid of all of the checks for clan or non-clan faction on surname. Instead all fields except fluff now contain a \"Last Name\" column and last name here is either surname or bloodname plus any honorific. If both are given, then bloodname takes precedent. This logic is now built into Person.getFullName so it should show up correctly anywhere that method is used.", "createdAt": "2020-07-10T20:29:50Z", "url": "https://github.com/MegaMek/mekhq/pull/1857", "merged": true, "mergeCommit": {"oid": "3e151c88a66d627b345175bd3dadc69c432d5f38"}, "closed": true, "closedAt": "2020-07-31T15:22:05Z", "author": {"login": "AaronGullickson"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczoLh8gH2gAyNDQ3NjMwNzY2OmI0OTNiZjljYjgxZWVjNWVlMGM0NTgxMzlkYzgwMWQ3NGI0OWY3Y2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6VlDVAH2gAyNDQ3NjMwNzY2OjU3YWEwZjZiMmY0MTFmNDJjNjU1NTg2NDdkMzQ2ZjgwMDhkOGY1ODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b493bf9cb81eec5ee0c458139dc801d74b49f7ce", "author": {"user": {"login": "AaronGullickson", "name": "Aaron Gullickson"}}, "url": "https://github.com/MegaMek/mekhq/commit/b493bf9cb81eec5ee0c458139dc801d74b49f7ce", "committedDate": "2020-07-10T18:45:01Z", "message": "biographical information view with recruitment and death date"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f6e1a29f66cead4294753ac335b5ab0658df57", "author": {"user": {"login": "AaronGullickson", "name": "Aaron Gullickson"}}, "url": "https://github.com/MegaMek/mekhq/commit/31f6e1a29f66cead4294753ac335b5ab0658df57", "committedDate": "2020-07-10T20:13:55Z", "message": "combined surname and bloodname into last name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NzYzOTEx", "url": "https://github.com/MegaMek/mekhq/pull/1857#pullrequestreview-446763911", "createdAt": "2020-07-11T01:04:53Z", "commit": {"oid": "31f6e1a29f66cead4294753ac335b5ab0658df57"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMTowNDo1M1rOGwJNDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMTowODo0N1rOGwJPDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEzNTYzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }\n          \n          \n            \n                    else if (!StringUtil.isNullOrEmpty(surname)) {\n          \n          \n            \n                    } else if (!StringUtil.isNullOrEmpty(surname)) {", "url": "https://github.com/MegaMek/mekhq/pull/1857#discussion_r453135631", "createdAt": "2020-07-11T01:04:53Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/personnel/Person.java", "diffHunk": "@@ -644,27 +644,36 @@ public void setMaidenName(String n) {\n         this.maidenName = n;\n     }\n \n+    /**\n+     * return a full last name which may be a bloodname or a surname with or without honorifics.\n+     * A bloodname will overrule a surname but we do not disallow surnames for clanners, if the\n+     * player wants to input them\n+     * @return a String of the person's last name\n+     */\n+    public String getLastName() {\n+        String lastName = \"\";\n+        if (!StringUtil.isNullOrEmpty(bloodname)) {\n+            lastName = bloodname;\n+        }\n+        else if (!StringUtil.isNullOrEmpty(surname)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f6e1a29f66cead4294753ac335b5ab0658df57"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEzNjA4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }\n          \n          \n            \n                    if (!StringUtil.isNullOrEmpty(honorific)) {\n          \n          \n            \n                    }\n          \n          \n            \n            \n          \n          \n            \n                    if (!StringUtil.isNullOrEmpty(honorific)) {", "url": "https://github.com/MegaMek/mekhq/pull/1857#discussion_r453136085", "createdAt": "2020-07-11T01:08:16Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/personnel/Person.java", "diffHunk": "@@ -644,27 +644,36 @@ public void setMaidenName(String n) {\n         this.maidenName = n;\n     }\n \n+    /**\n+     * return a full last name which may be a bloodname or a surname with or without honorifics.\n+     * A bloodname will overrule a surname but we do not disallow surnames for clanners, if the\n+     * player wants to input them\n+     * @return a String of the person's last name\n+     */\n+    public String getLastName() {\n+        String lastName = \"\";\n+        if (!StringUtil.isNullOrEmpty(bloodname)) {\n+            lastName = bloodname;\n+        }\n+        else if (!StringUtil.isNullOrEmpty(surname)) {\n+            lastName = surname;\n+        }\n+        if (!StringUtil.isNullOrEmpty(honorific)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f6e1a29f66cead4294753ac335b5ab0658df57"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEzNjE0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(getDateOfDeath() == null) {\n          \n          \n            \n                    if (getDateOfDeath() == null) {", "url": "https://github.com/MegaMek/mekhq/pull/1857#discussion_r453136143", "createdAt": "2020-07-11T01:08:47Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/personnel/Person.java", "diffHunk": "@@ -1146,6 +1155,15 @@ public LocalDate getDateOfDeath() {\n         return dateOfDeath;\n     }\n \n+    public String getDeathDateAsString(Campaign campaign) {\n+        if(getDateOfDeath() == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f6e1a29f66cead4294753ac335b5ab0658df57"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NzY0OTIy", "url": "https://github.com/MegaMek/mekhq/pull/1857#pullrequestreview-446764922", "createdAt": "2020-07-11T01:14:54Z", "commit": {"oid": "31f6e1a29f66cead4294753ac335b5ab0658df57"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c530d510af103ba2f6f309ba392ad72a59e7f24", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/3c530d510af103ba2f6f309ba392ad72a59e7f24", "committedDate": "2020-07-26T01:50:39Z", "message": "Merge branch 'master' into personnel_dates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fe826c93f99a7fa738934edc8003ac8ceb85773", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/5fe826c93f99a7fa738934edc8003ac8ceb85773", "committedDate": "2020-07-26T01:51:41Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzcwNzE3", "url": "https://github.com/MegaMek/mekhq/pull/1857#pullrequestreview-455370717", "createdAt": "2020-07-26T14:46:58Z", "commit": {"oid": "5fe826c93f99a7fa738934edc8003ac8ceb85773"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNDo0Njo1OVrOG3M6WQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNDo0Njo1OVrOG3M6WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDUzNjQwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        return getDateOfDeath().format(DateTimeFormatter.ofPattern(\n          \n          \n            \n                                campaign.getCampaignOptions().getDisplayDateFormat()));\n          \n          \n            \n                        return campaign.getCampaignOptions().getDisplayFormattedDate(getDateOfDeath());", "url": "https://github.com/MegaMek/mekhq/pull/1857#discussion_r460536409", "createdAt": "2020-07-26T14:46:59Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/personnel/Person.java", "diffHunk": "@@ -1100,6 +1109,15 @@ public LocalDate getDateOfDeath() {\n         return dateOfDeath;\n     }\n \n+    public String getDeathDateAsString(Campaign campaign) {\n+        if (getDateOfDeath() == null) {\n+            return \"\";\n+        } else {\n+            return getDateOfDeath().format(DateTimeFormatter.ofPattern(\n+                    campaign.getCampaignOptions().getDisplayDateFormat()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fe826c93f99a7fa738934edc8003ac8ceb85773"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57aa0f6b2f411f42c65558647d346f8008d8f587", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/57aa0f6b2f411f42c65558647d346f8008d8f587", "committedDate": "2020-07-31T15:02:10Z", "message": "Fixing Person build failure"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4312, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}