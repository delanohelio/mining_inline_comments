{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NDQzODc5", "number": 2127, "title": "Move accounting, reporting, and statistical methods out of Campaign", "bodyText": "This removes accounting, reporting, and statistical methods out of Campaign and either into (a) a new class more closely following SRP, or (b) the only class containing the only callers of the method.", "createdAt": "2020-10-07T18:38:06Z", "url": "https://github.com/MegaMek/mekhq/pull/2127", "merged": true, "mergeCommit": {"oid": "04092f3a167869bb2fcd630c6a57630e253f0416"}, "closed": true, "closedAt": "2020-10-10T18:57:31Z", "author": {"login": "sixlettervariables"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQRWtigH2gAyNDk5NDQzODc5OjA0YTE2ZGU0NDhhMGM3ZDU3NmE2YzNjNjRjOWQyM2FlMDgzODRiYWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdROU7ugH2gAyNDk5NDQzODc5OmFlMTYwYzMxMmM1OTY2NDkwMzFmYjJjOTIwNmQ4Y2U3MzY5NTljNTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "04a16de448a0c7d576a6c3c64c9d23ae08384bae", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/04a16de448a0c7d576a6c3c64c9d23ae08384bae", "committedDate": "2020-10-07T18:33:13Z", "message": "Split out cargo and hangar statistics from Campaign"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "796379c3c13e8dadad4ac4cfd29f02a30e9c2bd1", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/796379c3c13e8dadad4ac4cfd29f02a30e9c2bd1", "committedDate": "2020-10-07T18:33:13Z", "message": "Split out accounting from the Campaign"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a254e204d91c3fd90698936f8d21aba26aaf0142", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/a254e204d91c3fd90698936f8d21aba26aaf0142", "committedDate": "2020-10-07T18:33:14Z", "message": "Move PersonnelReport methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "361dde24295aa66e89fea69823b01cf497cf4664", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/361dde24295aa66e89fea69823b01cf497cf4664", "committedDate": "2020-10-07T18:33:14Z", "message": "Move more financial reporting out of Campaign"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c28db6f06dec2b03e487c15f514685d852bdca1e", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/c28db6f06dec2b03e487c15f514685d852bdca1e", "committedDate": "2020-10-07T18:33:14Z", "message": "Remove unused methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "039786019051fddf3af641c0cc0e35e7c85eb156", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/039786019051fddf3af641c0cc0e35e7c85eb156", "committedDate": "2020-10-07T19:49:11Z", "message": "Make testing Accountant easier for a Campaign"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a72b07d7b8ec62055140cd346314602fb020119e", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/a72b07d7b8ec62055140cd346314602fb020119e", "committedDate": "2020-10-07T20:11:53Z", "message": "Make it easier to mock stats classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/63e028b04713a41ec415910ea4d0ed03a3678864", "committedDate": "2020-10-08T17:32:32Z", "message": "Merge remote-tracking branch 'upstream/master' into move-accounting-and-stats-out-of-campaign"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDE0MzY3", "url": "https://github.com/MegaMek/mekhq/pull/2127#pullrequestreview-506014367", "createdAt": "2020-10-09T22:17:06Z", "commit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "state": "APPROVED", "comments": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMjoxNzowNlrOHfZz9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMjoyNzo1MVrOHfZ_SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MDgwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n          \n          \n            \n                        if ((en instanceof GunEmplacement) || (en instanceof FighterSquadron) || (en instanceof Jumpship)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502690805", "createdAt": "2020-10-09T22:17:06Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTAzMA==", "bodyText": "This looks weird", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691030", "createdAt": "2020-10-09T22:17:58Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTEyNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_MECH) && (en instanceof Mech)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691124", "createdAt": "2020-10-09T22:18:16Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTE3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_DROPSHIP) && (en instanceof Dropship)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691173", "createdAt": "2020-10-09T22:18:26Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTIyNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n          \n          \n            \n                        if ((type == Entity.ETYPE_SMALL_CRAFT) && (en instanceof SmallCraft)", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691224", "createdAt": "2020-10-09T22:18:38Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTI3Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_CONV_FIGHTER) && (en instanceof ConvFighter)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691272", "createdAt": "2020-10-09T22:18:52Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTQwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_AERO && en instanceof Aero\n          \n          \n            \n                                && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_AERO) && (en instanceof Aero)\n          \n          \n            \n                                && !((en instanceof SmallCraft) || (en instanceof ConvFighter))) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691406", "createdAt": "2020-10-09T22:19:20Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTQ4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_INFANTRY) && (en instanceof Infantry) && !(en instanceof BattleArmor)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691480", "createdAt": "2020-10-09T22:19:34Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTUzNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_BATTLEARMOR) && (en instanceof BattleArmor)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691535", "createdAt": "2020-10-09T22:19:47Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTYxNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n          \n          \n            \n                            if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_TANK) && (en instanceof Tank)) {\n          \n          \n            \n                            if (((en.getWeight() <= 50) && lv) || ((en.getWeight() > 50) && !lv)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691615", "createdAt": "2020-10-09T22:20:11Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTY2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_PROTOMECH) && (en instanceof Protomech)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691666", "createdAt": "2020-10-09T22:20:27Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTczMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (en instanceof GunEmplacement || en instanceof Jumpship) {\n          \n          \n            \n                        if ((en instanceof GunEmplacement) || (en instanceof Jumpship)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691730", "createdAt": "2020-10-09T22:20:41Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 120}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTc4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_MECH) && (en instanceof Mech)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691780", "createdAt": "2020-10-09T22:20:56Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 123}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTgxNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_DROPSHIP) && (en instanceof Dropship)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691815", "createdAt": "2020-10-09T22:21:07Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 127}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTg2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_SMALL_CRAFT) && (en instanceof SmallCraft) && !(en instanceof Dropship)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691863", "createdAt": "2020-10-09T22:21:20Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTk0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_CONV_FIGHTER) && (en instanceof ConvFighter)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691941", "createdAt": "2020-10-09T22:21:34Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 135}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjAwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_BATTLEARMOR) && (en instanceof BattleArmor)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692002", "createdAt": "2020-10-09T22:21:48Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 148}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjA3Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_INFANTRY) && (en instanceof Infantry) && !(en instanceof BattleArmor)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692076", "createdAt": "2020-10-09T22:21:59Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 144}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjE3NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_AERO && en instanceof Aero\n          \n          \n            \n                                && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_AERO) && (en instanceof Aero)\n          \n          \n            \n                                && !((en instanceof SmallCraft) || (en instanceof ConvFighter))) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692174", "createdAt": "2020-10-09T22:22:21Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 140}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjI0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_TANK) && (en instanceof Tank)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692241", "createdAt": "2020-10-09T22:22:39Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 152}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjMzMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n          \n          \n            \n                            if (((en.getWeight() <= 50) && lv) || ((en.getWeight() > 50) && !lv)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692330", "createdAt": "2020-10-09T22:22:52Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 153}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjQwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_PROTOMECH) && (en instanceof Protomech)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692402", "createdAt": "2020-10-09T22:23:10Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 158}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzEyNg==", "bodyText": "This looks weird", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693126", "createdAt": "2020-10-09T22:25:44Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/CampaignSummary.java", "diffHunk": "@@ -146,41 +148,43 @@ public void updateInformation() {\n                 countMissionByStatus[Mission.S_BREACH];\n \n         //cargo capacity\n-        cargoCapacity = campaign.getTotalCombinedCargoCapacity();\n-        cargoTons = campaign.getCargoTonnage(false);\n-        double mothballedTonnage = campaign.getCargoTonnage(false, true);\n+        CargoStatistics cargoStats = campaign.getCargoStatistics();\n+        cargoCapacity = cargoStats.getTotalCombinedCargoCapacity();\n+        cargoTons = cargoStats.getCargoTonnage(false);\n+        double mothballedTonnage = cargoStats.getCargoTonnage(false, true);\n         cargoTons = (cargoTons + mothballedTonnage);\n \n         //transport capacity\n-        int noMech = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_MECH) - campaign.getOccupiedBays(Entity.ETYPE_MECH), 0);\n-        int noSC = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - campaign.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n+        HangarStatistics hangarStats = campaign.getHangarStatistics();\n+        int noMech = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_MECH) - hangarStats.getOccupiedBays(Entity.ETYPE_MECH), 0);\n+        int noSC = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - hangarStats.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n         @SuppressWarnings(\"unused\") // FIXME: What type of bays do ConvFighters use?\n-                int noCF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - campaign.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);\n-        int noASF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_AERO) - campaign.getOccupiedBays(Entity.ETYPE_AERO), 0);\n-        int nolv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK, false, true) - campaign.getOccupiedBays(Entity.ETYPE_TANK, true), 0);\n-        int nohv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK) - campaign.getOccupiedBays(Entity.ETYPE_TANK), 0);\n-        int noinf = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_INFANTRY) - campaign.getOccupiedBays(Entity.ETYPE_INFANTRY), 0);\n-        int noBA = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_BATTLEARMOR) - campaign.getOccupiedBays(Entity.ETYPE_BATTLEARMOR), 0);\n+                int noCF = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - hangarStats.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzI1Mw==", "bodyText": "This looks weird", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693253", "createdAt": "2020-10-09T22:26:12Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/CampaignSummary.java", "diffHunk": "@@ -146,41 +148,43 @@ public void updateInformation() {\n                 countMissionByStatus[Mission.S_BREACH];\n \n         //cargo capacity\n-        cargoCapacity = campaign.getTotalCombinedCargoCapacity();\n-        cargoTons = campaign.getCargoTonnage(false);\n-        double mothballedTonnage = campaign.getCargoTonnage(false, true);\n+        CargoStatistics cargoStats = campaign.getCargoStatistics();\n+        cargoCapacity = cargoStats.getTotalCombinedCargoCapacity();\n+        cargoTons = cargoStats.getCargoTonnage(false);\n+        double mothballedTonnage = cargoStats.getCargoTonnage(false, true);\n         cargoTons = (cargoTons + mothballedTonnage);\n \n         //transport capacity\n-        int noMech = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_MECH) - campaign.getOccupiedBays(Entity.ETYPE_MECH), 0);\n-        int noSC = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - campaign.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n+        HangarStatistics hangarStats = campaign.getHangarStatistics();\n+        int noMech = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_MECH) - hangarStats.getOccupiedBays(Entity.ETYPE_MECH), 0);\n+        int noSC = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - hangarStats.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n         @SuppressWarnings(\"unused\") // FIXME: What type of bays do ConvFighters use?\n-                int noCF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - campaign.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);\n-        int noASF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_AERO) - campaign.getOccupiedBays(Entity.ETYPE_AERO), 0);\n-        int nolv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK, false, true) - campaign.getOccupiedBays(Entity.ETYPE_TANK, true), 0);\n-        int nohv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK) - campaign.getOccupiedBays(Entity.ETYPE_TANK), 0);\n-        int noinf = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_INFANTRY) - campaign.getOccupiedBays(Entity.ETYPE_INFANTRY), 0);\n-        int noBA = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_BATTLEARMOR) - campaign.getOccupiedBays(Entity.ETYPE_BATTLEARMOR), 0);\n+                int noCF = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - hangarStats.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);\n+        int noASF = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_AERO) - hangarStats.getOccupiedBays(Entity.ETYPE_AERO), 0);\n+        int nolv = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_TANK, false, true) - hangarStats.getOccupiedBays(Entity.ETYPE_TANK, true), 0);\n+        int nohv = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_TANK) - hangarStats.getOccupiedBays(Entity.ETYPE_TANK), 0);\n+        int noinf = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_INFANTRY) - hangarStats.getOccupiedBays(Entity.ETYPE_INFANTRY), 0);\n+        int noBA = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_BATTLEARMOR) - hangarStats.getOccupiedBays(Entity.ETYPE_BATTLEARMOR), 0);\n         @SuppressWarnings(\"unused\") // FIXME: This should be used somewhere...\n-                int noProto = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_PROTOMECH) - campaign.getOccupiedBays(Entity.ETYPE_PROTOMECH),  0);\n-        int freehv = Math.max(campaign.getTotalHeavyVehicleBays() - campaign.getOccupiedBays(Entity.ETYPE_TANK), 0);\n-        int freeSC = Math.max(campaign.getTotalSmallCraftBays() - campaign.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n+                int noProto = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_PROTOMECH) - hangarStats.getOccupiedBays(Entity.ETYPE_PROTOMECH),  0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzYxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (getCampaign().getCampaignOptions().useAdvancedMedical() && p.getInjuries().size() > 0) {\n          \n          \n            \n                            if (getCampaign().getCampaignOptions().useAdvancedMedical() && (p.getInjuries().size() > 0)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693618", "createdAt": "2020-10-09T22:27:26Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/report/PersonnelReport.java", "diffHunk": "@@ -27,53 +27,184 @@\n import javax.swing.JTextPane;\n \n import mekhq.campaign.Campaign;\n-\n-\n+import mekhq.campaign.finances.Money;\n+import mekhq.campaign.personnel.Person;\n \n /**\n  * @author Jay Lawson\n- * @version %I% %G%\n- * @since 3/12/2012\n  */\n public class PersonnelReport extends Report {\n-  \n-    \n+\n+\n     public PersonnelReport(Campaign c) {\n         super(c);\n     }\n-    \n+\n     public String getTitle() {\n         return \"Personnel Report\";\n     }\n-    \n+\n     public JTextPane getCombatPersonnelReport() {\n     \t// Load combat personnel\n         JTextPane txtCombat = new JTextPane();\n         txtCombat.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtCombat.setText(getCampaign().getCombatPersonnelDetails());\n+        txtCombat.setText(getCombatPersonnelDetails());\n         return txtCombat;\n     }\n-    \n+\n     public JTextPane getSupportPersonnelReport() {\n     \t// Load support personnel\n         JTextPane txtSupport = new JTextPane();\n         txtSupport.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtSupport.setText(getCampaign().getSupportPersonnelDetails());\n+        txtSupport.setText(getSupportPersonnelDetails());\n         return txtSupport;\n     }\n-      \n+\n     public JTextPane getReport() {\n         // SplitPane them\n         JSplitPane splitOverviewPersonnel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, getCombatPersonnelReport(), getSupportPersonnelReport());\n \t\tsplitOverviewPersonnel.setName(\"splitOverviewPersonnel\");\n \t\tsplitOverviewPersonnel.setOneTouchExpandable(true);\n \t\tsplitOverviewPersonnel.setResizeWeight(0.5);\n-        \n+\n \t\t// Actual report pane\n \t\tJTextPane txtReport = new JTextPane();\n         txtReport.setMinimumSize(new Dimension(800, 500));\n         txtReport.insertComponent(splitOverviewPersonnel);\n         return txtReport;\n     }\n-   \n-}\n\\ No newline at end of file\n+\n+    public String getCombatPersonnelDetails() {\n+        int[] countPersonByType = new int[Person.T_NUM];\n+        int countTotal = 0;\n+        int countInjured = 0;\n+        int countMIA = 0;\n+        int countKIA = 0;\n+        int countDead = 0;\n+        int countRetired = 0;\n+        Money salary = Money.zero();\n+\n+        for (Person p : getCampaign().getPersonnel()) {\n+            if (!p.hasPrimaryCombatRole() || !p.getPrisonerStatus().isFree()) {\n+                continue;\n+            }\n+\n+            // Add them to the total count\n+            if (p.getStatus().isActive()) {\n+                countPersonByType[p.getPrimaryRole()]++;\n+                countTotal++;\n+                if (getCampaign().getCampaignOptions().useAdvancedMedical() && p.getInjuries().size() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 93}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzcwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (p.getInjuries().size() > 0 || p.getHits() > 0) {\n          \n          \n            \n                            if ((p.getInjuries().size() > 0) || (p.getHits() > 0)) {", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693705", "createdAt": "2020-10-09T22:27:51Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/report/PersonnelReport.java", "diffHunk": "@@ -27,53 +27,184 @@\n import javax.swing.JTextPane;\n \n import mekhq.campaign.Campaign;\n-\n-\n+import mekhq.campaign.finances.Money;\n+import mekhq.campaign.personnel.Person;\n \n /**\n  * @author Jay Lawson\n- * @version %I% %G%\n- * @since 3/12/2012\n  */\n public class PersonnelReport extends Report {\n-  \n-    \n+\n+\n     public PersonnelReport(Campaign c) {\n         super(c);\n     }\n-    \n+\n     public String getTitle() {\n         return \"Personnel Report\";\n     }\n-    \n+\n     public JTextPane getCombatPersonnelReport() {\n     \t// Load combat personnel\n         JTextPane txtCombat = new JTextPane();\n         txtCombat.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtCombat.setText(getCampaign().getCombatPersonnelDetails());\n+        txtCombat.setText(getCombatPersonnelDetails());\n         return txtCombat;\n     }\n-    \n+\n     public JTextPane getSupportPersonnelReport() {\n     \t// Load support personnel\n         JTextPane txtSupport = new JTextPane();\n         txtSupport.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtSupport.setText(getCampaign().getSupportPersonnelDetails());\n+        txtSupport.setText(getSupportPersonnelDetails());\n         return txtSupport;\n     }\n-      \n+\n     public JTextPane getReport() {\n         // SplitPane them\n         JSplitPane splitOverviewPersonnel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, getCombatPersonnelReport(), getSupportPersonnelReport());\n \t\tsplitOverviewPersonnel.setName(\"splitOverviewPersonnel\");\n \t\tsplitOverviewPersonnel.setOneTouchExpandable(true);\n \t\tsplitOverviewPersonnel.setResizeWeight(0.5);\n-        \n+\n \t\t// Actual report pane\n \t\tJTextPane txtReport = new JTextPane();\n         txtReport.setMinimumSize(new Dimension(800, 500));\n         txtReport.insertComponent(splitOverviewPersonnel);\n         return txtReport;\n     }\n-   \n-}\n\\ No newline at end of file\n+\n+    public String getCombatPersonnelDetails() {\n+        int[] countPersonByType = new int[Person.T_NUM];\n+        int countTotal = 0;\n+        int countInjured = 0;\n+        int countMIA = 0;\n+        int countKIA = 0;\n+        int countDead = 0;\n+        int countRetired = 0;\n+        Money salary = Money.zero();\n+\n+        for (Person p : getCampaign().getPersonnel()) {\n+            if (!p.hasPrimaryCombatRole() || !p.getPrisonerStatus().isFree()) {\n+                continue;\n+            }\n+\n+            // Add them to the total count\n+            if (p.getStatus().isActive()) {\n+                countPersonByType[p.getPrimaryRole()]++;\n+                countTotal++;\n+                if (getCampaign().getCampaignOptions().useAdvancedMedical() && p.getInjuries().size() > 0) {\n+                    countInjured++;\n+                } else if (p.getHits() > 0) {\n+                    countInjured++;\n+                }\n+                salary = salary.plus(p.getSalary());\n+            } else if (p.getStatus().isRetired()) {\n+                countRetired++;\n+            } else if (p.getStatus().isMIA()) {\n+                countMIA++;\n+            } else if (p.getStatus().isKIA()) {\n+                countKIA++;\n+                countDead++;\n+            } else if (p.getStatus().isDead()) {\n+                countDead++;\n+            }\n+        }\n+\n+        StringBuilder sb = new StringBuilder(\"Combat Personnel\\n\\n\");\n+\n+        sb.append(String.format(\"%-30s        %4s\\n\", \"Total Combat Personnel\", countTotal));\n+\n+        for (int i = 0; i < Person.T_NUM; i++) {\n+            if (Person.isCombatRole(i)) {\n+                sb.append(String.format(\"    %-30s    %4s\\n\",\n+                        Person.getRoleDesc(i, getCampaign().getFaction().isClan()), countPersonByType[i]));\n+            }\n+        }\n+\n+        sb.append(\"\\n\")\n+                .append(String.format(\"%-30s        %4s\\n\", \"Injured Combat Personnel\", countInjured))\n+                .append(String.format(\"%-30s        %4s\\n\", \"MIA Combat Personnel\", countMIA))\n+                .append(String.format(\"%-30s        %4s\\n\", \"KIA Combat Personnel\", countKIA))\n+                .append(String.format(\"%-30s        %4s\\n\", \"Retired Combat Personnel\", countRetired))\n+                .append(String.format(\"%-30s        %4s\\n\", \"Dead Combat Personnel\", countDead))\n+                .append(\"\\nMonthly Salary For Combat Personnel: \").append(salary.toAmountAndSymbolString());\n+\n+        return sb.toString();\n+    }\n+\n+    public String getSupportPersonnelDetails() {\n+        int[] countPersonByType = new int[Person.T_NUM];\n+        int countTotal = 0;\n+        int countInjured = 0;\n+        int countMIA = 0;\n+        int countKIA = 0;\n+        int countDead = 0;\n+        int countRetired = 0;\n+        Money salary = Money.zero();\n+        int prisoners = 0;\n+        int bondsmen = 0;\n+        int dependents = 0;\n+\n+        for (Person p : getCampaign().getPersonnel()) {\n+            // Add them to the total count\n+            boolean primarySupport = p.hasPrimarySupportRole(false);\n+\n+            if (primarySupport && p.getPrisonerStatus().isFree() && p.getStatus().isActive()) {\n+                countPersonByType[p.getPrimaryRole()]++;\n+                countTotal++;\n+                if (p.getInjuries().size() > 0 || p.getHits() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864"}, "originalPosition": 153}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae160c312c596649031fb2c9206d8ce736959c59", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/ae160c312c596649031fb2c9206d8ce736959c59", "committedDate": "2020-10-10T17:35:29Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4004, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}