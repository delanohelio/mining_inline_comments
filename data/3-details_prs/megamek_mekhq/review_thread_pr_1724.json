{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMTMyMTk3", "number": 1724, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOToxNDowMFrOD5IKhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxOTo0Nzo0NVrOEHtPXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjI5MTg4OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/MissingPart.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOToxNDowMFrOGQOaIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOToxNDowMFrOGQOaIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY2NjQ2NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif(part.isReservedForRefit() || part.isBeingWorkedOn() || part.isReservedForReplacement() || !part.isPresent() || part.hasParentPart() || part.isUsedForRefitPlanning()) {\n          \n          \n            \n            \t\t\tif (part.isReservedForRefit() || part.isBeingWorkedOn() || part.isReservedForReplacement() || !part.isPresent() || part.hasParentPart() || part.isUsedForRefitPlanning()) {", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r419666465", "createdAt": "2020-05-04T19:14:00Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/MissingPart.java", "diffHunk": "@@ -170,7 +170,7 @@ public Part findReplacement(boolean refit) {\n \t\t}\n \t\t// don't just return with the first part if it is damaged\n \t\tfor(Part part : campaign.getSpareParts()) {\n-\t\t\tif(part.isReservedForRefit() || part.isBeingWorkedOn() || part.isReservedForReplacement() || !part.isPresent() || part.hasParentPart()) {\n+\t\t\tif(part.isReservedForRefit() || part.isBeingWorkedOn() || part.isReservedForReplacement() || !part.isPresent() || part.hasParentPart() || part.isUsedForRefitPlanning()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc0163f70c5d9b4745e82683c720f6ce2d109537"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjI5MjI0OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/MissingPart.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOToxNDowNVrOGQOaUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOToxNDowNVrOGQOaUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY2NjUxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t} else if(bestPart.getQuality() < part.getQuality()) {\n          \n          \n            \n            \t\t\t\t} else if (bestPart.getQuality() < part.getQuality()) {", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r419666514", "createdAt": "2020-05-04T19:14:05Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/MissingPart.java", "diffHunk": "@@ -179,7 +179,9 @@ public Part findReplacement(boolean refit) {\n \t\t\t\t\tbestPart = part;\n \t\t\t\t} else if(bestPart.needsFixing() && !part.needsFixing()) {\n \t\t\t\t\tbestPart = part;\n-\t\t\t\t}\n+\t\t\t\t} else if(bestPart.getQuality() < part.getQuality()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc0163f70c5d9b4745e82683c720f6ce2d109537"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjM2MDc5OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTozMzoxMlrOGQPEKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDoxNDozMlrOGQQdjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY3NzIyNg==", "bodyText": "These should be split into three lines, the IDE will automatically shrink them to one when desired and the difference is better in terms of style.", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r419677226", "createdAt": "2020-05-04T19:33:12Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -1233,6 +1236,10 @@ public boolean isReservedForReplacement() {\n         return reserveId != null;\n     }\n \n+    public boolean isUsedForRefitPlanning() { return usedForRefitPlanning; }\n+\n+    public void setUsedForRefitPlanning(boolean flag) { usedForRefitPlanning = flag; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc0163f70c5d9b4745e82683c720f6ce2d109537"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcwMDExMQ==", "bodyText": "Sorry about that. I forgot about IntelliJs habit of collapsing the one line methods.", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r419700111", "createdAt": "2020-05-04T20:14:32Z", "author": {"login": "ChaoticInsanity"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -1233,6 +1236,10 @@ public boolean isReservedForReplacement() {\n         return reserveId != null;\n     }\n \n+    public boolean isUsedForRefitPlanning() { return usedForRefitPlanning; }\n+\n+    public void setUsedForRefitPlanning(boolean flag) { usedForRefitPlanning = flag; }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY3NzIyNg=="}, "originalCommit": {"oid": "fc0163f70c5d9b4745e82683c720f6ce2d109537"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjM2MTgwOnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/Refit.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTozMzoyOVrOGQPE1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTozMzoyOVrOGQPE1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY3NzM5OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    for (Part rPart: plannedReplacementParts) {\n          \n          \n            \n                    for (Part rPart : plannedReplacementParts) {", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r419677398", "createdAt": "2020-05-04T19:33:29Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Refit.java", "diffHunk": "@@ -690,6 +701,10 @@ public void calculate() {\n                 }\n             }\n         }\n+        //clear any planned replacement flags\n+        for (Part rPart: plannedReplacementParts) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc0163f70c5d9b4745e82683c720f6ce2d109537"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTE2NzAyOnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxOTo0Nzo0NVrOGnOnkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMjozNDozNFrOGnTMvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc4NzE1NQ==", "bodyText": "This variable is not added to the writeToXML or generateInstanceFromXML methods in Part.java. Thus it will revert to default if the game is saved and then re-loaded.", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r443787155", "createdAt": "2020-06-22T19:47:45Z", "author": {"login": "AaronGullickson"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -184,6 +184,8 @@\n     //this tracks whether the part is reserved for a refit\n     protected UUID refitId;\n     protected UUID reserveId;\n+    //temporarily mark the part used by current refit planning\n+    protected boolean usedForRefitPlanning;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daafbfdc12242541c1546b8d558799e98f613fdc"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc4Nzc3Mw==", "bodyText": "Its possible that it is not needed to be saved, but its not clear to me from the code changes whether that is true or not.", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r443787773", "createdAt": "2020-06-22T19:49:11Z", "author": {"login": "AaronGullickson"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -184,6 +184,8 @@\n     //this tracks whether the part is reserved for a refit\n     protected UUID refitId;\n     protected UUID reserveId;\n+    //temporarily mark the part used by current refit planning\n+    protected boolean usedForRefitPlanning;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc4NzE1NQ=="}, "originalCommit": {"oid": "daafbfdc12242541c1546b8d558799e98f613fdc"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg2MjIwNg==", "bodyText": "The value is transient", "url": "https://github.com/MegaMek/mekhq/pull/1724#discussion_r443862206", "createdAt": "2020-06-22T22:34:34Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -184,6 +184,8 @@\n     //this tracks whether the part is reserved for a refit\n     protected UUID refitId;\n     protected UUID reserveId;\n+    //temporarily mark the part used by current refit planning\n+    protected boolean usedForRefitPlanning;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc4NzE1NQ=="}, "originalCommit": {"oid": "daafbfdc12242541c1546b8d558799e98f613fdc"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2293, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}