{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDk0MTg1", "number": 1401, "title": "1263: Fixing Marriages Without Surnames", "bodyText": "", "createdAt": "2020-01-19T04:22:41Z", "url": "https://github.com/MegaMek/mekhq/pull/1401", "merged": true, "mergeCommit": {"oid": "1e20393575e5ace261f8be9488604356bfb44fde"}, "closed": true, "closedAt": "2020-01-19T18:11:07Z", "author": {"login": "Windchild292"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7sUDLgH2gAyMzY0NDk0MTg1OjRlOTYyM2M5MWU2NTUzZWQyMjhjZWZkMTQzODA0OGRjMjY0ZmMxOWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb78AI5gFqTM0NTAxNzE5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4e9623c91e6553ed228cefd1438048dc264fc19d", "author": {"user": null}, "url": "https://github.com/MegaMek/mekhq/commit/4e9623c91e6553ed228cefd1438048dc264fc19d", "committedDate": "2020-01-18T23:54:11Z", "message": "Adding statements to handle Personnel without a surname"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f23908552a0afc0a1ced49da1407acea6ff5c63c", "author": {"user": null}, "url": "https://github.com/MegaMek/mekhq/commit/f23908552a0afc0a1ced49da1407acea6ff5c63c", "committedDate": "2020-01-19T00:01:18Z", "message": "Changing null comparison to space comparison"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05a9b9848d6269fcc943fc55c49371687cb06bcf", "author": {"user": null}, "url": "https://github.com/MegaMek/mekhq/commit/05a9b9848d6269fcc943fc55c49371687cb06bcf", "committedDate": "2020-01-19T01:12:50Z", "message": "Fixing how empty surnames are handled in MekHQ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "341de99a7f55ec16a5f99aad9794d2d18aa3b580", "author": {"user": null}, "url": "https://github.com/MegaMek/mekhq/commit/341de99a7f55ec16a5f99aad9794d2d18aa3b580", "committedDate": "2020-01-19T01:43:21Z", "message": "Ordering Changes in Marriage Function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29b89737be121fe2e086f87226a84e74c660b828", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/29b89737be121fe2e086f87226a84e74c660b828", "committedDate": "2020-01-19T04:21:44Z", "message": "1263: Fixed Marriages without surnames"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0OTc2Mjcz", "url": "https://github.com/MegaMek/mekhq/pull/1401#pullrequestreview-344976273", "createdAt": "2020-01-19T04:29:17Z", "commit": {"oid": "29b89737be121fe2e086f87226a84e74c660b828"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQwNDoyOToxOFrOFfNG3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQwNDoyOToxOFrOFfNG3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI2NDkyNw==", "bodyText": "We have a method like this in megamek.common.util, let's use that instead of reinventing the wheel.", "url": "https://github.com/MegaMek/mekhq/pull/1401#discussion_r368264927", "createdAt": "2020-01-19T04:29:18Z", "author": {"login": "NickAragua"}, "path": "MekHQ/src/mekhq/gui/adapter/PersonnelTableMouseAdapter.java", "diffHunk": "@@ -2632,15 +2679,16 @@ private JMenuItem newMenuItem(String text, String command, boolean enabled) {\n     }\n \n     private JCheckBoxMenuItem newCheckboxMenu(String text, String command, boolean selected) {\n-        return newCheckboxMenu(text, command, selected, true);\n-    }\n-\n-    private JCheckBoxMenuItem newCheckboxMenu(String text, String command, boolean selected, boolean enabled) {\n         JCheckBoxMenuItem result = new JCheckBoxMenuItem(text);\n         result.setSelected(selected);\n         result.setActionCommand(command);\n         result.addActionListener(this);\n         result.setEnabled(true);\n         return result;\n     }\n+\n+    private boolean IsNullOrEmpty(String str){\n+        return str.trim().length() == 0;\n+//        return ((str != null) && (!str.trim().isEmpty()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29b89737be121fe2e086f87226a84e74c660b828"}, "originalPosition": 163}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa9e611a4b2d12ccf72146e9de432cad387556ab", "author": {"user": null}, "url": "https://github.com/MegaMek/mekhq/commit/fa9e611a4b2d12ccf72146e9de432cad387556ab", "committedDate": "2020-01-19T04:45:20Z", "message": "Using StringUtil"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDAyNTYy", "url": "https://github.com/MegaMek/mekhq/pull/1401#pullrequestreview-345002562", "createdAt": "2020-01-19T13:39:13Z", "commit": {"oid": "fa9e611a4b2d12ccf72146e9de432cad387556ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxMzozOToxM1rOFfO7iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxMzozOToxM1rOFfO7iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI5NDc5Mw==", "bodyText": "If >= 2 wouldn't the surname be selectedName[selectedName.length - 1] ?", "url": "https://github.com/MegaMek/mekhq/pull/1401#discussion_r368294793", "createdAt": "2020-01-19T13:39:13Z", "author": {"login": "sixlettervariables"}, "path": "MekHQ/src/mekhq/gui/adapter/PersonnelTableMouseAdapter.java", "diffHunk": "@@ -528,34 +529,81 @@ public void actionPerformed(ActionEvent action) {\n                 Person spouse = gui.getCampaign().getPerson(UUID.fromString(data[1]));\n                 String surnameOption = data[2];\n \n-                String selectedSurname = selectedPerson.getName().split(SPACE, 2)[1];\n-                String spouseSurname = spouse.getName().split(SPACE, 2)[1];\n-                String selectedGivenname = selectedPerson.getName().split(SPACE, 2)[0];\n-                String spouseGivenname = spouse.getName().split(SPACE, 2)[0];\n+                String[] selectedName = selectedPerson.getName().split(SPACE, 2);\n+                String[] spouseName = spouse.getName().split(SPACE,2);\n+                String selectedGivenName = \"\", selectedSurname = \"\", spouseGivenName = \"\", spouseSurname = \"\";\n+\n+                if (selectedName.length >= 2) {\n+                    selectedGivenName = selectedName[0];\n+                    selectedSurname = selectedName[1];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa9e611a4b2d12ccf72146e9de432cad387556ab"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "265d424b8456aaa44258aaa6bd317886ac55cff6", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/265d424b8456aaa44258aaa6bd317886ac55cff6", "committedDate": "2020-01-19T16:41:40Z", "message": "Adding support for multi-part first names in marriages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDE3MTk5", "url": "https://github.com/MegaMek/mekhq/pull/1401#pullrequestreview-345017199", "createdAt": "2020-01-19T18:10:55Z", "commit": {"oid": "265d424b8456aaa44258aaa6bd317886ac55cff6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4422, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}