{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3Mzc4NTcw", "number": 1554, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzozOTozNFrODnj_dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzo0MTowMlrODnkBsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyODEwNzQwOnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/MekHQ.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzozOTozNFrOF1osWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwMjowMzozMlrOF2XLFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ==", "bodyText": "Should this be added to the logger?", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391785561", "createdAt": "2020-03-12T17:39:34Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/MekHQ.java", "diffHunk": "@@ -366,8 +366,12 @@ public static void main(String[] args) {\n         System.setProperty(\"com.apple.mrj.application.apple.menu.about.name\",\"MekHQ\");\n \n         SwingUtilities.invokeLater(() -> {\n-            //redirect output to log file\n-            redirectOutput();\n+            // TODO : logFileName should probably not be inline\n+            String logFileName = \"logs\" + File.separator + \"mekhqlog.txt\";\n+            // Reset the log file - TODO : Maybe move this to being a call to the logger?\n+            MegaMek.resetLogFile(logFileName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk2ODI2MA==", "bodyText": "I don't know but I'm confused as to why the log file bits have to be invoked on the UI thread.", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391968260", "createdAt": "2020-03-13T00:11:21Z", "author": {"login": "sixlettervariables"}, "path": "MekHQ/src/mekhq/MekHQ.java", "diffHunk": "@@ -366,8 +366,12 @@ public static void main(String[] args) {\n         System.setProperty(\"com.apple.mrj.application.apple.menu.about.name\",\"MekHQ\");\n \n         SwingUtilities.invokeLater(() -> {\n-            //redirect output to log file\n-            redirectOutput();\n+            // TODO : logFileName should probably not be inline\n+            String logFileName = \"logs\" + File.separator + \"mekhqlog.txt\";\n+            // Reset the log file - TODO : Maybe move this to being a call to the logger?\n+            MegaMek.resetLogFile(logFileName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ=="}, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU0NDcxNQ==", "bodyText": "Good point, I'll test and see what happens outside the UI thread.", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r392544715", "createdAt": "2020-03-14T01:30:54Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/MekHQ.java", "diffHunk": "@@ -366,8 +366,12 @@ public static void main(String[] args) {\n         System.setProperty(\"com.apple.mrj.application.apple.menu.about.name\",\"MekHQ\");\n \n         SwingUtilities.invokeLater(() -> {\n-            //redirect output to log file\n-            redirectOutput();\n+            // TODO : logFileName should probably not be inline\n+            String logFileName = \"logs\" + File.separator + \"mekhqlog.txt\";\n+            // Reset the log file - TODO : Maybe move this to being a call to the logger?\n+            MegaMek.resetLogFile(logFileName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ=="}, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU0NzA5Mg==", "bodyText": "I've got no idea why it was in the UI thread, but I've moved it to its over thread and added a reset log file method to the default logger.", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r392547092", "createdAt": "2020-03-14T02:03:32Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/MekHQ.java", "diffHunk": "@@ -366,8 +366,12 @@ public static void main(String[] args) {\n         System.setProperty(\"com.apple.mrj.application.apple.menu.about.name\",\"MekHQ\");\n \n         SwingUtilities.invokeLater(() -> {\n-            //redirect output to log file\n-            redirectOutput();\n+            // TODO : logFileName should probably not be inline\n+            String logFileName = \"logs\" + File.separator + \"mekhqlog.txt\";\n+            // Reset the log file - TODO : Maybe move this to being a call to the logger?\n+            MegaMek.resetLogFile(logFileName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ=="}, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyODExMzEyOnYy", "diffSide": "LEFT", "path": "MekHQ/src/mekhq/campaign/ResolveScenarioTracker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzo0MTowMlrOF1ov9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzo0MTowMlrOF1ov9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NjQ4NQ==", "bodyText": "This is the only logical change, I've changed listStream into a try (with resources)", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391786485", "createdAt": "2020-03-12T17:41:02Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/ResolveScenarioTracker.java", "diffHunk": "@@ -860,15 +858,11 @@ private void loadUnitsAndPilots(File unitFile) throws IOException {\n             MULParser parser = new MULParser();\n \n             // Open up the file.\n-            InputStream listStream = new FileInputStream(unitFile);\n-            // Read a Vector from the file.\n-            try {\n+            try (InputStream listStream = new FileInputStream(unitFile)) {\n+                // Read a Vector from the file.\n                 parser.parse(listStream);\n-                listStream.close();\n-            } catch (Exception excep) {\n-                excep.printStackTrace(System.err);\n-                // throw new IOException(\"Unable to read from: \" +\n-                // unitFile.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1953, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}