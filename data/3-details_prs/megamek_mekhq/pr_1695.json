{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NjE1NTU5", "number": 1695, "title": "Paid Recruitment Roll", "bodyText": "This fixes #880 and fixes #1671, while providing the backend prevention for the believed cause of #1285. It does so by implementing a transient setting in the campaign that tracks current contracts, which should be used elsewhere to improve the performance instead of just repeating the code we've been using to calculate it in multiple places.\nReview with whitespace differences off,", "createdAt": "2020-04-27T16:39:59Z", "url": "https://github.com/MegaMek/mekhq/pull/1695", "merged": true, "mergeCommit": {"oid": "90115b4d0a833678d519facd395ec5b2aedbfedf"}, "closed": true, "closedAt": "2020-04-28T10:40:42Z", "author": {"login": "Windchild292"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca41dFgH2gAyNDA5NjE1NTU5OmFiMjc0ZTc1MmYxZGMwNDVlY2I0MmZlMWQ5MzZlNzI3MjI4YjEzNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccBfavgH2gAyNDA5NjE1NTU5OmE3NGM5OTEzYzYxMWYyOGYzZjQxNjU2MzY4YjllMWMyMGRjZjNiZTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ab274e752f1dc045ecb42fe1d936e727228b1351", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/ab274e752f1dc045ecb42fe1d936e727228b1351", "committedDate": "2020-04-24T22:01:11Z", "message": "Cleaning up code for processing Paid Recruitment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f81e1f51c9f161922384709a0ed3ac17f3522c6", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/7f81e1f51c9f161922384709a0ed3ac17f3522c6", "committedDate": "2020-04-24T22:09:48Z", "message": "Fixing 1285 by adding a default personnel type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f975adb209d2be524959c2e954e36421243d83a2", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/f975adb209d2be524959c2e954e36421243d83a2", "committedDate": "2020-04-25T15:43:37Z", "message": "Adding a way to track whether we have an active contract or not, and switched parts of newDay to use getters/setters instead of direct variable usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04597d9ef58389972e7ce70189928a3600066020", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/04597d9ef58389972e7ce70189928a3600066020", "committedDate": "2020-04-25T15:47:18Z", "message": "Fixing missed getter swap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "150455e46ed8e591bf9bd2b82214f60bc80c2808", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/150455e46ed8e591bf9bd2b82214f60bc80c2808", "committedDate": "2020-04-25T15:47:58Z", "message": "Switching AtB event processor to use the event to get the campaign"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "111ea6597f23f7bd654551b3959385346c2c0cfb", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/111ea6597f23f7bd654551b3959385346c2c0cfb", "committedDate": "2020-04-25T15:49:24Z", "message": "Swapping PersonnelMarketDialog to use hasActiveContract"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc524806b0847ef7bbd15c4ae2755a3dafbe373b", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/fc524806b0847ef7bbd15c4ae2755a3dafbe373b", "committedDate": "2020-04-25T16:14:11Z", "message": "adding more locations where this value needs to get set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8909fbf568373ccd19cd811fa4b51e33cf2cbe34", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/8909fbf568373ccd19cd811fa4b51e33cf2cbe34", "committedDate": "2020-04-27T14:31:06Z", "message": "Merge remote-tracking branch 'upstream/master' into dev_Windchild_PaidRecruitmentRole"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "decf8aa6351d158dcdc172b0257fd4101e081938", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/decf8aa6351d158dcdc172b0257fd4101e081938", "committedDate": "2020-04-27T14:52:03Z", "message": "Fixing missing ! for if statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5aa3a62f39799f8473ca8ae0d854aea28d974dc", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/f5aa3a62f39799f8473ca8ae0d854aea28d974dc", "committedDate": "2020-04-27T14:53:31Z", "message": "Reverting accidental file change inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4083810bc261f8d63c3e642b82f72b081619c579", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/4083810bc261f8d63c3e642b82f72b081619c579", "committedDate": "2020-04-27T14:57:03Z", "message": "Removing accidant include changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNDc1NTQ0", "url": "https://github.com/MegaMek/mekhq/pull/1695#pullrequestreview-401475544", "createdAt": "2020-04-28T03:39:42Z", "commit": {"oid": "4083810bc261f8d63c3e642b82f72b081619c579"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwMzozOTo0M1rOGNBHdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwMzo0MDozM1rOGNBIdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMwMjk2Ng==", "bodyText": "Maybe make it private, and possibly invoke it when loading the campaign?", "url": "https://github.com/MegaMek/mekhq/pull/1695#discussion_r416302966", "createdAt": "2020-04-28T03:39:43Z", "author": {"login": "NickAragua"}, "path": "MekHQ/src/mekhq/campaign/Campaign.java", "diffHunk": "@@ -3761,6 +3778,34 @@ public boolean newDay() {\n         return active;\n     }\n \n+    /**\n+     * @return whether or not the current campaign has an active contract for the current date\n+     */\n+    public boolean hasActiveContract() {\n+        return hasActiveContract;\n+    }\n+\n+    /**\n+     * This is used to check if the current campaign has one or more active contacts, and sets the\n+     * value of hasActiveContract based on that check. This value should not be set elsewhere\n+     */\n+    public void setHasActiveContract() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4083810bc261f8d63c3e642b82f72b081619c579"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMwMzIyMw==", "bodyText": "Never mind, looks like that's handled in initAtB.", "url": "https://github.com/MegaMek/mekhq/pull/1695#discussion_r416303223", "createdAt": "2020-04-28T03:40:33Z", "author": {"login": "NickAragua"}, "path": "MekHQ/src/mekhq/campaign/Campaign.java", "diffHunk": "@@ -3761,6 +3778,34 @@ public boolean newDay() {\n         return active;\n     }\n \n+    /**\n+     * @return whether or not the current campaign has an active contract for the current date\n+     */\n+    public boolean hasActiveContract() {\n+        return hasActiveContract;\n+    }\n+\n+    /**\n+     * This is used to check if the current campaign has one or more active contacts, and sets the\n+     * value of hasActiveContract based on that check. This value should not be set elsewhere\n+     */\n+    public void setHasActiveContract() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMwMjk2Ng=="}, "originalCommit": {"oid": "4083810bc261f8d63c3e642b82f72b081619c579"}, "originalPosition": 114}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a74c9913c611f28f3f41656368b9e1c20dcf3be4", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/a74c9913c611f28f3f41656368b9e1c20dcf3be4", "committedDate": "2020-04-28T10:40:11Z", "message": "Fixing accidentally removed AtB check"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4399, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}