{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMzg1MzYx", "number": 1668, "title": "Fix null checks per LGTM", "bodyText": "I went through our active list of null check alerts on LGTM and fixed them in one of three ways:\n\nRemoved a useless null check.\nAdded a needed null check.\nReorganized the code to help the analyzer with null detection.\n\nhttps://lgtm.com/projects/g/MegaMek/mekhq/alerts/?mode=list&severity=\nOne commit per file.", "createdAt": "2020-04-12T19:15:35Z", "url": "https://github.com/MegaMek/mekhq/pull/1668", "merged": true, "mergeCommit": {"oid": "a6a2ac3e7d15308330213d485429c14fe0c0c8f8"}, "closed": true, "closedAt": "2020-04-16T00:35:59Z", "author": {"login": "sixlettervariables"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcW9gzHgH2gAyNDAyMzg1MzYxOmFjMjk1YjMxYzMyODQ3YmFjNjlkNjg0N2UyMzUwMTYwNGUzZDBjZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYBi-HAH2gAyNDAyMzg1MzYxOmZhMDI3MWRlZGUzNDYxM2JmNDNiMzAzZjY2MmE5NWU4YTcyMDZhOTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ac295b31c32847bac69d6847e23501604e3d0cde", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/ac295b31c32847bac69d6847e23501604e3d0cde", "committedDate": "2020-04-12T17:12:27Z", "message": "Add missing null guard to UnitMarketTableModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c578bae0f5006e831433ad531e56a869e5621c08", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/c578bae0f5006e831433ad531e56a869e5621c08", "committedDate": "2020-04-12T17:13:57Z", "message": "Add missing null check to FilterableListModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a02af5dd3293f09fe25ec69bc3557f21eaf3aba8", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/a02af5dd3293f09fe25ec69bc3557f21eaf3aba8", "committedDate": "2020-04-12T17:15:18Z", "message": "Patient can never be null in refreshPatientList"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5d1206e52e1e9fc959f84847ef0209981d25e2f", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/a5d1206e52e1e9fc959f84847ef0209981d25e2f", "committedDate": "2020-04-12T17:17:44Z", "message": "Scenario can't be null in ScenarioTableMouseAdapter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cef0b27d78ac1407a248e9b26cf25d14a1ec973", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/3cef0b27d78ac1407a248e9b26cf25d14a1ec973", "committedDate": "2020-04-12T18:39:44Z", "message": "Fix possible NPE if xmlDoc is null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de6f234b30331ac7dddd936e1818110ea4d44900", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/de6f234b30331ac7dddd936e1818110ea4d44900", "committedDate": "2020-04-12T18:41:24Z", "message": "Fix null check in SpacecraftCoolingSystem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d574bf4e748fd77b5119faa7640dd981b4693c9", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/6d574bf4e748fd77b5119faa7640dd981b4693c9", "committedDate": "2020-04-12T18:42:20Z", "message": "Don't NPE if entity is null in MekLabTab"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af3993e24f874966dff34477b73e9a7b5d011987", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/af3993e24f874966dff34477b73e9a7b5d011987", "committedDate": "2020-04-12T18:42:55Z", "message": "Don't NPE in Faction::generateFactions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2435d55a944043742bb98a78cf44a616ee1cc2a", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/f2435d55a944043742bb98a78cf44a616ee1cc2a", "committedDate": "2020-04-12T18:44:01Z", "message": "Don't NPE in MissingPart::scrap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "269e35e5ea9114b0ca621f643f5e1cc8fc01911a", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/269e35e5ea9114b0ca621f643f5e1cc8fc01911a", "committedDate": "2020-04-12T18:45:16Z", "message": "Fix null check in TankLocation::fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c051003a069a9402677e8ba541db67b847f0398", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/1c051003a069a9402677e8ba541db67b847f0398", "committedDate": "2020-04-12T18:47:02Z", "message": "Don't NPE in SkillType::generate*InstanceFromXML"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27e43434023076c5041a68797b4112b89bf4a89a", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/27e43434023076c5041a68797b4112b89bf4a89a", "committedDate": "2020-04-12T18:48:00Z", "message": "Don't NPE in ProtomekLocation::fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae13249c25bce3c5d01fc7879ac0508b6f7bd79e", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/ae13249c25bce3c5d01fc7879ac0508b6f7bd79e", "committedDate": "2020-04-12T18:48:45Z", "message": "Don't NPE in MekLocation::fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04f52921cb8959796077316e8bde9594af1546e7", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/04f52921cb8959796077316e8bde9594af1546e7", "committedDate": "2020-04-12T18:50:24Z", "message": "Fix null check in UnitTableModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07105b3969dcfb978364cf9625f1016e53bccbbb", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/07105b3969dcfb978364cf9625f1016e53bccbbb", "committedDate": "2020-04-12T18:52:25Z", "message": "Fix possible NPE in UnitAssignmentTableModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74ed309d07c448a0e238b216cd7a5a6437a7ef6a", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/74ed309d07c448a0e238b216cd7a5a6437a7ef6a", "committedDate": "2020-04-12T18:53:35Z", "message": "Fix possible NPE in ServicedUnitsTableMouseAdapter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef71a4969bedc68bef9c4ad27019f334e5f08e64", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/ef71a4969bedc68bef9c4ad27019f334e5f08e64", "committedDate": "2020-04-12T18:55:15Z", "message": "Fix NPE in CustomOption"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f66c687b9c782ce0523145c75596636dc9ade4e", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/1f66c687b9c782ce0523145c75596636dc9ade4e", "committedDate": "2020-04-12T18:57:12Z", "message": "Avoid NPE in SpecialAbility::generate*InstanceFromXML"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdcc6f0c95ca5c2643e963085e0663a5d6892fa1", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/bdcc6f0c95ca5c2643e963085e0663a5d6892fa1", "committedDate": "2020-04-12T18:59:56Z", "message": "Fix possible NPE in RetirementTableModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b55994aa69f1b5bd8d2972fc9ea9ba71dfe5b88", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/2b55994aa69f1b5bd8d2972fc9ea9ba71dfe5b88", "committedDate": "2020-04-12T19:02:39Z", "message": "Help static analysis understand null checks in Part"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ee81649ca0f7b2a78c94213ecd5f9e81ae4a0a8", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/9ee81649ca0f7b2a78c94213ecd5f9e81ae4a0a8", "committedDate": "2020-04-12T19:03:11Z", "message": "Avoid NPE in FactionHints::loadFactionHints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50f71f3b59bdccfa6105aae393b2e6cda1bdebe3", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/50f71f3b59bdccfa6105aae393b2e6cda1bdebe3", "committedDate": "2020-04-12T19:03:37Z", "message": "Avoid NPE in Ranks::initializeRankSystems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56d843bd4621f48b103208da42acd8bb4ad7361b", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/56d843bd4621f48b103208da42acd8bb4ad7361b", "committedDate": "2020-04-12T19:05:01Z", "message": "Part is not null in TaskTableModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e00f2dd0152fa1a1764f8e532203388483cca650", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/e00f2dd0152fa1a1764f8e532203388483cca650", "committedDate": "2020-04-12T19:06:18Z", "message": "Unit is never null in ForceViewPanel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1445cb618b2e2a6127751c0d342b3eb9b8569a42", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/1445cb618b2e2a6127751c0d342b3eb9b8569a42", "committedDate": "2020-04-12T19:07:31Z", "message": "Don't NPE in CampaignGUI on xmlDoc's"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b16926a796047adea4cd4069be194dbca3c46c8c", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/b16926a796047adea4cd4069be194dbca3c46c8c", "committedDate": "2020-04-12T19:09:26Z", "message": "Only reference surplus unit if one exists in AtBContract"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/8db3ed7986e919178f91a6c1c878dc36d489780c", "committedDate": "2020-04-12T19:13:44Z", "message": "Fix possible NPE in PersonnelMarketDialog::addUnit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxODg3NDg4", "url": "https://github.com/MegaMek/mekhq/pull/1668#pullrequestreview-391887488", "createdAt": "2020-04-12T19:16:55Z", "commit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxOToxNjo1NVrOGEYAng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxOToxNjo1NVrOGEYAng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MDg2Mg==", "bodyText": "Looks like this is tab spaced.", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407240862", "createdAt": "2020-04-12T19:16:55Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/MissingPart.java", "diffHunk": "@@ -369,12 +369,15 @@ public String checkScrappable() {\n \n \t@Override\n \tpublic String scrap() {\n-\t\tPart replace = findReplacement(false);\n+        Part replace = findReplacement(false);\n \t\tif(null != replace) {\n \t\t\treplace.decrementQuantity();\n-\t\t}\n+            return replace.getName() + \" scrapped.\";\n+        }\n+\n \t\tskillMin = SkillType.EXP_GREEN;\n-\t\treturn replace.getName() + \" scrapped.\";\n+\n+        return getName() + \" scrapped.\";\n \t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxODg3ODc5", "url": "https://github.com/MegaMek/mekhq/pull/1668#pullrequestreview-391887879", "createdAt": "2020-04-12T19:22:16Z", "commit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "state": "APPROVED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxOToyMjoxNlrOGEYC9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxOToyODoxOVrOGEYFpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MTQ2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(null == filter) {\n          \n          \n            \n                        if (null == filter) {", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407241463", "createdAt": "2020-04-12T19:22:16Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/gui/model/FilterableListModel.java", "diffHunk": "@@ -119,20 +119,20 @@ public void updateFilter() {\n             });\n         }\n     }\n-    \n+\n     @Override\n     public int getSize() {\n         return (null == filter) ? ((null == peerModel) ? 0 : peerModel.getSize()) : indices.size();\n     }\n \n     @Override\n     public E getElementAt(int index) {\n-        if(null == filter) {\n-            if(null != peerModel) {\n+        if(null != peerModel) {\n+            if(null == filter) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MTQ2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(null != peerModel) {\n          \n          \n            \n                    if (null != peerModel) {", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407241469", "createdAt": "2020-04-12T19:22:23Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/gui/model/FilterableListModel.java", "diffHunk": "@@ -119,20 +119,20 @@ public void updateFilter() {\n             });\n         }\n     }\n-    \n+\n     @Override\n     public int getSize() {\n         return (null == filter) ? ((null == peerModel) ? 0 : peerModel.getSize()) : indices.size();\n     }\n \n     @Override\n     public E getElementAt(int index) {\n-        if(null == filter) {\n-            if(null != peerModel) {\n+        if(null != peerModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MjA3NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(null != getUnit()) {\n          \n          \n            \n                    if (null != getUnit()) {", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407242075", "createdAt": "2020-04-12T19:27:40Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -980,21 +980,22 @@ public TargetRoll getAllModsForMaintenance() {\n         TargetRoll mods = new TargetRoll(campaign.getCampaignOptions().getMaintenanceBonus(), \"maintenance\");\n         mods.addModifier(Availability.getTechModifier(getTechRating()), \"tech rating \" + ITechnology.getRatingName(getTechRating()));\n \n-        if(null != unit) {\n-            mods.append(unit.getSiteMod());\n-            if(unit.getEntity().hasQuirk(\"easy_maintain\")) {\n+        if(null != getUnit()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MjA5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(getUnit().getEntity().hasQuirk(\"easy_maintain\")) {\n          \n          \n            \n                        if (getUnit().getEntity().hasQuirk(\"easy_maintain\")) {", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407242096", "createdAt": "2020-04-12T19:27:49Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -980,21 +980,22 @@ public TargetRoll getAllModsForMaintenance() {\n         TargetRoll mods = new TargetRoll(campaign.getCampaignOptions().getMaintenanceBonus(), \"maintenance\");\n         mods.addModifier(Availability.getTechModifier(getTechRating()), \"tech rating \" + ITechnology.getRatingName(getTechRating()));\n \n-        if(null != unit) {\n-            mods.append(unit.getSiteMod());\n-            if(unit.getEntity().hasQuirk(\"easy_maintain\")) {\n+        if(null != getUnit()) {\n+            mods.append(getUnit().getSiteMod());\n+            if(getUnit().getEntity().hasQuirk(\"easy_maintain\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MjEyMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        else if(getUnit().getEntity().hasQuirk(\"difficult_maintain\")) {\n          \n          \n            \n                        else if (getUnit().getEntity().hasQuirk(\"difficult_maintain\")) {", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407242120", "createdAt": "2020-04-12T19:28:00Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -980,21 +980,22 @@ public TargetRoll getAllModsForMaintenance() {\n         TargetRoll mods = new TargetRoll(campaign.getCampaignOptions().getMaintenanceBonus(), \"maintenance\");\n         mods.addModifier(Availability.getTechModifier(getTechRating()), \"tech rating \" + ITechnology.getRatingName(getTechRating()));\n \n-        if(null != unit) {\n-            mods.append(unit.getSiteMod());\n-            if(unit.getEntity().hasQuirk(\"easy_maintain\")) {\n+        if(null != getUnit()) {\n+            mods.append(getUnit().getSiteMod());\n+            if(getUnit().getEntity().hasQuirk(\"easy_maintain\")) {\n                 mods.addModifier(-1, \"easy to maintain\");\n             }\n-            else if(unit.getEntity().hasQuirk(\"difficult_maintain\")) {\n+            else if(getUnit().getEntity().hasQuirk(\"difficult_maintain\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI0MjE0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(isClanTechBase() || (this instanceof MekLocation && getUnit().getEntity().isClan())) {\n          \n          \n            \n                        if (isClanTechBase() || ((this instanceof MekLocation) && getUnit().getEntity().isClan())) {", "url": "https://github.com/MegaMek/mekhq/pull/1668#discussion_r407242148", "createdAt": "2020-04-12T19:28:19Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/Part.java", "diffHunk": "@@ -980,21 +980,22 @@ public TargetRoll getAllModsForMaintenance() {\n         TargetRoll mods = new TargetRoll(campaign.getCampaignOptions().getMaintenanceBonus(), \"maintenance\");\n         mods.addModifier(Availability.getTechModifier(getTechRating()), \"tech rating \" + ITechnology.getRatingName(getTechRating()));\n \n-        if(null != unit) {\n-            mods.append(unit.getSiteMod());\n-            if(unit.getEntity().hasQuirk(\"easy_maintain\")) {\n+        if(null != getUnit()) {\n+            mods.append(getUnit().getSiteMod());\n+            if(getUnit().getEntity().hasQuirk(\"easy_maintain\")) {\n                 mods.addModifier(-1, \"easy to maintain\");\n             }\n-            else if(unit.getEntity().hasQuirk(\"difficult_maintain\")) {\n+            else if(getUnit().getEntity().hasQuirk(\"difficult_maintain\")) {\n                 mods.addModifier(1, \"difficult to maintain\");\n             }\n-        }\n-        if(isClanTechBase() || (this instanceof MekLocation && this.getUnit() != null && this.getUnit().getEntity().isClan())) {\n-            if (unit.getTech() == null) {\n-                mods.addModifier(2, \"Clan tech\");\n-            } else if (!unit.getTech().isClanner()\n-                    && !unit.getTech().getOptions().booleanOption(PersonnelOptions.TECH_CLAN_TECH_KNOWLEDGE)) {\n-                mods.addModifier(2, \"Clan tech\");\n+\n+            if(isClanTechBase() || (this instanceof MekLocation && getUnit().getEntity().isClan())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db3ed7986e919178f91a6c1c878dc36d489780c"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa0271dede34613bf43b303f662a95e8a7206a93", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/fa0271dede34613bf43b303f662a95e8a7206a93", "committedDate": "2020-04-16T00:28:22Z", "message": "Apply suggestions from code review\n\nCo-Authored-By: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4383, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}