{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3Mzc4NTcw", "number": 1554, "title": "Finishing Switch to MekHQ.getLogger() instead of System.out/err/printStackTrace", "bodyText": "This should fix the logger not working in current nightly builds, and completely moves MekHQ to use DefaultMMLogger instead of System.out, System.err, and e.printStackTrace.\nTo review:\nHide whitespace differences should be on (a bunch of these files have not been opened recently, and it was an automatic thing by my IDE)\nView the first three commits together, as they are the same thing (switching to using the getLogger()). Commit four consists of whitespace changes (mostly relating to tabs) that I discovered when reviewing this story.\nOnly logical change is commented, as are the main questions.", "createdAt": "2020-03-12T17:38:47Z", "url": "https://github.com/MegaMek/mekhq/pull/1554", "merged": true, "mergeCommit": {"oid": "31daebfa7fd6630a677f170c2f4f0929484a4d0e"}, "closed": true, "closedAt": "2020-03-17T01:52:32Z", "author": {"login": "Windchild292"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcM-Te1AH2gAyMzg3Mzc4NTcwOjU1MWJiZDNhZGViMWNiMDIyZTcxY2Y0MWQ3YTEyNTk0YmU4YmE2M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOYxG9gFqTM3NTY4OTI4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "551bbd3adeb1cb022e71cf41d7a12594be8ba63e", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/551bbd3adeb1cb022e71cf41d7a12594be8ba63e", "committedDate": "2020-03-12T16:28:34Z", "message": "Switching System.out, System.err, and e.printStackTrace to instead use getLogger()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7f14bf75bb943c8365ec53ee33f72b9b80e33fe", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/f7f14bf75bb943c8365ec53ee33f72b9b80e33fe", "committedDate": "2020-03-12T16:38:25Z", "message": "Removing inline loggers outside of MekHQ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a05a3e91ec253c17cdc91b31d996b188a85e5cba", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/a05a3e91ec253c17cdc91b31d996b188a85e5cba", "committedDate": "2020-03-12T17:03:59Z", "message": "Reverting changes in MekHQ.java to ensure that the MegaMek outputs work properly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94", "committedDate": "2020-03-12T17:33:09Z", "message": "Fixing tab spacing issues found during review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNzY3NzQy", "url": "https://github.com/MegaMek/mekhq/pull/1554#pullrequestreview-373767742", "createdAt": "2020-03-12T17:39:34Z", "commit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzozOTozNFrOF1osWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzozOTozNFrOF1osWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ==", "bodyText": "Should this be added to the logger?", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391785561", "createdAt": "2020-03-12T17:39:34Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/MekHQ.java", "diffHunk": "@@ -366,8 +366,12 @@ public static void main(String[] args) {\n         System.setProperty(\"com.apple.mrj.application.apple.menu.about.name\",\"MekHQ\");\n \n         SwingUtilities.invokeLater(() -> {\n-            //redirect output to log file\n-            redirectOutput();\n+            // TODO : logFileName should probably not be inline\n+            String logFileName = \"logs\" + File.separator + \"mekhqlog.txt\";\n+            // Reset the log file - TODO : Maybe move this to being a call to the logger?\n+            MegaMek.resetLogFile(logFileName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNzY4ODc5", "url": "https://github.com/MegaMek/mekhq/pull/1554#pullrequestreview-373768879", "createdAt": "2020-03-12T17:41:02Z", "commit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzo0MTowMlrOF1ov9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNzo0MTowMlrOF1ov9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NjQ4NQ==", "bodyText": "This is the only logical change, I've changed listStream into a try (with resources)", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391786485", "createdAt": "2020-03-12T17:41:02Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/ResolveScenarioTracker.java", "diffHunk": "@@ -860,15 +858,11 @@ private void loadUnitsAndPilots(File unitFile) throws IOException {\n             MULParser parser = new MULParser();\n \n             // Open up the file.\n-            InputStream listStream = new FileInputStream(unitFile);\n-            // Read a Vector from the file.\n-            try {\n+            try (InputStream listStream = new FileInputStream(unitFile)) {\n+                // Read a Vector from the file.\n                 parser.parse(listStream);\n-                listStream.close();\n-            } catch (Exception excep) {\n-                excep.printStackTrace(System.err);\n-                // throw new IOException(\"Unable to read from: \" +\n-                // unitFile.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0Njc3Nzc0", "url": "https://github.com/MegaMek/mekhq/pull/1554#pullrequestreview-374677774", "createdAt": "2020-03-14T00:22:33Z", "commit": {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f8f0d710ddf8f9afef746ba7b0d52b767731f7a", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/mekhq/commit/8f8f0d710ddf8f9afef746ba7b0d52b767731f7a", "committedDate": "2020-03-14T02:39:35Z", "message": "Switching to using the new ResetLogger in DefaultMMLogger"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1Njg5Mjg5", "url": "https://github.com/MegaMek/mekhq/pull/1554#pullrequestreview-375689289", "createdAt": "2020-03-17T01:52:23Z", "commit": {"oid": "8f8f0d710ddf8f9afef746ba7b0d52b767731f7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4505, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}