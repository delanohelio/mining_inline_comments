{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MDAwMDIy", "number": 1933, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQwMTo1Nzo1M1rOElYgqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQwMTo1Nzo1M1rOElYgqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NjM0MzQ1OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQwMTo1Nzo1M1rOHU3Z4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzo1ODozM1rOHZunaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0MTMxNA==", "bodyText": "Why add campaign as a parameter here? We already have a pointer to the campaign in the Unit class, so it seems unnecessary.", "url": "https://github.com/MegaMek/mekhq/pull/1933#discussion_r491641314", "createdAt": "2020-09-20T01:57:53Z", "author": {"login": "NickAragua"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -4508,8 +4508,8 @@ public void startMothballing(UUID id) {\n      * @param isGM A value indicating if the mothball action should\n      *             be performed immediately by the GM.\n      */\n-    public void startMothballing(UUID id, boolean isGM) {\n-        if (!isMothballed()) {\n+    public void startMothballing(Campaign campaign, UUID id, boolean isGM) {\n+        if (!isMothballed() && MekHQ.getMekHQOptions().getSaveMothballState()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "76a9f538934f7e8d36d8b45ef3e7c0fcf3ffdd3f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0NjU1Ng==", "bodyText": "Better code style, and unit should not include a pointer to campaign for OOP.", "url": "https://github.com/MegaMek/mekhq/pull/1933#discussion_r491646556", "createdAt": "2020-09-20T03:21:37Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -4508,8 +4508,8 @@ public void startMothballing(UUID id) {\n      * @param isGM A value indicating if the mothball action should\n      *             be performed immediately by the GM.\n      */\n-    public void startMothballing(UUID id, boolean isGM) {\n-        if (!isMothballed()) {\n+    public void startMothballing(Campaign campaign, UUID id, boolean isGM) {\n+        if (!isMothballed() && MekHQ.getMekHQOptions().getSaveMothballState()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0MTMxNA=="}, "originalCommit": {"oid": "76a9f538934f7e8d36d8b45ef3e7c0fcf3ffdd3f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0OTc1Ng==", "bodyText": "Eye of the beholder (I personally find it highly annoying to pass campaign objects around every time I call a method), and not sure object-oriented programming principles recommend one way or the other in terms of keeping pointers to frequently-referenced objects.\nYou can make the argument that \"startMothballing\" doesn't necessarily belong in the Unit class and instead should be moved to some kind of static(?) method in a worker class (e.g. \"UnitActionProcessor.startMothballing\"), if you want to say that we should avoid mixing data and \"business logic\" in the same class. As it is, this particular change does nothing to either simplify or improve the code in any meaningful way.", "url": "https://github.com/MegaMek/mekhq/pull/1933#discussion_r491649756", "createdAt": "2020-09-20T04:12:56Z", "author": {"login": "NickAragua"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -4508,8 +4508,8 @@ public void startMothballing(UUID id) {\n      * @param isGM A value indicating if the mothball action should\n      *             be performed immediately by the GM.\n      */\n-    public void startMothballing(UUID id, boolean isGM) {\n-        if (!isMothballed()) {\n+    public void startMothballing(Campaign campaign, UUID id, boolean isGM) {\n+        if (!isMothballed() && MekHQ.getMekHQOptions().getSaveMothballState()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0MTMxNA=="}, "originalCommit": {"oid": "76a9f538934f7e8d36d8b45ef3e7c0fcf3ffdd3f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM2NjI4Mg==", "bodyText": "I actually agree with you that it is annoying, but it is part of how to handle Objects. Namely, you are supposed to pass the reference in methods when they do not need to be stored with the data for that Object and are entirely external.. and this decoupling may make some future code easier (including a few bits of a longer project I'm working on with person and unit)\nThe rest is arguable from my experience, and not something I would say.", "url": "https://github.com/MegaMek/mekhq/pull/1933#discussion_r496366282", "createdAt": "2020-09-29T04:09:04Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -4508,8 +4508,8 @@ public void startMothballing(UUID id) {\n      * @param isGM A value indicating if the mothball action should\n      *             be performed immediately by the GM.\n      */\n-    public void startMothballing(UUID id, boolean isGM) {\n-        if (!isMothballed()) {\n+    public void startMothballing(Campaign campaign, UUID id, boolean isGM) {\n+        if (!isMothballed() && MekHQ.getMekHQOptions().getSaveMothballState()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0MTMxNA=="}, "originalCommit": {"oid": "76a9f538934f7e8d36d8b45ef3e7c0fcf3ffdd3f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxOTU0OA==", "bodyText": "If this isn't going to get a different Campaign object than the unit's, then it shouldn't be added, just adds an argument without benefit. We can dream to refactor Unit to not include the Campaign, but until then best to follow \"When in Rome.\"", "url": "https://github.com/MegaMek/mekhq/pull/1933#discussion_r496719548", "createdAt": "2020-09-29T13:32:57Z", "author": {"login": "sixlettervariables"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -4508,8 +4508,8 @@ public void startMothballing(UUID id) {\n      * @param isGM A value indicating if the mothball action should\n      *             be performed immediately by the GM.\n      */\n-    public void startMothballing(UUID id, boolean isGM) {\n-        if (!isMothballed()) {\n+    public void startMothballing(Campaign campaign, UUID id, boolean isGM) {\n+        if (!isMothballed() && MekHQ.getMekHQOptions().getSaveMothballState()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0MTMxNA=="}, "originalCommit": {"oid": "76a9f538934f7e8d36d8b45ef3e7c0fcf3ffdd3f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc0MDIwMw==", "bodyText": "Reverted.", "url": "https://github.com/MegaMek/mekhq/pull/1933#discussion_r496740203", "createdAt": "2020-09-29T13:58:33Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -4508,8 +4508,8 @@ public void startMothballing(UUID id) {\n      * @param isGM A value indicating if the mothball action should\n      *             be performed immediately by the GM.\n      */\n-    public void startMothballing(UUID id, boolean isGM) {\n-        if (!isMothballed()) {\n+    public void startMothballing(Campaign campaign, UUID id, boolean isGM) {\n+        if (!isMothballed() && MekHQ.getMekHQOptions().getSaveMothballState()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY0MTMxNA=="}, "originalCommit": {"oid": "76a9f538934f7e8d36d8b45ef3e7c0fcf3ffdd3f"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2215, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}