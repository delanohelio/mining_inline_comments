{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NTcxNTI5", "number": 1409, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxOTo1Nzo1NlrODZEHmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxOTo1Nzo1NlrODZEHmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3NjA4NDc0OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/gui/view/PersonViewPanel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxOTo1Nzo1NlrOFfQVDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQyMDowNToyMlrOFfQXKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxNzcwOQ==", "bodyText": "This should be a loop local variable, otherwise the field becomes the last child.", "url": "https://github.com/MegaMek/mekhq/pull/1409#discussion_r368317709", "createdAt": "2020-01-19T19:57:56Z", "author": {"login": "sixlettervariables"}, "path": "MekHQ/src/mekhq/gui/view/PersonViewPanel.java", "diffHunk": "@@ -748,27 +759,99 @@ private JPanel fillFamily() {\n             firsty++;\n         }\n \n-        if (campaign.getCampaignOptions().useParentage() && person.hasChildren()) {\n-            lblChildren1.setName(\"lblChildren1\"); // NOI18N //$NON-NLS-1$\n-            lblChildren1.setText(resourceMap.getString(\"lblChildren1.text\")); //$NON-NLS-1$\n-            gridBagConstraints = new GridBagConstraints();\n-            gridBagConstraints.gridx = 0;\n-            gridBagConstraints.gridy = firsty;\n-            gridBagConstraints.fill = GridBagConstraints.NONE;\n-            gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n-            pnlFamily.add(lblChildren1, gridBagConstraints);\n+        if (campaign.getCampaignOptions().useParentage()) {\n+            if (person.hasChildren()) {\n+                lblChildren1.setName(\"lblChildren1\"); // NOI18N //$NON-NLS-1$\n+                lblChildren1.setText(resourceMap.getString(\"lblChildren1.text\")); //$NON-NLS-1$\n+                gridBagConstraints = new GridBagConstraints();\n+                gridBagConstraints.gridx = 0;\n+                gridBagConstraints.gridy = firsty;\n+                gridBagConstraints.fill = GridBagConstraints.NONE;\n+                gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n+                pnlFamily.add(lblChildren1, gridBagConstraints);\n \n-            lblChildren2.setName(\"lblChildren2\"); // NOI18N //$NON-NLS-1$\n-            lblChildren2.setText(person.getChildList());\n-            gridBagConstraints = new GridBagConstraints();\n-            gridBagConstraints.gridx = 1;\n-            gridBagConstraints.gridy = firsty;\n-            gridBagConstraints.weightx = 1.0;\n-            gridBagConstraints.insets = new Insets(0, 10, 0, 0);\n-            gridBagConstraints.fill = GridBagConstraints.NONE;\n-            gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n-            pnlFamily.add(lblChildren2, gridBagConstraints);\n-            firsty++;\n+                gridBagConstraints = new GridBagConstraints();\n+                gridBagConstraints.gridx = 1;\n+                gridBagConstraints.weightx = 1.0;\n+                gridBagConstraints.insets = new Insets(0, 10, 0, 0);\n+                gridBagConstraints.fill = GridBagConstraints.NONE;\n+                gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n+\n+                for (Person child : person.getChildList()) {\n+                    gridBagConstraints.gridy = firsty;\n+                    lblChildren2 = new JLabel();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18431cc7f5ef50b212d5e508d7dc44dc7b7d3984"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxODI1MA==", "bodyText": "By re-declaring it like this, it works correctly. The previous JLabel is already part of the pnlFamily, so it works well. I've tested it on a family with 2 children, and they link correctly. Looking at it did find a wasteful declaration, so I've cleaned that up.", "url": "https://github.com/MegaMek/mekhq/pull/1409#discussion_r368318250", "createdAt": "2020-01-19T20:05:22Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/gui/view/PersonViewPanel.java", "diffHunk": "@@ -748,27 +759,99 @@ private JPanel fillFamily() {\n             firsty++;\n         }\n \n-        if (campaign.getCampaignOptions().useParentage() && person.hasChildren()) {\n-            lblChildren1.setName(\"lblChildren1\"); // NOI18N //$NON-NLS-1$\n-            lblChildren1.setText(resourceMap.getString(\"lblChildren1.text\")); //$NON-NLS-1$\n-            gridBagConstraints = new GridBagConstraints();\n-            gridBagConstraints.gridx = 0;\n-            gridBagConstraints.gridy = firsty;\n-            gridBagConstraints.fill = GridBagConstraints.NONE;\n-            gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n-            pnlFamily.add(lblChildren1, gridBagConstraints);\n+        if (campaign.getCampaignOptions().useParentage()) {\n+            if (person.hasChildren()) {\n+                lblChildren1.setName(\"lblChildren1\"); // NOI18N //$NON-NLS-1$\n+                lblChildren1.setText(resourceMap.getString(\"lblChildren1.text\")); //$NON-NLS-1$\n+                gridBagConstraints = new GridBagConstraints();\n+                gridBagConstraints.gridx = 0;\n+                gridBagConstraints.gridy = firsty;\n+                gridBagConstraints.fill = GridBagConstraints.NONE;\n+                gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n+                pnlFamily.add(lblChildren1, gridBagConstraints);\n \n-            lblChildren2.setName(\"lblChildren2\"); // NOI18N //$NON-NLS-1$\n-            lblChildren2.setText(person.getChildList());\n-            gridBagConstraints = new GridBagConstraints();\n-            gridBagConstraints.gridx = 1;\n-            gridBagConstraints.gridy = firsty;\n-            gridBagConstraints.weightx = 1.0;\n-            gridBagConstraints.insets = new Insets(0, 10, 0, 0);\n-            gridBagConstraints.fill = GridBagConstraints.NONE;\n-            gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n-            pnlFamily.add(lblChildren2, gridBagConstraints);\n-            firsty++;\n+                gridBagConstraints = new GridBagConstraints();\n+                gridBagConstraints.gridx = 1;\n+                gridBagConstraints.weightx = 1.0;\n+                gridBagConstraints.insets = new Insets(0, 10, 0, 0);\n+                gridBagConstraints.fill = GridBagConstraints.NONE;\n+                gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n+\n+                for (Person child : person.getChildList()) {\n+                    gridBagConstraints.gridy = firsty;\n+                    lblChildren2 = new JLabel();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxNzcwOQ=="}, "originalCommit": {"oid": "18431cc7f5ef50b212d5e508d7dc44dc7b7d3984"}, "originalPosition": 94}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1886, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}