{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1Mjk1NTgz", "number": 1878, "title": "Update infantry damage divisor setter and name", "bodyText": "Update method names due to MegaMek/megamek#2079", "createdAt": "2020-07-22T18:56:17Z", "url": "https://github.com/MegaMek/mekhq/pull/1878", "merged": true, "mergeCommit": {"oid": "d6e937cc57ca15409371830f71e5a06042850e18"}, "closed": true, "closedAt": "2020-07-23T00:44:45Z", "author": {"login": "neoancient"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3c1pFgH2gAyNDU1Mjk1NTgzOjk5ZTNiZTExMzEwODQzZDQ1NDVmMmUzZGE0MjU4NzI5MGFhY2IyOWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3kdfvgH2gAyNDU1Mjk1NTgzOjlhZDgxNTEwM2EwZjc0MGE0Y2E4YWU3ODg5Mjk2ZDQyZDAxYzllOWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "99e3be11310843d4545f2e3da42587290aacb29f", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/mekhq/commit/99e3be11310843d4545f2e3da42587290aacb29f", "committedDate": "2020-07-22T15:47:51Z", "message": "Account for myomer implants in infantry damage divisor."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNzQwNjYw", "url": "https://github.com/MegaMek/mekhq/pull/1878#pullrequestreview-453740660", "createdAt": "2020-07-22T22:57:08Z", "commit": {"oid": "99e3be11310843d4545f2e3da42587290aacb29f"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NzowOFrOG13DvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1Nzo0M1rOG13EhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyOTc4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        ((Infantry) entity).getArmorDamageDivisor(), ((Infantry) entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(), ((Infantry)entity).hasSneakIR(), ((Infantry)entity).hasSpaceSuit());\n          \n          \n            \n                                        ((Infantry) entity).getArmorDamageDivisor(), ((Infantry) entity).isArmorEncumbering(), ((Infantry) entity).hasDEST(), ((Infantry) entity).hasSneakCamo(), ((Infantry) entity).hasSneakECM(), ((Infantry) entity).hasSneakIR(), ((Infantry) entity).hasSpaceSuit());", "url": "https://github.com/MegaMek/mekhq/pull/1878#discussion_r459129788", "createdAt": "2020-07-22T22:57:08Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -3152,52 +3152,55 @@ else if(entity instanceof BattleArmor) {\n                 jj--;\n             }\n         }\n-        if(entity instanceof Infantry && !(entity instanceof BattleArmor)) {\n-            if(null == motiveType && entity.getMovementMode() != EntityMovementMode.INF_LEG) {\n+        if (entity.isConventionalInfantry()) {\n+            if ((null == motiveType) && (entity.getMovementMode() != EntityMovementMode.INF_LEG)) {\n                 int number = entity.getOInternal(Infantry.LOC_INFANTRY);\n-                if(((Infantry)entity).isMechanized()) {\n-                    number = ((Infantry)entity).getSquadN();\n+                if (((Infantry) entity).isMechanized()) {\n+                    number = ((Infantry) entity).getSquadN();\n                 }\n-                while(number > 0) {\n+                while (number > 0) {\n                     motiveType = new InfantryMotiveType(0, getCampaign(), entity.getMovementMode());\n                     addPart(motiveType);\n                     partsToAdd.add(motiveType);\n                     number--;\n                 }\n             }\n-            if(null == infantryArmor) {\n-                EquipmentType eq = ((Infantry)entity).getArmorKit();\n+            if (null == infantryArmor) {\n+                EquipmentType eq = ((Infantry) entity).getArmorKit();\n                 if (null != eq) {\n                     infantryArmor = new EquipmentPart(0, eq, 0, 1.0, false, getCampaign());\n                 } else {\n-                    infantryArmor = new InfantryArmorPart(0, getCampaign(), ((Infantry)entity).getDamageDivisor(), ((Infantry)entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(), ((Infantry)entity).hasSneakIR(), ((Infantry)entity).hasSpaceSuit());\n+                    infantryArmor = new InfantryArmorPart(0, getCampaign(),\n+                            ((Infantry) entity).getArmorDamageDivisor(), ((Infantry) entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(), ((Infantry)entity).hasSneakIR(), ((Infantry)entity).hasSpaceSuit());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99e3be11310843d4545f2e3da42587290aacb29f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyOTk4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            ((Infantry) entity).getArmorDamageDivisor(), ((Infantry)entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(),\n          \n          \n            \n                                            ((Infantry) entity).getArmorDamageDivisor(), ((Infantry) entity).isArmorEncumbering(), ((Infantry) entity).hasDEST(), ((Infantry) entity).hasSneakCamo(), ((Infantry) entity).hasSneakECM(),", "url": "https://github.com/MegaMek/mekhq/pull/1878#discussion_r459129988", "createdAt": "2020-07-22T22:57:43Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/unit/Unit.java", "diffHunk": "@@ -3152,52 +3152,55 @@ else if(entity instanceof BattleArmor) {\n                 jj--;\n             }\n         }\n-        if(entity instanceof Infantry && !(entity instanceof BattleArmor)) {\n-            if(null == motiveType && entity.getMovementMode() != EntityMovementMode.INF_LEG) {\n+        if (entity.isConventionalInfantry()) {\n+            if ((null == motiveType) && (entity.getMovementMode() != EntityMovementMode.INF_LEG)) {\n                 int number = entity.getOInternal(Infantry.LOC_INFANTRY);\n-                if(((Infantry)entity).isMechanized()) {\n-                    number = ((Infantry)entity).getSquadN();\n+                if (((Infantry) entity).isMechanized()) {\n+                    number = ((Infantry) entity).getSquadN();\n                 }\n-                while(number > 0) {\n+                while (number > 0) {\n                     motiveType = new InfantryMotiveType(0, getCampaign(), entity.getMovementMode());\n                     addPart(motiveType);\n                     partsToAdd.add(motiveType);\n                     number--;\n                 }\n             }\n-            if(null == infantryArmor) {\n-                EquipmentType eq = ((Infantry)entity).getArmorKit();\n+            if (null == infantryArmor) {\n+                EquipmentType eq = ((Infantry) entity).getArmorKit();\n                 if (null != eq) {\n                     infantryArmor = new EquipmentPart(0, eq, 0, 1.0, false, getCampaign());\n                 } else {\n-                    infantryArmor = new InfantryArmorPart(0, getCampaign(), ((Infantry)entity).getDamageDivisor(), ((Infantry)entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(), ((Infantry)entity).hasSneakIR(), ((Infantry)entity).hasSpaceSuit());\n+                    infantryArmor = new InfantryArmorPart(0, getCampaign(),\n+                            ((Infantry) entity).getArmorDamageDivisor(), ((Infantry) entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(), ((Infantry)entity).hasSneakIR(), ((Infantry)entity).hasSpaceSuit());\n                 }\n-                if(infantryArmor.getStickerPrice().isPositive()) {\n+                if (infantryArmor.getStickerPrice().isPositive()) {\n                     int number = entity.getOInternal(Infantry.LOC_INFANTRY);\n-                    while(number > 0) {\n-                        infantryArmor = new InfantryArmorPart(0, getCampaign(), ((Infantry)entity).getDamageDivisor(), ((Infantry)entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(), ((Infantry)entity).hasSneakIR(), ((Infantry)entity).hasSpaceSuit());\n+                    while (number > 0) {\n+                        infantryArmor = new InfantryArmorPart(0, getCampaign(),\n+                                ((Infantry) entity).getArmorDamageDivisor(), ((Infantry)entity).isArmorEncumbering(), ((Infantry)entity).hasDEST(), ((Infantry)entity).hasSneakCamo(), ((Infantry)entity).hasSneakECM(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99e3be11310843d4545f2e3da42587290aacb29f"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b49f945304cf91d308aaf213d2f438d5f77b838c", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/mekhq/commit/b49f945304cf91d308aaf213d2f438d5f77b838c", "committedDate": "2020-07-23T00:40:30Z", "message": "Update MekHQ/src/mekhq/campaign/unit/Unit.java\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ad815103a0f740a4ca8ae7889296d42d01c9e9a", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/mekhq/commit/9ad815103a0f740a4ca8ae7889296d42d01c9e9a", "committedDate": "2020-07-23T00:40:43Z", "message": "Update MekHQ/src/mekhq/campaign/unit/Unit.java\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4323, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}