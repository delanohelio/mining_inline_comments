{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDQxODE4", "number": 1656, "title": "Avoid NPE in Person::isMothballing", "bodyText": "Sometimes a unit would be marked as mothballing but the tech would be cleared, leading to an NPE when checking if the IDs matched. This switches the logic to only search the units the person is tech'ing.", "createdAt": "2020-04-10T19:42:02Z", "url": "https://github.com/MegaMek/mekhq/pull/1656", "merged": true, "mergeCommit": {"oid": "1e4d7765bbd25810d201ac823e65fe81eaff1060"}, "closed": true, "closedAt": "2020-04-10T19:48:50Z", "author": {"login": "sixlettervariables"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWWbxsAH2gAyNDAyMDQxODE4OjY4OGQwNTgzNjg3YTNmMzFkMzFlYjNhYzI2NmJjOWViNGY1MDNhNGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWWi4xAH2gAyNDAyMDQxODE4OjFkODhhMTNjZGQwODdlN2JjOTMzZTJkYzYwZTNmNmUwMTYyZmM0M2I=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "688d0583687a3f31d31eb3ac266bc9eb4f503a4e", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/688d0583687a3f31d31eb3ac266bc9eb4f503a4e", "committedDate": "2020-04-10T19:40:40Z", "message": "Avoid NPE in Person::isMothballing\n\n- Sometimes a unit would be marked as mothballing but the tech would be\ncleared, leading to an NPE when checking\nif the IDs matched.\n- This switches the logic to only search\nthe units the person is tech'ing."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjI1NzY2", "url": "https://github.com/MegaMek/mekhq/pull/1656#pullrequestreview-391625766", "createdAt": "2020-04-10T19:43:06Z", "commit": {"oid": "688d0583687a3f31d31eb3ac266bc9eb4f503a4e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxOTo0MzowNlrOGED-gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxOTo0MzowNlrOGED-gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkxMjY0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (u != null && u.isMothballing()) {\n          \n          \n            \n                        if ((u != null) && u.isMothballing()) {", "url": "https://github.com/MegaMek/mekhq/pull/1656#discussion_r406912641", "createdAt": "2020-04-10T19:43:06Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/personnel/Person.java", "diffHunk": "@@ -3635,8 +3635,9 @@ public boolean isMothballing() {\n         if (!isTech()) {\n             return false;\n         }\n-        for (Unit u : campaign.getUnits()) {\n-            if (u.isMothballing() && u.getTech().getId().equals(id)) {\n+        for (UUID unitId : techUnitIds) {\n+            Unit u = campaign.getUnit(unitId);\n+            if (u != null && u.isMothballing()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "688d0583687a3f31d31eb3ac266bc9eb4f503a4e"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjI1OTg3", "url": "https://github.com/MegaMek/mekhq/pull/1656#pullrequestreview-391625987", "createdAt": "2020-04-10T19:43:37Z", "commit": {"oid": "688d0583687a3f31d31eb3ac266bc9eb4f503a4e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d88a13cdd087e7bc933e2dc60e3f6e0162fc43b", "author": {"user": {"login": "sixlettervariables", "name": "Christopher Watford"}}, "url": "https://github.com/MegaMek/mekhq/commit/1d88a13cdd087e7bc933e2dc60e3f6e0162fc43b", "committedDate": "2020-04-10T19:48:26Z", "message": "Update MekHQ/src/mekhq/campaign/personnel/Person.java\n\nCo-Authored-By: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4377, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}