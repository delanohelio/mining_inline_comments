{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2MjI3NTc2", "number": 2331, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyMToxNFrOFMrAyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyNzo0MFrOFMrHwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODMxOTQ2OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/MekLocation.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyMToxNFrOIQhgOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyMToxNFrOIQhgOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE5NzA1MA==", "bodyText": "Bit confusing here, especially as MekLocation extends Part", "url": "https://github.com/MegaMek/mekhq/pull/2331#discussion_r554197050", "createdAt": "2021-01-08T21:21:14Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/MekLocation.java", "diffHunk": "@@ -191,18 +192,27 @@ public boolean forQuad() {\n \n     @Override\n     public boolean isSamePartType(Part part) {\n-        return part instanceof MekLocation\n-                && getLoc() == ((MekLocation) part).getLoc()\n-                && getUnitTonnage() == part.getUnitTonnage()\n-                && isTsm() == ((MekLocation) part).isTsm()\n-                && getStructureType() == ((MekLocation) part).getStructureType()\n+        return (part instanceof MekLocation)\n+                && isSamePartType((MekLocation) part);\n+    }\n+\n+    /**\n+     * Gets a value indicating whether or not {@code other} is the same\n+     * type of {@code MekLocation}.\n+     * @param other A different {@code MekLocation}.\n+     */\n+    public boolean isSamePartType(MekLocation other) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2ee335b3a017fb67bedaa8fc7fa497aa4cb226"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODMzNDA5OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/MekLocation.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyNjozM1rOIQho6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyNjozM1rOIQho6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE5OTI3NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        unit.getEntity().setInternal((int)Math.round(getPercent() * unit.getEntity().getOInternal(loc)), loc);\n          \n          \n            \n                        unit.getEntity().setInternal((int) Math.round(getPercent() * unit.getEntity().getOInternal(loc)), loc);", "url": "https://github.com/MegaMek/mekhq/pull/2331#discussion_r554199275", "createdAt": "2021-01-08T21:26:33Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/MekLocation.java", "diffHunk": "@@ -537,13 +579,33 @@ public String getDetails(boolean includeRepairDetails) {\n                 toReturn += \" [\" + components.toString() + \"]\";\n             }\n         }\n+\n+        return toReturn;\n+    }\n+\n+    private String getDetailsOnUnit(boolean includeRepairDetails) {\n+        assert(getUnit() != null);\n+\n+        String toReturn = getUnit().getEntity().getLocationName(loc);\n+        if (includeRepairDetails) {\n+            if (isBlownOff()) {\n+                toReturn += \" (Blown Off)\";\n+            } else if (isBreached()) {\n+                toReturn += \" (Breached)\";\n+            } else if (onBadHipOrShoulder()) {\n+                toReturn += \" (Bad Hip/Shoulder)\";\n+            } else {\n+                toReturn += \" (\" + Math.round(100 * getPercent()) + \"%)\";\n+            }\n+        }\n+\n         return toReturn;\n     }\n \n     @Override\n     public void updateConditionFromPart() {\n         if (null != unit) {\n-            unit.getEntity().setInternal((int)Math.round(percent * unit.getEntity().getOInternal(loc)), loc);\n+            unit.getEntity().setInternal((int)Math.round(getPercent() * unit.getEntity().getOInternal(loc)), loc);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2ee335b3a017fb67bedaa8fc7fa497aa4cb226"}, "originalPosition": 351}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODMzNzI5OnYy", "diffSide": "RIGHT", "path": "MekHQ/src/mekhq/campaign/parts/MekLocation.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyNzo0MFrOIQhqvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMToyNzo0MFrOIQhqvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE5OTc0Mw==", "bodyText": "Ternary candidate", "url": "https://github.com/MegaMek/mekhq/pull/2331#discussion_r554199743", "createdAt": "2021-01-08T21:27:40Z", "author": {"login": "Windchild292"}, "path": "MekHQ/src/mekhq/campaign/parts/MekLocation.java", "diffHunk": "@@ -694,15 +745,19 @@ public String checkScrappable() {\n         //otherwise you will get weirdness where armor and actuators are\n         //still attached but everything else is scrapped\n         //cant salvage torsos until arms and legs are gone\n+        String limbName = \" arm \";\n+        if (forQuad) {\n+            limbName = \" front leg \";\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2ee335b3a017fb67bedaa8fc7fa497aa4cb226"}, "originalPosition": 429}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1995, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}