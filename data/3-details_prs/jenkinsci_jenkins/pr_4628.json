{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MTUzODI5", "number": 4628, "title": "[JENKINS-60866] Un-inline JavaScript/Style in Job views", "bodyText": "See JENKINS-60866.\nAs ${imagesURL} is often used, putting it in the head tag directly will ease lots of other un-inline PRs.\nSimilar to previous such PRs, I take the opportunity to adjust / make consistent the jelly namespace and similar inline style code.\nTo access the \"buildTimeTrend\" view, you have to run a build, then enter that run page. On the right you will see \"Took x seconds\", click on that duration. (First time I saw that page \ud83e\udd23)\n\nScreenshot for the style change\nBefore\n\nAfter, (useless?) padding-top removed on the table\n\n\n\n\nProposed changelog entries\n\n(internal) Remove inline resources from Job views\n\n\nProposed upgrade guidelines\nN/A\nSubmitter checklist\n\n JIRA issue is well described\n Changelog entries and upgrade guidelines are appropriate for the audience affected by the change (users or developer, depending on the change). Examples\n\nFill-in the Proposed changelog entries section only if there are breaking changes or other changes which may require extra steps from users during the upgrade\n\n\n[n/a] Appropriate autotests or explanation to why this change has no tests\n[n/a] For dependency updates: links to external changelogs and, if possible, full diffs\n\n\nDesired reviewers\n\nMaintainer checklist\nBefore the changes are marked as ready-for-merge:\n\n There are at least 2 approvals for the pull request and no outstanding requests for change\n Conversations in the pull request are over OR it is explicit that a reviewer does not block the change\n Changelog entries in the PR title and/or Proposed changelog entries are correct\n Proper changelog labels are set so that the changelog can be generated automatically\n If the change needs additional upgrade steps from users, upgrade-guide-needed label is set and there is a Proposed upgrade guidelines section in the PR title. (example)\n If it would make sense to backport the change to LTS, a JIRA issue should exist and be labeled as lts-candidate", "createdAt": "2020-04-05T16:20:53Z", "url": "https://github.com/jenkinsci/jenkins/pull/4628", "merged": true, "mergeCommit": {"oid": "337b44428f49a76100f7c915c6366e585e13966f"}, "closed": true, "closedAt": "2020-04-16T07:39:20Z", "author": {"login": "Wadeck"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUsgcvAH2gAyMzk5MTUzODI5OjQ4NzUyN2NmZTczODFlNjI0NzFkMzdhNzgxNjQwNDI4ZDFjNmU4N2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVDGILAFqTM4ODUxNTEzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d", "author": {"user": {"login": "Wadeck", "name": "Wadeck Follonier"}}, "url": "https://github.com/jenkinsci/jenkins/commit/487527cfe7381e62471d37a781640428d1c6e87d", "committedDate": "2020-04-05T16:15:50Z", "message": "[JENKINS-60866] Un-inline JavaScript/Style in Job views"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODM3OTcx", "url": "https://github.com/jenkinsci/jenkins/pull/4628#pullrequestreview-387837971", "createdAt": "2020-04-05T16:47:52Z", "commit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxNjo0Nzo1M1rOGBBkkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxNjo0Nzo1M1rOGBBkkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcyNzUwNw==", "bodyText": "FTR $$ => $ inside Jelly :)", "url": "https://github.com/jenkinsci/jenkins/pull/4628#discussion_r403727507", "createdAt": "2020-04-05T16:47:53Z", "author": {"login": "Wadeck"}, "path": "core/src/main/resources/hudson/model/Job/buildTimeTrend.jelly", "diffHunk": "@@ -25,49 +25,27 @@ THE SOFTWARE.\n \n <!-- Displays the chart that show how long builds are taking -->\n <?jelly escape-by-default='true'?>\n-<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\" xmlns:i=\"jelly:fmt\">\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:l=\"/lib/layout\">\n   <l:layout title=\"${%title(it.displayName)}\">\n-\t\t<st:include page=\"sidepanel.jelly\" />\n-\t\t<l:main-panel>\n+    <st:include page=\"sidepanel.jelly\" />\n+    <st:adjunct includes=\"hudson.model.Job.buildTimeTrend_resources\" />\n+    <l:main-panel>\n       <h1>${%Timeline}</h1>\n       <st:include page=\"control.jelly\" it=\"${it.timeline}\" />\n-      <div style=\"height:2em\"/><!-- spacer -->\n+      <div class=\"spacer\" />\n \n       <h1>${%Build Time Trend}</h1>\n           <div align=\"center\">\n-            <img src=\"buildTimeGraph/png\" width=\"500\" height=\"400\" lazymap=\"buildTimeGraph/map\" alt=\"[${%Build time graph}]\" style=\"float:right\"/>\n+            <img class=\"build-time-graph\" src=\"buildTimeGraph/png\" width=\"500\" height=\"400\" lazymap=\"buildTimeGraph/map\" alt=\"[${%Build time graph}]\" />\n           </div>\n \n           <j:set var=\"isMasterSlaveEnabled\" value=\"${!empty(app.slaves)}\"/>\n           <div align=\"center\">\n-            <script>\n-                function displayBuilds(data) {\n-                    var p = $$('trend');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MzYxNjIx", "url": "https://github.com/jenkinsci/jenkins/pull/4628#pullrequestreview-388361621", "createdAt": "2020-04-06T15:25:19Z", "commit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNToyNToxOVrOGBdLjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNToyNToxOVrOGBdLjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE3OTg1NQ==", "bodyText": "Oh wow, nice of you to remove that one", "url": "https://github.com/jenkinsci/jenkins/pull/4628#discussion_r404179855", "createdAt": "2020-04-06T15:25:19Z", "author": {"login": "fqueiruga"}, "path": "core/src/main/resources/hudson/model/Job/buildTimeTrend.jelly", "diffHunk": "@@ -25,49 +25,27 @@ THE SOFTWARE.\n \n <!-- Displays the chart that show how long builds are taking -->\n <?jelly escape-by-default='true'?>\n-<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\" xmlns:i=\"jelly:fmt\">\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:l=\"/lib/layout\">\n   <l:layout title=\"${%title(it.displayName)}\">\n-\t\t<st:include page=\"sidepanel.jelly\" />\n-\t\t<l:main-panel>\n+    <st:include page=\"sidepanel.jelly\" />\n+    <st:adjunct includes=\"hudson.model.Job.buildTimeTrend_resources\" />\n+    <l:main-panel>\n       <h1>${%Timeline}</h1>\n       <st:include page=\"control.jelly\" it=\"${it.timeline}\" />\n-      <div style=\"height:2em\"/><!-- spacer -->\n+      <div class=\"spacer\" />\n \n       <h1>${%Build Time Trend}</h1>\n           <div align=\"center\">\n-            <img src=\"buildTimeGraph/png\" width=\"500\" height=\"400\" lazymap=\"buildTimeGraph/map\" alt=\"[${%Build time graph}]\" style=\"float:right\"/>\n+            <img class=\"build-time-graph\" src=\"buildTimeGraph/png\" width=\"500\" height=\"400\" lazymap=\"buildTimeGraph/map\" alt=\"[${%Build time graph}]\" />\n           </div>\n \n           <j:set var=\"isMasterSlaveEnabled\" value=\"${!empty(app.slaves)}\"/>\n           <div align=\"center\">\n-            <script>\n-                function displayBuilds(data) {\n-                    var p = $$('trend');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcyNzUwNw=="}, "originalCommit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NDIzMjM2", "url": "https://github.com/jenkinsci/jenkins/pull/4628#pullrequestreview-388423236", "createdAt": "2020-04-06T16:34:16Z", "commit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTE1MTMy", "url": "https://github.com/jenkinsci/jenkins/pull/4628#pullrequestreview-388515132", "createdAt": "2020-04-06T18:34:54Z", "commit": {"oid": "487527cfe7381e62471d37a781640428d1c6e87d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1399, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}