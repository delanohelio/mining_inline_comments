{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MTIxNTAx", "number": 4550, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzo1MzowNVrOEg0sIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMTo0NDoxMVrOEnnjbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODUzMTU1OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/WebAppMain.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzo1MzowNlrOHN0T9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzo1MzowNlrOHN0T9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI1MDYxMg==", "bodyText": "Lacks either @Restricted or @since.", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r484250612", "createdAt": "2020-09-07T07:53:06Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/WebAppMain.java", "diffHunk": "@@ -112,13 +109,25 @@\n     @Restricted(NoExternalUse.class)\n     public static final String FORCE_SESSION_TRACKING_BY_COOKIE_PROP = WebAppMain.class.getName() + \".forceSessionTrackingByCookie\";\n \n-    private final RingBufferLogHandler handler = new RingBufferLogHandler(DEFAULT_RING_BUFFER_SIZE) {\n+    private final RingBufferLogHandler handler = new RingBufferLogHandler(WebAppMain.getDefaultRingBufferSize()) {\n+      \n         @Override public synchronized void publish(LogRecord record) {\n             if (record.getLevel().intValue() >= Level.INFO.intValue()) {\n                 super.publish(record);\n             }\n         }\n     };\n+\n+    /**This getter returns the int DEFAULT_RING_BUFFER_SIZE from the class RingBufferLogHandler from a static context.\n+     * Exposes access from RingBufferLogHandler.DEFAULT_RING_BUFFER_SIZE to WebAppMain.\n+     * Written for the requirements of JENKINS-50669\n+     * @return int This returns DEFAULT_RING_BUFFER_SIZE\n+     * @see <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-50669\">JENKINS-50669</a>\n+     */\n+    public static int getDefaultRingBufferSize() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e74880d3f5e37942d05e4ca66734995480656ee4"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODUzMjU5OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzo1MzoxNFrOHN0Uhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0Mzo1MFrOHP0cdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI1MDc1OQ==", "bodyText": "Lacks either @Restricted or @since.", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r484250759", "createdAt": "2020-09-07T07:53:14Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "diffHunk": "@@ -54,6 +54,10 @@ public RingBufferLogHandler(int ringSize) {\n         records = new LogRecord[ringSize];\n     }\n \n+    public static int getDefaultRingBufferSize() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e74880d3f5e37942d05e4ca66734995480656ee4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM0OTk0MA==", "bodyText": "Reading the ticket I don't think this should be restricted. The original intent was for plugins to be able to read the value. If it is restricted then that is not possible.", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r486349940", "createdAt": "2020-09-10T13:43:50Z", "author": {"login": "rsandell"}, "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "diffHunk": "@@ -54,6 +54,10 @@ public RingBufferLogHandler(int ringSize) {\n         records = new LogRecord[ringSize];\n     }\n \n+    public static int getDefaultRingBufferSize() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI1MDc1OQ=="}, "originalCommit": {"oid": "e74880d3f5e37942d05e4ca66734995480656ee4"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MjE1MjM0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0MToxOVrOHP0R2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0MToxOVrOHP0R2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM0NzIyNg==", "bodyText": "I guess\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @since 2.255\n          \n          \n            \n                 * @since TODO", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r486347226", "createdAt": "2020-09-10T13:41:19Z", "author": {"login": "MRamonLeon"}, "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "diffHunk": "@@ -54,6 +57,16 @@ public RingBufferLogHandler(int ringSize) {\n         records = new LogRecord[ringSize];\n     }\n \n+    /**\n+     * @return int DEFAULT_RING_BUFFER_SIZE\n+     * @see <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-50669\">JENKINS-50669</a>\n+     * @since 2.255", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e86a04db064ff4d5148fa7243e27b2717e685e"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MjE1Nzk2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/WebAppMain.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0MjowN1rOHP0Vag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0MjowN1rOHP0Vag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM0ODEzOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @since 2.255\n          \n          \n            \n                 * @since TODO", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r486348138", "createdAt": "2020-09-10T13:42:07Z", "author": {"login": "rsandell"}, "path": "core/src/main/java/hudson/WebAppMain.java", "diffHunk": "@@ -112,13 +109,27 @@\n     @Restricted(NoExternalUse.class)\n     public static final String FORCE_SESSION_TRACKING_BY_COOKIE_PROP = WebAppMain.class.getName() + \".forceSessionTrackingByCookie\";\n \n-    private final RingBufferLogHandler handler = new RingBufferLogHandler(DEFAULT_RING_BUFFER_SIZE) {\n+    private final RingBufferLogHandler handler = new RingBufferLogHandler(WebAppMain.getDefaultRingBufferSize()) {\n+      \n         @Override public synchronized void publish(LogRecord record) {\n             if (record.getLevel().intValue() >= Level.INFO.intValue()) {\n                 super.publish(record);\n             }\n         }\n     };\n+\n+    /**This getter returns the int DEFAULT_RING_BUFFER_SIZE from the class RingBufferLogHandler from a static context.\n+     * Exposes access from RingBufferLogHandler.DEFAULT_RING_BUFFER_SIZE to WebAppMain.\n+     * Written for the requirements of JENKINS-50669\n+     * @return int This returns DEFAULT_RING_BUFFER_SIZE\n+     * @see <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-50669\">JENKINS-50669</a>\n+     * @since 2.255", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e86a04db064ff4d5148fa7243e27b2717e685e"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MjE2MTk4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0Mjo0NlrOHP0YHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzo0Mjo0NlrOHP0YHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM0ODgzMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @since 2.255\n          \n          \n            \n                 * @since TODO", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r486348831", "createdAt": "2020-09-10T13:42:46Z", "author": {"login": "rsandell"}, "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "diffHunk": "@@ -54,6 +57,16 @@ public RingBufferLogHandler(int ringSize) {\n         records = new LogRecord[ringSize];\n     }\n \n+    /**\n+     * @return int DEFAULT_RING_BUFFER_SIZE\n+     * @see <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-50669\">JENKINS-50669</a>\n+     * @since 2.255", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e86a04db064ff4d5148fa7243e27b2717e685e"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5OTc3OTY2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMTo0NDoxMVrOHYUBEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMTo0NDoxMVrOHYUBEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI1NTgyNQ==", "bodyText": "Unused imports", "url": "https://github.com/jenkinsci/jenkins/pull/4550#discussion_r495255825", "createdAt": "2020-09-25T21:44:11Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/util/RingBufferLogHandler.java", "diffHunk": "@@ -23,6 +23,9 @@\n  */\n package hudson.util;\n \n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d15717204d700f43ee71c4201671f02deb9b5b89"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 592, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}