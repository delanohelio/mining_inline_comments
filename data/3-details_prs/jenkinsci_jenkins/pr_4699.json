{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMjY2NzQ3", "number": 4699, "title": "Converting tests to junit5", "bodyText": "This is mainly for discussion. I started to convert some easy classes to junit 5. I will convert some classes where it is more complicated.\nProposed changelog entries\n\nDeveloper: Added possibility to add JUnit5 tests\n\nProposed upgrade guidelines\nN/A\nSubmitter checklist\n\n (If applicable) Jira issue is well described\n Changelog entries and upgrade guidelines are appropriate for the audience affected by the change (users or developer, depending on the change). Examples\n\nFill-in the Proposed changelog entries section only if there are breaking changes or other changes which may require extra steps from users during the upgrade\n\n\n Appropriate autotests or explanation to why this change has no tests\n For dependency updates: links to external changelogs and, if possible, full diffs\n\n\nDesired reviewers\n@mention\n\nMaintainer checklist\nBefore the changes are marked as ready-for-merge:\n\n There are at least 2 approvals for the pull request and no outstanding requests for change\n Conversations in the pull request are over OR it is explicit that a reviewer does not block the change\n Changelog entries in the PR title and/or Proposed changelog entries are correct\n Proper changelog labels are set so that the changelog can be generated automatically\n If the change needs additional upgrade steps from users, upgrade-guide-needed label is set and there is a Proposed upgrade guidelines section in the PR title. (example)\n If it would make sense to backport the change to LTS, a Jira issue must exist, be a Bug or Improvement, and be labeled as lts-candidate to be considered (see query).", "createdAt": "2020-04-30T08:55:11Z", "url": "https://github.com/jenkinsci/jenkins/pull/4699", "merged": true, "mergeCommit": {"oid": "dcc9a924d84d2d35166166dde0ebfe2e9ef52ab0"}, "closed": true, "closedAt": "2020-07-20T21:14:22Z", "author": {"login": "StefanSpieker"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccpJs8AH2gAyNDExMjY2NzQ3OjQxOGJhMDgxZDNhYWM3MDEzZGNhNzI2OGQzZjkzMGI2NGE1ZWZhNjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2X8uMAH2gAyNDExMjY2NzQ3OjA5ODM4YWNiZGI0YTY2YzVmYWJlYjVlZDcwZGZjYTdkZTg0YzJiYTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "418ba081d3aac7013dca7268d3f930b64a5efa61", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/418ba081d3aac7013dca7268d3f930b64a5efa61", "committedDate": "2020-04-30T08:52:40Z", "message": "started converting tests to junit5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09787468d65e56376ab8badb41e60e660488b00f", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/09787468d65e56376ab8badb41e60e660488b00f", "committedDate": "2020-04-30T10:43:57Z", "message": "replaced TempFolder with JUnit TempDir"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f1f9ae7d1713bd4e82f541f08db8cc0fa6f8e31", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/9f1f9ae7d1713bd4e82f541f08db8cc0fa6f8e31", "committedDate": "2020-04-30T10:44:48Z", "message": "migrated some test classes to JUnit5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NTE0NTg1", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-404514585", "createdAt": "2020-05-02T09:37:32Z", "commit": {"oid": "9f1f9ae7d1713bd4e82f541f08db8cc0fa6f8e31"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc8f5a54634fc7f4bfa51950fccd85e7d57cb122", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/bc8f5a54634fc7f4bfa51950fccd85e7d57cb122", "committedDate": "2020-05-04T16:38:39Z", "message": "migrated a parameterized testclass to junit5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjYwNzk5", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-405260799", "createdAt": "2020-05-04T18:58:00Z", "commit": {"oid": "bc8f5a54634fc7f4bfa51950fccd85e7d57cb122"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjYyNTk4", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-405262598", "createdAt": "2020-05-04T19:00:23Z", "commit": {"oid": "bc8f5a54634fc7f4bfa51950fccd85e7d57cb122"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTowMDoyM1rOGQN6_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTowMDoyM1rOGQN6_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1ODQ5Mw==", "bodyText": "Any particular reason you've chosen 5.5.2 instead of the 5.6.2 release from April 2020?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <junit.jupiter.version>5.5.2</junit.jupiter.version>\n          \n          \n            \n                <junit.jupiter.version>5.6.2</junit.jupiter.version>", "url": "https://github.com/jenkinsci/jenkins/pull/4699#discussion_r419658493", "createdAt": "2020-05-04T19:00:23Z", "author": {"login": "MarkEWaite"}, "path": "core/pom.xml", "diffHunk": "@@ -43,6 +43,7 @@ THE SOFTWARE.\n     <spring.version>2.5.6.SEC03</spring.version>\n     <groovy.version>2.4.12</groovy.version>\n     <hamcrest.version>2.2</hamcrest.version>\n+    <junit.jupiter.version>5.5.2</junit.jupiter.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc8f5a54634fc7f4bfa51950fccd85e7d57cb122"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0da9bf37603b09d77da0397c922bd4673edb6c9", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/a0da9bf37603b09d77da0397c922bd4673edb6c9", "committedDate": "2020-05-04T19:12:05Z", "message": "Update core/pom.xml\n\nCo-authored-by: Mark Waite <mark.earl.waite@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MzA1MDI2", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-407305026", "createdAt": "2020-05-07T09:33:01Z", "commit": {"oid": "a0da9bf37603b09d77da0397c922bd4673edb6c9"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNjI1NjIw", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-411625620", "createdAt": "2020-05-14T09:28:19Z", "commit": {"oid": "a0da9bf37603b09d77da0397c922bd4673edb6c9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToyODoxOVrOGVT1rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToyODoxOVrOGVT1rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5ODMxNg==", "bodyText": "If we want to migrate our test base, we should remove this library all together.", "url": "https://github.com/jenkinsci/jenkins/pull/4699#discussion_r424998316", "createdAt": "2020-05-14T09:28:19Z", "author": {"login": "alecharp"}, "path": "core/pom.xml", "diffHunk": "@@ -482,6 +483,24 @@ THE SOFTWARE.\n       <artifactId>junit</artifactId>\n       <scope>test</scope>\n     </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0da9bf37603b09d77da0397c922bd4673edb6c9"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ca7a6e83555175e23c70afab5d2129ee940c80f", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/4ca7a6e83555175e23c70afab5d2129ee940c80f", "committedDate": "2020-05-31T08:29:29Z", "message": "merged master and fixed conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/4866d8d90eb5e066da788d52428b67530ae18c0f", "committedDate": "2020-05-31T08:42:59Z", "message": "replaced junit4 with junit5-vintage engine"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MDk5OTM1", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-427099935", "createdAt": "2020-06-09T12:42:13Z", "commit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjo0MjoxNFrOGhHpXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjo0MjoxNFrOGhHpXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4MTQ2OQ==", "bodyText": "I take it you have not tried to convert the test module with JenkinsRule? That is where most test coverage lies, but I wonder if a migration is practical.\nTBH other than assertThrows (which could equally be a static utility method anywhere and used with JUnit 4) I have not seen a compelling advantage to using JUnit 5. It does not correct the main sin of JUnit 4, which is the abuse of annotations.", "url": "https://github.com/jenkinsci/jenkins/pull/4699#discussion_r437381469", "createdAt": "2020-06-09T12:42:14Z", "author": {"login": "jglick"}, "path": "core/pom.xml", "diffHunk": "@@ -40,6 +40,7 @@ THE SOFTWARE.\n   <properties>\n     <staplerFork>true</staplerFork>\n     <hamcrest.version>2.2</hamcrest.version>\n+    <junit.jupiter.version>5.6.2</junit.jupiter.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2ODM5Mzgw", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-436839380", "createdAt": "2020-06-24T17:02:23Z", "commit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDg0MDk5", "url": "https://github.com/jenkinsci/jenkins/pull/4699#pullrequestreview-449484099", "createdAt": "2020-07-16T03:34:54Z", "commit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMzozNDo1NVrOGyY37w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMzozNTo1NFrOGyY5Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ4OTUxOQ==", "bodyText": "Importing necessary classes is preferred", "url": "https://github.com/jenkinsci/jenkins/pull/4699#discussion_r455489519", "createdAt": "2020-07-16T03:34:55Z", "author": {"login": "stellargo"}, "path": "core/src/test/java/hudson/PluginWrapperTest.java", "diffHunk": "@@ -10,36 +10,35 @@\n import java.util.jar.Manifest;\n \n import jenkins.model.Jenkins;\n-import org.junit.After;\n-import org.junit.Before;\n-import org.junit.Test;\n+import org.junit.jupiter.api.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ4OTgwMw==", "bodyText": "I am not sure if this is used", "url": "https://github.com/jenkinsci/jenkins/pull/4699#discussion_r455489803", "createdAt": "2020-07-16T03:35:54Z", "author": {"login": "stellargo"}, "path": "core/src/test/java/hudson/PluginWrapperTest.java", "diffHunk": "@@ -10,36 +10,35 @@\n import java.util.jar.Manifest;\n \n import jenkins.model.Jenkins;\n-import org.junit.After;\n-import org.junit.Before;\n-import org.junit.Test;\n+import org.junit.jupiter.api.*;\n import org.mockito.invocation.InvocationOnMock;\n import org.mockito.stubbing.Answer;\n \n+import org.jvnet.hudson.test.Issue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4866d8d90eb5e066da788d52428b67530ae18c0f"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09838acbdb4a66c5fabeb5ed70dfca7de84c2ba2", "author": {"user": {"login": "StefanSpieker", "name": "Stefan Spieker"}}, "url": "https://github.com/jenkinsci/jenkins/commit/09838acbdb4a66c5fabeb5ed70dfca7de84c2ba2", "committedDate": "2020-07-19T07:32:08Z", "message": "merged with master"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1133, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}