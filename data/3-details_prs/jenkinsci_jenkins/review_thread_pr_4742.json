{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyODkwNTQy", "number": 4742, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMjoxODo1OFrOD_gJew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMToyNDoyMlrOECvX5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTEzNTk1OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/hudson/PluginManager/table.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMjoxODo1OFrOGaMs1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMjoxODo1OFrOGaMs1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEyNDI0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              This is typically the case when plugin requirements, e.g. a recent version of Jenkins, are not satisfied.\n          \n          \n            \n              This is typically the case when plugin's requirements are not satisfied. e.g. a more recent version of Jenkins", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r430124247", "createdAt": "2020-05-26T02:18:58Z", "author": {"login": "res0nance"}, "path": "core/src/main/resources/hudson/PluginManager/table.properties", "diffHunk": "@@ -51,6 +51,13 @@ ago={0} ago\n adoptThisPlugin=\\\n   <strong>This plugin is up for adoption!</strong> We are looking for new maintainers. \\\n   Visit our <a href=\"https://jenkins.io/doc/developer/plugin-governance/adopt-a-plugin/\" target=\"_blank\">Adopt a Plugin</a> initiative for more information.\n+newerVersionExists=\\\n+  A newer version than being offered for installation exists (version {0}). \\\n+  This is typically the case when plugin requirements, e.g. a recent version of Jenkins, are not satisfied.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f4f8dcc81b605f16776eec3d677e2e0b1347c4"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTEzNjg5OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/hudson/PluginManager/table.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMjoxOTozNlrOGaMtXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMjoxOTozNlrOGaMtXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEyNDM4Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              This is typically the case when plugin requirements, e.g. a recent version of Jenkins, are not satisfied. \\\n          \n          \n            \n              This is typically the case when plugin's requirements are not satisfied. e.g. a more recent version of Jenkins. \\", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r430124382", "createdAt": "2020-05-26T02:19:36Z", "author": {"login": "res0nance"}, "path": "core/src/main/resources/hudson/PluginManager/table.properties", "diffHunk": "@@ -51,6 +51,13 @@ ago={0} ago\n adoptThisPlugin=\\\n   <strong>This plugin is up for adoption!</strong> We are looking for new maintainers. \\\n   Visit our <a href=\"https://jenkins.io/doc/developer/plugin-governance/adopt-a-plugin/\" target=\"_blank\">Adopt a Plugin</a> initiative for more information.\n+newerVersionExists=\\\n+  A newer version than being offered for installation exists (version {0}). \\\n+  This is typically the case when plugin requirements, e.g. a recent version of Jenkins, are not satisfied.\n+newerVersionEntry=\\\n+  This version of the plugin exists but it is not being offered as an update. \\\n+  This is typically the case when plugin requirements, e.g. a recent version of Jenkins, are not satisfied. \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f4f8dcc81b605f16776eec3d677e2e0b1347c4"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTk3NDI0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/PluginManager.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODo1Mjo0NlrOGaUytQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMjoyNToxOVrOGab06A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1NjgyMQ==", "bodyText": "Isn't this taken care of in the plugin.latest calculation?", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r430256821", "createdAt": "2020-05-26T08:52:46Z", "author": {"login": "varyvol"}, "path": "core/src/main/java/hudson/PluginManager.java", "diffHunk": "@@ -2266,6 +2266,14 @@ public boolean hasAdoptThisPluginLabel(UpdateSite.Plugin plugin) {\n         return Arrays.asList(categories).contains(\"adopt-this-plugin\");\n     }\n \n+    @Restricted(DoNotUse.class) // Used from table.jelly\n+    public boolean hasLatestVersionNewerThanOffered(UpdateSite.Plugin plugin) {\n+        if (plugin.latest == null) {\n+            return false;\n+        }\n+        return !plugin.latest.equalsIgnoreCase(plugin.version); // we can assume that any defined 'latest' will be newer than the actual offered version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f4f8dcc81b605f16776eec3d677e2e0b1347c4"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI3MTgxMg==", "bodyText": "This code supports latest being added to JSON even if the latest release is being offered. While that's not the behavior of update-center2 in the linked PR, I wouldn't consider it wrong.", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r430271812", "createdAt": "2020-05-26T09:17:14Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/PluginManager.java", "diffHunk": "@@ -2266,6 +2266,14 @@ public boolean hasAdoptThisPluginLabel(UpdateSite.Plugin plugin) {\n         return Arrays.asList(categories).contains(\"adopt-this-plugin\");\n     }\n \n+    @Restricted(DoNotUse.class) // Used from table.jelly\n+    public boolean hasLatestVersionNewerThanOffered(UpdateSite.Plugin plugin) {\n+        if (plugin.latest == null) {\n+            return false;\n+        }\n+        return !plugin.latest.equalsIgnoreCase(plugin.version); // we can assume that any defined 'latest' will be newer than the actual offered version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1NjgyMQ=="}, "originalCommit": {"oid": "c1f4f8dcc81b605f16776eec3d677e2e0b1347c4"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM1MzE1OA==", "bodyText": "Maybe it's not wrong, but isn't it more sensible to make both sides have the same behaviour? I believe it's easier to undertand.", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r430353158", "createdAt": "2020-05-26T11:49:53Z", "author": {"login": "varyvol"}, "path": "core/src/main/java/hudson/PluginManager.java", "diffHunk": "@@ -2266,6 +2266,14 @@ public boolean hasAdoptThisPluginLabel(UpdateSite.Plugin plugin) {\n         return Arrays.asList(categories).contains(\"adopt-this-plugin\");\n     }\n \n+    @Restricted(DoNotUse.class) // Used from table.jelly\n+    public boolean hasLatestVersionNewerThanOffered(UpdateSite.Plugin plugin) {\n+        if (plugin.latest == null) {\n+            return false;\n+        }\n+        return !plugin.latest.equalsIgnoreCase(plugin.version); // we can assume that any defined 'latest' will be newer than the actual offered version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1NjgyMQ=="}, "originalCommit": {"oid": "c1f4f8dcc81b605f16776eec3d677e2e0b1347c4"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM3MjA3Mg==", "bodyText": "https://en.wikipedia.org/wiki/Robustness_principle", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r430372072", "createdAt": "2020-05-26T12:25:19Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/PluginManager.java", "diffHunk": "@@ -2266,6 +2266,14 @@ public boolean hasAdoptThisPluginLabel(UpdateSite.Plugin plugin) {\n         return Arrays.asList(categories).contains(\"adopt-this-plugin\");\n     }\n \n+    @Restricted(DoNotUse.class) // Used from table.jelly\n+    public boolean hasLatestVersionNewerThanOffered(UpdateSite.Plugin plugin) {\n+        if (plugin.latest == null) {\n+            return false;\n+        }\n+        return !plugin.latest.equalsIgnoreCase(plugin.version); // we can assume that any defined 'latest' will be newer than the actual offered version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1NjgyMQ=="}, "originalCommit": {"oid": "c1f4f8dcc81b605f16776eec3d677e2e0b1347c4"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMzA4Nzc1OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/hudson/PluginManager/_table.css", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMToyNDoyMlrOGfYkPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMToyNDoyMlrOGfYkPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU2MTUzMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            }\n          \n          \n            \n            }", "url": "https://github.com/jenkinsci/jenkins/pull/4742#discussion_r435561532", "createdAt": "2020-06-04T21:24:22Z", "author": {"login": "oleg-nenashev"}, "path": "core/src/main/resources/hudson/PluginManager/_table.css", "diffHunk": "@@ -76,3 +76,23 @@ time {\n .hidden {\n     display: none;\n }\n+\n+#plugins tr.unavailable {\n+  background-color: #f4f4f4;\n+}\n+tr.unavailable span.unavailable-label {\n+    display: inline-block;\n+    border: 1px solid #666;\n+    background-color: #fcc;\n+    color: #333;\n+    border-radius: 4px;\n+    font-size: 0.75rem;\n+    font-weight: 500;\n+    padding: 0 0.5rem;\n+    margin: 0.25rem 0.5rem;\n+    text-decoration: none;\n+    text-align: center;\n+    white-space: nowrap;\n+    vertical-align: baseline;\n+    text-transform: uppercase;\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65bd0f8e6443a437f1bddbc460e8af4ee29588ff"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 388, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}