{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MTI2MTYz", "number": 5010, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMzowNTo0NVrOEutKlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMjo1NjozN1rOEx40sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NDA5OTQyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/Functions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMzowNTo0NVrOHjR-dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMzoxNjo1M1rOHjSH6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc1NjcyNg==", "bodyText": "https://github.com/search?q=org%3Ajenkinsci+%22slave-agent.jnlp%22&type=code looks like we could get away with just renaming the existing file instead of duplicating it.\nIf we need to keep the old file for some reason, would just have that st:include the new one if possible to cut down duplication.", "url": "https://github.com/jenkinsci/jenkins/pull/5010#discussion_r506756726", "createdAt": "2020-10-16T23:05:45Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/Functions.java", "diffHunk": "@@ -1874,7 +1874,7 @@ public static String toEmailSafeString(String projectName) {\n     /**\n      * Obtains the host name of the Hudson server that clients can use to talk back to.\n      * <p>\n-     * This is primarily used in {@code slave-agent.jnlp.jelly} to specify the destination\n+     * This is primarily used in {@code jenkins-agent.jnlp.jelly} to specify the destination", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd06a653973bda3df1a2eeee5690af63523d72dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc1OTE0NA==", "bodyText": "Thanks for catching that. It was supposed to be removed but while I was getting things working it crept back in. Removing ....", "url": "https://github.com/jenkinsci/jenkins/pull/5010#discussion_r506759144", "createdAt": "2020-10-16T23:16:53Z", "author": {"login": "jeffret-b"}, "path": "core/src/main/java/hudson/Functions.java", "diffHunk": "@@ -1874,7 +1874,7 @@ public static String toEmailSafeString(String projectName) {\n     /**\n      * Obtains the host name of the Hudson server that clients can use to talk back to.\n      * <p>\n-     * This is primarily used in {@code slave-agent.jnlp.jelly} to specify the destination\n+     * This is primarily used in {@code jenkins-agent.jnlp.jelly} to specify the destination", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc1NjcyNg=="}, "originalCommit": {"oid": "fd06a653973bda3df1a2eeee5690af63523d72dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNzQ2NjM1OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/slaves/SlaveComputer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMjo1NjozMlrOHoOOig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMjo1NjozMlrOHoOOig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTkzODE4Ng==", "bodyText": "Unnecessary code duplication as @WebMethod takes a list of names.\nIf this is the future preferable API for this (even if unseen), should mark the old one @deprecated.\nAlso missing @since or @Restricted.", "url": "https://github.com/jenkinsci/jenkins/pull/5010#discussion_r511938186", "createdAt": "2020-10-26T12:56:32Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/slaves/SlaveComputer.java", "diffHunk": "@@ -814,13 +814,23 @@ public void tryReconnect() {\n \n     @WebMethod(name=\"slave-agent.jnlp\")\n     public HttpResponse doSlaveAgentJnlp(StaplerRequest req, StaplerResponse res) {\n-        return new EncryptedSlaveAgentJnlpFile(this, \"slave-agent.jnlp.jelly\", getName(), CONNECT);\n+        return doJenkinsAgentJnlp(req, res);\n+    }\n+\n+    @WebMethod(name=\"jenkins-agent.jnlp\")\n+    public HttpResponse doJenkinsAgentJnlp(StaplerRequest req, StaplerResponse res) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0990b4b6c03210b344318015787d8cde645cb6a"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNzQ2NjcyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/hudson/slaves/SlaveComputer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMjo1NjozN1rOHoOOwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMjo1NjozN1rOHoOOwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTkzODI0Mg==", "bodyText": "As above.", "url": "https://github.com/jenkinsci/jenkins/pull/5010#discussion_r511938242", "createdAt": "2020-10-26T12:56:37Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/hudson/slaves/SlaveComputer.java", "diffHunk": "@@ -814,13 +814,23 @@ public void tryReconnect() {\n \n     @WebMethod(name=\"slave-agent.jnlp\")\n     public HttpResponse doSlaveAgentJnlp(StaplerRequest req, StaplerResponse res) {\n-        return new EncryptedSlaveAgentJnlpFile(this, \"slave-agent.jnlp.jelly\", getName(), CONNECT);\n+        return doJenkinsAgentJnlp(req, res);\n+    }\n+\n+    @WebMethod(name=\"jenkins-agent.jnlp\")\n+    public HttpResponse doJenkinsAgentJnlp(StaplerRequest req, StaplerResponse res) {\n+        return new EncryptedSlaveAgentJnlpFile(this, \"jenkins-agent.jnlp.jelly\", getName(), CONNECT);\n     }\n \n     class LowPermissionResponse {\n+        @WebMethod(name=\"jenkins-agent.jnlp\")\n+        public HttpResponse doJenkinsAgentJnlp(StaplerRequest req, StaplerResponse res) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0990b4b6c03210b344318015787d8cde645cb6a"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 248, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}