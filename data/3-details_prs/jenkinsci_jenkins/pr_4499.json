{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NDU5NTU1", "number": 4499, "title": "Add memory usage monitor to the system information page", "bodyText": "In case you've wondered what https://jenkins.io/security/advisory/2020-01-29/#SECURITY-1650 was about\u2026\nI was unable to find any references to this class, despite it being pretty nice. So let's add the reference. There's probably a better way to do this, but \ud83e\udd37\u200d\u2642\n\n\n\nMostly copy&pasted from loadStatistics graph UI.\nProposed changelog entries\n\nAdd memory usage monitor to system information page\n\nProposed upgrade guidelines\nN/A\nSubmitter checklist\n\n[n/a] JIRA issue is well described\n Changelog entries and upgrade guidelines are appropriate for the audience affected by the change (users or developer, depending on the change). Examples\n\nFill-in the Proposed changelog entries section only if there are breaking changes or other changes which may require extra steps from users during the upgrade\n\n\n[n/a] Appropriate autotests or explanation to why this change has no tests\n[n/a] For dependency updates: links to external changelogs and, if possible, full diffs\n\n\nDesired reviewers\n@mention\n\nMaintainer checklist\nBefore the changes are marked as ready-for-merge:\n\n There are at least 2 approvals for the pull request and no outstanding requests for change\n Conversations in the pull request are over OR it is explicit that a reviewer does not block the change\n Changelog entries in the PR title and/or Proposed changelog entries are correct\n Proper changelog labels are set so that the changelog can be generated automatically\n If the change needs additional upgrade steps from users, upgrade-guide-needed label is set and there is a Proposed upgrade guidelines section in the PR title. (example)\n If it would make sense to backport the change to LTS, a JIRA issue should exist and be labeled as lts-candidate", "createdAt": "2020-02-14T16:04:26Z", "url": "https://github.com/jenkinsci/jenkins/pull/4499", "merged": true, "mergeCommit": {"oid": "5e4eeb2ad26a4289ad1d07becb0bca8b65462015"}, "closed": true, "closedAt": "2020-02-18T10:32:25Z", "author": {"login": "daniel-beck"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcERr_ggH2gAyMzc1NDU5NTU1OjMyMDY4ODYzYTNjNjk3ZTY5YTMwZDZjYzA0YzBkNmU1YzUxNjliYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFLgS2AFqTM1OTY2MzA1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "32068863a3c697e69a30d6cc04c0d6e5c5169bb4", "author": {"user": {"login": "daniel-beck", "name": "Daniel Beck"}}, "url": "https://github.com/jenkinsci/jenkins/commit/32068863a3c697e69a30d6cc04c0d6e5c5169bb4", "committedDate": "2020-02-14T15:58:13Z", "message": "Make memory usage graph discoverable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MDc3NTQw", "url": "https://github.com/jenkinsci/jenkins/pull/4499#pullrequestreview-359077540", "createdAt": "2020-02-14T16:48:05Z", "commit": {"oid": "32068863a3c697e69a30d6cc04c0d6e5c5169bb4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNjo0ODowNVrOFp9A6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNjo0ODowNVrOFp9A6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTUzNTU5Mg==", "bodyText": "Nit: this defaults to javascript as mentioned in the docs for the type attribute.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <script type=\"text/javascript\">\n          \n          \n            \n                    <script>", "url": "https://github.com/jenkinsci/jenkins/pull/4499#discussion_r379535592", "createdAt": "2020-02-14T16:48:05Z", "author": {"login": "jvz"}, "path": "core/src/main/resources/jenkins/model/Jenkins/systemInfo.jelly", "diffHunk": "@@ -59,6 +59,53 @@ THE SOFTWARE.\n             </j:otherwise>\n           </j:choose>\n         </table>\n+        <h1>${%Memory Usage}</h1>\n+        <j:set var=\"type\" value=\"${request.getParameter('type')}\" />\n+        <j:choose>\n+            <j:when test=\"${type == 'sec10'}\" />\n+            <j:when test=\"${type == 'min'}\" />\n+            <j:when test=\"${type == 'hour'}\" />\n+            <j:otherwise>\n+                <j:set var=\"type\" value=\"min\" />\n+            </j:otherwise>\n+        </j:choose>\n+\n+        <div>\n+            ${%Timespan}:\n+            <j:choose>\n+                <j:when test=\"${type != 'sec10'}\">\n+                    <a href=\"?type=sec10\">${%Short}</a>\n+                </j:when>\n+                <j:otherwise>\n+                    ${%Short}\n+                </j:otherwise>\n+            </j:choose>\n+            <st:nbsp />\n+            <j:choose>\n+                <j:when test=\"${type != 'min'}\">\n+                    <a href=\"?type=min\">${%Medium}</a>\n+                </j:when>\n+                <j:otherwise>\n+                    ${%Medium}\n+                </j:otherwise>\n+            </j:choose>\n+            <st:nbsp />\n+            <j:choose>\n+                <j:when test=\"${type != 'hour'}\">\n+                    <a href=\"?type=hour\">${%Long}</a>\n+                </j:when>\n+                <j:otherwise>\n+                    ${%Long}\n+                </j:otherwise>\n+            </j:choose>\n+        </div>\n+        <script type=\"text/javascript\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32068863a3c697e69a30d6cc04c0d6e5c5169bb4"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzQyMDYy", "url": "https://github.com/jenkinsci/jenkins/pull/4499#pullrequestreview-359342062", "createdAt": "2020-02-15T12:00:41Z", "commit": {"oid": "32068863a3c697e69a30d6cc04c0d6e5c5169bb4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5Mzc5MDMw", "url": "https://github.com/jenkinsci/jenkins/pull/4499#pullrequestreview-359379030", "createdAt": "2020-02-16T04:06:34Z", "commit": {"oid": "32068863a3c697e69a30d6cc04c0d6e5c5169bb4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NjYzMDU2", "url": "https://github.com/jenkinsci/jenkins/pull/4499#pullrequestreview-359663056", "createdAt": "2020-02-17T11:19:56Z", "commit": {"oid": "32068863a3c697e69a30d6cc04c0d6e5c5169bb4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1550, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}