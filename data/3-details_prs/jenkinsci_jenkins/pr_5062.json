{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNDEyMjg0", "number": 5062, "title": "Stable 2.263.1", "bodyText": "Fixed\nJENKINS-64136\t\tMajor     \t\t2.266\nAdd repository and add branch buttons hovering on page\nhttps://issues.jenkins.io/browse/JENKINS-64136\nJENKINS-64040\t\tMinor\nRadio block content not hidden due to JENKINS-63332\nhttps://issues.jenkins.io/browse/JENKINS-64040\nJENKINS-64039\t\tMinor\nsuboptimal performance of CaseInsensitive.equals\nhttps://issues.jenkins.io/browse/JENKINS-64039\nJENKINS-64035\t\tMajor     \t\t2.264\nUpgrade Jetty to 9.4.33\nhttps://issues.jenkins.io/browse/JENKINS-64035\nJENKINS-63868\t\tMajor     \t\t2.264\nPlaceholderTask.getOwnerTask vulnerable to AccessDeniedException\nhttps://issues.jenkins.io/browse/JENKINS-63868\nJENKINS-62985\t\tMinor     \t\t2.265 Stapler 1.261\nJenkins leaks a file handle when viewing a build log that contains an improperly encoded ConsoleNote (base64 error)\nhttps://issues.jenkins.io/browse/JENKINS-62985\nPostponed\nJENKINS-35452\t\tMajor     \t\t2.264\nChange Jnlp url from \"slave-agent.jnlp\" to \"agent.jnlp\"\nhttps://issues.jenkins.io/browse/JENKINS-35452", "createdAt": "2020-11-18T19:13:54Z", "url": "https://github.com/jenkinsci/jenkins/pull/5062", "merged": true, "mergeCommit": {"oid": "fcaf1b8cc09129928d55db211f41d677164fd977"}, "closed": true, "closedAt": "2020-11-23T07:23:36Z", "author": {"login": "olivergondza"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddyJHdgH2gAyNTIzNDEyMjg0OjA5ZmIzNGFjZWMxNDdjODcxZDlmZGNmNmIwNDgwNmVkNWZmMTJhZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfDmqdAFqTUzNjA4MTIzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "09fb34acec147c871d9fdcf6b04806ed5ff12ade", "author": {"user": {"login": "jtnord", "name": "James Nord"}}, "url": "https://github.com/jenkinsci/jenkins/commit/09fb34acec147c871d9fdcf6b04806ed5ff12ade", "committedDate": "2020-11-18T18:06:15Z", "message": "[JENKINS-64039] improve CaseInsensitive.equals(String, String) performance\n\nThe CaseInsensitive IdStrategy would always do a full string comparison\neven when all that was required was an equivallence check.\n\nupdated the javadoc to clarify performance implications for subclasses\nand fix the performance of the CaseInsensitive strategy\n\n(cherry picked from commit 2cd33a184f3b75a5c1d408abd3f62c9e792fed76)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bda2a280c99ba788538a600fb394dd79c6df50b2", "author": {"user": {"login": "oleg-nenashev", "name": "Oleg Nenashev"}}, "url": "https://github.com/jenkinsci/jenkins/commit/bda2a280c99ba788538a600fb394dd79c6df50b2", "committedDate": "2020-11-18T18:10:08Z", "message": "[JENKINS-64035] - Winstone 5.12: Update Jetty from 9.4.30.v20200611 to 9.4.33.v20201020\n\n(cherry picked from commit 0f998f300d896802985cabd78626629fa2158a52)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "754525377db9818f83179f2003ee2278653e5060", "author": {"user": {"login": "oleg-nenashev", "name": "Oleg Nenashev"}}, "url": "https://github.com/jenkinsci/jenkins/commit/754525377db9818f83179f2003ee2278653e5060", "committedDate": "2020-11-18T18:12:53Z", "message": "[JENKINS-63868] - Prevent the Build History Widget from exploding when user have Discover permissions without Read for folders\n\n(cherry picked from commit 7ccf1ba04062ef268578e4ca7e0fab576421ab0e)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31cf45c294a78e60c9600c3c9868db4a58ea37b0", "author": {"user": {"login": "oleg-nenashev", "name": "Oleg Nenashev"}}, "url": "https://github.com/jenkinsci/jenkins/commit/31cf45c294a78e60c9600c3c9868db4a58ea37b0", "committedDate": "2020-11-18T18:17:46Z", "message": "Merge pull request #5010 from jeffret-b/jenkinsAgentJnlp\n\n[JENKINS-35452] A step towards removing more 'slave' terminology.\n\n(cherry picked from commit 7b952de6c606bb5bafc1d7d4cbf09b84fb016b54)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3df3588d0a6102a8fd7dc741b4c4faac5948f746", "author": {"user": {"login": "jglick", "name": "Jesse Glick"}}, "url": "https://github.com/jenkinsci/jenkins/commit/3df3588d0a6102a8fd7dc741b4c4faac5948f746", "committedDate": "2020-11-18T18:25:39Z", "message": "[JENKINS-62985] Stapler 1.260 \u2192 1.261\n\n(cherry picked from commit 746e9cf68a6dc4c47f30fdd495223ec2cf6caf10)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d2ebadfb611a3a6dd845aaec65aaf40492388c3", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/jenkinsci/jenkins/commit/3d2ebadfb611a3a6dd845aaec65aaf40492388c3", "committedDate": "2020-11-18T18:50:50Z", "message": "[JENKINS-64040, JENKINS-64136] Fix hidden page elements from radio blocks showing up when they shouldn't (#5046)\n\n(cherry picked from commit ffe0fa8a53a10572ca555ae61fb6a720da7ff4cb)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e", "author": {"user": {"login": "olivergondza", "name": "Oliver Gond\u017ea"}}, "url": "https://github.com/jenkinsci/jenkins/commit/3a3b5077694d690be676668b17f2ef35fb96e17e", "committedDate": "2020-11-18T19:12:27Z", "message": "Run all tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTE2OTMz", "url": "https://github.com/jenkinsci/jenkins/pull/5062#pullrequestreview-533916933", "createdAt": "2020-11-18T22:01:42Z", "commit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjowMTo0MlrOH2EFLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjowMzozOVrOH2EItA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ1MjAxMw==", "bodyText": "Why are we backporting a cosmetic change that touches security-sensitive code? This feels like an unnecessary risk.", "url": "https://github.com/jenkinsci/jenkins/pull/5062#discussion_r526452013", "createdAt": "2020-11-18T22:01:42Z", "author": {"login": "jglick"}, "path": "core/src/main/java/jenkins/model/Jenkins.java", "diffHunk": "@@ -4820,14 +4820,18 @@ public boolean isSubjectToMandatoryReadPermissionCheck(String restOfPath) {\n         }\n \n         // TODO SlaveComputer.doSlaveAgentJnlp; there should be an annotation to request unprotected access\n-        if (restOfPath.matches(\"/computer/[^/]+/slave-agent[.]jnlp\")\n+        if ((isAgentJnlpPath(restOfPath, \"jenkins\") || (isAgentJnlpPath(restOfPath, \"slave\")))\n             && \"true\".equals(Stapler.getCurrentRequest().getParameter(\"encrypt\"))) {\n             return false;\n         }\n \n         return true;\n     }\n \n+    private boolean isAgentJnlpPath(String restOfPath, String prefix) {\n+        return restOfPath.matches(\"/computer/[^/]+/\" + prefix+ \"-agent[.]jnlp\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ1MjkxNg==", "bodyText": "Why are we backporting this upgrade? Does this solve any user-visible bug?", "url": "https://github.com/jenkinsci/jenkins/pull/5062#discussion_r526452916", "createdAt": "2020-11-18T22:03:39Z", "author": {"login": "jglick"}, "path": "war/pom.xml", "diffHunk": "@@ -103,7 +103,7 @@ THE SOFTWARE.\n       -->\n       <groupId>org.jenkins-ci</groupId>\n       <artifactId>winstone</artifactId>\n-      <version>5.11.1</version>\n+      <version>5.12</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MzU4NjQy", "url": "https://github.com/jenkinsci/jenkins/pull/5062#pullrequestreview-535358642", "createdAt": "2020-11-20T11:46:19Z", "commit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1Mzc1MzY4", "url": "https://github.com/jenkinsci/jenkins/pull/5062#pullrequestreview-535375368", "createdAt": "2020-11-20T12:10:54Z", "commit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMToxOVrOH3NQLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMjoyOVrOH3NSYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MDg2Mg==", "bodyText": "Not a great backport for the same reasons I listed in #5010 (review)", "url": "https://github.com/jenkinsci/jenkins/pull/5062#discussion_r527650862", "createdAt": "2020-11-20T12:11:19Z", "author": {"login": "daniel-beck"}, "path": "core/src/main/java/jenkins/model/Jenkins.java", "diffHunk": "@@ -4820,14 +4820,18 @@ public boolean isSubjectToMandatoryReadPermissionCheck(String restOfPath) {\n         }\n \n         // TODO SlaveComputer.doSlaveAgentJnlp; there should be an annotation to request unprotected access\n-        if (restOfPath.matches(\"/computer/[^/]+/slave-agent[.]jnlp\")\n+        if ((isAgentJnlpPath(restOfPath, \"jenkins\") || (isAgentJnlpPath(restOfPath, \"slave\")))\n             && \"true\".equals(Stapler.getCurrentRequest().getParameter(\"encrypt\"))) {\n             return false;\n         }\n \n         return true;\n     }\n \n+    private boolean isAgentJnlpPath(String restOfPath, String prefix) {\n+        return restOfPath.matches(\"/computer/[^/]+/\" + prefix+ \"-agent[.]jnlp\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ1MjAxMw=="}, "originalCommit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MTQyNA==", "bodyText": "I think this is a reasonable backport. We missed the weekly by 1 release, nothing has come up since, and otherwise we'll be bombarded with security scan output for the next 3 months.", "url": "https://github.com/jenkinsci/jenkins/pull/5062#discussion_r527651424", "createdAt": "2020-11-20T12:12:29Z", "author": {"login": "daniel-beck"}, "path": "war/pom.xml", "diffHunk": "@@ -103,7 +103,7 @@ THE SOFTWARE.\n       -->\n       <groupId>org.jenkins-ci</groupId>\n       <artifactId>winstone</artifactId>\n-      <version>5.11.1</version>\n+      <version>5.12</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ1MjkxNg=="}, "originalCommit": {"oid": "3a3b5077694d690be676668b17f2ef35fb96e17e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7613ca476e0d475a13d13e169af6dd79c21252c8", "author": {"user": {"login": "batmat", "name": "Baptiste Mathus"}}, "url": "https://github.com/jenkinsci/jenkins/commit/7613ca476e0d475a13d13e169af6dd79c21252c8", "committedDate": "2020-11-20T17:42:34Z", "message": "Update the pinned version of ATH in use to a more recent version (#5064)\n\nCo-authored-by: Tim Jacomb <t.jacomb@kainos.com>\n(cherry picked from commit 8be4477dba48da02d2b6e969384a814ead591748)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5a5e9151c8bd5627c627e373826abf8b3a0c704", "author": {"user": {"login": "olivergondza", "name": "Oliver Gond\u017ea"}}, "url": "https://github.com/jenkinsci/jenkins/commit/e5a5e9151c8bd5627c627e373826abf8b3a0c704", "committedDate": "2020-11-20T17:45:55Z", "message": "Revert \"Merge pull request #5010 from jeffret-b/jenkinsAgentJnlp\"\n\nThis reverts commit 31cf45c294a78e60c9600c3c9868db4a58ea37b0."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21e8968fe9044a11b76d0134a2791a21dadf36e5", "author": {"user": {"login": "res0nance", "name": "Raihaan Shouhell"}}, "url": "https://github.com/jenkinsci/jenkins/commit/21e8968fe9044a11b76d0134a2791a21dadf36e5", "committedDate": "2020-11-22T15:26:12Z", "message": "JDK 11.0.9 / 8.0.272+ compatible FunctionsTest#printThrowable() (#5033)\n\n* JDK 11.0.9 / 8.0.272+ FunctionsTest#printThrowable()\n\n* Ensure proper older java 11 backwards compatibility\n\nCo-authored-by: res0nance <res0nance@users.noreply.github.com>\n(cherry picked from commit e83e6a11dce552d8ea17b272d0fdb418792c215f)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDc3ODQw", "url": "https://github.com/jenkinsci/jenkins/pull/5062#pullrequestreview-536077840", "createdAt": "2020-11-22T16:22:12Z", "commit": {"oid": "21e8968fe9044a11b76d0134a2791a21dadf36e5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDgxMjM2", "url": "https://github.com/jenkinsci/jenkins/pull/5062#pullrequestreview-536081236", "createdAt": "2020-11-22T17:00:50Z", "commit": {"oid": "21e8968fe9044a11b76d0134a2791a21dadf36e5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1829, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}