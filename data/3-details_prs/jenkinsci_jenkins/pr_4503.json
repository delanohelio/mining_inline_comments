{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1ODExOTEz", "number": 4503, "title": "Remove 'auto refresh' feature", "bodyText": "This is a re-done #2979 after #3894.\nTelemetry\nLooking at the telemetry submitted in November and December 2019, which may include some 2.204.1 LTS, but otherwise mostly weeklies:\n67880 instances reported data. About 10% of instances reported any use of auto-refresh during these two months (i.e. it wasn't used at all on ~90% of instances).\nAuto-refresh was disabled in 166555708 (99.4%) sessions, and enabled in 969858 sessions (0.6%).\nThis result is probably skewed by auto refresh keeping sessions alive on more pages, but even so, what's the real ratio? Maybe 2%?\nI'd be happy to make this data available if desired, but I'm OK with the result (and previous reviewers in #2979 didn't care at all).\nProposed changelog entries\n\nRemove 'auto refresh' feature, including now obsolete auto refresh telemetry capability.\n\nProposed upgrade guidelines\nN/A\nSubmitter checklist\n\n JIRA issue is well described\n Changelog entries and upgrade guidelines are appropriate for the audience affected by the change (users or developer, depending on the change). Examples\n\nFill-in the Proposed changelog entries section only if there are breaking changes or other changes which may require extra steps from users during the upgrade\n\n\n Appropriate autotests or explanation to why this change has no tests\n[n/a] For dependency updates: links to external changelogs and, if possible, full diffs\n\nDesired reviewers\n@mention\n\nMaintainer checklist\nBefore the changes are marked as ready-for-merge:\n\n There are at least 2 approvals for the pull request and no outstanding requests for change\n Conversations in the pull request are over OR it is explicit that a reviewer does not block the change\n Changelog entries in the PR title and/or Proposed changelog entries are correct\n Proper changelog labels are set so that the changelog can be generated automatically\n If the change needs additional upgrade steps from users, upgrade-guide-needed label is set and there is a Proposed upgrade guidelines section in the PR title. (example)\n If it would make sense to backport the change to LTS, a JIRA issue should exist and be labeled as lts-candidate", "createdAt": "2020-02-16T10:54:04Z", "url": "https://github.com/jenkinsci/jenkins/pull/4503", "merged": true, "mergeCommit": {"oid": "3472e10e95bdf7361bbbc2e7427ca2da69775aaf"}, "closed": true, "closedAt": "2020-02-24T15:18:01Z", "author": {"login": "daniel-beck"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcE2gFjAH2gAyMzc1ODExOTEzOmViZTIzNTE5ZTQzY2U0OTNkOTk1Y2U1ZGZlMmM5Zjk1NWMwMzkzZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHZub9AFqTM2MzIzNzUyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2", "author": {"user": {"login": "daniel-beck", "name": "Daniel Beck"}}, "url": "https://github.com/jenkinsci/jenkins/commit/ebe23519e43ce493d995ce5dfe2c9f955c0393e2", "committedDate": "2020-02-16T10:51:42Z", "message": "Remove 'auto refresh' feature"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NDAwNjAw", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-359400600", "createdAt": "2020-02-16T12:36:01Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQxMjozNjowMVrOFqTQeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQxMjozNjowMVrOFqTQeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkwMDAyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Deprecated: Used to disable auto refresh for a page. The feature has been removed.\n          \n          \n            \n                  Deprecated: Was used to disable auto refresh for a page. The feature has been removed.", "url": "https://github.com/jenkinsci/jenkins/pull/4503#discussion_r379900026", "createdAt": "2020-02-16T12:36:01Z", "author": {"login": "timja"}, "path": "core/src/main/resources/lib/layout/html.jelly", "diffHunk": "@@ -37,8 +37,7 @@ THE SOFTWARE.\n       Title of the HTML page. Rendered into &lt;title> tag.\n     </st:attribute>\n     <st:attribute name=\"norefresh\">\n-      If non-null and not \"false\", auto refresh is disabled on this page.\n-      This is necessary for pages that include forms.\n+      Deprecated: Used to disable auto refresh for a page. The feature has been removed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NDIzNjQ2", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-359423646", "createdAt": "2020-02-16T19:28:14Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQxOToyODoxNFrOFqU5tQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQxOToyODoxNFrOFqU5tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkyNjk2NQ==", "bodyText": "Also restrict it to force migration?", "url": "https://github.com/jenkinsci/jenkins/pull/4503#discussion_r379926965", "createdAt": "2020-02-16T19:28:14Z", "author": {"login": "oleg-nenashev"}, "path": "core/src/main/java/hudson/Functions.java", "diffHunk": "@@ -633,54 +632,17 @@ public static String getYuiSuffix() {\n     private static final SimpleFormatter formatter = new SimpleFormatter();\n \n     /**\n-     * Used by {@code layout.jelly} to control the auto refresh behavior.\n+     * No longer used.\n      *\n-     * @param noAutoRefresh\n-     *      On certain pages, like a page with forms, will have annoying interference\n-     *      with auto refresh. On those pages, disable auto-refresh.\n+     * @deprecated auto refresh has been removed\n      */\n+    @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NDIzNzMy", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-359423732", "createdAt": "2020-02-16T19:29:31Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NDIzOTU5", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-359423959", "createdAt": "2020-02-16T19:33:30Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NjMwODky", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-359630892", "createdAt": "2020-02-17T10:27:16Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzc0MjY0", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-361774264", "createdAt": "2020-02-20T10:06:19Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzc0ODk0", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-361774894", "createdAt": "2020-02-20T10:07:13Z", "commit": {"oid": "ebe23519e43ce493d995ce5dfe2c9f955c0393e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da1ce9ff343009f856f996f524cb5808621ab4d4", "author": {"user": {"login": "daniel-beck", "name": "Daniel Beck"}}, "url": "https://github.com/jenkinsci/jenkins/commit/da1ce9ff343009f856f996f524cb5808621ab4d4", "committedDate": "2020-02-20T10:47:25Z", "message": "Merge branch 'master' into remove-auto-refresh2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71e0bda98f44476b0547ba0b5746d5db01e4e1d4", "author": {"user": {"login": "daniel-beck", "name": "Daniel Beck"}}, "url": "https://github.com/jenkinsci/jenkins/commit/71e0bda98f44476b0547ba0b5746d5db01e4e1d4", "committedDate": "2020-02-21T21:58:43Z", "message": "Merge branch 'master' into remove-auto-refresh2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a27309b2663abb88e322c8a427d47cf30e69e31", "author": {"user": {"login": "daniel-beck", "name": "Daniel Beck"}}, "url": "https://github.com/jenkinsci/jenkins/commit/7a27309b2663abb88e322c8a427d47cf30e69e31", "committedDate": "2020-02-21T22:20:33Z", "message": "Remove obsolete CSS"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e779af23b98e1befcff9ea840d2fb407ca079f7e", "author": {"user": {"login": "daniel-beck", "name": "Daniel Beck"}}, "url": "https://github.com/jenkinsci/jenkins/commit/e779af23b98e1befcff9ea840d2fb407ca079f7e", "committedDate": "2020-02-22T21:59:22Z", "message": "Merge branch 'master' into remove-auto-refresh2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMjM3NTI0", "url": "https://github.com/jenkinsci/jenkins/pull/4503#pullrequestreview-363237524", "createdAt": "2020-02-24T09:01:54Z", "commit": {"oid": "e779af23b98e1befcff9ea840d2fb407ca079f7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1566, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}