{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMDYwMTIy", "number": 1395, "title": "utility for removing orphan links", "bodyText": "Do you think that something like this is a useful addition?\nEdit: Merge conflicts because it's based on an old 2.5 branch to make it work in my production setup.\nSigned-off-by: Jan N. Klug jan.n.klug@rub.de", "createdAt": "2020-03-22T19:45:55Z", "url": "https://github.com/openhab/openhab-core/pull/1395", "merged": true, "mergeCommit": {"oid": "558f518febafde714cacd0de239f92c6330bf85f"}, "closed": true, "closedAt": "2020-07-15T08:30:32Z", "author": {"login": "J-N-K"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc024xvAFqTQ0NzUzOTk5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1GX9SAFqTQ0ODczODkxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTM5OTk4", "url": "https://github.com/openhab/openhab-core/pull/1395#pullrequestreview-447539998", "createdAt": "2020-07-13T19:31:25Z", "commit": {"oid": "f15d72ff01627f521fa6ba333cec02425fe91d7d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxOTozMToyNlrOGw2z1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxOTozMTo0MVrOGw20XA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg4MjgzNw==", "bodyText": "Can you add an example call like in the other console outputs?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    console.println(\"Specify 'list' or 'purge'\");\n          \n          \n            \n                                    console.println(\"Specify action 'list' or 'purge' to be executed: orphan <list|purge>\");", "url": "https://github.com/openhab/openhab-core/pull/1395#discussion_r453882837", "createdAt": "2020-07-13T19:31:26Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.core.thing/src/main/java/org/eclipse/smarthome/core/thing/internal/console/LinkConsoleCommandExtension.java", "diffHunk": "@@ -55,6 +65,14 @@ public void execute(String[] args, Console console) {\n                 case SUBCMD_LIST:\n                     list(console, itemChannelLinkRegistry.getAll());\n                     return;\n+                case SUBCMD_ORPHAN:\n+                    if (args.length == 2 && (args[1].equals(\"list\") || args[1].equals(\"purge\"))) {\n+                        orphan(console, args[1], itemChannelLinkRegistry.getAll(), thingRegistry.getAll(),\n+                                itemRegistry.getAll());\n+                    } else {\n+                        console.println(\"Specify 'list' or 'purge'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f15d72ff01627f521fa6ba333cec02425fe91d7d"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg4Mjk3Mg==", "bodyText": "Rather use constructor injection. Please apply it for the other service reference too.", "url": "https://github.com/openhab/openhab-core/pull/1395#discussion_r453882972", "createdAt": "2020-07-13T19:31:41Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.core.thing/src/main/java/org/eclipse/smarthome/core/thing/internal/console/LinkConsoleCommandExtension.java", "diffHunk": "@@ -124,6 +164,24 @@ private void removeChannelLink(Console console, String itemName, ChannelUID chan\n         }\n     }\n \n+    @Reference\n+    protected void setThingRegistry(ThingRegistry thingRegistry) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f15d72ff01627f521fa6ba333cec02425fe91d7d"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "775f17de8747040c457702a5e5612ed54e8c303b", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/775f17de8747040c457702a5e5612ed54e8c303b", "committedDate": "2020-07-14T15:33:49Z", "message": "utility for removing orphan links\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc3ae78cc0ab9bf4af51f20926f0dfdf3d2191f1", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/cc3ae78cc0ab9bf4af51f20926f0dfdf3d2191f1", "committedDate": "2020-07-14T15:34:59Z", "message": "improvements (also check for missing channels)\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f15d72ff01627f521fa6ba333cec02425fe91d7d", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/f15d72ff01627f521fa6ba333cec02425fe91d7d", "committedDate": "2020-04-11T14:03:38Z", "message": "improvements (also check for missing channels)\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}, "afterCommit": {"oid": "cc3ae78cc0ab9bf4af51f20926f0dfdf3d2191f1", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/cc3ae78cc0ab9bf4af51f20926f0dfdf3d2191f1", "committedDate": "2020-07-14T15:34:59Z", "message": "improvements (also check for missing channels)\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4f018d2ad1e8abf0f3929aa09a65792898ff991", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/d4f018d2ad1e8abf0f3929aa09a65792898ff991", "committedDate": "2020-07-14T15:52:43Z", "message": "address review comments\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NzM4OTEz", "url": "https://github.com/openhab/openhab-core/pull/1395#pullrequestreview-448738913", "createdAt": "2020-07-15T08:29:40Z", "commit": {"oid": "d4f018d2ad1e8abf0f3929aa09a65792898ff991"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4562, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}