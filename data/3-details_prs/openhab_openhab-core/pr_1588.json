{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2Mjg1MjUx", "number": 1588, "title": "switched PersistenceExtensions to ZonedDateTime", "bodyText": "In #1451 I changed the rules from Instant to ZonedDateTime, but I had missed the PersistenceExtensions. Fixing this, I also did some further clean up and also moved it to core.persistence as it does not have any dependency on the persist DSL itself.\nSigned-off-by: Kai Kreuzer kai@openhab.org", "createdAt": "2020-08-11T18:40:19Z", "url": "https://github.com/openhab/openhab-core/pull/1588", "merged": true, "mergeCommit": {"oid": "3c83e8a8eba1945204e6f25feda70ea44095c075"}, "closed": true, "closedAt": "2020-08-12T19:59:56Z", "author": {"login": "kaikreuzer"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc97QKfgH2gAyNDY2Mjg1MjUxOmRhYTU2OWNjOWUyZDk1N2QxMzg3OTM2ODNlMWM4ZWNlMjlhOGMxYTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-RBx5gFqTQ2NjIyOTgyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "daa569cc9e2d957d138793683e1c8ece29a8c1a9", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-core/commit/daa569cc9e2d957d138793683e1c8ece29a8c1a9", "committedDate": "2020-08-11T18:37:31Z", "message": "switched PersistenceExtensions to ZonedDateTime\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d28d36c002d79af68fcb152d965d44bc8c1e8c8f", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-core/commit/d28d36c002d79af68fcb152d965d44bc8c1e8c8f", "committedDate": "2020-08-11T19:16:23Z", "message": "adapted itests\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2c0c3ecce5d472e69247e0ff40ec98c0730a249", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-core/commit/e2c0c3ecce5d472e69247e0ff40ec98c0730a249", "committedDate": "2020-08-12T06:40:42Z", "message": "moved and adapted persistence itests\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6fc17f868ee047f7969ec9ff9154aee659cc7e3", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-core/commit/b6fc17f868ee047f7969ec9ff9154aee659cc7e3", "committedDate": "2020-08-12T15:33:25Z", "message": "fixed integration tests\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MDkwOTc1", "url": "https://github.com/openhab/openhab-core/pull/1588#pullrequestreview-466090975", "createdAt": "2020-08-12T16:41:43Z", "commit": {"oid": "b6fc17f868ee047f7969ec9ff9154aee659cc7e3"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjo0MTo0M1rOG_poUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjo0Mjo1OVrOG_prYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM5NTUzOQ==", "bodyText": "Are the removals in this class because the rule engine already gets this information provided by ActionServices?", "url": "https://github.com/openhab/openhab-core/pull/1588#discussion_r469395539", "createdAt": "2020-08-12T16:41:43Z", "author": {"login": "wborn"}, "path": "bundles/org.openhab.core.model.script/src/org/openhab/core/model/script/scoping/ScriptImplicitlyImportedTypes.java", "diffHunk": "@@ -90,15 +82,11 @@\n     @Override\n     protected List<Class<?>> getStaticImportClasses() {\n         List<Class<?>> result = super.getStaticImportClasses();\n+        result.add(ScriptExecution.class);\n         result.add(BusEvent.class);\n         result.add(Exec.class);\n         result.add(HTTP.class);\n         result.add(Ping.class);\n-        result.add(ScriptExecution.class);\n-        result.add(LogAction.class);\n-        result.add(Audio.class);\n-        result.add(Voice.class);\n-        result.add(Things.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6fc17f868ee047f7969ec9ff9154aee659cc7e3"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM5NjMyMA==", "bodyText": "I saw these tests were moved to another project in #1551.\nDoes it even require OSGi for running the tests?", "url": "https://github.com/openhab/openhab-core/pull/1588#discussion_r469396320", "createdAt": "2020-08-12T16:42:59Z", "author": {"login": "wborn"}, "path": "itests/pom.xml", "diffHunk": "@@ -35,11 +35,11 @@\n     <module>org.openhab.core.io.rest.core.tests</module>\n     <module>org.openhab.core.model.core.tests</module>\n     <module>org.openhab.core.model.item.tests</module>\n-    <module>org.openhab.core.model.persistence.tests</module>\n     <module>org.openhab.core.model.rule.tests</module>\n     <module>org.openhab.core.model.script.tests</module>\n     <module>org.openhab.core.model.thing.testsupport</module>\n     <module>org.openhab.core.model.thing.tests</module>\n+    <module>org.openhab.core.persistence.tests</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6fc17f868ee047f7969ec9ff9154aee659cc7e3"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MjI5ODI2", "url": "https://github.com/openhab/openhab-core/pull/1588#pullrequestreview-466229826", "createdAt": "2020-08-12T19:59:43Z", "commit": {"oid": "b6fc17f868ee047f7969ec9ff9154aee659cc7e3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4721, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}