{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4NDk2OTYz", "number": 1920, "title": "increase the rule refresher delay", "bodyText": "Despite the better startup order, the rule refresher still kicks in several times during startup.\nThis is caused by thing actions being added at a later point (namely after thing handlers are instantiated). Since we do the refresh once all items and things are loaded and thus defined, we can imho easily reduce the frequency of any subsequent refreshes. Allowing 30 seconds should ensure that most thing handlers are instantiated and we thus only have a single further refresh triggered. Note: Once start level 80 is implemented, we should probably use markers to also exactly time this second required refresh.\nSigned-off-by: Kai Kreuzer kai@openhab.org", "createdAt": "2020-12-12T21:34:34Z", "url": "https://github.com/openhab/openhab-core/pull/1920", "merged": true, "mergeCommit": {"oid": "ec6ac00742c218f46d49269422c3c475459b48f0"}, "closed": true, "closedAt": "2020-12-13T10:05:24Z", "author": {"login": "kaikreuzer"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdljc_1gH2gAyNTM4NDk2OTYzOmRhMzNjYzQ0YTFlMTdhZjFkMGRlMzFkY2FhNTJiZjRhNTcwNThiMjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdluPt5AFqTU1MDkwNDM4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "da33cc44a1e17af1d0de31dcaa52bf4a57058b21", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-core/commit/da33cc44a1e17af1d0de31dcaa52bf4a57058b21", "committedDate": "2020-12-12T21:30:47Z", "message": "increase the rule refresher delay\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwODcxMTQ0", "url": "https://github.com/openhab/openhab-core/pull/1920#pullrequestreview-550871144", "createdAt": "2020-12-12T23:49:42Z", "commit": {"oid": "da33cc44a1e17af1d0de31dcaa52bf4a57058b21"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQyMzo0OTo0MlrOIEtH8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQyMzo0OTo0MlrOIEtH8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTgwNDUzMQ==", "bodyText": "Can it be changed such that it only uses this during startup? Once you start making changes to your instance I think it will be very annoying having to wait 30 seconds each time.", "url": "https://github.com/openhab/openhab-core/pull/1920#discussion_r541804531", "createdAt": "2020-12-12T23:49:42Z", "author": {"login": "wborn"}, "path": "bundles/org.openhab.core.model.rule/src/org/openhab/core/model/rule/jvmmodel/RulesRefresher.java", "diffHunk": "@@ -56,7 +56,7 @@\n public class RulesRefresher implements ReadyTracker {\n \n     // delay in seconds before rule resources are refreshed after items or services have changed\n-    private static final long REFRESH_DELAY = 5;\n+    private static final long REFRESH_DELAY = 30;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da33cc44a1e17af1d0de31dcaa52bf4a57058b21"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwOTA0Mzgz", "url": "https://github.com/openhab/openhab-core/pull/1920#pullrequestreview-550904383", "createdAt": "2020-12-13T10:05:14Z", "commit": {"oid": "da33cc44a1e17af1d0de31dcaa52bf4a57058b21"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4611, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}