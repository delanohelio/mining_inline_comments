{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyOTY2MzA3", "number": 1965, "title": "[transport.modbus] Added support for RTU encoding over TCP", "bodyText": "Until now, this transport did not support RTU encoding over TCP.\nThis PR adds support for RTU encoding over TCP.\nNOTE: this PR requires the following PR..\n\njamod [modbus] add support for RTU encoding over TCP openhab/jamod#8\n\nNOTE: this PR is the foundation for the following PR..\n\norg.openhab.binding.modbus [modbus] add support for RTU encoding over TCP openhab/openhab-addons#9435", "createdAt": "2020-12-19T19:10:10Z", "url": "https://github.com/openhab/openhab-core/pull/1965", "merged": true, "mergeCommit": {"oid": "acb0cd5e9bcbbf5306965da7a669f185da9a7770"}, "closed": true, "closedAt": "2020-12-26T17:10:07Z", "author": {"login": "andrewfg"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnEllKgH2gAyNTQyOTY2MzA3OmFmN2IwMGVmMzBlMjgyZjk5NmY1NGQ2YTFiY2ZmYmFkOGZlZWFlMDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqAHMrgFqTU1ODg4MzE0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "af7b00ef30e282f996f54d6a1bcffbad8feeae07", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/af7b00ef30e282f996f54d6a1bcffbad8feeae07", "committedDate": "2020-12-17T14:40:57Z", "message": "[modbus] add support for rtu encoding over tcp\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee1059e6dfd21e3894a9b46e0f82972ca828100b", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/ee1059e6dfd21e3894a9b46e0f82972ca828100b", "committedDate": "2020-12-17T15:26:00Z", "message": "[modbus] typo\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efdbed9fd54c6a44bf7003260d5e687582b0ee74", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/efdbed9fd54c6a44bf7003260d5e687582b0ee74", "committedDate": "2020-12-18T19:03:08Z", "message": "[modbus] pom\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b455eca7649a377e871645d7410e03633b6150e", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/3b455eca7649a377e871645d7410e03633b6150e", "committedDate": "2020-12-18T19:14:23Z", "message": "[modbus] support rtuEncoded\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66c9e3a252858ec21621e39d61a5a712500b4d8f", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/66c9e3a252858ec21621e39d61a5a712500b4d8f", "committedDate": "2020-12-19T11:32:40Z", "message": "[modbus] revert EndPointPoolConfiguration\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a17705ed84761f3c414ced7c689ab1362f7393", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/b8a17705ed84761f3c414ced7c689ab1362f7393", "committedDate": "2020-12-19T11:33:07Z", "message": "[modbus] add test case\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18ae058ca5bb3bff99a7b0b0ea6ac74e15e66355", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/18ae058ca5bb3bff99a7b0b0ea6ac74e15e66355", "committedDate": "2020-12-19T14:40:39Z", "message": "[modbus] test RTU encoding over TCP on specific live device\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTcwMTg3", "url": "https://github.com/openhab/openhab-core/pull/1965#pullrequestreview-555970187", "createdAt": "2020-12-19T21:42:11Z", "commit": {"oid": "18ae058ca5bb3bff99a7b0b0ea6ac74e15e66355"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQyMTo0MjoxMVrOII-rZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQyMTo0MjoxMVrOII-rZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI4NjQzOA==", "bodyText": "I suggest removing this class as it has been effectively disabled and cannot be easily run without real device.", "url": "https://github.com/openhab/openhab-core/pull/1965#discussion_r546286438", "createdAt": "2020-12-19T21:42:11Z", "author": {"login": "ssalonen"}, "path": "bundles/org.openhab.core.io.transport.modbus/src/test/java/org/openhab/core/io/transport/modbus/test/RtuOverTcpTest.java", "diffHunk": "@@ -0,0 +1,93 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.core.io.transport.modbus.test;\n+\n+import static org.hamcrest.CoreMatchers.*;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.util.Optional;\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.junit.jupiter.api.Test;\n+import org.openhab.core.io.transport.modbus.ModbusCommunicationInterface;\n+import org.openhab.core.io.transport.modbus.ModbusReadFunctionCode;\n+import org.openhab.core.io.transport.modbus.ModbusReadRequestBlueprint;\n+import org.openhab.core.io.transport.modbus.ModbusRegisterArray;\n+import org.openhab.core.io.transport.modbus.endpoint.ModbusTCPSlaveEndpoint;\n+\n+/**\n+ * @author Andrew Fiddian-Green - Initial contribution\n+ */\n+@NonNullByDefault\n+class RtuOverTcpTest extends IntegrationTestSupport {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18ae058ca5bb3bff99a7b0b0ea6ac74e15e66355"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e1877361af48ddcc321895d007fa7b12a5f225c", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/3e1877361af48ddcc321895d007fa7b12a5f225c", "committedDate": "2020-12-20T10:08:10Z", "message": "[modbus] remove device dependent test case\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDE5OTc0", "url": "https://github.com/openhab/openhab-core/pull/1965#pullrequestreview-556019974", "createdAt": "2020-12-20T13:55:02Z", "commit": {"oid": "3e1877361af48ddcc321895d007fa7b12a5f225c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDIwMDMz", "url": "https://github.com/openhab/openhab-core/pull/1965#pullrequestreview-556020033", "createdAt": "2020-12-20T13:55:42Z", "commit": {"oid": "3e1877361af48ddcc321895d007fa7b12a5f225c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxMzo1NTo0M1rOIJEafw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxMzo1NTo0M1rOIJEafw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM4MDQxNQ==", "bodyText": "You want to delay this PR and release jamod first.", "url": "https://github.com/openhab/openhab-core/pull/1965#discussion_r546380415", "createdAt": "2020-12-20T13:55:43Z", "author": {"login": "ssalonen"}, "path": "bundles/org.openhab.core.io.transport.modbus/pom.xml", "diffHunk": "@@ -35,7 +35,7 @@\n     <dependency>\n       <groupId>net.wimpi</groupId>\n       <artifactId>jamod</artifactId>\n-      <version>1.2.4.OH</version>\n+      <version>1.2.5.OH-SNAPSHOT</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e1877361af48ddcc321895d007fa7b12a5f225c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f55e6e9639cb50168acf320510c41a24e1156ed0", "author": {"user": {"login": "andrewfg", "name": "Andrew Fiddian-Green"}}, "url": "https://github.com/openhab/openhab-core/commit/f55e6e9639cb50168acf320510c41a24e1156ed0", "committedDate": "2020-12-20T19:04:46Z", "message": "[modbus] final version number in pom file\n\nSigned-off-by: Andrew Fiddian-Green <software@whitebear.ch>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODgzMTQ2", "url": "https://github.com/openhab/openhab-core/pull/1965#pullrequestreview-558883146", "createdAt": "2020-12-26T17:09:55Z", "commit": {"oid": "f55e6e9639cb50168acf320510c41a24e1156ed0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4614, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}