{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NTM5NDk1", "number": 1482, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNjoxNTozNFrOD9dsLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNjo0MDo1NVrOD-E_fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1Nzc2MTc1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.core.io.rest.auth/bnd.bnd", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNjoxNTozNFrOGW-Veg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNjoxNTozNFrOGW-Veg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc0MzE2Mg==", "bodyText": "I think the whole file can now be removed since its purpose was to add the activator.", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426743162", "createdAt": "2020-05-18T16:15:34Z", "author": {"login": "wborn"}, "path": "bundles/org.openhab.core.io.rest.auth/bnd.bnd", "diffHunk": "@@ -1,2 +1 @@\n Bundle-SymbolicName: ${project.artifactId}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb545c19578f26bc18794cbb298388d523268795"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1ODExNTY5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNzo1NzoxMVrOGXB1kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxODo0MTo1NFrOGXDOmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgwMDUyOQ==", "bodyText": "All our configuration pids should be of format org.openhab.<scope>, so here I would suggest org.openhab.auth.", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426800529", "createdAt": "2020-05-18T17:57:11Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "diffHunk": "@@ -36,9 +40,11 @@\n  * @author Yannick Schaus - initial contribution\n  */\n @PreMatching\n+@Component(configurationPid = \"org.openhab.rest.auth\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e25b52808ce0181a41d007dbafe93f340fbf4e5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgxNTI5Mw==", "bodyText": "With a couple of exceptions ;)\n\n  \n    \n      openhab-core/bundles/org.openhab.core.storage.json/src/main/java/org/openhab/core/storage/json/internal/JsonStorageService.java\n    \n    \n         Line 41\n      in\n      0182ce5\n    \n    \n    \n    \n\n        \n          \n           @Component(name = \"org.openhab.core.storage.json\", configurationPid = \"org.openhab.storage.json\", property = { // \n        \n    \n  \n\n\nLooks like org.openhab.auth is already used:\n\n  \n    \n      openhab-core/bundles/org.openhab.core.io.http.auth/src/main/java/org/openhab/core/io/http/auth/internal/AuthenticationHandler.java\n    \n    \n         Line 47\n      in\n      61e17ce\n    \n    \n    \n    \n\n        \n          \n           @Component(configurationPid = \"org.openhab.auth\")", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426815293", "createdAt": "2020-05-18T18:25:38Z", "author": {"login": "ghys"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "diffHunk": "@@ -36,9 +40,11 @@\n  * @author Yannick Schaus - initial contribution\n  */\n @PreMatching\n+@Component(configurationPid = \"org.openhab.rest.auth\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgwMDUyOQ=="}, "originalCommit": {"oid": "2e25b52808ce0181a41d007dbafe93f340fbf4e5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgxODE2NA==", "bodyText": "With a couple of exceptions ;)\n\nYou only list one and as we say in German: \"an exception proves the rule\" ;-). We can fix that easily, I'd say.\n\nLooks like org.openhab.auth is already used\n\nThen we should see how we can merge the functionality - for a user, there should in the end only be one conf/services/auth.cfg file to do configuration around auth.\nBtw, where is this class here at all taking a configuration? Am I missing something?", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426818164", "createdAt": "2020-05-18T18:31:20Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "diffHunk": "@@ -36,9 +40,11 @@\n  * @author Yannick Schaus - initial contribution\n  */\n @PreMatching\n+@Component(configurationPid = \"org.openhab.rest.auth\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgwMDUyOQ=="}, "originalCommit": {"oid": "2e25b52808ce0181a41d007dbafe93f340fbf4e5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMDMzMw==", "bodyText": "Then we should see how we can merge the functionality\n\nWe can use the same configurationPid for several services? (honest question, I'm not an expert).\n\nBtw, where is this class here at all taking a configuration? Am I missing something?\n\nNowhere for now, I added it in advance for when we'd like to add some like \"protect the entire API, not only the admin operations\".", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426820333", "createdAt": "2020-05-18T18:35:48Z", "author": {"login": "ghys"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "diffHunk": "@@ -36,9 +40,11 @@\n  * @author Yannick Schaus - initial contribution\n  */\n @PreMatching\n+@Component(configurationPid = \"org.openhab.rest.auth\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgwMDUyOQ=="}, "originalCommit": {"oid": "2e25b52808ce0181a41d007dbafe93f340fbf4e5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMTg2MA==", "bodyText": "All things considered, I removed it for now since it's not used.", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426821860", "createdAt": "2020-05-18T18:38:56Z", "author": {"login": "ghys"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "diffHunk": "@@ -36,9 +40,11 @@\n  * @author Yannick Schaus - initial contribution\n  */\n @PreMatching\n+@Component(configurationPid = \"org.openhab.rest.auth\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgwMDUyOQ=="}, "originalCommit": {"oid": "2e25b52808ce0181a41d007dbafe93f340fbf4e5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMzMyMA==", "bodyText": "We can use the same configurationPid for several services? (honest question, I'm not an expert).\n\nI cannot say - I remember different things from the past and would have to dig into a suitable solution myself.\n\nI removed it for now since it's not used.\n\nSounds like the most elegant solution for the moment! \ud83d\ude0e", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r426823320", "createdAt": "2020-05-18T18:41:54Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/AuthFilter.java", "diffHunk": "@@ -36,9 +40,11 @@\n  * @author Yannick Schaus - initial contribution\n  */\n @PreMatching\n+@Component(configurationPid = \"org.openhab.rest.auth\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgwMDUyOQ=="}, "originalCommit": {"oid": "2e25b52808ce0181a41d007dbafe93f340fbf4e5"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NDIwMDk0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/RolesAllowedDynamicFeatureImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNjo0MDo1NVrOGX9RJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNjo0MDo1NVrOGX9RJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc3NDI0NA==", "bodyText": "No need to use immediate = false explicit, it is the default setting.", "url": "https://github.com/openhab/openhab-core/pull/1482#discussion_r427774244", "createdAt": "2020-05-20T06:40:55Z", "author": {"login": "maggu2810"}, "path": "bundles/org.openhab.core.io.rest.auth/src/main/java/org/openhab/core/io/rest/auth/internal/RolesAllowedDynamicFeatureImpl.java", "diffHunk": "@@ -48,6 +53,9 @@\n  * @author Yannick Schaus - port to openHAB with modifications\n  */\n @Provider\n+@Component(immediate = false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a083289b3cf83b7267c00fdf56e4df9c05f568f"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3396, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}