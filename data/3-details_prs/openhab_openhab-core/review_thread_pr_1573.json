{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NDMyNTAw", "number": 1573, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMDozMDozOVrOEZNkoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMDozMDozOVrOEZNkoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0ODcyMjI0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.core.config.discovery/src/main/java/org/openhab/core/config/discovery/DiscoveryResultBuilder.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMDozMDozOVrOHB51Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNjozNDozMVrOHJkCrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1ODA4Ng==", "bodyText": "This message sounds as if the user should do something about it, but in fact you want to tell him that he just found a bug that needs to be reported, right? I think this should clearly be stated here, best by also including the stacktrace.", "url": "https://github.com/openhab/openhab-core/pull/1573#discussion_r471758086", "createdAt": "2020-08-17T20:30:39Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.core.config.discovery/src/main/java/org/openhab/core/config/discovery/DiscoveryResultBuilder.java", "diffHunk": "@@ -143,6 +146,11 @@ public DiscoveryResultBuilder withTTL(long ttl) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     public DiscoveryResult build() {\n+        if (representationProperty != null && !properties.containsKey(representationProperty)) {\n+            logger.warn(\n+                    \"Representation property '{}' of discovery result for thing '{}' is missing in properties map. It should be added.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81af1cb0be6e27fcb87ce6af267ba91b80507c2b"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc2NzkyMw==", "bodyText": "It now looks like this:\n[main] WARN org.openhab.core.config.discovery.DiscoveryResultBuilder - Representation property 'test' of discovery result for thing 'test:test:test' is missing in properties map. It has to be fixed by the bindings developer.\n\tat java.base/java.lang.Thread.getStackTrace(Thread.java:1607)\n\tat org.openhab.core.config.discovery.DiscoveryResultBuilder$1.run(DiscoveryResultBuilder.java:166)\n\tat org.openhab.core.config.discovery.DiscoveryResultBuilder$1.run(DiscoveryResultBuilder.java:1)\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\n\tat org.openhab.core.config.discovery.DiscoveryResultBuilder.getStackTrace(DiscoveryResultBuilder.java:163)\n\tat org.openhab.core.config.discovery.DiscoveryResultBuilder.build(DiscoveryResultBuilder.java:156)\n\tat org.openhab.core.config.discovery.DiscoveryResultBuilderTest.testDiscoveryResultBuilder(DiscoveryResultBuilderTest.java:48)", "url": "https://github.com/openhab/openhab-core/pull/1573#discussion_r479767923", "createdAt": "2020-08-30T13:08:45Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.core.config.discovery/src/main/java/org/openhab/core/config/discovery/DiscoveryResultBuilder.java", "diffHunk": "@@ -143,6 +146,11 @@ public DiscoveryResultBuilder withTTL(long ttl) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     public DiscoveryResult build() {\n+        if (representationProperty != null && !properties.containsKey(representationProperty)) {\n+            logger.warn(\n+                    \"Representation property '{}' of discovery result for thing '{}' is missing in properties map. It should be added.\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1ODA4Ng=="}, "originalCommit": {"oid": "81af1cb0be6e27fcb87ce6af267ba91b80507c2b"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4OTc0Mw==", "bodyText": "Looks good to me. \ud83d\udc4d", "url": "https://github.com/openhab/openhab-core/pull/1573#discussion_r479789743", "createdAt": "2020-08-30T16:34:31Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.core.config.discovery/src/main/java/org/openhab/core/config/discovery/DiscoveryResultBuilder.java", "diffHunk": "@@ -143,6 +146,11 @@ public DiscoveryResultBuilder withTTL(long ttl) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     public DiscoveryResult build() {\n+        if (representationProperty != null && !properties.containsKey(representationProperty)) {\n+            logger.warn(\n+                    \"Representation property '{}' of discovery result for thing '{}' is missing in properties map. It should be added.\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1ODA4Ng=="}, "originalCommit": {"oid": "81af1cb0be6e27fcb87ce6af267ba91b80507c2b"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3317, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}