{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5MTI4MjIw", "number": 1862, "title": "Disable AutoUpdateManager for GroupItems", "bodyText": "Fixes #1330", "createdAt": "2020-11-29T15:40:48Z", "url": "https://github.com/openhab/openhab-core/pull/1862", "merged": true, "mergeCommit": {"oid": "34a3487e3e29c60adcce8074ff9273e0d51a91d7"}, "closed": true, "closedAt": "2020-12-03T16:21:00Z", "author": {"login": "silamon"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhPuh0AH2gAyNTI5MTI4MjIwOjgyMTY0N2ViOTc3ZjUwODhhY2E3M2U1YzA5MDA2Y2ViZmU2NzQwNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdilnkXAFqTU0NDEzNDgwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "821647eb977f5088aca73e5c09006cebfe674045", "author": {"user": {"login": "silamon", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/821647eb977f5088aca73e5c09006cebfe674045", "committedDate": "2020-11-29T12:16:08Z", "message": "Disable AutoUpdateManager for GroupItems\n\nSigned-off-by: Simon Lamon <simonlamon93@hotmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eadb074fc9d005b1d0e89150ac02e1900317e6b", "author": {"user": {"login": "silamon", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/4eadb074fc9d005b1d0e89150ac02e1900317e6b", "committedDate": "2020-11-29T15:39:00Z", "message": "Clean up\n\nSigned-off-by: Simon Lamon <simonlamon93@hotmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMTA4Njg4", "url": "https://github.com/openhab/openhab-core/pull/1862#pullrequestreview-541108688", "createdAt": "2020-11-30T17:00:45Z", "commit": {"oid": "4eadb074fc9d005b1d0e89150ac02e1900317e6b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNzowMDo0NVrOH8EmUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNzowMjoxM1rOH8EqcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc1MTk1Mg==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/openhab/openhab-core/pull/1862#discussion_r532751952", "createdAt": "2020-11-30T17:00:45Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.core.thing/src/main/java/org/openhab/core/thing/internal/AutoUpdateManager.java", "diffHunk": "@@ -281,14 +289,19 @@ private boolean isAcceptedState(State newState, Item item) {\n             // Look for class hierarchy\n             for (Class<?> state : item.getAcceptedDataTypes()) {\n                 try {\n-                    if (!state.isEnum() && state.newInstance().getClass().isAssignableFrom(newState.getClass())) {\n+                    if (!state.isEnum() && state.getDeclaredConstructor().newInstance().getClass()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eadb074fc9d005b1d0e89150ac02e1900317e6b"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc1MzAwOQ==", "bodyText": "I guess we can shrink this block to be a one liner:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            } catch (InstantiationException e) {\n          \n          \n            \n                                logger.warn(\"InstantiationException on {}\", e.getMessage(), e); // Should never happen\n          \n          \n            \n                            } catch (IllegalAccessException e) {\n          \n          \n            \n                                logger.warn(\"IllegalAccessException on {}\", e.getMessage(), e); // Should never happen\n          \n          \n            \n                            } catch (NoSuchMethodException e) {\n          \n          \n            \n                                logger.warn(\"NoSuchMethodException on {}\", e.getMessage(), e); // Should never happen\n          \n          \n            \n                            } catch (InvocationTargetException e) {\n          \n          \n            \n                                logger.warn(\"InvocationTargetException on {}\", e.getMessage(), e); // Should never happen\n          \n          \n            \n                            } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\n          \n          \n            \n                                logger.warn(\"Exception on {}\", e.getMessage(), e); // Should never happen", "url": "https://github.com/openhab/openhab-core/pull/1862#discussion_r532753009", "createdAt": "2020-11-30T17:02:13Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.core.thing/src/main/java/org/openhab/core/thing/internal/AutoUpdateManager.java", "diffHunk": "@@ -281,14 +289,19 @@ private boolean isAcceptedState(State newState, Item item) {\n             // Look for class hierarchy\n             for (Class<?> state : item.getAcceptedDataTypes()) {\n                 try {\n-                    if (!state.isEnum() && state.newInstance().getClass().isAssignableFrom(newState.getClass())) {\n+                    if (!state.isEnum() && state.getDeclaredConstructor().newInstance().getClass()\n+                            .isAssignableFrom(newState.getClass())) {\n                         isAccepted = true;\n                         break;\n                     }\n                 } catch (InstantiationException e) {\n                     logger.warn(\"InstantiationException on {}\", e.getMessage(), e); // Should never happen\n                 } catch (IllegalAccessException e) {\n                     logger.warn(\"IllegalAccessException on {}\", e.getMessage(), e); // Should never happen\n+                } catch (NoSuchMethodException e) {\n+                    logger.warn(\"NoSuchMethodException on {}\", e.getMessage(), e); // Should never happen\n+                } catch (InvocationTargetException e) {\n+                    logger.warn(\"InvocationTargetException on {}\", e.getMessage(), e); // Should never happen", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eadb074fc9d005b1d0e89150ac02e1900317e6b"}, "originalPosition": 58}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "853719ed7330eea0ef5d03b42cf6956b26811bda", "author": {"user": {"login": "silamon", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/853719ed7330eea0ef5d03b42cf6956b26811bda", "committedDate": "2020-12-02T08:29:52Z", "message": "apply feedback\n\nSigned-off-by: Simon Lamon <simonlamon93@hotmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a90f34489468bf682a8db44361c2d0af6c67638", "author": {"user": {"login": "silamon", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/3a90f34489468bf682a8db44361c2d0af6c67638", "committedDate": "2020-12-02T08:28:51Z", "message": "apply feedback"}, "afterCommit": {"oid": "853719ed7330eea0ef5d03b42cf6956b26811bda", "author": {"user": {"login": "silamon", "name": null}}, "url": "https://github.com/openhab/openhab-core/commit/853719ed7330eea0ef5d03b42cf6956b26811bda", "committedDate": "2020-12-02T08:29:52Z", "message": "apply feedback\n\nSigned-off-by: Simon Lamon <simonlamon93@hotmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MTM0ODA0", "url": "https://github.com/openhab/openhab-core/pull/1862#pullrequestreview-544134804", "createdAt": "2020-12-03T16:20:22Z", "commit": {"oid": "853719ed7330eea0ef5d03b42cf6956b26811bda"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4694, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}