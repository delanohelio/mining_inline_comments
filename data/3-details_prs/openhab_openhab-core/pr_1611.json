{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNzc2ODE3", "number": 1611, "title": "Allow property value to be updated to null", "bodyText": "With the changes in #1598 the BaseThingHandler could no longer update property values to null.\n\nIn the unchanged Nest tests the following stracktraces were logged:\n[pool-80-thread-1] WARN  o.o.b.n.i.r.NestStreamingRestClient - An exception occurred while processing the inbound event\njava.lang.NullPointerException: null\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:221)\n\tat java.base/java.util.ImmutableCollections$Map1.<init>(ImmutableCollections.java:749)\n\tat java.base/java.util.Map.of(Map.java:1307)\n\tat org.openhab.core.thing.binding.BaseThingHandler.updateProperty(BaseThingHandler.java:512)\n\tat org.openhab.binding.nest.internal.handler.NestThermostatHandler.update(NestThermostatHandler.java:211)\n\tat org.openhab.binding.nest.internal.handler.NestThermostatHandler.update(NestThermostatHandler.java:1)\n\tat org.openhab.binding.nest.internal.handler.NestBaseHandler.onUpdatedData(NestBaseHandler.java:194)\n\tat org.openhab.binding.nest.internal.update.NestUpdateHandler.lambda$3(NestUpdateHandler.java:99)\n\nSee also openhab/openhab-addons#8334 (comment).", "createdAt": "2020-08-26T09:27:47Z", "url": "https://github.com/openhab/openhab-core/pull/1611", "merged": true, "mergeCommit": {"oid": "12a5d086917d55be4c0f52ebea74a51ebdbf29ae"}, "closed": true, "closedAt": "2020-08-26T10:06:54Z", "author": {"login": "wborn"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCoU1zgH2gAyNDczNzc2ODE3OjBjOWIyMDE5M2YyMWJjNzMzYTJlZDZiMjMxZGJiOTA4OWExNDgwYzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdD7uRggFqTQ3ODE5MDg5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0c9b20193f21bc733a2ed6b231dbb9089a1480c7", "author": {"user": {"login": "wborn", "name": "Wouter Born"}}, "url": "https://github.com/openhab/openhab-core/commit/0c9b20193f21bc733a2ed6b231dbb9089a1480c7", "committedDate": "2020-08-26T09:24:03Z", "message": "Allow property value to be updated to null\n\nWith the changes in #1598 the BaseThingHandler could no longer update property values to null.\n\nSigned-off-by: Wouter Born <github@maindrain.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MzQzMDU4", "url": "https://github.com/openhab/openhab-core/pull/1611#pullrequestreview-475343058", "createdAt": "2020-08-26T10:06:49Z", "commit": {"oid": "0c9b20193f21bc733a2ed6b231dbb9089a1480c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MTkwODk5", "url": "https://github.com/openhab/openhab-core/pull/1611#pullrequestreview-478190899", "createdAt": "2020-08-30T10:29:49Z", "commit": {"oid": "0c9b20193f21bc733a2ed6b231dbb9089a1480c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxMDoyOTo0OVrOHJhupw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxMDoyOTo0OVrOHJhupw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc1MTg0Nw==", "bodyText": "Hm, ... shouldn't the value be annotated by @Nullable then?", "url": "https://github.com/openhab/openhab-core/pull/1611#discussion_r479751847", "createdAt": "2020-08-30T10:29:49Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.core.thing/src/main/java/org/openhab/core/thing/binding/BaseThingHandler.java", "diffHunk": "@@ -509,7 +510,7 @@ protected void updateProperties(Map<String, String> properties) {\n      * @param value the value of the property\n      */\n     protected void updateProperty(String name, String value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c9b20193f21bc733a2ed6b231dbb9089a1480c7"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4740, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}