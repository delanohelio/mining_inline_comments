{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5ODQwNzE5", "number": 361, "title": "added packaging README", "bodyText": "", "createdAt": "2020-05-19T02:37:33Z", "url": "https://github.com/greenplum-db/pxf/pull/361", "merged": true, "mergeCommit": {"oid": "35cad366def9061af0826c952b09958d4121a108"}, "closed": true, "closedAt": "2020-05-19T17:32:07Z", "author": {"login": "denalex"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcirKQvAH2gAyNDE5ODQwNzE5OjdjYzViN2U3MmU5NWYwZjQ3MjVhNTQzMTBhMGU3OTU4ZDdjZmY2MGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci37tJAH2gAyNDE5ODQwNzE5OmY5MTU5MjMxYTJlZTUxYzY4ZDViMzIyMGFiNjhlOGI1MTUwMGYwZjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a", "author": {"user": {"login": "denalex", "name": "Alexander Denissov"}}, "url": "https://github.com/greenplum-db/pxf/commit/7cc5b7e72e95f0f4725a54310a0e7958d7cff60a", "committedDate": "2020-05-19T02:36:38Z", "message": "added packaging README"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MzI0OTQw", "url": "https://github.com/greenplum-db/pxf/pull/361#pullrequestreview-414324940", "createdAt": "2020-05-19T10:48:39Z", "commit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDo0ODozOVrOGXaq-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDo0ODozOVrOGXaq-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwNzQxOQ==", "bodyText": "the -> to ?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * the install a newer RPM package for the same Greenplum major release, a user will have to upgrade the PXF RPM\n          \n          \n            \n            * to install a newer RPM package for the same Greenplum major release, a user will have to upgrade the PXF RPM", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427207419", "createdAt": "2020-05-19T10:48:39Z", "author": {"login": "frankgh"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files\n+* PXF Server -- written in Java, represented by a `pxf.war` file, Tomcat server, dependent JAR files, templates and scripts\n+* Script Cluster Plugin -- written in Go, represented by `pxf-cli` executable\n+\n+When packaged and shipped, PXF is represented by an RPM package on Centos platform and a DEB package on Ubuntu platform,\n+respectively. The package is different for every major Greenplum version that PXF has been compiled with. \n+\n+For example, `pxf-gp5-1.2.3-1.el7.x86_64.rpm` represents an RPM package of PXF version 1.2.3 intended to work with\n+Greenplum 5 on Centos / Redhat 7 operating systems.  \n+\n+\n+## RPM specification\n+On Centos platforms PXF product is packaged as an RPM. The specification on how to build the RPM is provided by the\n+`pxf-gpX.spec` files in this directory. The following key design decisions were made:\n+\n+* the name of the RPM package is `pxf-gpX`, where X is the major Greenplum version (e.g. `pxf-gp5`, `pxf-gp6`)\n+* the install a newer RPM package for the same Greenplum major release, a user will have to upgrade the PXF RPM", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NTg3ODI3", "url": "https://github.com/greenplum-db/pxf/pull/361#pullrequestreview-414587827", "createdAt": "2020-05-19T15:51:23Z", "commit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "state": "APPROVED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNTo1MToyM1rOGXnD3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjoxMzoxNFrOGXoA1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQxMDM5OQ==", "bodyText": "what about replacing \", represented by\" with \"; when built, produces ...\"?", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427410399", "createdAt": "2020-05-19T15:51:23Z", "author": {"login": "lisakowen"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQxODEwMg==", "bodyText": "seems like the info on this page is geared both towards the consumer of the packages and a developer who would be building the package on their own.  i might say \"The PXF packaging framework can build and generate an RPM package for CentOS platforms and a DEB package for the Ubuntu platform\".  or \"You can build an RPM ...\"", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427418102", "createdAt": "2020-05-19T16:02:04Z", "author": {"login": "lisakowen"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files\n+* PXF Server -- written in Java, represented by a `pxf.war` file, Tomcat server, dependent JAR files, templates and scripts\n+* Script Cluster Plugin -- written in Go, represented by `pxf-cli` executable\n+\n+When packaged and shipped, PXF is represented by an RPM package on Centos platform and a DEB package on Ubuntu platform,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQxOTQ2Ng==", "bodyText": "how about something like \"PXF compiles against and generates a different package for every major Greenplum version.\"", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427419466", "createdAt": "2020-05-19T16:03:56Z", "author": {"login": "lisakowen"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files\n+* PXF Server -- written in Java, represented by a `pxf.war` file, Tomcat server, dependent JAR files, templates and scripts\n+* Script Cluster Plugin -- written in Go, represented by `pxf-cli` executable\n+\n+When packaged and shipped, PXF is represented by an RPM package on Centos platform and a DEB package on Ubuntu platform,\n+respectively. The package is different for every major Greenplum version that PXF has been compiled with. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQyMjk3Mg==", "bodyText": "just curious, when would PXF release a package with -2?", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427422972", "createdAt": "2020-05-19T16:08:51Z", "author": {"login": "lisakowen"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files\n+* PXF Server -- written in Java, represented by a `pxf.war` file, Tomcat server, dependent JAR files, templates and scripts\n+* Script Cluster Plugin -- written in Go, represented by `pxf-cli` executable\n+\n+When packaged and shipped, PXF is represented by an RPM package on Centos platform and a DEB package on Ubuntu platform,\n+respectively. The package is different for every major Greenplum version that PXF has been compiled with. \n+\n+For example, `pxf-gp5-1.2.3-1.el7.x86_64.rpm` represents an RPM package of PXF version 1.2.3 intended to work with\n+Greenplum 5 on Centos / Redhat 7 operating systems.  \n+\n+\n+## RPM specification\n+On Centos platforms PXF product is packaged as an RPM. The specification on how to build the RPM is provided by the\n+`pxf-gpX.spec` files in this directory. The following key design decisions were made:\n+\n+* the name of the RPM package is `pxf-gpX`, where X is the major Greenplum version (e.g. `pxf-gp5`, `pxf-gp6`)\n+* the install a newer RPM package for the same Greenplum major release, a user will have to upgrade the PXF RPM\n+* the RPM installs PXF server into `/usr/local/pxf-gpX` directory (e.g. `/usr/local/pxf-gp6`)\n+* the RPM is relocatable, a user can specify --prefix option when installing the RPM to install the server into another directory\n+* the PXF greenplum extension is initially installed by RPM alongside the PXF server and is not initially active\n+* the PXF greenplum extension is copied into Greenplum install location during `pxf init` command issued by a user after the install\n+* the PXF RPM version number follows 3-number semantic versioning and must be provided during the RPM build process\n+* the PXF RPM release number is usually specified as `1`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQyNTM2Mg==", "bodyText": "so, the user wouldn't run yum to install the RPM?\nwill the user still need to install Java separately?", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427425362", "createdAt": "2020-05-19T16:12:21Z", "author": {"login": "lisakowen"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files\n+* PXF Server -- written in Java, represented by a `pxf.war` file, Tomcat server, dependent JAR files, templates and scripts\n+* Script Cluster Plugin -- written in Go, represented by `pxf-cli` executable\n+\n+When packaged and shipped, PXF is represented by an RPM package on Centos platform and a DEB package on Ubuntu platform,\n+respectively. The package is different for every major Greenplum version that PXF has been compiled with. \n+\n+For example, `pxf-gp5-1.2.3-1.el7.x86_64.rpm` represents an RPM package of PXF version 1.2.3 intended to work with\n+Greenplum 5 on Centos / Redhat 7 operating systems.  \n+\n+\n+## RPM specification\n+On Centos platforms PXF product is packaged as an RPM. The specification on how to build the RPM is provided by the\n+`pxf-gpX.spec` files in this directory. The following key design decisions were made:\n+\n+* the name of the RPM package is `pxf-gpX`, where X is the major Greenplum version (e.g. `pxf-gp5`, `pxf-gp6`)\n+* the install a newer RPM package for the same Greenplum major release, a user will have to upgrade the PXF RPM\n+* the RPM installs PXF server into `/usr/local/pxf-gpX` directory (e.g. `/usr/local/pxf-gp6`)\n+* the RPM is relocatable, a user can specify --prefix option when installing the RPM to install the server into another directory\n+* the PXF greenplum extension is initially installed by RPM alongside the PXF server and is not initially active\n+* the PXF greenplum extension is copied into Greenplum install location during `pxf init` command issued by a user after the install\n+* the PXF RPM version number follows 3-number semantic versioning and must be provided during the RPM build process\n+* the PXF RPM release number is usually specified as `1`\n+* example PXF RPM names are : `pxf-gp5-1.2.3-1.el6.x86_64.rpm` and `pxf-gp5-1.2.3-1.el7.x86_64.rpm` \n+\n+## RPM build process\n+\n+To build an RPM, follow these steps:\n+1. Install Greenplum database\n+2. Run `source $GPHOME/greenplum_path.sh` to configure your `PATH` to be able to find `pg_config` program\n+3. Run `make clean rpm` from the top-level directory to build artifacts and assemble the RPM\n+4. The RPM will be available in `build/rpmbuild/RPMS` directory\n+\n+\n+## RPM installation process\n+To install PXF from an RPM:\n+1. Build or download PXF RPM for the corresponding major version of Greenplum. The following example will assume\n+   that PXF version `1.2.3` will be installed to work with with Greenplum 5.\n+2. Decide which OS user will own the PXF installation. If PXF is installed alongside Greenplum, the user that owns the PXF\n+installation should either be the same as the one owning the Greenplum installation or have write privilleges to the\n+Greenplum installation directory. This is necessary to be able to register the PXF Greenplum extension with Greenplum.\n+3. If a previous PXF version has been installed, stop pxf server. \n+4. As a superuser, run `rpm -Uvh pxf-gp5-1.2.3-1.el7.x86_64.rpm` to install the RPM into `/usr/local/pxf-gp5`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQyNjAwNw==", "bodyText": "does this mean that installing a PXF RPM removes the $GPHOME/pxf directory?", "url": "https://github.com/greenplum-db/pxf/pull/361#discussion_r427426007", "createdAt": "2020-05-19T16:13:14Z", "author": {"login": "lisakowen"}, "path": "package/README.md", "diffHunk": "@@ -0,0 +1,55 @@\n+PXF Packaging\n+============\n+\n+PXF consists of 3 groups of artifacts, each developed using a different underlying technology:\n+\n+* Greenplum extension -- written in C, represented by a `pxf.so` library and configuration files\n+* PXF Server -- written in Java, represented by a `pxf.war` file, Tomcat server, dependent JAR files, templates and scripts\n+* Script Cluster Plugin -- written in Go, represented by `pxf-cli` executable\n+\n+When packaged and shipped, PXF is represented by an RPM package on Centos platform and a DEB package on Ubuntu platform,\n+respectively. The package is different for every major Greenplum version that PXF has been compiled with. \n+\n+For example, `pxf-gp5-1.2.3-1.el7.x86_64.rpm` represents an RPM package of PXF version 1.2.3 intended to work with\n+Greenplum 5 on Centos / Redhat 7 operating systems.  \n+\n+\n+## RPM specification\n+On Centos platforms PXF product is packaged as an RPM. The specification on how to build the RPM is provided by the\n+`pxf-gpX.spec` files in this directory. The following key design decisions were made:\n+\n+* the name of the RPM package is `pxf-gpX`, where X is the major Greenplum version (e.g. `pxf-gp5`, `pxf-gp6`)\n+* the install a newer RPM package for the same Greenplum major release, a user will have to upgrade the PXF RPM\n+* the RPM installs PXF server into `/usr/local/pxf-gpX` directory (e.g. `/usr/local/pxf-gp6`)\n+* the RPM is relocatable, a user can specify --prefix option when installing the RPM to install the server into another directory\n+* the PXF greenplum extension is initially installed by RPM alongside the PXF server and is not initially active\n+* the PXF greenplum extension is copied into Greenplum install location during `pxf init` command issued by a user after the install\n+* the PXF RPM version number follows 3-number semantic versioning and must be provided during the RPM build process\n+* the PXF RPM release number is usually specified as `1`\n+* example PXF RPM names are : `pxf-gp5-1.2.3-1.el6.x86_64.rpm` and `pxf-gp5-1.2.3-1.el7.x86_64.rpm` \n+\n+## RPM build process\n+\n+To build an RPM, follow these steps:\n+1. Install Greenplum database\n+2. Run `source $GPHOME/greenplum_path.sh` to configure your `PATH` to be able to find `pg_config` program\n+3. Run `make clean rpm` from the top-level directory to build artifacts and assemble the RPM\n+4. The RPM will be available in `build/rpmbuild/RPMS` directory\n+\n+\n+## RPM installation process\n+To install PXF from an RPM:\n+1. Build or download PXF RPM for the corresponding major version of Greenplum. The following example will assume\n+   that PXF version `1.2.3` will be installed to work with with Greenplum 5.\n+2. Decide which OS user will own the PXF installation. If PXF is installed alongside Greenplum, the user that owns the PXF\n+installation should either be the same as the one owning the Greenplum installation or have write privilleges to the\n+Greenplum installation directory. This is necessary to be able to register the PXF Greenplum extension with Greenplum.\n+3. If a previous PXF version has been installed, stop pxf server. \n+4. As a superuser, run `rpm -Uvh pxf-gp5-1.2.3-1.el7.x86_64.rpm` to install the RPM into `/usr/local/pxf-gp5`\n+5. As a superuser, run `chown gpadmin:gpadmin /usr/local/pxf-gp5` to change ownership of PXF installation to the user `gpadmin`.\n+Specify a different user other than `gpadmin`, if desired.\n+\n+\n+After these steps, the PXF product will be installed and is ready to be configured. If there was a previous installation of\n+PXF for the same major Greenplum version, the files and the runtime directories from the older version will be removed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc5b7e72e95f0f4725a54310a0e7958d7cff60a"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9159231a2ee51c68d5b3220ab68e8b51500f0f5", "author": {"user": {"login": "denalex", "name": "Alexander Denissov"}}, "url": "https://github.com/greenplum-db/pxf/commit/f9159231a2ee51c68d5b3220ab68e8b51500f0f5", "committedDate": "2020-05-19T17:29:30Z", "message": "PR feedback on README"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 68, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}