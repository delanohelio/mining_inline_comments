{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MjY2NDE2", "number": 482, "title": "docs - add upgrade steps for pxf v5.16", "bodyText": "some upgrade steps for the user.  see the 5th step in Step 2 section on doc review site.\ndoc review site link:  http://docs-lisa-pxfv516-relupg.cfapps.io/pxf/5-16/using/upgrade_pxf_rpm.html\nquestion:  wasn't sure about the upgrade steps.  for Hive* profile changes...  not clear to me if this should be specific to Hive accessing Parquet", "createdAt": "2020-11-05T18:47:19Z", "url": "https://github.com/greenplum-db/pxf/pull/482", "merged": true, "mergeCommit": {"oid": "c753cd8a521e2b6b874bea084e5864b39dd7c0ec"}, "closed": true, "closedAt": "2020-11-06T17:43:18Z", "author": {"login": "lisakowen"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZmpgMAH2gAyNTE2MjY2NDE2Ojk4OTIzNzYzZmZhZTcwYTU4YWYyMzNmYTU1YTlhNjEyYzEzMDY4OGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZ6f52gH2gAyNTE2MjY2NDE2OjRmYTAwZjRjMzYyY2RkZGEzMTRmZDBiNmJhZmY5Y2JiNzIyYWY4NDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "98923763ffae70a58af233fa55a9a612c130688f", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/98923763ffae70a58af233fa55a9a612c130688f", "committedDate": "2020-11-05T18:27:04Z", "message": "docs - add upgrade steps for pxf v5.16"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NTY5MjAz", "url": "https://github.com/greenplum-db/pxf/pull/482#pullrequestreview-524569203", "createdAt": "2020-11-05T18:55:42Z", "commit": {"oid": "98923763ffae70a58af233fa55a9a612c130688f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NTkzMzE3", "url": "https://github.com/greenplum-db/pxf/pull/482#pullrequestreview-524593317", "createdAt": "2020-11-05T19:20:54Z", "commit": {"oid": "98923763ffae70a58af233fa55a9a612c130688f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxOToyMDo1NFrOHuSwPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxOToyMzozMVrOHuS4WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMzgwNw==", "bodyText": "not sure what a user should do with Keep this in mind instruction. what would change in their workflow when they create new servers ?", "url": "https://github.com/greenplum-db/pxf/pull/482#discussion_r518303807", "createdAt": "2020-11-05T19:20:54Z", "author": {"login": "denalex"}, "path": "docs/content/upgrade_pxf_rpm.html.md.erb", "diffHunk": "@@ -88,6 +88,13 @@ After you install the new version of PXF, perform the following procedure:\n \n         3. Review any SQL scripts that you may have created that reference the PXF external table, and update column names if required.\n \n+4. **If you are upgrading from PXF version 5.15.x or earlier**:\n+\n+    1. The `pxf.service.user.name` property in the `pxf-site.xml` template file is now commented out by default. Keep this in mind when you configure new PXF servers.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98923763ffae70a58af233fa55a9a612c130688f"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwNTg4MA==", "bodyText": "we should also advise them to change the property value in pxf-site.xml if they do not want to modify the tables.", "url": "https://github.com/greenplum-db/pxf/pull/482#discussion_r518305880", "createdAt": "2020-11-05T19:23:31Z", "author": {"login": "denalex"}, "path": "docs/content/upgrade_pxf_rpm.html.md.erb", "diffHunk": "@@ -88,6 +88,13 @@ After you install the new version of PXF, perform the following procedure:\n \n         3. Review any SQL scripts that you may have created that reference the PXF external table, and update column names if required.\n \n+4. **If you are upgrading from PXF version 5.15.x or earlier**:\n+\n+    1. The `pxf.service.user.name` property in the `pxf-site.xml` template file is now commented out by default. Keep this in mind when you configure new PXF servers.\n+    2. The default value for the `jdbc.pool.property.maximumPoolSize` property is now `15`. If you have previously configured a JDBC server(s) and want that server to use the new default value, you must manually change the property value in the server's `jdbc-site.xml` file.\n+    3. PXF 5.16 disallows specifying relative paths and environment variables in the `CREATE EXTERNAL TABLE` `LOCATION` clause file path. If you previously created any external tables that specified a relative path or environment variable, you must drop each external table, and then re-create it without these constructs.\n+    4. Filter pushdown is enabled by default for queries on external tables that specify the `Hive`, `HiveRC`, or `HiveORC` profiles. If you have previously created an external table that specifies one these profiles and queries are failing with PXF v5.16+, try disabling filter pushdown: drop the external table and re-create it, specifying the `&PPD=false` option in the `LOCATION` clause.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98923763ffae70a58af233fa55a9a612c130688f"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cee3deaf4c290cbbc9e97d1902504b61da53317c", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/cee3deaf4c290cbbc9e97d1902504b61da53317c", "committedDate": "2020-11-05T20:47:56Z", "message": "two ways to disable pushdown"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0Nzk0NTA5", "url": "https://github.com/greenplum-db/pxf/pull/482#pullrequestreview-524794509", "createdAt": "2020-11-06T01:23:37Z", "commit": {"oid": "cee3deaf4c290cbbc9e97d1902504b61da53317c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MjQzNTkz", "url": "https://github.com/greenplum-db/pxf/pull/482#pullrequestreview-525243593", "createdAt": "2020-11-06T15:13:58Z", "commit": {"oid": "cee3deaf4c290cbbc9e97d1902504b61da53317c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNToxMzo1OVrOHux-Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNToxMzo1OVrOHux-Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgxNTI4Mw==", "bodyText": "one these -> one of these", "url": "https://github.com/greenplum-db/pxf/pull/482#discussion_r518815283", "createdAt": "2020-11-06T15:13:59Z", "author": {"login": "dyozie"}, "path": "docs/content/upgrade_pxf_rpm.html.md.erb", "diffHunk": "@@ -88,6 +88,25 @@ After you install the new version of PXF, perform the following procedure:\n \n         3. Review any SQL scripts that you may have created that reference the PXF external table, and update column names if required.\n \n+4. **If you are upgrading from PXF version 5.15.x or earlier**:\n+\n+    1. The `pxf.service.user.name` property in the `pxf-site.xml` template file is now commented out by default. Keep this in mind when you configure new PXF servers.\n+    2. The default value for the `jdbc.pool.property.maximumPoolSize` property is now `15`. If you have previously configured a JDBC server(s) and want that server to use the new default value, you must manually change the property value in the server's `jdbc-site.xml` file.\n+    3. PXF 5.16 disallows specifying relative paths and environment variables in the `CREATE EXTERNAL TABLE` `LOCATION` clause file path. If you previously created any external tables that specified a relative path or environment variable, you must drop each external table, and then re-create it without these constructs.\n+    4. Filter pushdown is enabled by default for queries on external tables that specify the `Hive`, `HiveRC`, or `HiveORC` profiles. If you have previously created an external table that specifies one these profiles and queries are failing with PXF v5.16+, you can disable filter pushdown at the external table-level or at the server level:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cee3deaf4c290cbbc9e97d1902504b61da53317c"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fa00f4c362cddda314fd0b6baff9cbb722af846", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/4fa00f4c362cddda314fd0b6baff9cbb722af846", "committedDate": "2020-11-06T17:34:41Z", "message": "add missing of"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4936, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}