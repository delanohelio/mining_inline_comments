{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMjc5NDIw", "number": 412, "title": "docs - more avro compression codecs, more greenplum type certs", "bodyText": "docs for #392 (compression support) and #401 (more greenplum type to avro string certification)\nin this PR:\n\navro supports bzip2, gz\nmore greenplum types certified", "createdAt": "2020-07-16T15:19:20Z", "url": "https://github.com/greenplum-db/pxf/pull/412", "merged": true, "mergeCommit": {"oid": "0699f345d90819a46e081b50b0595b6d710344c8"}, "closed": true, "closedAt": "2020-08-19T22:32:14Z", "author": {"login": "lisakowen"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0-JYHAH2gAyNDUwMjc5NDIwOjI4Yzc0NTgzZWQ5OTRlMTA1ZDkxN2NjOGZiMTEzY2E2MGI0MzM5Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1jUtdAFqTQ1MDA5NjI2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "28c74583ed994e105d917cc8fb113ca60b4339b9", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/28c74583ed994e105d917cc8fb113ca60b4339b9", "committedDate": "2020-07-14T22:54:30Z", "message": "docs - avro supports bzip2 and xz compression now"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7c46559f4140d10450a88f7b0afd8b2cf523fc8", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/c7c46559f4140d10450a88f7b0afd8b2cf523fc8", "committedDate": "2020-07-16T15:14:22Z", "message": "add date/time type to string write mapping"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDExMjcz", "url": "https://github.com/greenplum-db/pxf/pull/412#pullrequestreview-450011273", "createdAt": "2020-07-16T16:21:57Z", "commit": {"oid": "c7c46559f4140d10450a88f7b0afd8b2cf523fc8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDY2NzQx", "url": "https://github.com/greenplum-db/pxf/pull/412#pullrequestreview-450066741", "createdAt": "2020-07-16T17:33:28Z", "commit": {"oid": "c7c46559f4140d10450a88f7b0afd8b2cf523fc8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzozMzoyOVrOGy1Tmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzozNjowMFrOGy1ZMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk1NTM1NQ==", "bodyText": "Does it really pad to n+1? I thought it would be n.", "url": "https://github.com/greenplum-db/pxf/pull/412#discussion_r455955355", "createdAt": "2020-07-16T17:33:29Z", "author": {"login": "oliverralbertini"}, "path": "docs/content/hdfs_avro.html.md.erb", "diffHunk": "@@ -75,14 +75,18 @@ PXF uses the following data type mapping when writing Avro data:\n | boolean | boolean |\n | bytea | bytes |\n | double | double |\n+| char<sup>1</sup> | string |\n | enum | string |\n | int |  int |\n | real | float |\n-| smallint<sup>1</sup> | int |\n+| smallint<sup>2</sup> | int |\n | text | string |\n+| varchar | string |\n | array ([]), enum, record | string |\n+| date, time, timestamp, timestamptz | string |\n \n-</br><sup>1</sup>&nbsp;PXF converts Greenplum <code>smallint</code> types to <code>int</code> before it writes the Avro data. Be sure to read the field into an <code>int</code>.\n+</br><sup>1</sup>&nbsp;PXF right-pads <code>char[<i>n</i>]</code> types to length <code><i>n</i> + 1</code>, if required, with white space.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7c46559f4140d10450a88f7b0afd8b2cf523fc8"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk1NTg0MQ==", "bodyText": "xz also would be impacted by CODEC_LEVEL", "url": "https://github.com/greenplum-db/pxf/pull/412#discussion_r455955841", "createdAt": "2020-07-16T17:34:22Z", "author": {"login": "oliverralbertini"}, "path": "docs/content/hdfs_avro.html.md.erb", "diffHunk": "@@ -150,7 +154,7 @@ The PXF `hdfs:avro` profile supports encoding- and compression-related write opt\n \n | Write Option  | Value Description |\n |-------|-------------------------------------|\n-| COMPRESSION_CODEC    | The compression codec alias. Supported compression codecs for writing Avro data include: `snappy`, `deflate`, and `uncompressed` . If this option is not provided, PXF compresses the data using `deflate` compression. |\n+| COMPRESSION_CODEC    | The compression codec alias. Supported compression codecs for writing Avro data include: `bzip2`, `xz`, `snappy`, `deflate`, and `uncompressed` . If this option is not provided, PXF compresses the data using `deflate` compression. |\n | CODEC_LEVEL    | The compression level (applicable to the `deflate` codec only). This level controls the trade-off between speed and compression. Valid values are 1 (fastest) to 9 (most compressed). The default compression level when using the `deflate` codec is 6. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7c46559f4140d10450a88f7b0afd8b2cf523fc8"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk1Njc4NA==", "bodyText": "see here for details: \n  \n    \n      pxf/server/pxf-hdfs/src/main/java/org/greenplum/pxf/plugins/hdfs/AvroFileAccessor.java\n    \n    \n         Line 162\n      in\n      e18ee9e\n    \n    \n    \n    \n\n        \n          \n           writer.setCodec(CodecFactory.xzCodec(codecCompressionLevel));", "url": "https://github.com/greenplum-db/pxf/pull/412#discussion_r455956784", "createdAt": "2020-07-16T17:36:00Z", "author": {"login": "oliverralbertini"}, "path": "docs/content/hdfs_avro.html.md.erb", "diffHunk": "@@ -150,7 +154,7 @@ The PXF `hdfs:avro` profile supports encoding- and compression-related write opt\n \n | Write Option  | Value Description |\n |-------|-------------------------------------|\n-| COMPRESSION_CODEC    | The compression codec alias. Supported compression codecs for writing Avro data include: `snappy`, `deflate`, and `uncompressed` . If this option is not provided, PXF compresses the data using `deflate` compression. |\n+| COMPRESSION_CODEC    | The compression codec alias. Supported compression codecs for writing Avro data include: `bzip2`, `xz`, `snappy`, `deflate`, and `uncompressed` . If this option is not provided, PXF compresses the data using `deflate` compression. |\n | CODEC_LEVEL    | The compression level (applicable to the `deflate` codec only). This level controls the trade-off between speed and compression. Valid values are 1 (fastest) to 9 (most compressed). The default compression level when using the `deflate` codec is 6. |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk1NTg0MQ=="}, "originalCommit": {"oid": "c7c46559f4140d10450a88f7b0afd8b2cf523fc8"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79c7c014d6abcf7dae971d58fa26cb62907398ff", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/79c7c014d6abcf7dae971d58fa26cb62907398ff", "committedDate": "2020-07-16T17:49:16Z", "message": "address comments from oliver"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDk2MjY2", "url": "https://github.com/greenplum-db/pxf/pull/412#pullrequestreview-450096266", "createdAt": "2020-07-16T18:13:22Z", "commit": {"oid": "79c7c014d6abcf7dae971d58fa26cb62907398ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4824, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}