{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNTI2NTE2", "number": 499, "title": "Docker: Remove go dep from Dockerfiles", "bodyText": "", "createdAt": "2020-11-18T22:23:03Z", "url": "https://github.com/greenplum-db/pxf/pull/499", "merged": true, "mergeCommit": {"oid": "64f0101b942b0885106d202a6de15c47567f1e45"}, "closed": true, "closedAt": "2020-11-18T23:01:06Z", "author": {"login": "frankgh"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdd1z51AH2gAyNTIzNTI2NTE2OjkwYTY4ZjhiYThjYTlmNDMxNjEyZmQ1ZjJiZWRmNWU0YzhhN2FlYjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdd2XOkgFqTUzMzk1MTgyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8", "author": {"user": null}, "url": "https://github.com/greenplum-db/pxf/commit/90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8", "committedDate": "2020-11-18T22:22:42Z", "message": "Docker: Remove go dep from Dockerfiles"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTMxNDQ1", "url": "https://github.com/greenplum-db/pxf/pull/499#pullrequestreview-533931445", "createdAt": "2020-11-18T22:24:20Z", "commit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjoyNDoyMVrOH2EyfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjozMDozOFrOH2E-7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2MzYxMw==", "bodyText": "We can get rid of this reference to dep.", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526463613", "createdAt": "2020-11-18T22:24:21Z", "author": {"login": "bradfordb-vmware"}, "path": "README.md", "diffHunk": "@@ -91,7 +91,6 @@ To build PXF, you must have:\n     Once you have installed Go, you will need the `dep` and `ginkgo` tools, which install Go dependencies and run Go tests,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2Njc5Nw==", "bodyText": "Small suggestion: In make, either $(foo) or ${foo} is a valid reference. One convention that I have seen in practice is exclusively using $(foo) when foo is a variable defined by make (e.g., $(GO_MOD_CACHE)) and using ${foo} when foo is an environment variable (e.g., ${HOME}). It can be small visual clue where the variable is coming from.", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526466797", "createdAt": "2020-11-18T22:30:38Z", "author": {"login": "bradfordb-vmware"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -25,6 +26,10 @@ help:\n all: test stage install\n \n build:\n+\t@if [ -d $(HOME)/.go-dep-cached-sources ] && [ ! -d ${GO_MOD_CACHE}/mod ]; then \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8628f761c559c2beb7d8df74d6091014b70b1a14", "author": {"user": null}, "url": "https://github.com/greenplum-db/pxf/commit/8628f761c559c2beb7d8df74d6091014b70b1a14", "committedDate": "2020-11-18T22:40:47Z", "message": "Address PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTUxODI2", "url": "https://github.com/greenplum-db/pxf/pull/499#pullrequestreview-533951826", "createdAt": "2020-11-18T23:01:16Z", "commit": {"oid": "8628f761c559c2beb7d8df74d6091014b70b1a14"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMToxN1rOH2F0zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMToxN1rOH2F0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ4MDU5MQ==", "bodyText": "Is this for Ci to pick dependencies from pxf-build-dependencies extracted tarball ? Will it work for both dep and mod ? I guess I don't like .go-dep-cached-sources name if those are supposed to be modules, but if we have to support both PXF 5 and 6 with the same dependency cache artifacts, then it's ok.", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526480591", "createdAt": "2020-11-18T23:01:17Z", "author": {"login": "denalex"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -25,12 +26,16 @@ help:\n all: test stage install\n \n build:\n-\tgo build -v ${LDFLAGS}\n-\tgo install ${LDFLAGS}\n+\t@if [ -d ${HOME}/.go-dep-cached-sources ] && [ ! -d $(GO_MOD_CACHE)/mod ]; then \\\n+\t\tmkdir -p $(GO_MOD_CACHE); \\\n+\t\tln -s ${HOME}/.go-dep-cached-sources $(GO_MOD_CACHE)/mod; \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8628f761c559c2beb7d8df74d6091014b70b1a14"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4966, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}