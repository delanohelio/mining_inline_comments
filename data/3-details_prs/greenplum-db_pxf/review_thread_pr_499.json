{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNTI2NTE2", "number": 499, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjoyNDoyMVrOE6ytsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMToxNlrOE6zYbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDgzNzYzOnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjoyNDoyMVrOH2EyfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjozNjo1MlrOH2FKUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2MzYxMw==", "bodyText": "We can get rid of this reference to dep.", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526463613", "createdAt": "2020-11-18T22:24:21Z", "author": {"login": "bradfordb-vmware"}, "path": "README.md", "diffHunk": "@@ -91,7 +91,6 @@ To build PXF, you must have:\n     Once you have installed Go, you will need the `dep` and `ginkgo` tools, which install Go dependencies and run Go tests,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2OTcxNQ==", "bodyText": "good catch", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526469715", "createdAt": "2020-11-18T22:36:52Z", "author": {"login": "frankgh"}, "path": "README.md", "diffHunk": "@@ -91,7 +91,6 @@ To build PXF, you must have:\n     Once you have installed Go, you will need the `dep` and `ginkgo` tools, which install Go dependencies and run Go tests,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2MzYxMw=="}, "originalCommit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDg1Nzg1OnYy", "diffSide": "RIGHT", "path": "cli/go/src/pxf-cli/Makefile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjozMDozOFrOH2E-7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjozODowN1rOH2FMrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2Njc5Nw==", "bodyText": "Small suggestion: In make, either $(foo) or ${foo} is a valid reference. One convention that I have seen in practice is exclusively using $(foo) when foo is a variable defined by make (e.g., $(GO_MOD_CACHE)) and using ${foo} when foo is an environment variable (e.g., ${HOME}). It can be small visual clue where the variable is coming from.", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526466797", "createdAt": "2020-11-18T22:30:38Z", "author": {"login": "bradfordb-vmware"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -25,6 +26,10 @@ help:\n all: test stage install\n \n build:\n+\t@if [ -d $(HOME)/.go-dep-cached-sources ] && [ ! -d ${GO_MOD_CACHE}/mod ]; then \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3MDMxNg==", "bodyText": "so these should be reversed?", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526470316", "createdAt": "2020-11-18T22:38:07Z", "author": {"login": "frankgh"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -25,6 +26,10 @@ help:\n all: test stage install\n \n build:\n+\t@if [ -d $(HOME)/.go-dep-cached-sources ] && [ ! -d ${GO_MOD_CACHE}/mod ]; then \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2Njc5Nw=="}, "originalCommit": {"oid": "90a68f8ba8ca9f431612fd5f2bedf5e4c8a7aeb8"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDk0NzAyOnYy", "diffSide": "RIGHT", "path": "cli/go/src/pxf-cli/Makefile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMToxN1rOH2F0zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMToxN1rOH2F0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ4MDU5MQ==", "bodyText": "Is this for Ci to pick dependencies from pxf-build-dependencies extracted tarball ? Will it work for both dep and mod ? I guess I don't like .go-dep-cached-sources name if those are supposed to be modules, but if we have to support both PXF 5 and 6 with the same dependency cache artifacts, then it's ok.", "url": "https://github.com/greenplum-db/pxf/pull/499#discussion_r526480591", "createdAt": "2020-11-18T23:01:17Z", "author": {"login": "denalex"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -25,12 +26,16 @@ help:\n all: test stage install\n \n build:\n-\tgo build -v ${LDFLAGS}\n-\tgo install ${LDFLAGS}\n+\t@if [ -d ${HOME}/.go-dep-cached-sources ] && [ ! -d $(GO_MOD_CACHE)/mod ]; then \\\n+\t\tmkdir -p $(GO_MOD_CACHE); \\\n+\t\tln -s ${HOME}/.go-dep-cached-sources $(GO_MOD_CACHE)/mod; \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8628f761c559c2beb7d8df74d6091014b70b1a14"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3557, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}