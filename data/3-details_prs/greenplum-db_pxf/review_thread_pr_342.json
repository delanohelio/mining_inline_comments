{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NTA5MzY5", "number": 342, "reviewThreads": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo1ODo1NlrOD0LnsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODowNDo0MlrOD3vdoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDQyOTI5OnYy", "diffSide": "RIGHT", "path": "Makefile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo1ODo1NlrOGI_pjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo1ODo1NlrOGI_pjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA4NDYyMg==", "bodyText": "should we just fail here instead? or maybe fail if the path does   not exist?", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412084622", "createdAt": "2020-04-21T10:58:56Z", "author": {"login": "frankgh"}, "path": "Makefile", "diffHunk": "@@ -1,18 +1,27 @@\n+ifeq \"$(GPHOME)\" \"\"\n+    GPHOME = \"/usr/local/greenplum-db\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDUxMjE0OnYy", "diffSide": "RIGHT", "path": "Makefile", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMToyMDowM1rOGJAapQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo0MzowOFrOGJQhqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA5NzE4OQ==", "bodyText": "Should we take this opportunity to bump the version of our PXF server to 5.12.0-SNAPSHOT here https://github.com/greenplum-db/pxf/blob/master/server/gradle.properties? Maybe it's an opportunity to start using snapshots moving forward. This might break CI code that assumes the version number is major, minor, rev", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412097189", "createdAt": "2020-04-21T11:20:03Z", "author": {"login": "frankgh"}, "path": "Makefile", "diffHunk": "@@ -1,18 +1,27 @@\n+ifeq \"$(GPHOME)\" \"\"\n+    GPHOME = \"/usr/local/greenplum-db\"\n+endif\n+\n ifeq \"$(PXF_HOME)\" \"\"\n-    ifneq \"$(GPHOME)\" \"\"\n-        PXF_HOME = \"$(GPHOME)/pxf\"\n-    endif\n+    PXF_HOME = \"$(GPHOME)/pxf\"\n endif\n \n SHELL := /bin/bash\n \n+export GPHOME\n export PXF_HOME\n \n+PXF_VERSION := $(shell grep version= server/gradle.properties | cut -d= -f2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM2MDc1MQ==", "bodyText": "I agree, this might be the right time to start versioning all our tarballs on commit, and reserve the non SHA versions for releases.", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412360751", "createdAt": "2020-04-21T17:42:32Z", "author": {"login": "oliverralbertini"}, "path": "Makefile", "diffHunk": "@@ -1,18 +1,27 @@\n+ifeq \"$(GPHOME)\" \"\"\n+    GPHOME = \"/usr/local/greenplum-db\"\n+endif\n+\n ifeq \"$(PXF_HOME)\" \"\"\n-    ifneq \"$(GPHOME)\" \"\"\n-        PXF_HOME = \"$(GPHOME)/pxf\"\n-    endif\n+    PXF_HOME = \"$(GPHOME)/pxf\"\n endif\n \n SHELL := /bin/bash\n \n+export GPHOME\n export PXF_HOME\n \n+PXF_VERSION := $(shell grep version= server/gradle.properties | cut -d= -f2)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA5NzE4OQ=="}, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM2MTEzMA==", "bodyText": "perhaps we can have some logic to check if we are on a git tag, otherwise we tack on a SHA", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412361130", "createdAt": "2020-04-21T17:43:08Z", "author": {"login": "oliverralbertini"}, "path": "Makefile", "diffHunk": "@@ -1,18 +1,27 @@\n+ifeq \"$(GPHOME)\" \"\"\n+    GPHOME = \"/usr/local/greenplum-db\"\n+endif\n+\n ifeq \"$(PXF_HOME)\" \"\"\n-    ifneq \"$(GPHOME)\" \"\"\n-        PXF_HOME = \"$(GPHOME)/pxf\"\n-    endif\n+    PXF_HOME = \"$(GPHOME)/pxf\"\n endif\n \n SHELL := /bin/bash\n \n+export GPHOME\n export PXF_HOME\n \n+PXF_VERSION := $(shell grep version= server/gradle.properties | cut -d= -f2)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA5NzE4OQ=="}, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDUyMjExOnYy", "diffSide": "RIGHT", "path": "package/install_component", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMToyMjoyN1rOGJAggw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxODowMjo0NFrOGJRY1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA5ODY5MQ==", "bodyText": "minor: this does not necessarily have to be an old version of PXF\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                echo \"Removing old PXF ...\"\n          \n          \n            \n                echo \"Removing existing PXF ...\"", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412098691", "createdAt": "2020-04-21T11:22:27Z", "author": {"login": "frankgh"}, "path": "package/install_component", "diffHunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\n+PXF_VERSION=$(<\"${CWDIR}/pxf/version\")\n+\n+function check_gphome() {\n+    if [[ -z \"${GPHOME}\" ]]; then\n+        echo \"Error: environment variable GPHOME is not set\"\n+        exit 1\n+    fi\n+\n+    if [[ ! -f ${GPHOME}/greenplum_path.sh ]]; then\n+        echo \"Error: environment variable GPHOME must be set to a valid Greenplum installation\"\n+        exit 1\n+    fi\n+}\n+\n+function remove_old_component() {\n+    echo \"Removing old PXF ...\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM3NTI1Mg==", "bodyText": "thanks, will update, but this generally would require way more logic to check for existing PXF install, make sure it is stopped / killed, and removing bits, which will be a separate story.", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412375252", "createdAt": "2020-04-21T18:02:44Z", "author": {"login": "denalex"}, "path": "package/install_component", "diffHunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\n+PXF_VERSION=$(<\"${CWDIR}/pxf/version\")\n+\n+function check_gphome() {\n+    if [[ -z \"${GPHOME}\" ]]; then\n+        echo \"Error: environment variable GPHOME is not set\"\n+        exit 1\n+    fi\n+\n+    if [[ ! -f ${GPHOME}/greenplum_path.sh ]]; then\n+        echo \"Error: environment variable GPHOME must be set to a valid Greenplum installation\"\n+        exit 1\n+    fi\n+}\n+\n+function remove_old_component() {\n+    echo \"Removing old PXF ...\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA5ODY5MQ=="}, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDUyMzQyOnYy", "diffSide": "RIGHT", "path": "package/install_component", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMToyMjo1M1rOGJAhZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMToyMjo1M1rOGJAhZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA5ODkxOA==", "bodyText": "minor:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                echo \"Installing new PXF version ${PXF_VERSION} ...\"\n          \n          \n            \n                echo \"Installing PXF version ${PXF_VERSION} ...\"", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412098918", "createdAt": "2020-04-21T11:22:53Z", "author": {"login": "frankgh"}, "path": "package/install_component", "diffHunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\n+PXF_VERSION=$(<\"${CWDIR}/pxf/version\")\n+\n+function check_gphome() {\n+    if [[ -z \"${GPHOME}\" ]]; then\n+        echo \"Error: environment variable GPHOME is not set\"\n+        exit 1\n+    fi\n+\n+    if [[ ! -f ${GPHOME}/greenplum_path.sh ]]; then\n+        echo \"Error: environment variable GPHOME must be set to a valid Greenplum installation\"\n+        exit 1\n+    fi\n+}\n+\n+function remove_old_component() {\n+    echo \"Removing old PXF ...\"\n+\n+}\n+\n+function install_new_component() {\n+    echo \"Installing new PXF version ${PXF_VERSION} ...\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDU1MDM3OnYy", "diffSide": "RIGHT", "path": "package/install_component", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMToyOTozNVrOGJAxhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMToyOTozNVrOGJAxhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjEwMzA0Nw==", "bodyText": "I think we should allow a $PXF_HOME environment variable to be defined, and if not. defined then PXF_HOME=GPHOME/pxf. We install the PXF Server + CLI components in PXF_HOME, and the extension inside GPHOME", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412103047", "createdAt": "2020-04-21T11:29:35Z", "author": {"login": "frankgh"}, "path": "package/install_component", "diffHunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\n+PXF_VERSION=$(<\"${CWDIR}/pxf/version\")\n+\n+function check_gphome() {\n+    if [[ -z \"${GPHOME}\" ]]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702cb878e3c394f2fb512d836ca6cac679d4e8be"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NTc0ODkyOnYy", "diffSide": "RIGHT", "path": "package/install_component", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxMDo0Mzo0MlrOGJvxiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxMDo0Mzo0MlrOGJvxiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg3MzA5OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    echo \"Removing existing PXF ${OLD_PXF_VERSION}from ${PXF_HOME} ...\"\n          \n          \n            \n                    echo \"Removing existing PXF ${OLD_PXF_VERSION} from ${PXF_HOME} ...\"", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r412873099", "createdAt": "2020-04-22T10:43:42Z", "author": {"login": "frankgh"}, "path": "package/install_component", "diffHunk": "@@ -0,0 +1,84 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\n+PXF_VERSION=$(<\"${CWDIR}/pxf/version\")\n+\n+function show_help() {\n+    echo \"This script installs PXF Greenplum Extension and PXF Server\"\n+    echo \"to install the PXF Extension :\"\n+    echo \"  set GPHOME environment variable to the installation directory of Greenplum Database\"\n+    echo \"to install the PXF Server :\"\n+    echo \"  either set PXF_HOME environment variable to the target PXF Server installation directory\"\n+    echo \"  or     set GPHOME   environment variable to have PXF Server installed into \\${GPHOME}/pxf\"\n+    echo \"current values:\"\n+    echo \"  GPHOME   = ${GPHOME:-<unset>}\"\n+    echo \"  PXF_HOME = ${PXF_HOME:-<unset>}\"\n+}\n+\n+function check_status() {\n+    if [ $1 -ne 0 ]; then\n+        echo \"Error: Installation failed\"\n+        exit $1\n+    fi\n+}\n+\n+function check_gphome() {\n+    if [[ -z \"${GPHOME}\" ]]; then\n+        if [[ -z \"${PXF_HOME}\" ]]; then\n+            echo \"Error: environment variables GPHOME and PXF_HOME are not set\"\n+            exit 1\n+        fi\n+    else\n+        if [[ ! -f ${GPHOME}/greenplum_path.sh ]]; then\n+            echo \"Error: environment variable GPHOME must be set to a valid Greenplum installation\"\n+            exit 1\n+        fi\n+        if [[ -z \"${PXF_HOME}\" ]]; then\n+            PXF_HOME=\"${GPHOME}/pxf\"\n+        fi\n+    fi\n+}\n+\n+function remove_old_component() {\n+    if [[ ! -z \"${PXF_HOME}\" && -d ${PXF_HOME} ]]; then\n+        if [[ -f ${PXF_HOME}/version ]]; then\n+            OLD_PXF_VERSION=\"version $(<\"${PXF_HOME}/version\") \"\n+        fi\n+\n+        echo \"Removing existing PXF ${OLD_PXF_VERSION}from ${PXF_HOME} ...\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bca5d269e5bdd37d8af26ce13e84f06394bd75c"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NzY2ODMxOnYy", "diffSide": "RIGHT", "path": "automation/Makefile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo0MToxNlrOGOJ4Rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo0MToxNlrOGOJ4Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NTExMA==", "bodyText": "We should take the opportunity to switch to $() notation rather than ``.", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417495110", "createdAt": "2020-04-29T17:41:16Z", "author": {"login": "oliverralbertini"}, "path": "automation/Makefile", "diffHunk": "@@ -91,7 +91,7 @@ symlink_pxf_jars:\n \t\tmkdir -p $(PXF_HOME)/tmp && \\\n \t\tcd $(PXF_HOME)/tmp && \\\n \t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -E -e 's/-[0-9]+[a-zA-Z0-9\\.-]*.jar/.jar/'`; \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NzY4MTU1OnYy", "diffSide": "RIGHT", "path": "cli/go/src/pxf-cli/Makefile", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo0NDo0OFrOGOKA6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMToxMzo1NVrOGORPMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NzMyMQ==", "bodyText": "is $PXF_ROOT_DIR/version a script? I think you are missing a cat or <:\nPXF_VERSION ?= $(shell < $(PXF_ROOT_DIR)/version)", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417497321", "createdAt": "2020-04-29T17:44:48Z", "author": {"login": "oliverralbertini"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -1,28 +1,30 @@\n-.PHONY: all depend build tar install test clean help\n+include ../../../../common.mk\n+\n+.PHONY: all depend build stage install test clean help\n .DEFAULT_GOAL := build\n \n TARGET := $(shell echo $${PWD\\#\\#*/})\n PXF_ROOT_DIR := $(shell cd ../../../.. && pwd)\n-GO_DEP_CACHE := ${PXF_ROOT_DIR}/cli/go/pkg/dep\n PXF_SERVER_DIR := ${PXF_ROOT_DIR}/server\n-PXF_STAGING_DIR := ${PXF_SERVER_DIR}/build/stage/bin\n-PXF_SERVICE_SCRIPTS := ${PXF_SERVER_DIR}/pxf-service/src/scripts\n-PXF_VERSION := $(shell grep version= ${PXF_SERVER_DIR}/gradle.properties | cut -d= -f2)\n+PXF_CLI_DIR := ${PXF_ROOT_DIR}/cli\n+PXF_VERSION ?= $(shell $(PXF_ROOT_DIR)/version)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NzgyMA==", "bodyText": "maybe the PXF_VERSION should also be set in common.mk", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417497820", "createdAt": "2020-04-29T17:45:37Z", "author": {"login": "oliverralbertini"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -1,28 +1,30 @@\n-.PHONY: all depend build tar install test clean help\n+include ../../../../common.mk\n+\n+.PHONY: all depend build stage install test clean help\n .DEFAULT_GOAL := build\n \n TARGET := $(shell echo $${PWD\\#\\#*/})\n PXF_ROOT_DIR := $(shell cd ../../../.. && pwd)\n-GO_DEP_CACHE := ${PXF_ROOT_DIR}/cli/go/pkg/dep\n PXF_SERVER_DIR := ${PXF_ROOT_DIR}/server\n-PXF_STAGING_DIR := ${PXF_SERVER_DIR}/build/stage/bin\n-PXF_SERVICE_SCRIPTS := ${PXF_SERVER_DIR}/pxf-service/src/scripts\n-PXF_VERSION := $(shell grep version= ${PXF_SERVER_DIR}/gradle.properties | cut -d= -f2)\n+PXF_CLI_DIR := ${PXF_ROOT_DIR}/cli\n+PXF_VERSION ?= $(shell $(PXF_ROOT_DIR)/version)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NzMyMQ=="}, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUyMzI1Mg==", "bodyText": "good point on missing cat, wonder how it works now then ? Including in common.mk will be a problem, though, as the path to version file is different from different Makefiles (go Makefile is buried too deep from the top)", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417523252", "createdAt": "2020-04-29T18:27:32Z", "author": {"login": "denalex"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -1,28 +1,30 @@\n-.PHONY: all depend build tar install test clean help\n+include ../../../../common.mk\n+\n+.PHONY: all depend build stage install test clean help\n .DEFAULT_GOAL := build\n \n TARGET := $(shell echo $${PWD\\#\\#*/})\n PXF_ROOT_DIR := $(shell cd ../../../.. && pwd)\n-GO_DEP_CACHE := ${PXF_ROOT_DIR}/cli/go/pkg/dep\n PXF_SERVER_DIR := ${PXF_ROOT_DIR}/server\n-PXF_STAGING_DIR := ${PXF_SERVER_DIR}/build/stage/bin\n-PXF_SERVICE_SCRIPTS := ${PXF_SERVER_DIR}/pxf-service/src/scripts\n-PXF_VERSION := $(shell grep version= ${PXF_SERVER_DIR}/gradle.properties | cut -d= -f2)\n+PXF_CLI_DIR := ${PXF_ROOT_DIR}/cli\n+PXF_VERSION ?= $(shell $(PXF_ROOT_DIR)/version)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NzMyMQ=="}, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxNTY2NQ==", "bodyText": "I think it's grabbing the version from somewhere else (I notice the ?= assignment which allows previous values to live on).", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417615665", "createdAt": "2020-04-29T21:13:55Z", "author": {"login": "oliverralbertini"}, "path": "cli/go/src/pxf-cli/Makefile", "diffHunk": "@@ -1,28 +1,30 @@\n-.PHONY: all depend build tar install test clean help\n+include ../../../../common.mk\n+\n+.PHONY: all depend build stage install test clean help\n .DEFAULT_GOAL := build\n \n TARGET := $(shell echo $${PWD\\#\\#*/})\n PXF_ROOT_DIR := $(shell cd ../../../.. && pwd)\n-GO_DEP_CACHE := ${PXF_ROOT_DIR}/cli/go/pkg/dep\n PXF_SERVER_DIR := ${PXF_ROOT_DIR}/server\n-PXF_STAGING_DIR := ${PXF_SERVER_DIR}/build/stage/bin\n-PXF_SERVICE_SCRIPTS := ${PXF_SERVER_DIR}/pxf-service/src/scripts\n-PXF_VERSION := $(shell grep version= ${PXF_SERVER_DIR}/gradle.properties | cut -d= -f2)\n+PXF_CLI_DIR := ${PXF_ROOT_DIR}/cli\n+PXF_VERSION ?= $(shell $(PXF_ROOT_DIR)/version)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NzMyMQ=="}, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NzY5NjkxOnYy", "diffSide": "RIGHT", "path": "concourse/scripts/build.bash", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo0ODo0OVrOGOKK1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODo0ODowMFrOGOMU9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5OTg2MQ==", "bodyText": "can't this be done with make now?", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417499861", "createdAt": "2020-04-29T17:48:49Z", "author": {"login": "oliverralbertini"}, "path": "concourse/scripts/build.bash", "diffHunk": "@@ -26,39 +23,17 @@ function install_gpdb() {\n function compile_pxf_protocol_extension() {\n     source \"${GPHOME}/greenplum_path.sh\"\n     if [[ ${TARGET_OS} == \"rhel6\" ]]; then\n-\t    source /opt/gcc_env.sh\n+        source /opt/gcc_env.sh\n     fi\n-\n-    USE_PGXS=1 make -C \"pxf-protocol-extension_src\"\n+    source /etc/bashrc\n+    make -C \"${PWD}/pxf_src\" tar\n }\n \n function package_pxf_protocol_extension() {\n-\n-    # store latest commit SHA\n-    pushd pxf-protocol-extension_src > /dev/null\n-    echo $(git rev-parse --verify HEAD) > commit.sha\n-    echo ${PPE_VERSION} > version\n-    popd > /dev/null\n-\n-    # establish OS-specific package name\n-    local package_name=ppe-gpdb${GPDB_MAJOR_VERSION}-${PPE_VERSION}-${TARGET_OS}-${TARGET_AR}\n-\n-    # prepare directory layout for artifacts\n-    mkdir -p dist/${package_name}/{lib/postgresql,share/postgresql/extension}\n-\n-    # place artifacts into appropriate locations\n-    cp pxf-protocol-extension_src/pxf.so dist/${package_name}/lib/postgresql/\n-    cp pxf-protocol-extension_src/pxf*.{sql,control} dist/${package_name}/share/postgresql/extension/\n-    cp pxf-protocol-extension_src/{commit.sha,version,concourse/scripts/install_component.bash} dist/${package_name}\n-\n-    # package artifacts into a tarball\n-    pushd dist > /dev/null\n-    tar cvzf ${package_name}.tar.gz ${package_name}\n-    popd > /dev/null\n-\n     # verify contents\n-    ls -al dist\n-    tar -tvzf dist/${package_name}.tar.gz\n+    ls -al pxf_src/build/dist\n+    tar -tvzf pxf_src/build/dist/pxf-*.tar.gz\n+    cp pxf_src/build/dist/pxf-*.tar.gz dist", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUzNTIyMw==", "bodyText": "I don't think it belongs in Makefile, this just list the content of the tarball and copies it into CI job's output location.", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417535223", "createdAt": "2020-04-29T18:48:00Z", "author": {"login": "denalex"}, "path": "concourse/scripts/build.bash", "diffHunk": "@@ -26,39 +23,17 @@ function install_gpdb() {\n function compile_pxf_protocol_extension() {\n     source \"${GPHOME}/greenplum_path.sh\"\n     if [[ ${TARGET_OS} == \"rhel6\" ]]; then\n-\t    source /opt/gcc_env.sh\n+        source /opt/gcc_env.sh\n     fi\n-\n-    USE_PGXS=1 make -C \"pxf-protocol-extension_src\"\n+    source /etc/bashrc\n+    make -C \"${PWD}/pxf_src\" tar\n }\n \n function package_pxf_protocol_extension() {\n-\n-    # store latest commit SHA\n-    pushd pxf-protocol-extension_src > /dev/null\n-    echo $(git rev-parse --verify HEAD) > commit.sha\n-    echo ${PPE_VERSION} > version\n-    popd > /dev/null\n-\n-    # establish OS-specific package name\n-    local package_name=ppe-gpdb${GPDB_MAJOR_VERSION}-${PPE_VERSION}-${TARGET_OS}-${TARGET_AR}\n-\n-    # prepare directory layout for artifacts\n-    mkdir -p dist/${package_name}/{lib/postgresql,share/postgresql/extension}\n-\n-    # place artifacts into appropriate locations\n-    cp pxf-protocol-extension_src/pxf.so dist/${package_name}/lib/postgresql/\n-    cp pxf-protocol-extension_src/pxf*.{sql,control} dist/${package_name}/share/postgresql/extension/\n-    cp pxf-protocol-extension_src/{commit.sha,version,concourse/scripts/install_component.bash} dist/${package_name}\n-\n-    # package artifacts into a tarball\n-    pushd dist > /dev/null\n-    tar cvzf ${package_name}.tar.gz ${package_name}\n-    popd > /dev/null\n-\n     # verify contents\n-    ls -al dist\n-    tar -tvzf dist/${package_name}.tar.gz\n+    ls -al pxf_src/build/dist\n+    tar -tvzf pxf_src/build/dist/pxf-*.tar.gz\n+    cp pxf_src/build/dist/pxf-*.tar.gz dist", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5OTg2MQ=="}, "originalCommit": {"oid": "9847fb0da1237d83cb9d8c4abfddee06e344bc7c"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NzcwMjkyOnYy", "diffSide": "RIGHT", "path": "concourse/scripts/install_hadoop.bash", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo1MDoxOVrOGOKOpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODo1Mjo0MVrOGOMf4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwMDgzOQ==", "bodyText": "typo", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417500839", "createdAt": "2020-04-29T17:50:19Z", "author": {"login": "oliverralbertini"}, "path": "concourse/scripts/install_hadoop.bash", "diffHunk": "@@ -12,8 +12,14 @@ REMOTE_GPHD_ROOT=~centos/singlecluster\n function install_hadoop_single_cluster() {\n \tlocal hadoop_ip=${1}\n \n-\ttar -xzf pxf_tarball/pxf.tar.gz -C /tmp\n-\tcp /tmp/pxf/lib/pxf-hbase-*.jar \"${LOCAL_GPHD_ROOT}/hbase/lib\"\n+\ttar -xzf pxf_tarball/pxf*.tar.gz -C /tmp\n+\tif [[ -d /tmp/pxf/lib ]]; then\n+\t    # regular tarball based install (old)\n+\t    cp /tmp/pxf/lib/pxf-hbase-*.jar \"${LOCAL_GPHD_ROOT}/hbase/lib\"\n+\telse\n+\t    # componet tarball based install (new)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwMTcxMg==", "bodyText": "Do you want to do PXF_COMPONENT flag like in install_pxf.bash?", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417501712", "createdAt": "2020-04-29T17:51:39Z", "author": {"login": "oliverralbertini"}, "path": "concourse/scripts/install_hadoop.bash", "diffHunk": "@@ -12,8 +12,14 @@ REMOTE_GPHD_ROOT=~centos/singlecluster\n function install_hadoop_single_cluster() {\n \tlocal hadoop_ip=${1}\n \n-\ttar -xzf pxf_tarball/pxf.tar.gz -C /tmp\n-\tcp /tmp/pxf/lib/pxf-hbase-*.jar \"${LOCAL_GPHD_ROOT}/hbase/lib\"\n+\ttar -xzf pxf_tarball/pxf*.tar.gz -C /tmp\n+\tif [[ -d /tmp/pxf/lib ]]; then\n+\t    # regular tarball based install (old)\n+\t    cp /tmp/pxf/lib/pxf-hbase-*.jar \"${LOCAL_GPHD_ROOT}/hbase/lib\"\n+\telse\n+\t    # componet tarball based install (new)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwMDgzOQ=="}, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUzODAxNg==", "bodyText": "thanks for noticing the typo. As for PXF_COMPONENT, maybe , this was done before it and here we can actually look at what we got, in other cases the code was expanding the tarball right into GPHOME/pxf, here we're expanding into /tmp. Maybe we will revisit once we change tarball into RPM, will leave this as is for now.", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417538016", "createdAt": "2020-04-29T18:52:41Z", "author": {"login": "denalex"}, "path": "concourse/scripts/install_hadoop.bash", "diffHunk": "@@ -12,8 +12,14 @@ REMOTE_GPHD_ROOT=~centos/singlecluster\n function install_hadoop_single_cluster() {\n \tlocal hadoop_ip=${1}\n \n-\ttar -xzf pxf_tarball/pxf.tar.gz -C /tmp\n-\tcp /tmp/pxf/lib/pxf-hbase-*.jar \"${LOCAL_GPHD_ROOT}/hbase/lib\"\n+\ttar -xzf pxf_tarball/pxf*.tar.gz -C /tmp\n+\tif [[ -d /tmp/pxf/lib ]]; then\n+\t    # regular tarball based install (old)\n+\t    cp /tmp/pxf/lib/pxf-hbase-*.jar \"${LOCAL_GPHD_ROOT}/hbase/lib\"\n+\telse\n+\t    # componet tarball based install (new)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwMDgzOQ=="}, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NzcxOTc2OnYy", "diffSide": "RIGHT", "path": "concourse/scripts/test.bash", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo1NDozMVrOGOKZZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODoyMzo0NFrOGOLdrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwMzU4OA==", "bodyText": "Should we delete the old pxf test script?", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417503588", "createdAt": "2020-04-29T17:54:31Z", "author": {"login": "oliverralbertini"}, "path": "concourse/scripts/test.bash", "diffHunk": "@@ -0,0 +1,250 @@\n+#!/bin/bash", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUyMTA2OA==", "bodyText": "yes, we will at some later point when the old pipeline is obsolete", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417521068", "createdAt": "2020-04-29T18:23:44Z", "author": {"login": "denalex"}, "path": "concourse/scripts/test.bash", "diffHunk": "@@ -0,0 +1,250 @@\n+#!/bin/bash", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwMzU4OA=="}, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NzczMzA0OnYy", "diffSide": "RIGHT", "path": "dev/install_gpdb_package.bash", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzo1Nzo0NVrOGOKhzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODo1NjowMlrOGOMnnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwNTc0MQ==", "bodyText": "I like this idea, but does it belong on the docker image level?", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417505741", "createdAt": "2020-04-29T17:57:45Z", "author": {"login": "oliverralbertini"}, "path": "dev/install_gpdb_package.bash", "diffHunk": "@@ -0,0 +1,60 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\"\n+\n+# TODO: check if gpadmin-limits.conf already exists and bail out if it does\n+>/etc/security/limits.d/gpadmin-limits.conf cat <<-EOF\n+gpadmin soft core unlimited\n+gpadmin soft nproc 131072\n+gpadmin soft nofile 65536\n+EOF\n+\n+>>/home/gpadmin/.bash_profile cat <<EOF", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUzOTk5OQ==", "bodyText": "will take a look, dev docker image story is not yet complete", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417539999", "createdAt": "2020-04-29T18:56:02Z", "author": {"login": "denalex"}, "path": "dev/install_gpdb_package.bash", "diffHunk": "@@ -0,0 +1,60 @@\n+#!/usr/bin/env bash\n+\n+CWDIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\"\n+\n+# TODO: check if gpadmin-limits.conf already exists and bail out if it does\n+>/etc/security/limits.d/gpadmin-limits.conf cat <<-EOF\n+gpadmin soft core unlimited\n+gpadmin soft nproc 131072\n+gpadmin soft nofile 65536\n+EOF\n+\n+>>/home/gpadmin/.bash_profile cat <<EOF", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwNTc0MQ=="}, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5Nzc1MTUxOnYy", "diffSide": "RIGHT", "path": "server/Makefile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODowMjozOFrOGOKtxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODowMjozOFrOGOKtxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUwODgwNA==", "bodyText": "same comment as for pxf-cli/Makefile", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417508804", "createdAt": "2020-04-29T18:02:38Z", "author": {"login": "oliverralbertini"}, "path": "server/Makefile", "diffHunk": "@@ -17,30 +17,34 @@\n #\n # protect the default target for this file from the targets in Makefile.global\n \n-default: all\n+include ../common.mk\n+\n+default: stage-notest\n \n-BUILD_PARAMS+= -DdeployPath=\"$(PXF_HOME)\"\n TOMCAT_VERSION=\"7.0.100\"\n TOMCAT_DIR=\"tomcat/build\"\n TOMCAT_TAR=\"apache-tomcat-${TOMCAT_VERSION}.tar.gz\"\n TOMCAT_URL=\"http://archive.apache.org/dist/tomcat/tomcat-7/v${TOMCAT_VERSION}/bin/${TOMCAT_TAR}\"\n \n+PXF_ROOT_DIR := $(shell cd .. && pwd)\n+PXF_VERSION ?= $(shell $(PXF_ROOT_DIR)/version)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5Nzc1OTA0OnYy", "diffSide": "RIGHT", "path": "server/pxf-jdbc/src/test/java/org/greenplum/pxf/plugins/jdbc/utils/ConnectionManagerTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODowNDo0MlrOGOKyjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxODoyMjo1NFrOGOLbuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUxMDAyOQ==", "bodyText": "We going to keep this?", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417510029", "createdAt": "2020-04-29T18:04:42Z", "author": {"login": "oliverralbertini"}, "path": "server/pxf-jdbc/src/test/java/org/greenplum/pxf/plugins/jdbc/utils/ConnectionManagerTest.java", "diffHunk": "@@ -76,6 +77,7 @@ public void testGetConnectionPoolDisabled() throws SQLException {\n     }\n \n     @Test\n+    @Ignore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUyMDU2OA==", "bodyText": "I'll try uncommenting this, will still be failing on local Docker I guess.", "url": "https://github.com/greenplum-db/pxf/pull/342#discussion_r417520568", "createdAt": "2020-04-29T18:22:54Z", "author": {"login": "denalex"}, "path": "server/pxf-jdbc/src/test/java/org/greenplum/pxf/plugins/jdbc/utils/ConnectionManagerTest.java", "diffHunk": "@@ -76,6 +77,7 @@ public void testGetConnectionPoolDisabled() throws SQLException {\n     }\n \n     @Test\n+    @Ignore", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUxMDAyOQ=="}, "originalCommit": {"oid": "f87aedc213114317905f6f1ec9396d8da37377ef"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3625, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}