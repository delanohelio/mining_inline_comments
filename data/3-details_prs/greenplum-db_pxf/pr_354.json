{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NDAyNDc2", "number": 354, "title": "Fix license-finder in the norsk pipeline", "bodyText": "Recently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the pxf/automation Maven project.\nWithin the license finder code, this command is run:\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\nwhich aims to find the project parent. The correct response is:\nnull object or invalid expression\nbecause there is no parent to automation/pom.xml.\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.", "createdAt": "2020-05-07T00:45:31Z", "url": "https://github.com/greenplum-db/pxf/pull/354", "merged": true, "mergeCommit": {"oid": "389bd053a2d91041c9fd1f4d2f344e4c04084bc1"}, "closed": true, "closedAt": "2020-05-07T21:58:00Z", "author": {"login": "oliverralbertini"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceyfplABqjMzMTA3OTkzODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfEjRigBqjMzMTQ4MDM0NDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6581c97bd3ae5b692d84e3e256a63236d9dda140", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/6581c97bd3ae5b692d84e3e256a63236d9dda140", "committedDate": "2020-05-07T00:43:29Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline\nfor PXF. The issue is a failure when scanning the `pxf/automation` Maven\nproject.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment variable, PXF_TMP_LIB, to\nbe set. mvn is normally only run from our automation/Makefile, which\nsets PXF_TMP_LIB.  For automation it points to a directory with\nsymlinks to jars from $PXF_HOME/lib. Historically, PXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}, "afterCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/19825beb5bb1e638eb49211d0b6ec9ded1740ce9", "committedDate": "2020-05-07T00:52:53Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MTAxNDA2", "url": "https://github.com/greenplum-db/pxf/pull/354#pullrequestreview-407101406", "createdAt": "2020-05-07T01:57:32Z", "commit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMTo1NzozMlrOGRrqqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMTo1ODozOVrOGRrr0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE5NDQxMQ==", "bodyText": "is this correct?", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421194411", "createdAt": "2020-05-07T01:57:32Z", "author": {"login": "frankgh"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,15 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/*; do \\\n+\t\t\t: \"$${jar##*/}\"; \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE5NDQ5OA==", "bodyText": "what is this if for?", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421194498", "createdAt": "2020-05-07T01:57:49Z", "author": {"login": "frankgh"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,15 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/*; do \\\n+\t\t\t: \"$${jar##*/}\"; \\\n+\t\t\tif [[ $${_} =~ ^pxf-[A-Za-z0-9]+(-[0-9.]+).jar$$ ]]; then \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE5NDcwNg==", "bodyText": "is this needed now?", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421194706", "createdAt": "2020-05-07T01:58:39Z", "author": {"login": "frankgh"}, "path": "automation/Makefile", "diffHunk": "@@ -5,8 +5,10 @@\n # make TEST=<class>#<method> ===> run specific <method> from <class>.class\n # make OFFLINE=true ===> run using only cache\n \n+SHELL := bash", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NjcxNDE1", "url": "https://github.com/greenplum-db/pxf/pull/354#pullrequestreview-407671415", "createdAt": "2020-05-07T17:09:47Z", "commit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNzowOTo0OFrOGSIJXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNzoyMTo0N1rOGSIkbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY2MTAyMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tfor jar in $(PXF_HOME)/lib/*; do \\\n          \n          \n            \n            \t\tfor jar in $(PXF_HOME)/lib/pxf-*.jar; do \\", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421661023", "createdAt": "2020-05-07T17:09:48Z", "author": {"login": "denalex"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,15 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/*; do \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY2MjM0Ng==", "bodyText": "I'd use an explicit variable instead of anonymous one ${_} for clarity : file_name=\"$${jar##*/}\"", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421662346", "createdAt": "2020-05-07T17:12:09Z", "author": {"login": "denalex"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,15 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/*; do \\\n+\t\t\t: \"$${jar##*/}\"; \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE5NDQxMQ=="}, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY2NzM2MQ==", "bodyText": "so this would match a pattern and capture the version (expression in () ) in BASH_REMATCH[1] ?", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421667361", "createdAt": "2020-05-07T17:20:45Z", "author": {"login": "denalex"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,15 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/*; do \\\n+\t\t\t: \"$${jar##*/}\"; \\\n+\t\t\tif [[ $${_} =~ ^pxf-[A-Za-z0-9]+(-[0-9.]+).jar$$ ]]; then \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE5NDQ5OA=="}, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY2Nzk1MQ==", "bodyText": "if BASH_REMATCH[1] is version, then it needs to be cut out of the string. According to this logic, BASH_REMATCH[1] is actually the string without a version ??", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421667951", "createdAt": "2020-05-07T17:21:47Z", "author": {"login": "denalex"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,15 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/*; do \\\n+\t\t\t: \"$${jar##*/}\"; \\\n+\t\t\tif [[ $${_} =~ ^pxf-[A-Za-z0-9]+(-[0-9.]+).jar$$ ]]; then \\\n+\t\t\t\tln -sf \"$${jar}\" \"$(PXF_TMP_LIB)/$${_/$${BASH_REMATCH[1]}/}\"; \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9"}, "originalPosition": 34}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19825beb5bb1e638eb49211d0b6ec9ded1740ce9", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/19825beb5bb1e638eb49211d0b6ec9ded1740ce9", "committedDate": "2020-05-07T00:52:53Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}, "afterCommit": {"oid": "4f2217749b41977ca51675243baedafeb68e031a", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/4f2217749b41977ca51675243baedafeb68e031a", "committedDate": "2020-05-07T20:44:11Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3ODI3NjI2", "url": "https://github.com/greenplum-db/pxf/pull/354#pullrequestreview-407827626", "createdAt": "2020-05-07T20:52:29Z", "commit": {"oid": "4f2217749b41977ca51675243baedafeb68e031a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3ODMzODE2", "url": "https://github.com/greenplum-db/pxf/pull/354#pullrequestreview-407833816", "createdAt": "2020-05-07T21:01:35Z", "commit": {"oid": "4f2217749b41977ca51675243baedafeb68e031a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTowMTozNVrOGSQH7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTowMTozNVrOGSQH7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc5MTcyNg==", "bodyText": "line 110 needs a change as well !", "url": "https://github.com/greenplum-db/pxf/pull/354#discussion_r421791726", "createdAt": "2020-05-07T21:01:35Z", "author": {"login": "denalex"}, "path": "automation/Makefile", "diffHunk": "@@ -87,13 +89,17 @@ all: test\n \n symlink_pxf_jars:\n \t@if [ -d \"$(PXF_HOME)/lib\" ]; then \\\n-\t\trm -rf $(PXF_HOME)/tmp && \\\n-\t\tmkdir -p $(PXF_HOME)/tmp && \\\n-\t\tcd $(PXF_HOME)/tmp && \\\n-\t\tfor X in $(PXF_HOME)/lib/pxf-*-[0-9]*.jar; do \\\n-\t\t\tln -sf $$X `echo \\`basename $$X\\` | sed -e 's/-[a-zA-Z0-9.]*.jar/.jar/'`; \\\n+\t\trm -rf $(PXF_TMP_LIB) && \\\n+\t\tmkdir -p $(PXF_TMP_LIB) && \\\n+\t\tfor jar in $(PXF_HOME)/lib/pxf-*.jar; do \\\n+\t\t\tjar_name=\"$${jar##*/}\"; \\\n+\t\t\tif [[ $${jar_name} =~ ^pxf-[A-Za-z0-9]+(-[0-9.]+).jar$$ ]]; then \\\n+\t\t\t\tlink=$(PXF_TMP_LIB)/$${jar_name/$${BASH_REMATCH[1]}/}; \\\n+\t\t\t\techo \"creating link $${link} -> $${jar}\"; \\\n+\t\t\t\tln -sf \"$${jar}\" \"$${link}\"; \\\n+\t\t\tfi; \\\n \t\tdone; \\\n-\t\ttouch $(PXF_HOME)/tmp/pxf-extras.jar; \\\n+\t\ttouch $(PXF_TMP_LIB)/pxf-extras.jar; \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f2217749b41977ca51675243baedafeb68e031a"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3ODM0MzEw", "url": "https://github.com/greenplum-db/pxf/pull/354#pullrequestreview-407834310", "createdAt": "2020-05-07T21:02:22Z", "commit": {"oid": "4f2217749b41977ca51675243baedafeb68e031a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4f2217749b41977ca51675243baedafeb68e031a", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/4f2217749b41977ca51675243baedafeb68e031a", "committedDate": "2020-05-07T20:44:11Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}, "afterCommit": {"oid": "0a2b6a6f1490d8964706a2191153812edd59460c", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/0a2b6a6f1490d8964706a2191153812edd59460c", "committedDate": "2020-05-07T21:22:53Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a2b6a6f1490d8964706a2191153812edd59460c", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/0a2b6a6f1490d8964706a2191153812edd59460c", "committedDate": "2020-05-07T21:22:53Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}, "afterCommit": {"oid": "b9cbd5e7c345db7ff20b1dd7ea4a9dbfa5c0a29f", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/b9cbd5e7c345db7ff20b1dd7ea4a9dbfa5c0a29f", "committedDate": "2020-05-07T21:31:50Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b9cbd5e7c345db7ff20b1dd7ea4a9dbfa5c0a29f", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/b9cbd5e7c345db7ff20b1dd7ea4a9dbfa5c0a29f", "committedDate": "2020-05-07T21:31:50Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}, "afterCommit": {"oid": "8ec6309647110464b1b9a934417659660f95a457", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/8ec6309647110464b1b9a934417659660f95a457", "committedDate": "2020-05-07T21:49:54Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "389bd053a2d91041c9fd1f4d2f344e4c04084bc1", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/389bd053a2d91041c9fd1f4d2f344e4c04084bc1", "committedDate": "2020-05-07T21:55:27Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ec6309647110464b1b9a934417659660f95a457", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/8ec6309647110464b1b9a934417659660f95a457", "committedDate": "2020-05-07T21:49:54Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}, "afterCommit": {"oid": "389bd053a2d91041c9fd1f4d2f344e4c04084bc1", "author": {"user": {"login": "oliverralbertini", "name": "Oliver Albertini"}}, "url": "https://github.com/greenplum-db/pxf/commit/389bd053a2d91041c9fd1f4d2f344e4c04084bc1", "committedDate": "2020-05-07T21:55:27Z", "message": "Fix license-finder in the norsk pipeline\n\nRecently we experienced issues with the norsk pipeline for PXF. The\nissue is a failure when scanning the `pxf/automation` Maven project.\n\nWithin the license finder code, this command is run:\n\nmvn help:evaluate -Dexpression=project.parent -q -D forceStdout\n\nwhich aims to find the project parent. The correct response is:\n\nnull object or invalid expression\n\nbecause there is no parent to automation/pom.xml.\n\nHowever, the mvn command fails because mvn expects an environment\nvariable, PXF_TMP_LIB, to be set. mvn is normally only run from our\nautomation/Makefile, which sets PXF_TMP_LIB.  For automation it points\nto a directory with symlinks to jars from $PXF_HOME/lib. Historically,\nPXF_TMP_LIB=$PXF_HOME/tmp.\n\nThis commit changes that in favor of a hardcoded value in the user's\nhome directory: $HOME/pxf_tmp_lib. Symlinks will be created there\nlinking to jar files in $PXF_HOME/lib. This way mvn will not fail when\nthe above command is run, because HOME will be defined, and pointing to\nan absolute path.\n\nAuthored-by: Oliver Albertini <oalbertini@vmware.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 55, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}