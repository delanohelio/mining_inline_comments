{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MTg5NjE3", "number": 462, "title": "docs - pxf.service.user.name is commented out by default", "bodyText": "minor doc updates for #445.", "createdAt": "2020-10-15T15:26:32Z", "url": "https://github.com/greenplum-db/pxf/pull/462", "merged": true, "mergeCommit": {"oid": "a9e509e7d2908ffb41a286925e65aa000fcfe955"}, "closed": true, "closedAt": "2020-11-06T00:48:47Z", "author": {"login": "lisakowen"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQpvD2AH2gAyNTA0MTg5NjE3OjQ2YWNhZDYxNmE5MWUwMzZiNDRjODQ2YTQ3YjQ1MjE3M2JlOGRjZjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZqQK4gFqTUyNDcyODE0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "46acad616a91e036b44c846a47b452173be8dcf4", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/46acad616a91e036b44c846a47b452173be8dcf4", "committedDate": "2020-10-08T22:57:32Z", "message": "docs - pxf.service.user.name is commented out by default"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NTA1Nzg3", "url": "https://github.com/greenplum-db/pxf/pull/462#pullrequestreview-509505787", "createdAt": "2020-10-15T15:28:29Z", "commit": {"oid": "46acad616a91e036b44c846a47b452173be8dcf4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5OTQ3NjU4", "url": "https://github.com/greenplum-db/pxf/pull/462#pullrequestreview-509947658", "createdAt": "2020-10-16T01:08:23Z", "commit": {"oid": "46acad616a91e036b44c846a47b452173be8dcf4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMTowODoyM1rOHig-VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMToxMjowMlrOHihGSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk1Mzg3Nw==", "bodyText": "this is kinda tricky, there's no default value by default, only if people uncomment the property and do not make the change, then default value will take the effect. Not sure how to express this in a user-friendly way.", "url": "https://github.com/greenplum-db/pxf/pull/462#discussion_r505953877", "createdAt": "2020-10-16T01:08:23Z", "author": {"login": "denalex"}, "path": "docs/content/cfg_server.html.md.erb", "diffHunk": "@@ -102,7 +102,7 @@ You configure properties in the `pxf-site.xml` file for a PXF server when one or\n |----------------|--------------------------------------------|---------------|\n | pxf.service.kerberos.principal | The Kerberos principal name. | gpadmin/\\_HOST@EXAMPLE.COM |\n | pxf.service.kerberos.keytab | The file system path to the Kerberos keytab file. | $PXF_CONF/keytabs/pxf.service.keytab |\n-| pxf.service.user.name | The log in user for the remote system. | The operating system user that starts the pxf process, typically `gpadmin`. |\n+| pxf.service.user.name | The log in user for the remote system. | The operating system user that starts the pxf process, typically `gpadmin`. (This property is commented out by default; uncomment and set the property to override the default value.) |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46acad616a91e036b44c846a47b452173be8dcf4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk1NTkxNA==", "bodyText": "we had about 6 use cases on combination of these parameters to make it easier for users to make sense out of them. I'd like to have it documented in a special section, if not done already. @frankgh -- do you have the spreadsheet we compiled ?", "url": "https://github.com/greenplum-db/pxf/pull/462#discussion_r505955914", "createdAt": "2020-10-16T01:12:02Z", "author": {"login": "denalex"}, "path": "docs/content/pxfuserimpers.html.md.erb", "diffHunk": "@@ -45,7 +45,7 @@ Perform the following procedure to configure the Hadoop user:\n     gpadmin@gpmaster$ cp $PXF_CONF/templates/pxf-site.xml .\n     ```\n \n-5. Open the `pxf-site.xml` file in the editor of your choice, and configure the Hadoop user name. When impersonation is disabled, this name identifies the Hadoop user identity that PXF will use to access the Hadoop system. When user impersonation is enabled, this name identifies the PXF proxy Hadoop user. For example, if you want to access Hadoop as the user `hdfsuser1`:\n+5. Open the `pxf-site.xml` file in the editor of your choice, and configure the Hadoop user name. When impersonation is disabled, this name identifies the Hadoop user identity that PXF will use to access the Hadoop system. When user impersonation is enabled, this name identifies the PXF proxy Hadoop user. For example, if you want to access Hadoop as the user `hdfsuser1`, uncomment the property and set it as follows:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46acad616a91e036b44c846a47b452173be8dcf4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNTg1NTY0", "url": "https://github.com/greenplum-db/pxf/pull/462#pullrequestreview-510585564", "createdAt": "2020-10-16T15:37:58Z", "commit": {"oid": "46acad616a91e036b44c846a47b452173be8dcf4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b0c3d137f0d91a1d2c0eebdb9d31eba26d733d8", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/6b0c3d137f0d91a1d2c0eebdb9d31eba26d733d8", "committedDate": "2020-10-27T17:27:59Z", "message": "new sections for expanded config scenarios"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MDk5NjQ0", "url": "https://github.com/greenplum-db/pxf/pull/462#pullrequestreview-518099644", "createdAt": "2020-10-27T20:06:59Z", "commit": {"oid": "6b0c3d137f0d91a1d2c0eebdb9d31eba26d733d8"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowNjo1OVrOHpO22w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNjoxMzoyN1rOHpyJnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NzA4Mw==", "bodyText": "You probably already tried it, but does using the full \"Impersonation\" instead of \"Impers\" break the table?", "url": "https://github.com/greenplum-db/pxf/pull/462#discussion_r512997083", "createdAt": "2020-10-27T20:06:59Z", "author": {"login": "dyozie"}, "path": "docs/content/pxf_kerbhdfs.html.md.erb", "diffHunk": "@@ -50,6 +42,19 @@ Before you configure PXF for access to a secure HDFS filesystem, ensure that you\n     root@gphost$ yum install krb5-libs krb5-workstation\n     ```\n \n+## <a id=\"scenarios\"></a>Use Cases and Configuration Scenarios\n+\n+The following table describes the use cases and configuration required when you use PXF to access a Kerberos-secured Hadoop cluster.\n+\n+**Note**: These scenarios assume that `gpadmin` is the PXF process owner.\n+\n+| Use Case | Impers  | Service User |  PXF Config | Hadoop&nbsp;Config&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b0c3d137f0d91a1d2c0eebdb9d31eba26d733d8"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU3NDc5MQ==", "bodyText": "It seems like it would be cleaner and more user-focused to remove \"PXF accesses\" and instead write it in terms of \"Access as a Greenplum user\", \"Access as the Kerberos principle\", \"Access as a custom user\"\n(Removing Kerberos-secured Hadoop cluster\" also makes sense since that's what the entire table is about.", "url": "https://github.com/greenplum-db/pxf/pull/462#discussion_r513574791", "createdAt": "2020-10-28T16:12:42Z", "author": {"login": "dyozie"}, "path": "docs/content/pxf_kerbhdfs.html.md.erb", "diffHunk": "@@ -50,6 +42,19 @@ Before you configure PXF for access to a secure HDFS filesystem, ensure that you\n     root@gphost$ yum install krb5-libs krb5-workstation\n     ```\n \n+## <a id=\"scenarios\"></a>Use Cases and Configuration Scenarios\n+\n+The following table describes the use cases and configuration required when you use PXF to access a Kerberos-secured Hadoop cluster.\n+\n+**Note**: These scenarios assume that `gpadmin` is the PXF process owner.\n+\n+| Use Case | Impers  | Service User |  PXF Config | Hadoop&nbsp;Config&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |\n+|----------|---------|-------------|---------------|-----------|\n+| PXF accesses a Kerberos-secured Hadoop cluster as the Greenplum user proxied by the Kerberos principal (the Kerberos principal is the Hadoop proxy user and accesses Hadoop as the Greenplum user) | true | Kerberos principal | Perform the [Configuration Procedure](#procedure) in this topic. | Set the Kerberos principal as the Hadoop proxy user as described in [Configure Hadoop Proxying](pxfuserimpers.html#hadoop). |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b0c3d137f0d91a1d2c0eebdb9d31eba26d733d8"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU3NTMyNw==", "bodyText": "Similar feedback on the wording for these use cases.", "url": "https://github.com/greenplum-db/pxf/pull/462#discussion_r513575327", "createdAt": "2020-10-28T16:13:27Z", "author": {"login": "dyozie"}, "path": "docs/content/pxfuserimpers.html.md.erb", "diffHunk": "@@ -10,13 +10,22 @@ When user impersonation is disabled, PXF executes all Hadoop service requests as\n \n You configure the Hadoop user and PXF user impersonation setting for a server via the `pxf-site.xml` server configuration file. Refer to [About Kerberos and User Impersonation Configuration (pxf-site.xml)](cfg_server.html#pxf-site) for more information about the configuration properties in this file.\n \n-The following table describes some of the PXF configuration scenarios for Hadoop access:\n+## <a id=\"pxf_cfg_scenarios\"></a>Use Cases and Configuration Scenarios\n \n-| Scenario | pxf-site.xml Required  | Impersonation Setting |  Required Configuration |\n-|----------------|--------------|---------|---------------|\n-| PXF accesses Hadoop using the identity of the Greenplum Database user. | yes | true  | Enable user impersonation, identify the Hadoop proxy user in the `pxf.service.user.name`, and configure Hadoop proxying for this Hadoop user identity. |\n-| PXF accesses Hadoop using the identity of the operating system user that started the PXF process. | yes | false | Disable user impersonation. |\n-| PXF accesses Hadoop using a user identity that you specify. | yes | false | Disable user impersonation and identify the Hadoop user identity in the `pxf.service.user.name` property setting.  |\n+User, user impersonation, and proxy configuration for Hadoop depends on how you use PXF to access Hadoop, and whether or not the Hadoop cluster is secured with Kerberos.\n+\n+The following table describes the use cases and configuration required when you use PXF to access *non-secured Hadoop*.\n+\n+**Note**: These scenarios assume that `gpadmin` is the PXF process owner.\n+\n+| Use Case | Impers  | Service&nbsp;User |  PXF Config | Hadoop&nbsp;Config&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |\n+|----------|---------|-------------|---------------|-----------|\n+| (default) PXF accesses Hadoop as the Greenplum user proxied by `gpadmin` user (`gpadmin` is the Hadoop proxy user and accesses Hadoop as the Greenplum user) | true | `gpadmin` | None; this is the default configuration. | Set the `gpadmin` user as the Hadoop proxy user as described in [Configure Hadoop Proxying](#hadoop). |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b0c3d137f0d91a1d2c0eebdb9d31eba26d733d8"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c9f00c2c1a56b6c726ebe9a82a04b156074b17b", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/0c9f00c2c1a56b6c726ebe9a82a04b156074b17b", "committedDate": "2020-10-28T17:54:41Z", "message": "address comments from david; use full impersonation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb26c7cb9ba5924e2605025f52b219d295a9c43b", "author": {"user": {"login": "frankgh", "name": "Francisco Guerrero"}}, "url": "https://github.com/greenplum-db/pxf/commit/cb26c7cb9ba5924e2605025f52b219d295a9c43b", "committedDate": "2020-10-29T17:28:54Z", "message": "Another way to display this information to the users (#1)\n\nIn this presentation mode, you explicitly show the list of use cases we\r\nhave. In the right pane navigation, users can click on the use case they\r\nhave."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "725404680fa4d483693d8be90f4bbbd366f7c99e", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/725404680fa4d483693d8be90f4bbbd366f7c99e", "committedDate": "2020-10-29T20:20:37Z", "message": "some edits to the new section-oriented use case format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NzgyMDAy", "url": "https://github.com/greenplum-db/pxf/pull/462#pullrequestreview-519782002", "createdAt": "2020-10-29T15:21:13Z", "commit": {"oid": "0c9f00c2c1a56b6c726ebe9a82a04b156074b17b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNToyMToxM1rOHqhEwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNToyMToxM1rOHqhEwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM0NDEyOQ==", "bodyText": "Accesses -> Access for consistency.", "url": "https://github.com/greenplum-db/pxf/pull/462#discussion_r514344129", "createdAt": "2020-10-29T15:21:13Z", "author": {"login": "dyozie"}, "path": "docs/content/pxfuserimpers.html.md.erb", "diffHunk": "@@ -10,13 +10,22 @@ When user impersonation is disabled, PXF executes all Hadoop service requests as\n \n You configure the Hadoop user and PXF user impersonation setting for a server via the `pxf-site.xml` server configuration file. Refer to [About Kerberos and User Impersonation Configuration (pxf-site.xml)](cfg_server.html#pxf-site) for more information about the configuration properties in this file.\n \n-The following table describes some of the PXF configuration scenarios for Hadoop access:\n+## <a id=\"pxf_cfg_scenarios\"></a>Use Cases and Configuration Scenarios\n \n-| Scenario | pxf-site.xml Required  | Impersonation Setting |  Required Configuration |\n-|----------------|--------------|---------|---------------|\n-| PXF accesses Hadoop using the identity of the Greenplum Database user. | yes | true  | Enable user impersonation, identify the Hadoop proxy user in the `pxf.service.user.name`, and configure Hadoop proxying for this Hadoop user identity. |\n-| PXF accesses Hadoop using the identity of the operating system user that started the PXF process. | yes | false | Disable user impersonation. |\n-| PXF accesses Hadoop using a user identity that you specify. | yes | false | Disable user impersonation and identify the Hadoop user identity in the `pxf.service.user.name` property setting.  |\n+User, user impersonation, and proxy configuration for Hadoop depends on how you use PXF to access Hadoop, and whether or not the Hadoop cluster is secured with Kerberos.\n+\n+The following table describes the use cases and configuration required when you use PXF to access *non-secured Hadoop*.\n+\n+**Note**: These scenarios assume that `gpadmin` is the PXF process owner.\n+\n+| Use Case | Impersonation  | Service&nbsp;User |  PXF Config | Hadoop&nbsp;Config&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |\n+|----------|---------|-------------|---------------|-----------|\n+| (default) Accesses Hadoop as a Greenplum user proxied by `gpadmin` user (`gpadmin` is the Hadoop proxy user and accesses Hadoop as the Greenplum user) | true | `gpadmin` | None; this is the default configuration. | Set the `gpadmin` user as the Hadoop proxy user as described in [Configure Hadoop Proxying](#hadoop). |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c9f00c2c1a56b6c726ebe9a82a04b156074b17b"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6587dbab9cb9009272880eec4b0bc6a4a595bf2", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/e6587dbab9cb9009272880eec4b0bc6a4a595bf2", "committedDate": "2020-11-03T22:32:58Z", "message": "Merge branch 'master' into docs/commented-out-prop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb2ef142ac628e2b7ef9e65dbfad7b7c33d246ef", "author": {"user": {"login": "frankgh", "name": "Francisco Guerrero"}}, "url": "https://github.com/greenplum-db/pxf/commit/bb2ef142ac628e2b7ef9e65dbfad7b7c33d246ef", "committedDate": "2020-11-05T21:19:58Z", "message": "Add images for visual explanation (#2)\n\n* Add images for visual explanation\r\n\r\n* Use different icons for the images"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4280a5198b819ceb9feeb2477e0fa8a1999576d", "author": {"user": {"login": "lisakowen", "name": "Lisa Owen"}}, "url": "https://github.com/greenplum-db/pxf/commit/b4280a5198b819ceb9feeb2477e0fa8a1999576d", "committedDate": "2020-11-05T21:30:45Z", "message": "add some text before the scenario config tables"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NzI4MTQ4", "url": "https://github.com/greenplum-db/pxf/pull/462#pullrequestreview-524728148", "createdAt": "2020-11-05T22:39:01Z", "commit": {"oid": "b4280a5198b819ceb9feeb2477e0fa8a1999576d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4905, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}