{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwNzkxODAx", "number": 15525, "title": "Generate presto-internal.thrift file", "bodyText": "Test plan -\nrun\nmvn process-classes -DskipTests -T1C\n\ninspect presto-thrift-spec/target/presto-internal-0.247-SNAPSHOT.thrift\nmvn clean install -DskipTests -T1C -pl '!presto-docs,!presto-server-rpm'\njroll@fb : ls -l ~/.m2/repository/com/facebook/presto/presto-thrift-spec/0.247-SNAPSHOT/presto-thrift-spec-0.247-SNAPSHOT.thrift\n-rw-r--r--  1 jroll  staff  1371 Jan 22 09:29 /Users/jroll/.m2/repository/com/facebook/presto/presto-thrift-spec/0.247-SNAPSHOT/presto-thrift-spec-0.247-SNAPSHOT.thrift\n\n== RELEASE NOTES ==\nGeneral Changes\n\nAdd maven plugin for drift to generate the Thrift spec for a list of classes, current class list is TaskStatus", "createdAt": "2020-12-15T23:55:09Z", "url": "https://github.com/prestodb/presto/pull/15525", "merged": true, "mergeCommit": {"oid": "ad6fb086d8ed997c5de7fdc982251fa0bc0bf325"}, "closed": true, "closedAt": "2021-01-25T14:23:36Z", "author": {"login": "jbroll"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABds6jsXgBqjQxNjYxNDg3Mjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdyuHzIAFqTU3NDU0ODA2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7cac03682f30f7b61f4abbced109d7245b17e36", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/f7cac03682f30f7b61f4abbced109d7245b17e36", "committedDate": "2020-12-15T13:42:29Z", "message": "Generate presto-internal.thrift file"}, "afterCommit": {"oid": "67b78c4c34d4b9efb10a2571fa48a37708bee052", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/67b78c4c34d4b9efb10a2571fa48a37708bee052", "committedDate": "2021-01-04T18:23:06Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyOTE5MTEx", "url": "https://github.com/prestodb/presto/pull/15525#pullrequestreview-562919111", "createdAt": "2021-01-06T17:52:44Z", "commit": {"oid": "67b78c4c34d4b9efb10a2571fa48a37708bee052"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxNzo1Mjo0NFrOIPPzgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxNzo1Mjo0NFrOIPPzgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjg1ODQ5Ng==", "bodyText": "is execution  already used in the context which forces us to append 1", "url": "https://github.com/prestodb/presto/pull/15525#discussion_r552858496", "createdAt": "2021-01-06T17:52:44Z", "author": {"login": "ajaygeorge"}, "path": "presto-main/pom.xml", "diffHunk": "@@ -468,6 +468,47 @@\n                     </excludes>\n                 </configuration>\n             </plugin>\n+            <plugin>\n+                <groupId>com.facebook.drift</groupId>\n+                <artifactId>drift-maven-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>execution1</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b78c4c34d4b9efb10a2571fa48a37708bee052"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyOTIxMTU1", "url": "https://github.com/prestodb/presto/pull/15525#pullrequestreview-562921155", "createdAt": "2021-01-06T17:55:32Z", "commit": {"oid": "67b78c4c34d4b9efb10a2571fa48a37708bee052"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxNzo1NTozMlrOIPP8ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxNzo1NTozMlrOIPP8ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjg2MDgzMA==", "bodyText": "how about keeping the file in a new folder instead of creating it under the parent folder?", "url": "https://github.com/prestodb/presto/pull/15525#discussion_r552860830", "createdAt": "2021-01-06T17:55:32Z", "author": {"login": "ajaygeorge"}, "path": "presto-main/pom.xml", "diffHunk": "@@ -468,6 +468,47 @@\n                     </excludes>\n                 </configuration>\n             </plugin>\n+            <plugin>\n+                <groupId>com.facebook.drift</groupId>\n+                <artifactId>drift-maven-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>execution1</id>\n+                        <goals>\n+                            <goal>generate-thrift-idl</goal>\n+                        </goals>\n+                        <phase>process-classes</phase>\n+                        <configuration>\n+                            <classes>\n+                                <class>com.facebook.presto.execution.TaskStatus</class>\n+                            </classes>\n+                            <recursive>true</recursive>\n+                            <outputFile>target/presto-internal-${project.version}.thrift</outputFile>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b78c4c34d4b9efb10a2571fa48a37708bee052"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67b78c4c34d4b9efb10a2571fa48a37708bee052", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/67b78c4c34d4b9efb10a2571fa48a37708bee052", "committedDate": "2021-01-04T18:23:06Z", "message": "Generate presto-internal.thrift file"}, "afterCommit": {"oid": "fcec3f6d039cae734b908cd922a22a01bbd2d532", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/fcec3f6d039cae734b908cd922a22a01bbd2d532", "committedDate": "2021-01-06T19:41:49Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcec3f6d039cae734b908cd922a22a01bbd2d532", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/fcec3f6d039cae734b908cd922a22a01bbd2d532", "committedDate": "2021-01-06T19:41:49Z", "message": "Generate presto-internal.thrift file"}, "afterCommit": {"oid": "5e71bc6feb27ad8dc7229bf72d598b1422129d7f", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/5e71bc6feb27ad8dc7229bf72d598b1422129d7f", "committedDate": "2021-01-20T20:45:02Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5e71bc6feb27ad8dc7229bf72d598b1422129d7f", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/5e71bc6feb27ad8dc7229bf72d598b1422129d7f", "committedDate": "2021-01-20T20:45:02Z", "message": "Generate presto-internal.thrift file"}, "afterCommit": {"oid": "f51cc86cd7fa75a45cc2bd15c608f6281f12a7ec", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/f51cc86cd7fa75a45cc2bd15c608f6281f12a7ec", "committedDate": "2021-01-22T14:36:37Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f51cc86cd7fa75a45cc2bd15c608f6281f12a7ec", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/f51cc86cd7fa75a45cc2bd15c608f6281f12a7ec", "committedDate": "2021-01-22T14:36:37Z", "message": "Generate presto-internal.thrift file"}, "afterCommit": {"oid": "e85749a61d56aa004e7afde380233f8a52e80e57", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/e85749a61d56aa004e7afde380233f8a52e80e57", "committedDate": "2021-01-22T19:05:31Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f7ed68588961e7b504e15d73c75d857122b60c", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/31f7ed68588961e7b504e15d73c75d857122b60c", "committedDate": "2021-01-22T19:14:08Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e85749a61d56aa004e7afde380233f8a52e80e57", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/e85749a61d56aa004e7afde380233f8a52e80e57", "committedDate": "2021-01-22T19:05:31Z", "message": "Generate presto-internal.thrift file"}, "afterCommit": {"oid": "31f7ed68588961e7b504e15d73c75d857122b60c", "author": {"user": {"login": "jbroll", "name": "john roll"}}, "url": "https://github.com/prestodb/presto/commit/31f7ed68588961e7b504e15d73c75d857122b60c", "committedDate": "2021-01-22T19:14:08Z", "message": "Generate presto-internal.thrift file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc0NTQ4MDY2", "url": "https://github.com/prestodb/presto/pull/15525#pullrequestreview-574548066", "createdAt": "2021-01-22T19:17:36Z", "commit": {"oid": "31f7ed68588961e7b504e15d73c75d857122b60c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4561, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}