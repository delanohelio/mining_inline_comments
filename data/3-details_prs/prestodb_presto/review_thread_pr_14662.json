{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NzUwMTYx", "number": 14662, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMToyNjowOFrOEGTu9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMToyNjowOFrOEGTu9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MDUwMjMxOnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/com/facebook/presto/operator/repartition/LongArrayBlockEncodingBuffer.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMToyNjowOFrOGlBczA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwMDoxNDo0NVrOGlbc2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NDI1Mg==", "bodyText": "I don't think you need to call toString() explicitly here (and in other similar places).", "url": "https://github.com/prestodb/presto/pull/14662#discussion_r441474252", "createdAt": "2020-06-17T11:26:08Z", "author": {"login": "mbasmanova"}, "path": "presto-main/src/main/java/com/facebook/presto/operator/repartition/LongArrayBlockEncodingBuffer.java", "diffHunk": "@@ -118,6 +118,7 @@ public long getSerializedSizeInBytes()\n     public String toString()\n     {\n         return toStringHelper(this)\n+                .add(\"super\", super.toString())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "28805821345273c0ac0a75a1dc151fe83fe8a4a9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgyMjQ5Nw==", "bodyText": "@mbasmanova Actually without the .toString() the compilation would fail. The add method takes Object not String specifically:\npublic ToStringHelper add(String name, @Nullable Object value)", "url": "https://github.com/prestodb/presto/pull/14662#discussion_r441822497", "createdAt": "2020-06-17T20:42:54Z", "author": {"login": "yingsu00"}, "path": "presto-main/src/main/java/com/facebook/presto/operator/repartition/LongArrayBlockEncodingBuffer.java", "diffHunk": "@@ -118,6 +118,7 @@ public long getSerializedSizeInBytes()\n     public String toString()\n     {\n         return toStringHelper(this)\n+                .add(\"super\", super.toString())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NDI1Mg=="}, "originalCommit": {"oid": "28805821345273c0ac0a75a1dc151fe83fe8a4a9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgyNDM1MA==", "bodyText": "@yingsu00 I'm confused. Are you saying .add(\"super\", super) fails to compile? What's the error? I expect this to work and call \"super.toString()\" internally.", "url": "https://github.com/prestodb/presto/pull/14662#discussion_r441824350", "createdAt": "2020-06-17T20:46:38Z", "author": {"login": "mbasmanova"}, "path": "presto-main/src/main/java/com/facebook/presto/operator/repartition/LongArrayBlockEncodingBuffer.java", "diffHunk": "@@ -118,6 +118,7 @@ public long getSerializedSizeInBytes()\n     public String toString()\n     {\n         return toStringHelper(this)\n+                .add(\"super\", super.toString())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NDI1Mg=="}, "originalCommit": {"oid": "28805821345273c0ac0a75a1dc151fe83fe8a4a9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTkwMDI0OA==", "bodyText": "@yingsu00 I'm confused. Are you saying .add(\"super\", super) fails to compile? What's the error? I expect this to work and call \"super.toString()\" internally.\n\nYes. Changing the code to\n@Override\n    public String toString()\n    {\n        return toStringHelper(this)\n                .add(\"super\", super)\n                .add(\"estimatedValueBufferMaxCapacity\", estimatedValueBufferMaxCapacity)\n                .add(\"valuesBufferCapacity\", valuesBuffer == null ? 0 : valuesBuffer.length)\n                .add(\"valuesBufferIndex\", valuesBufferIndex)\n                .toString();\n    }\n\nwould get the following error message:\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project presto-main: Compilation failure: Compilation failure:\n[ERROR] /Users/yingsu/presto5/presto/presto-main/src/main/java/com/facebook/presto/operator/repartition/ByteArrayBlockEncodingBuffer.java:[142,36] '.' expected\n[ERROR] /Users/yingsu/presto5/presto/presto-main/src/main/java/com/facebook/presto/operator/repartition/ByteArrayBlockEncodingBuffer.java:[146,28] ')' expected\n\nMy understanding is super cannot be used by itself. It has to be used in a constructor like super() or super.method().\nHowever I removed other .toString() calls on decodedBlock, valueBuffers, etc.", "url": "https://github.com/prestodb/presto/pull/14662#discussion_r441900248", "createdAt": "2020-06-18T00:14:45Z", "author": {"login": "yingsu00"}, "path": "presto-main/src/main/java/com/facebook/presto/operator/repartition/LongArrayBlockEncodingBuffer.java", "diffHunk": "@@ -118,6 +118,7 @@ public long getSerializedSizeInBytes()\n     public String toString()\n     {\n         return toStringHelper(this)\n+                .add(\"super\", super.toString())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NDI1Mg=="}, "originalCommit": {"oid": "28805821345273c0ac0a75a1dc151fe83fe8a4a9"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2461, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}