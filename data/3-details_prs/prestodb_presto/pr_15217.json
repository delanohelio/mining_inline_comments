{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxOTg5NDg4", "number": 15217, "title": "Make TestQueryManager#testFailQueryPrerun more reliable", "bodyText": "Fixes #15215\nTest plan - unit test runs\n== NO RELEASE NOTE ==", "createdAt": "2020-09-23T19:19:41Z", "url": "https://github.com/prestodb/presto/pull/15217", "merged": true, "mergeCommit": {"oid": "ef5843ad6b1c44743909ba0f81f0c9ad510cb9f0"}, "closed": true, "closedAt": "2020-09-28T23:12:26Z", "author": {"login": "tdcmeehan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLyUgLgFqTQ5NTAwODI2Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNbqsLgFqTQ5Nzk1MTk5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MDA4MjY3", "url": "https://github.com/prestodb/presto/pull/15217#pullrequestreview-495008267", "createdAt": "2020-09-23T20:06:52Z", "commit": {"oid": "2101d2b1d4ab6d3099d174a409199b6ae200d670"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMDowNjo1M1rOHW_DbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMDowNjo1M1rOHW_DbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg2Mzc4OQ==", "bodyText": "This seems like a weird test assertion; I think you're trying to cause a failure if the dispatchManager behaves differently than expected. If you could use the version of assertNotEquals that takes a message to annotate that, I think it would be helpful.", "url": "https://github.com/prestodb/presto/pull/15217#discussion_r493863789", "createdAt": "2020-09-23T20:06:53Z", "author": {"login": "jeremy-degroot"}, "path": "presto-tests/src/test/java/com/facebook/presto/tests/TestQueryManager.java", "diffHunk": "@@ -111,26 +130,41 @@ public void testFailQueryPrerun()\n                 \"SELECT * FROM lineitem\")\n                 .get();\n \n+        assertNotEquals(dispatchManager.getStats().getQueuedQueries(), 0L);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2101d2b1d4ab6d3099d174a409199b6ae200d670"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eb5ce2e3c38134cf541ee3535251947666149df", "author": {"user": {"login": "tdcmeehan", "name": "Timothy Meehan"}}, "url": "https://github.com/prestodb/presto/commit/9eb5ce2e3c38134cf541ee3535251947666149df", "committedDate": "2020-09-28T19:11:05Z", "message": "Make TestQueryManager#testFailQueryPrerun more reliable"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2101d2b1d4ab6d3099d174a409199b6ae200d670", "author": {"user": {"login": "tdcmeehan", "name": "Timothy Meehan"}}, "url": "https://github.com/prestodb/presto/commit/2101d2b1d4ab6d3099d174a409199b6ae200d670", "committedDate": "2020-09-23T19:18:13Z", "message": "Make TestQueryManager#testFailQueryPrerun more reliable"}, "afterCommit": {"oid": "9eb5ce2e3c38134cf541ee3535251947666149df", "author": {"user": {"login": "tdcmeehan", "name": "Timothy Meehan"}}, "url": "https://github.com/prestodb/presto/commit/9eb5ce2e3c38134cf541ee3535251947666149df", "committedDate": "2020-09-28T19:11:05Z", "message": "Make TestQueryManager#testFailQueryPrerun more reliable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3ODI1ODE4", "url": "https://github.com/prestodb/presto/pull/15217#pullrequestreview-497825818", "createdAt": "2020-09-28T19:19:30Z", "commit": {"oid": "9eb5ce2e3c38134cf541ee3535251947666149df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3OTUxOTk2", "url": "https://github.com/prestodb/presto/pull/15217#pullrequestreview-497951996", "createdAt": "2020-09-28T22:52:19Z", "commit": {"oid": "9eb5ce2e3c38134cf541ee3535251947666149df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4787, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}