{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MjE4Njgy", "number": 14531, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDo0MToyNFrOD8pFng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDo0Mjo1M1rOD8pHUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0OTE0MzM0OnYy", "diffSide": "RIGHT", "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDo0MToyNFrOGVtbZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMjo0NTo0N1rOGVwvEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxNzU3Mw==", "bodyText": "could we have better naming than:\ncolumn.1 and table-1\nmaybe column.field, table-name?", "url": "https://github.com/prestodb/presto/pull/14531#discussion_r425417573", "createdAt": "2020-05-14T20:41:24Z", "author": {"login": "zhenxiao"}, "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.druid;\n+\n+import org.testng.annotations.Test;\n+\n+import static org.testng.Assert.assertEquals;\n+\n+public class TestDruidClient\n+{\n+    @Test\n+    public void testDruidRequestBodyToJson()\n+    {\n+        DruidClient.DruidRequestBody requestBody = new DruidClient.DruidRequestBody(\n+                \"select \\\"column.1\\\" from \\\"table-1\\\"\", \"arrayLines\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0a55430c445788c7ea7d0af11efe1353d2f873"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxNzk3NQ==", "bodyText": "format: each parameter in a separate line", "url": "https://github.com/prestodb/presto/pull/14531#discussion_r425417975", "createdAt": "2020-05-14T20:42:17Z", "author": {"login": "zhenxiao"}, "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.druid;\n+\n+import org.testng.annotations.Test;\n+\n+import static org.testng.Assert.assertEquals;\n+\n+public class TestDruidClient\n+{\n+    @Test\n+    public void testDruidRequestBodyToJson()\n+    {\n+        DruidClient.DruidRequestBody requestBody = new DruidClient.DruidRequestBody(\n+                \"select \\\"column.1\\\" from \\\"table-1\\\"\", \"arrayLines\", false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxNzU3Mw=="}, "originalCommit": {"oid": "da0a55430c445788c7ea7d0af11efe1353d2f873"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MTc2MQ==", "bodyText": "done", "url": "https://github.com/prestodb/presto/pull/14531#discussion_r425471761", "createdAt": "2020-05-14T22:45:47Z", "author": {"login": "beinan"}, "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.druid;\n+\n+import org.testng.annotations.Test;\n+\n+import static org.testng.Assert.assertEquals;\n+\n+public class TestDruidClient\n+{\n+    @Test\n+    public void testDruidRequestBodyToJson()\n+    {\n+        DruidClient.DruidRequestBody requestBody = new DruidClient.DruidRequestBody(\n+                \"select \\\"column.1\\\" from \\\"table-1\\\"\", \"arrayLines\", false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxNzU3Mw=="}, "originalCommit": {"oid": "da0a55430c445788c7ea7d0af11efe1353d2f873"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0OTE0NzcxOnYy", "diffSide": "RIGHT", "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDo0Mjo1M1rOGVteNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMjo0NTo1NFrOGVwvOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxODI5NQ==", "bodyText": "format: requestBody.toJson() in a separate line", "url": "https://github.com/prestodb/presto/pull/14531#discussion_r425418295", "createdAt": "2020-05-14T20:42:53Z", "author": {"login": "zhenxiao"}, "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.druid;\n+\n+import org.testng.annotations.Test;\n+\n+import static org.testng.Assert.assertEquals;\n+\n+public class TestDruidClient\n+{\n+    @Test\n+    public void testDruidRequestBodyToJson()\n+    {\n+        DruidClient.DruidRequestBody requestBody = new DruidClient.DruidRequestBody(\n+                \"select \\\"column.1\\\" from \\\"table-1\\\"\", \"arrayLines\", false);\n+        assertEquals(\"{\\n\" +\n+                \"  \\\"query\\\" : \\\"select \\\\\\\"column.1\\\\\\\" from \\\\\\\"table-1\\\\\\\"\\\",\\n\" +\n+                \"  \\\"resultFormat\\\" : \\\"arrayLines\\\",\\n\" +\n+                \"  \\\"queryHeader\\\" : false\\n\" +\n+                \"}\", requestBody.toJson());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0a55430c445788c7ea7d0af11efe1353d2f873"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MTgwMw==", "bodyText": "done", "url": "https://github.com/prestodb/presto/pull/14531#discussion_r425471803", "createdAt": "2020-05-14T22:45:54Z", "author": {"login": "beinan"}, "path": "presto-druid/src/test/java/com/facebook/presto/druid/TestDruidClient.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.druid;\n+\n+import org.testng.annotations.Test;\n+\n+import static org.testng.Assert.assertEquals;\n+\n+public class TestDruidClient\n+{\n+    @Test\n+    public void testDruidRequestBodyToJson()\n+    {\n+        DruidClient.DruidRequestBody requestBody = new DruidClient.DruidRequestBody(\n+                \"select \\\"column.1\\\" from \\\"table-1\\\"\", \"arrayLines\", false);\n+        assertEquals(\"{\\n\" +\n+                \"  \\\"query\\\" : \\\"select \\\\\\\"column.1\\\\\\\" from \\\\\\\"table-1\\\\\\\"\\\",\\n\" +\n+                \"  \\\"resultFormat\\\" : \\\"arrayLines\\\",\\n\" +\n+                \"  \\\"queryHeader\\\" : false\\n\" +\n+                \"}\", requestBody.toJson());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxODI5NQ=="}, "originalCommit": {"oid": "da0a55430c445788c7ea7d0af11efe1353d2f873"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2637, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}