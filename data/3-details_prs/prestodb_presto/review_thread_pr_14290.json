{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMzAwOTE0", "number": 14290, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMzoyNToxMFrODrAgKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMzoyNToyNlrODrAgaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDIzNTk1OnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/com/facebook/presto/split/RemoteSplit.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMzoyNToxMVrOF7Gx7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMzoyNToxMVrOF7Gx7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUyMTM5MQ==", "bodyText": "Do we wanna create an abstraction called Location rather than using raw string? I'm thinking to replace the URI interfaces in LocationFactory all with Location.", "url": "https://github.com/prestodb/presto/pull/14290#discussion_r397521391", "createdAt": "2020-03-24T23:25:11Z", "author": {"login": "highker"}, "path": "presto-main/src/main/java/com/facebook/presto/split/RemoteSplit.java", "diffHunk": "@@ -31,18 +30,18 @@\n public class RemoteSplit\n         implements ConnectorSplit\n {\n-    private final URI location;\n+    private final String location;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2d15f92364f09048e087ef76a4e2a90fe4a8484"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDIzNjU2OnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/com/facebook/presto/execution/SqlStageExecution.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMzoyNToyNlrOF7GyTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNjoxNzo1MVrOF7jG0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUyMTQ4NA==", "bodyText": "what are other string options except ASCII String? :P", "url": "https://github.com/prestodb/presto/pull/14290#discussion_r397521484", "createdAt": "2020-03-24T23:25:26Z", "author": {"login": "wenleix"}, "path": "presto-main/src/main/java/com/facebook/presto/execution/SqlStageExecution.java", "diffHunk": "@@ -542,7 +541,7 @@ public void recordGetSplitTime(long start)\n     private static Split createRemoteSplitFor(TaskId taskId, URI remoteSourceTaskLocation, TaskId remoteSourceTaskId)\n     {\n         // Fetch the results from the buffer assigned to the task based on id\n-        URI splitLocation = uriBuilderFrom(remoteSourceTaskLocation).appendPath(\"results\").appendPath(String.valueOf(taskId.getId())).build();\n+        String splitLocation = remoteSourceTaskLocation.toASCIIString() + \"/results/\" + taskId.getId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2d15f92364f09048e087ef76a4e2a90fe4a8484"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk4NTQ4OA==", "bodyText": "It has a toString as well. The only difference is that toASCIIString will also encode the result string when there is non-ASCII character in the string. Do you have a preference? :)", "url": "https://github.com/prestodb/presto/pull/14290#discussion_r397985488", "createdAt": "2020-03-25T16:17:51Z", "author": {"login": "shixuan-fan"}, "path": "presto-main/src/main/java/com/facebook/presto/execution/SqlStageExecution.java", "diffHunk": "@@ -542,7 +541,7 @@ public void recordGetSplitTime(long start)\n     private static Split createRemoteSplitFor(TaskId taskId, URI remoteSourceTaskLocation, TaskId remoteSourceTaskId)\n     {\n         // Fetch the results from the buffer assigned to the task based on id\n-        URI splitLocation = uriBuilderFrom(remoteSourceTaskLocation).appendPath(\"results\").appendPath(String.valueOf(taskId.getId())).build();\n+        String splitLocation = remoteSourceTaskLocation.toASCIIString() + \"/results/\" + taskId.getId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUyMTQ4NA=="}, "originalCommit": {"oid": "e2d15f92364f09048e087ef76a4e2a90fe4a8484"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2940, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}