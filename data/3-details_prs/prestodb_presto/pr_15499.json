{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNjAxNTQ5", "number": 15499, "title": "Add release notes for 0.245", "bodyText": "Missing Release Notes\nMayank Garg\n\n #15495 Add query schema to ConnectorSession (Merged by: Timothy Meehan)\n\nExtracted Release Notes\n\n#15349 (Author: Dong Shi): Changes to pass through sqlparser options\n\nPass SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n\n\n#15393 (Author: James Petty): Make query result HTTP response compression configurable\n\nAdd support for disabling query result compression via client and server-side configuration properties.\n\n\n#15393 (Author: James Petty): Make query result HTTP response compression configurable\n\nAdd support for disabling query result compression via client and server-side configuration properties.\n\n\n#15414 (Author: Rongrong Zhong): Fix LambdaDefinitionExpression canonicalization\n\nFix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:15424).\n\n\n#15414 (Author: Rongrong Zhong): Fix LambdaDefinitionExpression canonicalization\n\nFix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:15424).\n\n\n#15421 (Author: James Petty): Reduce parquet metadata read request count\n\nImprove parquet metadata reader by pre-loading 16KiB from the end of the file. When the metadata section is smaller than the prefetch size, only a single read is performed compared to the previous two.\n\n\n#15428 (Author: Shixuan Fan): Use serialized plan hash for fragment result caching\n\nReduce memory usage for fragment result caching.\n\n\n#15444 (Author: Daniel Ohayon): Add UDF to map enum value to key\n\nAdded a UDF to get the key corresponding to an enum value.\n\n\n#15450 (Author: Daniel Ohayon): Fix LongEnum deserialization in map keys\n\nFix enum deserialization bug in map keys.\n\n\n#15464 (Author: Ke Wang): Fix split cacheable setting for affinity scheduling\n\nAdd support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n\n\n\nAll Commits\n\nb2c7ab8 Load function managers for Presto-on-Spark driver only (Vic Zhang)\n8e1384e Add query schema to ConnectorSession (Mayank Garg)\n27ab25b Fix tests for prefer_manifests_to_list_files property (Nikhil Collooru)\n996738a Fix NPE when a FlatMap column is all empty (Bhavani Hari)\n388055f Add more filter rates to BenchmarkSelectiveStreamReaders (Ying Su)\n297b089 Improve reading the lengthVector in SliceDirectSelectiveStreamReader (Ying Su)\n02e0981 Improve reading unbounded varchar with batch read mode (Ying Su)\ndc2d50b Make query result HTTP compression server configurable (James Petty)\nd0c7393 Make query result HTTP compression client configurable (James Petty)\n1e00009 Optimize array_intersect by using OptimizedTypedSet (Ying Su)\n87c7766 Optimize array_except by using OptimizedTypedSet (Ying Su)\naabf9d6 Optimize array_union using OptimizedTypedSet (Ying Su)\n23e1ba7 Optimize map_concat using OptimizedTypedSet (Ying Su)\n30cacee Introducing OptimizedTypedSet (Ying Su)\nec7336d Add self join and table scan assignment tests for dereference pushdown (Beinan Wang)\n1305272 Fix base column name not present error when dereference pushdown enabled (Beinan Wang)\n1a804ac Fixes for prefer_manifests_to_list_files property (Nikhil Collooru)\ncba87b4 Add syntax support for CREATE MATERIALIZED VIEW (Ge Gao)\nfe1bc57 Add verifier flag for removing memory related session property (Wenlei Xie)\nca64162 Update to airlift 0.198 and airbase 100 (Leiqing Cai)\n7b41e69 Add session property manifest_verification_enabled (Nikhil Collooru)\nce41e2f Add PartitionLoader to load partitions (Nikhil Collooru)\n04c9ef6 Add new session property prefer_manifests_to_list_files (Nikhil Collooru)\n951ec9d Build presto-docs in Travis (Leiqing Cai)\n1918b62 Do not treat warning as errors when making presto-docs (Leiqing Cai)\n817d50a Fix split cacheable setting for affinity scheduling (Ke Wang)\nc0e24ec Add UDF to map enum value to key (Daniel Ohayon)\n59e88dc Fix LongEnum deserialization in map keys (Daniel Ohayon)\n9d5db3c Fix extracting logic in dynamic filtering when integrated with filter pushdown (Ke Wang)\nc96938b Store file names and sizes in partition parameters (Nikhil Collooru)\n36fdd40 Add getFileSize() to retrieve the size of the file (Nikhil Collooru)\nfaee0a0 Add filter pushdown tests for native worker (Masha Basmanova)\n566b0d8 Change task threshold revoking config type to DataSize (Saksham Sachdev)\n0bb6d8d Null unused array elements in SpillableFinalOnlyGroupedAccumulator (Saksham Sachdev)\n2e67116 Use serialized plan for fragment result caching (Shixuan Fan)\n15b0ea2 Minor refactor to SingleStreamSpillerChoice (Wenlei Xie)\naef9bfc Fix not registering TempStorage in PluginManager (Wenlei Xie)\n6970b6d Refactor TempStorage related interfaces (Wenlei Xie)\n548457a Pass in SqlParserOptions to HttpRequestSessionContext for Prepared Statements. (Dong Shi)\n2499b40 Add per-node revocable memory limit (Saksham Sachdev)\n32e32af Add warning for Presto on Spark (Vic Zhang)\n68b3c78 Reuse immutable partition fields in Glue partition conversion (James Petty)\n1b84222 Add pre-read hueristic to parquet MetadataReader (James Petty)\nb23ce2e Remove spill-enabled requirement for enabling join spill (Rebecca Schlussel)\nb2208ec Fix the check to correctly capture NULL positions (Bhavani Hari)\n63d85a3 Add ParametricType APIs to FunctionNamespaceManager (Rongrong Zhong)\na6d77a6 Add QualifiedObjectName to TypeSignature (Rongrong Zhong)\nb411d77 Merge BuiltInTypeRegistry and BuiltinFunctionNamespaceManager (Rongrong Zhong)\n0ffe6df Move QualifiedObjectName to presto-common (Rongrong Zhong)\nbde30f6 Refactor type coercion logic to TypeCoercer (Rongrong Zhong)\nd8da5bc Rename TypeRegistry to BuiltInTypeRegistry (Rongrong Zhong)\ncd44d24 Clean up TypeManager APIs (Rongrong Zhong)\nae66246 Remove Metadata.getTypeManager (Rongrong Zhong)\ne24dcc2 Support function namespace manager for Presto-on-Spark (Vic Zhang)\nbe1e61c Refactor StaticFunctionNamespaceStore to load properties map (Vic Zhang)\n11535d4 Chage Block's toString to be unique with respect to hashCode (Rongrong Zhong)\n5e1687b Fix LambdaDefinitionExpression canonicalization (Rongrong Zhong)\n455cd6c Load configuration manager for Presto-on-Spark driver (Vic Zhang)", "createdAt": "2020-12-04T15:22:25Z", "url": "https://github.com/prestodb/presto/pull/15499", "merged": true, "mergeCommit": {"oid": "072f0227a3012c1b6f818cd8361ee40eb5d896b0"}, "closed": true, "closedAt": "2020-12-16T01:33:17Z", "author": {"login": "caithagoras"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi7ASBABqjQwNzM2NjAyMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmOZo7ABqjQxMTE4MjcxMTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39ecd8e2043414498d7dffd6965383ad5c194252", "author": {"user": {"login": "bhhari", "name": null}}, "url": "https://github.com/prestodb/presto/commit/39ecd8e2043414498d7dffd6965383ad5c194252", "committedDate": "2020-12-04T17:00:54Z", "message": "Cherry pick release notes for 0.244.1"}, "afterCommit": {"oid": "caf1271ff397b14156a0f9951cad7b32e31cbf9e", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/caf1271ff397b14156a0f9951cad7b32e31cbf9e", "committedDate": "2020-12-04T17:13:13Z", "message": "First set of tweaks/fixes to release notes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36171f9a67b08e78f97fe051e0d8d0eb33f07d9e", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/36171f9a67b08e78f97fe051e0d8d0eb33f07d9e", "committedDate": "2020-12-04T22:02:06Z", "message": "Add better release note for result compression config"}, "afterCommit": {"oid": "e9fc296b5e62d3354ac830fe1094a19f7ccfee99", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/e9fc296b5e62d3354ac830fe1094a19f7ccfee99", "committedDate": "2020-12-04T22:03:15Z", "message": "Add better release note for result compression config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NTAxMjc5", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-547501279", "createdAt": "2020-12-08T18:15:19Z", "commit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxNToyMFrOIBupxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxODoyM1rOIBu2Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4Mzg0NA==", "bodyText": "These are technical details.  Give a user facing description instead. Something like:\nFix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538683844", "createdAt": "2020-12-08T18:15:20Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA==", "bodyText": "what kind of bug?  Would queries fail?  Need a user facing description of what didn't work that now does.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538684980", "createdAt": "2020-12-08T18:16:18Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NzA0Nw==", "bodyText": "maybe this is just a github display issue, but the line should be as long as the text.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538687047", "createdAt": "2020-12-08T18:18:23Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+____________", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NTU1MTQz", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-547555143", "createdAt": "2020-12-08T19:20:56Z", "commit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToyMDo1NlrOIByKjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToyNjoyOFrOIByYIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MTM5MQ==", "bodyText": "Add :func:enum_key to get the key corresponding to an enum value", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538741391", "createdAt": "2020-12-08T19:20:56Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MzUxOA==", "bodyText": "Fix parsing logic for prepared statements to be consistent with regular statements - I don't think we need to outline the method that we achieved this.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538743518", "createdAt": "2020-12-08T19:24:19Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0NDg2Ng==", "bodyText": "``Improve parquet metadata reader by preloading data and reducing the number of reads` - I don't think we should dig too much into the implementation details. We should just link to the issue/pr", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538744866", "createdAt": "2020-12-08T19:26:28Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by pre-loading 16KiB from the end of the file. When the metadata section is smaller than the prefetch size, only a single read is performed compared to the previous two.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NjQ3MjQ0", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-547647244", "createdAt": "2020-12-08T21:29:01Z", "commit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMToyOTowMlrOIB3Amw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMToyOTowMlrOIB3Amw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyMDc2Mw==", "bodyText": "nit: bug which causing -> bug causing", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538820763", "createdAt": "2020-12-08T21:29:02Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NjU3MjY2", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-547657266", "createdAt": "2020-12-08T21:43:38Z", "commit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMTo0MzozOVrOIB3izg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMTo0MzozOVrOIB3izg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA==", "bodyText": "we don't need the signature here. The :func: macro will make this a hyperlink and that should take people to the documentation", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538829518", "createdAt": "2020-12-08T21:43:39Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NzAxNjU1", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-547701655", "createdAt": "2020-12-08T22:55:47Z", "commit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo1NTo0N1rOIB6BnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo1NjowMlrOIB6CMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg3MDE3Mw==", "bodyText": "Need  a period at the end of  the line.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538870173", "createdAt": "2020-12-08T22:55:47Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg3MDMyMA==", "bodyText": "Need a period at the end of the line.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538870320", "createdAt": "2020-12-08T22:56:02Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by preloading data and reducing the number of reads (:pr:`15421`).\n+\n+SPI Changes\n+____________\n+* Add ``getSchema`` to ``ConnectorSession``", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 29}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3644cb30635402090fe965f9f042a94d514b3aae", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/3644cb30635402090fe965f9f042a94d514b3aae", "committedDate": "2020-12-09T01:29:03Z", "message": "Adding some missing punctuation"}, "afterCommit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "committedDate": "2020-12-09T01:39:50Z", "message": "Add release notes for 0.245"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NjM0NzQ1", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-548634745", "createdAt": "2020-12-09T21:43:10Z", "commit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NjM1ODgx", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-548635881", "createdAt": "2020-12-09T21:44:52Z", "commit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0NDo1MlrOICq6Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0NDo1MlrOICq6Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MTA2Ng==", "bodyText": "you wrote the warning 2x", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r539671066", "createdAt": "2020-12-09T21:44:52Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.242.rst", "diffHunk": "@@ -5,6 +5,12 @@ Release 0.242\n .. warning::\n     There is a bug in LambdaDefinitionExpression canonicalization introduced since 0.238. For more details, go to :issue:`15424`.\n \n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured. Fixed in :pr:`15501`.\n+\n+.. warning::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "committedDate": "2020-12-09T01:39:50Z", "message": "Add release notes for 0.245"}, "afterCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/cbfd2bdd04f401cb9f24344824566d3ff67955d4", "committedDate": "2020-12-09T21:52:10Z", "message": "Add release notes for 0.245"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NjQ0NTM0", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-548644534", "createdAt": "2020-12-09T21:57:30Z", "commit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTM4MjM3", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-551938237", "createdAt": "2020-12-14T22:14:20Z", "commit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjoxNDoyMFrOIFtf0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjoxNDoyMFrOIFtf0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjg1OTIxOA==", "bodyText": "Missing period at the end of the line.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542859218", "createdAt": "2020-12-14T22:14:20Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0873990a07772be310d485d2d5f8b5b54e0d3203", "author": {"user": {"login": "bhhari", "name": null}}, "url": "https://github.com/prestodb/presto/commit/0873990a07772be310d485d2d5f8b5b54e0d3203", "committedDate": "2020-12-14T22:25:04Z", "message": "Release notes for 0.244.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTY0Mzc5", "url": "https://github.com/prestodb/presto/pull/15499#pullrequestreview-551964379", "createdAt": "2020-12-14T22:58:26Z", "commit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODoyNlrOIFwOag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODozMlrOIFwOyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkwMzkxNA==", "bodyText": "I ran make with Sphinx 2.4.0 and it gives me warning about this line.\nWARNING: py:func reference target not found: enum_key  \n\nWe either need to document the function, or do\n``enum_key``\n\nas a temporary workaround to not reference the function.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542903914", "createdAt": "2020-12-14T22:58:26Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkwNDAxMA==", "bodyText": "Same here.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542904010", "createdAt": "2020-12-14T22:58:32Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "103fc4961bff881da77f60816de3cdc238eb7348", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/103fc4961bff881da77f60816de3cdc238eb7348", "committedDate": "2020-12-14T23:32:50Z", "message": "Add release notes for 0.245"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/cbfd2bdd04f401cb9f24344824566d3ff67955d4", "committedDate": "2020-12-09T21:52:10Z", "message": "Add release notes for 0.245"}, "afterCommit": {"oid": "103fc4961bff881da77f60816de3cdc238eb7348", "author": {"user": {"login": "aweisberg", "name": null}}, "url": "https://github.com/prestodb/presto/commit/103fc4961bff881da77f60816de3cdc238eb7348", "committedDate": "2020-12-14T23:32:50Z", "message": "Add release notes for 0.245"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4511, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}