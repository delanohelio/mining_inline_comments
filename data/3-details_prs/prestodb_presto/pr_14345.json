{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MzYwNTA3", "number": 14345, "title": " Drop presto-orc's dependency on presto-memory-context", "bodyText": "== NO RELEASE NOTE ==", "createdAt": "2020-04-06T03:36:07Z", "url": "https://github.com/prestodb/presto/pull/14345", "merged": true, "mergeCommit": {"oid": "95bcb3947cad1570e19a0adaebc58009aa362ada"}, "closed": true, "closedAt": "2020-04-08T02:24:31Z", "author": {"login": "NikhilCollooru"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVBhqfAFqTM4ODQyNDQzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVeZ_dAFqTM4OTYxMjEwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NDI0NDM2", "url": "https://github.com/prestodb/presto/pull/14345#pullrequestreview-388424436", "createdAt": "2020-04-06T16:35:41Z", "commit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "state": "COMMENTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNjozNTo0MVrOGBgSKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNjo0NDo1NFrOGBgqNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMDY5OA==", "bodyText": "private", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404230698", "createdAt": "2020-04-06T16:35:41Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcAggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+\n+public class HiveOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    private AggregatedMemoryContext delegate;\n+\n+    public HiveOrcAggregatedMemoryContext()\n+    {\n+        this.delegate = newSimpleAggregatedMemoryContext();\n+    }\n+\n+    public HiveOrcAggregatedMemoryContext(AggregatedMemoryContext delegate)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMDgzMw==", "bodyText": "requireNonNull", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404230833", "createdAt": "2020-04-06T16:35:53Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcAggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+\n+public class HiveOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    private AggregatedMemoryContext delegate;\n+\n+    public HiveOrcAggregatedMemoryContext()\n+    {\n+        this.delegate = newSimpleAggregatedMemoryContext();\n+    }\n+\n+    public HiveOrcAggregatedMemoryContext(AggregatedMemoryContext delegate)\n+    {\n+        this.delegate = delegate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMTE0OQ==", "bodyText": "final", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404231149", "createdAt": "2020-04-06T16:36:25Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcAggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+\n+public class HiveOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    private AggregatedMemoryContext delegate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMTIwMg==", "bodyText": "final", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404231202", "createdAt": "2020-04-06T16:36:30Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+public class HiveOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    private LocalMemoryContext delegate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMTMzMQ==", "bodyText": "requireNonNull", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404231331", "createdAt": "2020-04-06T16:36:41Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+public class HiveOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    private LocalMemoryContext delegate;\n+\n+    public HiveOrcLocalMemoryContext(LocalMemoryContext delegate)\n+    {\n+        this.delegate = delegate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMTY0Ng==", "bodyText": "package-private", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404231646", "createdAt": "2020-04-06T16:37:13Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+public class HiveOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    private LocalMemoryContext delegate;\n+\n+    public HiveOrcLocalMemoryContext(LocalMemoryContext delegate)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjMyNQ==", "bodyText": "nit: OrcAggregatedMemoryContext. Use interfaces whenever possible on declaration. Same for all other places.", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404232325", "createdAt": "2020-04-06T16:38:14Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/orc/OrcBatchPageSourceFactory.java", "diffHunk": "@@ -236,9 +235,9 @@ public static OrcBatchPageSource createOrcPageSource(\n             throw new PrestoException(HIVE_CANNOT_OPEN_SPLIT, splitError(e, path, start, length), e);\n         }\n \n-        AggregatedMemoryContext systemMemoryUsage = newSimpleAggregatedMemoryContext();\n+        HiveOrcAggregatedMemoryContext systemMemoryUsage = new HiveOrcAggregatedMemoryContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzNDg3Mw==", "bodyText": "Move this above orcReaderOptions", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404234873", "createdAt": "2020-04-06T16:42:00Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcReader.java", "diffHunk": "@@ -72,10 +70,11 @@ public OrcReader(\n             OrcFileTailSource orcFileTailSource,\n             StripeMetadataSource stripeMetadataSource,\n             OrcReaderOptions orcReaderOptions,\n-            boolean cacheable)\n+            boolean cacheable,\n+            OrcAggregatedMemoryContext aggregatedMemoryContext)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzNjA5Mw==", "bodyText": "Nah, we cannot return null. We should return another no-op memory context.", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404236093", "createdAt": "2020-04-06T16:43:48Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+public class NoopOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    public OrcAggregatedMemoryContext newOrcAggregatedMemoryContext()\n+    {\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzNjIyNQ==", "bodyText": "same", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404236225", "createdAt": "2020-04-06T16:43:59Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+public class NoopOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    public OrcAggregatedMemoryContext newOrcAggregatedMemoryContext()\n+    {\n+        return null;\n+    }\n+\n+    public OrcLocalMemoryContext newOrcLocalMemoryContext(String allocationTag)\n+    {\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzNjg1NA==", "bodyText": "make a static final variable in class NoopOrcAggregatedMemoryContext so we don't have to \"new\" it every time.", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404236854", "createdAt": "2020-04-06T16:44:54Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcReader.java", "diffHunk": "@@ -285,12 +285,13 @@ static void validateFile(\n                     new StorageStripeMetadataSource(),\n                     Optional.of(writeValidation),\n                     orcReaderOptions,\n-                    false);\n+                    false,\n+                    new NoopOrcAggregatedMemoryContext());\n             try (OrcBatchRecordReader orcRecordReader = orcReader.createBatchRecordReader(\n                     readTypes.build(),\n                     OrcPredicate.TRUE,\n                     hiveStorageTimeZone,\n-                    newSimpleAggregatedMemoryContext(),\n+                    new NoopOrcAggregatedMemoryContext(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1"}, "originalPosition": 114}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6fd87a84f33a0b67cee895dfe4498c75895775c1", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/6fd87a84f33a0b67cee895dfe4498c75895775c1", "committedDate": "2020-04-06T03:13:08Z", "message": " Drop presto-orc's dependency on presto-memory-context"}, "afterCommit": {"oid": "8ac95f81ddea2b48d46ae214bb2d99ce403e57de", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/8ac95f81ddea2b48d46ae214bb2d99ce403e57de", "committedDate": "2020-04-06T18:41:05Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTI4OTg1", "url": "https://github.com/prestodb/presto/pull/14345#pullrequestreview-388528985", "createdAt": "2020-04-06T18:54:22Z", "commit": {"oid": "8ac95f81ddea2b48d46ae214bb2d99ce403e57de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo1NDoyM1rOGBlfTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo1NDoyM1rOGBlfTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxNTk4MA==", "bodyText": "return a completed future; note that we almost never pass null objects in our codebase", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404315980", "createdAt": "2020-04-06T18:54:23Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,31 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+public class NoopOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    @Override\n+    public ListenableFuture<?> setBytes(long bytes)\n+    {\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ac95f81ddea2b48d46ae214bb2d99ce403e57de"}, "originalPosition": 24}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ac95f81ddea2b48d46ae214bb2d99ce403e57de", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/8ac95f81ddea2b48d46ae214bb2d99ce403e57de", "committedDate": "2020-04-06T18:41:05Z", "message": " Drop presto-orc's dependency on presto-memory-context"}, "afterCommit": {"oid": "58e25b4dfde6e4876ca29916198fc7dad4443206", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/58e25b4dfde6e4876ca29916198fc7dad4443206", "committedDate": "2020-04-07T08:21:39Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "58e25b4dfde6e4876ca29916198fc7dad4443206", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/58e25b4dfde6e4876ca29916198fc7dad4443206", "committedDate": "2020-04-07T08:21:39Z", "message": " Drop presto-orc's dependency on presto-memory-context"}, "afterCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/d036521b41d80c9adaf7f474055239a51c4c5ce7", "committedDate": "2020-04-07T08:42:10Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MzM3ODY4", "url": "https://github.com/prestodb/presto/pull/14345#pullrequestreview-389337868", "createdAt": "2020-04-07T17:30:02Z", "commit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "state": "APPROVED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNzozMDowMlrOGCOdRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTowMzo1MlrOGCR-iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk4NzIwNA==", "bodyText": "this(this.delegate = newSimpleAggregatedMemoryContext());", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r404987204", "createdAt": "2020-04-07T17:30:02Z", "author": {"login": "highker"}, "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.hive;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcAggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+import static java.util.Objects.requireNonNull;\n+\n+public class HiveOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    private final AggregatedMemoryContext delegate;\n+\n+    public HiveOrcAggregatedMemoryContext()\n+    {\n+        this.delegate = newSimpleAggregatedMemoryContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MDQ5Ng==", "bodyText": "return NOOP_ORC_AGGREGATED_MEMORY_CONTEXT", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405040496", "createdAt": "2020-04-07T18:56:39Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+public class NoopOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    public static final NoopOrcAggregatedMemoryContext NOOP_ORC_AGGREGATED_MEMORY_CONTEXT = new NoopOrcAggregatedMemoryContext();\n+\n+    public OrcAggregatedMemoryContext newOrcAggregatedMemoryContext()\n+    {\n+        return new NoopOrcAggregatedMemoryContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MDcyMg==", "bodyText": "Make a public static const on NoopOrcLocalMemoryContext as well", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405040722", "createdAt": "2020-04-07T18:57:02Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.google.common.util.concurrent.Futures;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+public class NoopOrcLocalMemoryContext", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MDgwOA==", "bodyText": "refer to the const.", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405040808", "createdAt": "2020-04-07T18:57:12Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+public class NoopOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    public static final NoopOrcAggregatedMemoryContext NOOP_ORC_AGGREGATED_MEMORY_CONTEXT = new NoopOrcAggregatedMemoryContext();\n+\n+    public OrcAggregatedMemoryContext newOrcAggregatedMemoryContext()\n+    {\n+        return new NoopOrcAggregatedMemoryContext();\n+    }\n+\n+    public OrcLocalMemoryContext newOrcLocalMemoryContext(String allocationTag)\n+    {\n+        return new NoopOrcLocalMemoryContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MTU3Mw==", "bodyText": "Add @Override to all the methods in this class", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405041573", "createdAt": "2020-04-07T18:58:27Z", "author": {"login": "highker"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/NoopOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+public class NoopOrcAggregatedMemoryContext", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0Mjg5OQ==", "bodyText": "Use this(...)", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405042899", "createdAt": "2020-04-07T19:00:28Z", "author": {"login": "highker"}, "path": "presto-orc/src/test/java/com/facebook/presto/orc/TestingHiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+import static java.util.Objects.requireNonNull;\n+\n+public class TestingHiveOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    private final AggregatedMemoryContext delegate;\n+\n+    public TestingHiveOrcAggregatedMemoryContext()\n+    {\n+        this.delegate = newSimpleAggregatedMemoryContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MzE1NA==", "bodyText": "Make a javadoc to explain this is copy of HiveOrc...", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405043154", "createdAt": "2020-04-07T19:00:55Z", "author": {"login": "highker"}, "path": "presto-orc/src/test/java/com/facebook/presto/orc/TestingHiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+import static java.util.Objects.requireNonNull;\n+\n+public class TestingHiveOrcAggregatedMemoryContext", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0Mzg4NA==", "bodyText": "@Override", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405043884", "createdAt": "2020-04-07T19:02:13Z", "author": {"login": "highker"}, "path": "presto-orc/src/test/java/com/facebook/presto/orc/TestingHiveOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class TestingHiveOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    private final LocalMemoryContext delegate;\n+\n+    TestingHiveOrcLocalMemoryContext(LocalMemoryContext delegate)\n+    {\n+        this.delegate = requireNonNull(delegate, \"delegate is null\");\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MzkxNw==", "bodyText": "@Override", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405043917", "createdAt": "2020-04-07T19:02:16Z", "author": {"login": "highker"}, "path": "presto-orc/src/test/java/com/facebook/presto/orc/TestingHiveOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class TestingHiveOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    private final LocalMemoryContext delegate;\n+\n+    TestingHiveOrcLocalMemoryContext(LocalMemoryContext delegate)\n+    {\n+        this.delegate = requireNonNull(delegate, \"delegate is null\");\n+    }\n+\n+    public ListenableFuture<?> setBytes(long bytes)\n+    {\n+        return delegate.setBytes(bytes);\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0NDY3OA==", "bodyText": "same", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405044678", "createdAt": "2020-04-07T19:03:34Z", "author": {"login": "highker"}, "path": "presto-raptor/src/main/java/com/facebook/presto/raptor/RaptorOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.raptor;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcAggregatedMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+import static java.util.Objects.requireNonNull;\n+\n+public class RaptorOrcAggregatedMemoryContext\n+        implements OrcAggregatedMemoryContext\n+{\n+    private final AggregatedMemoryContext delegate;\n+\n+    public RaptorOrcAggregatedMemoryContext()\n+    {\n+        this.delegate = newSimpleAggregatedMemoryContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0NDg3Mw==", "bodyText": "same", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405044873", "createdAt": "2020-04-07T19:03:52Z", "author": {"login": "highker"}, "path": "presto-raptor/src/main/java/com/facebook/presto/raptor/RaptorOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.raptor;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.facebook.presto.orc.OrcLocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class RaptorOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    private final LocalMemoryContext delegate;\n+\n+    RaptorOrcLocalMemoryContext(LocalMemoryContext delegate)\n+    {\n+        this.delegate = requireNonNull(delegate, \"delegate is null\");\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7"}, "originalPosition": 31}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d036521b41d80c9adaf7f474055239a51c4c5ce7", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/d036521b41d80c9adaf7f474055239a51c4c5ce7", "committedDate": "2020-04-07T08:42:10Z", "message": " Drop presto-orc's dependency on presto-memory-context"}, "afterCommit": {"oid": "8bd3f2387c27a9584306a075632abde24a096d0f", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/8bd3f2387c27a9584306a075632abde24a096d0f", "committedDate": "2020-04-07T22:32:06Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bd3f2387c27a9584306a075632abde24a096d0f", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/8bd3f2387c27a9584306a075632abde24a096d0f", "committedDate": "2020-04-07T22:32:06Z", "message": " Drop presto-orc's dependency on presto-memory-context"}, "afterCommit": {"oid": "b9e4849604ca9d50d74ef6d313723620c78f997b", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/b9e4849604ca9d50d74ef6d313723620c78f997b", "committedDate": "2020-04-07T23:35:11Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTY2Nzkz", "url": "https://github.com/prestodb/presto/pull/14345#pullrequestreview-389566793", "createdAt": "2020-04-07T23:52:39Z", "commit": {"oid": "b9e4849604ca9d50d74ef6d313723620c78f997b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzo1MjozOVrOGCaNrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzo1MjozOVrOGCaNrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE3OTgyMw==", "bodyText": "javadoc (staring with /**) is usually place right before the class definition without a line break. e.g.\n/**\n * This class is a copy of HiveOrcLocalMemoryContext.\n * Any changes made to HiveOrcLocalMemoryContext should be made here as well\n */\npublic class TestingHiveOrcLocalMemoryContext\n...", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405179823", "createdAt": "2020-04-07T23:52:39Z", "author": {"login": "highker"}, "path": "presto-orc/src/test/java/com/facebook/presto/orc/TestingHiveOrcLocalMemoryContext.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.facebook.presto.memory.context.LocalMemoryContext;\n+import com.google.common.util.concurrent.ListenableFuture;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class TestingHiveOrcLocalMemoryContext\n+        implements OrcLocalMemoryContext\n+{\n+    /*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9e4849604ca9d50d74ef6d313723620c78f997b"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "034e00ec15fdbb72c2ca103c1388c89522f1a07e", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/034e00ec15fdbb72c2ca103c1388c89522f1a07e", "committedDate": "2020-04-08T00:01:04Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b9e4849604ca9d50d74ef6d313723620c78f997b", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/b9e4849604ca9d50d74ef6d313723620c78f997b", "committedDate": "2020-04-07T23:35:11Z", "message": " Drop presto-orc's dependency on presto-memory-context"}, "afterCommit": {"oid": "034e00ec15fdbb72c2ca103c1388c89522f1a07e", "author": {"user": {"login": "NikhilCollooru", "name": "Nikhil Collooru"}}, "url": "https://github.com/prestodb/presto/commit/034e00ec15fdbb72c2ca103c1388c89522f1a07e", "committedDate": "2020-04-08T00:01:04Z", "message": " Drop presto-orc's dependency on presto-memory-context"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NjEyMTAw", "url": "https://github.com/prestodb/presto/pull/14345#pullrequestreview-389612100", "createdAt": "2020-04-08T02:24:01Z", "commit": {"oid": "034e00ec15fdbb72c2ca103c1388c89522f1a07e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwMjoyNDowMlrOGCcwSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwMjoyNDowMlrOGCcwSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTIyMTQ1MQ==", "bodyText": "Javadoc starts with /** rather than /*", "url": "https://github.com/prestodb/presto/pull/14345#discussion_r405221451", "createdAt": "2020-04-08T02:24:02Z", "author": {"login": "highker"}, "path": "presto-orc/src/test/java/com/facebook/presto/orc/TestingHiveOrcAggregatedMemoryContext.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import com.facebook.presto.memory.context.AggregatedMemoryContext;\n+\n+import static com.facebook.presto.memory.context.AggregatedMemoryContext.newSimpleAggregatedMemoryContext;\n+import static java.util.Objects.requireNonNull;\n+\n+/*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "034e00ec15fdbb72c2ca103c1388c89522f1a07e"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1794, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}