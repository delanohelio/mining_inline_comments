{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MjU3NjU4", "number": 15181, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0NDozOFrOEkQ-1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0NDozOFrOEkQ-1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDYyNDIxOnYy", "diffSide": "LEFT", "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/framework/LimitQueryDeterminismAnalyzer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0NDozOFrOHTGr2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo1OToxNVrOHTG98Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NDUyMQ==", "bodyText": "why are we removingrowCount >= limit check? It makes sense to be non-deterministic in this case as well.", "url": "https://github.com/prestodb/presto/pull/15181#discussion_r489794521", "createdAt": "2020-09-16T22:44:38Z", "author": {"login": "sujay-jain"}, "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/framework/LimitQueryDeterminismAnalyzer.java", "diffHunk": "@@ -262,7 +268,7 @@ private LimitQueryDeterminismAnalysis analyzeLimitNoOrderBy(Query newLimitQuery,\n         if (rowCountHigherLimit == rowCount) {\n             return DETERMINISTIC;\n         }\n-        if (rowCount >= limit && rowCountHigherLimit > rowCount) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d9a3396b2d792f8c4c007722354ac581e48784"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5OTE1Mw==", "bodyText": "The change we're adding in this PR will short circuit cases with rowCount < limit. Therefore, when reaching this line, it is guaranteed that rowCount >= limit.", "url": "https://github.com/prestodb/presto/pull/15181#discussion_r489799153", "createdAt": "2020-09-16T22:59:15Z", "author": {"login": "caithagoras"}, "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/framework/LimitQueryDeterminismAnalyzer.java", "diffHunk": "@@ -262,7 +268,7 @@ private LimitQueryDeterminismAnalysis analyzeLimitNoOrderBy(Query newLimitQuery,\n         if (rowCountHigherLimit == rowCount) {\n             return DETERMINISTIC;\n         }\n-        if (rowCount >= limit && rowCountHigherLimit > rowCount) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NDUyMQ=="}, "originalCommit": {"oid": "90d9a3396b2d792f8c4c007722354ac581e48784"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3669, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}