{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMjQxNzY3", "number": 13949, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxOTo0NjowOFrODXQSHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxODo0NToyMlrODXV2rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzEwNjIxOnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/com/facebook/presto/SystemSessionProperties.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxOTo0NjowOFrOFceW5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMzowMTozOFrOFdHc7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQwMTgyOA==", "bodyText": "Let's call it list_all_functions?", "url": "https://github.com/prestodb/presto/pull/13949#discussion_r365401828", "createdAt": "2020-01-10T19:46:08Z", "author": {"login": "rongrong"}, "path": "presto-main/src/main/java/com/facebook/presto/SystemSessionProperties.java", "diffHunk": "@@ -137,6 +137,7 @@\n     public static final String INDEX_LOADER_TIMEOUT = \"index_loader_timeout\";\n     public static final String OPTIMIZED_REPARTITIONING_ENABLED = \"optimized_repartitioning\";\n     public static final String AGGREGATION_PARTITIONING_MERGING_STRATEGY = \"aggregation_partitioning_merging_strategy\";\n+    public static final String LIST_NON_BUILT_IN_FUNCTIONS = \"list_non_built_in_functions\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e16dc4643be0f20170a3cacac52d16a32deb1fb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQxMjAzNA==", "bodyText": "What about list_sql_functions, list_user_defined_functions, or list_udfs if you think the current name is cumbersome.\nFor people who don't have context, it's not clear from reading the name what the difference is between \"all functions\" and \"not all functions\", and any of those 3 names at least gives some hint.", "url": "https://github.com/prestodb/presto/pull/13949#discussion_r365412034", "createdAt": "2020-01-10T20:13:12Z", "author": {"login": "caithagoras"}, "path": "presto-main/src/main/java/com/facebook/presto/SystemSessionProperties.java", "diffHunk": "@@ -137,6 +137,7 @@\n     public static final String INDEX_LOADER_TIMEOUT = \"index_loader_timeout\";\n     public static final String OPTIMIZED_REPARTITIONING_ENABLED = \"optimized_repartitioning\";\n     public static final String AGGREGATION_PARTITIONING_MERGING_STRATEGY = \"aggregation_partitioning_merging_strategy\";\n+    public static final String LIST_NON_BUILT_IN_FUNCTIONS = \"list_non_built_in_functions\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQwMTgyOA=="}, "originalCommit": {"oid": "9e16dc4643be0f20170a3cacac52d16a32deb1fb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA1NDYzNw==", "bodyText": "But is this only going to list sql functions? it will list all functions right? Unless you are planning to make it an enum and allow only listing certain functions. Another way to configure this is to have it as list_static_functions_only.", "url": "https://github.com/prestodb/presto/pull/13949#discussion_r366054637", "createdAt": "2020-01-13T22:07:22Z", "author": {"login": "rongrong"}, "path": "presto-main/src/main/java/com/facebook/presto/SystemSessionProperties.java", "diffHunk": "@@ -137,6 +137,7 @@\n     public static final String INDEX_LOADER_TIMEOUT = \"index_loader_timeout\";\n     public static final String OPTIMIZED_REPARTITIONING_ENABLED = \"optimized_repartitioning\";\n     public static final String AGGREGATION_PARTITIONING_MERGING_STRATEGY = \"aggregation_partitioning_merging_strategy\";\n+    public static final String LIST_NON_BUILT_IN_FUNCTIONS = \"list_non_built_in_functions\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQwMTgyOA=="}, "originalCommit": {"oid": "9e16dc4643be0f20170a3cacac52d16a32deb1fb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA3NTExNg==", "bodyText": "Since we're using \"built in function\" as the language in our code, I'm updating the PR to use list_built_in_functions_only.", "url": "https://github.com/prestodb/presto/pull/13949#discussion_r366075116", "createdAt": "2020-01-13T23:01:38Z", "author": {"login": "caithagoras"}, "path": "presto-main/src/main/java/com/facebook/presto/SystemSessionProperties.java", "diffHunk": "@@ -137,6 +137,7 @@\n     public static final String INDEX_LOADER_TIMEOUT = \"index_loader_timeout\";\n     public static final String OPTIMIZED_REPARTITIONING_ENABLED = \"optimized_repartitioning\";\n     public static final String AGGREGATION_PARTITIONING_MERGING_STRATEGY = \"aggregation_partitioning_merging_strategy\";\n+    public static final String LIST_NON_BUILT_IN_FUNCTIONS = \"list_non_built_in_functions\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQwMTgyOA=="}, "originalCommit": {"oid": "9e16dc4643be0f20170a3cacac52d16a32deb1fb"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1ODAxOTAyOnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/com/facebook/presto/metadata/FunctionManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxODo0NToyMlrOFcmi6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxODo0NToyMlrOFcmi6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNTk3Nw==", "bodyText": "Is the convention to use static imports here?", "url": "https://github.com/prestodb/presto/pull/13949#discussion_r365535977", "createdAt": "2020-01-11T18:45:22Z", "author": {"login": "ajaygeorge"}, "path": "presto-main/src/main/java/com/facebook/presto/metadata/FunctionManager.java", "diffHunk": "@@ -171,9 +170,9 @@ public void registerBuiltInFunctions(List<? extends BuiltInFunction> functions)\n         builtInFunctionNamespaceManager.registerBuiltInFunctions(functions);\n     }\n \n-    public List<SqlFunction> listFunctions()\n+    public List<SqlFunction> listFunctions(Session session)\n     {\n-        Collection<FunctionNamespaceManager<?>> managers = listNonBuiltInFunctions ?\n+        Collection<FunctionNamespaceManager<?>> managers = SystemSessionProperties.isListNonBuiltInFunctions(session) ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e16dc4643be0f20170a3cacac52d16a32deb1fb"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2153, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}