{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4Mjk1NzY0", "number": 15182, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMzozMjowNFrOEkRl1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMzoxMjoxNlrOEld60Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDcyNDA2OnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMzozMjowNFrOHTHmYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMDozMDo1M1rOHU84pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTUwNg==", "bodyText": "I think this is a bit broken right now: the order of arguments is different from expected by Pinot", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r489809506", "createdAt": "2020-09-16T23:32:04Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000\n+pinot.limit-large-for-segment=10000\n+pinot.allow-multiple-aggregations=true\n+pinot.use-date-trunc=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMTEwOA==", "bodyText": "removed", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491731108", "createdAt": "2020-09-20T20:30:53Z", "author": {"login": "xiangfu0"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000\n+pinot.limit-large-for-segment=10000\n+pinot.allow-multiple-aggregations=true\n+pinot.use-date-trunc=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTUwNg=="}, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDcyNDcxOnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMzozMjoyN1rOHTHmzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMDozMTozNVrOHU841w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTYxMw==", "bodyText": "This is not required with SQL end point", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r489809613", "createdAt": "2020-09-16T23:32:27Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000\n+pinot.limit-large-for-segment=10000\n+pinot.allow-multiple-aggregations=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMTE1OQ==", "bodyText": "removed", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491731159", "createdAt": "2020-09-20T20:31:35Z", "author": {"login": "xiangfu0"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000\n+pinot.limit-large-for-segment=10000\n+pinot.allow-multiple-aggregations=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTYxMw=="}, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDcyNTg4OnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMzozMzowNVrOHTHngg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMDozMTowNFrOHU84tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTc5NA==", "bodyText": "I don't recall but is the default not good enough ? This may lead to data loss issues ?", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r489809794", "createdAt": "2020-09-16T23:33:05Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000\n+pinot.limit-large-for-segment=10000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMTEyNw==", "bodyText": "correct, removed it for now", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491731127", "createdAt": "2020-09-20T20:31:04Z", "author": {"login": "xiangfu0"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000\n+pinot.limit-large-for-segment=10000", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTc5NA=="}, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDcyNjk5OnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMzozMzozOFrOHTHoIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMDozMToyOVrOHU84zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTk1NQ==", "bodyText": "Do we need this ? I think we are trying to reach to broker directly", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r489809955", "createdAt": "2020-09-16T23:33:38Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMTE1MA==", "bodyText": "it's not required, I think only uber need this.", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491731150", "createdAt": "2020-09-20T20:31:29Z", "author": {"login": "xiangfu0"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+connector.name=pinot\n+pinot.controller-urls=localhost:9000\n+pinot.controller-rest-service=localhost:9000", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwOTk1NQ=="}, "originalCommit": {"oid": "62067eaab2b9df6040431a4a198759bfcdb4caab"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzExOTYyOnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMDo1MDozNVrOHU8_rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMTowNjo1MFrOHU9GLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMjkxMA==", "bodyText": "Since we are anyway filing a prestodb diff here: How about we make these default set in the code itself and thin this config file even more ? I think the only reason not to do that would be that these settings are only supported on a newer Pinot cluster. But that is also true of this 'sample config' file.\nIf you do end up moving these configs there, we can also add this comment Pinot version >= 0.4.0 is required to the PinotConfig.java file.", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491732910", "createdAt": "2020-09-20T20:50:35Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,11 @@\n+connector.name=pinot\n+\n+pinot.controller-urls=localhost:9000\n+\n+# Infer Pinot time fields to Presto Date/Timestamp type\n+pinot.infer-date-type-in-schema=true\n+pinot.infer-timestamp-type-in-schema=true\n+\n+# Use Pinot SQL endpoint for broker queries with aggregation pushdown.\n+# Pinot version >= 0.4.0 is required.\n+pinot.use-pinot-sql-for-broker-queries=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a1c467d03c47ce4c7d13fd5aa0f5862fc553a07"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczNDU3Mg==", "bodyText": "done", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491734572", "createdAt": "2020-09-20T21:06:50Z", "author": {"login": "xiangfu0"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,11 @@\n+connector.name=pinot\n+\n+pinot.controller-urls=localhost:9000\n+\n+# Infer Pinot time fields to Presto Date/Timestamp type\n+pinot.infer-date-type-in-schema=true\n+pinot.infer-timestamp-type-in-schema=true\n+\n+# Use Pinot SQL endpoint for broker queries with aggregation pushdown.\n+# Pinot version >= 0.4.0 is required.\n+pinot.use-pinot-sql-for-broker-queries=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMjkxMA=="}, "originalCommit": {"oid": "8a1c467d03c47ce4c7d13fd5aa0f5862fc553a07"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzE0ODgxOnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMToyNjo1NVrOHU9Neg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMTo1MDowNVrOHU9WEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczNjQ0Mg==", "bodyText": "So you think that these should continue to remain as default false ? What Pinot version were these introduced in ? Is it >= 0.4.0 ? (ie were they introduced in the same version as the SQL end point).", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491736442", "createdAt": "2020-09-20T21:26:55Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,7 @@\n+connector.name=pinot\n+\n+pinot.controller-urls=localhost:9000\n+\n+# Infer Pinot time fields to Presto Date/Timestamp type\n+pinot.infer-date-type-in-schema=true\n+pinot.infer-timestamp-type-in-schema=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92dfbc66cb2cbff70247efe806017f96c5ee19bf"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczODY0MQ==", "bodyText": "They are introduced in Pinot 0.3.0, just if we turn these configs off, those fields will be treated as INT or LONG or VARCHAR.\nI\u2019m also fine to make them default to be true.", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491738641", "createdAt": "2020-09-20T21:50:05Z", "author": {"login": "xiangfu0"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,7 @@\n+connector.name=pinot\n+\n+pinot.controller-urls=localhost:9000\n+\n+# Infer Pinot time fields to Presto Date/Timestamp type\n+pinot.infer-date-type-in-schema=true\n+pinot.infer-timestamp-type-in-schema=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczNjQ0Mg=="}, "originalCommit": {"oid": "92dfbc66cb2cbff70247efe806017f96c5ee19bf"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzIyOTYxOnYy", "diffSide": "RIGHT", "path": "presto-main/etc/catalog/pinot.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMzoxMjoxNlrOHU9zqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMzoxMjoxNlrOHU9zqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0NjIxOQ==", "bodyText": "No newline at the end of file", "url": "https://github.com/prestodb/presto/pull/15182#discussion_r491746219", "createdAt": "2020-09-20T23:12:16Z", "author": {"login": "agrawaldevesh"}, "path": "presto-main/etc/catalog/pinot.properties", "diffHunk": "@@ -0,0 +1,4 @@\n+connector.name=pinot\n+\n+# Pinot controller endpoint\n+pinot.controller-urls=localhost:9000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14be108a991e1d0dbbde26f0949e8dde06ece182"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3671, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}