{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NTA3MzM2", "number": 14422, "title": " Clean up PlanOptimizerProvider while dropping connector", "bodyText": "Previously, ConnectorPlanOptimizerManager.addPlanOptimizerProvider() is invoked while adding connector, But PlanOptimizerProvider is not cleaned up while dropping connector, Dropping and adding a connector with the same name will trigger an exception like \u201cConnectorPlanOptimizerProvider for connector '%s' is already registered\u201d.\n== NO RELEASE NOTE ==", "createdAt": "2020-04-21T08:02:00Z", "url": "https://github.com/prestodb/presto/pull/14422", "merged": true, "mergeCommit": {"oid": "6aac57fee4b1f177330e4c164b703209da5934ee"}, "closed": true, "closedAt": "2020-04-22T05:39:37Z", "author": {"login": "liyubin117"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZ2mfJAFqTM5NzQ4OTY4MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ-HCBgBqjMyNTg0NzM0MDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NDg5Njgw", "url": "https://github.com/prestodb/presto/pull/14422#pullrequestreview-397489680", "createdAt": "2020-04-21T16:50:56Z", "commit": {"oid": "c715220e207ec2a11fe2866328c0b106da95c550"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNjo1MDo1NlrOGJOK5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNjo1MDo1NlrOGJOK5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMyMjUzMw==", "bodyText": "nit: removePlanOptimizerProvider", "url": "https://github.com/prestodb/presto/pull/14422#discussion_r412322533", "createdAt": "2020-04-21T16:50:56Z", "author": {"login": "highker"}, "path": "presto-main/src/main/java/com/facebook/presto/sql/planner/ConnectorPlanOptimizerManager.java", "diffHunk": "@@ -45,6 +45,12 @@ public void addPlanOptimizerProvider(ConnectorId connectorId, ConnectorPlanOptim\n                 \"ConnectorPlanOptimizerProvider for connector '%s' is already registered\", connectorId);\n     }\n \n+    public void dropPlanOptimizerProvider(ConnectorId connectorId)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c715220e207ec2a11fe2866328c0b106da95c550"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "author": {"user": {"login": "liyubin117", "name": "Yubin Li"}}, "url": "https://github.com/prestodb/presto/commit/fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "committedDate": "2020-04-22T01:34:50Z", "message": "Clean up PlanOptimizerProvider while dropping connector"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c715220e207ec2a11fe2866328c0b106da95c550", "author": {"user": {"login": "liyubin117", "name": "Yubin Li"}}, "url": "https://github.com/prestodb/presto/commit/c715220e207ec2a11fe2866328c0b106da95c550", "committedDate": "2020-04-21T07:48:40Z", "message": "Clean up PlanOptimizerProvider while dropping connector"}, "afterCommit": {"oid": "fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "author": {"user": {"login": "liyubin117", "name": "Yubin Li"}}, "url": "https://github.com/prestodb/presto/commit/fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "committedDate": "2020-04-22T01:34:50Z", "message": "Clean up PlanOptimizerProvider while dropping connector"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1885, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}