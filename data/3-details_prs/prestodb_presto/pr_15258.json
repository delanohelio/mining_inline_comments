{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MDI1MjI1", "number": 15258, "title": "Add a new deployment example of running Presto on a laptop", "bodyText": "Add documentation for a new deployment example in addition to docker,\nallowing users to deploy Presto to connect Hive Metastore and query S3.\n== NO RELEASE NOTE ==", "createdAt": "2020-10-01T07:17:13Z", "url": "https://github.com/prestodb/presto/pull/15258", "merged": true, "mergeCommit": {"oid": "83e4afc56e97764a276dc69e8789d53731425676"}, "closed": true, "closedAt": "2020-10-08T07:23:30Z", "author": {"login": "apc999"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOaXM9gFqTUwMDc4ODg4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP7DlmgFqTUwMzE1NDU0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNzg4ODg4", "url": "https://github.com/prestodb/presto/pull/15258#pullrequestreview-500788888", "createdAt": "2020-10-01T23:50:50Z", "commit": {"oid": "08719837214bb5f209b4d7e0141b1cf2b2a04853"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQyMzo1MDo1MFrOHbd-6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQyMzo1Mzo0MFrOHbeBpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NDg0Mw==", "bodyText": "could it be: An Example deployment to query data in S3?", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498564843", "createdAt": "2020-10-01T23:50:50Z", "author": {"login": "zhenxiao"}, "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08719837214bb5f209b4d7e0141b1cf2b2a04853"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTE2Mw==", "bodyText": "shall we omit version?", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498565163", "createdAt": "2020-10-01T23:52:10Z", "author": {"login": "zhenxiao"}, "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop\n+-------------------------------\n+\n+This section shows how to run Presto connecting to Hive MetaStore on a single laptop to query data in an S3 bucket.\n+\n+Configure Hive MetaStore\n+^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Download and extract the binary tarball of Hive.\n+For example, download `apache-hive-2.3.7-bin.tar.gz <https://downloads.apache.org/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz>`_ .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08719837214bb5f209b4d7e0141b1cf2b2a04853"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTMxMw==", "bodyText": "do we need to document untar commands?", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498565313", "createdAt": "2020-10-01T23:52:47Z", "author": {"login": "zhenxiao"}, "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop\n+-------------------------------\n+\n+This section shows how to run Presto connecting to Hive MetaStore on a single laptop to query data in an S3 bucket.\n+\n+Configure Hive MetaStore\n+^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Download and extract the binary tarball of Hive.\n+For example, download `apache-hive-2.3.7-bin.tar.gz <https://downloads.apache.org/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz>`_ .\n+\n+.. code-block:: console", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08719837214bb5f209b4d7e0141b1cf2b2a04853"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTU0MQ==", "bodyText": "omit jar versions?\nare these paths static and reliable?", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498565541", "createdAt": "2020-10-01T23:53:40Z", "author": {"login": "zhenxiao"}, "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop\n+-------------------------------\n+\n+This section shows how to run Presto connecting to Hive MetaStore on a single laptop to query data in an S3 bucket.\n+\n+Configure Hive MetaStore\n+^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Download and extract the binary tarball of Hive.\n+For example, download `apache-hive-2.3.7-bin.tar.gz <https://downloads.apache.org/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz>`_ .\n+\n+.. code-block:: console\n+\n+    $ tar -zxf apache-hive-2.3.7-bin.tar.gz\n+    $ cd apache-hive-2.3.7-bin\n+\n+You only need to launch Hive Metastore to serve Presto catalog information such as table schema and partition location.\n+If it is the first time to launch the Hive Metastore, prepare corresponding configuration files and environment, also initialize a new Metastore:\n+\n+.. code-block:: console\n+\n+    $ export HIVE_HOME=`pwd`\n+    $ cp conf/hive-default.xml.template conf/hive-site.xml\n+    $ mkdir -p hcatalog/var/log/\n+    # only required for the first time\n+    $ bin/schematool -dbType derby -initSchema\n+\n+If you want to access AWS S3, append the following lines in ``conf/hive-env.sh``.\n+Hive needs the corresponding jars to access files with ``s3a://`` addresses, and AWS credentials as well to access an S3 bucket (even it is public).\n+If you do not have a Hadoop installation which include above jars, download them from `maven central repository <https://repo1.maven.org/>`_.\n+\n+.. code-block:: console\n+\n+    $ export HIVE_AUX_JARS_PATH=${HADOOP_HOME}/share/hadoop/tools/lib/aws-java-sdk-core-1.10.6.jar:${HADOOP_HOME}/share/hadoop/tools/lib/aws-java-sdk-s3-1.10.6.jar:${HADOOP_HOME}/share/hadoop/tools/lib/hadoop-aws-2.8.4.jar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08719837214bb5f209b4d7e0141b1cf2b2a04853"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68b5a7c17d79555e7948f29dbc9a766845a99780", "author": {"user": {"login": "apc999", "name": "Bin Fan"}}, "url": "https://github.com/prestodb/presto/commit/68b5a7c17d79555e7948f29dbc9a766845a99780", "committedDate": "2020-10-02T18:21:12Z", "message": "Add a new deployment example"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08719837214bb5f209b4d7e0141b1cf2b2a04853", "author": {"user": {"login": "apc999", "name": "Bin Fan"}}, "url": "https://github.com/prestodb/presto/commit/08719837214bb5f209b4d7e0141b1cf2b2a04853", "committedDate": "2020-10-01T07:14:19Z", "message": "Add a new deployment example"}, "afterCommit": {"oid": "68b5a7c17d79555e7948f29dbc9a766845a99780", "author": {"user": {"login": "apc999", "name": "Bin Fan"}}, "url": "https://github.com/prestodb/presto/commit/68b5a7c17d79555e7948f29dbc9a766845a99780", "committedDate": "2020-10-02T18:21:12Z", "message": "Add a new deployment example"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTU0NTQ4", "url": "https://github.com/prestodb/presto/pull/15258#pullrequestreview-503154548", "createdAt": "2020-10-06T16:34:25Z", "commit": {"oid": "68b5a7c17d79555e7948f29dbc9a766845a99780"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4828, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}