{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3ODg4MzU1", "number": 14907, "title": "Fix flaky testTransactionMetadataCleanup", "bodyText": "Attempt to fix #14835\nTest is set to run 1000 times,  no failure observed in logging https://api.travis-ci.org/v3/job/712638157/log.txt  (terminated due to exceeding maximal log size)\n== NO RELEASE NOTE ==", "createdAt": "2020-07-28T15:32:05Z", "url": "https://github.com/prestodb/presto/pull/14907", "merged": true, "mergeCommit": {"oid": "186ea6dfac549ec70090297b3eb34804a2f7e7c5"}, "closed": true, "closedAt": "2020-07-31T14:25:16Z", "author": {"login": "viczhang861"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5ZdlDABqjM1OTUzMTg4MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6E0NOAFqTQ1ODY5MzgxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8264f0cea5926a08d6ab11af587ded617946b669", "author": {"user": {"login": "viczhang861", "name": "Vic Zhang"}}, "url": "https://github.com/prestodb/presto/commit/8264f0cea5926a08d6ab11af587ded617946b669", "committedDate": "2020-07-28T15:28:00Z", "message": "Fix flaky testTransactionMetadataCleanup"}, "afterCommit": {"oid": "0cfbb6a32aab185396879e956ceecad1ec2d69e6", "author": {"user": {"login": "viczhang861", "name": "Vic Zhang"}}, "url": "https://github.com/prestodb/presto/commit/0cfbb6a32aab185396879e956ceecad1ec2d69e6", "committedDate": "2020-07-28T16:57:08Z", "message": "Fix flaky testTransactionMetadataCleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9305ced71ac79416ca15288e40a89d6ab084ae23", "author": {"user": {"login": "viczhang861", "name": "Vic Zhang"}}, "url": "https://github.com/prestodb/presto/commit/9305ced71ac79416ca15288e40a89d6ab084ae23", "committedDate": "2020-07-28T18:51:03Z", "message": "Fix flaky testTransactionMetadataCleanup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0cfbb6a32aab185396879e956ceecad1ec2d69e6", "author": {"user": {"login": "viczhang861", "name": "Vic Zhang"}}, "url": "https://github.com/prestodb/presto/commit/0cfbb6a32aab185396879e956ceecad1ec2d69e6", "committedDate": "2020-07-28T16:57:08Z", "message": "Fix flaky testTransactionMetadataCleanup"}, "afterCommit": {"oid": "9305ced71ac79416ca15288e40a89d6ab084ae23", "author": {"user": {"login": "viczhang861", "name": "Vic Zhang"}}, "url": "https://github.com/prestodb/presto/commit/9305ced71ac79416ca15288e40a89d6ab084ae23", "committedDate": "2020-07-28T18:51:03Z", "message": "Fix flaky testTransactionMetadataCleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NjkzODE5", "url": "https://github.com/prestodb/presto/pull/14907#pullrequestreview-458693819", "createdAt": "2020-07-30T19:29:25Z", "commit": {"oid": "9305ced71ac79416ca15288e40a89d6ab084ae23"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOToyOToyNVrOG5w2Rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOToyOToyNVrOG5w2Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIyMjM0Mg==", "bodyText": "do we still need this logging?", "url": "https://github.com/prestodb/presto/pull/14907#discussion_r463222342", "createdAt": "2020-07-30T19:29:25Z", "author": {"login": "rschlussel"}, "path": "presto-tests/src/test/java/com/facebook/presto/tests/TestTransactionManagerIntegration.java", "diffHunk": "@@ -13,31 +13,63 @@\n  */\n package com.facebook.presto.tests;\n \n+import com.facebook.airlift.log.Logger;\n import com.facebook.presto.tests.tpch.TpchQueryRunnerBuilder;\n+import com.facebook.presto.transaction.TransactionInfo;\n+import com.facebook.presto.transaction.TransactionManager;\n import org.testng.annotations.Test;\n \n+import static com.google.common.collect.ImmutableList.toImmutableList;\n+import static java.util.concurrent.TimeUnit.MILLISECONDS;\n import static org.assertj.core.api.Assertions.assertThatThrownBy;\n import static org.testng.Assert.assertTrue;\n \n public class TestTransactionManagerIntegration\n {\n+    private static final Logger log = Logger.get(TestTransactionManagerIntegration.class);\n+\n     @Test\n     public void testTransactionMetadataCleanup()\n             throws Exception\n     {\n         try (DistributedQueryRunner queryRunner = TpchQueryRunnerBuilder.builder().build()) {\n+            log.info(\"Start running testTransactionMetadataCleanup\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9305ced71ac79416ca15288e40a89d6ab084ae23"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 344, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}