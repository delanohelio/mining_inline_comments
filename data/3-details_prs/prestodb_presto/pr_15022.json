{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MjU4MDk0", "number": 15022, "title": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode", "bodyText": "Per slack discussion, Pinot connector accidentally took the error code space 0x0625.\nThis PR moves the corresponding error to PinotErrorCode space 0x0505.\n== NO RELEASE NOTE ==", "createdAt": "2020-08-13T09:15:42Z", "url": "https://github.com/prestodb/presto/pull/15022", "merged": true, "mergeCommit": {"oid": "39872c40ec70acbb5579720d30dd75763e6305ef"}, "closed": true, "closedAt": "2020-08-24T05:31:13Z", "author": {"login": "xiangfu0"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-ccbngBqjM2NTExODA1NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdB7uJnAFqTQ3MzEyODExMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f149531431d78d7a286e9326cc237754bf480013", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/f149531431d78d7a286e9326cc237754bf480013", "committedDate": "2020-08-13T09:13:09Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}, "afterCommit": {"oid": "687405273337e690962d758805a502d3d7cd25e0", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/687405273337e690962d758805a502d3d7cd25e0", "committedDate": "2020-08-13T09:17:38Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "687405273337e690962d758805a502d3d7cd25e0", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/687405273337e690962d758805a502d3d7cd25e0", "committedDate": "2020-08-13T09:17:38Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}, "afterCommit": {"oid": "c29e7cf057f00287361018ecea3b4b90d35c668e", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/c29e7cf057f00287361018ecea3b4b90d35c668e", "committedDate": "2020-08-13T10:18:53Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDI1MDI0", "url": "https://github.com/prestodb/presto/pull/15022#pullrequestreview-467025024", "createdAt": "2020-08-13T18:26:33Z", "commit": {"oid": "c29e7cf057f00287361018ecea3b4b90d35c668e"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoyNjozM1rOHAYQ4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoyODoyNVrOHAYUkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE1OTU4Nw==", "bodyText": "Good idea to not use 13 :-P", "url": "https://github.com/prestodb/presto/pull/15022#discussion_r470159587", "createdAt": "2020-08-13T18:26:33Z", "author": {"login": "agrawaldevesh"}, "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/PinotErrorCode.java", "diffHunk": "@@ -36,6 +37,7 @@\n     PINOT_INVALID_CONFIGURATION(10, INTERNAL_ERROR),\n     PINOT_DATA_FETCH_EXCEPTION(11, EXTERNAL, true),\n     PINOT_REQUEST_GENERATOR_FAILURE(12, INTERNAL_ERROR), // Unable to generate Pinot request\n+    PINOT_PUSH_DOWN_QUERY_NOT_PRESENT(20, USER_ERROR),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c29e7cf057f00287361018ecea3b4b90d35c668e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE2MDAxOQ==", "bodyText": "Can you also delete the comment for this line. It is redundant.", "url": "https://github.com/prestodb/presto/pull/15022#discussion_r470160019", "createdAt": "2020-08-13T18:27:24Z", "author": {"login": "agrawaldevesh"}, "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/PinotErrorCode.java", "diffHunk": "@@ -36,6 +37,7 @@\n     PINOT_INVALID_CONFIGURATION(10, INTERNAL_ERROR),\n     PINOT_DATA_FETCH_EXCEPTION(11, EXTERNAL, true),\n     PINOT_REQUEST_GENERATOR_FAILURE(12, INTERNAL_ERROR), // Unable to generate Pinot request", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c29e7cf057f00287361018ecea3b4b90d35c668e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE2MDUzMQ==", "bodyText": "Is QueryNotAdequatelyPushedDownException created any where else ? Should we bury the error code PinotErrorCode.PINOT_PUSH_DOWN_QUERY_NOT_PRESENT inside the constructor then ?", "url": "https://github.com/prestodb/presto/pull/15022#discussion_r470160531", "createdAt": "2020-08-13T18:28:25Z", "author": {"login": "agrawaldevesh"}, "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/PinotSplitManager.java", "diffHunk": "@@ -183,7 +160,7 @@ public ConnectorSplitSource getSplits(\n     {\n         PinotTableLayoutHandle pinotLayoutHandle = (PinotTableLayoutHandle) layout;\n         PinotTableHandle pinotTableHandle = pinotLayoutHandle.getTable();\n-        Supplier<PrestoException> errorSupplier = () -> new QueryNotAdequatelyPushedDownException(QueryNotAdequatelyPushedDownErrorCode.PQL_NOT_PRESENT, pinotTableHandle, connectorId);\n+        Supplier<PrestoException> errorSupplier = () -> new QueryNotAdequatelyPushedDownException(PinotErrorCode.PINOT_PUSH_DOWN_QUERY_NOT_PRESENT, pinotTableHandle, connectorId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c29e7cf057f00287361018ecea3b4b90d35c668e"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "188b9330ba1013e63d3b75db2a659c38e640fefb", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/188b9330ba1013e63d3b75db2a659c38e640fefb", "committedDate": "2020-08-13T20:17:02Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c29e7cf057f00287361018ecea3b4b90d35c668e", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/c29e7cf057f00287361018ecea3b4b90d35c668e", "committedDate": "2020-08-13T10:18:53Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}, "afterCommit": {"oid": "188b9330ba1013e63d3b75db2a659c38e640fefb", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/prestodb/presto/commit/188b9330ba1013e63d3b75db2a659c38e640fefb", "committedDate": "2020-08-13T20:17:02Z", "message": "Move QueryNotAdequatelyPushedDownErrorCode to PinotErrorCode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTI4MTEx", "url": "https://github.com/prestodb/presto/pull/15022#pullrequestreview-473128111", "createdAt": "2020-08-24T05:25:58Z", "commit": {"oid": "188b9330ba1013e63d3b75db2a659c38e640fefb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 226, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}