{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MTA4Nzgz", "number": 14583, "title": "Add release notes for 0.236", "bodyText": "Missing Release Notes\nRongrong Zhong\n\n #14491 Change common sub-expression functions to return check flags and return result (Merged by: Rongrong Zhong)\n 4699365 Fix NPE in CommonSubExpressionRewriter triggered by CASE-WHEN expression\n\nRyan Rupp\n\n #14526 Allow cached reads on the non-offset version of readFully (Merged by: Zhenxiao Luo)\n\nExtracted Release Notes\n\n#14460 (Author: Adam J. Shook): Implement JDBC PreparedStatement.getMetaData\n\nAdds PreparedStatement support for getMetaData.\n\n\n#14471 (Author: Sreeni Viswanadha): Simplify searched case translation\n\nFixed translation of searched case expressions to be flat.\n\n\n#14477 (Author: Shixuan Fan): Optimize createPredicate in getTableLayout\n\nImprove planning time for queries that scan large number of partitions across multiple partition columns.\n\n\n#14499 (Author: Rohit Jain): Add Alluxio based data caching\n\nAdd local data caching support with Alluxio <https://www.alluxio.io/>_ cache library. To enable it, set config cache.enabled=true and cache.type=ALLUXIO.\n\n\n#14506 (Author: Leiqing Cai): Auto-resolve certain result mismatches\n\nAdd support to auto-resolve result mismatch for structured-type columns.\nAdd support to auto-resolve result mismatch in case the query uses functions to be ignored.\n\n\n#14532 (Author: Sujay Jain): Analyze table fails for tables with struct columns\n\nFix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:14494).\n\n\n#14533 (Author: Leiqing Cai): Expose ErrorType in VerifierQueryEvent\n\nAdd ErrorType of query failures to verification outputs.\n\n\n#14538 (Author: Gregory Nazario): Warn when using expensive UNION DISTINCT queries\n\nImprove experience by warning user of poorly performant UNION DISTINCT usage.\n\n\n#14548 (Author: Venki Korukanti): Fix Parquet schema mismatch for type upgrade (int32 -> int64)\n\nFix Parquet schema mismatch when type is upgraded (int32 -> int64).\n\n\n\nAll Commits\n\n4699365 Fix NPE in CommonSubExpressionRewriter triggered by CASE-WHEN expression (Rongrong Zhong)\n081de96 Add additional logging to resource group scheduler (Mayank Garg)\nde43c15 Check for all Throwables while get query results (Mayank Garg)\nb90ad77 Simplify searched case translation. (Sreeni Viswanadha)\nc89a8e3 Filter out non primitive columns when creating metastore column statictics (Sujay Jain)\n1229e1f Warn when using expensive UNION DISTINCT queries (Gregory Nazario)\nb6985d3 Bind classes as singleton in FailureResolverModule (Leiqing Cai)\na10adac Auto-resolve queries referencing certain functions (Leiqing Cai)\neeab40c Auto-resolve mismatched structured-type columns (Leiqing Cai)\nba67a8d Compute cardinality checksum for array and map columns (Leiqing Cai)\nbf0db24 Convert MatchResult.mismatchedColumns to a list (Leiqing Cai)\n0f2bf8e Return checksum objects in column validator (Leiqing Cai)\ncf64512 Remove unused class in VerifierLimitationFailureResolver (Leiqing Cai)\nf43e444 Parquet schema mismatch for type upgrade (int32 -> int64) (Venki Korukanti)\ne58c351 Allow cached reads on the non-offset version of readFully (Ryan Rupp)\nbb2e616 Expose ErrorType in VerifierQueryEvent (Leiqing Cai)\n0221e24 Add OutputStreamDataSinkFactory (Vic Zhang)\n1d9d967 Upgrade Drift to version 1.24 (Nikhil Collooru)\n561e977 Implement JDBC PreparedStatement getMetaData (Adam J. Shook)\ne2a5010 Fix DruidRequestBody JSON serialization error and add unit test cases (Beinan Wang)\nb986518 Fix null config issue for caching filesystem (Rohit Jain)\n00dd951 Fix Presto Proxy for Java 10 (Tim Meehan)\ne522622 Refactoring and fixing code review issues (Beinan Wang)\n4803f79 Add unit test case for druid.hadoop.config.resources (Beinan Wang)\n5b23975 Exclude transitive dependency to fix build error (Beinan Wang)\n448ca8b Add presto-druid into presto-product-test config properties (Beinan Wang)\nb7acf13 Add the problematical file path to the presto exception message (Beinan Wang)\neeb9907 Support query columns with 'Other' type (Beinan Wang)\n52a87c7 Add dependency of fastutil for Druid HDFS file parsing (Beinan Wang)\ne628b4d Add configuration for hdfs config resources (Beinan Wang)\n86a6e58 Refactoring and fix code reivew issue (Beinan Wang)\n028ba00 Escaping variable name and the column name inside distinct count. (Beinan Wang)\n4d3e19d Improve JSON serialization for the http requests to Druid (Beinan Wang)\n9898dba Fix the exception of 'Internal file \"column_name\" doesn't exist' (Beinan Wang)\n880928a Escaping special characters in druid table name and column name. (Beinan Wang)\n5166a2e Fix json type deserialization issue on DruidSegmentInfo (Beinan Wang)\n37aa1b1 Support cachable flag in CachingDirectoryLister (Shixuan Fan)\nadb4116 Use functional style for Optional handling (Shixuan Fan)\na136757 Remove redundant requireNonNull (Shixuan Fan)\n69eacc0 Use java util Supplier in BackgroundHiveSplitLoader (Shixuan Fan)\nfac749a Implement broadcast join (Andrii Rosa)\n973e7de Increase visibility of BlockUtil (Andrii Rosa)\nf3735f9 Refactor PrestoSparkTaskInputs (Andrii Rosa)\nd7cecad Refactor PrestoSparkRemoteSourceOperator (Andrii Rosa)\n0159093 Improve rollback handling in PrestoSparkQueryExecutionFactory (Andrii Rosa)\n71d6280 Refactor PrestoSparkRddFactory (Andrii Rosa)\na6ea248 Update task limit state without delay for testing (Vic Zhang)\n83882e0 Ensure only single SparkContext exist per jvm (Andrii Rosa)\ne565e3d Run presto-spark-base tests in a separate travis job (Andrii Rosa)\n19d6f0a Decrease logging in PrestoSparkQueryRunner (Andrii Rosa)\n510a1e8 Use Hive connector in PrestoSparkQueryRunner (Andrii Rosa)\nbcab682 Improve PrestoSparkQueryRunner (Andrii Rosa)\n40a3bac Register system catalog for Presto on Spark (Andrii Rosa)\n75187c6 Fix PrestoSparkOutputOperator (Andrii Rosa)\n472538a Add Alluxio based data caching (Rohit Jain)\n5699056 Upgrade Drift to version 1.23 (Ajay George)\n2e38dd4 Change common sub-expression methods to return result (Rongrong Zhong)\n5618ebd Partition projections into subsets that depend on same common sub-expressions (Rongrong Zhong)\n10a8cb5 Add extracted common sub-expression to debug level logging (Rongrong Zhong)\ncc31286 Drop presto-orc usage of NOT_SUPPORTED PrestoException (Nikhil Collooru)\n20b4db7 Drop presto-orc usage of GENERIC_INTERNAL_ERROR PrestoException (Nikhil Collooru)\n04daeb4 Drop presto-orc usage of INVALID_FUNCTION_ARGUMENT PrestoException (Nikhil Collooru)\n007891b Do not prune partitions with recoverable failures in filter evaluation (Bhavani Hari)\ne4fbf22 FastutilSetHelper ObjectStrategy equals result can be null. (Sujay Jain)\nb70fcf3 Add release notes collection script (Leiqing Cai)\n9057aea Handle NotSupportedException from RowType, MapType, ArrayType (Nikhil Collooru)\ne7a2cb0 Handle NotSupportedException from SingleMapBlock, TimeZoneKey (Nikhil Collooru)\n76d18ba Catch InvalidFunctionArgumentException and rethrow as PrestoException (Nikhil Collooru)\nefe29ef Remove unused OutOfRangeException (Nikhil Collooru)\n29acdba Refactor predicate package into presto-common (Nikhil Collooru)\n04138bc Move Type,Block,SqlFunctionProperties to presto-common (Nikhil Collooru)\ne5710cd Move Subfield to presto-common (Nikhil Collooru)\nb5f7eea Refactor function package of presto-spi into presto-common (Nikhil Collooru)\nc4635ef Add types of Exceptions to presto-common (Nikhil Collooru)\n1a15aba Add new presto-common module (Nikhil Collooru)\n5611734 Optimize createPredicate in getTableLayout (Shixuan Fan)\n8886f79 Remove unused field in HiveMetadata (Shixuan Fan)\n46d1834 Disable memory allocation tracking by default (Masha Basmanova)\n5bd40c5 Fix integer overflow when creating a BigIntValues Filter (Bhavani Hari)\n516aba5 Add PageFile compression in HiveFileFormatBenchmark (Vic Zhang)\ncd2a34b Support reading compressed PageFile format (Vic Zhang)\nf297b39 Add compression information in PageFile footer (Vic Zhang)\nf7cfca4 Implement Decompressor using zlib (Vic Zhang)\nf2cef22 Add LZ4 compression in HiveCompressionCodec (Vic Zhang)\ne03790e Support page compression in PageFileWriter (Vic Zhang)\n491bab7 Add adapters for PageCompressor and PageDecompressor (Vic Zhang)\n3dd9704 Fix getBlockView to use positionCount instead of outputPositionCount (Bhavani Hari)\n659c0c2 Lower startup-grace-period for TestRaptorIntegrationSmokeTestMySql (James Sun)\ndbf3a80 Handle pruned columns in a pushed down pinot table scan (Devesh Agrawal)\n6eb0d35 Add stats and cost rule for IntersectNode (Saumitra Shahapure)", "createdAt": "2020-05-27T20:54:21Z", "url": "https://github.com/prestodb/presto/pull/14583", "merged": true, "mergeCommit": {"oid": "8a775c3aea03738e751606c3cb845e6580e1db7c"}, "closed": true, "closedAt": "2020-06-05T20:43:55Z", "author": {"login": "caithagoras"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmJ8p2ABqjMzODkwMTE3MjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoYNlqgBqjM0MTI5ODk2NDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83b1c2045ab0f15978d0bb31dd012d6ff9384319", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/83b1c2045ab0f15978d0bb31dd012d6ff9384319", "committedDate": "2020-05-27T20:59:07Z", "message": "update release notes"}, "afterCommit": {"oid": "013b517af1f36e2591e1a5cca9b97f354be93725", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/013b517af1f36e2591e1a5cca9b97f354be93725", "committedDate": "2020-05-29T22:10:10Z", "message": "Add release notes for 0.236\n\nupdate release notes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzMzNjkz", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-421333693", "createdAt": "2020-05-29T22:37:33Z", "commit": {"oid": "013b517af1f36e2591e1a5cca9b97f354be93725"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMjozNzozM1rOGcuJZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMjo0MzowNVrOGcuPIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc2OTM4Mw==", "bodyText": "What does this mean?", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r432769383", "createdAt": "2020-05-29T22:37:33Z", "author": {"login": "tdcmeehan"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "013b517af1f36e2591e1a5cca9b97f354be93725"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc3MDg0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Adds PreparedStatement support for getMetaData.\n          \n          \n            \n            * Add support for ``PreparedStatement#getMetaData``.", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r432770848", "createdAt": "2020-05-29T22:43:05Z", "author": {"login": "tdcmeehan"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded (int32 -> int64).\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. To enable it, set config `cache.enabled=true` and `cache.type=ALLUXIO`.\n+* Allow Hive file caching to cache Parquet metadata reads\n+\n+JDBC Changes\n+____________\n+* Adds PreparedStatement support for getMetaData.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "013b517af1f36e2591e1a5cca9b97f354be93725"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0ODQwOTgy", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-424840982", "createdAt": "2020-06-04T21:15:32Z", "commit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMToxNTozMlrOGfYKHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMToyMzo1NVrOGfYjQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU1NDg0NA==", "bodyText": "I would say\nFix query failure due for searched case expression with large number of cases.", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435554844", "createdAt": "2020-06-04T21:15:32Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc2OTM4Mw=="}, "originalCommit": {"oid": "013b517af1f36e2591e1a5cca9b97f354be93725"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU1NjM5Mg==", "bodyText": "Fix `ANALYZE` query failure for tables with structure-typed columns. (:issue:`14494).", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435556392", "createdAt": "2020-06-04T21:17:40Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:`14494`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU1Nzg1NQ==", "bodyText": "Add support to cache Parquet metadata reads in Hive file caching.\n\n@rschlussel Does this look good to you?", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435557855", "createdAt": "2020-06-04T21:19:35Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded (int32 -> int64).\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. To enable it, set config `cache.enabled=true` and `cache.type=ALLUXIO`.\n+* Allow Hive file caching to cache Parquet metadata reads", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU2MDE4OA==", "bodyText": "Avoid abbreviations. Use double back quotes instead of single back quotes.\nTo enable it, set configuration property ``cache.enabled=true`` and ``cache.type=ALLUXIO``.", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435560188", "createdAt": "2020-06-04T21:22:31Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded (int32 -> int64).\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. To enable it, set config `cache.enabled=true` and `cache.type=ALLUXIO`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU2MDczOQ==", "bodyText": "... when type is upgraded from ``int32`` to ``int64``.", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435560739", "createdAt": "2020-06-04T21:23:11Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded (int32 -> int64).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU2MTI4Mg==", "bodyText": "Use double back quotes:\n``UNION DISTINCT``", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435561282", "createdAt": "2020-06-04T21:23:55Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "622dd7b374da996463b9cdd0eeb022c3f9e74158", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/622dd7b374da996463b9cdd0eeb022c3f9e74158", "committedDate": "2020-06-02T23:38:52Z", "message": "Update presto-docs/src/main/sphinx/release/release-0.236.rst\n\nCo-authored-by: Timothy Meehan <tim@timdmeehan.com>"}, "afterCommit": {"oid": "c95928223ff9ab73b80258da7041828c43e51f77", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/c95928223ff9ab73b80258da7041828c43e51f77", "committedDate": "2020-06-05T00:12:35Z", "message": "Address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c95928223ff9ab73b80258da7041828c43e51f77", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/c95928223ff9ab73b80258da7041828c43e51f77", "committedDate": "2020-06-05T00:12:35Z", "message": "Address comments"}, "afterCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/8c6896e7fa40b7d23cbda838f7db1338f824f9d4", "committedDate": "2020-06-05T00:29:29Z", "message": "Add release notes for 0.236"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0OTI0MTI0", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-424924124", "createdAt": "2020-06-05T00:33:34Z", "commit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwMDozMzozNFrOGfcsQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwMDozMzozNFrOGfcsQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYyOTEyMg==", "bodyText": "Sorry, typo in the previous comment. double back quotes.\n``ANALYZE``", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435629122", "createdAt": "2020-06-05T00:33:34Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.\n+* Improve experience by warning user of poorly performant ``UNION DISTINCT`` usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix `ANALYZE` query failure for tables with structure-typed columns. (:issue:`14494`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0OTE5ODE1", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-424919815", "createdAt": "2020-06-05T00:18:39Z", "commit": {"oid": "c95928223ff9ab73b80258da7041828c43e51f77"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwMDoxODozOVrOGfceZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwMDo0NjozNVrOGfc4aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYyNTU3NA==", "bodyText": "Doesn't this section go to the end?", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435625574", "createdAt": "2020-06-05T00:18:39Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.\n+* Improve experience by warning user of poorly performant ``UNION DISTINCT`` usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c95928223ff9ab73b80258da7041828c43e51f77"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYzMDAwMg==", "bodyText": "This is still too complicated for me to understand. Maybe I am dumb - @tdcmeehan, @rschlussel - your thoughts on this one?", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435630002", "createdAt": "2020-06-05T00:37:06Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYzMDE1OQ==", "bodyText": "Add warning about inefficient use of ``UNION DISTINCT``", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435630159", "createdAt": "2020-06-05T00:37:42Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.\n+* Improve experience by warning user of poorly performant ``UNION DISTINCT`` usage.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYzMTAxMA==", "bodyText": "Going with the language in https://github.com/prestodb/presto/wiki/Release-Notes-Guidelines#phrasing - lets rephrase the second sentence as:\nThis can be enabled by setting the configuration property ``cache.enabled`` to ``true`` and ``cache.type`` to `ALLUXIO``", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435631010", "createdAt": "2020-06-05T00:41:24Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.\n+* Improve experience by warning user of poorly performant ``UNION DISTINCT`` usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix `ANALYZE` query failure for tables with structure-typed columns. (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded from ``int32`` to ``int64``.\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. To enable it, set configuration property ``cache.enabled=true`` and ``cache.type=ALLUXIO``.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYzMTM3Mw==", "bodyText": "This sentence doesn't make sense. Is it supposed to be Improve Hive file caching by introducing Parquet metadata caching ?", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435631373", "createdAt": "2020-06-05T00:42:53Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.\n+* Improve experience by warning user of poorly performant ``UNION DISTINCT`` usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix `ANALYZE` query failure for tables with structure-typed columns. (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded from ``int32`` to ``int64``.\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. To enable it, set configuration property ``cache.enabled=true`` and ``cache.type=ALLUXIO``.\n+* Add support for cache Parquet metadata reads in Hive file caching.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYzMjIzMw==", "bodyText": "Any reason why this was resolved and the changes were not made ? We should properly format class and method names.", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r435632233", "createdAt": "2020-06-05T00:46:35Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fixed translation of searched case expressions to be flat.\n+* Improve experience by warning user of poorly performant UNION DISTINCT usage.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.\n+* Add support to auto-resolve result mismatch in case the query uses functions to be ignored.\n+\n+Hive Changes\n+____________\n+* Fix  ANALYZE table_name failure for tables with map, list or struct columns (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded (int32 -> int64).\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. To enable it, set config `cache.enabled=true` and `cache.type=ALLUXIO`.\n+* Allow Hive file caching to cache Parquet metadata reads\n+\n+JDBC Changes\n+____________\n+* Adds PreparedStatement support for getMetaData.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc3MDg0OA=="}, "originalCommit": {"oid": "013b517af1f36e2591e1a5cca9b97f354be93725"}, "originalPosition": 26}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c6896e7fa40b7d23cbda838f7db1338f824f9d4", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/8c6896e7fa40b7d23cbda838f7db1338f824f9d4", "committedDate": "2020-06-05T00:29:29Z", "message": "Add release notes for 0.236"}, "afterCommit": {"oid": "ef9517854812ef05b0fcadfeef2bf9e259f015aa", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/ef9517854812ef05b0fcadfeef2bf9e259f015aa", "committedDate": "2020-06-05T01:14:25Z", "message": "Add release notes for 0.236"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NDE1OTU0", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-425415954", "createdAt": "2020-06-05T15:42:52Z", "commit": {"oid": "ef9517854812ef05b0fcadfeef2bf9e259f015aa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxNTo0Mjo1MlrOGfztqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxNTo0Mjo1MlrOGfztqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjAwNjMxNA==", "bodyText": "does structured-type mean row types?\nAlso, nit  say:\nAdd support for auto-resolving result mismatches...", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r436006314", "createdAt": "2020-06-05T15:42:52Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure due to searched case expression with large number of cases.\n+* Add warning about inefficient use of ``UNION DISTINCT``.\n+\n+JDBC Changes\n+____________\n+* Add PreparedStatement support for getMetaData.\n+\n+Hive Changes\n+____________\n+* Fix ``ANALYZE`` query failure for tables with structure-typed columns. (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded from ``int32`` to ``int64``.\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. This can be enabled by setting the configuration property ``cache.enabled`` to ``true`` and ``cache.type`` to `ALLUXIO``.\n+* Improve Hive file caching by introducing Parquet metadata caching.\n+\n+Verifier Changes\n+________________\n+* Add ``ErrorType`` of query failures to verification outputs.\n+* Add support to auto-resolve result mismatch for structured-type columns.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef9517854812ef05b0fcadfeef2bf9e259f015aa"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef9517854812ef05b0fcadfeef2bf9e259f015aa", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/ef9517854812ef05b0fcadfeef2bf9e259f015aa", "committedDate": "2020-06-05T01:14:25Z", "message": "Add release notes for 0.236"}, "afterCommit": {"oid": "70eb83e8dc25d9d1dfa3c8ebed561840c53abbc6", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/70eb83e8dc25d9d1dfa3c8ebed561840c53abbc6", "committedDate": "2020-06-05T18:39:11Z", "message": "Add release notes for 0.236"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "70eb83e8dc25d9d1dfa3c8ebed561840c53abbc6", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/70eb83e8dc25d9d1dfa3c8ebed561840c53abbc6", "committedDate": "2020-06-05T18:39:11Z", "message": "Add release notes for 0.236"}, "afterCommit": {"oid": "4b7f8792d493aced498c4c346d45817de5864711", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/4b7f8792d493aced498c4c346d45817de5864711", "committedDate": "2020-06-05T19:23:24Z", "message": "Add release notes for 0.236"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b7f8792d493aced498c4c346d45817de5864711", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/4b7f8792d493aced498c4c346d45817de5864711", "committedDate": "2020-06-05T19:23:24Z", "message": "Add release notes for 0.236"}, "afterCommit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d", "committedDate": "2020-06-05T19:25:34Z", "message": "Add release notes for 0.236"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NTc5Njk1", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-425579695", "createdAt": "2020-06-05T19:45:53Z", "commit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NTc5Njcy", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-425579672", "createdAt": "2020-06-05T19:45:52Z", "commit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxOTo0NTo1MlrOGf7LbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxOTo0NTo1MlrOGf7LbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjEyODYyMA==", "bodyText": "double back quotes\n``ALLUXIO``", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r436128620", "createdAt": "2020-06-05T19:45:52Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure for case expression with large number of cases.\n+* Add warning about inefficient use of ``UNION DISTINCT``.\n+\n+JDBC Changes\n+____________\n+* Add PreparedStatement support for getMetaData.\n+\n+Hive Changes\n+____________\n+* Fix ``ANALYZE`` query failure for tables with structure-typed columns. (:issue:`14494`).\n+* Fix Parquet schema mismatch when type is upgraded from ``int32`` to ``int64``.\n+* Improve planning time for queries that scan large number of partitions across multiple partition columns.\n+* Add local data caching support with `Alluxio <https://www.alluxio.io/>`_ cache library. This can be enabled by setting the configuration property ``cache.enabled`` to ``true`` and ``cache.type`` to `ALLUXIO`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NTgxNjc3", "url": "https://github.com/prestodb/presto/pull/14583#pullrequestreview-425581677", "createdAt": "2020-06-05T19:47:16Z", "commit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxOTo0NzoxNlrOGf7Ntg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxOTo0NzoxNlrOGf7Ntg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjEyOTIwNg==", "bodyText": "See @mayankgarg1990 's comment about the suggested change was reverted.\nAdd support for ``PreparedStatement#getMetaData``", "url": "https://github.com/prestodb/presto/pull/14583#discussion_r436129206", "createdAt": "2020-06-05T19:47:16Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.236.rst", "diffHunk": "@@ -0,0 +1,26 @@\n+=============\n+Release 0.236\n+=============\n+\n+General Changes\n+_______________\n+* Fix query failure for case expression with large number of cases.\n+* Add warning about inefficient use of ``UNION DISTINCT``.\n+\n+JDBC Changes\n+____________\n+* Add PreparedStatement support for getMetaData.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1762700b8555ef255a300436199eceb93606511", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/f1762700b8555ef255a300436199eceb93606511", "committedDate": "2020-06-05T19:55:21Z", "message": "Add release notes for 0.236"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/ac4c87c5ea25eef1a4eee9d85b6436c27f03ca8d", "committedDate": "2020-06-05T19:25:34Z", "message": "Add release notes for 0.236"}, "afterCommit": {"oid": "f1762700b8555ef255a300436199eceb93606511", "author": {"user": {"login": "varungajjala", "name": "Varun Gajjala"}}, "url": "https://github.com/prestodb/presto/commit/f1762700b8555ef255a300436199eceb93606511", "committedDate": "2020-06-05T19:55:21Z", "message": "Add release notes for 0.236"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1709, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}