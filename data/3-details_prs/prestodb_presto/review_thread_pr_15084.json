{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNTg2NTYy", "number": 15084, "reviewThreads": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMDo1NzozNFrOEdYqew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo0NTozOVrOEdb1KQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MjQ4MjUxOnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcReaderOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMDo1NzozNVrOHIhAHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMDo1NzozNVrOHIhAHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5MTM1OA==", "bodyText": "getTimestampTimeUnit", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478691358", "createdAt": "2020-08-27T20:57:35Z", "author": {"login": "bhhari"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcReaderOptions.java", "diffHunk": "@@ -63,4 +73,9 @@ public boolean mapNullKeysEnabled()\n     {\n         return mapNullKeysEnabled;\n     }\n+\n+    public TimeUnit timestampTimeUnit()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07d5482832f0d2cb45a1d07976b73db99abb7792"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MjQ5MDA0OnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMDo1OTo1MVrOHIhEtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMjo1NToxN1rOHInyIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5MjUzMw==", "bodyText": "timeStampTimeUnit.compareTo(TimeUnit.SECONDS) <=0 and move the convert into getter\nsomething like this\n\npublic class DecodeTimestampOptions\n{\n    private static final int MILLIS_PER_SECOND = 1000;\n\n    private final TimeUnit timeUnit;\n    private final long baseTimestampInSeconds;\n\n    public DecodeTimestampOptions(\n            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n    {\n        checkState(timestampTimeUnit.compareTo(TimeUnit.SECONDS) <=0 && timestampTimeUnit.compareTo(TimeUnit.NANOSECONDS)>=0);\n        this.timeUnit = timestampTimeUnit;\n        this.baseTimestampInSeconds = new DateTime(2015, 1, 1, 0, 0, requireNonNull(hiveStorageTimeZone, \"hiveStorageTimeZone is null\")).getMillis() / MILLIS_PER_SECOND;\n    }\n\n    public long timestampUnitsPerSecond()\n    {\n        return timeUnit.convert(1, TimeUnit.SECONDS);\n    }\n\n    public long nanosecondsPerTimestampUnit()\n    {\n        return timeUnit.convert(1, TimeUnit.NANOSECONDS);\n    }\n\n    public long baseTimestampInSeconds()\n    {\n        return baseTimestampInSeconds;\n    }\n}", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478692533", "createdAt": "2020-08-27T20:59:51Z", "author": {"login": "bhhari"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07d5482832f0d2cb45a1d07976b73db99abb7792"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcwMTA5MA==", "bodyText": "I wanted to materialize nanosecondsPerTimeUnit/timestampUnitsPerSecond in ctor to avoid multiple virtual function calls on critical path (ApacheHiveTimestampDecoder#decodeTimestamp). Do you think it's ok?", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478701090", "createdAt": "2020-08-27T21:17:32Z", "author": {"login": "borovsky-d"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5MjUzMw=="}, "originalCommit": {"oid": "07d5482832f0d2cb45a1d07976b73db99abb7792"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgwMjQ2Nw==", "bodyText": "thanks, you are right.", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478802467", "createdAt": "2020-08-28T02:55:17Z", "author": {"login": "bhhari"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5MjUzMw=="}, "originalCommit": {"oid": "07d5482832f0d2cb45a1d07976b73db99abb7792"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MjUwMDk1OnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTowMzoyMVrOHIhLVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTowMzoyMVrOHIhLVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5NDIzMA==", "bodyText": "timeStampTimeUnit.compareTo(TimeUnit.NANOSECONDS) >=0", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478694230", "createdAt": "2020-08-27T21:03:21Z", "author": {"login": "bhhari"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");\n+        }\n+        this.nanosecondsPerTimeUnit = TimeUnit.NANOSECONDS.convert(1, requireNonNull(timestampTimeUnit));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07d5482832f0d2cb45a1d07976b73db99abb7792"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5MTEyOnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0MjoxM1rOHIkzuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDowNTowM1rOHIlMJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1MzcyMw==", "bodyText": "It looks like there are only 2 possible values for timestampTimeUnit: MILLISECONDS and MICROSECONDS. Perhaps, add a check that this is so and also consider using a boolean to distinguish between the two possibilities.\nnit: timestampTimeUnit -> timeUnit since class name includes \"timestamp\"", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478753723", "createdAt": "2020-08-27T23:42:13Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1OTk3Mw==", "bodyText": "ok, using boolean flag instead of time unit", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478759973", "createdAt": "2020-08-28T00:05:03Z", "author": {"login": "borovsky-d"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1MzcyMw=="}, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5MzcwOnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0MzozOVrOHIk1Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDowNToyN1rOHIlMoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDEyNg==", "bodyText": "This error message seems too cryptic. Wouldn't it be enough to assert that timestampTimeUnit is either MILLI or MICROSECONDS?", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478754126", "createdAt": "2020-08-27T23:43:39Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc2MDA5Ng==", "bodyText": "I'm using boolean flag instead of time unit, so non relevant anymore.", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478760096", "createdAt": "2020-08-28T00:05:27Z", "author": {"login": "borovsky-d"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDEyNg=="}, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5NDQxOnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NDowOFrOHIk1vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDowNzo1MlrOHIlPOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDIzOA==", "bodyText": "Why is this particular date? A comment is needed. Using TimeUnit instead of / MILLIS_PER_SECOND", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478754238", "createdAt": "2020-08-27T23:44:08Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");\n+        }\n+        this.nanosecondsPerTimeUnit = TimeUnit.NANOSECONDS.convert(1, requireNonNull(timestampTimeUnit));\n+        if (this.nanosecondsPerTimeUnit == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be >= nanosecond\");\n+        }\n+        this.baseTimestampInSeconds = new DateTime(2015, 1, 1, 0, 0, requireNonNull(hiveStorageTimeZone, \"hiveStorageTimeZone is null\")).getMillis() / MILLIS_PER_SECOND;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc2MDc2Mw==", "bodyText": "I didn't change it from original code https://github.com/prestodb/presto/blob/master/presto-orc/src/main/java/com/facebook/presto/orc/reader/TimestampBatchStreamReader.java#L81 but let me add comment to improve it", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478760763", "createdAt": "2020-08-28T00:07:52Z", "author": {"login": "borovsky-d"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");\n+        }\n+        this.nanosecondsPerTimeUnit = TimeUnit.NANOSECONDS.convert(1, requireNonNull(timestampTimeUnit));\n+        if (this.nanosecondsPerTimeUnit == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be >= nanosecond\");\n+        }\n+        this.baseTimestampInSeconds = new DateTime(2015, 1, 1, 0, 0, requireNonNull(hiveStorageTimeZone, \"hiveStorageTimeZone is null\")).getMillis() / MILLIS_PER_SECOND;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDIzOA=="}, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5NTQxOnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NDozNlrOHIk2Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NDozNlrOHIk2Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDM4Mw==", "bodyText": "nit: getTimestampUnitsPerSecond -> getUnitsPerSecond", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478754383", "createdAt": "2020-08-27T23:44:36Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");\n+        }\n+        this.nanosecondsPerTimeUnit = TimeUnit.NANOSECONDS.convert(1, requireNonNull(timestampTimeUnit));\n+        if (this.nanosecondsPerTimeUnit == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be >= nanosecond\");\n+        }\n+        this.baseTimestampInSeconds = new DateTime(2015, 1, 1, 0, 0, requireNonNull(hiveStorageTimeZone, \"hiveStorageTimeZone is null\")).getMillis() / MILLIS_PER_SECOND;\n+    }\n+\n+    public long getTimestampUnitsPerSecond()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5NTg5OnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NDo0NlrOHIk2jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NDo0NlrOHIk2jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDQ0NQ==", "bodyText": "nit: getNanosecondsPerTimestampUnit -> getNanosPerUnit", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478754445", "createdAt": "2020-08-27T23:44:46Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");\n+        }\n+        this.nanosecondsPerTimeUnit = TimeUnit.NANOSECONDS.convert(1, requireNonNull(timestampTimeUnit));\n+        if (this.nanosecondsPerTimeUnit == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be >= nanosecond\");\n+        }\n+        this.baseTimestampInSeconds = new DateTime(2015, 1, 1, 0, 0, requireNonNull(hiveStorageTimeZone, \"hiveStorageTimeZone is null\")).getMillis() / MILLIS_PER_SECOND;\n+    }\n+\n+    public long getTimestampUnitsPerSecond()\n+    {\n+        return timestampUnitsPerSecond;\n+    }\n+\n+    public long getNanosecondsPerTimestampUnit()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5Njg2OnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NTowOVrOHIk3Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NTowOVrOHIk3Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDU3OA==", "bodyText": "nit: getBaseTimestampInSeconds -> getBaseSeconds + comment explaining what this is", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478754578", "createdAt": "2020-08-27T23:45:09Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/DecodeTimestampOptions.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.orc;\n+\n+import org.joda.time.DateTime;\n+import org.joda.time.DateTimeZone;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+public class DecodeTimestampOptions\n+{\n+    private static final int MILLIS_PER_SECOND = 1000;\n+\n+    private final long timestampUnitsPerSecond;\n+    private final long nanosecondsPerTimeUnit;\n+    private final long baseTimestampInSeconds;\n+\n+    public DecodeTimestampOptions(\n+            DateTimeZone hiveStorageTimeZone, TimeUnit timestampTimeUnit)\n+    {\n+        this.timestampUnitsPerSecond = requireNonNull(timestampTimeUnit).convert(1, TimeUnit.SECONDS);\n+        if (this.timestampUnitsPerSecond == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be <= second\");\n+        }\n+        this.nanosecondsPerTimeUnit = TimeUnit.NANOSECONDS.convert(1, requireNonNull(timestampTimeUnit));\n+        if (this.nanosecondsPerTimeUnit == 0) {\n+            throw new IllegalArgumentException(timestampTimeUnit + \" should be >= nanosecond\");\n+        }\n+        this.baseTimestampInSeconds = new DateTime(2015, 1, 1, 0, 0, requireNonNull(hiveStorageTimeZone, \"hiveStorageTimeZone is null\")).getMillis() / MILLIS_PER_SECOND;\n+    }\n+\n+    public long getTimestampUnitsPerSecond()\n+    {\n+        return timestampUnitsPerSecond;\n+    }\n+\n+    public long getNanosecondsPerTimestampUnit()\n+    {\n+        return nanosecondsPerTimeUnit;\n+    }\n+\n+    public long getBaseTimestampInSeconds()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mjg5ODUyOnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcRecordReaderOptions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzo0NTo0N1rOHIk37w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDoxNToxNFrOHIlWXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDc5OQ==", "bodyText": "nit: message is missing\nthis.timestampTimeUnit = requireNonNull(timestampTimeUnit, \"timestampTimeUnit is null\");", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478754799", "createdAt": "2020-08-27T23:45:47Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcRecordReaderOptions.java", "diffHunk": "@@ -23,18 +25,25 @@\n     private final DataSize tinyStripeThreshold;\n     private final DataSize maxBlockSize;\n     private final boolean mapNullKeysEnabled;\n+    private final TimeUnit timestampTimeUnit;\n \n     public OrcRecordReaderOptions(OrcReaderOptions options)\n     {\n-        this(options.getMaxMergeDistance(), options.getTinyStripeThreshold(), options.getMaxBlockSize(), options.mapNullKeysEnabled());\n+        this(options.getMaxMergeDistance(), options.getTinyStripeThreshold(), options.getMaxBlockSize(), options.mapNullKeysEnabled(), options.getTimestampTimeUnit());\n     }\n \n-    public OrcRecordReaderOptions(DataSize maxMergeDistance, DataSize tinyStripeThreshold, DataSize maxBlockSize, boolean mapNullKeysEnabled)\n+    public OrcRecordReaderOptions(\n+            DataSize maxMergeDistance,\n+            DataSize tinyStripeThreshold,\n+            DataSize maxBlockSize,\n+            boolean mapNullKeysEnabled,\n+            TimeUnit timestampTimeUnit)\n     {\n         this.maxMergeDistance = requireNonNull(maxMergeDistance, \"maxMergeDistance is null\");\n         this.maxBlockSize = requireNonNull(maxBlockSize, \"maxBlockSize is null\");\n         this.tinyStripeThreshold = requireNonNull(tinyStripeThreshold, \"tinyStripeThreshold is null\");\n         this.mapNullKeysEnabled = mapNullKeysEnabled;\n+        this.timestampTimeUnit = requireNonNull(timestampTimeUnit);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc2MjU4OA==", "bodyText": "changed to boolean", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478762588", "createdAt": "2020-08-28T00:15:14Z", "author": {"login": "borovsky-d"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcRecordReaderOptions.java", "diffHunk": "@@ -23,18 +25,25 @@\n     private final DataSize tinyStripeThreshold;\n     private final DataSize maxBlockSize;\n     private final boolean mapNullKeysEnabled;\n+    private final TimeUnit timestampTimeUnit;\n \n     public OrcRecordReaderOptions(OrcReaderOptions options)\n     {\n-        this(options.getMaxMergeDistance(), options.getTinyStripeThreshold(), options.getMaxBlockSize(), options.mapNullKeysEnabled());\n+        this(options.getMaxMergeDistance(), options.getTinyStripeThreshold(), options.getMaxBlockSize(), options.mapNullKeysEnabled(), options.getTimestampTimeUnit());\n     }\n \n-    public OrcRecordReaderOptions(DataSize maxMergeDistance, DataSize tinyStripeThreshold, DataSize maxBlockSize, boolean mapNullKeysEnabled)\n+    public OrcRecordReaderOptions(\n+            DataSize maxMergeDistance,\n+            DataSize tinyStripeThreshold,\n+            DataSize maxBlockSize,\n+            boolean mapNullKeysEnabled,\n+            TimeUnit timestampTimeUnit)\n     {\n         this.maxMergeDistance = requireNonNull(maxMergeDistance, \"maxMergeDistance is null\");\n         this.maxBlockSize = requireNonNull(maxBlockSize, \"maxBlockSize is null\");\n         this.tinyStripeThreshold = requireNonNull(tinyStripeThreshold, \"tinyStripeThreshold is null\");\n         this.mapNullKeysEnabled = mapNullKeysEnabled;\n+        this.timestampTimeUnit = requireNonNull(timestampTimeUnit);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1NDc5OQ=="}, "originalCommit": {"oid": "4ff542c296baa4a675691c66f7d0a4fb952dfa30"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzAwMDc2OnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcReaderOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo0NToxNFrOHIlzXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo0NToxNFrOHIlzXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc3MDAxMg==", "bodyText": "typo: Micros -> Micro", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478770012", "createdAt": "2020-08-28T00:45:14Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcReaderOptions.java", "diffHunk": "@@ -63,4 +71,9 @@ public boolean mapNullKeysEnabled()\n     {\n         return mapNullKeysEnabled;\n     }\n+\n+    public boolean enableTimestampMicrosPrecision()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d178fad48595cbfea7e6efc39beb691ebb3c88a"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzAwMTM3OnYy", "diffSide": "RIGHT", "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcRecordReaderOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo0NTozOVrOHIlzvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMDo0NTozOVrOHIlzvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc3MDExMQ==", "bodyText": "typo: Micros -> Micro", "url": "https://github.com/prestodb/presto/pull/15084#discussion_r478770111", "createdAt": "2020-08-28T00:45:39Z", "author": {"login": "mbasmanova"}, "path": "presto-orc/src/main/java/com/facebook/presto/orc/OrcRecordReaderOptions.java", "diffHunk": "@@ -23,18 +23,25 @@\n     private final DataSize tinyStripeThreshold;\n     private final DataSize maxBlockSize;\n     private final boolean mapNullKeysEnabled;\n+    private final boolean enableTimestampMicrosPrecision;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d178fad48595cbfea7e6efc39beb691ebb3c88a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3579, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}