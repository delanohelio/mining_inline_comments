{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzOTA0ODQ4", "number": 15504, "title": "Add file based password authenticator plugin", "bodyText": "Cherry-pick of trinodb/trino#1912 (trinodb/trino#1912)\nCo-authored-by: David Phillips david@acz.org\nCo-authored-by: Rupam Kundu rkundu@qubole.com\nRelated Issue: #15482\nThis PR also includes moving LDAP Authenticator to a separate package\n== RELEASE NOTES ==\n\nGeneral Changes\n* Add file based password authenticator plugin", "createdAt": "2020-12-07T19:42:46Z", "url": "https://github.com/prestodb/presto/pull/15504", "merged": true, "mergeCommit": {"oid": "4078f509d9bda4478a5260e9d52404ad5f7a5c4b"}, "closed": true, "closedAt": "2021-04-09T18:29:31Z", "author": {"login": "imjalpreet"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkJr7RAFqTU0NzIwNjY4Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABeLd6qwgFqTYzMjU5OTU4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MjA2Njgy", "url": "https://github.com/prestodb/presto/pull/15504#pullrequestreview-547206682", "createdAt": "2020-12-08T12:55:38Z", "commit": {"oid": "c085b6737361db43d030ec756f09a313cbf6bf50"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMjo1NTozOFrOIBZZgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMjo1NTozOFrOIBZZgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODMzNTYxNg==", "bodyText": "Need a check to validate if file exists", "url": "https://github.com/prestodb/presto/pull/15504#discussion_r538335616", "createdAt": "2020-12-08T12:55:38Z", "author": {"login": "ashishtadose"}, "path": "presto-password-authenticators/src/main/java/com/facebook/presto/password/file/FileAuthenticator.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.facebook.presto.password.file;\n+\n+import com.facebook.airlift.http.server.BasicPrincipal;\n+import com.facebook.presto.spi.security.AccessDeniedException;\n+import com.facebook.presto.spi.security.PasswordAuthenticator;\n+\n+import javax.inject.Inject;\n+\n+import java.io.File;\n+import java.security.Principal;\n+import java.util.function.Supplier;\n+\n+import static com.google.common.base.Suppliers.memoizeWithExpiration;\n+import static java.util.concurrent.TimeUnit.MILLISECONDS;\n+\n+public class FileAuthenticator\n+        implements PasswordAuthenticator\n+{\n+    private final Supplier<PasswordStore> passwordStoreSupplier;\n+\n+    @Inject\n+    public FileAuthenticator(FileConfig config)\n+    {\n+        File file = config.getPasswordFile();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c085b6737361db43d030ec756f09a313cbf6bf50"}, "originalPosition": 37}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c085b6737361db43d030ec756f09a313cbf6bf50", "author": {"user": {"login": "imjalpreet", "name": "Jalpreet Singh Nanda"}}, "url": "https://github.com/prestodb/presto/commit/c085b6737361db43d030ec756f09a313cbf6bf50", "committedDate": "2020-12-07T19:27:21Z", "message": "Add file based password authenticator plugin\n\nCherry-pick of https://github.com/prestosql/presto/pull/1532 (https://github.com/prestosql/presto/pull/1532)\n\nCo-authored-by: David Phillips <david@acz.org>\nCo-authored-by: Rupam Kundu <rkundu@qubole.com>"}, "afterCommit": {"oid": "88cc370c1ddccff60f1af4421e5bdc8d3c132a40", "author": {"user": {"login": "imjalpreet", "name": "Jalpreet Singh Nanda"}}, "url": "https://github.com/prestodb/presto/commit/88cc370c1ddccff60f1af4421e5bdc8d3c132a40", "committedDate": "2020-12-13T19:15:00Z", "message": "Add file based password authenticator documentation\n\nCherry-pick of https://github.com/prestosql/presto/pull/2335 (https://github.com/prestosql/presto/pull/2335)\n\nCo-authored-by: David Phillips <david@acz.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e111b06394aae128c81552e54020f14814d2d1dc", "author": {"user": {"login": "imjalpreet", "name": "Jalpreet Singh Nanda"}}, "url": "https://github.com/prestodb/presto/commit/e111b06394aae128c81552e54020f14814d2d1dc", "committedDate": "2021-04-09T16:11:31Z", "message": "Add file based password authenticator plugin\n\nCherry-pick of https://github.com/prestosql/presto/pull/1912 (https://github.com/prestosql/presto/pull/1912)\n\nCo-authored-by: David Phillips <david@acz.org>\nCo-authored-by: Rupam Kundu <rkundu@qubole.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc28838d0cd4ae7a594589c6c6a624bc5b8e34c0", "author": {"user": {"login": "imjalpreet", "name": "Jalpreet Singh Nanda"}}, "url": "https://github.com/prestodb/presto/commit/cc28838d0cd4ae7a594589c6c6a624bc5b8e34c0", "committedDate": "2021-04-09T16:11:31Z", "message": "Add file based password authenticator documentation\n\nCherry-pick of https://github.com/prestosql/presto/pull/2335 (https://github.com/prestosql/presto/pull/2335)\n\nCo-authored-by: David Phillips <david@acz.org>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88cc370c1ddccff60f1af4421e5bdc8d3c132a40", "author": {"user": {"login": "imjalpreet", "name": "Jalpreet Singh Nanda"}}, "url": "https://github.com/prestodb/presto/commit/88cc370c1ddccff60f1af4421e5bdc8d3c132a40", "committedDate": "2020-12-13T19:15:00Z", "message": "Add file based password authenticator documentation\n\nCherry-pick of https://github.com/prestosql/presto/pull/2335 (https://github.com/prestosql/presto/pull/2335)\n\nCo-authored-by: David Phillips <david@acz.org>"}, "afterCommit": {"oid": "cc28838d0cd4ae7a594589c6c6a624bc5b8e34c0", "author": {"user": {"login": "imjalpreet", "name": "Jalpreet Singh Nanda"}}, "url": "https://github.com/prestodb/presto/commit/cc28838d0cd4ae7a594589c6c6a624bc5b8e34c0", "committedDate": "2021-04-09T16:11:31Z", "message": "Add file based password authenticator documentation\n\nCherry-pick of https://github.com/prestosql/presto/pull/2335 (https://github.com/prestosql/presto/pull/2335)\n\nCo-authored-by: David Phillips <david@acz.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjMyNTk5NTgz", "url": "https://github.com/prestodb/presto/pull/15504#pullrequestreview-632599583", "createdAt": "2021-04-09T16:32:53Z", "commit": {"oid": "cc28838d0cd4ae7a594589c6c6a624bc5b8e34c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4518, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}