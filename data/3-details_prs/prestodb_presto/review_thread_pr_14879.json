{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1OTAzMTUy", "number": 14879, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwMDoyNzozNlrOERqRWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwMDoyNzozNlrOERqRWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2OTUzODE3OnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/com/facebook/presto/execution/scheduler/SqlQueryScheduler.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwMDoyNzozNlrOG2f5Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMTo0ODo1NlrOG2-ptQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc5ODc5OA==", "bodyText": "I assume if we clean up executionSchedules list here, we should also be able to break the loop via the condition form 276-278? :)", "url": "https://github.com/prestodb/presto/pull/14879#discussion_r459798798", "createdAt": "2020-07-24T00:27:36Z", "author": {"login": "wenleix"}, "path": "presto-main/src/main/java/com/facebook/presto/execution/scheduler/SqlQueryScheduler.java", "diffHunk": "@@ -284,6 +283,7 @@ private void schedule()\n                         .collect(toImmutableList()));\n                 if (queryStateMachine.isDone()) {\n                     sectionExecutions.forEach(SectionExecution::abort);\n+                    break;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2004eda98d4186cdf40b7405a1f26b4f08aa9f39"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA4MDc0Ng==", "bodyText": "no the problem is that next time through the loop we'll consider this section \"ready for execution\" again because the most recent attempt is in a failed state and this might be a retry.", "url": "https://github.com/prestodb/presto/pull/14879#discussion_r460080746", "createdAt": "2020-07-24T14:16:58Z", "author": {"login": "rschlussel"}, "path": "presto-main/src/main/java/com/facebook/presto/execution/scheduler/SqlQueryScheduler.java", "diffHunk": "@@ -284,6 +283,7 @@ private void schedule()\n                         .collect(toImmutableList()));\n                 if (queryStateMachine.isDone()) {\n                     sectionExecutions.forEach(SectionExecution::abort);\n+                    break;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc5ODc5OA=="}, "originalCommit": {"oid": "2004eda98d4186cdf40b7405a1f26b4f08aa9f39"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDMwMjc3Mw==", "bodyText": "i see", "url": "https://github.com/prestodb/presto/pull/14879#discussion_r460302773", "createdAt": "2020-07-24T21:48:56Z", "author": {"login": "wenleix"}, "path": "presto-main/src/main/java/com/facebook/presto/execution/scheduler/SqlQueryScheduler.java", "diffHunk": "@@ -284,6 +283,7 @@ private void schedule()\n                         .collect(toImmutableList()));\n                 if (queryStateMachine.isDone()) {\n                     sectionExecutions.forEach(SectionExecution::abort);\n+                    break;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc5ODc5OA=="}, "originalCommit": {"oid": "2004eda98d4186cdf40b7405a1f26b4f08aa9f39"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2162, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}