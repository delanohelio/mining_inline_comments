{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0ODc0MTg0", "number": 14990, "title": "Support legacy date/timestamp to varchar coercion", "bodyText": "For certain connector migration, we are facing incompatible semantic\nwhere column type changed. This is to provide a legacy mode so\nthat we could disaggregate connector migration from actual query\nmigration.\nWarnings will be issued for queries relying on this legacy behavior.\nTest plan - This functionality has been tested by shadowing prod traffic for several months before June. Will do another shadow test on the latest master.\n== NO RELEASE NOTE ==", "createdAt": "2020-08-07T23:18:06Z", "url": "https://github.com/prestodb/presto/pull/14990", "merged": true, "mergeCommit": {"oid": "53467ec1162faf148059b945860c809a8730316c"}, "closed": true, "closedAt": "2020-08-11T04:49:15Z", "author": {"login": "shixuan-fan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8s5UTABqjM2MzUwNTY2MDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9t_8XAFqTQ2NDcxOTQyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6eaa17a4e7198b5f797a2885746e68874f46f1d3", "author": {"user": {"login": "shixuan-fan", "name": "Shixuan Fan"}}, "url": "https://github.com/prestodb/presto/commit/6eaa17a4e7198b5f797a2885746e68874f46f1d3", "committedDate": "2020-08-07T23:16:55Z", "message": "Support legacy date/timestamp to varchar coercion\n\nFor certain connector migration, we are facing incompatible semantic\nwhere column type changed. This is to provide a legacy mode so\nthat we could disaggregate connector migration from actual query\nmigration."}, "afterCommit": {"oid": "d7ca5315bcad94bfb4d59d56205baae04aff586f", "author": {"user": {"login": "shixuan-fan", "name": "Shixuan Fan"}}, "url": "https://github.com/prestodb/presto/commit/d7ca5315bcad94bfb4d59d56205baae04aff586f", "committedDate": "2020-08-07T23:19:08Z", "message": "Support legacy date/timestamp to varchar coercion\n\nFor certain connector migration, we are facing incompatible semantic\nwhere column type changed. This is to provide a legacy mode so\nthat we could disaggregate connector migration from actual query\nmigration.\n\nWarnings will be issued for queries relying on this legacy behavior."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dabde6660bbdb122f831c6b5b2104c61712707ab", "author": {"user": {"login": "shixuan-fan", "name": "Shixuan Fan"}}, "url": "https://github.com/prestodb/presto/commit/dabde6660bbdb122f831c6b5b2104c61712707ab", "committedDate": "2020-08-08T05:58:54Z", "message": "Support legacy date/timestamp to varchar coercion\n\nFor certain connector migration, we are facing incompatible semantic\nwhere column type changed. This is to provide a legacy mode so\nthat we could disaggregate connector migration from actual query\nmigration.\n\nWarnings will be issued for queries relying on this legacy behavior."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7ca5315bcad94bfb4d59d56205baae04aff586f", "author": {"user": {"login": "shixuan-fan", "name": "Shixuan Fan"}}, "url": "https://github.com/prestodb/presto/commit/d7ca5315bcad94bfb4d59d56205baae04aff586f", "committedDate": "2020-08-07T23:19:08Z", "message": "Support legacy date/timestamp to varchar coercion\n\nFor certain connector migration, we are facing incompatible semantic\nwhere column type changed. This is to provide a legacy mode so\nthat we could disaggregate connector migration from actual query\nmigration.\n\nWarnings will be issued for queries relying on this legacy behavior."}, "afterCommit": {"oid": "dabde6660bbdb122f831c6b5b2104c61712707ab", "author": {"user": {"login": "shixuan-fan", "name": "Shixuan Fan"}}, "url": "https://github.com/prestodb/presto/commit/dabde6660bbdb122f831c6b5b2104c61712707ab", "committedDate": "2020-08-08T05:58:54Z", "message": "Support legacy date/timestamp to varchar coercion\n\nFor certain connector migration, we are facing incompatible semantic\nwhere column type changed. This is to provide a legacy mode so\nthat we could disaggregate connector migration from actual query\nmigration.\n\nWarnings will be issued for queries relying on this legacy behavior."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MDEwNDM3", "url": "https://github.com/prestodb/presto/pull/14990#pullrequestreview-464010437", "createdAt": "2020-08-10T07:36:07Z", "commit": {"oid": "dabde6660bbdb122f831c6b5b2104c61712707ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNzozNjowN1rOG-EGgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNzozNjowN1rOG-EGgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzczMjA5Nw==", "bodyText": "It's not property to have this in presto-common. Presto common is only for extremely generic flags.", "url": "https://github.com/prestodb/presto/pull/14990#discussion_r467732097", "createdAt": "2020-08-10T07:36:07Z", "author": {"login": "highker"}, "path": "presto-common/src/main/java/com/facebook/presto/common/function/SqlFunctionProperties.java", "diffHunk": "@@ -24,6 +24,7 @@\n {\n     private final boolean parseDecimalLiteralAsDouble;\n     private final boolean legacyRowFieldOrdinalAccessEnabled;\n+    private final boolean legacyTypeCoercionWarningEnabled;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dabde6660bbdb122f831c6b5b2104c61712707ab"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NzE5NDIx", "url": "https://github.com/prestodb/presto/pull/14990#pullrequestreview-464719421", "createdAt": "2020-08-11T03:11:02Z", "commit": {"oid": "dabde6660bbdb122f831c6b5b2104c61712707ab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1124, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}