{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMjgxMzIz", "number": 14201, "title": "Always use JSON for PlanFragment serialization", "bodyText": "SMILE support has flaky edge cases, and we cache the\nserialization now which already has reduced the cost.\n== NO RELEASE NOTE ==", "createdAt": "2020-03-04T01:03:41Z", "url": "https://github.com/prestodb/presto/pull/14201", "merged": true, "mergeCommit": {"oid": "1f774667198e72e29a124e8a39dc88b7a2e609d8"}, "closed": true, "closedAt": "2020-03-04T05:02:16Z", "author": {"login": "tdcmeehan"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKMMBZgH2gAyMzgzMjgxMzIzOjkzZWFmNThhZWIyNmY4NTFiMGI4NWM0MTkzOGFlZDAxNTRjMzhiNmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKPsMFAFqTM2ODUwNTcwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "93eaf58aeb26f851b0b85c41938aed0154c38b6f", "author": {"user": {"login": "tdcmeehan", "name": "Timothy Meehan"}}, "url": "https://github.com/prestodb/presto/commit/93eaf58aeb26f851b0b85c41938aed0154c38b6f", "committedDate": "2020-03-04T00:57:19Z", "message": "Always use JSON for PlanFragment serialization\n\nSMILE support has flaky edge cases, and we cache the\nserialization now which already has reduced the cost."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NTA1NzA0", "url": "https://github.com/prestodb/presto/pull/14201#pullrequestreview-368505704", "createdAt": "2020-03-04T05:01:47Z", "commit": {"oid": "93eaf58aeb26f851b0b85c41938aed0154c38b6f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNTowMTo0N1rOFxgEOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNTowMTo0N1rOFxgEOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ0OTkxMw==", "bodyText": "Maybe add a comment that plan fragment always use json due to flaky edge cases in smile as follow up?", "url": "https://github.com/prestodb/presto/pull/14201#discussion_r387449913", "createdAt": "2020-03-04T05:01:47Z", "author": {"login": "wenleix"}, "path": "presto-main/src/main/java/com/facebook/presto/server/TaskResource.java", "diffHunk": "@@ -114,12 +114,7 @@ public TaskResource(\n         this.sessionPropertyManager = requireNonNull(sessionPropertyManager, \"sessionPropertyManager is null\");\n         this.responseExecutor = requireNonNull(responseExecutor, \"responseExecutor is null\");\n         this.timeoutExecutor = requireNonNull(timeoutExecutor, \"timeoutExecutor is null\");\n-        if (communicationConfig.isBinaryTransportEnabled()) {\n-            this.planFragmentCodec = planFragmentSmileCodec;\n-        }\n-        else {\n-            this.planFragmentCodec = wrapJsonCodec(planFragmentJsonCodec);\n-        }\n+        this.planFragmentCodec = wrapJsonCodec(planFragmentJsonCodec);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93eaf58aeb26f851b0b85c41938aed0154c38b6f"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1961, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}