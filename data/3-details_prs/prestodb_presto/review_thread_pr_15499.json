{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNjAxNTQ5", "number": 15499, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxNToyMFrOFChOMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODozMlrOFFTKyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTg1Nzc3OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxNToyMFrOIBupxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODozMTowOVrOIBvqSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4Mzg0NA==", "bodyText": "These are technical details.  Give a user facing description instead. Something like:\nFix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538683844", "createdAt": "2020-12-08T18:15:20Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODcwMDM2MA==", "bodyText": "Used your description, but added the issue link.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538700360", "createdAt": "2020-12-08T18:31:09Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4Mzg0NA=="}, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTg2NDYxOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxNjoxOFrOIBuuNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMDo1OTo0MFrOIB19JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA==", "bodyText": "what kind of bug?  Would queries fail?  Need a user facing description of what didn't work that now does.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538684980", "createdAt": "2020-12-08T18:16:18Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY5NzE5OA==", "bodyText": "@daniel-ohayon can you help describe what the bug was? How would a user experience it?", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538697198", "createdAt": "2020-12-08T18:27:56Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA=="}, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgwMzQ5Mg==", "bodyText": "Here is a clearer definition: Fix a serialization bug which caused maps with string-valued enum keys to be displayed as illegible strings in the Presto CLI output.\nNote that enums have just been introduced into the presto core and there is no open-source connector supplying them, so immediate user impact should be non-existant at this point.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538803492", "createdAt": "2020-12-08T20:59:40Z", "author": {"login": "daniel-ohayon"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA=="}, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTg3NzkwOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxODoyM1rOIBu2Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoyNTo0NVrOIBvUiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NzA0Nw==", "bodyText": "maybe this is just a github display issue, but the line should be as long as the text.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538687047", "createdAt": "2020-12-08T18:18:23Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+____________", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY5NDc5Mw==", "bodyText": "When rendered it doesn't appear, but sure I can make it longer.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538694793", "createdAt": "2020-12-08T18:25:45Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+____________", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NzA0Nw=="}, "originalCommit": {"oid": "eefc898e3ef60585096647eae4ab916dafbf89b4"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MjIyMTQzOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToyMDo1NlrOIByKjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTozNzozOVrOIBy0bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MTM5MQ==", "bodyText": "Add :func:enum_key to get the key corresponding to an enum value", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538741391", "createdAt": "2020-12-08T19:20:56Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1MjExMQ==", "bodyText": "Are you advocating for not showing the signature?", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538752111", "createdAt": "2020-12-08T19:37:39Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MTM5MQ=="}, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MjIzNTU4OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToyNDoxOVrOIByS3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToyNDoxOVrOIByS3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MzUxOA==", "bodyText": "Fix parsing logic for prepared statements to be consistent with regular statements - I don't think we need to outline the method that we achieved this.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538743518", "createdAt": "2020-12-08T19:24:19Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MjI0NDczOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToyNjoyOFrOIByYIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTo0MDoyNVrOIBy7EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0NDg2Ng==", "bodyText": "``Improve parquet metadata reader by preloading data and reducing the number of reads` - I don't think we should dig too much into the implementation details. We should just link to the issue/pr", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538744866", "createdAt": "2020-12-08T19:26:28Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by pre-loading 16KiB from the end of the file. When the metadata section is smaller than the prefetch size, only a single read is performed compared to the previous two.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1MzgwOA==", "bodyText": "The release note generation logic doesn't link to PRs. I added the link for this one, but generally what are we doing? Seems like we should do it automatically.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538753808", "createdAt": "2020-12-08T19:40:25Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by pre-loading 16KiB from the end of the file. When the metadata section is smaller than the prefetch size, only a single read is performed compared to the previous two.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0NDg2Ng=="}, "originalCommit": {"oid": "cb3302c108ce88a052394d5c14c2026a350dabb5"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4Mjc1NDI1OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMToyOTowMlrOIB3Amw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMToyOTowMlrOIB3Amw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyMDc2Mw==", "bodyText": "nit: bug which causing -> bug causing", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538820763", "createdAt": "2020-12-08T21:29:02Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MjgxMzUxOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMTo0MzozOVrOIB3izg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMToyODo0N1rOIB9-7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA==", "bodyText": "we don't need the signature here. The :func: macro will make this a hyperlink and that should take people to the documentation", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538829518", "createdAt": "2020-12-08T21:43:39Z", "author": {"login": "mayankgarg1990"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg2NDk0MQ==", "bodyText": "OK, when I tested it I didn't get a hyperlink.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538864941", "createdAt": "2020-12-08T22:46:07Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg3MDE3Mw==", "bodyText": "Need  a period at the end of  the line.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538870173", "createdAt": "2020-12-08T22:55:47Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODkzNTAyMQ==", "bodyText": "Going my own way on this and both including it and keeping the description because right now it is the only documentation of it!", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538935021", "createdAt": "2020-12-09T01:28:47Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MzA5NjI3OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo1NjowMlrOIB6CMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo1NjowMlrOIB6CMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg3MDMyMA==", "bodyText": "Need a period at the end of the line.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538870320", "createdAt": "2020-12-08T22:56:02Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by preloading data and reducing the number of reads (:pr:`15421`).\n+\n+SPI Changes\n+____________\n+* Add ``getSchema`` to ``ConnectorSession``", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODUwNzQxOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.242.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0NDo1MlrOICq6Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo1MjoyNFrOICrMFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MTA2Ng==", "bodyText": "you wrote the warning 2x", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r539671066", "createdAt": "2020-12-09T21:44:52Z", "author": {"login": "rschlussel"}, "path": "presto-docs/src/main/sphinx/release/release-0.242.rst", "diffHunk": "@@ -5,6 +5,12 @@ Release 0.242\n .. warning::\n     There is a bug in LambdaDefinitionExpression canonicalization introduced since 0.238. For more details, go to :issue:`15424`.\n \n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured. Fixed in :pr:`15501`.\n+\n+.. warning::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3NTY3MA==", "bodyText": "Fixed, oops!", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r539675670", "createdAt": "2020-12-09T21:52:24Z", "author": {"login": "aweisberg"}, "path": "presto-docs/src/main/sphinx/release/release-0.242.rst", "diffHunk": "@@ -5,6 +5,12 @@ Release 0.242\n .. warning::\n     There is a bug in LambdaDefinitionExpression canonicalization introduced since 0.238. For more details, go to :issue:`15424`.\n \n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured. Fixed in :pr:`15501`.\n+\n+.. warning::", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MTA2Ng=="}, "originalCommit": {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxMDczNTU5OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjoxNDoyMFrOIFtf0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjoxNDoyMFrOIFtf0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjg1OTIxOA==", "bodyText": "Missing period at the end of the line.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542859218", "createdAt": "2020-12-14T22:14:20Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxMTAxMTkzOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODoyNlrOIFwOag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODoyNlrOIFwOag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkwMzkxNA==", "bodyText": "I ran make with Sphinx 2.4.0 and it gives me warning about this line.\nWARNING: py:func reference target not found: enum_key  \n\nWe either need to document the function, or do\n``enum_key``\n\nas a temporary workaround to not reference the function.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542903914", "createdAt": "2020-12-14T22:58:26Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxMTAxMjU2OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODozMlrOIFwOyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMjo1ODozMlrOIFwOyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkwNDAxMA==", "bodyText": "Same here.", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542904010", "createdAt": "2020-12-14T22:58:32Z", "author": {"login": "caithagoras"}, "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3253, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}