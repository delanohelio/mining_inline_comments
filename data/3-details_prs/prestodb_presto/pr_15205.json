{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNzgyODE2", "number": 15205, "title": "Improve BenchmarkPageProcessor", "bodyText": "Previously BenchmarkPageProcessor filters out 100% rows, and this makes\nproject was not tested at all. This PR adds a new option for the\nfilter to pass all rows so that projection can be tested. It also moves the creation of data and processors into a new inner class BenchmarkData, which allows for easier future parameter based expansions.\n== NO RELEASE NOTE ==", "createdAt": "2020-09-22T08:41:36Z", "url": "https://github.com/prestodb/presto/pull/15205", "merged": true, "mergeCommit": {"oid": "6ff3052e9df1a04613157746e7e779fd54c0c2a1"}, "closed": true, "closedAt": "2020-10-02T10:05:35Z", "author": {"login": "yingsu00"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLT3IagH2gAyNDkwNzgyODE2OjkyYzBjYzNkYmNmNjExNzhiMzM3Njg3ODZhOTAwMWI3YTljYzZiY2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOZ6KkAFqTUwMDc4MDAzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92c0cc3dbcf61178b33768786a9001b7a9cc6bca", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/92c0cc3dbcf61178b33768786a9001b7a9cc6bca", "committedDate": "2020-09-22T08:38:49Z", "message": "Move data preparation to BenchmarkData for BenchmarkPageProcessor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2OTExMTM1", "url": "https://github.com/prestodb/presto/pull/15205#pullrequestreview-496911135", "createdAt": "2020-09-25T23:25:32Z", "commit": {"oid": "0abec23f77d935f9a201142d986c04c39074d588"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3ODc2MDQw", "url": "https://github.com/prestodb/presto/pull/15205#pullrequestreview-497876040", "createdAt": "2020-09-28T20:35:40Z", "commit": {"oid": "44fcf7fcf0815452061225dafdd5b8618c7e03e1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MjUxNjk3", "url": "https://github.com/prestodb/presto/pull/15205#pullrequestreview-498251697", "createdAt": "2020-09-29T08:53:36Z", "commit": {"oid": "44fcf7fcf0815452061225dafdd5b8618c7e03e1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo1MzozNlrOHZjBcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo1MzozNlrOHZjBcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU1MDI1OQ==", "bodyText": "Current implementation can only support these two values, e.g. no filter and filter that never passes. Hence, it would be clearer to introduce a boolean parameter.\n@Param({\"true\", \"false\"})\nprivate boolean filterAlwaysFails;", "url": "https://github.com/prestodb/presto/pull/15205#discussion_r496550259", "createdAt": "2020-09-29T08:53:36Z", "author": {"login": "mbasmanova"}, "path": "presto-main/src/test/java/com/facebook/presto/sql/gen/BenchmarkPageProcessor.java", "diffHunk": "@@ -108,6 +110,10 @@ public Page handCoded(BenchmarkData data)\n         private Tpch1FilterAndProject handcodedProcessor;\n         private Page inputPage;\n \n+        @SuppressWarnings(\"unused\")\n+        @Param({\"0.0\", \"1.0\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44fcf7fcf0815452061225dafdd5b8618c7e03e1"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MjUzMTAx", "url": "https://github.com/prestodb/presto/pull/15205#pullrequestreview-498253101", "createdAt": "2020-09-29T08:55:10Z", "commit": {"oid": "6c2b32d433186ea01bdbb313a1f237da54479531"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo1NToxMVrOHZjFhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo1NToxMVrOHZjFhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU1MTMwMQ==", "bodyText": "What does this do?", "url": "https://github.com/prestodb/presto/pull/15205#discussion_r496551301", "createdAt": "2020-09-29T08:55:11Z", "author": {"login": "mbasmanova"}, "path": "presto-main/src/test/java/com/facebook/presto/sql/gen/BenchmarkPageProcessor.java", "diffHunk": "@@ -274,6 +275,7 @@ public static void main(String[] args)\n         Options options = new OptionsBuilder()\n                 .verbosity(VerboseMode.NORMAL)\n                 .include(\".*\" + BenchmarkPageProcessor.class.getSimpleName() + \".*\")\n+                .addProfiler(GCProfiler.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c2b32d433186ea01bdbb313a1f237da54479531"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "756ef10c60d77c21c550d27647e44726c21eab97", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/756ef10c60d77c21c550d27647e44726c21eab97", "committedDate": "2020-10-01T23:11:24Z", "message": "Allow 100% filter pass rate in BenchmarkPageProcessor\n\nPreviously BenchmarkPageProcessor filters out 100% rows, and this makes\nproject was not tested at all. This commit adds a new option for the\nfilter to pass all rows so that projection can be tested."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec1c393cf36f4e58b370160395a4afb84cde9005", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/ec1c393cf36f4e58b370160395a4afb84cde9005", "committedDate": "2020-10-01T23:11:24Z", "message": "Add verify methods for BenchmarkPageProcessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f6eaced7003fd338e23bc96bfc2d4af697202ca", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/0f6eaced7003fd338e23bc96bfc2d4af697202ca", "committedDate": "2020-10-01T23:11:25Z", "message": "Add GCProfilter to BenchmarkPageProcessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93a125b85207d5c10d9e606c1953e05ad093368c", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/93a125b85207d5c10d9e606c1953e05ad093368c", "committedDate": "2020-10-01T23:11:25Z", "message": "Add BIGINT benchmark for projection"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0abec23f77d935f9a201142d986c04c39074d588", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/0abec23f77d935f9a201142d986c04c39074d588", "committedDate": "2020-09-25T08:18:48Z", "message": "Add BIGINT benchmark for projection"}, "afterCommit": {"oid": "93a125b85207d5c10d9e606c1953e05ad093368c", "author": {"user": null}, "url": "https://github.com/prestodb/presto/commit/93a125b85207d5c10d9e606c1953e05ad093368c", "committedDate": "2020-10-01T23:11:25Z", "message": "Add BIGINT benchmark for projection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNzgwMDMw", "url": "https://github.com/prestodb/presto/pull/15205#pullrequestreview-500780030", "createdAt": "2020-10-01T23:23:20Z", "commit": {"oid": "93a125b85207d5c10d9e606c1953e05ad093368c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 181, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}