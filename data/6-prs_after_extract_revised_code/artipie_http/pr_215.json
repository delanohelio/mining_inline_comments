{"pr_number": 215, "pr_title": "#214 - Better types and more constructors header matchers", "pr_createdAt": "2020-08-06T09:55:28Z", "pr_url": "https://github.com/artipie/http/pull/215", "timeline": [{"oid": "235998305155ef4eb438b6aa886bb3713d7d1a13", "url": "https://github.com/artipie/http/commit/235998305155ef4eb438b6aa886bb3713d7d1a13", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher", "committedDate": "2020-08-06T09:57:37Z", "type": "forcePushed"}, {"oid": "e4fcbd5699f1e682a4483da2e3522ed7b8d8551c", "url": "https://github.com/artipie/http/commit/e4fcbd5699f1e682a4483da2e3522ed7b8d8551c", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher", "committedDate": "2020-08-06T10:00:40Z", "type": "forcePushed"}, {"oid": "f27e5223bb30ff84a192e61afb70c678deabd232", "url": "https://github.com/artipie/http/commit/f27e5223bb30ff84a192e61afb70c678deabd232", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher", "committedDate": "2020-08-06T10:09:12Z", "type": "commit"}, {"oid": "f27e5223bb30ff84a192e61afb70c678deabd232", "url": "https://github.com/artipie/http/commit/f27e5223bb30ff84a192e61afb70c678deabd232", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher", "committedDate": "2020-08-06T10:09:12Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NjI4NQ==", "url": "https://github.com/artipie/http/pull/215#discussion_r466456285", "bodyText": "@olegmoz I'd use single order for constructor parameters: now we have status, body, headers and status, headers, body. I think second option would be more correct here.", "author": "g4s8", "createdAt": "2020-08-06T14:31:31Z", "path": "src/main/java/com/artipie/http/hm/ResponseMatcher.java", "diffHunk": "@@ -39,11 +39,37 @@\n \n     /**\n      * Ctor.\n+     *\n      * @param status Expected status\n      * @param body Expected body\n      * @param headers Expected headers\n      */\n-    public ResponseMatcher(final RsStatus status, final byte[] body, final Header... headers) {\n+    public ResponseMatcher(\n+        final RsStatus status,\n+        final byte[] body,\n+        final Iterable<? extends Map.Entry<String, String>> headers\n+    ) {\n+        super(\n+            new ListOf<Matcher<? super Response>>(\n+                new RsHasStatus(status),\n+                new RsHasHeaders(headers),\n+                new RsHasBody(body)\n+            )\n+        );\n+    }\n+\n+    /**\n+     * Ctor.\n+     * @param status Expected status\n+     * @param body Expected body\n+     * @param headers Expected headers\n+     */\n+    @SafeVarargs\n+    public ResponseMatcher(", "originalCommit": "f27e5223bb30ff84a192e61afb70c678deabd232", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ2MzAxOQ==", "url": "https://github.com/artipie/http/pull/215#discussion_r466463019", "bodyText": "@g4s8 thanks, fixed parameters order for this method", "author": "olegmoz", "createdAt": "2020-08-06T14:41:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NjI4NQ=="}], "type": "inlineReview", "revised_code": {"commit": "47418d8528174cfb0c855c59ed7aa5efce82c011", "chunk": "diff --git a/src/main/java/com/artipie/http/hm/ResponseMatcher.java b/src/main/java/com/artipie/http/hm/ResponseMatcher.java\nindex 713d3a7..d2419cb 100644\n--- a/src/main/java/com/artipie/http/hm/ResponseMatcher.java\n+++ b/src/main/java/com/artipie/http/hm/ResponseMatcher.java\n\n@@ -41,13 +41,13 @@ public final class ResponseMatcher extends AllOf<Response> {\n      * Ctor.\n      *\n      * @param status Expected status\n-     * @param body Expected body\n      * @param headers Expected headers\n+     * @param body Expected body\n      */\n     public ResponseMatcher(\n         final RsStatus status,\n-        final byte[] body,\n-        final Iterable<? extends Map.Entry<String, String>> headers\n+        final Iterable<? extends Map.Entry<String, String>> headers,\n+        final byte[] body\n     ) {\n         super(\n             new ListOf<Matcher<? super Response>>(\n"}}, {"oid": "47418d8528174cfb0c855c59ed7aa5efce82c011", "url": "https://github.com/artipie/http/commit/47418d8528174cfb0c855c59ed7aa5efce82c011", "message": "#214 - Changes by review", "committedDate": "2020-08-06T14:39:04Z", "type": "commit"}, {"oid": "47418d8528174cfb0c855c59ed7aa5efce82c011", "url": "https://github.com/artipie/http/commit/47418d8528174cfb0c855c59ed7aa5efce82c011", "message": "#214 - Changes by review", "committedDate": "2020-08-06T14:39:04Z", "type": "forcePushed"}]}