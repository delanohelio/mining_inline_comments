{"pr_number": 3513, "pr_title": "Vertical lineage - OMRS Events Processing", "pr_createdAt": "2020-08-24T14:32:31Z", "pr_url": "https://github.com/odpi/egeria/pull/3513", "timeline": [{"oid": "b84e2b27a11289ae3a285ce7ade678fe1b86288b", "url": "https://github.com/odpi/egeria/commit/b84e2b27a11289ae3a285ce7ade678fe1b86288b", "message": "Vertical Lineage - OMRS events processing\n1. Update, Delete Entity, (Re/De) Classify Entity Events are send out for a Glossary Term/Glossary Category if the entity is involved in Semantic Assignment and/or Term Categorization relationships\n2. Term Categorization Relationship type added for processing\n3. Creation of a SemanticAssigment/TermCategorization Relationships is used to publish out the glossary term context\n4. The Glossary Categories are included in the Glossary Term context\n\nSigned-off-by: Daniela Otelea <daniela-valentina.otelea@ing.com>", "committedDate": "2020-08-24T13:40:15Z", "type": "commit"}, {"oid": "1e213417d4104a0dec2b5ec818614849502244d2", "url": "https://github.com/odpi/egeria/commit/1e213417d4104a0dec2b5ec818614849502244d2", "message": "Merge branch 'master' into vertical-lineage", "committedDate": "2020-08-24T13:41:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MjQ4MA==", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476242480", "bodyText": "Would it not be better to have a positive if and  put the subsequent 2 lines inthe body of the if. So you do not need to issue the return?", "author": "davidradl", "createdAt": "2020-08-25T07:42:27Z", "path": "open-metadata-implementation/access-services/asset-lineage/asset-lineage-server/src/main/java/org/odpi/openmetadata/accessservices/assetlineage/listeners/AssetLineageOMRSTopicListener.java", "diffHunk": "@@ -209,6 +209,10 @@ private void processClassifiedEntityEvent(EntityDetail entityDetail) throws OCFC\n         if (!anyLineageClassificationsLeft(entityDetail))\n             return;\n \n+        if (!publisher.isEntityEligibleForPublishing(entityDetail)) {", "originalCommit": "1e213417d4104a0dec2b5ec818614849502244d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjM0MDE3Mg==", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476340172", "bodyText": "I consider an early return makes code more readable and clean.", "author": "danielaotelea", "createdAt": "2020-08-25T10:18:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MjQ4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI0OTAzMg==", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r478249032", "bodyText": "@danielaotelea  For me this is a suggestion, I do not want to battle over style; so for me this can stay as is,  if you do not want to change. I am happy for you to resolve this conversation.", "author": "davidradl", "createdAt": "2020-08-27T08:32:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MjQ4MA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MzA5Nw==", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476243097", "bodyText": "Would it not be better to have a positive if and put the subsequent line in the body of the if. So you do not need to issue the return?", "author": "davidradl", "createdAt": "2020-08-25T07:43:28Z", "path": "open-metadata-implementation/access-services/asset-lineage/asset-lineage-server/src/main/java/org/odpi/openmetadata/accessservices/assetlineage/handlers/GlossaryContextHandler.java", "diffHunk": "@@ -101,6 +112,17 @@ private void addSchemaElementsContext(String userId, EntityDetail glossaryTerm,\n     }\n \n \n+    private void addGlossaryCategories(String userId,\n+                                       EntityDetail glossaryTerm,\n+                                       AssetContext glossaryContext,\n+                                       List<Relationship> termCategorization) throws OCFCheckedExceptionBase {\n+        if (CollectionUtils.isEmpty(termCategorization)) {", "originalCommit": "1e213417d4104a0dec2b5ec818614849502244d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjM0MDEyMA==", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476340120", "bodyText": "I consider an early return makes code more readable and clean.", "author": "danielaotelea", "createdAt": "2020-08-25T10:18:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MzA5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjM3MTU1Mg==", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476371552", "bodyText": "@danielaotelea in this case I agree with @davidradl\nIt is better to change the condition and do nothing if it is not met then do \"return;\"", "author": "immmus", "createdAt": "2020-08-25T11:21:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MzA5Nw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "dc3118613fe5b5edeabcf11625f179784e35db6b", "url": "https://github.com/odpi/egeria/commit/dc3118613fe5b5edeabcf11625f179784e35db6b", "message": "Vertical Lineage - OMRS events processing\na glossary term context is build only if the GT has semantic assignments and/or term categorization relationships\n\nSigned-off-by: Daniela Otelea <daniela-valentina.otelea@ing.com>", "committedDate": "2020-08-25T10:03:06Z", "type": "commit"}, {"oid": "92f6e5e441e179c87cbbe8d82cf98e3c759e2a18", "url": "https://github.com/odpi/egeria/commit/92f6e5e441e179c87cbbe8d82cf98e3c759e2a18", "message": "Vertical Lineage - OMRS events processing\nrefactoring the new relationship event processing\n\nSigned-off-by: Daniela Otelea <daniela-valentina.otelea@ing.com>", "committedDate": "2020-08-25T10:13:23Z", "type": "commit"}, {"oid": "c7e677e3bb6aa3c7e91d7f6eea3b7958f9bcff8e", "url": "https://github.com/odpi/egeria/commit/c7e677e3bb6aa3c7e91d7f6eea3b7958f9bcff8e", "message": "Merge branch 'master' into vertical-lineage", "committedDate": "2020-08-25T10:47:19Z", "type": "commit"}, {"oid": "24d62a226c8dee2bd316e1be48bbb570a3755ac6", "url": "https://github.com/odpi/egeria/commit/24d62a226c8dee2bd316e1be48bbb570a3755ac6", "message": "Merge branch 'master' into vertical-lineage", "committedDate": "2020-08-27T06:27:12Z", "type": "commit"}, {"oid": "83b58af175f860ee916149edb16e5f97d191ff43", "url": "https://github.com/odpi/egeria/commit/83b58af175f860ee916149edb16e5f97d191ff43", "message": "Merge branch 'master' into vertical-lineage", "committedDate": "2020-08-27T09:07:56Z", "type": "commit"}]}