{"pr_number": 3931, "pr_title": "Validators for relationships", "pr_createdAt": "2020-10-22T11:21:57Z", "pr_url": "https://github.com/odpi/egeria/pull/3931", "timeline": [{"oid": "994eba506bcf2ab8852c17f7752742ae4fe603d1", "url": "https://github.com/odpi/egeria/commit/994eba506bcf2ab8852c17f7752742ae4fe603d1", "message": "Replaces control property clashes in open types (#2099)\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-08-05T13:50:40Z", "type": "commit"}, {"oid": "50c6bfae8074f174da091946533c70eaa3bd57fd", "url": "https://github.com/odpi/egeria/commit/50c6bfae8074f174da091946533c70eaa3bd57fd", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-06T09:39:44Z", "type": "commit"}, {"oid": "3e387284e9d5e2ffe40f7cab7cd8e72b97cf12b1", "url": "https://github.com/odpi/egeria/commit/3e387284e9d5e2ffe40f7cab7cd8e72b97cf12b1", "message": "Updates to address review comments on draft PR\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-08-06T09:44:47Z", "type": "commit"}, {"oid": "49eae64e63e6f5cf2fcaf37c727a6d8d1d25d434", "url": "https://github.com/odpi/egeria/commit/49eae64e63e6f5cf2fcaf37c727a6d8d1d25d434", "message": "Updates to address review comments on draft PR\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-08-06T13:33:47Z", "type": "commit"}, {"oid": "7d832f81a5f040a1e00aba6bd4eced26212cffdc", "url": "https://github.com/odpi/egeria/commit/7d832f81a5f040a1e00aba6bd4eced26212cffdc", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-13T10:17:54Z", "type": "commit"}, {"oid": "308710dc7cc2d2a2b1183ac9dc6849585404554e", "url": "https://github.com/odpi/egeria/commit/308710dc7cc2d2a2b1183ac9dc6849585404554e", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-14T12:05:12Z", "type": "commit"}, {"oid": "a3c16c67b49100d28ae3388675dbb3b43649ce65", "url": "https://github.com/odpi/egeria/commit/a3c16c67b49100d28ae3388675dbb3b43649ce65", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-18T08:37:32Z", "type": "commit"}, {"oid": "21ca38eb91359a7520bf681a9bd3206178a3e009", "url": "https://github.com/odpi/egeria/commit/21ca38eb91359a7520bf681a9bd3206178a3e009", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-20T09:24:53Z", "type": "commit"}, {"oid": "ce7579775341194826b78c10de53d18cf4772579", "url": "https://github.com/odpi/egeria/commit/ce7579775341194826b78c10de53d18cf4772579", "message": "Excludes Ansible yaml from GitHub pages\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-08-20T09:25:32Z", "type": "commit"}, {"oid": "3b15d4e73e2d0424dec94545650d6ab0f166979a", "url": "https://github.com/odpi/egeria/commit/3b15d4e73e2d0424dec94545650d6ab0f166979a", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-20T10:15:49Z", "type": "commit"}, {"oid": "68cb69806d43196a30f474439413ed1fa719b567", "url": "https://github.com/odpi/egeria/commit/68cb69806d43196a30f474439413ed1fa719b567", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-24T09:21:21Z", "type": "commit"}, {"oid": "94601ff8ed178d3f39781a97cac0a7c6a86ee42b", "url": "https://github.com/odpi/egeria/commit/94601ff8ed178d3f39781a97cac0a7c6a86ee42b", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-25T07:41:51Z", "type": "commit"}, {"oid": "f93037167a3fb1094d76cdf8cb1ffb53ea7dd98d", "url": "https://github.com/odpi/egeria/commit/f93037167a3fb1094d76cdf8cb1ffb53ea7dd98d", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-25T10:11:45Z", "type": "commit"}, {"oid": "81bfe828f2d9d3134edae7137cca064574c53ca1", "url": "https://github.com/odpi/egeria/commit/81bfe828f2d9d3134edae7137cca064574c53ca1", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-27T09:10:25Z", "type": "commit"}, {"oid": "08c74ae0ab8623794415094e397dd66e8a3752df", "url": "https://github.com/odpi/egeria/commit/08c74ae0ab8623794415094e397dd66e8a3752df", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-08-27T09:49:30Z", "type": "commit"}, {"oid": "1d81e3b1fa0c77582f88717b4feead29f2e9090d", "url": "https://github.com/odpi/egeria/commit/1d81e3b1fa0c77582f88717b4feead29f2e9090d", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-01T08:19:13Z", "type": "commit"}, {"oid": "aca191dc6f57fe1d70db3094517707fe6ab2b908", "url": "https://github.com/odpi/egeria/commit/aca191dc6f57fe1d70db3094517707fe6ab2b908", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-01T13:10:57Z", "type": "commit"}, {"oid": "50a08da1a9da5c684e12fe5045264403181d90f4", "url": "https://github.com/odpi/egeria/commit/50a08da1a9da5c684e12fe5045264403181d90f4", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-01T17:36:27Z", "type": "commit"}, {"oid": "3f8071bef98adbaa8466c0f3a3d1168ddc13a9aa", "url": "https://github.com/odpi/egeria/commit/3f8071bef98adbaa8466c0f3a3d1168ddc13a9aa", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-01T18:15:29Z", "type": "commit"}, {"oid": "20614a5c6b0b99381bac3a443d75f22b1945b599", "url": "https://github.com/odpi/egeria/commit/20614a5c6b0b99381bac3a443d75f22b1945b599", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-02T07:52:15Z", "type": "commit"}, {"oid": "5ae4670d654ef53c62122b9801f829ef03336170", "url": "https://github.com/odpi/egeria/commit/5ae4670d654ef53c62122b9801f829ef03336170", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-02T12:01:28Z", "type": "commit"}, {"oid": "17925ba87be94c6875c789dc9351355499368300", "url": "https://github.com/odpi/egeria/commit/17925ba87be94c6875c789dc9351355499368300", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-02T12:20:00Z", "type": "commit"}, {"oid": "adf4b3338f0954cf3c28daa5fb2a5a86c1e95873", "url": "https://github.com/odpi/egeria/commit/adf4b3338f0954cf3c28daa5fb2a5a86c1e95873", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-04T08:41:48Z", "type": "commit"}, {"oid": "7d63112d84c72259783ca18ad03ec39604089f85", "url": "https://github.com/odpi/egeria/commit/7d63112d84c72259783ca18ad03ec39604089f85", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-04T16:05:49Z", "type": "commit"}, {"oid": "420756adf323239ecfd5ab4d5219248921b4b087", "url": "https://github.com/odpi/egeria/commit/420756adf323239ecfd5ab4d5219248921b4b087", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-07T13:59:42Z", "type": "commit"}, {"oid": "fc7b045f9d6247efc6cce3732ec8e9553137aa51", "url": "https://github.com/odpi/egeria/commit/fc7b045f9d6247efc6cce3732ec8e9553137aa51", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-09-17T12:36:37Z", "type": "commit"}, {"oid": "b4a0b2540cb91e5d5ba07376cd9273517887575a", "url": "https://github.com/odpi/egeria/commit/b4a0b2540cb91e5d5ba07376cd9273517887575a", "message": "Merge with latest master\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-10-22T10:06:58Z", "type": "commit"}, {"oid": "7e82f044f1480e0f22fd74b5ee93bb9e67f52904", "url": "https://github.com/odpi/egeria/commit/7e82f044f1480e0f22fd74b5ee93bb9e67f52904", "message": "Merge remote-tracking branch 'upstream/master' into validators", "committedDate": "2020-10-22T10:44:07Z", "type": "commit"}, {"oid": "c1ce51717f7e597c8f8f78e95231222d6bdc3b2f", "url": "https://github.com/odpi/egeria/commit/c1ce51717f7e597c8f8f78e95231222d6bdc3b2f", "message": "#3903 validate relationships\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-10-22T11:24:06Z", "type": "commit"}, {"oid": "02f9c10823dae8f1377db1bc2fd9179a04aa2ef1", "url": "https://github.com/odpi/egeria/commit/02f9c10823dae8f1377db1bc2fd9179a04aa2ef1", "message": "Fix presumed copy/paste error, as the original audit code took 4 args (and is used in the method just above), while this one takes 2\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-10-22T11:24:45Z", "type": "commit"}, {"oid": "fac298b946a0c1f0f834cc810dfe0c892a1aaaaf", "url": "https://github.com/odpi/egeria/commit/fac298b946a0c1f0f834cc810dfe0c892a1aaaaf", "message": "Merge branch 'master' into validators", "committedDate": "2020-10-22T14:45:13Z", "type": "commit"}, {"oid": "6747d70c9e3f9ac64b598bad41bfe9abb33ec063", "url": "https://github.com/odpi/egeria/commit/6747d70c9e3f9ac64b598bad41bfe9abb33ec063", "message": "Merge remote-tracking branch 'upstream/master' into validators", "committedDate": "2020-10-27T10:00:10Z", "type": "commit"}, {"oid": "acfd269228902cb4e24ab88ac78fa2396a437674", "url": "https://github.com/odpi/egeria/commit/acfd269228902cb4e24ab88ac78fa2396a437674", "message": "Merge branch 'validators' of github.com:cmgrote/egeria into validators", "committedDate": "2020-10-27T10:00:43Z", "type": "commit"}, {"oid": "3098b858141bdfdeccc2c0e28cbe502e0cecf4a8", "url": "https://github.com/odpi/egeria/commit/3098b858141bdfdeccc2c0e28cbe502e0cecf4a8", "message": "Merge remote-tracking branch 'upstream/master' into validators", "committedDate": "2020-10-27T14:53:24Z", "type": "commit"}, {"oid": "5b9a870a0ad47d2b282f5d1e0b1008bdb744f99c", "url": "https://github.com/odpi/egeria/commit/5b9a870a0ad47d2b282f5d1e0b1008bdb744f99c", "message": "Merge branch 'master' into validators", "committedDate": "2020-10-28T15:16:18Z", "type": "commit"}, {"oid": "0fe98c5a87edf5a62dedcca1ab53e328931ec076", "url": "https://github.com/odpi/egeria/commit/0fe98c5a87edf5a62dedcca1ab53e328931ec076", "message": "Merge branch 'master' into validators", "committedDate": "2020-11-05T16:14:15Z", "type": "commit"}, {"oid": "1a192ab375e42564c05c8b6b61a8b62029bc34f8", "url": "https://github.com/odpi/egeria/commit/1a192ab375e42564c05c8b6b61a8b62029bc34f8", "message": "Merge remote-tracking branch 'upstream/master' into validators", "committedDate": "2020-11-11T12:01:32Z", "type": "commit"}, {"oid": "4e2b0c2511bbdff75bf5a60ac198a26a24ce44e8", "url": "https://github.com/odpi/egeria/commit/4e2b0c2511bbdff75bf5a60ac198a26a24ce44e8", "message": "Merge branch 'validators' of github.com:cmgrote/egeria into validators", "committedDate": "2020-11-11T12:01:38Z", "type": "commit"}, {"oid": "b56a0f9d6590c6bf9f48ce1bec202d660bf1071d", "url": "https://github.com/odpi/egeria/commit/b56a0f9d6590c6bf9f48ce1bec202d660bf1071d", "message": "Revert changes to validations of relationships to be restored\n\nSigned-off-by: Christopher Grote <chris@thegrotes.net>", "committedDate": "2020-11-11T12:10:49Z", "type": "commit"}, {"oid": "19d97701bc9b9bdf5eddbc0d509429fa3064b663", "url": "https://github.com/odpi/egeria/commit/19d97701bc9b9bdf5eddbc0d509429fa3064b663", "message": "Merge branch 'master' into validators", "committedDate": "2020-11-11T12:47:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTM5MDYyNA==", "url": "https://github.com/odpi/egeria/pull/3931#discussion_r521390624", "bodyText": "This one should be ok to leave in - we are validating the relationship is not deleted after it has been restored.", "author": "davidradl", "createdAt": "2020-11-11T14:21:05Z", "path": "open-metadata-implementation/repository-services/repository-services-implementation/src/main/java/org/odpi/openmetadata/repositoryservices/localrepository/repositoryconnector/LocalOMRSMetadataCollection.java", "diffHunk": "@@ -5368,19 +5368,11 @@ public Relationship restoreRelationship(String    userId,\n             throw new UserNotAuthorizedException(error);\n         }\n \n-        /*\n-         * Check relationship is valid\n-         */\n-        Relationship relationship = realMetadataCollection.getRelationship(userId, deletedRelationshipGUID);\n-        repositoryValidator.validateRelationshipFromStore(repositoryName, deletedRelationshipGUID, relationship, methodName);\n-\n         /*\n          * Restore relationship\n          */\n         Relationship   newRelationship = realMetadataCollection.restoreRelationship(userId, deletedRelationshipGUID);\n \n-        repositoryValidator.validateRelationshipFromStore(repositoryName, deletedRelationshipGUID, newRelationship, methodName);", "originalCommit": "b56a0f9d6590c6bf9f48ce1bec202d660bf1071d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQxNTY5NA==", "url": "https://github.com/odpi/egeria/pull/3931#discussion_r521415694", "bodyText": "Apologies for merging this quickly, I am trying to get it in master and include it as part of the lineage testing. Can we fix it forward with new PR that puts it back?", "author": "lpalashevski", "createdAt": "2020-11-11T14:57:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTM5MDYyNA=="}], "type": "inlineReview", "revised_code": null}]}