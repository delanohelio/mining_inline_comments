{"pr_number": 3615, "pr_title": "Date Engine OMAS events client", "pr_createdAt": "2020-09-14T16:02:55Z", "pr_url": "https://github.com/odpi/egeria/pull/3615", "timeline": [{"oid": "c8956a98741233c4c2ff1a56041da6fa4457f969", "url": "https://github.com/odpi/egeria/commit/c8956a98741233c4c2ff1a56041da6fa4457f969", "message": "DE server updates to support events client configuration\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-14T15:54:05Z", "type": "commit"}, {"oid": "b8f3fa0136727921452cffc47a36ad358c1b8bf1", "url": "https://github.com/odpi/egeria/commit/b8f3fa0136727921452cffc47a36ad358c1b8bf1", "message": "DE api updates to support events interface\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-14T15:55:24Z", "type": "commit"}, {"oid": "c787e6f77d2083a15703873580816bde55a9c1ad", "url": "https://github.com/odpi/egeria/commit/c787e6f77d2083a15703873580816bde55a9c1ad", "message": "DE client updates, adding new client implementation to support configuration retrieval and event publishing\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-14T15:58:26Z", "type": "commit"}, {"oid": "7f7ebdf43a1659442b4d2d2cdb4b05afa6eff483", "url": "https://github.com/odpi/egeria/commit/7f7ebdf43a1659442b4d2d2cdb4b05afa6eff483", "message": "DE topic-connectors module\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-14T15:59:14Z", "type": "commit"}, {"oid": "cd6abce3b092cdfff6e81a488b5256a8bf692b5e", "url": "https://github.com/odpi/egeria/commit/cd6abce3b092cdfff6e81a488b5256a8bf692b5e", "message": "Merge branch 'master' of github.com:odpi/egeria into de-omas-events", "committedDate": "2020-09-14T15:59:30Z", "type": "commit"}, {"oid": "9fdc707567a261fd608e0be9a2120775aafb8ef1", "url": "https://github.com/odpi/egeria/commit/9fdc707567a261fd608e0be9a2120775aafb8ef1", "message": "DE client and connector updates\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-16T10:48:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2OTk0NQ==", "url": "https://github.com/odpi/egeria/pull/3615#discussion_r489369945", "bodyText": "Maybe it's better if we remove the method definition from the interface & the rest implementation - it is not being used, and we have the corresponding method for creating a list of processes", "author": "popa-raluca", "createdAt": "2020-09-16T11:39:42Z", "path": "open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineEventClient.java", "diffHunk": "@@ -0,0 +1,165 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.accessservices.dataengine.client;\n+\n+import org.odpi.openmetadata.accessservices.dataengine.connectors.intopic.DataEngineInTopicClientConnector;\n+import org.odpi.openmetadata.accessservices.dataengine.event.*;\n+import org.odpi.openmetadata.accessservices.dataengine.model.*;\n+import org.odpi.openmetadata.accessservices.dataengine.model.Process;\n+import org.odpi.openmetadata.frameworks.connectors.ffdc.ConnectorCheckedException;\n+import org.odpi.openmetadata.frameworks.connectors.ffdc.InvalidParameterException;\n+\n+import java.util.List;\n+\n+\n+/***\n+ * DataEngineEventClient implements Data Engine client side events interface using provided topic connector.\n+ * For more information see {@link DataEngineClient} interface definition.\n+ */\n+public class DataEngineEventClient implements DataEngineClient {\n+\n+    private DataEngineInTopicClientConnector topicConnector;\n+    private String externalSource;\n+\n+    /**\n+     * Constructor to create DataEngineEventClient with unauthenticated access to the server\n+     *\n+     * @param source External source system using the client to produce events\n+     * @param dataEngineInTopicClientConnector topic connector used to publish to InTopic\n+     * @throws InvalidParameterException there is a problem creating the client-side components to issue any\n+     *                                   REST API calls.\n+     */\n+    public DataEngineEventClient(String source, DataEngineInTopicClientConnector dataEngineInTopicClientConnector) {\n+        this.topicConnector = dataEngineInTopicClientConnector;\n+        this.externalSource = source;\n+    }\n+\n+    /**\n+     * {@inheritDoc}\n+     */\n+    @Override\n+    public String createOrUpdateProcess(String userId, Process process) throws InvalidParameterException, ConnectorCheckedException {", "originalCommit": "9fdc707567a261fd608e0be9a2120775aafb8ef1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ3MDk3Nw==", "url": "https://github.com/odpi/egeria/pull/3615#discussion_r489470977", "bodyText": "Removed form the interface and rest implementation.", "author": "lpalashevski", "createdAt": "2020-09-16T14:14:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2OTk0NQ=="}], "type": "inlineReview", "revised_code": {"commit": "b180a25b181f7899ceb579b34475e5fe231f6cfc", "chunk": "diff --git a/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineEventClient.java b/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineEventClient.java\nindex 9224cfd61b..bb95273eda 100644\n--- a/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineEventClient.java\n+++ b/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineEventClient.java\n\n@@ -34,14 +34,6 @@ public class DataEngineEventClient implements DataEngineClient {\n         this.externalSource = source;\n     }\n \n-    /**\n-     * {@inheritDoc}\n-     */\n-    @Override\n-    public String createOrUpdateProcess(String userId, Process process) throws InvalidParameterException, ConnectorCheckedException {\n-        return null;\n-    }\n-\n     /**\n      * {@inheritDoc}\n      */\n"}}, {"oid": "b180a25b181f7899ceb579b34475e5fe231f6cfc", "url": "https://github.com/odpi/egeria/commit/b180a25b181f7899ceb579b34475e5fe231f6cfc", "message": "Remove createOrUpdateProcess from the REST interface - not used\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-16T14:16:34Z", "type": "commit"}, {"oid": "c001969f5c249ea2f66f6fde645626044df2b8db", "url": "https://github.com/odpi/egeria/commit/c001969f5c249ea2f66f6fde645626044df2b8db", "message": "cleanup dependencies and fix javadoc build issues\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T12:00:16Z", "type": "commit"}, {"oid": "eb0f95ff0893b2cbbaa3c1b2b2e58247704e2c8b", "url": "https://github.com/odpi/egeria/commit/eb0f95ff0893b2cbbaa3c1b2b2e58247704e2c8b", "message": "Client documentation update\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T12:00:30Z", "type": "commit"}, {"oid": "47840885e631aae860c83ea0b2da818d28dde56b", "url": "https://github.com/odpi/egeria/commit/47840885e631aae860c83ea0b2da818d28dde56b", "message": "Merge branch 'master' of github.com:odpi/egeria into de-omas-events", "committedDate": "2020-09-17T12:00:51Z", "type": "commit"}, {"oid": "ac917eb4efc2573c37dcbfdd81786cc21ad05f4b", "url": "https://github.com/odpi/egeria/commit/ac917eb4efc2573c37dcbfdd81786cc21ad05f4b", "message": "Fixing gradle build missing dependencies\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T13:58:08Z", "type": "commit"}, {"oid": "609b72e8437281c220617050e13c204907bfdeb4", "url": "https://github.com/odpi/egeria/commit/609b72e8437281c220617050e13c204907bfdeb4", "message": "add data-engine-topic-connectors project in gradle settings\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T14:28:40Z", "type": "commit"}, {"oid": "556c0c69905f8d3a96eeb40aabc2d65a4ebbf237", "url": "https://github.com/odpi/egeria/commit/556c0c69905f8d3a96eeb40aabc2d65a4ebbf237", "message": "missing ocf-metadata-api dependency\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T14:39:57Z", "type": "commit"}, {"oid": "40642909dadbdc11d7f1d9932173153cd703b5e6", "url": "https://github.com/odpi/egeria/commit/40642909dadbdc11d7f1d9932173153cd703b5e6", "message": "gradle dependencies missing repository-services-apis\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T15:20:59Z", "type": "commit"}, {"oid": "71ecb88bd81191b743be28a367c4cc4d06734930", "url": "https://github.com/odpi/egeria/commit/71ecb88bd81191b743be28a367c4cc4d06734930", "message": "gradle dependencies missing audit-log-framework\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T15:28:02Z", "type": "commit"}, {"oid": "20da77d24c85455b1a84bf07853005c776bcfc47", "url": "https://github.com/odpi/egeria/commit/20da77d24c85455b1a84bf07853005c776bcfc47", "message": "Gradle build fix.\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-17T17:21:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc3OTg0Ng==", "url": "https://github.com/odpi/egeria/pull/3615#discussion_r490779846", "bodyText": "You can rename the class and remove the TODO, since it's already renamed in the documentation", "author": "popa-raluca", "createdAt": "2020-09-18T08:16:13Z", "path": "open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineImpl.java", "diffHunk": "@@ -33,7 +33,7 @@\n  * The Data Engine Open Metadata Access Service (OMAS) provides an interface for data engine tools to create\n  * processes with ports, schemas and relationships. See interface definition for more explanation.\n  */\n-public class DataEngineImpl extends OCFRESTClient implements DataEngineClient {\n+public class DataEngineImpl extends OCFRESTClient implements DataEngineClient { //TODO: Suggest to rename this class to DataEngineRESTClient", "originalCommit": "20da77d24c85455b1a84bf07853005c776bcfc47", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e568889f4b2064c1796fff2643b9d2564b2f0b42", "chunk": "diff --git a/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineImpl.java b/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineRESTClient.java\nsimilarity index 97%\nrename from open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineImpl.java\nrename to open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineRESTClient.java\nindex 2de86c070a..8564b83fd6 100644\n--- a/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineImpl.java\n+++ b/open-metadata-implementation/access-services/data-engine/data-engine-client/src/main/java/org/odpi/openmetadata/accessservices/dataengine/client/DataEngineRESTClient.java\n\n@@ -33,7 +33,7 @@ import java.util.List;\n  * The Data Engine Open Metadata Access Service (OMAS) provides an interface for data engine tools to create\n  * processes with ports, schemas and relationships. See interface definition for more explanation.\n  */\n-public class DataEngineImpl extends OCFRESTClient implements DataEngineClient { //TODO: Suggest to rename this class to DataEngineRESTClient\n+public class DataEngineRESTClient extends OCFRESTClient implements DataEngineClient {\n     private static final String DATA_ENGINE_PATH = \"/servers/{0}/open-metadata/access-services/data-engine/users/{1}/\";\n     private static final String PROCESS_URL_TEMPLATE = DATA_ENGINE_PATH + \"processes\";\n     private static final String DATA_ENGINE_REGISTRATION_URL_TEMPLATE = DATA_ENGINE_PATH + \"registration\";\n"}}, {"oid": "e568889f4b2064c1796fff2643b9d2564b2f0b42", "url": "https://github.com/odpi/egeria/commit/e568889f4b2064c1796fff2643b9d2564b2f0b42", "message": "Rename data engine rest client\n\nSigned-off-by: Ljupcho Palashevski <ljupcho.palashevski@ing.com>", "committedDate": "2020-09-18T08:36:15Z", "type": "commit"}, {"oid": "498f6ecf9fbaabd7d596caab96adbbdc475e12a1", "url": "https://github.com/odpi/egeria/commit/498f6ecf9fbaabd7d596caab96adbbdc475e12a1", "message": "Merge branch 'master' of github.com:odpi/egeria into de-omas-events", "committedDate": "2020-09-18T08:36:44Z", "type": "commit"}]}