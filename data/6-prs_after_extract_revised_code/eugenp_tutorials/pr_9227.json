{"pr_number": 9227, "pr_title": "BAEL-3829: example of dynamic bean autowiring in Spring", "pr_createdAt": "2020-05-03T20:19:05Z", "pr_url": "https://github.com/eugenp/tutorials/pull/9227", "timeline": [{"oid": "0cd965eb74e1bf41b8366298e62a4dd131e68a7f", "url": "https://github.com/eugenp/tutorials/commit/0cd965eb74e1bf41b8366298e62a4dd131e68a7f", "message": "BAEL-3829: example of dynamic bean autowiring in Spring", "committedDate": "2020-05-03T20:05:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM4Njg5MA==", "url": "https://github.com/eugenp/tutorials/pull/9227#discussion_r419386890", "bodyText": "why interface in the name?", "author": "rpvilao", "createdAt": "2020-05-04T12:05:33Z", "path": "spring-core-4/src/main/java/com/baeldung/dynamic/autowire/InterfaceDynamicAutowireService.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.baeldung.dynamic.autowire;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n+\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Function;\n+import java.util.stream.Collectors;\n+\n+@Service\n+public class InterfaceDynamicAutowireService {", "originalCommit": "0cd965eb74e1bf41b8366298e62a4dd131e68a7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzODk2Ng==", "url": "https://github.com/eugenp/tutorials/pull/9227#discussion_r420438966", "bodyText": "Wanted to show in the name, that this solution is based on interface autowiring, will change for a better name because this one can be missleading", "author": "maciejglowka", "createdAt": "2020-05-05T22:15:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM4Njg5MA=="}], "type": "inlineReview", "revised_code": {"commit": "b9b02feee95376b533cca1c88e8a65c37201682e", "chunk": "diff --git a/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/InterfaceDynamicAutowireService.java b/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/CustomMapFromListDynamicAutowireService.java\nsimilarity index 55%\nrename from spring-core-4/src/main/java/com/baeldung/dynamic/autowire/InterfaceDynamicAutowireService.java\nrename to spring-core-4/src/main/java/com/baeldung/dynamic/autowire/CustomMapFromListDynamicAutowireService.java\nindex ad655f5c42..e04c345d51 100644\n--- a/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/InterfaceDynamicAutowireService.java\n+++ b/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/CustomMapFromListDynamicAutowireService.java\n\n@@ -9,17 +9,17 @@ import java.util.function.Function;\n import java.util.stream.Collectors;\n \n @Service\n-public class InterfaceDynamicAutowireService {\n+public class CustomMapFromListDynamicAutowireService {\n     private final Map<String, RegionService> servicesByCountryCode;\n \n     @Autowired\n-    public InterfaceDynamicAutowireService(List<RegionService> regionServices) {\n+    public CustomMapFromListDynamicAutowireService(List<RegionService> regionServices) {\n         servicesByCountryCode = regionServices.stream()\n-                .collect(Collectors.toMap(RegionService::getCountryCode, Function.identity()));\n+                .collect(Collectors.toMap(RegionService::getISOCountryCode, Function.identity()));\n     }\n \n-    public boolean isServerActive(String countryCode, int serverId) {\n-        RegionService service = servicesByCountryCode.get(countryCode);\n+    public boolean isServerActive(String isoCountryCode, int serverId) {\n+        RegionService service = servicesByCountryCode.get(isoCountryCode);\n \n         return service.isServerActive(serverId);\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM4NzI5Mw==", "url": "https://github.com/eugenp/tutorials/pull/9227#discussion_r419387293", "bodyText": "since the names are global I would say this needs to be more specific, just uk seems a bad practice", "author": "rpvilao", "createdAt": "2020-05-04T12:06:27Z", "path": "spring-core-4/src/main/java/com/baeldung/dynamic/autowire/UkRegionService.java", "diffHunk": "@@ -0,0 +1,16 @@\n+package com.baeldung.dynamic.autowire;\n+\n+import org.springframework.stereotype.Service;\n+\n+@Service(\"uk\")", "originalCommit": "0cd965eb74e1bf41b8366298e62a4dd131e68a7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzODQyMw==", "url": "https://github.com/eugenp/tutorials/pull/9227#discussion_r420438423", "bodyText": "Ok, will change", "author": "maciejglowka", "createdAt": "2020-05-05T22:14:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM4NzI5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "b9b02feee95376b533cca1c88e8a65c37201682e", "chunk": "diff --git a/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/UkRegionService.java b/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/GBRegionService.java\nsimilarity index 58%\nrename from spring-core-4/src/main/java/com/baeldung/dynamic/autowire/UkRegionService.java\nrename to spring-core-4/src/main/java/com/baeldung/dynamic/autowire/GBRegionService.java\nindex 1fbe8ed96e..8c6a1372d4 100644\n--- a/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/UkRegionService.java\n+++ b/spring-core-4/src/main/java/com/baeldung/dynamic/autowire/GBRegionService.java\n\n@@ -2,15 +2,15 @@ package com.baeldung.dynamic.autowire;\n \n import org.springframework.stereotype.Service;\n \n-@Service(\"uk\")\n-public class UkRegionService implements RegionService {\n+@Service(\"GBregionService\")\n+public class GBRegionService implements RegionService {\n     @Override\n     public boolean isServerActive(int serverId) {\n         return false;\n     }\n \n     @Override\n-    public String getCountryCode() {\n-        return \"uk\";\n+    public String getISOCountryCode() {\n+        return \"GB\";\n     }\n }\n"}}, {"oid": "b9b02feee95376b533cca1c88e8a65c37201682e", "url": "https://github.com/eugenp/tutorials/commit/b9b02feee95376b533cca1c88e8a65c37201682e", "message": "BAEL-3829: added more distinct bean names, changed country codes to ISO codes", "committedDate": "2020-05-05T22:35:07Z", "type": "commit"}, {"oid": "2d15d3e381391633c069afc64a6a362898a9d037", "url": "https://github.com/eugenp/tutorials/commit/2d15d3e381391633c069afc64a6a362898a9d037", "message": "BAEL-3829: fixed test method names", "committedDate": "2020-05-07T21:25:43Z", "type": "commit"}]}