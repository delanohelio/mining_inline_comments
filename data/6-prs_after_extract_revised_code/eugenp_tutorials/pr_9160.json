{"pr_number": 9160, "pr_title": "BAEL-3972: check user roles in Java", "pr_createdAt": "2020-04-21T16:26:59Z", "pr_url": "https://github.com/eugenp/tutorials/pull/9160", "timeline": [{"oid": "abbe0ab02f5608ac7318dbf19342bdaf79421bcc", "url": "https://github.com/eugenp/tutorials/commit/abbe0ab02f5608ac7318dbf19342bdaf79421bcc", "message": "BAEL-3972: check user roles in Java", "committedDate": "2020-04-21T16:25:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA5MDcxMg==", "url": "https://github.com/eugenp/tutorials/pull/9160#discussion_r415090712", "bodyText": "For consistency with this class and other Java code on the site, let's use the convention/standard of putting the opening brace at the end of the line rather than on a line by itself. Same applies to the other methods, not just this one :)", "author": "KevinGilmore", "createdAt": "2020-04-25T16:02:11Z", "path": "spring-security-modules/spring-security-core/src/main/java/com/baeldung/app/controller/TaskController.java", "diffHunk": "@@ -30,4 +42,66 @@\n \n         return ResponseEntity.ok().body(tasks);\n     }\n+\n+    /**\n+     * Example of restricting specific endpoints to specific roles using @PreAuthorize.\n+     */\n+    @GetMapping(\"/manager\")\n+    @PreAuthorize(\"hasRole('ROLE_MANAGER')\")\n+    public ResponseEntity<Iterable<Task>> getAlManagerTasks()\n+    {", "originalCommit": "abbe0ab02f5608ac7318dbf19342bdaf79421bcc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTEwODE4Nw==", "url": "https://github.com/eugenp/tutorials/pull/9160#discussion_r415108187", "bodyText": "@KevinGilmore Should be updated now", "author": "michael-pratt", "createdAt": "2020-04-25T17:38:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA5MDcxMg=="}], "type": "inlineReview", "revised_code": {"commit": "38b838d7f004d480ed039dcf5b028b42259c4d09", "chunk": "diff --git a/spring-security-modules/spring-security-core/src/main/java/com/baeldung/app/controller/TaskController.java b/spring-security-modules/spring-security-core/src/main/java/com/baeldung/app/controller/TaskController.java\nindex 95f855c1e5..67072b5d61 100644\n--- a/spring-security-modules/spring-security-core/src/main/java/com/baeldung/app/controller/TaskController.java\n+++ b/spring-security-modules/spring-security-core/src/main/java/com/baeldung/app/controller/TaskController.java\n\n@@ -48,8 +48,7 @@ public class TaskController {\n      */\n     @GetMapping(\"/manager\")\n     @PreAuthorize(\"hasRole('ROLE_MANAGER')\")\n-    public ResponseEntity<Iterable<Task>> getAlManagerTasks()\n-    {\n+    public ResponseEntity<Iterable<Task>> getAlManagerTasks() {\n         Iterable<Task> tasks = taskService.findAll();\n \n         return ResponseEntity.ok().body(tasks);\n"}}, {"oid": "38b838d7f004d480ed039dcf5b028b42259c4d09", "url": "https://github.com/eugenp/tutorials/commit/38b838d7f004d480ed039dcf5b028b42259c4d09", "message": "BAEL-3972: Fix formatting", "committedDate": "2020-04-25T17:37:01Z", "type": "commit"}]}