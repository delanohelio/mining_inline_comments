{"pr_number": 3610, "pr_title": "[#3609] Fix the NPE for webforms validation when publishing surveys", "pr_createdAt": "2020-06-24T16:57:01Z", "pr_url": "https://github.com/akvo/akvo-flow/pull/3610", "timeline": [{"oid": "421511b017c52680d217b748b34a3ea641717a6c", "url": "https://github.com/akvo/akvo-flow/commit/421511b017c52680d217b748b34a3ea641717a6c", "message": "[#3609] Fix the NPE for webforms validation when publishing surveys", "committedDate": "2020-06-24T16:37:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA0MDE2Ng==", "url": "https://github.com/akvo/akvo-flow/pull/3610#discussion_r445040166", "bodyText": "should we also change the second use of form.getObjectId()  ?", "author": "tangrammer", "createdAt": "2020-06-24T17:00:35Z", "path": "GAE/src/org/waterforpeople/mapping/app/web/SurveyAssemblyServlet.java", "diffHunk": "@@ -198,7 +198,7 @@ private boolean assembleFormWithJackson(Long formId) {\n             log.debug(\"Finishing assembly of \" + formId);\n             form.setStatus(Survey.Status.PUBLISHED);\n             if (form.getWebForm()){\n-                boolean webForm = WebForm.validWebForm(surveyGroupDao.getByKey(form.getObjectId()), form, questionDao.listQuestionsBySurvey(form.getObjectId()));\n+                boolean webForm = WebForm.validWebForm(surveyGroupDao.getByKey(form.getSurveyGroupId()), form, questionDao.listQuestionsBySurvey(form.getObjectId()));", "originalCommit": "421511b017c52680d217b748b34a3ea641717a6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA0MTMwMA==", "url": "https://github.com/akvo/akvo-flow/pull/3610#discussion_r445041300", "bodyText": "nope that one is ok. \ud83d\udc4d", "author": "muloem", "createdAt": "2020-06-24T17:02:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA0MDE2Ng=="}], "type": "inlineReview", "revised_code": null}]}