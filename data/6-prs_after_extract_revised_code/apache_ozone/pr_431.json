{"pr_number": 431, "pr_title": "HDDS-2846. Handle Datanode Pipeline & Container Reports reports in Recon.", "pr_createdAt": "2020-01-10T07:25:01Z", "pr_url": "https://github.com/apache/ozone/pull/431", "timeline": [{"oid": "7744d0f3285ec2d6e8cd6f3db5fa4e619305091c", "url": "https://github.com/apache/ozone/commit/7744d0f3285ec2d6e8cd6f3db5fa4e619305091c", "message": "HDDS-2846. Handle Datanode Pipeline & Container Reports reports in Recon.", "committedDate": "2020-01-10T07:19:07Z", "type": "commit"}, {"oid": "e40b6b04ff80d0ea7416b074ddb69e0aeca8a37c", "url": "https://github.com/apache/ozone/commit/e40b6b04ff80d0ea7416b074ddb69e0aeca8a37c", "message": "Merge remote-tracking branch 'upstream/master' into HDDS-2846-master", "committedDate": "2020-01-14T05:39:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc1MzUxOA==", "url": "https://github.com/apache/ozone/pull/431#discussion_r367753518", "bodyText": "Minor nit: Should drop the Facade from the class name, a facade merely provides access to underlying subsystems minus the management functions which this class actually does in addition to abstracting out access.", "author": "swagle", "createdAt": "2020-01-17T03:23:48Z", "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconStorageContainerManagerFacade.java", "diffHunk": "@@ -27,52 +28,99 @@\n \n import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n import org.apache.hadoop.hdds.scm.block.BlockManager;\n+import org.apache.hadoop.hdds.scm.container.CloseContainerEventHandler;\n+import org.apache.hadoop.hdds.scm.container.ContainerActionsHandler;\n import org.apache.hadoop.hdds.scm.container.ContainerManager;\n+import org.apache.hadoop.hdds.scm.container.ContainerReportHandler;\n+import org.apache.hadoop.hdds.scm.container.IncrementalContainerReportHandler;\n import org.apache.hadoop.hdds.scm.container.ReplicationManager;\n import org.apache.hadoop.hdds.scm.events.SCMEvents;\n import org.apache.hadoop.hdds.scm.net.NetworkTopology;\n import org.apache.hadoop.hdds.scm.net.NetworkTopologyImpl;\n+import org.apache.hadoop.hdds.scm.node.DeadNodeHandler;\n import org.apache.hadoop.hdds.scm.node.NodeManager;\n import org.apache.hadoop.hdds.scm.node.NodeReportHandler;\n+import org.apache.hadoop.hdds.scm.node.SCMNodeManager;\n+import org.apache.hadoop.hdds.scm.node.StaleNodeHandler;\n+import org.apache.hadoop.hdds.scm.pipeline.PipelineActionHandler;\n import org.apache.hadoop.hdds.scm.pipeline.PipelineManager;\n+import org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler;\n+import org.apache.hadoop.hdds.scm.safemode.SafeModeManager;\n import org.apache.hadoop.hdds.scm.server.SCMStorageConfig;\n import org.apache.hadoop.hdds.scm.server.OzoneStorageContainerManager;\n import org.apache.hadoop.hdds.server.events.EventQueue;\n+import org.apache.hadoop.io.IOUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n /**\n  * Recon's 'lite' version of SCM.\n  */\n-public class ReconStorageContainerManager\n+public class ReconStorageContainerManagerFacade", "originalCommit": "e40b6b04ff80d0ea7416b074ddb69e0aeca8a37c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc3MjIyNw==", "url": "https://github.com/apache/ozone/pull/431#discussion_r367772227", "bodyText": "Thanks for the review @swagle. I will address this in the next patch (HDDS-2869).", "author": "avijayanhwx", "createdAt": "2020-01-17T05:13:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc1MzUxOA=="}], "type": "inlineReview", "revised_code": null}]}