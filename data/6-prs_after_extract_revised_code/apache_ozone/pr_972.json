{"pr_number": 972, "pr_title": "HDDS-3665. Container info command should print uuid of datanode", "pr_createdAt": "2020-05-27T03:40:34Z", "pr_url": "https://github.com/apache/ozone/pull/972", "timeline": [{"oid": "8c17498a76823071a035aece9b50ddb97cf53ac6", "url": "https://github.com/apache/ozone/commit/8c17498a76823071a035aece9b50ddb97cf53ac6", "message": "HDDS-3665. Container info command should print uuid of datanode", "committedDate": "2020-05-27T03:34:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg0MDk2Nw==", "url": "https://github.com/apache/ozone/pull/972#discussion_r430840967", "bodyText": "Trivial NIT:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private static String buildDatanodeDisplay(DatanodeDetails details) {\n          \n          \n            \n              private static String buildDatanodeDetails(DatanodeDetails details) {", "author": "dineshchitlangia", "createdAt": "2020-05-27T03:45:33Z", "path": "hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java", "diffHunk": "@@ -66,9 +66,14 @@ public Void call() throws Exception {\n \n       // Print pipeline of an existing container.\n       String machinesStr = container.getPipeline().getNodes().stream().map(\n-              DatanodeDetails::getHostName).collect(Collectors.joining(\",\"));\n+          InfoSubcommand::buildDatanodeDisplay)\n+          .collect(Collectors.joining(\",\\n\"));\n       LOG.info(\"Datanodes: [{}]\", machinesStr);\n       return null;\n     }\n   }\n+\n+  private static String buildDatanodeDisplay(DatanodeDetails details) {", "originalCommit": "8c17498a76823071a035aece9b50ddb97cf53ac6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d39df5d7d1f8d05996ea08ca8a153de019f840bc", "chunk": "diff --git a/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java b/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\nindex 0acd8b700..59090d8a7 100644\n--- a/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\n+++ b/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\n\n@@ -73,7 +73,7 @@ public Void call() throws Exception {\n     }\n   }\n \n-  private static String buildDatanodeDisplay(DatanodeDetails details) {\n+  private static String buildDatanodeDetails(DatanodeDetails details) {\n     return details.getUuidString() + \"/\" + details.getHostName();\n   }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg0MTE2NA==", "url": "https://github.com/apache/ozone/pull/972#discussion_r430841164", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      InfoSubcommand::buildDatanodeDisplay)\n          \n          \n            \n                      InfoSubcommand::buildDatanodeDetails)", "author": "dineshchitlangia", "createdAt": "2020-05-27T03:46:19Z", "path": "hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java", "diffHunk": "@@ -66,9 +66,14 @@ public Void call() throws Exception {\n \n       // Print pipeline of an existing container.\n       String machinesStr = container.getPipeline().getNodes().stream().map(\n-              DatanodeDetails::getHostName).collect(Collectors.joining(\",\"));\n+          InfoSubcommand::buildDatanodeDisplay)", "originalCommit": "8c17498a76823071a035aece9b50ddb97cf53ac6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d39df5d7d1f8d05996ea08ca8a153de019f840bc", "chunk": "diff --git a/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java b/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\nindex 0acd8b700..59090d8a7 100644\n--- a/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\n+++ b/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\n\n@@ -73,7 +73,7 @@ public Void call() throws Exception {\n     }\n   }\n \n-  private static String buildDatanodeDisplay(DatanodeDetails details) {\n+  private static String buildDatanodeDetails(DatanodeDetails details) {\n     return details.getUuidString() + \"/\" + details.getHostName();\n   }\n }\n"}}, {"oid": "d39df5d7d1f8d05996ea08ca8a153de019f840bc", "url": "https://github.com/apache/ozone/commit/d39df5d7d1f8d05996ea08ca8a153de019f840bc", "message": "Update hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\n\nCo-authored-by: Dinesh Chitlangia <dineshchitlangia@gmail.com>", "committedDate": "2020-05-27T03:48:22Z", "type": "commit"}, {"oid": "391f1c84cf49a70ec90bf33ad1c3bebc5cbadf18", "url": "https://github.com/apache/ozone/commit/391f1c84cf49a70ec90bf33ad1c3bebc5cbadf18", "message": "Update hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java\n\nCo-authored-by: Dinesh Chitlangia <dineshchitlangia@gmail.com>", "committedDate": "2020-05-27T03:48:29Z", "type": "commit"}]}