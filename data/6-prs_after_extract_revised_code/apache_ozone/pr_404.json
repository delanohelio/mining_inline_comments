{"pr_number": 404, "pr_title": "HDDS-2552. Sonar: Save and reuse Random object in GenesisUtil", "pr_createdAt": "2020-01-02T04:34:32Z", "pr_url": "https://github.com/apache/ozone/pull/404", "timeline": [{"oid": "1eaeeb6ad7cde1483a011f6ba69399f17df06127", "url": "https://github.com/apache/ozone/commit/1eaeeb6ad7cde1483a011f6ba69399f17df06127", "message": "HDDS-2552. Sonar: Save and reuse Random object in GenesisUti", "committedDate": "2020-01-02T04:31:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjQxNzY0MA==", "url": "https://github.com/apache/ozone/pull/404#discussion_r362417640", "bodyText": "Given that this is also used for non-client SCM and OM addresses, wouldn't something like RANDOM_LOCAL_ADDRESS be a better name?", "author": "adoroszlai", "createdAt": "2020-01-02T09:54:04Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/GenesisUtil.java", "diffHunk": "@@ -68,6 +68,8 @@ private GenesisUtil() {\n \n   private static final int DB_FILE_LEN = 7;\n   private static final String TMP_DIR = \"java.io.tmpdir\";\n+  private static final Random RANDOM = new Random();\n+  private static final String SCM_CLIENT_DEFAULT_ADDRESS = \"127.0.0.1:0\";", "originalCommit": "1eaeeb6ad7cde1483a011f6ba69399f17df06127", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjQyMzYxMA==", "url": "https://github.com/apache/ozone/pull/404#discussion_r362423610", "bodyText": "Sure. Fixed it!", "author": "vivekratnavel", "createdAt": "2020-01-02T10:14:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjQxNzY0MA=="}], "type": "inlineReview", "revised_code": {"commit": "46eccc4887c2ab003f05a23dba782020207c3802", "chunk": "diff --git a/hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/GenesisUtil.java b/hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/GenesisUtil.java\nindex 0a6a01631..25ceb4ce5 100644\n--- a/hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/GenesisUtil.java\n+++ b/hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/GenesisUtil.java\n\n@@ -69,7 +69,7 @@ private GenesisUtil() {\n   private static final int DB_FILE_LEN = 7;\n   private static final String TMP_DIR = \"java.io.tmpdir\";\n   private static final Random RANDOM = new Random();\n-  private static final String SCM_CLIENT_DEFAULT_ADDRESS = \"127.0.0.1:0\";\n+  private static final String RANDOM_LOCAL_ADDRESS = \"127.0.0.1:0\";\n \n   public static Path getTempPath() {\n     return Paths.get(System.getProperty(TMP_DIR));\n"}}, {"oid": "46eccc4887c2ab003f05a23dba782020207c3802", "url": "https://github.com/apache/ozone/commit/46eccc4887c2ab003f05a23dba782020207c3802", "message": "Rename constant", "committedDate": "2020-01-02T10:14:11Z", "type": "commit"}]}