{"pr_number": 935, "pr_title": "HDDS-3606. Add datanode port into the printTopology command output", "pr_createdAt": "2020-05-18T06:42:37Z", "pr_url": "https://github.com/apache/ozone/pull/935", "timeline": [{"oid": "332d2e66052c6172bf535dd1026539fddfa115bc", "url": "https://github.com/apache/ozone/commit/332d2e66052c6172bf535dd1026539fddfa115bc", "message": "HDDS-3606. Add datanode port into the printTopology command output", "committedDate": "2020-05-18T06:41:29Z", "type": "commit"}, {"oid": "f760588da1e7066d1ecc3d629aa6babbab7814e7", "url": "https://github.com/apache/ozone/commit/f760588da1e7066d1ecc3d629aa6babbab7814e7", "message": "trigger new ci check", "committedDate": "2020-05-18T12:55:15Z", "type": "commit"}, {"oid": "23227bbabae9c58e3430af2a8619e8627efcdfe2", "url": "https://github.com/apache/ozone/commit/23227bbabae9c58e3430af2a8619e8627efcdfe2", "message": "Merge branch 'patch-3' of https://github.com/maobaolong/hadoop-ozone into patch-3", "committedDate": "2020-05-18T12:57:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYxMjc3Nw==", "url": "https://github.com/apache/ozone/pull/935#discussion_r426612777", "bodyText": "need extra space between - and 1.", "author": "ChenSammi", "createdAt": "2020-05-18T13:09:05Z", "path": "hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java", "diffHunk": "@@ -116,15 +116,27 @@ private void printOrderedByLocation(List<HddsProtos.Node> nodes) {\n     });\n   }\n \n+  private String formatPortOutput(List<HddsProtos.Port> ports) {\n+    StringBuilder sb = new StringBuilder();\n+    for (int i = 0; i < ports.size(); i++) {\n+      HddsProtos.Port port = ports.get(i);\n+      sb.append(port.getName() + \"=\" + port.getValue());\n+      if (i < ports.size() -1) {", "originalCommit": "23227bbabae9c58e3430af2a8619e8627efcdfe2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "767436bc00c2c0e17c8d2ec4c1c92e4617164186", "chunk": "diff --git a/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java b/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java\nindex 40de671a03..95a1235486 100644\n--- a/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java\n+++ b/hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java\n\n@@ -121,7 +121,7 @@ private String formatPortOutput(List<HddsProtos.Port> ports) {\n     for (int i = 0; i < ports.size(); i++) {\n       HddsProtos.Port port = ports.get(i);\n       sb.append(port.getName() + \"=\" + port.getValue());\n-      if (i < ports.size() -1) {\n+      if (i < ports.size() - 1) {\n         sb.append(\",\");\n       }\n     }\n"}}, {"oid": "767436bc00c2c0e17c8d2ec4c1c92e4617164186", "url": "https://github.com/apache/ozone/commit/767436bc00c2c0e17c8d2ec4c1c92e4617164186", "message": "HDDS-3606. Fix style issue.", "committedDate": "2020-05-19T02:07:14Z", "type": "commit"}]}