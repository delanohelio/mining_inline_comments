{"pr_number": 2244, "pr_title": "Genericize Palettes", "pr_createdAt": "2020-10-05T06:46:18Z", "pr_url": "https://github.com/SpongePowered/SpongeAPI/pull/2244", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcwNDk0MA==", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2244#discussion_r499704940", "bodyText": "Just call it stream", "author": "Zidane", "createdAt": "2020-10-05T15:57:16Z", "path": "src/main/java/org/spongepowered/api/world/schematic/Palette.java", "diffHunk": "@@ -72,30 +73,52 @@\n      */\n     Optional<Integer> get(T type);\n \n-    /**\n-     * Gets the identifier for the given {@code type T} from the mapping. If the\n-     * {@code type T} is not yet registered in the mapping then it is registered and\n-     * given the next available identifier.\n-     *\n-     * @param type The type\n-     * @return The identifier\n-     */\n-    int getOrAssign(T type);\n-\n-    /**\n-     * Removes the given {@code type T} from the mapping.\n-     *\n-     * <p>Note that if this palette is considered a global palette, removal is not supported.</p>\n-     *\n-     * @param type The type to remove\n-     * @return If the type existed in the mapping\n-     */\n-    boolean remove(T type);\n \n     /**\n      * Gets all {@code type T}s contained in this palette.\n      *\n      * @return All contained types\n      */\n-    Collection<T> getEntries();\n+    Stream<T> getEntries();", "originalCommit": "50ea6c02ac093d0cd3c3200d1b1c2547175054d3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "chunk": "diff --git a/src/main/java/org/spongepowered/api/world/schematic/Palette.java b/src/main/java/org/spongepowered/api/world/schematic/Palette.java\nindex e24f35ee7..2faff4daf 100644\n--- a/src/main/java/org/spongepowered/api/world/schematic/Palette.java\n+++ b/src/main/java/org/spongepowered/api/world/schematic/Palette.java\n\n@@ -71,7 +71,7 @@\n      * @param type The type\n      * @return The identifier, if found\n      */\n-    Optional<Integer> get(T type);\n+    OptionalInt get(T type);\n \n \n     /**\n"}}, {"oid": "6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "url": "https://github.com/SpongePowered/SpongeAPI/commit/6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "message": "Modify Palette to return OptionalInts\n\nPreviously, we used Optional<Integer> because of\na use of representing the value being not belonging\nof a registry or something thereof, instead, it's\nbetter to return the actual OptionalInt that will\nremain unboxed as a value.\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>", "committedDate": "2020-11-13T07:36:55Z", "type": "forcePushed"}, {"oid": "c55fcbba6a7821469816e5980920179952455413", "url": "https://github.com/SpongePowered/SpongeAPI/commit/c55fcbba6a7821469816e5980920179952455413", "message": "Introduce more generic Palettes\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>", "committedDate": "2020-11-13T07:41:41Z", "type": "commit"}, {"oid": "c55fcbba6a7821469816e5980920179952455413", "url": "https://github.com/SpongePowered/SpongeAPI/commit/c55fcbba6a7821469816e5980920179952455413", "message": "Introduce more generic Palettes\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>", "committedDate": "2020-11-13T07:41:41Z", "type": "forcePushed"}]}