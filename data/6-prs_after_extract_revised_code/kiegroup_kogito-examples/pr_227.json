{"pr_number": 227, "pr_title": "Travel Agency - Add add endpoint for simulating a timeout error in th\u2026", "pr_createdAt": "2020-04-15T16:35:41Z", "pr_url": "https://github.com/kiegroup/kogito-examples/pull/227", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4ODc0NA==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r408988744", "bodyText": "Could you create another class that handle that and get the FlightBookingService bean ?", "author": "radtriste", "createdAt": "2020-04-15T16:50:24Z", "path": "kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java", "diffHunk": "@@ -1,14 +1,38 @@\n package org.acme.travels.service;\n \n import javax.enterprise.context.ApplicationScoped;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n \n import org.acme.travels.Flight;\n import org.acme.travels.Trip;\n \n @ApplicationScoped\n+@Path(\"/flightservice\")", "originalCommit": "a7b5c5a0c9e4ca9aecece45dd80bfaf61eeeb882", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1c57863364b38a5f33df61b929159a1dd41c6bcc", "chunk": "diff --git a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\nindex 9bc02f94..281f3787 100644\n--- a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\n+++ b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\n\n@@ -3,7 +3,6 @@ package org.acme.travels.service;\n import javax.enterprise.context.ApplicationScoped;\n import javax.ws.rs.GET;\n import javax.ws.rs.POST;\n-import javax.ws.rs.Path;\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4OTAyMg==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r408989022", "bodyText": "shouldTimeout ?", "author": "radtriste", "createdAt": "2020-04-15T16:50:51Z", "path": "kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java", "diffHunk": "@@ -1,14 +1,38 @@\n package org.acme.travels.service;\n \n import javax.enterprise.context.ApplicationScoped;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n \n import org.acme.travels.Flight;\n import org.acme.travels.Trip;\n \n @ApplicationScoped\n+@Path(\"/flightservice\")\n public class FlightBookingService {\n \n-\tpublic Flight bookFlight(Trip trip) {\n-\t\treturn new Flight(\"MX555\", trip.getBegin(), trip.getEnd());\n-\t}\n+    private Boolean timeout = Boolean.FALSE;", "originalCommit": "a7b5c5a0c9e4ca9aecece45dd80bfaf61eeeb882", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1c57863364b38a5f33df61b929159a1dd41c6bcc", "chunk": "diff --git a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\nindex 9bc02f94..281f3787 100644\n--- a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\n+++ b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\n\n@@ -3,7 +3,6 @@ package org.acme.travels.service;\n import javax.enterprise.context.ApplicationScoped;\n import javax.ws.rs.GET;\n import javax.ws.rs.POST;\n-import javax.ws.rs.Path;\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4OTE0Ng==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r408989146", "bodyText": "toggleTimeout() ?", "author": "radtriste", "createdAt": "2020-04-15T16:51:03Z", "path": "kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java", "diffHunk": "@@ -1,14 +1,38 @@\n package org.acme.travels.service;\n \n import javax.enterprise.context.ApplicationScoped;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n \n import org.acme.travels.Flight;\n import org.acme.travels.Trip;\n \n @ApplicationScoped\n+@Path(\"/flightservice\")\n public class FlightBookingService {\n \n-\tpublic Flight bookFlight(Trip trip) {\n-\t\treturn new Flight(\"MX555\", trip.getBegin(), trip.getEnd());\n-\t}\n+    private Boolean timeout = Boolean.FALSE;\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Boolean getTimeout() {\n+        return timeout;\n+    }\n+\n+    @POST\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public boolean setTimeout() {", "originalCommit": "a7b5c5a0c9e4ca9aecece45dd80bfaf61eeeb882", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk5NDMzOQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r408994339", "bodyText": "+1", "author": "tiagodolphine", "createdAt": "2020-04-15T16:59:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4OTE0Ng=="}], "type": "inlineReview", "revised_code": {"commit": "1c57863364b38a5f33df61b929159a1dd41c6bcc", "chunk": "diff --git a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\nindex 9bc02f94..281f3787 100644\n--- a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\n+++ b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingService.java\n\n@@ -3,7 +3,6 @@ package org.acme.travels.service;\n import javax.enterprise.context.ApplicationScoped;\n import javax.ws.rs.GET;\n import javax.ws.rs.POST;\n-import javax.ws.rs.Path;\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n \n"}}, {"oid": "1c57863364b38a5f33df61b929159a1dd41c6bcc", "url": "https://github.com/kiegroup/kogito-examples/commit/1c57863364b38a5f33df61b929159a1dd41c6bcc", "message": "Travel Agency - Add add endpoint for simulating a timeout error in the process", "committedDate": "2020-04-16T06:47:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA1MQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r409578051", "bodyText": "I would be this as a PUT method as it is more an update of an existing thing.", "author": "radtriste", "createdAt": "2020-04-16T13:58:35Z", "path": "kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java", "diffHunk": "@@ -0,0 +1,29 @@\n+package org.acme.travels.service;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+\n+@Path(\"/flightservice\")\n+public class FlightBookingResource {\n+\n+    @Inject\n+    FlightBookingService service;\n+    \n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Boolean getShouldTimeout() {\n+        return service.getShouldTimeout();\n+    }\n+\n+    @POST", "originalCommit": "1c57863364b38a5f33df61b929159a1dd41c6bcc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2bc146ef6596202d1a1ee76d7a01e990d38740e6", "chunk": "diff --git a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java\nindex 320254fd..afdf5830 100644\n--- a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java\n+++ b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java\n\n@@ -2,7 +2,7 @@ package org.acme.travels.service;\n \n import javax.inject.Inject;\n import javax.ws.rs.GET;\n-import javax.ws.rs.POST;\n+import javax.ws.rs.PUT;\n import javax.ws.rs.Path;\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3OTQzOQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r409579439", "bodyText": "Sorry for being a PITA but still not a big fan to get/update a boolean value on /flightservice path.\nCould we have something like /flightservice/timeout or /flightservice/shouldtimeout ?\nor if want to keep /flightservice, then we should get/update a configuration structure. but it is more complex.", "author": "radtriste", "createdAt": "2020-04-16T14:00:14Z", "path": "kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java", "diffHunk": "@@ -0,0 +1,29 @@\n+package org.acme.travels.service;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+\n+@Path(\"/flightservice\")\n+public class FlightBookingResource {\n+\n+    @Inject\n+    FlightBookingService service;\n+    \n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)", "originalCommit": "1c57863364b38a5f33df61b929159a1dd41c6bcc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NDg2Nw==", "url": "https://github.com/kiegroup/kogito-examples/pull/227#discussion_r409584867", "bodyText": "I agree, adding to /flightservice/shouldtimeout is even more flexible in case we need to add more actions to the flightservice other than the timeout.", "author": "tiagodolphine", "createdAt": "2020-04-16T14:07:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3OTQzOQ=="}], "type": "inlineReview", "revised_code": {"commit": "2bc146ef6596202d1a1ee76d7a01e990d38740e6", "chunk": "diff --git a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java\nindex 320254fd..afdf5830 100644\n--- a/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java\n+++ b/kogito-travel-agency/travels/src/main/java/org/acme/travels/service/FlightBookingResource.java\n\n@@ -2,7 +2,7 @@ package org.acme.travels.service;\n \n import javax.inject.Inject;\n import javax.ws.rs.GET;\n-import javax.ws.rs.POST;\n+import javax.ws.rs.PUT;\n import javax.ws.rs.Path;\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n"}}, {"oid": "2bc146ef6596202d1a1ee76d7a01e990d38740e6", "url": "https://github.com/kiegroup/kogito-examples/commit/2bc146ef6596202d1a1ee76d7a01e990d38740e6", "message": "Travel Agency - Add add endpoint for simulating a timeout error in the process", "committedDate": "2020-04-20T16:37:23Z", "type": "forcePushed"}, {"oid": "86ed53378eb002bd02c87683d93f08b5c5e5001c", "url": "https://github.com/kiegroup/kogito-examples/commit/86ed53378eb002bd02c87683d93f08b5c5e5001c", "message": "Travel Agency - Add add endpoint for simulating a timeout error in the process", "committedDate": "2020-04-20T16:39:24Z", "type": "forcePushed"}, {"oid": "a99c8497f085ed9c6c7d6b5637cf2416c87904de", "url": "https://github.com/kiegroup/kogito-examples/commit/a99c8497f085ed9c6c7d6b5637cf2416c87904de", "message": "Travel Agency - Add add endpoint for simulating a timeout error in the process", "committedDate": "2020-04-23T09:01:00Z", "type": "commit"}, {"oid": "a99c8497f085ed9c6c7d6b5637cf2416c87904de", "url": "https://github.com/kiegroup/kogito-examples/commit/a99c8497f085ed9c6c7d6b5637cf2416c87904de", "message": "Travel Agency - Add add endpoint for simulating a timeout error in the process", "committedDate": "2020-04-23T09:01:00Z", "type": "forcePushed"}]}