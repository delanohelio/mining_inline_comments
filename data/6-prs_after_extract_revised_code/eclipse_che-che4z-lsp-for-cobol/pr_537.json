{"pr_number": 537, "pr_title": "fix: Fix downloading many copybooks while typing", "pr_createdAt": "2020-09-30T10:18:44Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/537", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQwNDQzOA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/537#discussion_r497404438", "bodyText": "What about creating a new method sendEmtpyResponse not to use hacks like this?", "author": "temanbrcom", "createdAt": "2020-09-30T10:26:35Z", "path": "server/src/main/java/com/ca/lsp/cobol/service/CopybookServiceImpl.java", "diffHunk": "@@ -115,9 +115,9 @@ private void handleRequiredCopybookEvent(RequiredCopybookEvent event) {\n       String cobolFileName = files.getNameFromURI(event.getDocumentUri());\n       settingsService\n           .getConfiguration(COPYBOOK_RESOLVE.label, cobolFileName, requiredCopybookName)\n-          .thenAccept(sendResponse(cobolFileName, requiredCopybookName));\n+          .thenAccept(sendResponse(cobolFileName, requiredCopybookName, event.getCopybookProcessingMode()));\n     } else {\n-      sendResponse(requiredCopybookName, null, null);\n+      sendResponse(requiredCopybookName, null, (Path)null);", "originalCommit": "080e12da68a4659d365cd754efa3977998db16be", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMDA2Nw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/537#discussion_r497410067", "bodyText": "Yes, I will.", "author": "grianbrcom", "createdAt": "2020-09-30T10:37:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQwNDQzOA=="}], "type": "inlineReview", "revised_code": {"commit": "058aebf68b40e2e9f8e622a66227c3b26b2802fd", "chunk": "diff --git a/server/src/main/java/com/ca/lsp/cobol/service/CopybookServiceImpl.java b/server/src/main/java/com/ca/lsp/cobol/service/CopybookServiceImpl.java\nindex 4d93d8f4..256632bd 100644\n--- a/server/src/main/java/com/ca/lsp/cobol/service/CopybookServiceImpl.java\n+++ b/server/src/main/java/com/ca/lsp/cobol/service/CopybookServiceImpl.java\n\n@@ -117,7 +117,7 @@ public class CopybookServiceImpl implements CopybookService {\n           .getConfiguration(COPYBOOK_RESOLVE.label, cobolFileName, requiredCopybookName)\n           .thenAccept(sendResponse(cobolFileName, requiredCopybookName, event.getCopybookProcessingMode()));\n     } else {\n-      sendResponse(requiredCopybookName, null, (Path)null);\n+      dataBus.postData(FetchedCopybookEvent.builder().name(requiredCopybookName).build());\n     }\n   }\n \n"}}, {"oid": "058aebf68b40e2e9f8e622a66227c3b26b2802fd", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/058aebf68b40e2e9f8e622a66227c3b26b2802fd", "message": "fix: Fix downloading many copybooks while typing\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-09-30T10:45:16Z", "type": "commit"}, {"oid": "058aebf68b40e2e9f8e622a66227c3b26b2802fd", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/058aebf68b40e2e9f8e622a66227c3b26b2802fd", "message": "fix: Fix downloading many copybooks while typing\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-09-30T10:45:16Z", "type": "forcePushed"}]}