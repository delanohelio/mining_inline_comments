{"pr_number": 130, "pr_title": "Add Mockito library", "pr_createdAt": "2020-01-07T16:07:38Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/130", "timeline": [{"oid": "d42b2c12693c143434b7be782e1ae8c3ce2f00e1", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/d42b2c12693c143434b7be782e1ae8c3ce2f00e1", "message": "#122 Add Mockito library -> tested and ip check submitted", "committedDate": "2020-01-07T16:05:20Z", "type": "commit"}, {"oid": "d6078cfc0a564eb71398dc26caf12e85f3395e4b", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/d6078cfc0a564eb71398dc26caf12e85f3395e4b", "message": "#122 Add first draft for mockito usage", "committedDate": "2020-01-07T16:36:30Z", "type": "commit"}, {"oid": "18a9ac8f1e93ce24524fd6f770ce41eafde269eb", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/18a9ac8f1e93ce24524fd6f770ce41eafde269eb", "message": "Merge remote-tracking branch 'origin/development' into mockitoTest", "committedDate": "2020-01-07T16:37:48Z", "type": "commit"}, {"oid": "f12c50d6cea6a9eb00b8889d1fcf99bdb987d295", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/f12c50d6cea6a9eb00b8889d1fcf99bdb987d295", "message": "added test to the suite", "committedDate": "2020-01-07T16:38:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDExNzYyMg==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/130#discussion_r364117622", "bodyText": "Please extract this Token in a separate builder method", "author": "zacanbrcom", "createdAt": "2020-01-08T08:47:15Z", "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java", "diffHunk": "@@ -0,0 +1,101 @@\n+/*\n+ *\n+ *  * Copyright (c) 2020 Broadcom.\n+ *  * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *  *\n+ *  * This program and the accompanying materials are made\n+ *  * available under the terms of the Eclipse Public License 2.0\n+ *  * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *  *\n+ *  * SPDX-License-Identifier: EPL-2.0\n+ *  *\n+ *  * Contributors:\n+ *  *   Broadcom, Inc. - initial API and implementation\n+ *\n+ */\n+\n+package com.ca.lsp.core.cobol.visitor;\n+\n+import com.broadcom.lsp.domain.cobol.model.Position;\n+import com.ca.lsp.core.cobol.model.SyntaxError;\n+import com.ca.lsp.core.cobol.parser.CobolParser;\n+import com.ca.lsp.core.cobol.parser.listener.SemanticListener;\n+import org.antlr.v4.runtime.CharStream;\n+import org.antlr.v4.runtime.Token;\n+import org.antlr.v4.runtime.TokenSource;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.concurrent.CopyOnWriteArrayList;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.mockito.Mockito.*;\n+\n+public class LevenshteinDistanceTest {\n+  private CobolVisitor visitor = new CobolVisitor();\n+  List<SyntaxError> errors = new CopyOnWriteArrayList<>();\n+\n+  @Test\n+  public void testDistance() {\n+    errors.add(new SyntaxError(new Position(\"\", 1, 1, 1, 1, 1), null, 2, \"addedSuggestion\", 2));\n+    visitor.setSemanticErrors(new SemanticListener(errors));\n+    CobolParser.StatementContext node = mock(CobolParser.StatementContext.class);\n+    when(node.getStart())\n+        .thenReturn(\n+            new Token() {\n+              @Override\n+              public String getText() {\n+                return \"MOVES\";\n+              }\n+\n+              @Override\n+              public int getType() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public int getLine() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public int getCharPositionInLine() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public int getChannel() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public int getTokenIndex() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public int getStartIndex() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public int getStopIndex() {\n+                return 0;\n+              }\n+\n+              @Override\n+              public TokenSource getTokenSource() {\n+                return null;\n+              }\n+\n+              @Override\n+              public CharStream getInputStream() {\n+                return null;\n+              }\n+            });", "originalCommit": "d6078cfc0a564eb71398dc26caf12e85f3395e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d430ae4476ad7d752ba1707f4d6361d22d7e4d4c", "chunk": "diff --git a/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java b/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java\nindex a3bdf88c..fa5201d1 100644\n--- a/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java\n+++ b/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java\n\n@@ -20,9 +20,8 @@ import com.broadcom.lsp.domain.cobol.model.Position;\n import com.ca.lsp.core.cobol.model.SyntaxError;\n import com.ca.lsp.core.cobol.parser.CobolParser;\n import com.ca.lsp.core.cobol.parser.listener.SemanticListener;\n-import org.antlr.v4.runtime.CharStream;\n+import org.antlr.v4.runtime.CommonToken;\n import org.antlr.v4.runtime.Token;\n-import org.antlr.v4.runtime.TokenSource;\n import org.junit.Test;\n \n import java.util.List;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDEyNjQyNA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/130#discussion_r364126424", "bodyText": "Please, check your copyright settings to avoid double asterisks at the beginning", "author": "temanbrcom", "createdAt": "2020-01-08T09:08:36Z", "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java", "diffHunk": "@@ -0,0 +1,101 @@\n+/*\n+ *\n+ *  * Copyright (c) 2020 Broadcom.\n+ *  * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *  *\n+ *  * This program and the accompanying materials are made\n+ *  * available under the terms of the Eclipse Public License 2.0\n+ *  * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *  *\n+ *  * SPDX-License-Identifier: EPL-2.0\n+ *  *\n+ *  * Contributors:\n+ *  *   Broadcom, Inc. - initial API and implementation\n+ *\n+ */", "originalCommit": "f12c50d6cea6a9eb00b8889d1fcf99bdb987d295", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d430ae4476ad7d752ba1707f4d6361d22d7e4d4c", "chunk": "diff --git a/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java b/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java\nindex a3bdf88c..fa5201d1 100644\n--- a/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java\n+++ b/com.ca.lsp.cobol/lsp-core-cobol-parser/src/test/java/com/ca/lsp/core/cobol/visitor/LevenshteinDistanceTest.java\n\n@@ -20,9 +20,8 @@ import com.broadcom.lsp.domain.cobol.model.Position;\n import com.ca.lsp.core.cobol.model.SyntaxError;\n import com.ca.lsp.core.cobol.parser.CobolParser;\n import com.ca.lsp.core.cobol.parser.listener.SemanticListener;\n-import org.antlr.v4.runtime.CharStream;\n+import org.antlr.v4.runtime.CommonToken;\n import org.antlr.v4.runtime.Token;\n-import org.antlr.v4.runtime.TokenSource;\n import org.junit.Test;\n \n import java.util.List;\n"}}, {"oid": "d430ae4476ad7d752ba1707f4d6361d22d7e4d4c", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/d430ae4476ad7d752ba1707f4d6361d22d7e4d4c", "message": "remove unused class and create a compact method to create a new token", "committedDate": "2020-01-08T16:23:47Z", "type": "commit"}, {"oid": "38554ff1cdd18f5e9b6492ed66f789567df7bc08", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/38554ff1cdd18f5e9b6492ed66f789567df7bc08", "message": "remove double asterisks", "committedDate": "2020-01-08T16:25:32Z", "type": "commit"}, {"oid": "9cc3e4404a6c481b00a02cf10fb60a327a4c527b", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/9cc3e4404a6c481b00a02cf10fb60a327a4c527b", "message": "create jUnit test for variable definition", "committedDate": "2020-01-09T13:56:49Z", "type": "commit"}]}