{"pr_number": 529, "pr_title": "Introduce Eager Tokens", "pr_createdAt": "2020-11-10T23:01:37Z", "pr_url": "https://github.com/HubSpot/jinjava/pull/529", "timeline": [{"oid": "5305364812b886f78765b85129c5fcb2d10517a2", "url": "https://github.com/HubSpot/jinjava/commit/5305364812b886f78765b85129c5fcb2d10517a2", "message": "Checkout context, config from eager-execution-a", "committedDate": "2020-11-10T22:25:42Z", "type": "commit"}, {"oid": "1fa94fb402127c06890eaab3dbb82898aa49c178", "url": "https://github.com/HubSpot/jinjava/commit/1fa94fb402127c06890eaab3dbb82898aa49c178", "message": "Separate handling for set and used deferred words", "committedDate": "2020-11-10T22:50:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTM1NTQ1Mw==", "url": "https://github.com/HubSpot/jinjava/pull/529#discussion_r521355453", "bodyText": "A test for this could be good", "author": "Joeoh", "createdAt": "2020-11-11T13:25:02Z", "path": "src/main/java/com/hubspot/jinjava/util/DeferredValueUtils.java", "diffHunk": "@@ -126,6 +151,24 @@ private static String rebuildTemplateForNodes(Set<Node> nodes) {\n     return joiner.toString();\n   }\n \n+  private static String rebuildTemplateForEagerTagTokens(", "originalCommit": "1fa94fb402127c06890eaab3dbb82898aa49c178", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "5fb90e1a2f13f64a12767fbe1e974e2fbd07408f", "url": "https://github.com/HubSpot/jinjava/commit/5fb90e1a2f13f64a12767fbe1e974e2fbd07408f", "message": "Add test for DeferredValueUtils marking eager tokens", "committedDate": "2020-11-12T14:59:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMwOTc1Ng==", "url": "https://github.com/HubSpot/jinjava/pull/529#discussion_r522309756", "bodyText": "what does this do?", "author": "boulter", "createdAt": "2020-11-12T18:05:32Z", "path": "src/main/java/com/hubspot/jinjava/interpret/Context.java", "diffHunk": "@@ -526,4 +551,13 @@ public void addDependencies(SetMultimap<String, String> dependencies) {\n   public SetMultimap<String, String> getDependencies() {\n     return this.dependencies;\n   }\n+\n+  public boolean isProtectedMode() {", "originalCommit": "5fb90e1a2f13f64a12767fbe1e974e2fbd07408f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMxMzY2Ng==", "url": "https://github.com/HubSpot/jinjava/pull/529#discussion_r522313666", "bodyText": "It's (going to be) used to signify that certain tags need to have different functionality. For example when executing a SetTag, it can normally just be executed and affect the variable on the context. However, if we are evaluating within an IfTag where the correct branch path is unknown due to a deferred value, then if a value is replaced or updated during this \"protected\" execution mode, then that has to be handled specially.", "author": "jasmith-hs", "createdAt": "2020-11-12T18:11:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMwOTc1Ng=="}], "type": "inlineReview", "revised_code": {"commit": "d76b0518b7b6bcbf8d54de5c0abb84e78eaf9c87", "chunk": "diff --git a/src/main/java/com/hubspot/jinjava/interpret/Context.java b/src/main/java/com/hubspot/jinjava/interpret/Context.java\nindex 282cea7e..1355a190 100644\n--- a/src/main/java/com/hubspot/jinjava/interpret/Context.java\n+++ b/src/main/java/com/hubspot/jinjava/interpret/Context.java\n\n@@ -560,4 +561,12 @@ public class Context extends ScopeMap<String, Object> {\n     this.protectedMode = protectedMode;\n     return this;\n   }\n+\n+  public boolean getHideInterpreterErrors() {\n+    return hideInterpreterErrors;\n+  }\n+\n+  public void setHideInterpreterErrors(boolean hideInterpreterErrors) {\n+    this.hideInterpreterErrors = hideInterpreterErrors;\n+  }\n }\n"}}, {"oid": "fde04dac3fde783f8dce80d9e76c69afefba6fbf", "url": "https://github.com/HubSpot/jinjava/commit/fde04dac3fde783f8dce80d9e76c69afefba6fbf", "message": "Migrate pre-render/eager execution flags to enum", "committedDate": "2020-11-12T21:21:27Z", "type": "commit"}, {"oid": "e9ccb6f95b1d3cf03ca0d4d6308dcbccedef4e78", "url": "https://github.com/HubSpot/jinjava/commit/e9ccb6f95b1d3cf03ca0d4d6308dcbccedef4e78", "message": "Rename within enum", "committedDate": "2020-11-13T15:59:09Z", "type": "commit"}, {"oid": "c34486cfd6351557ec6f02e00b4b65e84c3b280d", "url": "https://github.com/HubSpot/jinjava/commit/c34486cfd6351557ec6f02e00b4b65e84c3b280d", "message": "Turn enum into interface", "committedDate": "2020-11-13T16:44:52Z", "type": "commit"}, {"oid": "fc82efc195200824634f843ec3107ab459eed33c", "url": "https://github.com/HubSpot/jinjava/commit/fc82efc195200824634f843ec3107ab459eed33c", "message": "Merge pull request #2 from jasmith-hs/execution-mode\n\nExecution mode in config", "committedDate": "2020-11-13T17:23:53Z", "type": "commit"}, {"oid": "d76b0518b7b6bcbf8d54de5c0abb84e78eaf9c87", "url": "https://github.com/HubSpot/jinjava/commit/d76b0518b7b6bcbf8d54de5c0abb84e78eaf9c87", "message": "Merge branch 'master' of github.com:jasmith-hs/jinjava into eager-execution-flags", "committedDate": "2020-11-23T14:32:55Z", "type": "commit"}]}