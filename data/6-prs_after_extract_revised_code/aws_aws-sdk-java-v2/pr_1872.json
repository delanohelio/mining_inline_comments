{"pr_number": 1872, "pr_title": "Add setup code for API call metrics for sync", "pr_createdAt": "2020-06-02T23:14:28Z", "pr_url": "https://github.com/aws/aws-sdk-java-v2/pull/1872", "timeline": [{"oid": "f014d7f3ba79cedb5e3a3b9fa58142d3e0886ba5", "url": "https://github.com/aws/aws-sdk-java-v2/commit/f014d7f3ba79cedb5e3a3b9fa58142d3e0886ba5", "message": "add setup code for API call metrics for sync", "committedDate": "2020-06-02T23:46:17Z", "type": "forcePushed"}, {"oid": "14e4818beaaa260f902b1212e09cd84f2f21409e", "url": "https://github.com/aws/aws-sdk-java-v2/commit/14e4818beaaa260f902b1212e09cd84f2f21409e", "message": "add setup code for API call metrics for sync", "committedDate": "2020-06-03T19:50:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg3NzU0OA==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1872#discussion_r434877548", "bodyText": "Public class missing javadoc.", "author": "bmaizels", "createdAt": "2020-06-03T21:49:51Z", "path": "core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.awssdk.awscore.metrics;\n+\n+import software.amazon.awssdk.annotations.SdkPublicApi;\n+import software.amazon.awssdk.metrics.MetricCategory;\n+import software.amazon.awssdk.metrics.SdkMetric;\n+", "originalCommit": "14e4818beaaa260f902b1212e09cd84f2f21409e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d7f9435b83a262d443c8081e50e8d7b2c469c21f", "chunk": "diff --git a/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java b/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\nindex b8ebb5681e..9955102365 100644\n--- a/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\n+++ b/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\n\n@@ -19,6 +19,9 @@ import software.amazon.awssdk.annotations.SdkPublicApi;\n import software.amazon.awssdk.metrics.MetricCategory;\n import software.amazon.awssdk.metrics.SdkMetric;\n \n+/**\n+ * The set of metrics collected for all SDK client operations.\n+ */\n @SdkPublicApi\n public final class AwsCoreMetric {\n     public static final SdkMetric<String> SERVICE_ID = metric(\"ServiceName\", String.class);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg4NDE4Mg==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1872#discussion_r434884182", "bodyText": "Would protected be a better designation?", "author": "bmaizels", "createdAt": "2020-06-03T22:05:57Z", "path": "core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.awssdk.awscore.metrics;\n+\n+import software.amazon.awssdk.annotations.SdkPublicApi;\n+import software.amazon.awssdk.metrics.MetricCategory;\n+import software.amazon.awssdk.metrics.SdkMetric;\n+\n+@SdkPublicApi", "originalCommit": "14e4818beaaa260f902b1212e09cd84f2f21409e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQzNDgyNg==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1872#discussion_r435434826", "bodyText": "These object are potentially accessed by custom metric publishers so these need to be designated as public", "author": "dagnir", "createdAt": "2020-06-04T17:41:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg4NDE4Mg=="}], "type": "inlineReview", "revised_code": {"commit": "d7f9435b83a262d443c8081e50e8d7b2c469c21f", "chunk": "diff --git a/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java b/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\nindex b8ebb5681e..9955102365 100644\n--- a/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\n+++ b/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\n\n@@ -19,6 +19,9 @@ import software.amazon.awssdk.annotations.SdkPublicApi;\n import software.amazon.awssdk.metrics.MetricCategory;\n import software.amazon.awssdk.metrics.SdkMetric;\n \n+/**\n+ * The set of metrics collected for all SDK client operations.\n+ */\n @SdkPublicApi\n public final class AwsCoreMetric {\n     public static final SdkMetric<String> SERVICE_ID = metric(\"ServiceName\", String.class);\n"}}, {"oid": "d7f9435b83a262d443c8081e50e8d7b2c469c21f", "url": "https://github.com/aws/aws-sdk-java-v2/commit/d7f9435b83a262d443c8081e50e8d7b2c469c21f", "message": "Add setup code for API call metrics for sync", "committedDate": "2020-06-04T17:56:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ2NjUyMQ==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1872#discussion_r435466521", "bodyText": "These need javadocs too...", "author": "bmaizels", "createdAt": "2020-06-04T18:32:14Z", "path": "core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.awssdk.awscore.metrics;\n+\n+import software.amazon.awssdk.annotations.SdkPublicApi;\n+import software.amazon.awssdk.metrics.MetricCategory;\n+import software.amazon.awssdk.metrics.SdkMetric;\n+\n+/**\n+ * The set of metrics collected for all SDK client operations.\n+ */\n+@SdkPublicApi\n+public final class AwsCoreMetric {\n+    public static final SdkMetric<String> SERVICE_ID = metric(\"ServiceName\", String.class);", "originalCommit": "d7f9435b83a262d443c8081e50e8d7b2c469c21f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ2ODAzNQ==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1872#discussion_r435468035", "bodyText": "Oops! will fix", "author": "dagnir", "createdAt": "2020-06-04T18:34:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ2NjUyMQ=="}], "type": "inlineReview", "revised_code": {"commit": "f7e834c5166eb63aa4d960fd916b93efd9980291", "chunk": "diff --git a/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java b/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\nindex 9955102365..5e387fdead 100644\n--- a/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\n+++ b/core/aws-core/src/main/java/software/amazon/awssdk/awscore/metrics/AwsCoreMetric.java\n\n@@ -20,12 +20,20 @@ import software.amazon.awssdk.metrics.MetricCategory;\n import software.amazon.awssdk.metrics.SdkMetric;\n \n /**\n- * The set of metrics collected for all SDK client operations.\n+ * The set of metrics collected for all SDK clients.\n  */\n @SdkPublicApi\n public final class AwsCoreMetric {\n+\n+    /**\n+     * The unique ID for the service. This is present for all API call metrics.\n+     */\n     public static final SdkMetric<String> SERVICE_ID = metric(\"ServiceName\", String.class);\n \n+    /**\n+     * The name of the service operation being invoked. This is present for all\n+     * API call metrics.\n+     */\n     public static final SdkMetric<String> OPERATION_NAME = metric(\"OperationName\", String.class);\n \n     private AwsCoreMetric() {\n"}}, {"oid": "f7e834c5166eb63aa4d960fd916b93efd9980291", "url": "https://github.com/aws/aws-sdk-java-v2/commit/f7e834c5166eb63aa4d960fd916b93efd9980291", "message": "Add setup code for API call metrics for sync", "committedDate": "2020-06-04T18:54:06Z", "type": "commit"}, {"oid": "f7e834c5166eb63aa4d960fd916b93efd9980291", "url": "https://github.com/aws/aws-sdk-java-v2/commit/f7e834c5166eb63aa4d960fd916b93efd9980291", "message": "Add setup code for API call metrics for sync", "committedDate": "2020-06-04T18:54:06Z", "type": "forcePushed"}]}