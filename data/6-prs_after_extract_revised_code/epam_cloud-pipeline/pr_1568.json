{"pr_number": 1568, "pr_title": "Issue #1405: Implemented tests for EntityController", "pr_createdAt": "2020-11-16T08:31:44Z", "pr_url": "https://github.com/epam/cloud-pipeline/pull/1568", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk2NTQwOA==", "url": "https://github.com/epam/cloud-pipeline/pull/1568#discussion_r525965408", "bodyText": "What do you think about inlining such maps creation and also extract each key-value pair on a separate lines:\nfinal MvcResult mvcResult = performRequest(get(ENTITIES_URL)\n                                           .params(multiValueMapOf(IDENTIFIER, TEST_STRING,\n                                                                   ACL_CLASS, AclClass.DATA_STORAGE));", "author": "tcibinan", "createdAt": "2020-11-18T10:11:43Z", "path": "api/src/test/java/com/epam/pipeline/controller/entity/EntityControllerTest.java", "diffHunk": "@@ -58,14 +56,13 @@\n     @Test\n     @WithMockUser\n     public void shouldListToolGroups() {\n-        final MultiValueMap<String, String> params = new LinkedMultiValueMap<>();\n-        params.add(IDENTIFIER, TEST_STRING);\n-        params.add(ACL_CLASS, ACL_CLASS_AS_STRING);\n+        final MultiValueMap<String, String> params = multiValueMapOf(", "originalCommit": "38b756eec4ed0eebaad67f0c0db18a63f74be6d1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "75c16c239b59418e6349da68eb11162ab1a0877e", "chunk": "diff --git a/api/src/test/java/com/epam/pipeline/controller/entity/EntityControllerTest.java b/api/src/test/java/com/epam/pipeline/controller/entity/EntityControllerTest.java\nindex a55f5bf79..ff6febd18 100644\n--- a/api/src/test/java/com/epam/pipeline/controller/entity/EntityControllerTest.java\n+++ b/api/src/test/java/com/epam/pipeline/controller/entity/EntityControllerTest.java\n\n@@ -56,13 +58,14 @@ public class EntityControllerTest extends AbstractControllerTest {\n     @Test\n     @WithMockUser\n     public void shouldListToolGroups() {\n-        final MultiValueMap<String, String> params = multiValueMapOf(\n-                IDENTIFIER, TEST_STRING, ACL_CLASS, AclClass.DATA_STORAGE);\n+        final MultiValueMap<String, String> params = new LinkedMultiValueMap<>();\n+        params.add(IDENTIFIER, TEST_STRING);\n+        params.add(ACL_CLASS, ACL_CLASS_AS_STRING);\n         doReturn(s3bucketDataStorage).when(mockEntityApiService).loadByNameOrId(AclClass.DATA_STORAGE, TEST_STRING);\n \n         final MvcResult mvcResult = performRequest(get(ENTITIES_URL).params(params));\n \n-        verify(mockEntityApiService).loadByNameOrId(AclClass.DATA_STORAGE, TEST_STRING);\n+        Mockito.verify(mockEntityApiService).loadByNameOrId(AclClass.DATA_STORAGE, TEST_STRING);\n         assertResponse(mvcResult, s3bucketDataStorage, DatastorageCreatorUtils.S3_BUCKET_TYPE);\n     }\n \n"}}, {"oid": "75c16c239b59418e6349da68eb11162ab1a0877e", "url": "https://github.com/epam/cloud-pipeline/commit/75c16c239b59418e6349da68eb11162ab1a0877e", "message": "Issue #1405: Implemented tests for EntityController\n\nSigned-off-by: Iurii_Kofanov <youkofan@gmail.com>", "committedDate": "2020-11-20T15:00:45Z", "type": "commit"}, {"oid": "b99060bec847d6a686ebfd9c0734f437da45d526", "url": "https://github.com/epam/cloud-pipeline/commit/b99060bec847d6a686ebfd9c0734f437da45d526", "message": "Issue #1405: multiValueMapOf() method added\n\nSigned-off-by: Iurii_Kofanov <youkofan@gmail.com>", "committedDate": "2020-11-20T15:01:40Z", "type": "commit"}, {"oid": "76b24b6d68236ceb71b8216c65372034141b6b16", "url": "https://github.com/epam/cloud-pipeline/commit/76b24b6d68236ceb71b8216c65372034141b6b16", "message": "Issue #1405: Refactoring of parameters map creation\n\nSigned-off-by: Iurii_Kofanov <youkofan@gmail.com>", "committedDate": "2020-11-20T15:01:41Z", "type": "commit"}, {"oid": "da511a16a9aff5e7224768a2e8f00051af4ca5db", "url": "https://github.com/epam/cloud-pipeline/commit/da511a16a9aff5e7224768a2e8f00051af4ca5db", "message": "Issue #1405: Branch rebased, merge conflicts resolved\n\nSigned-off-by: Iurii_Kofanov <youkofan@gmail.com>", "committedDate": "2020-11-20T15:09:29Z", "type": "commit"}, {"oid": "da511a16a9aff5e7224768a2e8f00051af4ca5db", "url": "https://github.com/epam/cloud-pipeline/commit/da511a16a9aff5e7224768a2e8f00051af4ca5db", "message": "Issue #1405: Branch rebased, merge conflicts resolved\n\nSigned-off-by: Iurii_Kofanov <youkofan@gmail.com>", "committedDate": "2020-11-20T15:09:29Z", "type": "forcePushed"}]}