{"pr_number": 1384, "pr_title": "Embed the \"Cloud Pipeline File Browser\" (electron app) into the API and expose to the users", "pr_createdAt": "2020-09-09T15:11:55Z", "pr_url": "https://github.com/epam/cloud-pipeline/pull/1384", "timeline": [{"oid": "778e343662e50c817dadae789e152941078629ff", "url": "https://github.com/epam/cloud-pipeline/commit/778e343662e50c817dadae789e152941078629ff", "message": "Issue #1340: webdav client build for linux and windows (WIP)", "committedDate": "2020-09-08T16:46:42Z", "type": "commit"}, {"oid": "894ecb36f23883557cf97b9bb38b91a2dfc94006", "url": "https://github.com/epam/cloud-pipeline/commit/894ecb36f23883557cf97b9bb38b91a2dfc94006", "message": "Issue #1340: webdav client build for linux and windows", "committedDate": "2020-09-09T12:33:29Z", "type": "commit"}, {"oid": "206dcd7d56bb84ea8f51869be45f4de0313a3847", "url": "https://github.com/epam/cloud-pipeline/commit/206dcd7d56bb84ea8f51869be45f4de0313a3847", "message": "Issue #1340: codacy quality review fixes", "committedDate": "2020-09-09T16:15:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIyMzM0NQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1384#discussion_r486223345", "bodyText": "Could you please move this list to application.properties and use it in both security configurations", "author": "mzueva", "createdAt": "2020-09-10T10:12:07Z", "path": "api/src/main/java/com/epam/pipeline/app/JWTSecurityConfiguration.java", "diffHunk": "@@ -142,7 +142,8 @@ protected String getSecuredResources() {\n             \"/launch.sh\", \"/PipelineCLI.tar.gz\",\n             \"/pipe-common.tar.gz\", \"/commit-run-scripts/**\", \"/pipe\",\n             \"/fsbrowser.tar.gz\", \"/error\", \"/error/**\", \"/pipe.zip\", \"/pipe.tar.gz\",\n-            \"/pipe-el6\", \"/pipe-el6.tar.gz\"\n+            \"/pipe-el6\", \"/pipe-el6.tar.gz\",", "originalCommit": "206dcd7d56bb84ea8f51869be45f4de0313a3847", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI2MjAyMw==", "url": "https://github.com/epam/cloud-pipeline/pull/1384#discussion_r486262023", "bodyText": "added a new application property static.common.scripts.exclude which contains a list of paths to exclude", "author": "ekazachkova", "createdAt": "2020-09-10T11:26:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIyMzM0NQ=="}], "type": "inlineReview", "revised_code": {"commit": "2c8da3e7d303aed9796eeaf11882bf3c2e0e4a48", "chunk": "diff --git a/api/src/main/java/com/epam/pipeline/app/JWTSecurityConfiguration.java b/api/src/main/java/com/epam/pipeline/app/JWTSecurityConfiguration.java\nindex 4911336e0..131af2d4a 100644\n--- a/api/src/main/java/com/epam/pipeline/app/JWTSecurityConfiguration.java\n+++ b/api/src/main/java/com/epam/pipeline/app/JWTSecurityConfiguration.java\n\n@@ -132,19 +137,16 @@ public class JWTSecurityConfiguration extends WebSecurityConfigurerAdapter {\n     }\n \n     protected String[] getUnsecuredResources() {\n-        return new String[] {\n-            \"/restapi/dockerRegistry/oauth\",\n-            \"/restapi/swagger-resources/**\",\n-            \"/restapi/swagger-ui.html\",\n-            \"/restapi/webjars/springfox-swagger-ui/**\",\n-            \"/restapi/v2/api-docs/**\",\n-            \"/restapi/proxy/**\",\n-            \"/launch.sh\", \"/PipelineCLI.tar.gz\",\n-            \"/pipe-common.tar.gz\", \"/commit-run-scripts/**\", \"/pipe\",\n-            \"/fsbrowser.tar.gz\", \"/error\", \"/error/**\", \"/pipe.zip\", \"/pipe.tar.gz\",\n-            \"/pipe-el6\", \"/pipe-el6.tar.gz\",\n-            \"/webdav-linux.tar.gz\", \"/webdav-win32.zip\", \"/webdav-win64.zip\"\n-        };\n+        final List<String> excludePaths = Arrays.asList(\n+                \"/restapi/dockerRegistry/oauth\",\n+                \"/restapi/swagger-resources/**\",\n+                \"/restapi/swagger-ui.html\",\n+                \"/restapi/webjars/springfox-swagger-ui/**\",\n+                \"/restapi/v2/api-docs/**\",\n+                \"/restapi/proxy/**\",\n+                \"/error\",\n+                \"/error/**\");\n+        return ListUtils.union(excludePaths, ListUtils.emptyIfNull(excludeScripts)).toArray(new String[0]);\n     }\n \n     public String[] getAnonymousResources() {\n"}}, {"oid": "2c8da3e7d303aed9796eeaf11882bf3c2e0e4a48", "url": "https://github.com/epam/cloud-pipeline/commit/2c8da3e7d303aed9796eeaf11882bf3c2e0e4a48", "message": "Issue #1340: list of common scripts moved to application.properties", "committedDate": "2020-09-10T11:18:19Z", "type": "commit"}, {"oid": "82339f9289f161f316c8a83d010121bf9e4ee61e", "url": "https://github.com/epam/cloud-pipeline/commit/82339f9289f161f316c8a83d010121bf9e4ee61e", "message": "Issue #1340: list of common scripts moved to application.properties - static.common.scripts.exclude -> api.security.public.urls", "committedDate": "2020-09-10T11:57:13Z", "type": "commit"}]}