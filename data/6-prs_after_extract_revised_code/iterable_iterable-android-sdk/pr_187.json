{"pr_number": 187, "pr_title": "[MOB - 1129] Add UI test for swipe delete", "pr_createdAt": "2020-01-29T22:42:56Z", "pr_url": "https://github.com/Iterable/iterable-android-sdk/pull/187", "timeline": [{"oid": "a045c624d7d64a6211a7e19c3feee79d54c5c459", "url": "https://github.com/Iterable/iterable-android-sdk/commit/a045c624d7d64a6211a7e19c3feee79d54c5c459", "message": "[MOB - 1129] Add UI test for swipe delete\n\nAdded a test method to check if swipe delete removes the item from the list after refreshing the activity.", "committedDate": "2020-01-29T22:28:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI2OTI0Nw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/187#discussion_r373269247", "bodyText": "Do we need the commented out lines for the TODO work?", "author": "vbabenkoru", "createdAt": "2020-01-31T00:46:18Z", "path": "app/src/androidTest/java/com/iterable/iterableapi/MainActivityTest.java", "diffHunk": "@@ -200,6 +206,32 @@ public void checkIfMessageShownAsPopUp() throws Exception {\n         onWebView().withElement(findElement(Locator.XPATH, \"//*[contains(text(),'Ok, got it')]\"));\n     }\n \n+    @Test\n+    public void testSwipeToDeleteInApp() throws Exception {\n+        //TODO: Add check to see if removeMessage method was triggered using spy objects. Somehow it(the commented code below) is failing in Travis environment. Mostly because the espresso continues before the background tasks are completed.\n+        JSONObject payload = new JSONObject(IterableTestUtils.getResourceString(\"editable_get_messages_response.json\"));\n+        getTwoValidOneExpiredMessage(payload);\n+        dispatcher.enqueueResponse(\"/inApp/getMessages\", new MockResponse().setBody(payload.toString()));\n+        //IterableInAppManager spyInAppManager = Mockito.spy(IterableApi.getInstance().getInAppManager());", "originalCommit": "a045c624d7d64a6211a7e19c3feee79d54c5c459", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI3MzE4MQ==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/187#discussion_r373273181", "bodyText": "For quick look during test day. We can remove it too...", "author": "Ayyanchira", "createdAt": "2020-01-31T01:02:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI2OTI0Nw=="}], "type": "inlineReview", "revised_code": null}]}