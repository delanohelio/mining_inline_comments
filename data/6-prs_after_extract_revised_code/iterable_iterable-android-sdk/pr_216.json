{"pr_number": 216, "pr_title": "[MOB-1286] - support new parameters for update subscription api call", "pr_createdAt": "2020-03-17T23:42:08Z", "pr_url": "https://github.com/Iterable/iterable-android-sdk/pull/216", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg5MzE0Mw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/216#discussion_r396893143", "bodyText": "Other places where campaignId and templateId are passed are using int types... I'm not sure in this case though...", "author": "vbabenkoru", "createdAt": "2020-03-24T04:12:53Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableApi.java", "diffHunk": "@@ -601,6 +601,10 @@ public void disablePush() {\n      * @param unsubscribedMessageTypeIds\n      */\n     public void updateSubscriptions(@Nullable Integer[] emailListIds, @Nullable Integer[] unsubscribedChannelIds, @Nullable Integer[] unsubscribedMessageTypeIds) {\n+        updateSubscriptions(emailListIds, unsubscribedChannelIds, unsubscribedMessageTypeIds, null, null, null);\n+    }\n+\n+    public void updateSubscriptions(@Nullable Integer[] emailListIds, @Nullable Integer[] unsubscribedChannelIds, @Nullable Integer[] unsubscribedMessageTypeIds, @Nullable Integer[] subcribedMessageTypeIDs, Integer campaignId, Integer templateId) {", "originalCommit": "9cf6d6a360bdbf90498cc637d03a7b596de4ca45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIxNDIzOA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/216#discussion_r397214238", "bodyText": "Not sure the implications if you store the Integer object instead of a int in the request Json.\n@Ayyanchira Can you make a sure you test the api calls with the backend to make sure this works as intended.\nAlternately you could use campaignId.intValue() if you want to explicitly convert it to an int.", "author": "davidtruong", "createdAt": "2020-03-24T14:52:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg5MzE0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU1NDU1MQ==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/216#discussion_r397554551", "bodyText": "{\n      \"email\": \"victor@iterable.com\",\n      \"emailListIds\": [\n        382123\n      ],\n      \"unsubscribedChannelIds\": [\n        232341,\n        123452\n      ],\n      \"unsubscribedMessageTypeIds\": [\n        12334\n      ],\n      \"subscribedMessageTypeIds\": [\n        43231\n      ],\n      \"campaignId\": 2213,\n      \"templateId\": 21243\n    }\n\nTried with this above data. Checked on api.iterable.com and the SDK as well. got success response.\nAnd we can replace it with int. But was there a reason Integer was used?", "author": "Ayyanchira", "createdAt": "2020-03-25T01:13:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg5MzE0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkxNzYyNg==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/216#discussion_r397917626", "bodyText": "@Ayyanchira Are you referring to nullable Integer[]? I think that can be nullable int[].", "author": "davidtruong", "createdAt": "2020-03-25T14:53:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg5MzE0Mw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "591e0f93e40944a5a259094f455be62bcb83bf5d", "url": "https://github.com/Iterable/iterable-android-sdk/commit/591e0f93e40944a5a259094f455be62bcb83bf5d", "message": "[MOB-1286] - support new parameters for update subscription api call\n\nA new method which now accepts subscribedMessageTypeIds, campaignId and templateId for updateSubscription call. Resolves feature parity on iOS and Android.", "committedDate": "2020-03-25T15:15:44Z", "type": "commit"}, {"oid": "591e0f93e40944a5a259094f455be62bcb83bf5d", "url": "https://github.com/Iterable/iterable-android-sdk/commit/591e0f93e40944a5a259094f455be62bcb83bf5d", "message": "[MOB-1286] - support new parameters for update subscription api call\n\nA new method which now accepts subscribedMessageTypeIds, campaignId and templateId for updateSubscription call. Resolves feature parity on iOS and Android.", "committedDate": "2020-03-25T15:15:44Z", "type": "forcePushed"}]}