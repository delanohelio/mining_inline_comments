{"pr_number": 224, "pr_title": "Close streams after reading file", "pr_createdAt": "2020-04-23T18:48:45Z", "pr_url": "https://github.com/Iterable/iterable-android-sdk/pull/224", "timeline": [{"oid": "49eadc704c92ffbe1ae4b1a146555030ccc1320e", "url": "https://github.com/Iterable/iterable-android-sdk/commit/49eadc704c92ffbe1ae4b1a146555030ccc1320e", "message": "Close streams after reading file", "committedDate": "2020-04-23T18:44:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc2NDQ3MA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/224#discussion_r414764470", "bodyText": "Is this public API? Is it possible that this might change?", "author": "vbabenkoru", "createdAt": "2020-04-24T18:04:21Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableUtil.java", "diffHunk": "@@ -8,6 +8,8 @@\n import androidx.annotation.Nullable;\n import androidx.annotation.VisibleForTesting;\n \n+import com.google.android.gms.common.util.IOUtils;", "originalCommit": "49eadc704c92ffbe1ae4b1a146555030ccc1320e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc3Mzk0OA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/224#discussion_r414773948", "bodyText": "Looks like it is not documented here:\nhttps://developers.google.com/android/reference/com/google/android/gms/common/package-summary\nI'd be cautious using this in a library since an update to play-services-basement might break our artifact at runtime.", "author": "vbabenkoru", "createdAt": "2020-04-24T18:20:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc2NDQ3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc5ODE5NA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/224#discussion_r414798194", "bodyText": "Basically what that one does is to wrap the close in a try-catch and fail silently if for whatever reason the close throws. Would you prefer a manual implementation of that instead?", "author": "mictab", "createdAt": "2020-04-24T19:02:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc2NDQ3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2NjY3Ng==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/224#discussion_r415966676", "bodyText": "Yeah, if it's a few lines of code, I'd prefer to move it to one of our util classes.", "author": "vbabenkoru", "createdAt": "2020-04-27T16:33:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc2NDQ3MA=="}], "type": "inlineReview", "revised_code": {"commit": "6f8ba68f90ebcd6ceb1f844bcc3da9eb3ece9e75", "chunk": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableUtil.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableUtil.java\nindex a5e1b69..8cb8212 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableUtil.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableUtil.java\n\n@@ -8,7 +8,7 @@ import android.content.pm.PackageManager;\n import androidx.annotation.Nullable;\n import androidx.annotation.VisibleForTesting;\n \n-import com.google.android.gms.common.util.IOUtils;\n+import com.iterable.iterableapi.util.IOUtils;\n \n import org.json.JSONObject;\n \n"}}, {"oid": "6f8ba68f90ebcd6ceb1f844bcc3da9eb3ece9e75", "url": "https://github.com/Iterable/iterable-android-sdk/commit/6f8ba68f90ebcd6ceb1f844bcc3da9eb3ece9e75", "message": "Add IO util class", "committedDate": "2020-04-27T17:51:17Z", "type": "commit"}]}