{"pr_number": 2445, "pr_title": "Expose DynamicTest executable to InvocationInterceptors", "pr_createdAt": "2020-10-09T13:48:59Z", "pr_url": "https://github.com/junit-team/junit5/pull/2445", "timeline": [{"oid": "a265847c5840bc28d2e0be88739bfc510e0a63f4", "url": "https://github.com/junit-team/junit5/commit/a265847c5840bc28d2e0be88739bfc510e0a63f4", "message": "GIve access to the DYnamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-09T13:54:07Z", "type": "forcePushed"}, {"oid": "9c9119ddc99d1baf9472d778cd14e2fce83a26a0", "url": "https://github.com/junit-team/junit5/commit/9c9119ddc99d1baf9472d778cd14e2fce83a26a0", "message": "GIve access to the DYnamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-09T14:25:48Z", "type": "forcePushed"}, {"oid": "ba694ccc147150fc8a519d636a9e4199d481395b", "url": "https://github.com/junit-team/junit5/commit/ba694ccc147150fc8a519d636a9e4199d481395b", "message": "GIve access to the DYnamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-09T14:46:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwMTQ3OQ==", "url": "https://github.com/junit-team/junit5/pull/2445#discussion_r502601479", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t// by default call the old interceptDynamicTest(Invocation, ExtensionContext) method so that existing extensions still works\n          \n          \n            \n            \t\t// by default call the old interceptDynamicTest(Invocation, ExtensionContext) method so that existing extensions still work", "author": "marcphilipp", "createdAt": "2020-10-09T18:23:07Z", "path": "junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java", "diffHunk": "@@ -156,11 +156,29 @@ default void interceptTestTemplateMethod(Invocation<Void> invocation,\n \t * {@code null}\n \t * @param extensionContext the current extension context; never {@code null}\n \t * @throws Throwable in case of failures\n+\t * @deprecated use {@link #interceptDynamicTest(Invocation, DynamicTestInvocationContext, ExtensionContext)} instead\n \t */\n+\t@Deprecated\n \tdefault void interceptDynamicTest(Invocation<Void> invocation, ExtensionContext extensionContext) throws Throwable {\n \t\tinvocation.proceed();\n \t}\n \n+\t/**\n+\t * Intercept the invocation of a {@link DynamicTest}.\n+\t *\n+\t * @param invocation the invocation that is being intercepted; never\n+\t * {@code null}\n+\t * @param invocationContext the context of the invocation that is being\n+\t * intercepted; never {@code null}\n+\t * @param extensionContext the current extension context; never {@code null}\n+\t * @throws Throwable in case of failures\n+\t */\n+\tdefault void interceptDynamicTest(Invocation<Void> invocation, DynamicTestInvocationContext invocationContext,\n+\t\t\tExtensionContext extensionContext) throws Throwable {\n+\t\t// by default call the old interceptDynamicTest(Invocation, ExtensionContext) method so that existing extensions still works", "originalCommit": "ba694ccc147150fc8a519d636a9e4199d481395b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9e40ece15e972e1176dbc2831405699f031fb2dd", "chunk": "diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\nindex 39818c8945..e08ad197b7 100644\n--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\n+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\n\n@@ -159,6 +159,7 @@ public interface InvocationInterceptor extends Extension {\n \t * @deprecated use {@link #interceptDynamicTest(Invocation, DynamicTestInvocationContext, ExtensionContext)} instead\n \t */\n \t@Deprecated\n+\t@API(status = DEPRECATED, since = \"5.8\")\n \tdefault void interceptDynamicTest(Invocation<Void> invocation, ExtensionContext extensionContext) throws Throwable {\n \t\tinvocation.proceed();\n \t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwMjg3OQ==", "url": "https://github.com/junit-team/junit5/pull/2445#discussion_r502602879", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t@Deprecated\n          \n          \n            \n            \t@Deprecated\n          \n          \n            \n            \t@API(status = DEPRECATED, since = \"5.8\")", "author": "marcphilipp", "createdAt": "2020-10-09T18:25:53Z", "path": "junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java", "diffHunk": "@@ -156,11 +156,29 @@ default void interceptTestTemplateMethod(Invocation<Void> invocation,\n \t * {@code null}\n \t * @param extensionContext the current extension context; never {@code null}\n \t * @throws Throwable in case of failures\n+\t * @deprecated use {@link #interceptDynamicTest(Invocation, DynamicTestInvocationContext, ExtensionContext)} instead\n \t */\n+\t@Deprecated", "originalCommit": "ba694ccc147150fc8a519d636a9e4199d481395b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9e40ece15e972e1176dbc2831405699f031fb2dd", "chunk": "diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\nindex 39818c8945..e08ad197b7 100644\n--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\n+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\n\n@@ -159,6 +159,7 @@ public interface InvocationInterceptor extends Extension {\n \t * @deprecated use {@link #interceptDynamicTest(Invocation, DynamicTestInvocationContext, ExtensionContext)} instead\n \t */\n \t@Deprecated\n+\t@API(status = DEPRECATED, since = \"5.8\")\n \tdefault void interceptDynamicTest(Invocation<Void> invocation, ExtensionContext extensionContext) throws Throwable {\n \t\tinvocation.proceed();\n \t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwMzE1Mg==", "url": "https://github.com/junit-team/junit5/pull/2445#discussion_r502603152", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tdefault void interceptDynamicTest(Invocation<Void> invocation, DynamicTestInvocationContext invocationContext,\n          \n          \n            \n            \t@API(status = EXPERIMENTAL, since = \"5.8\")\n          \n          \n            \n            \tdefault void interceptDynamicTest(Invocation<Void> invocation, DynamicTestInvocationContext invocationContext,", "author": "marcphilipp", "createdAt": "2020-10-09T18:26:29Z", "path": "junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java", "diffHunk": "@@ -156,11 +156,29 @@ default void interceptTestTemplateMethod(Invocation<Void> invocation,\n \t * {@code null}\n \t * @param extensionContext the current extension context; never {@code null}\n \t * @throws Throwable in case of failures\n+\t * @deprecated use {@link #interceptDynamicTest(Invocation, DynamicTestInvocationContext, ExtensionContext)} instead\n \t */\n+\t@Deprecated\n \tdefault void interceptDynamicTest(Invocation<Void> invocation, ExtensionContext extensionContext) throws Throwable {\n \t\tinvocation.proceed();\n \t}\n \n+\t/**\n+\t * Intercept the invocation of a {@link DynamicTest}.\n+\t *\n+\t * @param invocation the invocation that is being intercepted; never\n+\t * {@code null}\n+\t * @param invocationContext the context of the invocation that is being\n+\t * intercepted; never {@code null}\n+\t * @param extensionContext the current extension context; never {@code null}\n+\t * @throws Throwable in case of failures\n+\t */\n+\tdefault void interceptDynamicTest(Invocation<Void> invocation, DynamicTestInvocationContext invocationContext,", "originalCommit": "ba694ccc147150fc8a519d636a9e4199d481395b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9e40ece15e972e1176dbc2831405699f031fb2dd", "chunk": "diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\nindex 39818c8945..e08ad197b7 100644\n--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\n+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/InvocationInterceptor.java\n\n@@ -159,6 +159,7 @@ public interface InvocationInterceptor extends Extension {\n \t * @deprecated use {@link #interceptDynamicTest(Invocation, DynamicTestInvocationContext, ExtensionContext)} instead\n \t */\n \t@Deprecated\n+\t@API(status = DEPRECATED, since = \"5.8\")\n \tdefault void interceptDynamicTest(Invocation<Void> invocation, ExtensionContext extensionContext) throws Throwable {\n \t\tinvocation.proceed();\n \t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwMzQ0OA==", "url": "https://github.com/junit-team/junit5/pull/2445#discussion_r502603448", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @API(status = STABLE, since = \"5.8\")\n          \n          \n            \n            @API(status = EXPERIMENTAL, since = \"5.8\")", "author": "marcphilipp", "createdAt": "2020-10-09T18:27:00Z", "path": "junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/DynamicTestInvocationContext.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.jupiter.api.extension;\n+\n+import static org.apiguardian.api.API.Status.STABLE;\n+\n+import org.apiguardian.api.API;\n+import org.junit.jupiter.api.function.Executable;\n+\n+/**\n+ * {@code DynamicTestInvocationContext} represents the <em>context</em> of a\n+ * single invocation of a {@linkplain org.junit.jupiter.api.DynamicTest test}.\n+ *\n+ * @since 5.8\n+ * @see org.junit.jupiter.api.DynamicTest\n+ */\n+@API(status = STABLE, since = \"5.8\")", "originalCommit": "ba694ccc147150fc8a519d636a9e4199d481395b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9e40ece15e972e1176dbc2831405699f031fb2dd", "chunk": "diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/DynamicTestInvocationContext.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/DynamicTestInvocationContext.java\nindex 237f4a2e40..1ab3b2e82c 100644\n--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/DynamicTestInvocationContext.java\n+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/DynamicTestInvocationContext.java\n\n@@ -22,7 +22,7 @@ import org.junit.jupiter.api.function.Executable;\n  * @since 5.8\n  * @see org.junit.jupiter.api.DynamicTest\n  */\n-@API(status = STABLE, since = \"5.8\")\n+@API(status = EXPERIMENTAL, since = \"5.8\")\n public class DynamicTestInvocationContext {\n \tprivate Executable executable;\n \n"}}, {"oid": "9e40ece15e972e1176dbc2831405699f031fb2dd", "url": "https://github.com/junit-team/junit5/commit/9e40ece15e972e1176dbc2831405699f031fb2dd", "message": "GIve access to the DynamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-12T09:03:25Z", "type": "forcePushed"}, {"oid": "848cbfd05b1dfc05f4a44621dc2ecbe9f0b52ccf", "url": "https://github.com/junit-team/junit5/commit/848cbfd05b1dfc05f4a44621dc2ecbe9f0b52ccf", "message": "GIve access to the DynamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-12T09:57:37Z", "type": "forcePushed"}, {"oid": "e947fd0785136bd31ad7e4c083c9ef6617f01386", "url": "https://github.com/junit-team/junit5/commit/e947fd0785136bd31ad7e4c083c9ef6617f01386", "message": "GIve access to the DynamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-12T10:07:55Z", "type": "commit"}, {"oid": "e947fd0785136bd31ad7e4c083c9ef6617f01386", "url": "https://github.com/junit-team/junit5/commit/e947fd0785136bd31ad7e4c083c9ef6617f01386", "message": "GIve access to the DynamicTest executable from the InvocationInterceptor", "committedDate": "2020-10-12T10:07:55Z", "type": "forcePushed"}]}