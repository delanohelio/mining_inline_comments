{"pr_number": 199, "pr_title": "DEV-1498 Use persisted data for somatic stages", "pr_createdAt": "2020-09-21T18:19:42Z", "pr_url": "https://github.com/hartwigmedical/pipeline5/pull/199", "timeline": [{"oid": "11217a1587aaefd44196672b50d44616efb20c79", "url": "https://github.com/hartwigmedical/pipeline5/commit/11217a1587aaefd44196672b50d44616efb20c79", "message": "DEV-1498 User persisted data for somatic stages\n\nRefactors previous change to also support looking up somatic data from persistent storage.\n\nBy adding the barcode to the RunMetadata we can actually avoid having a different implementations\nand look up the files using the tumor barcode.\n\nAs many of the HMF tools just need a directory, we add a second method to the dataset interface.\nMaybe later we refactor the model in the API to better support this, so nice to hide it behind\nand interface.\n\nAdd a simple check in the cleanup to ensure we don't fail deleting runtime buckets which do not\nexist.", "committedDate": "2020-09-21T18:19:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzMTk3NA==", "url": "https://github.com/hartwigmedical/pipeline5/pull/199#discussion_r492331974", "bodyText": "Maybe it's just a nit but I do think this would be easier to read as NoOpPersistedDataset.", "author": "nedleitch", "createdAt": "2020-09-21T20:38:18Z", "path": "cluster/src/main/java/com/hartwig/pipeline/reruns/NoopPersistedDataset.java", "diffHunk": "@@ -0,0 +1,18 @@\n+package com.hartwig.pipeline.reruns;\n+\n+import java.util.Optional;\n+\n+import com.hartwig.pipeline.datatypes.DataType;\n+import com.hartwig.pipeline.metadata.RunMetadata;\n+\n+public class NoopPersistedDataset implements PersistedDataset {", "originalCommit": "11217a1587aaefd44196672b50d44616efb20c79", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "3ccf4ef953a157d2e4d9dec517db0a96ec097a65", "url": "https://github.com/hartwigmedical/pipeline5/commit/3ccf4ef953a157d2e4d9dec517db0a96ec097a65", "message": "DEV-1498 Add tests for stages using PersistedDataset", "committedDate": "2020-09-22T17:29:49Z", "type": "commit"}]}