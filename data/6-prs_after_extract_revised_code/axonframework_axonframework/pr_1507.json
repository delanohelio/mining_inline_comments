{"pr_number": 1507, "pr_title": "Don't close the SQL connection when loading configuration token.", "pr_createdAt": "2020-09-07T11:00:42Z", "pr_url": "https://github.com/AxonFramework/AxonFramework/pull/1507", "timeline": [{"oid": "2ec27c620ff660a135d479356e6fecae0a3997bb", "url": "https://github.com/AxonFramework/AxonFramework/commit/2ec27c620ff660a135d479356e6fecae0a3997bb", "message": "Don't close the SQL connection when loading configuration token.", "committedDate": "2020-09-07T10:55:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc4NTg2NQ==", "url": "https://github.com/AxonFramework/AxonFramework/pull/1507#discussion_r487785865", "bodyText": "Mega nit: generic descriptions always come after the parameter descriptions.", "author": "smcvb", "createdAt": "2020-09-14T09:46:44Z", "path": "messaging/src/main/java/org/axonframework/common/jdbc/JdbcUtils.java", "diffHunk": "@@ -52,6 +52,26 @@\n     public static <R> R executeQuery(Connection connection, SqlFunction sqlFunction,\n                                      SqlResultConverter<R> sqlResultConverter,\n                                      Function<SQLException, RuntimeException> errorHandler) {\n+        return executeQuery(connection, sqlFunction, sqlResultConverter, errorHandler, true);\n+    }\n+\n+    /**\n+     * Execute the query given by the {@code sqlFunction}. The {@link ResultSet} returned when the query is executed\n+     * will be converted using the given {@code sqlResultConverter}. Any errors will be handled by the given {@code\n+     * errorHandler}.\n+     *\n+     * @param connection         connection to the underlying database that should be used for the query\n+     * @param sqlFunction        the function that returns a {@link PreparedStatement} to execute the query against\n+     * @param sqlResultConverter converts the result set to a value of type R\n+     * @param errorHandler       handles errors as result of executing the query or converting the result set\n+     * @param <R>                the result of the query after conversion", "originalCommit": "2ec27c620ff660a135d479356e6fecae0a3997bb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "48637f3c72fb9136fe79f844eae1534307b7e4e7", "chunk": "diff --git a/messaging/src/main/java/org/axonframework/common/jdbc/JdbcUtils.java b/messaging/src/main/java/org/axonframework/common/jdbc/JdbcUtils.java\nindex 878746080..391f9f143 100644\n--- a/messaging/src/main/java/org/axonframework/common/jdbc/JdbcUtils.java\n+++ b/messaging/src/main/java/org/axonframework/common/jdbc/JdbcUtils.java\n\n@@ -46,8 +46,8 @@\n      * @param sqlFunction        the function that returns a {@link PreparedStatement} to execute the query against\n      * @param sqlResultConverter converts the result set to a value of type R\n      * @param errorHandler       handles errors as result of executing the query or converting the result set\n-     * @param <R>                the result of the query after conversion\n-     * @return the query result\n+     * @param <R>                the type result of the query\n+     * @return the query result  the result of the query\n      */\n     public static <R> R executeQuery(Connection connection, SqlFunction sqlFunction,\n                                      SqlResultConverter<R> sqlResultConverter,\n"}}, {"oid": "48637f3c72fb9136fe79f844eae1534307b7e4e7", "url": "https://github.com/AxonFramework/AxonFramework/commit/48637f3c72fb9136fe79f844eae1534307b7e4e7", "message": "Adapted JavaDoc.", "committedDate": "2020-09-14T09:56:19Z", "type": "commit"}]}