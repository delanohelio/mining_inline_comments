{"pr_number": 13438, "pr_title": "WFLY-13719 Add a system property to restore old behavior (Don't creat\u2026", "pr_createdAt": "2020-07-31T07:35:21Z", "pr_url": "https://github.com/wildfly/wildfly/pull/13438", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MzE3Nw==", "url": "https://github.com/wildfly/wildfly/pull/13438#discussion_r463873177", "bodyText": "Not required but possibly useful would be to make this an instance var, not static, so we (e.g. in a test) or users (for ??? reason) can manipulate this behavior using a server reload.", "author": "bstansberry", "createdAt": "2020-07-31T22:32:03Z", "path": "ee/src/main/java/org/jboss/as/ee/component/deployers/ModuleJndiBindingProcessor.java", "diffHunk": "@@ -86,6 +87,7 @@\n public class ModuleJndiBindingProcessor implements DeploymentUnitProcessor {\n \n     private final boolean appclient;\n+    private static final boolean IGNORE_UNUSED_RESOURCE_BINDING = Boolean.valueOf(WildFlySecurityManager.getPropertyPrivileged(\"jboss.ee.ignore-unused-resource-binding\", \"false\"));", "originalCommit": "8754738b80791754f24c7f42a923024976f9e491", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "07f1e2c2d73869732f65315964917d4deb7b7094", "chunk": "diff --git a/ee/src/main/java/org/jboss/as/ee/component/deployers/ModuleJndiBindingProcessor.java b/ee/src/main/java/org/jboss/as/ee/component/deployers/ModuleJndiBindingProcessor.java\nindex 491215e2f3..db28e3b37c 100644\n--- a/ee/src/main/java/org/jboss/as/ee/component/deployers/ModuleJndiBindingProcessor.java\n+++ b/ee/src/main/java/org/jboss/as/ee/component/deployers/ModuleJndiBindingProcessor.java\n\n@@ -87,7 +87,7 @@ import static org.jboss.as.ee.logging.EeLogger.ROOT_LOGGER;\n public class ModuleJndiBindingProcessor implements DeploymentUnitProcessor {\n \n     private final boolean appclient;\n-    private static final boolean IGNORE_UNUSED_RESOURCE_BINDING = Boolean.valueOf(WildFlySecurityManager.getPropertyPrivileged(\"jboss.ee.ignore-unused-resource-binding\", \"false\"));\n+    private final boolean ignoreUnusedResourceBinding = Boolean.valueOf(WildFlySecurityManager.getPropertyPrivileged(\"jboss.ee.ignore-unused-resource-binding\", \"false\"));\n \n     public ModuleJndiBindingProcessor(boolean appclient) {\n         this.appclient = appclient;\n"}}, {"oid": "07f1e2c2d73869732f65315964917d4deb7b7094", "url": "https://github.com/wildfly/wildfly/commit/07f1e2c2d73869732f65315964917d4deb7b7094", "message": "WFLY-13719 Add a system property to restore old behavior (Don't create bindings from resource annotations if they're not used on a component)", "committedDate": "2020-08-03T03:14:44Z", "type": "commit"}, {"oid": "07f1e2c2d73869732f65315964917d4deb7b7094", "url": "https://github.com/wildfly/wildfly/commit/07f1e2c2d73869732f65315964917d4deb7b7094", "message": "WFLY-13719 Add a system property to restore old behavior (Don't create bindings from resource annotations if they're not used on a component)", "committedDate": "2020-08-03T03:14:44Z", "type": "forcePushed"}]}