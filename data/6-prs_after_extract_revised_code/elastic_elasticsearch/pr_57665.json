{"pr_number": 57665, "pr_title": "Remove version check after backport ", "pr_createdAt": "2020-06-04T13:20:33Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57665", "timeline": [{"oid": "557b0a91b93dcea91d9c718d0db427c26594f6b6", "url": "https://github.com/elastic/elasticsearch/commit/557b0a91b93dcea91d9c718d0db427c26594f6b6", "message": "Adjust version after backport", "committedDate": "2020-06-04T13:17:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0ODc2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/57665#discussion_r435248763", "bodyText": "I would just delete the version check from master.  The logic is very simple and unlikely to cause clashes that are hard to resolve even in the unlikely event of someone adding another field in the lifetime of 7.x.", "author": "droberts195", "createdAt": "2020-06-04T13:23:04Z", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java", "diffHunk": "@@ -56,7 +56,7 @@ public ModelPlotConfig(boolean enabled, String terms, Boolean annotationsEnabled\n     public ModelPlotConfig(StreamInput in) throws IOException {\n         enabled = in.readBoolean();\n         terms = in.readOptionalString();\n-        if (in.getVersion().onOrAfter(Version.V_8_0_0)) {\n+        if (in.getVersion().onOrAfter(Version.V_7_9_0)) {", "originalCommit": "557b0a91b93dcea91d9c718d0db427c26594f6b6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI1NzY5Mw==", "url": "https://github.com/elastic/elasticsearch/pull/57665#discussion_r435257693", "bodyText": "Done.", "author": "przemekwitek", "createdAt": "2020-06-04T13:35:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0ODc2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "12277e09ddaecdb64023223665db1a9cdc92b8be", "chunk": "diff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java\nindex fb076e2d878..fb781f9019a 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java\n\n@@ -56,20 +55,14 @@ public class ModelPlotConfig implements ToXContentObject, Writeable {\n     public ModelPlotConfig(StreamInput in) throws IOException {\n         enabled = in.readBoolean();\n         terms = in.readOptionalString();\n-        if (in.getVersion().onOrAfter(Version.V_7_9_0)) {\n-            annotationsEnabled = in.readBoolean();\n-        } else {\n-            annotationsEnabled = enabled;\n-        }\n+        annotationsEnabled = in.readBoolean();\n     }\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeBoolean(enabled);\n         out.writeOptionalString(terms);\n-        if (out.getVersion().onOrAfter(Version.V_7_9_0)) {\n-            out.writeBoolean(annotationsEnabled);\n-        }\n+        out.writeBoolean(annotationsEnabled);\n     }\n \n     @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0ODk1OA==", "url": "https://github.com/elastic/elasticsearch/pull/57665#discussion_r435248958", "bodyText": "As above, you might as well just delete this line.", "author": "droberts195", "createdAt": "2020-06-04T13:23:19Z", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java", "diffHunk": "@@ -67,7 +67,7 @@ public ModelPlotConfig(StreamInput in) throws IOException {\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeBoolean(enabled);\n         out.writeOptionalString(terms);\n-        if (out.getVersion().onOrAfter(Version.V_8_0_0)) {\n+        if (out.getVersion().onOrAfter(Version.V_7_9_0)) {", "originalCommit": "557b0a91b93dcea91d9c718d0db427c26594f6b6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI1Nzc5OA==", "url": "https://github.com/elastic/elasticsearch/pull/57665#discussion_r435257798", "bodyText": "Done.", "author": "przemekwitek", "createdAt": "2020-06-04T13:35:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0ODk1OA=="}], "type": "inlineReview", "revised_code": {"commit": "12277e09ddaecdb64023223665db1a9cdc92b8be", "chunk": "diff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java\nindex fb076e2d878..fb781f9019a 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/ModelPlotConfig.java\n\n@@ -56,20 +55,14 @@ public class ModelPlotConfig implements ToXContentObject, Writeable {\n     public ModelPlotConfig(StreamInput in) throws IOException {\n         enabled = in.readBoolean();\n         terms = in.readOptionalString();\n-        if (in.getVersion().onOrAfter(Version.V_7_9_0)) {\n-            annotationsEnabled = in.readBoolean();\n-        } else {\n-            annotationsEnabled = enabled;\n-        }\n+        annotationsEnabled = in.readBoolean();\n     }\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeBoolean(enabled);\n         out.writeOptionalString(terms);\n-        if (out.getVersion().onOrAfter(Version.V_7_9_0)) {\n-            out.writeBoolean(annotationsEnabled);\n-        }\n+        out.writeBoolean(annotationsEnabled);\n     }\n \n     @Override\n"}}, {"oid": "12277e09ddaecdb64023223665db1a9cdc92b8be", "url": "https://github.com/elastic/elasticsearch/commit/12277e09ddaecdb64023223665db1a9cdc92b8be", "message": "Apply review comment", "committedDate": "2020-06-04T13:34:32Z", "type": "commit"}]}