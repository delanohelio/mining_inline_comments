{"pr_number": 51715, "pr_title": "Telemetry data initial implementation", "pr_createdAt": "2020-01-30T23:23:16Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/51715", "timeline": [{"oid": "87eb31be28fbe9c22c274fb3f7192e2127d0d507", "url": "https://github.com/elastic/elasticsearch/commit/87eb31be28fbe9c22c274fb3f7192e2127d0d507", "message": "Initial commit for telemetry data", "committedDate": "2020-01-30T23:17:10Z", "type": "commit"}, {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543", "url": "https://github.com/elastic/elasticsearch/commit/b55dc6f0434c1687896a3470a20b5abb2ff75543", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl", "committedDate": "2020-01-30T23:17:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA==", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r373512638", "bodyText": "This setting already exists in EqlPlugin. Strange that it didn't fail in testing.", "author": "imotov", "createdAt": "2020-01-31T14:41:15Z", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java", "diffHunk": "@@ -124,6 +124,9 @@ private XPackSettings() {\n     public static final Setting<Boolean> FIPS_MODE_ENABLED =\n         Setting.boolSetting(\"xpack.security.fips_mode.enabled\", false, Property.NodeScope);\n \n+    /** Setting for enabling or disabling eql. Defaults to true. */\n+    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", true, Setting.Property.NodeScope);", "originalCommit": "b55dc6f0434c1687896a3470a20b5abb2ff75543", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc0MDU0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r374740549", "bodyText": "@imotov should this setting only exist in EqlPlugin for the moment, and when EQL it's ready to go, move the setting to XPackSettings?", "author": "astefan", "createdAt": "2020-02-04T15:28:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc0NTY2OQ==", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r374745669", "bodyText": "I think the placement of this setting is not as important as having it in one place only and disabling completely in non-snapshot builds. I don't see any issues with moving it in XPackSettings as long as we disable it there for non-snapshot builds.", "author": "imotov", "createdAt": "2020-02-04T15:36:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA=="}], "type": "inlineReview", "revised_code": {"commit": "c790c85a84183ef3467af94d69dee2d8787038f5", "chunk": "diff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java\nindex 5172eb78196..d91042c2739 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java\n\n@@ -124,8 +125,8 @@ public class XPackSettings {\n     public static final Setting<Boolean> FIPS_MODE_ENABLED =\n         Setting.boolSetting(\"xpack.security.fips_mode.enabled\", false, Property.NodeScope);\n \n-    /** Setting for enabling or disabling eql. Defaults to true. */\n-    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", true, Setting.Property.NodeScope);\n+    /** Setting for enabling or disabling eql. Defaults to false. */\n+    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", false, Setting.Property.NodeScope);\n \n     /** Setting for enabling or disabling sql. Defaults to true. */\n     public static final Setting<Boolean> SQL_ENABLED = Setting.boolSetting(\"xpack.sql.enabled\", true, Setting.Property.NodeScope);\n"}}, {"oid": "9dbc11393a0585426617e9a166c5491a45a82d93", "url": "https://github.com/elastic/elasticsearch/commit/9dbc11393a0585426617e9a166c5491a45a82d93", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl", "committedDate": "2020-02-04T15:41:13Z", "type": "commit"}, {"oid": "c790c85a84183ef3467af94d69dee2d8787038f5", "url": "https://github.com/elastic/elasticsearch/commit/c790c85a84183ef3467af94d69dee2d8787038f5", "message": "Remove EQL_ENABLED setting from EqlPlugin", "committedDate": "2020-02-04T17:40:32Z", "type": "commit"}, {"oid": "77611be9c1c18747ab9d1172f5c365d3bad0706c", "url": "https://github.com/elastic/elasticsearch/commit/77611be9c1c18747ab9d1172f5c365d3bad0706c", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl", "committedDate": "2020-02-04T17:44:41Z", "type": "commit"}, {"oid": "f3ce203b7c498445fb6c83ccf2b5fb3557d508ce", "url": "https://github.com/elastic/elasticsearch/commit/f3ce203b7c498445fb6c83ccf2b5fb3557d508ce", "message": "Revert back the EQL_ENABLED setting to EqlPlugin class", "committedDate": "2020-02-06T15:52:32Z", "type": "commit"}, {"oid": "3dd3671902f0b227e940b4f3196a0b9ad6c9006e", "url": "https://github.com/elastic/elasticsearch/commit/3dd3671902f0b227e940b4f3196a0b9ad6c9006e", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl", "committedDate": "2020-02-06T16:17:54Z", "type": "commit"}, {"oid": "7f1a2edc8255e7a4b8b899e0dab0d944410428a8", "url": "https://github.com/elastic/elasticsearch/commit/7f1a2edc8255e7a4b8b899e0dab0d944410428a8", "message": "Merge branch 'master' into 49630_impl", "committedDate": "2020-02-06T23:36:49Z", "type": "commit"}]}