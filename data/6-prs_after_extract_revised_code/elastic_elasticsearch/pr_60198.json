{"pr_number": 60198, "pr_title": "[ML] During Inference do not summerize importance for custom features", "pr_createdAt": "2020-07-27T12:37:06Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60198", "timeline": [{"oid": "820c0873a6cd3c51e265666ca73c9fba803d2257", "url": "https://github.com/elastic/elasticsearch/commit/820c0873a6cd3c51e265666ca73c9fba803d2257", "message": "[ML] do not summerize importance for custom features\n\nIf a feature is created via a custom pre-processor,\nwe should return the importance for that feature.\n\nThis means we will not return the importance for the\noriginal document field for custom processed features.\n\ncloses https://github.com/elastic/elasticsearch/issues/59330", "committedDate": "2020-07-27T12:35:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5OTg1Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60198#discussion_r461399857", "bodyText": "An alternative to consider would be .filter(not(PreProcessor::isCustom))", "author": "przemekwitek", "createdAt": "2020-07-28T08:13:44Z", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/inference/InferenceDefinition.java", "diffHunk": "@@ -95,6 +95,7 @@ public TargetType getTargetType() {\n                 return decoderMap;\n             }\n             this.decoderMap = preProcessors.stream()\n+                .filter(p -> p.isCustom() == false)", "originalCommit": "820c0873a6cd3c51e265666ca73c9fba803d2257", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}