{"pr_number": 54237, "pr_title": "Fix WatcherRestartIT.testWatcherRestart", "pr_createdAt": "2020-03-25T23:17:48Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/54237", "timeline": [{"oid": "cb3054d7fc4b25c097d548cfd53990582ca57e9e", "url": "https://github.com/elastic/elasticsearch/commit/cb3054d7fc4b25c097d548cfd53990582ca57e9e", "message": "Fix WatcherRestartIT.testWatcherRestart\n\nThis commit adjusts testWatcherRestart to vary the template version number it\nchecks for based on the ES version being upgraded from, because the v11 template\nis only installed on clusters with all nodes >=7.7.0.", "committedDate": "2020-03-25T23:15:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyODY2Ng==", "url": "https://github.com/elastic/elasticsearch/pull/54237#discussion_r398228666", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // v7.7.0 contains a Watch history template (version 11) that can't be used unless all nodes in the cluster are >=7.7.0, so\n          \n          \n            \n                    // v7.7.0 contains a Watch history template (version 11) that isn't used unless all nodes in the cluster are >=7.7.0, so", "author": "gwbrown", "createdAt": "2020-03-25T23:19:25Z", "path": "x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/WatcherRestartIT.java", "diffHunk": "@@ -34,16 +35,22 @@ public void testWatcherRestart() throws Exception {\n     }\n \n     private void validateHistoryTemplate() throws Exception {\n+        // v7.7.0 contains a Watch history template (version 11) that can't be used unless all nodes in the cluster are >=7.7.0, so", "originalCommit": "cb3054d7fc4b25c097d548cfd53990582ca57e9e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}