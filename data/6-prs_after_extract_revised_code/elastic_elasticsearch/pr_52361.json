{"pr_number": 52361, "pr_title": "Modernize boxplot's parser", "pr_createdAt": "2020-02-14T11:41:01Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/52361", "timeline": [{"oid": "f26ff7c9fa2598980c7e7bd762f6cc09eb65fb36", "url": "https://github.com/elastic/elasticsearch/commit/f26ff7c9fa2598980c7e7bd762f6cc09eb65fb36", "message": "Modernize boxplot's parser\n\nUses a newer way to build `ObjectParser` for in `boxplot` that allows us\nto drop a mostly ceremonial method.", "committedDate": "2020-02-14T11:32:42Z", "type": "commit"}, {"oid": "08e546894f44730aa7a1b939c2a28d1f110e9645", "url": "https://github.com/elastic/elasticsearch/commit/08e546894f44730aa7a1b939c2a28d1f110e9645", "message": "Checkstyle", "committedDate": "2020-02-14T12:10:08Z", "type": "commit"}, {"oid": "1d5249308c8e4a73fd571db40088a983483b9bbc", "url": "https://github.com/elastic/elasticsearch/commit/1d5249308c8e4a73fd571db40088a983483b9bbc", "message": "Moar checkstyle", "committedDate": "2020-02-14T12:10:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQyODU5Ng==", "url": "https://github.com/elastic/elasticsearch/pull/52361#discussion_r379428596", "bodyText": "This is a mistake. I'll drop it.", "author": "nik9000", "createdAt": "2020-02-14T13:27:18Z", "path": "server/src/main/java/org/elasticsearch/search/aggregations/AggregationRequest.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/*", "originalCommit": "1d5249308c8e4a73fd571db40088a983483b9bbc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5eca2f265af0e8d136d6fb79826448830e03679b", "chunk": "diff --git a/server/src/main/java/org/elasticsearch/search/aggregations/AggregationRequest.java b/server/src/main/java/org/elasticsearch/search/aggregations/AggregationRequest.java\ndeleted file mode 100644\nindex f9b3ebc581d..00000000000\n--- a/server/src/main/java/org/elasticsearch/search/aggregations/AggregationRequest.java\n+++ /dev/null\n\n@@ -1,88 +0,0 @@\n-/*\n- * Licensed to Elasticsearch under one or more contributor\n- * license agreements. See the NOTICE file distributed with\n- * this work for additional information regarding copyright\n- * ownership. Elasticsearch licenses this file to you under\n- * the Apache License, Version 2.0 (the \"License\"); you may\n- * not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-\n-package org.elasticsearch.search.aggregations;\n-\n-import org.elasticsearch.common.Strings;\n-import org.elasticsearch.common.xcontent.ToXContentFragment;\n-\n-import java.util.Collection;\n-import java.util.Map;\n-\n-public abstract class AggregationRequest implements ToXContentFragment, BaseAggregationBuilder {\n-    // NOCOMMIT can these be private?\n-    protected final String name;\n-    protected AggregatorFactories.Builder factoriesBuilder;\n-\n-    /**\n-     * Constructs a new aggregation request.\n-     *\n-     * @param name  The aggregation name\n-     */\n-    protected AggregationRequest(String name) {\n-        this(name, AggregatorFactories.builder());\n-    }\n-\n-    /**\n-     * Constructs a new aggregation request.\n-     *\n-     * @param name  The aggregation name\n-     * @param factoriesBuilder sub-aggregations\n-     */\n-    protected AggregationRequest(String name, AggregatorFactories.Builder factoriesBuilder) {\n-        if (name == null) {\n-            throw new IllegalArgumentException(\"[name] must not be null: [\" + name + \"]\");\n-        }\n-        this.name = name;\n-        this.factoriesBuilder = factoriesBuilder;\n-    }\n-\n-    /** Return this aggregation's name. */\n-    public String getName() {\n-        return name;\n-    }\n-\n-    /** Associate metadata with this {@link AggregationBuilder}. */\n-    @Override\n-    public abstract AggregationBuilder setMetaData(Map<String, Object> metaData);\n-\n-    /** Return any associated metadata with this {@link AggregationBuilder}. */\n-    public abstract Map<String, Object> getMetaData();\n-\n-    /** Add a sub aggregation to this builder. */\n-    public abstract AggregationBuilder subAggregation(AggregationBuilder aggregation);\n-\n-    /** Add a sub aggregation to this builder. */\n-    public abstract AggregationBuilder subAggregation(PipelineAggregationBuilder aggregation);\n-\n-    /** Return the configured set of subaggregations **/\n-    public Collection<AggregationBuilder> getSubAggregations() {\n-        return factoriesBuilder.getAggregatorFactories();\n-    }\n-\n-    /** Return the configured set of pipeline aggregations **/\n-    public Collection<PipelineAggregationBuilder> getPipelineAggregations() {\n-        return factoriesBuilder.getPipelineAggregatorFactories();\n-    }\n-\n-    @Override\n-    public String toString() {\n-        return Strings.toString(this);\n-    }\n-}\n"}}, {"oid": "5eca2f265af0e8d136d6fb79826448830e03679b", "url": "https://github.com/elastic/elasticsearch/commit/5eca2f265af0e8d136d6fb79826448830e03679b", "message": "Remove oops", "committedDate": "2020-02-14T13:27:44Z", "type": "commit"}, {"oid": "e9cb5470c0d9a8bf7ddd699dd3d0aff62dcbf312", "url": "https://github.com/elastic/elasticsearch/commit/e9cb5470c0d9a8bf7ddd699dd3d0aff62dcbf312", "message": "Merge branch 'master' into boxplot_parser", "committedDate": "2020-02-14T13:32:06Z", "type": "commit"}]}