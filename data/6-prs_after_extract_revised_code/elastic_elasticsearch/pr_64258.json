{"pr_number": 64258, "pr_title": "[Test] Skip node_type setting in transport client", "pr_createdAt": "2020-10-28T04:42:15Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/64258", "timeline": [{"oid": "a63e56beffa9bdbd613231c3bc215651941b23ea", "url": "https://github.com/elastic/elasticsearch/commit/a63e56beffa9bdbd613231c3bc215651941b23ea", "message": "[Test] Skip node_type setting in transport client\n\nThe license integTest would copy node settings into the transport\nclient settings. This no longer works (since #64015) because the\nnode types generated in the server test case are not applicable to\ntransport client", "committedDate": "2020-10-28T03:39:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzM5MDY5Nw==", "url": "https://github.com/elastic/elasticsearch/pull/64258#discussion_r513390697", "bodyText": "Is this comment out of place? I understand it is carried over from the previous method. But should it be in the transportClientPlugins method?", "author": "ywangd", "createdAt": "2020-10-28T12:07:12Z", "path": "x-pack/plugin/core/src/test/java/org/elasticsearch/license/AbstractLicensesIntegrationTestCase.java", "diffHunk": "@@ -26,7 +26,17 @@\n \n     @Override\n     protected Settings nodeSettings(int nodeOrdinal) {\n-        return Settings.builder().put(super.nodeSettings(nodeOrdinal)).put(XPackSettings.SECURITY_ENABLED.getKey(), false).build();\n+        return customSettings(super.nodeSettings(nodeOrdinal));\n+    }\n+\n+    @Override\n+    protected Settings transportClientSettings() {\n+        // Plugin should be loaded on the transport client as well", "originalCommit": "a63e56beffa9bdbd613231c3bc215651941b23ea", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}