{"pr_number": 62464, "pr_title": "Fix S3BlobContainerRetriesTests", "pr_createdAt": "2020-09-16T14:08:40Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/62464", "timeline": [{"oid": "fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0", "url": "https://github.com/elastic/elasticsearch/commit/fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0", "message": "Fix test failure", "committedDate": "2020-09-16T14:01:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEwODIzNA==", "url": "https://github.com/elastic/elasticsearch/pull/62464#discussion_r490108234", "bodyText": "Probably better to stick with || out of principle even if the right hand side is cheap here :)", "author": "original-brownbear", "createdAt": "2020-09-17T09:36:38Z", "path": "plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3RetryingInputStream.java", "diffHunk": "@@ -231,7 +231,7 @@ public void reset() {\n \n     // package-private for tests\n     boolean isEof() {\n-        return eof;\n+        return eof | start + currentOffset == currentStreamLastOffset;", "originalCommit": "fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c48ef1c20ffd21c4d8aee05ba97f279e02209f78", "chunk": "diff --git a/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3RetryingInputStream.java b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3RetryingInputStream.java\nindex 8b5be174c10..83bf6fd2938 100644\n--- a/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3RetryingInputStream.java\n+++ b/plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3RetryingInputStream.java\n\n@@ -231,7 +231,7 @@ class S3RetryingInputStream extends InputStream {\n \n     // package-private for tests\n     boolean isEof() {\n-        return eof | start + currentOffset == currentStreamLastOffset;\n+        return eof || start + currentOffset == currentStreamLastOffset;\n     }\n \n     // package-private for tests\n"}}, {"oid": "c48ef1c20ffd21c4d8aee05ba97f279e02209f78", "url": "https://github.com/elastic/elasticsearch/commit/c48ef1c20ffd21c4d8aee05ba97f279e02209f78", "message": "dble pipe", "committedDate": "2020-09-17T10:42:08Z", "type": "commit"}, {"oid": "f5be19d265ae4a809dcce05fe386b7a657e0469a", "url": "https://github.com/elastic/elasticsearch/commit/f5be19d265ae4a809dcce05fe386b7a657e0469a", "message": "Merge branch 'master' into fix-62390", "committedDate": "2020-09-17T11:09:29Z", "type": "commit"}]}