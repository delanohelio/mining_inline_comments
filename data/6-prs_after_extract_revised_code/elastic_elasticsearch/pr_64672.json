{"pr_number": 64672, "pr_title": "Remove some unnecessary methods from SearchContext.", "pr_createdAt": "2020-11-05T21:08:13Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/64672", "timeline": [{"oid": "2d91e5e6c3f747ecd77ca1f8a08383072bf92b05", "url": "https://github.com/elastic/elasticsearch/commit/2d91e5e6c3f747ecd77ca1f8a08383072bf92b05", "message": "Remove some unused methods.", "committedDate": "2020-11-05T20:51:12Z", "type": "commit"}, {"oid": "51be3ad4e6e346755935e4a83fa402916cfabee7", "url": "https://github.com/elastic/elasticsearch/commit/51be3ad4e6e346755935e4a83fa402916cfabee7", "message": "Avoid exposing queryBoost.", "committedDate": "2020-11-05T20:51:19Z", "type": "commit"}, {"oid": "5bc1f1bfb1e89e6d19ada64a233485be262404e2", "url": "https://github.com/elastic/elasticsearch/commit/5bc1f1bfb1e89e6d19ada64a233485be262404e2", "message": "Remove docIdsToLoadFrom.", "committedDate": "2020-11-05T20:51:19Z", "type": "commit"}, {"oid": "3d012bb56c1593d48d67304485fa64cd54cfd7c8", "url": "https://github.com/elastic/elasticsearch/commit/3d012bb56c1593d48d67304485fa64cd54cfd7c8", "message": "Remove doClose.", "committedDate": "2020-11-05T20:51:19Z", "type": "commit"}, {"oid": "3ade62a9eb54e0c222152ecdfbdd2e4b230dbc45", "url": "https://github.com/elastic/elasticsearch/commit/3ade62a9eb54e0c222152ecdfbdd2e4b230dbc45", "message": "Merge remote-tracking branch 'upstream/master' into search-context", "committedDate": "2020-11-05T22:08:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzk5NQ==", "url": "https://github.com/elastic/elasticsearch/pull/64672#discussion_r518633995", "bodyText": "We always seem to call this with (array, array.length) so maybe we can remove the second parameter here as well?", "author": "romseygeek", "createdAt": "2020-11-06T09:42:34Z", "path": "server/src/main/java/org/elasticsearch/search/internal/SearchContext.java", "diffHunk": "@@ -328,11 +308,9 @@ public final void assignRescoreDocIds(RescoreDocIds rescoreDocIds) {\n \n     public abstract int[] docIdsToLoad();\n \n-    public abstract int docIdsToLoadFrom();\n-\n     public abstract int docIdsToLoadSize();\n \n-    public abstract SearchContext docIdsToLoad(int[] docIdsToLoad, int docsIdsToLoadFrom, int docsIdsToLoadSize);\n+    public abstract SearchContext docIdsToLoad(int[] docIdsToLoad, int docsIdsToLoadSize);", "originalCommit": "3ade62a9eb54e0c222152ecdfbdd2e4b230dbc45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkxMTAzNQ==", "url": "https://github.com/elastic/elasticsearch/pull/64672#discussion_r518911035", "bodyText": "I found one instance where this isn't the case in SearchService#executeFetchPhase, where these parameters are taken from IntArrayList. This could likely be refactored, but we can save it for another time!", "author": "jtibshirani", "createdAt": "2020-11-06T17:52:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzk5NQ=="}], "type": "inlineReview", "revised_code": null}]}