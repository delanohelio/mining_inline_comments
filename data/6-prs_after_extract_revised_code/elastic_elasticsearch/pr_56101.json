{"pr_number": 56101, "pr_title": "[ML] Improve cleanup for DF Analytics HLRC tests", "pr_createdAt": "2020-05-04T09:44:08Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56101", "timeline": [{"oid": "6dad71d9f6994577ae7d4fa0938ff6f4e5a110a4", "url": "https://github.com/elastic/elasticsearch/commit/6dad71d9f6994577ae7d4fa0938ff6f4e5a110a4", "message": "[ML] Improve cleanup for DF Analytics HLRC tests\n\nAdds the step of stopping all data frame analytics before\ndeleting them to the cleanup of the corresponding HLRC tests.\n\nCloses #56097", "committedDate": "2020-05-04T09:16:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMzMTExMw==", "url": "https://github.com/elastic/elasticsearch/pull/56101#discussion_r419331113", "bodyText": "Do we need to stop DF analytics in MlRestTestStateCleaner as well?", "author": "przemekwitek", "createdAt": "2020-05-04T10:03:21Z", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/MlTestStateCleaner.java", "diffHunk": "@@ -106,10 +107,28 @@ private void closeAllJobs() {\n     }\n \n     private void deleteAllDataFrameAnalytics() throws IOException {\n+        stopAllDataFrameAnalytics();", "originalCommit": "6dad71d9f6994577ae7d4fa0938ff6f4e5a110a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMzNjQwMQ==", "url": "https://github.com/elastic/elasticsearch/pull/56101#discussion_r419336401", "bodyText": "Good point. Will do.", "author": "dimitris-athanasiou", "createdAt": "2020-05-04T10:14:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMzMTExMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM3MDU4NQ==", "url": "https://github.com/elastic/elasticsearch/pull/56101#discussion_r419370585", "bodyText": "Done in 5fab34a", "author": "dimitris-athanasiou", "createdAt": "2020-05-04T11:30:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMzMTExMw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "5fab34a19b6fb62fc5fc35c1dcfd5073d9ebe884", "url": "https://github.com/elastic/elasticsearch/commit/5fab34a19b6fb62fc5fc35c1dcfd5073d9ebe884", "message": "Also improve rest cleaner", "committedDate": "2020-05-04T11:29:49Z", "type": "commit"}]}