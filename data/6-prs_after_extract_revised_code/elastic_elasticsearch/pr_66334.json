{"pr_number": 66334, "pr_title": "Convert metadata mapper tests to use MapperServiceTestCase", "pr_createdAt": "2020-12-15T12:11:49Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/66334", "timeline": [{"oid": "c1d6713cc686e81f3ec01c285f649fb800e37e6d", "url": "https://github.com/elastic/elasticsearch/commit/c1d6713cc686e81f3ec01c285f649fb800e37e6d", "message": "Convert metadata mapper tests to use MapperServiceTestCase", "committedDate": "2020-12-15T12:09:48Z", "type": "commit"}, {"oid": "e06938d982f40a79143efd357cac31ad3b1ef9fe", "url": "https://github.com/elastic/elasticsearch/commit/e06938d982f40a79143efd357cac31ad3b1ef9fe", "message": "Merge remote-tracking branch 'origin/master' into mapper/single-node-tests", "committedDate": "2020-12-15T12:48:32Z", "type": "commit"}, {"oid": "39b890c6f382a6f1bdc53f68496b476713ad660e", "url": "https://github.com/elastic/elasticsearch/commit/39b890c6f382a6f1bdc53f68496b476713ad660e", "message": "precommit", "committedDate": "2020-12-15T12:54:35Z", "type": "commit"}, {"oid": "da676723f7d07fc57a953b8c89d27a1686f787ab", "url": "https://github.com/elastic/elasticsearch/commit/da676723f7d07fc57a953b8c89d27a1686f787ab", "message": "some more tests", "committedDate": "2020-12-22T12:00:12Z", "type": "commit"}, {"oid": "fbee3e134e6ad1808d03ec6b72b773b96e6a98d2", "url": "https://github.com/elastic/elasticsearch/commit/fbee3e134e6ad1808d03ec6b72b773b96e6a98d2", "message": "Merge remote-tracking branch 'origin/master' into mapper/single-node-tests", "committedDate": "2021-01-06T10:40:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjY5MjkzMQ==", "url": "https://github.com/elastic/elasticsearch/pull/66334#discussion_r552692931", "bodyText": "Could you leave a comment on the pr about why this worked before?", "author": "nik9000", "createdAt": "2021-01-06T15:02:26Z", "path": "x-pack/plugin/data-streams/src/main/java/org/elasticsearch/xpack/datastreams/mapper/DataStreamTimestampFieldMapper.java", "diffHunk": "@@ -201,4 +201,8 @@ public void postParse(ParseContext context) throws IOException {\n     protected String contentType() {\n         return NAME;\n     }\n+\n+    boolean isEnabled() {", "originalCommit": "fbee3e134e6ad1808d03ec6b72b773b96e6a98d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjcwMDczMQ==", "url": "https://github.com/elastic/elasticsearch/pull/66334#discussion_r552700731", "bodyText": "We didn't need it before because we were using MapperTestUtils#assertConflicts to test updates, and that checks that a conflict doesn't occur but doesn't check that the update has had any effect.  MapperTestCase's parameter checks do both, so we need a way of finding out what the enabled value is, given a DocumentMapper.", "author": "romseygeek", "createdAt": "2021-01-06T15:12:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjY5MjkzMQ=="}], "type": "inlineReview", "revised_code": null}]}