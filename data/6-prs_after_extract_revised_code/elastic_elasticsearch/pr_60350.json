{"pr_number": 60350, "pr_title": "Simplify class hierarchy for ordinals field data.", "pr_createdAt": "2020-07-29T02:29:42Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60350", "timeline": [{"oid": "416817d57e950b34dabfe770ef4ef735312a7f2c", "url": "https://github.com/elastic/elasticsearch/commit/416817d57e950b34dabfe770ef4ef735312a7f2c", "message": "Rename localGlobalDirect to loadGlobalDirect.", "committedDate": "2020-07-29T03:29:31Z", "type": "forcePushed"}, {"oid": "60b7d1f23b3eff88c3345670587ed2a49dcb5c98", "url": "https://github.com/elastic/elasticsearch/commit/60b7d1f23b3eff88c3345670587ed2a49dcb5c98", "message": "Remove AbstractIndexFieldData.", "committedDate": "2020-07-30T21:42:38Z", "type": "commit"}, {"oid": "b10e31e15b5bed784a9b45cfe6c74134efe0fafa", "url": "https://github.com/elastic/elasticsearch/commit/b10e31e15b5bed784a9b45cfe6c74134efe0fafa", "message": "Minor clean-up in AbstractIndexOrdinalsFieldData.", "committedDate": "2020-07-30T21:42:40Z", "type": "commit"}, {"oid": "ad0bcd08e457c4d9b9780b85270588aef6aaca64", "url": "https://github.com/elastic/elasticsearch/commit/ad0bcd08e457c4d9b9780b85270588aef6aaca64", "message": "Move frequency filtering down into PagedBytesIndexFieldData.", "committedDate": "2020-07-30T21:43:02Z", "type": "commit"}, {"oid": "54c92dd6480c9f19080ad4f4641ee2030ebaada6", "url": "https://github.com/elastic/elasticsearch/commit/54c92dd6480c9f19080ad4f4641ee2030ebaada6", "message": "Make SortedSetOrdinalsIndexFieldData extend AbstractIndexOrdinalsFieldData.", "committedDate": "2020-07-30T21:43:03Z", "type": "commit"}, {"oid": "54c92dd6480c9f19080ad4f4641ee2030ebaada6", "url": "https://github.com/elastic/elasticsearch/commit/54c92dd6480c9f19080ad4f4641ee2030ebaada6", "message": "Make SortedSetOrdinalsIndexFieldData extend AbstractIndexOrdinalsFieldData.", "committedDate": "2020-07-30T21:43:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc0NjQ0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/60350#discussion_r463746446", "bodyText": "Does the superclass also have this member?", "author": "nik9000", "createdAt": "2020-07-31T17:47:14Z", "path": "server/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetOrdinalsIndexFieldData.java", "diffHunk": "@@ -78,12 +72,8 @@ public SortedSetOrdinalsIndexFieldData build(\n         }\n     }\n \n-    protected final String fieldName;\n-    private final IndexFieldDataCache cache;\n-    private final CircuitBreakerService breakerService;\n-    private final Function<SortedSetDocValues, ScriptDocValues<?>> scriptFunction;\n-    private final ValuesSourceType valuesSourceType;\n     private static final Logger logger = LogManager.getLogger(SortedSetOrdinalsIndexFieldData.class);\n+    private final Function<SortedSetDocValues, ScriptDocValues<?>> scriptFunction;", "originalCommit": "54c92dd6480c9f19080ad4f4641ee2030ebaada6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1MTE1Ng==", "url": "https://github.com/elastic/elasticsearch/pull/60350#discussion_r463751156", "bodyText": "Oops, yes this should only live in the superclass now.", "author": "jtibshirani", "createdAt": "2020-07-31T17:56:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc0NjQ0Ng=="}], "type": "inlineReview", "revised_code": {"commit": "00a670899c2d17b0e0fbfbc24fd80a791c62a948", "chunk": "diff --git a/server/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetOrdinalsIndexFieldData.java b/server/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetOrdinalsIndexFieldData.java\nindex b9d79deb53d..f143af8886b 100644\n--- a/server/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetOrdinalsIndexFieldData.java\n+++ b/server/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetOrdinalsIndexFieldData.java\n\n@@ -73,7 +73,6 @@ public class SortedSetOrdinalsIndexFieldData extends AbstractIndexOrdinalsFieldD\n     }\n \n     private static final Logger logger = LogManager.getLogger(SortedSetOrdinalsIndexFieldData.class);\n-    private final Function<SortedSetDocValues, ScriptDocValues<?>> scriptFunction;\n \n     public SortedSetOrdinalsIndexFieldData(\n         IndexFieldDataCache cache,\n"}}, {"oid": "00a670899c2d17b0e0fbfbc24fd80a791c62a948", "url": "https://github.com/elastic/elasticsearch/commit/00a670899c2d17b0e0fbfbc24fd80a791c62a948", "message": "Remove redundant scriptFunction member variable.", "committedDate": "2020-07-31T18:18:53Z", "type": "commit"}, {"oid": "ca15896b7271d5316f63e158ff1598ba7084d4d0", "url": "https://github.com/elastic/elasticsearch/commit/ca15896b7271d5316f63e158ff1598ba7084d4d0", "message": "Remove unused logger in SortedSetOrdinalsIndexFieldData.", "committedDate": "2020-07-31T19:16:37Z", "type": "commit"}, {"oid": "4d468b8a86de7d2491c15e10e0dcc78d1cf6fb42", "url": "https://github.com/elastic/elasticsearch/commit/4d468b8a86de7d2491c15e10e0dcc78d1cf6fb42", "message": "Merge remote-tracking branch 'upstream/master' into ordinals-field-data", "committedDate": "2020-07-31T19:20:41Z", "type": "commit"}]}