{"pr_number": 62620, "pr_title": "[7.x] [ML] Add new include flag to GET inference/<model_id> API for model training metadata (#61922)", "pr_createdAt": "2020-09-18T11:35:11Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/62620", "timeline": [{"oid": "0821a53d59a45aaaea1cc103ba8fcf815f1453d6", "url": "https://github.com/elastic/elasticsearch/commit/0821a53d59a45aaaea1cc103ba8fcf815f1453d6", "message": "[ML] Add new include flag to GET inference/<model_id> API for model training metadata (#61922)\n\nAdds new flag include to the get trained models API\nThe flag initially has two valid values: definition, total_feature_importance.\nConsequently, the old include_model_definition flag is now deprecated.\nWhen total_feature_importance is included, the total_feature_importance field is included in the model metadata object.\nIncluding definition is the same as previously setting include_model_definition=true.", "committedDate": "2020-09-18T11:34:50Z", "type": "commit"}, {"oid": "73458b04f08e929e4390a6c3013a4116e0b6ffda", "url": "https://github.com/elastic/elasticsearch/commit/73458b04f08e929e4390a6c3013a4116e0b6ffda", "message": "fixing test", "committedDate": "2020-09-18T11:48:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkwNzQxMg==", "url": "https://github.com/elastic/elasticsearch/pull/62620#discussion_r490907412", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import java.util.Collections;", "author": "benwtrent", "createdAt": "2020-09-18T12:14:07Z", "path": "x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsRequestTests.java", "diffHunk": "@@ -5,19 +5,29 @@\n  */\n package org.elasticsearch.xpack.core.ml.action;\n \n+import org.elasticsearch.Version;\n import org.elasticsearch.common.io.stream.Writeable;\n-import org.elasticsearch.test.AbstractWireSerializingTestCase;\n import org.elasticsearch.xpack.core.action.util.PageParams;\n+import org.elasticsearch.xpack.core.ml.AbstractBWCWireSerializationTestCase;\n import org.elasticsearch.xpack.core.ml.action.GetTrainedModelsAction.Request;\n \n-public class GetTrainedModelsRequestTests extends AbstractWireSerializingTestCase<Request> {\n+import java.util.Collections;", "originalCommit": "73458b04f08e929e4390a6c3013a4116e0b6ffda", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ee883ab7a74765ee06c70999a84e4ef258975398", "chunk": "diff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsRequestTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsRequestTests.java\nindex 5fa66366d26e..a761a00c1dcb 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsRequestTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsRequestTests.java\n\n@@ -11,7 +11,6 @@ import org.elasticsearch.xpack.core.action.util.PageParams;\n import org.elasticsearch.xpack.core.ml.AbstractBWCWireSerializationTestCase;\n import org.elasticsearch.xpack.core.ml.action.GetTrainedModelsAction.Request;\n \n-import java.util.Collections;\n import java.util.HashSet;\n import java.util.Set;\n import java.util.stream.Collectors;\n"}}, {"oid": "ee883ab7a74765ee06c70999a84e4ef258975398", "url": "https://github.com/elastic/elasticsearch/commit/ee883ab7a74765ee06c70999a84e4ef258975398", "message": "Update x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsRequestTests.java", "committedDate": "2020-09-18T12:14:11Z", "type": "commit"}]}