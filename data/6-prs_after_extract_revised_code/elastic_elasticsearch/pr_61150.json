{"pr_number": 61150, "pr_title": "[ML] adjusts feature importance format for hlrc", "pr_createdAt": "2020-08-14T13:38:31Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/61150", "timeline": [{"oid": "d22891db6fb7e3d2deaaf0a28dcfe545665bce11", "url": "https://github.com/elastic/elasticsearch/commit/d22891db6fb7e3d2deaaf0a28dcfe545665bce11", "message": "[ML] adjusts feature importance format for hlrc", "committedDate": "2020-08-14T13:37:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYzMjA5MQ==", "url": "https://github.com/elastic/elasticsearch/pull/61150#discussion_r470632091", "bodyText": "The List<ClassImportance> parameter can still be null", "author": "davidkyle", "createdAt": "2020-08-14T13:44:27Z", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/ml/inference/results/FeatureImportanceTests.java", "diffHunk": "@@ -35,10 +33,10 @@ protected FeatureImportance createTestInstance() {\n         return new FeatureImportance(\n             randomAlphaOfLength(10),\n             randomDoubleBetween(-10.0, 10.0, false),\n-            randomBoolean() ? null :", "originalCommit": "d22891db6fb7e3d2deaaf0a28dcfe545665bce11", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "87656fafc91f01a37438b546e8dc927a45d39cc6", "chunk": "diff --git a/client/rest-high-level/src/test/java/org/elasticsearch/client/ml/inference/results/FeatureImportanceTests.java b/client/rest-high-level/src/test/java/org/elasticsearch/client/ml/inference/results/FeatureImportanceTests.java\nindex 1813673d12a..0da86667e1d 100644\n--- a/client/rest-high-level/src/test/java/org/elasticsearch/client/ml/inference/results/FeatureImportanceTests.java\n+++ b/client/rest-high-level/src/test/java/org/elasticsearch/client/ml/inference/results/FeatureImportanceTests.java\n\n@@ -33,10 +33,11 @@ public class FeatureImportanceTests extends AbstractXContentTestCase<FeatureImpo\n         return new FeatureImportance(\n             randomAlphaOfLength(10),\n             randomDoubleBetween(-10.0, 10.0, false),\n-            Stream.generate(() -> randomAlphaOfLength(10))\n-                .limit(randomLongBetween(2, 10))\n-                .map(name -> new FeatureImportance.ClassImportance(name, randomDoubleBetween(-10, 10, false)))\n-                .collect(Collectors.toList()));\n+            randomBoolean() ? null :\n+                Stream.generate(() -> randomAlphaOfLength(10))\n+                    .limit(randomLongBetween(2, 10))\n+                    .map(name -> new FeatureImportance.ClassImportance(name, randomDoubleBetween(-10, 10, false)))\n+                    .collect(Collectors.toList()));\n \n     }\n \n"}}, {"oid": "87656fafc91f01a37438b546e8dc927a45d39cc6", "url": "https://github.com/elastic/elasticsearch/commit/87656fafc91f01a37438b546e8dc927a45d39cc6", "message": "Update FeatureImportanceTests.java", "committedDate": "2020-08-14T14:08:54Z", "type": "commit"}]}