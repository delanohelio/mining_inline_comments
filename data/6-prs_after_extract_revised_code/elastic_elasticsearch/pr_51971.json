{"pr_number": 51971, "pr_title": "Log failure when cleaning shard follow task", "pr_createdAt": "2020-02-06T00:46:49Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/51971", "timeline": [{"oid": "6264cabe33bd93c75a52a11db438d181bdf48994", "url": "https://github.com/elastic/elasticsearch/commit/6264cabe33bd93c75a52a11db438d181bdf48994", "message": "Log failure when cleaning shard follow task\n\nWhen clenaing a shard follow task after an index has been deleted, an\nexception can occur submitting the complete persistent task\naction. However, this exception message is not logged. This commit\naddresses this by including the exception that led to the failure in the\nlog message.", "committedDate": "2020-02-06T00:45:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU4ODUxNA==", "url": "https://github.com/elastic/elasticsearch/pull/51971#discussion_r375588514", "bodyText": "This name change is to avoid confusion with the name of the Exception instance in the onFailure callback.", "author": "jasontedor", "createdAt": "2020-02-06T00:47:20Z", "path": "x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/action/ShardFollowTaskCleaner.java", "diffHunk": "@@ -63,9 +64,9 @@ public void clusterChanged(final ClusterChangedEvent event) {\n                 // the index exists, do not clean this persistent task\n                 continue;\n             }\n-            IndexNotFoundException e = new IndexNotFoundException(followerIndex);\n+            IndexNotFoundException infe = new IndexNotFoundException(followerIndex);", "originalCommit": "6264cabe33bd93c75a52a11db438d181bdf48994", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}