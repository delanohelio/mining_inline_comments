{"pr_number": 649, "pr_title": "SO-4198: LCS replace type import fails with NPE", "pr_createdAt": "2020-08-26T15:09:25Z", "pr_url": "https://github.com/b2ihealthcare/snow-owl/pull/649", "timeline": [{"oid": "b92553ed493765bbcc90218f6749264b92245ce7", "url": "https://github.com/b2ihealthcare/snow-owl/commit/b92553ed493765bbcc90218f6749264b92245ce7", "message": "SO-4198: change commit() return type to Long ...", "committedDate": "2020-08-26T15:05:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ0NzE5Ng==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/649#discussion_r477447196", "bodyText": "\u26a0\ufe0f See lgtm-bot's notice: the local variable timestamp does not need to be changed into a Long value, we just need to be able to return null at the end.", "author": "apeteri", "createdAt": "2020-08-26T16:53:46Z", "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/repository/RepositoryTransactionContext.java", "diffHunk": "@@ -276,11 +276,11 @@ public long commit(String author, String commitComment, String parentLockContext\n \t\tCommit commit = null;\n \t\ttry {\n \t\t\tacquireLock(locks, lockContext, lockTarget);\n-\t\t\tfinal long timestamp = service(TimestampProvider.class).getTimestamp();\n+\t\t\tfinal Long timestamp = service(TimestampProvider.class).getTimestamp();", "originalCommit": "b92553ed493765bbcc90218f6749264b92245ce7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e356b94add653e0c7e4e5fc921c78722cb8ca2fe", "chunk": "diff --git a/core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/repository/RepositoryTransactionContext.java b/core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/repository/RepositoryTransactionContext.java\nindex 3b95441156..4e10e4a374 100644\n--- a/core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/repository/RepositoryTransactionContext.java\n+++ b/core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/repository/RepositoryTransactionContext.java\n\n@@ -276,7 +276,7 @@ public final class RepositoryTransactionContext extends DelegatingBranchContext\n \t\tCommit commit = null;\n \t\ttry {\n \t\t\tacquireLock(locks, lockContext, lockTarget);\n-\t\t\tfinal Long timestamp = service(TimestampProvider.class).getTimestamp();\n+\t\t\tfinal long timestamp = service(TimestampProvider.class).getTimestamp();\n \t\t\tlog().info(\"Persisting changes to {}@{}\", path(), timestamp);\n \t\t\tcommit = staging.commit(null, timestamp, author, commitComment);\n \t\t\tlog().info(\"Changes have been successfully persisted to {}@{}.\", path(), timestamp);\n"}}, {"oid": "e356b94add653e0c7e4e5fc921c78722cb8ca2fe", "url": "https://github.com/b2ihealthcare/snow-owl/commit/e356b94add653e0c7e4e5fc921c78722cb8ca2fe", "message": "SO-4198: Revert unnecessary boxed type\n\nhttps://snowowl.atlassian.net/browse/SO-4198", "committedDate": "2020-08-26T16:53:53Z", "type": "commit"}]}