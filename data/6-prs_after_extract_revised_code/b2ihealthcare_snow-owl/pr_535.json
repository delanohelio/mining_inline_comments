{"pr_number": 535, "pr_title": "Export test failure investigation", "pr_createdAt": "2020-04-15T17:46:37Z", "pr_url": "https://github.com/b2ihealthcare/snow-owl/pull/535", "timeline": [{"oid": "b112cbbff02bdbbb1c863e5fa685e0ebe1f323d7", "url": "https://github.com/b2ihealthcare/snow-owl/commit/b112cbbff02bdbbb1c863e5fa685e0ebe1f323d7", "message": "[core] remove duplicate ExportResult object\n\nUse Attachment instead.", "committedDate": "2020-04-15T16:01:36Z", "type": "commit"}, {"oid": "b9ebc7fa443fef70706b086243dfeb6df969fb3e", "url": "https://github.com/b2ihealthcare/snow-owl/commit/b9ebc7fa443fef70706b086243dfeb6df969fb3e", "message": "[tests] add syserr calls to trace RF2 export test failures...\n\n...on Travis and Github Actions", "committedDate": "2020-04-15T17:45:36Z", "type": "commit"}, {"oid": "13ffcc6b5667af31b93eb580d998e6702026f8b9", "url": "https://github.com/b2ihealthcare/snow-owl/commit/13ffcc6b5667af31b93eb580d998e6702026f8b9", "message": "[export] trigger another build by adding more systrace", "committedDate": "2020-04-15T18:38:34Z", "type": "commit"}, {"oid": "5fda9a065fb2d94f34dd30703cef6443c075e46e", "url": "https://github.com/b2ihealthcare/snow-owl/commit/5fda9a065fb2d94f34dd30703cef6443c075e46e", "message": "[tests] add assertions to verify that RF2 package does exist...\n\n...before verifying its contents", "committedDate": "2020-04-15T18:43:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0Mzg2NQ==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#discussion_r417843865", "bodyText": "\ud83d\udccc Diagnostic output should be removed once we find the issue", "author": "apeteri", "createdAt": "2020-04-30T08:30:32Z", "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/rf2/SnomedRf2ExportRequest.java", "diffHunk": "@@ -971,6 +971,7 @@ private void registerResult(final AttachmentRegistry fileRegistry, final UUID ex\n \t}\n \n \tprivate static long getCutoffBaseTimestamp(final RepositoryContext context, final Branch cutoffBranch, final String versionParentPath) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getCutoffBaseTimestamp(): branch[\" + cutoffBranch.path() + \"], branchParentPath: [\" + cutoffBranch.parentPath() +  \"], versionParentPath: [\" + versionParentPath + \"]\");", "originalCommit": "5fda9a065fb2d94f34dd30703cef6443c075e46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0MzkzMQ==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#discussion_r417843931", "bodyText": "\ud83d\udccc Diagnostic output should be removed once we find the issue", "author": "apeteri", "createdAt": "2020-04-30T08:30:39Z", "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/rf2/SnomedRf2ExportRequest.java", "diffHunk": "@@ -993,13 +994,15 @@ private static long getCutoffBaseTimestamp(final RepositoryContext context, fina\n \t}\n \n \tprivate static Branch getBranch(final RepositoryContext context, final String path) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getBranch(): \" + path);", "originalCommit": "5fda9a065fb2d94f34dd30703cef6443c075e46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0Mzk5Ng==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#discussion_r417843996", "bodyText": "\ud83d\udccc Diagnostic output should be removed once we find the issue", "author": "apeteri", "createdAt": "2020-04-30T08:30:46Z", "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/rf2/SnomedRf2ExportRequest.java", "diffHunk": "@@ -993,13 +994,15 @@ private static long getCutoffBaseTimestamp(final RepositoryContext context, fina\n \t}\n \n \tprivate static Branch getBranch(final RepositoryContext context, final String path) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getBranch(): \" + path);\n \t\treturn RepositoryRequests.branching()\n \t\t\t\t.prepareGet(path)\n \t\t\t\t.build()\n \t\t\t\t.execute(context);\n \t}\n \n \tprivate static Branches getBranches(final RepositoryContext context, final String parent, final Collection<String> paths) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getBranches(): \" + parent + \", paths: \" + paths + \"\");", "originalCommit": "5fda9a065fb2d94f34dd30703cef6443c075e46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "12c3557406fe68ba95dfbbbd675bd441eb9dce7c", "url": "https://github.com/b2ihealthcare/snow-owl/commit/12c3557406fe68ba95dfbbbd675bd441eb9dce7c", "message": "[core] fix spurious javadoc", "committedDate": "2020-04-30T08:51:16Z", "type": "commit"}]}