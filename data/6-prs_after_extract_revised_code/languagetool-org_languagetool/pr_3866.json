{"pr_number": 3866, "pr_title": "slightly reduce PatternToken size by using bytes instead of ints in f\u2026", "pr_createdAt": "2020-11-16T10:56:29Z", "pr_url": "https://github.com/languagetool-org/languagetool/pull/3866", "timeline": [{"oid": "46c726849c94a05ac8ab093f63b106f54f338dde", "url": "https://github.com/languagetool-org/languagetool/commit/46c726849c94a05ac8ab093f63b106f54f338dde", "message": "slightly reduce PatternToken size by using bytes instead of ints in fields", "committedDate": "2020-11-16T10:55:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA==", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524124008", "bodyText": "This may be rare, but it should be possible to have a min occurrence of e.g. 2.", "author": "danielnaber", "createdAt": "2020-11-16T11:00:36Z", "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "diffHunk": "@@ -434,7 +434,7 @@ public int getSkipNext() {\n    * The minimum number of times the element needs to occur.\n    */\n   public int getMinOccurrence() {\n-    return minOccurrence;\n+    return mayBeOmitted ? 0 : 1;", "originalCommit": "46c726849c94a05ac8ab093f63b106f54f338dde", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE1ODk4Nw==", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524158987", "bodyText": "setMinOccurrence forbids it now", "author": "donnerpeter", "createdAt": "2020-11-16T11:32:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE4NTM1OQ==", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524185359", "bodyText": "Yes, but should we do so? There's min=\"x\" in the XML and I think this should allow values > 1, even if this is rare.", "author": "danielnaber", "createdAt": "2020-11-16T11:56:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE5OTU4Mw==", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524199583", "bodyText": "I don't know, I only took existing contracts and optimized based on them :)\nI think, in the unlikely case where min=\"2\" is really-really needed, it can be simulated by creating two similar <token> tags.", "author": "donnerpeter", "createdAt": "2020-11-16T12:10:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIxNzIyNg==", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524217226", "bodyText": "Ah sorry, I missed the fact that the restriction to 0 or 1 existed forever...", "author": "danielnaber", "createdAt": "2020-11-16T12:27:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}], "type": "inlineReview", "revised_code": null}]}