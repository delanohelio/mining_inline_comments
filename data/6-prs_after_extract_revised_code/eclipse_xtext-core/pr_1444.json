{"pr_number": 1444, "pr_title": "[#1443] Fix XtextFormatter behaviour on different line endings.", "pr_createdAt": "2020-04-13T10:24:39Z", "pr_url": "https://github.com/eclipse/xtext-core/pull/1444", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU1MzQ3Mg==", "url": "https://github.com/eclipse/xtext-core/pull/1444#discussion_r415553472", "bodyText": "I'd rather like to fix the caller of the constructor.", "author": "szarnekow", "createdAt": "2020-04-27T06:48:26Z", "path": "org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfigBasedStream.java", "diffHunk": "@@ -269,7 +269,9 @@ public LineEntry(EObject grammarElement, String value, boolean isHidden, Set<Ele\n \t\t\tthis.isHidden = isHidden;\n \t\t\tthis.leadingLocators = beforeLocators;\n \t\t\tthis.indent = indent;\n-\t\t\tthis.leadingWS = leadingWS;\n+\t\t\tif (leadingWS != null) {", "originalCommit": "b8c885cf509f80295fd803b5e85cd51f5bcc6d84", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU4MjUxNA==", "url": "https://github.com/eclipse/xtext-core/pull/1444#discussion_r415582514", "bodyText": "Done", "author": "miklossy", "createdAt": "2020-04-27T07:40:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU1MzQ3Mg=="}], "type": "inlineReview", "revised_code": {"commit": "944cff8601edc69df29178672627c923c27d3789", "chunk": "diff --git a/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfigBasedStream.java b/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfigBasedStream.java\nindex 75fbdb4b8..72d554c63 100644\n--- a/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfigBasedStream.java\n+++ b/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfigBasedStream.java\n\n@@ -269,9 +269,7 @@ public class FormattingConfigBasedStream extends BaseTokenStream {\n \t\t\tthis.isHidden = isHidden;\n \t\t\tthis.leadingLocators = beforeLocators;\n \t\t\tthis.indent = indent;\n-\t\t\tif (leadingWS != null) {\n-\t\t\t\tthis.leadingWS = leadingWS.replaceAll(\"\\r?\\n\", getLineSeparator());\n-\t\t\t}\n+\t\t\tthis.leadingWS = leadingWS;\n \t\t\tthis.hiddenTokenDefinition = hiddenTokenDefition;\n \t\t}\n \n"}}, {"oid": "944cff8601edc69df29178672627c923c27d3789", "url": "https://github.com/eclipse/xtext-core/commit/944cff8601edc69df29178672627c923c27d3789", "message": "[#1443] Fix XtextFormatter behaviour on different line endings.\n\n- Modify the FormattingConfigBasedStream to handle the different line\nendings properly.\n- Implement corresponding XtextFormatterTest and\nGrammarAccessExtensionsTest test cases.\n\nSigned-off-by: Tamas Miklossy <miklossy@itemis.de>", "committedDate": "2020-04-27T07:38:35Z", "type": "forcePushed"}, {"oid": "e932e42d484100c6be18f826e1c1b0363c0734f5", "url": "https://github.com/eclipse/xtext-core/commit/e932e42d484100c6be18f826e1c1b0363c0734f5", "message": "[#1443] Fix XtextFormatter behaviour on different line endings.\n\n- Modify the FormattingConfigBasedStream to handle the different line\nendings properly.\n- Implement corresponding XtextFormatterTest and\nGrammarAccessExtensions2Test test cases.\n\nSigned-off-by: Tamas Miklossy <miklossy@itemis.de>", "committedDate": "2020-05-12T19:36:55Z", "type": "commit"}, {"oid": "e932e42d484100c6be18f826e1c1b0363c0734f5", "url": "https://github.com/eclipse/xtext-core/commit/e932e42d484100c6be18f826e1c1b0363c0734f5", "message": "[#1443] Fix XtextFormatter behaviour on different line endings.\n\n- Modify the FormattingConfigBasedStream to handle the different line\nendings properly.\n- Implement corresponding XtextFormatterTest and\nGrammarAccessExtensions2Test test cases.\n\nSigned-off-by: Tamas Miklossy <miklossy@itemis.de>", "committedDate": "2020-05-12T19:36:55Z", "type": "forcePushed"}]}