{"pr_number": 410, "pr_title": "Merge IVParameterSpec into IvParameterSpec", "pr_createdAt": "2020-02-24T20:02:17Z", "pr_url": "https://github.com/dogtagpki/jss/pull/410", "timeline": [{"oid": "67c5bee8507af7fc1da9b503410efdae176f5a16", "url": "https://github.com/dogtagpki/jss/commit/67c5bee8507af7fc1da9b503410efdae176f5a16", "message": "Merge IVParameterSpec into IvParameterSpec\n\nIVParameterSpec likely predates IvParameterSpec. As a result, we've had\nto introduce various hacks over the years to support both, even though\ntheir implementations and interfaces are nearly identical.\n\nMake IVParameterSpec extend IvParameterSpec, so we can start dropping\nsome of these hacks.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-02-24T19:31:58Z", "type": "commit"}, {"oid": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "url": "https://github.com/dogtagpki/jss/commit/5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-02-24T22:09:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0ODAzMQ==", "url": "https://github.com/dogtagpki/jss/pull/410#discussion_r383548031", "bodyText": "This case is actually covered by the subsequent loop. It's up to you if you want to remove it.", "author": "edewata", "createdAt": "2020-02-24T22:17:52Z", "path": "org/mozilla/jss/crypto/Algorithm.java", "diffHunk": "@@ -112,18 +112,31 @@ public OBJECT_IDENTIFIER toOID() throws NoSuchAlgorithmException {\n      * @return Returns <code>true</code> if the given Object can be used as a parameter.\n      */\n     public boolean isValidParameterObject(Object o) {\n-        if( o == null ) {\n+        if (o == null) {\n+            // It is only valid to pass a null parameter if the length of the\n+            // expected class list is zero. Otherwise, the usage is invalid.\n             return (parameterClasses.length == 0);\n         }\n-        if( parameterClasses.length == 0 ){\n+\n+        if (parameterClasses.length == 0) {\n+            // If we got an object parameter, but weren't expecting any, it\n+            // is invalid.\n             return false;\n         }", "originalCommit": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "65002ceb3106c8d50e1a7971eb560ccad083fdc5", "chunk": "diff --git a/org/mozilla/jss/crypto/Algorithm.java b/org/mozilla/jss/crypto/Algorithm.java\nindex 899e994b..d818aa06 100644\n--- a/org/mozilla/jss/crypto/Algorithm.java\n+++ b/org/mozilla/jss/crypto/Algorithm.java\n\n@@ -118,12 +118,6 @@ public class Algorithm {\n             return (parameterClasses.length == 0);\n         }\n \n-        if (parameterClasses.length == 0) {\n-            // If we got an object parameter, but weren't expecting any, it\n-            // is invalid.\n-            return false;\n-        }\n-\n         // For the remaining instances, if the object's class is a subclass\n         // of the specified parameter class, allow it. This allows the\n         // construct:\n"}}, {"oid": "65002ceb3106c8d50e1a7971eb560ccad083fdc5", "url": "https://github.com/dogtagpki/jss/commit/65002ceb3106c8d50e1a7971eb560ccad083fdc5", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-02-24T23:00:16Z", "type": "forcePushed"}, {"oid": "aadd2c5dd6343934e99b53d61ef8ab4212b431de", "url": "https://github.com/dogtagpki/jss/commit/aadd2c5dd6343934e99b53d61ef8ab4212b431de", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of org.mozilla.jss.crypto.IVParameterSpec into\nsimplified code paths only caring about the preferred class,\njavax.crypto.spec.IvParameterSpec.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-02-24T23:02:53Z", "type": "commit"}, {"oid": "aadd2c5dd6343934e99b53d61ef8ab4212b431de", "url": "https://github.com/dogtagpki/jss/commit/aadd2c5dd6343934e99b53d61ef8ab4212b431de", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of org.mozilla.jss.crypto.IVParameterSpec into\nsimplified code paths only caring about the preferred class,\njavax.crypto.spec.IvParameterSpec.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-02-24T23:02:53Z", "type": "forcePushed"}]}