{"pr_number": 4452, "pr_title": "DHFPROD-5182: Transform match steps to new model", "pr_createdAt": "2020-08-20T13:21:33Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4452", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAyMjg2NQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4452#discussion_r474022865", "bodyText": "Can you toss this into the com.marklogic.hub.impl package? I think there was an intent for com.marklogic.hub to define public APIs that would be well-documented for use, but I don't think that has materialized. Because we're not making that a priority, I want to avoid the perception of creating public APIs, and I think we can thus \"hide\" stuff in the impl package to avoid this.", "author": "rjrudin", "createdAt": "2020-08-20T14:24:11Z", "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/StepManager.java", "diffHunk": "@@ -0,0 +1,81 @@\n+package com.marklogic.hub;", "originalCommit": "9a00a55250b009a24e51bd33a1b3e3809dd32469", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA0ODMxMQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4452#discussion_r474048311", "bodyText": "done", "author": "fsnow", "createdAt": "2020-08-20T14:57:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAyMjg2NQ=="}], "type": "inlineReview", "revised_code": {"commit": "dba12c95943f1037befc6862a4ed4e8c6e68aff0", "chunk": "diff --git a/marklogic-data-hub/src/main/java/com/marklogic/hub/StepManager.java b/marklogic-data-hub/src/main/java/com/marklogic/hub/impl/StepManager.java\nsimilarity index 97%\nrename from marklogic-data-hub/src/main/java/com/marklogic/hub/StepManager.java\nrename to marklogic-data-hub/src/main/java/com/marklogic/hub/impl/StepManager.java\nindex fb5e624e8..cdcb1f827 100644\n--- a/marklogic-data-hub/src/main/java/com/marklogic/hub/StepManager.java\n+++ b/marklogic-data-hub/src/main/java/com/marklogic/hub/impl/StepManager.java\n\n@@ -1,9 +1,10 @@\n-package com.marklogic.hub;\n+package com.marklogic.hub.impl;\n \n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.databind.ObjectWriter;\n import com.fasterxml.jackson.databind.node.ObjectNode;\n import com.marklogic.client.ext.helper.LoggingObject;\n+import com.marklogic.hub.HubConfig;\n import com.marklogic.hub.error.DataHubProjectException;\n import com.marklogic.hub.impl.FlowManagerImpl;\n import com.marklogic.hub.impl.MappingManagerImpl;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAyMzg1MQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4452#discussion_r474023851", "bodyText": "There's an objectMapper already on each instance of AbstractHubCoreTest (inherited from TestObject).", "author": "rjrudin", "createdAt": "2020-08-20T14:25:27Z", "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/conversion/AllStepsReferencedTest.java", "diffHunk": "@@ -12,17 +11,16 @@\n import org.junit.jupiter.api.BeforeEach;\n import org.junit.jupiter.api.Test;\n import org.springframework.beans.factory.annotation.Autowired;\n-\n import java.io.File;\n import java.nio.file.Path;\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Iterator;\n+import java.util.*;\n \n import static org.junit.jupiter.api.Assertions.*;\n \n class AllStepsReferencedTest extends AbstractHubCoreTest {\n \n+    ObjectMapper mapper = new ObjectMapper();", "originalCommit": "9a00a55250b009a24e51bd33a1b3e3809dd32469", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA0ODEzMQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4452#discussion_r474048131", "bodyText": "ok, it wasn't used so I removed it.", "author": "fsnow", "createdAt": "2020-08-20T14:57:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAyMzg1MQ=="}], "type": "inlineReview", "revised_code": {"commit": "dba12c95943f1037befc6862a4ed4e8c6e68aff0", "chunk": "diff --git a/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/conversion/AllStepsReferencedTest.java b/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/conversion/AllStepsReferencedTest.java\nindex 0e0731eb4..f7fff85d0 100644\n--- a/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/conversion/AllStepsReferencedTest.java\n+++ b/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/conversion/AllStepsReferencedTest.java\n\n@@ -19,8 +18,6 @@ import static org.junit.jupiter.api.Assertions.*;\n \n class AllStepsReferencedTest extends AbstractHubCoreTest {\n \n-    ObjectMapper mapper = new ObjectMapper();\n-\n     @Autowired\n     FlowRunner flowRunner;\n \n"}}, {"oid": "dba12c95943f1037befc6862a4ed4e8c6e68aff0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/dba12c95943f1037befc6862a4ed4e8c6e68aff0", "message": "DHFPROD-5182: Transform match steps to new model", "committedDate": "2020-08-20T22:50:57Z", "type": "commit"}]}