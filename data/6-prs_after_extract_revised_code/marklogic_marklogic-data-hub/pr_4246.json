{"pr_number": 4246, "pr_title": "DHFPROD-5476: Download Configuration Files is not working in Windows machine", "pr_createdAt": "2020-07-20T19:29:02Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4246", "timeline": [{"oid": "56db1f5320987fd9c1d1ca0648addbd403f6414f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/56db1f5320987fd9c1d1ca0648addbd403f6414f", "message": "DHFPROD-5476: Download Configuration Files is not working in Windows machine", "committedDate": "2020-07-20T21:07:04Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY5MzAwNg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4246#discussion_r457693006", "bodyText": "Can you add one more assertion to this - iterate over the paths of all zip entries and verify that none of them start with a \"/\". That way, if/when we add another path in the future, we'll have a safeguard in place to ensure that it doesn't start with \"/\".", "author": "rjrudin", "createdAt": "2020-07-20T21:09:04Z", "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/AllArtifactsProject.java", "diffHunk": "@@ -45,35 +45,37 @@ public void writeProjectArtifactsToZipFile() {\n         }\n     }\n \n+    // The path for the artifacts should not start \"/\" as it will not be picked up by Windows Winzip tool.", "originalCommit": "56db1f5320987fd9c1d1ca0648addbd403f6414f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c59ce8ff7c7e903e7599f303412f500232cdb8b9", "chunk": "diff --git a/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/AllArtifactsProject.java b/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/AllArtifactsProject.java\nindex f604a402e..be668dd10 100644\n--- a/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/AllArtifactsProject.java\n+++ b/marklogic-data-hub/src/test/java/com/marklogic/hub/hubcentral/AllArtifactsProject.java\n\n@@ -55,6 +55,9 @@ public class AllArtifactsProject extends TestObject {\n         verifyEntryExists(\"steps/mapping/OrderMappingJson.step.json\", \"OrderMappingJson\");\n         verifyEntryExists(\"steps/ingestion/validArtifact.step.json\", \"validArtifact\");\n \n+        // Verify path doesn't start with \"/\"\n+        verifyArtifactPathsDontStartWithSlash();\n+\n         assertEquals(\"Order\", zipEntries.get(\"entities/Order.entity.json\").get(\"info\").get(\"title\").asText());\n \n         // Verify PII stuff\n"}}, {"oid": "c59ce8ff7c7e903e7599f303412f500232cdb8b9", "url": "https://github.com/marklogic/marklogic-data-hub/commit/c59ce8ff7c7e903e7599f303412f500232cdb8b9", "message": "DHFPROD-5476: Download Configuration Files is not working in Windows machine", "committedDate": "2020-07-20T21:32:44Z", "type": "forcePushed"}, {"oid": "41c0ef92d212490457fb1e51e672536553e744cb", "url": "https://github.com/marklogic/marklogic-data-hub/commit/41c0ef92d212490457fb1e51e672536553e744cb", "message": "DHFPROD-5476: Download Configuration Files is not working in Windows machine", "committedDate": "2020-07-20T21:34:57Z", "type": "commit"}, {"oid": "41c0ef92d212490457fb1e51e672536553e744cb", "url": "https://github.com/marklogic/marklogic-data-hub/commit/41c0ef92d212490457fb1e51e672536553e744cb", "message": "DHFPROD-5476: Download Configuration Files is not working in Windows machine", "committedDate": "2020-07-20T21:34:57Z", "type": "forcePushed"}]}