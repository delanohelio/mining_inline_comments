{"pr_number": 159, "pr_title": "FLEX-5197 ~ Reboots OSLP SSLD after configuration is set.", "pr_createdAt": "2020-02-12T11:48:25Z", "pr_url": "https://github.com/OSGP/open-smart-grid-platform/pull/159", "timeline": [{"oid": "fd320b687f559708525eb9c0d95798503fac237b", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/fd320b687f559708525eb9c0d95798503fac237b", "message": "FLEX-5197 ~ Reboots OSLP SSLD after configuration is set.", "committedDate": "2020-02-12T11:47:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODIwNzQ5OA==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/159#discussion_r378207498", "bodyText": "Immediately return this expression instead of assigning it to the temporary variable \"deviceResponseHandler\".", "author": "jenkins-ip-10-4-24-184", "createdAt": "2020-02-12T11:58:54Z", "path": "osgp/protocol-adapter-oslp/osgp-adapter-protocol-oslp-elster/src/main/java/org/opensmartgridplatform/adapter/protocol/oslp/elster/infra/messaging/processors/CommonRebootRequestMessageProcessor.java", "diffHunk": "@@ -77,6 +77,22 @@ public void processSignedOslpEnvelope(final String deviceIdentification,\n         final int retryCount = unsignedOslpEnvelopeDto.getRetryCount();\n         final boolean isScheduled = unsignedOslpEnvelopeDto.isScheduled();\n \n+        final DeviceResponseHandler deviceResponseHandler = this.createSetRebootDeviceResponseHandler(domain,\n+                domainVersion, messageType, retryCount, isScheduled);\n+\n+        final DeviceRequest deviceRequest = new DeviceRequest(organisationIdentification, deviceIdentification,\n+                correlationUid, messagePriority);\n+\n+        try {\n+            this.deviceService.doSetReboot(oslpEnvelope, deviceRequest, deviceResponseHandler, ipAddress);\n+        } catch (final IOException e) {\n+            this.handleError(e, correlationUid, organisationIdentification, deviceIdentification, domain, domainVersion,\n+                    messageType, messagePriority, retryCount);\n+        }\n+    }\n+\n+    protected DeviceResponseHandler createSetRebootDeviceResponseHandler(final String domain,\n+            final String domainVersion, final String messageType, final int retryCount, final boolean isScheduled) {\n         final DeviceResponseHandler deviceResponseHandler = new DeviceResponseHandler() {", "originalCommit": "fd320b687f559708525eb9c0d95798503fac237b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDE1OTk1NQ==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/159#discussion_r380159955", "bodyText": "I agree with Jenkins", "author": "robindenadel", "createdAt": "2020-02-17T12:42:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODIwNzQ5OA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "e1dc2804bd09a4d46a2d3d5b5bdb2ebe320ff330", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/e1dc2804bd09a4d46a2d3d5b5bdb2ebe320ff330", "message": "FLEX-5197 ~ Updates SetConfiguration feature to include reboot steps.", "committedDate": "2020-02-12T12:37:49Z", "type": "commit"}, {"oid": "ae1db174b9ccbe7c58b93ec1590a6f6af5104e11", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/ae1db174b9ccbe7c58b93ec1590a6f6af5104e11", "message": "FLEX-5197 ~ Adds logging to OSLP mock server.", "committedDate": "2020-02-14T17:17:21Z", "type": "commit"}]}