{"pr_number": 5971, "pr_title": "Added import classes for accounting import purpose ", "pr_createdAt": "2020-10-14T09:56:46Z", "pr_url": "https://github.com/axelor/axelor-open-suite/pull/5971", "timeline": [{"oid": "0bfe6fab2a3e47407b08b80f76e9a65c92b7b6ad", "url": "https://github.com/axelor/axelor-open-suite/commit/0bfe6fab2a3e47407b08b80f76e9a65c92b7b6ad", "message": "Add import classes for demo data", "committedDate": "2020-10-14T09:31:32Z", "type": "commit"}, {"oid": "e4b571788aeadd50888392ba70b2e706b3f2570e", "url": "https://github.com/axelor/axelor-open-suite/commit/e4b571788aeadd50888392ba70b2e706b3f2570e", "message": "Work on import classes", "committedDate": "2020-10-14T09:47:54Z", "type": "commit"}, {"oid": "c3ecdf15a8a93082b4df5afe7d6605887907d2d3", "url": "https://github.com/axelor/axelor-open-suite/commit/c3ecdf15a8a93082b4df5afe7d6605887907d2d3", "message": "Replaced all status int values by Repository values", "committedDate": "2020-10-14T09:52:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjE2NzcxNg==", "url": "https://github.com/axelor/axelor-open-suite/pull/5971#discussion_r506167716", "bodyText": "use tracebackservice.trace here", "author": "ale-axelor", "createdAt": "2020-10-16T08:28:27Z", "path": "axelor-account/src/main/java/com/axelor/csv/script/ImportMove.java", "diffHunk": "@@ -148,4 +150,21 @@ private Company getCompany(Map<String, Object> values) {\n       return Beans.get(CompanyRepository.class).all().fetchOne();\n     }\n   }\n+\n+  @Transactional(rollbackOn = Exception.class)\n+  public Object validateMove(Object bean, Map<String, Object> values) throws AxelorException {\n+    assert bean instanceof Move;\n+    Move move = (Move) bean;\n+    try {\n+      if (move.getStatusSelect() == MoveRepository.STATUS_DAYBOOK\n+          || move.getStatusSelect() == MoveRepository.STATUS_VALIDATED) {\n+        moveValidateService.validate(move);\n+      }\n+    } catch (Exception e) {\n+      e.printStackTrace();", "originalCommit": "c3ecdf15a8a93082b4df5afe7d6605887907d2d3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "de9fb844cf3fb17c86366826eb703de581b9964d", "chunk": "diff --git a/axelor-account/src/main/java/com/axelor/csv/script/ImportMove.java b/axelor-account/src/main/java/com/axelor/csv/script/ImportMove.java\nindex d7e92b0d1c..e3f6049670 100644\n--- a/axelor-account/src/main/java/com/axelor/csv/script/ImportMove.java\n+++ b/axelor-account/src/main/java/com/axelor/csv/script/ImportMove.java\n\n@@ -161,7 +161,7 @@ public class ImportMove {\n         moveValidateService.validate(move);\n       }\n     } catch (Exception e) {\n-      e.printStackTrace();\n+      TraceBackService.trace(e);\n       move.setStatusSelect(MoveRepository.STATUS_NEW);\n     }\n     moveRepository.save(move);\n"}}, {"oid": "d5a9f8170d07470d0a4223da7544b70f87f1d9aa", "url": "https://github.com/axelor/axelor-open-suite/commit/d5a9f8170d07470d0a4223da7544b70f87f1d9aa", "message": "Merge branch 'dev' of github.com:axelor/axelor-open-suite into dev-importDemo", "committedDate": "2020-10-19T09:31:57Z", "type": "commit"}, {"oid": "de9fb844cf3fb17c86366826eb703de581b9964d", "url": "https://github.com/axelor/axelor-open-suite/commit/de9fb844cf3fb17c86366826eb703de581b9964d", "message": "Changed e.printStackTrace to TraceBackService.trace()", "committedDate": "2020-10-19T09:35:55Z", "type": "commit"}]}