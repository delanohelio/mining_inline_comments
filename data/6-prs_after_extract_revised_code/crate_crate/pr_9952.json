{"pr_number": 9952, "pr_title": "Merge CrateCircuitBreakerService into HierarchyCircuitBreakerService", "pr_createdAt": "2020-05-14T13:03:15Z", "pr_url": "https://github.com/crate/crate/pull/9952", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEyOTUxMQ==", "url": "https://github.com/crate/crate/pull/9952#discussion_r425129511", "bodyText": "nitpick: can we rename that to e.g. setBreakerLimit or setLimitOfBreaker ?", "author": "seut", "createdAt": "2020-05-14T13:19:25Z", "path": "server/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java", "diffHunk": "@@ -201,6 +270,18 @@ public static void validateSettings(BreakerSettings[] childrenSettings) throws I\n         }\n     }\n \n+    private void setQueryBreakerLimit(BreakerSettings oldSettings,", "originalCommit": "bea5aa30533d9618a0e80b4595576d3aba57a5da", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "69b6d53fc40d61b4acde7a015f68061271a17df0", "chunk": "diff --git a/server/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java b/server/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java\nindex ee1cdceb5e..e90688e2a5 100644\n--- a/server/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java\n+++ b/server/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java\n\n@@ -270,10 +270,10 @@ public class HierarchyCircuitBreakerService extends CircuitBreakerService {\n         }\n     }\n \n-    private void setQueryBreakerLimit(BreakerSettings oldSettings,\n-                                      String breakerName,\n-                                      Consumer<BreakerSettings> settingsConsumer,\n-                                      ByteSizeValue newLimit, Double newOverhead) {\n+    private void setBreakerLimit(BreakerSettings oldSettings,\n+                                 String breakerName,\n+                                 Consumer<BreakerSettings> settingsConsumer,\n+                                 ByteSizeValue newLimit, Double newOverhead) {\n         long newLimitBytes = newLimit == null ? oldSettings.getLimit() : newLimit.getBytes();\n         newOverhead = newOverhead == null ? oldSettings.getOverhead() : newOverhead;\n         BreakerSettings newSettings = new BreakerSettings(breakerName, newLimitBytes, newOverhead, oldSettings.getType());\n"}}, {"oid": "69b6d53fc40d61b4acde7a015f68061271a17df0", "url": "https://github.com/crate/crate/commit/69b6d53fc40d61b4acde7a015f68061271a17df0", "message": "Merge CrateCircuitBreakerService into HierarchyCircuitBreakerService", "committedDate": "2020-05-14T14:09:33Z", "type": "commit"}, {"oid": "69b6d53fc40d61b4acde7a015f68061271a17df0", "url": "https://github.com/crate/crate/commit/69b6d53fc40d61b4acde7a015f68061271a17df0", "message": "Merge CrateCircuitBreakerService into HierarchyCircuitBreakerService", "committedDate": "2020-05-14T14:09:33Z", "type": "forcePushed"}, {"oid": "4f5c0e9e32d83c0a8c7769cd5b30cd449281c060", "url": "https://github.com/crate/crate/commit/4f5c0e9e32d83c0a8c7769cd5b30cd449281c060", "message": "Merge branch 'master' into j/circuit-breaker-service", "committedDate": "2020-05-14T14:53:38Z", "type": "commit"}]}