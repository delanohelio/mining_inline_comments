{"pr_number": 3284, "pr_title": "bugfix: NPE when generating TripPatterns in TripPatternCache", "pr_createdAt": "2020-12-08T14:55:18Z", "pr_url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3284", "timeline": [{"oid": "c97f4b6dc690526c744ddba84403d744e415e981", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/c97f4b6dc690526c744ddba84403d744e415e981", "message": "bugfix: NPE when generating TripPatterns in TripPatternCache", "committedDate": "2020-12-08T14:44:14Z", "type": "commit"}, {"oid": "00af819b055a048030b53d75a1829a366295aaef", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/00af819b055a048030b53d75a1829a366295aaef", "message": "Add changelog item", "committedDate": "2020-12-08T14:59:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODUwNTQxNQ==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3284#discussion_r538505415", "bodyText": "Method name does not reflect the new parameter type", "author": "gmellemstrand", "createdAt": "2020-12-08T15:34:17Z", "path": "src/ext/java/org/opentripplanner/ext/transmodelapi/model/timetable/ServiceJourneyType.java", "diffHunk": "@@ -210,11 +210,7 @@ private static Trip trip(DataFetchingEnvironment environment) {\n     return environment.getSource();\n   }\n \n-  private static int directIdStringToInt(String directionId) {\n-    try {\n-      return Integer.parseInt(directionId);\n-    } catch (NumberFormatException nfe) {\n-      return -1;\n-    }\n+  private static int directIdStringToInt(Integer directionId) {", "originalCommit": "00af819b055a048030b53d75a1829a366295aaef", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "836e85432e05cfdd4be7e5dafeb2926fdbc0fcee", "chunk": "diff --git a/src/ext/java/org/opentripplanner/ext/transmodelapi/model/timetable/ServiceJourneyType.java b/src/ext/java/org/opentripplanner/ext/transmodelapi/model/timetable/ServiceJourneyType.java\nindex 96b4f20bf..0b0a316d0 100644\n--- a/src/ext/java/org/opentripplanner/ext/transmodelapi/model/timetable/ServiceJourneyType.java\n+++ b/src/ext/java/org/opentripplanner/ext/transmodelapi/model/timetable/ServiceJourneyType.java\n\n@@ -210,7 +209,7 @@ public class ServiceJourneyType {\n     return environment.getSource();\n   }\n \n-  private static int directIdStringToInt(Integer directionId) {\n+  private static int directionIdToInt(Integer directionId) {\n     return directionId == null ? -1 : directionId;\n   }\n }\n"}}, {"oid": "a33100ecf1821238f924073a8ca91fa69f222348", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/a33100ecf1821238f924073a8ca91fa69f222348", "message": "Merge branch 'dev-2.x' into otp2_npe_trippatterncache", "committedDate": "2020-12-15T08:54:15Z", "type": "commit"}, {"oid": "836e85432e05cfdd4be7e5dafeb2926fdbc0fcee", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/836e85432e05cfdd4be7e5dafeb2926fdbc0fcee", "message": "review: Rename method for mapping directionId to Netex directionType (via int)", "committedDate": "2020-12-15T10:37:15Z", "type": "commit"}, {"oid": "238dcafc49dcc1a07e70e8a7db2dfb46b3805dbf", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/238dcafc49dcc1a07e70e8a7db2dfb46b3805dbf", "message": "Merge branch 'dev-2.x' into otp2_npe_trippatterncache", "committedDate": "2020-12-15T10:38:33Z", "type": "commit"}]}