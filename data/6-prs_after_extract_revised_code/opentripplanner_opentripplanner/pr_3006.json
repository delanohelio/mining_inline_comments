{"pr_number": 3006, "pr_title": "Add back the 'otp/routers' REST endpoint to be backward compatible with OTP1.", "pr_createdAt": "2020-03-16T18:01:03Z", "pr_url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3006", "timeline": [{"oid": "b768297427b1b5b305d402a46dcd15e0bd3ab970", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/b768297427b1b5b305d402a46dcd15e0bd3ab970", "message": "Add back the 'otp/routers' REST endpoint to be backward compatible and serve meta-info about the single OTP2 router, the \"default\" router.", "committedDate": "2020-03-16T14:00:31Z", "type": "commit"}, {"oid": "921a67a400069a052a4cddf999af69c83c1eec54", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/921a67a400069a052a4cddf999af69c83c1eec54", "message": "Fix URL", "committedDate": "2020-03-17T09:50:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU1NzM5Mw==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3006#discussion_r393557393", "bodyText": "URL prefix is different now.", "author": "abyrd", "createdAt": "2020-03-17T09:50:02Z", "path": "src/main/java/org/opentripplanner/api/resource/Routers.java", "diffHunk": "@@ -0,0 +1,71 @@\n+package org.opentripplanner.api.resource;\n+\n+import org.opentripplanner.api.model.RouterInfo;\n+import org.opentripplanner.api.model.RouterList;\n+import org.opentripplanner.routing.error.GraphNotFoundException;\n+import org.opentripplanner.standalone.server.OTPServer;\n+import org.opentripplanner.standalone.server.Router;\n+\n+import javax.annotation.security.PermitAll;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.Context;\n+import javax.ws.rs.core.MediaType;\n+\n+import static org.opentripplanner.api.resource.ServerInfo.Q;\n+\n+/**\n+ * This REST API endpoint returns some meta-info about a router. OTP2 does no longer support\n+ * remotely loading, reloading, and evicting graphs on a running server (Supported in OTP1).\n+ * <p>\n+ * The HTTP verbs are used as follows:\n+ * <p>\n+ * GET - see the registered routerIds(there is just one: default) with the graph.\n+ * <p>\n+ * The HTTP request URLs are of the form /ws/routers/{routerId}. The {routerId} is kept to be", "originalCommit": "b768297427b1b5b305d402a46dcd15e0bd3ab970", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "921a67a400069a052a4cddf999af69c83c1eec54", "chunk": "diff --git a/src/main/java/org/opentripplanner/api/resource/Routers.java b/src/main/java/org/opentripplanner/api/resource/Routers.java\nindex f4cbc7723..1b6f6e4e5 100644\n--- a/src/main/java/org/opentripplanner/api/resource/Routers.java\n+++ b/src/main/java/org/opentripplanner/api/resource/Routers.java\n\n@@ -24,7 +24,7 @@ import static org.opentripplanner.api.resource.ServerInfo.Q;\n  * <p>\n  * GET - see the registered routerIds(there is just one: default) with the graph.\n  * <p>\n- * The HTTP request URLs are of the form /ws/routers/{routerId}. The {routerId} is kept to be\n+ * The HTTP request URLs are of the form /otp/routers/{routerId}. The {routerId} is kept to be\n  * backward compatible, but the value is ignored. There is only one router, the \"default\" and\n  * that is returned - even if you specify something else.\n  */\n"}}, {"oid": "5b2fd594f6a97b67b4827c54ca1ed6dbe2e07144", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/5b2fd594f6a97b67b4827c54ca1ed6dbe2e07144", "message": "Merge branch 'dev-2.x' into otp2_add_back_routers_REST_API_endpoint", "committedDate": "2020-03-17T10:37:42Z", "type": "commit"}]}