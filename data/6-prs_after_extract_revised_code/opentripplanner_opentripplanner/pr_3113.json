{"pr_number": 3113, "pr_title": "Fix dayRange error and add javadoc", "pr_createdAt": "2020-06-23T11:09:22Z", "pr_url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3113", "timeline": [{"oid": "3fb34e2b57e7092003482def64ec9213cd871b80", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/3fb34e2b57e7092003482def64ec9213cd871b80", "message": "Fix dayRange error and add javadoc", "committedDate": "2020-06-19T14:59:19Z", "type": "commit"}, {"oid": "b4bb046a1cefeff4e6e4f265e3b6541a22627735", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/b4bb046a1cefeff4e6e4f265e3b6541a22627735", "message": "Merge branch 'dev-2.x' into otp2_daterange_fix", "committedDate": "2020-07-22T07:59:41Z", "type": "commit"}, {"oid": "43be8bfc4ce85b1180cae521f8fef82ede551495", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/43be8bfc4ce85b1180cae521f8fef82ede551495", "message": "Merge branch 'dev-2.x' into otp2_daterange_fix", "committedDate": "2020-08-18T08:20:41Z", "type": "commit"}, {"oid": "fc4896af71f03e7b8d4d4bb9298d5de5f48e37dd", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/fc4896af71f03e7b8d4d4bb9298d5de5f48e37dd", "message": "Split dayRange constant into past and future days", "committedDate": "2020-08-18T10:58:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg2MTU3Mg==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3113#discussion_r472861572", "bodyText": "The Javadocs and constants are swapped", "author": "hannesj", "createdAt": "2020-08-19T08:39:00Z", "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "diffHunk": "@@ -45,7 +45,22 @@\n public class RoutingWorker {\n     private static final int NOT_SET = -1;\n \n-    private static final int TRANSIT_SEARCH_RANGE_IN_DAYS = 2;\n+    /**\n+     * The numbers of days before the search date to consider when filtering trips for this search.\n+     * This is set to 1 to account for trips starting yesterday and crossing midnight so that they\n+     * can be boarded today. If there are trips that last multiple days, this will need to be\n+     * increased.\n+     */\n+    private static final int ADDITIONAL_SEARCH_DAYS_AFTER_TODAY = 1;\n+\n+    /**\n+     * The number of days after the search date to consider when filtering trips for this search.\n+     * This is set to 1 to account for searches today having a search window that crosses midnight\n+     * and would also need to board trips starting tomorrow. If a search window that lasts more than\n+     * a day is used, this will need to be increased.\n+     */\n+    private static final int ADDITIONAL_SEARCH_DAYS_BEFORE_TODAY = 1;", "originalCommit": "fc4896af71f03e7b8d4d4bb9298d5de5f48e37dd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg2ODE0OQ==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3113#discussion_r472868149", "bodyText": "Thanks. I've fixed it now.", "author": "gmellemstrand", "createdAt": "2020-08-19T08:49:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg2MTU3Mg=="}], "type": "inlineReview", "revised_code": {"commit": "ea76be000b0d3bb791ad511f6cf8bec30b216557", "chunk": "diff --git a/src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java b/src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java\nindex b72016551..013e216cd 100644\n--- a/src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java\n+++ b/src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java\n\n@@ -51,7 +51,7 @@ public class RoutingWorker {\n      * can be boarded today. If there are trips that last multiple days, this will need to be\n      * increased.\n      */\n-    private static final int ADDITIONAL_SEARCH_DAYS_AFTER_TODAY = 1;\n+    private static final int ADDITIONAL_SEARCH_DAYS_BEFORE_TODAY = 1;\n \n     /**\n      * The number of days after the search date to consider when filtering trips for this search.\n"}}, {"oid": "ea76be000b0d3bb791ad511f6cf8bec30b216557", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ea76be000b0d3bb791ad511f6cf8bec30b216557", "message": "Swap javadoc for constants", "committedDate": "2020-08-19T08:47:14Z", "type": "commit"}, {"oid": "ead6b7b8e83b41ae8ee61d98622f669c1e148299", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ead6b7b8e83b41ae8ee61d98622f669c1e148299", "message": "Merge branch 'dev-2.x' into otp2_daterange_fix", "committedDate": "2020-08-19T08:47:58Z", "type": "commit"}]}