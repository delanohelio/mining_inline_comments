{"pr_number": 4013, "pr_title": "[Improvement-4012][common/remote] Json util code integration,remove the remote module json util", "pr_createdAt": "2020-10-30T10:49:18Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/4013", "timeline": [{"oid": "6caa390a7ae77c3261f550f05b932b9bd6e73d16", "url": "https://github.com/apache/dolphinscheduler/commit/6caa390a7ae77c3261f550f05b932b9bd6e73d16", "message": "Json util code integration,remove the remote module json util.", "committedDate": "2020-10-30T09:33:16Z", "type": "commit"}, {"oid": "a4e38f894802e587d99be15601c9f5f94548d3e3", "url": "https://github.com/apache/dolphinscheduler/commit/a4e38f894802e587d99be15601c9f5f94548d3e3", "message": "update code checkstyle.", "committedDate": "2020-10-30T09:44:07Z", "type": "commit"}, {"oid": "ebc3064fac398f8b697743d2aa5d8639693a76b9", "url": "https://github.com/apache/dolphinscheduler/commit/ebc3064fac398f8b697743d2aa5d8639693a76b9", "message": "update code checkstyle.", "committedDate": "2020-10-30T11:44:42Z", "type": "commit"}, {"oid": "05b23ef9592c06d48ee85736619b014c34119604", "url": "https://github.com/apache/dolphinscheduler/commit/05b23ef9592c06d48ee85736619b014c34119604", "message": "add code checkstyle.", "committedDate": "2020-10-30T11:57:58Z", "type": "commit"}, {"oid": "78ca1418f952c0acf70d1f0f21aa6035ae93493d", "url": "https://github.com/apache/dolphinscheduler/commit/78ca1418f952c0acf70d1f0f21aa6035ae93493d", "message": "add test class.", "committedDate": "2020-11-04T12:00:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzMyNDA2OA==", "url": "https://github.com/apache/dolphinscheduler/pull/4013#discussion_r517324068", "bodyText": "Here should be a null operation on obj.", "author": "CalvinKirs", "createdAt": "2020-11-04T12:57:51Z", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/JSONUtils.java", "diffHunk": "@@ -253,6 +268,24 @@ public static String toJsonString(Object object) {\n         }\n     }\n \n+    /**\n+     * serialize to json byte\n+     *\n+     * @param obj object\n+     * @param <T> object type\n+     * @return byte array\n+     */\n+    public static <T> byte[] toJsonByteArray(T obj)  {\n+        String json = \"\";", "originalCommit": "78ca1418f952c0acf70d1f0f21aa6035ae93493d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MDE5OQ==", "url": "https://github.com/apache/dolphinscheduler/pull/4013#discussion_r517790199", "bodyText": "done.", "author": "zhuangchong", "createdAt": "2020-11-05T04:47:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzMyNDA2OA=="}], "type": "inlineReview", "revised_code": {"commit": "366c88e361169eeab74286d8208b903e78f5881e", "chunk": "diff --git a/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/JSONUtils.java b/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/JSONUtils.java\nindex f2c421e9c..02002d271 100644\n--- a/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/JSONUtils.java\n+++ b/dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/JSONUtils.java\n\n@@ -276,6 +276,9 @@ public class JSONUtils {\n      * @return byte array\n      */\n     public static <T> byte[] toJsonByteArray(T obj)  {\n+        if (obj == null) {\n+            return null;\n+        }\n         String json = \"\";\n         try {\n             json = toJsonString(obj);\n"}}, {"oid": "366c88e361169eeab74286d8208b903e78f5881e", "url": "https://github.com/apache/dolphinscheduler/commit/366c88e361169eeab74286d8208b903e78f5881e", "message": "update JSONUtils class.", "committedDate": "2020-11-05T01:46:05Z", "type": "commit"}, {"oid": "0e57d60207dc742c1165e46c6471f53ee18a3755", "url": "https://github.com/apache/dolphinscheduler/commit/0e57d60207dc742c1165e46c6471f53ee18a3755", "message": "update JSONUtils class.", "committedDate": "2020-11-05T04:35:13Z", "type": "commit"}]}