{"pr_number": 3957, "pr_title": "[Fix-#3956][Master] When running a task, the resource file is lost", "pr_createdAt": "2020-10-20T11:27:54Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/3957", "timeline": [{"oid": "d62c98e3ddf83e928d3ff9cedd8a26b2bf6fb2c7", "url": "https://github.com/apache/dolphinscheduler/commit/d62c98e3ddf83e928d3ff9cedd8a26b2bf6fb2c7", "message": "fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt", "committedDate": "2020-06-29T16:11:41Z", "type": "commit"}, {"oid": "2c059f98881c3e508398725b03b000c0c43d64c2", "url": "https://github.com/apache/dolphinscheduler/commit/2c059f98881c3e508398725b03b000c0c43d64c2", "message": "fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt", "committedDate": "2020-06-29T16:23:09Z", "type": "commit"}, {"oid": "bc98ab525f32e522b288763afaa482ac2a180d7d", "url": "https://github.com/apache/dolphinscheduler/commit/bc98ab525f32e522b288763afaa482ac2a180d7d", "message": "fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt", "committedDate": "2020-06-30T10:02:04Z", "type": "commit"}, {"oid": "1fdb8a26e295e856629a8f3273f0913d0a97b4c3", "url": "https://github.com/apache/dolphinscheduler/commit/1fdb8a26e295e856629a8f3273f0913d0a97b4c3", "message": "Merge pull request #1 from apache/dev\n\nupdate code", "committedDate": "2020-06-30T10:05:19Z", "type": "commit"}, {"oid": "5fec36c129166640b0dccf9cf0ef196ec042a5ca", "url": "https://github.com/apache/dolphinscheduler/commit/5fec36c129166640b0dccf9cf0ef196ec042a5ca", "message": "Merge branch 'dev' into dev", "committedDate": "2020-07-04T08:19:53Z", "type": "commit"}, {"oid": "9d01a10379e3f70db401860b14ecb628eff83847", "url": "https://github.com/apache/dolphinscheduler/commit/9d01a10379e3f70db401860b14ecb628eff83847", "message": "Merge branch 'dev' into dev", "committedDate": "2020-07-05T04:40:58Z", "type": "commit"}, {"oid": "0332693e4a066441ade16ab65754acd2cbb68913", "url": "https://github.com/apache/dolphinscheduler/commit/0332693e4a066441ade16ab65754acd2cbb68913", "message": "Merge branch 'dev' into dev", "committedDate": "2020-07-07T09:21:30Z", "type": "commit"}, {"oid": "090c32e416fc25f4ab39594af0f8b48a30b136f6", "url": "https://github.com/apache/dolphinscheduler/commit/090c32e416fc25f4ab39594af0f8b48a30b136f6", "message": "Merge branch 'dev' into dev", "committedDate": "2020-07-08T10:19:38Z", "type": "commit"}, {"oid": "038beff923be127d7272c56d8999b3568ce9b89c", "url": "https://github.com/apache/dolphinscheduler/commit/038beff923be127d7272c56d8999b3568ce9b89c", "message": "dag  add close button", "committedDate": "2020-07-09T06:28:07Z", "type": "commit"}, {"oid": "50f33a1bf189eb72453713297c0f7036513c8250", "url": "https://github.com/apache/dolphinscheduler/commit/50f33a1bf189eb72453713297c0f7036513c8250", "message": "reset last version", "committedDate": "2020-07-09T06:34:21Z", "type": "commit"}, {"oid": "9193ceae5d028d626bc9ddc9a2ae5d9956aa941b", "url": "https://github.com/apache/dolphinscheduler/commit/9193ceae5d028d626bc9ddc9a2ae5d9956aa941b", "message": "reset last version", "committedDate": "2020-07-09T06:38:23Z", "type": "commit"}, {"oid": "e4d76c5d8b45fefeb69abf575ce8d200abc68c65", "url": "https://github.com/apache/dolphinscheduler/commit/e4d76c5d8b45fefeb69abf575ce8d200abc68c65", "message": "Merge branch 'dev' of https://github.com/BoYiZhang/incubator-dolphinscheduler into dev", "committedDate": "2020-07-12T05:59:16Z", "type": "commit"}, {"oid": "4fc814459f4eb4bd2fdb2cfe8c25a678937bf2ad", "url": "https://github.com/apache/dolphinscheduler/commit/4fc814459f4eb4bd2fdb2cfe8c25a678937bf2ad", "message": "dag add close buttion\n\ndag add close buttion", "committedDate": "2020-07-12T06:00:58Z", "type": "commit"}, {"oid": "259a644c7f66205ad5a98bea23de690a1e6c05d9", "url": "https://github.com/apache/dolphinscheduler/commit/259a644c7f66205ad5a98bea23de690a1e6c05d9", "message": "Merge branch 'dev' of https://github.com/BoYiZhang/incubator-dolphinscheduler into dev", "committedDate": "2020-07-12T06:01:16Z", "type": "commit"}, {"oid": "7949b672ccd5d999168ec4fcaa231fd020b10650", "url": "https://github.com/apache/dolphinscheduler/commit/7949b672ccd5d999168ec4fcaa231fd020b10650", "message": "Merge pull request #1 from apache/dev\n\nupdate code", "committedDate": "2020-07-13T01:47:03Z", "type": "commit"}, {"oid": "4bf187ce389d9d56291cf2be7958c1a1433fef50", "url": "https://github.com/apache/dolphinscheduler/commit/4bf187ce389d9d56291cf2be7958c1a1433fef50", "message": "update  CLICK_SAVE_WORKFLOW_BUTTON  xpath", "committedDate": "2020-07-13T03:08:41Z", "type": "commit"}, {"oid": "3ccb35570496b3c280f17a5815302164bf44f6ac", "url": "https://github.com/apache/dolphinscheduler/commit/3ccb35570496b3c280f17a5815302164bf44f6ac", "message": "Merge remote-tracking branch 'origin/dev' into dev", "committedDate": "2020-07-13T03:39:07Z", "type": "commit"}, {"oid": "16a47357d09f4071bc85388e5e5b2cc3483b456b", "url": "https://github.com/apache/dolphinscheduler/commit/16a47357d09f4071bc85388e5e5b2cc3483b456b", "message": "updae CLICK_SAVE_WORKFLOW_BUTTON xpath", "committedDate": "2020-07-13T03:40:01Z", "type": "commit"}, {"oid": "e6bd0e3aab09639c6fe162a398be6336f6f316ca", "url": "https://github.com/apache/dolphinscheduler/commit/e6bd0e3aab09639c6fe162a398be6336f6f316ca", "message": "updae CLICK_SAVE_WORKFLOW_BUTTON xpath", "committedDate": "2020-07-13T03:46:56Z", "type": "commit"}, {"oid": "3c41fbe41d8a353e0155d0f64326dc98f5d08569", "url": "https://github.com/apache/dolphinscheduler/commit/3c41fbe41d8a353e0155d0f64326dc98f5d08569", "message": "updae CLICK_SAVE_WORKFLOW_BUTTON xpath", "committedDate": "2020-07-13T04:06:10Z", "type": "commit"}, {"oid": "5a3df2e7439fdac3c326f5d2d3c667b5a96b2fc1", "url": "https://github.com/apache/dolphinscheduler/commit/5a3df2e7439fdac3c326f5d2d3c667b5a96b2fc1", "message": "Update CreateWorkflowLocator.java\n\nmodify submit workflow button", "committedDate": "2020-07-13T05:03:15Z", "type": "commit"}, {"oid": "290d22d631740f2c87713a7995b99ad0f45d42e1", "url": "https://github.com/apache/dolphinscheduler/commit/290d22d631740f2c87713a7995b99ad0f45d42e1", "message": "Update CreateWorkflowLocator.java", "committedDate": "2020-07-13T05:19:07Z", "type": "commit"}, {"oid": "19462dd13c428487f9326d7a05fbe4603f1c6e4a", "url": "https://github.com/apache/dolphinscheduler/commit/19462dd13c428487f9326d7a05fbe4603f1c6e4a", "message": "Update CreateWorkflowLocator.java\n\nmodify CLICK_ADD_BUTTON", "committedDate": "2020-07-13T05:27:24Z", "type": "commit"}, {"oid": "295aeadc039a8af6b787f39699ef49bf76f7193a", "url": "https://github.com/apache/dolphinscheduler/commit/295aeadc039a8af6b787f39699ef49bf76f7193a", "message": "Update CreateWorkflowLocator.java\n\ndelete print", "committedDate": "2020-07-13T05:45:34Z", "type": "commit"}, {"oid": "89ec91187b42fcb6cafef312064c5e705609462b", "url": "https://github.com/apache/dolphinscheduler/commit/89ec91187b42fcb6cafef312064c5e705609462b", "message": "Update CreateWorkflowLocator.java\n\n1", "committedDate": "2020-07-13T05:50:06Z", "type": "commit"}, {"oid": "c7b87fa0d88f8c3d5488d74272cc4a13f9b92441", "url": "https://github.com/apache/dolphinscheduler/commit/c7b87fa0d88f8c3d5488d74272cc4a13f9b92441", "message": "Update CreateWorkflowLocator.java\n\n1", "committedDate": "2020-07-13T08:35:37Z", "type": "commit"}, {"oid": "3a2cba7a14b1dcf8325dab6fb1bfaa5840eae0fd", "url": "https://github.com/apache/dolphinscheduler/commit/3a2cba7a14b1dcf8325dab6fb1bfaa5840eae0fd", "message": "Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'", "committedDate": "2020-07-13T09:13:52Z", "type": "commit"}, {"oid": "15e64eab9b373f5948a2b82dbb1c17a0a16f4a5e", "url": "https://github.com/apache/dolphinscheduler/commit/15e64eab9b373f5948a2b82dbb1c17a0a16f4a5e", "message": "Update dag.vue", "committedDate": "2020-07-13T09:16:18Z", "type": "commit"}, {"oid": "f22adad80961019c3dde7a3d0f9571aa6826cc36", "url": "https://github.com/apache/dolphinscheduler/commit/f22adad80961019c3dde7a3d0f9571aa6826cc36", "message": "Update dag.vue", "committedDate": "2020-07-13T12:30:17Z", "type": "commit"}, {"oid": "c0ba1dc2e56cd08c435ea06b70aa0d677a4a1e4a", "url": "https://github.com/apache/dolphinscheduler/commit/c0ba1dc2e56cd08c435ea06b70aa0d677a4a1e4a", "message": "Update dag.vue", "committedDate": "2020-07-13T13:00:27Z", "type": "commit"}, {"oid": "b2fab5701f66087055856011520295381bdf379e", "url": "https://github.com/apache/dolphinscheduler/commit/b2fab5701f66087055856011520295381bdf379e", "message": "Update CreateWorkflowLocator.java", "committedDate": "2020-07-13T14:52:37Z", "type": "commit"}, {"oid": "49f3398594e4339cf812703ae30ea74cc61c74c9", "url": "https://github.com/apache/dolphinscheduler/commit/49f3398594e4339cf812703ae30ea74cc61c74c9", "message": "Merge remote-tracking branch 'origin/dev' into dev", "committedDate": "2020-07-14T00:59:45Z", "type": "commit"}, {"oid": "06404f56fd042a862961d1c74d0d015369c8a467", "url": "https://github.com/apache/dolphinscheduler/commit/06404f56fd042a862961d1c74d0d015369c8a467", "message": "Revert \"Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\"\n\nThis reverts commit 3a2cba7a", "committedDate": "2020-07-14T01:02:43Z", "type": "commit"}, {"oid": "b21aca8e0077aca284d4e2dd0bd15089e97bb07f", "url": "https://github.com/apache/dolphinscheduler/commit/b21aca8e0077aca284d4e2dd0bd15089e97bb07f", "message": "Merge pull request #2 from apache/dev\n\nupadtecode", "committedDate": "2020-07-14T14:00:34Z", "type": "commit"}, {"oid": "deb19ee8a31dc3c18d884ecf2ce07601a5098391", "url": "https://github.com/apache/dolphinscheduler/commit/deb19ee8a31dc3c18d884ecf2ce07601a5098391", "message": "Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'", "committedDate": "2020-07-14T14:29:22Z", "type": "commit"}, {"oid": "a655e1c3c5539a8ae41d8c9b9f570b8d509605d4", "url": "https://github.com/apache/dolphinscheduler/commit/a655e1c3c5539a8ae41d8c9b9f570b8d509605d4", "message": "Merge pull request #3 from apache/dev\n\nupdate code", "committedDate": "2020-07-15T02:51:09Z", "type": "commit"}, {"oid": "3823a081bd36a8c626312e2d749121289e3f189b", "url": "https://github.com/apache/dolphinscheduler/commit/3823a081bd36a8c626312e2d749121289e3f189b", "message": "Merge branch 'dev' into dev", "committedDate": "2020-07-18T02:36:52Z", "type": "commit"}, {"oid": "b11714ba73cd680a0111b35cbb92164449699284", "url": "https://github.com/apache/dolphinscheduler/commit/b11714ba73cd680a0111b35cbb92164449699284", "message": "Update dolphinscheduler-daemon.sh", "committedDate": "2020-07-19T13:47:43Z", "type": "commit"}, {"oid": "0e11365b6a4cca918950359e2d7faa2b91e325eb", "url": "https://github.com/apache/dolphinscheduler/commit/0e11365b6a4cca918950359e2d7faa2b91e325eb", "message": "Merge pull request #7 from apache/dev\n\nupdate code from apache", "committedDate": "2020-08-07T03:07:12Z", "type": "commit"}, {"oid": "d329914aa605086305ada6219f3117f21e941cbb", "url": "https://github.com/apache/dolphinscheduler/commit/d329914aa605086305ada6219f3117f21e941cbb", "message": "Merge pull request #8 from apache/dev\n\nupdate code from apache", "committedDate": "2020-08-13T03:49:54Z", "type": "commit"}, {"oid": "a7cbfb1436c5ee630eda982e1c9a63af269bfd45", "url": "https://github.com/apache/dolphinscheduler/commit/a7cbfb1436c5ee630eda982e1c9a63af269bfd45", "message": "Merge pull request #9 from apache/dev\n\nupdate code from apache", "committedDate": "2020-08-15T15:40:40Z", "type": "commit"}, {"oid": "c3666f3fb4401b785a2c6aeb39121004fc7e5884", "url": "https://github.com/apache/dolphinscheduler/commit/c3666f3fb4401b785a2c6aeb39121004fc7e5884", "message": "Merge pull request #12 from apache/dev\n\nupdate data code", "committedDate": "2020-09-04T01:40:58Z", "type": "commit"}, {"oid": "dffcf1e5bffba7affca9d363c1f89b22b2ea35b5", "url": "https://github.com/apache/dolphinscheduler/commit/dffcf1e5bffba7affca9d363c1f89b22b2ea35b5", "message": "Merge pull request #13 from apache/dev\n\nupdate code from ds", "committedDate": "2020-09-10T07:09:23Z", "type": "commit"}, {"oid": "a26724cebb4ea44c57e15885746837b55d88704c", "url": "https://github.com/apache/dolphinscheduler/commit/a26724cebb4ea44c57e15885746837b55d88704c", "message": "Merge pull request #14 from apache/dev\n\nupdate from code", "committedDate": "2020-09-15T10:37:59Z", "type": "commit"}, {"oid": "5ea402252a817e92d105a586d9c9f73f9058c415", "url": "https://github.com/apache/dolphinscheduler/commit/5ea402252a817e92d105a586d9c9f73f9058c415", "message": "Merge pull request #15 from apache/dev\n\nupdate code", "committedDate": "2020-09-21T03:43:53Z", "type": "commit"}, {"oid": "5480a6523b065688f0115aacb6071a8ae3f2d70b", "url": "https://github.com/apache/dolphinscheduler/commit/5480a6523b065688f0115aacb6071a8ae3f2d70b", "message": "Merge pull request #16 from apache/dev\n\nupdate code from apache", "committedDate": "2020-09-28T03:18:55Z", "type": "commit"}, {"oid": "622bce603ab1ee08220428fdcb37e9bab2a944f0", "url": "https://github.com/apache/dolphinscheduler/commit/622bce603ab1ee08220428fdcb37e9bab2a944f0", "message": "Merge pull request #19 from apache/dev\n\nupdate code from apa", "committedDate": "2020-10-14T07:52:27Z", "type": "commit"}, {"oid": "65216016ca29c1df158c0f8883a00090dd1f9a06", "url": "https://github.com/apache/dolphinscheduler/commit/65216016ca29c1df158c0f8883a00090dd1f9a06", "message": "Merge pull request #20 from apache/dev\n\nupdate from apache", "committedDate": "2020-10-17T07:01:11Z", "type": "commit"}, {"oid": "5f817f2acdcf22dfc1895a9caa877f8cc7c489da", "url": "https://github.com/apache/dolphinscheduler/commit/5f817f2acdcf22dfc1895a9caa877f8cc7c489da", "message": "Merge pull request #21 from apache/dev\n\nupdate code from apache", "committedDate": "2020-10-20T11:14:42Z", "type": "commit"}, {"oid": "fc565813efb1d46a79ee460ef715244c6d60f7b9", "url": "https://github.com/apache/dolphinscheduler/commit/fc565813efb1d46a79ee460ef715244c6d60f7b9", "message": "When running a task, the resource file is lost, which results in an error", "committedDate": "2020-10-20T11:25:14Z", "type": "commit"}, {"oid": "aace5517820f47657e27c888de816beec6f5e728", "url": "https://github.com/apache/dolphinscheduler/commit/aace5517820f47657e27c888de816beec6f5e728", "message": "When running a task, the resource file is lost, which results in an error", "committedDate": "2020-10-20T12:15:23Z", "type": "commit"}, {"oid": "ef6cc62b96b819101cbd2b5fdf3d56ff96a86712", "url": "https://github.com/apache/dolphinscheduler/commit/ef6cc62b96b819101cbd2b5fdf3d56ff96a86712", "message": "When running a task, the resource file is lost, which results in an error", "committedDate": "2020-10-20T12:20:01Z", "type": "commit"}, {"oid": "48177b650eae261348eb1b43d3ea1518f8f7d48d", "url": "https://github.com/apache/dolphinscheduler/commit/48177b650eae261348eb1b43d3ea1518f8f7d48d", "message": "When running a task, the resource file is lost, which results in an error", "committedDate": "2020-10-20T12:26:09Z", "type": "commit"}, {"oid": "7dd717af16f374c217f956b7c55d19161580dbd3", "url": "https://github.com/apache/dolphinscheduler/commit/7dd717af16f374c217f956b7c55d19161580dbd3", "message": "When running a task, the resource file is lost, which results in an error", "committedDate": "2020-10-21T15:32:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTM2MDQxNQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3957#discussion_r511360415", "bodyText": "no need to use list", "author": "CalvinKirs", "createdAt": "2020-10-24T09:24:31Z", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/VarPoolUtils.java", "diffHunk": "@@ -62,11 +39,20 @@ public static void setTaskNodeLocalParams(TaskNode taskNode, String prop, Object\n      */\n     public static void setTaskNodeLocalParams(TaskNode taskNode, Map<String, Object> propToValue) {\n         String taskParamsJson = taskNode.getParams();\n-        TaskParams taskParams = JSONUtils.parseObject(taskParamsJson, TaskParams.class);\n-        if (taskParams == null) {\n-            return;\n+        Map<String,Object> taskParams = JSONUtils.parseObject(taskParamsJson, HashMap.class);\n+\n+        Object localParamsObject = taskParams.get(LOCALPARAMS);\n+        if (null != localParamsObject && null != propToValue && propToValue.size() > 0) {\n+            ArrayList<Object> localParams = (ArrayList)localParamsObject;", "originalCommit": "7dd717af16f374c217f956b7c55d19161580dbd3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}