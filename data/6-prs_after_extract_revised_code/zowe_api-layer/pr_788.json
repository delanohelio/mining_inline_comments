{"pr_number": 788, "pr_title": "Provide simple configuration for CircleCI", "pr_createdAt": "2020-08-17T07:22:32Z", "pr_url": "https://github.com/zowe/api-layer/pull/788", "timeline": [{"oid": "8e25600bd886c99d5286aba93b3b13c211436d5c", "url": "https://github.com/zowe/api-layer/commit/8e25600bd886c99d5286aba93b3b13c211436d5c", "message": "Initial version of the Circle CI Config\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T06:49:48Z", "type": "commit"}, {"oid": "ea53d2ffe42d4260768613d838e0e0e184ff2246", "url": "https://github.com/zowe/api-layer/commit/ea53d2ffe42d4260768613d838e0e0e184ff2246", "message": "Configuration based on the openjdk-8 image\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:21:33Z", "type": "commit"}, {"oid": "c9810617a90578dd3d2fe2a1a04a142d09420fdb", "url": "https://github.com/zowe/api-layer/commit/c9810617a90578dd3d2fe2a1a04a142d09420fdb", "message": "Add missing space\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:24:36Z", "type": "commit"}, {"oid": "7e67660a2c980d618be174fd083c5b9a71f145e7", "url": "https://github.com/zowe/api-layer/commit/7e67660a2c980d618be174fd083c5b9a71f145e7", "message": "Run global command as sudo\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:26:06Z", "type": "commit"}, {"oid": "7579b6f3696ce36c29ce75755332534ee00ff35e", "url": "https://github.com/zowe/api-layer/commit/7579b6f3696ce36c29ce75755332534ee00ff35e", "message": "Install pnpm only locally.\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:29:44Z", "type": "commit"}, {"oid": "b9b0a100cb7ae18112cbc2e5adb145dc5440ca5f", "url": "https://github.com/zowe/api-layer/commit/b9b0a100cb7ae18112cbc2e5adb145dc5440ca5f", "message": "Install FE dependencies as separate step\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:30:33Z", "type": "commit"}, {"oid": "2dc422abf732d5e10b3d27437bf0c36c4fbb8f4a", "url": "https://github.com/zowe/api-layer/commit/2dc422abf732d5e10b3d27437bf0c36c4fbb8f4a", "message": "Install pnpm as part of dependency installation\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:34:43Z", "type": "commit"}, {"oid": "563f962ddd8ce3ad8bb472200198dfde44588630", "url": "https://github.com/zowe/api-layer/commit/563f962ddd8ce3ad8bb472200198dfde44588630", "message": "Install directly with sudo\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:36:31Z", "type": "commit"}, {"oid": "0bc1a61249e740ccd4f5cabe0ebe6d8f2b36a394", "url": "https://github.com/zowe/api-layer/commit/0bc1a61249e740ccd4f5cabe0ebe6d8f2b36a394", "message": "Return version 4 of pnpm\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:38:23Z", "type": "commit"}, {"oid": "d40fd9ac562d322ed45a074e42e1dd9aa11b2d5f", "url": "https://github.com/zowe/api-layer/commit/d40fd9ac562d322ed45a074e42e1dd9aa11b2d5f", "message": "Disable tests failing on older Linux host versions\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T07:55:30Z", "type": "commit"}, {"oid": "d92b2787075391e675ad2f5fd50ef9dea86014c9", "url": "https://github.com/zowe/api-layer/commit/d92b2787075391e675ad2f5fd50ef9dea86014c9", "message": "Disable tests failing on older Linux host versions\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T08:00:20Z", "type": "commit"}, {"oid": "026641e29c8d3b7e736035e4f69ef009cf9f3252", "url": "https://github.com/zowe/api-layer/commit/026641e29c8d3b7e736035e4f69ef009cf9f3252", "message": "Set CI to false\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T08:22:09Z", "type": "commit"}, {"oid": "ca919515fa5299f217a2f5acd6d4c2129e169cba", "url": "https://github.com/zowe/api-layer/commit/ca919515fa5299f217a2f5acd6d4c2129e169cba", "message": "Merge branch 'master' into private/jb892003/circleci", "committedDate": "2020-08-17T08:28:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMyODA2MA==", "url": "https://github.com/zowe/api-layer/pull/788#discussion_r471328060", "bodyText": "Why you want to disable this tests?", "author": "achmelo", "createdAt": "2020-08-17T08:38:47Z", "path": "gateway-service/src/test/java/org/zowe/apiml/acceptance/corsTests/CorsPerServiceTest.java", "diffHunk": "@@ -47,6 +48,7 @@\n @AcceptanceTest\n @ActiveProfiles(\"test\")\n @DirtiesContext\n+@Disabled", "originalCommit": "ca919515fa5299f217a2f5acd6d4c2129e169cba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMyOTU2Mw==", "url": "https://github.com/zowe/api-layer/pull/788#discussion_r471329563", "bodyText": "Doesn't work on the older host environments such as Ubuntu 18.04, RHEL, and others", "author": "balhar-jakub", "createdAt": "2020-08-17T08:41:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMyODA2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMzMDE5NA==", "url": "https://github.com/zowe/api-layer/pull/788#discussion_r471330194", "bodyText": "Which also seems to be the case for the CircleCI. Maybe I can disable it under some profile instead of Disable in general", "author": "balhar-jakub", "createdAt": "2020-08-17T08:42:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMyODA2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM2MzkxNg==", "url": "https://github.com/zowe/api-layer/pull/788#discussion_r471363916", "bodyText": "I changed it to the DisabledIf, which allow us to disable on specific problematic environments while keeping the tests running on the non problematic ones.", "author": "balhar-jakub", "createdAt": "2020-08-17T09:44:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMyODA2MA=="}], "type": "inlineReview", "revised_code": {"commit": "0f18e15f89e809b6281a50813b5f66ad02458a04", "chunk": "diff --git a/gateway-service/src/test/java/org/zowe/apiml/acceptance/corsTests/CorsPerServiceTest.java b/gateway-service/src/test/java/org/zowe/apiml/acceptance/corsTests/CorsPerServiceTest.java\nindex 96307e8b..c96940fa 100644\n--- a/gateway-service/src/test/java/org/zowe/apiml/acceptance/corsTests/CorsPerServiceTest.java\n+++ b/gateway-service/src/test/java/org/zowe/apiml/acceptance/corsTests/CorsPerServiceTest.java\n\n@@ -48,7 +49,7 @@ import static org.mockito.Mockito.*;\n @AcceptanceTest\n @ActiveProfiles(\"test\")\n @DirtiesContext\n-@Disabled\n+@DisabledIf(\"${environment.older}\")\n class CorsPerServiceTest extends AcceptanceTestWithTwoServices {\n     @Test\n         // Verify the header to allow CORS isn't set\n"}}, {"oid": "0f18e15f89e809b6281a50813b5f66ad02458a04", "url": "https://github.com/zowe/api-layer/commit/0f18e15f89e809b6281a50813b5f66ad02458a04", "message": "Disable only for certain environments\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T08:50:10Z", "type": "commit"}, {"oid": "7d7a98898c5630981bac071c55b725223d8cff12", "url": "https://github.com/zowe/api-layer/commit/7d7a98898c5630981bac071c55b725223d8cff12", "message": "Echo os info\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T09:18:35Z", "type": "commit"}, {"oid": "0fd534254e3790fd4e0f74f649d16256fa46cd8e", "url": "https://github.com/zowe/api-layer/commit/0fd534254e3790fd4e0f74f649d16256fa46cd8e", "message": "By default run the tests. Ignore on specific environments\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T09:22:58Z", "type": "commit"}, {"oid": "69fcf4aa731571e01959bd5beafc48c4da1eabb7", "url": "https://github.com/zowe/api-layer/commit/69fcf4aa731571e01959bd5beafc48c4da1eabb7", "message": "Different aproach to conditional disabling\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T09:31:48Z", "type": "commit"}, {"oid": "0c7c12b3cde27c13c369c91ab7137bb9eee00bad", "url": "https://github.com/zowe/api-layer/commit/0c7c12b3cde27c13c369c91ab7137bb9eee00bad", "message": "Different name for export\n\nSigned-off-by: Jakub Balhar <jakub.balhar@broadcom.com>", "committedDate": "2020-08-17T09:35:48Z", "type": "commit"}]}