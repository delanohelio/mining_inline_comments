{"pr_number": 492, "pr_title": "Add passticket support to enablers", "pr_createdAt": "2020-02-04T14:47:40Z", "pr_url": "https://github.com/zowe/api-layer/pull/492", "timeline": [{"oid": "958ffc090b761e34c179a32e5267cfcb4b47207e", "url": "https://github.com/zowe/api-layer/commit/958ffc090b761e34c179a32e5267cfcb4b47207e", "message": "Add passticket support to enablers\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-04T14:59:24Z", "type": "commit"}, {"oid": "958ffc090b761e34c179a32e5267cfcb4b47207e", "url": "https://github.com/zowe/api-layer/commit/958ffc090b761e34c179a32e5267cfcb4b47207e", "message": "Add passticket support to enablers\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-04T14:59:24Z", "type": "forcePushed"}, {"oid": "9b0ecfb3b7085af577118ccf564cfe485b462f36", "url": "https://github.com/zowe/api-layer/commit/9b0ecfb3b7085af577118ccf564cfe485b462f36", "message": "Fix after master rebase\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-04T15:54:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE1NTU2NQ==", "url": "https://github.com/zowe/api-layer/pull/492#discussion_r375155565", "bodyText": "Why do we use the setter pattern instead of providing the information in the constructor?", "author": "balhar-jakub", "createdAt": "2020-02-05T09:53:00Z", "path": "onboarding-enabler-java/src/test/java/org/zowe/apiml/eurekaservice/client/impl/ApiMediationClientImplTest.java", "diffHunk": "@@ -47,6 +48,7 @@ public void startEurekaClient() throws ServiceDefinitionException {\n         ApiMediationServiceConfig config = new ApiMediationServiceConfig();\n         config.setApiInfo(Collections.singletonList(apiInfo));\n         config.setCatalog(catalogUiTile);\n+        config.setAuthentication(authentication);\n         config.setRoutes(routes);\n         config.setDescription(\"Example for exposing a Spring REST API\");\n         config.setTitle(\"Hello Spring REST API\");", "originalCommit": "958ffc090b761e34c179a32e5267cfcb4b47207e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE3NjcyMA==", "url": "https://github.com/zowe/api-layer/pull/492#discussion_r375176720", "bodyText": "Honestly, I don't know why it was done like this by Pavlin. I didn't want to do big changes. Maybe this is a good candidate for refactoring.", "author": "JirkaAichler", "createdAt": "2020-02-05T10:33:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE1NTU2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTIwMDgzNw==", "url": "https://github.com/zowe/api-layer/pull/492#discussion_r375200837", "bodyText": "If there are more parameter, builder pattern would be good. It is already implemented with lombok @builder(toBuilder = true).", "author": "ilkinabdullayev", "createdAt": "2020-02-05T11:26:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE1NTU2NQ=="}], "type": "inlineReview", "revised_code": {"commit": "d3981f8db0a1035251ff524a7f99f0974b63160c", "chunk": "diff --git a/onboarding-enabler-java/src/test/java/org/zowe/apiml/eurekaservice/client/impl/ApiMediationClientImplTest.java b/onboarding-enabler-java/src/test/java/org/zowe/apiml/eurekaservice/client/impl/ApiMediationClientImplTest.java\nindex e23029c5c..6e5ffd1d1 100644\n--- a/onboarding-enabler-java/src/test/java/org/zowe/apiml/eurekaservice/client/impl/ApiMediationClientImplTest.java\n+++ b/onboarding-enabler-java/src/test/java/org/zowe/apiml/eurekaservice/client/impl/ApiMediationClientImplTest.java\n\n@@ -38,30 +38,33 @@ public class ApiMediationClientImplTest {\n         Ssl ssl = new Ssl(false, false, \"TLSv1.2\", \"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\",\n             \"localhost\", \"password\",\n             \"../keystore/localhost/localhost.keystore.p12\", \"password\", \"PKCS12\",\n-            \"../keystore/localhost/localhost.truststore.p12\",\"password\", \"PKCS12\");\n-        List<Route> routes = new ArrayList<Route>();\n+            \"../keystore/localhost/localhost.truststore.p12\", \"password\", \"PKCS12\");\n+        List<Route> routes = new ArrayList<>();\n         Route apiRoute = new Route(\"api/v1\", \"/hellospring/api/v1\");\n         Route apiDocRoute = new Route(\"api/v1/api-doc\", \"/hellospring/api-doc\");\n         routes.add(apiRoute);\n         routes.add(apiDocRoute);\n-        ApiMediationClient client = new ApiMediationClientImpl();\n-        ApiMediationServiceConfig config = new ApiMediationServiceConfig();\n-        config.setApiInfo(Collections.singletonList(apiInfo));\n-        config.setCatalog(catalogUiTile);\n-        config.setAuthentication(authentication);\n-        config.setRoutes(routes);\n-        config.setDescription(\"Example for exposing a Spring REST API\");\n-        config.setTitle(\"Hello Spring REST API\");\n-        config.setServiceId(\"service\");\n-        config.setBaseUrl(\"http://host:1000/service\");\n-        config.setHealthCheckRelativeUrl(\"\");\n-        config.setHomePageRelativeUrl(\"\");\n-        config.setStatusPageRelativeUrl(\"\");\n-        config.setDiscoveryServiceUrls(Arrays.asList(\"https://localhost:10011/eureka\"));\n-        config.setSsl(ssl);\n-        config.setServiceIpAddress(\"127.0.0.1\");\n \n+        ApiMediationServiceConfig config = ApiMediationServiceConfig.builder()\n+            .apiInfo(Collections.singletonList(apiInfo))\n+            .catalog(catalogUiTile)\n+            .authentication(authentication)\n+            .routes(routes)\n+            .description(\"Example for exposing a Spring REST API\")\n+            .title(\"Hello Spring REST API\")\n+            .serviceId(\"service\")\n+            .baseUrl(\"http://host:1000/service\")\n+            .healthCheckRelativeUrl(\"\")\n+            .homePageRelativeUrl(\"\")\n+            .statusPageRelativeUrl(\"\")\n+            .discoveryServiceUrls(Collections.singletonList(\"https://localhost:10011/eureka\"))\n+            .ssl(ssl)\n+            .serviceIpAddress(\"127.0.0.1\")\n+            .build();\n+\n+        ApiMediationClient client = new ApiMediationClientImpl();\n         client.register(config);\n+\n         assertNotNull(client.getEurekaClient());\n         assertEquals(\"SERVICE\", client.getEurekaClient().getApplicationInfoManager().getInfo().getAppName());\n         assertEquals(InstanceInfo.InstanceStatus.UP, client.getEurekaClient().getApplicationInfoManager().getInfo().getStatus());\n"}}, {"oid": "5eb9fb20a6f7571672e7352e6fc41faada8cfda3", "url": "https://github.com/zowe/api-layer/commit/5eb9fb20a6f7571672e7352e6fc41faada8cfda3", "message": "Merge branch 'master' into protectors/onboarding", "committedDate": "2020-02-05T10:30:15Z", "type": "commit"}, {"oid": "d3981f8db0a1035251ff524a7f99f0974b63160c", "url": "https://github.com/zowe/api-layer/commit/d3981f8db0a1035251ff524a7f99f0974b63160c", "message": "Refactor\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-05T13:01:22Z", "type": "commit"}, {"oid": "3e0e113904cbee6f0968e3aaf1c2fcdb72382c72", "url": "https://github.com/zowe/api-layer/commit/3e0e113904cbee6f0968e3aaf1c2fcdb72382c72", "message": "Merge branch 'master' into protectors/onboarding", "committedDate": "2020-02-05T13:15:31Z", "type": "commit"}, {"oid": "4fca40aa92a0332701d40126d9cbc21ec8c2555d", "url": "https://github.com/zowe/api-layer/commit/4fca40aa92a0332701d40126d9cbc21ec8c2555d", "message": "Update static definition sample\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-05T13:35:20Z", "type": "commit"}, {"oid": "f329b9247d5e707eabc7f77250455a9c7e942f74", "url": "https://github.com/zowe/api-layer/commit/f329b9247d5e707eabc7f77250455a9c7e942f74", "message": "Remove tests which are not needed\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-06T10:03:35Z", "type": "commit"}, {"oid": "7cc215f6622aa1b20877f3cc09d060e4914779f8", "url": "https://github.com/zowe/api-layer/commit/7cc215f6622aa1b20877f3cc09d060e4914779f8", "message": "Fix z/OSMF address\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-06T10:21:59Z", "type": "commit"}, {"oid": "b060fe127170d7e648bc80b28f09f95abf8d30da", "url": "https://github.com/zowe/api-layer/commit/b060fe127170d7e648bc80b28f09f95abf8d30da", "message": "Minor change\n\nSigned-off-by: JirkaAichler <jiri.aichler@broadcom.com>", "committedDate": "2020-02-06T13:20:56Z", "type": "commit"}, {"oid": "c02ef5b57a7b8d570f6c99529e0238f78107d88d", "url": "https://github.com/zowe/api-layer/commit/c02ef5b57a7b8d570f6c99529e0238f78107d88d", "message": "Merge branch 'master' into protectors/onboarding", "committedDate": "2020-02-06T18:02:36Z", "type": "commit"}, {"oid": "6f7415af35f8383872ff7a2dbd4f89bbb1c1ac73", "url": "https://github.com/zowe/api-layer/commit/6f7415af35f8383872ff7a2dbd4f89bbb1c1ac73", "message": "Merge branch 'master' into protectors/onboarding", "committedDate": "2020-02-07T09:37:23Z", "type": "commit"}]}