{"pr_number": 6479, "pr_title": "Fixed create folder due to new system (write on server is only performed upon unlock)", "pr_createdAt": "2020-07-16T08:50:06Z", "pr_url": "https://github.com/nextcloud/android/pull/6479", "timeline": [{"oid": "2a8adcaf3dba2677363d7d34b385bc06e2d8c6c7", "url": "https://github.com/nextcloud/android/commit/2a8adcaf3dba2677363d7d34b385bc06e2d8c6c7", "message": "Fixed create folder due to new system (write on server is only performed upon unlock)\nadded test case for remove file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-20T10:34:47Z", "type": "forcePushed"}, {"oid": "156553839c799c3406b77cfd33dc34a6c8821bff", "url": "https://github.com/nextcloud/android/commit/156553839c799c3406b77cfd33dc34a6c8821bff", "message": "Fixed create folder due to new system (write on server is only performed upon unlock)\nadded test case for remove file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-21T06:28:11Z", "type": "forcePushed"}, {"oid": "121c6c1f231717575d61acf5581e756e135fad2d", "url": "https://github.com/nextcloud/android/commit/121c6c1f231717575d61acf5581e756e135fad2d", "message": "Fixed create folder due to new system (write on server is only performed upon unlock)\nadded test case for remove file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-21T12:58:28Z", "type": "commit"}, {"oid": "121c6c1f231717575d61acf5581e756e135fad2d", "url": "https://github.com/nextcloud/android/commit/121c6c1f231717575d61acf5581e756e135fad2d", "message": "Fixed create folder due to new system (write on server is only performed upon unlock)\nadded test case for remove file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-21T12:58:28Z", "type": "forcePushed"}, {"oid": "933c61d0c981341301606d15b7ed22aff0530068", "url": "https://github.com/nextcloud/android/commit/933c61d0c981341301606d15b7ed22aff0530068", "message": "Fixed create folder due to new system (write on server is only performed upon unlock)\nadded test case for remove file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-22T14:28:48Z", "type": "commit"}, {"oid": "907e9f0b264f9b40f9b1e24d6176dd4b901a07af", "url": "https://github.com/nextcloud/android/commit/907e9f0b264f9b40f9b1e24d6176dd4b901a07af", "message": "Fixed create folder due to new system (write on server is only performed upon unlock)\nadded test case for remove file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-22T14:47:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1Mzk4Nw==", "url": "https://github.com/nextcloud/android/pull/6479#discussion_r458853987", "bodyText": "Codacy found an issue: Assigning an Object to null is a code smell.  Consider refactoring.", "author": "nextcloud-android-bot", "createdAt": "2020-07-22T14:53:07Z", "path": "src/main/java/com/owncloud/android/operations/UploadFileOperation.java", "diffHunk": "@@ -613,6 +613,13 @@ private RemoteOperationResult encryptedUpload(OwnCloudClient client, OCFile pare\n                                                token,\n                                                client,\n                                                metadataExists);\n+\n+                // unlock\n+                result = EncryptionUtils.unlockFolder(parentFile, client, token);\n+\n+                if (result.isSuccess()) {\n+                    token = null;", "originalCommit": "907e9f0b264f9b40f9b1e24d6176dd4b901a07af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1Mzk5OQ==", "url": "https://github.com/nextcloud/android/pull/6479#discussion_r458853999", "bodyText": "Codacy found an issue: Assigning an Object to null is a code smell.  Consider refactoring.", "author": "nextcloud-android-bot", "createdAt": "2020-07-22T14:53:08Z", "path": "src/main/java/com/owncloud/android/operations/CreateFolderOperation.java", "diffHunk": "@@ -212,6 +186,43 @@ private RemoteOperationResult encryptedCreate(OCFile parent, String remoteParent\n                                                token,\n                                                client,\n                                                metadataExists);\n+\n+                // unlock folder\n+                if (token != null) {\n+                    RemoteOperationResult unlockFolderResult = EncryptionUtils.unlockFolder(parent, client, token);\n+\n+                    if (unlockFolderResult.isSuccess()) {\n+                        token = null;", "originalCommit": "907e9f0b264f9b40f9b1e24d6176dd4b901a07af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}