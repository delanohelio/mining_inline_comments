{"pr_number": 7164, "pr_title": "Test also for connected networks", "pr_createdAt": "2020-10-29T12:39:11Z", "pr_url": "https://github.com/nextcloud/android/pull/7164", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk3ODY4OA==", "url": "https://github.com/nextcloud/android/pull/7164#discussion_r516978688", "bodyText": "maybe\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private boolean isAnyOtherNetworkWifi() {\n          \n          \n            \n                private boolean hasNonCellularConnectivity() {", "author": "AndyScherzinger", "createdAt": "2020-11-03T21:56:29Z", "path": "src/main/java/com/nextcloud/client/network/ConnectivityServiceImpl.java", "diffHunk": "@@ -143,7 +143,8 @@ public Connectivity getConnectivity() {\n \n     private boolean isAnyOtherNetworkWifi() {", "originalCommit": "d26db1faa96c7f6cadd65ac186e6c1bf17796af6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e20f69dd7f5b4740b1d06dbab3488f04d167b4b9", "chunk": "diff --git a/src/main/java/com/nextcloud/client/network/ConnectivityServiceImpl.java b/src/main/java/com/nextcloud/client/network/ConnectivityServiceImpl.java\nindex 783db5425..06bed875e 100644\n--- a/src/main/java/com/nextcloud/client/network/ConnectivityServiceImpl.java\n+++ b/src/main/java/com/nextcloud/client/network/ConnectivityServiceImpl.java\n\n@@ -134,14 +111,14 @@ class ConnectivityServiceImpl implements ConnectivityService {\n         if (networkInfo != null) {\n             boolean isConnected = networkInfo.isConnectedOrConnecting();\n             boolean isMetered = ConnectivityManagerCompat.isActiveNetworkMetered(platformConnectivityManager);\n-            boolean isWifi = networkInfo.getType() == ConnectivityManager.TYPE_WIFI || isAnyOtherNetworkWifi();\n+            boolean isWifi = networkInfo.getType() == ConnectivityManager.TYPE_WIFI || hasNonCellularConnectivity();\n             return new Connectivity(isConnected, isMetered, isWifi, null);\n         } else {\n             return Connectivity.DISCONNECTED;\n         }\n     }\n \n-    private boolean isAnyOtherNetworkWifi() {\n+    private boolean hasNonCellularConnectivity() {\n         for (NetworkInfo networkInfo : platformConnectivityManager.getAllNetworkInfo()) {\n             if (networkInfo.isConnectedOrConnecting() && (networkInfo.getType() == ConnectivityManager.TYPE_WIFI ||\n                 networkInfo.getType() == ConnectivityManager.TYPE_ETHERNET)) {\n"}}, {"oid": "e20f69dd7f5b4740b1d06dbab3488f04d167b4b9", "url": "https://github.com/nextcloud/android/commit/e20f69dd7f5b4740b1d06dbab3488f04d167b4b9", "message": "Test also for connected networks\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-11-04T07:09:29Z", "type": "commit"}, {"oid": "e20f69dd7f5b4740b1d06dbab3488f04d167b4b9", "url": "https://github.com/nextcloud/android/commit/e20f69dd7f5b4740b1d06dbab3488f04d167b4b9", "message": "Test also for connected networks\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-11-04T07:09:29Z", "type": "forcePushed"}]}