{"pr_number": 2877, "pr_title": "Give better error message on Jib CLI", "pr_createdAt": "2020-10-30T21:34:53Z", "pr_url": "https://github.com/GoogleContainerTools/jib/pull/2877", "timeline": [{"oid": "11ed2b526cee37c216789e270ca68573a9a23ca9", "url": "https://github.com/GoogleContainerTools/jib/commit/11ed2b526cee37c216789e270ca68573a9a23ca9", "message": "Fix Jib CLI logger", "committedDate": "2020-10-30T18:33:05Z", "type": "commit"}, {"oid": "7bf65ee5a4b2d3df70da679208e99e45ab4bfa49", "url": "https://github.com/GoogleContainerTools/jib/commit/7bf65ee5a4b2d3df70da679208e99e45ab4bfa49", "message": "minor cleanups", "committedDate": "2020-10-30T18:33:31Z", "type": "commit"}, {"oid": "8930bc314b3bceb28c676f3f662a8f4c5205dcf9", "url": "https://github.com/GoogleContainerTools/jib/commit/8930bc314b3bceb28c676f3f662a8f4c5205dcf9", "message": "Flip twoCursorUpJumping", "committedDate": "2020-10-30T18:37:28Z", "type": "commit"}, {"oid": "a420145583af7d1ce78d3d518f2a436c9a272fee", "url": "https://github.com/GoogleContainerTools/jib/commit/a420145583af7d1ce78d3d518f2a436c9a272fee", "message": "Output better error messages", "committedDate": "2020-10-30T21:15:14Z", "type": "commit"}, {"oid": "4a34ea7d056f06cc7ddffd75045c6425499d9abd", "url": "https://github.com/GoogleContainerTools/jib/commit/4a34ea7d056f06cc7ddffd75045c6425499d9abd", "message": "Improve error handling", "committedDate": "2020-10-30T21:23:03Z", "type": "commit"}, {"oid": "0c854368088d2f121808f7eff45001ab244a0fef", "url": "https://github.com/GoogleContainerTools/jib/commit/0c854368088d2f121808f7eff45001ab244a0fef", "message": "Imporve error handling", "committedDate": "2020-10-30T21:26:11Z", "type": "commit"}, {"oid": "9fe3221d5be0ca9036fcfb3f3e69c61d99d6a713", "url": "https://github.com/GoogleContainerTools/jib/commit/9fe3221d5be0ca9036fcfb3f3e69c61d99d6a713", "message": "Merge remote-tracking branch 'origin/master' into jib-cli-error-output", "committedDate": "2020-11-02T14:24:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjAxMzc4NQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2877#discussion_r516013785", "bodyText": "Maybe we can make the error message a bit more specific - \"The Build File YAML either does not exist or cannot be opened for reading\" since isReadable checks for both.", "author": "mpeddada1", "createdAt": "2020-11-02T14:36:13Z", "path": "jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/Build.java", "diffHunk": "@@ -40,18 +43,29 @@ public Integer call() {\n     try {\n       ConsoleLogger logger =\n           CliLogger.newLogger(globalOptions.getVerbosity(), globalOptions.getConsoleOutput());\n+\n+      Path buildFile = globalOptions.getBuildFile();\n+      if (!Files.isReadable(buildFile)) {\n+        logger.log(Level.ERROR, \"Cannot open Build File YAML: \" + buildFile);", "originalCommit": "9fe3221d5be0ca9036fcfb3f3e69c61d99d6a713", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5a97460842658ac1af65196e92548fed7295f47a", "chunk": "diff --git a/jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/Build.java b/jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/Build.java\nindex 0f743e488..8dc9214fd 100644\n--- a/jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/Build.java\n+++ b/jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/Build.java\n\n@@ -46,7 +46,10 @@ public class Build implements Callable<Integer> {\n \n       Path buildFile = globalOptions.getBuildFile();\n       if (!Files.isReadable(buildFile)) {\n-        logger.log(Level.ERROR, \"Cannot open Build File YAML: \" + buildFile);\n+        logger.log(\n+            Level.ERROR,\n+            \"The Build File YAML either does not exist or cannot be opened for reading: \"\n+                + buildFile);\n         return 1;\n       }\n       if (!Files.isRegularFile(buildFile)) {\n"}}, {"oid": "5a97460842658ac1af65196e92548fed7295f47a", "url": "https://github.com/GoogleContainerTools/jib/commit/5a97460842658ac1af65196e92548fed7295f47a", "message": "Update error message for isReadable", "committedDate": "2020-11-02T14:37:58Z", "type": "commit"}]}