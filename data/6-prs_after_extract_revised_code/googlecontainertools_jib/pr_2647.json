{"pr_number": 2647, "pr_title": "Creating interfaces that will be used to replace BiFunction", "pr_createdAt": "2020-07-30T22:07:10Z", "pr_url": "https://github.com/GoogleContainerTools/jib/pull/2647", "timeline": [{"oid": "a45aeb037c7c26f08a58df3705c259591824f9ce", "url": "https://github.com/GoogleContainerTools/jib/commit/a45aeb037c7c26f08a58df3705c259591824f9ce", "message": "added modificationtimeprovider interface", "committedDate": "2020-07-30T20:57:07Z", "type": "commit"}, {"oid": "46b289589ba9073fb98e05baf51d97baeda66fef", "url": "https://github.com/GoogleContainerTools/jib/commit/46b289589ba9073fb98e05baf51d97baeda66fef", "message": "added filepermissionsprovider interface", "committedDate": "2020-07-30T20:58:20Z", "type": "commit"}, {"oid": "ecb4017348c6ce07f9aadab25e5db815eb03e2ba", "url": "https://github.com/GoogleContainerTools/jib/commit/ecb4017348c6ce07f9aadab25e5db815eb03e2ba", "message": "adding annotation and renaming method", "committedDate": "2020-07-30T21:17:46Z", "type": "commit"}, {"oid": "01c38ac8545e55b6ced23e220637223e87490396", "url": "https://github.com/GoogleContainerTools/jib/commit/01c38ac8545e55b6ced23e220637223e87490396", "message": "added ownership provider interface", "committedDate": "2020-07-30T21:25:48Z", "type": "commit"}, {"oid": "00e74e232aac866517ffdb3be5cb983ac058209a", "url": "https://github.com/GoogleContainerTools/jib/commit/00e74e232aac866517ffdb3be5cb983ac058209a", "message": "commenting fix", "committedDate": "2020-07-30T21:26:26Z", "type": "commit"}, {"oid": "65864e76eef7b3c768ff1f7f06e5158a31f8b89d", "url": "https://github.com/GoogleContainerTools/jib/commit/65864e76eef7b3c768ff1f7f06e5158a31f8b89d", "message": "renaming method", "committedDate": "2020-07-30T21:27:11Z", "type": "commit"}, {"oid": "c06277846eec04b558319ac22a7923467cf59808", "url": "https://github.com/GoogleContainerTools/jib/commit/c06277846eec04b558319ac22a7923467cf59808", "message": "apply formatter", "committedDate": "2020-07-30T21:42:10Z", "type": "commit"}, {"oid": "814fbb41498f234fd4618a26f01f91941520a2c1", "url": "https://github.com/GoogleContainerTools/jib/commit/814fbb41498f234fd4618a26f01f91941520a2c1", "message": "javadoc fix", "committedDate": "2020-07-30T21:47:57Z", "type": "commit"}, {"oid": "ab05ee6267ebe69f59e033bed6f5a2acb71124c0", "url": "https://github.com/GoogleContainerTools/jib/commit/ab05ee6267ebe69f59e033bed6f5a2acb71124c0", "message": "small commenting modification", "committedDate": "2020-07-30T22:04:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0Njc1OQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2647#discussion_r463346759", "bodyText": "Remove \"Servies as a base class\" as an interface is not really a \"base class\"\nMaybe it could be something like \"Interface for providing rules to determine file permission on a container\"", "author": "loosebazooka", "createdAt": "2020-07-31T00:44:33Z", "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.api.buildplan;\n+\n+import java.nio.file.Path;\n+\n+/** Serves as a base class for determining file permissions on a container. */", "originalCommit": "ab05ee6267ebe69f59e033bed6f5a2acb71124c0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0NjkyMg==", "url": "https://github.com/GoogleContainerTools/jib/pull/2647#discussion_r463346922", "bodyText": "and similarly for the other interfaces?", "author": "loosebazooka", "createdAt": "2020-07-31T00:45:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0Njc1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY4MDIwOA==", "url": "https://github.com/GoogleContainerTools/jib/pull/2647#discussion_r463680208", "bodyText": "That is much better, thanks.", "author": "mpeddada1", "createdAt": "2020-07-31T15:31:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0Njc1OQ=="}], "type": "inlineReview", "revised_code": {"commit": "9e479bf2741c38cd90d4598bbf433d9d073d2117", "chunk": "diff --git a/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java b/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java\nindex 7e3635ee..a712bfde 100644\n--- a/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java\n+++ b/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java\n\n@@ -18,7 +18,7 @@ package com.google.cloud.tools.jib.api.buildplan;\n \n import java.nio.file.Path;\n \n-/** Serves as a base class for determining file permissions on a container. */\n+/** Interface for providing rules to determine file permissions on a container. */\n @FunctionalInterface\n public interface FilePermissionsProvider {\n \n"}}, {"oid": "9e479bf2741c38cd90d4598bbf433d9d073d2117", "url": "https://github.com/GoogleContainerTools/jib/commit/9e479bf2741c38cd90d4598bbf433d9d073d2117", "message": "modifying interface javadoc", "committedDate": "2020-07-31T15:30:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY4NjExNQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2647#discussion_r463686115", "bodyText": "style super-nit\nAlthough not really enforced, I generally follow these guidelines.\n\nWhen writing the comments themselves, in general, start with a phrase and follow it with sentences if they are needed.\n\nWhen writing a phrase, do not capitalize and do not end with a period:\n\n@param x the x-coordinate, measured in pixels\n\n\nWhen writing a phrase followed by a sentence, do not capitalize the phrase, but end it with a period to distinguish it from the start of the next sentence:\n\n@param x the x-coordinate. Measured in pixels.\n\n\nIf you prefer starting with a sentence, capitalize it and end it with a period:\n\n@param x Specifies the x-coordinate, measured in pixels.\n\n\nWhen writing multiple sentences, follow normal sentence rules:\n\n@param x Specifies the x-coordinate. Measured in pixels.", "author": "chanseokoh", "createdAt": "2020-07-31T15:42:14Z", "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.api.buildplan;\n+\n+import java.nio.file.Path;\n+\n+/** Interface for providing rules to determine file permissions on a container. */\n+@FunctionalInterface\n+public interface FilePermissionsProvider {\n+\n+  /**\n+   * Returns the file permissions that should be set for a path, given the source path and\n+   * destination path on a container.\n+   *\n+   * @param sourcePath the source file.\n+   * @param destinationPath the destination path in the container file system corresponding to\n+   *     sourcePath.\n+   * @return the permissions to be set for the file.", "originalCommit": "9e479bf2741c38cd90d4598bbf433d9d073d2117", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzczNjYzMQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2647#discussion_r463736631", "bodyText": "Ah this does make it easier to understand what the parameters mean.", "author": "mpeddada1", "createdAt": "2020-07-31T17:26:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY4NjExNQ=="}], "type": "inlineReview", "revised_code": {"commit": "b348feeb0f70c2be6a4fa594fea40ce1f1c32772", "chunk": "diff --git a/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java b/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java\nindex a712bfde..fff0cf7d 100644\n--- a/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java\n+++ b/jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/FilePermissionsProvider.java\n\n@@ -26,9 +26,9 @@ public interface FilePermissionsProvider {\n    * Returns the file permissions that should be set for a path, given the source path and\n    * destination path on a container.\n    *\n-   * @param sourcePath the source file.\n-   * @param destinationPath the destination path in the container file system corresponding to\n-   *     sourcePath.\n+   * @param sourcePath the source file\n+   * @param destinationPath the destination path. The path in the container file system\n+   *     corresponding to sourcePath.\n    * @return the permissions to be set for the file.\n    */\n   public FilePermissions getFilePermissions(Path sourcePath, AbsoluteUnixPath destinationPath);\n"}}, {"oid": "b348feeb0f70c2be6a4fa594fea40ce1f1c32772", "url": "https://github.com/GoogleContainerTools/jib/commit/b348feeb0f70c2be6a4fa594fea40ce1f1c32772", "message": "formatting comments", "committedDate": "2020-07-31T17:22:25Z", "type": "commit"}, {"oid": "9ea042ddd9b3c4c9ec75906cd588a3be188b1073", "url": "https://github.com/GoogleContainerTools/jib/commit/9ea042ddd9b3c4c9ec75906cd588a3be188b1073", "message": "formatting comments", "committedDate": "2020-07-31T17:22:57Z", "type": "commit"}]}