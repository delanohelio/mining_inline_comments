{"pr_number": 1512, "pr_title": "Expose the 'java.import.gradle.java.home' preference", "pr_createdAt": "2020-07-21T20:10:43Z", "pr_url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1512", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQwMDgyNQ==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1512#discussion_r458400825", "bodyText": "if (gradleJavaHomeChanged || hasAllowedChecksumsChanged(oldPreferences, newPreferences))\nno need to compute checksum changes if we already know we need to bail", "author": "fbricon", "createdAt": "2020-07-21T21:32:21Z", "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/managers/GradlePreferenceChangeListener.java", "diffHunk": "@@ -42,23 +42,24 @@\n \tpublic void preferencesChange(Preferences oldPreferences, Preferences newPreferences) {\n \t\tProjectsManager projectsManager = JavaLanguageServerPlugin.getProjectsManager();\n \t\tif (projectsManager != null) {\n-\t\t\tif (hasAllowedChecksumsChanged(oldPreferences, newPreferences)) {\n+\t\t\tboolean gradleJavaHomeChanged = !Objects.equals(oldPreferences.getGradleJavaHome(), newPreferences.getGradleJavaHome());\n+\t\t\tif (hasAllowedChecksumsChanged(oldPreferences, newPreferences) || gradleJavaHomeChanged) {", "originalCommit": "9160c7e3cea1cc644d960e528e482f78166bbc43", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQwNjI2OQ==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1512#discussion_r458406269", "bodyText": "Fixed.", "author": "snjeza", "createdAt": "2020-07-21T21:43:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQwMDgyNQ=="}], "type": "inlineReview", "revised_code": {"commit": "82420e2b5db3a212dae1f49a42ca8a9c0f4a4524", "chunk": "diff --git a/org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/managers/GradlePreferenceChangeListener.java b/org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/managers/GradlePreferenceChangeListener.java\nindex 61700fd5..c9aedd29 100644\n--- a/org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/managers/GradlePreferenceChangeListener.java\n+++ b/org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/managers/GradlePreferenceChangeListener.java\n\n@@ -43,7 +43,7 @@ public class GradlePreferenceChangeListener implements IPreferencesChangeListene\n \t\tProjectsManager projectsManager = JavaLanguageServerPlugin.getProjectsManager();\n \t\tif (projectsManager != null) {\n \t\t\tboolean gradleJavaHomeChanged = !Objects.equals(oldPreferences.getGradleJavaHome(), newPreferences.getGradleJavaHome());\n-\t\t\tif (hasAllowedChecksumsChanged(oldPreferences, newPreferences) || gradleJavaHomeChanged) {\n+\t\t\tif (gradleJavaHomeChanged || hasAllowedChecksumsChanged(oldPreferences, newPreferences)) {\n \t\t\t\tfor (IProject project : ProjectUtils.getGradleProjects()) {\n \t\t\t\t\tif (newPreferences.isGradleWrapperEnabled() || gradleJavaHomeChanged) {\n \t\t\t\t\t\tupdateProject(projectsManager, project, gradleJavaHomeChanged);\n"}}, {"oid": "82420e2b5db3a212dae1f49a42ca8a9c0f4a4524", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/82420e2b5db3a212dae1f49a42ca8a9c0f4a4524", "message": "Expose the 'java.import.gradle.java.home' preference\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-07-21T21:42:55Z", "type": "commit"}, {"oid": "82420e2b5db3a212dae1f49a42ca8a9c0f4a4524", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/82420e2b5db3a212dae1f49a42ca8a9c0f4a4524", "message": "Expose the 'java.import.gradle.java.home' preference\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-07-21T21:42:55Z", "type": "forcePushed"}]}