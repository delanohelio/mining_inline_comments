{"pr_number": 918, "pr_title": "Improves handling and delivery of variants.", "pr_createdAt": "2020-11-23T10:16:25Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/918", "timeline": [{"oid": "0039373f3a78315a9ea018ae37cd64dea0f43fed", "url": "https://github.com/scireum/sirius-biz/commit/0039373f3a78315a9ea018ae37cd64dea0f43fed", "message": "Detects and rejects empty files in case the conversion engine had a bad day.", "committedDate": "2020-11-23T09:32:18Z", "type": "commit"}, {"oid": "4bcddfcd163ff39bad13a15eca4a7dc6df722fd1", "url": "https://github.com/scireum/sirius-biz/commit/4bcddfcd163ff39bad13a15eca4a7dc6df722fd1", "message": "Uses proper exceptions and HTTP response codes to signal the conversion outcomes.", "committedDate": "2020-11-23T10:14:46Z", "type": "commit"}, {"oid": "fea6b64f7fba36b359dfb951344254a3c540c402", "url": "https://github.com/scireum/sirius-biz/commit/fea6b64f7fba36b359dfb951344254a3c540c402", "message": "Uses a dedicated retry wait loop for optimistic locks and anther for waiting for conversion results.\n\nFor OLs there is no point in a fixed wait time as only the difference for two threads counts,\nnot the time itself.", "committedDate": "2020-11-23T10:16:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYwODQ3OA==", "url": "https://github.com/scireum/sirius-biz/pull/918#discussion_r528608478", "bodyText": "This case is actually included/duplicated below", "author": "sabieber", "createdAt": "2020-11-23T10:38:31Z", "path": "src/main/java/sirius/biz/storage/layer2/BasicBlobStorageSpace.java", "diffHunk": "@@ -1212,6 +1225,19 @@ private V attemptToFindOrCreateVariant(B blob, String variantName, boolean nonbl\n             // We hit the nail on the head - we found a variant which has successfully been converted already.\n             // -> use it\n             return variant;", "originalCommit": "4bcddfcd163ff39bad13a15eca4a7dc6df722fd1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}