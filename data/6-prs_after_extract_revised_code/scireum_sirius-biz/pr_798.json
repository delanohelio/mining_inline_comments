{"pr_number": 798, "pr_title": "Adds non-null getters to PermissionData and TenantData for the config", "pr_createdAt": "2020-06-25T08:47:58Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/798", "timeline": [{"oid": "66f0ae9215b3088dabbd5ff03ab8c5f4a2458109", "url": "https://github.com/scireum/sirius-biz/commit/66f0ae9215b3088dabbd5ff03ab8c5f4a2458109", "message": "Adds non-null getters to PermissionData and TenantData for the config\n\nThe use of getConfig always requires a null-check. This is quite\ncumbersome and easily forgotten. This adds a second getter that will\nreturn an empty config instead.\n\nFixes: SE-9750", "committedDate": "2020-06-25T08:46:38Z", "type": "commit"}, {"oid": "c4897bcf7948ef2ec7af153ab44166dec0d0de75", "url": "https://github.com/scireum/sirius-biz/commit/c4897bcf7948ef2ec7af153ab44166dec0d0de75", "message": "Returns a Settings object instead of Config\n\nOften we would create a Settings object manually anyways after checking\nthe return value of getConfig. This can already be done here.\n\nFixes: SE-9750", "committedDate": "2020-06-25T09:04:46Z", "type": "commit"}, {"oid": "f03fa085d02ca637bf8b50de868dccd560346bb5", "url": "https://github.com/scireum/sirius-biz/commit/f03fa085d02ca637bf8b50de868dccd560346bb5", "message": "Remove the strict parameter\n\nThis should be false is all cases anyway.\n\nFixes: SE-9750", "committedDate": "2020-06-25T09:09:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQxOTYzOA==", "url": "https://github.com/scireum/sirius-biz/pull/798#discussion_r445419638", "bodyText": "Sollte das dann hier ned auch die neue Methode nutzen?", "author": "sabieber", "createdAt": "2020-06-25T09:13:55Z", "path": "src/main/java/sirius/biz/tenants/TenantUserManager.java", "diffHunk": "@@ -722,22 +722,25 @@ protected U getUserObject(UserInfo userInfo) {\n     @Override\n     protected UserSettings getUserSettings(UserSettings scopeSettings, UserInfo userInfo) {\n         U user = userInfo.getUserObject(getUserClass());\n-        if (user.getUserAccountData().getPermissions().getConfig() == null) {\n-            if (user.getTenant().fetchValue().getTenantData().getConfig() == null) {\n+        Config userAccountConfig = user.getUserAccountData().getPermissions().getConfig();", "originalCommit": "f03fa085d02ca637bf8b50de868dccd560346bb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQyNTA5Mg==", "url": "https://github.com/scireum/sirius-biz/pull/798#discussion_r445425092", "bodyText": "Man braucht die Config an der Stelle, dann braucht man es ja nicht verkomplizieren.", "author": "jmuscireum", "createdAt": "2020-06-25T09:23:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQxOTYzOA=="}], "type": "inlineReview", "revised_code": null}]}