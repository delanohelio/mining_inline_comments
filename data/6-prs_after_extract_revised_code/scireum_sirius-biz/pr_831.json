{"pr_number": 831, "pr_title": "Provides a helper which directly creates potentially long running que\u2026", "pr_createdAt": "2020-07-26T11:02:06Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/831", "timeline": [{"oid": "22c8de1cf5401c32a22de77dd3620d790bee86d7", "url": "https://github.com/scireum/sirius-biz/commit/22c8de1cf5401c32a22de77dd3620d790bee86d7", "message": "Provides a helper which directly creates potentially long running queries on the statistics warehouse.\n\n(Note, the queries are not made long running by the system but rather the framework will not report\nthese queries, as these are expected to be \"slower\" when crunching billions of rows).", "committedDate": "2020-07-26T09:22:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDUxNTYzNA==", "url": "https://github.com/scireum/sirius-biz/pull/831#discussion_r460515634", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * This is a Clickhouse database and the given query is automatically marked as potentiall long running to\n          \n          \n            \n                 * This is a Clickhouse database and the given query is automatically marked as potentially long running to", "author": "meg1502", "createdAt": "2020-07-26T11:33:12Z", "path": "src/main/java/sirius/biz/analytics/events/EventRecorder.java", "diffHunk": "@@ -135,6 +136,27 @@ public Database getDatabase() {\n         return database;\n     }\n \n+    /**\n+     * Directly creates a new quey on the datastore used for events.\n+     * <p>\n+     * This is a Clickhouse database and the given query is automatically marked as potentiall long running to", "originalCommit": "22c8de1cf5401c32a22de77dd3620d790bee86d7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "64a85d80f2263f40b9cdbbb229e62d94db611a78", "chunk": "diff --git a/src/main/java/sirius/biz/analytics/events/EventRecorder.java b/src/main/java/sirius/biz/analytics/events/EventRecorder.java\nindex 3877b61c..73ffdc36 100644\n--- a/src/main/java/sirius/biz/analytics/events/EventRecorder.java\n+++ b/src/main/java/sirius/biz/analytics/events/EventRecorder.java\n\n@@ -139,7 +139,7 @@ public class EventRecorder implements Startable, Stoppable, MetricProvider {\n     /**\n      * Directly creates a new quey on the datastore used for events.\n      * <p>\n-     * This is a Clickhouse database and the given query is automatically marked as potentiall long running to\n+     * This is a Clickhouse database and the given query is automatically marked as potentially long running to\n      * suppress warnings if the query takes longer than a usual SQL query (which is kind of expected for large\n      * data warehouses).\n      *\n"}}, {"oid": "64a85d80f2263f40b9cdbbb229e62d94db611a78", "url": "https://github.com/scireum/sirius-biz/commit/64a85d80f2263f40b9cdbbb229e62d94db611a78", "message": "Update src/main/java/sirius/biz/analytics/events/EventRecorder.java\n\nCo-authored-by: meg1502 <meg@scireum.de>", "committedDate": "2020-07-26T11:37:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDc1MA==", "url": "https://github.com/scireum/sirius-biz/pull/831#discussion_r460564750", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Directly creates a new quey on the datastore used for events.\n          \n          \n            \n                 * Directly creates a new query on the datastore used for events.", "author": "bwiedmann", "createdAt": "2020-07-26T19:34:11Z", "path": "src/main/java/sirius/biz/analytics/events/EventRecorder.java", "diffHunk": "@@ -135,6 +136,27 @@ public Database getDatabase() {\n         return database;\n     }\n \n+    /**\n+     * Directly creates a new quey on the datastore used for events.", "originalCommit": "64a85d80f2263f40b9cdbbb229e62d94db611a78", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "611da2fdc98c70400b382d836936ac90baa59722", "chunk": "diff --git a/src/main/java/sirius/biz/analytics/events/EventRecorder.java b/src/main/java/sirius/biz/analytics/events/EventRecorder.java\nindex 73ffdc36..288d1c49 100644\n--- a/src/main/java/sirius/biz/analytics/events/EventRecorder.java\n+++ b/src/main/java/sirius/biz/analytics/events/EventRecorder.java\n\n@@ -137,7 +137,7 @@ public class EventRecorder implements Startable, Stoppable, MetricProvider {\n     }\n \n     /**\n-     * Directly creates a new quey on the datastore used for events.\n+     * Directly creates a new query on the datastore used for events.\n      * <p>\n      * This is a Clickhouse database and the given query is automatically marked as potentially long running to\n      * suppress warnings if the query takes longer than a usual SQL query (which is kind of expected for large\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDg0OA==", "url": "https://github.com/scireum/sirius-biz/pull/831#discussion_r460564848", "bodyText": "Codestyle?", "author": "bwiedmann", "createdAt": "2020-07-26T19:35:03Z", "path": "src/main/java/sirius/biz/analytics/events/EventRecorder.java", "diffHunk": "@@ -135,6 +136,27 @@ public Database getDatabase() {\n         return database;\n     }\n \n+    /**\n+     * Directly creates a new quey on the datastore used for events.\n+     * <p>\n+     * This is a Clickhouse database and the given query is automatically marked as potentially long running to\n+     * suppress warnings if the query takes longer than a usual SQL query (which is kind of expected for large\n+     * data warehouses).\n+     *\n+     * @param sql the SQL to execute. Note that this should be a constant string as parameters can later be passed in\n+     *            using {@link SQLQuery#set(String, Object)}", "originalCommit": "64a85d80f2263f40b9cdbbb229e62d94db611a78", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDY2MjUxMg==", "url": "https://github.com/scireum/sirius-biz/pull/831#discussion_r460662512", "bodyText": "Einr\u00fcckung passt hier glaub", "author": "sabieber", "createdAt": "2020-07-27T05:59:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDg0OA=="}], "type": "inlineReview", "revised_code": {"commit": "611da2fdc98c70400b382d836936ac90baa59722", "chunk": "diff --git a/src/main/java/sirius/biz/analytics/events/EventRecorder.java b/src/main/java/sirius/biz/analytics/events/EventRecorder.java\nindex 73ffdc36..288d1c49 100644\n--- a/src/main/java/sirius/biz/analytics/events/EventRecorder.java\n+++ b/src/main/java/sirius/biz/analytics/events/EventRecorder.java\n\n@@ -137,7 +137,7 @@ public class EventRecorder implements Startable, Stoppable, MetricProvider {\n     }\n \n     /**\n-     * Directly creates a new quey on the datastore used for events.\n+     * Directly creates a new query on the datastore used for events.\n      * <p>\n      * This is a Clickhouse database and the given query is automatically marked as potentially long running to\n      * suppress warnings if the query takes longer than a usual SQL query (which is kind of expected for large\n"}}, {"oid": "611da2fdc98c70400b382d836936ac90baa59722", "url": "https://github.com/scireum/sirius-biz/commit/611da2fdc98c70400b382d836936ac90baa59722", "message": "Update src/main/java/sirius/biz/analytics/events/EventRecorder.java\n\nCo-authored-by: Benjamin Wiedmann <bwi@scireum.de>", "committedDate": "2020-07-27T15:32:17Z", "type": "commit"}, {"oid": "dfc826953b903f088a1a703d8ea8c560bfa2d400", "url": "https://github.com/scireum/sirius-biz/commit/dfc826953b903f088a1a703d8ea8c560bfa2d400", "message": "Updates to the latest sirius-db and -web.", "committedDate": "2020-07-28T09:06:15Z", "type": "commit"}, {"oid": "24b6d67977627f7f86f0bc5096acfaf01881e991", "url": "https://github.com/scireum/sirius-biz/commit/24b6d67977627f7f86f0bc5096acfaf01881e991", "message": "Merge branch 'master' into aha/clickhouse-update", "committedDate": "2020-07-28T09:07:19Z", "type": "commit"}]}