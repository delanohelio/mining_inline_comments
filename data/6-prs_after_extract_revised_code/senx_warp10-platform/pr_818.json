{"pr_number": 818, "pr_title": "Modify SORTBY and SORTHWITH to sort LinkedHashMaps", "pr_createdAt": "2020-08-31T14:42:01Z", "pr_url": "https://github.com/senx/warp10-platform/pull/818", "timeline": [{"oid": "6e50552816cd3d826eccfaa0f6ff2d17a1a06da3", "url": "https://github.com/senx/warp10-platform/commit/6e50552816cd3d826eccfaa0f6ff2d17a1a06da3", "message": "Modify SORTBY and SORTHWITH to sort LinkedHashMaps", "committedDate": "2020-08-31T14:38:05Z", "type": "commit"}, {"oid": "dcec398594acfd86e30a93c8ddfeec0223390da0", "url": "https://github.com/senx/warp10-platform/commit/dcec398594acfd86e30a93c8ddfeec0223390da0", "message": "Update SORTWITH doc", "committedDate": "2020-08-31T14:41:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc1ODE0Mg==", "url": "https://github.com/senx/warp10-platform/pull/818#discussion_r481758142", "bodyText": "if they are equal.\nSame typo above.", "author": "hbs", "createdAt": "2020-09-02T06:03:38Z", "path": "warp10/src/main/java/io/warp10/script/functions/SORTWITH.java", "diffHunk": "@@ -21,24 +21,35 @@\n import io.warp10.script.WarpScriptStack;\n import io.warp10.script.WarpScriptStackFunction;\n \n+import java.util.ArrayList;\n import java.util.Comparator;\n import java.util.EmptyStackException;\n+import java.util.LinkedHashMap;\n import java.util.List;\n+import java.util.Map;\n \n /**\n- * Sorts a list using a comparator macro.\n- * The comparator macro is given:\n+ * Sorts a list or a LinkedHashMap using a comparator macro.\n+ *\n+ * In the case of a List, the comparator macro is given:\n  * TOP: b\n  * 2:   a\n  * And should push a negative Long if a less than b, a positive one if a more than b or 0L if there are equal.\n  * This Long must be within the bounds of a 32-bit integer.\n+ *\n+ * In the case of a LinkedHashMap, the comparator macro is given:\n+ * TOP: b.value\n+ * 2:   b.key\n+ * 2:   a.value\n+ * 2:   a.key\n+ * And should push a negative Long if a less than b, a positive one if a more than b or 0L if there are equal.", "originalCommit": "dcec398594acfd86e30a93c8ddfeec0223390da0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4d1ed251ce0ef1f00207245c89e637ee92c25f6b", "chunk": "diff --git a/warp10/src/main/java/io/warp10/script/functions/SORTWITH.java b/warp10/src/main/java/io/warp10/script/functions/SORTWITH.java\nindex dabe2dc1..f1245e5a 100644\n--- a/warp10/src/main/java/io/warp10/script/functions/SORTWITH.java\n+++ b/warp10/src/main/java/io/warp10/script/functions/SORTWITH.java\n\n@@ -34,7 +34,7 @@ import java.util.Map;\n  * In the case of a List, the comparator macro is given:\n  * TOP: b\n  * 2:   a\n- * And should push a negative Long if a less than b, a positive one if a more than b or 0L if there are equal.\n+ * And should push a negative Long if a less than b, a positive one if a more than b or 0L if they are equal.\n  * This Long must be within the bounds of a 32-bit integer.\n  *\n  * In the case of a LinkedHashMap, the comparator macro is given:\n"}}, {"oid": "4d1ed251ce0ef1f00207245c89e637ee92c25f6b", "url": "https://github.com/senx/warp10-platform/commit/4d1ed251ce0ef1f00207245c89e637ee92c25f6b", "message": "Fix typo", "committedDate": "2020-09-02T08:12:54Z", "type": "commit"}]}