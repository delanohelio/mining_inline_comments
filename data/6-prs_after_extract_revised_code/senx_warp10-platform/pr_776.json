{"pr_number": 776, "pr_title": "Allow headers setting in URLFETCH", "pr_createdAt": "2020-06-16T15:28:14Z", "pr_url": "https://github.com/senx/warp10-platform/pull/776", "timeline": [{"oid": "f0a6fe9938d89e092996f9e238e1384298f6356a", "url": "https://github.com/senx/warp10-platform/commit/f0a6fe9938d89e092996f9e238e1384298f6356a", "message": "Allow headers setting in URLFETCH", "committedDate": "2020-06-16T15:27:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE0MzI3Mg==", "url": "https://github.com/senx/warp10-platform/pull/776#discussion_r441143272", "bodyText": "Instead of casting it would probably be better to iterate on the entries and call put(String.valueOf(k),String.valueOf(v));", "author": "hbs", "createdAt": "2020-06-16T21:08:57Z", "path": "warp10/src/main/java/io/warp10/script/ext/urlfetch/URLFETCH.java", "diffHunk": "@@ -69,6 +69,12 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n \n     Object o = stack.pop();\n \n+    HashMap<String, String> properties = new HashMap<String, String>();\n+    if (o instanceof Map) {", "originalCommit": "f0a6fe9938d89e092996f9e238e1384298f6356a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bee81d7e79c181ca545ee3c053cc2bc849d1d8e8", "chunk": "diff --git a/warp10/src/main/java/io/warp10/script/ext/urlfetch/URLFETCH.java b/warp10/src/main/java/io/warp10/script/ext/urlfetch/URLFETCH.java\nindex 64fc88c8..e03cbd4d 100644\n--- a/warp10/src/main/java/io/warp10/script/ext/urlfetch/URLFETCH.java\n+++ b/warp10/src/main/java/io/warp10/script/ext/urlfetch/URLFETCH.java\n\n@@ -69,9 +69,9 @@ public class URLFETCH extends NamedWarpScriptFunction implements WarpScriptStack\n \n     Object o = stack.pop();\n \n-    HashMap<String, String> properties = new HashMap<String, String>();\n+    Map<Object, Object> properties = new HashMap<Object, Object>();\n     if (o instanceof Map) {\n-      properties = (HashMap<String, String>) o;\n+      properties = (Map<Object, Object>) o;\n       o = stack.pop();\n     }\n \n"}}, {"oid": "bee81d7e79c181ca545ee3c053cc2bc849d1d8e8", "url": "https://github.com/senx/warp10-platform/commit/bee81d7e79c181ca545ee3c053cc2bc849d1d8e8", "message": "Fix casts to avoid CCE", "committedDate": "2020-06-17T08:02:16Z", "type": "commit"}]}