{"pr_number": 2121, "pr_title": "Single add forSingle and exceptionallyAccept", "pr_createdAt": "2020-07-02T11:04:36Z", "pr_url": "https://github.com/oracle/helidon/pull/2121", "timeline": [{"oid": "32b9895094869c4fbea0f55bb19060a4ea4fd46d", "url": "https://github.com/oracle/helidon/commit/32b9895094869c4fbea0f55bb19060a4ea4fd46d", "message": "ForSingle and exceptionally with consumer\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>", "committedDate": "2020-07-02T10:25:56Z", "type": "commit"}, {"oid": "a132560cad94b4e218d904f40e253248454d3f26", "url": "https://github.com/oracle/helidon/commit/a132560cad94b4e218d904f40e253248454d3f26", "message": "ForSingle and exceptionally with consumer\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>", "committedDate": "2020-07-02T10:46:25Z", "type": "commit"}, {"oid": "656b8b17d6abe82ff26dc4760231804b8a170552", "url": "https://github.com/oracle/helidon/commit/656b8b17d6abe82ff26dc4760231804b8a170552", "message": "exceptionallyAccept\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>", "committedDate": "2020-07-02T11:03:16Z", "type": "commit"}, {"oid": "72ab2a72de749baa4627a68364b9a5f6e2611882", "url": "https://github.com/oracle/helidon/commit/72ab2a72de749baa4627a68364b9a5f6e2611882", "message": "checkstyle\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>", "committedDate": "2020-07-02T11:46:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE4NzcyNw==", "url": "https://github.com/oracle/helidon/pull/2121#discussion_r449187727", "bodyText": "Is this missing a @Override annotation ?", "author": "romain-grecourt", "createdAt": "2020-07-02T18:07:06Z", "path": "common/reactive/src/main/java/io/helidon/common/reactive/CompletionAwaitable.java", "diffHunk": "@@ -294,6 +294,18 @@ void setOriginalStage(final Supplier<CompletionStage<T>> originalStage) {\n         return new CompletionAwaitable<T>(() -> completionStage, this);\n     }\n \n+    /**\n+     * {@inheritDoc}\n+     */\n+    public CompletionAwaitable<T> exceptionallyAccept(final Consumer<Throwable> consumer) {", "originalCommit": "72ab2a72de749baa4627a68364b9a5f6e2611882", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU5MjIzNQ==", "url": "https://github.com/oracle/helidon/pull/2121#discussion_r449592235", "bodyText": "No this one is ours, but the inherit docs was wrong thx", "author": "danielkec", "createdAt": "2020-07-03T13:47:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE4NzcyNw=="}], "type": "inlineReview", "revised_code": {"commit": "ce324cbee81de2b4d62c160700d347c83ddd58ab", "chunk": "diff --git a/common/reactive/src/main/java/io/helidon/common/reactive/CompletionAwaitable.java b/common/reactive/src/main/java/io/helidon/common/reactive/CompletionAwaitable.java\nindex 60c36cad2..83e051282 100644\n--- a/common/reactive/src/main/java/io/helidon/common/reactive/CompletionAwaitable.java\n+++ b/common/reactive/src/main/java/io/helidon/common/reactive/CompletionAwaitable.java\n\n@@ -295,7 +295,15 @@ public class CompletionAwaitable<T> implements CompletionStage<T>, Awaitable<T>\n     }\n \n     /**\n-     * {@inheritDoc}\n+     * Returns a new CompletionAwaitable that, when this stage completes\n+     * exceptionally, is executed with this stage's exception as the\n+     * argument to the supplied consumer. Otherwise, if this stage\n+     * completes normally, then the returned stage also completes\n+     * normally with the same value.\n+     *\n+     * @param consumer the consumer to invoke if this CompletionAwaitable completed\n+     *                 exceptionally\n+     * @return the new CompletionAwaitable\n      */\n     public CompletionAwaitable<T> exceptionallyAccept(final Consumer<Throwable> consumer) {\n         return this.handle((item, t) -> {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI3NzQ3MA==", "url": "https://github.com/oracle/helidon/pull/2121#discussion_r449277470", "bodyText": "Seems a copy paste error - probably not a CompletionStage (here, in param and in return tags as well)", "author": "tomas-langer", "createdAt": "2020-07-02T21:37:41Z", "path": "common/reactive/src/main/java/io/helidon/common/reactive/Single.java", "diffHunk": "@@ -793,4 +803,17 @@ default T get(long timeout, TimeUnit unit) throws InterruptedException, Executio\n \n     @Override\n     CompletionAwaitable<T> exceptionally(Function<Throwable, ? extends T> fn);\n+\n+    /**\n+     * Returns a new CompletionStage that, when this stage completes", "originalCommit": "72ab2a72de749baa4627a68364b9a5f6e2611882", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU5MjU0MA==", "url": "https://github.com/oracle/helidon/pull/2121#discussion_r449592540", "bodyText": "Fixed thx", "author": "danielkec", "createdAt": "2020-07-03T13:48:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI3NzQ3MA=="}], "type": "inlineReview", "revised_code": {"commit": "ce324cbee81de2b4d62c160700d347c83ddd58ab", "chunk": "diff --git a/common/reactive/src/main/java/io/helidon/common/reactive/Single.java b/common/reactive/src/main/java/io/helidon/common/reactive/Single.java\nindex 72aa3345a..ba4897806 100644\n--- a/common/reactive/src/main/java/io/helidon/common/reactive/Single.java\n+++ b/common/reactive/src/main/java/io/helidon/common/reactive/Single.java\n\n@@ -805,15 +805,15 @@ public interface Single<T> extends Subscribable<T>, CompletionStage<T>, Awaitabl\n     CompletionAwaitable<T> exceptionally(Function<Throwable, ? extends T> fn);\n \n     /**\n-     * Returns a new CompletionStage that, when this stage completes\n+     * Returns a new CompletionAwaitable that, when this stage completes\n      * exceptionally, is executed with this stage's exception as the\n      * argument to the supplied consumer. Otherwise, if this stage\n      * completes normally, then the returned stage also completes\n      * normally with the same value.\n      *\n-     * @param consumer the consumer to invoke if this CompletionStage completed\n+     * @param consumer the consumer to invoke if this CompletionAwaitable completed\n      *                 exceptionally\n-     * @return the new CompletionStage\n+     * @return the new CompletionAwaitable\n      */\n     CompletionAwaitable<T> exceptionallyAccept(Consumer<Throwable> consumer);\n }\n"}}, {"oid": "ce324cbee81de2b4d62c160700d347c83ddd58ab", "url": "https://github.com/oracle/helidon/commit/ce324cbee81de2b4d62c160700d347c83ddd58ab", "message": "Fix javadoc\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>", "committedDate": "2020-07-03T13:44:29Z", "type": "commit"}]}