{"pr_number": 1436, "pr_title": "feat: adds subjectName in the exception for incompatible schema ", "pr_createdAt": "2020-04-29T19:48:53Z", "pr_url": "https://github.com/confluentinc/schema-registry/pull/1436", "timeline": [{"oid": "ba01e1a1022ea81fbfad6afa91c208f38e936d93", "url": "https://github.com/confluentinc/schema-registry/commit/ba01e1a1022ea81fbfad6afa91c208f38e936d93", "message": "feat: adds subjectName in the exception for incompatible schema as it helps to triage the incompatibility.\n\nThe incompatible schema is relevant but not enough information to triage the problem as it can be that we are register a right and compatible schema but in the wrong subject (#1435).", "committedDate": "2020-04-29T19:46:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEzMTU2Mg==", "url": "https://github.com/confluentinc/schema-registry/pull/1436#discussion_r418131562", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                           + \" earlier schema for topic \"\n          \n          \n            \n                                                           + \" earlier schema for subject \"", "author": "rayokota", "createdAt": "2020-04-30T16:20:15Z", "path": "core/src/main/java/io/confluent/kafka/schemaregistry/rest/resources/SubjectVersionsResource.java", "diffHunk": "@@ -278,7 +278,8 @@ public void register(\n                                                     + \" to the master\", e);\n     } catch (IncompatibleSchemaException e) {\n       throw Errors.incompatibleSchemaException(\"Schema being registered is incompatible with an\"\n-                                               + \" earlier schema\", e);\n+                                               + \" earlier schema for topic \"", "originalCommit": "ba01e1a1022ea81fbfad6afa91c208f38e936d93", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3cb954de0930cde5e20e6dd56fbf088e17f454b9", "chunk": "diff --git a/core/src/main/java/io/confluent/kafka/schemaregistry/rest/resources/SubjectVersionsResource.java b/core/src/main/java/io/confluent/kafka/schemaregistry/rest/resources/SubjectVersionsResource.java\nindex a0841e9ef..89332c9da 100644\n--- a/core/src/main/java/io/confluent/kafka/schemaregistry/rest/resources/SubjectVersionsResource.java\n+++ b/core/src/main/java/io/confluent/kafka/schemaregistry/rest/resources/SubjectVersionsResource.java\n\n@@ -278,7 +278,7 @@ public class SubjectVersionsResource {\n                                                     + \" to the master\", e);\n     } catch (IncompatibleSchemaException e) {\n       throw Errors.incompatibleSchemaException(\"Schema being registered is incompatible with an\"\n-                                               + \" earlier schema for topic \"\n+                                               + \" earlier schema for subject \"\n                                                + \"\\\"\" + subjectName + \"\\\"\", e);\n     } catch (UnknownMasterException e) {\n       throw Errors.unknownMasterException(\"Master not known.\", e);\n"}}, {"oid": "3cb954de0930cde5e20e6dd56fbf088e17f454b9", "url": "https://github.com/confluentinc/schema-registry/commit/3cb954de0930cde5e20e6dd56fbf088e17f454b9", "message": "fix: fixes exception message s/topic/subject\n\nCo-authored-by: Robert Yokota <rayokota@gmail.com>", "committedDate": "2020-04-30T21:20:33Z", "type": "commit"}]}