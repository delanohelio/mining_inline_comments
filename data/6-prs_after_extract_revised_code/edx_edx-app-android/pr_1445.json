{"pr_number": 1445, "pr_title": "Migrate from Drupal to Prospectus", "pr_createdAt": "2020-07-30T10:51:17Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1445", "timeline": [{"oid": "79e82cbfc542829afa85b01eaf99225b107298b4", "url": "https://github.com/edx/edx-app-android/commit/79e82cbfc542829afa85b01eaf99225b107298b4", "message": "Migrate from Drupal to Prospectus\n- LEARNER-7854\n- Changes in support to Migrate from Drupal to Prospectus", "committedDate": "2020-08-19T16:27:54Z", "type": "commit"}, {"oid": "aad486c4537cd053ff079274dcebc98270e38b5d", "url": "https://github.com/edx/edx-app-android/commit/aad486c4537cd053ff079274dcebc98270e38b5d", "message": "Entertain only one search query", "committedDate": "2020-08-19T16:34:40Z", "type": "commit"}, {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "url": "https://github.com/edx/edx-app-android/commit/fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "message": "Implement empty query submit listener", "committedDate": "2020-08-19T16:34:40Z", "type": "commit"}, {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "url": "https://github.com/edx/edx-app-android/commit/fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "message": "Implement empty query submit listener", "committedDate": "2020-08-19T16:34:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODA2Ng==", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r473888066", "bodyText": "extra line", "author": "omerhabib26", "createdAt": "2020-08-20T11:04:52Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java", "diffHunk": "@@ -1,6 +1,7 @@\n package org.edx.mobile.util;\n \n import android.net.Uri;\n+", "originalCommit": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQyMDk1NA==", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r474420954", "bodyText": "removed.", "author": "farhan-arshad-dev", "createdAt": "2020-08-21T05:45:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODA2Ng=="}], "type": "inlineReview", "revised_code": {"commit": "befa601a397100ebb5793bc61dba2cd516cc613e", "chunk": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java b/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java\nindex 87c3a095..933563f2 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java\n\n@@ -1,7 +1,6 @@\n package org.edx.mobile.util;\n \n import android.net.Uri;\n-\n import androidx.annotation.NonNull;\n \n import org.edx.mobile.logger.Logger;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODcwOA==", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r473888708", "bodyText": "Can we update the doc?", "author": "omerhabib26", "createdAt": "2020-08-20T11:06:05Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java", "diffHunk": "@@ -74,4 +75,23 @@ public static String buildUrlWithQueryParams(@NonNull Logger logger, @NonNull St\n         }\n         return paramsMap;\n     }\n+\n+    /**\n+     * Method to remove the given parameter", "originalCommit": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQyMjg4Mg==", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r474422882", "bodyText": "updated.", "author": "farhan-arshad-dev", "createdAt": "2020-08-21T05:52:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODcwOA=="}], "type": "inlineReview", "revised_code": {"commit": "befa601a397100ebb5793bc61dba2cd516cc613e", "chunk": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java b/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java\nindex 87c3a095..933563f2 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java\n\n@@ -77,7 +76,7 @@ public class UrlUtil {\n     }\n \n     /**\n-     * Method to remove the given parameter\n+     * Utility function to remove the given query parameter from the URL\n      * Ref: https://stackoverflow.com/a/56108097\n      *\n      * @param url        that needs to update\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg5MzE5NQ==", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r473893195", "bodyText": "Can we remove the parameters from the method as both parameters are defined in class level?", "author": "omerhabib26", "createdAt": "2020-08-20T11:15:05Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/WebViewDiscoverFragment.java", "diffHunk": "@@ -155,15 +159,28 @@ public void onFocusChange(View view, boolean queryTextFocused) {\n     private void initSearchView() {\n         searchView = toolbarCallbacks.getSearchView();\n         if (getUserVisibleHint()) {\n-            searchView.setQueryHint(getResources().getString(getQueryHint()));\n-            searchView.setOnQueryTextListener(onQueryTextListener);\n-            searchView.setOnQueryTextFocusChangeListener(onFocusChangeListener);\n+            setupSearchViewListeners();\n         }\n         if (searchView.hasFocus()) {\n             updateTitleVisibility(View.GONE);\n         }\n     }\n \n+    private void setupSearchViewListeners() {\n+        searchView.setQueryHint(getResources().getString(getQueryHint()));\n+        searchView.setOnQueryTextListener(onQueryTextListener);\n+        searchView.setOnQueryTextFocusChangeListener(onFocusChangeListener);\n+        setupEmptyQuerySubmitListener(searchView, onQueryTextListener);\n+    }\n+\n+    private void setupEmptyQuerySubmitListener(SearchView searchView,", "originalCommit": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQyMDk3Mw==", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r474420973", "bodyText": "removed.", "author": "farhan-arshad-dev", "createdAt": "2020-08-21T05:45:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg5MzE5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "befa601a397100ebb5793bc61dba2cd516cc613e", "chunk": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/WebViewDiscoverFragment.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/WebViewDiscoverFragment.java\nindex 3fec66c1..db58ad22 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/WebViewDiscoverFragment.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/WebViewDiscoverFragment.java\n\n@@ -170,11 +170,10 @@ public abstract class WebViewDiscoverFragment extends BaseWebViewFragment {\n         searchView.setQueryHint(getResources().getString(getQueryHint()));\n         searchView.setOnQueryTextListener(onQueryTextListener);\n         searchView.setOnQueryTextFocusChangeListener(onFocusChangeListener);\n-        setupEmptyQuerySubmitListener(searchView, onQueryTextListener);\n+        setupEmptyQuerySubmitListener();\n     }\n \n-    private void setupEmptyQuerySubmitListener(SearchView searchView,\n-                                               SearchView.OnQueryTextListener onQueryTextListener) {\n+    private void setupEmptyQuerySubmitListener() {\n         // Inspiration: https://github.com/Foso/Notes/blob/master/Android/EmptySubmitSearchView.java\n         SearchView.SearchAutoComplete searchSrcTextView = searchView.findViewById(androidx.appcompat.R.id.search_src_text);\n         searchSrcTextView.setOnEditorActionListener((textView, actionId, event) ->\n"}}, {"oid": "befa601a397100ebb5793bc61dba2cd516cc613e", "url": "https://github.com/edx/edx-app-android/commit/befa601a397100ebb5793bc61dba2cd516cc613e", "message": "Address PR comments", "committedDate": "2020-08-21T05:44:46Z", "type": "commit"}]}