{"pr_number": 1499, "pr_title": "Drop Android 4.4 (KitKat) support ", "pr_createdAt": "2020-12-17T11:57:15Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1499", "timeline": [{"oid": "4f7223e3ed7bf0b5f739e7313b585ef91ef08cc3", "url": "https://github.com/edx/edx-app-android/commit/4f7223e3ed7bf0b5f739e7313b585ef91ef08cc3", "message": "Remove 'Build.Version.LOLLIPOP' checks and releated code\"", "committedDate": "2020-12-24T14:03:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDE4OTY5Mw==", "url": "https://github.com/edx/edx-app-android/pull/1499#discussion_r550189693", "bodyText": "Remove unused imports", "author": "omerhabib26", "createdAt": "2020-12-30T13:09:51Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/services/EdxCookieManager.java", "diffHunk": "@@ -55,10 +55,6 @@ public static synchronized EdxCookieManager getSharedInstance(@NonNull final Con\n         if ( instance == null ) {\n             instance = new EdxCookieManager();\n             RoboGuice.getInjector(context).injectMembers(instance);", "originalCommit": "4f7223e3ed7bf0b5f739e7313b585ef91ef08cc3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ4OTQ5NA==", "url": "https://github.com/edx/edx-app-android/pull/1499#discussion_r550489494", "bodyText": "Removed.", "author": "farhan-arshad-dev", "createdAt": "2020-12-31T14:03:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDE4OTY5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "8a05192fd1ce60e75e7a5dbbea5acfba3304abe8", "chunk": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/services/EdxCookieManager.java b/OpenEdXMobile/src/main/java/org/edx/mobile/services/EdxCookieManager.java\nindex ca77e17b..0477318a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/services/EdxCookieManager.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/services/EdxCookieManager.java\n\n@@ -55,6 +55,10 @@ public class EdxCookieManager {\n         if ( instance == null ) {\n             instance = new EdxCookieManager();\n             RoboGuice.getInjector(context).injectMembers(instance);\n+\n+            if (Build.VERSION.SDK_INT < Build.VERSION_CODES.LOLLIPOP) {\n+                CookieSyncManager.createInstance(context);\n+            }\n         }\n         return instance;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDE5MDAwOA==", "url": "https://github.com/edx/edx-app-android/pull/1499#discussion_r550190008", "bodyText": "Remove unused imports", "author": "omerhabib26", "createdAt": "2020-12-30T13:11:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -35,11 +35,6 @@ public CourseCardViewHolder(View convertView) {\n                 .findViewById(R.id.course_image);\n         this.newCourseContent = convertView\n                 .findViewById(R.id.new_course_content_layout);", "originalCommit": "4f7223e3ed7bf0b5f739e7313b585ef91ef08cc3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ4OTQ4OA==", "url": "https://github.com/edx/edx-app-android/pull/1499#discussion_r550489488", "bodyText": "Removed.", "author": "farhan-arshad-dev", "createdAt": "2020-12-31T14:03:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDE5MDAwOA=="}], "type": "inlineReview", "revised_code": {"commit": "8a05192fd1ce60e75e7a5dbbea5acfba3304abe8", "chunk": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex adec77e4..c6d39cdf 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n\n@@ -35,6 +40,15 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n                 .findViewById(R.id.course_image);\n         this.newCourseContent = convertView\n                 .findViewById(R.id.new_course_content_layout);\n+        if (android.os.Build.VERSION.SDK_INT < Build.VERSION_CODES.LOLLIPOP) {\n+            // On pre-lollipop devices CardView doesn't support the clipping for round corners\n+            // Overlay foreground image is used as a hack for it.\n+            convertView.findViewById(R.id.view_foreground_overlay).setVisibility(View.VISIBLE);\n+        }\n+        this.propContainer = (LinearLayout) convertView\n+                .findViewById(R.id.ll_graded_content_layout);\n+        this.learnMore = (AppCompatButton) convertView\n+                .findViewById(R.id.btn_learn_more);\n     }\n \n     public void setCourseTitle(@NonNull String title) {\n"}}, {"oid": "8a05192fd1ce60e75e7a5dbbea5acfba3304abe8", "url": "https://github.com/edx/edx-app-android/commit/8a05192fd1ce60e75e7a5dbbea5acfba3304abe8", "message": "Drop Android 4.4 (KitKat) support\n- LEARNER-8104\n- Update minSdkVersion to v21", "committedDate": "2021-01-10T19:09:18Z", "type": "commit"}, {"oid": "1d641337fab6c129351372922097cb2edc436b9e", "url": "https://github.com/edx/edx-app-android/commit/1d641337fab6c129351372922097cb2edc436b9e", "message": "Remove obsoleted code written in support of kitkat\n- Remove unused code, Update text colors to increase readability\n- Remove unused files and classes\n- Replace paddingLeft/Right to paddingStart/End\n- Replace marginLeft/Right with marginStart/End\n- Remove 'Build.Version.LOLLIPOP' checks and releated code\"\n- Use define dimens and color instated of hard coded", "committedDate": "2021-01-10T19:44:41Z", "type": "commit"}, {"oid": "1d641337fab6c129351372922097cb2edc436b9e", "url": "https://github.com/edx/edx-app-android/commit/1d641337fab6c129351372922097cb2edc436b9e", "message": "Remove obsoleted code written in support of kitkat\n- Remove unused code, Update text colors to increase readability\n- Remove unused files and classes\n- Replace paddingLeft/Right to paddingStart/End\n- Replace marginLeft/Right with marginStart/End\n- Remove 'Build.Version.LOLLIPOP' checks and releated code\"\n- Use define dimens and color instated of hard coded", "committedDate": "2021-01-10T19:44:41Z", "type": "forcePushed"}]}