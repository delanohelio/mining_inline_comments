{"pr_number": 7522, "pr_title": "Ensure the create subscription can be completed when the operation timeout happens", "pr_createdAt": "2020-07-13T13:37:25Z", "pr_url": "https://github.com/apache/pulsar/pull/7522", "timeline": [{"oid": "9dcd3250cb54704a9295bbf21f2bc935f898d6f9", "url": "https://github.com/apache/pulsar/commit/9dcd3250cb54704a9295bbf21f2bc935f898d6f9", "message": "Ensure the create subscription can completed when operation timeout happens.", "committedDate": "2020-07-13T13:34:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzY1ODM5OQ==", "url": "https://github.com/apache/pulsar/pull/7522#discussion_r453658399", "bodyText": "This is one topic subscribe error, so we should remove the check with all topic partitions number, Otherwise, the one topic subscribe future can't complete.", "author": "codelipenghui", "createdAt": "2020-07-13T13:42:29Z", "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/MultiTopicsConsumerImpl.java", "diffHunk": "@@ -920,7 +919,6 @@ private void handleSubscribeOneTopicError(String topicName, Throwable error, Com\n                         log.warn(\"[{}] Failed to subscribe for topic [{}] in topics consumer, subscribe error: {}\",\n                             topic, topicName, error.getMessage());\n                         topics.remove(topicName);\n-                        checkState(allTopicPartitionsNumber.get() == consumers.values().size());", "originalCommit": "9dcd3250cb54704a9295bbf21f2bc935f898d6f9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "a9763d0960ef6f5eb89bce8d299ae178234919dc", "url": "https://github.com/apache/pulsar/commit/a9763d0960ef6f5eb89bce8d299ae178234919dc", "message": "Fix tests.", "committedDate": "2020-07-13T13:47:19Z", "type": "commit"}]}