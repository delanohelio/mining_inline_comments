{"pr_number": 6937, "pr_title": "Issue-6931 LocalRunner", "pr_createdAt": "2020-05-10T16:27:56Z", "pr_url": "https://github.com/apache/pulsar/pull/6937", "timeline": [{"oid": "3ffd878dc45d74a1af56fbd934057186a71c159d", "url": "https://github.com/apache/pulsar/commit/3ffd878dc45d74a1af56fbd934057186a71c159d", "message": "Fixes issue-6931", "committedDate": "2020-05-10T16:23:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM5MjAwOA==", "url": "https://github.com/apache/pulsar/pull/6937#discussion_r423392008", "bodyText": "Can you have a static default value inside the FunctionConfig itself and use that to init here", "author": "srkukarni", "createdAt": "2020-05-12T00:19:12Z", "path": "pulsar-functions/utils/src/main/java/org/apache/pulsar/functions/utils/FunctionConfigUtils.java", "diffHunk": "@@ -367,6 +367,10 @@ public static void inferMissingArguments(FunctionConfig functionConfig) {\n         if (functionConfig.getParallelism() == null) {\n             functionConfig.setParallelism(1);\n         }\n+        \n+        if (functionConfig.getMaxPendingAsyncRequests() == null) {\n+        \tfunctionConfig.setMaxPendingAsyncRequests(Integer.valueOf(1000));\n+        }", "originalCommit": "3ffd878dc45d74a1af56fbd934057186a71c159d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM5Mzk3OA==", "url": "https://github.com/apache/pulsar/pull/6937#discussion_r423393978", "bodyText": "Also can you do the same for  forwardSourceMessageProperty as well", "author": "srkukarni", "createdAt": "2020-05-12T00:25:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM5MjAwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQyNzAyMQ==", "url": "https://github.com/apache/pulsar/pull/6937#discussion_r423427021", "bodyText": "Done", "author": "david-streamlio", "createdAt": "2020-05-12T02:32:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM5MjAwOA=="}], "type": "inlineReview", "revised_code": {"commit": "d5647ab43c175e2a5853b1e1bd4f6ed13f3fa7b8", "chunk": "diff --git a/pulsar-functions/utils/src/main/java/org/apache/pulsar/functions/utils/FunctionConfigUtils.java b/pulsar-functions/utils/src/main/java/org/apache/pulsar/functions/utils/FunctionConfigUtils.java\nindex dd14bf103a0..9a945456ff9 100644\n--- a/pulsar-functions/utils/src/main/java/org/apache/pulsar/functions/utils/FunctionConfigUtils.java\n+++ b/pulsar-functions/utils/src/main/java/org/apache/pulsar/functions/utils/FunctionConfigUtils.java\n\n@@ -369,7 +373,11 @@ public class FunctionConfigUtils {\n         }\n         \n         if (functionConfig.getMaxPendingAsyncRequests() == null) {\n-        \tfunctionConfig.setMaxPendingAsyncRequests(Integer.valueOf(1000));\n+        \tfunctionConfig.setMaxPendingAsyncRequests(MAX_PENDING_ASYNC_REQUESTS_DEFAULT);\n+        }\n+        \n+        if (functionConfig.getForwardSourceMessageProperty() == null) {\n+        \tfunctionConfig.setForwardSourceMessageProperty(FORWARD_SOURCE_MESSAGE_PROPERTY_DEFAULT);\n         }\n \n         if (functionConfig.getJar() != null) {\n"}}, {"oid": "d5647ab43c175e2a5853b1e1bd4f6ed13f3fa7b8", "url": "https://github.com/apache/pulsar/commit/d5647ab43c175e2a5853b1e1bd4f6ed13f3fa7b8", "message": "Added constants to FunctionConfigUtils", "committedDate": "2020-05-12T02:31:28Z", "type": "commit"}]}