{"pr_number": 9064, "pr_title": "Add refresh authentication command in broker", "pr_createdAt": "2020-12-25T10:18:07Z", "pr_url": "https://github.com/apache/pulsar/pull/9064", "timeline": [{"oid": "1682bf0e8a370ea1a50813965f491838d2305275", "url": "https://github.com/apache/pulsar/commit/1682bf0e8a370ea1a50813965f491838d2305275", "message": "Add refresh authentication command in broker\n---\n\n(If this PR fixes a github issue, please add `Fixes #<xyz>`)\n\nFixes #<xyz>\n\n(or if this PR is one task of a github issue, please add `Master Issue: #<xyz>`\nto link to the master issue)\n\nMaster Issue: #<xyz>\n\n*Motivation*\n\nDescribe here the context, and why you're making that change.\nWhat is the problem you're trying to solve.\n\n*Modifications*\n\nDescribe the modifications you've done.\n\n*Verify this change*\n\nPlease pick either of following options.\n\n- This change is a trivial rework / code cleanup without any test coverage.\n- This change is already covered by existing tests, such as *(please describe tests)*.\n- This change added tests and can be verified as follows:\n  *(example:)*\n  - *Added integration tests for end-to-end deployment*\n  - *Extended integration test for recovery after broker failure*", "committedDate": "2020-12-25T08:23:24Z", "type": "commit"}, {"oid": "947bc2d3e1706c8ddea03e2794f9298e59782b1c", "url": "https://github.com/apache/pulsar/commit/947bc2d3e1706c8ddea03e2794f9298e59782b1c", "message": "Handle refresh command when handling auth challenge", "committedDate": "2020-12-28T01:16:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIzMDk3MA==", "url": "https://github.com/apache/pulsar/pull/9064#discussion_r549230970", "bodyText": "seems no valuable changes in this file", "author": "jiazhai", "createdAt": "2020-12-28T06:29:56Z", "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationOAuth2.java", "diffHunk": "@@ -23,6 +23,7 @@\n import java.time.Clock;\n import java.time.Instant;\n import java.util.Map;\n+", "originalCommit": "947bc2d3e1706c8ddea03e2794f9298e59782b1c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c469ca341b887fe0c0eb57a65ea87fac2fbed179", "chunk": "diff --git a/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationOAuth2.java b/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationOAuth2.java\nindex 71bf884101e..be48efeb611 100644\n--- a/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationOAuth2.java\n+++ b/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationOAuth2.java\n\n@@ -23,7 +23,6 @@ import java.io.IOException;\n import java.time.Clock;\n import java.time.Instant;\n import java.util.Map;\n-\n import lombok.Data;\n import lombok.extern.slf4j.Slf4j;\n import org.apache.commons.lang.NotImplementedException;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIzMDk5NQ==", "url": "https://github.com/apache/pulsar/pull/9064#discussion_r549230995", "bodyText": "seems no valuable changes in this file", "author": "jiazhai", "createdAt": "2020-12-28T06:30:04Z", "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationDataOAuth2.java", "diffHunk": "@@ -21,6 +21,8 @@\n import java.util.Collections;\n import java.util.Map;\n import java.util.Set;\n+import java.util.function.Function;\n+", "originalCommit": "947bc2d3e1706c8ddea03e2794f9298e59782b1c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c469ca341b887fe0c0eb57a65ea87fac2fbed179", "chunk": "diff --git a/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationDataOAuth2.java b/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationDataOAuth2.java\nindex 9a053251cec..59810f50a62 100644\n--- a/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationDataOAuth2.java\n+++ b/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationDataOAuth2.java\n\n@@ -21,8 +21,6 @@ package org.apache.pulsar.client.impl.auth.oauth2;\n import java.util.Collections;\n import java.util.Map;\n import java.util.Set;\n-import java.util.function.Function;\n-\n import org.apache.pulsar.client.api.AuthenticationDataProvider;\n \n /**\n"}}, {"oid": "c469ca341b887fe0c0eb57a65ea87fac2fbed179", "url": "https://github.com/apache/pulsar/commit/c469ca341b887fe0c0eb57a65ea87fac2fbed179", "message": "Remove the unused chanages", "committedDate": "2020-12-28T07:14:51Z", "type": "commit"}, {"oid": "c469ca341b887fe0c0eb57a65ea87fac2fbed179", "url": "https://github.com/apache/pulsar/commit/c469ca341b887fe0c0eb57a65ea87fac2fbed179", "message": "Remove the unused chanages", "committedDate": "2020-12-28T07:14:51Z", "type": "forcePushed"}, {"oid": "e20f559f181672af70402095796979dd7812db69", "url": "https://github.com/apache/pulsar/commit/e20f559f181672af70402095796979dd7812db69", "message": "Add the login in the proxy handler", "committedDate": "2020-12-28T08:38:47Z", "type": "commit"}, {"oid": "b8eac2a2e9ba8a0f15148d86f2684de081ce62b9", "url": "https://github.com/apache/pulsar/commit/b8eac2a2e9ba8a0f15148d86f2684de081ce62b9", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd", "committedDate": "2020-12-28T13:26:35Z", "type": "commit"}, {"oid": "5c94b7afcd9f77aecd7b0ae9e74b97e23c6993ff", "url": "https://github.com/apache/pulsar/commit/5c94b7afcd9f77aecd7b0ae9e74b97e23c6993ff", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd", "committedDate": "2020-12-29T06:03:44Z", "type": "commit"}, {"oid": "ed44998bfbd0da9a1f45da47f86bf1758e3132f9", "url": "https://github.com/apache/pulsar/commit/ed44998bfbd0da9a1f45da47f86bf1758e3132f9", "message": "Fix the tests", "committedDate": "2020-12-29T13:53:11Z", "type": "commit"}, {"oid": "61e6fddc4d9e1403aedb23c1a57bb905406e353a", "url": "https://github.com/apache/pulsar/commit/61e6fddc4d9e1403aedb23c1a57bb905406e353a", "message": "Enhance the tests", "committedDate": "2021-01-18T09:46:12Z", "type": "commit"}, {"oid": "4ef8a0fd27be0942a13f5f92dc7535ce2709ecfb", "url": "https://github.com/apache/pulsar/commit/4ef8a0fd27be0942a13f5f92dc7535ce2709ecfb", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd", "committedDate": "2021-01-18T09:47:43Z", "type": "commit"}, {"oid": "a8074afb966d52d3536ec1416700a54eed0c75be", "url": "https://github.com/apache/pulsar/commit/a8074afb966d52d3536ec1416700a54eed0c75be", "message": "Fix the tests and style issue", "committedDate": "2021-01-18T12:56:45Z", "type": "commit"}, {"oid": "11a92868818b3a32b7e31b04b7aa3014fdad4b2b", "url": "https://github.com/apache/pulsar/commit/11a92868818b3a32b7e31b04b7aa3014fdad4b2b", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd", "committedDate": "2021-01-25T10:54:38Z", "type": "commit"}, {"oid": "00b8efd2be120138235fe019bf33eb850ce0d708", "url": "https://github.com/apache/pulsar/commit/00b8efd2be120138235fe019bf33eb850ce0d708", "message": "Add tests for oauth2 client", "committedDate": "2021-01-26T00:51:21Z", "type": "commit"}]}