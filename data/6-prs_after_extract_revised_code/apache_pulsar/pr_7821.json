{"pr_number": 7821, "pr_title": "Support deduplication on topic level", "pr_createdAt": "2020-08-15T12:43:46Z", "pr_url": "https://github.com/apache/pulsar/pull/7821", "timeline": [{"oid": "edef2983960542e2eb2ffd9c7c96df5997f02fc5", "url": "https://github.com/apache/pulsar/commit/edef2983960542e2eb2ffd9c7c96df5997f02fc5", "message": "support deduplication on topic level", "committedDate": "2020-08-15T12:32:06Z", "type": "commit"}, {"oid": "aeaab226a06f6625940a01369e31a15b1e9fb9bd", "url": "https://github.com/apache/pulsar/commit/aeaab226a06f6625940a01369e31a15b1e9fb9bd", "message": "fix unit test", "committedDate": "2020-08-15T14:13:54Z", "type": "commit"}, {"oid": "c670835c0e7116f2152cae2a0c91e81b5de4dcb8", "url": "https://github.com/apache/pulsar/commit/c670835c0e7116f2152cae2a0c91e81b5de4dcb8", "message": "fix unit test", "committedDate": "2020-08-15T15:18:43Z", "type": "commit"}, {"oid": "18ff559c75edc6e9fcb71de8a565addbd2c064f5", "url": "https://github.com/apache/pulsar/commit/18ff559c75edc6e9fcb71de8a565addbd2c064f5", "message": "merge master", "committedDate": "2020-08-19T08:00:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg4NDc5MQ==", "url": "https://github.com/apache/pulsar/pull/7821#discussion_r472884791", "bodyText": "minor: Would it be better to use enable and disable here?", "author": "jianyun8023", "createdAt": "2020-08-19T09:16:08Z", "path": "pulsar-client-admin/src/main/java/org/apache/pulsar/client/admin/Topics.java", "diffHunk": "@@ -1800,4 +1800,49 @@ void setDelayedDeliveryPolicy(String topic\n      * @param topic Topic name\n      */\n     CompletableFuture<Void> removePersistenceAsync(String topic);\n+\n+    /**\n+     * get deduplication enabled of a topic.\n+     * @param topic\n+     * @return\n+     * @throws PulsarAdminException\n+     */\n+    Boolean getDeduplicationEnabled(String topic) throws PulsarAdminException;\n+\n+    /**\n+     * get deduplication enabled of a topic asynchronously.\n+     * @param topic\n+     * @return\n+     */\n+    CompletableFuture<Boolean> getDeduplicationEnabledAsync(String topic);\n+\n+    /**\n+     * set deduplication enabled of a topic.\n+     * @param topic\n+     * @param enabled\n+     * @throws PulsarAdminException\n+     */\n+    void setDeduplicationEnabled(String topic, boolean enabled) throws PulsarAdminException;\n+\n+    /**\n+     * set deduplication enabled of a topic asynchronously.\n+     * @param topic\n+     * @param enabled\n+     * @return\n+     */\n+    CompletableFuture<Void> setDeduplicationEnabledAsync(String topic, boolean enabled);\n+\n+    /**\n+     * remove deduplication enabled of a topic.\n+     * @param topic\n+     * @throws PulsarAdminException\n+     */\n+    void removeDeduplicationEnabled(String topic) throws PulsarAdminException;\n+\n+    /**\n+     * remove deduplication enabled of a topic asynchronously.\n+     * @param topic\n+     * @return\n+     */\n+    CompletableFuture<Void> removeDeduplicationEnabledAsync(String topic);", "originalCommit": "18ff559c75edc6e9fcb71de8a565addbd2c064f5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b10cc5e872d9401a97414d14396d41b90ccdbff0", "chunk": "diff --git a/pulsar-client-admin/src/main/java/org/apache/pulsar/client/admin/Topics.java b/pulsar-client-admin/src/main/java/org/apache/pulsar/client/admin/Topics.java\nindex 1b6a381bfa7..6476f27fe74 100644\n--- a/pulsar-client-admin/src/main/java/org/apache/pulsar/client/admin/Topics.java\n+++ b/pulsar-client-admin/src/main/java/org/apache/pulsar/client/admin/Topics.java\n\n@@ -1822,7 +1822,7 @@ public interface Topics {\n      * @param enabled\n      * @throws PulsarAdminException\n      */\n-    void setDeduplicationEnabled(String topic, boolean enabled) throws PulsarAdminException;\n+    void enableDeduplication(String topic, boolean enabled) throws PulsarAdminException;\n \n     /**\n      * set deduplication enabled of a topic asynchronously.\n"}}, {"oid": "b10cc5e872d9401a97414d14396d41b90ccdbff0", "url": "https://github.com/apache/pulsar/commit/b10cc5e872d9401a97414d14396d41b90ccdbff0", "message": "change method name", "committedDate": "2020-08-19T09:24:13Z", "type": "commit"}, {"oid": "862e79f030b4666a996455664d47db36809758f2", "url": "https://github.com/apache/pulsar/commit/862e79f030b4666a996455664d47db36809758f2", "message": "fix unit test", "committedDate": "2020-08-19T10:24:04Z", "type": "commit"}]}