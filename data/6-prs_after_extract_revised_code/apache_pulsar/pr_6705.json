{"pr_number": 6705, "pr_title": "expose managedLedgerCache, managedLedger, loadBalance metrics to prometheus", "pr_createdAt": "2020-04-10T06:26:45Z", "pr_url": "https://github.com/apache/pulsar/pull/6705", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA5MjgyOQ==", "url": "https://github.com/apache/pulsar/pull/6705#discussion_r407092829", "bodyText": "@hangc0276 can we avoid wildcard import?", "author": "sijie", "createdAt": "2020-04-11T18:03:52Z", "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/stats/prometheus/PrometheusMetricsGenerator.java", "diffHunk": "@@ -20,10 +20,14 @@\n \n import java.io.IOException;\n import java.io.OutputStream;\n-import java.util.Enumeration;\n+import java.util.*;", "originalCommit": "fb38ca10cb0af37b66f125bb0828ed53a94d08d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzEyODk3MQ==", "url": "https://github.com/apache/pulsar/pull/6705#discussion_r407128971", "bodyText": "ok\uff0ci will update in next commit with metric document.", "author": "hangc0276", "createdAt": "2020-04-12T00:56:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA5MjgyOQ=="}], "type": "inlineReview", "revised_code": {"commit": "68381c9be474c36b247d30a5a009d5dd334ef884", "chunk": "diff --git a/pulsar-broker/src/main/java/org/apache/pulsar/broker/stats/prometheus/PrometheusMetricsGenerator.java b/pulsar-broker/src/main/java/org/apache/pulsar/broker/stats/prometheus/PrometheusMetricsGenerator.java\nindex 26c99b4de68..5796c8e34f8 100644\n--- a/pulsar-broker/src/main/java/org/apache/pulsar/broker/stats/prometheus/PrometheusMetricsGenerator.java\n+++ b/pulsar-broker/src/main/java/org/apache/pulsar/broker/stats/prometheus/PrometheusMetricsGenerator.java\n\n@@ -20,7 +20,11 @@ package org.apache.pulsar.broker.stats.prometheus;\n \n import java.io.IOException;\n import java.io.OutputStream;\n-import java.util.*;\n+import java.util.Collection;\n+import java.util.HashSet;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.Enumeration;\n \n import org.apache.pulsar.broker.PulsarService;\n import static org.apache.pulsar.common.stats.JvmMetrics.getJvmDirectMemoryUsed;\n"}}, {"oid": "68381c9be474c36b247d30a5a009d5dd334ef884", "url": "https://github.com/apache/pulsar/commit/68381c9be474c36b247d30a5a009d5dd334ef884", "message": "update reference-metrics document", "committedDate": "2020-04-19T04:48:18Z", "type": "forcePushed"}, {"oid": "abf10ddeeaa7d4c8aff1bf69fb14834e8b2913cb", "url": "https://github.com/apache/pulsar/commit/abf10ddeeaa7d4c8aff1bf69fb14834e8b2913cb", "message": "expose managedLedgerCache, managedLedger, loadBalance metrics to prometheus", "committedDate": "2020-04-22T09:58:18Z", "type": "commit"}, {"oid": "3d6bee776044d1cd29be9f8de27fc2c289dcd593", "url": "https://github.com/apache/pulsar/commit/3d6bee776044d1cd29be9f8de27fc2c289dcd593", "message": "delete unnecessary codes", "committedDate": "2020-04-22T09:58:18Z", "type": "commit"}, {"oid": "4ce44ca1033202e05a223f528f41793d5a82b990", "url": "https://github.com/apache/pulsar/commit/4ce44ca1033202e05a223f528f41793d5a82b990", "message": "format code", "committedDate": "2020-04-22T09:58:18Z", "type": "commit"}, {"oid": "81c2a79325fc8e3f562c54ce3bc5cd751d9ae4da", "url": "https://github.com/apache/pulsar/commit/81c2a79325fc8e3f562c54ce3bc5cd751d9ae4da", "message": "update reference-metrics document", "committedDate": "2020-04-22T10:01:37Z", "type": "commit"}, {"oid": "81c2a79325fc8e3f562c54ce3bc5cd751d9ae4da", "url": "https://github.com/apache/pulsar/commit/81c2a79325fc8e3f562c54ce3bc5cd751d9ae4da", "message": "update reference-metrics document", "committedDate": "2020-04-22T10:01:37Z", "type": "forcePushed"}]}