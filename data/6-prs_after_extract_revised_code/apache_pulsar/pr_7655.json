{"pr_number": 7655, "pr_title": "Fix backward compatibility issues with batch index acknowledgment.", "pr_createdAt": "2020-07-24T15:09:21Z", "pr_url": "https://github.com/apache/pulsar/pull/7655", "timeline": [{"oid": "68d4046e37e9dbea24e9c453ffd77023c8d68fee", "url": "https://github.com/apache/pulsar/commit/68d4046e37e9dbea24e9c453ffd77023c8d68fee", "message": "Fix backwards compatibility issue with batch index acknowledgement.", "committedDate": "2020-07-24T15:05:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1MTg4Mw==", "url": "https://github.com/apache/pulsar/pull/7655#discussion_r461051883", "bodyText": "Shouldn't it be called enableBatchIndexAcknowledgement to conform other settings?", "author": "Lanayx", "createdAt": "2020-07-27T17:28:06Z", "path": "pulsar-client-api/src/main/java/org/apache/pulsar/client/api/ConsumerBuilder.java", "diffHunk": "@@ -609,6 +609,12 @@\n      */\n     ConsumerBuilder<T> enableRetry(boolean retryEnable);\n \n+    /**\n+     * Enable or disable the batch index acknowledgment. To enable this feature must ensure batch index acknowledgment\n+     * feature is enabled at the broker side.\n+     */\n+    ConsumerBuilder<T> batchIndexAcknowledgmentEnabled(boolean batchIndexAcknowledgmentEnabled);", "originalCommit": "68d4046e37e9dbea24e9c453ffd77023c8d68fee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTMwMjg1Nw==", "url": "https://github.com/apache/pulsar/pull/7655#discussion_r461302857", "bodyText": "Ok", "author": "codelipenghui", "createdAt": "2020-07-28T03:57:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1MTg4Mw=="}], "type": "inlineReview", "revised_code": {"commit": "1048ce4d3d43209ab6a0fdcc07265533a6e3dd99", "chunk": "diff --git a/pulsar-client-api/src/main/java/org/apache/pulsar/client/api/ConsumerBuilder.java b/pulsar-client-api/src/main/java/org/apache/pulsar/client/api/ConsumerBuilder.java\nindex a8ee8cbc57f..9bb8ce07ad9 100644\n--- a/pulsar-client-api/src/main/java/org/apache/pulsar/client/api/ConsumerBuilder.java\n+++ b/pulsar-client-api/src/main/java/org/apache/pulsar/client/api/ConsumerBuilder.java\n\n@@ -613,7 +613,7 @@ public interface ConsumerBuilder<T> extends Cloneable {\n      * Enable or disable the batch index acknowledgment. To enable this feature must ensure batch index acknowledgment\n      * feature is enabled at the broker side.\n      */\n-    ConsumerBuilder<T> batchIndexAcknowledgmentEnabled(boolean batchIndexAcknowledgmentEnabled);\n+    ConsumerBuilder<T> enableBatchIndexAcknowledgment(boolean batchIndexAcknowledgmentEnabled);\n \n     /**\n      * Consumer buffers chunk messages into memory until it receives all the chunks of the original message. While\n"}}, {"oid": "1048ce4d3d43209ab6a0fdcc07265533a6e3dd99", "url": "https://github.com/apache/pulsar/commit/1048ce4d3d43209ab6a0fdcc07265533a6e3dd99", "message": "Apply comment", "committedDate": "2020-07-28T13:14:17Z", "type": "commit"}]}