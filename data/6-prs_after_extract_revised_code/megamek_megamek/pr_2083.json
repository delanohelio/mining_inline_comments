{"pr_number": 2083, "pr_title": "fix npe when displaying summary/TRO for gun emplacements", "pr_createdAt": "2020-07-25T03:41:57Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2083", "timeline": [{"oid": "19a279c778e62369635007dd545d863b0f0387a1", "url": "https://github.com/MegaMek/megamek/commit/19a279c778e62369635007dd545d863b0f0387a1", "message": "fix npe when displaying summary/TRO for gun emplacements", "committedDate": "2020-07-25T03:37:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjA5NQ==", "url": "https://github.com/MegaMek/megamek/pull/2083#discussion_r460422095", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(tank instanceof GunEmplacement) {\n          \n          \n            \n                    if (tank instanceof GunEmplacement) {", "author": "Windchild292", "createdAt": "2020-07-25T16:43:15Z", "path": "megamek/src/megamek/common/templates/VehicleTROView.java", "diffHunk": "@@ -44,6 +45,13 @@ public VehicleTROView(Tank tank) {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n+        if(tank instanceof GunEmplacement) {", "originalCommit": "19a279c778e62369635007dd545d863b0f0387a1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4239b1ed0df7c6f14323739481a45d444cae1aa", "chunk": "diff --git a/megamek/src/megamek/common/templates/VehicleTROView.java b/megamek/src/megamek/common/templates/VehicleTROView.java\nindex 964272c033..6b8a869934 100644\n--- a/megamek/src/megamek/common/templates/VehicleTROView.java\n+++ b/megamek/src/megamek/common/templates/VehicleTROView.java\n\n@@ -45,11 +45,12 @@ public class VehicleTROView extends TROView {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n-        if(tank instanceof GunEmplacement) {\n+        if (tank instanceof GunEmplacement) {\n             if (html) {\n                 return \"gunemplacement.ftlh\";\n+            } else {\n+                return \"gunemplacement.ftl\";\n             }\n-            return \"gunemplacement.ftl\";\n         }\n         \n         if (html) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjEzOQ==", "url": "https://github.com/MegaMek/megamek/pull/2083#discussion_r460422139", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (html) {\n          \n          \n            \n                            return \"gunemplacement.ftlh\";\n          \n          \n            \n                        }\n          \n          \n            \n                        return \"gunemplacement.ftl\";\n          \n          \n            \n                        if (html) {\n          \n          \n            \n                            return \"gunemplacement.ftlh\";\n          \n          \n            \n                        } else {\n          \n          \n            \n                            return \"gunemplacement.ftl\";\n          \n          \n            \n                        }", "author": "Windchild292", "createdAt": "2020-07-25T16:44:09Z", "path": "megamek/src/megamek/common/templates/VehicleTROView.java", "diffHunk": "@@ -44,6 +45,13 @@ public VehicleTROView(Tank tank) {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n+        if(tank instanceof GunEmplacement) {\n+            if (html) {\n+                return \"gunemplacement.ftlh\";\n+            }\n+            return \"gunemplacement.ftl\";", "originalCommit": "19a279c778e62369635007dd545d863b0f0387a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjIzMw==", "url": "https://github.com/MegaMek/megamek/pull/2083#discussion_r460422233", "bodyText": "I find it easier to read if the return is in an else in statements like this, but this is very much a suggestion.", "author": "Windchild292", "createdAt": "2020-07-25T16:44:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjEzOQ=="}], "type": "inlineReview", "revised_code": {"commit": "e4239b1ed0df7c6f14323739481a45d444cae1aa", "chunk": "diff --git a/megamek/src/megamek/common/templates/VehicleTROView.java b/megamek/src/megamek/common/templates/VehicleTROView.java\nindex 964272c033..6b8a869934 100644\n--- a/megamek/src/megamek/common/templates/VehicleTROView.java\n+++ b/megamek/src/megamek/common/templates/VehicleTROView.java\n\n@@ -45,11 +45,12 @@ public class VehicleTROView extends TROView {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n-        if(tank instanceof GunEmplacement) {\n+        if (tank instanceof GunEmplacement) {\n             if (html) {\n                 return \"gunemplacement.ftlh\";\n+            } else {\n+                return \"gunemplacement.ftl\";\n             }\n-            return \"gunemplacement.ftl\";\n         }\n         \n         if (html) {\n"}}, {"oid": "e4239b1ed0df7c6f14323739481a45d444cae1aa", "url": "https://github.com/MegaMek/megamek/commit/e4239b1ed0df7c6f14323739481a45d444cae1aa", "message": "Apply suggestions from code review\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>", "committedDate": "2020-07-26T02:11:29Z", "type": "commit"}]}