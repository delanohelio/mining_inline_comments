{"pr_number": 2276, "pr_title": "apply flak attacks to all flying units", "pr_createdAt": "2020-09-30T02:45:30Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2276", "timeline": [{"oid": "2c61046e685b73ee944695a2a90025abb9c688d6", "url": "https://github.com/MegaMek/megamek/commit/2c61046e685b73ee944695a2a90025abb9c688d6", "message": "apply flak attacks to all flying units", "committedDate": "2020-09-30T02:42:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYxNzE2Ng==", "url": "https://github.com/MegaMek/megamek/pull/2276#discussion_r497617166", "bodyText": "Why not do these two steps at once? I understand splitting it off isFlak because of the length, but otherwise.", "author": "Windchild292", "createdAt": "2020-09-30T15:48:57Z", "path": "megamek/src/megamek/common/weapons/ArtilleryWeaponIndirectFireHandler.java", "diffHunk": "@@ -145,8 +145,10 @@ public boolean handle(IGame.Phase phase, Vector<Report> vPhaseReport) {\n         final Vector<Integer> spottersBefore = aaa.getSpotterIds();\n         Coords targetPos = target.getPosition();\n         final int playerId = aaa.getPlayerId();\n-        boolean isFlak = (target instanceof VTOL) || target.isAero();\n-        boolean asfFlak = target.isAero();\n+        boolean targetIsEntity = target.getTargetType() == Targetable.TYPE_ENTITY;\n+        boolean targetIsAirborneVTOL = targetIsEntity && ((Entity) target).isAirborneVTOLorWIGE();", "originalCommit": "2c61046e685b73ee944695a2a90025abb9c688d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYxODkxMw==", "url": "https://github.com/MegaMek/megamek/pull/2276#discussion_r497618913", "bodyText": "Mostly for ease of debugging. The more complicated a piece of boolean logic is, the less readable it is. This allows me to make the logic for \"targetIsAirborneVTOL\" human-readable (more or less).", "author": "NickAragua", "createdAt": "2020-09-30T15:51:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYxNzE2Ng=="}], "type": "inlineReview", "revised_code": null}]}