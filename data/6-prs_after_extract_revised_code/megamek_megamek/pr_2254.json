{"pr_number": 2254, "pr_title": "Fix wreck decal path Linux UI rendering problem", "pr_createdAt": "2020-09-27T01:12:45Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2254", "timeline": [{"oid": "395165a6ac513721c9197597ef375ce5a88856db", "url": "https://github.com/MegaMek/megamek/commit/395165a6ac513721c9197597ef375ce5a88856db", "message": "use OS-agnostic file paths", "committedDate": "2020-09-27T01:01:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMzI0OQ==", "url": "https://github.com/MegaMek/megamek/pull/2254#discussion_r495513249", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        // Image baseImage = TilesetManager.LoadSpecificImage(new File(Configuration.unitImagesDir(), path), filename);\n          \n          \n            \n                        Image baseImage = TilesetManager.LoadSpecificImage(wreckDecalDir, filename);\n          \n          \n            \n                        Image baseImage = TilesetManager.LoadSpecificImage(wreckDecalDir, filename);", "author": "Windchild292", "createdAt": "2020-09-27T01:20:56Z", "path": "megamek/src/megamek/client/ui/swing/tileset/TilesetManager.java", "diffHunk": "@@ -263,13 +265,15 @@ public Image bottomLayerFuelLeakMarkerFor(Entity entity) {\n         \n         String suffix = EntityWreckHelper.getWeightSuffix(entity);\n         String filename = String.format(\"fuelleak_decal_%s.png\", suffix);\n-        String path = String.format(\"%s\\\\%s\", DIR_NAME_WRECKS, DIR_NAME_BOTTOM_DECALS);\n+        File wreckDir = new File(Configuration.unitImagesDir(), DIR_NAME_WRECKS);\n+        File wreckDecalDir = new File(wreckDir, DIR_NAME_BOTTOM_DECALS);\n         \n         int rotationKey = entity.getId() % NUM_DECAL_ROTATIONS;\n         String imageKey = String.format(\"%s%s\", filename, rotationKey);\n         \n         if(!wreckageDecals.containsKey(imageKey)) {\n-            Image baseImage = TilesetManager.LoadSpecificImage(new File(Configuration.unitImagesDir(), path), filename);\n+            // Image baseImage = TilesetManager.LoadSpecificImage(new File(Configuration.unitImagesDir(), path), filename);\n+            Image baseImage = TilesetManager.LoadSpecificImage(wreckDecalDir, filename);", "originalCommit": "395165a6ac513721c9197597ef375ce5a88856db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxNDEzNw==", "url": "https://github.com/MegaMek/megamek/pull/2254#discussion_r495514137", "bodyText": "Oops, thought I got all those.", "author": "RexPearce", "createdAt": "2020-09-27T01:34:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMzI0OQ=="}], "type": "inlineReview", "revised_code": {"commit": "c2d0a0bd135184a777eb891cfdc675bd684b97fa", "chunk": "diff --git a/megamek/src/megamek/client/ui/swing/tileset/TilesetManager.java b/megamek/src/megamek/client/ui/swing/tileset/TilesetManager.java\nindex b6b74d027c..b9e7b5ab7e 100644\n--- a/megamek/src/megamek/client/ui/swing/tileset/TilesetManager.java\n+++ b/megamek/src/megamek/client/ui/swing/tileset/TilesetManager.java\n\n@@ -272,7 +272,6 @@ public class TilesetManager implements IPreferenceChangeListener, ITilesetManage\n         String imageKey = String.format(\"%s%s\", filename, rotationKey);\n         \n         if(!wreckageDecals.containsKey(imageKey)) {\n-            // Image baseImage = TilesetManager.LoadSpecificImage(new File(Configuration.unitImagesDir(), path), filename);\n             Image baseImage = TilesetManager.LoadSpecificImage(wreckDecalDir, filename);\n             \n             for(double x = 0; x < NUM_DECAL_ROTATIONS; x++) {\n"}}, {"oid": "c2d0a0bd135184a777eb891cfdc675bd684b97fa", "url": "https://github.com/MegaMek/megamek/commit/c2d0a0bd135184a777eb891cfdc675bd684b97fa", "message": "remove old comment", "committedDate": "2020-09-27T01:46:01Z", "type": "commit"}]}