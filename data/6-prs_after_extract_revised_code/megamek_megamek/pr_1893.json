{"pr_number": 1893, "pr_title": "1891: Battlefist now applies only for the proper arm", "pr_createdAt": "2020-04-27T19:24:26Z", "pr_url": "https://github.com/MegaMek/megamek/pull/1893", "timeline": [{"oid": "d038b19ed8d2d967cf9d844ef1e6781be2e1c717", "url": "https://github.com/MegaMek/megamek/commit/d038b19ed8d2d967cf9d844ef1e6781be2e1c717", "message": "Fixing the punch attack action", "committedDate": "2020-04-27T19:23:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA4Njg4MA==", "url": "https://github.com/MegaMek/megamek/pull/1893#discussion_r416086880", "bodyText": "Almost. Left arm should depend on left arm battlefist quirk.", "author": "NickAragua", "createdAt": "2020-04-27T19:25:20Z", "path": "megamek/src/megamek/common/actions/PunchAttackAction.java", "diffHunk": "@@ -295,14 +295,10 @@ else if (!Compute.isInArc(ae.getPosition(), ae.getSecondaryFacing(),\n         } else if (hasClaws) {\n             toHit.addModifier(1, \"Using Claws\");\n         }\n-        \n-        if (ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_LA)\n-                && hasHandActuator) {\n-            toHit.addModifier(-1, \"Battlefist\");\n-        }\n-        \n-        if (ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_RA)\n-                && hasHandActuator) {\n+\n+        if (hasHandActuator\n+                && (((arm == PunchAttackAction.RIGHT) && ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_RA))\n+                || ((arm == PunchAttackAction.LEFT) && ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_RA)))) {", "originalCommit": "d038b19ed8d2d967cf9d844ef1e6781be2e1c717", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA4NzYzNw==", "url": "https://github.com/MegaMek/megamek/pull/1893#discussion_r416087637", "bodyText": "Also, let's consider the \"BOTH\" punch attack action.", "author": "NickAragua", "createdAt": "2020-04-27T19:26:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA4Njg4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA4NzY2MA==", "url": "https://github.com/MegaMek/megamek/pull/1893#discussion_r416087660", "bodyText": "I think I'm done coding for the day, too many typos in the last little bit \ud83d\ude02", "author": "Windchild292", "createdAt": "2020-04-27T19:26:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA4Njg4MA=="}], "type": "inlineReview", "revised_code": {"commit": "ab0c9aad030c265cacf6b209a46a0064173edc8a", "chunk": "diff --git a/megamek/src/megamek/common/actions/PunchAttackAction.java b/megamek/src/megamek/common/actions/PunchAttackAction.java\nindex 1ff4d0c370..56b3b2dd77 100644\n--- a/megamek/src/megamek/common/actions/PunchAttackAction.java\n+++ b/megamek/src/megamek/common/actions/PunchAttackAction.java\n\n@@ -298,7 +298,7 @@ public class PunchAttackAction extends PhysicalAttackAction {\n \n         if (hasHandActuator\n                 && (((arm == PunchAttackAction.RIGHT) && ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_RA))\n-                || ((arm == PunchAttackAction.LEFT) && ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_RA)))) {\n+                || ((arm == PunchAttackAction.LEFT) && ae.hasQuirk(OptionsConstants.QUIRK_POS_BATTLE_FIST_LA)))) {\n             toHit.addModifier(-1, \"Battlefist\");\n         }\n \n"}}, {"oid": "ab0c9aad030c265cacf6b209a46a0064173edc8a", "url": "https://github.com/MegaMek/megamek/commit/ab0c9aad030c265cacf6b209a46a0064173edc8a", "message": "Fixing typo", "committedDate": "2020-04-27T19:26:21Z", "type": "commit"}]}