{"pr_number": 2892, "pr_title": "Fix all shapefile plugin's compilation warnings", "pr_createdAt": "2020-04-20T17:40:49Z", "pr_url": "https://github.com/geotools/geotools/pull/2892", "timeline": [{"oid": "0b1665da499eb58627862e08090d7f9d1ae4a686", "url": "https://github.com/geotools/geotools/commit/0b1665da499eb58627862e08090d7f9d1ae4a686", "message": "Fix all shapefile plugin's compilation warnings\n\nFix all (~187) compile warnings in shapefile plugin.", "committedDate": "2020-04-20T17:37:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk0NjcwMQ==", "url": "https://github.com/geotools/geotools/pull/2892#discussion_r411946701", "bodyText": "Is this a specific magic number or will any large negative number do e.g. Negative Infinity? Could we use a constant?", "author": "ianturton", "createdAt": "2020-04-21T07:38:34Z", "path": "modules/plugin/shapefile/src/main/java/org/geotools/data/shapefile/shp/PolygonHandler.java", "diffHunk": "@@ -526,7 +525,7 @@ public void write(ByteBuffer buffer, Object geometry) {\n             // m values\n             values.forEach(\n                     x -> {\n-                        buffer.putDouble(!Double.isNaN(x) ? x : -10E40);\n+                        buffer.putDouble(Double.isNaN(x) ? -10E40 : x);", "originalCommit": "0b1665da499eb58627862e08090d7f9d1ae4a686", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1ODgxNw==", "url": "https://github.com/geotools/geotools/pull/2892#discussion_r412258817", "bodyText": "I've no idea, I just reverted the negative cause it hurts my eyes", "author": "groldan", "createdAt": "2020-04-21T14:56:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk0NjcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMxMDcxNA==", "url": "https://github.com/geotools/geotools/pull/2892#discussion_r412310714", "bodyText": "To answer your question: Any floating point number smaller than \u201310^38 is considered by a shapefile reader to represent a \"no data\" value\nFrom the spec:\nFloating point numbers must be numeric values. Positive infinity, negative infinity, and\nNot-a-Number (NaN) values are not allowed in shapefiles. Nevertheless, shapefiles\nsupport the concept of \"no data\" values, but they are currently used only for measures.\nAny floating point number smaller than \u201310^38 is considered by a shapefile reader to\nrepresent a \"no data\" value.", "author": "groldan", "createdAt": "2020-04-21T16:34:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk0NjcwMQ=="}], "type": "inlineReview", "revised_code": null}]}