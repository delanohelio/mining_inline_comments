{"pr_number": 10407, "pr_title": "#10377 Also setting request date", "pr_createdAt": "2020-12-10T11:19:02Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/10407", "timeline": [{"oid": "89d7b5f6ad920ed67184a1bf80e561d024945a96", "url": "https://github.com/metasfresh/metasfresh/commit/89d7b5f6ad920ed67184a1bf80e561d024945a96", "message": "#10377\n - Also setting request date", "committedDate": "2020-12-10T11:17:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEyNDYwOA==", "url": "https://github.com/metasfresh/metasfresh/pull/10407#discussion_r540124608", "bodyText": "Please use SystemTime instead", "author": "metas-ts", "createdAt": "2020-12-10T12:21:08Z", "path": "backend/de.metas.business/src/main/java/de/metas/request/api/impl/RequestDAO.java", "diffHunk": "@@ -62,6 +64,8 @@ public I_R_Request createRequest(@NonNull final RequestCandidate candidate)\n \t\trequest.setM_InOut_ID(candidate.getRecordRef() != null ?\n \t\t\t\tcandidate.getRecordRef().getTableName().equals(I_M_InOut.Table_Name) ? candidate.getRecordRef().getRecord_ID() : -1\n \t\t\t\t: -1);\n+\n+\t\trequest.setDateTrx(TimeUtil.asTimestamp(Date.from(Instant.now())));", "originalCommit": "89d7b5f6ad920ed67184a1bf80e561d024945a96", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1672a7831184f0f69117315b58f544a6f858f612", "chunk": "diff --git a/backend/de.metas.business/src/main/java/de/metas/request/api/impl/RequestDAO.java b/backend/de.metas.business/src/main/java/de/metas/request/api/impl/RequestDAO.java\nindex e4ddaa7060..74d387e5f9 100644\n--- a/backend/de.metas.business/src/main/java/de/metas/request/api/impl/RequestDAO.java\n+++ b/backend/de.metas.business/src/main/java/de/metas/request/api/impl/RequestDAO.java\n\n@@ -65,7 +64,7 @@ public class RequestDAO implements IRequestDAO\n \t\t\t\tcandidate.getRecordRef().getTableName().equals(I_M_InOut.Table_Name) ? candidate.getRecordRef().getRecord_ID() : -1\n \t\t\t\t: -1);\n \n-\t\trequest.setDateTrx(TimeUtil.asTimestamp(Date.from(Instant.now())));\n+\t\trequest.setDateTrx(SystemTime.asTimestamp());\n \t\trequest.setAD_User_ID(UserId.toRepoId(candidate.getUserId()));\n \t\trequest.setR_RequestType_ID(candidate.getRequestTypeId().getRepoId());\n \t\trequest.setM_QualityNote_ID(QualityNoteId.toRepoId(candidate.getQualityNoteId()));\n"}}, {"oid": "1672a7831184f0f69117315b58f544a6f858f612", "url": "https://github.com/metasfresh/metasfresh/commit/1672a7831184f0f69117315b58f544a6f858f612", "message": "#10377\n - Changed to SystemTime", "committedDate": "2020-12-10T15:54:04Z", "type": "commit"}]}