{"pr_number": 6707, "pr_title": "Gh6696 add paymentTerm to Olcand rest endpoint", "pr_createdAt": "2020-05-21T13:44:16Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/6707", "timeline": [{"oid": "a590bdf1ce8e277346060fc62e8a612f929b5a68", "url": "https://github.com/metasfresh/metasfresh/commit/a590bdf1ce8e277346060fc62e8a612f929b5a68", "message": "#6696 ExternalId in C_PaymentTerm\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-21T12:11:23Z", "type": "commit"}, {"oid": "91c24a1627feb8c091e4365557076da7842b7798", "url": "https://github.com/metasfresh/metasfresh/commit/91c24a1627feb8c091e4365557076da7842b7798", "message": "#6696 C_PaymentTerm_ID in C_OLCand\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-21T12:12:10Z", "type": "commit"}, {"oid": "86c612cf91634ab13aabd017c66cc018816880c9", "url": "https://github.com/metasfresh/metasfresh/commit/86c612cf91634ab13aabd017c66cc018816880c9", "message": "#6696 propagate payment term from request until order\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-21T12:14:10Z", "type": "commit"}, {"oid": "63edbef66d6a67839739029215c36987b030b0e5", "url": "https://github.com/metasfresh/metasfresh/commit/63edbef66d6a67839739029215c36987b030b0e5", "message": "#6696 tests\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-21T13:42:33Z", "type": "commit"}, {"oid": "8b9989b2ea99c4f5dd45ac565652bd9e431a2f6b", "url": "https://github.com/metasfresh/metasfresh/commit/8b9989b2ea99c4f5dd45ac565652bd9e431a2f6b", "message": "#6696 delete the snap file.\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-22T08:02:27Z", "type": "commit"}, {"oid": "7a38ab70160af7b67e9f053046bd74f5ee3855fd", "url": "https://github.com/metasfresh/metasfresh/commit/7a38ab70160af7b67e9f053046bd74f5ee3855fd", "message": "#6696 regenerated snap\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-22T08:03:36Z", "type": "commit"}, {"oid": "c3b4eed026cbece528873740d34de22eb3f7fa2c", "url": "https://github.com/metasfresh/metasfresh/commit/c3b4eed026cbece528873740d34de22eb3f7fa2c", "message": "#6696 Modernize SystemTime and TimeSource\n\n- bring the changes from master\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-22T10:04:12Z", "type": "commit"}, {"oid": "8deace3fbe4c900f4b2ca5ede14af58412dacc77", "url": "https://github.com/metasfresh/metasfresh/commit/8deace3fbe4c900f4b2ca5ede14af58412dacc77", "message": "#6696 let this test use a new FixedTimeSource\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-22T10:05:17Z", "type": "commit"}, {"oid": "6a156fb297fdb7e3588701de0e3421a2a113d125", "url": "https://github.com/metasfresh/metasfresh/commit/6a156fb297fdb7e3588701de0e3421a2a113d125", "message": "#6696 Bring more time related changes from master\n\nhttps://github.com/metasfresh/metasfresh/issues/6696", "committedDate": "2020-05-22T11:12:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI2NTM5Ng==", "url": "https://github.com/metasfresh/metasfresh/pull/6707#discussion_r429265396", "bodyText": "not needed", "author": "teosarca", "createdAt": "2020-05-22T14:03:08Z", "path": "backend/de.metas.business/src/main/java/de/metas/payment/paymentterm/impl/PaymentTermRepository.java", "diffHunk": "@@ -86,4 +92,42 @@ public PaymentTermId getDefaultPaymentTermIdOrNull()\n \n \t\treturn null;\n \t}\n+\n+\t@Override\n+\tpublic Optional<PaymentTermId> retrievePaymentTermId(@NonNull final PaymentTermQuery query)\n+\t{\n+\t\tfinal IQueryBL queryBL = Services.get(IQueryBL.class);\n+\n+\t\tfinal IQueryBuilder<I_C_PaymentTerm> queryBuilder = queryBL\n+\t\t\t\t.createQueryBuilder(I_C_PaymentTerm.class)\n+\t\t\t\t.addOnlyActiveRecordsFilter();\n+\n+\t\tCheck.assumeNotNull(query.getOrgId(), \"Org Id is missing from PaymentTermQuery \", query);", "originalCommit": "6a156fb297fdb7e3588701de0e3421a2a113d125", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}