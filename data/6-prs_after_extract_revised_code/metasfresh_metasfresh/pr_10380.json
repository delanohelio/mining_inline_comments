{"pr_number": 10380, "pr_title": "#10377 Request creation from InOut", "pr_createdAt": "2020-12-08T11:12:38Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/10380", "timeline": [{"oid": "380339acc0b4f94ac7de55a914283a8d6436b7a5", "url": "https://github.com/metasfresh/metasfresh/commit/380339acc0b4f94ac7de55a914283a8d6436b7a5", "message": "#10377\n - added method in InoutBL to create request from inout", "committedDate": "2020-12-08T11:11:34Z", "type": "commit"}, {"oid": "3099b076f0d0a9a41e1be52d1af288d2cb71d81e", "url": "https://github.com/metasfresh/metasfresh/commit/3099b076f0d0a9a41e1be52d1af288d2cb71d81e", "message": "#10377\n - added non-null annotation", "committedDate": "2020-12-08T11:14:17Z", "type": "commit"}, {"oid": "acd5d6b55fa5b97c3d497bf2417cc482f0a3db65", "url": "https://github.com/metasfresh/metasfresh/commit/acd5d6b55fa5b97c3d497bf2417cc482f0a3db65", "message": "#10377\n - Also setting m_inout_id based on record ref", "committedDate": "2020-12-08T12:33:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM3MzA5OQ==", "url": "https://github.com/metasfresh/metasfresh/pull/10380#discussion_r538373099", "bodyText": "extract the service as a field", "author": "teosarca", "createdAt": "2020-12-08T13:33:12Z", "path": "backend/de.metas.adempiere.adempiere/base/src/main/java/de/metas/document/impl/DocTypeBL.java", "diffHunk": "@@ -110,4 +86,10 @@ public boolean isPrepay(final I_C_DocType dt)\n \t\treturn X_C_DocType.DOCSUBTYPE_PrepayOrder.equals(dt.getDocSubType())\n \t\t\t\t&& X_C_DocType.DOCBASETYPE_SalesOrder.equals(dt.getDocBaseType());\n \t}\n+\n+\t@Override\n+\tpublic boolean hasRequestType(@NonNull final DocTypeId docTypeId)\n+\t{\n+\t\treturn Services.get(IDocTypeDAO.class).getById(docTypeId).getR_RequestType_ID() > 0;", "originalCommit": "acd5d6b55fa5b97c3d497bf2417cc482f0a3db65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM4MzgyNA==", "url": "https://github.com/metasfresh/metasfresh/pull/10380#discussion_r538383824", "bodyText": "@teosarca done, also replaced it in other methods from the class with the class field.", "author": "dragospodariu96", "createdAt": "2020-12-08T13:43:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM3MzA5OQ=="}], "type": "inlineReview", "revised_code": {"commit": "d7186e35411e9c65b1b312590018c4ed9949e4fa", "chunk": "diff --git a/backend/de.metas.adempiere.adempiere/base/src/main/java/de/metas/document/impl/DocTypeBL.java b/backend/de.metas.adempiere.adempiere/base/src/main/java/de/metas/document/impl/DocTypeBL.java\nindex 6cf5c7af78..e399859672 100644\n--- a/backend/de.metas.adempiere.adempiere/base/src/main/java/de/metas/document/impl/DocTypeBL.java\n+++ b/backend/de.metas.adempiere.adempiere/base/src/main/java/de/metas/document/impl/DocTypeBL.java\n\n@@ -90,6 +88,6 @@ public class DocTypeBL implements IDocTypeBL\n \t@Override\n \tpublic boolean hasRequestType(@NonNull final DocTypeId docTypeId)\n \t{\n-\t\treturn Services.get(IDocTypeDAO.class).getById(docTypeId).getR_RequestType_ID() > 0;\n+\t\treturn docTypesRepo.getById(docTypeId).getR_RequestType_ID() > 0;\n \t}\n }\n"}}, {"oid": "d7186e35411e9c65b1b312590018c4ed9949e4fa", "url": "https://github.com/metasfresh/metasfresh/commit/d7186e35411e9c65b1b312590018c4ed9949e4fa", "message": "#10377\n - Extracted doctypeDAO as a class field.", "committedDate": "2020-12-08T13:43:07Z", "type": "commit"}]}