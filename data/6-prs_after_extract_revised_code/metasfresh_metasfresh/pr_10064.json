{"pr_number": 10064, "pr_title": "#10063", "pr_createdAt": "2020-10-06T09:39:54Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/10064", "timeline": [{"oid": "ba46732273df2ed453b46d0aa029acfbbecf2fc8", "url": "https://github.com/metasfresh/metasfresh/commit/ba46732273df2ed453b46d0aa029acfbbecf2fc8", "message": "#10063\n - No longer showing discontinued products in batch entry.\n - Modified m_product_lookup_v view to also include m_product's discontinued column.", "committedDate": "2020-10-06T09:38:12Z", "type": "commit"}, {"oid": "b7c5ee035a14d23546e5c68b89c70091871c091c", "url": "https://github.com/metasfresh/metasfresh/commit/b7c5ee035a14d23546e5c68b89c70091871c091c", "message": "#10063\n - No longer showing discontinued products in products proposal.", "committedDate": "2020-10-06T09:56:28Z", "type": "commit"}, {"oid": "32fccff68214b5f366cd3ee921d08f5a08ba54a4", "url": "https://github.com/metasfresh/metasfresh/commit/32fccff68214b5f366cd3ee921d08f5a08ba54a4", "message": "#10063\n - No longer showing discontinued products in products proposal (fixed filter).", "committedDate": "2020-10-06T10:02:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM2NjYyOQ==", "url": "https://github.com/metasfresh/metasfresh/pull/10064#discussion_r500366629", "bodyText": "From looking at the code, i'm not sure that we can still enter discontinued products at not-order-places.\nFrom a quick check, those include invoice lines and forecast lines; maybe more.\nPlease make sure that this still works", "author": "metas-ts", "createdAt": "2020-10-06T15:03:08Z", "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/window/descriptor/sql/ProductLookupDescriptor.java", "diffHunk": "@@ -357,6 +356,11 @@ private static StringBuilder appendFilterByIsActive(final StringBuilder sqlWhere\n \t\treturn sqlWhereClause.append(\"\\n p.\").append(I_M_Product_Lookup_V.COLUMNNAME_IsActive).append(\"=\").append(sqlWhereClauseParams.placeholder(true));\n \t}\n \n+\tprivate static StringBuilder appendFilterByDiscontinued(final StringBuilder sqlWhereClause, final SqlParamsCollector sqlWhereClauseParams)", "originalCommit": "32fccff68214b5f366cd3ee921d08f5a08ba54a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5MzgwNw==", "url": "https://github.com/metasfresh/metasfresh/pull/10064#discussion_r501093807", "bodyText": "Modified ProductLookupDescriptor so to only show discontinued products when the new boolean param is set to false.", "author": "dragospodariu96", "createdAt": "2020-10-07T15:12:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM2NjYyOQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "a65a48cd1e88870920b6ff7b861be3e75bc1fb34", "url": "https://github.com/metasfresh/metasfresh/commit/a65a48cd1e88870920b6ff7b861be3e75bc1fb34", "message": "#10063\n - Can now customize when building the productlookupdescriptor whether to show discontinued products or not.\n - only hiding discontinued products in order lines.", "committedDate": "2020-10-07T15:11:08Z", "type": "commit"}]}