{"pr_number": 2003, "pr_title": "ZK-4550: an inner tab disappears when using nested tabbox with differ\u2026", "pr_createdAt": "2020-05-18T10:46:07Z", "pr_url": "https://github.com/zkoss/zk/pull/2003", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg3Mjk4Nw==", "url": "https://github.com/zkoss/zk/pull/2003#discussion_r427872987", "bodyText": "test default theme is enough", "author": "plijyfes", "createdAt": "2020-05-20T09:33:33Z", "path": "zktest/test/java/org/zkoss/zktest/zats/test2/B91_ZK_4550Test.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/* B91_ZK_4550Test.java\n+\n+\t\tPurpose:\n+\t\t\n+\t\tDescription:\n+\t\t\n+\t\tHistory:\n+\t\t\t\tMon May 18 17:06:19 CST 2020, Created by leon\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+package org.zkoss.zktest.zats.test2;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.openqa.selenium.ElementNotVisibleException;\n+import org.zkoss.zktest.zats.WebDriverTestCase;\n+import org.zkoss.zktest.zats.ztl.JQuery;\n+\n+public class B91_ZK_4550Test extends WebDriverTestCase {\n+\t@Test\n+\tpublic void test() {\n+\t\tconnect();\n+\t\tString themeName = \"Default\";\n+\t\tString orient = \"top\";\n+\t\tJQuery themeLinks = jq(\"@a\");\n+\t\tJQuery orientButtons = jq(\"@button\");\n+\t\t\n+\t\tfor (int i = 0, themes = themeLinks.length(); i < themes; i++) { // test all themes", "originalCommit": "66742f12dab150113d3f1524324b8d24c6215763", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4544fe20efbf9fa51b5b6c839d812ad812bdb309", "chunk": "diff --git a/zktest/test/java/org/zkoss/zktest/zats/test2/B91_ZK_4550Test.java b/zktest/test/java/org/zkoss/zktest/zats/test2/B91_ZK_4550Test.java\nindex cd6987205e..b79a2e02c1 100644\n--- a/zktest/test/java/org/zkoss/zktest/zats/test2/B91_ZK_4550Test.java\n+++ b/zktest/test/java/org/zkoss/zktest/zats/test2/B91_ZK_4550Test.java\n\n@@ -21,26 +21,17 @@ public class B91_ZK_4550Test extends WebDriverTestCase {\n \t@Test\n \tpublic void test() {\n \t\tconnect();\n-\t\tString themeName = \"Default\";\n-\t\tString orient = \"top\";\n-\t\tJQuery themeLinks = jq(\"@a\");\n \t\tJQuery orientButtons = jq(\"@button\");\n \t\t\n-\t\tfor (int i = 0, themes = themeLinks.length(); i < themes; i++) { // test all themes\n-\t\t\tclick(themeLinks.eq(i));\n+\t\tfor (int i = 0; i < 4; i++) { // test different orient\n+\t\t\tclick(orientButtons.eq(i));\n \t\t\twaitResponse();\n-\t\t\tthemeName = themeLinks.eq(i).text();\n-\t\t\tfor (int j = 0, buttons = orientButtons.length(); j < buttons; j++) { // test different orient\n-\t\t\t\tclick(orientButtons.eq(j));\n+\t\t\ttry {\n+\t\t\t\tclick(jq(\"$target\"));\n \t\t\t\twaitResponse();\n-\t\t\t\torient = orientButtons.eq(j).text();\n-\t\t\t\ttry {\n-\t\t\t\t\tclick(jq(\"$target\"));\n-\t\t\t\t\twaitResponse();\n-\t\t\t\t} catch (ElementNotVisibleException e) {\n-\t\t\t\t\tString errorMsg = \"The tab2 inside nested tabbox should be visible. (\" + themeName + \": \" + orient + \")\";\n-\t\t\t\t\tAssert.fail(errorMsg);\n-\t\t\t\t}\n+\t\t\t} catch (ElementNotVisibleException e) {\n+\t\t\t\tString errorMsg = \"The tab2 inside nested tabbox should be visible.\";\n+\t\t\t\tAssert.fail(errorMsg);\n \t\t\t}\n \t\t}\n \t}\n"}}, {"oid": "4544fe20efbf9fa51b5b6c839d812ad812bdb309", "url": "https://github.com/zkoss/zk/commit/4544fe20efbf9fa51b5b6c839d812ad812bdb309", "message": "ZK-4550: an inner tab disappears when using nested tabbox with different orients", "committedDate": "2020-05-21T04:22:45Z", "type": "commit"}, {"oid": "4544fe20efbf9fa51b5b6c839d812ad812bdb309", "url": "https://github.com/zkoss/zk/commit/4544fe20efbf9fa51b5b6c839d812ad812bdb309", "message": "ZK-4550: an inner tab disappears when using nested tabbox with different orients", "committedDate": "2020-05-21T04:22:45Z", "type": "forcePushed"}]}