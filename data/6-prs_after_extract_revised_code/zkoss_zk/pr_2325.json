{"pr_number": 2325, "pr_title": "refine ZK-3317: Listbox with hflex=\"min\" produces a horizontal scrollbar", "pr_createdAt": "2020-12-23T03:36:51Z", "pr_url": "https://github.com/zkoss/zk/pull/2325", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg2OTg4MQ==", "url": "https://github.com/zkoss/zk/pull/2325#discussion_r547869881", "bodyText": "just $grid1, $grid2", "author": "scribetw", "createdAt": "2020-12-23T09:47:19Z", "path": "zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3316Test.java", "diffHunk": "@@ -25,6 +25,9 @@ public void test() {\n \t\tJQuery jqBar = jq(\".z-columns-bar\");\n \t\tJQuery grid = jq(\".z-grid\");", "originalCommit": "dcbad95dc5ece49a7f8b3c8c55f9b489c07ffe3b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "60e9fed239403705437c1e404914450d06826238", "chunk": "diff --git a/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3316Test.java b/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3316Test.java\nindex feb25a6111..7fb01f9e3f 100644\n--- a/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3316Test.java\n+++ b/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3316Test.java\n\n@@ -23,11 +23,12 @@ public class B95_ZK_3316Test extends WebDriverTestCase {\n \t\tconnect();\n \t\twaitResponse();\n \t\tJQuery jqBar = jq(\".z-columns-bar\");\n-\t\tJQuery grid = jq(\".z-grid\");\n-\t\tassertEquals(grid.eq(0).find(\".z-row-content\").eq(0).outerWidth() + jqBar.eq(0).outerWidth(), grid.eq(0).width());\n+\t\tJQuery grid1 = jq(\"$grid1\");\n+\t\tJQuery grid2 = jq(\"$grid2\");\n+\t\tassertEquals(grid1.find(\".z-row-content:eq(0)\").outerWidth() + jqBar.outerWidth(), grid1.width());\n \t\tjq(\"$grid1\").scrollTop(100);\n \t\twaitResponse();\n-\t\tassertEquals(grid.eq(0).find(\".z-row-content\").eq(0).outerWidth() + jqBar.eq(0).outerWidth(), grid.eq(0).width());\n-\t\tassertEquals(grid.eq(1).find(\".z-row-content\").eq(0).outerWidth(), jq(\".z-grid\").eq(1).width());\n+\t\tassertEquals(grid1.find(\".z-row-content:eq(0)\").outerWidth() + jqBar.outerWidth(), grid1.width());\n+\t\tassertEquals(grid2.find(\".z-row-content:eq(0)\").outerWidth(), grid2.width());\n \t}\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg3MDU0Ng==", "url": "https://github.com/zkoss/zk/pull/2325#discussion_r547870546", "bodyText": "find(\".z-listcell-content:eq(0)\")", "author": "scribetw", "createdAt": "2020-12-23T09:48:39Z", "path": "zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3317Test.java", "diffHunk": "@@ -24,6 +24,10 @@ public void test() {\n \t\twaitResponse();\n \t\tJQuery listbox = jq(\".z-listbox\");\n \t\tJQuery jqBar = jq(\".z-listhead-bar\");\n+\t\tassertEquals(listbox.eq(0).find(\".z-listcell-content\").eq(0).outerWidth() + jqBar.eq(0).outerWidth(),", "originalCommit": "dcbad95dc5ece49a7f8b3c8c55f9b489c07ffe3b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "60e9fed239403705437c1e404914450d06826238", "chunk": "diff --git a/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3317Test.java b/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3317Test.java\nindex 23e0a9c9ac..1f39c2e1ea 100644\n--- a/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3317Test.java\n+++ b/zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_3317Test.java\n\n@@ -22,14 +22,15 @@ public class B95_ZK_3317Test extends WebDriverTestCase {\n \tpublic void test() {\n \t\tconnect();\n \t\twaitResponse();\n-\t\tJQuery listbox = jq(\".z-listbox\");\n+\t\tJQuery listbox1 = jq(\"$box\");\n+\t\tJQuery listbox2 = jq(\"$box2\");\n \t\tJQuery jqBar = jq(\".z-listhead-bar\");\n-\t\tassertEquals(listbox.eq(0).find(\".z-listcell-content\").eq(0).outerWidth() + jqBar.eq(0).outerWidth(),\n-\t\t\tlistbox.eq(0).width());\n+\t\tassertEquals(listbox1.find(\".z-listcell-content:eq(0)\").outerWidth() + jqBar.eq(0).outerWidth(),\n+\t\t\t\tlistbox1.width());\n \t\tjq(\"$box1\").scrollTop(100);\n \t\twaitResponse();\n-\t\tassertEquals(listbox.eq(0).find(\".z-listcell-content\").eq(0).outerWidth() + jqBar.eq(0).outerWidth(),\n-\t\t\tlistbox.eq(0).width());\n-\t\tassertEquals(listbox.eq(1).find(\".z-listcell-content\").eq(0).outerWidth(), listbox.eq(1).width());\n+\t\tassertEquals(listbox1.find(\".z-listcell-content:eq(0)\").outerWidth() + jqBar.eq(0).outerWidth(),\n+\t\t\tlistbox1.width());\n+\t\tassertEquals(listbox2.find(\".z-listcell-content:eq(0)\").outerWidth(), listbox2.width());\n \t}\n }\n"}}, {"oid": "60e9fed239403705437c1e404914450d06826238", "url": "https://github.com/zkoss/zk/commit/60e9fed239403705437c1e404914450d06826238", "message": "refine ZK-3317: Listbox with hflex=\"min\" produces a horizontal scrollbar", "committedDate": "2020-12-23T10:27:48Z", "type": "forcePushed"}, {"oid": "d0eb36fc5444a087ba3f2c2568b96bde2993fa09", "url": "https://github.com/zkoss/zk/commit/d0eb36fc5444a087ba3f2c2568b96bde2993fa09", "message": "refine ZK-3317: Listbox with hflex=\"min\" produces a horizontal scrollbar", "committedDate": "2020-12-23T10:33:40Z", "type": "commit"}, {"oid": "d0eb36fc5444a087ba3f2c2568b96bde2993fa09", "url": "https://github.com/zkoss/zk/commit/d0eb36fc5444a087ba3f2c2568b96bde2993fa09", "message": "refine ZK-3317: Listbox with hflex=\"min\" produces a horizontal scrollbar", "committedDate": "2020-12-23T10:33:40Z", "type": "forcePushed"}]}