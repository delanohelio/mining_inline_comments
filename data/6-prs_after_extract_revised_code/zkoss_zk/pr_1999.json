{"pr_number": 1999, "pr_title": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme cust\u2026", "pr_createdAt": "2020-05-14T02:57:31Z", "pr_url": "https://github.com/zkoss/zk/pull/1999", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkzNTI3Nw==", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r424935277", "bodyText": "add remove class name test", "author": "plijyfes", "createdAt": "2020-05-14T07:47:10Z", "path": "zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/* F91_ZK_4544Test.java\n+\n+\t\tPurpose:\n+\t\t\n+\t\tDescription:\n+\t\t\n+\t\tHistory:\n+\t\t\t\tThu May 14 10:23:07 CST 2020, Created by leon\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+package org.zkoss.zktest.zats.test2;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.zkoss.zktest.zats.WebDriverTestCase;\n+\n+public class F91_ZK_4544Test extends WebDriverTestCase {\n+\t@Test\n+\tpublic void test() {\n+\t\tconnect();\n+\t\tclick(jq(\".z-radio-content\").eq(0));\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(jq(\".z-radio\").eq(0).hasClass(\"z-radio-checked\"));", "originalCommit": "878d87533fc96ec39de9f4325b6f5e49388795de", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9286bed7ddd215e3b2a4b718712e4233e6f813db", "chunk": "diff --git a/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java b/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java\nindex c825cdeb46..ed81d91445 100644\n--- a/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java\n+++ b/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java\n\n@@ -14,13 +14,60 @@ package org.zkoss.zktest.zats.test2;\n import org.junit.Assert;\n import org.junit.Test;\n import org.zkoss.zktest.zats.WebDriverTestCase;\n+import org.zkoss.zktest.zats.ztl.JQuery;\n \n public class F91_ZK_4544Test extends WebDriverTestCase {\n \t@Test\n-\tpublic void test() {\n+\tpublic void radioTest() {\n \t\tconnect();\n+\t\t\n+\t\tJQuery radio = jq(\".z-radio\").eq(0);\n+\t\tJQuery radioDisabledButton = jq(\"@button\").eq(0);\n+\t\t\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-off\"));\n+\t\t\n \t\tclick(jq(\".z-radio-content\").eq(0));\n \t\twaitResponse();\n-\t\tAssert.assertTrue(jq(\".z-radio\").eq(0).hasClass(\"z-radio-checked\"));\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-on\"));\n+\t\t\n+\t\tclick(jq(\".z-radio-content\").eq(1));\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(radio.hasClass(\"z-radio-on\"));\n+\t\tAssert.assertTrue(jq(\".z-radio\").eq(1).hasClass(\"z-radio-on\"));\n+\t\t\n+\t\tclick(radioDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-disabled\"));\n+\t\t\n+\t\tclick(radioDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(radio.hasClass(\"z-radio-disabled\"));\n+\t}\n+\t\n+\t@Test\n+\tpublic void checkboxTest() {\n+\t\tconnect();\n+\t\t\n+\t\tJQuery checkbox = jq(\".z-checkbox\").eq(0);\n+\t\tJQuery checkboxContent = jq(\".z-checkbox-content\").eq(0);\n+\t\tJQuery checkboxDisabledButton = jq(\"@button\").eq(1);\n+\t\t\n+\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-off\"));\n+\t\t\n+\t\tclick(checkboxContent);\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-on\"));\n+\t\t\n+\t\tclick(checkboxContent);\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-off\"));\n+\t\t\n+\t\tclick(checkboxDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-disabled\"));\n+\t\t\n+\t\tclick(checkboxDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(checkbox.hasClass(\"z-checkbox-disabled\"));\n \t}\n }\n"}}, {"oid": "9286bed7ddd215e3b2a4b718712e4233e6f813db", "url": "https://github.com/zkoss/zk/commit/9286bed7ddd215e3b2a4b718712e4233e6f813db", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization", "committedDate": "2020-05-15T03:02:55Z", "type": "forcePushed"}, {"oid": "be5120a979704af12430f41d98cd0d2da4810fe3", "url": "https://github.com/zkoss/zk/commit/be5120a979704af12430f41d98cd0d2da4810fe3", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization", "committedDate": "2020-05-15T03:16:17Z", "type": "forcePushed"}, {"oid": "388c902c240934f7398aa4a88506a6a897635f21", "url": "https://github.com/zkoss/zk/commit/388c902c240934f7398aa4a88506a6a897635f21", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization", "committedDate": "2020-05-15T03:40:04Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg1NzE1OA==", "url": "https://github.com/zkoss/zk/pull/1999#discussion_r427857158", "bodyText": "test default on/off for both radio and checkbox", "author": "plijyfes", "createdAt": "2020-05-20T09:08:23Z", "path": "zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/* F91_ZK_4544Test.java\n+\n+\t\tPurpose:\n+\t\t\n+\t\tDescription:\n+\t\t\n+\t\tHistory:\n+\t\t\t\tThu May 14 10:23:07 CST 2020, Created by leon\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+package org.zkoss.zktest.zats.test2;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.zkoss.zktest.zats.WebDriverTestCase;\n+import org.zkoss.zktest.zats.ztl.JQuery;\n+\n+public class F91_ZK_4544Test extends WebDriverTestCase {\n+\t@Test\n+\tpublic void radioTest() {\n+\t\tconnect();\n+\t\t\n+\t\tJQuery radio = jq(\".z-radio\").eq(0);\n+\t\tJQuery radioDisabledButton = jq(\"@button\").eq(0);\n+\t\t\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-off\"));\n+\t\t\n+\t\tclick(jq(\".z-radio-content\").eq(0));\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-on\"));\n+\t\t\n+\t\tclick(jq(\".z-radio-content\").eq(1));\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(radio.hasClass(\"z-radio-on\"));\n+\t\tAssert.assertTrue(jq(\".z-radio\").eq(1).hasClass(\"z-radio-on\"));\n+\t\t\n+\t\tclick(radioDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertTrue(radio.hasClass(\"z-radio-disabled\"));\n+\t\t\n+\t\tclick(radioDisabledButton);\n+\t\twaitResponse();\n+\t\tAssert.assertFalse(radio.hasClass(\"z-radio-disabled\"));\n+\t}\n+\t\n+\t@Test\n+\tpublic void checkboxTest() {\n+\t\tconnect();\n+\t\t\n+\t\tJQuery checkbox = jq(\".z-checkbox\").eq(0);\n+\t\tJQuery checkboxContent = jq(\".z-checkbox-content\").eq(0);\n+\t\tJQuery checkboxDisabledButton = jq(\"@button\").eq(1);\n+\t\t\n+\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-off\"));", "originalCommit": "388c902c240934f7398aa4a88506a6a897635f21", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "cde95bd52ede90aa142827393a34dfcdd3948a67", "chunk": "diff --git a/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java b/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java\nindex ed81d91445..5e6ede1d3c 100644\n--- a/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java\n+++ b/zktest/test/java/org/zkoss/zktest/zats/test2/F91_ZK_4544Test.java\n\n@@ -21,53 +21,57 @@ public class F91_ZK_4544Test extends WebDriverTestCase {\n \tpublic void radioTest() {\n \t\tconnect();\n \t\t\n-\t\tJQuery radio = jq(\".z-radio\").eq(0);\n+\t\tJQuery radio = jq(\".z-radio\");\n \t\tJQuery radioDisabledButton = jq(\"@button\").eq(0);\n \t\t\n-\t\tAssert.assertTrue(radio.hasClass(\"z-radio-off\"));\n+\t\tAssert.assertTrue(radio.eq(0).hasClass(\"z-radio-off\"));\n+\t\tAssert.assertTrue(radio.eq(1).hasClass(\"z-radio-on\"));\n+\t\tAssert.assertTrue(radio.eq(2).hasClass(\"z-radio-disabled\"));\n \t\t\n \t\tclick(jq(\".z-radio-content\").eq(0));\n \t\twaitResponse();\n-\t\tAssert.assertTrue(radio.hasClass(\"z-radio-on\"));\n+\t\tAssert.assertTrue(radio.eq(0).hasClass(\"z-radio-on\"));\n \t\t\n \t\tclick(jq(\".z-radio-content\").eq(1));\n \t\twaitResponse();\n-\t\tAssert.assertFalse(radio.hasClass(\"z-radio-on\"));\n-\t\tAssert.assertTrue(jq(\".z-radio\").eq(1).hasClass(\"z-radio-on\"));\n+\t\tAssert.assertFalse(radio.eq(0).hasClass(\"z-radio-on\"));\n+\t\tAssert.assertTrue(radio.eq(1).hasClass(\"z-radio-on\"));\n \t\t\n \t\tclick(radioDisabledButton);\n \t\twaitResponse();\n-\t\tAssert.assertTrue(radio.hasClass(\"z-radio-disabled\"));\n+\t\tAssert.assertTrue(radio.eq(0).hasClass(\"z-radio-disabled\"));\n \t\t\n \t\tclick(radioDisabledButton);\n \t\twaitResponse();\n-\t\tAssert.assertFalse(radio.hasClass(\"z-radio-disabled\"));\n+\t\tAssert.assertFalse(radio.eq(0).hasClass(\"z-radio-disabled\"));\n \t}\n \t\n \t@Test\n \tpublic void checkboxTest() {\n \t\tconnect();\n \t\t\n-\t\tJQuery checkbox = jq(\".z-checkbox\").eq(0);\n+\t\tJQuery checkbox = jq(\".z-checkbox\");\n \t\tJQuery checkboxContent = jq(\".z-checkbox-content\").eq(0);\n \t\tJQuery checkboxDisabledButton = jq(\"@button\").eq(1);\n \t\t\n-\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-off\"));\n+\t\tAssert.assertTrue(checkbox.eq(0).hasClass(\"z-checkbox-off\"));\n+\t\tAssert.assertTrue(checkbox.eq(1).hasClass(\"z-checkbox-on\"));\n+\t\tAssert.assertTrue(checkbox.eq(2).hasClass(\"z-checkbox-disabled\"));\n \t\t\n \t\tclick(checkboxContent);\n \t\twaitResponse();\n-\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-on\"));\n+\t\tAssert.assertTrue(checkbox.eq(0).hasClass(\"z-checkbox-on\"));\n \t\t\n \t\tclick(checkboxContent);\n \t\twaitResponse();\n-\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-off\"));\n+\t\tAssert.assertTrue(checkbox.eq(0).hasClass(\"z-checkbox-off\"));\n \t\t\n \t\tclick(checkboxDisabledButton);\n \t\twaitResponse();\n-\t\tAssert.assertTrue(checkbox.hasClass(\"z-checkbox-disabled\"));\n+\t\tAssert.assertTrue(checkbox.eq(0).hasClass(\"z-checkbox-disabled\"));\n \t\t\n \t\tclick(checkboxDisabledButton);\n \t\twaitResponse();\n-\t\tAssert.assertFalse(checkbox.hasClass(\"z-checkbox-disabled\"));\n+\t\tAssert.assertFalse(checkbox.eq(0).hasClass(\"z-checkbox-disabled\"));\n \t}\n }\n"}}, {"oid": "cde95bd52ede90aa142827393a34dfcdd3948a67", "url": "https://github.com/zkoss/zk/commit/cde95bd52ede90aa142827393a34dfcdd3948a67", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization", "committedDate": "2020-05-20T10:11:28Z", "type": "commit"}, {"oid": "cde95bd52ede90aa142827393a34dfcdd3948a67", "url": "https://github.com/zkoss/zk/commit/cde95bd52ede90aa142827393a34dfcdd3948a67", "message": "ZK-4544: Radio/Checkbox provide a status class name for more easier theme customization", "committedDate": "2020-05-20T10:11:28Z", "type": "forcePushed"}]}