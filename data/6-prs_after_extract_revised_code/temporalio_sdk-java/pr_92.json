{"pr_number": 92, "pr_title": "Consume and Update to Latest Protos", "pr_createdAt": "2020-05-21T07:37:54Z", "pr_url": "https://github.com/temporalio/sdk-java/pull/92", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQ5NTMzOA==", "url": "https://github.com/temporalio/sdk-java/pull/92#discussion_r428495338", "bodyText": "Looks like RequestCancelActivityTaskFailed is deprecated, but event type still exists.", "author": "shawnhathaway", "createdAt": "2020-05-21T07:39:22Z", "path": "src/main/java/io/temporal/internal/replay/DecisionsHelper.java", "diffHunk": "@@ -190,14 +189,15 @@ boolean handleActivityTaskCanceled(HistoryEvent event) {\n   }\n \n   boolean handleRequestCancelActivityTaskFailed(HistoryEvent event) {\n-    RequestCancelActivityTaskFailedEventAttributes attributes =\n-        event.getRequestCancelActivityTaskFailedEventAttributes();\n-    String activityId = attributes.getActivityId();\n-    long scheduledEventId = getActivityScheduledEventId(activityId);\n-    DecisionStateMachine decision =\n-        getDecision(new DecisionId(DecisionTarget.ACTIVITY, scheduledEventId));\n-    decision.handleCancellationFailureEvent(event);\n-    return decision.isDone();\n+    //    RequestCancelActivityTaskFailedEventAttributes attributes =", "originalCommit": "3167884d55d79e9788a713e69b30e5e5659ac038", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "60d3d5db3e6d0e14f1bfb34d6c7b324d86b3cc61", "chunk": "diff --git a/src/main/java/io/temporal/internal/replay/DecisionsHelper.java b/src/main/java/io/temporal/internal/replay/DecisionsHelper.java\nindex 62e23fe9..915cafc6 100644\n--- a/src/main/java/io/temporal/internal/replay/DecisionsHelper.java\n+++ b/src/main/java/io/temporal/internal/replay/DecisionsHelper.java\n\n@@ -188,18 +188,6 @@ class DecisionsHelper {\n     return decision.isDone();\n   }\n \n-  boolean handleRequestCancelActivityTaskFailed(HistoryEvent event) {\n-    //    RequestCancelActivityTaskFailedEventAttributes attributes =\n-    //        event.getRequestCancelActivityTaskFailedEventAttributes();\n-    //    String activityId = attributes.getActivityId();\n-    //    long scheduledEventId = getActivityScheduledEventId(activityId);\n-    //    DecisionStateMachine decision =\n-    //        getDecision(new DecisionId(DecisionTarget.ACTIVITY, scheduledEventId));\n-    //    decision.handleCancellationFailureEvent(event);\n-    //    return decision.isDone();\n-    return false;\n-  }\n-\n   long startChildWorkflowExecution(StartChildWorkflowExecutionDecisionAttributes childWorkflow) {\n     addAllMissingVersionMarker();\n \n"}}, {"oid": "60d3d5db3e6d0e14f1bfb34d6c7b324d86b3cc61", "url": "https://github.com/temporalio/sdk-java/commit/60d3d5db3e6d0e14f1bfb34d6c7b324d86b3cc61", "message": "Consume and Update to latest protos", "committedDate": "2020-05-22T18:34:32Z", "type": "commit"}]}