{"pr_number": 3192, "pr_title": "build_gen: include LRO GAPIC in go_gapic_library dep", "pr_createdAt": "2020-05-11T18:29:12Z", "pr_url": "https://github.com/googleapis/gapic-generator/pull/3192", "timeline": [{"oid": "2d7dfe96155b5989a7e3bc8ba6420f7598a2e9e4", "url": "https://github.com/googleapis/gapic-generator/commit/2d7dfe96155b5989a7e3bc8ba6420f7598a2e9e4", "message": "build_gen: include LRO GAPIC in go_gapic_library dep", "committedDate": "2020-05-11T18:04:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzMxNTI4NA==", "url": "https://github.com/googleapis/gapic-generator/pull/3192#discussion_r423315284", "bodyText": "Probably remove or comment out with explanation why gapic does not work and what should be done to make it work.", "author": "vam-google", "createdAt": "2020-05-11T20:57:40Z", "path": "rules_gapic/bazel/src/main/java/com/google/api/codegen/bazel/BazelBuildFileView.java", "diffHunk": "@@ -232,6 +232,7 @@ private String replaceLabelName(String labelPathAndName, String newLabelName) {\n         goImports.add(replaceLabelName(protoImport, \":longrunning_go_gapic\"));", "originalCommit": "2d7dfe96155b5989a7e3bc8ba6420f7598a2e9e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzMyNDA0Ng==", "url": "https://github.com/googleapis/gapic-generator/pull/3192#discussion_r423324046", "bodyText": "Good idea, opened an issue for it too. Done.", "author": "noahdietz", "createdAt": "2020-05-11T21:15:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzMxNTI4NA=="}], "type": "inlineReview", "revised_code": {"commit": "c99a3f2376e702806069d768205c27e777f45d56", "chunk": "diff --git a/rules_gapic/bazel/src/main/java/com/google/api/codegen/bazel/BazelBuildFileView.java b/rules_gapic/bazel/src/main/java/com/google/api/codegen/bazel/BazelBuildFileView.java\nindex 31e8a135a..1e96fc241 100644\n--- a/rules_gapic/bazel/src/main/java/com/google/api/codegen/bazel/BazelBuildFileView.java\n+++ b/rules_gapic/bazel/src/main/java/com/google/api/codegen/bazel/BazelBuildFileView.java\n\n@@ -229,9 +229,13 @@ class BazelBuildFileView {\n       }\n \n       if (protoImport.endsWith(\":operations_proto\")) {\n-        goImports.add(replaceLabelName(protoImport, \":longrunning_go_gapic\"));\n+        // Disable injection of unused longrunning GAPIC target as dependency.\n+        //\n+        // TODO(ndietz) enable this dependency once issue is closed: https://github.com/googleapis/gapic-generator-go/issues/387\n+        // goImports.add(replaceLabelName(protoImport, \":longrunning_go_gapic\"));\n         goImports.add(replaceLabelName(protoImport, \":longrunning_go_proto\"));\n         goImports.add(\"@com_google_cloud_go//longrunning:go_default_library\");\n+        // TODO(ndietz) remove this dependency once issue is closed: https://github.com/googleapis/gapic-generator-go/issues/387\n         goImports.add(\"@com_google_cloud_go//longrunning/autogen:go_default_library\");\n         for (String pi : protoImports) {\n           if (pi.startsWith(\"@com_google_protobuf//\")) {\n"}}, {"oid": "c99a3f2376e702806069d768205c27e777f45d56", "url": "https://github.com/googleapis/gapic-generator/commit/c99a3f2376e702806069d768205c27e777f45d56", "message": "add TODO with tracking issue", "committedDate": "2020-05-11T21:14:23Z", "type": "commit"}, {"oid": "c99a3f2376e702806069d768205c27e777f45d56", "url": "https://github.com/googleapis/gapic-generator/commit/c99a3f2376e702806069d768205c27e777f45d56", "message": "add TODO with tracking issue", "committedDate": "2020-05-11T21:14:23Z", "type": "forcePushed"}, {"oid": "af797733178049064589e846555119c2201de7c8", "url": "https://github.com/googleapis/gapic-generator/commit/af797733178049064589e846555119c2201de7c8", "message": "java format", "committedDate": "2020-05-11T21:34:42Z", "type": "commit"}]}