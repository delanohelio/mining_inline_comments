{"pr_number": 225, "pr_title": "Update the default connection creation timeout to 10s from 2s", "pr_createdAt": "2020-03-18T22:49:31Z", "pr_url": "https://github.com/linkedin/rest.li/pull/225", "timeline": [{"oid": "19ef3a2c779c54fe086ce6b20bfdc84918c860c8", "url": "https://github.com/linkedin/rest.li/commit/19ef3a2c779c54fe086ce6b20bfdc84918c860c8", "message": "Update the default connection creation timeout to 10s from 2s", "committedDate": "2020-03-18T22:45:26Z", "type": "commit"}, {"oid": "66c19ec2256cd28ecf5fafeec0f4a00f3ba432bd", "url": "https://github.com/linkedin/rest.li/commit/66c19ec2256cd28ecf5fafeec0f4a00f3ba432bd", "message": "Fix the Unit test for the new object creation timeout", "committedDate": "2020-03-18T23:34:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDcwMzU5NQ==", "url": "https://github.com/linkedin/rest.li/pull/225#discussion_r394703595", "bodyText": "use DEFAULT_OBJECT_CREATION_TIMEOUT", "author": "cx-super", "createdAt": "2020-03-18T23:50:29Z", "path": "r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java", "diffHunk": "@@ -822,11 +822,11 @@ public void testCreationTimeout(int poolSize, int concurrency) throws Exception\n \n       // run for the duration of default creation timeout\n       // TODO: parameterize the creation duration when the default creation gets parameterized\n-      clockedExecutor.runFor(2000);\n+      clockedExecutor.runFor(10000);", "originalCommit": "66c19ec2256cd28ecf5fafeec0f4a00f3ba432bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDcyMjI5Ng==", "url": "https://github.com/linkedin/rest.li/pull/225#discussion_r394722296", "bodyText": "Fixed", "author": "nizarm", "createdAt": "2020-03-19T00:33:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDcwMzU5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "53af0bbeda7155966d9ac02ea8fe8a5cce2f1d3f", "chunk": "diff --git a/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java b/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java\nindex dfc798cdc..3b021992f 100644\n--- a/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java\n+++ b/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java\n\n@@ -822,11 +822,11 @@ public class TestAsyncPool\n \n       // run for the duration of default creation timeout\n       // TODO: parameterize the creation duration when the default creation gets parameterized\n-      clockedExecutor.runFor(10000);\n+      clockedExecutor.runFor(AsyncPoolImpl.DEFAULT_OBJECT_CREATION_TIMEOUT);\n     }\n \n     // drain all the pending tasks\n-    clockedExecutor.runFor(10000);\n+    clockedExecutor.runFor(AsyncPoolImpl.DEFAULT_OBJECT_CREATION_TIMEOUT);\n \n     // Make sure that all the creations are failed with CreationTimeout\n     // since the object creator went to limbo state\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDcwMzY4MQ==", "url": "https://github.com/linkedin/rest.li/pull/225#discussion_r394703681", "bodyText": "ditto", "author": "cx-super", "createdAt": "2020-03-18T23:50:44Z", "path": "r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java", "diffHunk": "@@ -822,11 +822,11 @@ public void testCreationTimeout(int poolSize, int concurrency) throws Exception\n \n       // run for the duration of default creation timeout\n       // TODO: parameterize the creation duration when the default creation gets parameterized\n-      clockedExecutor.runFor(2000);\n+      clockedExecutor.runFor(10000);\n     }\n \n     // drain all the pending tasks\n-    clockedExecutor.runFor(2000);\n+    clockedExecutor.runFor(10000);", "originalCommit": "66c19ec2256cd28ecf5fafeec0f4a00f3ba432bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDcyMjI0NQ==", "url": "https://github.com/linkedin/rest.li/pull/225#discussion_r394722245", "bodyText": "Fixed", "author": "nizarm", "createdAt": "2020-03-19T00:32:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDcwMzY4MQ=="}], "type": "inlineReview", "revised_code": {"commit": "53af0bbeda7155966d9ac02ea8fe8a5cce2f1d3f", "chunk": "diff --git a/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java b/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java\nindex dfc798cdc..3b021992f 100644\n--- a/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java\n+++ b/r2-core/src/test/java/test/r2/transport/http/client/TestAsyncPool.java\n\n@@ -822,11 +822,11 @@ public class TestAsyncPool\n \n       // run for the duration of default creation timeout\n       // TODO: parameterize the creation duration when the default creation gets parameterized\n-      clockedExecutor.runFor(10000);\n+      clockedExecutor.runFor(AsyncPoolImpl.DEFAULT_OBJECT_CREATION_TIMEOUT);\n     }\n \n     // drain all the pending tasks\n-    clockedExecutor.runFor(10000);\n+    clockedExecutor.runFor(AsyncPoolImpl.DEFAULT_OBJECT_CREATION_TIMEOUT);\n \n     // Make sure that all the creations are failed with CreationTimeout\n     // since the object creator went to limbo state\n"}}, {"oid": "53af0bbeda7155966d9ac02ea8fe8a5cce2f1d3f", "url": "https://github.com/linkedin/rest.li/commit/53af0bbeda7155966d9ac02ea8fe8a5cce2f1d3f", "message": "Updated the unit test to use the constant value rather than hard coded magic number", "committedDate": "2020-03-19T00:31:29Z", "type": "commit"}]}