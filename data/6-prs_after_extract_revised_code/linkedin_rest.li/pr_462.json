{"pr_number": 462, "pr_title": "Set ValidationResult to false if IllegalArgument exceptions are seen during iterative validation using ObjectIterator", "pr_createdAt": "2020-10-27T18:20:09Z", "pr_url": "https://github.com/linkedin/rest.li/pull/462", "timeline": [{"oid": "edd99b88b5d3f2e75f2cb27529be6e575e72434c", "url": "https://github.com/linkedin/rest.li/commit/edd99b88b5d3f2e75f2cb27529be6e575e72434c", "message": "Set ValidationResult to false if IllegaeArgument exception are seen during validation", "committedDate": "2020-10-26T19:46:40Z", "type": "commit"}, {"oid": "8a93257453b2aa0ad13e6fe9824b801c187cdc86", "url": "https://github.com/linkedin/rest.li/commit/8a93257453b2aa0ad13e6fe9824b801c187cdc86", "message": "Chagne the location of try catch", "committedDate": "2020-10-27T18:23:59Z", "type": "commit"}, {"oid": "d4a147881bba67a84eddad98f9e64eb8d1ac1785", "url": "https://github.com/linkedin/rest.li/commit/d4a147881bba67a84eddad98f9e64eb8d1ac1785", "message": "Merge branch 'master' into fix_http_500_during_validateInputEntity", "committedDate": "2020-10-27T18:32:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk0MzgyNA==", "url": "https://github.com/linkedin/rest.li/pull/462#discussion_r512943824", "bodyText": "Also log the exception for debugging.", "author": "karthikbalasub", "createdAt": "2020-10-27T18:46:39Z", "path": "data/src/main/java/com/linkedin/data/schema/validation/ValidateDataAgainstSchema.java", "diffHunk": "@@ -173,9 +166,22 @@ protected void validateIterative(DataElement element)\n       _fixed = element.getValue();\n       UnrecognizedFieldMode unrecognizedFieldMode = _options.getUnrecognizedFieldMode();\n       ObjectIterator it = new ObjectIterator(element, IterationOrder.POST_ORDER);\n-      DataElement nextElement;\n-      while ((nextElement = it.next()) != null)\n+      DataElement nextElement = null;\n+      while (true)\n       {\n+        try\n+        {\n+          if ((nextElement = it.next()) == null)\n+          {\n+            break;\n+          }\n+        }\n+        catch (IllegalArgumentException e)\n+        {\n+          addMessage(nextElement, e.getMessage());", "originalCommit": "8a93257453b2aa0ad13e6fe9824b801c187cdc86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk1NjA1MQ==", "url": "https://github.com/linkedin/rest.li/pull/462#discussion_r512956051", "bodyText": "There has never been any logs in any Validators, either schema or data validators.\nAlso I am not sure if need them as theyare caught in the validation result", "author": "junchuanwang", "createdAt": "2020-10-27T19:07:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk0MzgyNA=="}], "type": "inlineReview", "revised_code": null}]}