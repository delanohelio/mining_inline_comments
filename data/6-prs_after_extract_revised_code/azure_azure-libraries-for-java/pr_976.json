{"pr_number": 976, "pr_title": "Add authentication policy", "pr_createdAt": "2020-01-20T07:32:13Z", "pr_url": "https://github.com/Azure/azure-libraries-for-java/pull/976", "timeline": [{"oid": "edb54e0c4a52120a918f0b1c30fbcf1db753f413", "url": "https://github.com/Azure/azure-libraries-for-java/commit/edb54e0c4a52120a918f0b1c30fbcf1db753f413", "message": "feat: add authentication policy", "committedDate": "2020-01-20T07:31:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQxMTkxOQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/976#discussion_r368411919", "bodyText": "Add TODO, should use endpoint from AzureEnvironment from credential.", "author": "weidongxu-microsoft", "createdAt": "2020-01-20T08:12:26Z", "path": "azure-mgmt-resources/src/main/java/com/azure/management/RestClientBuilder.java", "diffHunk": "@@ -39,6 +40,9 @@\n     private HttpLogOptions httpLogOptions;\r\n     private Configuration configuration;\r\n     private SerializerAdapter serializerAdapter;\r\n+    private List<String> scopes;\r\n+\r\n+    private static final String[] defaultScopes = new String[] { AzureEnvironment.AZURE.getResourceManagerEndpoint() + \"/.default\" };\r", "originalCommit": "edb54e0c4a52120a918f0b1c30fbcf1db753f413", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "917acb53fbcb067ef80e37f9b9d24a55fd28d7d2", "chunk": "diff --git a/azure-mgmt-resources/src/main/java/com/azure/management/RestClientBuilder.java b/azure-mgmt-resources/src/main/java/com/azure/management/RestClientBuilder.java\nindex fc644896..086f2f0f 100644\n--- a/azure-mgmt-resources/src/main/java/com/azure/management/RestClientBuilder.java\n+++ b/azure-mgmt-resources/src/main/java/com/azure/management/RestClientBuilder.java\n\n@@ -42,6 +42,7 @@ public final class RestClientBuilder {\n     private SerializerAdapter serializerAdapter;\n     private List<String> scopes;\n \n+    // TODO: add AzureEnvironment parameter for different default scopes\n     private static final String[] defaultScopes = new String[] { AzureEnvironment.AZURE.getResourceManagerEndpoint() + \"/.default\" };\n \n     private final RetryPolicy retryPolicy;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQxMjIwNQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/976#discussion_r368412205", "bodyText": "OK for now, please investigate how other implementation of this class do on this getToken", "author": "weidongxu-microsoft", "createdAt": "2020-01-20T08:13:14Z", "path": "azure-mgmt-resources/src/main/java/com/azure/management/AzureTokenCredential.java", "diffHunk": "@@ -43,33 +43,33 @@ public AzureTokenCredential(AzureEnvironment environment, String domain) {\n      * @param request the details of the token request\r\n      * @return a Publisher that emits a single access token\r\n      */\r\n-    @Override\r\n-    public final Mono<AccessToken> getToken(TokenRequestContext request) {\r", "originalCommit": "edb54e0c4a52120a918f0b1c30fbcf1db753f413", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "917acb53fbcb067ef80e37f9b9d24a55fd28d7d2", "url": "https://github.com/Azure/azure-libraries-for-java/commit/917acb53fbcb067ef80e37f9b9d24a55fd28d7d2", "message": "feat: add TODO for authentication refine", "committedDate": "2020-01-20T08:16:11Z", "type": "commit"}]}