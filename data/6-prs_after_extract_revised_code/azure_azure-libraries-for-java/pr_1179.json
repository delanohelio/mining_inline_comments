{"pr_number": 1179, "pr_title": "Resources: update defaultApiVersion with exact match only", "pr_createdAt": "2020-05-07T07:46:52Z", "pr_url": "https://github.com/Azure/azure-libraries-for-java/pull/1179", "timeline": [{"oid": "dd6bd8bff5d424c40b859ffc6be1b18490fc4f7a", "url": "https://github.com/Azure/azure-libraries-for-java/commit/dd6bd8bff5d424c40b859ffc6be1b18490fc4f7a", "message": "Resources: update defaultApiVersion with exact match only", "committedDate": "2020-05-07T07:36:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMyMjQ4OQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1179#discussion_r421322489", "bodyText": "Azure has a habit to return resource ids with types in uppercase, so it would be beneficial to keep that\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    String resourceType = resourceTypeForApiVersion(id);\n          \n          \n            \n                    String resourceType = resourceTypeForApiVersion(id).toLowerCase();", "author": "wzur-r3", "createdAt": "2020-05-07T08:16:22Z", "path": "azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/fluentcore/arm/ResourceUtils.java", "diffHunk": "@@ -152,27 +152,30 @@ public static String nameFromResourceId(String id) {\n      * @return the default api version to use\n      */\n     public static String defaultApiVersion(String id, Provider provider) {\n-        String resourceType = resourceTypeFromResourceId(id).toLowerCase();\n+        String resourceType = resourceTypeForApiVersion(id);", "originalCommit": "dd6bd8bff5d424c40b859ffc6be1b18490fc4f7a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMzNjA4Mw==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1179#discussion_r421336083", "bodyText": "It's using equalsIgnoreCase later in the comparing loop so I just remove this toLowerCase.", "author": "xseeseesee", "createdAt": "2020-05-07T08:38:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMyMjQ4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM1NDA3NQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1179#discussion_r421354075", "bodyText": "my bad - I didn't look close enough", "author": "wzur-r3", "createdAt": "2020-05-07T09:07:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMyMjQ4OQ=="}], "type": "inlineReview", "revised_code": {"commit": "808ce630e6d2a0fee146d1d63e3f1ff74b0e2368", "chunk": "diff --git a/azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/fluentcore/arm/ResourceUtils.java b/azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/fluentcore/arm/ResourceUtils.java\nindex 1ecd91ecd..1731de379 100644\n--- a/azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/fluentcore/arm/ResourceUtils.java\n+++ b/azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/fluentcore/arm/ResourceUtils.java\n\n@@ -163,7 +163,7 @@ public final class ResourceUtils {\n     }\n \n     /**\n-     * Get the resource type used to find api version\n+     * Get the resource type used to find api version.\n      *\n      * @param id the resource ID\n      * @return the resource type to use\n"}}, {"oid": "808ce630e6d2a0fee146d1d63e3f1ff74b0e2368", "url": "https://github.com/Azure/azure-libraries-for-java/commit/808ce630e6d2a0fee146d1d63e3f1ff74b0e2368", "message": "fix checkstyle", "committedDate": "2020-05-07T08:45:22Z", "type": "commit"}, {"oid": "84401254b9131afb3c1d5623393337c22d35155e", "url": "https://github.com/Azure/azure-libraries-for-java/commit/84401254b9131afb3c1d5623393337c22d35155e", "message": "find api version recursively and update session record", "committedDate": "2020-05-08T02:44:52Z", "type": "commit"}, {"oid": "1b73f783f0b3929e21ef4676adfb03195ad939c4", "url": "https://github.com/Azure/azure-libraries-for-java/commit/1b73f783f0b3929e21ef4676adfb03195ad939c4", "message": "Merge branch 'master' into fix-api-version", "committedDate": "2020-05-14T02:14:20Z", "type": "commit"}]}