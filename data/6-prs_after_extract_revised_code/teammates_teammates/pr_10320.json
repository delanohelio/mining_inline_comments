{"pr_number": 10320, "pr_title": "[#10264] Hide MCQ/MSQ/Rubric Question Weights from Students", "pr_createdAt": "2020-07-16T08:11:03Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10320", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTY4ODg0Mw==", "url": "https://github.com/TEAMMATES/teammates/pull/10320#discussion_r455688843", "bodyText": "\"Weights\" is just the specific information that we want to hide. The method itself should be generic, e.g. hideInformationForStudent or alike.", "author": "wkurniawan07", "createdAt": "2020-07-16T10:32:44Z", "path": "src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java", "diffHunk": "@@ -176,4 +180,18 @@ public Integer getCustomNumberOfEntitiesToGiveFeedbackTo() {\n     public List<FeedbackVisibilityType> getShowRecipientNameTo() {\n         return showRecipientNameTo;\n     }\n+\n+    /**\n+     * Hides weights in question details if present.\n+     */\n+    public void hideWeightsForStudent() {", "originalCommit": "34dfb8b1415c670f5383600d49129f0a7cc39374", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fceae47a906f51aa0ea745e52394a07cba40ebb9", "chunk": "diff --git a/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java b/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\nindex 89b4c7253d..4be2ca95b3 100644\n--- a/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\n+++ b/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\n\n@@ -184,7 +184,7 @@ public class FeedbackQuestionData extends ApiOutput {\n     /**\n      * Hides weights in question details if present.\n      */\n-    public void hideWeightsForStudent() {\n+    public void hideInformationForStudent() {\n         if (questionDetails instanceof FeedbackMcqQuestionDetails) {\n             ((FeedbackMcqQuestionDetails) questionDetails).setMcqWeights(Collections.emptyList());\n         } else if (questionDetails instanceof FeedbackMsqQuestionDetails) {\n"}}, {"oid": "fceae47a906f51aa0ea745e52394a07cba40ebb9", "url": "https://github.com/TEAMMATES/teammates/commit/fceae47a906f51aa0ea745e52394a07cba40ebb9", "message": "Hide weights from students in FeedbackQuestionData", "committedDate": "2020-07-16T10:47:11Z", "type": "commit"}, {"oid": "fceae47a906f51aa0ea745e52394a07cba40ebb9", "url": "https://github.com/TEAMMATES/teammates/commit/fceae47a906f51aa0ea745e52394a07cba40ebb9", "message": "Hide weights from students in FeedbackQuestionData", "committedDate": "2020-07-16T10:47:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTcwNzk0MA==", "url": "https://github.com/TEAMMATES/teammates/pull/10320#discussion_r455707940", "bodyText": "Again, this is implementation details. Javadoc header comment shouldn't mention specifics.", "author": "wkurniawan07", "createdAt": "2020-07-16T11:09:38Z", "path": "src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java", "diffHunk": "@@ -176,4 +180,18 @@ public Integer getCustomNumberOfEntitiesToGiveFeedbackTo() {\n     public List<FeedbackVisibilityType> getShowRecipientNameTo() {\n         return showRecipientNameTo;\n     }\n+\n+    /**\n+     * Hides weights in question details if present.", "originalCommit": "fceae47a906f51aa0ea745e52394a07cba40ebb9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b399c1802cabddc188bbb86149f9498482701dab", "chunk": "diff --git a/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java b/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\nindex 4be2ca95b3..4bd3c0ec99 100644\n--- a/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\n+++ b/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\n\n@@ -182,7 +182,7 @@ public class FeedbackQuestionData extends ApiOutput {\n     }\n \n     /**\n-     * Hides weights in question details if present.\n+     * Hides some attributes to a student.\n      */\n     public void hideInformationForStudent() {\n         if (questionDetails instanceof FeedbackMcqQuestionDetails) {\n"}}, {"oid": "b399c1802cabddc188bbb86149f9498482701dab", "url": "https://github.com/TEAMMATES/teammates/commit/b399c1802cabddc188bbb86149f9498482701dab", "message": "Update javadoc description", "committedDate": "2020-07-16T15:09:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk0MTY5Mw==", "url": "https://github.com/TEAMMATES/teammates/pull/10320#discussion_r455941693", "bodyText": "I think MCQ/MSQ also have other weights which we need to hide", "author": "xpdavid", "createdAt": "2020-07-16T17:11:18Z", "path": "src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java", "diffHunk": "@@ -176,4 +180,18 @@ public Integer getCustomNumberOfEntitiesToGiveFeedbackTo() {\n     public List<FeedbackVisibilityType> getShowRecipientNameTo() {\n         return showRecipientNameTo;\n     }\n+\n+    /**\n+     * Hides some attributes to a student.\n+     */\n+    public void hideInformationForStudent() {\n+        if (questionDetails instanceof FeedbackMcqQuestionDetails) {\n+            ((FeedbackMcqQuestionDetails) questionDetails).setMcqWeights(Collections.emptyList());", "originalCommit": "b399c1802cabddc188bbb86149f9498482701dab", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "67a78cceae6724b4d5a340b1721a2f02186ae4ee", "chunk": "diff --git a/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java b/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\nindex 4bd3c0ec99..70bb9e6db6 100644\n--- a/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\n+++ b/src/main/java/teammates/ui/webapi/output/FeedbackQuestionData.java\n\n@@ -187,8 +187,10 @@ public class FeedbackQuestionData extends ApiOutput {\n     public void hideInformationForStudent() {\n         if (questionDetails instanceof FeedbackMcqQuestionDetails) {\n             ((FeedbackMcqQuestionDetails) questionDetails).setMcqWeights(Collections.emptyList());\n+            ((FeedbackMcqQuestionDetails) questionDetails).setMcqOtherWeight(0);\n         } else if (questionDetails instanceof FeedbackMsqQuestionDetails) {\n             ((FeedbackMsqQuestionDetails) questionDetails).setMsqWeights(Collections.emptyList());\n+            ((FeedbackMsqQuestionDetails) questionDetails).setMsqOtherWeight(0);\n         } else if (questionDetails instanceof FeedbackRubricQuestionDetails) {\n             ((FeedbackRubricQuestionDetails) questionDetails)\n                     .setRubricWeightsForEachCell(Collections.singletonList(Collections.emptyList()));\n"}}, {"oid": "67a78cceae6724b4d5a340b1721a2f02186ae4ee", "url": "https://github.com/TEAMMATES/teammates/commit/67a78cceae6724b4d5a340b1721a2f02186ae4ee", "message": "Hide other weights by setting to zero", "committedDate": "2020-07-17T02:36:02Z", "type": "commit"}]}