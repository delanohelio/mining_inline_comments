{"pr_number": 10283, "pr_title": "[#10264] Encrypt Feedback Response ID", "pr_createdAt": "2020-07-07T04:25:22Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10283", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYxNzQxNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10283#discussion_r450617415", "bodyText": "These two methods should not throw anything, reason: InvalidParametersException (and other Exceptions) can come from many different sources and the treatment for each can be different.\nSpecifically for this issue, if the decryption fail, it means the input from the front-end is bad, so it is appropriate to re-throw as InvalidHttpParameterException, which does happen to be the same data flow, but it's a coincidence rather than a rule.", "author": "wkurniawan07", "createdAt": "2020-07-07T05:22:32Z", "path": "src/main/java/teammates/ui/webapi/action/Action.java", "diffHunk": "@@ -225,11 +226,11 @@ protected String getRequestBody() {\n     /**\n      * Checks the specific access control needs for the resource.\n      */\n-    public abstract void checkSpecificAccessControl();\n+    public abstract void checkSpecificAccessControl() throws InvalidParametersException;\n \n     /**\n      * Executes the action.\n      */\n-    public abstract ActionResult execute();\n+    public abstract ActionResult execute() throws InvalidParametersException;", "originalCommit": "6c5faf7be948845a9c01ad7f5dfb6c78ceeacb25", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "34cd8b379689c81c078bb20738c50cc908ffc33f", "chunk": "diff --git a/src/main/java/teammates/ui/webapi/action/Action.java b/src/main/java/teammates/ui/webapi/action/Action.java\nindex 527c77303c..f19324ca29 100644\n--- a/src/main/java/teammates/ui/webapi/action/Action.java\n+++ b/src/main/java/teammates/ui/webapi/action/Action.java\n\n@@ -226,11 +225,11 @@ public abstract class Action {\n     /**\n      * Checks the specific access control needs for the resource.\n      */\n-    public abstract void checkSpecificAccessControl() throws InvalidParametersException;\n+    public abstract void checkSpecificAccessControl();\n \n     /**\n      * Executes the action.\n      */\n-    public abstract ActionResult execute() throws InvalidParametersException;\n+    public abstract ActionResult execute();\n \n }\n"}}, {"oid": "34cd8b379689c81c078bb20738c50cc908ffc33f", "url": "https://github.com/TEAMMATES/teammates/commit/34cd8b379689c81c078bb20738c50cc908ffc33f", "message": "Add encryption to API output", "committedDate": "2020-07-07T06:39:11Z", "type": "commit"}, {"oid": "d0475462568250edcc8f2a4013329736e019a8b3", "url": "https://github.com/TEAMMATES/teammates/commit/d0475462568250edcc8f2a4013329736e019a8b3", "message": "Add decryption to API endpoints", "committedDate": "2020-07-07T07:12:30Z", "type": "commit"}, {"oid": "d75aa0c58d2ab7a2a97c653876b19884696302d6", "url": "https://github.com/TEAMMATES/teammates/commit/d75aa0c58d2ab7a2a97c653876b19884696302d6", "message": "Update tests for encryption and decryption", "committedDate": "2020-07-07T07:12:49Z", "type": "commit"}, {"oid": "d75aa0c58d2ab7a2a97c653876b19884696302d6", "url": "https://github.com/TEAMMATES/teammates/commit/d75aa0c58d2ab7a2a97c653876b19884696302d6", "message": "Update tests for encryption and decryption", "committedDate": "2020-07-07T07:12:49Z", "type": "forcePushed"}]}