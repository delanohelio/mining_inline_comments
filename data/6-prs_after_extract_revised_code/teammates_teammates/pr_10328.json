{"pr_number": 10328, "pr_title": "[#10264] Hide FeedbackSession and Course Data", "pr_createdAt": "2020-07-17T13:30:24Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10328", "timeline": [{"oid": "2a4986330060f9ba98914e9e029f372e2d5d12cd", "url": "https://github.com/TEAMMATES/teammates/commit/2a4986330060f9ba98914e9e029f372e2d5d12cd", "message": "Hide FeedbackSessionData information", "committedDate": "2020-07-17T13:23:03Z", "type": "commit"}, {"oid": "f7a7f9e63f6f97f47703ae6ef5eef75d5c83f213", "url": "https://github.com/TEAMMATES/teammates/commit/f7a7f9e63f6f97f47703ae6ef5eef75d5c83f213", "message": "Hide CourseData information for student", "committedDate": "2020-07-17T13:29:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2MDgyNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10328#discussion_r456760825", "bodyText": "This is an unnecessary condition", "author": "wkurniawan07", "createdAt": "2020-07-18T07:24:36Z", "path": "src/test/java/teammates/test/cases/webapi/GetCoursesActionTest.java", "diffHunk": "@@ -155,6 +155,16 @@ private void verifySameCourseData(CourseData actualCourse, CourseAttributes expe\n         assertEquals(actualCourse.getTimeZone(), expectedCourse.getTimeZone().getId());\n     }\n \n+    private void verifySameCourseDataStudent(CourseData actualCourse, CourseAttributes expectedCourse) {\n+        assertEquals(actualCourse.getCourseId(), expectedCourse.getId());\n+        assertEquals(actualCourse.getCourseName(), expectedCourse.getName());\n+        assertEquals(actualCourse.getCreationTimestamp(), 0);\n+        if (expectedCourse.getDeletedAt() != null) {", "originalCommit": "f7a7f9e63f6f97f47703ae6ef5eef75d5c83f213", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "627e21fe3421ec2375d09479bfbe91cb63bc7098", "chunk": "diff --git a/src/test/java/teammates/test/cases/webapi/GetCoursesActionTest.java b/src/test/java/teammates/test/cases/webapi/GetCoursesActionTest.java\nindex 161c9c75c1..abbce2e522 100644\n--- a/src/test/java/teammates/test/cases/webapi/GetCoursesActionTest.java\n+++ b/src/test/java/teammates/test/cases/webapi/GetCoursesActionTest.java\n\n@@ -159,9 +159,7 @@ public class GetCoursesActionTest extends BaseActionTest<GetCoursesAction> {\n         assertEquals(actualCourse.getCourseId(), expectedCourse.getId());\n         assertEquals(actualCourse.getCourseName(), expectedCourse.getName());\n         assertEquals(actualCourse.getCreationTimestamp(), 0);\n-        if (expectedCourse.getDeletedAt() != null) {\n-            assertEquals(actualCourse.getDeletionTimestamp(), 0);\n-        }\n+        assertEquals(actualCourse.getDeletionTimestamp(), 0);\n         assertEquals(actualCourse.getTimeZone(), expectedCourse.getTimeZone().getId());\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2MDg2Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10328#discussion_r456760867", "bodyText": "The method name is vague. hideInformation: what kind of information? for what purpose? Although I admit I can't really suggest a better name without making it too long.", "author": "wkurniawan07", "createdAt": "2020-07-18T07:25:12Z", "path": "src/main/java/teammates/ui/webapi/output/FeedbackSessionData.java", "diffHunk": "@@ -214,12 +218,19 @@ public Long getDeletedAtTimestamp() {\n      */\n     public void hideInformationForStudent() {\n         setResultVisibleFromTimestamp(null);\n-        setGracePeriod(null);\n         setSessionVisibleSetting(null);\n         setCustomSessionVisibleTimestamp(null);\n         setResponseVisibleSetting(null);\n         setCustomResponseVisibleTimestamp(null);\n+    }\n+\n+    /**\n+     * Hides some attributes.\n+     */\n+    public void hideInformation() {", "originalCommit": "f7a7f9e63f6f97f47703ae6ef5eef75d5c83f213", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2OTM1OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10328#discussion_r456769358", "bodyText": "It's only used on it's own once in GetFeedbackSessionAction for INSTRUCTOR_RESULT so I've changed it's name to reflect that appropriately", "author": "madanalogy", "createdAt": "2020-07-18T09:09:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2MDg2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "627e21fe3421ec2375d09479bfbe91cb63bc7098", "chunk": "diff --git a/src/main/java/teammates/ui/webapi/output/FeedbackSessionData.java b/src/main/java/teammates/ui/webapi/output/FeedbackSessionData.java\nindex bc02e64fa2..c14c2427f8 100644\n--- a/src/main/java/teammates/ui/webapi/output/FeedbackSessionData.java\n+++ b/src/main/java/teammates/ui/webapi/output/FeedbackSessionData.java\n\n@@ -217,6 +217,7 @@ public class FeedbackSessionData extends ApiOutput {\n      * Hides some attributes to student.\n      */\n     public void hideInformationForStudent() {\n+        hideInformationForInstructor();\n         setResultVisibleFromTimestamp(null);\n         setSessionVisibleSetting(null);\n         setCustomSessionVisibleTimestamp(null);\n"}}, {"oid": "627e21fe3421ec2375d09479bfbe91cb63bc7098", "url": "https://github.com/TEAMMATES/teammates/commit/627e21fe3421ec2375d09479bfbe91cb63bc7098", "message": "Clean up comments and refactor hide method", "committedDate": "2020-07-18T09:08:25Z", "type": "commit"}, {"oid": "aa71d86418f95bac425cdc0f29ceab3e112816bf", "url": "https://github.com/TEAMMATES/teammates/commit/aa71d86418f95bac425cdc0f29ceab3e112816bf", "message": "Merge branch 'master' into 10264-rest", "committedDate": "2020-07-18T11:23:19Z", "type": "commit"}]}