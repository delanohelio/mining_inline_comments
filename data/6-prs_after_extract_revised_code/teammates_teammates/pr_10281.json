{"pr_number": 10281, "pr_title": "[#10245] Add and refactor collapse animations", "pr_createdAt": "2020-07-06T09:26:43Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10281", "timeline": [{"oid": "8aea30110b373c21da39667363a35ea56dacc39a", "url": "https://github.com/TEAMMATES/teammates/commit/8aea30110b373c21da39667363a35ea56dacc39a", "message": "Update snapshots", "committedDate": "2020-07-06T11:11:10Z", "type": "forcePushed"}, {"oid": "a6e9bf43b446a3d877390cdeb553164917c382f3", "url": "https://github.com/TEAMMATES/teammates/commit/a6e9bf43b446a3d877390cdeb553164917c382f3", "message": "Indentation fix", "committedDate": "2020-07-07T06:14:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI4MTk0OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10281#discussion_r451281948", "bodyText": "Although this works, this may not be very stable. Is there another way possible here, e.g. waiting for certain element to appear?\nIf not then at least abstract this out to a method in AppPage.\npublic void waitForCollapseAnimation() {\n    ThreadHelper.waitFor(500);\n}", "author": "wkurniawan07", "createdAt": "2020-07-08T04:53:18Z", "path": "src/e2e/java/teammates/e2e/cases/e2e/AdminSearchPageE2ETest.java", "diffHunk": "@@ -231,6 +231,11 @@ private void verifyLinkExpansionButtons(StudentAttributes student, InstructorAtt\n \n         searchPage.clickExpandInstructorLinks();\n         searchPage.clickCollapseStudentLinks();\n+        try {\n+            Thread.sleep(500);\n+        } catch (InterruptedException e) {\n+            e.printStackTrace();\n+        }", "originalCommit": "a6e9bf43b446a3d877390cdeb553164917c382f3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b7902d382bbed6a5222e18b3d4090655b9f783de", "chunk": "diff --git a/src/e2e/java/teammates/e2e/cases/e2e/AdminSearchPageE2ETest.java b/src/e2e/java/teammates/e2e/cases/e2e/AdminSearchPageE2ETest.java\nindex 5a184b0f72..bcf4bee21c 100644\n--- a/src/e2e/java/teammates/e2e/cases/e2e/AdminSearchPageE2ETest.java\n+++ b/src/e2e/java/teammates/e2e/cases/e2e/AdminSearchPageE2ETest.java\n\n@@ -231,11 +231,6 @@ public class AdminSearchPageE2ETest extends BaseE2ETestCase {\n \n         searchPage.clickExpandInstructorLinks();\n         searchPage.clickCollapseStudentLinks();\n-        try {\n-            Thread.sleep(500);\n-        } catch (InterruptedException e) {\n-            e.printStackTrace();\n-        }\n         numExpandedStudentRows = searchPage.getNumExpandedRows(studentRow);\n         numExpandedInstructorRows = searchPage.getNumExpandedRows(instructorRow);\n         assertEquals(numExpandedStudentRows, 0);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU0MDg1Ng==", "url": "https://github.com/TEAMMATES/teammates/pull/10281#discussion_r451540856", "bodyText": "Don't really need this", "author": "wkurniawan07", "createdAt": "2020-07-08T13:24:22Z", "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCoursesPage.java", "diffHunk": "@@ -94,6 +95,7 @@ public void verifyArchivedCoursesDetails(CourseAttributes[] courses) {\n \n     public void verifyDeletedCoursesDetails(CourseAttributes[] courses) {\n         showDeleteTable();\n+        this.waitUntilAnimationFinish();", "originalCommit": "0aa413f9ee4916c6837d2158f538e1a7c06b9b1f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b7902d382bbed6a5222e18b3d4090655b9f783de", "chunk": "diff --git a/src/e2e/java/teammates/e2e/pageobjects/InstructorCoursesPage.java b/src/e2e/java/teammates/e2e/pageobjects/InstructorCoursesPage.java\nindex d028ff49c1..07f6d5b98d 100644\n--- a/src/e2e/java/teammates/e2e/pageobjects/InstructorCoursesPage.java\n+++ b/src/e2e/java/teammates/e2e/pageobjects/InstructorCoursesPage.java\n\n@@ -95,7 +94,6 @@ public class InstructorCoursesPage extends AppPage {\n \n     public void verifyDeletedCoursesDetails(CourseAttributes[] courses) {\n         showDeleteTable();\n-        this.waitUntilAnimationFinish();\n         String[][] courseDetails = getDeletedCourseDetails(courses);\n         for (int i = 0; i < courses.length; i++) {\n             // use verifyTableRowValues as deleted courses are not sorted\n"}}, {"oid": "b7902d382bbed6a5222e18b3d4090655b9f783de", "url": "https://github.com/TEAMMATES/teammates/commit/b7902d382bbed6a5222e18b3d4090655b9f783de", "message": "Add skeleton for new collapse", "committedDate": "2020-07-09T03:04:58Z", "type": "commit"}, {"oid": "8650342073cbe166f7d6cc07538a67bddcafa19c", "url": "https://github.com/TEAMMATES/teammates/commit/8650342073cbe166f7d6cc07538a67bddcafa19c", "message": "Convert old collapse animations to use new ones", "committedDate": "2020-07-09T03:09:03Z", "type": "commit"}, {"oid": "11a57f4e6ec8989726d37e0b8d92cf3922826348", "url": "https://github.com/TEAMMATES/teammates/commit/11a57f4e6ec8989726d37e0b8d92cf3922826348", "message": "Add collapse animations for multiple places", "committedDate": "2020-07-09T03:10:06Z", "type": "commit"}, {"oid": "c00e3417ce03561f7720e305d843c083383b50dd", "url": "https://github.com/TEAMMATES/teammates/commit/c00e3417ce03561f7720e305d843c083383b50dd", "message": "Update snapshots", "committedDate": "2020-07-09T03:10:06Z", "type": "commit"}, {"oid": "49714a4d72067f7cd51f61387f971f9fd1595b39", "url": "https://github.com/TEAMMATES/teammates/commit/49714a4d72067f7cd51f61387f971f9fd1595b39", "message": "Lint fix", "committedDate": "2020-07-09T03:10:06Z", "type": "commit"}, {"oid": "3081c9ec97e948f9f8338850c14199013cdf2454", "url": "https://github.com/TEAMMATES/teammates/commit/3081c9ec97e948f9f8338850c14199013cdf2454", "message": "Fix E2E by adding timer for animation to play", "committedDate": "2020-07-09T03:10:06Z", "type": "commit"}, {"oid": "ab64a0bb4946a19cef7f1f98cd611d921f107d15", "url": "https://github.com/TEAMMATES/teammates/commit/ab64a0bb4946a19cef7f1f98cd611d921f107d15", "message": "Indentation fix", "committedDate": "2020-07-09T03:10:06Z", "type": "commit"}, {"oid": "e3ea5c88f93001ad685773815af125bf0a068097", "url": "https://github.com/TEAMMATES/teammates/commit/e3ea5c88f93001ad685773815af125bf0a068097", "message": "Change animation waiting method", "committedDate": "2020-07-09T03:10:06Z", "type": "commit"}, {"oid": "e3ea5c88f93001ad685773815af125bf0a068097", "url": "https://github.com/TEAMMATES/teammates/commit/e3ea5c88f93001ad685773815af125bf0a068097", "message": "Change animation waiting method", "committedDate": "2020-07-09T03:10:06Z", "type": "forcePushed"}]}