{"pr_number": 766, "pr_title": "Add more information to the PrivateTransactionReceiptResult", "pr_createdAt": "2020-04-22T06:12:49Z", "pr_url": "https://github.com/hyperledger/besu/pull/766", "timeline": [{"oid": "e7e330b4832f48596fddb078a936750a35e74b5d", "url": "https://github.com/hyperledger/besu/commit/e7e330b4832f48596fddb078a936750a35e74b5d", "message": "add more information to the PrivateTransactionReceiptResult\n\nSigned-off-by: Stefan Pingel <stefan.pingel@consensys.net>", "committedDate": "2020-04-22T06:10:26Z", "type": "commit"}, {"oid": "e40a750690899c17cdb66c053af961d2cc77a572", "url": "https://github.com/hyperledger/besu/commit/e40a750690899c17cdb66c053af961d2cc77a572", "message": "ignore new fields in tests\n\nSigned-off-by: Stefan Pingel <stefan.pingel@consensys.net>", "committedDate": "2020-04-22T07:46:51Z", "type": "commit"}, {"oid": "4e12bc5003f42bbcd88b273619403c2f0364053d", "url": "https://github.com/hyperledger/besu/commit/4e12bc5003f42bbcd88b273619403c2f0364053d", "message": "Merge branch 'master' into addFieldsToPrivateTransactionReceipt", "committedDate": "2020-04-22T07:49:11Z", "type": "commit"}, {"oid": "006723ac6e81161ecaaf2b5db7127c0d05ff5405", "url": "https://github.com/hyperledger/besu/commit/006723ac6e81161ecaaf2b5db7127c0d05ff5405", "message": "ignore new fields in tests\n\nSigned-off-by: Stefan Pingel <stefan.pingel@consensys.net>", "committedDate": "2020-04-22T08:02:03Z", "type": "commit"}, {"oid": "704481abf63b43139d44b94e874b5f3b0a884f96", "url": "https://github.com/hyperledger/besu/commit/704481abf63b43139d44b94e874b5f3b0a884f96", "message": "Merge branch 'addFieldsToPrivateTransactionReceipt' of github.com:pinges/besu into addFieldsToPrivateTransactionReceipt", "committedDate": "2020-04-22T08:02:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNTY2Nw==", "url": "https://github.com/hyperledger/besu/pull/766#discussion_r413415667", "bodyText": "NIT: This shouldn't be a TODO. It is just a note isn't it?", "author": "lucassaldanha", "createdAt": "2020-04-23T00:06:57Z", "path": "acceptance-tests/dsl/src/main/java/org/hyperledger/besu/tests/acceptance/dsl/privacy/condition/ExpectValidPrivateTransactionReceipt.java", "diffHunk": "@@ -42,7 +42,16 @@ public void verify(final PrivacyNode node) {\n         node.execute(transactions.getPrivateTransactionReceipt(transactionHash));\n     assertThat(actualReceipt)\n         .usingRecursiveComparison()\n-        .ignoringFields(\"commitmentHash\", \"logs\")\n+        .ignoringFields(\n+            \"commitmentHash\",\n+            \"logs\",\n+            \"blockHash\",\n+            \"blockNumber\",\n+            \"logsBloom\",\n+            \"transactionIndex\") // TODO: The fields blockHash, blockNumber, logsBloom and", "originalCommit": "704481abf63b43139d44b94e874b5f3b0a884f96", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNzQ0OA==", "url": "https://github.com/hyperledger/besu/pull/766#discussion_r413417448", "bodyText": "This really is a problem with the PrivateTransactionReceipt defined in web3j. Once this is updated these can be removed. That is why I put it in as a TODO ...", "author": "pinges", "createdAt": "2020-04-23T00:11:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNTY2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "a46cd69ff9347f15f2e4ec0b7b7a1b73bb25a4a1", "chunk": "diff --git a/acceptance-tests/dsl/src/main/java/org/hyperledger/besu/tests/acceptance/dsl/privacy/condition/ExpectValidPrivateTransactionReceipt.java b/acceptance-tests/dsl/src/main/java/org/hyperledger/besu/tests/acceptance/dsl/privacy/condition/ExpectValidPrivateTransactionReceipt.java\nindex 279c75b10..67b362f0b 100644\n--- a/acceptance-tests/dsl/src/main/java/org/hyperledger/besu/tests/acceptance/dsl/privacy/condition/ExpectValidPrivateTransactionReceipt.java\n+++ b/acceptance-tests/dsl/src/main/java/org/hyperledger/besu/tests/acceptance/dsl/privacy/condition/ExpectValidPrivateTransactionReceipt.java\n\n@@ -51,7 +51,7 @@ public class ExpectValidPrivateTransactionReceipt implements PrivateCondition {\n             \"transactionIndex\") // TODO: The fields blockHash, blockNumber, logsBloom and\n         // transactionIndex have to be ignored as the class\n         // org.web3j.protocol.besu.response.privacy.PrivateTransactionReceipt does not contain these\n-        // fields\n+        // fields. Once web3j has been updated these ignores can be removed.\n         .isEqualTo(expectedReceipt);\n \n     assertThat(actualReceipt.getLogs().size()).isEqualTo(expectedReceipt.getLogs().size());\n"}}, {"oid": "65ca52de4faf03edeb9a118b2f03cbc8c069423a", "url": "https://github.com/hyperledger/besu/commit/65ca52de4faf03edeb9a118b2f03cbc8c069423a", "message": "Merge branch 'master' into addFieldsToPrivateTransactionReceipt", "committedDate": "2020-04-23T00:08:54Z", "type": "commit"}, {"oid": "a46cd69ff9347f15f2e4ec0b7b7a1b73bb25a4a1", "url": "https://github.com/hyperledger/besu/commit/a46cd69ff9347f15f2e4ec0b7b7a1b73bb25a4a1", "message": "Improve comment\n\nSigned-off-by: Stefan Pingel <stefan.pingel@consensys.net>", "committedDate": "2020-04-23T00:57:30Z", "type": "commit"}]}