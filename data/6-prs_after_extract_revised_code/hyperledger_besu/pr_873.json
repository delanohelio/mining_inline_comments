{"pr_number": 873, "pr_title": "--node-private-key-file dependency check and warning log", "pr_createdAt": "2020-05-07T23:39:32Z", "pr_url": "https://github.com/hyperledger/besu/pull/873", "timeline": [{"oid": "4e17972d2bcdf0b1d14f11bed361cf93c7800991", "url": "https://github.com/hyperledger/besu/commit/4e17972d2bcdf0b1d14f11bed361cf93c7800991", "message": "node-private-key-file dependency check and warning log\n\nSigned-off-by: Usman Saleem <usman@usmans.info>", "committedDate": "2020-05-07T23:38:37Z", "type": "commit"}, {"oid": "be891d00a047f9fe9896ba4d18578b8a756f88c7", "url": "https://github.com/hyperledger/besu/commit/be891d00a047f9fe9896ba4d18578b8a756f88c7", "message": "Merge remote-tracking branch 'upstream/master' into node_key_dependency_warning\n\nSigned-off-by: Usman Saleem <usman@usmans.info>", "committedDate": "2020-05-07T23:40:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg1NTg5Ng==", "url": "https://github.com/hyperledger/besu/pull/873#discussion_r421855896", "bodyText": "node-private-key-file also works if no security-module is specified so I think we need to mention that somehow. Maybe \"--node-private-key-file will have no effect unless --security-module={} is defined on the command line or none is specified\".", "author": "jframe", "createdAt": "2020-05-07T23:44:05Z", "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -1308,6 +1308,12 @@ private void issueOptionWarnings() {\n         \"--sync-mode\",\n         !SyncMode.FAST.equals(syncMode),\n         singletonList(\"--fast-sync-min-peers\"));\n+\n+    if (!securityModuleName.equals(DEFAULT_SECURITY_MODULE) && nodePrivateKeyFile != null) {\n+      logger.warn(\n+          \"--node-private-key-file will have no effect unless --security-module={} is defined on the command line.\",", "originalCommit": "be891d00a047f9fe9896ba4d18578b8a756f88c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg1ODM4OQ==", "url": "https://github.com/hyperledger/besu/pull/873#discussion_r421858389", "bodyText": "this warning will kick if user is explicitly setting non-default security module value i.e.--security-module=nondefault --node-private-key-file=/somepath.", "author": "usmansaleem", "createdAt": "2020-05-07T23:52:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg1NTg5Ng=="}], "type": "inlineReview", "revised_code": null}]}