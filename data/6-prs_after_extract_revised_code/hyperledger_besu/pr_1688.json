{"pr_number": 1688, "pr_title": "Load Mainnet ProtocolSchedule Faster and With Less Memory Usage", "pr_createdAt": "2020-12-10T15:19:15Z", "pr_url": "https://github.com/hyperledger/besu/pull/1688", "timeline": [{"oid": "57388c2e9424c0d048a45f2330d411a3b513fb8a", "url": "https://github.com/hyperledger/besu/commit/57388c2e9424c0d048a45f2330d411a3b513fb8a", "message": "faster loading and no out of memory on normalizing keys\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>", "committedDate": "2020-12-10T15:11:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI1ODI2OA==", "url": "https://github.com/hyperledger/besu/pull/1688#discussion_r540258268", "bodyText": "All of the uses are in test classes.  Can this be moved to one of our test util classes?  Along with getMainnetConfigOptions?  Either in an existing or new class in ethereum/core/src/test-support/java/org/hyperledger/besu/ethereum/core", "author": "shemnon", "createdAt": "2020-12-10T15:24:44Z", "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/MainnetProtocolSchedule.java", "diffHunk": "@@ -28,10 +28,8 @@\n \n   public static final BigInteger DEFAULT_CHAIN_ID = BigInteger.ONE;\n \n-  public static ProtocolSchedule create() {\n-    return fromConfig(\n-        GenesisConfigFile.mainnet().getConfigOptions(), PrivacyParameters.DEFAULT, false);\n-  }\n+  public static final ProtocolSchedule DEFAULT =", "originalCommit": "57388c2e9424c0d048a45f2330d411a3b513fb8a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5a027387e9da9c1f2d49e06200f1a0cb7dc36e92", "chunk": "diff --git a/ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/MainnetProtocolSchedule.java b/ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/MainnetProtocolSchedule.java\nindex a09a92a259..abd12769fb 100644\n--- a/ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/MainnetProtocolSchedule.java\n+++ b/ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/MainnetProtocolSchedule.java\n\n@@ -28,9 +28,6 @@ public class MainnetProtocolSchedule {\n \n   public static final BigInteger DEFAULT_CHAIN_ID = BigInteger.ONE;\n \n-  public static final ProtocolSchedule DEFAULT =\n-      fromConfig(GenesisConfigFile.getMainnetConfigOptions(), PrivacyParameters.DEFAULT, false);\n-\n   /**\n    * Create a Mainnet protocol schedule from a config object\n    *\n"}}, {"oid": "5a027387e9da9c1f2d49e06200f1a0cb7dc36e92", "url": "https://github.com/hyperledger/besu/commit/5a027387e9da9c1f2d49e06200f1a0cb7dc36e92", "message": "move uses/classes\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>", "committedDate": "2020-12-10T15:29:04Z", "type": "commit"}, {"oid": "7a0340af0e0024d26c7b75d457cbb6008aaf188a", "url": "https://github.com/hyperledger/besu/commit/7a0340af0e0024d26c7b75d457cbb6008aaf188a", "message": "rename\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>", "committedDate": "2020-12-10T15:32:32Z", "type": "commit"}, {"oid": "a7458907117f6e54094b7b372f028afe785f2863", "url": "https://github.com/hyperledger/besu/commit/a7458907117f6e54094b7b372f028afe785f2863", "message": "fix copyright\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>", "committedDate": "2020-12-10T15:39:11Z", "type": "commit"}]}