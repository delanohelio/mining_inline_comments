{"pr_number": 2061, "pr_title": "[NETBEANS-4108] fixed git -> ignore should add a new line at the end \u2026", "pr_createdAt": "2020-04-03T19:05:43Z", "pr_url": "https://github.com/apache/netbeans/pull/2061", "timeline": [{"oid": "0b794dba8f442cc9857a6c1da73e7e7145742255", "url": "https://github.com/apache/netbeans/commit/0b794dba8f442cc9857a6c1da73e7e7145742255", "message": "[NETBEANS-4108] fixed git -> ignore should add a new line at the end of .gitignore file", "committedDate": "2020-04-03T19:01:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQyNjc4NA==", "url": "https://github.com/apache/netbeans/pull/2061#discussion_r406426784", "bodyText": "Space before \"-\".", "author": "eirikbakke", "createdAt": "2020-04-09T19:26:24Z", "path": "ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java", "diffHunk": "@@ -132,6 +132,24 @@ protected String read(File file) throws IOException {\n         return sb.toString();\n     }\n \n+    protected boolean containsCRorLF(File file) throws IOException {\n+        BufferedReader r = null;\n+        try {\n+            r = new BufferedReader(new FileReader(file));\n+            int i;\n+            while((i = r.read()) >-1)", "originalCommit": "0b794dba8f442cc9857a6c1da73e7e7145742255", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8c7585df891ce96a0253c1eff1af26c86025d292", "chunk": "diff --git a/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java b/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\nindex f95bbd23fd..2fff96b043 100644\n--- a/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\n+++ b/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\n\n@@ -124,27 +116,17 @@ public class AbstractGitTestCase extends NbTestCase {\n                     sb.append('\\n');\n                 }\n             }\n-        } finally {\n-            if (r != null) {\n-                r.close();\n-            }\n         }\n         return sb.toString();\n     }\n \n     protected boolean containsCRorLF(File file) throws IOException {\n-        BufferedReader r = null;\n-        try {\n-            r = new BufferedReader(new FileReader(file));\n+        try (BufferedReader r = new BufferedReader(new FileReader(file))) {\n             int i;\n-            while((i = r.read()) >-1)\n-            {\n-                if( i=='\\n' || i=='\\r')\n+            while ((i = r.read()) > -1) {\n+                if (i == '\\n' || i == '\\r') {\n                     return true;\n-            }\n-        } finally {\n-            if (r != null) {\n-                r.close();\n+                }\n             }\n         }\n         return false;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQyNjg3Nw==", "url": "https://github.com/apache/netbeans/pull/2061#discussion_r406426877", "bodyText": "Space before '=='", "author": "eirikbakke", "createdAt": "2020-04-09T19:26:35Z", "path": "ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java", "diffHunk": "@@ -132,6 +132,24 @@ protected String read(File file) throws IOException {\n         return sb.toString();\n     }\n \n+    protected boolean containsCRorLF(File file) throws IOException {\n+        BufferedReader r = null;\n+        try {\n+            r = new BufferedReader(new FileReader(file));\n+            int i;\n+            while((i = r.read()) >-1)\n+            {\n+                if( i=='\\n' || i=='\\r')", "originalCommit": "0b794dba8f442cc9857a6c1da73e7e7145742255", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8c7585df891ce96a0253c1eff1af26c86025d292", "chunk": "diff --git a/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java b/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\nindex f95bbd23fd..2fff96b043 100644\n--- a/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\n+++ b/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\n\n@@ -124,27 +116,17 @@ public class AbstractGitTestCase extends NbTestCase {\n                     sb.append('\\n');\n                 }\n             }\n-        } finally {\n-            if (r != null) {\n-                r.close();\n-            }\n         }\n         return sb.toString();\n     }\n \n     protected boolean containsCRorLF(File file) throws IOException {\n-        BufferedReader r = null;\n-        try {\n-            r = new BufferedReader(new FileReader(file));\n+        try (BufferedReader r = new BufferedReader(new FileReader(file))) {\n             int i;\n-            while((i = r.read()) >-1)\n-            {\n-                if( i=='\\n' || i=='\\r')\n+            while ((i = r.read()) > -1) {\n+                if (i == '\\n' || i == '\\r') {\n                     return true;\n-            }\n-        } finally {\n-            if (r != null) {\n-                r.close();\n+                }\n             }\n         }\n         return false;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQyNzI2OQ==", "url": "https://github.com/apache/netbeans/pull/2061#discussion_r406427269", "bodyText": "Better use try-with-resources.", "author": "eirikbakke", "createdAt": "2020-04-09T19:27:26Z", "path": "ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java", "diffHunk": "@@ -132,6 +132,24 @@ protected String read(File file) throws IOException {\n         return sb.toString();\n     }\n \n+    protected boolean containsCRorLF(File file) throws IOException {\n+        BufferedReader r = null;\n+        try {\n+            r = new BufferedReader(new FileReader(file));\n+            int i;\n+            while((i = r.read()) >-1)\n+            {\n+                if( i=='\\n' || i=='\\r')\n+                    return true;\n+            }\n+        } finally {\n+            if (r != null) {\n+                r.close();", "originalCommit": "0b794dba8f442cc9857a6c1da73e7e7145742255", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8c7585df891ce96a0253c1eff1af26c86025d292", "chunk": "diff --git a/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java b/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\nindex f95bbd23fd..2fff96b043 100644\n--- a/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\n+++ b/ide/libs.git/test/unit/src/org/netbeans/libs/git/jgit/AbstractGitTestCase.java\n\n@@ -124,27 +116,17 @@ public class AbstractGitTestCase extends NbTestCase {\n                     sb.append('\\n');\n                 }\n             }\n-        } finally {\n-            if (r != null) {\n-                r.close();\n-            }\n         }\n         return sb.toString();\n     }\n \n     protected boolean containsCRorLF(File file) throws IOException {\n-        BufferedReader r = null;\n-        try {\n-            r = new BufferedReader(new FileReader(file));\n+        try (BufferedReader r = new BufferedReader(new FileReader(file))) {\n             int i;\n-            while((i = r.read()) >-1)\n-            {\n-                if( i=='\\n' || i=='\\r')\n+            while ((i = r.read()) > -1) {\n+                if (i == '\\n' || i == '\\r') {\n                     return true;\n-            }\n-        } finally {\n-            if (r != null) {\n-                r.close();\n+                }\n             }\n         }\n         return false;\n"}}, {"oid": "8c7585df891ce96a0253c1eff1af26c86025d292", "url": "https://github.com/apache/netbeans/commit/8c7585df891ce96a0253c1eff1af26c86025d292", "message": "[NETBEANS-4108] Correcting for PR comments", "committedDate": "2020-04-11T11:35:59Z", "type": "commit"}]}