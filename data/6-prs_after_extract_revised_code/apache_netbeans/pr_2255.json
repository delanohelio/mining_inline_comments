{"pr_number": 2255, "pr_title": "Removed java.platform dependency from the Gradle Projects module", "pr_createdAt": "2020-07-14T14:51:53Z", "pr_url": "https://github.com/apache/netbeans/pull/2255", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4ODcyNw==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454488727", "bodyText": "You can keep these two methods around, just @deprecated. Change the return type to Pair - e.g. the raw type. JVM is going to link to these two methods without a problem. See more in my erasure blog post.", "author": "JaroslavTulach", "createdAt": "2020-07-14T16:34:55Z", "path": "extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java", "diffHunk": "@@ -347,41 +337,6 @@ public static ReplaceTokenProvider simpleReplaceTokenProvider(final String token\n         };\n     }\n \n- /**\n-     * Returns the active platform used by the project or null if the active\n-     * project platform is broken.\n-     * @param activePlatformId the name of platform used by Ant script or null\n-     * for default platform.\n-     * @return active {@link JavaPlatform} or null if the project's platform\n-     * is broken\n-     */\n-    public static Pair<String, JavaPlatform> getActivePlatform(final String activePlatformId) {", "originalCommit": "bca815cdea451269f602ec1e4456e2114c28cb59", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d5dab0351473b5ea3a67e66376e326defcade4ba", "chunk": "diff --git a/extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java b/extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java\nindex 3b05ca41fe..0b35500395 100644\n--- a/extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java\n+++ b/extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java\n\n@@ -337,6 +352,45 @@ public final class RunUtils {\n         };\n     }\n \n+    /**\n+     * Returns the active platform id, platform pair used by the project.\n+     * The platform can be {@code null} if the active project platform is broken.\n+     *\n+     * As this module is no longer dependent on the java platform module,\n+     * this method always returns {@code null} as a platform since 2.3\n+     *\n+     * @param activePlatformId the name of platform used by Ant script or null\n+     * for default platform.\n+     * @return Pair of {@literal <acivePlatformId, null>}\n+     *\n+     * @deprecated This method has been deprecated without having a\n+     * replacement in this module. The current implementation serves\n+     * binary compatibility purposes only.\n+     */\n+    @Deprecated\n+    public static Pair getActivePlatform(final String activePlatformId) {\n+        return Pair.of(activePlatformId, null);\n+    }\n+\n+    /**\n+     * Returns the active platform id, platform pair used by the project.\n+     * The platform can be null if the active project platform is broken.\n+     *\n+     * As this module is no longer dependent on the java platform module,\n+     * this method always returns {@code null} as a platform since 2.3\n+     *\n+     * @param project the project to check.\n+     * @return Pair of {@literal <\"deprecated\", null>}\n+     *\n+     * @deprecated This method has been deprecated without having a\n+     * replacement in this module. The current implementation serves\n+     * binary compatibility purposes only.\n+     */\n+    @Deprecated\n+    public static Pair getActivePlatform(Project project) {\n+        return getActivePlatform(\"deprecated\"); //NOI18N\n+    }\n+\n     static GradleCommandLine getIncludedOpenProjects(Project project) {\n         GradleCommandLine ret = new GradleCommandLine();\n         Set<File> openRoots = new HashSet<>();\n"}}, {"oid": "d5dab0351473b5ea3a67e66376e326defcade4ba", "url": "https://github.com/apache/netbeans/commit/d5dab0351473b5ea3a67e66376e326defcade4ba", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T05:58:18Z", "type": "forcePushed"}, {"oid": "2bbc51586e8ea94c36c835455db256076ae5ed5b", "url": "https://github.com/apache/netbeans/commit/2bbc51586e8ea94c36c835455db256076ae5ed5b", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T06:03:54Z", "type": "forcePushed"}, {"oid": "a2149a2969f0970d2ff9bc947e147e75c298a410", "url": "https://github.com/apache/netbeans/commit/a2149a2969f0970d2ff9bc947e147e75c298a410", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T06:07:00Z", "type": "forcePushed"}, {"oid": "0d779e1c763682e59038593db17661b2c0c34f90", "url": "https://github.com/apache/netbeans/commit/0d779e1c763682e59038593db17661b2c0c34f90", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T21:35:33Z", "type": "commit"}, {"oid": "0d779e1c763682e59038593db17661b2c0c34f90", "url": "https://github.com/apache/netbeans/commit/0d779e1c763682e59038593db17661b2c0c34f90", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T21:35:33Z", "type": "forcePushed"}]}