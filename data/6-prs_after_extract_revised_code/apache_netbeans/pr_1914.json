{"pr_number": 1914, "pr_title": "[NETBEANS-3786] : Fixed position of hint (add import) for record (jdk14). ", "pr_createdAt": "2020-02-03T16:38:26Z", "pr_url": "https://github.com/apache/netbeans/pull/1914", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIyMDA0Mg==", "url": "https://github.com/apache/netbeans/pull/1914#discussion_r374220042", "bodyText": "Please use TreeShims.RECORD", "author": "arusinha", "createdAt": "2020-02-03T16:57:02Z", "path": "java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java", "diffHunk": "@@ -58,7 +58,7 @@\n      * For JCTree instances that have no associated source position.\n      */\n     public static final int NOPOS = -2;\n-    \n+    public static final String RECORD = \"RECORD\";", "originalCommit": "7fc13fef0165adcd1495c32755a5a318718a8d7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ3MDYzMA==", "url": "https://github.com/apache/netbeans/pull/1914#discussion_r374470630", "bodyText": "comment addressed", "author": "singh-akhilesh", "createdAt": "2020-02-04T04:36:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIyMDA0Mg=="}], "type": "inlineReview", "revised_code": {"commit": "66fe1ec053606f6e7548ae77de70bb07199e316c", "chunk": "diff --git a/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java b/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java\nindex 7e23613d76..e2f50546fc 100644\n--- a/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java\n+++ b/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java\n\n@@ -58,7 +59,6 @@ public abstract class PositionEstimator {\n      * For JCTree instances that have no associated source position.\n      */\n     public static final int NOPOS = -2;\n-    public static final String RECORD = \"RECORD\";\n     \n     final List<? extends Tree> oldL;\n     final List<? extends Tree> newL;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIyMDIzMw==", "url": "https://github.com/apache/netbeans/pull/1914#discussion_r374220233", "bodyText": "Please use TreeShims.RECORD", "author": "arusinha", "createdAt": "2020-02-03T16:57:28Z", "path": "java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java", "diffHunk": "@@ -314,7 +314,7 @@ public int prepare(final int startPos, StringBuilder aHead, StringBuilder aTail)\n                 do {\n                     Tree t = cut.getTypeDecls().get(tdpos);\n                     typeDeclStart = (int) positions.getStartPosition(cut, t);\n-                    if (TreeUtilities.CLASS_TREE_KINDS.contains(t.getKind())) {\n+                    if (TreeUtilities.CLASS_TREE_KINDS.contains(t.getKind()) || t.getKind().toString().equals(RECORD)) {", "originalCommit": "7fc13fef0165adcd1495c32755a5a318718a8d7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ3MDY2NA==", "url": "https://github.com/apache/netbeans/pull/1914#discussion_r374470664", "bodyText": "comment addressed", "author": "singh-akhilesh", "createdAt": "2020-02-04T04:36:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIyMDIzMw=="}], "type": "inlineReview", "revised_code": {"commit": "66fe1ec053606f6e7548ae77de70bb07199e316c", "chunk": "diff --git a/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java b/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java\nindex 7e23613d76..e2f50546fc 100644\n--- a/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java\n+++ b/java/java.source.base/src/org/netbeans/modules/java/source/save/PositionEstimator.java\n\n@@ -314,7 +314,7 @@ public abstract class PositionEstimator {\n                 do {\n                     Tree t = cut.getTypeDecls().get(tdpos);\n                     typeDeclStart = (int) positions.getStartPosition(cut, t);\n-                    if (TreeUtilities.CLASS_TREE_KINDS.contains(t.getKind()) || t.getKind().toString().equals(RECORD)) {\n+                    if (TreeUtilities.CLASS_TREE_KINDS.contains(t.getKind()) || t.getKind().toString().equals(TreeShims.RECORD)) {\n                         break;\n                     }\n                     tdpos++;\n"}}, {"oid": "66fe1ec053606f6e7548ae77de70bb07199e316c", "url": "https://github.com/apache/netbeans/commit/66fe1ec053606f6e7548ae77de70bb07199e316c", "message": "[NETBEANS-3786] : Fixed position of hint (add import) for record (jdk14)", "committedDate": "2020-02-05T11:27:00Z", "type": "commit"}, {"oid": "66fe1ec053606f6e7548ae77de70bb07199e316c", "url": "https://github.com/apache/netbeans/commit/66fe1ec053606f6e7548ae77de70bb07199e316c", "message": "[NETBEANS-3786] : Fixed position of hint (add import) for record (jdk14)", "committedDate": "2020-02-05T11:27:00Z", "type": "forcePushed"}]}