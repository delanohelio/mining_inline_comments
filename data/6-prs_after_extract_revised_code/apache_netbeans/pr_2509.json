{"pr_number": 2509, "pr_title": "[NETBEANS-819] partial fix for cursor. Text selection does't work", "pr_createdAt": "2020-10-31T22:44:55Z", "pr_url": "https://github.com/apache/netbeans/pull/2509", "timeline": [{"oid": "7c79d4fae9b501005e90c8d59869388bad0252e9", "url": "https://github.com/apache/netbeans/commit/7c79d4fae9b501005e90c8d59869388bad0252e9", "message": "[NETBEANS-819] partial fix for cursor. Text selection does't work", "committedDate": "2020-10-31T22:41:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg1OTY2Mg==", "url": "https://github.com/apache/netbeans/pull/2509#discussion_r515859662", "bodyText": "Is it necessary to store cmp in order to obtain getFont - couldn't be the font obtained / stored rather than the Component ? Not a big deal, but FontMetrics > Component seem as a backward dependency.", "author": "sdedic", "createdAt": "2020-11-02T10:01:22Z", "path": "ide/lib.terminalemulator/src/org/netbeans/lib/terminalemulator/MyFontMetrics.java", "diffHunk": "@@ -142,18 +142,22 @@ public MyFontMetrics(Component component, Font font) {\n         height -= leading;\n         leading = 0;\n \n-        cwidth_cache = CacheFactory.cacheForFontMetrics(fm);\n+        cwidth_cache = CacheFactory.cacheForFontMetrics(getFm());\n+    }\n+\n+    public FontMetrics getFm() {\n+        return this.cmp.getFontMetrics(cmp.getFont());", "originalCommit": "7c79d4fae9b501005e90c8d59869388bad0252e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQ2Mjg4MQ==", "url": "https://github.com/apache/netbeans/pull/2509#discussion_r517462881", "bodyText": "@hlavki anything on this?", "author": "lkishalmi", "createdAt": "2020-11-04T16:16:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg1OTY2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTgzOTU4Mg==", "url": "https://github.com/apache/netbeans/pull/2509#discussion_r525839582", "bodyText": "@lkishalmi, sorry for delay. I didn't have time to fix @sdedic's suggestion. Maybe in next round. thanks", "author": "hlavki", "createdAt": "2020-11-18T06:21:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg1OTY2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUzOTAxNw==", "url": "https://github.com/apache/netbeans/pull/2509#discussion_r543539017", "bodyText": "@sdedic this is very interesting think, because in previous implementation FontMetrics was created in MyFontMetrics constructor, but it didn't work. Cursor was shifted. Would be great if somebody with strong swing knowledge could explain this behaviour.", "author": "hlavki", "createdAt": "2020-12-15T17:25:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg1OTY2Mg=="}], "type": "inlineReview", "revised_code": null}]}