{"pr_number": 8242, "pr_title": "Import Profile", "pr_createdAt": "2020-01-16T13:12:52Z", "pr_url": "https://github.com/osmandapp/OsmAnd/pull/8242", "timeline": [{"oid": "f119539679cef188ebca5e6895c0be0c74b35348", "url": "https://github.com/osmandapp/OsmAnd/commit/f119539679cef188ebca5e6895c0be0c74b35348", "message": "Add UI and behavior for profile and routing file importing", "committedDate": "2020-01-16T13:11:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQxODA2MQ==", "url": "https://github.com/osmandapp/OsmAnd/pull/8242#discussion_r367418061", "bodyText": "createFileNameWithIncreasedNumber > createNewFileName", "author": "max-klaus", "createdAt": "2020-01-16T13:32:48Z", "path": "OsmAnd/src/net/osmand/AndroidUtils.java", "diffHunk": "@@ -689,4 +689,36 @@ public static CharSequence getStyledString(CharSequence baseString, CharSequence\n \tpublic static boolean isRTL() {\n \t\treturn TextUtilsCompat.getLayoutDirectionFromLocale(Locale.getDefault()) == ViewCompat.LAYOUT_DIRECTION_RTL;\n \t}\n+\t\n+\tpublic static String createFileNameWithIncreasedNumber(String oldName) {", "originalCommit": "f119539679cef188ebca5e6895c0be0c74b35348", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f7dcf50f4b4cddf62d36b878316affc52e4f3b62", "chunk": "diff --git a/OsmAnd/src/net/osmand/AndroidUtils.java b/OsmAnd/src/net/osmand/AndroidUtils.java\nindex 1c6bd9d8d5..9e733fa186 100644\n--- a/OsmAnd/src/net/osmand/AndroidUtils.java\n+++ b/OsmAnd/src/net/osmand/AndroidUtils.java\n\n@@ -690,7 +690,7 @@ public class AndroidUtils {\n \t\treturn TextUtilsCompat.getLayoutDirectionFromLocale(Locale.getDefault()) == ViewCompat.LAYOUT_DIRECTION_RTL;\n \t}\n \t\n-\tpublic static String createFileNameWithIncreasedNumber(String oldName) {\n+\tpublic static String createNewFileName(String oldName) {\n \t\tint firstDotIndex = oldName.indexOf('.');\n \t\tString nameWithoutExt = oldName.substring(0, firstDotIndex);\n \t\tString ext = oldName.substring(firstDotIndex);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQxODU0Mg==", "url": "https://github.com/osmandapp/OsmAnd/pull/8242#discussion_r367418542", "bodyText": "Do not move it to ImportHelper", "author": "max-klaus", "createdAt": "2020-01-16T13:33:50Z", "path": "OsmAnd/src/net/osmand/plus/AppInitializer.java", "diffHunk": "@@ -579,35 +573,12 @@ public String getTranslation(String id) {\n \n \t@SuppressLint(\"StaticFieldLeak\")\n \tprivate void getLazyRoutingConfig() {\n-\t\tnew AsyncTask<Void, Void, RoutingConfiguration.Builder>() {\n+\t\tImportHelper.loadRoutingFiles(app, new ImportHelper.LoadRoutingFilesCallback() {", "originalCommit": "f119539679cef188ebca5e6895c0be0c74b35348", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f7dcf50f4b4cddf62d36b878316affc52e4f3b62", "chunk": "diff --git a/OsmAnd/src/net/osmand/plus/AppInitializer.java b/OsmAnd/src/net/osmand/plus/AppInitializer.java\nindex f2340c22b3..ce7bb80b77 100644\n--- a/OsmAnd/src/net/osmand/plus/AppInitializer.java\n+++ b/OsmAnd/src/net/osmand/plus/AppInitializer.java\n\n@@ -573,7 +582,7 @@ public class AppInitializer implements IProgress {\n \n \t@SuppressLint(\"StaticFieldLeak\")\n \tprivate void getLazyRoutingConfig() {\n-\t\tImportHelper.loadRoutingFiles(app, new ImportHelper.LoadRoutingFilesCallback() {\n+\t\tloadRoutingFiles(app, new LoadRoutingFilesCallback() {\n \t\t\t@Override\n \t\t\tpublic void onRoutingFilesLoaded() {\n \t\t\t\tnotifyEvent(InitEvents.ROUTING_CONFIG_INITIALIZED);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ2NjU0Mg==", "url": "https://github.com/osmandapp/OsmAnd/pull/8242#discussion_r367466542", "bodyText": "Needs annotation: List items", "author": "max-klaus", "createdAt": "2020-01-16T15:01:28Z", "path": "OsmAnd/src/net/osmand/plus/SettingsHelper.java", "diffHunk": "@@ -83,7 +83,7 @@\n \tprivate ImportAsyncTask importTask;\n \n \tpublic interface SettingsImportListener {\n-\t\tvoid onSettingsImportFinished(boolean succeed, boolean empty);\n+\t\tvoid onSettingsImportFinished(boolean succeed, boolean empty, List<SettingsItem> items);", "originalCommit": "f119539679cef188ebca5e6895c0be0c74b35348", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f7dcf50f4b4cddf62d36b878316affc52e4f3b62", "chunk": "diff --git a/OsmAnd/src/net/osmand/plus/SettingsHelper.java b/OsmAnd/src/net/osmand/plus/SettingsHelper.java\nindex 08c7969dfb..61509da462 100644\n--- a/OsmAnd/src/net/osmand/plus/SettingsHelper.java\n+++ b/OsmAnd/src/net/osmand/plus/SettingsHelper.java\n\n@@ -83,7 +83,7 @@ public class SettingsHelper {\n \tprivate ImportAsyncTask importTask;\n \n \tpublic interface SettingsImportListener {\n-\t\tvoid onSettingsImportFinished(boolean succeed, boolean empty, List<SettingsItem> items);\n+\t\tvoid onSettingsImportFinished(boolean succeed, boolean empty, @NonNull List<SettingsItem> items);\n \t}\n \n \tpublic interface SettingsExportListener {\n"}}, {"oid": "f7dcf50f4b4cddf62d36b878316affc52e4f3b62", "url": "https://github.com/osmandapp/OsmAnd/commit/f7dcf50f4b4cddf62d36b878316affc52e4f3b62", "message": "Small fixes", "committedDate": "2020-01-17T08:31:44Z", "type": "commit"}, {"oid": "1aaa3d335c572afa4a704a2b96529125c174a5b1", "url": "https://github.com/osmandapp/OsmAnd/commit/1aaa3d335c572afa4a704a2b96529125c174a5b1", "message": "Merge branch 'master' into ImportProfile", "committedDate": "2020-01-17T10:58:03Z", "type": "commit"}]}