{"pr_number": 1900, "pr_title": "[CALCITE-3733] MySQL JDBC rewrite should rewrite CAST as TIMESTAMP to CAST as DATETIME (Vineet Garg)", "pr_createdAt": "2020-04-07T23:57:40Z", "pr_url": "https://github.com/apache/calcite/pull/1900", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI0NDIxMw==", "url": "https://github.com/apache/calcite/pull/1900#discussion_r405244213", "bodyText": "Remove the comment", "author": "danny0405", "createdAt": "2020-04-08T03:57:31Z", "path": "core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java", "diffHunk": "@@ -1834,6 +1834,18 @@ private static String toSql(RelNode root, SqlDialect dialect) {\n     sql(query).withMysql().ok(expected);\n   }\n \n+  @Test void testMySqlCastToTimestamp() {\n+    //final String query = \"select cast(\\\"hire_date\\\" as TIMESTAMP), \\\"employee_id\\\" \"\n+     //   + \"from \\\"employee\\\" \";\n+    //final String expected = \"select cast(\\\"hire_date\\\" as DATE_TIME), \\\"employee_id\\\" \"", "originalCommit": "39e474fb65ef0c331beb261623c17413fa5dc456", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6d12ad114a69c456826af3af5349b116ea30a4a1", "chunk": "diff --git a/core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java b/core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java\nindex 8ab7ada7e..3ecb46f70 100644\n--- a/core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java\n+++ b/core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java\n\n@@ -1835,10 +1835,6 @@ private static String toSql(RelNode root, SqlDialect dialect) {\n   }\n \n   @Test void testMySqlCastToTimestamp() {\n-    //final String query = \"select cast(\\\"hire_date\\\" as TIMESTAMP), \\\"employee_id\\\" \"\n-     //   + \"from \\\"employee\\\" \";\n-    //final String expected = \"select cast(\\\"hire_date\\\" as DATE_TIME), \\\"employee_id\\\" \"\n-     //   + \"from \\\"employee\\\" \";\n     final String query = \"select  * from \\\"employee\\\" where  \\\"hire_date\\\" - \"\n         + \"INTERVAL '19800' SECOND(5) > cast(\\\"hire_date\\\" as TIMESTAMP) \";\n     final String expected = \"SELECT *\\nFROM `foodmart`.`employee`\"\n"}}, {"oid": "6d12ad114a69c456826af3af5349b116ea30a4a1", "url": "https://github.com/apache/calcite/commit/6d12ad114a69c456826af3af5349b116ea30a4a1", "message": "[CALCITE-3733] In JDBC adapter, when generating SQL for MYSQL, generate TIMESTAMP type as DATETIME for CAST (Vineet Garg)", "committedDate": "2020-04-08T19:22:17Z", "type": "commit"}, {"oid": "6d12ad114a69c456826af3af5349b116ea30a4a1", "url": "https://github.com/apache/calcite/commit/6d12ad114a69c456826af3af5349b116ea30a4a1", "message": "[CALCITE-3733] In JDBC adapter, when generating SQL for MYSQL, generate TIMESTAMP type as DATETIME for CAST (Vineet Garg)", "committedDate": "2020-04-08T19:22:17Z", "type": "forcePushed"}]}