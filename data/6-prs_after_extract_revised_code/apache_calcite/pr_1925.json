{"pr_number": 1925, "pr_title": "[CALCITE-3938] Support LogicalCalc in RelShuttle", "pr_createdAt": "2020-04-19T12:07:44Z", "pr_url": "https://github.com/apache/calcite/pull/1925", "timeline": [{"oid": "cbb8c82bdadf0dfa5d6778961c68c9fffd091fb7", "url": "https://github.com/apache/calcite/commit/cbb8c82bdadf0dfa5d6778961c68c9fffd091fb7", "message": "implement visit LogicalCalc in RelShuttleImpl (dz)", "committedDate": "2020-04-19T12:24:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg5ODQ4OA==", "url": "https://github.com/apache/calcite/pull/1925#discussion_r410898488", "bodyText": "final \uff1f", "author": "jinxing64", "createdAt": "2020-04-19T12:56:13Z", "path": "core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java", "diffHunk": "@@ -2106,6 +2111,27 @@ public final Sql sql(String sql) {\n     assertTrue(filterCollation.satisfies(sortCollation));\n   }\n \n+  @Test void testRelShuttleForLogicalCalc() {\n+    final String sql = \"select ename from emp\";\n+    final RelNode rel = tester.convertSqlToRel(sql).rel;\n+    final HepProgramBuilder programBuilder = HepProgram.builder();\n+    programBuilder.addRuleInstance(ProjectToCalcRule.INSTANCE);\n+    HepPlanner planner = new HepPlanner(programBuilder.build());", "originalCommit": "cbb8c82bdadf0dfa5d6778961c68c9fffd091fb7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5ace51a258faac812818797289421e598c478df5", "chunk": "diff --git a/core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java b/core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java\nindex 2a16752c7..a808199ba 100644\n--- a/core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java\n+++ b/core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java\n\n@@ -2112,7 +2112,7 @@ public final Sql sql(String sql) {\n   }\n \n   @Test void testRelShuttleForLogicalCalc() {\n-    final String sql = \"select ename from emp\";\n+    final String sql = \"select sal from emp\";\n     final RelNode rel = tester.convertSqlToRel(sql).rel;\n     final HepProgramBuilder programBuilder = HepProgram.builder();\n     programBuilder.addRuleInstance(ProjectToCalcRule.INSTANCE);\n"}}, {"oid": "5ace51a258faac812818797289421e598c478df5", "url": "https://github.com/apache/calcite/commit/5ace51a258faac812818797289421e598c478df5", "message": "implement visit LogicalCalc in RelShuttleImpl (dz)", "committedDate": "2020-04-19T12:56:33Z", "type": "forcePushed"}, {"oid": "7dafcc622a37a10eb86978131b45066622dd27aa", "url": "https://github.com/apache/calcite/commit/7dafcc622a37a10eb86978131b45066622dd27aa", "message": "implement visit LogicalCalc in RelShuttleImpl (dz)", "committedDate": "2020-04-19T13:00:52Z", "type": "forcePushed"}, {"oid": "03b1c395213139cf082e2424a7dc7e71f46445e2", "url": "https://github.com/apache/calcite/commit/03b1c395213139cf082e2424a7dc7e71f46445e2", "message": "implement visit LogicalCalc in RelShuttleImpl (dz)", "committedDate": "2020-04-20T04:40:07Z", "type": "forcePushed"}, {"oid": "1a7fbfaff4a665def3029cc2b2469e602ef54480", "url": "https://github.com/apache/calcite/commit/1a7fbfaff4a665def3029cc2b2469e602ef54480", "message": "implement visit LogicalCalc in RelShuttleImpl (dz)", "committedDate": "2020-04-20T08:51:42Z", "type": "forcePushed"}, {"oid": "b487cba32a1d021222b1f3baaef59f5b74e6925f", "url": "https://github.com/apache/calcite/commit/b487cba32a1d021222b1f3baaef59f5b74e6925f", "message": "Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-21T11:08:38Z", "type": "forcePushed"}, {"oid": "18f7bf4568d7a8a22138e4dc5a9ba341566092a4", "url": "https://github.com/apache/calcite/commit/18f7bf4568d7a8a22138e4dc5a9ba341566092a4", "message": "Support LogicalCalc in RelShuttle (xzh)", "committedDate": "2020-04-21T12:19:57Z", "type": "forcePushed"}, {"oid": "1126281a6780b3992e219d8e6aa556799c0b6fb9", "url": "https://github.com/apache/calcite/commit/1126281a6780b3992e219d8e6aa556799c0b6fb9", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (xzh)", "committedDate": "2020-04-21T12:20:54Z", "type": "forcePushed"}, {"oid": "3e66058bb891d0b10ea76fac8ad5bcf235e0f354", "url": "https://github.com/apache/calcite/commit/3e66058bb891d0b10ea76fac8ad5bcf235e0f354", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-21T13:19:47Z", "type": "forcePushed"}, {"oid": "8f4e3a249e524f786953c784d27b93e4985f7e3e", "url": "https://github.com/apache/calcite/commit/8f4e3a249e524f786953c784d27b93e4985f7e3e", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-22T01:33:04Z", "type": "forcePushed"}, {"oid": "9aa7b142c65084f2b44b445fd507e63d1349d444", "url": "https://github.com/apache/calcite/commit/9aa7b142c65084f2b44b445fd507e63d1349d444", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-22T08:15:05Z", "type": "forcePushed"}, {"oid": "299d7efecea0c0eeb792e90b1b01152c07bb0dca", "url": "https://github.com/apache/calcite/commit/299d7efecea0c0eeb792e90b1b01152c07bb0dca", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (xzh)", "committedDate": "2020-04-22T11:05:36Z", "type": "forcePushed"}, {"oid": "133ad2599190a102a549de940653c4fa2b564814", "url": "https://github.com/apache/calcite/commit/133ad2599190a102a549de940653c4fa2b564814", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-22T13:43:57Z", "type": "forcePushed"}, {"oid": "153e3dc2dee988e399d5ea8c53135b7bc5f21878", "url": "https://github.com/apache/calcite/commit/153e3dc2dee988e399d5ea8c53135b7bc5f21878", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-23T03:07:52Z", "type": "forcePushed"}, {"oid": "25dd5eb40d2d20f94c3a68c607b96a68159a6cf5", "url": "https://github.com/apache/calcite/commit/25dd5eb40d2d20f94c3a68c607b96a68159a6cf5", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-28T13:47:37Z", "type": "commit"}, {"oid": "25dd5eb40d2d20f94c3a68c607b96a68159a6cf5", "url": "https://github.com/apache/calcite/commit/25dd5eb40d2d20f94c3a68c607b96a68159a6cf5", "message": "[CALCITE-3938] Support LogicalCalc in RelShuttle (dz)", "committedDate": "2020-04-28T13:47:37Z", "type": "forcePushed"}]}