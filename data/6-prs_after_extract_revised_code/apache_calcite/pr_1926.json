{"pr_number": 1926, "pr_title": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent.", "pr_createdAt": "2020-04-19T12:46:34Z", "pr_url": "https://github.com/apache/calcite/pull/1926", "timeline": [{"oid": "dd23f177ddc83e5f6b4a75d6df8f84edb06dd5df", "url": "https://github.com/apache/calcite/commit/dd23f177ddc83e5f6b4a75d6df8f84edb06dd5df", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-19T12:50:23Z", "type": "forcePushed"}, {"oid": "09352ce2ccfecc7c93dba4f96700d95e234166c3", "url": "https://github.com/apache/calcite/commit/09352ce2ccfecc7c93dba4f96700d95e234166c3", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-19T13:03:29Z", "type": "forcePushed"}, {"oid": "3027b5fdc5d3a90927f881cbd259664b74286260", "url": "https://github.com/apache/calcite/commit/3027b5fdc5d3a90927f881cbd259664b74286260", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-19T13:21:17Z", "type": "forcePushed"}, {"oid": "de76088cd49508aa641b5cdb9e91074fbc8e71c7", "url": "https://github.com/apache/calcite/commit/de76088cd49508aa641b5cdb9e91074fbc8e71c7", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-19T13:43:59Z", "type": "forcePushed"}, {"oid": "2cdc726acdda42733fd39721e06d5050ac5656a0", "url": "https://github.com/apache/calcite/commit/2cdc726acdda42733fd39721e06d5050ac5656a0", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-20T00:21:01Z", "type": "forcePushed"}, {"oid": "5ab5170e5f926a18f9735f2fd6bbffa986ee0577", "url": "https://github.com/apache/calcite/commit/5ab5170e5f926a18f9735f2fd6bbffa986ee0577", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-20T02:58:27Z", "type": "forcePushed"}, {"oid": "bfb150b25236c0f3426d2dd3e05f2d33632a7896", "url": "https://github.com/apache/calcite/commit/bfb150b25236c0f3426d2dd3e05f2d33632a7896", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-20T03:19:59Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MjY3Nw==", "url": "https://github.com/apache/calcite/pull/1926#discussion_r411072677", "bodyText": "Can wet fix the hashCode function in TableScan directly?", "author": "DonnyZone", "createdAt": "2020-04-20T03:42:31Z", "path": "core/src/main/java/org/apache/calcite/rel/mutable/MutableScan.java", "diffHunk": "@@ -36,11 +36,12 @@ public static MutableScan of(TableScan scan) {\n   @Override public boolean equals(Object obj) {\n     return obj == this\n         || obj instanceof MutableScan\n-        && rel.equals(((MutableScan) obj).rel);\n+        && rel.getTable().getQualifiedName().equals(((MutableScan) obj).rel", "originalCommit": "bfb150b25236c0f3426d2dd3e05f2d33632a7896", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTEwNzkyMA==", "url": "https://github.com/apache/calcite/pull/1926#discussion_r411107920", "bodyText": "Hi @DonnyZone  Thanks a lot for looking into this !\nThere's a discussion for overriding equals()&hashCode() in https://issues.apache.org/jira/browse/CALCITE-3167\nThe conclusion is to make equals()&hashCode() final in AbstractRelNode  and  have independent mechanisms to define the equality.", "author": "jinxing64", "createdAt": "2020-04-20T05:45:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MjY3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTEyMTQyNg==", "url": "https://github.com/apache/calcite/pull/1926#discussion_r411121426", "bodyText": "@jinxing64 Thanks for clarification. LGTM!", "author": "DonnyZone", "createdAt": "2020-04-20T06:21:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MjY3Nw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "07f2c9b954e65c5d5616ea259d64c52d6280c264", "url": "https://github.com/apache/calcite/commit/07f2c9b954e65c5d5616ea259d64c52d6280c264", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-20T05:46:14Z", "type": "forcePushed"}, {"oid": "65fc2e320a5142b538af3d9e92a9d5b063fd1e04", "url": "https://github.com/apache/calcite/commit/65fc2e320a5142b538af3d9e92a9d5b063fd1e04", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent. (Dai Min, Jin Xing)", "committedDate": "2020-04-20T06:11:32Z", "type": "forcePushed"}, {"oid": "efa8d8001b9bba77e8945be8d9be476e16f989d6", "url": "https://github.com/apache/calcite/commit/efa8d8001b9bba77e8945be8d9be476e16f989d6", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent (Dai Min, Jin Xing)", "committedDate": "2020-04-20T06:56:07Z", "type": "commit"}, {"oid": "efa8d8001b9bba77e8945be8d9be476e16f989d6", "url": "https://github.com/apache/calcite/commit/efa8d8001b9bba77e8945be8d9be476e16f989d6", "message": "[CALCITE-3447] MutableScans with the same qualified name are not equivalent (Dai Min, Jin Xing)", "committedDate": "2020-04-20T06:56:07Z", "type": "forcePushed"}]}