{"pr_number": 3293, "pr_title": "Support Confluent Platform 6 in Kafka", "pr_createdAt": "2020-09-30T18:10:55Z", "pr_url": "https://github.com/testcontainers/testcontainers-java/pull/3293", "timeline": [{"oid": "07500bf24196210f9f2f2fdf17b230d45ad936cd", "url": "https://github.com/testcontainers/testcontainers-java/commit/07500bf24196210f9f2f2fdf17b230d45ad936cd", "message": "Support Confluent Platform 6 in Kafka", "committedDate": "2020-09-30T18:10:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzcxMjAwMg==", "url": "https://github.com/testcontainers/testcontainers-java/pull/3293#discussion_r497712002", "bodyText": "These \\ns within the string seem likely to lead to mistakes. As we're editing it, should we break this apart?\ne.g.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"printf 'clientPort=\" + ZOOKEEPER_PORT + \"\\ndataDir=/var/lib/zookeeper/data\\ndataLogDir=/var/lib/zookeeper/log' > zookeeper.properties\\n\" +\n          \n          \n            \n                            \"printf 'clientPort=\" + ZOOKEEPER_PORT + \"\\n\" +\n          \n          \n            \n                            \"dataDir=/var/lib/zookeeper/data\\n\" +\n          \n          \n            \n                            \"dataLogDir=/var/lib/zookeeper/log' > zookeeper.properties\\n\" +\n          \n      \n    \n    \n  \n\n(\ud83d\ude4f save us, text blocks...)", "author": "rnorth", "createdAt": "2020-09-30T18:21:07Z", "path": "modules/kafka/src/main/java/org/testcontainers/containers/KafkaContainer.java", "diffHunk": "@@ -139,8 +139,8 @@ protected void containerIsStarting(InspectContainerResponse containerInfo, boole\n     private String startZookeeper() {\n         ExecCreateCmdResponse execCreateCmdResponse = dockerClient.execCreateCmd(getContainerId())\n             .withCmd(\"sh\", \"-c\", \"\" +\n-                \"printf 'clientPort=\" + ZOOKEEPER_PORT + \"\\ndataDir=/var/lib/zookeeper/data\\ndataLogDir=/var/lib/zookeeper/log' > /zookeeper.properties\\n\" +\n-                \"zookeeper-server-start /zookeeper.properties\\n\"\n+                \"printf 'clientPort=\" + ZOOKEEPER_PORT + \"\\ndataDir=/var/lib/zookeeper/data\\ndataLogDir=/var/lib/zookeeper/log' > zookeeper.properties\\n\" +", "originalCommit": "07500bf24196210f9f2f2fdf17b230d45ad936cd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8b23aaf2532e5b2887c6ed045c84b16c0366f330", "chunk": "diff --git a/modules/kafka/src/main/java/org/testcontainers/containers/KafkaContainer.java b/modules/kafka/src/main/java/org/testcontainers/containers/KafkaContainer.java\nindex 5a168ca7..ae44e480 100644\n--- a/modules/kafka/src/main/java/org/testcontainers/containers/KafkaContainer.java\n+++ b/modules/kafka/src/main/java/org/testcontainers/containers/KafkaContainer.java\n\n@@ -134,18 +136,4 @@ public class KafkaContainer extends GenericContainer<KafkaContainer> {\n             STARTER_SCRIPT\n         );\n     }\n-\n-    @SneakyThrows(InterruptedException.class)\n-    private String startZookeeper() {\n-        ExecCreateCmdResponse execCreateCmdResponse = dockerClient.execCreateCmd(getContainerId())\n-            .withCmd(\"sh\", \"-c\", \"\" +\n-                \"printf 'clientPort=\" + ZOOKEEPER_PORT + \"\\ndataDir=/var/lib/zookeeper/data\\ndataLogDir=/var/lib/zookeeper/log' > zookeeper.properties\\n\" +\n-                \"zookeeper-server-start zookeeper.properties\\n\"\n-            )\n-            .exec();\n-\n-        dockerClient.execStartCmd(execCreateCmdResponse.getId()).start().awaitStarted(10, TimeUnit.SECONDS);\n-\n-        return \"localhost:\" + ZOOKEEPER_PORT;\n-    }\n }\n"}}, {"oid": "8b23aaf2532e5b2887c6ed045c84b16c0366f330", "url": "https://github.com/testcontainers/testcontainers-java/commit/8b23aaf2532e5b2887c6ed045c84b16c0366f330", "message": "remove `KafkaContainer#startZookeeper`", "committedDate": "2020-09-30T19:07:51Z", "type": "commit"}]}