{"pr_number": 2605, "pr_title": "Implement DockerClientFactory.isDockerAvailable()", "pr_createdAt": "2020-04-23T06:27:13Z", "pr_url": "https://github.com/testcontainers/testcontainers-java/pull/2605", "timeline": [{"oid": "c33b00c8a0531d2db73237c6d9d5c6a511c0111a", "url": "https://github.com/testcontainers/testcontainers-java/commit/c33b00c8a0531d2db73237c6d9d5c6a511c0111a", "message": "Implement DockerClientFactory.isDockerAvailable()", "committedDate": "2020-04-23T06:26:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY5ODMyOA==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2605#discussion_r424698328", "bodyText": "it is better to call client() here, since the Docker may be available but the checks are failing\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        getOrInitializeStrategy();\n          \n          \n            \n                        client();", "author": "bsideup", "createdAt": "2020-05-13T20:03:12Z", "path": "core/src/main/java/org/testcontainers/DockerClientFactory.java", "diffHunk": "@@ -101,6 +101,19 @@ public synchronized static DockerClientFactory instance() {\n         return instance;\n     }\n \n+    /**\n+     * Checks whether Docker is accessible and {@link #client()} is able to produce a client.\n+     * @return true if Docker is available, false if not.\n+     */\n+    public synchronized boolean isDockerAvailable() {\n+        try {\n+            getOrInitializeStrategy();", "originalCommit": "c33b00c8a0531d2db73237c6d9d5c6a511c0111a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "22c1ba2f5f61c6bc340d691386592e7e1e43f248", "chunk": "diff --git a/core/src/main/java/org/testcontainers/DockerClientFactory.java b/core/src/main/java/org/testcontainers/DockerClientFactory.java\nindex e34006c1..4e16a7ed 100644\n--- a/core/src/main/java/org/testcontainers/DockerClientFactory.java\n+++ b/core/src/main/java/org/testcontainers/DockerClientFactory.java\n\n@@ -107,7 +107,7 @@ public class DockerClientFactory {\n      */\n     public synchronized boolean isDockerAvailable() {\n         try {\n-            getOrInitializeStrategy();\n+            client();\n             return true;\n         } catch (IllegalStateException ex) {\n             return false;\n"}}, {"oid": "22c1ba2f5f61c6bc340d691386592e7e1e43f248", "url": "https://github.com/testcontainers/testcontainers-java/commit/22c1ba2f5f61c6bc340d691386592e7e1e43f248", "message": "Update core/src/main/java/org/testcontainers/DockerClientFactory.java\n\nCo-authored-by: Sergei Egorov <bsideup@gmail.com>", "committedDate": "2020-05-14T06:07:16Z", "type": "commit"}, {"oid": "9b3af69f4695aa575b8c00bd511b9e9482b5bf58", "url": "https://github.com/testcontainers/testcontainers-java/commit/9b3af69f4695aa575b8c00bd511b9e9482b5bf58", "message": "Merge branch 'master' into master", "committedDate": "2020-05-14T14:50:03Z", "type": "commit"}]}