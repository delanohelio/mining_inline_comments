{"pr_number": 3454, "pr_title": "Expose Toxiproxy control port and proxy name", "pr_createdAt": "2020-11-09T11:19:28Z", "pr_url": "https://github.com/testcontainers/testcontainers-java/pull/3454", "timeline": [{"oid": "9a6207e786287860e445b4200491389b9788ff7b", "url": "https://github.com/testcontainers/testcontainers-java/commit/9a6207e786287860e445b4200491389b9788ff7b", "message": "Expose Toxiproxy control port and proxy name\n\nIn order to work with and external Toxiproxy client we need the control\nport to get the mapped port and the proxy names to interact with.", "committedDate": "2020-11-09T11:16:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTczNDQxOA==", "url": "https://github.com/testcontainers/testcontainers-java/pull/3454#discussion_r519734418", "bodyText": "could you please revert this change and add getControlPort instead? We find it more flexible than exposing constants", "author": "bsideup", "createdAt": "2020-11-09T11:21:06Z", "path": "modules/toxiproxy/src/main/java/org/testcontainers/containers/ToxiproxyContainer.java", "diffHunk": "@@ -21,9 +21,10 @@\n  */\n public class ToxiproxyContainer extends GenericContainer<ToxiproxyContainer> {\n \n+    public static final int TOXIPROXY_CONTROL_PORT = 8474;", "originalCommit": "9a6207e786287860e445b4200491389b9788ff7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgxMjc5Nw==", "url": "https://github.com/testcontainers/testcontainers-java/pull/3454#discussion_r519812797", "bodyText": "Sure, do you want to expose the original or the mapped port?", "author": "aartigao", "createdAt": "2020-11-09T13:26:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTczNDQxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg2NzM0MQ==", "url": "https://github.com/testcontainers/testcontainers-java/pull/3454#discussion_r519867341", "bodyText": "the mapped one, so that it can be used as an argument to the client", "author": "bsideup", "createdAt": "2020-11-09T14:46:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTczNDQxOA=="}], "type": "inlineReview", "revised_code": {"commit": "9eb35a02bceb1a437beb5a3c792df399d514fcf9", "chunk": "diff --git a/modules/toxiproxy/src/main/java/org/testcontainers/containers/ToxiproxyContainer.java b/modules/toxiproxy/src/main/java/org/testcontainers/containers/ToxiproxyContainer.java\nindex e0c3a106..e22cc1fd 100644\n--- a/modules/toxiproxy/src/main/java/org/testcontainers/containers/ToxiproxyContainer.java\n+++ b/modules/toxiproxy/src/main/java/org/testcontainers/containers/ToxiproxyContainer.java\n\n@@ -21,10 +21,9 @@ import java.util.concurrent.atomic.AtomicInteger;\n  */\n public class ToxiproxyContainer extends GenericContainer<ToxiproxyContainer> {\n \n-    public static final int TOXIPROXY_CONTROL_PORT = 8474;\n-\n     private static final DockerImageName DEFAULT_IMAGE_NAME = DockerImageName.parse(\"shopify/toxiproxy\");\n     private static final String DEFAULT_TAG = \"2.1.0\";\n+    private static final int TOXIPROXY_CONTROL_PORT = 8474;\n     private static final int FIRST_PROXIED_PORT = 8666;\n     private static final int LAST_PROXIED_PORT = 8666 + 31;\n \n"}}, {"oid": "9eb35a02bceb1a437beb5a3c792df399d514fcf9", "url": "https://github.com/testcontainers/testcontainers-java/commit/9eb35a02bceb1a437beb5a3c792df399d514fcf9", "message": "Accessor for Toxiproxy mapped control port\n\nHidden the port constant again and created accessor for Toxiproxy\nmapped control port.", "committedDate": "2020-11-09T15:17:46Z", "type": "commit"}]}