{"pr_number": 6914, "pr_title": "Custom Item integration with Piglins", "pr_createdAt": "2020-07-04T00:59:57Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/6914", "timeline": [{"oid": "acf5a001d63fdc49ad4f59270ae1d677635ce4c0", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/acf5a001d63fdc49ad4f59270ae1d677635ce4c0", "message": "Adds support for marking custom items as tradeable with piglins, and allowing custom armors to not anger piglins", "committedDate": "2020-07-04T00:57:15Z", "type": "commit"}, {"oid": "c5a4b8566946c23f0de48b830a90450b0f809443", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c5a4b8566946c23f0de48b830a90450b0f809443", "message": "Expose the wearer to pacifiesPiglins", "committedDate": "2020-07-04T01:47:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc2MzI3Nw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6914#discussion_r449763277", "bodyText": "Formatting (braces on newlines)", "author": "diesieben07", "createdAt": "2020-07-04T11:02:42Z", "path": "src/main/java/net/minecraftforge/common/extensions/IForgeItem.java", "diffHunk": "@@ -113,6 +116,26 @@ default ActionResultType onItemUseFirst(ItemStack stack, ItemUseContext context)\n         return ActionResultType.PASS;\n     }\n \n+    /**\n+     * Called by Piglins when checking to see if they will give an item or something in exchange for this item.\n+     *\n+     * @return True if this item can be used as \"currency\" by piglins\n+     */\n+    default boolean isPiglinCurrency(ItemStack stack) {", "originalCommit": "c5a4b8566946c23f0de48b830a90450b0f809443", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "94c2b5745302a6916c87dda3ebfec6f5abe79ae6", "chunk": "diff --git a/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java b/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java\nindex 513a86e46..7464d3ee3 100644\n--- a/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java\n+++ b/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java\n\n@@ -121,7 +121,8 @@ public interface IForgeItem\n      *\n      * @return True if this item can be used as \"currency\" by piglins\n      */\n-    default boolean isPiglinCurrency(ItemStack stack) {\n+    default boolean isPiglinCurrency(ItemStack stack)\n+    {\n         return stack.getItem() == PiglinTasks.field_234444_a_;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc2MzMwMA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6914#discussion_r449763300", "bodyText": "Formatting (braces on newlines)", "author": "diesieben07", "createdAt": "2020-07-04T11:02:48Z", "path": "src/main/java/net/minecraftforge/common/extensions/IForgeItem.java", "diffHunk": "@@ -113,6 +116,26 @@ default ActionResultType onItemUseFirst(ItemStack stack, ItemUseContext context)\n         return ActionResultType.PASS;\n     }\n \n+    /**\n+     * Called by Piglins when checking to see if they will give an item or something in exchange for this item.\n+     *\n+     * @return True if this item can be used as \"currency\" by piglins\n+     */\n+    default boolean isPiglinCurrency(ItemStack stack) {\n+        return stack.getItem() == PiglinTasks.field_234444_a_;\n+    }\n+\n+    /**\n+     * Called by Piglins to check if a given item marks a player as \"honorable\" and should not be attacked.\n+     *\n+     * @param wearer The entity wearing this ItemStack\n+     *\n+     * @return True if piglins are neutral to players wearing this item in an armor slot\n+     */\n+    default boolean pacifiesPiglins(ItemStack stack, LivingEntity wearer) {", "originalCommit": "c5a4b8566946c23f0de48b830a90450b0f809443", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "94c2b5745302a6916c87dda3ebfec6f5abe79ae6", "chunk": "diff --git a/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java b/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java\nindex 513a86e46..7464d3ee3 100644\n--- a/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java\n+++ b/src/main/java/net/minecraftforge/common/extensions/IForgeItem.java\n\n@@ -121,7 +121,8 @@ public interface IForgeItem\n      *\n      * @return True if this item can be used as \"currency\" by piglins\n      */\n-    default boolean isPiglinCurrency(ItemStack stack) {\n+    default boolean isPiglinCurrency(ItemStack stack)\n+    {\n         return stack.getItem() == PiglinTasks.field_234444_a_;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc2MzMyOA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6914#discussion_r449763328", "bodyText": "Formatting (braces on newlines)", "author": "diesieben07", "createdAt": "2020-07-04T11:02:58Z", "path": "src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java", "diffHunk": "@@ -450,4 +450,24 @@ default boolean isRepairable()\n     {\n         return getStack().getItem().isRepairable(getStack());\n     }\n+\n+    /**\n+     * Called by Piglins when checking to see if they will give an item or something in exchange for this item.\n+     *\n+     * @return True if this item can be used as \"currency\" by piglins\n+     */\n+    default boolean isPiglinCurrency() {", "originalCommit": "c5a4b8566946c23f0de48b830a90450b0f809443", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "94c2b5745302a6916c87dda3ebfec6f5abe79ae6", "chunk": "diff --git a/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java b/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java\nindex f38525e5e..544cf1517 100644\n--- a/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java\n+++ b/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java\n\n@@ -456,7 +456,8 @@ public interface IForgeItemStack extends ICapabilitySerializable<CompoundNBT>\n      *\n      * @return True if this item can be used as \"currency\" by piglins\n      */\n-    default boolean isPiglinCurrency() {\n+    default boolean isPiglinCurrency()\n+    {\n         return getStack().getItem().isPiglinCurrency(getStack());\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc2MzMzOA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6914#discussion_r449763338", "bodyText": "Formatting (braces on newlines)", "author": "diesieben07", "createdAt": "2020-07-04T11:03:03Z", "path": "src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java", "diffHunk": "@@ -450,4 +450,24 @@ default boolean isRepairable()\n     {\n         return getStack().getItem().isRepairable(getStack());\n     }\n+\n+    /**\n+     * Called by Piglins when checking to see if they will give an item or something in exchange for this item.\n+     *\n+     * @return True if this item can be used as \"currency\" by piglins\n+     */\n+    default boolean isPiglinCurrency() {\n+        return getStack().getItem().isPiglinCurrency(getStack());\n+    }\n+\n+    /**\n+     * Called by Piglins to check if a given item marks a player as \"honorable\" and should not be attacked.\n+     *\n+     * @param wearer The entity wearing this ItemStack\n+     *\n+     * @return True if piglins are neutral to players wearing this item in an armor slot\n+     */\n+    default boolean pacifiesPiglins(LivingEntity wearer) {", "originalCommit": "c5a4b8566946c23f0de48b830a90450b0f809443", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "94c2b5745302a6916c87dda3ebfec6f5abe79ae6", "chunk": "diff --git a/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java b/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java\nindex f38525e5e..544cf1517 100644\n--- a/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java\n+++ b/src/main/java/net/minecraftforge/common/extensions/IForgeItemStack.java\n\n@@ -456,7 +456,8 @@ public interface IForgeItemStack extends ICapabilitySerializable<CompoundNBT>\n      *\n      * @return True if this item can be used as \"currency\" by piglins\n      */\n-    default boolean isPiglinCurrency() {\n+    default boolean isPiglinCurrency()\n+    {\n         return getStack().getItem().isPiglinCurrency(getStack());\n     }\n \n"}}, {"oid": "94c2b5745302a6916c87dda3ebfec6f5abe79ae6", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/94c2b5745302a6916c87dda3ebfec6f5abe79ae6", "message": "Fix formatting", "committedDate": "2020-07-04T12:16:43Z", "type": "commit"}, {"oid": "7a9747fb0c55223277db8b5dc2767d4cf0119e41", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/7a9747fb0c55223277db8b5dc2767d4cf0119e41", "message": "Update method name from pacifiesPiglins to makesPiglinsNeutral and improve description in JavaDocs", "committedDate": "2020-07-06T20:25:42Z", "type": "commit"}]}