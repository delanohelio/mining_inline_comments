{"pr_number": 6693, "pr_title": "Fire the LevelChange event after having enchanted an item", "pr_createdAt": "2020-05-14T16:55:40Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/6693", "timeline": [{"oid": "f642778f2cbb484d6330d35d38afd1869af09d2f", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/f642778f2cbb484d6330d35d38afd1869af09d2f", "message": "Fire the LevelChange event after having enchanted an item", "committedDate": "2020-05-14T16:48:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NTgyMA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6693#discussion_r425395820", "bodyText": "What is the point of this? If you want a flag like that for a one line body just use if (ENABLED). Inverting it just to return seems silly.", "author": "pupnewfster", "createdAt": "2020-05-14T19:59:34Z", "path": "src/test/java/net/minecraftforge/debug/entity/player/LevelChangeEventOnEnchantTest.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package net.minecraftforge.debug.entity.player;\n+\n+import net.minecraftforge.event.entity.player.PlayerXpEvent;\n+import net.minecraftforge.eventbus.api.SubscribeEvent;\n+import net.minecraftforge.fml.common.Mod;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+@Mod(\"level_change_event_on_enchant_test\")\n+@Mod.EventBusSubscriber()\n+public class LevelChangeEventOnEnchantTest {\n+   private static final boolean ENABLE = true;\n+   private static final Logger logger = LogManager.getLogger(LevelChangeEventOnEnchantTest.class);\n+\n+   @SubscribeEvent\n+   public static void onPlayerLevelChange(PlayerXpEvent.LevelChange event)\n+   {\n+      if (!ENABLE) return;", "originalCommit": "f642778f2cbb484d6330d35d38afd1869af09d2f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NjUyMQ==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6693#discussion_r425396521", "bodyText": "copy pasted from another xp test mod.", "author": "Cyborgmas", "createdAt": "2020-05-14T20:00:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NTgyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5Njk5Nw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6693#discussion_r425396997", "bodyText": "Why not just add the event handler to that test mod? As they are both PlayerXPEvent...", "author": "LexManos", "createdAt": "2020-05-14T20:01:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NTgyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5OTc0Ng==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6693#discussion_r425399746", "bodyText": "ah yeah could have tested using the other mod instead huh... /oops", "author": "Cyborgmas", "createdAt": "2020-05-14T20:07:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NTgyMA=="}], "type": "inlineReview", "revised_code": {"commit": "300bb78a86542d251aeb2148feca0a4d25a06453", "chunk": "diff --git a/src/test/java/net/minecraftforge/debug/entity/player/LevelChangeEventOnEnchantTest.java b/src/test/java/net/minecraftforge/debug/entity/player/LevelChangeEventOnEnchantTest.java\nindex 4d30b5c94..fe208c5df 100644\n--- a/src/test/java/net/minecraftforge/debug/entity/player/LevelChangeEventOnEnchantTest.java\n+++ b/src/test/java/net/minecraftforge/debug/entity/player/LevelChangeEventOnEnchantTest.java\n\n@@ -15,7 +15,7 @@ public class LevelChangeEventOnEnchantTest {\n    @SubscribeEvent\n    public static void onPlayerLevelChange(PlayerXpEvent.LevelChange event)\n    {\n-      if (!ENABLE) return;\n-      logger.info(\"{} has changed {} levels\", event.getPlayer().getName().getString(), event.getLevels());\n+      if (ENABLE)\n+         logger.info(\"{} has changed {} levels\", event.getPlayer().getName().getString(), event.getLevels());\n    }\n }\n"}}, {"oid": "300bb78a86542d251aeb2148feca0a4d25a06453", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/300bb78a86542d251aeb2148feca0a4d25a06453", "message": "fix stuff", "committedDate": "2020-05-14T20:06:12Z", "type": "commit"}, {"oid": "0987bf32b3fe98f344f40fedfdb89ee388be9c00", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0987bf32b3fe98f344f40fedfdb89ee388be9c00", "message": "Removing useless test mod", "committedDate": "2020-05-14T20:20:16Z", "type": "commit"}]}