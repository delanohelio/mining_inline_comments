{"pr_number": 6523, "pr_title": "Add a way to create Music Discs without requiring a SoundEvent", "pr_createdAt": "2020-02-19T14:31:57Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/6523", "timeline": [{"oid": "d515fb460f95f12e769affd4a5390f1a567148e8", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/d515fb460f95f12e769affd4a5390f1a567148e8", "message": "Fix OGG file corruption\n\nI actually have no idea why or how, but... no OGG file no test mod so...\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-03-07T13:09:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU0ODQxMA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6523#discussion_r393548410", "bodyText": "This is just ugly, Just have\n private static final RegisteryObject<SoundEvent> TEST_SOUND = ... \n private static final RegistryObject<Item> TEST_DISC = ...\n\nAt the top", "author": "LexManos", "createdAt": "2020-03-17T09:35:01Z", "path": "src/test/java/net/minecraftforge/debug/item/MusicDiscTest.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package net.minecraftforge.debug.item;\n+\n+import net.minecraft.item.Item;\n+import net.minecraft.item.MusicDiscItem;\n+import net.minecraft.item.Rarity;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.eventbus.api.IEventBus;\n+import net.minecraftforge.fml.RegistryObject;\n+import net.minecraftforge.fml.common.Mod;\n+import net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\n+import net.minecraftforge.registries.DeferredRegister;\n+import net.minecraftforge.registries.ForgeRegistries;\n+\n+@Mod(MusicDiscTest.MOD_ID)\n+@Mod.EventBusSubscriber(bus = Mod.EventBusSubscriber.Bus.MOD, modid = MusicDiscTest.MOD_ID)\n+public class MusicDiscTest\n+{\n+    static final String MOD_ID = \"music_disc_test\";\n+\n+    private static final DeferredRegister<Item> ITEMS = new DeferredRegister<>(ForgeRegistries.ITEMS, MOD_ID);\n+    private static final DeferredRegister<SoundEvent> SOUND_EVENTS = new DeferredRegister<>(ForgeRegistries.SOUND_EVENTS, MOD_ID);\n+\n+    public MusicDiscTest()\n+    {\n+        final IEventBus modBus = FMLJavaModLoadingContext.get().getModEventBus();\n+        ITEMS.register(modBus);\n+        SOUND_EVENTS.register(modBus);\n+    }\n+\n+    static", "originalCommit": "d515fb460f95f12e769affd4a5390f1a567148e8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c2c60a3a4c6ab0a624e29624ba2fa394983dedde", "chunk": "diff --git a/src/test/java/net/minecraftforge/debug/item/MusicDiscTest.java b/src/test/java/net/minecraftforge/debug/item/MusicDiscTest.java\nindex 8b26c57fe..43aa1a72b 100644\n--- a/src/test/java/net/minecraftforge/debug/item/MusicDiscTest.java\n+++ b/src/test/java/net/minecraftforge/debug/item/MusicDiscTest.java\n\n@@ -21,16 +21,16 @@ public class MusicDiscTest\n     private static final DeferredRegister<Item> ITEMS = new DeferredRegister<>(ForgeRegistries.ITEMS, MOD_ID);\n     private static final DeferredRegister<SoundEvent> SOUND_EVENTS = new DeferredRegister<>(ForgeRegistries.SOUND_EVENTS, MOD_ID);\n \n+    private static final RegistryObject<SoundEvent> TEST_SOUND_EVENT = SOUND_EVENTS.register(\"test_sound_event\",\n+            () -> new SoundEvent(new ResourceLocation(MOD_ID, \"test_sound_event\")));\n+\n+    private static final RegistryObject<Item> TEST_MUSIC_DISC = ITEMS.register(\"test_music_disc\",\n+            () -> new MusicDiscItem(1, TEST_SOUND_EVENT, new Item.Properties().maxStackSize(1).rarity(Rarity.EPIC)));\n+\n     public MusicDiscTest()\n     {\n         final IEventBus modBus = FMLJavaModLoadingContext.get().getModEventBus();\n         ITEMS.register(modBus);\n         SOUND_EVENTS.register(modBus);\n     }\n-\n-    static\n-    {\n-        final RegistryObject<SoundEvent> testEvent = SOUND_EVENTS.register(\"test_sound_event\", () -> new SoundEvent(new ResourceLocation(MOD_ID, \"test_sound_event\")));\n-        ITEMS.register(\"test_music_disc\", () -> new MusicDiscItem(1, testEvent, new Item.Properties().maxStackSize(1).rarity(Rarity.EPIC)));\n-    }\n }\n"}}, {"oid": "c2c60a3a4c6ab0a624e29624ba2fa394983dedde", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c2c60a3a4c6ab0a624e29624ba2fa394983dedde", "message": "Fix merge and code style issues\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-03-21T09:56:50Z", "type": "forcePushed"}, {"oid": "acf952a036a2c13ecb7466e61267fbc1e76e326a", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/acf952a036a2c13ecb7466e61267fbc1e76e326a", "message": "Fix merge and code style issues\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-03-21T10:02:32Z", "type": "forcePushed"}, {"oid": "80ba2547d3fcb40aff8d4f2dfd5517ff913ae07b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/80ba2547d3fcb40aff8d4f2dfd5517ff913ae07b", "message": "Patch Music Disc not to require a SoundEvent for construction\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:09:14Z", "type": "commit"}, {"oid": "a1a3025b745f2ab4647b599bb63ff186ab037d15", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a1a3025b745f2ab4647b599bb63ff186ab037d15", "message": "Add test mod\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:10:31Z", "type": "commit"}, {"oid": "2e356e3381c6dea6c4b07998383dd834368cd93a", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2e356e3381c6dea6c4b07998383dd834368cd93a", "message": "Avoid changing the type of a vanilla field\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:10:34Z", "type": "commit"}, {"oid": "1178d941b11cc7a74a21ff391011cb40a4b261b1", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/1178d941b11cc7a74a21ff391011cb40a4b261b1", "message": "Rework patches as suggested by code review\n\nVanilla logic is now mostly intact and doesn't require reworking of\nfields and definalizing. WorldRenderer has been patched not to be stupid\nand use the item it has already\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:10:35Z", "type": "commit"}, {"oid": "ac6d9e1c1d854c5e204524e67fe95de3d0932bbf", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ac6d9e1c1d854c5e204524e67fe95de3d0932bbf", "message": "Rework test mod to account for changes in patches\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:10:36Z", "type": "commit"}, {"oid": "1830490b12f8340be5839bed0d0df923828548b9", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/1830490b12f8340be5839bed0d0df923828548b9", "message": "Reduced patch size\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:10:36Z", "type": "commit"}, {"oid": "f7cef5bcb83ce76f954ebac1d14acf7b887606d5", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/f7cef5bcb83ce76f954ebac1d14acf7b887606d5", "message": "Fix merge and code style issues\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:10:37Z", "type": "commit"}, {"oid": "243a86aa429eb5c285643e3409df2f10435fd1cc", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/243a86aa429eb5c285643e3409df2f10435fd1cc", "message": "Run license check\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:31:29Z", "type": "commit"}, {"oid": "243a86aa429eb5c285643e3409df2f10435fd1cc", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/243a86aa429eb5c285643e3409df2f10435fd1cc", "message": "Run license check\n\nSigned-off-by: TheSilkMiner <thesilkminer@outlook.com>", "committedDate": "2020-05-09T09:31:29Z", "type": "forcePushed"}, {"oid": "0f05137e59195fd14de48ab0ab84bff9e82feda9", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0f05137e59195fd14de48ab0ab84bff9e82feda9", "message": "Merge branch '1.15.x' into feature/music-disc-sound-delegate", "committedDate": "2020-05-15T17:37:00Z", "type": "commit"}]}