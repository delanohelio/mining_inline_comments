{"pr_number": 7289, "pr_title": "Add support for custom tag types", "pr_createdAt": "2020-08-30T17:31:16Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/7289", "timeline": [{"oid": "e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b", "message": "Add the custom tag type creation back that got lost during rebasing", "committedDate": "2020-09-01T14:34:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMyNzQyMA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7289#discussion_r481327420", "bodyText": "Since this is not trying to call mod supplied code, but is rather, just parsing out metadata from the registries into structure, this is the best solution.", "author": "cpw", "createdAt": "2020-09-01T17:53:53Z", "path": "src/main/java/net/minecraftforge/fml/ModLoader.java", "diffHunk": "@@ -198,6 +198,8 @@ public void gatherAndInitializeMods(final ModWorkManager.DrivenExecutor syncExec\n         CapabilityManager.INSTANCE.injectCapabilities(modList.getAllScanData());\n         statusConsumer.ifPresent(c->c.accept(\"Populating registries\"));\n         dispatchAndHandleError(ModLoadingStage.LOAD_REGISTRIES, syncExecutor, parallelExecutor, periodicTask);\n+        statusConsumer.ifPresent(c->c.accept(\"Adding custom tag types\"));\n+        GameData.setCustomTagTypesFromRegistries();", "originalCommit": "e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f1628e4eb5668346741c66f253defa9e43b3a2ab", "chunk": "diff --git a/src/main/java/net/minecraftforge/fml/ModLoader.java b/src/main/java/net/minecraftforge/fml/ModLoader.java\nindex a20b6b27f..b2356aae9 100644\n--- a/src/main/java/net/minecraftforge/fml/ModLoader.java\n+++ b/src/main/java/net/minecraftforge/fml/ModLoader.java\n\n@@ -198,8 +198,6 @@ public class ModLoader\n         CapabilityManager.INSTANCE.injectCapabilities(modList.getAllScanData());\n         statusConsumer.ifPresent(c->c.accept(\"Populating registries\"));\n         dispatchAndHandleError(ModLoadingStage.LOAD_REGISTRIES, syncExecutor, parallelExecutor, periodicTask);\n-        statusConsumer.ifPresent(c->c.accept(\"Adding custom tag types\"));\n-        GameData.setCustomTagTypesFromRegistries();\n         statusConsumer.ifPresent(c->c.accept(\"Early mod loading complete\"));\n     }\n \n"}}, {"oid": "8f1547e8b3d9357d35363264f841752ca1c4759b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/8f1547e8b3d9357d35363264f841752ca1c4759b", "message": "Update to support existing file helper", "committedDate": "2020-09-03T03:46:28Z", "type": "forcePushed"}, {"oid": "0cee5ac96e21677d9637d788a6526afca4eb075a", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0cee5ac96e21677d9637d788a6526afca4eb075a", "message": "Update to support existing file helper", "committedDate": "2020-09-03T16:49:42Z", "type": "forcePushed"}, {"oid": "f1628e4eb5668346741c66f253defa9e43b3a2ab", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/f1628e4eb5668346741c66f253defa9e43b3a2ab", "message": "First pass at creating a system for custom tag types", "committedDate": "2020-09-08T21:22:58Z", "type": "commit"}, {"oid": "4e3a9d385a23f0fc18ed9defc0c5f2a8f209132c", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/4e3a9d385a23f0fc18ed9defc0c5f2a8f209132c", "message": "Reduce size of NetworkTagManager patch", "committedDate": "2020-09-08T21:22:58Z", "type": "commit"}, {"oid": "87b3b3f048207312af3bae1720dbe03235efa3ff", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/87b3b3f048207312af3bae1720dbe03235efa3ff", "message": "Continued work on cleaning up some parts of custom tag types", "committedDate": "2020-09-08T21:22:58Z", "type": "commit"}, {"oid": "bdb1a2d887391f1e5cad00736a5ee61de5cf349a", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/bdb1a2d887391f1e5cad00736a5ee61de5cf349a", "message": "Continued work on cleaning up some parts of custom tag types", "committedDate": "2020-09-08T21:22:58Z", "type": "commit"}, {"oid": "3e32e6edd26d06dd9cdea4765fca89307a33cc0e", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/3e32e6edd26d06dd9cdea4765fca89307a33cc0e", "message": "Start reworking how we keep track of the collections for custom tag types", "committedDate": "2020-09-08T21:22:58Z", "type": "commit"}, {"oid": "4e662e012fca05fac8fc9df609164329ce5ad228", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/4e662e012fca05fac8fc9df609164329ce5ad228", "message": "Custom tag types work, some rewriting is needed to tie them more strongly to the registries", "committedDate": "2020-09-08T21:23:12Z", "type": "commit"}, {"oid": "c321e5f0fb00165630bedb52ac6bdc3b5f716c8d", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c321e5f0fb00165630bedb52ac6bdc3b5f716c8d", "message": "Continue work on custom tag types and making them more strongly linked with the registries", "committedDate": "2020-09-08T21:23:15Z", "type": "commit"}, {"oid": "2276858078b5727fb08f90a61a0f5662df89ca86", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2276858078b5727fb08f90a61a0f5662df89ca86", "message": "Allow for \"statically initializing\" references to tags for custom tag types", "committedDate": "2020-09-08T21:23:15Z", "type": "commit"}, {"oid": "7b2fb806de03a0f564a585bf4745d1b24e8f1d02", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/7b2fb806de03a0f564a585bf4745d1b24e8f1d02", "message": "Fix incorrect import", "committedDate": "2020-09-08T21:23:15Z", "type": "commit"}, {"oid": "44a7efdbfeef8871116bf0008c2b21443adad937", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/44a7efdbfeef8871116bf0008c2b21443adad937", "message": "Add data generator support for custom tag types, add support to IForgeTagBuilder for adding by RegistryKeys (as that is all the reference Biomes have), and fix a few issues with trying to make custom tag types for custom forge registries", "committedDate": "2020-09-08T21:23:37Z", "type": "commit"}, {"oid": "4d9bb73eaad375465d0690052e93b88e718d6d0b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/4d9bb73eaad375465d0690052e93b88e718d6d0b", "message": "Clear modded cache when updating vanilla tags, and adjust method signatures slightly so as to not expose methods that modders could accidentally misuse", "committedDate": "2020-09-08T21:23:40Z", "type": "commit"}, {"oid": "2fde98c8ab17dbf84b277c7f56cd369de7caa26c", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2fde98c8ab17dbf84b277c7f56cd369de7caa26c", "message": "Work on addressing some TODOs", "committedDate": "2020-09-08T21:23:40Z", "type": "commit"}, {"oid": "c60e0512ddcbe8713754362fb48d9093f6b68edb", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c60e0512ddcbe8713754362fb48d9093f6b68edb", "message": "Add the custom tag type creation back that got lost during rebasing", "committedDate": "2020-09-08T21:23:40Z", "type": "commit"}, {"oid": "eae993c8a08fce459c289e1bc3182c656756412e", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/eae993c8a08fce459c289e1bc3182c656756412e", "message": "Continue cleaning up various TODOs", "committedDate": "2020-09-08T21:23:43Z", "type": "commit"}, {"oid": "93d71af14d11bcd84876b9aca41796b3bb40e5f0", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/93d71af14d11bcd84876b9aca41796b3bb40e5f0", "message": "Add JavaDocs", "committedDate": "2020-09-08T21:23:45Z", "type": "commit"}, {"oid": "682f48c388a03bf3f7f084a2f9dcae5e738cca9b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/682f48c388a03bf3f7f084a2f9dcae5e738cca9b", "message": "Formatting", "committedDate": "2020-09-08T21:23:46Z", "type": "commit"}, {"oid": "bfbe72c5bcc89d879468b14cded4140f7a0cc2fb", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/bfbe72c5bcc89d879468b14cded4140f7a0cc2fb", "message": "Update to support existing file helper", "committedDate": "2020-09-08T21:23:46Z", "type": "commit"}, {"oid": "ca047db8711207e6e0014f2164248ae39c5a202e", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ca047db8711207e6e0014f2164248ae39c5a202e", "message": "Fix patches not applying correctly", "committedDate": "2020-09-08T21:23:46Z", "type": "commit"}, {"oid": "9327e69aa01899231556597f625f598b152e78ab", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9327e69aa01899231556597f625f598b152e78ab", "message": "Rerun datagen to fix conflicts in cache that I didn't bother manually while rebasing", "committedDate": "2020-09-08T21:27:10Z", "type": "commit"}, {"oid": "9327e69aa01899231556597f625f598b152e78ab", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9327e69aa01899231556597f625f598b152e78ab", "message": "Rerun datagen to fix conflicts in cache that I didn't bother manually while rebasing", "committedDate": "2020-09-08T21:27:10Z", "type": "forcePushed"}, {"oid": "86bc040b1de5d27948b89984dd4d4e2cfb1d1d60", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/86bc040b1de5d27948b89984dd4d4e2cfb1d1d60", "message": "Fix spacing", "committedDate": "2020-09-08T21:29:38Z", "type": "commit"}, {"oid": "6425dcdbe7d9ff4a0e95d72684bfacdcc3113f41", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/6425dcdbe7d9ff4a0e95d72684bfacdcc3113f41", "message": "Fix GLMT data files being removed", "committedDate": "2020-09-08T21:39:38Z", "type": "commit"}]}