{"pr_number": 6610, "pr_title": "Backport: Fix ChunkDataEvent.Load not firing, it now fires in the aync thread. \u2026", "pr_createdAt": "2020-04-09T16:29:30Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/6610", "timeline": [{"oid": "1d2d93db5c3a8083d84241f73b32214a922226d0", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/1d2d93db5c3a8083d84241f73b32214a922226d0", "message": "Fix ChunkDataEvent.Load not firing, it now fires in the aync thread. \u2026\n\nbackports c72d6e9", "committedDate": "2020-04-09T16:27:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3ODg2MQ==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6610#discussion_r410178861", "bodyText": "This is a binary breaking change, please leave the old constructor and deprecate it", "author": "ichttt", "createdAt": "2020-04-17T12:06:37Z", "path": "src/main/java/net/minecraftforge/event/world/ChunkDataEvent.java", "diffHunk": "@@ -64,9 +65,17 @@ public CompoundNBT getData()\n      **/\n     public static class Load extends ChunkDataEvent\n     {\n-        public Load(IChunk chunk, CompoundNBT data)\n+        private ChunkStatus.Type status;\n+\n+        public Load(IChunk chunk, CompoundNBT data, ChunkStatus.Type status)", "originalCommit": "1d2d93db5c3a8083d84241f73b32214a922226d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4MDAwMw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6610#discussion_r410180003", "bodyText": "what ChunkStatus.Type can I realistically default to in that case?", "author": "phit", "createdAt": "2020-04-17T12:09:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3ODg2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4MTc2NQ==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6610#discussion_r410181765", "bodyText": "I'd just set it to null, and mark getStatus as nullable. Mods shouldn't fire this event so it will be nonnull in 99% of the time, but it's better to make modders that use the new type account for a possible null then break old mods", "author": "ichttt", "createdAt": "2020-04-17T12:13:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3ODg2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "59ad1a51fec92a6ff5dafaa6d21d6ba1707fa22b", "chunk": "diff --git a/src/main/java/net/minecraftforge/event/world/ChunkDataEvent.java b/src/main/java/net/minecraftforge/event/world/ChunkDataEvent.java\nindex d107154d7..f1b97b367 100644\n--- a/src/main/java/net/minecraftforge/event/world/ChunkDataEvent.java\n+++ b/src/main/java/net/minecraftforge/event/world/ChunkDataEvent.java\n\n@@ -67,12 +69,19 @@ public class ChunkDataEvent extends ChunkEvent\n     {\n         private ChunkStatus.Type status;\n \n+        @Deprecated\n+        public Load(IChunk chunk, CompoundNBT data)\n+        {\n+            super(chunk, data);\n+        }\n+\n         public Load(IChunk chunk, CompoundNBT data, ChunkStatus.Type status)\n         {\n             super(chunk, data);\n             this.status = status;\n         }\n \n+        @Nullable\n         public ChunkStatus.Type getStatus()\n         {\n             return this.status;\n"}}, {"oid": "59ad1a51fec92a6ff5dafaa6d21d6ba1707fa22b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/59ad1a51fec92a6ff5dafaa6d21d6ba1707fa22b", "message": "fix binary breakage", "committedDate": "2020-04-17T12:25:03Z", "type": "commit"}]}