{"pr_number": 5020, "pr_title": "Add MySQL integration test with GTID mode", "pr_createdAt": "2020-08-30T03:27:45Z", "pr_url": "https://github.com/trinodb/trino/pull/5020", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5NDUzNg==", "url": "https://github.com/trinodb/trino/pull/5020#discussion_r481094536", "bodyText": "introducing TestMySqlIntegrationSmokeTest based on BaseMySqlIntegrationSmokeTest should be part of same commit which introduces BaseMySqlIntegrationSmokeTest", "author": "losipiuk", "createdAt": "2020-09-01T12:20:10Z", "path": "presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.prestosql.plugin.mysql;\n+\n+import io.prestosql.testing.QueryRunner;\n+\n+import static io.prestosql.plugin.mysql.MySqlQueryRunner.createMySqlQueryRunner;\n+import static io.prestosql.tpch.TpchTable.CUSTOMER;\n+import static io.prestosql.tpch.TpchTable.NATION;\n+import static io.prestosql.tpch.TpchTable.ORDERS;\n+import static io.prestosql.tpch.TpchTable.REGION;\n+\n+public class TestMySqlIntegrationSmokeTest", "originalCommit": "05ebc6ccd150bd816a5a41b97af8d0256105b4bd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "042dc970222133b7f27e0a8ec69126d579fa40cb", "chunk": "diff --git a/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java b/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java\nindex e276253217..a867f64392 100644\n--- a/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java\n+++ b/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java\n\n@@ -28,7 +28,7 @@ public class TestMySqlIntegrationSmokeTest\n     protected QueryRunner createQueryRunner()\n             throws Exception\n     {\n-        mysqlServer = new TestingMySqlServer();\n+        mysqlServer = new TestingMySqlServer(false);\n         return createMySqlQueryRunner(mysqlServer, CUSTOMER, NATION, ORDERS, REGION);\n     }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5NTYxOQ==", "url": "https://github.com/trinodb/trino/pull/5020#discussion_r481095619", "bodyText": "nit: explicitly pass false here for clarity.", "author": "losipiuk", "createdAt": "2020-09-01T12:22:11Z", "path": "presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.prestosql.plugin.mysql;\n+\n+import io.prestosql.testing.QueryRunner;\n+\n+import static io.prestosql.plugin.mysql.MySqlQueryRunner.createMySqlQueryRunner;\n+import static io.prestosql.tpch.TpchTable.CUSTOMER;\n+import static io.prestosql.tpch.TpchTable.NATION;\n+import static io.prestosql.tpch.TpchTable.ORDERS;\n+import static io.prestosql.tpch.TpchTable.REGION;\n+\n+public class TestMySqlIntegrationSmokeTest\n+        extends BaseMySqlIntegrationSmokeTest\n+{\n+    @Override\n+    protected QueryRunner createQueryRunner()\n+            throws Exception\n+    {\n+        mysqlServer = new TestingMySqlServer();", "originalCommit": "05ebc6ccd150bd816a5a41b97af8d0256105b4bd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "042dc970222133b7f27e0a8ec69126d579fa40cb", "chunk": "diff --git a/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java b/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java\nindex e276253217..a867f64392 100644\n--- a/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java\n+++ b/presto-mysql/src/test/java/io/prestosql/plugin/mysql/TestMySqlIntegrationSmokeTest.java\n\n@@ -28,7 +28,7 @@ public class TestMySqlIntegrationSmokeTest\n     protected QueryRunner createQueryRunner()\n             throws Exception\n     {\n-        mysqlServer = new TestingMySqlServer();\n+        mysqlServer = new TestingMySqlServer(false);\n         return createMySqlQueryRunner(mysqlServer, CUSTOMER, NATION, ORDERS, REGION);\n     }\n }\n"}}, {"oid": "042dc970222133b7f27e0a8ec69126d579fa40cb", "url": "https://github.com/trinodb/trino/commit/042dc970222133b7f27e0a8ec69126d579fa40cb", "message": "Add MySQL integration test with GTID mode", "committedDate": "2020-09-04T12:44:19Z", "type": "commit"}, {"oid": "042dc970222133b7f27e0a8ec69126d579fa40cb", "url": "https://github.com/trinodb/trino/commit/042dc970222133b7f27e0a8ec69126d579fa40cb", "message": "Add MySQL integration test with GTID mode", "committedDate": "2020-09-04T12:44:19Z", "type": "forcePushed"}]}