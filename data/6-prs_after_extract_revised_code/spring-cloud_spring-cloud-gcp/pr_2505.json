{"pr_number": 2505, "pr_title": "check value for nullity to avoid NPE with primitive types", "pr_createdAt": "2020-08-26T20:50:54Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2505", "timeline": [{"oid": "c7aa98df3831dee0b7bea4465e5dace70d57cf6e", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/c7aa98df3831dee0b7bea4465e5dace70d57cf6e", "message": "check value for nullity to avoid NPE with primitive types", "committedDate": "2020-08-26T20:48:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU5MjM0OA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2505#discussion_r477592348", "bodyText": "Assert the false-by-default boolean, too?", "author": "elefeint", "createdAt": "2020-08-26T21:12:38Z", "path": "spring-cloud-gcp-data-datastore/src/test/java/org/springframework/cloud/gcp/data/datastore/it/DatastoreIntegrationTests.java", "diffHunk": "@@ -934,6 +934,17 @@ private String generateString(int length) {\n \t\treturn IntStream.range(0, length).mapToObj(String::valueOf)\n \t\t\t\t\t\t.collect(Collectors.joining(\",\"));\n \t}\n+\n+\t@Test\n+\tpublic void newFieldTest() {\n+\t\tCompany company = new Company(1L, Collections.emptyList());\n+\t\tcompany.name = \"name1\";\n+\t\tthis.datastoreTemplate.save(company);\n+\n+\t\tCompanyWithBooleanPrimitive companyWithBooleanPrimitive =\n+\t\t\t\t\t\tthis.datastoreTemplate.findById(1L, CompanyWithBooleanPrimitive.class);\n+\t\tassertThat(companyWithBooleanPrimitive.name).isEqualTo(company.name);", "originalCommit": "c7aa98df3831dee0b7bea4465e5dace70d57cf6e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "812c06de9628fdc9e1fad173cb3c7e47678bf2c5", "chunk": "diff --git a/spring-cloud-gcp-data-datastore/src/test/java/org/springframework/cloud/gcp/data/datastore/it/DatastoreIntegrationTests.java b/spring-cloud-gcp-data-datastore/src/test/java/org/springframework/cloud/gcp/data/datastore/it/DatastoreIntegrationTests.java\nindex d9aaf70d..2257a2a8 100644\n--- a/spring-cloud-gcp-data-datastore/src/test/java/org/springframework/cloud/gcp/data/datastore/it/DatastoreIntegrationTests.java\n+++ b/spring-cloud-gcp-data-datastore/src/test/java/org/springframework/cloud/gcp/data/datastore/it/DatastoreIntegrationTests.java\n\n@@ -944,6 +944,7 @@ public class DatastoreIntegrationTests extends AbstractDatastoreIntegrationTests\n \t\tCompanyWithBooleanPrimitive companyWithBooleanPrimitive =\n \t\t\t\t\t\tthis.datastoreTemplate.findById(1L, CompanyWithBooleanPrimitive.class);\n \t\tassertThat(companyWithBooleanPrimitive.name).isEqualTo(company.name);\n+\t\tassertThat(companyWithBooleanPrimitive.active).isFalse();\n \t}\n }\n \n"}}, {"oid": "812c06de9628fdc9e1fad173cb3c7e47678bf2c5", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/812c06de9628fdc9e1fad173cb3c7e47678bf2c5", "message": "PR comments", "committedDate": "2020-08-26T21:24:03Z", "type": "commit"}]}