{"pr_number": 10630, "pr_title": "Revert \"Revert \"Created mBean with OSGi\"\"", "pr_createdAt": "2020-01-29T14:50:18Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/10630", "timeline": [{"oid": "9648d44bab3bee1a6ad7fe401a61f6f997748f11", "url": "https://github.com/OpenLiberty/open-liberty/commit/9648d44bab3bee1a6ad7fe401a61f6f997748f11", "message": "Revert \"Revert \"Created mBean with OSGi\"\"", "committedDate": "2020-01-29T14:49:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjExMDI4Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10630#discussion_r376110287", "bodyText": "Can we add a little description here.", "author": "ginnick", "createdAt": "2020-02-06T22:09:29Z", "path": "dev/com.ibm.ws.security.authentication.builtin/src/com/ibm/ws/security/authentication/internal/cache/RevokeAuthCacheUsersImpl.java", "diffHunk": "@@ -0,0 +1,81 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.security.authentication.internal.cache;\n+\n+import javax.management.DynamicMBean;\n+import javax.management.NotCompliantMBeanException;\n+import javax.management.StandardMBean;\n+\n+import org.osgi.framework.BundleContext;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.ConfigurationPolicy;\n+import org.osgi.service.component.annotations.Deactivate;\n+import org.osgi.service.component.annotations.Reference;\n+import org.osgi.service.component.annotations.ReferencePolicyOption;\n+\n+import com.ibm.ws.security.authentication.cache.AuthCacheService;\n+import com.ibm.ws.security.authentication.cache.RevokeAuthCacheUsers;\n+\n+/**\n+ *", "originalCommit": "9648d44bab3bee1a6ad7fe401a61f6f997748f11", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6da6392899910ca48952b2714053f0803fbbdfdc", "chunk": "diff --git a/dev/com.ibm.ws.security.authentication.builtin/src/com/ibm/ws/security/authentication/internal/cache/RevokeAuthCacheUsersImpl.java b/dev/com.ibm.ws.security.authentication.builtin/src/com/ibm/ws/security/authentication/internal/cache/RevokeAuthCacheUsersImpl.java\nindex 1ad2cee279..6e54326070 100644\n--- a/dev/com.ibm.ws.security.authentication.builtin/src/com/ibm/ws/security/authentication/internal/cache/RevokeAuthCacheUsersImpl.java\n+++ b/dev/com.ibm.ws.security.authentication.builtin/src/com/ibm/ws/security/authentication/internal/cache/RevokeAuthCacheUsersImpl.java\n\n@@ -22,11 +22,14 @@ import org.osgi.service.component.annotations.Deactivate;\n import org.osgi.service.component.annotations.Reference;\n import org.osgi.service.component.annotations.ReferencePolicyOption;\n \n+import com.ibm.websphere.ras.Tr;\n+import com.ibm.websphere.ras.TraceComponent;\n import com.ibm.ws.security.authentication.cache.AuthCacheService;\n import com.ibm.ws.security.authentication.cache.RevokeAuthCacheUsers;\n \n /**\n- *\n+ * The implementation of RevokeAuthCacheUsers MBean which can be used to\n+ * flush the authentication cache of a Liberty Server.\n  */\n @Component(configurationPolicy = ConfigurationPolicy.OPTIONAL,\n            service = { RevokeAuthCacheUsers.class, DynamicMBean.class },\n"}}, {"oid": "6da6392899910ca48952b2714053f0803fbbdfdc", "url": "https://github.com/OpenLiberty/open-liberty/commit/6da6392899910ca48952b2714053f0803fbbdfdc", "message": "Added description for mbean impl. Added beta fencing", "committedDate": "2020-03-03T18:51:24Z", "type": "commit"}, {"oid": "970eb9bcf53751aee92f6439a3c30edcdfeea80d", "url": "https://github.com/OpenLiberty/open-liberty/commit/970eb9bcf53751aee92f6439a3c30edcdfeea80d", "message": "Changed revokedAuthCacheUsers to DeleteAuthCache", "committedDate": "2020-03-05T18:22:17Z", "type": "commit"}, {"oid": "fbe302b266824053bf721c8fd1e3aa12e1ec2fb1", "url": "https://github.com/OpenLiberty/open-liberty/commit/fbe302b266824053bf721c8fd1e3aa12e1ec2fb1", "message": "Added changes to config policy and bnd", "committedDate": "2020-03-06T16:07:13Z", "type": "commit"}, {"oid": "0295d6617b6adc1cecf4c348e8aa7603eb9c5228", "url": "https://github.com/OpenLiberty/open-liberty/commit/0295d6617b6adc1cecf4c348e8aa7603eb9c5228", "message": "Fixed typo in constructor", "committedDate": "2020-03-06T20:50:47Z", "type": "commit"}, {"oid": "a1c3a194cfe8dca906274834000fc17a0bef1137", "url": "https://github.com/OpenLiberty/open-liberty/commit/a1c3a194cfe8dca906274834000fc17a0bef1137", "message": "changed beta fence to use static method", "committedDate": "2020-03-20T20:33:25Z", "type": "commit"}]}