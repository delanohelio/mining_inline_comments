{"pr_number": 11604, "pr_title": "Fix issues in jaxws-2.2 and jaxws-2.3 bundles", "pr_createdAt": "2020-04-02T18:47:04Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/11604", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY4NzE4MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409687180", "bodyText": "What did you change in this file? I suggest commenting:\n// Liberty Change Start\n...\n// Liberty Change End\naround the changes, or just\n// Liberty Change\nfor single line changes. That's what we do in Jaxrs", "author": "WhiteCat22", "createdAt": "2020-04-16T16:24:08Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.core.3.2/src/org/apache/cxf/bus/osgi/CXFExtensionBundleListener.java", "diffHunk": "@@ -0,0 +1,202 @@\n+/**", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "chunk": "diff --git a/dev/com.ibm.ws.org.apache.cxf.cxf.core.3.2/src/org/apache/cxf/bus/osgi/CXFExtensionBundleListener.java b/dev/com.ibm.ws.org.apache.cxf.cxf.core.3.2/src/org/apache/cxf/bus/osgi/CXFExtensionBundleListener.java\nindex 19739bad7f..b6e5994f59 100644\n--- a/dev/com.ibm.ws.org.apache.cxf.cxf.core.3.2/src/org/apache/cxf/bus/osgi/CXFExtensionBundleListener.java\n+++ b/dev/com.ibm.ws.org.apache.cxf.cxf.core.3.2/src/org/apache/cxf/bus/osgi/CXFExtensionBundleListener.java\n\n@@ -62,13 +62,14 @@ public class CXFExtensionBundleListener implements SynchronousBundleListener {\n                 || bundle.getState() == Bundle.ACTIVE\n                 || bundle.getState() == Bundle.STOPPING)\n                 && bundle.getBundleId() != context.getBundle().getBundleId()) {\n+            \t// Start Liberty Change\n                 String bundleName = bundle.toString();\n                 if(!bundleName.startsWith(\"com.ibm.ws.org.apache.cxf\")) {\n                     // don't register non-cxf bundles\n                 }       \n                 else\n                     register(bundle);\n-                    \n+                //    \n             }\n         }\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY4ODMxNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409688315", "bodyText": "// Liberty Change\nand maybe an empty line before the constructor", "author": "WhiteCat22", "createdAt": "2020-04-16T16:25:50Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/SoapMessage.java", "diffHunk": "@@ -34,6 +37,7 @@\n     private static final long serialVersionUID = 6310906412722265578L;\n     private SoapVersion version;\n \n+    private static final Logger LOG = LogUtils.getL7dLogger(SoapMessage.class);", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "chunk": "diff --git a/dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/SoapMessage.java b/dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/SoapMessage.java\nindex f827ff6f3f..c84e2772b9 100644\n--- a/dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/SoapMessage.java\n+++ b/dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/SoapMessage.java\n\n@@ -37,7 +37,10 @@ public class SoapMessage extends MessageImpl {\n     private static final long serialVersionUID = 6310906412722265578L;\n     private SoapVersion version;\n \n+    // Liberty Change\n     private static final Logger LOG = LogUtils.getL7dLogger(SoapMessage.class);\n+    // End Liberty Change\n+    \n     public SoapMessage(Message message) {\n         super(message);\n         setVersion(Soap11.getInstance());\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY4ODkwMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409688902", "bodyText": "// Liberty Change", "author": "WhiteCat22", "createdAt": "2020-04-16T16:26:41Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/interceptor/Soap11FaultOutInterceptor.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/**", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY4OTE0NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409689145", "bodyText": "// Liberty Change", "author": "WhiteCat22", "createdAt": "2020-04-16T16:27:03Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/saaj/SAAJInInterceptor.java", "diffHunk": "@@ -0,0 +1,329 @@\n+/**", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY4OTQ5Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409689493", "bodyText": "// Liberty Change", "author": "WhiteCat22", "createdAt": "2020-04-16T16:27:33Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2/src/org/apache/cxf/binding/soap/saaj/SAAJOutInterceptor.java", "diffHunk": "@@ -0,0 +1,230 @@\n+/**", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5MDczMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409690732", "bodyText": "// Liberty Change", "author": "WhiteCat22", "createdAt": "2020-04-16T16:29:27Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java", "diffHunk": "@@ -36,6 +36,10 @@\n import org.apache.cxf.ws.policy.builder.jaxb.JaxbAssertion;\n import org.apache.neethi.Assertion;\n \n+\n+import com.ibm.websphere.ras.annotation.Trivial;\n+\n+@Trivial ", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "chunk": "diff --git a/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java b/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java\nindex f35022568e..691a64561b 100644\n--- a/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java\n+++ b/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java\n\n@@ -39,6 +39,7 @@ import org.apache.neethi.Assertion;\n \n import com.ibm.websphere.ras.annotation.Trivial;\n \n+// Liberty Change\n @Trivial \n public class PolicyDataEngineImpl implements PolicyDataEngine {\n     private static final Logger LOG = LogUtils.getL7dLogger(PolicyDataEngineImpl.class);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5MDgyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r409690822", "bodyText": "// Liberty Change", "author": "WhiteCat22", "createdAt": "2020-04-16T16:29:35Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java", "diffHunk": "@@ -113,6 +117,7 @@ private PolicyEngine getPolicyEngine() {\n         return policies;\n     }\n \n+    @Trivial", "originalCommit": "c32f57cb0f6de78a6660c0c852171f698a99c3c6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMyMzg5OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11604#discussion_r410323899", "bodyText": "Missed // Liberty Change :P", "author": "WhiteCat22", "createdAt": "2020-04-17T16:09:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5MDgyMg=="}], "type": "inlineReview", "revised_code": {"commit": "38bcb50139f92ff43eb7b5813cb2aa0d98ef33f8", "chunk": "diff --git a/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java b/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java\nindex f35022568e..0b7b4c5f7c 100644\n--- a/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java\n+++ b/dev/com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.2.6.2/src/org/apache/cxf/ws/policy/PolicyDataEngineImpl.java\n\n@@ -117,7 +118,6 @@ public class PolicyDataEngineImpl implements PolicyDataEngine {\n         return policies;\n     }\n \n-    @Trivial\n     public <T> void assertMessage(Message message, T confPol,\n                                   PolicyCalculator<T> policyCalculator) {\n         T messagePol = message.get(policyCalculator.getDataClass());\n"}}, {"oid": "7bdbddde31de956c410f1199cf0fdb8167393d98", "url": "https://github.com/OpenLiberty/open-liberty/commit/7bdbddde31de956c410f1199cf0fdb8167393d98", "message": "Update jaxws.2.3.common to implement missing methods\n\nfix bnd issues\n\nfix breaks\n\nStop tracing STAXUtils\n\nRemove injected trace from PolicyDataEngineImpl\n\nAdd trivial to policy bundle\n\nupdate to remove tracing from bundle\n\nrefactor which class to turn of trace\n\ndisable auto ffdc generation", "committedDate": "2020-04-17T15:52:43Z", "type": "commit"}, {"oid": "9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "url": "https://github.com/OpenLiberty/open-liberty/commit/9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "message": "Add suggested code review changes", "committedDate": "2020-04-17T15:52:54Z", "type": "commit"}, {"oid": "9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "url": "https://github.com/OpenLiberty/open-liberty/commit/9fb2b121560c71cf4582c18cfbef4ccedfe8d0bc", "message": "Add suggested code review changes", "committedDate": "2020-04-17T15:52:54Z", "type": "forcePushed"}, {"oid": "38bcb50139f92ff43eb7b5813cb2aa0d98ef33f8", "url": "https://github.com/OpenLiberty/open-liberty/commit/38bcb50139f92ff43eb7b5813cb2aa0d98ef33f8", "message": "Remove extra @Trivial annotation", "committedDate": "2020-04-17T16:14:42Z", "type": "commit"}]}