{"pr_number": 12614, "pr_title": "Add grpc test microservices", "pr_createdAt": "2020-06-15T18:59:43Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12614", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDU4OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r440390589", "bodyText": "this needs a copyright", "author": "wtlucy", "createdAt": "2020-06-15T19:14:44Z", "path": "dev/com.ibm.ws.grpc_fat/fat/src/com/ibm/ws/fat/grpc/StoreTests.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**", "originalCommit": "7b92f91bfdc9f03eacdc682e8b045129bb06a70c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2MjU5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441762591", "bodyText": "updated", "author": "anupag", "createdAt": "2020-06-17T18:54:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDU4OQ=="}], "type": "inlineReview", "revised_code": {"commit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "chunk": "diff --git a/dev/com.ibm.ws.grpc_fat/fat/src/com/ibm/ws/fat/grpc/StoreTests.java b/dev/com.ibm.ws.grpc_fat/fat/src/com/ibm/ws/fat/grpc/StoreTests.java\ndeleted file mode 100644\nindex 5177440a9a..0000000000\n--- a/dev/com.ibm.ws.grpc_fat/fat/src/com/ibm/ws/fat/grpc/StoreTests.java\n+++ /dev/null\n\n@@ -1,75 +0,0 @@\n-/**\n- *\n- */\n-package com.ibm.ws.fat.grpc;\n-\n-import org.junit.AfterClass;\n-import org.junit.BeforeClass;\n-import org.junit.Rule;\n-import org.junit.rules.TestName;\n-import org.junit.runner.RunWith;\n-\n-import com.ibm.websphere.simplicity.ShrinkHelper;\n-\n-import componenttest.annotation.Server;\n-import componenttest.custom.junit.runner.FATRunner;\n-import componenttest.topology.impl.LibertyServer;\n-import componenttest.topology.utils.FATServletClient;\n-\n-/**\n- *\n- */\n-@RunWith(FATRunner.class)\n-public class StoreTests extends FATServletClient {\n-\n-    protected static final Class<?> c = StoreTests.class;\n-\n-    @Rule\n-    public TestName name = new TestName();\n-\n-    @Server(\"StoreServer\")\n-    public static LibertyServer storeServer;\n-\n-    @Server(\"ProducerServer\")\n-    public static LibertyServer producerServer;\n-\n-    @Server(\"ConsumerServer\")\n-    public static LibertyServer consumerServer;\n-\n-    @BeforeClass\n-    public static void setUp() throws Exception {\n-        ShrinkHelper.defaultDropinApp(storeServer, \"StoreApp.war\",\n-                                      \"com.ibm.testapp.g3store.cache\",\n-                                      \"com.ibm.testapp.g3store.exception\",\n-                                      \"com.ibm.testapp.g3store.interceptor\",\n-                                      \"com.ibm.testapp.g3store.serviceImpl\",\n-                                      \"com.ibm.testapp.g3store.servletStore\",\n-                                      \"com.ibm.testapp.g3store.utilsStore\");\n-\n-        ShrinkHelper.defaultDropinApp(producerServer, \"StoreProducerApp.war\",\n-                                      \"com.ibm.testapp.g3store.grpcProducer.api\",\n-                                      \"com.ibm.testapp.g3store.exception\",\n-                                      \"com.ibm.testapp.g3store.restProducer\",\n-                                      \"com.ibm.testapp.g3store.restProducer.api\",\n-                                      \"com.ibm.testapp.g3store.restProducer.model\",\n-                                      \"com.ibm.testapp.g3store.servletProducer\");\n-\n-        ShrinkHelper.defaultDropinApp(producerServer, \"StoreConsumerApp.war\",\n-                                      \"com.ibm.testapp.g3store.grpcConsumer.api\",\n-                                      \"com.ibm.testapp.g3store.grpcConsumer.security\",\n-                                      \"com.ibm.testapp.g3store.exception\",\n-                                      \"com.ibm.testapp.g3store.restConsumer\",\n-                                      \"com.ibm.testapp.g3store.restConsumer.api\",\n-                                      \"com.ibm.testapp.g3store.restConsumer.model\",\n-                                      \"com.ibm.testapp.g3store.servletConsumer\",\n-                                      \"com.ibm.testapp.g3store.utilsConsumer\");\n-\n-        storeServer.startServer(StoreTests.class.getSimpleName() + \".log\");\n-    }\n-\n-    @AfterClass\n-    public static void tearDown() throws Exception {\n-        storeServer.stopServer();\n-    }\n-\n-}\n"}}, {"oid": "8f8cbb57c2a64d1bb00f59535e154dee52784e39", "url": "https://github.com/OpenLiberty/open-liberty/commit/8f8cbb57c2a64d1bb00f59535e154dee52784e39", "message": "Add grpc test microservices", "committedDate": "2020-06-17T18:50:44Z", "type": "commit"}, {"oid": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "url": "https://github.com/OpenLiberty/open-liberty/commit/ac5e554c5f7f967b5b8438409d9dfe0834549b55", "message": "Add application start tests", "committedDate": "2020-06-17T18:50:46Z", "type": "commit"}, {"oid": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "url": "https://github.com/OpenLiberty/open-liberty/commit/ac5e554c5f7f967b5b8438409d9dfe0834549b55", "message": "Add application start tests", "committedDate": "2020-06-17T18:50:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjQxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802417", "bodyText": "2020", "author": "wtlucy", "createdAt": "2020-06-17T20:05:53Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/src/com/ibm/testapp/g3store/servletStore/HelloServlet.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*******************************************************************************\n+ * (c) Copyright IBM Corporation 2017.", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMzg1OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441803858", "bodyText": "A more basic question: do we actually need to have these HelloServlet classes checked in?", "author": "wtlucy", "createdAt": "2020-06-17T20:08:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjQxNw=="}], "type": "inlineReview", "revised_code": {"commit": "938f19ecabf922ff0d379f77541ed0d202dbe086", "chunk": "diff --git a/dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/src/com/ibm/testapp/g3store/servletStore/HelloServlet.java b/dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/src/com/ibm/testapp/g3store/servletStore/HelloServlet.java\nindex 1e548f9f21..65f05a9f14 100644\n--- a/dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/src/com/ibm/testapp/g3store/servletStore/HelloServlet.java\n+++ b/dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/src/com/ibm/testapp/g3store/servletStore/HelloServlet.java\n\n@@ -1,17 +1,12 @@\n /*******************************************************************************\n- * (c) Copyright IBM Corporation 2017.\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n  *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n  *******************************************************************************/\n package com.ibm.testapp.g3store.servletStore;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjkyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802925", "bodyText": "2020", "author": "wtlucy", "createdAt": "2020-06-17T20:06:57Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/src/com/ibm/testapp/g3store/servletConsumer/HelloServlet.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*******************************************************************************\n+ * (c) Copyright IBM Corporation 2017.", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "938f19ecabf922ff0d379f77541ed0d202dbe086", "chunk": "diff --git a/dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/src/com/ibm/testapp/g3store/servletConsumer/HelloServlet.java b/dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/src/com/ibm/testapp/g3store/servletConsumer/HelloServlet.java\nindex f15bac1298..0497778de7 100644\n--- a/dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/src/com/ibm/testapp/g3store/servletConsumer/HelloServlet.java\n+++ b/dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/src/com/ibm/testapp/g3store/servletConsumer/HelloServlet.java\n\n@@ -1,17 +1,12 @@\n /*******************************************************************************\n- * (c) Copyright IBM Corporation 2017.\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n  *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n  *******************************************************************************/\n package com.ibm.testapp.g3store.servletConsumer;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwNTE3OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441805178", "bodyText": "2020", "author": "wtlucy", "createdAt": "2020-06-17T20:11:19Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/src/com/ibm/testapp/g3store/servletProducer/HelloServlet.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*******************************************************************************\n+ * (c) Copyright IBM Corporation 2017.", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "938f19ecabf922ff0d379f77541ed0d202dbe086", "chunk": "diff --git a/dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/src/com/ibm/testapp/g3store/servletProducer/HelloServlet.java b/dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/src/com/ibm/testapp/g3store/servletProducer/HelloServlet.java\nindex 4bda1342cb..f95593e0f9 100644\n--- a/dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/src/com/ibm/testapp/g3store/servletProducer/HelloServlet.java\n+++ b/dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/src/com/ibm/testapp/g3store/servletProducer/HelloServlet.java\n\n@@ -1,17 +1,12 @@\n /*******************************************************************************\n- * (c) Copyright IBM Corporation 2017.\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n  *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n  *******************************************************************************/\n package com.ibm.testapp.g3store.servletProducer;\n \n"}}, {"oid": "938f19ecabf922ff0d379f77541ed0d202dbe086", "url": "https://github.com/OpenLiberty/open-liberty/commit/938f19ecabf922ff0d379f77541ed0d202dbe086", "message": "Update lic headers", "committedDate": "2020-06-17T20:31:52Z", "type": "commit"}, {"oid": "ccbe84994df01cec3195a3ba0e6fe1f29dc130b4", "url": "https://github.com/OpenLiberty/open-liberty/commit/ccbe84994df01cec3195a3ba0e6fe1f29dc130b4", "message": "update web.xml headers", "committedDate": "2020-06-18T14:17:31Z", "type": "commit"}]}