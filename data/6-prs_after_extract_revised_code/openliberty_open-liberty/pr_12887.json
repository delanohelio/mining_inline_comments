{"pr_number": 12887, "pr_title": "Reduce time spent attempting to connect to each remote docker-host svc", "pr_createdAt": "2020-07-06T15:49:22Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12887", "timeline": [{"oid": "a89ca362c322982715fe641d66e55e3f4b386b2e", "url": "https://github.com/OpenLiberty/open-liberty/commit/a89ca362c322982715fe641d66e55e3f4b386b2e", "message": "Reduce time spent attempting to connect to each remote docker-host service", "committedDate": "2020-07-06T15:48:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMxODAzMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12887#discussion_r450318032", "bodyText": "1 min timeout feels like it might be a tad agressive to overcome infrastructure, happy to change this for now but would recommend revisiting if we get frequent timeouts", "author": "websterc87", "createdAt": "2020-07-06T15:52:41Z", "path": "dev/fattest.simplicity/src/componenttest/topology/utils/ExternalTestServiceDockerClientStrategy.java", "diffHunk": "@@ -123,7 +123,7 @@ public boolean isMatched(ExternalTestService dockerService) {\n \n         public void test() throws InvalidConfigurationException {\n             final String m = \"test\";\n-            final int maxAttempts = FATRunner.FAT_TEST_LOCALRUN ? 1 : 7; // attempt up to 7 times for remote builds\n+            final int maxAttempts = FATRunner.FAT_TEST_LOCALRUN ? 1 : 4; // attempt up to 4 times for remote builds", "originalCommit": "a89ca362c322982715fe641d66e55e3f4b386b2e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMxODI0Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12887#discussion_r450318243", "bodyText": "Constant time looks sane for me", "author": "websterc87", "createdAt": "2020-07-06T15:52:59Z", "path": "dev/fattest.simplicity/src/componenttest/topology/utils/ExternalTestServiceDockerClientStrategy.java", "diffHunk": "@@ -148,7 +148,7 @@ public void test() throws InvalidConfigurationException {\n                     if (firstIssue == null)\n                         firstIssue = t;\n                     if (attempt < maxAttempts) {\n-                        int sleepForSec = Math.min(10 * attempt, 45); // increase wait by 10s each attempt up to 45s max\n+                        int sleepForSec = 15;", "originalCommit": "a89ca362c322982715fe641d66e55e3f4b386b2e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}