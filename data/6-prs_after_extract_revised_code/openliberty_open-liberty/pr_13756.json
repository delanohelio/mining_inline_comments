{"pr_number": 13756, "pr_title": "Update java11_fat for java 15 testing", "pr_createdAt": "2020-09-01T16:55:21Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13756", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMwODI1Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13756#discussion_r481308253", "bodyText": "since the java15-app uses preview features, we will want to cap this test to Java 15 using @MaximumJavaLevel", "author": "aguibert", "createdAt": "2020-09-01T17:20:12Z", "path": "dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.java11_fat;\n+\n+import static org.junit.Assert.assertTrue;\n+\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import componenttest.annotation.MinimumJavaLevel;\n+import componenttest.annotation.Server;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.topology.impl.LibertyServer;\n+import componenttest.topology.utils.FATServletClient;\n+import componenttest.topology.utils.HttpUtils;\n+\n+@RunWith(FATRunner.class)\n+@MinimumJavaLevel(javaLevel = 15)\n+public class Java15Test extends FATServletClient {", "originalCommit": "07f7c4e28ceeb334f5110223503d451b7f89e405", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNjM3Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13756#discussion_r481316373", "bodyText": "Good point.  Done.", "author": "gjwatts", "createdAt": "2020-09-01T17:34:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMwODI1Mw=="}], "type": "inlineReview", "revised_code": {"commit": "1e85ee9c0dfd67891a9204c4d1abc85266169450", "chunk": "diff --git a/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java b/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java\nindex 43477ff0bd..14018d70e8 100644\n--- a/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java\n+++ b/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java\n\n@@ -17,6 +17,7 @@ import org.junit.BeforeClass;\n import org.junit.Test;\n import org.junit.runner.RunWith;\n \n+import componenttest.annotation.MaximumJavaLevel;\n import componenttest.annotation.MinimumJavaLevel;\n import componenttest.annotation.Server;\n import componenttest.custom.junit.runner.FATRunner;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMwODYwOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13756#discussion_r481308608", "bodyText": "is this source URL correct? If it's in your personal github fork, we can just point it to your fork+branch", "author": "aguibert", "createdAt": "2020-09-01T17:20:45Z", "path": "dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.java11_fat;\n+\n+import static org.junit.Assert.assertTrue;\n+\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import componenttest.annotation.MinimumJavaLevel;\n+import componenttest.annotation.Server;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.topology.impl.LibertyServer;\n+import componenttest.topology.utils.FATServletClient;\n+import componenttest.topology.utils.HttpUtils;\n+\n+@RunWith(FATRunner.class)\n+@MinimumJavaLevel(javaLevel = 15)\n+public class Java15Test extends FATServletClient {\n+\n+    private static final String APP_NAME = \"java15-app\";\n+\n+    @Server(\"java11_fat-java15-server\")\n+    public static LibertyServer server;\n+\n+    @BeforeClass\n+    public static void setUp() throws Exception {\n+        // NOTE: This FAT uses a pre-compiled application which is compiled at bytecode level\n+        // of JDK 15, which is higher than what our build systems normally use\n+        // Source for the app can be found here: https://github.com/aguibert/basic-liberty/tree/java15-app/src/main", "originalCommit": "07f7c4e28ceeb334f5110223503d451b7f89e405", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM3NDQ4NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13756#discussion_r481374484", "bodyText": "I have updated the URL to my personal github fork.", "author": "gjwatts", "createdAt": "2020-09-01T19:15:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMwODYwOA=="}], "type": "inlineReview", "revised_code": {"commit": "1e85ee9c0dfd67891a9204c4d1abc85266169450", "chunk": "diff --git a/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java b/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java\nindex 43477ff0bd..14018d70e8 100644\n--- a/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java\n+++ b/dev/com.ibm.ws.java11_fat/fat/src/com/ibm/ws/java11_fat/Java15Test.java\n\n@@ -17,6 +17,7 @@ import org.junit.BeforeClass;\n import org.junit.Test;\n import org.junit.runner.RunWith;\n \n+import componenttest.annotation.MaximumJavaLevel;\n import componenttest.annotation.MinimumJavaLevel;\n import componenttest.annotation.Server;\n import componenttest.custom.junit.runner.FATRunner;\n"}}, {"oid": "1e85ee9c0dfd67891a9204c4d1abc85266169450", "url": "https://github.com/OpenLiberty/open-liberty/commit/1e85ee9c0dfd67891a9204c4d1abc85266169450", "message": "Update java11_fat for java 15 testing", "committedDate": "2020-09-01T19:13:53Z", "type": "commit"}, {"oid": "1e85ee9c0dfd67891a9204c4d1abc85266169450", "url": "https://github.com/OpenLiberty/open-liberty/commit/1e85ee9c0dfd67891a9204c4d1abc85266169450", "message": "Update java11_fat for java 15 testing", "committedDate": "2020-09-01T19:13:53Z", "type": "forcePushed"}]}