{"pr_number": 3249, "pr_title": "Don't require a base block when regenerating states", "pr_createdAt": "2020-11-17T23:33:42Z", "pr_url": "https://github.com/ConsenSys/teku/pull/3249", "timeline": [{"oid": "144752b55a6182055ecb6ac6b8f1e8f1ff8853c4", "url": "https://github.com/ConsenSys/teku/commit/144752b55a6182055ecb6ac6b8f1e8f1ff8853c4", "message": "Cut unused logic", "committedDate": "2020-11-17T23:25:57Z", "type": "commit"}, {"oid": "e51ef350d203d78e06e225f74e00b63d1d9918b5", "url": "https://github.com/ConsenSys/teku/commit/e51ef350d203d78e06e225f74e00b63d1d9918b5", "message": "Don't require a base state when regenerating states", "committedDate": "2020-11-17T23:26:57Z", "type": "commit"}, {"oid": "70c11fa6663fbecedefc369348e67f0895bcc433", "url": "https://github.com/ConsenSys/teku/commit/70c11fa6663fbecedefc369348e67f0895bcc433", "message": "Cut unused variables", "committedDate": "2020-11-17T23:48:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTYwOTIwMw==", "url": "https://github.com/ConsenSys/teku/pull/3249#discussion_r525609203", "bodyText": "nit: Remove unnecessary parenthesis:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                              (stateAndBlock) -> {\n          \n          \n            \n                              stateAndBlock -> {", "author": "ajsutton", "createdAt": "2020-11-18T00:11:29Z", "path": "ethereum/core/src/main/java/tech/pegasys/teku/core/stategenerator/AsyncChainStateGenerator.java", "diffHunk": "@@ -153,9 +169,9 @@ public static AsyncChainStateGenerator create(\n                   ChainStateGenerator.create(chainBlocks, startState, true);\n               final AtomicReference<BeaconState> lastState = new AtomicReference<>(null);\n               chainStateGenerator.generateStates(\n-                  (block, state) -> {\n-                    lastState.set(state);\n-                    handler.handle(block, state);\n+                  (stateAndBlock) -> {", "originalCommit": "70c11fa6663fbecedefc369348e67f0895bcc433", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9e44d31af0329211775ec8d529a428edff5dbc6c", "chunk": "diff --git a/ethereum/core/src/main/java/tech/pegasys/teku/core/stategenerator/AsyncChainStateGenerator.java b/ethereum/core/src/main/java/tech/pegasys/teku/core/stategenerator/AsyncChainStateGenerator.java\nindex 2429b994ea..1a50ae17dd 100644\n--- a/ethereum/core/src/main/java/tech/pegasys/teku/core/stategenerator/AsyncChainStateGenerator.java\n+++ b/ethereum/core/src/main/java/tech/pegasys/teku/core/stategenerator/AsyncChainStateGenerator.java\n\n@@ -169,7 +169,7 @@ class AsyncChainStateGenerator {\n                   ChainStateGenerator.create(chainBlocks, startState, true);\n               final AtomicReference<BeaconState> lastState = new AtomicReference<>(null);\n               chainStateGenerator.generateStates(\n-                  (stateAndBlock) -> {\n+                  stateAndBlock -> {\n                     lastState.set(stateAndBlock.getState());\n                     handler.handle(stateAndBlock);\n                   });\n"}}, {"oid": "9e44d31af0329211775ec8d529a428edff5dbc6c", "url": "https://github.com/ConsenSys/teku/commit/9e44d31af0329211775ec8d529a428edff5dbc6c", "message": "Remove unnecessary parens", "committedDate": "2020-11-18T01:58:58Z", "type": "commit"}, {"oid": "47b3400954b5104c6e8f212c94fba2fc080d0f55", "url": "https://github.com/ConsenSys/teku/commit/47b3400954b5104c6e8f212c94fba2fc080d0f55", "message": "Merge branch 'master' into bug/fix-state-regen-bug", "committedDate": "2020-11-18T18:06:17Z", "type": "commit"}]}