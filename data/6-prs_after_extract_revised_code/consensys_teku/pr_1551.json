{"pr_number": 1551, "pr_title": "added finalized epoch metric", "pr_createdAt": "2020-04-07T23:16:25Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1551", "timeline": [{"oid": "eac55a2fdba4149bdd162d53dd182f3a0e2ebdcc", "url": "https://github.com/ConsenSys/teku/commit/eac55a2fdba4149bdd162d53dd182f3a0e2ebdcc", "message": "added finalized epoch metric\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-04-07T22:50:43Z", "type": "commit"}, {"oid": "369dc1482c0438e558cfd6fdc20f9e40841c87a9", "url": "https://github.com/ConsenSys/teku/commit/369dc1482c0438e558cfd6fdc20f9e40841c87a9", "message": "Merge branch 'master' into finalized-epoch-metric", "committedDate": "2020-04-07T23:22:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE4MjgwNg==", "url": "https://github.com/ConsenSys/teku/pull/1551#discussion_r405182806", "bodyText": "Strictly speaking we only need to update this on each epoch as finalization only happens at epoch boundaries.", "author": "ajsutton", "createdAt": "2020-04-08T00:02:11Z", "path": "services/beaconchain/src/main/java/tech/pegasys/artemis/services/beaconchain/BeaconChainController.java", "diffHunk": "@@ -465,6 +472,7 @@ private void processSlot() {\n       slotEventsChannelPublisher.onSlot(nodeSlot);\n       this.currentSlotGauge.set(nodeSlot.longValue());\n       this.currentEpochGauge.set(compute_epoch_at_slot(nodeSlot).longValue());\n+      this.finalizedEpochGauge.set(recentChainData.getFinalizedEpoch().longValue());", "originalCommit": "369dc1482c0438e558cfd6fdc20f9e40841c87a9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}