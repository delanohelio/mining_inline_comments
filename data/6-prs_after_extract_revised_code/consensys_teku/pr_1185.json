{"pr_number": 1185, "pr_title": "#1167: add OpenAPI for network/peer_id handler.", "pr_createdAt": "2020-02-17T23:09:03Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1185", "timeline": [{"oid": "48be893182dc2416b9c84b0b8056f9c1b5240245", "url": "https://github.com/ConsenSys/teku/commit/48be893182dc2416b9c84b0b8056f9c1b5240245", "message": "#1167: add OpenAPI for network/peer_id handler.", "committedDate": "2020-02-17T23:07:20Z", "type": "commit"}, {"oid": "35010daf6268e9326cc624d2e057413be8c768db", "url": "https://github.com/ConsenSys/teku/commit/35010daf6268e9326cc624d2e057413be8c768db", "message": "#1167: Build fix.", "committedDate": "2020-02-17T23:14:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDM5NjIyNA==", "url": "https://github.com/ConsenSys/teku/pull/1185#discussion_r380396224", "bodyText": "nit: PeerId vs PeerID below", "author": "macfarla", "createdAt": "2020-02-17T23:23:57Z", "path": "data/beaconrestapi/src/main/java/tech/pegasys/artemis/beaconrestapi/networkhandlers/PeerIdHandler.java", "diffHunk": "@@ -13,24 +13,36 @@\n \n package tech.pegasys.artemis.beaconrestapi.networkhandlers;\n \n-import tech.pegasys.artemis.beaconrestapi.handlerinterfaces.BeaconRestApiHandler;\n+import io.javalin.http.Context;\n+import io.javalin.http.Handler;\n+import io.javalin.plugin.openapi.annotations.HttpMethod;\n+import io.javalin.plugin.openapi.annotations.OpenApi;\n+import io.javalin.plugin.openapi.annotations.OpenApiContent;\n+import io.javalin.plugin.openapi.annotations.OpenApiResponse;\n+import org.jetbrains.annotations.NotNull;\n import tech.pegasys.artemis.networking.p2p.network.P2PNetwork;\n \n-public class PeerIdHandler implements BeaconRestApiHandler {\n+public class PeerIdHandler implements Handler {\n+\n+  public static final String ROUTE = \"/network/peer_id\";\n \n   private final P2PNetwork<?> network;\n \n   public PeerIdHandler(P2PNetwork<?> network) {\n     this.network = network;\n   }\n \n+  @OpenApi(\n+      path = ROUTE,\n+      method = HttpMethod.GET,\n+      summary = \"Get this beacon node's PeerId.\",", "originalCommit": "48be893182dc2416b9c84b0b8056f9c1b5240245", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2951cae8150b730943b1d219dcce7820cc25f909", "chunk": "diff --git a/data/beaconrestapi/src/main/java/tech/pegasys/artemis/beaconrestapi/networkhandlers/PeerIdHandler.java b/data/beaconrestapi/src/main/java/tech/pegasys/artemis/beaconrestapi/networkhandlers/PeerIdHandler.java\nindex 4820860fe..e7a82419b 100644\n--- a/data/beaconrestapi/src/main/java/tech/pegasys/artemis/beaconrestapi/networkhandlers/PeerIdHandler.java\n+++ b/data/beaconrestapi/src/main/java/tech/pegasys/artemis/beaconrestapi/networkhandlers/PeerIdHandler.java\n\n@@ -37,7 +37,7 @@ public class PeerIdHandler implements Handler {\n       method = HttpMethod.GET,\n       summary = \"Get this beacon node's PeerId.\",\n       tags = {\"Network\"},\n-      description = \"Requests that the beacon node return its PeerID as a base58 encoded String.\",\n+      description = \"Requests that the beacon node return its PeerId as a base58 encoded String.\",\n       responses = {\n         @OpenApiResponse(status = \"200\", content = @OpenApiContent(from = String.class))\n       })\n"}}, {"oid": "2951cae8150b730943b1d219dcce7820cc25f909", "url": "https://github.com/ConsenSys/teku/commit/2951cae8150b730943b1d219dcce7820cc25f909", "message": "#1167: String fix.", "committedDate": "2020-02-17T23:31:48Z", "type": "commit"}]}