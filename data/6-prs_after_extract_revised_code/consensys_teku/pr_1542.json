{"pr_number": 1542, "pr_title": "[#1534] validator generate subcommand --number-of-validators", "pr_createdAt": "2020-04-06T23:40:35Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1542", "timeline": [{"oid": "c33e8978828c1d2506dac68da8ccfffeacf9752a", "url": "https://github.com/ConsenSys/teku/commit/c33e8978828c1d2506dac68da8ccfffeacf9752a", "message": "[#1534] validator generate subcommand move --Xnumber-of-validators to --number-of-validators\n\nMake dev option as standard option as number of validators is a standard use case.\n\nSigned-off-by: Usman Saleem <usman@usmans.info>", "committedDate": "2020-04-06T23:34:41Z", "type": "commit"}, {"oid": "ad764a977d2b1247061c5297f8664b6b43955fb9", "url": "https://github.com/ConsenSys/teku/commit/ad764a977d2b1247061c5297f8664b6b43955fb9", "message": "Merge remote-tracking branch 'upstream/master' into number_of_validators\n\nSigned-off-by: Usman Saleem <usman@usmans.info>", "committedDate": "2020-04-06T23:45:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ1NDAyOA==", "url": "https://github.com/ConsenSys/teku/pull/1542#discussion_r404454028", "bodyText": "Seems slightly weird that this is such a specific converter and not just a PositiveIntegerConverter.", "author": "ajsutton", "createdAt": "2020-04-06T23:45:35Z", "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/DepositGenerateCommand.java", "diffHunk": "@@ -274,4 +276,20 @@ public String getPasswordEnvironmentVariable() {\n       return withdrawalPasswordEnv;\n     }\n   }\n+\n+  private static class NumberOfValidatorConverter implements ITypeConverter<Integer> {", "originalCommit": "c33e8978828c1d2506dac68da8ccfffeacf9752a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ1NDUzMQ==", "url": "https://github.com/ConsenSys/teku/pull/1542#discussion_r404454531", "bodyText": ":) PositiveIntegerConverter has a nice ring to it, let me change to that.", "author": "usmansaleem", "createdAt": "2020-04-06T23:47:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ1NDAyOA=="}], "type": "inlineReview", "revised_code": {"commit": "bd9c92f98d8d2b822545953f9cb2f8ea2072bfa9", "chunk": "diff --git a/artemis/src/main/java/tech/pegasys/artemis/cli/deposit/DepositGenerateCommand.java b/artemis/src/main/java/tech/pegasys/artemis/cli/deposit/DepositGenerateCommand.java\nindex 14e2247614..b3ed6bb207 100644\n--- a/artemis/src/main/java/tech/pegasys/artemis/cli/deposit/DepositGenerateCommand.java\n+++ b/artemis/src/main/java/tech/pegasys/artemis/cli/deposit/DepositGenerateCommand.java\n\n@@ -277,18 +277,18 @@ public class DepositGenerateCommand implements Runnable {\n     }\n   }\n \n-  private static class NumberOfValidatorConverter implements ITypeConverter<Integer> {\n+  private static class PositiveIntegerTypeConverter implements ITypeConverter<Integer> {\n     @Override\n     public Integer convert(final String value) throws TypeConversionException {\n       try {\n-        final int validatorCount = Integer.parseInt(value);\n-        if (validatorCount <= 0) {\n-          throw new TypeConversionException(\"Invalid value: must be a positive number\");\n+        final int parsedValue = Integer.parseInt(value);\n+        if (parsedValue <= 0) {\n+          throw new TypeConversionException(\"Must be a positive number\");\n         }\n-        return validatorCount;\n+        return parsedValue;\n       } catch (final NumberFormatException e) {\n         throw new TypeConversionException(\n-            \"Invalid format: must be a numeric value but was \" + value);\n+            \"Invalid format: must be a numeric value but was '\" + value + \"'\");\n       }\n     }\n   }\n"}}, {"oid": "bd9c92f98d8d2b822545953f9cb2f8ea2072bfa9", "url": "https://github.com/ConsenSys/teku/commit/bd9c92f98d8d2b822545953f9cb2f8ea2072bfa9", "message": "refactoring type converter class name\n\nSigned-off-by: Usman Saleem <usman@usmans.info>", "committedDate": "2020-04-06T23:53:54Z", "type": "commit"}]}