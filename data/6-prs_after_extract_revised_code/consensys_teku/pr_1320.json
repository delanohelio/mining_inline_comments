{"pr_number": 1320, "pr_title": "/beacon/validators endpoint - refactor to use provider", "pr_createdAt": "2020-03-09T00:42:08Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1320", "timeline": [{"oid": "ffc20a8b785ce5aca0580a6c48c1e2cf9921cfcd", "url": "https://github.com/ConsenSys/teku/commit/ffc20a8b785ce5aca0580a6c48c1e2cf9921cfcd", "message": "validators use provider\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T00:39:22Z", "type": "commit"}, {"oid": "4b8fbb87b51b2eb94a5e690d46cea8b49bafe023", "url": "https://github.com/ConsenSys/teku/commit/4b8fbb87b51b2eb94a5e690d46cea8b49bafe023", "message": "validators use provider\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T00:44:36Z", "type": "commit"}, {"oid": "05afddc9974713f7eb763de48a05ef530e53a749", "url": "https://github.com/ConsenSys/teku/commit/05afddc9974713f7eb763de48a05ef530e53a749", "message": "formatting\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T00:45:50Z", "type": "commit"}, {"oid": "c192cfa27db3b8a5d1ecf793a1d92e6e7fab4995", "url": "https://github.com/ConsenSys/teku/commit/c192cfa27db3b8a5d1ecf793a1d92e6e7fab4995", "message": "fixed imports\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T00:46:19Z", "type": "commit"}, {"oid": "e58d5b9cc18e8d319ea02eb831f1b1dfe91f7fbd", "url": "https://github.com/ConsenSys/teku/commit/e58d5b9cc18e8d319ea02eb831f1b1dfe91f7fbd", "message": "added data structures to schema\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T01:19:42Z", "type": "commit"}, {"oid": "fc52e53eb3a2c1b1fd2bba703adfc55686616e63", "url": "https://github.com/ConsenSys/teku/commit/fc52e53eb3a2c1b1fd2bba703adfc55686616e63", "message": "public final fields\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T01:41:41Z", "type": "commit"}, {"oid": "42ae9b745a0aeafba5b422b17d5960279d15e1fd", "url": "https://github.com/ConsenSys/teku/commit/42ae9b745a0aeafba5b422b17d5960279d15e1fd", "message": "merge\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T01:43:40Z", "type": "commit"}, {"oid": "4a828429c2a2df5c3357528bcab203c76adebf4a", "url": "https://github.com/ConsenSys/teku/commit/4a828429c2a2df5c3357528bcab203c76adebf4a", "message": "tests use mock of interface\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T01:46:40Z", "type": "commit"}, {"oid": "7a2b90249c09b0e30652ea8613741e719ee6bd5b", "url": "https://github.com/ConsenSys/teku/commit/7a2b90249c09b0e30652ea8613741e719ee6bd5b", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into validators-data-provider", "committedDate": "2020-03-09T01:48:06Z", "type": "commit"}, {"oid": "4685bbe1fce3ca9b2b5480fbed6070b5944cf2c9", "url": "https://github.com/ConsenSys/teku/commit/4685bbe1fce3ca9b2b5480fbed6070b5944cf2c9", "message": "fixed tests\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T02:04:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQzNTIwNQ==", "url": "https://github.com/ConsenSys/teku/pull/1320#discussion_r389435205", "bodyText": "borderline nit: this sort of functional test i think is testing the provider, so i think it should probably live there, so that if we write a new interface we don't have to duplicate this test...", "author": "rolfyone", "createdAt": "2020-03-09T02:04:54Z", "path": "data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/beaconhandlers/BeaconValidatorsHandlerTest.java", "diffHunk": "@@ -292,17 +289,16 @@ public void shouldReturnBadRequestWhenBadEpochParameterSpecified() throws Except\n \n   @Test\n   public void shouldReturnEmptyListWhenFutureEpochSpecified() throws Exception {", "originalCommit": "7a2b90249c09b0e30652ea8613741e719ee6bd5b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b8344d47a874bfc44b4ed1d55e6c54126747590c", "chunk": "diff --git a/data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/beaconhandlers/BeaconValidatorsHandlerTest.java b/data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/beaconhandlers/BeaconValidatorsHandlerTest.java\nindex 366446aaf..7deec3a4a 100644\n--- a/data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/beaconhandlers/BeaconValidatorsHandlerTest.java\n+++ b/data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/beaconhandlers/BeaconValidatorsHandlerTest.java\n\n@@ -288,7 +288,7 @@ public class BeaconValidatorsHandlerTest {\n   }\n \n   @Test\n-  public void shouldReturnEmptyListWhenFutureEpochSpecified() throws Exception {\n+  public void shouldReturnEmptyListWhenQueryByActiveAndFarFutureEpoch() throws Exception {\n     final BeaconValidatorsHandler handler = new BeaconValidatorsHandler(provider, jsonProvider);\n     when(context.queryParamMap())\n         .thenReturn(\n"}}, {"oid": "7bea0ec10b74b77855f4af0da63ce6fd02ba21d8", "url": "https://github.com/ConsenSys/teku/commit/7bea0ec10b74b77855f4af0da63ce6fd02ba21d8", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into validators-data-provider", "committedDate": "2020-03-09T02:07:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQzNjg1Ng==", "url": "https://github.com/ConsenSys/teku/pull/1320#discussion_r389436856", "bodyText": "note: i'll have to fix this when i do beaconState - cant return this internal structure... for now there's nothing that can be done about it.", "author": "rolfyone", "createdAt": "2020-03-09T02:14:47Z", "path": "data/provider/src/main/java/tech/pegasys/artemis/api/ChainDataProvider.java", "diffHunk": "@@ -23,6 +23,7 @@\n import tech.pegasys.artemis.api.schema.BeaconHead;\n import tech.pegasys.artemis.api.schema.Committee;\n import tech.pegasys.artemis.api.schema.SignedBeaconBlock;\n+import tech.pegasys.artemis.datastructures.state.BeaconState;", "originalCommit": "7bea0ec10b74b77855f4af0da63ce6fd02ba21d8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "b8344d47a874bfc44b4ed1d55e6c54126747590c", "url": "https://github.com/ConsenSys/teku/commit/b8344d47a874bfc44b4ed1d55e6c54126747590c", "message": "rename test\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-03-09T02:21:55Z", "type": "commit"}]}