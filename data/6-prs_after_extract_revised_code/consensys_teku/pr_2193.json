{"pr_number": 2193, "pr_title": "Add Altona network definition", "pr_createdAt": "2020-06-22T19:08:19Z", "pr_url": "https://github.com/ConsenSys/teku/pull/2193", "timeline": [{"oid": "bccc5afa1bd08f19425fe65556a1c47cf89a5580", "url": "https://github.com/ConsenSys/teku/commit/bccc5afa1bd08f19425fe65556a1c47cf89a5580", "message": "Add altona network definition", "committedDate": "2020-06-22T19:04:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc2OTAxMw==", "url": "https://github.com/ConsenSys/teku/pull/2193#discussion_r443769013", "bodyText": "Not sure if we want to have the Eth1 endpoint point to prylabs.net, but I kept it for now since I couldn't figure out a better solution.", "author": "cemozerr", "createdAt": "2020-06-22T19:09:30Z", "path": "util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java", "diffHunk": "@@ -45,6 +45,15 @@\n                   .eth1Endpoint(\"https://goerli.prylabs.net\")\n                   .startupTimeoutSeconds(120)\n                   .build())\n+          .put(\n+              \"altona\",\n+              builder()\n+                  .constants(\"altona\")\n+                  .snappyCompressionEnabled(true)\n+                  .eth1DepositContractAddress(\"0x16e82D77882A663454Ef92806b7DeCa1D394810f\")\n+                  .eth1Endpoint(\"https://goerli.prylabs.net\")", "originalCommit": "bccc5afa1bd08f19425fe65556a1c47cf89a5580", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyMTU2NQ==", "url": "https://github.com/ConsenSys/teku/pull/2193#discussion_r443821565", "bodyText": "Just remove it.  We don't normally provide a default ETH1 endpoint - I just included the pylabs one for Onyx since that's what it was put up for.", "author": "ajsutton", "createdAt": "2020-06-22T20:56:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc2OTAxMw=="}], "type": "inlineReview", "revised_code": {"commit": "ad5c57df94facb23dc1df36ccec044370e964f88", "chunk": "diff --git a/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java b/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java\nindex e071b42c0..79337fe21 100644\n--- a/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java\n+++ b/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java\n\n@@ -51,7 +51,6 @@ public class NetworkDefinition {\n                   .constants(\"altona\")\n                   .snappyCompressionEnabled(true)\n                   .eth1DepositContractAddress(\"0x16e82D77882A663454Ef92806b7DeCa1D394810f\")\n-                  .eth1Endpoint(\"https://goerli.prylabs.net\")\n                   .startupTimeoutSeconds(120)\n                   .build())\n           .build();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyMTYxNA==", "url": "https://github.com/ConsenSys/teku/pull/2193#discussion_r443821614", "bodyText": "Have you actually tried running this?  I suspect you'll need to list altona as a valid constants option in Constants.createInputStream", "author": "ajsutton", "createdAt": "2020-06-22T20:56:55Z", "path": "util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java", "diffHunk": "@@ -45,6 +45,15 @@\n                   .eth1Endpoint(\"https://goerli.prylabs.net\")\n                   .startupTimeoutSeconds(120)\n                   .build())\n+          .put(\n+              \"altona\",\n+              builder()\n+                  .constants(\"altona\")", "originalCommit": "bccc5afa1bd08f19425fe65556a1c47cf89a5580", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyODM3OQ==", "url": "https://github.com/ConsenSys/teku/pull/2193#discussion_r443828379", "bodyText": "Did that and ran it just now.", "author": "cemozerr", "createdAt": "2020-06-22T21:10:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyMTYxNA=="}], "type": "inlineReview", "revised_code": {"commit": "ad5c57df94facb23dc1df36ccec044370e964f88", "chunk": "diff --git a/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java b/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java\nindex e071b42c0..79337fe21 100644\n--- a/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java\n+++ b/util/src/main/java/tech/pegasys/teku/util/config/NetworkDefinition.java\n\n@@ -51,7 +51,6 @@ public class NetworkDefinition {\n                   .constants(\"altona\")\n                   .snappyCompressionEnabled(true)\n                   .eth1DepositContractAddress(\"0x16e82D77882A663454Ef92806b7DeCa1D394810f\")\n-                  .eth1Endpoint(\"https://goerli.prylabs.net\")\n                   .startupTimeoutSeconds(120)\n                   .build())\n           .build();\n"}}, {"oid": "14400394e1836087ff5f6bd80cda74f396f2dc4f", "url": "https://github.com/ConsenSys/teku/commit/14400394e1836087ff5f6bd80cda74f396f2dc4f", "message": "Add altona to createInputStream options", "committedDate": "2020-06-22T21:01:30Z", "type": "commit"}, {"oid": "ad5c57df94facb23dc1df36ccec044370e964f88", "url": "https://github.com/ConsenSys/teku/commit/ad5c57df94facb23dc1df36ccec044370e964f88", "message": "Remove default eth1 endpoint", "committedDate": "2020-06-22T21:11:16Z", "type": "commit"}]}