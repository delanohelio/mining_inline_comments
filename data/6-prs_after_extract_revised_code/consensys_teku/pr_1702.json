{"pr_number": 1702, "pr_title": "Add Schlesi Network Definition", "pr_createdAt": "2020-05-01T03:21:32Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1702", "timeline": [{"oid": "aa4f8e1577e888921d46e07a9804071560738741", "url": "https://github.com/ConsenSys/teku/commit/aa4f8e1577e888921d46e07a9804071560738741", "message": "Skip checking that the genesis block matches.  The fork digest check is enough of a check.", "committedDate": "2020-05-01T00:56:05Z", "type": "commit"}, {"oid": "852514a31fdccfd10826f68380f5c9453650f18c", "url": "https://github.com/ConsenSys/teku/commit/852514a31fdccfd10826f68380f5c9453650f18c", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into skip-checking-genesis", "committedDate": "2020-05-01T00:56:21Z", "type": "commit"}, {"oid": "cd12a4737e85ba04ef295ca54a00ac21d8e0c546", "url": "https://github.com/ConsenSys/teku/commit/cd12a4737e85ba04ef295ca54a00ac21d8e0c546", "message": "Add network definition for schlesi.", "committedDate": "2020-05-01T03:19:42Z", "type": "commit"}, {"oid": "429a96a800736afdc045485574db6af543f7db2b", "url": "https://github.com/ConsenSys/teku/commit/429a96a800736afdc045485574db6af543f7db2b", "message": "Revert \"Skip checking that the genesis block matches.  The fork digest check is enough of a check.\"\n\nThis reverts commit aa4f8e1577e888921d46e07a9804071560738741.", "committedDate": "2020-05-01T03:20:51Z", "type": "commit"}, {"oid": "5d149da4968e9d9012867938eee6b1ca64836af0", "url": "https://github.com/ConsenSys/teku/commit/5d149da4968e9d9012867938eee6b1ca64836af0", "message": "Merge branch 'master' into schlesi", "committedDate": "2020-05-01T05:24:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUyMjcwNQ==", "url": "https://github.com/ConsenSys/teku/pull/1702#discussion_r418522705", "bodyText": "Does this honor the custom genesis time, min genesis delay, and min validator count?\nOr will this be overwritten by genesis state anyways?", "author": "q9f", "createdAt": "2020-05-01T12:33:25Z", "path": "util/src/main/java/tech/pegasys/artemis/util/config/NetworkDefinition.java", "diffHunk": "@@ -42,8 +42,20 @@\n                       \"https://github.com/eth2-clients/eth2-testnets/raw/master/prysm/Topaz(v0.11.1)/genesis.ssz\")\n                   .discoveryBootnodes(\n                       \"enr:-Ku4QAGwOT9StqmwI5LHaIymIO4ooFKfNkEjWa0f1P8OsElgBh2Ijb-GrD_-b9W4kcPFcwmHQEy5RncqXNqdpVo1heoBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpAAAAAAAAAAAP__________gmlkgnY0gmlwhBLf22SJc2VjcDI1NmsxoQJxCnE6v_x2ekgY_uoE1rtwzvGy40mq9eD66XfHPBWgIIN1ZHCCD6A\")\n-                  .eth1DepositContractAddress(\n-                      Eth1Address.fromHexString(\"0x5cA1e00004366Ac85f492887AAab12d0e6418876\"))\n+                  .eth1DepositContractAddress(\"0x5cA1e00004366Ac85f492887AAab12d0e6418876\")\n+                  .build())\n+          .put(\n+              \"schlesi\",\n+              builder()\n+                  .constants(\"mainnet\")", "originalCommit": "5d149da4968e9d9012867938eee6b1ca64836af0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU3MjU4OA==", "url": "https://github.com/ConsenSys/teku/pull/1702#discussion_r418572588", "bodyText": "Since we're running from a supplied genesis state, those constants shouldn't have any effect (genesis time, min genesis delay, and min validator count).", "author": "mbaxter", "createdAt": "2020-05-01T14:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUyMjcwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc1NjAzNA==", "url": "https://github.com/ConsenSys/teku/pull/1702#discussion_r418756034", "bodyText": "We probably should switch it to using https://github.com/goerli/schlesi/raw/master/teku/chain.yaml anyway.\nIt worries me a bit that the genesis and constants definitions for Schlesi are different files for each client - they should be exactly the same if we want the network to work.", "author": "ajsutton", "createdAt": "2020-05-01T21:59:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUyMjcwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk0NDUzNQ==", "url": "https://github.com/ConsenSys/teku/pull/1702#discussion_r418944535", "bodyText": "Right, they differ a bit because not all clients honor all constants yet.", "author": "q9f", "createdAt": "2020-05-02T11:03:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUyMjcwNQ=="}], "type": "inlineReview", "revised_code": null}]}