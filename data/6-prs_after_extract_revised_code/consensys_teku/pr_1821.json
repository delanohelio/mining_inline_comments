{"pr_number": 1821, "pr_title": "1800 - /beacon/block now returns block root", "pr_createdAt": "2020-05-20T00:45:16Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1821", "timeline": [{"oid": "4623ce0cee30e54ac4c32138e33f3391f55fa826", "url": "https://github.com/ConsenSys/teku/commit/4623ce0cee30e54ac4c32138e33f3391f55fa826", "message": "1800 - /beacon/block now returns block root\n\n - wrapped the response for GetBlock and included the beacon block header in the response object.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>", "committedDate": "2020-05-20T00:43:13Z", "type": "commit"}, {"oid": "14089fd9ace9e178266abca4da9753d9fc51626e", "url": "https://github.com/ConsenSys/teku/commit/14089fd9ace9e178266abca4da9753d9fc51626e", "message": "Merge remote-tracking branch 'upstream/master' into 1800-block-root", "committedDate": "2020-05-20T00:51:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY4MTMyMA==", "url": "https://github.com/ConsenSys/teku/pull/1821#discussion_r427681320", "bodyText": "Any chance we can avoid recreating the original block just to compute the root?", "author": "ajsutton", "createdAt": "2020-05-20T00:51:42Z", "path": "data/beaconrestapi/src/main/java/tech/pegasys/teku/beaconrestapi/schema/GetBlockResponse.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Copyright 2020 ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package tech.pegasys.teku.beaconrestapi.schema;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import tech.pegasys.teku.api.schema.SignedBeaconBlock;\n+\n+public class GetBlockResponse {\n+\n+  @JsonProperty(\"beacon_block\")\n+  public final SignedBeaconBlock signedBeaconBlock;\n+\n+  public final String root;\n+\n+  public GetBlockResponse(final SignedBeaconBlock signedBeaconBlock) {\n+    this.signedBeaconBlock = signedBeaconBlock;\n+    this.root =", "originalCommit": "4623ce0cee30e54ac4c32138e33f3391f55fa826", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY4MTU3NA==", "url": "https://github.com/ConsenSys/teku/pull/1821#discussion_r427681574", "bodyText": "yep i just need to work the response through the provider layer which i wasn't super keen on... i'll take a closer look.", "author": "rolfyone", "createdAt": "2020-05-20T00:52:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY4MTMyMA=="}], "type": "inlineReview", "revised_code": {"commit": "6ec32ceda3001ed7b352ea0dbe3afdf827a662e0", "chunk": "diff --git a/data/beaconrestapi/src/main/java/tech/pegasys/teku/beaconrestapi/schema/GetBlockResponse.java b/data/provider/src/main/java/tech/pegasys/teku/api/response/GetBlockResponse.java\nsimilarity index 61%\nrename from data/beaconrestapi/src/main/java/tech/pegasys/teku/beaconrestapi/schema/GetBlockResponse.java\nrename to data/provider/src/main/java/tech/pegasys/teku/api/response/GetBlockResponse.java\nindex f6f4b4bbe9..148af75586 100644\n--- a/data/beaconrestapi/src/main/java/tech/pegasys/teku/beaconrestapi/schema/GetBlockResponse.java\n+++ b/data/provider/src/main/java/tech/pegasys/teku/api/response/GetBlockResponse.java\n\n@@ -11,8 +11,9 @@\n  * specific language governing permissions and limitations under the License.\n  */\n \n-package tech.pegasys.teku.beaconrestapi.schema;\n+package tech.pegasys.teku.api.response;\n \n+import com.fasterxml.jackson.annotation.JsonCreator;\n import com.fasterxml.jackson.annotation.JsonProperty;\n import tech.pegasys.teku.api.schema.SignedBeaconBlock;\n \n"}}, {"oid": "6ec32ceda3001ed7b352ea0dbe3afdf827a662e0", "url": "https://github.com/ConsenSys/teku/commit/6ec32ceda3001ed7b352ea0dbe3afdf827a662e0", "message": "changes from review feedback.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>", "committedDate": "2020-05-20T01:57:03Z", "type": "commit"}, {"oid": "9f535cffb788cba58eede85a8ef8f2373b28442e", "url": "https://github.com/ConsenSys/teku/commit/9f535cffb788cba58eede85a8ef8f2373b28442e", "message": "spotless\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>", "committedDate": "2020-05-20T02:56:20Z", "type": "commit"}, {"oid": "e13548e35a1202de6d5626c6b1f66e27806c197a", "url": "https://github.com/ConsenSys/teku/commit/e13548e35a1202de6d5626c6b1f66e27806c197a", "message": "Merge remote-tracking branch 'upstream/master' into 1800-block-root", "committedDate": "2020-05-20T02:56:40Z", "type": "commit"}, {"oid": "c1ecc330dee1a37b4d12dcc2bc178b835eddc4d4", "url": "https://github.com/ConsenSys/teku/commit/c1ecc330dee1a37b4d12dcc2bc178b835eddc4d4", "message": "Merge branch 'master' into 1800-block-root", "committedDate": "2020-05-20T08:00:40Z", "type": "commit"}]}