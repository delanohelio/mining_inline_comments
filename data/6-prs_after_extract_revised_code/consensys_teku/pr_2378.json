{"pr_number": 2378, "pr_title": "Ensure BLSPublicKey.hashCode works for invalid keys", "pr_createdAt": "2020-07-17T21:37:25Z", "pr_url": "https://github.com/ConsenSys/teku/pull/2378", "timeline": [{"oid": "ab1a7a41280da640feba46ee53d621ef9d26f47c", "url": "https://github.com/ConsenSys/teku/commit/ab1a7a41280da640feba46ee53d621ef9d26f47c", "message": "Ensure BLSPublicKey.hashCode works for invalid keys.", "committedDate": "2020-07-17T21:36:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY4NzI2Ng==", "url": "https://github.com/ConsenSys/teku/pull/2378#discussion_r456687266", "bodyText": "Should probably add another test comparing the invalid key to itself", "author": "mbaxter", "createdAt": "2020-07-17T21:44:42Z", "path": "bls/src/test/java/tech/pegasys/teku/bls/BLSPublicKeyTest.java", "diffHunk": "@@ -78,6 +78,19 @@ void succeedsWhenComparingInvalidAndValidPublicKeyFails() {\n     assertNotEquals(validPublicKey, invalidPublicKey);\n   }\n \n+  @Test\n+  void succeedsWhenInvalidPublicReturnsHashCode() {", "originalCommit": "ab1a7a41280da640feba46ee53d621ef9d26f47c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5MTQ4MA==", "url": "https://github.com/ConsenSys/teku/pull/2378#discussion_r456691480", "bodyText": "Good idea.", "author": "ajsutton", "createdAt": "2020-07-17T21:58:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY4NzI2Ng=="}], "type": "inlineReview", "revised_code": {"commit": "8e9724a80ece60f2cd44356413afa30b1efe742b", "chunk": "diff --git a/bls/src/test/java/tech/pegasys/teku/bls/BLSPublicKeyTest.java b/bls/src/test/java/tech/pegasys/teku/bls/BLSPublicKeyTest.java\nindex cb0228b4a7..fc01c2dd5e 100644\n--- a/bls/src/test/java/tech/pegasys/teku/bls/BLSPublicKeyTest.java\n+++ b/bls/src/test/java/tech/pegasys/teku/bls/BLSPublicKeyTest.java\n\n@@ -89,6 +89,7 @@ class BLSPublicKeyTest {\n             Bytes.fromHexString(\n                 \"0xb51aa9cdb40ed3e7e5a9b3323550fe323ecd5c7f5cb3d8b47af55a061811bc7da0397986cad0d565c0bdbbe99af24355\"));\n     assertNotEquals(invalidPublicKey.hashCode(), validPublicKey.hashCode());\n+    assertEquals(invalidPublicKey.hashCode(), invalidPublicKey.hashCode());\n   }\n \n   @Test\n"}}, {"oid": "8e9724a80ece60f2cd44356413afa30b1efe742b", "url": "https://github.com/ConsenSys/teku/commit/8e9724a80ece60f2cd44356413afa30b1efe742b", "message": "Check invalid keys hash code is equal to itself.", "committedDate": "2020-07-17T21:58:29Z", "type": "commit"}]}