{"pr_number": 602, "pr_title": "Harden the ddlogrecord API", "pr_createdAt": "2020-04-03T01:20:23Z", "pr_url": "https://github.com/vmware/differential-datalog/pull/602", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzUyNjE1Mg==", "url": "https://github.com/vmware/differential-datalog/pull/602#discussion_r403526152", "bodyText": "Shall we also add\npublic static DDlogRecord some(DDlogRecord x)", "author": "ryzhyk", "createdAt": "2020-04-04T21:39:58Z", "path": "java/ddlogapi/DDlogRecord.java", "diffHunk": "@@ -396,6 +388,14 @@ public DDlogRecord getStructField(int index) {\n         return fromSharedHandle(DDlogAPI.ddlog_get_struct_field(this.handle, index));\n     }\n \n+    /**", "originalCommit": "6f3837c490ccffef197734ee61430e75c6344aab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzUyNzc0NA==", "url": "https://github.com/vmware/differential-datalog/pull/602#discussion_r403527744", "bodyText": "Lalith asked for it", "author": "mbudiu-vmw", "createdAt": "2020-04-04T21:43:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzUyNjE1Mg=="}], "type": "inlineReview", "revised_code": {"commit": "c4dd477747378a6eae2f0720b579fa7cf06f6288", "chunk": "diff --git a/java/ddlogapi/DDlogRecord.java b/java/ddlogapi/DDlogRecord.java\nindex 6fe9e578..f940876c 100644\n--- a/java/ddlogapi/DDlogRecord.java\n+++ b/java/ddlogapi/DDlogRecord.java\n\n@@ -396,6 +396,14 @@ public class DDlogRecord {\n         return DDlogRecord.makeStruct(\"std.None\");\n     }\n \n+    /**\n+     * A DDlogRecord representing the value Some{V}, can be used as a value of the\n+     * standard library type Option.\n+     */\n+    public static DDlogRecord some(DDlogRecord value) throws DDlogException {\n+        return DDlogRecord.makeStruct(\"std.Some\", value);\n+    }\n+\n     @Override\n     public String toString() {\n         this.checkHandle();\n"}}, {"oid": "e18ba5347822cb92d067ef04fad1d3e34b9b1c83", "url": "https://github.com/vmware/differential-datalog/commit/e18ba5347822cb92d067ef04fad1d3e34b9b1c83", "message": "Harden the ddlogrecord API", "committedDate": "2020-04-06T21:53:42Z", "type": "commit"}, {"oid": "c4dd477747378a6eae2f0720b579fa7cf06f6288", "url": "https://github.com/vmware/differential-datalog/commit/c4dd477747378a6eae2f0720b579fa7cf06f6288", "message": "Added some() method to DDlogRecord", "committedDate": "2020-04-06T21:55:00Z", "type": "commit"}, {"oid": "c4dd477747378a6eae2f0720b579fa7cf06f6288", "url": "https://github.com/vmware/differential-datalog/commit/c4dd477747378a6eae2f0720b579fa7cf06f6288", "message": "Added some() method to DDlogRecord", "committedDate": "2020-04-06T21:55:00Z", "type": "forcePushed"}]}