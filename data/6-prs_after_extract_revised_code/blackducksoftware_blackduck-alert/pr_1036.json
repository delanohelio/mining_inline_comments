{"pr_number": 1036, "pr_title": "forbidden permission fix", "pr_createdAt": "2020-06-26T18:19:28Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036", "timeline": [{"oid": "01cfde321a411e0af094fcae633a85688f5fab16", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/01cfde321a411e0af094fcae633a85688f5fab16", "message": "refactor: Create utilities to process http errors.", "committedDate": "2020-06-23T17:55:01Z", "type": "commit"}, {"oid": "7ef7992344741a853ea6aa5c9e69aeb9e1d42237", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/7ef7992344741a853ea6aa5c9e69aeb9e1d42237", "message": "refactor: Encapsulate forbidden error messages.", "committedDate": "2020-06-23T19:48:08Z", "type": "commit"}, {"oid": "41f8ee58205c8bae6665b2d7813c33229697ef35", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/41f8ee58205c8bae6665b2d7813c33229697ef35", "message": "refactor: Use utility methods to create error objects.", "committedDate": "2020-06-24T13:46:18Z", "type": "commit"}, {"oid": "ea46b755b5256cf33a662b2826837711cbb454ca", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/ea46b755b5256cf33a662b2826837711cbb454ca", "message": "refactor: Update certificates to the new error objects.", "committedDate": "2020-06-24T18:15:07Z", "type": "commit"}, {"oid": "4e4dae4907d0dd03d1c6eeeac70fd1c1aa9c314e", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/4e4dae4907d0dd03d1c6eeeac70fd1c1aa9c314e", "message": "refactor: Use new error object structure for roles.", "committedDate": "2020-06-24T18:33:23Z", "type": "commit"}, {"oid": "a7e31a826b5cd7d1247d613d3a73da99f8992dfd", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a7e31a826b5cd7d1247d613d3a73da99f8992dfd", "message": "refactor: Change users to the new error structure.", "committedDate": "2020-06-24T18:44:25Z", "type": "commit"}, {"oid": "788eb63846a55b54297d5d3ed5e6ece599d72569", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/788eb63846a55b54297d5d3ed5e6ece599d72569", "message": "refactor: Remove '.call' on handler functions and make response more consistent.", "committedDate": "2020-06-24T21:00:21Z", "type": "commit"}, {"oid": "0abaf4bd79189623c302eee177527965d5227e03", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0abaf4bd79189623c302eee177527965d5227e03", "message": "refactor: Use the error object for distributions and fix updates to data in tables.", "committedDate": "2020-06-25T19:57:12Z", "type": "commit"}, {"oid": "1a70c0346b7665f57b5e6a795812b4a5057ec907", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/1a70c0346b7665f57b5e6a795812b4a5057ec907", "message": "fix: Fix an issue where the wrong validation state is set.", "committedDate": "2020-06-25T19:57:50Z", "type": "commit"}, {"oid": "d8cbdb6fb100e4d11c2c16ecc1d27746e1291a9d", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d8cbdb6fb100e4d11c2c16ecc1d27746e1291a9d", "message": "fix: Remove transactional to allow roles to be deleted.", "committedDate": "2020-06-25T19:58:20Z", "type": "commit"}, {"oid": "64aebdcd4e26df66bafc6c983299a797aa812033", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/64aebdcd4e26df66bafc6c983299a797aa812033", "message": "refactor: Get the various UI components to display error messages consistently.", "committedDate": "2020-06-26T17:53:35Z", "type": "commit"}, {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/041500d2adedab5ac79f14b89ebd0a43032ffd17", "message": "refactor: Update distribution to show error when reading like other UI components.", "committedDate": "2020-06-26T18:09:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM0MTYyNw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#discussion_r446341627", "bodyText": "Deletes wouldn't work because the delete uses this transaction.  The accessor deletes the entity but then with the loadPermissionIntoCache calls a get from the accessor and PSQL complains because we are not in a read only transaction.  Use the transactions in the accessor and remove transactional here.", "author": "psantos1113", "createdAt": "2020-06-26T18:22:27Z", "path": "src/main/java/com/synopsys/integration/alert/web/user/RoleActions.java", "diffHunk": "@@ -53,7 +51,6 @@\n import com.synopsys.integration.alert.web.model.RolePermissionModel;\n \n @Component\n-@Transactional", "originalCommit": "041500d2adedab5ac79f14b89ebd0a43032ffd17", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "a0f63e33d59360694b570a7266b5449d4be24a57", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a0f63e33d59360694b570a7266b5449d4be24a57", "message": "fix: Fix the import path.", "committedDate": "2020-06-26T18:33:11Z", "type": "commit"}]}