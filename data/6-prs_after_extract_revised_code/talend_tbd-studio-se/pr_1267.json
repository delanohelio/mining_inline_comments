{"pr_number": 1267, "pr_title": "bugfix(TUP-26031):Cannot connect successfully for mongDB", "pr_createdAt": "2020-02-07T08:39:26Z", "pr_url": "https://github.com/Talend/tbd-studio-se/pull/1267", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI4OTM0Mg==", "url": "https://github.com/Talend/tbd-studio-se/pull/1267#discussion_r376289342", "bodyText": "Please use IMongoDBAttributes.PASSWORD instead.", "author": "bhe-talendbj", "createdAt": "2020-02-07T09:22:44Z", "path": "main/plugins/org.talend.repository.nosql/src/org/talend/repository/nosql/service/NOSQLService.java", "diffHunk": "@@ -60,4 +62,18 @@ public String getMongoDBReplicaSets(Connection connection) {\n         return null;\n     }\n \n+    @Override\n+    public boolean updateNoSqlConnection(Connection connection) throws Exception{\n+        if (isNoSQLConnection(connection)) {\n+            NoSQLConnection noSqlConn = (NoSQLConnection)connection;\n+            String pass = noSqlConn.getAttributes().get(ICassandraAttributies.PASSWORD);\n+            if(pass != null) {\n+                pass = PasswordMigrationUtil.encryptPasswordIfNeeded(pass);\n+                noSqlConn.getAttributes().put(ICassandraAttributies.PASSWORD, noSqlConn.getValue(pass, true));", "originalCommit": "3096dd1243af1004c5dd92364f0a7dc33d14b884", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fd7a499cc31697c0deffebac03bb75252aa1e29b", "chunk": "diff --git a/main/plugins/org.talend.repository.nosql/src/org/talend/repository/nosql/service/NOSQLService.java b/main/plugins/org.talend.repository.nosql/src/org/talend/repository/nosql/service/NOSQLService.java\nindex 4ceb3346d..70ecdb6f3 100644\n--- a/main/plugins/org.talend.repository.nosql/src/org/talend/repository/nosql/service/NOSQLService.java\n+++ b/main/plugins/org.talend.repository.nosql/src/org/talend/repository/nosql/service/NOSQLService.java\n\n@@ -66,10 +65,10 @@ public class NOSQLService implements INOSQLService {\n     public boolean updateNoSqlConnection(Connection connection) throws Exception{\n         if (isNoSQLConnection(connection)) {\n             NoSQLConnection noSqlConn = (NoSQLConnection)connection;\n-            String pass = noSqlConn.getAttributes().get(ICassandraAttributies.PASSWORD);\n+            String pass = noSqlConn.getAttributes().get(IMongoDBAttributes.PASSWORD);\n             if(pass != null) {\n                 pass = PasswordMigrationUtil.encryptPasswordIfNeeded(pass);\n-                noSqlConn.getAttributes().put(ICassandraAttributies.PASSWORD, noSqlConn.getValue(pass, true));\n+                noSqlConn.getAttributes().put(IMongoDBAttributes.PASSWORD, noSqlConn.getValue(pass, true));\n                 return true; \n             }\n         }\n"}}, {"oid": "9b55aa99ad24141d9b1706b5a5ea45c982ae397d", "url": "https://github.com/Talend/tbd-studio-se/commit/9b55aa99ad24141d9b1706b5a5ea45c982ae397d", "message": "bugfix(TUP-26031):Cannot connect successfully for mongDB", "committedDate": "2020-02-07T09:54:32Z", "type": "commit"}, {"oid": "fd7a499cc31697c0deffebac03bb75252aa1e29b", "url": "https://github.com/Talend/tbd-studio-se/commit/fd7a499cc31697c0deffebac03bb75252aa1e29b", "message": "bugfix(TUP-26031):Cannot connect successfully for mongDB", "committedDate": "2020-02-07T09:54:33Z", "type": "commit"}, {"oid": "fd7a499cc31697c0deffebac03bb75252aa1e29b", "url": "https://github.com/Talend/tbd-studio-se/commit/fd7a499cc31697c0deffebac03bb75252aa1e29b", "message": "bugfix(TUP-26031):Cannot connect successfully for mongDB", "committedDate": "2020-02-07T09:54:33Z", "type": "forcePushed"}]}