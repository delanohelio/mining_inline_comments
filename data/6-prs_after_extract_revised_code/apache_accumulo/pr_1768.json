{"pr_number": 1768, "pr_title": "Implement IteratorEnvironment.getPluginEnv()", "pr_createdAt": "2020-11-04T06:02:48Z", "pr_url": "https://github.com/apache/accumulo/pull/1768", "timeline": [{"oid": "e3cfc572ca63d4a15821de41bd412cf0f4e3b010", "url": "https://github.com/apache/accumulo/commit/e3cfc572ca63d4a15821de41bd412cf0f4e3b010", "message": "Implement IteratorEnvironment.getPluginEnv()\n\n* This fixes #1766\n* Return an actual implementation for\n  `IteratorEnvironment.getPluginEnv()`\n* Clean up `IteratorEnvIT.testEnv()` method to:\n  * Verify implementation of `getPluginEnv()` (same object as\n    `getServiceEnv()`, but with the newer API that doesn't leak internal\n    types\n  * Remove duplicate check of the same table configuration via\n    `getServiceEnv()` and `getPluginEnv()`\n  * Remove duplicate (identical) check from the deprecated `getConfig()`\n    method to get the table's configuration as `AccumuloConfiguration`\n  * Ensure system configuration is covered in the test via\n    `getPluginEnv().getConfiguration()`\n  * Ensure getting the property by the full property name via `get()`\n    works as well as by the `getTableCustom()` convenience method", "committedDate": "2020-11-04T06:00:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM4MjM0Ng==", "url": "https://github.com/apache/accumulo/pull/1768#discussion_r517382346", "bodyText": "This fix is very elegant, I like it.", "author": "milleruntime", "createdAt": "2020-11-04T14:27:12Z", "path": "core/src/main/java/org/apache/accumulo/core/iterators/IteratorEnvironment.java", "diffHunk": "@@ -177,7 +177,7 @@ default ServiceEnvironment getServiceEnv() {\n    * @since 2.1.0\n    */\n   default PluginEnvironment getPluginEnv() {\n-    throw new UnsupportedOperationException();\n+    return getServiceEnv();", "originalCommit": "e3cfc572ca63d4a15821de41bd412cf0f4e3b010", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}