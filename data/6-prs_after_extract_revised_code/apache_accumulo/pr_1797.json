{"pr_number": 1797, "pr_title": "Add table option to shell delete command.", "pr_createdAt": "2020-11-19T21:49:26Z", "pr_url": "https://github.com/apache/accumulo/pull/1797", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzIzMzQ1MA==", "url": "https://github.com/apache/accumulo/pull/1797#discussion_r527233450", "bodyText": "What is 'notable' here?", "author": "ctubbsii", "createdAt": "2020-11-19T22:05:32Z", "path": "test/src/main/java/org/apache/accumulo/test/ShellIT.java", "diffHunk": "@@ -236,6 +236,17 @@ public void insertDeleteScanTest() throws IOException {\n     exec(\"delete \\\\x90 \\\\xa0 \\\\xb0\", true);\n     exec(\"scan\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\", false);\n     exec(\"deletetable test -f\", true, \"Table: [test] has been deleted\");\n+    // Add tests to verify use of --table parameter\n+    exec(\"createtable test2\", true);\n+    exec(\"notable\", true);", "originalCommit": "101871a62c4647e580fa4fd2bcbb193450335a96", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2Nzc0Mw==", "url": "https://github.com/apache/accumulo/pull/1797#discussion_r527667743", "bodyText": "It verifies that one can call the 'notable' command without error.", "author": "jmark99", "createdAt": "2020-11-20T12:45:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzIzMzQ1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzcwOTk0MA==", "url": "https://github.com/apache/accumulo/pull/1797#discussion_r527709940", "bodyText": "Oh, sorry. I guess I didn't realize we had such a command. I'm guessing you use that to change to a context without a table before proceeding with the test with the table arguments.", "author": "ctubbsii", "createdAt": "2020-11-20T14:02:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzIzMzQ1MA=="}], "type": "inlineReview", "revised_code": {"commit": "1886bb7eb74f8ea15cac5065e5e8dbaa1013af0b", "chunk": "diff --git a/test/src/main/java/org/apache/accumulo/test/ShellIT.java b/test/src/main/java/org/apache/accumulo/test/ShellIT.java\nindex 332398d004..ae5a0ecfae 100644\n--- a/test/src/main/java/org/apache/accumulo/test/ShellIT.java\n+++ b/test/src/main/java/org/apache/accumulo/test/ShellIT.java\n\n@@ -220,21 +220,21 @@ public class ShellIT extends SharedMiniClusterBase {\n     exec(\"delete r f q\", false, \"java.lang.IllegalStateException: Not in a table context\");\n     exec(\"createtable test\", true);\n     exec(\"insert r f q v\", true);\n-    exec(\"scan\", true, \"r f:q []    v\");\n+    exec(\"scan\", true, \"r f:q []\\tv\");\n     exec(\"delete r f q\", true);\n-    exec(\"scan\", true, \"r f:q []    v\", false);\n+    exec(\"scan\", true, \"r f:q []\\tv\", false);\n     exec(\"insert \\\\x90 \\\\xa0 \\\\xb0 \\\\xc0\\\\xd0\\\\xe0\\\\xf0\", true);\n-    exec(\"scan\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\\\\xD0\");\n-    exec(\"scan -f 2\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\\\\xD0\");\n-    exec(\"scan -f 2\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\\\\xD0\\\\xE0\", false);\n-    exec(\"scan -b \\\\x90 -e \\\\x90 -c \\\\xA0\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\");\n-    exec(\"scan -b \\\\x90 -e \\\\x90 -c \\\\xA0:\\\\xB0\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\");\n-    exec(\"scan -b \\\\x90 -be\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\", false);\n-    exec(\"scan -e \\\\x90 -ee\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\", false);\n-    exec(\"scan -b \\\\x90\\\\x00\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\", false);\n-    exec(\"scan -e \\\\x8f\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\", false);\n+    exec(\"scan\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\\\\xD0\");\n+    exec(\"scan -f 2\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\\\\xD0\");\n+    exec(\"scan -f 2\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\\\\xD0\\\\xE0\", false);\n+    exec(\"scan -b \\\\x90 -e \\\\x90 -c \\\\xA0\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\");\n+    exec(\"scan -b \\\\x90 -e \\\\x90 -c \\\\xA0:\\\\xB0\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\");\n+    exec(\"scan -b \\\\x90 -be\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\", false);\n+    exec(\"scan -e \\\\x90 -ee\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\", false);\n+    exec(\"scan -b \\\\x90\\\\x00\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\", false);\n+    exec(\"scan -e \\\\x8f\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\", false);\n     exec(\"delete \\\\x90 \\\\xa0 \\\\xb0\", true);\n-    exec(\"scan\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []    \\\\xC0\", false);\n+    exec(\"scan\", true, \"\\\\x90 \\\\xA0:\\\\xB0 []\\t\\\\xC0\", false);\n     exec(\"deletetable test -f\", true, \"Table: [test] has been deleted\");\n     // Add tests to verify use of --table parameter\n     exec(\"createtable test2\", true);\n"}}, {"oid": "1886bb7eb74f8ea15cac5065e5e8dbaa1013af0b", "url": "https://github.com/apache/accumulo/commit/1886bb7eb74f8ea15cac5065e5e8dbaa1013af0b", "message": "Check for consistency of table-related shell commands.\n\nThis ticket examined the table-related shell commands to examine if they\nprovided a means to indicate the table name. The 'insert' command was\nupdated recently to add the ability to supply a target table. This\nticket provides the same capability for the 'delete' command.\n\nIn all, there were 39 shell commands that relate to table operations. At\nthis point they should all allow a target table name to be supplied.", "committedDate": "2020-11-22T19:59:51Z", "type": "commit"}, {"oid": "4ee5682fa87df9dbbd20259f481322f822f33e74", "url": "https://github.com/apache/accumulo/commit/4ee5682fa87df9dbbd20259f481322f822f33e74", "message": "Add table otion to shell delete command.\n\nAdded some missing IT test cases.", "committedDate": "2020-11-22T19:59:51Z", "type": "commit"}, {"oid": "b9395d253f0b83ac2f2d6deca5429fb2f1b564bd", "url": "https://github.com/apache/accumulo/commit/b9395d253f0b83ac2f2d6deca5429fb2f1b564bd", "message": "Fix tests", "committedDate": "2020-11-22T20:00:09Z", "type": "commit"}, {"oid": "b9395d253f0b83ac2f2d6deca5429fb2f1b564bd", "url": "https://github.com/apache/accumulo/commit/b9395d253f0b83ac2f2d6deca5429fb2f1b564bd", "message": "Fix tests", "committedDate": "2020-11-22T20:00:09Z", "type": "forcePushed"}]}