{"pr_number": 1679, "pr_title": "[Exam] Programming exercise management", "pr_createdAt": "2020-06-18T20:58:27Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1679", "timeline": [{"oid": "593baa91d28647bbb37cbdf0faee9035601d492d", "url": "https://github.com/ls1intum/Artemis/commit/593baa91d28647bbb37cbdf0faee9035601d492d", "message": "Create client routes for exam file-upload exercise", "committedDate": "2020-06-15T20:43:50Z", "type": "commit"}, {"oid": "0ddb5e733a952baac72a3d053323546ff484bf37", "url": "https://github.com/ls1intum/Artemis/commit/0ddb5e733a952baac72a3d053323546ff484bf37", "message": "Extend FileUploadExerciseResolver by exerciseGroup support", "committedDate": "2020-06-15T21:04:47Z", "type": "commit"}, {"oid": "8f3fd9e437f26c2c1475f06351d7d587f03ed463", "url": "https://github.com/ls1intum/Artemis/commit/8f3fd9e437f26c2c1475f06351d7d587f03ed463", "message": "Adapt FileUploadUpdateComponent", "committedDate": "2020-06-15T21:17:54Z", "type": "commit"}, {"oid": "5f7588703ca655c47641b67b09bdc8b86994b18c", "url": "https://github.com/ls1intum/Artemis/commit/5f7588703ca655c47641b67b09bdc8b86994b18c", "message": "Extended FileUploadUpdateComponent client tests for exam mode", "committedDate": "2020-06-15T21:29:02Z", "type": "commit"}, {"oid": "92754f1d5ee448d1b170e0ddd7712fd5f91fc998", "url": "https://github.com/ls1intum/Artemis/commit/92754f1d5ee448d1b170e0ddd7712fd5f91fc998", "message": "Adjust creation of file upload exercise for exam mode", "committedDate": "2020-06-15T21:36:26Z", "type": "commit"}, {"oid": "a24aff99d81d24c669a15e4f4bb646d1ae7fe22d", "url": "https://github.com/ls1intum/Artemis/commit/a24aff99d81d24c669a15e4f4bb646d1ae7fe22d", "message": "Merge branch 'develop' into exam/management/file-upload-exercise", "committedDate": "2020-06-15T21:37:22Z", "type": "commit"}, {"oid": "3bd10e0e3ce9a7217732651b6e382b2b0fab2572", "url": "https://github.com/ls1intum/Artemis/commit/3bd10e0e3ce9a7217732651b6e382b2b0fab2572", "message": "Integration tests for file upload exercise creation", "committedDate": "2020-06-15T22:21:55Z", "type": "commit"}, {"oid": "6a2c1b7e1a13938e586cae593d41b630450a0f4c", "url": "https://github.com/ls1intum/Artemis/commit/6a2c1b7e1a13938e586cae593d41b630450a0f4c", "message": "File upload exercise update functionality for exams with integration tests", "committedDate": "2020-06-16T00:46:28Z", "type": "commit"}, {"oid": "18c490cfd07d312271700306a1553a63e1de6fe7", "url": "https://github.com/ls1intum/Artemis/commit/18c490cfd07d312271700306a1553a63e1de6fe7", "message": "Get for exam file upload exercises and integration tests", "committedDate": "2020-06-16T01:55:31Z", "type": "commit"}, {"oid": "0da46a44111c03f0d5541a93e8919383df84d968", "url": "https://github.com/ls1intum/Artemis/commit/0da46a44111c03f0d5541a93e8919383df84d968", "message": "Delete for file upload exercises", "committedDate": "2020-06-16T02:19:45Z", "type": "commit"}, {"oid": "3164699121b6ea2e02aa7026df1d0934c6e74930", "url": "https://github.com/ls1intum/Artemis/commit/3164699121b6ea2e02aa7026df1d0934c6e74930", "message": "Fix comment", "committedDate": "2020-06-16T02:28:15Z", "type": "commit"}, {"oid": "1a31d1145f5bd103cf4c3c43a638829a6be263cb", "url": "https://github.com/ls1intum/Artemis/commit/1a31d1145f5bd103cf4c3c43a638829a6be263cb", "message": "Merge develop. Resolve conflict in exam-management-module", "committedDate": "2020-06-16T21:37:15Z", "type": "commit"}, {"oid": "417771796811e18dbc72fcff68494a8048b2c819", "url": "https://github.com/ls1intum/Artemis/commit/417771796811e18dbc72fcff68494a8048b2c819", "message": "Add button for file upload exercise creation to exerciseGroup component", "committedDate": "2020-06-16T21:56:13Z", "type": "commit"}, {"oid": "d169e7b81f220bf3ea85492daf9623e936ad7801", "url": "https://github.com/ls1intum/Artemis/commit/d169e7b81f220bf3ea85492daf9623e936ad7801", "message": "Refactored TextExerciseRowButtonsComponent. It can now be used to display the buttons for all exerciseTypes.", "committedDate": "2020-06-17T00:18:06Z", "type": "commit"}, {"oid": "3441b6ae6a05373bcf6bdc49f62959fa3e92655e", "url": "https://github.com/ls1intum/Artemis/commit/3441b6ae6a05373bcf6bdc49f62959fa3e92655e", "message": "Merge branch 'develop' into exam/management/file-upload-exercise", "committedDate": "2020-06-17T00:21:01Z", "type": "commit"}, {"oid": "403ea914fb7a5176df0fb8ac202a135c5aea278f", "url": "https://github.com/ls1intum/Artemis/commit/403ea914fb7a5176df0fb8ac202a135c5aea278f", "message": "On GET exam text-exercise the server now sends exerciseGroup, exam and course to the client. Add exam mode to TextExerciseDetailComponent.", "committedDate": "2020-06-17T17:19:52Z", "type": "commit"}, {"oid": "ff934bf746f66c2283520d45a8f08723f1773d3b", "url": "https://github.com/ls1intum/Artemis/commit/ff934bf746f66c2283520d45a8f08723f1773d3b", "message": "Update client test of TextExerciseDetailComponent", "committedDate": "2020-06-17T17:21:21Z", "type": "commit"}, {"oid": "ab5d25d78bf0fa5af95760dbb7bdba1fa11cbac2", "url": "https://github.com/ls1intum/Artemis/commit/ab5d25d78bf0fa5af95760dbb7bdba1fa11cbac2", "message": "Merge branch 'develop' into exam/management/file-upload-exercise", "committedDate": "2020-06-17T17:22:32Z", "type": "commit"}, {"oid": "09fca413c090fce18a20f604183040d912daded5", "url": "https://github.com/ls1intum/Artemis/commit/09fca413c090fce18a20f604183040d912daded5", "message": "Fix edit button on file upload exercise detail page.", "committedDate": "2020-06-17T18:14:36Z", "type": "commit"}, {"oid": "3b3f97f759b01d6276e6fd84a12f40a2d43abb6d", "url": "https://github.com/ls1intum/Artemis/commit/3b3f97f759b01d6276e6fd84a12f40a2d43abb6d", "message": "Refactor retrieval of course over exerciseGroup", "committedDate": "2020-06-17T18:29:12Z", "type": "commit"}, {"oid": "59160c6f62f72b14ee19afbf24314d83e6d311e3", "url": "https://github.com/ls1intum/Artemis/commit/59160c6f62f72b14ee19afbf24314d83e6d311e3", "message": "Remove button check as it doesn't work", "committedDate": "2020-06-17T18:31:55Z", "type": "commit"}, {"oid": "6a763cbab68a21fb97ed28e54d9276381366a25a", "url": "https://github.com/ls1intum/Artemis/commit/6a763cbab68a21fb97ed28e54d9276381366a25a", "message": "Set exam mode flag to true", "committedDate": "2020-06-17T18:36:55Z", "type": "commit"}, {"oid": "a053cc2f7ee95e082418690c0bf6d04f94a75c0c", "url": "https://github.com/ls1intum/Artemis/commit/a053cc2f7ee95e082418690c0bf6d04f94a75c0c", "message": "Fix missing return", "committedDate": "2020-06-17T18:46:13Z", "type": "commit"}, {"oid": "267f2dcaed2deb378d7e8aed363c1da9fdf40c2d", "url": "https://github.com/ls1intum/Artemis/commit/267f2dcaed2deb378d7e8aed363c1da9fdf40c2d", "message": "Create and update client routes for exam programming exercises", "committedDate": "2020-06-18T11:29:42Z", "type": "commit"}, {"oid": "68083abcef2cf65c83e0d4cedb3c339c6c7fbc3f", "url": "https://github.com/ls1intum/Artemis/commit/68083abcef2cf65c83e0d4cedb3c339c6c7fbc3f", "message": "Added exam mode for ProgrammingExerciseUpdateComponent and client tests", "committedDate": "2020-06-18T13:01:09Z", "type": "commit"}, {"oid": "a7c04c4df8dd04325c69d8b75b9cf5f3cda22119", "url": "https://github.com/ls1intum/Artemis/commit/a7c04c4df8dd04325c69d8b75b9cf5f3cda22119", "message": "Enable programming exercise creation for exam mode", "committedDate": "2020-06-18T16:42:55Z", "type": "commit"}, {"oid": "1abfdab1e425024449c4d6d6cfbc8760c7463a9c", "url": "https://github.com/ls1intum/Artemis/commit/1abfdab1e425024449c4d6d6cfbc8760c7463a9c", "message": "Refactor access to course over exerciseGroup or class member as we need this often", "committedDate": "2020-06-18T17:51:21Z", "type": "commit"}, {"oid": "bdd2f2310eb39b2462d05612887409cd5aa21797", "url": "https://github.com/ls1intum/Artemis/commit/bdd2f2310eb39b2462d05612887409cd5aa21797", "message": "Integration test for exam programming exercise creation", "committedDate": "2020-06-18T19:25:56Z", "type": "commit"}, {"oid": "379e9fed7873845a0cc90b0ee8f51d3d60a78510", "url": "https://github.com/ls1intum/Artemis/commit/379e9fed7873845a0cc90b0ee8f51d3d60a78510", "message": "Add button for exam programming exercise creation", "committedDate": "2020-06-18T19:34:06Z", "type": "commit"}, {"oid": "7ee46eacfe8af76b7cce6a0f9ead4fa32a9c212b", "url": "https://github.com/ls1intum/Artemis/commit/7ee46eacfe8af76b7cce6a0f9ead4fa32a9c212b", "message": "Add button for exam programming exercise creation", "committedDate": "2020-06-18T19:47:24Z", "type": "commit"}, {"oid": "9b11209b1fdcb627973fecd82025d170a1aae7d5", "url": "https://github.com/ls1intum/Artemis/commit/9b11209b1fdcb627973fecd82025d170a1aae7d5", "message": "Deletion for exam programming exercises", "committedDate": "2020-06-18T19:55:14Z", "type": "commit"}, {"oid": "47a1ec3dd72eccfcb9cbd370d6ecd613f2e486cb", "url": "https://github.com/ls1intum/Artemis/commit/47a1ec3dd72eccfcb9cbd370d6ecd613f2e486cb", "message": "Merge develop and resolve conflicts", "committedDate": "2020-06-18T20:11:38Z", "type": "commit"}, {"oid": "98ecff1dd1197d800ae75a502e28754628b2eb57", "url": "https://github.com/ls1intum/Artemis/commit/98ecff1dd1197d800ae75a502e28754628b2eb57", "message": "Adapt GET programming exercise for exam mode", "committedDate": "2020-06-18T20:34:43Z", "type": "commit"}, {"oid": "652fd8e77ef3f74b7a10d2bd302ffbeab8fbe9fe", "url": "https://github.com/ls1intum/Artemis/commit/652fd8e77ef3f74b7a10d2bd302ffbeab8fbe9fe", "message": "Fix delete button for exam mode programming ex", "committedDate": "2020-06-18T20:54:17Z", "type": "commit"}, {"oid": "f8584c201b18203fc530dcba364f754b6d4ff340", "url": "https://github.com/ls1intum/Artemis/commit/f8584c201b18203fc530dcba364f754b6d4ff340", "message": "Deactivate GET test-cases, hints, latest-result-with-feedbacks for exam programming exercises until we know what to do with these.", "committedDate": "2020-06-18T21:24:05Z", "type": "commit"}, {"oid": "228891d6adc4cebe0e723f051e7f34b6d72c43a2", "url": "https://github.com/ls1intum/Artemis/commit/228891d6adc4cebe0e723f051e7f34b6d72c43a2", "message": "Fix update of problem statement", "committedDate": "2020-06-18T21:31:33Z", "type": "commit"}, {"oid": "5782d561a537aeee4a8b05077c3709be3ebc8a40", "url": "https://github.com/ls1intum/Artemis/commit/5782d561a537aeee4a8b05077c3709be3ebc8a40", "message": "Revert \"Fix update of problem statement\"\n\nThis reverts commit 228891d6. Forms a cyclic dependency", "committedDate": "2020-06-18T21:34:38Z", "type": "commit"}, {"oid": "c472eba35bc655a8b9fe8fea2307ac9674f113ca", "url": "https://github.com/ls1intum/Artemis/commit/c472eba35bc655a8b9fe8fea2307ac9674f113ca", "message": "Merge branch 'develop' into exam/management/programming-exercises", "committedDate": "2020-06-18T21:35:50Z", "type": "commit"}, {"oid": "fd4ff59170045de67bb3e9ff6b115b589d67b197", "url": "https://github.com/ls1intum/Artemis/commit/fd4ff59170045de67bb3e9ff6b115b589d67b197", "message": "Deactivate update of problem statement for exam ex. Needs a refactoring otherwise it forms a cyclic dependency.", "committedDate": "2020-06-18T21:40:00Z", "type": "commit"}, {"oid": "38b93016f762fc67f5d149c94298809c15abe4b2", "url": "https://github.com/ls1intum/Artemis/commit/38b93016f762fc67f5d149c94298809c15abe4b2", "message": "Add JSONIgnore, otherwise Jackson complains", "committedDate": "2020-06-18T21:53:48Z", "type": "commit"}, {"oid": "a2f007f47b403f07765d871000aec88c6b7a3463", "url": "https://github.com/ls1intum/Artemis/commit/a2f007f47b403f07765d871000aec88c6b7a3463", "message": "Fix doc", "committedDate": "2020-06-18T22:01:36Z", "type": "commit"}, {"oid": "fc02e71c5732c07de90174736672d1f36cd1a083", "url": "https://github.com/ls1intum/Artemis/commit/fc02e71c5732c07de90174736672d1f36cd1a083", "message": "Merge develop resolve conflicts", "committedDate": "2020-06-18T22:05:31Z", "type": "commit"}, {"oid": "148f3b5d96e7da7eb40c7fd08652e840fc2133ea", "url": "https://github.com/ls1intum/Artemis/commit/148f3b5d96e7da7eb40c7fd08652e840fc2133ea", "message": "Improve doc", "committedDate": "2020-06-18T22:16:08Z", "type": "commit"}, {"oid": "879867fc9ec8ac5966f8333b074fff280ffbe611", "url": "https://github.com/ls1intum/Artemis/commit/879867fc9ec8ac5966f8333b074fff280ffbe611", "message": "Fix doc", "committedDate": "2020-06-18T22:17:50Z", "type": "commit"}, {"oid": "bd250327dfb467777d5fe35c4a97821d6e70f4df", "url": "https://github.com/ls1intum/Artemis/commit/bd250327dfb467777d5fe35c4a97821d6e70f4df", "message": "Fix edit button for exam programming exercise on detail page", "committedDate": "2020-06-18T22:37:47Z", "type": "commit"}, {"oid": "0494dd7f327479fb9c1033aa7ed0a4b6e93a5d31", "url": "https://github.com/ls1intum/Artemis/commit/0494dd7f327479fb9c1033aa7ed0a4b6e93a5d31", "message": "Add authorization for websocket subscription to exam programming exercises. Only instructors or admins are allowed to subscribe to these. Enable eager loading of ExerciseGroup -> Exam -> Course.", "committedDate": "2020-06-18T23:58:14Z", "type": "commit"}, {"oid": "b69fde21583ef76aab52d8143ab4e43805aa3eb8", "url": "https://github.com/ls1intum/Artemis/commit/b69fde21583ef76aab52d8143ab4e43805aa3eb8", "message": "Add case distinction to get course in programming exercise detail component", "committedDate": "2020-06-19T01:14:36Z", "type": "commit"}, {"oid": "e241e613bc47bdac0db6fbd72b2c6c5dbfe9ed7c", "url": "https://github.com/ls1intum/Artemis/commit/e241e613bc47bdac0db6fbd72b2c6c5dbfe9ed7c", "message": "Pipe for displaying of course title", "committedDate": "2020-06-19T12:25:21Z", "type": "commit"}, {"oid": "657a2bb6b8beb2007dd5a032d9f3a1fc1481b337", "url": "https://github.com/ls1intum/Artemis/commit/657a2bb6b8beb2007dd5a032d9f3a1fc1481b337", "message": "update getCourse() to handle course and exam exercises\n\nremove some TODOs", "committedDate": "2020-06-19T14:38:42Z", "type": "commit"}, {"oid": "412a58add7966fe84a97b9f43ae6d5fb05db67b7", "url": "https://github.com/ls1intum/Artemis/commit/412a58add7966fe84a97b9f43ae6d5fb05db67b7", "message": "improve short name handling", "committedDate": "2020-06-19T15:25:45Z", "type": "commit"}, {"oid": "0e923d030cde18db622992e25aec3d4b633b4654", "url": "https://github.com/ls1intum/Artemis/commit/0e923d030cde18db622992e25aec3d4b633b4654", "message": "add TODO for test case", "committedDate": "2020-06-19T15:36:17Z", "type": "commit"}, {"oid": "b456a8ef536305176385287e0cd02d3e57bf3ca6", "url": "https://github.com/ls1intum/Artemis/commit/b456a8ef536305176385287e0cd02d3e57bf3ca6", "message": "lower case vs upper case", "committedDate": "2020-06-19T15:39:18Z", "type": "commit"}, {"oid": "1e37895c6950a44db5f4dbf9e94263651449f332", "url": "https://github.com/ls1intum/Artemis/commit/1e37895c6950a44db5f4dbf9e94263651449f332", "message": "Validate import", "committedDate": "2020-06-19T15:53:24Z", "type": "commit"}, {"oid": "df18afe1a055bda037f4536a38ef08263717a587", "url": "https://github.com/ls1intum/Artemis/commit/df18afe1a055bda037f4536a38ef08263717a587", "message": "Import functionality for exam exercises in client.", "committedDate": "2020-06-19T15:58:27Z", "type": "commit"}, {"oid": "80c02bafe01bfb744870bce0f8c80ff364832d8e", "url": "https://github.com/ls1intum/Artemis/commit/80c02bafe01bfb744870bce0f8c80ff364832d8e", "message": "Merge branch 'exam/management/programming-exercises' of https://github.com/ls1intum/Artemis into exam/management/programming-exercises", "committedDate": "2020-06-19T15:58:40Z", "type": "commit"}, {"oid": "13540f67cbe6f1d1a423450442f6c211e6822a92", "url": "https://github.com/ls1intum/Artemis/commit/13540f67cbe6f1d1a423450442f6c211e6822a92", "message": "Style for import button", "committedDate": "2020-06-19T19:16:02Z", "type": "commit"}, {"oid": "6f9c4347ba601089e02e475ad38dfea081874c60", "url": "https://github.com/ls1intum/Artemis/commit/6f9c4347ba601089e02e475ad38dfea081874c60", "message": "Rollback to using the utility getter for the course. Jackson always sets the course property if getCourse() has the case distinction.", "committedDate": "2020-06-19T19:19:42Z", "type": "commit"}, {"oid": "dd7679bc6c92f14df8c51eafe4fd42b11bcdbc12", "url": "https://github.com/ls1intum/Artemis/commit/dd7679bc6c92f14df8c51eafe4fd42b11bcdbc12", "message": "Introduce short name check to import", "committedDate": "2020-06-19T19:22:03Z", "type": "commit"}, {"oid": "1eab882811d4ab7998e7e3ebafa0471105c60ff0", "url": "https://github.com/ls1intum/Artemis/commit/1eab882811d4ab7998e7e3ebafa0471105c60ff0", "message": "SpotlessApply", "committedDate": "2020-06-19T20:16:56Z", "type": "commit"}, {"oid": "d5708f6e8991f51074812cb4643fd37292bd6789", "url": "https://github.com/ls1intum/Artemis/commit/d5708f6e8991f51074812cb4643fd37292bd6789", "message": "Fix import test by importing the pipes module", "committedDate": "2020-06-19T20:19:15Z", "type": "commit"}, {"oid": "f9d17de34a4ceddb2a4b32f388e0a88a766563fd", "url": "https://github.com/ls1intum/Artemis/commit/f9d17de34a4ceddb2a4b32f388e0a88a766563fd", "message": "Fix debug message order", "committedDate": "2020-06-19T20:25:56Z", "type": "commit"}, {"oid": "10da86fc244cd9b7414b79578e2b784578b4b790", "url": "https://github.com/ls1intum/Artemis/commit/10da86fc244cd9b7414b79578e2b784578b4b790", "message": "Refactor programming exercise generation for tests. Create new tests and fix bad ones", "committedDate": "2020-06-19T21:55:39Z", "type": "commit"}, {"oid": "70108c65cd8ad3a13dfacc8e4afd9ab9a103db8d", "url": "https://github.com/ls1intum/Artemis/commit/70108c65cd8ad3a13dfacc8e4afd9ab9a103db8d", "message": "Removed unused import", "committedDate": "2020-06-19T22:23:34Z", "type": "commit"}, {"oid": "2b830fb8c2249c0f51a16650ff596ad7e03203d4", "url": "https://github.com/ls1intum/Artemis/commit/2b830fb8c2249c0f51a16650ff596ad7e03203d4", "message": "Fix failing test cases introduced by overriding the release and due date", "committedDate": "2020-06-19T23:11:19Z", "type": "commit"}, {"oid": "1aebb6b246a70bc13fb2001ef317ccb7f2b005d1", "url": "https://github.com/ls1intum/Artemis/commit/1aebb6b246a70bc13fb2001ef317ccb7f2b005d1", "message": "Rollback changes to test case programming exercise generation. Broke too many other tests. Refactored generation in a better way.", "committedDate": "2020-06-20T00:48:27Z", "type": "commit"}, {"oid": "f13336fa2eaaa564acc8272b2c063cf78ebe4744", "url": "https://github.com/ls1intum/Artemis/commit/f13336fa2eaaa564acc8272b2c063cf78ebe4744", "message": "Merge branch 'develop' into exam/management/programming-exercises", "committedDate": "2020-06-20T00:58:25Z", "type": "commit"}, {"oid": "260e18657bc21a6522ca02530220c5ba3df36deb", "url": "https://github.com/ls1intum/Artemis/commit/260e18657bc21a6522ca02530220c5ba3df36deb", "message": "Improve code", "committedDate": "2020-06-20T01:23:52Z", "type": "commit"}, {"oid": "2e87c075cc22963c6ffd8439f7d21be2931448f1", "url": "https://github.com/ls1intum/Artemis/commit/2e87c075cc22963c6ffd8439f7d21be2931448f1", "message": "Check if the user has the rights to access the original exercise on import", "committedDate": "2020-06-20T12:24:23Z", "type": "commit"}, {"oid": "4ba45169152c0b252ba14f4ee12c543914707119", "url": "https://github.com/ls1intum/Artemis/commit/4ba45169152c0b252ba14f4ee12c543914707119", "message": "Rework programming exercise import modal query to also show the exam exercises for instructors", "committedDate": "2020-06-20T14:51:49Z", "type": "commit"}, {"oid": "4e2b606fb27c4161629ac15f3c73d4fe40a2cd70", "url": "https://github.com/ls1intum/Artemis/commit/4e2b606fb27c4161629ac15f3c73d4fe40a2cd70", "message": "Fix doc", "committedDate": "2020-06-20T15:27:03Z", "type": "commit"}, {"oid": "d436eb5b8930caabdcee267563e2f40b8e6239c5", "url": "https://github.com/ls1intum/Artemis/commit/d436eb5b8930caabdcee267563e2f40b8e6239c5", "message": "Add correct delete modal for programming exercises", "committedDate": "2020-06-20T16:05:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNjQyMw==", "url": "https://github.com/ls1intum/Artemis/pull/1679#discussion_r443216423", "bodyText": "I don't get the goal here. Why null as the user? Shouldn't fail this all the time?", "author": "julian-christl", "createdAt": "2020-06-21T12:47:55Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -155,20 +159,28 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n             return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"A new programmingExercise cannot already have an ID\", \"idexists\")).body(null);\n         }\n \n-        if (programmingExercise.getCourse() == null) {\n-            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"The course is not set\", \"courseNotSet\")).body(null);\n+        // Valid exercises have set either a course or an exerciseGroup\n+        exerciseService.checkCourseAndExerciseGroupExclusivity(programmingExercise, ENTITY_NAME);\n+\n+        // Retrieve the course over the exerciseGroup or the given courseId\n+        // Security mechanism: make sure that we use the values from the database and not the once which might have been altered in the client\n+        Course course;\n+        if (programmingExercise.hasExerciseGroup()) {\n+            // Get the course over the exercise group\n+            ExerciseGroup exerciseGroup = exerciseGroupService.findOneWithExam(programmingExercise.getExerciseGroup().getId());\n+            course = exerciseGroup.getExam().getCourse();\n+            programmingExercise.setExerciseGroup(exerciseGroup);\n+        }\n+        else {\n+            course = courseService.findOne(programmingExercise.getCourse().getId());\n+            programmingExercise.setCourse(course);\n         }\n \n-        // fetch course from database to make sure client didn't change groups\n-        Course course = courseService.findOne(programmingExercise.getCourse().getId());\n-        User user = userService.getUserWithGroupsAndAuthorities();\n-        if (!authCheckService.isInstructorInCourse(course, user) && !authCheckService.isAdmin()) {\n+        // Check authorization\n+        if (!authCheckService.isAtLeastInstructorInCourse(course, null)) {", "originalCommit": "d436eb5b8930caabdcee267563e2f40b8e6239c5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIyMzc4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/1679#discussion_r443223787", "bodyText": "When the user is null, the check service defaults to checking the currently logged in user", "author": "anditurdiu", "createdAt": "2020-06-21T14:16:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNjQyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI0NDA0OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1679#discussion_r443244049", "bodyText": "Do you think it would make sense to overload the method to have a method\nBoolean isAtLeastInstructorInCourse(Course course){}\nI think it's more intuitive than setting user null.\nHowever it's not a relevant thing for release but maybe you could consider this to change in the future or reason why not.", "author": "julian-christl", "createdAt": "2020-06-21T18:22:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNjQyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQwMDIyNg==", "url": "https://github.com/ls1intum/Artemis/pull/1679#discussion_r443400226", "bodyText": "out of scope for this PR", "author": "krusche", "createdAt": "2020-06-22T08:34:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNjQyMw=="}], "type": "inlineReview", "revised_code": {"commit": "b26154c7b6f1ddc369d127d8fab7e1d5f639ea32", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java b/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java\nindex 54b7ed137..d2c22799e 100644\n--- a/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java\n+++ b/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java\n\n@@ -181,44 +244,16 @@ public class ProgrammingExerciseResource {\n             return forbidden();\n         }\n \n-        // Check if exercise title is set\n-        if (programmingExercise.getTitle() == null || programmingExercise.getTitle().length() < 3) {\n-            return ResponseEntity.badRequest()\n-                    .headers(HeaderUtil.createAlert(applicationName, \"The title of the programming exercise is too short\", \"programmingExerciseTitleInvalid\")).body(null);\n-        }\n-\n-        // Check if the exercise title matches regex\n-        Matcher titleMatcher = TITLE_NAME_PATTERN.matcher(programmingExercise.getTitle());\n-        if (!titleMatcher.matches()) {\n-            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"The title is invalid\", \"titleInvalid\")).body(null);\n-        }\n-\n-        // Check if exercise shortname is set\n-        if (programmingExercise.getShortName() == null || programmingExercise.getShortName().length() < 3) {\n-            return ResponseEntity.badRequest()\n-                    .headers(HeaderUtil.createAlert(applicationName, \"The shortname of the programming exercise is not set or too short\", \"programmingExerciseShortnameInvalid\"))\n-                    .body(null);\n-        }\n-\n-        // Check if course shortname is set\n-        if (course.getShortName() == null || course.getShortName().length() < 3) {\n-            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"The shortname of the course is not set or too short\", \"courseShortnameInvalid\"))\n-                    .body(null);\n-        }\n-\n-        // Check if exercise shortname matches regex\n-        Matcher shortNameMatcher = SHORT_NAME_PATTERN.matcher(programmingExercise.getShortName());\n-        if (!shortNameMatcher.matches()) {\n-            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"The shortname is invalid\", \"shortnameInvalid\")).body(null);\n+        // Validate exercise title\n+        Optional<ResponseEntity> optionalTitleValidationError = validateTitle(programmingExercise);\n+        if (optionalTitleValidationError.isPresent()) {\n+            return optionalTitleValidationError.get();\n         }\n \n-        // NOTE: we have to cover two cases here: exercises directly stored in the course and exercises indirectly stored in the course (exercise -> exerciseGroup -> exam ->\n-        // course)\n-        long numberOfProgrammingExercisesWithSameShortName = programmingExerciseRepository.countByShortNameAndCourse(programmingExercise.getShortName(), course)\n-                + programmingExerciseRepository.countByShortNameAndExerciseGroupExamCourse(programmingExercise.getShortName(), course);\n-        if (numberOfProgrammingExercisesWithSameShortName > 0) {\n-            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName,\n-                    \"A programming exercise with the same short name already exists. Please choose a different short name.\", \"shortnameAlreadyExists\")).body(null);\n+        // Validate course and exercise short name\n+        Optional<ResponseEntity> optionalShortNameValidationError = validateCourseAndExerciseShortName(programmingExercise, course);\n+        if (optionalShortNameValidationError.isPresent()) {\n+            return optionalShortNameValidationError.get();\n         }\n \n         // Check if programming language is set\n"}}, {"oid": "e5e802f914f305b1d094dd32aa498905a43f28d3", "url": "https://github.com/ls1intum/Artemis/commit/e5e802f914f305b1d094dd32aa498905a43f28d3", "message": "Refactor short name validation", "committedDate": "2020-06-22T11:17:26Z", "type": "commit"}, {"oid": "b26154c7b6f1ddc369d127d8fab7e1d5f639ea32", "url": "https://github.com/ls1intum/Artemis/commit/b26154c7b6f1ddc369d127d8fab7e1d5f639ea32", "message": "Refactor title validation", "committedDate": "2020-06-22T11:23:01Z", "type": "commit"}, {"oid": "31c0c32a79131b9de0ebcc8f34b8f288716aa9f1", "url": "https://github.com/ls1intum/Artemis/commit/31c0c32a79131b9de0ebcc8f34b8f288716aa9f1", "message": "Introduce better title and shortname validation for imports", "committedDate": "2020-06-22T11:25:26Z", "type": "commit"}, {"oid": "7f95d0148dda1cbc8246326f017f44d81b816ffe", "url": "https://github.com/ls1intum/Artemis/commit/7f95d0148dda1cbc8246326f017f44d81b816ffe", "message": "Fix short name error message", "committedDate": "2020-06-22T11:42:21Z", "type": "commit"}, {"oid": "492dce9e466865c738b1ac2aef7ee252720ed11e", "url": "https://github.com/ls1intum/Artemis/commit/492dce9e466865c738b1ac2aef7ee252720ed11e", "message": "Spotless Apply", "committedDate": "2020-06-22T11:54:35Z", "type": "commit"}, {"oid": "d289652da1023286a950cedf415266146fd84c37", "url": "https://github.com/ls1intum/Artemis/commit/d289652da1023286a950cedf415266146fd84c37", "message": "Fix test by providing a valid shortname", "committedDate": "2020-06-22T12:03:10Z", "type": "commit"}, {"oid": "d9f1d116a87c7fb236b02f4150556110056f127a", "url": "https://github.com/ls1intum/Artemis/commit/d9f1d116a87c7fb236b02f4150556110056f127a", "message": "Merge branch 'develop' into exam/management/programming-exercises", "committedDate": "2020-06-22T12:26:13Z", "type": "commit"}, {"oid": "ca31870a46b5a6706ae6e2f02cdd8f1d69c50c59", "url": "https://github.com/ls1intum/Artemis/commit/ca31870a46b5a6706ae6e2f02cdd8f1d69c50c59", "message": "Remove duplicated method after develop merge", "committedDate": "2020-06-22T12:28:17Z", "type": "commit"}]}