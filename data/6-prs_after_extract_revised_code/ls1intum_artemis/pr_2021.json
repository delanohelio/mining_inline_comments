{"pr_number": 2021, "pr_title": "[Exam] Enable instructor code editor assignment repository", "pr_createdAt": "2020-08-13T23:57:20Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2021", "timeline": [{"oid": "d592c72b6f70c05bb17dcaadea0c91d74118f0a8", "url": "https://github.com/ls1intum/Artemis/commit/d592c72b6f70c05bb17dcaadea0c91d74118f0a8", "message": "Enable assignment repository for exam mode", "committedDate": "2020-08-12T15:51:00Z", "type": "commit"}, {"oid": "17d5a03772d70061691668bac1764a62b789f2fe", "url": "https://github.com/ls1intum/Artemis/commit/17d5a03772d70061691668bac1764a62b789f2fe", "message": "Disable git repo auto gc properly", "committedDate": "2020-08-13T23:22:25Z", "type": "commit"}, {"oid": "f4feeae6aca98db5225f653890e4610cdafae22b", "url": "https://github.com/ls1intum/Artemis/commit/f4feeae6aca98db5225f653890e4610cdafae22b", "message": "Close the repo before deletion", "committedDate": "2020-08-13T23:42:30Z", "type": "commit"}, {"oid": "a9bace88922bea4e40fcf2fdcb70579cc58c4b3b", "url": "https://github.com/ls1intum/Artemis/commit/a9bace88922bea4e40fcf2fdcb70579cc58c4b3b", "message": "Remove unused code", "committedDate": "2020-08-14T00:02:09Z", "type": "commit"}, {"oid": "7ef667e45a16fba32b689693675752058d00c833", "url": "https://github.com/ls1intum/Artemis/commit/7ef667e45a16fba32b689693675752058d00c833", "message": "Remove useless throws case", "committedDate": "2020-08-14T00:08:19Z", "type": "commit"}, {"oid": "64c4218acc31aeead1cfeb7eaebd7f232b9b4bbf", "url": "https://github.com/ls1intum/Artemis/commit/64c4218acc31aeead1cfeb7eaebd7f232b9b4bbf", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-14T00:10:57Z", "type": "commit"}, {"oid": "fb0e1a8a35148de0dc1a0ff3cf8b3d62db2ba5fd", "url": "https://github.com/ls1intum/Artemis/commit/fb0e1a8a35148de0dc1a0ff3cf8b3d62db2ba5fd", "message": "Transform reset assignment repository action to delete repository", "committedDate": "2020-08-14T11:44:35Z", "type": "commit"}, {"oid": "49a8beed4a16d9a609231f1a4ab4b55316e3d57e", "url": "https://github.com/ls1intum/Artemis/commit/49a8beed4a16d9a609231f1a4ab4b55316e3d57e", "message": "Allow instructors to access their assignment repos", "committedDate": "2020-08-14T12:01:45Z", "type": "commit"}, {"oid": "c22bd1f2abef54472dbb2dadd93c16466c810b45", "url": "https://github.com/ls1intum/Artemis/commit/c22bd1f2abef54472dbb2dadd93c16466c810b45", "message": "Set the state properly after deletion", "committedDate": "2020-08-14T14:08:49Z", "type": "commit"}, {"oid": "ddfeb78c4f1c85fd9766f767e63aea56fcd01001", "url": "https://github.com/ls1intum/Artemis/commit/ddfeb78c4f1c85fd9766f767e63aea56fcd01001", "message": "Only instructors are allowed to use the participation resource to start an exam exercise", "committedDate": "2020-08-14T17:02:13Z", "type": "commit"}, {"oid": "d4e3b5d8c9f7304069d10aac47f1cbc122d2d930", "url": "https://github.com/ls1intum/Artemis/commit/d4e3b5d8c9f7304069d10aac47f1cbc122d2d930", "message": "Make a distinction for starting the assignment repository", "committedDate": "2020-08-14T18:04:36Z", "type": "commit"}, {"oid": "1a162d461dbd1843eaefb1d0eca1f381c8a128b7", "url": "https://github.com/ls1intum/Artemis/commit/1a162d461dbd1843eaefb1d0eca1f381c8a128b7", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-14T18:05:01Z", "type": "commit"}, {"oid": "096b0204d2fe5bcb885f338af2b6e76669710fdc", "url": "https://github.com/ls1intum/Artemis/commit/096b0204d2fe5bcb885f338af2b6e76669710fdc", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-15T10:02:14Z", "type": "commit"}, {"oid": "2b3a7a68943e630f93285b22dd31b229e6af6126", "url": "https://github.com/ls1intum/Artemis/commit/2b3a7a68943e630f93285b22dd31b229e6af6126", "message": "Fix client tests", "committedDate": "2020-08-15T12:07:27Z", "type": "commit"}, {"oid": "4a1fb1355cced279eac66fde7e4e80599688c69a", "url": "https://github.com/ls1intum/Artemis/commit/4a1fb1355cced279eac66fde7e4e80599688c69a", "message": "Revert \"Make a distinction for starting the assignment repository\"\n\nThis reverts commit d4e3b5d8", "committedDate": "2020-08-17T11:06:21Z", "type": "commit"}, {"oid": "387fe15bcb629e6f33807c6b8ce588f958188917", "url": "https://github.com/ls1intum/Artemis/commit/387fe15bcb629e6f33807c6b8ce588f958188917", "message": "Reset configureRepo", "committedDate": "2020-08-17T11:46:14Z", "type": "commit"}, {"oid": "75f1133c22313faae085c60ab215108f8c60498b", "url": "https://github.com/ls1intum/Artemis/commit/75f1133c22313faae085c60ab215108f8c60498b", "message": "Simplify retrieval of release dates for exercises", "committedDate": "2020-08-17T12:40:23Z", "type": "commit"}, {"oid": "336c6d3d3b329e7f1de2a616e967a265eb69a574", "url": "https://github.com/ls1intum/Artemis/commit/336c6d3d3b329e7f1de2a616e967a265eb69a574", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-17T13:33:09Z", "type": "commit"}, {"oid": "c3c60d37a5aa58e5af0b2a16fecbf53c89801b1b", "url": "https://github.com/ls1intum/Artemis/commit/c3c60d37a5aa58e5af0b2a16fecbf53c89801b1b", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-17T16:47:43Z", "type": "commit"}, {"oid": "5e969234a59a22d62d539b291afc87bd712fd75e", "url": "https://github.com/ls1intum/Artemis/commit/5e969234a59a22d62d539b291afc87bd712fd75e", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-17T21:38:17Z", "type": "commit"}, {"oid": "90b455750eb62ec9e530b4624b2455fe1f2a709c", "url": "https://github.com/ls1intum/Artemis/commit/90b455750eb62ec9e530b4624b2455fe1f2a709c", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-18T08:23:37Z", "type": "commit"}, {"oid": "9dc51992ff2211dd5b04f0500872fcd2e1412025", "url": "https://github.com/ls1intum/Artemis/commit/9dc51992ff2211dd5b04f0500872fcd2e1412025", "message": "Update src/main/webapp/app/exercises/programming/manage/code-editor/code-editor-instructor-base-container.component.ts\n\nCo-authored-by: Balazs Czopf <63286106+balazs-czopf@users.noreply.github.com>", "committedDate": "2020-08-18T21:51:49Z", "type": "commit"}, {"oid": "e22db3ae762b5e931be3ace1d11634ee9c37ed7d", "url": "https://github.com/ls1intum/Artemis/commit/e22db3ae762b5e931be3ace1d11634ee9c37ed7d", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-19T13:27:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI4NTk0OA==", "url": "https://github.com/ls1intum/Artemis/pull/2021#discussion_r473285948", "bodyText": "This is wrong. We have a backup to start programming exercises during an exam in case something went wrong in the initial setup, see exam-participation.component.ts:398", "author": "krusche", "createdAt": "2020-08-19T20:01:57Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java", "diffHunk": "@@ -130,6 +130,11 @@ public ParticipationResource(ParticipationService participationService, Programm\n             }\n         }\n \n+        // only instructors should be allowed to start an exam exercise using this resource e.g. to create the assignment repository\n+        if (exercise.hasExerciseGroup() && !authCheckService.isAtLeastInstructorInCourse(course, user)) {", "originalCommit": "e22db3ae762b5e931be3ace1d11634ee9c37ed7d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM1MDI5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2021#discussion_r473350299", "bodyText": "Missed that. I removed the check and the new corresponding tests for it", "author": "kloessst", "createdAt": "2020-08-19T21:41:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI4NTk0OA=="}], "type": "inlineReview", "revised_code": {"commit": "c5358478625016311dcc8a5b78752c5f6dfa0ae2", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java b/src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java\nindex 484b16ce3a..a3affbcdf5 100644\n--- a/src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java\n+++ b/src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java\n\n@@ -130,11 +130,6 @@ public class ParticipationResource {\n             }\n         }\n \n-        // only instructors should be allowed to start an exam exercise using this resource e.g. to create the assignment repository\n-        if (exercise.hasExerciseGroup() && !authCheckService.isAtLeastInstructorInCourse(course, user)) {\n-            return forbidden();\n-        }\n-\n         // users cannot start the programming exercises if test run after due date or semi automatic grading is active and the due date has passed\n         // Also don't allow participations if the feature is disabled\n         if (exercise instanceof ProgrammingExercise) {\n"}}, {"oid": "c5358478625016311dcc8a5b78752c5f6dfa0ae2", "url": "https://github.com/ls1intum/Artemis/commit/c5358478625016311dcc8a5b78752c5f6dfa0ae2", "message": "Remove wrong check and adapt the new integration tests", "committedDate": "2020-08-19T21:25:41Z", "type": "commit"}, {"oid": "3845773c9a67f8239ceb231facb0dfb74ce8c633", "url": "https://github.com/ls1intum/Artemis/commit/3845773c9a67f8239ceb231facb0dfb74ce8c633", "message": "Remove obsolete tests", "committedDate": "2020-08-19T21:40:19Z", "type": "commit"}, {"oid": "7da2a751c47e318eeb5058ad2a622c2e8ce0f69c", "url": "https://github.com/ls1intum/Artemis/commit/7da2a751c47e318eeb5058ad2a622c2e8ce0f69c", "message": "Merge branch 'feature/exam-mode-assignment-repo' of https://github.com/ls1intum/Artemis into feature/exam-mode-assignment-repo", "committedDate": "2020-08-19T21:40:41Z", "type": "commit"}, {"oid": "7eca24d25a7d8bd14fb9f7a5dc517c066911099a", "url": "https://github.com/ls1intum/Artemis/commit/7eca24d25a7d8bd14fb9f7a5dc517c066911099a", "message": "Merge branch 'develop' into feature/exam-mode-assignment-repo", "committedDate": "2020-08-20T10:45:35Z", "type": "commit"}, {"oid": "2cec48f736bda5abc2fa2a16d3fe78a333d16e98", "url": "https://github.com/ls1intum/Artemis/commit/2cec48f736bda5abc2fa2a16d3fe78a333d16e98", "message": "Merge remote-tracking branch 'origin/develop' into feature/exam-mode-assignment-repo\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/programming/manage/code-editor/code-editor-instructor-base-container.component.ts\n#\tsrc/main/webapp/app/exercises/programming/manage/code-editor/code-editor-instructor-container.component.html", "committedDate": "2020-08-20T11:06:12Z", "type": "commit"}, {"oid": "e4d01767b6ce4b977cb66c3c48221b2676f4c300", "url": "https://github.com/ls1intum/Artemis/commit/e4d01767b6ce4b977cb66c3c48221b2676f4c300", "message": "Fix merge conflicts", "committedDate": "2020-08-20T11:40:09Z", "type": "commit"}]}