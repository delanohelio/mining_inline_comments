{"pr_number": 1698, "pr_title": "[Exam] Enable ordering of exercise groups", "pr_createdAt": "2020-06-23T07:28:59Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1698", "timeline": [{"oid": "4128a74a54d9c8776bacfdfc2b4e26f3edb2c4ca", "url": "https://github.com/ls1intum/Artemis/commit/4128a74a54d9c8776bacfdfc2b4e26f3edb2c4ca", "message": "Add input field for order", "committedDate": "2020-06-19T11:15:36Z", "type": "commit"}, {"oid": "8d8261a85a464052b392716fd4417dab34705f5f", "url": "https://github.com/ls1intum/Artemis/commit/8d8261a85a464052b392716fd4417dab34705f5f", "message": "Implement basic ordering functionality", "committedDate": "2020-06-19T14:01:30Z", "type": "commit"}, {"oid": "64986c8a65eda13fa4a3981d332bf11e5906e390", "url": "https://github.com/ls1intum/Artemis/commit/64986c8a65eda13fa4a3981d332bf11e5906e390", "message": "Add number of exercise groups count", "committedDate": "2020-06-19T14:09:22Z", "type": "commit"}, {"oid": "8fce9ee40fccfc5ccb9f50cc39efa7c899bc80dc", "url": "https://github.com/ls1intum/Artemis/commit/8fce9ee40fccfc5ccb9f50cc39efa7c899bc80dc", "message": "Fix npe", "committedDate": "2020-06-19T14:33:42Z", "type": "commit"}, {"oid": "bb6072179489098cee345bb71990ba356b463fcd", "url": "https://github.com/ls1intum/Artemis/commit/bb6072179489098cee345bb71990ba356b463fcd", "message": "Client <-> Server implementation", "committedDate": "2020-06-22T19:45:08Z", "type": "commit"}, {"oid": "e23b61d586faf6878353a593680afc7dff0033f4", "url": "https://github.com/ls1intum/Artemis/commit/e23b61d586faf6878353a593680afc7dff0033f4", "message": "Retrieve exercise groups in order", "committedDate": "2020-06-23T07:10:55Z", "type": "commit"}, {"oid": "a4bf6859e484c20ec33ab40f471ee7d23c25db0f", "url": "https://github.com/ls1intum/Artemis/commit/a4bf6859e484c20ec33ab40f471ee7d23c25db0f", "message": "Merge branch 'develop' into exam/management/order-exercise-groups", "committedDate": "2020-06-23T07:15:44Z", "type": "commit"}, {"oid": "d2f6c4e684c5114daca742661bcdcf3b79207e06", "url": "https://github.com/ls1intum/Artemis/commit/d2f6c4e684c5114daca742661bcdcf3b79207e06", "message": "Fix imports", "committedDate": "2020-06-23T07:22:14Z", "type": "commit"}, {"oid": "18f989f60263966410ea9dc6c53d44449d43575a", "url": "https://github.com/ls1intum/Artemis/commit/18f989f60263966410ea9dc6c53d44449d43575a", "message": "Fix layout after merge", "committedDate": "2020-06-23T11:38:01Z", "type": "commit"}, {"oid": "62dba440e0822cbd163ab7443fa9453271d31980", "url": "https://github.com/ls1intum/Artemis/commit/62dba440e0822cbd163ab7443fa9453271d31980", "message": "Delete exercise group via exam.exerciseGroups to keep continuous order in exercise_group_order @OrderColumn", "committedDate": "2020-06-23T16:20:53Z", "type": "commit"}, {"oid": "5e5a6fa6a4c02c53b29ce3e4da3ae8ce1c8fdc75", "url": "https://github.com/ls1intum/Artemis/commit/5e5a6fa6a4c02c53b29ce3e4da3ae8ce1c8fdc75", "message": "Ensure that the exam is set with ordered exercise groups", "committedDate": "2020-06-23T20:24:49Z", "type": "commit"}, {"oid": "2155fe5b6f91c3719893d6ea9b393d338695dfc0", "url": "https://github.com/ls1intum/Artemis/commit/2155fe5b6f91c3719893d6ea9b393d338695dfc0", "message": "Remove unneeded boolean", "committedDate": "2020-06-23T20:56:32Z", "type": "commit"}, {"oid": "f3ae0dd4bb366f574d54bd1df93453327256a69b", "url": "https://github.com/ls1intum/Artemis/commit/f3ae0dd4bb366f574d54bd1df93453327256a69b", "message": "Temporary test setup", "committedDate": "2020-06-24T07:35:13Z", "type": "commit"}, {"oid": "a8ef7f7f27998b81ed0d8ff18fc9463ecf1abadb", "url": "https://github.com/ls1intum/Artemis/commit/a8ef7f7f27998b81ed0d8ff18fc9463ecf1abadb", "message": "Server integration test", "committedDate": "2020-06-24T10:08:55Z", "type": "commit"}, {"oid": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507", "url": "https://github.com/ls1intum/Artemis/commit/9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507", "message": "Merge branch 'develop' into exam/management/order-exercise-groups", "committedDate": "2020-06-24T10:10:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk2NjAzOA==", "url": "https://github.com/ls1intum/Artemis/pull/1698#discussion_r444966038", "bodyText": "What would happen if both withExerciseGroups and withStudents are true?", "author": "krusche", "createdAt": "2020-06-24T15:07:53Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java", "diffHunk": "@@ -150,22 +150,27 @@ public ExamResource(UserService userService, CourseService courseService, ExamRe\n     /**\n      * GET /courses/{courseId}/exams/{examId} : Find an exam by id.\n      *\n-     * @param courseId      the course to which the exam belongs\n-     * @param examId        the exam to find\n-     * @param withStudents  boolean flag whether to include all students registered for the exam\n+     * @param courseId              the course to which the exam belongs\n+     * @param examId                the exam to find\n+     * @param withStudents          boolean flag whether to include all students registered for the exam\n+     * @param withExerciseGroups    boolean flag whether to include all exercise groups of the exam\n      * @return the ResponseEntity with status 200 (OK) and with the found exam as body\n      */\n     @GetMapping(\"/courses/{courseId}/exams/{examId}\")\n     @PreAuthorize(\"hasAnyRole('ADMIN', 'INSTRUCTOR')\")\n-    public ResponseEntity<Exam> getExam(@PathVariable Long courseId, @PathVariable Long examId, @RequestParam(defaultValue = \"false\") boolean withStudents) {\n+    public ResponseEntity<Exam> getExam(@PathVariable Long courseId, @PathVariable Long examId, @RequestParam(defaultValue = \"false\") boolean withStudents,\n+            @RequestParam(defaultValue = \"false\") boolean withExerciseGroups) {\n         log.debug(\"REST request to get exam : {}\", examId);\n         Optional<ResponseEntity<Exam>> courseAndExamAccessFailure = examAccessService.checkCourseAndExamAccess(courseId, examId);\n         if (courseAndExamAccessFailure.isPresent()) {\n             return courseAndExamAccessFailure.get();\n         }\n-        if (!withStudents) {\n+        if (!withStudents && !withExerciseGroups) {\n             return ResponseEntity.ok(examService.findOne(examId));\n         }\n+        if (withExerciseGroups) {", "originalCommit": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6f81fb26b9fa7a968f53d8ad94f2ce4819ccc01f", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java b/src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java\nindex e90e226cc0..a91b39d8cc 100644\n--- a/src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java\n+++ b/src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java\n\n@@ -168,6 +168,9 @@ public class ExamResource {\n         if (!withStudents && !withExerciseGroups) {\n             return ResponseEntity.ok(examService.findOne(examId));\n         }\n+        if (withStudents && withExerciseGroups) {\n+            return ResponseEntity.ok(examService.findOneWithRegisteredUsersAndExerciseGroups(examId));\n+        }\n         if (withExerciseGroups) {\n             return ResponseEntity.ok(examService.findOneWithExerciseGroups(examId));\n         }\n"}}, {"oid": "6f81fb26b9fa7a968f53d8ad94f2ce4819ccc01f", "url": "https://github.com/ls1intum/Artemis/commit/6f81fb26b9fa7a968f53d8ad94f2ce4819ccc01f", "message": "withStudents && withExerciseGroups", "committedDate": "2020-06-24T15:24:11Z", "type": "commit"}, {"oid": "ecea1906f4be5b50ca0e058c848f2693c8460b9d", "url": "https://github.com/ls1intum/Artemis/commit/ecea1906f4be5b50ca0e058c848f2693c8460b9d", "message": "Test that exercises of exercise groups are preserved after update of order", "committedDate": "2020-06-24T17:12:32Z", "type": "commit"}]}