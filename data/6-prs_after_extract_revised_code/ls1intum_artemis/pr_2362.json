{"pr_number": 2362, "pr_title": "[Bugfix] Trigger failed build", "pr_createdAt": "2020-11-07T00:20:24Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2362", "timeline": [{"oid": "1f48493870babb1148289f5b5d3b4cf482a68a25", "url": "https://github.com/ls1intum/Artemis/commit/1f48493870babb1148289f5b5d3b4cf482a68a25", "message": "only fail the request when exercise is actually over", "committedDate": "2020-11-04T18:13:15Z", "type": "commit"}, {"oid": "3b6da23ee1c5b9a2c945a15e5ce8e74c6117a180", "url": "https://github.com/ls1intum/Artemis/commit/3b6da23ee1c5b9a2c945a15e5ce8e74c6117a180", "message": "fix build plan dto", "committedDate": "2020-11-07T00:14:10Z", "type": "commit"}, {"oid": "a82c73e774b4fc40e151e0764459903548f9c618", "url": "https://github.com/ls1intum/Artemis/commit/a82c73e774b4fc40e151e0764459903548f9c618", "message": "Merge branch 'develop' into bugfix/trigger-failed-build-fix", "committedDate": "2020-11-07T00:27:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkyMTE2Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2362#discussion_r520921167", "bodyText": "Could you add a explanation here? This is not that intuitive to understand", "author": "fde312", "createdAt": "2020-11-10T22:42:54Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingSubmissionResource.java", "diffHunk": "@@ -186,7 +187,9 @@ public ProgrammingSubmissionResource(ProgrammingSubmissionService programmingSub\n             programmingSubmissionService.notifyUserAboutSubmission(submission.get());\n             return ResponseEntity.ok().build();\n         }\n-        if (lastGraded) {\n+        if (lastGraded && submission.get().getType() != SubmissionType.INSTRUCTOR && submission.get().getType() != SubmissionType.TEST\n+                && submission.get().getParticipation().getExercise().getDueDate() != null\n+                && submission.get().getParticipation().getExercise().getDueDate().isBefore(ZonedDateTime.now())) {", "originalCommit": "a82c73e774b4fc40e151e0764459903548f9c618", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzMjI2Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2362#discussion_r521432262", "bodyText": "Done", "author": "schultek", "createdAt": "2020-11-11T15:20:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkyMTE2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "cb4b0eb97636da2ee597a46d321367ba8542e408", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingSubmissionResource.java b/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingSubmissionResource.java\nindex b3785b8036..4b1d1818a3 100644\n--- a/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingSubmissionResource.java\n+++ b/src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingSubmissionResource.java\n\n@@ -190,8 +190,8 @@ public class ProgrammingSubmissionResource {\n         if (lastGraded && submission.get().getType() != SubmissionType.INSTRUCTOR && submission.get().getType() != SubmissionType.TEST\n                 && submission.get().getParticipation().getExercise().getDueDate() != null\n                 && submission.get().getParticipation().getExercise().getDueDate().isBefore(ZonedDateTime.now())) {\n-            // If the submission is not the latest but the last graded, there is no point in triggering the build again as this would build the most recent VCS commit (=different\n-            // commit hash than submission).\n+            // If the submission is not the latest but the last graded, there is no point in triggering the build again as this would build the most recent VCS commit.\n+            // This applies only to students submissions after the exercise due date.\n             return notFound();\n         }\n         // If there is no result on the CIS, we trigger a new build and hope it will arrive in Artemis this time.\n"}}, {"oid": "d57c55118383e6e70216998b3029e310eeeb34e0", "url": "https://github.com/ls1intum/Artemis/commit/d57c55118383e6e70216998b3029e310eeeb34e0", "message": "Merge branch 'develop' into bugfix/trigger-failed-build-fix", "committedDate": "2020-11-11T07:20:05Z", "type": "commit"}, {"oid": "2845cf929d10436210638836f543a8b8667e4ad3", "url": "https://github.com/ls1intum/Artemis/commit/2845cf929d10436210638836f543a8b8667e4ad3", "message": "fix failing tests", "committedDate": "2020-11-11T12:36:33Z", "type": "commit"}, {"oid": "8b2399256475990d418081a3f0831230e5db26f5", "url": "https://github.com/ls1intum/Artemis/commit/8b2399256475990d418081a3f0831230e5db26f5", "message": "Merge branch 'bugfix/trigger-failed-build-fix' of https://github.com/ls1intum/Artemis into bugfix/trigger-failed-build-fix", "committedDate": "2020-11-11T12:36:54Z", "type": "commit"}, {"oid": "8692275ea13f6af2c4114518d2534010635ca1f1", "url": "https://github.com/ls1intum/Artemis/commit/8692275ea13f6af2c4114518d2534010635ca1f1", "message": "Merge branch 'develop' into bugfix/trigger-failed-build-fix", "committedDate": "2020-11-11T13:23:17Z", "type": "commit"}, {"oid": "cb4b0eb97636da2ee597a46d321367ba8542e408", "url": "https://github.com/ls1intum/Artemis/commit/cb4b0eb97636da2ee597a46d321367ba8542e408", "message": "add explanation comment", "committedDate": "2020-11-11T15:20:36Z", "type": "commit"}]}