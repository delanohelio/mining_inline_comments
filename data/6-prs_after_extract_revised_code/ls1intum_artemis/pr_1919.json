{"pr_number": 1919, "pr_title": "Execute \"prepare exercise start\" in fork join pool with exactly 10 threads", "pr_createdAt": "2020-07-17T21:04:33Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1919", "timeline": [{"oid": "5afd1d8c9ec3f5830830ca0fa465950876e94dac", "url": "https://github.com/ls1intum/Artemis/commit/5afd1d8c9ec3f5830830ca0fa465950876e94dac", "message": "execute in fork join pool with exactly 10 threads", "committedDate": "2020-07-17T21:00:41Z", "type": "commit"}, {"oid": "991b5993851f3a1560205ff0dbcb9433b741b8f3", "url": "https://github.com/ls1intum/Artemis/commit/991b5993851f3a1560205ff0dbcb9433b741b8f3", "message": "Remove try catch as there is nothing to be caught", "committedDate": "2020-07-17T21:29:06Z", "type": "commit"}, {"oid": "e77f304d943464f0cb7337f2c45965842bdcb26e", "url": "https://github.com/ls1intum/Artemis/commit/e77f304d943464f0cb7337f2c45965842bdcb26e", "message": "Wait for the concurrent task to complete", "committedDate": "2020-07-17T21:44:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc5ODcxNA==", "url": "https://github.com/ls1intum/Artemis/pull/1919#discussion_r456798714", "bodyText": "@MaisiKoleni can you comment in the Code why the shutdown is necessary here? It looks wrong to me here", "author": "krusche", "createdAt": "2020-07-18T15:09:08Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -573,11 +576,28 @@ public Integer startExercises(Long examId) {\n                     }\n                 }\n             }\n-        });\n+        }));\n \n         return generatedParticipations.size();\n     }\n \n+    private void executeInParallel(Runnable task) {\n+        final int numberOfParallelThreads = 10;\n+        ForkJoinPool forkJoinPool = new ForkJoinPool(numberOfParallelThreads);\n+        Future<?> future = forkJoinPool.submit(task);\n+        forkJoinPool.shutdown();", "originalCommit": "e77f304d943464f0cb7337f2c45965842bdcb26e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NjE5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1919#discussion_r457096199", "bodyText": "This is also the way how it was in the first commit. But I agree that it looks out of place there, I change that.", "author": "MaisiKoleni", "createdAt": "2020-07-20T06:33:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc5ODcxNA=="}], "type": "inlineReview", "revised_code": {"commit": "686bf1c451ed0c227f71aa8f6cc7df321e8a85c8", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/service/ExamService.java b/src/main/java/de/tum/in/www1/artemis/service/ExamService.java\nindex a2798eebd3..99e5af7587 100644\n--- a/src/main/java/de/tum/in/www1/artemis/service/ExamService.java\n+++ b/src/main/java/de/tum/in/www1/artemis/service/ExamService.java\n\n@@ -585,7 +585,6 @@ public class ExamService {\n         final int numberOfParallelThreads = 10;\n         ForkJoinPool forkJoinPool = new ForkJoinPool(numberOfParallelThreads);\n         Future<?> future = forkJoinPool.submit(task);\n-        forkJoinPool.shutdown();\n         // Wait for the operation to complete\n         try {\n             future.get();\n"}}, {"oid": "686bf1c451ed0c227f71aa8f6cc7df321e8a85c8", "url": "https://github.com/ls1intum/Artemis/commit/686bf1c451ed0c227f71aa8f6cc7df321e8a85c8", "message": "Move shutdown to the end of executeInParallel", "committedDate": "2020-07-20T20:10:52Z", "type": "commit"}]}