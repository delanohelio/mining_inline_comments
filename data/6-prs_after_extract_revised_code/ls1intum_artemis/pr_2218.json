{"pr_number": 2218, "pr_title": "Feature: Lecture Modularisation | Exercise Units and Attachment Units", "pr_createdAt": "2020-10-16T14:43:16Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2218", "timeline": [{"oid": "3fd50530f132bb5f680e5722975fbc808f9f4a66", "url": "https://github.com/ls1intum/Artemis/commit/3fd50530f132bb5f680e5722975fbc808f9f4a66", "message": "Created entity skeleton", "committedDate": "2020-10-07T08:58:18Z", "type": "commit"}, {"oid": "cd7a81f64251a2c4f261f257f7f8bc195a2be46c", "url": "https://github.com/ls1intum/Artemis/commit/cd7a81f64251a2c4f261f257f7f8bc195a2be46c", "message": "Implemented Entities and DB Changes", "committedDate": "2020-10-07T16:12:45Z", "type": "commit"}, {"oid": "60d4c2a7788c6677003b20b227f77c9e2d6e356e", "url": "https://github.com/ls1intum/Artemis/commit/60d4c2a7788c6677003b20b227f77c9e2d6e356e", "message": "Added javadoc comments to pass checkstyle", "committedDate": "2020-10-07T16:36:07Z", "type": "commit"}, {"oid": "010d32cac1e7e7a0c991bc07b5e7e331a756a73e", "url": "https://github.com/ls1intum/Artemis/commit/010d32cac1e7e7a0c991bc07b5e7e331a756a73e", "message": "Fixed possible Nullpointer", "committedDate": "2020-10-07T16:36:20Z", "type": "commit"}, {"oid": "0de58d170bb910d5b4f1c4abb9b310d2c6dad527", "url": "https://github.com/ls1intum/Artemis/commit/0de58d170bb910d5b4f1c4abb9b310d2c6dad527", "message": "Fixed Checkstyle Errors", "committedDate": "2020-10-07T20:27:54Z", "type": "commit"}, {"oid": "650fa04416e9494af0d0587141dc362893414bca", "url": "https://github.com/ls1intum/Artemis/commit/650fa04416e9494af0d0587141dc362893414bca", "message": "Made all relationships uni directional", "committedDate": "2020-10-08T09:00:26Z", "type": "commit"}, {"oid": "ba761e97da047989d8d3062de26205c42d8180ba", "url": "https://github.com/ls1intum/Artemis/commit/ba761e97da047989d8d3062de26205c42d8180ba", "message": "CREATE + Tests implemented", "committedDate": "2020-10-08T10:04:14Z", "type": "commit"}, {"oid": "645d51121e00faab5eaa630deeacb0c49438a3f0", "url": "https://github.com/ls1intum/Artemis/commit/645d51121e00faab5eaa630deeacb0c49438a3f0", "message": "Frontend Prototype", "committedDate": "2020-10-09T08:19:18Z", "type": "commit"}, {"oid": "df28f1e74a31c3c4b22e3dc2c14c400a27f88c63", "url": "https://github.com/ls1intum/Artemis/commit/df28f1e74a31c3c4b22e3dc2c14c400a27f88c63", "message": "Merge branch 'develop' into feature/learning-goal/rest", "committedDate": "2020-10-09T08:22:27Z", "type": "commit"}, {"oid": "f387c5dd84ebb7d13c801f3ffbb548a1a4741ebd", "url": "https://github.com/ls1intum/Artemis/commit/f387c5dd84ebb7d13c801f3ffbb548a1a4741ebd", "message": "Implemented functionality to creater / update learning goals", "committedDate": "2020-10-09T13:36:51Z", "type": "commit"}, {"oid": "3d3477954b697285a8ce191b3577f066732a4323", "url": "https://github.com/ls1intum/Artemis/commit/3d3477954b697285a8ce191b3577f066732a4323", "message": "Server Changes", "committedDate": "2020-10-11T20:57:27Z", "type": "commit"}, {"oid": "463eb24f5b02f7ef9b095630b198e73f3a0a56dd", "url": "https://github.com/ls1intum/Artemis/commit/463eb24f5b02f7ef9b095630b198e73f3a0a56dd", "message": "Removed Learning Goal Frontend as it belongs in a different PR", "committedDate": "2020-10-15T11:57:22Z", "type": "commit"}, {"oid": "adad5d9949df2dba1e1e9109670e8d3dfe006de0", "url": "https://github.com/ls1intum/Artemis/commit/adad5d9949df2dba1e1e9109670e8d3dfe006de0", "message": "Removed Server Parts not belonging to this PR", "committedDate": "2020-10-15T12:02:19Z", "type": "commit"}, {"oid": "055c09be1558ef88c3a30bc54ed211f9a6048ccd", "url": "https://github.com/ls1intum/Artemis/commit/055c09be1558ef88c3a30bc54ed211f9a6048ccd", "message": "Changed Entity Structure", "committedDate": "2020-10-15T13:17:18Z", "type": "commit"}, {"oid": "2728a8d3a84dbaf4212e7677843a81aeb56a2d6d", "url": "https://github.com/ls1intum/Artemis/commit/2728a8d3a84dbaf4212e7677843a81aeb56a2d6d", "message": "Created Liquibase Changelog", "committedDate": "2020-10-16T10:00:46Z", "type": "commit"}, {"oid": "7f74fba6d8d5fdfe15277569f5456c362992b540", "url": "https://github.com/ls1intum/Artemis/commit/7f74fba6d8d5fdfe15277569f5456c362992b540", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/database", "committedDate": "2020-10-16T10:03:18Z", "type": "commit"}, {"oid": "543dd3e6060956b614905c5f68201f15496e78bc", "url": "https://github.com/ls1intum/Artemis/commit/543dd3e6060956b614905c5f68201f15496e78bc", "message": "Fixed liquibase changelog", "committedDate": "2020-10-16T10:04:24Z", "type": "commit"}, {"oid": "3eecea2e3dbcaca252a78b371d329f311b41067a", "url": "https://github.com/ls1intum/Artemis/commit/3eecea2e3dbcaca252a78b371d329f311b41067a", "message": "Removed not needed routes", "committedDate": "2020-10-16T10:11:33Z", "type": "commit"}, {"oid": "36550db61f59f14da89c0e874997776461ca1acb", "url": "https://github.com/ls1intum/Artemis/commit/36550db61f59f14da89c0e874997776461ca1acb", "message": "Fixed javadoc", "committedDate": "2020-10-16T10:17:33Z", "type": "commit"}, {"oid": "076fdb3ebc36c94cb8b01c43a96abefe30e0c128", "url": "https://github.com/ls1intum/Artemis/commit/076fdb3ebc36c94cb8b01c43a96abefe30e0c128", "message": "Created Repositories", "committedDate": "2020-10-16T10:42:07Z", "type": "commit"}, {"oid": "869b3118570717cc44384b8a3cf01c0c43fa73ac", "url": "https://github.com/ls1intum/Artemis/commit/869b3118570717cc44384b8a3cf01c0c43fa73ac", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/database", "committedDate": "2020-10-16T10:45:12Z", "type": "commit"}, {"oid": "3251d34d95b0baef3649ca278416b81123d2ba7b", "url": "https://github.com/ls1intum/Artemis/commit/3251d34d95b0baef3649ca278416b81123d2ba7b", "message": "Basic Routing Setup For Lecture Module Management", "committedDate": "2020-10-16T14:41:31Z", "type": "commit"}, {"oid": "ba593ba53735a6307c650e4d03cfb52f2e5301ac", "url": "https://github.com/ls1intum/Artemis/commit/ba593ba53735a6307c650e4d03cfb52f2e5301ac", "message": "Fixed Small Mistake in Translation File", "committedDate": "2020-10-16T14:44:53Z", "type": "commit"}, {"oid": "e8d9331aab07d7b7fe8c07b693abcab023d5bec0", "url": "https://github.com/ls1intum/Artemis/commit/e8d9331aab07d7b7fe8c07b693abcab023d5bec0", "message": "Created Module Creation Card Component", "committedDate": "2020-10-17T14:38:59Z", "type": "commit"}, {"oid": "b87c42c158c3e834d759dd2baeacc16434963f2f", "url": "https://github.com/ls1intum/Artemis/commit/b87c42c158c3e834d759dd2baeacc16434963f2f", "message": "Renamed Files to correct name \"Module\"", "committedDate": "2020-10-18T12:04:38Z", "type": "commit"}, {"oid": "78153c6a603e83d79f5274debdd09425a5ee9b16", "url": "https://github.com/ls1intum/Artemis/commit/78153c6a603e83d79f5274debdd09425a5ee9b16", "message": "Created Models for HTMLModule on the Client Side", "committedDate": "2020-10-18T12:05:29Z", "type": "commit"}, {"oid": "f574e4edbcb18d2fd1cd38bbfbb135f389a4dcfd", "url": "https://github.com/ls1intum/Artemis/commit/f574e4edbcb18d2fd1cd38bbfbb135f389a4dcfd", "message": "Fixed json", "committedDate": "2020-10-18T12:05:38Z", "type": "commit"}, {"oid": "c4459b02fe9726481940016227b10ef8d9db393e", "url": "https://github.com/ls1intum/Artemis/commit/c4459b02fe9726481940016227b10ef8d9db393e", "message": "Setup For Creation of HTMLLectureModules", "committedDate": "2020-10-18T12:06:13Z", "type": "commit"}, {"oid": "16a5c5981cb4706ada13c250a40641590b073109", "url": "https://github.com/ls1intum/Artemis/commit/16a5c5981cb4706ada13c250a40641590b073109", "message": "Basic Setup to Create HTMLModules", "committedDate": "2020-10-19T14:09:21Z", "type": "commit"}, {"oid": "f60b976bb342ef2bd42a0494162095b45e206c19", "url": "https://github.com/ls1intum/Artemis/commit/f60b976bb342ef2bd42a0494162095b45e206c19", "message": "updated entities according to advisor feedback", "committedDate": "2020-10-19T16:31:05Z", "type": "commit"}, {"oid": "1db33eacf4ea0298ae7ab2d8dc340b25a2daa23e", "url": "https://github.com/ls1intum/Artemis/commit/1db33eacf4ea0298ae7ab2d8dc340b25a2daa23e", "message": "Updated liquibase", "committedDate": "2020-10-19T16:41:52Z", "type": "commit"}, {"oid": "bec1933c52022d16a9bdb1b54cbdb62ed561bb84", "url": "https://github.com/ls1intum/Artemis/commit/bec1933c52022d16a9bdb1b54cbdb62ed561bb84", "message": "Fixed Codacy Issues", "committedDate": "2020-10-19T16:46:39Z", "type": "commit"}, {"oid": "3729e639ed2977c0502be41133973ee96b770a8d", "url": "https://github.com/ls1intum/Artemis/commit/3729e639ed2977c0502be41133973ee96b770a8d", "message": "Merge branch 'feature/lecture-modules-learning-goals/database' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-19T18:57:37Z", "type": "commit"}, {"oid": "a8f0cf90f9e60e8f7698c0e88763489adfad1010", "url": "https://github.com/ls1intum/Artemis/commit/a8f0cf90f9e60e8f7698c0e88763489adfad1010", "message": "Fixing Merge Conflicts", "committedDate": "2020-10-19T19:12:03Z", "type": "commit"}, {"oid": "5e2d2936776f5d4898b15dc685cfff8b6f82c08c", "url": "https://github.com/ls1intum/Artemis/commit/5e2d2936776f5d4898b15dc685cfff8b6f82c08c", "message": "Merge fixes", "committedDate": "2020-10-19T19:17:35Z", "type": "commit"}, {"oid": "b5f9a1d2d2c0f2cba80d847d55964a5cad87830b", "url": "https://github.com/ls1intum/Artemis/commit/b5f9a1d2d2c0f2cba80d847d55964a5cad87830b", "message": "Renamed module to unit", "committedDate": "2020-10-19T19:18:19Z", "type": "commit"}, {"oid": "d14e89c295d849c00b0abde61c71aa242eeb0a63", "url": "https://github.com/ls1intum/Artemis/commit/d14e89c295d849c00b0abde61c71aa242eeb0a63", "message": "Merge branch 'feature/lecture-modules-learning-goals/database' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-19T19:18:34Z", "type": "commit"}, {"oid": "99654a9cb9d2d6456007350571c1da3a676e7c23", "url": "https://github.com/ls1intum/Artemis/commit/99654a9cb9d2d6456007350571c1da3a676e7c23", "message": "Changed modules to units", "committedDate": "2020-10-19T19:19:42Z", "type": "commit"}, {"oid": "48765c948271f0ffdcfcf5816eb9cda928b91527", "url": "https://github.com/ls1intum/Artemis/commit/48765c948271f0ffdcfcf5816eb9cda928b91527", "message": "Changed Module to Unit", "committedDate": "2020-10-19T19:49:54Z", "type": "commit"}, {"oid": "9f1b99bea8d3d4504c5bccb05c99b91721ae1cbb", "url": "https://github.com/ls1intum/Artemis/commit/9f1b99bea8d3d4504c5bccb05c99b91721ae1cbb", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/database", "committedDate": "2020-10-21T21:33:19Z", "type": "commit"}, {"oid": "63fedca269619fb206c0bdf561bedb9bf153c20c", "url": "https://github.com/ls1intum/Artemis/commit/63fedca269619fb206c0bdf561bedb9bf153c20c", "message": "Added Correct Cache Annotation", "committedDate": "2020-10-21T21:37:10Z", "type": "commit"}, {"oid": "7fca15e9a156e2d9d7f7a1d61954154549a86aef", "url": "https://github.com/ls1intum/Artemis/commit/7fca15e9a156e2d9d7f7a1d61954154549a86aef", "message": "Changed Name from HTML to Text", "committedDate": "2020-10-21T21:47:06Z", "type": "commit"}, {"oid": "81ee6c45a18ee670baf6721bbb08c29d52ba1d28", "url": "https://github.com/ls1intum/Artemis/commit/81ee6c45a18ee670baf6721bbb08c29d52ba1d28", "message": "Created ExerciseUnitservice", "committedDate": "2020-10-21T21:51:18Z", "type": "commit"}, {"oid": "44372c2b9dc1e946b16b24b8eaf8623775cc1ca6", "url": "https://github.com/ls1intum/Artemis/commit/44372c2b9dc1e946b16b24b8eaf8623775cc1ca6", "message": "Exercise Unit Setup", "committedDate": "2020-10-22T20:01:12Z", "type": "commit"}, {"oid": "77f2e1db753297ed5d71c7955eb6dd0a0c81498c", "url": "https://github.com/ls1intum/Artemis/commit/77f2e1db753297ed5d71c7955eb6dd0a0c81498c", "message": "Work on Exercise Units", "committedDate": "2020-10-22T20:02:12Z", "type": "commit"}, {"oid": "a9b1f6956c24996dc1ce6b31432ada73a5521add", "url": "https://github.com/ls1intum/Artemis/commit/a9b1f6956c24996dc1ce6b31432ada73a5521add", "message": "Reworked Exercise Unit Functionality", "committedDate": "2020-10-23T17:44:13Z", "type": "commit"}, {"oid": "230c2c4fbb2e38aece29bcc553dc9568967a878f", "url": "https://github.com/ls1intum/Artemis/commit/230c2c4fbb2e38aece29bcc553dc9568967a878f", "message": "Added translation for lecture unit order update", "committedDate": "2020-10-23T17:47:44Z", "type": "commit"}, {"oid": "b152719591c709ab5e9cd9d41744537e0f612dbe", "url": "https://github.com/ls1intum/Artemis/commit/b152719591c709ab5e9cd9d41744537e0f612dbe", "message": "Merge branch 'feature/lecture-modules-learning-goals/database' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-23T17:53:50Z", "type": "commit"}, {"oid": "d3f6e2a3eafd0da4dacf78fbbb658d4de38c79f6", "url": "https://github.com/ls1intum/Artemis/commit/d3f6e2a3eafd0da4dacf78fbbb658d4de38c79f6", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-23T17:54:27Z", "type": "commit"}, {"oid": "4712f241a1b7c064f21a8278812e1e6d1babc81e", "url": "https://github.com/ls1intum/Artemis/commit/4712f241a1b7c064f21a8278812e1e6d1babc81e", "message": "Further merge conflict fixed", "committedDate": "2020-10-23T18:30:59Z", "type": "commit"}, {"oid": "0a53650a4c2a0989005ecd884bdd9de846c73fb7", "url": "https://github.com/ls1intum/Artemis/commit/0a53650a4c2a0989005ecd884bdd9de846c73fb7", "message": "Implemented Release Date Blocking for Lecture Units", "committedDate": "2020-10-23T22:22:30Z", "type": "commit"}, {"oid": "1af1e718ce0f00a33c2266a7589d4a8a283be7ef", "url": "https://github.com/ls1intum/Artemis/commit/1af1e718ce0f00a33c2266a7589d4a8a283be7ef", "message": "Removed distracting lecture unit order update alert", "committedDate": "2020-10-23T22:27:11Z", "type": "commit"}, {"oid": "ff631c3c284268e9ecb5b260ff32fac72d9a2a78", "url": "https://github.com/ls1intum/Artemis/commit/ff631c3c284268e9ecb5b260ff32fac72d9a2a78", "message": "Added Lecture Unit Section to Lecture Page", "committedDate": "2020-10-23T22:39:01Z", "type": "commit"}, {"oid": "4bd0ee83b4982acfa3a3f8cac027f113dbb6151a", "url": "https://github.com/ls1intum/Artemis/commit/4bd0ee83b4982acfa3a3f8cac027f113dbb6151a", "message": "Basic Attachment Units Setup", "committedDate": "2020-10-23T22:59:18Z", "type": "commit"}, {"oid": "8ff02d4f2e26416656e77c56e99761e0d2a5de55", "url": "https://github.com/ls1intum/Artemis/commit/8ff02d4f2e26416656e77c56e99761e0d2a5de55", "message": "Frontend Model created", "committedDate": "2020-10-23T23:04:37Z", "type": "commit"}, {"oid": "b53258abf8bb53c029f9871042bfcbbebda232d7", "url": "https://github.com/ls1intum/Artemis/commit/b53258abf8bb53c029f9871042bfcbbebda232d7", "message": "Added correct page title", "committedDate": "2020-10-23T23:17:29Z", "type": "commit"}, {"oid": "c7a73eddd6168f40218fb1b5c7c40d0b3bb5c05b", "url": "https://github.com/ls1intum/Artemis/commit/c7a73eddd6168f40218fb1b5c7c40d0b3bb5c05b", "message": "Completed Attachment Unit Functionality", "committedDate": "2020-10-26T16:23:45Z", "type": "commit"}, {"oid": "48b870b9c4dc050e2643174b707c6430fd4b6f03", "url": "https://github.com/ls1intum/Artemis/commit/48b870b9c4dc050e2643174b707c6430fd4b6f03", "message": "Refactored Creation of Attachment Unit into Create Component and Form\nComponent", "committedDate": "2020-10-26T18:36:21Z", "type": "commit"}, {"oid": "6e492ab82a507ab495388a583a0f8650b81ce458", "url": "https://github.com/ls1intum/Artemis/commit/6e492ab82a507ab495388a583a0f8650b81ce458", "message": "Removed \"hi\"", "committedDate": "2020-10-26T18:38:22Z", "type": "commit"}, {"oid": "1fa1408af0473fde2d7dd017390e9a0a60dbb61d", "url": "https://github.com/ls1intum/Artemis/commit/1fa1408af0473fde2d7dd017390e9a0a60dbb61d", "message": "Fixed Jackson Error", "committedDate": "2020-10-26T22:16:49Z", "type": "commit"}, {"oid": "cc86e590f3a84097ef2f81165e9d5e7ca04a5185", "url": "https://github.com/ls1intum/Artemis/commit/cc86e590f3a84097ef2f81165e9d5e7ca04a5185", "message": "Edit Attachment Functionality Implemented", "committedDate": "2020-10-28T15:55:43Z", "type": "commit"}, {"oid": "f4651a1e5f054606f4540aeab3f2f56485c52daa", "url": "https://github.com/ls1intum/Artemis/commit/f4651a1e5f054606f4540aeab3f2f56485c52daa", "message": "Refactored Server Rest Endpoints", "committedDate": "2020-10-28T16:49:36Z", "type": "commit"}, {"oid": "3b7c2c6b115706a06e32812f0cc7725d2ba2ba56", "url": "https://github.com/ls1intum/Artemis/commit/3b7c2c6b115706a06e32812f0cc7725d2ba2ba56", "message": "Made sure that when exercises are delete the corresponding\nexercise units are also deleted", "committedDate": "2020-10-28T18:52:32Z", "type": "commit"}, {"oid": "a160dc8f368148029cf41c4dee224ee1279eb0d1", "url": "https://github.com/ls1intum/Artemis/commit/a160dc8f368148029cf41c4dee224ee1279eb0d1", "message": "Added german translation", "committedDate": "2020-10-28T20:24:11Z", "type": "commit"}, {"oid": "58e7537fdb76a6b0f58236950613748f32c70d13", "url": "https://github.com/ls1intum/Artemis/commit/58e7537fdb76a6b0f58236950613748f32c70d13", "message": "Removed Empty Test Scaffolds", "committedDate": "2020-10-28T20:26:47Z", "type": "commit"}, {"oid": "3b7385fb366c830b5e00db5a6589b2873888c28b", "url": "https://github.com/ls1intum/Artemis/commit/3b7385fb366c830b5e00db5a6589b2873888c28b", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-28T20:31:23Z", "type": "commit"}, {"oid": "2b346f09d911b63f5cc9b303fc4445897b5d3af5", "url": "https://github.com/ls1intum/Artemis/commit/2b346f09d911b63f5cc9b303fc4445897b5d3af5", "message": "Added file upload error to creation page", "committedDate": "2020-10-28T20:49:41Z", "type": "commit"}, {"oid": "af5de724baf6311ccd76be7474dcc0897fb9a632", "url": "https://github.com/ls1intum/Artemis/commit/af5de724baf6311ccd76be7474dcc0897fb9a632", "message": "Added javadoc", "committedDate": "2020-10-28T21:39:46Z", "type": "commit"}, {"oid": "de1f9eb0bd5f614a4ddf5a8a2b3fc41ffec81f7d", "url": "https://github.com/ls1intum/Artemis/commit/de1f9eb0bd5f614a4ddf5a8a2b3fc41ffec81f7d", "message": "Fixed Codacy Issues", "committedDate": "2020-10-28T22:01:31Z", "type": "commit"}, {"oid": "6f0bc78e615e7dd9ed75a3d78af80a9feec181d7", "url": "https://github.com/ls1intum/Artemis/commit/6f0bc78e615e7dd9ed75a3d78af80a9feec181d7", "message": "Removed test scaffold", "committedDate": "2020-10-28T22:03:22Z", "type": "commit"}, {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27", "url": "https://github.com/ls1intum/Artemis/commit/56728e350b1d8d8275795e67a1baa258d20c8e27", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-29T10:59:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI1Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182257", "bodyText": "Codacy found an issue: Useless parentheses.", "author": "artemis-bot", "createdAt": "2020-10-29T11:18:04Z", "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -311,6 +312,24 @@ public boolean isAllowedToSeeExercise(Exercise exercise, User user) {\n         return isInstructorInCourse(course, user) || isTeachingAssistantInCourse(course, user) || (isStudentInCourse(course, user) && exercise.isVisibleToStudents());\n     }\n \n+    /**\n+     * Determines if a user is allowed to see a lecture unit\n+     *\n+     * @param lectureUnit the lectureUnit for which to check permission\n+     * @param user        the user for which to check permission\n+     * @return true if the user is allowed, false otherwise\n+     */\n+    public boolean isAllowedToSeeLectureUnit(LectureUnit lectureUnit, User user) {\n+        if (user == null || user.getGroups() == null) {\n+            user = userService.getUserWithGroupsAndAuthorities();\n+        }\n+        if (isAdmin(user)) {\n+            return true;\n+        }\n+        Course course = lectureUnit.getLecture().getCourse();\n+        return isInstructorInCourse(course, user) || isTeachingAssistantInCourse(course, user) || (isStudentInCourse(course, user) && lectureUnit.isVisibleToStudents());", "originalCommit": "56728e350b1d8d8275795e67a1baa258d20c8e27", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI2Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182267", "bodyText": "Codacy found an issue: Avoid reassigning parameters such as 'user'", "author": "artemis-bot", "createdAt": "2020-10-29T11:18:05Z", "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -311,6 +312,24 @@ public boolean isAllowedToSeeExercise(Exercise exercise, User user) {\n         return isInstructorInCourse(course, user) || isTeachingAssistantInCourse(course, user) || (isStudentInCourse(course, user) && exercise.isVisibleToStudents());\n     }\n \n+    /**\n+     * Determines if a user is allowed to see a lecture unit\n+     *\n+     * @param lectureUnit the lectureUnit for which to check permission\n+     * @param user        the user for which to check permission\n+     * @return true if the user is allowed, false otherwise\n+     */\n+    public boolean isAllowedToSeeLectureUnit(LectureUnit lectureUnit, User user) {", "originalCommit": "56728e350b1d8d8275795e67a1baa258d20c8e27", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI3Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182272", "bodyText": "Codacy found an issue: Avoid long parameter lists.", "author": "artemis-bot", "createdAt": "2020-10-29T11:18:06Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "diffHunk": "@@ -64,11 +65,13 @@\n \n     private final TeamService teamService;\n \n-    public ExerciseService(ExerciseRepository exerciseRepository, ParticipationService participationService, AuthorizationCheckService authCheckService,\n-            ProgrammingExerciseService programmingExerciseService, QuizExerciseService quizExerciseService, QuizScheduleService quizScheduleService,\n-            TutorParticipationRepository tutorParticipationRepository, ExampleSubmissionService exampleSubmissionService, AuditEventRepository auditEventRepository,\n-            ComplaintRepository complaintRepository, ComplaintResponseRepository complaintResponseRepository, TeamService teamService, StudentExamRepository studentExamRepository,\n-            ExamRepository exampRepository) {\n+    private final ExerciseUnitRepository exerciseUnitRepository;\n+\n+    public ExerciseService(ExerciseRepository exerciseRepository, ExerciseUnitRepository exerciseUnitRepository, ParticipationService participationService,", "originalCommit": "56728e350b1d8d8275795e67a1baa258d20c8e27", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182287", "bodyText": "Codacy found an issue: Avoid unused private fields such as 'visibleToStudents'.", "author": "artemis-bot", "createdAt": "2020-10-29T11:18:07Z", "path": "src/main/java/de/tum/in/www1/artemis/domain/lecture_unit/LectureUnit.java", "diffHunk": "@@ -0,0 +1,104 @@\n+package de.tum.in.www1.artemis.domain.lecture_unit;\n+\n+import java.time.ZonedDateTime;\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+import javax.persistence.*;\n+\n+import org.hibernate.annotations.Cache;\n+import org.hibernate.annotations.CacheConcurrencyStrategy;\n+import org.hibernate.annotations.DiscriminatorOptions;\n+\n+import com.fasterxml.jackson.annotation.JsonInclude;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.annotation.JsonSubTypes;\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+\n+import de.tum.in.www1.artemis.domain.DomainObject;\n+import de.tum.in.www1.artemis.domain.LearningGoal;\n+import de.tum.in.www1.artemis.domain.Lecture;\n+\n+@Entity\n+@Table(name = \"lecture_unit\")\n+@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n+@DiscriminatorColumn(name = \"discriminator\", discriminatorType = DiscriminatorType.STRING)\n+@DiscriminatorValue(\"L\")\n+@DiscriminatorOptions(force = true)\n+@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n+@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = \"type\")\n+@JsonInclude(JsonInclude.Include.NON_EMPTY)\n+// Annotation necessary to distinguish between concrete implementations of lecture-content when deserializing from JSON\n+@JsonSubTypes({ @JsonSubTypes.Type(value = AttachmentUnit.class, name = \"attachment\"), @JsonSubTypes.Type(value = ExerciseUnit.class, name = \"exercise\"),\n+        @JsonSubTypes.Type(value = TextUnit.class, name = \"text\"), @JsonSubTypes.Type(value = VideoUnit.class, name = \"video\"), })\n+public abstract class LectureUnit extends DomainObject {\n+\n+    @Transient\n+    private boolean visibleToStudents;", "originalCommit": "56728e350b1d8d8275795e67a1baa258d20c8e27", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "60e3b3c949e1bd928e0fc831f6d5541485d99af5", "url": "https://github.com/ls1intum/Artemis/commit/60e3b3c949e1bd928e0fc831f6d5541485d99af5", "message": "Server Test for ExerciseUnit", "committedDate": "2020-10-29T16:13:12Z", "type": "commit"}, {"oid": "3d8d970010abee9aad1d569c0ff11c46438a513c", "url": "https://github.com/ls1intum/Artemis/commit/3d8d970010abee9aad1d569c0ff11c46438a513c", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-29T16:14:20Z", "type": "commit"}, {"oid": "11cd2010cfeca4e9aa6147d556b3050a15f06a7a", "url": "https://github.com/ls1intum/Artemis/commit/11cd2010cfeca4e9aa6147d556b3050a15f06a7a", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-29T16:23:35Z", "type": "commit"}, {"oid": "f76456377e1f646f2fe0939b5c07f837ef7e61e3", "url": "https://github.com/ls1intum/Artemis/commit/f76456377e1f646f2fe0939b5c07f837ef7e61e3", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-29T16:55:03Z", "type": "commit"}, {"oid": "c79c520a08eb412c66659664606f6d7c4ca8c1a7", "url": "https://github.com/ls1intum/Artemis/commit/c79c520a08eb412c66659664606f6d7c4ca8c1a7", "message": "Fixed Tests", "committedDate": "2020-10-29T17:21:04Z", "type": "commit"}, {"oid": "ba88edd919e6852a0979a529f8aa9233713cc1a8", "url": "https://github.com/ls1intum/Artemis/commit/ba88edd919e6852a0979a529f8aa9233713cc1a8", "message": "Wrote Tests for AttachmentUnitResouce", "committedDate": "2020-10-29T18:53:03Z", "type": "commit"}, {"oid": "74503a8046468afafc23615b866a31e03b0ede02", "url": "https://github.com/ls1intum/Artemis/commit/74503a8046468afafc23615b866a31e03b0ede02", "message": "Included Test for Delete for AttachmentUnitIntegrationTest", "committedDate": "2020-10-29T19:07:16Z", "type": "commit"}, {"oid": "38c14d1c39e182a80f38cfd14a10febf0b463ce1", "url": "https://github.com/ls1intum/Artemis/commit/38c14d1c39e182a80f38cfd14a10febf0b463ce1", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules", "committedDate": "2020-10-29T22:25:41Z", "type": "commit"}, {"oid": "f1d544f02aac20cee3034017d1cbf51e101c32df", "url": "https://github.com/ls1intum/Artemis/commit/f1d544f02aac20cee3034017d1cbf51e101c32df", "message": "Wrote Simple Test for ExerciseUnit", "committedDate": "2020-10-30T06:52:51Z", "type": "commit"}, {"oid": "12015ca54799fc5cf37c189dbc6815708e7ec344", "url": "https://github.com/ls1intum/Artemis/commit/12015ca54799fc5cf37c189dbc6815708e7ec344", "message": "Created Simple Test for Lecture-Unit-Management", "committedDate": "2020-10-30T07:58:00Z", "type": "commit"}, {"oid": "d85bc372e6262ae3ade916ae2d65224fc55a6baa", "url": "https://github.com/ls1intum/Artemis/commit/d85bc372e6262ae3ade916ae2d65224fc55a6baa", "message": "Updated Test with Spies", "committedDate": "2020-10-30T08:27:13Z", "type": "commit"}, {"oid": "8a491166cf0bc93ae6777a61fc4226721b6706db", "url": "https://github.com/ls1intum/Artemis/commit/8a491166cf0bc93ae6777a61fc4226721b6706db", "message": "Fixed Test", "committedDate": "2020-10-30T08:31:00Z", "type": "commit"}, {"oid": "6f178e08b604803c7085d166cdd5a844ba64b5d4", "url": "https://github.com/ls1intum/Artemis/commit/6f178e08b604803c7085d166cdd5a844ba64b5d4", "message": "Added more tests", "committedDate": "2020-10-30T09:02:57Z", "type": "commit"}, {"oid": "0698efdf6a7f9f63f0d06a1c06df538aadbd7c36", "url": "https://github.com/ls1intum/Artemis/commit/0698efdf6a7f9f63f0d06a1c06df538aadbd7c36", "message": "Set Missing Input Property", "committedDate": "2020-10-30T09:38:24Z", "type": "commit"}, {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "url": "https://github.com/ls1intum/Artemis/commit/b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "message": "Updated package names", "committedDate": "2020-10-30T10:06:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNDQzOQ==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515004439", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n          \n      \n    \n    \n  \n\nI guess those are exclusive options? So to make this more explicit use else if.", "author": "jpbernius", "createdAt": "2020-10-30T10:35:20Z", "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -78,6 +83,10 @@ public void onLoad() {\n         if (attachmentType == AttachmentType.FILE && getLecture() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n             link = link.replace(Constants.FILEPATH_ID_PLACHEOLDER, getLecture().getId().toString());\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {", "originalCommit": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNDYyNw==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515004627", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n      \n    \n    \n  \n\nsee above", "author": "jpbernius", "createdAt": "2020-10-30T10:35:46Z", "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -92,14 +101,26 @@ public void beforeCreate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "originalCommit": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNzYzNw==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515007637", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getAttachmentUnit() != null) {", "author": "jpbernius", "createdAt": "2020-10-30T10:41:39Z", "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -92,14 +101,26 @@ public void beforeCreate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n+            // move file if necessary (id at this point will be null, so placeholder will be inserted)\n+            link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getAttachmentUnitFilePath() + getAttachmentUnit().getId() + '/',\n+                    getAttachmentUnit().getId(), true);\n+        }\n     }\n \n+    /**\n+     * Will be called after the entity is persisted (saved).\n+     * Manages files by taking care of file system changes for this entity.\n+     */\n     @PostPersist\n     public void afterCreate() {\n         // replace placeholder with actual id if necessary (id is no longer null at this point)\n-        if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n+        if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getLecture() != null) {\n             link = link.replace(Constants.FILEPATH_ID_PLACHEOLDER, getLecture().getId().toString());\n         }\n+        if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getAttachmentUnit() != null) {", "originalCommit": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNzg5NA==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515007894", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "author": "jpbernius", "createdAt": "2020-10-30T10:42:08Z", "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -113,14 +134,28 @@ public void onUpdate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "originalCommit": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwODA4MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515008081", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "author": "jpbernius", "createdAt": "2020-10-30T10:42:29Z", "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -113,14 +134,28 @@ public void onUpdate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n+            // move file and delete old file if necessary\n+            link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getAttachmentUnitFilePath() + getAttachmentUnit().getId() + '/',\n+                    getAttachmentUnit().getId(), true);\n+        }\n     }\n \n+    /**\n+     * Will be called after the entity is removed (deleted).\n+     * Manages files by taking care of file system changes for this entity.\n+     */\n     @PostRemove\n     public void onDelete() {\n         if (attachmentType == AttachmentType.FILE && getLecture() != null) {\n             // delete old file if necessary\n             fileService.manageFilesForUpdatedFilePath(prevLink, null, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(), true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "originalCommit": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}