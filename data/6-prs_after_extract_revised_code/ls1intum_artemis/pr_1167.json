{"pr_number": 1167, "pr_title": "Remove participation websocket subscription", "pr_createdAt": "2020-01-04T22:15:49Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1167", "timeline": [{"oid": "203e7a25d081b3b0ed7a8145d085f8a89a2aaf8b", "url": "https://github.com/ls1intum/Artemis/commit/203e7a25d081b3b0ed7a8145d085f8a89a2aaf8b", "message": "remove participation websocket for course overview and exericse details", "committedDate": "2019-12-17T14:27:24Z", "type": "commit"}, {"oid": "ae1daa1e4dcc35a5fbd40448247626da8c578994", "url": "https://github.com/ls1intum/Artemis/commit/ae1daa1e4dcc35a5fbd40448247626da8c578994", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2019-12-18T00:42:39Z", "type": "commit"}, {"oid": "e49f79fc69f17ca645dda872e0c8142755c3bda5", "url": "https://github.com/ls1intum/Artemis/commit/e49f79fc69f17ca645dda872e0c8142755c3bda5", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2019-12-18T12:03:31Z", "type": "commit"}, {"oid": "040a7f904059ee6f42dae90bbc65d66059a83b67", "url": "https://github.com/ls1intum/Artemis/commit/040a7f904059ee6f42dae90bbc65d66059a83b67", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2019-12-23T18:28:12Z", "type": "commit"}, {"oid": "f1cc8dd6a7c0c13946e7342e06481ef1e960d447", "url": "https://github.com/ls1intum/Artemis/commit/f1cc8dd6a7c0c13946e7342e06481ef1e960d447", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2019-12-31T16:56:35Z", "type": "commit"}, {"oid": "12f7086e0d958ed5572225dc21088ac85d5b77c8", "url": "https://github.com/ls1intum/Artemis/commit/12f7086e0d958ed5572225dc21088ac85d5b77c8", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2019-12-31T16:56:57Z", "type": "commit"}, {"oid": "6c62436684a2c2906951ad7908198061948c6ed6", "url": "https://github.com/ls1intum/Artemis/commit/6c62436684a2c2906951ad7908198061948c6ed6", "message": "properly add participation to cache after submission", "committedDate": "2020-01-01T12:43:02Z", "type": "commit"}, {"oid": "086484395a78e04fb588183f78712eb00ccb264b", "url": "https://github.com/ls1intum/Artemis/commit/086484395a78e04fb588183f78712eb00ccb264b", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2020-01-04T22:16:22Z", "type": "commit"}, {"oid": "76b4feb70a7fab6d2cfbbd6d4062368ad6f3e248", "url": "https://github.com/ls1intum/Artemis/commit/76b4feb70a7fab6d2cfbbd6d4062368ad6f3e248", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2020-01-06T03:39:47Z", "type": "commit"}, {"oid": "53c359a8056450b6f8419d6a58baff381f357703", "url": "https://github.com/ls1intum/Artemis/commit/53c359a8056450b6f8419d6a58baff381f357703", "message": "make sure the submission status is displayed properly", "committedDate": "2020-01-07T13:46:54Z", "type": "commit"}, {"oid": "bf78c586acd6a08630d370e942d56ac2f128e18d", "url": "https://github.com/ls1intum/Artemis/commit/bf78c586acd6a08630d370e942d56ac2f128e18d", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2020-01-07T13:49:24Z", "type": "commit"}, {"oid": "2c9d5658d8dcfbcab2ffd4ff6c3138d4864a70b5", "url": "https://github.com/ls1intum/Artemis/commit/2c9d5658d8dcfbcab2ffd4ff6c3138d4864a70b5", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2020-01-08T14:36:51Z", "type": "commit"}, {"oid": "ba56ec23b154ad02d34a449abff78a2287491e9a", "url": "https://github.com/ls1intum/Artemis/commit/ba56ec23b154ad02d34a449abff78a2287491e9a", "message": "Only remove participation websocket subscription for inactive exercises", "committedDate": "2020-01-09T15:01:23Z", "type": "commit"}, {"oid": "1cf6310e8c126cf843861080e0dcdfced54dd58e", "url": "https://github.com/ls1intum/Artemis/commit/1cf6310e8c126cf843861080e0dcdfced54dd58e", "message": "Remove root services from modules", "committedDate": "2020-01-09T15:26:20Z", "type": "commit"}, {"oid": "6423e96a26fd94615c5d7e77ca5add069fb68051", "url": "https://github.com/ls1intum/Artemis/commit/6423e96a26fd94615c5d7e77ca5add069fb68051", "message": "Fix client tests by unbarreling service references", "committedDate": "2020-01-09T16:21:17Z", "type": "commit"}, {"oid": "74df938cd44fd8201bcd3a510819a22e3c1addd1", "url": "https://github.com/ls1intum/Artemis/commit/74df938cd44fd8201bcd3a510819a22e3c1addd1", "message": "Unbarrel CourseExerciseService\n\nAlso fix client tests", "committedDate": "2020-01-09T16:50:14Z", "type": "commit"}, {"oid": "2079c84e4b35654aa569775a2c368e6ca285c1ce", "url": "https://github.com/ls1intum/Artemis/commit/2079c84e4b35654aa569775a2c368e6ca285c1ce", "message": "Fix clien test by unbarreling IWebsocketService", "committedDate": "2020-01-09T16:56:16Z", "type": "commit"}, {"oid": "f659fda6371fb3f7e61bb07251acf3e9fd34f915", "url": "https://github.com/ls1intum/Artemis/commit/f659fda6371fb3f7e61bb07251acf3e9fd34f915", "message": "Unbarrel services and components from participation index.ts", "committedDate": "2020-01-09T17:59:21Z", "type": "commit"}, {"oid": "16de1c265b78cdf444266d26dd5e07576541dd6e", "url": "https://github.com/ls1intum/Artemis/commit/16de1c265b78cdf444266d26dd5e07576541dd6e", "message": "Unbarrel programming exercise services", "committedDate": "2020-01-09T18:10:59Z", "type": "commit"}, {"oid": "e282067e038b99758b4db04e4c61cf7b05f07eca", "url": "https://github.com/ls1intum/Artemis/commit/e282067e038b99758b4db04e4c61cf7b05f07eca", "message": "Unbarrel programming exercise components", "committedDate": "2020-01-09T18:15:15Z", "type": "commit"}, {"oid": "ad601b010cb89345ccb8dd1bcc69d84ac1d93e37", "url": "https://github.com/ls1intum/Artemis/commit/ad601b010cb89345ccb8dd1bcc69d84ac1d93e37", "message": "Fix wrong import in programming-exercise-instruction.spec", "committedDate": "2020-01-09T18:24:05Z", "type": "commit"}, {"oid": "1b67bfe16b4a8448772753e1ec8078ccaed2f2c6", "url": "https://github.com/ls1intum/Artemis/commit/1b67bfe16b4a8448772753e1ec8078ccaed2f2c6", "message": "Fix wrong import in programming-exercise-editable-instruction.spec", "committedDate": "2020-01-09T18:25:20Z", "type": "commit"}, {"oid": "8364521e03828f93d61bcb10b4647709f74d5855", "url": "https://github.com/ls1intum/Artemis/commit/8364521e03828f93d61bcb10b4647709f74d5855", "message": "Fix programming exercise import and test cases client tests", "committedDate": "2020-01-09T18:34:42Z", "type": "commit"}, {"oid": "d08c5f74b08be5f5da8a40bf20e044301a27b54b", "url": "https://github.com/ls1intum/Artemis/commit/d08c5f74b08be5f5da8a40bf20e044301a27b54b", "message": "Merge branch 'develop' into feature/remove-participation-websocket", "committedDate": "2020-01-09T22:02:16Z", "type": "commit"}, {"oid": "a21863dc78a3b0d436f2e00757370b3a0df66bbe", "url": "https://github.com/ls1intum/Artemis/commit/a21863dc78a3b0d436f2e00757370b3a0df66bbe", "message": "prevent null pointer exception in the rare case that there are multiple submissions and one of them does not have a submission date", "committedDate": "2020-01-09T23:17:31Z", "type": "commit"}, {"oid": "1e6c41dd5eaede632984cea184d5bcbb4c19a59b", "url": "https://github.com/ls1intum/Artemis/commit/1e6c41dd5eaede632984cea184d5bcbb4c19a59b", "message": "use updating result component again on the submission pages for text, modeling and file upload", "committedDate": "2020-01-09T23:20:50Z", "type": "commit"}, {"oid": "4c485ac4740b5fa971434ba1a41d8e0cb50b5cea", "url": "https://github.com/ls1intum/Artemis/commit/4c485ac4740b5fa971434ba1a41d8e0cb50b5cea", "message": "fix jsdoc", "committedDate": "2020-01-10T00:18:58Z", "type": "commit"}, {"oid": "efac07c1894dba27c0ad4ba2f118d1eeee1b3201", "url": "https://github.com/ls1intum/Artemis/commit/efac07c1894dba27c0ad4ba2f118d1eeee1b3201", "message": "fix tests", "committedDate": "2020-01-10T00:20:26Z", "type": "commit"}, {"oid": "06ea7c48401e1e7d6bccd14f86412f231f3d93c2", "url": "https://github.com/ls1intum/Artemis/commit/06ea7c48401e1e7d6bccd14f86412f231f3d93c2", "message": "fix logic error", "committedDate": "2020-01-10T00:29:37Z", "type": "commit"}, {"oid": "e15777da92e7fad0d38489a49647c6b433751761", "url": "https://github.com/ls1intum/Artemis/commit/e15777da92e7fad0d38489a49647c6b433751761", "message": "pass exercise to updating result component", "committedDate": "2020-01-10T01:11:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTE5MTUwMQ==", "url": "https://github.com/ls1intum/Artemis/pull/1167#discussion_r365191501", "bodyText": "This is not needed and can be removed.  Otherwise, use it in line 188.", "author": "jpbernius", "createdAt": "2020-01-10T11:28:31Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -178,13 +178,14 @@ public SolutionProgrammingExerciseParticipation save(SolutionProgrammingExercise\n      * repository / build plan related stuff for programming exercises. In the case of modeling or text exercises, it also initializes and stores the corresponding submission.\n      *\n      * @param exercise the exercise which is started\n-     * @param username the name of the user who starts the exercise\n+     * @param user the user who starts the exercise\n      * @return the participation connecting the given exercise and user\n      */\n-    public StudentParticipation startExercise(Exercise exercise, String username) {\n+    public StudentParticipation startExercise(Exercise exercise, User user) {\n         // common for all exercises\n         // Check if participation already exists\n-        Optional<StudentParticipation> optionalStudentParticipation = findOneByExerciseIdAndStudentLoginAnyState(exercise.getId(), username);\n+        var username = user.getLogin();", "originalCommit": "e15777da92e7fad0d38489a49647c6b433751761", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTIyODQxOQ==", "url": "https://github.com/ls1intum/Artemis/pull/1167#discussion_r365228419", "bodyText": "I removed it", "author": "krusche", "createdAt": "2020-01-10T13:16:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTE5MTUwMQ=="}], "type": "inlineReview", "revised_code": {"commit": "f622ab2d6df7d946cd3ab2e27ecbaaae147f828e", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java b/src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java\nindex 908d8cfa7c..2aa6216216 100644\n--- a/src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java\n+++ b/src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java\n\n@@ -184,7 +184,6 @@ public class ParticipationService {\n     public StudentParticipation startExercise(Exercise exercise, User user) {\n         // common for all exercises\n         // Check if participation already exists\n-        var username = user.getLogin();\n         Optional<StudentParticipation> optionalStudentParticipation = findOneByExerciseIdAndStudentLoginAnyState(exercise.getId(), user.getLogin());\n         StudentParticipation participation;\n         if (optionalStudentParticipation.isEmpty()) {\n"}}, {"oid": "f622ab2d6df7d946cd3ab2e27ecbaaae147f828e", "url": "https://github.com/ls1intum/Artemis/commit/f622ab2d6df7d946cd3ab2e27ecbaaae147f828e", "message": "remove unused code", "committedDate": "2020-01-10T13:04:42Z", "type": "commit"}, {"oid": "f692147a920deeac90dd6c92645a6ad92b0538cb", "url": "https://github.com/ls1intum/Artemis/commit/f692147a920deeac90dd6c92645a6ad92b0538cb", "message": "add check for the case when a model exercise sample solution is undefined", "committedDate": "2020-01-10T13:14:41Z", "type": "commit"}, {"oid": "ddb7308387e85dbf3a88e8b2243b733673226628", "url": "https://github.com/ls1intum/Artemis/commit/ddb7308387e85dbf3a88e8b2243b733673226628", "message": "Update src/main/webapp/app/overview/exercise-details/course-exercise-details.component.ts\n\nCo-Authored-By: Jan Philip Bernius <janphilip.bernius@tum.de>", "committedDate": "2020-01-10T14:02:07Z", "type": "commit"}]}