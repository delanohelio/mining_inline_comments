{"pr_number": 1354, "pr_title": "Show exercise participations for course on Team page", "pr_createdAt": "2020-04-26T19:47:36Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1354", "timeline": [{"oid": "6d7a315859aadd290bae684db50ded4b57923cad", "url": "https://github.com/ls1intum/Artemis/commit/6d7a315859aadd290bae684db50ded4b57923cad", "message": "Participation table on team detail page", "committedDate": "2020-04-26T19:45:06Z", "type": "commit"}, {"oid": "01a24a4037636f2dc02e48b3d3ce61dfded384ad", "url": "https://github.com/ls1intum/Artemis/commit/01a24a4037636f2dc02e48b3d3ce61dfded384ad", "message": "Error handling and styling", "committedDate": "2020-04-27T10:24:12Z", "type": "commit"}, {"oid": "dcd1e7416f673f781b8e7614198e5554320e15dc", "url": "https://github.com/ls1intum/Artemis/commit/dcd1e7416f673f781b8e7614198e5554320e15dc", "message": "Columns and styling", "committedDate": "2020-04-27T12:42:36Z", "type": "commit"}, {"oid": "297381eebfb6939192bd053ad9d55151e4c7ebf4", "url": "https://github.com/ls1intum/Artemis/commit/297381eebfb6939192bd053ad9d55151e4c7ebf4", "message": "Highlight current row", "committedDate": "2020-04-27T12:59:23Z", "type": "commit"}, {"oid": "564f88de855c1e591b05b88cca30ada8f808e846", "url": "https://github.com/ls1intum/Artemis/commit/564f88de855c1e591b05b88cca30ada8f808e846", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-27T13:02:20Z", "type": "commit"}, {"oid": "7249dae0f80c8367a79c22ceea1cdd5658ff9321", "url": "https://github.com/ls1intum/Artemis/commit/7249dae0f80c8367a79c22ceea1cdd5658ff9321", "message": "Styling", "committedDate": "2020-04-27T15:16:43Z", "type": "commit"}, {"oid": "24ce7935c4a86b1f33bd87b41a1a734e93904c16", "url": "https://github.com/ls1intum/Artemis/commit/24ce7935c4a86b1f33bd87b41a1a734e93904c16", "message": "Merge remote-tracking branch 'origin/feature/team-detail-page/list-submissions-for-course' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-27T15:18:04Z", "type": "commit"}, {"oid": "3e01939fee8bc6a24245c661e0f42632114e659a", "url": "https://github.com/ls1intum/Artemis/commit/3e01939fee8bc6a24245c661e0f42632114e659a", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-27T15:18:20Z", "type": "commit"}, {"oid": "15ac7072c8db37a733d9024190cffc1671180155", "url": "https://github.com/ls1intum/Artemis/commit/15ac7072c8db37a733d9024190cffc1671180155", "message": "Transitioning of data table", "committedDate": "2020-04-27T15:32:17Z", "type": "commit"}, {"oid": "65bbe006432f98147537e86d0c3a02c3db94fead", "url": "https://github.com/ls1intum/Artemis/commit/65bbe006432f98147537e86d0c3a02c3db94fead", "message": "Small fix", "committedDate": "2020-04-27T15:42:58Z", "type": "commit"}, {"oid": "4ce00d0e10ad5f08c7838044f375069d6a90fc74", "url": "https://github.com/ls1intum/Artemis/commit/4ce00d0e10ad5f08c7838044f375069d6a90fc74", "message": "Latest result not needed", "committedDate": "2020-04-27T16:05:18Z", "type": "commit"}, {"oid": "ffedef965840cd79cce1672ecab462f8b4e5e01b", "url": "https://github.com/ls1intum/Artemis/commit/ffedef965840cd79cce1672ecab462f8b4e5e01b", "message": "Server test", "committedDate": "2020-04-27T16:39:16Z", "type": "commit"}, {"oid": "2a52a433b09578f51c36ad5d6c582d170035b8ab", "url": "https://github.com/ls1intum/Artemis/commit/2a52a433b09578f51c36ad5d6c582d170035b8ab", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-28T09:48:24Z", "type": "commit"}, {"oid": "daf57008cf631618a7e32f9f4106c005660e9f2d", "url": "https://github.com/ls1intum/Artemis/commit/daf57008cf631618a7e32f9f4106c005660e9f2d", "message": "Handle no release date for exercise", "committedDate": "2020-04-28T11:37:17Z", "type": "commit"}, {"oid": "fcc435cd23f2f23aab97883904878a3d77b9b8e5", "url": "https://github.com/ls1intum/Artemis/commit/fcc435cd23f2f23aab97883904878a3d77b9b8e5", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-28T13:03:21Z", "type": "commit"}, {"oid": "b0af40c77424436f9c42ec2fdbd7edd80cc83fac", "url": "https://github.com/ls1intum/Artemis/commit/b0af40c77424436f9c42ec2fdbd7edd80cc83fac", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-28T14:50:55Z", "type": "commit"}, {"oid": "5412513985a53c2f48b44084fe01940bd03fc32a", "url": "https://github.com/ls1intum/Artemis/commit/5412513985a53c2f48b44084fe01940bd03fc32a", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-28T15:59:46Z", "type": "commit"}, {"oid": "0aeecf3f54185c57ce30f2d3e338527c5a7f8ab5", "url": "https://github.com/ls1intum/Artemis/commit/0aeecf3f54185c57ce30f2d3e338527c5a7f8ab5", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-04-29T08:07:35Z", "type": "commit"}, {"oid": "98b5042e651c117ea91ebaf44c5558113ff4fe3a", "url": "https://github.com/ls1intum/Artemis/commit/98b5042e651c117ea91ebaf44c5558113ff4fe3a", "message": "Also show team exercises for the corresponding team without participations (not yet started)", "committedDate": "2020-04-29T10:38:23Z", "type": "commit"}, {"oid": "8003bb75916990248de149fedc3557cedd49d248", "url": "https://github.com/ls1intum/Artemis/commit/8003bb75916990248de149fedc3557cedd49d248", "message": "- Also show the exercises in the team page of the students\n- Hide database IDs for normal users and only show them for admins for debugging purposes", "committedDate": "2020-04-29T11:02:29Z", "type": "commit"}, {"oid": "8b0c92891a91726dd42aef468dd7bb7640c09239", "url": "https://github.com/ls1intum/Artemis/commit/8b0c92891a91726dd42aef468dd7bb7640c09239", "message": "Refactoring + adapt tests", "committedDate": "2020-04-29T13:31:16Z", "type": "commit"}, {"oid": "79abdb11405db78f1b7d802204b9d855305a4ee5", "url": "https://github.com/ls1intum/Artemis/commit/79abdb11405db78f1b7d802204b9d855305a4ee5", "message": "Datatable column widths + adapt tests", "committedDate": "2020-04-29T14:59:22Z", "type": "commit"}, {"oid": "9adb5330a025521b3e7a31af6556ab9683ba98b5", "url": "https://github.com/ls1intum/Artemis/commit/9adb5330a025521b3e7a31af6556ab9683ba98b5", "message": "Missing param", "committedDate": "2020-04-29T15:15:21Z", "type": "commit"}, {"oid": "73ed6fa46c65ccf4393b2ad2a10e311e0a9a5597", "url": "https://github.com/ls1intum/Artemis/commit/73ed6fa46c65ccf4393b2ad2a10e311e0a9a5597", "message": "Fix short name exists path", "committedDate": "2020-04-29T15:22:55Z", "type": "commit"}, {"oid": "68d82ced4026ff936c60c39b49931fcbfb7953b1", "url": "https://github.com/ls1intum/Artemis/commit/68d82ced4026ff936c60c39b49931fcbfb7953b1", "message": "Fix column width", "committedDate": "2020-04-29T15:56:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgzODAwMQ==", "url": "https://github.com/ls1intum/Artemis/pull/1354#discussion_r417838001", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return A list of all users that belong to the team\n          \n          \n            \n                 * @return A set of all users that belong to the team", "author": "sleiss", "createdAt": "2020-04-30T08:20:56Z", "path": "src/main/java/de/tum/in/www1/artemis/service/UserService.java", "diffHunk": "@@ -747,6 +747,17 @@ public User updateUserNotificationReadDate() {\n         return userRepository.findAllInGroup(groupName);\n     }\n \n+    /**\n+     * Get all users in a given team\n+     *\n+     * @param course The course to which the team belongs (acts as a scope for the team short name)\n+     * @param teamShortName The short name of the team for which to get all students\n+     * @return A list of all users that belong to the team", "originalCommit": "68d82ced4026ff936c60c39b49931fcbfb7953b1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8b858812b45b063dbf194f44096028f53971e084", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/service/UserService.java b/src/main/java/de/tum/in/www1/artemis/service/UserService.java\nindex d236c421a..491759f83 100644\n--- a/src/main/java/de/tum/in/www1/artemis/service/UserService.java\n+++ b/src/main/java/de/tum/in/www1/artemis/service/UserService.java\n\n@@ -752,7 +752,7 @@ public class UserService {\n      *\n      * @param course The course to which the team belongs (acts as a scope for the team short name)\n      * @param teamShortName The short name of the team for which to get all students\n-     * @return A list of all users that belong to the team\n+     * @return A set of all users that belong to the team\n      */\n     public Set<User> findAllUsersInTeam(Course course, String teamShortName) {\n         return userRepository.findAllInTeam(course.getId(), teamShortName);\n"}}, {"oid": "8b858812b45b063dbf194f44096028f53971e084", "url": "https://github.com/ls1intum/Artemis/commit/8b858812b45b063dbf194f44096028f53971e084", "message": "Update src/main/java/de/tum/in/www1/artemis/service/UserService.java\n\nCo-Authored-By: Simon Lei\u00df <5084100+sleiss@users.noreply.github.com>", "committedDate": "2020-04-30T08:27:47Z", "type": "commit"}, {"oid": "5eabd9296a4deacee8e4f3d04cf621aeaad1b834", "url": "https://github.com/ls1intum/Artemis/commit/5eabd9296a4deacee8e4f3d04cf621aeaad1b834", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-05-03T13:08:27Z", "type": "commit"}, {"oid": "153e7bdb9c3f8812ba329c78178f23176d8fd813", "url": "https://github.com/ls1intum/Artemis/commit/153e7bdb9c3f8812ba329c78178f23176d8fd813", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-05-04T11:24:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM3NjE3MQ==", "url": "https://github.com/ls1intum/Artemis/pull/1354#discussion_r419376171", "bodyText": "Please use a new method called courseService.findOneWithTeamExercises which filters only for team exercises", "author": "krusche", "createdAt": "2020-05-04T11:42:27Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TeamResource.java", "diffHunk": "@@ -326,4 +331,53 @@ public TeamResource(TeamRepository teamRepository, TeamService teamService, Cour\n         return ResponseEntity.ok().body(destinationTeams);\n     }\n \n+    /**\n+     * GET /courses/:courseId/teams/:teamShortName/with-exercises-and-participations : get course \"id\" with all released exercises in which the team \"teamShortName\" exists\n+     * together with its participations for those exercises\n+     *\n+     * @param courseId id of the course\n+     * @param teamShortName short name of the team (all teams with the short name in the course are seen as the same team)\n+     * @return Course with exercises and participations for the team\n+     */\n+    @GetMapping(value = \"/courses/{courseId}/teams/{teamShortName}/with-exercises-and-participations\")\n+    @PreAuthorize(\"hasAnyRole('USER', 'TA', 'INSTRUCTOR', 'ADMIN')\")\n+    public ResponseEntity<Course> getCourseWithExercisesAndParticipationsForTeam(@PathVariable Long courseId, @PathVariable String teamShortName) {\n+        log.debug(\"REST request to get Course {} with exercises and participations for Team with short name {}\", courseId, teamShortName);\n+        Course course = courseService.findOneWithExercises(courseId);", "originalCommit": "153e7bdb9c3f8812ba329c78178f23176d8fd813", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTUxNTgwMA==", "url": "https://github.com/ls1intum/Artemis/pull/1354#discussion_r419515800", "bodyText": "Done", "author": "madwau", "createdAt": "2020-05-04T15:19:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM3NjE3MQ=="}], "type": "inlineReview", "revised_code": {"commit": "a27e5186853db0b05ac388a04abc4ec79945a2f2", "chunk": "diff --git a/src/main/java/de/tum/in/www1/artemis/web/rest/TeamResource.java b/src/main/java/de/tum/in/www1/artemis/web/rest/TeamResource.java\nindex 956e34abc..7741ed9b8 100644\n--- a/src/main/java/de/tum/in/www1/artemis/web/rest/TeamResource.java\n+++ b/src/main/java/de/tum/in/www1/artemis/web/rest/TeamResource.java\n\n@@ -343,7 +343,7 @@ public class TeamResource {\n     @PreAuthorize(\"hasAnyRole('USER', 'TA', 'INSTRUCTOR', 'ADMIN')\")\n     public ResponseEntity<Course> getCourseWithExercisesAndParticipationsForTeam(@PathVariable Long courseId, @PathVariable String teamShortName) {\n         log.debug(\"REST request to get Course {} with exercises and participations for Team with short name {}\", courseId, teamShortName);\n-        Course course = courseService.findOneWithExercises(courseId);\n+        Course course = courseService.findOneWithTeamExercises(courseId);\n         User user = userService.getUserWithGroupsAndAuthorities();\n         if (!(authCheckService.isAtLeastTeachingAssistantInCourse(course, user) || authCheckService.isStudentInTeam(course, teamShortName, user))) {\n             throw new AccessForbiddenException(\"You are not allowed to access this resource\");\n"}}, {"oid": "a27e5186853db0b05ac388a04abc4ec79945a2f2", "url": "https://github.com/ls1intum/Artemis/commit/a27e5186853db0b05ac388a04abc4ec79945a2f2", "message": "Link to the exercise details page in team page\nShow due date in team page\nSmall performance improvement (see comment)", "committedDate": "2020-05-04T15:19:07Z", "type": "commit"}, {"oid": "a04b85dce4a62d076bc85d0b18b83783547f0e27", "url": "https://github.com/ls1intum/Artemis/commit/a04b85dce4a62d076bc85d0b18b83783547f0e27", "message": "Fix test", "committedDate": "2020-05-04T16:04:49Z", "type": "commit"}, {"oid": "571ece7222c9946c8b2ecd427bc66de92dae2ac8", "url": "https://github.com/ls1intum/Artemis/commit/571ece7222c9946c8b2ecd427bc66de92dae2ac8", "message": "Separate query", "committedDate": "2020-05-04T17:42:23Z", "type": "commit"}, {"oid": "21d5c529e74b476329f96a7f22a9a1677f648be5", "url": "https://github.com/ls1intum/Artemis/commit/21d5c529e74b476329f96a7f22a9a1677f648be5", "message": "Merge branch 'develop' into feature/team-detail-page/list-submissions-for-course", "committedDate": "2020-05-04T17:45:31Z", "type": "commit"}]}