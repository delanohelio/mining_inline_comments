{"pr_number": 1997, "pr_title": "[Exam] Filtering for exam score statistics", "pr_createdAt": "2020-08-05T09:33:15Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1997", "timeline": [{"oid": "c98ecbd274176990b44507168611bebf6d63e1ca", "url": "https://github.com/ls1intum/Artemis/commit/c98ecbd274176990b44507168611bebf6d63e1ca", "message": "manual change detection (onPush)", "committedDate": "2020-08-03T11:27:40Z", "type": "commit"}, {"oid": "47ec2d51f7d183974133eb27b66781e196a17716", "url": "https://github.com/ls1intum/Artemis/commit/47ec2d51f7d183974133eb27b66781e196a17716", "message": "Unsubscribe from language change subject on destroy", "committedDate": "2020-08-03T17:56:48Z", "type": "commit"}, {"oid": "f297fa7b4c63acc47affac9ce2fe8ab6441ecbcc", "url": "https://github.com/ls1intum/Artemis/commit/f297fa7b4c63acc47affac9ce2fe8ab6441ecbcc", "message": "Add filter checkboxes", "committedDate": "2020-08-03T19:33:44Z", "type": "commit"}, {"oid": "0f7fdeb24d51e6c59cba0396ce45272c613bbe04", "url": "https://github.com/ls1intum/Artemis/commit/0f7fdeb24d51e6c59cba0396ce45272c613bbe04", "message": "Check for non empty submissions and set a flag into the ExamScoresDTO", "committedDate": "2020-08-04T07:50:35Z", "type": "commit"}, {"oid": "f4db20a870093c81195a1ce931f726ede62509cf", "url": "https://github.com/ls1intum/Artemis/commit/f4db20a870093c81195a1ce931f726ede62509cf", "message": "Check for empty submissions and set a flag in the ScoresDTO", "committedDate": "2020-08-04T18:26:07Z", "type": "commit"}, {"oid": "e2171e030d3174f53445b389c6417ffaeaa87adb", "url": "https://github.com/ls1intum/Artemis/commit/e2171e030d3174f53445b389c6417ffaeaa87adb", "message": "Calculate average exercise group and exercise scores in the client using filters", "committedDate": "2020-08-04T18:27:50Z", "type": "commit"}, {"oid": "67a504f9a99e370e06629c113c44b44a62cffe3d", "url": "https://github.com/ls1intum/Artemis/commit/67a504f9a99e370e06629c113c44b44a62cffe3d", "message": "Rename method", "committedDate": "2020-08-04T18:29:54Z", "type": "commit"}, {"oid": "73752e99d25d52d18b64dc9e1e9092ba252c2394", "url": "https://github.com/ls1intum/Artemis/commit/73752e99d25d52d18b64dc9e1e9092ba252c2394", "message": "Fix error", "committedDate": "2020-08-04T18:39:39Z", "type": "commit"}, {"oid": "16da4a64a1b7fc66a710868b07c117c19045b93e", "url": "https://github.com/ls1intum/Artemis/commit/16da4a64a1b7fc66a710868b07c117c19045b93e", "message": "Linting", "committedDate": "2020-08-04T18:58:24Z", "type": "commit"}, {"oid": "062ad6af73c005ea19d8970ed33fa7c9908c8cfe", "url": "https://github.com/ls1intum/Artemis/commit/062ad6af73c005ea19d8970ed33fa7c9908c8cfe", "message": "Refactor ExamScoresDTO", "committedDate": "2020-08-04T19:16:25Z", "type": "commit"}, {"oid": "139246f1eb33c0dc3d2255e8afc2e3248d48e59e", "url": "https://github.com/ls1intum/Artemis/commit/139246f1eb33c0dc3d2255e8afc2e3248d48e59e", "message": "Remove now useless calculation", "committedDate": "2020-08-04T19:25:19Z", "type": "commit"}, {"oid": "3469579168edd4bd828eb9a2a6a832b6f1a9017c", "url": "https://github.com/ls1intum/Artemis/commit/3469579168edd4bd828eb9a2a6a832b6f1a9017c", "message": "Improve performance", "committedDate": "2020-08-04T19:28:14Z", "type": "commit"}, {"oid": "3636bb1f8359f53f9f4fc69f24001ef25aa46e97", "url": "https://github.com/ls1intum/Artemis/commit/3636bb1f8359f53f9f4fc69f24001ef25aa46e97", "message": "Clarify attribute names in DTO", "committedDate": "2020-08-04T19:43:40Z", "type": "commit"}, {"oid": "989328acb00e166af7eb7cd6a6d2662dedfb4f86", "url": "https://github.com/ls1intum/Artemis/commit/989328acb00e166af7eb7cd6a6d2662dedfb4f86", "message": "Fix database query", "committedDate": "2020-08-04T19:51:29Z", "type": "commit"}, {"oid": "b3da6b6fd3683a03db5994cc1cab6d5ddcef70ba", "url": "https://github.com/ls1intum/Artemis/commit/b3da6b6fd3683a03db5994cc1cab6d5ddcef70ba", "message": "Fix dictionary definition", "committedDate": "2020-08-04T20:03:18Z", "type": "commit"}, {"oid": "e6606afe460b3740683e3c003a90701f93129095", "url": "https://github.com/ls1intum/Artemis/commit/e6606afe460b3740683e3c003a90701f93129095", "message": "Adapt integration test", "committedDate": "2020-08-05T00:39:52Z", "type": "commit"}, {"oid": "eb75c299b0a35ed0cdb5f6d8a1d770621372c944", "url": "https://github.com/ls1intum/Artemis/commit/eb75c299b0a35ed0cdb5f6d8a1d770621372c944", "message": "Count number of participants for each exercise", "committedDate": "2020-08-05T01:51:52Z", "type": "commit"}, {"oid": "3ce1a9dd9d04c99f7a6a135acd334ab274b4f4b8", "url": "https://github.com/ls1intum/Artemis/commit/3ce1a9dd9d04c99f7a6a135acd334ab274b4f4b8", "message": "Enhance table", "committedDate": "2020-08-05T03:40:56Z", "type": "commit"}, {"oid": "74f57e8b6c00bb5f5b62e66939e59696343333ec", "url": "https://github.com/ls1intum/Artemis/commit/74f57e8b6c00bb5f5b62e66939e59696343333ec", "message": "Revert local eslint changes", "committedDate": "2020-08-05T09:35:40Z", "type": "commit"}, {"oid": "2f7c5108dcdc5a7511b7e0fd9d621a098830e5d6", "url": "https://github.com/ls1intum/Artemis/commit/2f7c5108dcdc5a7511b7e0fd9d621a098830e5d6", "message": "Fix comment", "committedDate": "2020-08-05T11:04:27Z", "type": "commit"}, {"oid": "3a672b33f8956bd1e0ddf3dbcb06dddbe124b731", "url": "https://github.com/ls1intum/Artemis/commit/3a672b33f8956bd1e0ddf3dbcb06dddbe124b731", "message": "Improve look", "committedDate": "2020-08-05T14:24:59Z", "type": "commit"}, {"oid": "6584a14490e1db65bf8f9f2a6b2610728b3700b4", "url": "https://github.com/ls1intum/Artemis/commit/6584a14490e1db65bf8f9f2a6b2610728b3700b4", "message": "How - if no participants for exercise or exercise group exist", "committedDate": "2020-08-05T14:44:17Z", "type": "commit"}, {"oid": "1e0034e0bdea83d3bad5cd427e794b927492480b", "url": "https://github.com/ls1intum/Artemis/commit/1e0034e0bdea83d3bad5cd427e794b927492480b", "message": "Inspect modeling submission to check if an element was created", "committedDate": "2020-08-05T16:15:21Z", "type": "commit"}, {"oid": "5feff723fbf135c12b1d39723f3cf4e03521b924", "url": "https://github.com/ls1intum/Artemis/commit/5feff723fbf135c12b1d39723f3cf4e03521b924", "message": "Calculate number of participants in exercise group", "committedDate": "2020-08-05T17:13:53Z", "type": "commit"}, {"oid": "b652e962025d775eab69d883a55bc9e32769b72f", "url": "https://github.com/ls1intum/Artemis/commit/b652e962025d775eab69d883a55bc9e32769b72f", "message": "Improve template, use isBlank to check for empty text submissions", "committedDate": "2020-08-05T17:39:45Z", "type": "commit"}, {"oid": "9cc1f5f958f1502b95d6b6e5b984b332ef261cf9", "url": "https://github.com/ls1intum/Artemis/commit/9cc1f5f958f1502b95d6b6e5b984b332ef261cf9", "message": "Extend integration test", "committedDate": "2020-08-05T17:54:18Z", "type": "commit"}, {"oid": "432354f4e4ed4877af6359002ca954133ac5314a", "url": "https://github.com/ls1intum/Artemis/commit/432354f4e4ed4877af6359002ca954133ac5314a", "message": "Fix case for fileUploadExercises", "committedDate": "2020-08-05T17:58:35Z", "type": "commit"}, {"oid": "f58b1c2bf86a6c9e43cd2bd239e857c4b519bb49", "url": "https://github.com/ls1intum/Artemis/commit/f58b1c2bf86a6c9e43cd2bd239e857c4b519bb49", "message": "Fix imports", "committedDate": "2020-08-05T18:25:29Z", "type": "commit"}, {"oid": "bbe504f4613e52c6471612bbcdb5cad899c04d8c", "url": "https://github.com/ls1intum/Artemis/commit/bbe504f4613e52c6471612bbcdb5cad899c04d8c", "message": "Merge branch 'develop' into feature/improve-exam-scores", "committedDate": "2020-08-05T18:56:11Z", "type": "commit"}, {"oid": "4526785463a8c0f9a4735b18f944f4db66d64c56", "url": "https://github.com/ls1intum/Artemis/commit/4526785463a8c0f9a4735b18f944f4db66d64c56", "message": "Merge branch 'develop' into feature/improve-exam-scores", "committedDate": "2020-08-05T19:09:26Z", "type": "commit"}, {"oid": "68fe220d1b0a0eb1f9ea9c752043860a74d5d9a3", "url": "https://github.com/ls1intum/Artemis/commit/68fe220d1b0a0eb1f9ea9c752043860a74d5d9a3", "message": "Fix property mismatch", "committedDate": "2020-08-06T09:03:15Z", "type": "commit"}, {"oid": "c5da7af953827e8e41ac6acd9c17a1d8d00bdb40", "url": "https://github.com/ls1intum/Artemis/commit/c5da7af953827e8e41ac6acd9c17a1d8d00bdb40", "message": "Merge branch 'feature/improve-exam-scores' of https://github.com/ls1intum/Artemis into feature/improve-exam-scores", "committedDate": "2020-08-06T09:04:02Z", "type": "commit"}, {"oid": "c7d03dfddea478ad55dbbafa083e5bc9874c2266", "url": "https://github.com/ls1intum/Artemis/commit/c7d03dfddea478ad55dbbafa083e5bc9874c2266", "message": "Restructure table", "committedDate": "2020-08-06T11:22:32Z", "type": "commit"}, {"oid": "c10a9e4257650b95edbd3f0a51563d1926c3c109", "url": "https://github.com/ls1intum/Artemis/commit/c10a9e4257650b95edbd3f0a51563d1926c3c109", "message": "Add max points for exercise", "committedDate": "2020-08-06T12:10:52Z", "type": "commit"}, {"oid": "36412a90eff9aef22be848ef4d981e9293d7eeee", "url": "https://github.com/ls1intum/Artemis/commit/36412a90eff9aef22be848ef4d981e9293d7eeee", "message": "Fix int test", "committedDate": "2020-08-06T12:21:35Z", "type": "commit"}, {"oid": "bcb6416239cde982f6d15852b902d1c3e4971f92", "url": "https://github.com/ls1intum/Artemis/commit/bcb6416239cde982f6d15852b902d1c3e4971f92", "message": "Add hover effect for exercise statistics table", "committedDate": "2020-08-06T13:30:26Z", "type": "commit"}, {"oid": "d9f81270d79cb1d93f92a659c98bd7d0f5b8f62b", "url": "https://github.com/ls1intum/Artemis/commit/d9f81270d79cb1d93f92a659c98bd7d0f5b8f62b", "message": "Strip table bodies", "committedDate": "2020-08-06T13:45:37Z", "type": "commit"}, {"oid": "da4da7a3776897a1636b93f9ea12a9d4a78d4d96", "url": "https://github.com/ls1intum/Artemis/commit/da4da7a3776897a1636b93f9ea12a9d4a78d4d96", "message": "Merge branch 'develop' into feature/improve-exam-scores", "committedDate": "2020-08-06T18:24:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNTgyNQ==", "url": "https://github.com/ls1intum/Artemis/pull/1997#discussion_r466605825", "bodyText": "Codacy found an issue: Avoid variables with short names like id", "author": "artemis-bot", "createdAt": "2020-08-06T18:28:17Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/dto/ExamScoresDTO.java", "diffHunk": "@@ -42,27 +41,47 @@ public ExamScoresDTO(Long id, String title, Integer maxPoints) {\n \n         public Double maxPoints;\n \n-        public Double averagePointsAchieved = null;\n+        public Long numberOfParticipants;\n \n-        public List<String> containedExercises;\n+        public List<ExerciseInfo> containedExercises = new ArrayList<>();\n \n         public ExerciseGroup() {\n             // default constructor for our beloved Jackson :-*\n         }\n \n-        public ExerciseGroup(Long id, String title, Double maxPoints, List<String> containedExercises) {\n+        public ExerciseGroup(Long id, String title, Double maxPoints) {", "originalCommit": "da4da7a3776897a1636b93f9ea12a9d4a78d4d96", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNTg0NA==", "url": "https://github.com/ls1intum/Artemis/pull/1997#discussion_r466605844", "bodyText": "Codacy found an issue: Avoid catching generic exceptions such as NullPointerException, RuntimeException, Exception in try-catch block", "author": "artemis-bot", "createdAt": "2020-08-06T18:28:19Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -318,6 +323,45 @@ public ExamScoresDTO getExamScore(Long examId) {\n         return scores;\n     }\n \n+    /**\n+     * Checks whether one of the submissions is not empty\n+     *\n+     * @param submissions Submissions to check\n+     * @param exercise Exercise of the submissions\n+     * @param jacksonObjectMapper Mapper to parse a modeling exercise model string to JSON\n+     * @return true if at least one submission is not empty else false\n+     */\n+    private boolean hasNonEmptySubmission(Set<Submission> submissions, Exercise exercise, ObjectMapper jacksonObjectMapper) {\n+        if (exercise instanceof ProgrammingExercise) {\n+            return submissions.stream().anyMatch(submission -> submission.getType() == SubmissionType.MANUAL);\n+        }\n+        else if (exercise instanceof FileUploadExercise) {\n+            FileUploadSubmission textSubmission = (FileUploadSubmission) submissions.iterator().next();\n+            return textSubmission.getFilePath() != null && !textSubmission.getFilePath().isEmpty();\n+        }\n+        else if (exercise instanceof TextExercise) {\n+            TextSubmission textSubmission = (TextSubmission) submissions.iterator().next();\n+            return textSubmission.getText() != null && !textSubmission.getText().isBlank();\n+        }\n+        else if (exercise instanceof ModelingExercise) {\n+            ModelingSubmission modelingSubmission = (ModelingSubmission) submissions.iterator().next();\n+            try {\n+                return !jacksonObjectMapper.readTree(modelingSubmission.getModel()).get(\"elements\").isEmpty();\n+            }\n+            catch (Exception e) {", "originalCommit": "da4da7a3776897a1636b93f9ea12a9d4a78d4d96", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}