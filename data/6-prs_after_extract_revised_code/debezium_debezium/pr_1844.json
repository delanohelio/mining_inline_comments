{"pr_number": 1844, "pr_title": "DBZ-2563 JSON processing can ignore deserialization errors", "pr_createdAt": "2020-09-25T13:00:19Z", "pr_url": "https://github.com/debezium/debezium/pull/1844", "timeline": [{"oid": "5c1864fcb5660a97d668a20bb853cf6d23efa371", "url": "https://github.com/debezium/debezium/commit/5c1864fcb5660a97d668a20bb853cf6d23efa371", "message": "DBZ-2563 JSON processing can ignore deserialization errors", "committedDate": "2020-09-26T17:42:47Z", "type": "commit"}, {"oid": "5c1864fcb5660a97d668a20bb853cf6d23efa371", "url": "https://github.com/debezium/debezium/commit/5c1864fcb5660a97d668a20bb853cf6d23efa371", "message": "DBZ-2563 JSON processing can ignore deserialization errors", "committedDate": "2020-09-26T17:42:47Z", "type": "forcePushed"}, {"oid": "466184b69e12ef10c59193462eaaf2df8f83ec76", "url": "https://github.com/debezium/debezium/commit/466184b69e12ef10c59193462eaaf2df8f83ec76", "message": "DBZ-2563 Simplifying MySqlValueConverters constructors", "committedDate": "2020-09-29T08:29:33Z", "type": "commit"}, {"oid": "68aa2049d9290193e0da0cb64104f7a21b3e49f6", "url": "https://github.com/debezium/debezium/commit/68aa2049d9290193e0da0cb64104f7a21b3e49f6", "message": "DBZ-2563 Avoiding dependency from MySqlValueConverters to BinlogReader", "committedDate": "2020-09-29T08:33:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjUyOTI5MA==", "url": "https://github.com/debezium/debezium/pull/1844#discussion_r496529290", "bodyText": "Pushed a commit to make this final (let's always strive for that), which was a good ocassion to clean-up the constructor mess in this class a little bit.", "author": "gunnarmorling", "createdAt": "2020-09-29T08:30:51Z", "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/MySqlValueConverters.java", "diffHunk": "@@ -110,6 +112,8 @@ else if (70 <= year && year <= 99) {\n         return temporal;\n     }\n \n+    private final ParsingErrorHandler parsingErrorHandler;", "originalCommit": "466184b69e12ef10c59193462eaaf2df8f83ec76", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjUzMzMxNQ==", "url": "https://github.com/debezium/debezium/pull/1844#discussion_r496533315", "bodyText": "We might want to use this more widely later on? But good to leave it limited to JSON for now.", "author": "gunnarmorling", "createdAt": "2020-09-29T08:34:36Z", "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/MySqlValueConverters.java", "diffHunk": "@@ -375,7 +368,8 @@ protected Object convertJson(Column column, Field fieldDefn, Object data) {\n                         r.deliver(JsonBinary.parseAsString((byte[]) data));\n                     }\n                     catch (IOException e) {\n-                        throw new ConnectException(\"Failed to parse and read a JSON value on \" + column + \": \" + e.getMessage(), e);\n+                        parsingErrorHandler.error(\"Failed to parse and read a JSON value on '\" + column + \"' value \" + Arrays.toString((byte[]) data), e);", "originalCommit": "68aa2049d9290193e0da0cb64104f7a21b3e49f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjUzNDI2MQ==", "url": "https://github.com/debezium/debezium/pull/1844#discussion_r496534261", "bodyText": "Moved this here to avoid the dependency from MySqlValueConverters to BinlogReader.", "author": "gunnarmorling", "createdAt": "2020-09-29T08:35:27Z", "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/MySqlValueConverters.java", "diffHunk": "@@ -69,6 +70,11 @@\n @Immutable\n public class MySqlValueConverters extends JdbcValueConverters {\n \n+    @FunctionalInterface", "originalCommit": "68aa2049d9290193e0da0cb64104f7a21b3e49f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}