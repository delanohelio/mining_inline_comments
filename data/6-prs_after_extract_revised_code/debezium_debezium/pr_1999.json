{"pr_number": 1999, "pr_title": "DBZ-2831 Allow non default Mongo DB ports", "pr_createdAt": "2020-12-09T17:29:01Z", "pr_url": "https://github.com/debezium/debezium/pull/1999", "timeline": [{"oid": "96cb3956a938b0dca1d627c9b04672ed8e742547", "url": "https://github.com/debezium/debezium/commit/96cb3956a938b0dca1d627c9b04672ed8e742547", "message": "DBZ-2831 allow non default Mongo DB ports", "committedDate": "2020-12-09T17:28:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUwMzU3OQ==", "url": "https://github.com/debezium/debezium/pull/1999#discussion_r539503579", "bodyText": "When omitting the port, the default port will be used, which is wrong when Mongo DB runs on a different port.", "author": "rk3rn3r", "createdAt": "2020-12-09T17:30:11Z", "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/MongoUtil.java", "diffHunk": "@@ -341,7 +341,8 @@ protected static ServerAddress getPrimaryAddress(MongoClient client) {\n         if (serverDescriptions == null || serverDescriptions.size() == 0) {\n             throw new DebeziumException(\"Unable to read server descriptions from MongoDB connection, got '\" + serverDescriptions + \"'\");\n         }\n-        return new ServerAddress(serverDescriptions.get(0).getPrimary());\n+        ServerAddress serverAddress = serverDescriptions.get(0).getAddress();\n+        return new ServerAddress(serverAddress.getHost(), serverAddress.getPort());", "originalCommit": "96cb3956a938b0dca1d627c9b04672ed8e742547", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}