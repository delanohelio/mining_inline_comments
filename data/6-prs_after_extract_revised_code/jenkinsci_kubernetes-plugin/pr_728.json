{"pr_number": 728, "pr_title": "Set default cpu & memory requests on the jnlp container", "pr_createdAt": "2020-03-04T01:26:14Z", "pr_url": "https://github.com/jenkinsci/kubernetes-plugin/pull/728", "timeline": [{"oid": "1527df81a72bb4978f9839e1aff7859c49779d00", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/1527df81a72bb4978f9839e1aff7859c49779d00", "message": "Forgotten annotation on shouldCombineAllResources", "committedDate": "2020-03-04T01:18:43Z", "type": "commit"}, {"oid": "73a2f3a30282492ecebb398651d08471545715de", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/73a2f3a30282492ecebb398651d08471545715de", "message": "Unused import", "committedDate": "2020-03-04T01:19:58Z", "type": "commit"}, {"oid": "d9d4f017096b883cd81f0c693a95c67905e8253f", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/d9d4f017096b883cd81f0c693a95c67905e8253f", "message": "No need to start Jenkins during unit tests", "committedDate": "2020-03-04T01:21:10Z", "type": "commit"}, {"oid": "bae94bf89a41c59d33be409c338fcfd459b999dc", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/bae94bf89a41c59d33be409c338fcfd459b999dc", "message": "https://github.com/fabric8io/kubernetes-client/issues/2034", "committedDate": "2020-03-04T01:22:23Z", "type": "commit"}, {"oid": "1fd2f2eef7100e49e802adbdcdb8d1cc740b1995", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/1fd2f2eef7100e49e802adbdcdb8d1cc740b1995", "message": "Set default cpu & memory requests on the jnlp container", "committedDate": "2020-03-04T01:23:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQwMDA1Nw==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/728#discussion_r387400057", "bodyText": "Without this workaround for fabric8io/kubernetes-client#2034, testOverridesFromYaml improperly fails when the if (jnlp.getResources() == null) gate is disabled in main sources: the actual CPU is 100m but this compares as equal to 200m!", "author": "jglick", "createdAt": "2020-03-04T01:27:29Z", "path": "src/test/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateUtilsTest.java", "diffHunk": "@@ -553,10 +553,20 @@ public void shouldCombineAllResources() {\n \n         Container result = combine(container1, container2);\n \n-        assertEquals(new Quantity(\"2\"), result.getResources().getLimits().get(\"cpu\"));\n-        assertEquals(new Quantity(\"2Gi\"), result.getResources().getLimits().get(\"memory\"));\n-        assertEquals(new Quantity(\"200m\"), result.getResources().getRequests().get(\"cpu\"));\n-        assertEquals(new Quantity(\"256Mi\"), result.getResources().getRequests().get(\"memory\"));\n+        assertQuantity(\"2\", result.getResources().getLimits().get(\"cpu\"));\n+        assertQuantity(\"2Gi\", result.getResources().getLimits().get(\"memory\"));\n+        assertQuantity(\"200m\", result.getResources().getRequests().get(\"cpu\"));\n+        assertQuantity(\"256Mi\", result.getResources().getRequests().get(\"memory\"));\n+    }\n+\n+    /**\n+     * Use instead of {@link org.junit.Assert#assertEquals(Object, Object)} on {@link Quantity}.\n+     * @see <a href=\"https://github.com/fabric8io/kubernetes-client/issues/2034\">kubernetes-client #2034</a>", "originalCommit": "1fd2f2eef7100e49e802adbdcdb8d1cc740b1995", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}