{"pr_number": 1101, "pr_title": "HIVE-23683: Add queue time to compaction", "pr_createdAt": "2020-06-12T15:02:44Z", "pr_url": "https://github.com/apache/hive/pull/1101", "timeline": [{"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "url": "https://github.com/apache/hive/commit/9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "message": "HIVE-23683: Add queue time to compaction", "committedDate": "2020-06-12T14:59:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440344890", "bodyText": "\"Queue time\" sounds like \"time spent in queue.\" Something like \"Entered queue\" sounds more like a timestamp to me.", "author": "klcopp", "createdAt": "2020-06-15T17:49:32Z", "path": "ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java", "diffHunk": "@@ -81,6 +81,8 @@ private void writeHeader(DataOutputStream os) throws IOException {\n     os.write(Utilities.tabCode);\n     os.writeBytes(\"Worker\");\n     os.write(Utilities.tabCode);\n+    os.writeBytes(\"Queue Time\");", "originalCommit": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ2NzMwMg==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440467302", "bodyText": "How about enqueue time? Short, easy to understand...", "author": "pvary", "createdAt": "2020-06-15T21:51:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDY0MDgwOQ==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440640809", "bodyText": "Sounds good to me!", "author": "klcopp", "createdAt": "2020-06-16T07:27:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA=="}], "type": "inlineReview", "revised_code": {"commit": "7150d00ffb429f5a9375000ea9de982759ce14bc", "chunk": "diff --git a/ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java b/ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java\nindex a44fc42247..406ade842d 100644\n--- a/ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java\n+++ b/ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java\n\n@@ -81,7 +81,7 @@ private void writeHeader(DataOutputStream os) throws IOException {\n     os.write(Utilities.tabCode);\n     os.writeBytes(\"Worker\");\n     os.write(Utilities.tabCode);\n-    os.writeBytes(\"Queue Time\");\n+    os.writeBytes(\"Enqueue Time\");\n     os.write(Utilities.tabCode);\n     os.writeBytes(\"Start Time\");\n     os.write(Utilities.tabCode);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NTI0MQ==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440345241", "bodyText": "(Opportunity: \"start\" is missing from this method)", "author": "klcopp", "createdAt": "2020-06-15T17:50:08Z", "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java", "diffHunk": "@@ -116,6 +117,7 @@ public String toString() {\n       \"partName:\" + partName + \",\" +\n       \"state:\" + state + \",\" +\n       \"type:\" + type + \",\" +\n+      \"queueTime:\" + queueTime + \",\" +", "originalCommit": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ2NzM4Mg==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440467382", "bodyText": "Done", "author": "pvary", "createdAt": "2020-06-15T21:51:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NTI0MQ=="}], "type": "inlineReview", "revised_code": {"commit": "7150d00ffb429f5a9375000ea9de982759ce14bc", "chunk": "diff --git a/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java b/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java\nindex 851cff7dca..1f8c407d6b 100644\n--- a/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java\n+++ b/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java\n\n@@ -117,7 +117,7 @@ public String toString() {\n       \"partName:\" + partName + \",\" +\n       \"state:\" + state + \",\" +\n       \"type:\" + type + \",\" +\n-      \"queueTime:\" + queueTime + \",\" +\n+      \"enqueueTime:\" + enqueueTime + \",\" +\n       \"properties:\" + properties + \",\" +\n       \"runAs:\" + runAs + \",\" +\n       \"tooManyAborts:\" + tooManyAborts + \",\" +\n"}}, {"oid": "7150d00ffb429f5a9375000ea9de982759ce14bc", "url": "https://github.com/apache/hive/commit/7150d00ffb429f5a9375000ea9de982759ce14bc", "message": "Rename QueueTime to Enqueue Time for clarity\nAdd comment to the masking patterns", "committedDate": "2020-06-15T21:47:19Z", "type": "commit"}, {"oid": "b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7", "url": "https://github.com/apache/hive/commit/b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7", "message": "Added start to the CompationInfo.toString()", "committedDate": "2020-06-15T21:49:52Z", "type": "commit"}]}