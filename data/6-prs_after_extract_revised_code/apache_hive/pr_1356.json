{"pr_number": 1356, "pr_title": "HIVE-23980: Shade Guava from hive-exec in Hive 2.3", "pr_createdAt": "2020-08-04T03:25:20Z", "pr_url": "https://github.com/apache/hive/pull/1356", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM5NTYzMw==", "url": "https://github.com/apache/hive/pull/1356#discussion_r465395633", "bodyText": "Without this change, a runtime error like the following was happened:\njava.lang.NoSuchMethodError: org.apache.hadoop.hive.ql.log.PerfLogger.getStartTimes()Lorg/apache/hive/com/google/common/collect/ImmutableMap;", "author": "viirya", "createdAt": "2020-08-05T00:01:34Z", "path": "common/src/java/org/apache/hadoop/hive/ql/log/PerfLogger.java", "diffHunk": "@@ -207,11 +207,11 @@ public Long getDuration(String method) {\n   }\n \n \n-  public ImmutableMap<String, Long> getStartTimes() {\n+  public Map<String, Long> getStartTimes() {", "originalCommit": "569a4a151d281f85a9bdb7b60801c7f3f04483ad", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9238cb440e971ec3d650a0a86f9e187bc4cad192", "chunk": "diff --git a/common/src/java/org/apache/hadoop/hive/ql/log/PerfLogger.java b/common/src/java/org/apache/hadoop/hive/ql/log/PerfLogger.java\nindex fcca7f40e1..7f3c8b312d 100644\n--- a/common/src/java/org/apache/hadoop/hive/ql/log/PerfLogger.java\n+++ b/common/src/java/org/apache/hadoop/hive/ql/log/PerfLogger.java\n\n@@ -207,11 +207,11 @@ public Long getDuration(String method) {\n   }\n \n \n-  public Map<String, Long> getStartTimes() {\n+  public ImmutableMap<String, Long> getStartTimes() {\n     return ImmutableMap.copyOf(startTimes);\n   }\n \n-  public Map<String, Long> getEndTimes() {\n+  public ImmutableMap<String, Long> getEndTimes() {\n     return ImmutableMap.copyOf(endTimes);\n   }\n \n"}}, {"oid": "6e4077e9550549e34adafab8f75f61827e59fe5e", "url": "https://github.com/apache/hive/commit/6e4077e9550549e34adafab8f75f61827e59fe5e", "message": "Hide guava's ImmutableMap from hive-common APIs.", "committedDate": "2020-09-24T19:52:19Z", "type": "forcePushed"}, {"oid": "9238cb440e971ec3d650a0a86f9e187bc4cad192", "url": "https://github.com/apache/hive/commit/9238cb440e971ec3d650a0a86f9e187bc4cad192", "message": "Shade guava.", "committedDate": "2020-11-16T18:03:46Z", "type": "commit"}, {"oid": "4a7f6c2b47abaf27312c48279923d241f4fd4bd6", "url": "https://github.com/apache/hive/commit/4a7f6c2b47abaf27312c48279923d241f4fd4bd6", "message": "Shade another package.", "committedDate": "2020-11-16T18:03:46Z", "type": "commit"}, {"oid": "996e4d3be2d66e12ea494bc6415d4326c939b75b", "url": "https://github.com/apache/hive/commit/996e4d3be2d66e12ea494bc6415d4326c939b75b", "message": "Hide guava's ImmutableMap from hive-common APIs.", "committedDate": "2020-11-16T18:03:46Z", "type": "commit"}, {"oid": "996e4d3be2d66e12ea494bc6415d4326c939b75b", "url": "https://github.com/apache/hive/commit/996e4d3be2d66e12ea494bc6415d4326c939b75b", "message": "Hide guava's ImmutableMap from hive-common APIs.", "committedDate": "2020-11-16T18:03:46Z", "type": "forcePushed"}, {"oid": "bd930f271d203b45e15e470ba59fdc97161cc313", "url": "https://github.com/apache/hive/commit/bd930f271d203b45e15e470ba59fdc97161cc313", "message": "Include org.apache.calcite to avoid test failure.", "committedDate": "2020-11-16T18:22:48Z", "type": "commit"}, {"oid": "6754070fd109fab902c472f5fe489501d51e32b2", "url": "https://github.com/apache/hive/commit/6754070fd109fab902c472f5fe489501d51e32b2", "message": "Update pom files.", "committedDate": "2020-11-16T19:38:24Z", "type": "commit"}, {"oid": "4846ed3ef5b4bb600586e201ec3b86a1c0edd871", "url": "https://github.com/apache/hive/commit/4846ed3ef5b4bb600586e201ec3b86a1c0edd871", "message": "Trigger Build", "committedDate": "2020-11-17T02:47:04Z", "type": "commit"}]}