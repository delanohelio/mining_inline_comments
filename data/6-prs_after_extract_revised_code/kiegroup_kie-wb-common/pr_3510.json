{"pr_number": 3510, "pr_title": "AF-2692 :Add a security permission to show project toolbar, Metrics tab and change request tab", "pr_createdAt": "2020-12-03T10:57:14Z", "pr_url": "https://github.com/kiegroup/kie-wb-common/pull/3510", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyODQzMg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3510#discussion_r535928432", "bodyText": "Not used anywhere.", "author": "tomasdavidorg", "createdAt": "2020-12-04T08:43:10Z", "path": "kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java", "diffHunk": "@@ -39,11 +39,20 @@\n                                                    IsElement {\n \n     private static final String DISABLED_CLASS = \"disabled\";\n+    private static final String HIDDEN_CLASS = \"hidden\";", "originalCommit": "4aede755a2d0fba39a42775cd141e119aaa82480", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkzMjY3Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3510#discussion_r535932673", "bodyText": "oh, i might have missed it. Thanks", "author": "RishiRajAnand", "createdAt": "2020-12-04T08:49:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyODQzMg=="}], "type": "inlineReview", "revised_code": {"commit": "94863392e3a61b46e425b4dcf73206417dfe95d0", "chunk": "diff --git a/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java b/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java\nindex f008c1dcc5..48fd0dcae5 100644\n--- a/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java\n+++ b/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java\n\n@@ -39,7 +39,6 @@ public class ProjectMainActionsViewImpl implements ProjectMainActionsView,\n                                                    IsElement {\n \n     private static final String DISABLED_CLASS = \"disabled\";\n-    private static final String HIDDEN_CLASS = \"hidden\";\n \n     @Inject\n     @DataField\n"}}, {"oid": "94863392e3a61b46e425b4dcf73206417dfe95d0", "url": "https://github.com/kiegroup/kie-wb-common/commit/94863392e3a61b46e425b4dcf73206417dfe95d0", "message": "AF-2692 :Add a security permission to show project toolbar, Metrics tab and change request tab", "committedDate": "2020-12-07T06:33:22Z", "type": "forcePushed"}, {"oid": "c8819523dde1609a6c1dca72c276c7c8bc58162d", "url": "https://github.com/kiegroup/kie-wb-common/commit/c8819523dde1609a6c1dca72c276c7c8bc58162d", "message": "AF-2692 : Add a security permission to show project toolbar, Metrics tab and change request tab", "committedDate": "2020-12-07T15:08:59Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzYyMDMyMg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3510#discussion_r537620322", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!visible) {\n          \n          \n            \n                        this.runTests.hidden = true;\n          \n          \n            \n                        this.deployBtn.hidden = true;\n          \n          \n            \n                        this.buildBtn.hidden = true;\n          \n          \n            \n                    }\n          \n          \n            \n                    this.runTests.hidden = !visible;\n          \n          \n            \n                    this.deployBtn.hidden = !visible;\n          \n          \n            \n                    this.buildBtn.hidden = !visible;", "author": "paulovmr", "createdAt": "2020-12-07T15:58:26Z", "path": "kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java", "diffHunk": "@@ -142,6 +150,15 @@ public void setViewDeploymentDetailsEnabled(boolean enabled) {\n         }\n     }\n \n+    @Override\n+    public void viewProjectToolbar(boolean visible) {\n+        if (!visible) {\n+            this.runTests.hidden = true;\n+            this.deployBtn.hidden = true;\n+            this.buildBtn.hidden = true;\n+        }", "originalCommit": "c8819523dde1609a6c1dca72c276c7c8bc58162d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA0OTQxOQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3510#discussion_r538049419", "bodyText": "done", "author": "RishiRajAnand", "createdAt": "2020-12-08T05:38:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzYyMDMyMg=="}], "type": "inlineReview", "revised_code": {"commit": "c1960b800194248d7713e85d27e8a601f3b95553", "chunk": "diff --git a/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java b/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java\nindex 48fd0dcae5..3fbb3dc2ce 100644\n--- a/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java\n+++ b/kie-wb-common-screens/kie-wb-common-library/kie-wb-common-library-client/src/main/java/org/kie/workbench/common/screens/library/client/screens/project/actions/ProjectMainActionsViewImpl.java\n\n@@ -152,11 +152,9 @@ public class ProjectMainActionsViewImpl implements ProjectMainActionsView,\n \n     @Override\n     public void viewProjectToolbar(boolean visible) {\n-        if (!visible) {\n-            this.runTests.hidden = true;\n-            this.deployBtn.hidden = true;\n-            this.buildBtn.hidden = true;\n-        }\n+            this.runTests.hidden = !visible;\n+            this.deployBtn.hidden = !visible;\n+            this.buildBtn.hidden = !visible;\n     }\n \n     @Override\n"}}, {"oid": "c1960b800194248d7713e85d27e8a601f3b95553", "url": "https://github.com/kiegroup/kie-wb-common/commit/c1960b800194248d7713e85d27e8a601f3b95553", "message": "AF-2692 : Add a security permission to show project toolbar, Metrics tab and change request tab", "committedDate": "2020-12-08T05:33:12Z", "type": "commit"}, {"oid": "c1960b800194248d7713e85d27e8a601f3b95553", "url": "https://github.com/kiegroup/kie-wb-common/commit/c1960b800194248d7713e85d27e8a601f3b95553", "message": "AF-2692 : Add a security permission to show project toolbar, Metrics tab and change request tab", "committedDate": "2020-12-08T05:33:12Z", "type": "forcePushed"}]}