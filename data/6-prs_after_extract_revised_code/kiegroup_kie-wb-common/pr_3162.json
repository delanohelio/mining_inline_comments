{"pr_number": 3162, "pr_title": "KOGITO-1181: [DMN Designer] Default Output value for Decision Table are not persisted", "pr_createdAt": "2020-02-14T20:50:31Z", "pr_url": "https://github.com/kiegroup/kie-wb-common/pull/3162", "timeline": [{"oid": "9ced75048b4168007208d4e731394ce7b45dd825", "url": "https://github.com/kiegroup/kie-wb-common/commit/9ced75048b4168007208d4e731394ce7b45dd825", "message": "Add tests for round-tripping", "committedDate": "2020-02-18T10:25:47Z", "type": "forcePushed"}, {"oid": "dc156361be5a55b51c37d8d1ae43a0eb2fd0c2b1", "url": "https://github.com/kiegroup/kie-wb-common/commit/dc156361be5a55b51c37d8d1ae43a0eb2fd0c2b1", "message": "Add some tests.", "committedDate": "2020-02-18T11:39:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk1MTkxMQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3162#discussion_r380951911", "bodyText": "wb.getText() never returns null?", "author": "danielzhe", "createdAt": "2020-02-18T21:41:47Z", "path": "kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-common/src/main/java/org/kie/workbench/common/dmn/webapp/kogito/common/client/converters/model/OutputClauseLiteralExpressionPropertyConverter.java", "diffHunk": "@@ -47,4 +54,19 @@ public static OutputClauseLiteralExpression wbFromDMN(final JSITLiteralExpressio\n         }\n         return result;\n     }\n+\n+    /**\n+     * Returns a JSITLiteralExpression of null if the text of the OutputClauseLiteralExpression is empty.\n+     * @param wb\n+     * @return\n+     */\n+    public static JSITLiteralExpression dmnFromWB(final OutputClauseLiteralExpression wb) {\n+        if (Objects.isNull(wb)) {\n+            return null;\n+        } else if (StringUtils.isEmpty(wb.getText().getValue())) {", "originalCommit": "dc156361be5a55b51c37d8d1ae43a0eb2fd0c2b1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTE5ODEzMw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3162#discussion_r381198133", "bodyText": "Hi @danielzhe there is a public setter for Text that does not do a null check. Therefore it's possible that it could be null although that scenario is probably a bug in it's own right! However I've added a new commit checking that getText() is non-null now too. Thank-you .", "author": "manstis", "createdAt": "2020-02-19T10:17:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk1MTkxMQ=="}], "type": "inlineReview", "revised_code": {"commit": "750d0d700ad2cd85ce1785546191d80cbe98fc55", "chunk": "diff --git a/kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-common/src/main/java/org/kie/workbench/common/dmn/webapp/kogito/common/client/converters/model/OutputClauseLiteralExpressionPropertyConverter.java b/kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-common/src/main/java/org/kie/workbench/common/dmn/webapp/kogito/common/client/converters/model/OutputClauseLiteralExpressionPropertyConverter.java\nindex d284020b46..bf1603b94f 100644\n--- a/kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-common/src/main/java/org/kie/workbench/common/dmn/webapp/kogito/common/client/converters/model/OutputClauseLiteralExpressionPropertyConverter.java\n+++ b/kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-common/src/main/java/org/kie/workbench/common/dmn/webapp/kogito/common/client/converters/model/OutputClauseLiteralExpressionPropertyConverter.java\n\n@@ -63,6 +63,8 @@ public class OutputClauseLiteralExpressionPropertyConverter {\n     public static JSITLiteralExpression dmnFromWB(final OutputClauseLiteralExpression wb) {\n         if (Objects.isNull(wb)) {\n             return null;\n+        } else if (Objects.isNull(wb.getText())) {\n+            return null;\n         } else if (StringUtils.isEmpty(wb.getText().getValue())) {\n             return null;\n         }\n"}}, {"oid": "382e3002b2802f4b726b97954c597dbc7bff3aa7", "url": "https://github.com/kiegroup/kie-wb-common/commit/382e3002b2802f4b726b97954c597dbc7bff3aa7", "message": "KOGITO-1181: [DMN Designer] Default Output value for Decision Table are not persisted", "committedDate": "2020-02-19T10:09:46Z", "type": "commit"}, {"oid": "f847e73bacf78c5e5d6d35e8f73b8123f1efd120", "url": "https://github.com/kiegroup/kie-wb-common/commit/f847e73bacf78c5e5d6d35e8f73b8123f1efd120", "message": "Add some tests.", "committedDate": "2020-02-19T10:09:46Z", "type": "commit"}, {"oid": "750d0d700ad2cd85ce1785546191d80cbe98fc55", "url": "https://github.com/kiegroup/kie-wb-common/commit/750d0d700ad2cd85ce1785546191d80cbe98fc55", "message": "Updates following peer review.", "committedDate": "2020-02-19T10:15:14Z", "type": "commit"}, {"oid": "750d0d700ad2cd85ce1785546191d80cbe98fc55", "url": "https://github.com/kiegroup/kie-wb-common/commit/750d0d700ad2cd85ce1785546191d80cbe98fc55", "message": "Updates following peer review.", "committedDate": "2020-02-19T10:15:14Z", "type": "forcePushed"}]}