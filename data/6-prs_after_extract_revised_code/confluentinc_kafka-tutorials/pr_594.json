{"pr_number": 594, "pr_title": "MINOR: Clean-up fixes", "pr_createdAt": "2020-10-15T21:28:49Z", "pr_url": "https://github.com/confluentinc/kafka-tutorials/pull/594", "timeline": [{"oid": "966d5d73c391d67f9804c1151d4187d170f893c6", "url": "https://github.com/confluentinc/kafka-tutorials/commit/966d5d73c391d67f9804c1151d4187d170f893c6", "message": "clean-up", "committedDate": "2020-10-15T21:17:11Z", "type": "commit"}, {"oid": "c555936effa1422d254df17ff8633a9739c2ab6c", "url": "https://github.com/confluentinc/kafka-tutorials/commit/c555936effa1422d254df17ff8633a9739c2ab6c", "message": "clean up", "committedDate": "2020-10-15T21:23:30Z", "type": "commit"}, {"oid": "866fc305ed9f9903f09b13474a4798865bc6cb7a", "url": "https://github.com/confluentinc/kafka-tutorials/commit/866fc305ed9f9903f09b13474a4798865bc6cb7a", "message": "add finally block", "committedDate": "2020-10-15T21:25:26Z", "type": "commit"}, {"oid": "f4bdcad9ff73a3d0aff3a25af92d8a1a92673695", "url": "https://github.com/confluentinc/kafka-tutorials/commit/f4bdcad9ff73a3d0aff3a25af92d8a1a92673695", "message": "add finally block", "committedDate": "2020-10-15T21:26:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg3MjA1OQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/594#discussion_r505872059", "bodyText": "Minor nit - might consider adding %n (newline) to the end of the format string to match previous behavior.", "author": "mikebin", "createdAt": "2020-10-15T21:32:24Z", "path": "_includes/tutorials/kafka-producer-application/kafka/code/src/main/java/io/confluent/developer/KafkaProducerApplication.java", "diffHunk": "@@ -94,8 +92,10 @@ public static void main(String[] args) throws Exception {\n             producerApp.printMetadata(metadata, filePath);\n \n         } catch (IOException e) {\n-            System.err.println(String.format(\"Error reading file %s due to %s\", filePath, e));\n+            System.err.printf(\"Error reading file %s due to %s\", filePath, e);", "originalCommit": "f4bdcad9ff73a3d0aff3a25af92d8a1a92673695", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg3MzE5NQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/594#discussion_r505873195", "bodyText": "ack", "author": "bbejeck", "createdAt": "2020-10-15T21:33:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg3MjA1OQ=="}], "type": "inlineReview", "revised_code": {"commit": "81a5a94252af7310c3672999d03aa2952df1e168", "chunk": "diff --git a/_includes/tutorials/kafka-producer-application/kafka/code/src/main/java/io/confluent/developer/KafkaProducerApplication.java b/_includes/tutorials/kafka-producer-application/kafka/code/src/main/java/io/confluent/developer/KafkaProducerApplication.java\nindex 6ccf0b3c..431b1b61 100644\n--- a/_includes/tutorials/kafka-producer-application/kafka/code/src/main/java/io/confluent/developer/KafkaProducerApplication.java\n+++ b/_includes/tutorials/kafka-producer-application/kafka/code/src/main/java/io/confluent/developer/KafkaProducerApplication.java\n\n@@ -92,7 +92,7 @@ public class KafkaProducerApplication {\n             producerApp.printMetadata(metadata, filePath);\n \n         } catch (IOException e) {\n-            System.err.printf(\"Error reading file %s due to %s\", filePath, e);\n+            System.err.printf(\"Error reading file %s due to %s %n\", filePath, e);\n         }\n         finally {\n             producerApp.shutdown();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg3MDcwOQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/594#discussion_r505870709", "bodyText": "The application used to run indefinitely until the user this CTRL+C, but now it will produce the records in a file and shutdown, so I've removed the shutdown hook.", "author": "bbejeck", "createdAt": "2020-10-15T21:30:36Z", "path": "_includes/tutorials/kafka-producer-application-callback/kafka/code/src/main/java/io/confluent/developer/KafkaProducerCallbackApplication.java", "diffHunk": "@@ -71,18 +71,17 @@ public static void main(String[] args) throws Exception {\n         final String topic = props.getProperty(\"output.topic.name\");\n         final Producer<String, String> producer = new KafkaProducer<>(props);\n         final KafkaProducerCallbackApplication producerApp = new KafkaProducerCallbackApplication(producer, topic);\n-\n-        // Attach shutdown handler to catch Control-C.\n-        Runtime.getRuntime().addShutdownHook(new Thread(producerApp::shutdown));\n+        ", "originalCommit": "f4bdcad9ff73a3d0aff3a25af92d8a1a92673695", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "81a5a94252af7310c3672999d03aa2952df1e168", "chunk": "diff --git a/_includes/tutorials/kafka-producer-application-callback/kafka/code/src/main/java/io/confluent/developer/KafkaProducerCallbackApplication.java b/_includes/tutorials/kafka-producer-application-callback/kafka/code/src/main/java/io/confluent/developer/KafkaProducerCallbackApplication.java\nindex dc66604e..d17d0f27 100644\n--- a/_includes/tutorials/kafka-producer-application-callback/kafka/code/src/main/java/io/confluent/developer/KafkaProducerCallbackApplication.java\n+++ b/_includes/tutorials/kafka-producer-application-callback/kafka/code/src/main/java/io/confluent/developer/KafkaProducerCallbackApplication.java\n\n@@ -79,7 +79,7 @@ public class KafkaProducerCallbackApplication {\n                           .filter(l -> !l.trim().isEmpty())\n                           .forEach(producerApp::produce);\n         } catch (IOException e) {\n-            System.err.printf(\"Error reading file %s due to %s\", filePath, e);\n+            System.err.printf(\"Error reading file %s due to %s %n\", filePath, e);\n         } finally {\n            producerApp.shutdown();\n         }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg3MjM5NA==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/594#discussion_r505872394", "bodyText": "The application used to run indefinitely until the user this CTRL+C, but now it will produce the records in a file and shutdown, so I've removed the shutdown hook.", "author": "bbejeck", "createdAt": "2020-10-15T21:32:51Z", "path": "_includes/tutorials/kafka-producer-application/kafka/code/src/main/java/io/confluent/developer/KafkaProducerApplication.java", "diffHunk": "@@ -81,9 +81,7 @@ public static void main(String[] args) throws Exception {\n         final String topic = props.getProperty(\"output.topic.name\");\n         final Producer<String, String> producer = new KafkaProducer<>(props);\n         final KafkaProducerApplication producerApp = new KafkaProducerApplication(producer, topic);\n-\n-        // Attach shutdown handler to catch Control-C.\n-        Runtime.getRuntime().addShutdownHook(new Thread(producerApp::shutdown));\n+        ", "originalCommit": "f4bdcad9ff73a3d0aff3a25af92d8a1a92673695", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "81a5a94252af7310c3672999d03aa2952df1e168", "url": "https://github.com/confluentinc/kafka-tutorials/commit/81a5a94252af7310c3672999d03aa2952df1e168", "message": "add %n to format", "committedDate": "2020-10-15T21:36:04Z", "type": "commit"}]}