{"pr_number": 444, "pr_title": "NMA-331 DashPay: Notifications Contact Requests", "pr_createdAt": "2020-06-19T02:04:14Z", "pr_url": "https://github.com/dashevo/dash-wallet/pull/444", "timeline": [{"oid": "68c48109c713f27fa36d53810771749c6076ef52", "url": "https://github.com/dashevo/dash-wallet/commit/68c48109c713f27fa36d53810771749c6076ef52", "message": "Add contacts and notification buttons to the global footer", "committedDate": "2020-06-04T21:50:08Z", "type": "commit"}, {"oid": "3c2c108c076ab555c7d82bd2a4bf1cd1157634c6", "url": "https://github.com/dashevo/dash-wallet/commit/3c2c108c076ab555c7d82bd2a4bf1cd1157634c6", "message": "Hide notifications button on global footer", "committedDate": "2020-06-04T21:50:16Z", "type": "commit"}, {"oid": "b44a089cfcf3ad798d1fd40e37e5e938ca36c23f", "url": "https://github.com/dashevo/dash-wallet/commit/b44a089cfcf3ad798d1fd40e37e5e938ca36c23f", "message": "Hide notifications button on global footer (comment out)", "committedDate": "2020-06-04T21:50:16Z", "type": "commit"}, {"oid": "2f1b1de14986266f28b1e714e94c4f80ac45532d", "url": "https://github.com/dashevo/dash-wallet/commit/2f1b1de14986266f28b1e714e94c4f80ac45532d", "message": "DashPayProfile: Add associated username", "committedDate": "2020-06-09T18:56:24Z", "type": "commit"}, {"oid": "228b55acee3c24960b7b6bcb203ecf0a4a0e4ab3", "url": "https://github.com/dashevo/dash-wallet/commit/228b55acee3c24960b7b6bcb203ecf0a4a0e4ab3", "message": "DashPayProfileDao: add userId argument to load method", "committedDate": "2020-06-09T18:58:19Z", "type": "commit"}, {"oid": "dc3a257a227614d974d5d6b65286202a709be2dd", "url": "https://github.com/dashevo/dash-wallet/commit/dc3a257a227614d974d5d6b65286202a709be2dd", "message": "Add table for contact requests", "committedDate": "2020-06-09T19:00:13Z", "type": "commit"}, {"oid": "5e176499ea1562245f87be38079fb6b22708fa43", "url": "https://github.com/dashevo/dash-wallet/commit/5e176499ea1562245f87be38079fb6b22708fa43", "message": "Add search and add new contact images", "committedDate": "2020-06-09T19:04:57Z", "type": "commit"}, {"oid": "d98902e133dc0dbe54decf77fb836e134e11442b", "url": "https://github.com/dashevo/dash-wallet/commit/d98902e133dc0dbe54decf77fb836e134e11442b", "message": "Fix broken GlobalFooterActivity, comment out notifications code", "committedDate": "2020-06-09T19:05:53Z", "type": "commit"}, {"oid": "d190c404d87fd41fefd8c376114417f13473133b", "url": "https://github.com/dashevo/dash-wallet/commit/d190c404d87fd41fefd8c376114417f13473133b", "message": "Add backend contact search methods and classes", "committedDate": "2020-06-09T20:54:22Z", "type": "commit"}, {"oid": "43968a560e454b73cd8fff897a282a9269fd6d12", "url": "https://github.com/dashevo/dash-wallet/commit/43968a560e454b73cd8fff897a282a9269fd6d12", "message": "Add ContactsActivity", "committedDate": "2020-06-09T20:55:13Z", "type": "commit"}, {"oid": "1c196c5bb75ebf71ab8bdc68fd9d1cc3e9c5de04", "url": "https://github.com/dashevo/dash-wallet/commit/1c196c5bb75ebf71ab8bdc68fd9d1cc3e9c5de04", "message": "More UI Fixes", "committedDate": "2020-06-10T14:11:31Z", "type": "commit"}, {"oid": "bfb096608d572c2f246451fda714a8d1f0c714e5", "url": "https://github.com/dashevo/dash-wallet/commit/bfb096608d572c2f246451fda714a8d1f0c714e5", "message": "Create AvatarImageView to handle user avatars", "committedDate": "2020-06-10T14:39:16Z", "type": "commit"}, {"oid": "8db3cf3ba3e28be4e43a55a0a105fe42fe9b7a33", "url": "https://github.com/dashevo/dash-wallet/commit/8db3cf3ba3e28be4e43a55a0a105fe42fe9b7a33", "message": "Update contact icon for Global Footer", "committedDate": "2020-06-10T15:51:17Z", "type": "commit"}, {"oid": "c8220f909e9b7a50632703f3c0beeb9ce0b53997", "url": "https://github.com/dashevo/dash-wallet/commit/c8220f909e9b7a50632703f3c0beeb9ce0b53997", "message": "Add modes to ContactActivity (select, search, requests)", "committedDate": "2020-06-10T15:52:15Z", "type": "commit"}, {"oid": "bf5adf5f65c3f452f3160f27350675e587455953", "url": "https://github.com/dashevo/dash-wallet/commit/bf5adf5f65c3f452f3160f27350675e587455953", "message": "Add Send to Contact button on Payments Screen", "committedDate": "2020-06-10T15:52:47Z", "type": "commit"}, {"oid": "878cb478a26ca65e9826a5d762f526c265da7a80", "url": "https://github.com/dashevo/dash-wallet/commit/878cb478a26ca65e9826a5d762f526c265da7a80", "message": "Set background colors correctly for activity and contacts", "committedDate": "2020-06-11T19:20:38Z", "type": "commit"}, {"oid": "8295195c04ce0c1a366e65f89576647f5a6fa9e2", "url": "https://github.com/dashevo/dash-wallet/commit/8295195c04ce0c1a366e65f89576647f5a6fa9e2", "message": "Remove, refactor xml files", "committedDate": "2020-06-11T19:36:55Z", "type": "commit"}, {"oid": "2eed301d08cc7887731f5662db9610667d961b83", "url": "https://github.com/dashevo/dash-wallet/commit/2eed301d08cc7887731f5662db9610667d961b83", "message": "Get ready for the next PR by resolving some conflicts", "committedDate": "2020-06-11T22:43:48Z", "type": "commit"}, {"oid": "e7f2a716daefa78f84f5234f2217d08a619e5c45", "url": "https://github.com/dashevo/dash-wallet/commit/e7f2a716daefa78f84f5234f2217d08a619e5c45", "message": "Add comments", "committedDate": "2020-06-11T22:47:35Z", "type": "commit"}, {"oid": "284d9d4aafe6429dec4df5d9eaf675eda2f6b21e", "url": "https://github.com/dashevo/dash-wallet/commit/284d9d4aafe6429dec4df5d9eaf675eda2f6b21e", "message": "Merge branch 'evonet-develop' of http://github.com/dashevo/dash-wallet into evonet-search-contacts", "committedDate": "2020-06-13T01:18:57Z", "type": "commit"}, {"oid": "9487e4f1a032401b2bba50fb2507f6ca088597db", "url": "https://github.com/dashevo/dash-wallet/commit/9487e4f1a032401b2bba50fb2507f6ca088597db", "message": "Align with previous PR", "committedDate": "2020-06-13T01:43:34Z", "type": "commit"}, {"oid": "a0495163f92e5dc8195e113abb0ff2c0e3aae98d", "url": "https://github.com/dashevo/dash-wallet/commit/a0495163f92e5dc8195e113abb0ff2c0e3aae98d", "message": "Fix a few other bugs after the merge", "committedDate": "2020-06-13T02:25:12Z", "type": "commit"}, {"oid": "d4cf06ab2b2d7162bc22b1ecf6ba21b5f915a8be", "url": "https://github.com/dashevo/dash-wallet/commit/d4cf06ab2b2d7162bc22b1ecf6ba21b5f915a8be", "message": "Ignore requests we have made that have not been accepted from My Contacts", "committedDate": "2020-06-15T15:22:09Z", "type": "commit"}, {"oid": "e2d5f30384dd4e7da72db70ec3b7283b04926c19", "url": "https://github.com/dashevo/dash-wallet/commit/e2d5f30384dd4e7da72db70ec3b7283b04926c19", "message": "Replace ignore button with X image", "committedDate": "2020-06-15T15:23:17Z", "type": "commit"}, {"oid": "09b81d7e08eb894d954bdb9bc6b1d48ff13bd1be", "url": "https://github.com/dashevo/dash-wallet/commit/09b81d7e08eb894d954bdb9bc6b1d48ff13bd1be", "message": "PlatformRepo: Create Profile with empty data", "committedDate": "2020-06-15T17:54:18Z", "type": "commit"}, {"oid": "d046101e6bc5811d43b3237ce275aebd9056df43", "url": "https://github.com/dashevo/dash-wallet/commit/d046101e6bc5811d43b3237ce275aebd9056df43", "message": "PlatformRepo: change fake data", "committedDate": "2020-06-15T20:46:21Z", "type": "commit"}, {"oid": "daf01cda9db1662328c49559e729b309666a9275", "url": "https://github.com/dashevo/dash-wallet/commit/daf01cda9db1662328c49559e729b309666a9275", "message": "BlockchainServiceImpl: update Contacts regularly", "committedDate": "2020-06-15T20:47:16Z", "type": "commit"}, {"oid": "54fcbe7fdcbc5e7584bdb39dc10adeaeb663d5d8", "url": "https://github.com/dashevo/dash-wallet/commit/54fcbe7fdcbc5e7584bdb39dc10adeaeb663d5d8", "message": "PlatformRepo: Add timer and use optimizations from searchUsernames", "committedDate": "2020-06-15T22:23:18Z", "type": "commit"}, {"oid": "dc6ffbe4be8aed13acd5c1578cb11242f16266a5", "url": "https://github.com/dashevo/dash-wallet/commit/dc6ffbe4be8aed13acd5c1578cb11242f16266a5", "message": "BlockchainService: Add best block listener for updating dashpay info\n\nClear contact information on reset wallet and recan blockchain", "committedDate": "2020-06-15T22:25:50Z", "type": "commit"}, {"oid": "f0f316aa6a0ef53176774a255b1d1c0c1d2e7435", "url": "https://github.com/dashevo/dash-wallet/commit/f0f316aa6a0ef53176774a255b1d1c0c1d2e7435", "message": "Fix formatting, etc", "committedDate": "2020-06-16T14:18:07Z", "type": "commit"}, {"oid": "98db25c7eec687c20178c651d6f8945fbe404ea0", "url": "https://github.com/dashevo/dash-wallet/commit/98db25c7eec687c20178c651d6f8945fbe404ea0", "message": "Remove extra call to get profiles", "committedDate": "2020-06-16T21:30:21Z", "type": "commit"}, {"oid": "25d943efc6cce0e270533a0d12b6faa28a83a17b", "url": "https://github.com/dashevo/dash-wallet/commit/25d943efc6cce0e270533a0d12b6faa28a83a17b", "message": "Remove and fix comments", "committedDate": "2020-06-16T21:42:13Z", "type": "commit"}, {"oid": "1bc954256ee1200e5d4fb8bf2e2b8479a75d799d", "url": "https://github.com/dashevo/dash-wallet/commit/1bc954256ee1200e5d4fb8bf2e2b8479a75d799d", "message": "Show contact status for usernames in search results", "committedDate": "2020-06-16T22:56:06Z", "type": "commit"}, {"oid": "ad62c4cf291e06c8f3a95161e1f864458d7ea3cf", "url": "https://github.com/dashevo/dash-wallet/commit/ad62c4cf291e06c8f3a95161e1f864458d7ea3cf", "message": "Show the DashPay User screen when a username is clicked", "committedDate": "2020-06-16T22:56:48Z", "type": "commit"}, {"oid": "259d68a2919d4c48b612c38264d6cc22ceb87505", "url": "https://github.com/dashevo/dash-wallet/commit/259d68a2919d4c48b612c38264d6cc22ceb87505", "message": "Configure mode that shows only Contact Requests in ContactsActivity", "committedDate": "2020-06-16T22:59:38Z", "type": "commit"}, {"oid": "8c6c6559de2a16c51f9980aef04753a1c0e601e1", "url": "https://github.com/dashevo/dash-wallet/commit/8c6c6559de2a16c51f9980aef04753a1c0e601e1", "message": "Remove unnecessary code", "committedDate": "2020-06-17T15:12:33Z", "type": "commit"}, {"oid": "b0936f7e7868dba94ecf7b1fa1ef2b739c0c5d24", "url": "https://github.com/dashevo/dash-wallet/commit/b0936f7e7868dba94ecf7b1fa1ef2b739c0c5d24", "message": "Merge branch 'dashpay-view-requests' of https://github.com/dashevo/dash-wallet into dashpay-notifications", "committedDate": "2020-06-17T15:44:16Z", "type": "commit"}, {"oid": "1533d4e9e2d8d4e6825fc20a2bf55413c01f0907", "url": "https://github.com/dashevo/dash-wallet/commit/1533d4e9e2d8d4e6825fc20a2bf55413c01f0907", "message": "notification screen part 1", "committedDate": "2020-06-17T22:52:30Z", "type": "commit"}, {"oid": "a6878fb118bb3069f2f6400e11a23cbad8987aa6", "url": "https://github.com/dashevo/dash-wallet/commit/a6878fb118bb3069f2f6400e11a23cbad8987aa6", "message": "notification screen part 2", "committedDate": "2020-06-18T23:22:39Z", "type": "commit"}, {"oid": "fa63b71c1895441c7e4b4a37da17b1caa9de2103", "url": "https://github.com/dashevo/dash-wallet/commit/fa63b71c1895441c7e4b4a37da17b1caa9de2103", "message": "Merge branch 'evonet-search-contacts' into dashpay-update-contacts", "committedDate": "2020-06-19T01:12:18Z", "type": "commit"}, {"oid": "38a3f22050f3470b905addf933ffea6d5be0c686", "url": "https://github.com/dashevo/dash-wallet/commit/38a3f22050f3470b905addf933ffea6d5be0c686", "message": "Merge branch 'dashpay-update-contacts' of http://github.com/dashevo/dash-wallet into dashpay-accept-contact-request", "committedDate": "2020-06-19T01:20:44Z", "type": "commit"}, {"oid": "adf04b1732fbd3e9b2f876597bbb9ae660995640", "url": "https://github.com/dashevo/dash-wallet/commit/adf04b1732fbd3e9b2f876597bbb9ae660995640", "message": "Merge branch 'dashpay-accept-contact-request' of https://github.com/dashevo/dash-wallet into dashpay-notifications", "committedDate": "2020-06-19T01:32:33Z", "type": "commit"}, {"oid": "82bf805c7bec43697824ce0b6dbf32989bbf7a02", "url": "https://github.com/dashevo/dash-wallet/commit/82bf805c7bec43697824ce0b6dbf32989bbf7a02", "message": "Fix crash on fresh install", "committedDate": "2020-06-19T02:00:02Z", "type": "commit"}, {"oid": "fdf4a84950558002e05836c03e599d428e14d733", "url": "https://github.com/dashevo/dash-wallet/commit/fdf4a84950558002e05836c03e599d428e14d733", "message": "Fix crash on fresh install / restore recovery phrase", "committedDate": "2020-06-22T01:05:17Z", "type": "commit"}, {"oid": "f80f4c2f7e5a106bcd24c76cfe6ddd850a86bbc4", "url": "https://github.com/dashevo/dash-wallet/commit/f80f4c2f7e5a106bcd24c76cfe6ddd850a86bbc4", "message": "Add notification bell if there are no notifications", "committedDate": "2020-06-22T19:21:27Z", "type": "commit"}, {"oid": "8a66b62e80377078f18762b6c5ecc1e7e5e75810", "url": "https://github.com/dashevo/dash-wallet/commit/8a66b62e80377078f18762b6c5ecc1e7e5e75810", "message": "Fix issues with Home Screen and display of username image / notification count", "committedDate": "2020-06-23T20:05:31Z", "type": "commit"}, {"oid": "ed5c2ebe3e2f846a2cb5746a9111dde4812c5a79", "url": "https://github.com/dashevo/dash-wallet/commit/ed5c2ebe3e2f846a2cb5746a9111dde4812c5a79", "message": "Remove comments", "committedDate": "2020-06-23T20:06:23Z", "type": "commit"}, {"oid": "15df662fd7951669b48961221f51bd1868d53fc4", "url": "https://github.com/dashevo/dash-wallet/commit/15df662fd7951669b48961221f51bd1868d53fc4", "message": "Use milliseconds as the date format", "committedDate": "2020-06-23T20:07:27Z", "type": "commit"}, {"oid": "3b4ba9b9e321c07520fabfc7a55f53afb9ccd0d7", "url": "https://github.com/dashevo/dash-wallet/commit/3b4ba9b9e321c07520fabfc7a55f53afb9ccd0d7", "message": "Configure mode that shows only Contact Requests in ContactsActivity", "committedDate": "2020-06-23T20:20:29Z", "type": "commit"}, {"oid": "b9b35304145580dd7a8e5d596a5207aa0bcb9831", "url": "https://github.com/dashevo/dash-wallet/commit/b9b35304145580dd7a8e5d596a5207aa0bcb9831", "message": "Add last seen notification time to configuration", "committedDate": "2020-06-23T23:40:59Z", "type": "commit"}, {"oid": "afb4e390da0bc93208a32dbeda1f79dbc06bd168", "url": "https://github.com/dashevo/dash-wallet/commit/afb4e390da0bc93208a32dbeda1f79dbc06bd168", "message": "Use the last notification seen time on the home screen", "committedDate": "2020-06-23T23:41:54Z", "type": "commit"}, {"oid": "b5b4a994fad31a230a46f77e68d441936af848e2", "url": "https://github.com/dashevo/dash-wallet/commit/b5b4a994fad31a230a46f77e68d441936af848e2", "message": "Support Accepting a contact request in the view items and reset the new notifications", "committedDate": "2020-06-23T23:45:48Z", "type": "commit"}, {"oid": "23aa8ba03fd589ef4101c275a57b4fb299ab20fa", "url": "https://github.com/dashevo/dash-wallet/commit/23aa8ba03fd589ef4101c275a57b4fb299ab20fa", "message": "Fix notification count updates on Home Screen", "committedDate": "2020-06-24T15:48:53Z", "type": "commit"}, {"oid": "dacc76144ccc4ccaba1ca305b6813184ebb156d3", "url": "https://github.com/dashevo/dash-wallet/commit/dacc76144ccc4ccaba1ca305b6813184ebb156d3", "message": "Remove unneeded code, hide the search bar, set better dates on the mock data", "committedDate": "2020-06-24T17:11:06Z", "type": "commit"}, {"oid": "bb12bb809169f0b0600c8c7b8cf348eb44676bb6", "url": "https://github.com/dashevo/dash-wallet/commit/bb12bb809169f0b0600c8c7b8cf348eb44676bb6", "message": "Merge branch 'dashpay-view-requests' of https://github.com/dashevo/dash-wallet into dashpay-notifications", "committedDate": "2020-06-24T18:01:21Z", "type": "commit"}, {"oid": "0f00ca1ce0904a1d7f4bcb585b4b8208d8e875a3", "url": "https://github.com/dashevo/dash-wallet/commit/0f00ca1ce0904a1d7f4bcb585b4b8208d8e875a3", "message": "Merge branch 'evonet-develop' into dashpay-notifications", "committedDate": "2020-06-27T01:13:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAxMjU5OA==", "url": "https://github.com/dashevo/dash-wallet/pull/444#discussion_r448012598", "bodyText": "It looks like these imports aren't being used.", "author": "sambarboza", "createdAt": "2020-06-30T22:22:58Z", "path": "wallet/src/de/schildbach/wallet/ui/HeaderBalanceFragment.java", "diffHunk": "@@ -18,33 +18,38 @@\n \n import android.app.Activity;\n import android.content.Intent;\n-import android.graphics.Color;\n+import android.content.SharedPreferences;\n import android.os.Bundle;\n import android.os.Handler;\n import android.view.LayoutInflater;\n import android.view.View;\n import android.view.View.OnClickListener;\n import android.view.ViewGroup;\n+import android.widget.ImageButton;\n import android.widget.ImageView;\n import android.widget.TextView;\n \n import androidx.annotation.NonNull;\n import androidx.core.content.res.ResourcesCompat;\n import androidx.fragment.app.Fragment;\n import androidx.lifecycle.Observer;\n+import androidx.lifecycle.ViewModelProvider;\n import androidx.lifecycle.ViewModelProviders;\n import androidx.loader.app.LoaderManager;\n import androidx.loader.content.Loader;\n \n import com.amulyakhare.textdrawable.TextDrawable;\n \n import org.bitcoinj.core.Coin;\n+import org.bitcoinj.core.Utils;", "originalCommit": "0f00ca1ce0904a1d7f4bcb585b4b8208d8e875a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAyNjYxNg==", "url": "https://github.com/dashevo/dash-wallet/pull/444#discussion_r448026616", "bodyText": "unused imports removed", "author": "HashEngineering", "createdAt": "2020-06-30T23:04:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAxMjU5OA=="}], "type": "inlineReview", "revised_code": {"commit": "f754c50728fea483c278b544360001186204f12a", "chunk": "diff --git a/wallet/src/de/schildbach/wallet/ui/HeaderBalanceFragment.java b/wallet/src/de/schildbach/wallet/ui/HeaderBalanceFragment.java\nindex 6c19be28c..b306dad6a 100644\n--- a/wallet/src/de/schildbach/wallet/ui/HeaderBalanceFragment.java\n+++ b/wallet/src/de/schildbach/wallet/ui/HeaderBalanceFragment.java\n\n@@ -30,7 +30,6 @@ import android.widget.ImageView;\n import android.widget.TextView;\n \n import androidx.annotation.NonNull;\n-import androidx.core.content.res.ResourcesCompat;\n import androidx.fragment.app.Fragment;\n import androidx.lifecycle.Observer;\n import androidx.lifecycle.ViewModelProvider;\n"}}, {"oid": "af230727de57dff334183f9ec30e6b09d0d260b6", "url": "https://github.com/dashevo/dash-wallet/commit/af230727de57dff334183f9ec30e6b09d0d260b6", "message": "Fix layout of an accepted contact request", "committedDate": "2020-06-30T22:35:31Z", "type": "commit"}, {"oid": "f754c50728fea483c278b544360001186204f12a", "url": "https://github.com/dashevo/dash-wallet/commit/f754c50728fea483c278b544360001186204f12a", "message": "Add license, remove unused imports", "committedDate": "2020-06-30T23:01:08Z", "type": "commit"}, {"oid": "1e8fb9a1593ed54f48cfa9ea760c64f339bd7820", "url": "https://github.com/dashevo/dash-wallet/commit/1e8fb9a1593ed54f48cfa9ea760c64f339bd7820", "message": "Remove TODO", "committedDate": "2020-06-30T23:06:34Z", "type": "commit"}, {"oid": "163f45bfee7e6f3d3e8158fc52e8a9c279c45c5a", "url": "https://github.com/dashevo/dash-wallet/commit/163f45bfee7e6f3d3e8158fc52e8a9c279c45c5a", "message": "BlockchainService: Update DashPay State every 15 seconds, not each block", "committedDate": "2020-07-01T21:33:28Z", "type": "commit"}, {"oid": "cc6ca6ee1ab5e2dca6dd8d523b643a1d0d02cac7", "url": "https://github.com/dashevo/dash-wallet/commit/cc6ca6ee1ab5e2dca6dd8d523b643a1d0d02cac7", "message": "Merge branch 'evonet-develop' into dashpay-notifications", "committedDate": "2020-07-02T16:45:46Z", "type": "commit"}]}