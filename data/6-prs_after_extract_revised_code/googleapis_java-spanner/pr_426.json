{"pr_number": 426, "pr_title": "fix: uses old version of gax-grpc method", "pr_createdAt": "2020-09-15T01:42:57Z", "pr_url": "https://github.com/googleapis/java-spanner/pull/426", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2ODc5Mw==", "url": "https://github.com/googleapis/java-spanner/pull/426#discussion_r488368793", "bodyText": "This comment may not give enough context for folks outside of Google. So instead reword to something like:\n\"Before updating this method to setExecutor, please verify with a code owner on the lowest version of gax-grpc that needs to be supported. Currently v1.47.17, which doesn't support the setExecutor variant.\"", "author": "skuruppu", "createdAt": "2020-09-15T04:00:35Z", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/spi/v1/GapicSpannerRpc.java", "diffHunk": "@@ -317,7 +316,11 @@ public GapicSpannerRpc(final SpannerOptions options) {\n             .setMaxInboundMessageSize(MAX_MESSAGE_SIZE)\n             .setMaxInboundMetadataSize(MAX_METADATA_SIZE)\n             .setPoolSize(options.getNumChannels())\n-            .setExecutor(executorProvider.getExecutor())\n+\n+            // Before updating this method to setExecutor, please make sure to verify the version\n+            // of gax-grpc used internally. At the moment we are using 1.47.1, which does not\n+            // support the setExecutor variant.", "originalCommit": "94fd5bb864030ebc2a1b5b5ba514be98c72d330f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2OTg3MA==", "url": "https://github.com/googleapis/java-spanner/pull/426#discussion_r488369870", "bodyText": "Done.", "author": "thiagotnunes", "createdAt": "2020-09-15T04:05:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2ODc5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "4ed38fe050e4529cf842a80bd4d45bcbbdd6d562", "chunk": "diff --git a/google-cloud-spanner/src/main/java/com/google/cloud/spanner/spi/v1/GapicSpannerRpc.java b/google-cloud-spanner/src/main/java/com/google/cloud/spanner/spi/v1/GapicSpannerRpc.java\nindex b828e816..50af8b06 100644\n--- a/google-cloud-spanner/src/main/java/com/google/cloud/spanner/spi/v1/GapicSpannerRpc.java\n+++ b/google-cloud-spanner/src/main/java/com/google/cloud/spanner/spi/v1/GapicSpannerRpc.java\n\n@@ -317,9 +319,9 @@ public class GapicSpannerRpc implements SpannerRpc {\n             .setMaxInboundMetadataSize(MAX_METADATA_SIZE)\n             .setPoolSize(options.getNumChannels())\n \n-            // Before updating this method to setExecutor, please make sure to verify the version\n-            // of gax-grpc used internally. At the moment we are using 1.47.1, which does not\n-            // support the setExecutor variant.\n+            // Before updating this method to setExecutor, please verify with a code owner on\n+            // the lowest version of gax-grpc that needs to be supported. Currently v1.47.17,\n+            // which doesn't support the setExecutor variant.\n             .setExecutorProvider(executorProvider)\n \n             // Set a keepalive time of 120 seconds to help long running\n"}}, {"oid": "4ed38fe050e4529cf842a80bd4d45bcbbdd6d562", "url": "https://github.com/googleapis/java-spanner/commit/4ed38fe050e4529cf842a80bd4d45bcbbdd6d562", "message": "fix: uses old version of gax-grpc method\n\nInternally, we are using version 1.47.1 of the gax-grpc library, which\ndoes not provide a method currently being used (setExecutor).\n\nIn here we use a method that is available in 1.47.1 and achieves the\nsame goal (setExecutorProvider).", "committedDate": "2020-09-15T04:04:06Z", "type": "commit"}, {"oid": "4ed38fe050e4529cf842a80bd4d45bcbbdd6d562", "url": "https://github.com/googleapis/java-spanner/commit/4ed38fe050e4529cf842a80bd4d45bcbbdd6d562", "message": "fix: uses old version of gax-grpc method\n\nInternally, we are using version 1.47.1 of the gax-grpc library, which\ndoes not provide a method currently being used (setExecutor).\n\nIn here we use a method that is available in 1.47.1 and achieves the\nsame goal (setExecutorProvider).", "committedDate": "2020-09-15T04:04:06Z", "type": "forcePushed"}]}