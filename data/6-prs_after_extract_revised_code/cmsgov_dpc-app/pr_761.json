{"pr_number": 761, "pr_title": "DPC-1283: Patient resource input validation", "pr_createdAt": "2020-04-21T14:56:22Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/761", "timeline": [{"oid": "68c78825ca462ce63978fe7f67e68011324ffc4b", "url": "https://github.com/CMSgov/dpc-app/commit/68c78825ca462ce63978fe7f67e68011324ffc4b", "message": "MBI pattern on PatientEntity beneficiaryID", "committedDate": "2020-04-21T18:53:46Z", "type": "commit"}, {"oid": "35e3f82a8889cd439347017866788ee4438bc8c9", "url": "https://github.com/CMSgov/dpc-app/commit/35e3f82a8889cd439347017866788ee4438bc8c9", "message": "Test changes for MBI format in Patient", "committedDate": "2020-04-21T18:53:56Z", "type": "commit"}, {"oid": "35e3f82a8889cd439347017866788ee4438bc8c9", "url": "https://github.com/CMSgov/dpc-app/commit/35e3f82a8889cd439347017866788ee4438bc8c9", "message": "Test changes for MBI format in Patient", "committedDate": "2020-04-21T18:53:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjk2ODgzNg==", "url": "https://github.com/CMSgov/dpc-app/pull/761#discussion_r412968836", "bodyText": "Would this be a good place to document the difference between valid MBI's and \"valid\" test MBI's?", "author": "dhgreene", "createdAt": "2020-04-22T13:11:47Z", "path": "dpc-common/src/main/java/gov/cms/dpc/common/entities/PatientEntity.java", "diffHunk": "@@ -20,9 +21,11 @@\n public class PatientEntity extends PersonEntity {\n \n     public static final long serialVersionUID = 42L;\n+    public static final String MBI_FORMAT = \"^\\\\d[a-zA-Z][a-zA-Z0-9]\\\\d[a-zA-Z][a-zA-Z0-9]\\\\d[a-zA-Z]{2}\\\\d{2}$\";", "originalCommit": "35e3f82a8889cd439347017866788ee4438bc8c9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c976f8ec80145f5885f7af521037e8dd0d448de6", "chunk": "diff --git a/dpc-common/src/main/java/gov/cms/dpc/common/entities/PatientEntity.java b/dpc-common/src/main/java/gov/cms/dpc/common/entities/PatientEntity.java\nindex 88de914a..8b157b9e 100644\n--- a/dpc-common/src/main/java/gov/cms/dpc/common/entities/PatientEntity.java\n+++ b/dpc-common/src/main/java/gov/cms/dpc/common/entities/PatientEntity.java\n\n@@ -21,6 +21,9 @@ import java.util.Objects;\n public class PatientEntity extends PersonEntity {\n \n     public static final long serialVersionUID = 42L;\n+    /* For details of the MBI format, see: https://www.cms.gov/Medicare/New-Medicare-Card/Understanding-the-MBI.pdf\n+    This pattern is similar to that format, but is less restrictive to accommodate testing. Synthetic MBIs should\n+    include letters and numbers not permitted in real MBIs. */\n     public static final String MBI_FORMAT = \"^\\\\d[a-zA-Z][a-zA-Z0-9]\\\\d[a-zA-Z][a-zA-Z0-9]\\\\d[a-zA-Z]{2}\\\\d{2}$\";\n \n     @NotEmpty\n"}}, {"oid": "c976f8ec80145f5885f7af521037e8dd0d448de6", "url": "https://github.com/CMSgov/dpc-app/commit/c976f8ec80145f5885f7af521037e8dd0d448de6", "message": "Add comment about MBI format", "committedDate": "2020-04-22T14:01:51Z", "type": "commit"}]}