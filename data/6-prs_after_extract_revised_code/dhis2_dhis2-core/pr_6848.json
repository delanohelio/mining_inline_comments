{"pr_number": 6848, "pr_title": "fix: implement NAME Tracker Identifier scheme", "pr_createdAt": "2020-12-08T10:47:24Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6848", "timeline": [{"oid": "92a30427ad2388e9836ade179df52a5ff6e17062", "url": "https://github.com/dhis2/dhis2-core/commit/92a30427ad2388e9836ade179df52a5ff6e17062", "message": "fix: implement NAME Tracker Identifier scheme\n\nAdds the `NAME` Tracker Identifier scheme that allows Tracker Import to fetch metadata by the `name` attribute.\nThis PR also:\n\n- adds a comprehensive integration test that verifies that all available Tracker Identifiers are working with all the IdScheme\n- fix a bug in `TrackerIdentifierCollecor` that prevented the correct pre-heating of Category Option", "committedDate": "2020-12-08T10:43:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0MjY2OQ==", "url": "https://github.com/dhis2/dhis2-core/pull/6848#discussion_r538242669", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    else if( TrackerIdScheme.NAME.equals( idScheme))\n          \n          \n            \n                    else if( TrackerIdScheme.NAME.equals( idScheme) )", "author": "stian-sandvold", "createdAt": "2020-12-08T10:58:52Z", "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/preheat/supplier/classStrategy/AbstractSchemaStrategy.java", "diffHunk": "@@ -135,10 +135,13 @@ private Restriction generateRestrictionFromIdentifiers( TrackerIdScheme idScheme\n         {\n             return Restrictions.in( \"code\", ids );\n         }\n+        else if( TrackerIdScheme.NAME.equals( idScheme))", "originalCommit": "92a30427ad2388e9836ade179df52a5ff6e17062", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2e4aa74f83e280883a15620e25b94e259cbe7e78", "chunk": "diff --git a/dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/preheat/supplier/classStrategy/AbstractSchemaStrategy.java b/dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/preheat/supplier/classStrategy/AbstractSchemaStrategy.java\nindex 52f1be017c..548489a762 100644\n--- a/dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/preheat/supplier/classStrategy/AbstractSchemaStrategy.java\n+++ b/dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/preheat/supplier/classStrategy/AbstractSchemaStrategy.java\n\n@@ -135,7 +135,7 @@ public abstract class AbstractSchemaStrategy implements ClassBasedSupplierStrate\n         {\n             return Restrictions.in( \"code\", ids );\n         }\n-        else if( TrackerIdScheme.NAME.equals( idScheme))\n+        else if( TrackerIdScheme.NAME.equals( idScheme) )\n         {\n             return Restrictions.in( \"name\", ids );\n         }\n"}}, {"oid": "2e4aa74f83e280883a15620e25b94e259cbe7e78", "url": "https://github.com/dhis2/dhis2-core/commit/2e4aa74f83e280883a15620e25b94e259cbe7e78", "message": "Update dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/preheat/supplier/classStrategy/AbstractSchemaStrategy.java", "committedDate": "2020-12-08T10:59:38Z", "type": "commit"}]}