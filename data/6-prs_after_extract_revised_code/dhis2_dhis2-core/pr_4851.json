{"pr_number": 4851, "pr_title": "fix: Backwards compatible with Chart and ReportTable and preventing NPE [DHIS2-7946]", "pr_createdAt": "2020-02-10T14:59:44Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/4851", "timeline": [{"oid": "451355356c6e8912ff786710dba29c13cbb357f7", "url": "https://github.com/dhis2/dhis2-core/commit/451355356c6e8912ff786710dba29c13cbb357f7", "message": "fix: Preventing NPE for inconsistent data.", "committedDate": "2020-02-10T14:00:49Z", "type": "commit"}, {"oid": "c0ad7c0418240a993bec09b1c2cf59568b3e4fcb", "url": "https://github.com/dhis2/dhis2-core/commit/c0ad7c0418240a993bec09b1c2cf59568b3e4fcb", "message": "fix: Removing unecessary comment [DHIS2-7946]", "committedDate": "2020-02-10T14:50:07Z", "type": "commit"}, {"oid": "072bde225af6849c51547bc25d66baecc62dc85e", "url": "https://github.com/dhis2/dhis2-core/commit/072bde225af6849c51547bc25d66baecc62dc85e", "message": "fix: Centralizing the NPE checking [DHIS2-7946]", "committedDate": "2020-02-10T14:55:52Z", "type": "commit"}, {"oid": "d68ef1a703d1f57426bd89fccca2f5749c6f5c0e", "url": "https://github.com/dhis2/dhis2-core/commit/d68ef1a703d1f57426bd89fccca2f5749c6f5c0e", "message": "fix: Code formatting [DHIS2-7946]", "committedDate": "2020-02-10T14:58:03Z", "type": "commit"}, {"oid": "d54a00ac1f319349abbb50302783b54f4191ecc7", "url": "https://github.com/dhis2/dhis2-core/commit/d54a00ac1f319349abbb50302783b54f4191ecc7", "message": "fix: Fixing Chart rendering [DHIS2-7946]", "committedDate": "2020-02-11T13:18:49Z", "type": "commit"}, {"oid": "37c67ed2eabf38895f5cb10eb1e84c5a2e02691b", "url": "https://github.com/dhis2/dhis2-core/commit/37c67ed2eabf38895f5cb10eb1e84c5a2e02691b", "message": "Merge remote-tracking branch 'origin' into DHIS2-7946", "committedDate": "2020-02-14T08:32:27Z", "type": "commit"}, {"oid": "a5e6b568e722c40ec8af01ab8fd210f8803d264a", "url": "https://github.com/dhis2/dhis2-core/commit/a5e6b568e722c40ec8af01ab8fd210f8803d264a", "message": "feat: Adding default values for Visualization attrs [DHIS2-7946]", "committedDate": "2020-02-14T10:09:13Z", "type": "commit"}, {"oid": "4d7235797b99299159c650336b64064509d2c2b2", "url": "https://github.com/dhis2/dhis2-core/commit/4d7235797b99299159c650336b64064509d2c2b2", "message": "fix: Ensuring that sortOrder won't cause issues [DHIS2-7946]", "committedDate": "2020-02-14T14:23:55Z", "type": "commit"}, {"oid": "6b9e909838fb0d913a0e9e6c0a51baa9e6b380c0", "url": "https://github.com/dhis2/dhis2-core/commit/6b9e909838fb0d913a0e9e6c0a51baa9e6b380c0", "message": "fix: Removing unused authorities in tests [DHIS2-7946]", "committedDate": "2020-02-17T08:53:31Z", "type": "commit"}, {"oid": "74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "url": "https://github.com/dhis2/dhis2-core/commit/74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "message": "fix: Rename the cumulative attr [DHIS2-7946]", "committedDate": "2020-02-18T08:13:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNTcxMg==", "url": "https://github.com/dhis2/dhis2-core/pull/4851#discussion_r380525712", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     if ( isNotEmpty( columnDimensions ) )\n          \n          \n            \n                    if ( isNotEmpty( columnDimensions ) )", "author": "stian-sandvold", "createdAt": "2020-02-18T08:42:24Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "diffHunk": "@@ -1108,7 +1111,7 @@ private void initializeChart( User user, Date date, OrganisationUnit organisatio\n     public void populateAnalyticalProperties()\n     {\n         // Some Visualizations may not have columnDimensions.\n-        if ( isNotEmpty( columnDimensions ) )\n+         if ( isNotEmpty( columnDimensions ) )", "originalCommit": "74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f59a415144c79ab6127513fe94b58d4ea83cc1c1", "chunk": "diff --git a/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java b/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java\nindex 00f624309b..1f43ab8986 100644\n--- a/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java\n+++ b/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java\n\n@@ -1111,7 +1111,7 @@ public class Visualization\n     public void populateAnalyticalProperties()\n     {\n         // Some Visualizations may not have columnDimensions.\n-         if ( isNotEmpty( columnDimensions ) )\n+        if ( isNotEmpty( columnDimensions ) )\n         {\n             for ( String column : columnDimensions )\n             {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNjQ3OQ==", "url": "https://github.com/dhis2/dhis2-core/pull/4851#discussion_r380526479", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (cumulativeValues)\n          \n          \n            \n                    if ( cumulativeValues )", "author": "stian-sandvold", "createdAt": "2020-02-18T08:43:58Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "diffHunk": "@@ -1428,7 +1495,7 @@ public Grid getGrid( final Grid grid, Map<String, Object> valueMap, final Displa\n             grid.addRegressionToGrid( startColumnIndex, numberOfColumns );\n         }\n \n-        if ( cumulative )\n+        if (cumulativeValues)", "originalCommit": "74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2aaf96dedb41e3f6857d9f3253086fa46141cafc", "chunk": "diff --git a/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java b/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java\nindex 00f624309b..c4ac8e29a0 100644\n--- a/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java\n+++ b/dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java\n\n@@ -1495,7 +1495,7 @@ public class Visualization\n             grid.addRegressionToGrid( startColumnIndex, numberOfColumns );\n         }\n \n-        if (cumulativeValues)\n+        if ( cumulativeValues )\n         {\n             grid.addCumulativesToGrid( startColumnIndex, numberOfColumns );\n         }\n"}}, {"oid": "f59a415144c79ab6127513fe94b58d4ea83cc1c1", "url": "https://github.com/dhis2/dhis2-core/commit/f59a415144c79ab6127513fe94b58d4ea83cc1c1", "message": "Update dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "committedDate": "2020-02-18T08:47:19Z", "type": "commit"}, {"oid": "2aaf96dedb41e3f6857d9f3253086fa46141cafc", "url": "https://github.com/dhis2/dhis2-core/commit/2aaf96dedb41e3f6857d9f3253086fa46141cafc", "message": "Update dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "committedDate": "2020-02-18T08:47:31Z", "type": "commit"}]}