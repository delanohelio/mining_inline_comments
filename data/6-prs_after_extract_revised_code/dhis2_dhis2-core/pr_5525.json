{"pr_number": 5525, "pr_title": "fix: Workaround to avoid NPE during chart gen. [DHIS2-8803]", "pr_createdAt": "2020-05-05T13:31:23Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/5525", "timeline": [{"oid": "2772175c06a360ffd9524b0d5e647472b12dacbe", "url": "https://github.com/dhis2/dhis2-core/commit/2772175c06a360ffd9524b0d5e647472b12dacbe", "message": "fix: Workaround to avoid NPE during chart gen. [DHIS2-8803]\n\nThis fix is the same done for the issue DHIS2-8590]. Not all visualizations have categories", "committedDate": "2020-05-05T13:25:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE3Njg5Mw==", "url": "https://github.com/dhis2/dhis2-core/pull/5525#discussion_r420176893", "bodyText": "In DHIS2, you can also use ObjectUtils.firstNonNull for selecting a non-null object", "author": "luciano-fiandesio", "createdAt": "2020-05-05T14:58:51Z", "path": "dhis-2/dhis-services/dhis-service-reporting/src/main/java/org/hisp/dhis/visualization/ChartImageGenerator.java", "diffHunk": "@@ -432,7 +434,7 @@ private TextTitle getSubTitle(final Visualization visualization )\n         valueMap = DimensionalObjectUtils.getSortedKeysMap( valueMap );\n \n         List<NameableObject> seriez = new ArrayList<>( visualization.chartSeries() );\n-        List<NameableObject> categories = new ArrayList<>( visualization.chartCategory() );\n+        List<NameableObject> categories = new ArrayList<>( defaultIfNull( visualization.chartCategory(), emptyList() ) );", "originalCommit": "2772175c06a360ffd9524b0d5e647472b12dacbe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}