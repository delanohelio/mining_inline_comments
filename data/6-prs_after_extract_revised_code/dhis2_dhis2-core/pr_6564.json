{"pr_number": 6564, "pr_title": "fix: applying pre-processor modification to context and event payload\u2026", "pr_createdAt": "2020-11-03T11:17:09Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6564", "timeline": [{"oid": "6b4d4ea811c36012866d49b50f596d985592d64a", "url": "https://github.com/dhis2/dhis2-core/commit/6b4d4ea811c36012866d49b50f596d985592d64a", "message": "fix: applying pre-processor modification to context and event payload (it was formerly only on event payload)", "committedDate": "2020-11-03T11:15:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU5ODA2NA==", "url": "https://github.com/dhis2/dhis2-core/pull/6564#discussion_r516598064", "bodyText": "Formatting", "author": "luciano-fiandesio", "createdAt": "2020-11-03T11:28:04Z", "path": "dhis-2/dhis-services/dhis-service-dxf2/src/main/java/org/hisp/dhis/dxf2/events/importer/shared/validation/DataValueCheck.java", "diffHunk": "@@ -115,7 +117,7 @@ public void validateMandatoryAttributes( ImportSummary importSummary, WorkContex\n \n         ProgramStage programStage = ctx.getProgramStage( programStageIdScheme, event.getProgramStage() );\n \n-        final Set<ProgramStageDataElement> mandatoryDataElements = programStage.getProgramStageDataElements();\n+        final Set<ProgramStageDataElement> mandatoryDataElements = getMandatoryProgramStageDataElements(programStage);", "originalCommit": "6b4d4ea811c36012866d49b50f596d985592d64a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE3NDU1NA==", "url": "https://github.com/dhis2/dhis2-core/pull/6564#discussion_r517174554", "bodyText": "Fixed, thank you", "author": "gnespolino", "createdAt": "2020-11-04T08:37:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU5ODA2NA=="}], "type": "inlineReview", "revised_code": {"commit": "9a6dd775cd4cf90217401c22da8350189cbe75d2", "chunk": "diff --git a/dhis-2/dhis-services/dhis-service-dxf2/src/main/java/org/hisp/dhis/dxf2/events/importer/shared/validation/DataValueCheck.java b/dhis-2/dhis-services/dhis-service-dxf2/src/main/java/org/hisp/dhis/dxf2/events/importer/shared/validation/DataValueCheck.java\nindex ae61ba7761..3021171978 100644\n--- a/dhis-2/dhis-services/dhis-service-dxf2/src/main/java/org/hisp/dhis/dxf2/events/importer/shared/validation/DataValueCheck.java\n+++ b/dhis-2/dhis-services/dhis-service-dxf2/src/main/java/org/hisp/dhis/dxf2/events/importer/shared/validation/DataValueCheck.java\n\n@@ -117,7 +117,7 @@ public class DataValueCheck implements Checker\n \n         ProgramStage programStage = ctx.getProgramStage( programStageIdScheme, event.getProgramStage() );\n \n-        final Set<ProgramStageDataElement> mandatoryDataElements = getMandatoryProgramStageDataElements(programStage);\n+        final Set<ProgramStageDataElement> mandatoryDataElements = getMandatoryProgramStageDataElements( programStage );\n \n         // Data Element IDs associated to the current event\n         Set<String> dataValues = eventDataValueMap.get( event.getUid() ).stream()\n"}}, {"oid": "9a6dd775cd4cf90217401c22da8350189cbe75d2", "url": "https://github.com/dhis2/dhis2-core/commit/9a6dd775cd4cf90217401c22da8350189cbe75d2", "message": "fix: formatting", "committedDate": "2020-11-04T08:36:44Z", "type": "commit"}]}