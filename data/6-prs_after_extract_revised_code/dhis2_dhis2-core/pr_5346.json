{"pr_number": 5346, "pr_title": "fix: reduce metadata calls for SMS", "pr_createdAt": "2020-04-11T02:32:53Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/5346", "timeline": [{"oid": "5f797b0c5dcebda8707daf38fafe013eca46f3f5", "url": "https://github.com/dhis2/dhis2-core/commit/5f797b0c5dcebda8707daf38fafe013eca46f3f5", "message": "refactor: reduce metadata calls for SMS", "committedDate": "2020-04-10T23:32:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIxNTk2Nw==", "url": "https://github.com/dhis2/dhis2-core/pull/5346#discussion_r412215967", "bodyText": "Change to .getUid() consistently.", "author": "larshelge", "createdAt": "2020-04-21T14:06:51Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/AggregateDataSetSMSListener.java", "diffHunk": "@@ -111,10 +111,10 @@ protected SMSResponse postProcess( IncomingSms sms, SMSSubmission submission )\n         String per = subm.getPeriod();\n         UID aocid = subm.getAttributeOptionCombo();\n \n-        OrganisationUnit orgUnit = organisationUnitService.getOrganisationUnit( ouid.uid );\n-        User user = userService.getUser( subm.getUserID().uid );\n+        OrganisationUnit orgUnit = organisationUnitService.getOrganisationUnit( ouid.getUID() );\n+        User user = userService.getUser( subm.getUserID().getUID() );", "originalCommit": "5f797b0c5dcebda8707daf38fafe013eca46f3f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjc1NDMwMA==", "url": "https://github.com/dhis2/dhis2-core/pull/5346#discussion_r412754300", "bodyText": "@larshelge - as the change turned out to be quite big I've separated it into another PR here: #5421", "author": "JasperTimm", "createdAt": "2020-04-22T07:51:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIxNTk2Nw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "de1b7acad809ddb8f54f8b4c73606d9bad12fbac", "url": "https://github.com/dhis2/dhis2-core/commit/de1b7acad809ddb8f54f8b4c73606d9bad12fbac", "message": "null check and code fix", "committedDate": "2020-06-24T08:40:22Z", "type": "commit"}]}