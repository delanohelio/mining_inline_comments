{"pr_number": 6352, "pr_title": "feat: make labeled dates translatable in Program and Program Stage [DHIS2-8297]", "pr_createdAt": "2020-10-08T06:07:26Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6352", "timeline": [{"oid": "02120731d0044cb77f21c67c852180132068832c", "url": "https://github.com/dhis2/dhis2-core/commit/02120731d0044cb77f21c67c852180132068832c", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-27T14:24:34Z", "type": "commit"}, {"oid": "51771650446f2011bb65f40224439144d23a6045", "url": "https://github.com/dhis2/dhis2-core/commit/51771650446f2011bb65f40224439144d23a6045", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-27T15:22:19Z", "type": "commit"}, {"oid": "714fe2430869802e1ebdb02165f26d4a84456a51", "url": "https://github.com/dhis2/dhis2-core/commit/714fe2430869802e1ebdb02165f26d4a84456a51", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-01T12:37:00Z", "type": "commit"}, {"oid": "4eb958db2b25180e62fe2270ee791600d9c76e33", "url": "https://github.com/dhis2/dhis2-core/commit/4eb958db2b25180e62fe2270ee791600d9c76e33", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-02T10:30:36Z", "type": "commit"}, {"oid": "d873074dd2496c9c383babe76ffb2f9896463c8e", "url": "https://github.com/dhis2/dhis2-core/commit/d873074dd2496c9c383babe76ffb2f9896463c8e", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-04T09:21:13Z", "type": "commit"}, {"oid": "163623769a257f49d01654468f2820b7130254e0", "url": "https://github.com/dhis2/dhis2-core/commit/163623769a257f49d01654468f2820b7130254e0", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-10T09:22:44Z", "type": "commit"}, {"oid": "2dbfa1afe0d78471d5e1fbd85effde7016755ab2", "url": "https://github.com/dhis2/dhis2-core/commit/2dbfa1afe0d78471d5e1fbd85effde7016755ab2", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-18T08:35:19Z", "type": "commit"}, {"oid": "410d1b8ae4e3c7d3443c2d183e9734c2c99c03ab", "url": "https://github.com/dhis2/dhis2-core/commit/410d1b8ae4e3c7d3443c2d183e9734c2c99c03ab", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-22T14:52:59Z", "type": "commit"}, {"oid": "f3f808d5545bdc9a09b04145326145aa35fe95c7", "url": "https://github.com/dhis2/dhis2-core/commit/f3f808d5545bdc9a09b04145326145aa35fe95c7", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-23T12:51:56Z", "type": "commit"}, {"oid": "119a44276d7f8131e0c50ac68e37e4c58a94321d", "url": "https://github.com/dhis2/dhis2-core/commit/119a44276d7f8131e0c50ac68e37e4c58a94321d", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-23T13:20:22Z", "type": "commit"}, {"oid": "7f46bfe45381b9f3f6a6c6ce17920627ba8471f6", "url": "https://github.com/dhis2/dhis2-core/commit/7f46bfe45381b9f3f6a6c6ce17920627ba8471f6", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-23T13:33:44Z", "type": "commit"}, {"oid": "13a184206e3af6c3ab0cecb869a83c0cc9a3a363", "url": "https://github.com/dhis2/dhis2-core/commit/13a184206e3af6c3ab0cecb869a83c0cc9a3a363", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-24T12:26:08Z", "type": "commit"}, {"oid": "34ba07764d15be691c4bc643b1ea59755a86db18", "url": "https://github.com/dhis2/dhis2-core/commit/34ba07764d15be691c4bc643b1ea59755a86db18", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-24T12:55:19Z", "type": "commit"}, {"oid": "e8206d5a037db2fe2dbb2a5a8b73d0f22b8d32ba", "url": "https://github.com/dhis2/dhis2-core/commit/e8206d5a037db2fe2dbb2a5a8b73d0f22b8d32ba", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-24T15:04:14Z", "type": "commit"}, {"oid": "74dc2fdd1db373666e11dd75fb705811b2f3a06e", "url": "https://github.com/dhis2/dhis2-core/commit/74dc2fdd1db373666e11dd75fb705811b2f3a06e", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-25T13:59:00Z", "type": "commit"}, {"oid": "623c13181847b33d1ec93dd7b847a3b2501aa04e", "url": "https://github.com/dhis2/dhis2-core/commit/623c13181847b33d1ec93dd7b847a3b2501aa04e", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-09-30T10:37:43Z", "type": "commit"}, {"oid": "ee542ef90c1a50e378505f4f7da424ba0b98fd41", "url": "https://github.com/dhis2/dhis2-core/commit/ee542ef90c1a50e378505f4f7da424ba0b98fd41", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-10-06T07:38:04Z", "type": "commit"}, {"oid": "1611fc44415d5e32677cdc9c71a177f2331d0393", "url": "https://github.com/dhis2/dhis2-core/commit/1611fc44415d5e32677cdc9c71a177f2331d0393", "message": "feat: make labeled dates translatable in Program and Program Stage\n\nSigned-off-by: Morten Svanaes <msvanaes@dhis2.org>", "committedDate": "2020-10-08T06:06:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUyMzU1OQ==", "url": "https://github.com/dhis2/dhis2-core/pull/6352#discussion_r501523559", "bodyText": "So.. The current translation solution has a weakness in that if two entities have properties with the same name, and a translation key exists, it could be applied to both entities, even if just one of the entities are supposed to be translated.\nStill we have not prefixed these properties with the entity name, e.g. FORM_NAME is just for data element but we have not prefixed the property with DATA_ELEMENT.\nBy having prefixed names like PROGRAM_INCIDENT_DATE_LABEL we are breaking that convention. Even if not perfect, I am thinking we should stick to the convention and use INCIDENT_DATE_LABEL and so on.", "author": "larshelge", "createdAt": "2020-10-08T08:03:28Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/translation/TranslationProperty.java", "diffHunk": "@@ -33,14 +33,19 @@\n  */\n public enum TranslationProperty\n {\n-    NAME ( \"name\" ),\n-    SHORT_NAME ( \"shortName\" ),\n-    DESCRIPTION (\"description\" ),\n-    FORM_NAME ( \"formName\" ),\n-    NUMERATOR_DESCRIPTION ( \"numeratorDescription\" ),\n-    DENOMINATOR_DESCRIPTION ( \"denominatorDescription\" ),\n-    RELATIONSHIP_FROM_TO_NAME (\"fromToName\" ),\n-    RELATIONSHIP_TO_FROM_NAME (\"toFromName\" );\n+    NAME( \"name\" ),\n+    SHORT_NAME( \"shortName\" ),\n+    DESCRIPTION( \"description\" ),\n+    FORM_NAME( \"formName\" ),\n+    NUMERATOR_DESCRIPTION( \"numeratorDescription\" ),\n+    DENOMINATOR_DESCRIPTION( \"denominatorDescription\" ),\n+    RELATIONSHIP_FROM_TO_NAME( \"fromToName\" ),\n+    RELATIONSHIP_TO_FROM_NAME( \"toFromName\" ),\n+    INSTRUCTION( \"instruction\" ),\n+    PROGRAM_INCIDENT_DATE_LABEL( \"programIncidentDateLabel\" ),", "originalCommit": "1611fc44415d5e32677cdc9c71a177f2331d0393", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1e51e51e2eebc03b3aa8e677f544dae9b2e7a356", "chunk": "diff --git a/dhis-2/dhis-api/src/main/java/org/hisp/dhis/translation/TranslationProperty.java b/dhis-2/dhis-api/src/main/java/org/hisp/dhis/translation/TranslationProperty.java\nindex 721ac4ff2d..6e604d07fe 100644\n--- a/dhis-2/dhis-api/src/main/java/org/hisp/dhis/translation/TranslationProperty.java\n+++ b/dhis-2/dhis-api/src/main/java/org/hisp/dhis/translation/TranslationProperty.java\n\n@@ -42,10 +42,10 @@ public enum TranslationProperty\n     RELATIONSHIP_FROM_TO_NAME( \"fromToName\" ),\n     RELATIONSHIP_TO_FROM_NAME( \"toFromName\" ),\n     INSTRUCTION( \"instruction\" ),\n-    PROGRAM_INCIDENT_DATE_LABEL( \"programIncidentDateLabel\" ),\n-    PROGRAM_ENROLLMENT_DATE_LABEL( \"programEnrollmentDateLabel\" ),\n-    PROGRAM_STAGE_EXECUTION_DATE_LABEL( \"programStageExecutionDateLabel\" ),\n-    PROGRAM_STAGE_DUE_DATE_LABEL( \"programStageDueDateLabel\" );\n+    INCIDENT_DATE_LABEL( \"incidentDateLabel\" ),\n+    ENROLLMENT_DATE_LABEL( \"enrollmentDateLabel\" ),\n+    EXECUTION_DATE_LABEL( \"executionDateLabel\" ),\n+    DUE_DATE_LABEL( \"dueDateLabel\" );\n \n     private String name;\n \n"}}, {"oid": "1e51e51e2eebc03b3aa8e677f544dae9b2e7a356", "url": "https://github.com/dhis2/dhis2-core/commit/1e51e51e2eebc03b3aa8e677f544dae9b2e7a356", "message": "feat: make labeled dates translatable in Program and Program Stage\n\n* Update constants to not include object type name\n\nSigned-off-by: Morten Svanaes <msvanaes@dhis2.org>", "committedDate": "2020-10-08T11:14:24Z", "type": "commit"}, {"oid": "6aed0d872bf28d809bae2c64e9f07dd90bff8fef", "url": "https://github.com/dhis2/dhis2-core/commit/6aed0d872bf28d809bae2c64e9f07dd90bff8fef", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-10-16T09:52:48Z", "type": "commit"}, {"oid": "66f4bfbd56b0ba3a046b8487743e8e4f19c82326", "url": "https://github.com/dhis2/dhis2-core/commit/66f4bfbd56b0ba3a046b8487743e8e4f19c82326", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-10-16T10:01:26Z", "type": "commit"}, {"oid": "f8af2df7857664dc1d9f35793e0c735a11e374d2", "url": "https://github.com/dhis2/dhis2-core/commit/f8af2df7857664dc1d9f35793e0c735a11e374d2", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-10-16T11:01:57Z", "type": "commit"}, {"oid": "49d5b715abc6e85599ae6db14ec918326538486b", "url": "https://github.com/dhis2/dhis2-core/commit/49d5b715abc6e85599ae6db14ec918326538486b", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-10-20T10:21:18Z", "type": "commit"}, {"oid": "9e369616463b8ef41ba74229cfc69d73da323459", "url": "https://github.com/dhis2/dhis2-core/commit/9e369616463b8ef41ba74229cfc69d73da323459", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-11-03T09:22:06Z", "type": "commit"}, {"oid": "2563719c9e5bd0bb727c4f46d216d7b83fd2a4ca", "url": "https://github.com/dhis2/dhis2-core/commit/2563719c9e5bd0bb727c4f46d216d7b83fd2a4ca", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-11-03T09:29:23Z", "type": "commit"}, {"oid": "dc9be34544b7170c4f0389a750b416c8a171e30c", "url": "https://github.com/dhis2/dhis2-core/commit/dc9be34544b7170c4f0389a750b416c8a171e30c", "message": "Merge with master", "committedDate": "2020-11-03T09:44:46Z", "type": "commit"}]}