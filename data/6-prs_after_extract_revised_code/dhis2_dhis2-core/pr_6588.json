{"pr_number": 6588, "pr_title": "fix: DHIS2-9855 fixing NPE", "pr_createdAt": "2020-11-06T14:18:52Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6588", "timeline": [{"oid": "c2c823312bec850a9b2682329afc2a75c8d1da1f", "url": "https://github.com/dhis2/dhis2-core/commit/c2c823312bec850a9b2682329afc2a75c8d1da1f", "message": "fix: DHIS2-9855 fixing NPE", "committedDate": "2020-11-06T14:17:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYxMzAxNA==", "url": "https://github.com/dhis2/dhis2-core/pull/6588#discussion_r519613014", "bodyText": "Is this method ever returning a null bundleReport?", "author": "enricocolasante", "createdAt": "2020-11-09T07:57:33Z", "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/DefaultTrackerImportService.java", "diffHunk": "@@ -186,9 +191,10 @@ protected void commitBundle( TrackerImportParams params, TrackerImportReport imp\n \n         TrackerBundleReport bundleReport = trackerBundleService.commit( trackerBundle );", "originalCommit": "c2c823312bec850a9b2682329afc2a75c8d1da1f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzODE1Ng==", "url": "https://github.com/dhis2/dhis2-core/pull/6588#discussion_r519638156", "bodyText": "nope, but in case of TrackerBundleMode.VALIDATE it will return an instance where there's no ENROLLMENT nor EVENT keys in typeReportMap, which is why it was going NPE. To make it safer I checked for null starting from bundleReport which is redundant, yet not hitting performances at all, so it should be fine", "author": "gnespolino", "createdAt": "2020-11-09T08:45:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYxMzAxNA=="}], "type": "inlineReview", "revised_code": null}]}