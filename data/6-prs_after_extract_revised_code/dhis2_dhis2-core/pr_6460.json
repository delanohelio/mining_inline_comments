{"pr_number": 6460, "pr_title": "chore: remove duplicate get in integrity check getter/setter", "pr_createdAt": "2020-10-21T18:01:23Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6460", "timeline": [{"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465", "url": "https://github.com/dhis2/dhis2-core/commit/45c7d577d0b813ed0d866741f1213fbee3e9d465", "message": "chore: remove duplicate get in integrity check getter/setter", "committedDate": "2020-10-21T17:53:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUyOTgxNA==", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509529814", "bodyText": "This is the relevant change", "author": "amcgee", "createdAt": "2020-10-21T18:02:54Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/dataintegrity/DataIntegrityReport.java", "diffHunk": "@@ -44,68 +54,58 @@\n import org.hisp.dhis.programrule.ProgramRuleVariable;\n import org.hisp.dhis.validation.ValidationRule;\n \n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.SortedMap;\n-import java.util.TreeMap;\n-\n /**\n  * @author Halvdan Hoem Grelland <halvdanhg@gmail.com>\n  */\n public class DataIntegrityReport\n {\n     private List<DataElement> dataElementsWithoutDataSet = new ArrayList<>();\n-    \n+\n     private List<DataElement> dataElementsWithoutGroups = new ArrayList<>();\n-    \n+\n     private Map<DataElement, Collection<DataSet>> dataElementsAssignedToDataSetsWithDifferentPeriodTypes = new HashMap<>();\n-    \n+\n     private SortedMap<DataElement, Collection<DataElementGroup>> dataElementsViolatingExclusiveGroupSets = new TreeMap<>();\n \n     private SortedMap<DataSet, Collection<DataElement>> dataElementsInDataSetNotInForm = new TreeMap<>();\n-    \n+\n     private List<CategoryCombo> invalidCategoryCombos = new ArrayList<>();\n \n     private List<DataSet> dataSetsNotAssignedToOrganisationUnits = new ArrayList<>();\n-    \n+\n     private Set<Set<Indicator>> indicatorsWithIdenticalFormulas = new HashSet<>();\n-    \n+\n     private List<Indicator> indicatorsWithoutGroups = new ArrayList<>();\n-    \n+\n     private Map<Indicator, String> invalidIndicatorNumerators = new HashMap<>();\n-    \n+\n     private Map<Indicator, String> invalidIndicatorDenominators = new HashMap<>();\n-    \n+\n     private SortedMap<Indicator, Collection<IndicatorGroup>> indicatorsViolatingExclusiveGroupSets = new TreeMap<>();\n-    \n+\n     private List<Period> duplicatePeriods = new ArrayList<>();\n-    \n+\n     private List<OrganisationUnit> organisationUnitsWithCyclicReferences = new ArrayList<>();\n-    \n+\n     private List<OrganisationUnit> orphanedOrganisationUnits = new ArrayList<>();\n-    \n+\n     private List<OrganisationUnit> organisationUnitsWithoutGroups = new ArrayList<>();\n-    \n+\n     private SortedMap<OrganisationUnit, Collection<OrganisationUnitGroup>> organisationUnitsViolatingExclusiveGroupSets = new TreeMap<>();\n-    \n+\n     private List<OrganisationUnitGroup> organisationUnitGroupsWithoutGroupSets = new ArrayList<>();\n-    \n+\n     private List<ValidationRule> validationRulesWithoutGroups = new ArrayList<>();\n-    \n+\n     private Map<ValidationRule, String> invalidValidationRuleLeftSideExpressions = new HashMap<>();\n-    \n+\n     private Map<ValidationRule, String> invalidValidationRuleRightSideExpressions = new HashMap<>();\n \n     private Map<ProgramIndicator, String> invalidProgramIndicatorExpressions = new HashMap<>();\n \n     private Map<ProgramIndicator, String> invalidProgramIndicatorFilters = new HashMap<>();\n \n-    private List<ProgramIndicator> getProgramIndicatorWithNoExpression = new ArrayList<>();", "originalCommit": "45c7d577d0b813ed0d866741f1213fbee3e9d465", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUzMDIxMg==", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509530212", "bodyText": "Along with this", "author": "amcgee", "createdAt": "2020-10-21T18:03:14Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/dataintegrity/DataIntegrityReport.java", "diffHunk": "@@ -358,22 +366,23 @@ public void setInvalidProgramIndicatorFilters( Map<ProgramIndicator, String> inv\n         this.invalidProgramIndicatorFilters = invalidProgramIndicatorFilters;\n     }\n \n-    public List<ProgramIndicator> getGetProgramIndicatorWithNoExpression()\n+    public List<ProgramIndicator> getProgramIndicatorsWithNoExpression()\n     {\n-        return getProgramIndicatorWithNoExpression;\n+        return programIndicatorsWithNoExpression;\n     }\n \n-    public void setGetProgramIndicatorWithNoExpression( List<ProgramIndicator> getProgramIndicatorWithNoExpression )\n+    public void setProgramIndicatorsWithNoExpression( List<ProgramIndicator> programIndicatorsWithNoExpression )\n     {\n-        this.getProgramIndicatorWithNoExpression = getProgramIndicatorWithNoExpression;\n+        this.programIndicatorsWithNoExpression = programIndicatorsWithNoExpression;\n     }", "originalCommit": "45c7d577d0b813ed0d866741f1213fbee3e9d465", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUzMDc2MQ==", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509530761", "bodyText": "And this", "author": "amcgee", "createdAt": "2020-10-21T18:03:33Z", "path": "dhis-2/dhis-services/dhis-service-administration/src/main/java/org/hisp/dhis/dataintegrity/DefaultDataIntegrityService.java", "diffHunk": "@@ -613,7 +624,7 @@ public DataIntegrityReport getDataIntegrityReport()\n \n         report.setInvalidProgramIndicatorExpressions( getInvalidProgramIndicatorExpressions() );\n         report.setInvalidProgramIndicatorFilters( getInvalidProgramIndicatorFilters() );\n-        report.setGetProgramIndicatorWithNoExpression( getProgramIndicatorsWithNoExpression() );", "originalCommit": "45c7d577d0b813ed0d866741f1213fbee3e9d465", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUzMTk0Ng==", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509531946", "bodyText": "And finally this", "author": "amcgee", "createdAt": "2020-10-21T18:04:35Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/dataintegrity/FlattenedDataIntegrityReport.java", "diffHunk": "@@ -176,23 +182,28 @@ public FlattenedDataIntegrityReport( org.hisp.dhis.dataintegrity.DataIntegrityRe\n \n         duplicatePeriods = transformCollection( report.getDuplicatePeriods() );\n \n-        organisationUnitsWithCyclicReferences = transformCollection( report.getOrganisationUnitsWithCyclicReferences() );\n+        organisationUnitsWithCyclicReferences = transformCollection(\n+            report.getOrganisationUnitsWithCyclicReferences() );\n \n         orphanedOrganisationUnits = transformCollection( report.getOrphanedOrganisationUnits() );\n \n         organisationUnitsWithoutGroups = transformCollection( report.getOrganisationUnitsWithoutGroups() );\n \n-        organisationUnitsViolatingExclusiveGroupSets = transformSortedMap( report.getOrganisationUnitsViolatingExclusiveGroupSets() );\n+        organisationUnitsViolatingExclusiveGroupSets = transformSortedMap(\n+            report.getOrganisationUnitsViolatingExclusiveGroupSets() );\n \n-        organisationUnitGroupsWithoutGroupSets = transformCollection( report.getOrganisationUnitGroupsWithoutGroupSets() );\n+        organisationUnitGroupsWithoutGroupSets = transformCollection(\n+            report.getOrganisationUnitGroupsWithoutGroupSets() );\n \n         validationRulesWithoutGroups = transformCollection( report.getValidationRulesWithoutGroups() );\n \n-        invalidValidationRuleLeftSideExpressions = transformMapOfStrings( report.getInvalidValidationRuleLeftSideExpressions() );\n+        invalidValidationRuleLeftSideExpressions = transformMapOfStrings(\n+            report.getInvalidValidationRuleLeftSideExpressions() );\n \n-        invalidValidationRuleRightSideExpressions = transformMapOfStrings( report.getInvalidValidationRuleRightSideExpressions() );\n+        invalidValidationRuleRightSideExpressions = transformMapOfStrings(\n+            report.getInvalidValidationRuleRightSideExpressions() );\n \n-        programIndicatorsWithNoExpression = transformCollection( report.getGetProgramIndicatorWithNoExpression() );", "originalCommit": "45c7d577d0b813ed0d866741f1213fbee3e9d465", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "d253a49ad384db46f4322442417865a312fe6077", "url": "https://github.com/dhis2/dhis2-core/commit/d253a49ad384db46f4322442417865a312fe6077", "message": "chore: fix sonarcloud code smell - don't access static members from derived types", "committedDate": "2020-10-23T12:59:30Z", "type": "commit"}]}