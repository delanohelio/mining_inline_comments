{"pr_number": 7578, "pr_title": "LoadWorker: clarify the semantics of --server_port flag", "pr_createdAt": "2020-10-30T10:06:44Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7578", "timeline": [{"oid": "f93dedcc54c96833649813fa5dbcdaf7361fdac3", "url": "https://github.com/grpc/grpc-java/commit/f93dedcc54c96833649813fa5dbcdaf7361fdac3", "message": "LoadWorker: clarify the semantics of --server_port flag\n\nThe behavior is as follows:\r\nhttps://github.com/grpc/grpc-java/blob/59528d8efec465326b071ffc6f3f2220bcf641c9/benchmarks/src/main/java/io/grpc/benchmarks/driver/LoadWorker.java#L136\r\n(ServerConfig.port takes precedence if set).\r\n\r\ngrpc-go's documentation is clearer:\r\nhttps://github.com/grpc/grpc-go/blob/02cd07d9bb5609fe76f8bb8d948037e79a8b29c7/benchmark/worker/main.go#L44", "committedDate": "2020-10-30T10:06:12Z", "type": "commit"}, {"oid": "4cf937278e02ff652b762279d15ef820b993ee1b", "url": "https://github.com/grpc/grpc-java/commit/4cf937278e02ff652b762279d15ef820b993ee1b", "message": "Fix checkstyle problem.", "committedDate": "2020-11-04T14:32:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQ5NjM1Ng==", "url": "https://github.com/grpc/grpc-java/pull/7578#discussion_r517496356", "bodyText": "Off by one. It is 101 characters.", "author": "ejona86", "createdAt": "2020-11-04T17:04:17Z", "path": "benchmarks/src/main/java/io/grpc/benchmarks/driver/LoadWorker.java", "diffHunk": "@@ -104,7 +104,8 @@ public static void main(String[] args) throws Exception {\n               + \"\\n  --driver_port=<port>\"\n               + \"\\n    Port to expose grpc.testing.WorkerService, used by driver to initiate work.\"\n               + \"\\n  --server_port=<port>\"\n-              + \"\\n    Port to start load servers on. Defaults to any available port\");\n+              + \"\\n    Port to start load servers on, if not specified by the server config message.\"", "originalCommit": "4cf937278e02ff652b762279d15ef820b993ee1b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQ5Njg4NA==", "url": "https://github.com/grpc/grpc-java/pull/7578#discussion_r517496884", "bodyText": "It is also 81 characters to the terminal", "author": "ejona86", "createdAt": "2020-11-04T17:05:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQ5NjM1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAyNzAwOA==", "url": "https://github.com/grpc/grpc-java/pull/7578#discussion_r518027008", "bodyText": "Aargh, sorry for not checking that carefully.\nShould be fixed now.", "author": "jtattermusch", "createdAt": "2020-11-05T12:51:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQ5NjM1Ng=="}], "type": "inlineReview", "revised_code": {"commit": "af13f85c6dc3fb10fb3eace88712d5c3723ebc1d", "chunk": "diff --git a/benchmarks/src/main/java/io/grpc/benchmarks/driver/LoadWorker.java b/benchmarks/src/main/java/io/grpc/benchmarks/driver/LoadWorker.java\nindex 26022a4cf..595782438 100644\n--- a/benchmarks/src/main/java/io/grpc/benchmarks/driver/LoadWorker.java\n+++ b/benchmarks/src/main/java/io/grpc/benchmarks/driver/LoadWorker.java\n\n@@ -104,8 +104,8 @@ public class LoadWorker {\n               + \"\\n  --driver_port=<port>\"\n               + \"\\n    Port to expose grpc.testing.WorkerService, used by driver to initiate work.\"\n               + \"\\n  --server_port=<port>\"\n-              + \"\\n    Port to start load servers on, if not specified by the server config message.\"\n-              + \"\\n    Defaults to any available port.\");\n+              + \"\\n    Port to start load servers on, if not specified by the server config\"\n+              + \"\\n    message. Defaults to any available port.\");\n       System.exit(1);\n     }\n     LoadWorker loadWorker = new LoadWorker(driverPort, serverPort);\n"}}, {"oid": "af13f85c6dc3fb10fb3eace88712d5c3723ebc1d", "url": "https://github.com/grpc/grpc-java/commit/af13f85c6dc3fb10fb3eace88712d5c3723ebc1d", "message": "fix checkstyle problem again", "committedDate": "2020-11-05T12:50:27Z", "type": "commit"}]}