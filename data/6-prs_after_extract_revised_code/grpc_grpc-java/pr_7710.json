{"pr_number": 7710, "pr_title": "interop: add channelz to xds interop test server running in non-secure mode", "pr_createdAt": "2020-12-08T17:54:09Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7710", "timeline": [{"oid": "0f28e71a2b9bbe3eb5ceb40d3f2351f7a9063a71", "url": "https://github.com/grpc/grpc-java/commit/0f28e71a2b9bbe3eb5ceb40d3f2351f7a9063a71", "message": "interop: add channelz to XdsTestServer in secure_mode=False", "committedDate": "2020-12-08T17:53:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgzNTg1NQ==", "url": "https://github.com/grpc/grpc-java/pull/7710#discussion_r538835855", "bodyText": "Nit: Not sure if 100 is actually important here or just an arbitrary value, but put into named constant since it's now used in two places?", "author": "ericgribkoff", "createdAt": "2020-12-08T21:54:24Z", "path": "interop-testing/src/main/java/io/grpc/testing/integration/XdsTestServer.java", "diffHunk": "@@ -188,6 +188,7 @@ private void start() throws Exception {\n               .addService(new XdsUpdateHealthServiceImpl(health))\n               .addService(health.getHealthService())\n               .addService(ProtoReflectionService.newInstance())\n+              .addService(ChannelzService.newInstance(100))", "originalCommit": "0f28e71a2b9bbe3eb5ceb40d3f2351f7a9063a71", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg0NTIzNg==", "url": "https://github.com/grpc/grpc-java/pull/7710#discussion_r538845236", "bodyText": "Makes sense", "author": "sanjaypujare", "createdAt": "2020-12-08T22:10:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgzNTg1NQ=="}], "type": "inlineReview", "revised_code": {"commit": "4a8896750ce91bea5b7abd6015e91a09a588756a", "chunk": "diff --git a/interop-testing/src/main/java/io/grpc/testing/integration/XdsTestServer.java b/interop-testing/src/main/java/io/grpc/testing/integration/XdsTestServer.java\nindex 4391abbb6..b2b654756 100644\n--- a/interop-testing/src/main/java/io/grpc/testing/integration/XdsTestServer.java\n+++ b/interop-testing/src/main/java/io/grpc/testing/integration/XdsTestServer.java\n\n@@ -188,7 +189,7 @@ public final class XdsTestServer {\n               .addService(new XdsUpdateHealthServiceImpl(health))\n               .addService(health.getHealthService())\n               .addService(ProtoReflectionService.newInstance())\n-              .addService(ChannelzService.newInstance(100))\n+              .addService(ChannelzService.newInstance(CHANNELZ_MAX_PAGE_SIZE))\n               .build()\n               .start();\n       maintenanceServer = null;\n"}}, {"oid": "4a8896750ce91bea5b7abd6015e91a09a588756a", "url": "https://github.com/grpc/grpc-java/commit/4a8896750ce91bea5b7abd6015e91a09a588756a", "message": "move magic number to a constant CHANNELZ_MAX_PAGE_SIZE", "committedDate": "2020-12-08T22:23:42Z", "type": "commit"}]}