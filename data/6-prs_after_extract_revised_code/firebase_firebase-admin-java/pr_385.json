{"pr_number": 385, "pr_title": "Add integration tests for TenantManager operations.", "pr_createdAt": "2020-03-25T22:07:13Z", "pr_url": "https://github.com/firebase/firebase-admin-java/pull/385", "timeline": [{"oid": "63f2c42e790aad9cd946b0ee5b68aa5864dff4be", "url": "https://github.com/firebase/firebase-admin-java/commit/63f2c42e790aad9cd946b0ee5b68aa5864dff4be", "message": "Write integration tests for tenant operations and fix discovered bugs.", "committedDate": "2020-03-25T22:03:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc5MzMwOA==", "url": "https://github.com/firebase/firebase-admin-java/pull/385#discussion_r398793308", "bodyText": "Do some basic assertions on the returned Tenant here.", "author": "hiranya911", "createdAt": "2020-03-26T18:20:07Z", "path": "src/test/java/com/google/firebase/auth/FirebaseAuthIT.java", "diffHunk": "@@ -320,9 +320,118 @@ public void onSuccess(ListUsersPage result) {\n     }\n   }\n \n+  @Test\n+  public void testTenantLifecycle() throws Exception {\n+    TenantManager tenantManager = auth.getTenantManager();\n+\n+    // Create tenant\n+    Tenant.CreateRequest createRequest = new Tenant.CreateRequest().setDisplayName(\"DisplayName\");\n+    Tenant tenant = tenantManager.createTenantAsync(createRequest).get();\n+    String tenantId = tenant.getTenantId();", "originalCommit": "63f2c42e790aad9cd946b0ee5b68aa5864dff4be", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI3NDEzNA==", "url": "https://github.com/firebase/firebase-admin-java/pull/385#discussion_r401274134", "bodyText": "Done.", "author": "micahstairs", "createdAt": "2020-03-31T23:32:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc5MzMwOA=="}], "type": "inlineReview", "revised_code": {"commit": "3b875e7a080d058886e69a68cee1b00b676c8c07", "chunk": "diff --git a/src/test/java/com/google/firebase/auth/FirebaseAuthIT.java b/src/test/java/com/google/firebase/auth/FirebaseAuthIT.java\nindex 0bb5b86..d6a41d4 100644\n--- a/src/test/java/com/google/firebase/auth/FirebaseAuthIT.java\n+++ b/src/test/java/com/google/firebase/auth/FirebaseAuthIT.java\n\n@@ -327,6 +327,9 @@ public class FirebaseAuthIT {\n     // Create tenant\n     Tenant.CreateRequest createRequest = new Tenant.CreateRequest().setDisplayName(\"DisplayName\");\n     Tenant tenant = tenantManager.createTenantAsync(createRequest).get();\n+    assertEquals(\"DisplayName\", tenant.getDisplayName());\n+    assertFalse(tenant.isPasswordSignInAllowed());\n+    assertFalse(tenant.isEmailLinkSignInEnabled());\n     String tenantId = tenant.getTenantId();\n \n     // Get tenant\n"}}, {"oid": "3b875e7a080d058886e69a68cee1b00b676c8c07", "url": "https://github.com/firebase/firebase-admin-java/commit/3b875e7a080d058886e69a68cee1b00b676c8c07", "message": "Add more assertions on the created tenant.", "committedDate": "2020-03-31T23:32:29Z", "type": "commit"}]}