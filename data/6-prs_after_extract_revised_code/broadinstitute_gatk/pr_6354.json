{"pr_number": 6354, "pr_title": "Deleted some unused genotyping code", "pr_createdAt": "2020-01-07T20:49:28Z", "pr_url": "https://github.com/broadinstitute/gatk/pull/6354", "timeline": [{"oid": "35343596d2a2ac93c4fb76811dc036aa4f5c883e", "url": "https://github.com/broadinstitute/gatk/commit/35343596d2a2ac93c4fb76811dc036aa4f5c883e", "message": "Removed unused GenotypeLikelihoodsCalculationModel enum", "committedDate": "2020-01-07T14:24:03Z", "type": "commit"}, {"oid": "e447a2acd0de095c7dff57324d7598a8e1f0fe57", "url": "https://github.com/broadinstitute/gatk/commit/e447a2acd0de095c7dff57324d7598a8e1f0fe57", "message": "got rid of UnifiedArgumentCollection", "committedDate": "2020-01-07T16:52:47Z", "type": "commit"}, {"oid": "83b1155a0a75876780116bf90789e450bcbb371c", "url": "https://github.com/broadinstitute/gatk/commit/83b1155a0a75876780116bf90789e450bcbb371c", "message": "removed unused exactCallsLog argument", "committedDate": "2020-01-07T16:52:57Z", "type": "commit"}, {"oid": "5b9ccecfde56d8e8c4dde69e84db12e0b43a88fb", "url": "https://github.com/broadinstitute/gatk/commit/5b9ccecfde56d8e8c4dde69e84db12e0b43a88fb", "message": "got rid of unused random likelihoods class", "committedDate": "2020-01-07T16:59:22Z", "type": "commit"}, {"oid": "2fef48726bbb47f29eb819f3b7476e54c77a167d", "url": "https://github.com/broadinstitute/gatk/commit/2fef48726bbb47f29eb819f3b7476e54c77a167d", "message": "another unused method", "committedDate": "2020-01-07T17:10:13Z", "type": "commit"}, {"oid": "666ef1c6694ea19711aae6132e13a6187adb97e0", "url": "https://github.com/broadinstitute/gatk/commit/666ef1c6694ea19711aae6132e13a6187adb97e0", "message": "removed unused code to write likelihoods to file", "committedDate": "2020-01-07T17:14:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3MzI0Mg==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r363973242", "bodyText": "This comment still talks about UnifiedArgumentCollection", "author": "lbergelson", "createdAt": "2020-01-07T22:02:39Z", "path": "src/main/java/org/broadinstitute/hellbender/tools/walkers/GenotypeGVCFsEngine.java", "diffHunk": "@@ -389,15 +382,15 @@ else if (matchingStart.size() == 1) {\n      * Creates a UnifiedArgumentCollection with appropriate values filled in from the arguments in this walker", "originalCommit": "666ef1c6694ea19711aae6132e13a6187adb97e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA0NjY1MQ==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r364046651", "bodyText": "fixed", "author": "davidbenjamin", "createdAt": "2020-01-08T03:02:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3MzI0Mg=="}], "type": "inlineReview", "revised_code": {"commit": "780170780e334c323aaa36eeb98cd9ba14e7976d", "chunk": "diff --git a/src/main/java/org/broadinstitute/hellbender/tools/walkers/GenotypeGVCFsEngine.java b/src/main/java/org/broadinstitute/hellbender/tools/walkers/GenotypeGVCFsEngine.java\nindex e0cf87df0..d5af43c60 100644\n--- a/src/main/java/org/broadinstitute/hellbender/tools/walkers/GenotypeGVCFsEngine.java\n+++ b/src/main/java/org/broadinstitute/hellbender/tools/walkers/GenotypeGVCFsEngine.java\n\n@@ -379,8 +379,7 @@ public class GenotypeGVCFsEngine\n     }\n \n     /**\n-     * Creates a UnifiedArgumentCollection with appropriate values filled in from the arguments in this walker\n-     * @return a complete UnifiedArgumentCollection\n+     * Creates a StandardCallerArgumentCollection with appropriate values filled in from the arguments in this walker\n      */\n     private StandardCallerArgumentCollection createMinimalArgs(final boolean forceOutput) {\n         final StandardCallerArgumentCollection args = new StandardCallerArgumentCollection();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3MzU0Mw==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r363973543", "bodyText": "all these comments talk about the UG configuration which is confusing and outdated", "author": "lbergelson", "createdAt": "2020-01-07T22:03:24Z", "path": "src/main/java/org/broadinstitute/hellbender/tools/walkers/genotyper/MinimalGenotypingEngine.java", "diffHunk": "@@ -10,15 +10,15 @@\n  * used only by the HaplotypeCaller for its isActive() determination. Should not be used for\n  * any other purpose!\n  */\n-public final class MinimalGenotypingEngine extends GenotypingEngine<UnifiedArgumentCollection> {\n+public final class MinimalGenotypingEngine extends GenotypingEngine<StandardCallerArgumentCollection> {\n \n     /**\n      * Creates a new unified genotyping given the UG configuration parameters and the targeted set of samples", "originalCommit": "666ef1c6694ea19711aae6132e13a6187adb97e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA0Njk0Nw==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r364046947", "bodyText": "fixed", "author": "davidbenjamin", "createdAt": "2020-01-08T03:04:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3MzU0Mw=="}], "type": "inlineReview", "revised_code": {"commit": "780170780e334c323aaa36eeb98cd9ba14e7976d", "chunk": "diff --git a/src/main/java/org/broadinstitute/hellbender/tools/walkers/genotyper/MinimalGenotypingEngine.java b/src/main/java/org/broadinstitute/hellbender/tools/walkers/genotyper/MinimalGenotypingEngine.java\nindex 15520a239..370b28c5f 100644\n--- a/src/main/java/org/broadinstitute/hellbender/tools/walkers/genotyper/MinimalGenotypingEngine.java\n+++ b/src/main/java/org/broadinstitute/hellbender/tools/walkers/genotyper/MinimalGenotypingEngine.java\n\n@@ -13,9 +13,9 @@ import org.broadinstitute.hellbender.utils.genotyper.SampleList;\n public final class MinimalGenotypingEngine extends GenotypingEngine<StandardCallerArgumentCollection> {\n \n     /**\n-     * Creates a new unified genotyping given the UG configuration parameters and the targeted set of samples\n+     * Creates a new genotyping engine given the configuration parameters and the targeted set of samples\n      *\n-     * @param configuration the UG configuration.\n+     * @param configuration the configuration.\n      * @param samples list of samples\n      */\n     public MinimalGenotypingEngine(final StandardCallerArgumentCollection configuration, final SampleList samples) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3NDA5MQ==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r363974091", "bodyText": "UAC", "author": "lbergelson", "createdAt": "2020-01-07T22:04:43Z", "path": "src/main/java/org/broadinstitute/hellbender/tools/walkers/haplotypecaller/HaplotypeCallerEngine.java", "diffHunk": "@@ -307,19 +307,18 @@ private void initializeSamples() {\n \n     private void initializeActiveRegionEvaluationGenotyperEngine() {\n         // create a UAC but with the exactCallsLog = null, so we only output the log for the HC caller itself, if requested", "originalCommit": "666ef1c6694ea19711aae6132e13a6187adb97e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA0NzE0Ng==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r364047146", "bodyText": "fixed", "author": "davidbenjamin", "createdAt": "2020-01-08T03:05:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3NDA5MQ=="}], "type": "inlineReview", "revised_code": {"commit": "780170780e334c323aaa36eeb98cd9ba14e7976d", "chunk": "diff --git a/src/main/java/org/broadinstitute/hellbender/tools/walkers/haplotypecaller/HaplotypeCallerEngine.java b/src/main/java/org/broadinstitute/hellbender/tools/walkers/haplotypecaller/HaplotypeCallerEngine.java\nindex d753ae8ec..3ec6bbfd8 100644\n--- a/src/main/java/org/broadinstitute/hellbender/tools/walkers/haplotypecaller/HaplotypeCallerEngine.java\n+++ b/src/main/java/org/broadinstitute/hellbender/tools/walkers/haplotypecaller/HaplotypeCallerEngine.java\n\n@@ -306,7 +306,6 @@ public final class HaplotypeCallerEngine implements AssemblyRegionEvaluator {\n     }\n \n     private void initializeActiveRegionEvaluationGenotyperEngine() {\n-        // create a UAC but with the exactCallsLog = null, so we only output the log for the HC caller itself, if requested\n         final StandardCallerArgumentCollection activeRegionArgs = new StandardCallerArgumentCollection();\n         activeRegionArgs.copyStandardCallerArgsFrom(hcArgs.standardArgs);\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3NDk1NQ==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r363974955", "bodyText": "Is this todo still relevant?", "author": "lbergelson", "createdAt": "2020-01-07T22:07:09Z", "path": "src/main/java/org/broadinstitute/hellbender/tools/walkers/haplotypecaller/HaplotypeCallerEngine.java", "diffHunk": "@@ -495,7 +494,7 @@ public ActivityProfileState isActive( final AlignmentContext context, final Refe\n             // TODO: now that old qual is gone, do we still need this?", "originalCommit": "666ef1c6694ea19711aae6132e13a6187adb97e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA0NzMzMA==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r364047330", "bodyText": "PR #6343 addressed it, so the TODO will be gone after rebasing.", "author": "davidbenjamin", "createdAt": "2020-01-08T03:06:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3NDk1NQ=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3Njk5MQ==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r363976991", "bodyText": "I don't think this needs to be set here anymore since it was just constructed with the same thing.", "author": "lbergelson", "createdAt": "2020-01-07T22:12:43Z", "path": "src/test/java/org/broadinstitute/hellbender/tools/walkers/annotator/allelespecific/ReducibleAnnotationBaseTest.java", "diffHunk": "@@ -100,15 +100,12 @@ public void testFinalizeAnnotationAgainstExpected(List<VariantContext> VCs, Vari\n         }\n \n         VariantAnnotatorEngine annotatorEngine = new VariantAnnotatorEngine(getAnnotationsToUse(), null, Collections.emptyList(), false, false);\n-        final UnifiedArgumentCollection uac = new UnifiedArgumentCollection();\n-        uac.genotypeArgs = new GenotypeCalculationArgumentCollection();\n+        final StandardCallerArgumentCollection standardArgs = new StandardCallerArgumentCollection();\n+        standardArgs.genotypeArgs = new GenotypeCalculationArgumentCollection();", "originalCommit": "666ef1c6694ea19711aae6132e13a6187adb97e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA0NzY0Ng==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r364047646", "bodyText": "fixed", "author": "davidbenjamin", "createdAt": "2020-01-08T03:08:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3Njk5MQ=="}], "type": "inlineReview", "revised_code": {"commit": "780170780e334c323aaa36eeb98cd9ba14e7976d", "chunk": "diff --git a/src/test/java/org/broadinstitute/hellbender/tools/walkers/annotator/allelespecific/ReducibleAnnotationBaseTest.java b/src/test/java/org/broadinstitute/hellbender/tools/walkers/annotator/allelespecific/ReducibleAnnotationBaseTest.java\nindex cd3f41bff..714faecb0 100644\n--- a/src/test/java/org/broadinstitute/hellbender/tools/walkers/annotator/allelespecific/ReducibleAnnotationBaseTest.java\n+++ b/src/test/java/org/broadinstitute/hellbender/tools/walkers/annotator/allelespecific/ReducibleAnnotationBaseTest.java\n\n@@ -101,7 +101,6 @@ public abstract class ReducibleAnnotationBaseTest extends GATKBaseTest {\n \n         VariantAnnotatorEngine annotatorEngine = new VariantAnnotatorEngine(getAnnotationsToUse(), null, Collections.emptyList(), false, false);\n         final StandardCallerArgumentCollection standardArgs = new StandardCallerArgumentCollection();\n-        standardArgs.genotypeArgs = new GenotypeCalculationArgumentCollection();\n \n         GenotypingEngine<?> genotypingEngine = new MinimalGenotypingEngine(standardArgs, new IndexedSampleList(result.getSampleNamesOrderedByName()));\n         genotypingEngine.setAnnotationEngine(annotatorEngine);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3NzAyMw==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r363977023", "bodyText": "likewise", "author": "lbergelson", "createdAt": "2020-01-07T22:12:49Z", "path": "src/test/java/org/broadinstitute/hellbender/tools/walkers/genotyper/GenotypingEngineUnitTest.java", "diffHunk": "@@ -43,9 +43,9 @@ public void init() {\n \n     private static GenotypingEngine<?> getGenotypingEngine() {\n         final GenotypeCalculationArgumentCollection genotypeArgs = new GenotypeCalculationArgumentCollection();\n-        final UnifiedArgumentCollection uac = new UnifiedArgumentCollection();\n-        uac.genotypeArgs = new GenotypeCalculationArgumentCollection(genotypeArgs);\n-        return new MinimalGenotypingEngine(uac, SAMPLES);\n+        final StandardCallerArgumentCollection standardArgs = new StandardCallerArgumentCollection();\n+        standardArgs.genotypeArgs = new GenotypeCalculationArgumentCollection(genotypeArgs);", "originalCommit": "666ef1c6694ea19711aae6132e13a6187adb97e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA0NzY1Ng==", "url": "https://github.com/broadinstitute/gatk/pull/6354#discussion_r364047656", "bodyText": "fixed", "author": "davidbenjamin", "createdAt": "2020-01-08T03:08:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk3NzAyMw=="}], "type": "inlineReview", "revised_code": {"commit": "780170780e334c323aaa36eeb98cd9ba14e7976d", "chunk": "diff --git a/src/test/java/org/broadinstitute/hellbender/tools/walkers/genotyper/GenotypingEngineUnitTest.java b/src/test/java/org/broadinstitute/hellbender/tools/walkers/genotyper/GenotypingEngineUnitTest.java\nindex a5d5e22e0..781f7f8b9 100644\n--- a/src/test/java/org/broadinstitute/hellbender/tools/walkers/genotyper/GenotypingEngineUnitTest.java\n+++ b/src/test/java/org/broadinstitute/hellbender/tools/walkers/genotyper/GenotypingEngineUnitTest.java\n\n@@ -44,7 +44,6 @@ public class GenotypingEngineUnitTest extends GATKBaseTest {\n     private static GenotypingEngine<?> getGenotypingEngine() {\n         final GenotypeCalculationArgumentCollection genotypeArgs = new GenotypeCalculationArgumentCollection();\n         final StandardCallerArgumentCollection standardArgs = new StandardCallerArgumentCollection();\n-        standardArgs.genotypeArgs = new GenotypeCalculationArgumentCollection(genotypeArgs);\n         return new MinimalGenotypingEngine(standardArgs, SAMPLES);\n     }\n \n"}}, {"oid": "780170780e334c323aaa36eeb98cd9ba14e7976d", "url": "https://github.com/broadinstitute/gatk/commit/780170780e334c323aaa36eeb98cd9ba14e7976d", "message": "Louis comments", "committedDate": "2020-01-08T03:08:58Z", "type": "commit"}]}