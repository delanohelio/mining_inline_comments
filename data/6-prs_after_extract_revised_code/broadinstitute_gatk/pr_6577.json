{"pr_number": 6577, "pr_title": "Added a new FuncotateSegments parameter for minimum segment length.", "pr_createdAt": "2020-04-28T21:45:36Z", "pr_url": "https://github.com/broadinstitute/gatk/pull/6577", "timeline": [{"oid": "19320bde51a425ed44dbcf24dcfe74529b4076c9", "url": "https://github.com/broadinstitute/gatk/commit/19320bde51a425ed44dbcf24dcfe74529b4076c9", "message": "Added a new FuncotateSegments parameter for minimum segment length.\n\n- Added `--min-num-bases-for-segment-funcotation` parameter to Funcotator.\nThis will allow for segments of length less than 150 bases to be\nannotated if given at run time (defaults to 150 bases to preserve\n    previous behavior).\n- Added miles of piping to support new parameter.\n- Added test to ensure that the logic for this is adhered to in the\noutput renderer where the UserError was being thrown before\n(GeneListOutputRenderer).\n\nFixes #6575", "committedDate": "2020-04-28T21:41:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAwMTg4Ng==", "url": "https://github.com/broadinstitute/gatk/pull/6577#discussion_r417001886", "bodyText": "I think this be expanded out?", "author": "fleharty", "createdAt": "2020-04-29T00:22:05Z", "path": "src/test/java/org/broadinstitute/hellbender/tools/funcotator/genelistoutput/GeneListOutputRendererUnitTest.java", "diffHunk": "@@ -9,10 +9,7 @@\n import org.broadinstitute.hellbender.engine.FeatureInput;\n import org.broadinstitute.hellbender.exceptions.UserException;\n import org.broadinstitute.hellbender.testutils.FuncotatorReferenceTestUtils;\n-import org.broadinstitute.hellbender.tools.funcotator.AnnotatedIntervalToSegmentVariantContextConverter;\n-import org.broadinstitute.hellbender.tools.funcotator.FlankSettings;\n-import org.broadinstitute.hellbender.tools.funcotator.FuncotationMap;\n-import org.broadinstitute.hellbender.tools.funcotator.FuncotatorArgumentDefinitions;\n+import org.broadinstitute.hellbender.tools.funcotator.*;", "originalCommit": "19320bde51a425ed44dbcf24dcfe74529b4076c9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUxNTUxMg==", "url": "https://github.com/broadinstitute/gatk/pull/6577#discussion_r417515512", "bodyText": "Huh.  IntelliJ seems to group the imports from a module into the wildcard import after a certain number of things from that module have been imported (by default 5).  I've changed my limit to make the imports explicit.", "author": "jonn-smith", "createdAt": "2020-04-29T18:14:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAwMTg4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "043d8152483cdd2358483af1306430ea2beece3a", "chunk": "diff --git a/src/test/java/org/broadinstitute/hellbender/tools/funcotator/genelistoutput/GeneListOutputRendererUnitTest.java b/src/test/java/org/broadinstitute/hellbender/tools/funcotator/genelistoutput/GeneListOutputRendererUnitTest.java\nindex 7686481e0..973bd7878 100644\n--- a/src/test/java/org/broadinstitute/hellbender/tools/funcotator/genelistoutput/GeneListOutputRendererUnitTest.java\n+++ b/src/test/java/org/broadinstitute/hellbender/tools/funcotator/genelistoutput/GeneListOutputRendererUnitTest.java\n\n@@ -9,7 +9,11 @@ import org.broadinstitute.hellbender.GATKBaseTest;\n import org.broadinstitute.hellbender.engine.FeatureInput;\n import org.broadinstitute.hellbender.exceptions.UserException;\n import org.broadinstitute.hellbender.testutils.FuncotatorReferenceTestUtils;\n-import org.broadinstitute.hellbender.tools.funcotator.*;\n+import org.broadinstitute.hellbender.tools.funcotator.AnnotatedIntervalToSegmentVariantContextConverter;\n+import org.broadinstitute.hellbender.tools.funcotator.FlankSettings;\n+import org.broadinstitute.hellbender.tools.funcotator.FuncotationMap;\n+import org.broadinstitute.hellbender.tools.funcotator.FuncotatorArgumentDefinitions;\n+import org.broadinstitute.hellbender.tools.funcotator.FuncotatorUtils;\n import org.broadinstitute.hellbender.tools.funcotator.dataSources.TableFuncotation;\n import org.broadinstitute.hellbender.tools.funcotator.dataSources.gencode.GencodeFuncotationFactory;\n import org.broadinstitute.hellbender.tools.funcotator.metadata.FuncotationMetadataUtils;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM2NTY0Nw==", "url": "https://github.com/broadinstitute/gatk/pull/6577#discussion_r417365647", "bodyText": "Should this be expanded?", "author": "fleharty", "createdAt": "2020-04-29T14:36:15Z", "path": "src/main/java/org/broadinstitute/hellbender/tools/funcotator/dataSources/xsv/LocatableXsvFuncotationFactory.java", "diffHunk": "@@ -10,9 +10,7 @@\n import org.broadinstitute.hellbender.engine.ReferenceContext;\n import org.broadinstitute.hellbender.exceptions.GATKException;\n import org.broadinstitute.hellbender.exceptions.UserException;\n-import org.broadinstitute.hellbender.tools.funcotator.DataSourceFuncotationFactory;\n-import org.broadinstitute.hellbender.tools.funcotator.Funcotation;\n-import org.broadinstitute.hellbender.tools.funcotator.FuncotatorArgumentDefinitions;\n+import org.broadinstitute.hellbender.tools.funcotator.*;", "originalCommit": "19320bde51a425ed44dbcf24dcfe74529b4076c9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUxNjI4Mg==", "url": "https://github.com/broadinstitute/gatk/pull/6577#discussion_r417516282", "bodyText": "See above.", "author": "jonn-smith", "createdAt": "2020-04-29T18:15:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM2NTY0Nw=="}], "type": "inlineReview", "revised_code": {"commit": "043d8152483cdd2358483af1306430ea2beece3a", "chunk": "diff --git a/src/main/java/org/broadinstitute/hellbender/tools/funcotator/dataSources/xsv/LocatableXsvFuncotationFactory.java b/src/main/java/org/broadinstitute/hellbender/tools/funcotator/dataSources/xsv/LocatableXsvFuncotationFactory.java\nindex 09e8d26d7..2aabda6f9 100644\n--- a/src/main/java/org/broadinstitute/hellbender/tools/funcotator/dataSources/xsv/LocatableXsvFuncotationFactory.java\n+++ b/src/main/java/org/broadinstitute/hellbender/tools/funcotator/dataSources/xsv/LocatableXsvFuncotationFactory.java\n\n@@ -10,7 +10,10 @@ import org.broadinstitute.hellbender.engine.FeatureInput;\n import org.broadinstitute.hellbender.engine.ReferenceContext;\n import org.broadinstitute.hellbender.exceptions.GATKException;\n import org.broadinstitute.hellbender.exceptions.UserException;\n-import org.broadinstitute.hellbender.tools.funcotator.*;\n+import org.broadinstitute.hellbender.tools.funcotator.DataSourceFuncotationFactory;\n+import org.broadinstitute.hellbender.tools.funcotator.Funcotation;\n+import org.broadinstitute.hellbender.tools.funcotator.FuncotatorArgumentDefinitions;\n+import org.broadinstitute.hellbender.tools.funcotator.FuncotatorUtils;\n import org.broadinstitute.hellbender.tools.funcotator.dataSources.TableFuncotation;\n import org.broadinstitute.hellbender.tools.funcotator.dataSources.gencode.GencodeFuncotation;\n import org.broadinstitute.hellbender.utils.Utils;\n"}}, {"oid": "043d8152483cdd2358483af1306430ea2beece3a", "url": "https://github.com/broadinstitute/gatk/commit/043d8152483cdd2358483af1306430ea2beece3a", "message": "Addressing review comments.", "committedDate": "2020-04-29T18:17:51Z", "type": "commit"}]}