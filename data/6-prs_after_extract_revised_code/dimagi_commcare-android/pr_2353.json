{"pr_number": 2353, "pr_title": "Lazy Media fixes", "pr_createdAt": "2020-09-21T11:58:41Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2353", "timeline": [{"oid": "100382f116598be1eab6cfca8f7764c3f0ff2040", "url": "https://github.com/dimagi/commcare-android/commit/100382f116598be1eab6cfca8f7764c3f0ff2040", "message": "Removes saving state for listeners as it can be overwritten by future media requests", "committedDate": "2020-09-20T22:00:30Z", "type": "commit"}, {"oid": "d305e0d0521be27727aa5bb4685f9f2c186f8c2c", "url": "https://github.com/dimagi/commcare-android/commit/d305e0d0521be27727aa5bb4685f9f2c186f8c2c", "message": "Adds back media listener and corrects listener reset", "committedDate": "2020-09-20T22:26:07Z", "type": "commit"}, {"oid": "8ab21c97d16275f0ac8646af66338393267d52dd", "url": "https://github.com/dimagi/commcare-android/commit/8ab21c97d16275f0ac8646af66338393267d52dd", "message": "Displays contextual error message", "committedDate": "2020-09-20T22:34:58Z", "type": "commit"}, {"oid": "4a6f8dbe1b326637c60c431127d35419abe51561", "url": "https://github.com/dimagi/commcare-android/commit/4a6f8dbe1b326637c60c431127d35419abe51561", "message": "cleanup", "committedDate": "2020-09-20T22:36:01Z", "type": "commit"}, {"oid": "9d4fea3903facc5b689d90b6c1033f272e634bc3", "url": "https://github.com/dimagi/commcare-android/commit/9d4fea3903facc5b689d90b6c1033f272e634bc3", "message": "cancels background work on scheduling foreground download", "committedDate": "2020-09-20T23:15:07Z", "type": "commit"}, {"oid": "1ab5a0c74db4d05b8b66146ff8b7f7afe2e0564d", "url": "https://github.com/dimagi/commcare-android/commit/1ab5a0c74db4d05b8b66146ff8b7f7afe2e0564d", "message": "Revert \"cancels background work on scheduling foreground download\"\n\nThis reverts commit 9d4fea3903facc5b689d90b6c1033f272e634bc3.", "committedDate": "2020-09-21T11:30:23Z", "type": "commit"}, {"oid": "efd6f2caf776cf43e306787eae9d8b71d4672958", "url": "https://github.com/dimagi/commcare-android/commit/efd6f2caf776cf43e306787eae9d8b71d4672958", "message": "Moves the listener notify to download Resource", "committedDate": "2020-09-21T11:31:06Z", "type": "commit"}, {"oid": "74ea61074765f5454abd5973436f51196aa8266b", "url": "https://github.com/dimagi/commcare-android/commit/74ea61074765f5454abd5973436f51196aa8266b", "message": "reverts invalidate call as it's not required", "committedDate": "2020-09-21T11:58:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAxMzQ1MQ==", "url": "https://github.com/dimagi/commcare-android/pull/2353#discussion_r492013451", "bodyText": "https://dimagi-dev.atlassian.net/browse/QA-1915", "author": "shubham1g5", "createdAt": "2020-09-21T12:43:07Z", "path": "app/src/org/commcare/views/media/MediaLayout.java", "diffHunk": "@@ -378,7 +378,7 @@ private void showMissingMediaView(String mediaUri, String errorMessage, boolean\n                     progressBar.setVisibility(GONE);\n                     downloadIcon.setVisibility(VISIBLE);\n                     downloadIcon.setEnabled(true);\n-                    missingMediaStatus.setText(StringUtils.getStringRobust(getContext(), R.string.media_download_failed));\n+                    missingMediaStatus.setText(result.getMessage());", "originalCommit": "74ea61074765f5454abd5973436f51196aa8266b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "067c4a2397b3b27b17379758e512beaeabfe8806", "url": "https://github.com/dimagi/commcare-android/commit/067c4a2397b3b27b17379758e512beaeabfe8806", "message": "Run coroutine tests on test dispatcher", "committedDate": "2020-09-21T20:27:17Z", "type": "commit"}]}