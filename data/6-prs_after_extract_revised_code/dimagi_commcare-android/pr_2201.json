{"pr_number": 2201, "pr_title": "Sets Pre update Sync needed from the staged update", "pr_createdAt": "2020-03-26T19:44:13Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2201", "timeline": [{"oid": "9fd803d08e03938c53391a477d6263cb4509c19d", "url": "https://github.com/dimagi/commcare-android/commit/9fd803d08e03938c53391a477d6263cb4509c19d", "message": "Sets Pre update Sync needed from the staged update", "committedDate": "2020-03-26T19:42:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwMzAyNw==", "url": "https://github.com/dimagi/commcare-android/pull/2201#discussion_r398903027", "bodyText": "Hm, only thing about this PR that I'm not sure about. This will unset the flag even if the current profile installed (not staged) had it set.\nThat is likely totally fine (and likely difficult to work around), but wanted to quickly confirm with you that you don't see any problems with that behavior?", "author": "ctsims", "createdAt": "2020-03-26T21:26:59Z", "path": "app/src/org/commcare/engine/resource/AndroidResourceManager.java", "diffHunk": "@@ -304,5 +305,6 @@ private long exponentionalRetryDelay(int numberOfRestarts) {\n     public void clearUpgrade() {\n         super.clearUpgrade();\n         HiddenPreferences.setReleasedOnTimeForOngoingAppDownload((AndroidCommCarePlatform)platform, 0);\n+        HiddenPreferences.setPreUpdateSyncNeeded(PrefValues.NO);", "originalCommit": "9fd803d08e03938c53391a477d6263cb4509c19d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAxODg3NA==", "url": "https://github.com/dimagi/commcare-android/pull/2201#discussion_r399018874", "bodyText": "Hey yeah, thanks for flagging. I do think that's fine since this flag is only relevant when there is an update staged.", "author": "shubham1g5", "createdAt": "2020-03-27T03:43:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwMzAyNw=="}], "type": "inlineReview", "revised_code": null}]}