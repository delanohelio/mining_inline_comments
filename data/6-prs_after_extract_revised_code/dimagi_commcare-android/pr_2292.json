{"pr_number": 2292, "pr_title": "Use dev pref for file oversize warning setting", "pr_createdAt": "2020-07-17T07:16:36Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2292", "timeline": [{"oid": "6dabdb738736a0ca4fb465dad89e409b4eee50a4", "url": "https://github.com/dimagi/commcare-android/commit/6dabdb738736a0ca4fb465dad89e409b4eee50a4", "message": "Use dev pref for file oversize warning setting", "committedDate": "2020-07-17T07:13:35Z", "type": "commit"}, {"oid": "3273a63201b156ea94cc0aa7d7b3f42a138bf3f2", "url": "https://github.com/dimagi/commcare-android/commit/3273a63201b156ea94cc0aa7d7b3f42a138bf3f2", "message": "Use hq custom property for disabling file oversize warning", "committedDate": "2020-07-17T09:05:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQwMDM5NA==", "url": "https://github.com/dimagi/commcare-android/pull/2292#discussion_r456400394", "bodyText": "why are we overiding for consumer apps ?", "author": "shubham1g5", "createdAt": "2020-07-17T12:07:10Z", "path": "app/src/org/commcare/preferences/HiddenPreferences.java", "diffHunk": "@@ -525,4 +526,13 @@ public static boolean isLazyMediaDownloadComplete() {\n                 .getBoolean(LAZY_MEDIA_DOWNLOAD_COMPLETE, false);\n     }\n \n+    public static boolean isFileOversizeWarningDisabled() {\n+        if (CommCareApplication.instance().isConsumerApp()) {", "originalCommit": "3273a63201b156ea94cc0aa7d7b3f42a138bf3f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQwNTIxOQ==", "url": "https://github.com/dimagi/commcare-android/pull/2292#discussion_r456405219", "bodyText": "Ohh I kept it same as isIncompleteFormsEnabled. I thought we don't allow custom settings in consumer apps?", "author": "ShivamPokhriyal", "createdAt": "2020-07-17T12:18:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQwMDM5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQxMDM0NA==", "url": "https://github.com/dimagi/commcare-android/pull/2292#discussion_r456410344", "bodyText": "I think thats only true for incomplete forms setting and not a general rule as all other custom settings doesn't have this check.", "author": "shubham1g5", "createdAt": "2020-07-17T12:29:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQwMDM5NA=="}], "type": "inlineReview", "revised_code": {"commit": "e6aadb864888d5f4e11ff7394dd27cf7c57501fc", "chunk": "diff --git a/app/src/org/commcare/preferences/HiddenPreferences.java b/app/src/org/commcare/preferences/HiddenPreferences.java\nindex c2c3e9b92..ff1e70eae 100644\n--- a/app/src/org/commcare/preferences/HiddenPreferences.java\n+++ b/app/src/org/commcare/preferences/HiddenPreferences.java\n\n@@ -527,10 +527,6 @@ public class HiddenPreferences {\n     }\n \n     public static boolean isFileOversizeWarningDisabled() {\n-        if (CommCareApplication.instance().isConsumerApp()) {\n-            return false;\n-        }\n-\n         SharedPreferences properties = CommCareApplication.instance().getCurrentApp().getAppPreferences();\n         return PrefValues.YES.equals(properties.getString(FILE_OVERSIZE_WARNING, PrefValues.NO));\n     }\n"}}, {"oid": "e6aadb864888d5f4e11ff7394dd27cf7c57501fc", "url": "https://github.com/dimagi/commcare-android/commit/e6aadb864888d5f4e11ff7394dd27cf7c57501fc", "message": "Remove check for consumerapp", "committedDate": "2020-07-17T12:37:54Z", "type": "commit"}, {"oid": "4c744b78e200bd5643f23f91edf1eb474f914c46", "url": "https://github.com/dimagi/commcare-android/commit/4c744b78e200bd5643f23f91edf1eb474f914c46", "message": "Merge branch 'master' into oversize-warning", "committedDate": "2020-07-24T05:19:18Z", "type": "commit"}, {"oid": "4bc48019eb78ba30d8f45b9acdd72007ff951426", "url": "https://github.com/dimagi/commcare-android/commit/4bc48019eb78ba30d8f45b9acdd72007ff951426", "message": "Merge branch 'master' into oversize-warning", "committedDate": "2020-08-11T05:45:02Z", "type": "commit"}]}