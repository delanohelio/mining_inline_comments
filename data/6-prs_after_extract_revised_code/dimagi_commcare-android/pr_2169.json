{"pr_number": 2169, "pr_title": "Add days since last sync param to sync requests", "pr_createdAt": "2020-01-14T19:14:46Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2169", "timeline": [{"oid": "2d51e5e7722a497793369f5731dcbd4b1524990f", "url": "https://github.com/dimagi/commcare-android/commit/2d51e5e7722a497793369f5731dcbd4b1524990f", "message": "Add days since last sync param to sync requests", "committedDate": "2020-01-14T19:08:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY5ODIwOA==", "url": "https://github.com/dimagi/commcare-android/pull/2169#discussion_r366698208", "bodyText": "Maybe use a header instead ? If not, just wanna double check since we are adding a new parameter, it won't result in any cache busting on HQ ?", "author": "shubham1g5", "createdAt": "2020-01-15T05:11:11Z", "path": "app/src/org/commcare/network/CommcareRequestGenerator.java", "diffHunk": "@@ -107,6 +108,11 @@ public static CommcareRequestGenerator buildNoAuthGenerator() {\n             if (digest != null) {\r\n                 params.put(\"state\", \"ccsh:\" + digest);\r\n             }\r\n+\r\n+            int getDaysSinceSync = SyncDetailCalculations.getDaysSinceLastSync();\r", "originalCommit": "2d51e5e7722a497793369f5731dcbd4b1524990f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcyMTQ4Mw==", "url": "https://github.com/dimagi/commcare-android/pull/2169#discussion_r366721483", "bodyText": "this won't impact caching. We did discuss a header vs a URL param. I don't think it makes any difference in terms of implementing this feature. We did think that it could be useful to have in the logs (headers don't appear in the logs) though we do also get this data from the heartbeat requests if we wanted to do more analysis", "author": "snopoke", "createdAt": "2020-01-15T07:07:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY5ODIwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjczMDg0Nw==", "url": "https://github.com/dimagi/commcare-android/pull/2169#discussion_r366730847", "bodyText": "sounds good. Thanks!", "author": "shubham1g5", "createdAt": "2020-01-15T07:44:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY5ODIwOA=="}], "type": "inlineReview", "revised_code": null}]}