{"pr_number": 2403, "pr_title": "Update string widget to use IME_ACTION_NEXT for short appearance", "pr_createdAt": "2020-11-09T12:53:31Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2403", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI1NjM3MQ==", "url": "https://github.com/dimagi/commcare-android/pull/2403#discussion_r521256371", "bodyText": "nit: would be nice to abstract this logic in a method", "author": "shubham1g5", "createdAt": "2020-11-11T10:19:26Z", "path": "app/src/org/commcare/views/widgets/StringWidget.java", "diffHunk": "@@ -238,6 +235,13 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n     }\n \n     public void setLastQuestion(boolean isLast) {\n+        if (SHORT_APPEARANCE.equalsIgnoreCase(mPrompt.getAppearanceHint()) || isInCompactMode()) {", "originalCommit": "77c9ac59d5a362c2e936b96eca1f7c6c68dbec6d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ed032dc51170a2674967b7d4de9ba480d533e661", "chunk": "diff --git a/app/src/org/commcare/views/widgets/StringWidget.java b/app/src/org/commcare/views/widgets/StringWidget.java\nindex af0f8a1b7..3f316913c 100644\n--- a/app/src/org/commcare/views/widgets/StringWidget.java\n+++ b/app/src/org/commcare/views/widgets/StringWidget.java\n\n@@ -235,7 +239,7 @@ public class StringWidget extends QuestionWidget implements OnClickListener, Tex\n     }\n \n     public void setLastQuestion(boolean isLast) {\n-        if (SHORT_APPEARANCE.equalsIgnoreCase(mPrompt.getAppearanceHint()) || isInCompactMode()) {\n+        if (SHORT_APPEARANCE.equalsIgnoreCase(mPrompt.getAppearanceHint())) {\n             if (isLast) {\n                 mAnswer.setImeOptions(EditorInfo.IME_FLAG_NO_EXTRACT_UI | EditorInfo.IME_ACTION_DONE);\n             } else {\n"}}, {"oid": "ed032dc51170a2674967b7d4de9ba480d533e661", "url": "https://github.com/dimagi/commcare-android/commit/ed032dc51170a2674967b7d4de9ba480d533e661", "message": "Update string widget to use IME_NEXT for short appearance", "committedDate": "2020-11-16T04:59:21Z", "type": "commit"}, {"oid": "2116ad47873413b78cafde9411fce4fe89545b72", "url": "https://github.com/dimagi/commcare-android/commit/2116ad47873413b78cafde9411fce4fe89545b72", "message": "Update StringWidget for usage in compact mode", "committedDate": "2020-11-16T04:59:21Z", "type": "commit"}, {"oid": "d08d3cc655e1f7b16536bbc932a09a88ac0b119c", "url": "https://github.com/dimagi/commcare-android/commit/d08d3cc655e1f7b16536bbc932a09a88ac0b119c", "message": "Use different dimens for compact edittext", "committedDate": "2020-11-16T04:59:21Z", "type": "commit"}, {"oid": "7fef6ba1dd4f871ab122100a3bc3f1bf6635fd50", "url": "https://github.com/dimagi/commcare-android/commit/7fef6ba1dd4f871ab122100a3bc3f1bf6635fd50", "message": "Abstract logic to show Imeaction to a separate method", "committedDate": "2020-11-16T04:59:21Z", "type": "commit"}, {"oid": "7fef6ba1dd4f871ab122100a3bc3f1bf6635fd50", "url": "https://github.com/dimagi/commcare-android/commit/7fef6ba1dd4f871ab122100a3bc3f1bf6635fd50", "message": "Abstract logic to show Imeaction to a separate method", "committedDate": "2020-11-16T04:59:21Z", "type": "forcePushed"}]}