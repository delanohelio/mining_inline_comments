{"pr_number": 2256, "pr_title": "Add a button to clear radio button selection. ", "pr_createdAt": "2020-06-01T11:08:46Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2256", "timeline": [{"oid": "95fda548f12d3ef661f3572ec0ed97721e2aa13d", "url": "https://github.com/dimagi/commcare-android/commit/95fda548f12d3ef661f3572ec0ed97721e2aa13d", "message": "Disable radio button selection for read only forms completely", "committedDate": "2020-06-01T06:36:52Z", "type": "commit"}, {"oid": "033ecc4fa3866327ad646b922c096a85b8605a03", "url": "https://github.com/dimagi/commcare-android/commit/033ecc4fa3866327ad646b922c096a85b8605a03", "message": "Add clear button to clear radio buttons", "committedDate": "2020-06-01T10:07:06Z", "type": "commit"}, {"oid": "297e7288f024503db8cf054100cb1ddf3152c138", "url": "https://github.com/dimagi/commcare-android/commit/297e7288f024503db8cf054100cb1ddf3152c138", "message": "Use a darker blue color", "committedDate": "2020-06-01T14:54:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM3NTYwOA==", "url": "https://github.com/dimagi/commcare-android/pull/2256#discussion_r433375608", "bodyText": "would be good to abstract this code into xml. We do have a ton of layout code in Java but it's preferrable to not add onto that mess.", "author": "shubham1g5", "createdAt": "2020-06-01T17:20:40Z", "path": "app/src/org/commcare/views/widgets/SelectOneWidget.java", "diffHunk": "@@ -101,17 +107,45 @@ public SelectOneWidget(Context context, FormEntryPrompt prompt) {\n                     addView(divider);\n                 }\n             }\n+            addClearButton(context, s != null && !prompt.isReadOnly());\n         }\n     }\n \n+    private void addClearButton(Context context, boolean show) {\n+        clearButton = new Button(context);", "originalCommit": "297e7288f024503db8cf054100cb1ddf3152c138", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d0491ee3105d0f07d11e704eff69789a2c214ff6", "chunk": "diff --git a/app/src/org/commcare/views/widgets/SelectOneWidget.java b/app/src/org/commcare/views/widgets/SelectOneWidget.java\nindex b2bfe2f86..35626a86f 100644\n--- a/app/src/org/commcare/views/widgets/SelectOneWidget.java\n+++ b/app/src/org/commcare/views/widgets/SelectOneWidget.java\n\n@@ -112,13 +109,8 @@ public class SelectOneWidget extends QuestionWidget implements OnCheckedChangeLi\n     }\n \n     private void addClearButton(Context context, boolean show) {\n-        clearButton = new Button(context);\n+        clearButton = (Button) LayoutInflater.from(context).inflate(R.layout.blue_outlined_button, this, false);\n         clearButton.setText(Localization.get(\"button.clear.title\"));\n-        setStyle(context, clearButton);\n-        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\n-        layoutParams.gravity = Gravity.END;\n-        clearButton.setLayoutParams(layoutParams);\n-        clearButton.setPadding(10, 10, 10, 10);\n         clearButton.setVisibility(show ? VISIBLE : GONE);\n         clearButton.setOnClickListener(view -> {\n             clearAnswer();\n"}}, {"oid": "d0491ee3105d0f07d11e704eff69789a2c214ff6", "url": "https://github.com/dimagi/commcare-android/commit/d0491ee3105d0f07d11e704eff69789a2c214ff6", "message": "Use xml for creating views", "committedDate": "2020-06-02T07:23:26Z", "type": "commit"}]}