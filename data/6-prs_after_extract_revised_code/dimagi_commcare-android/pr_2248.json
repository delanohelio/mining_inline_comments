{"pr_number": 2248, "pr_title": "Improvements to Update Error handling", "pr_createdAt": "2020-05-26T15:31:45Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2248", "timeline": [{"oid": "630cde0cb02553cb3f58ac8a9d14c355cd5843b6", "url": "https://github.com/dimagi/commcare-android/commit/630cde0cb02553cb3f58ac8a9d14c355cd5843b6", "message": "Tag parse errors as InvalidResourceException", "committedDate": "2020-05-25T07:06:12Z", "type": "commit"}, {"oid": "b6e56cc42b78fdbdd2483e1df38acaaf779b7312", "url": "https://github.com/dimagi/commcare-android/commit/b6e56cc42b78fdbdd2483e1df38acaaf779b7312", "message": "indentify errors writing to a file", "committedDate": "2020-05-25T08:19:51Z", "type": "commit"}, {"oid": "8c7e3365656e9e25393c43b82ef45415ce9e8e07", "url": "https://github.com/dimagi/commcare-android/commit/8c7e3365656e9e25393c43b82ef45415ce9e8e07", "message": "tunes update reset behaviour to be dependent on specific failures", "committedDate": "2020-05-26T14:05:02Z", "type": "commit"}, {"oid": "76bbcd20b24ff0b5c4851cdc68a1b7d7a651a06c", "url": "https://github.com/dimagi/commcare-android/commit/76bbcd20b24ff0b5c4851cdc68a1b7d7a651a06c", "message": "Corrects exception handling", "committedDate": "2020-05-26T14:25:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3MjMyMA==", "url": "https://github.com/dimagi/commcare-android/pull/2248#discussion_r430572320", "bodyText": "Hey @shubham1g5 I believe this is the result of the fact that the profile file (being the first entry point for the app) can sometimes not point to a profile file at all due to a captive portal or similar. I'm not sure what the downstream implications of changing this would be, there, but wanted to surface it in case it jogged any memories", "author": "ctsims", "createdAt": "2020-05-26T17:07:38Z", "path": "app/src/org/commcare/android/resource/installers/ProfileAndroidInstaller.java", "diffHunk": "@@ -119,7 +119,7 @@ public boolean install(Resource r, ResourceLocation location, Reference ref,\n         } catch (XmlPullParserException | InvalidReferenceException | IOException e) {\n             e.printStackTrace();\n         } catch (InvalidStructureException e) {\n-            throw new UnresolvedResourceException(r, \"Invalid content in the Profile Definition: \" + e.getMessage(), true);", "originalCommit": "76bbcd20b24ff0b5c4851cdc68a1b7d7a651a06c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY5NzAwNQ==", "url": "https://github.com/dimagi/commcare-android/pull/2248#discussion_r430697005", "bodyText": "I see, still makes sense to me to classify it as InvalidResourceException. User is going to see the same error message in both cases and there is no difference in downstream handelling of UnresolvedResourceException vs InvalidResourceException. The change just helps in better classifying the errors for Analytics purpose.", "author": "shubham1g5", "createdAt": "2020-05-26T20:44:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3MjMyMA=="}], "type": "inlineReview", "revised_code": null}]}