{"pr_number": 5162, "pr_title": "[typescript] Introduce \"enumPropertyNaming\" option", "pr_createdAt": "2020-01-30T00:07:44Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5162", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNjY1MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r372836650", "bodyText": "maybe the available values in ENUM_PROPERTY_NAMING_TYPE could be listed automatically, so the comment will not be outdated", "author": "macjohnny", "createdAt": "2020-01-30T09:23:09Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -588,6 +592,37 @@ public String toEnumName(CodegenProperty property) {\n         }\n     }\n \n+    protected void setEnumPropertyNaming(String naming) {\n+        try {\n+            enumPropertyNaming = ENUM_PROPERTY_NAMING_TYPE.valueOf(naming);\n+        } catch (IllegalArgumentException e) {\n+            throw new IllegalArgumentException(\"Invalid enum property naming '\" +\n+                    naming + \"'. Must be 'original', 'camelCase', \" +\n+                    \"'PascalCase', 'snake_case', or 'UPPERCASE'\");", "originalCommit": "26a9a1ba45debac2d55ff1cd131f1663c4c459c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzODI2Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r372838263", "bodyText": "Good idea, will do!", "author": "amakhrov", "createdAt": "2020-01-30T09:26:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNjY1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5OTQ3MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r373099470", "bodyText": "and done", "author": "amakhrov", "createdAt": "2020-01-30T17:50:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNjY1MA=="}], "type": "inlineReview", "revised_code": {"commit": "7fa119e6260979b34b6997fefdee1e342f3812be", "chunk": "diff --git a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\nindex 73a742d73e3..6a9c126f865 100644\n--- a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\n+++ b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\n\n@@ -617,7 +616,7 @@ public abstract class AbstractTypeScriptClientCodegen extends DefaultCodegen imp\n             case snake_case:\n                 return underscore(name);\n             case UPPERCASE:\n-                return name.toUpperCase(Locale.ROOT);\n+                return name.toUpperCase();\n             default:\n                 throw new IllegalArgumentException(\"Unsupported enum property naming: '\" + name);\n         }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNzE2Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r372837163", "bodyText": "maybe you would want to add a test for the non-original case, too?", "author": "macjohnny", "createdAt": "2020-01-30T09:24:16Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptangular/TypeScriptAngularClientCodegenTest.java", "diffHunk": "@@ -16,6 +17,22 @@\n \n \n public class TypeScriptAngularClientCodegenTest {\n+    @Test\n+    public void toEnumVarName() {\n+        TypeScriptAngularClientCodegen codegen = new TypeScriptAngularClientCodegen();\n+        codegen.processOpts();\n+\n+        Assert.assertEquals(codegen.toEnumVarName(\"valid_id\", \"string\"), \"ValidId\");\n+        Assert.assertEquals(codegen.toEnumVarName(\"illegal-id+\", \"string\"), \"IllegalId\");\n+\n+        codegen = new TypeScriptAngularClientCodegen();\n+        codegen.additionalProperties().put(CodegenConstants.ENUM_PROPERTY_NAMING, CodegenConstants.ENUM_PROPERTY_NAMING_TYPE.original.name());", "originalCommit": "26a9a1ba45debac2d55ff1cd131f1663c4c459c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5OTI1Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r373099257", "bodyText": "Done", "author": "amakhrov", "createdAt": "2020-01-30T17:50:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNzE2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "92329c8e8e0f802e51b1d1d6611625b59ce86522", "chunk": "diff --git a/modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptangular/TypeScriptAngularClientCodegenTest.java b/modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptangular/TypeScriptAngularClientCodegenTest.java\nindex ee0f81ad963..6a538c69273 100644\n--- a/modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptangular/TypeScriptAngularClientCodegenTest.java\n+++ b/modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptangular/TypeScriptAngularClientCodegenTest.java\n\n@@ -20,17 +20,28 @@ public class TypeScriptAngularClientCodegenTest {\n     @Test\n     public void toEnumVarName() {\n         TypeScriptAngularClientCodegen codegen = new TypeScriptAngularClientCodegen();\n+        // unspecified option should default to PascalCase\n         codegen.processOpts();\n-\n         Assert.assertEquals(codegen.toEnumVarName(\"valid_id\", \"string\"), \"ValidId\");\n         Assert.assertEquals(codegen.toEnumVarName(\"illegal-id+\", \"string\"), \"IllegalId\");\n \n         codegen = new TypeScriptAngularClientCodegen();\n         codegen.additionalProperties().put(CodegenConstants.ENUM_PROPERTY_NAMING, CodegenConstants.ENUM_PROPERTY_NAMING_TYPE.original.name());\n         codegen.processOpts();\n-\n         Assert.assertEquals(codegen.toEnumVarName(\"valid_id\", \"string\"), \"valid_id\");\n         Assert.assertEquals(codegen.toEnumVarName(\"illegal-id+\", \"string\"), \"illegal_id\");\n+\n+        codegen = new TypeScriptAngularClientCodegen();\n+        codegen.additionalProperties().put(CodegenConstants.ENUM_PROPERTY_NAMING, CodegenConstants.ENUM_PROPERTY_NAMING_TYPE.UPPERCASE.name());\n+        codegen.processOpts();\n+        Assert.assertEquals(codegen.toEnumVarName(\"valid_id\", \"string\"), \"VALID_ID\");\n+        Assert.assertEquals(codegen.toEnumVarName(\"illegal-id+\", \"string\"), \"ILLEGAL_ID\");\n+\n+        codegen = new TypeScriptAngularClientCodegen();\n+        codegen.additionalProperties().put(CodegenConstants.ENUM_PROPERTY_NAMING, CodegenConstants.ENUM_PROPERTY_NAMING_TYPE.snake_case.name());\n+        codegen.processOpts();\n+        Assert.assertEquals(codegen.toEnumVarName(\"valid_ID\", \"string\"), \"valid_id\");\n+        Assert.assertEquals(codegen.toEnumVarName(\"Illegal-Id+\", \"string\"), \"illegal_id\");\n     }\n \n     @Test\n"}}, {"oid": "7fa119e6260979b34b6997fefdee1e342f3812be", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7fa119e6260979b34b6997fefdee1e342f3812be", "message": "Add enumPropertyNaming option to typescript generators", "committedDate": "2020-01-30T17:38:42Z", "type": "commit"}, {"oid": "2720aa3ed86b35fe19e78426731b5bd51e1abcb2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2720aa3ed86b35fe19e78426731b5bd51e1abcb2", "message": "Regenerate docs", "committedDate": "2020-01-30T17:38:47Z", "type": "commit"}, {"oid": "d7720c4951f7574e46e3961dd1e4f0306c4dd942", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d7720c4951f7574e46e3961dd1e4f0306c4dd942", "message": "Add Locale.ROOT to toUpperCase() call", "committedDate": "2020-01-30T17:38:47Z", "type": "commit"}, {"oid": "89da970082591f301fbfc11cfc831c386372e9ce", "url": "https://github.com/OpenAPITools/openapi-generator/commit/89da970082591f301fbfc11cfc831c386372e9ce", "message": "Use actual enum values in an error message, instead of hardcoding them", "committedDate": "2020-01-30T17:38:48Z", "type": "commit"}, {"oid": "92329c8e8e0f802e51b1d1d6611625b59ce86522", "url": "https://github.com/OpenAPITools/openapi-generator/commit/92329c8e8e0f802e51b1d1d6611625b59ce86522", "message": "Add tests for \"UPPERCASE\" and \"snake_case\" enum var namings", "committedDate": "2020-01-30T17:43:26Z", "type": "commit"}, {"oid": "92329c8e8e0f802e51b1d1d6611625b59ce86522", "url": "https://github.com/OpenAPITools/openapi-generator/commit/92329c8e8e0f802e51b1d1d6611625b59ce86522", "message": "Add tests for \"UPPERCASE\" and \"snake_case\" enum var namings", "committedDate": "2020-01-30T17:43:26Z", "type": "forcePushed"}, {"oid": "4acf1b8221db3b962ccf19ec6bd9d1749afd38c2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4acf1b8221db3b962ccf19ec6bd9d1749afd38c2", "message": "Add LOCALE.ROOT to String#format call", "committedDate": "2020-01-30T19:51:45Z", "type": "commit"}]}