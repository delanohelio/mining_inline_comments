{"pr_number": 5138, "pr_title": "[typescript] Append enum suffix without model suffix", "pr_createdAt": "2020-01-29T01:45:14Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5138", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE1MzIwMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5138#discussion_r372153201", "bodyText": "This is a mapping for the OAS2 built-in file type. It's similar to the existing mapping defined in TypeScriptAngularClientCodegen.java:\ntypeMapping.put(\"file\", \"Blob\");\n\nWithout that, the updated toModelName() logic would add a bogus import for api endpoints that deal with type:file (imageUpload endpoint in PetStore)\nFrankly, I'm not sure if the old mapping in line 151 here is needed at all.", "author": "amakhrov", "createdAt": "2020-01-29T01:49:35Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -149,11 +149,13 @@ public AbstractTypeScriptClientCodegen() {\n         typeMapping.put(\"DateTime\", \"Date\");\n         typeMapping.put(\"binary\", \"any\");\n         typeMapping.put(\"File\", \"any\");\n+        typeMapping.put(\"file\", \"any\");", "originalCommit": "3f19d5419d4592450797fc1428ad5b955857c6ae", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "83381cacd1663c979278df6b33c4e2abd92ff594", "chunk": "diff --git a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\nindex 262fc7e1612..bec36cbad36 100644\n--- a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\n+++ b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\n\n@@ -149,13 +148,11 @@ public abstract class AbstractTypeScriptClientCodegen extends DefaultCodegen imp\n         typeMapping.put(\"DateTime\", \"Date\");\n         typeMapping.put(\"binary\", \"any\");\n         typeMapping.put(\"File\", \"any\");\n-        typeMapping.put(\"file\", \"any\");\n         typeMapping.put(\"ByteArray\", \"string\");\n         typeMapping.put(\"UUID\", \"string\");\n         typeMapping.put(\"URI\", \"string\");\n         typeMapping.put(\"Error\", \"Error\");\n \n-        cliOptions.add(new CliOption(CodegenConstants.ENUM_NAME_SUFFIX, CodegenConstants.ENUM_NAME_SUFFIX_DESC).defaultValue(this.enumSuffix));\n         cliOptions.add(new CliOption(CodegenConstants.MODEL_PROPERTY_NAMING, CodegenConstants.MODEL_PROPERTY_NAMING_DESC).defaultValue(this.modelPropertyNaming));\n         cliOptions.add(new CliOption(CodegenConstants.SUPPORTS_ES6, CodegenConstants.SUPPORTS_ES6_DESC).defaultValue(String.valueOf(this.getSupportsES6())));\n         this.cliOptions.add(new CliOption(NPM_NAME, \"The name under which you want to publish generated npm package.\" +\n"}}, {"oid": "83381cacd1663c979278df6b33c4e2abd92ff594", "url": "https://github.com/OpenAPITools/openapi-generator/commit/83381cacd1663c979278df6b33c4e2abd92ff594", "message": "[typescript] Generate enum name independently on model name, ignoring modelSuffix", "committedDate": "2020-01-30T20:55:32Z", "type": "commit"}, {"oid": "3102ed496c7e7af95cb036697161b1cc89fbb73f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3102ed496c7e7af95cb036697161b1cc89fbb73f", "message": "Add `enumSufix` cli option for all typescript generators", "committedDate": "2020-01-30T20:55:32Z", "type": "commit"}, {"oid": "592b9d84a1bdb2b4b93955662a4d0fd867db772a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/592b9d84a1bdb2b4b93955662a4d0fd867db772a", "message": "Add ENUM_NAME_SUFFIX to to TypeScript***ClientOptionsProvider", "committedDate": "2020-01-30T20:55:32Z", "type": "commit"}, {"oid": "7e1dafc0cdfeed5430a4addfe2d43779c77e9908", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7e1dafc0cdfeed5430a4addfe2d43779c77e9908", "message": "Add a typeMapping for OAS2 built-in \"file\" type", "committedDate": "2020-01-30T20:55:32Z", "type": "commit"}, {"oid": "1be73d4e80c3936d6b517fdf80051eb948748b8e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1be73d4e80c3936d6b517fdf80051eb948748b8e", "message": "Re-generate samples", "committedDate": "2020-01-30T20:55:32Z", "type": "commit"}, {"oid": "2b7034d315350863d0ae981e9b69cc3a4856d06a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2b7034d315350863d0ae981e9b69cc3a4856d06a", "message": "Introduce `v4-compat` mode for enumNamePrefix", "committedDate": "2020-01-30T23:17:17Z", "type": "commit"}, {"oid": "2532cd6eb840a68ba4334b1980cd9249ee1bcd96", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2532cd6eb840a68ba4334b1980cd9249ee1bcd96", "message": "Update TypeScriptFetchModelTest - make sure codegen options are processed before running assertions", "committedDate": "2020-01-30T23:23:10Z", "type": "commit"}, {"oid": "21d382dbb11398a54a213e7aa10e5ba039db9bef", "url": "https://github.com/OpenAPITools/openapi-generator/commit/21d382dbb11398a54a213e7aa10e5ba039db9bef", "message": "Regenerate samples", "committedDate": "2020-01-30T23:28:43Z", "type": "commit"}, {"oid": "130c8ff3dbce6c146059dfad47cfecd50b1b7491", "url": "https://github.com/OpenAPITools/openapi-generator/commit/130c8ff3dbce6c146059dfad47cfecd50b1b7491", "message": "Regenerate docs", "committedDate": "2020-01-30T23:31:42Z", "type": "commit"}, {"oid": "130c8ff3dbce6c146059dfad47cfecd50b1b7491", "url": "https://github.com/OpenAPITools/openapi-generator/commit/130c8ff3dbce6c146059dfad47cfecd50b1b7491", "message": "Regenerate docs", "committedDate": "2020-01-30T23:31:42Z", "type": "forcePushed"}, {"oid": "da5bb5d4248c3d9b1d0432abd730dc213097cbbd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/da5bb5d4248c3d9b1d0432abd730dc213097cbbd", "message": "Merge remote-tracking branch 'upstream/master' into typescript-angular-enum-suffix\n\n# Conflicts:\n#\tdocs/generators/javascript-flowtyped.md\n#\tdocs/generators/typescript-angular.md\n#\tdocs/generators/typescript-angularjs.md\n#\tdocs/generators/typescript-aurelia.md\n#\tdocs/generators/typescript-axios.md\n#\tdocs/generators/typescript-fetch.md\n#\tdocs/generators/typescript-inversify.md\n#\tdocs/generators/typescript-jquery.md\n#\tdocs/generators/typescript-node.md\n#\tdocs/generators/typescript-redux-query.md\n#\tdocs/generators/typescript-rxjs.md\n#\tmodules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java\n#\tmodules/openapi-generator/src/test/java/org/openapitools/codegen/options/TypeScriptAureliaClientOptionsProvider.java", "committedDate": "2020-01-31T08:00:59Z", "type": "commit"}, {"oid": "f3decf24ce6ed0ec1c042b50673766c11719e9f7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f3decf24ce6ed0ec1c042b50673766c11719e9f7", "message": "Regenerate docs", "committedDate": "2020-01-31T08:06:11Z", "type": "commit"}]}