{"pr_number": 4992, "pr_title": "[Python] Add python experimental openapiv3 sample and fix PEP8 formatting issues", "pr_createdAt": "2020-01-13T21:30:14Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/4992", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzAxMzIyMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4992#discussion_r367013222", "bodyText": "In our templates I want us to limit the use of # noqa: E501 as much as we can.\nHow about using a line continuation like:\n\"try:\\n    from \" + modelPackage() + \" import \"+ moduleName+ \"\\nexcept ImportError:\\n    \"+moduleName+\" = sys.modules[\\n        '\"+modelPackage() + \".\"+ moduleName+\"']\"", "author": "spacether", "createdAt": "2020-01-15T17:39:08Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java", "diffHunk": "@@ -277,7 +277,7 @@ private String robustImport(String name) {\n         // name looks like cat.Cat\n         String moduleName = name.split(\"\\\\.\")[0];\n         // https://exceptionshub.com/circular-or-cyclic-imports-in-python.html\n-        String modelImport = \"try:\\n    from \" + modelPackage() + \" import \"+ moduleName+ \"\\nexcept ImportError:\\n    \"+moduleName+\" = sys.modules['\"+modelPackage() + \".\"+ moduleName+\"']\";\n+        String modelImport = \"try:\\n    from \" + modelPackage() + \" import \"+ moduleName+ \"\\nexcept ImportError:\\n    \"+moduleName+\" = sys.modules['\"+modelPackage() + \".\"+ moduleName+\"']  # noqa: E501\";", "originalCommit": "b17c8270430705b9686fed5f384a0881eb9cc541", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzAzODE1NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4992#discussion_r367038155", "bodyText": "doing...", "author": "sebastien-rosset", "createdAt": "2020-01-15T18:32:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzAxMzIyMg=="}], "type": "inlineReview", "revised_code": {"commit": "b381972b9a319d432b22db0dbd4bde54f1b3c609", "chunk": "diff --git a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java\nindex 1c8f7592cf7..7d91cccf9c8 100644\n--- a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java\n+++ b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java\n\n@@ -277,7 +277,9 @@ public class PythonClientExperimentalCodegen extends PythonClientCodegen {\n         // name looks like cat.Cat\n         String moduleName = name.split(\"\\\\.\")[0];\n         // https://exceptionshub.com/circular-or-cyclic-imports-in-python.html\n-        String modelImport = \"try:\\n    from \" + modelPackage() + \" import \"+ moduleName+ \"\\nexcept ImportError:\\n    \"+moduleName+\" = sys.modules['\"+modelPackage() + \".\"+ moduleName+\"']  # noqa: E501\";\n+        String modelImport = \"try:\\n    from \" + modelPackage() +\n+          \" import \" + moduleName+ \"\\nexcept ImportError:\\n    \" +\n+          moduleName + \" = sys.modules[\\n        '\" + modelPackage() + \".\" + moduleName + \"']\";\n         return modelImport;\n     }\n \n"}}, {"oid": "b381972b9a319d432b22db0dbd4bde54f1b3c609", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b381972b9a319d432b22db0dbd4bde54f1b3c609", "message": "Add python-experimental-openapiv3-sample\n\nAdd python-experimental-openapiv3-sample\n\nAdd missing files for the Python samples\n\nAdd python-experimental-petstore.bat for openapi v3\n\nAdd python-experimental samples openapi v3\n\nAdd python-experimental samples openapi v3\n\nAdd python-experimental samples openapi v3. Address review comments\n\nadd missing files for test purpose\n\nfix python formatting issues\n\nfix python formatting issues\n\nfix python formatting issues\n\nFix unit tests\n\nfix python formatting issues\n\nfix python formatting issues\n\nfix python formatting issues\n\nfix 'line too long' pep8 error\n\naddress PR comments for pep8 'line too long' problem\n\nregenerate samples\n\nexecute samples scripts\n\ndummy commit to retrigger circleci\n\nRevert dummy commit, it didn't help.", "committedDate": "2020-01-17T00:50:33Z", "type": "commit"}, {"oid": "b381972b9a319d432b22db0dbd4bde54f1b3c609", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b381972b9a319d432b22db0dbd4bde54f1b3c609", "message": "Add python-experimental-openapiv3-sample\n\nAdd python-experimental-openapiv3-sample\n\nAdd missing files for the Python samples\n\nAdd python-experimental-petstore.bat for openapi v3\n\nAdd python-experimental samples openapi v3\n\nAdd python-experimental samples openapi v3\n\nAdd python-experimental samples openapi v3. Address review comments\n\nadd missing files for test purpose\n\nfix python formatting issues\n\nfix python formatting issues\n\nfix python formatting issues\n\nFix unit tests\n\nfix python formatting issues\n\nfix python formatting issues\n\nfix python formatting issues\n\nfix 'line too long' pep8 error\n\naddress PR comments for pep8 'line too long' problem\n\nregenerate samples\n\nexecute samples scripts\n\ndummy commit to retrigger circleci\n\nRevert dummy commit, it didn't help.", "committedDate": "2020-01-17T00:50:33Z", "type": "forcePushed"}, {"oid": "46e7dbce2edf2b8a7dbf1b29b1d927015cc7e431", "url": "https://github.com/OpenAPITools/openapi-generator/commit/46e7dbce2edf2b8a7dbf1b29b1d927015cc7e431", "message": "Merge remote-tracking branch 'origin' into python-experimental-openapiv3-sample", "committedDate": "2020-01-17T16:34:19Z", "type": "commit"}, {"oid": "85a24ed14a6379c74c70f9ddeccb538184dd158e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/85a24ed14a6379c74c70f9ddeccb538184dd158e", "message": "Merge remote-tracking branch 'origin' into python-experimental-openapiv3-sample", "committedDate": "2020-01-19T03:40:34Z", "type": "commit"}, {"oid": "cb905c43dfd3b1d961ba2db2f6deb4088cc6cc5f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/cb905c43dfd3b1d961ba2db2f6deb4088cc6cc5f", "message": "Merge remote-tracking branch 'origin' into python-experimental-openapiv3-sample", "committedDate": "2020-01-19T15:51:07Z", "type": "commit"}]}