{"pr_number": 6132, "pr_title": "[go experimental] Make the array \"items\" attribute optional", "pr_createdAt": "2020-05-01T20:01:29Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6132", "timeline": [{"oid": "466ab198d39e837c4af61cf9f676ec82734ba5f2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/466ab198d39e837c4af61cf9f676ec82734ba5f2", "message": "Make the array items optional", "committedDate": "2020-05-01T20:00:04Z", "type": "commit"}, {"oid": "638ed4f53d61bd05eff638b2d389344dcdfe3c4c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/638ed4f53d61bd05eff638b2d389344dcdfe3c4c", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into array-item-is-optional", "committedDate": "2020-05-03T21:09:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTQwMDQwNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6132#discussion_r419400405", "bodyText": "I may submit a PR later to avoid hardcoding \"interface{}\" and use the value defined in typeMapping instead.", "author": "wing328", "createdAt": "2020-05-04T12:31:47Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractGoCodegen.java", "diffHunk": "@@ -328,7 +328,20 @@ public String getTypeDeclaration(Schema p) {\n         if (ModelUtils.isArraySchema(p)) {\n             ArraySchema ap = (ArraySchema) p;\n             Schema inner = ap.getItems();\n-            return \"[]\" + getTypeDeclaration(ModelUtils.unaliasSchema(this.openAPI, inner));\n+            // In OAS 3.0.x, the array \"items\" attribute is required.\n+            // In OAS >= 3.1, the array \"items\" attribute is optional such that the OAS\n+            // specification is aligned with the JSON schema specification.\n+            // When \"items\" is not specified, the elements of the array may be anything at all.\n+            if (inner != null) {\n+                inner = ModelUtils.unaliasSchema(this.openAPI, inner);\n+            }\n+            String typDecl;\n+            if (inner != null) {\n+                typDecl = getTypeDeclaration(inner);\n+            } else {\n+                typDecl = \"interface{}\";", "originalCommit": "638ed4f53d61bd05eff638b2d389344dcdfe3c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}