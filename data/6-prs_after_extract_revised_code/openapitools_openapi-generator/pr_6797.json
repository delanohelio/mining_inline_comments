{"pr_number": 6797, "pr_title": "Python-exp remove codegemodel mutation, allow mixed OneOf types ", "pr_createdAt": "2020-06-28T00:30:50Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6797", "timeline": [{"oid": "c1a63fb1936f868331d57b167aa14843cde2514f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c1a63fb1936f868331d57b167aa14843cde2514f", "message": "Revert additionalProperties import fix back in", "committedDate": "2020-06-28T18:19:15Z", "type": "forcePushed"}, {"oid": "c82eb1eeb4757920d343e2b69c9f8bbee912f6a1", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c82eb1eeb4757920d343e2b69c9f8bbee912f6a1", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-06-28T18:22:15Z", "type": "forcePushed"}, {"oid": "74b382fc8433b369881e74bcc8a716521f39d861", "url": "https://github.com/OpenAPITools/openapi-generator/commit/74b382fc8433b369881e74bcc8a716521f39d861", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-06-28T18:39:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAyODcyNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6797#discussion_r450028725", "bodyText": "@spacether can you please provide a spec that results in an empty body parameter name? Is the body parameter a primitive type (e.g. integer)?", "author": "wing328", "createdAt": "2020-07-06T07:19:54Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java", "diffHunk": "@@ -509,6 +510,9 @@ public void updateCodegenPropertyEnum(CodegenProperty var) {\n \n     @Override\n     public CodegenParameter fromRequestBody(RequestBody body, Set<String> imports, String bodyParameterName) {\n+        if (StringUtils.isEmpty(bodyParameterName)) {", "originalCommit": "ffc1a0231d62d40433f9c562d3ea524a59713cb9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMwMjU4Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6797#discussion_r450302582", "bodyText": "This happens when the body parameter is $refed and doesn't use x-codegen-request-body-name.\nOur one higher invocation for that use case is here\nThis code path is already tested with our v3 sample document with these examples:\n\nPUT /pet\nPOST /pet\nPOST /store/order\nPOST /user\nPOST /user/createWithArray\nand others\n\nIf you look at the python sample files that were generated, in the *_api.py or *.md files one can see the body param name updates.\nBecause we already have a lot of coverage here in my opinion adding another endpoint here doesn't help us. What do you think?", "author": "spacether", "createdAt": "2020-07-06T15:29:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAyODcyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY0MTAyNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6797#discussion_r451641027", "bodyText": "The name change code has been reverted s it's not the main focus of this PR", "author": "spacether", "createdAt": "2020-07-08T15:39:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAyODcyNQ=="}], "type": "inlineReview", "revised_code": {"commit": "acd81a7806a9ad53b364564271a384163a8afa73", "chunk": "diff --git a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java\nindex 346dbba8d5b..d9ab10d5717 100644\n--- a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java\n+++ b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientExperimentalCodegen.java\n\n@@ -510,9 +510,6 @@ public class PythonClientExperimentalCodegen extends PythonClientCodegen {\n \n     @Override\n     public CodegenParameter fromRequestBody(RequestBody body, Set<String> imports, String bodyParameterName) {\n-        if (StringUtils.isEmpty(bodyParameterName)) {\n-            bodyParameterName = \"body\";\n-        }\n         CodegenParameter result = super.fromRequestBody(body, imports, bodyParameterName);\n         // if we generated a model with a non-object type because it has validations or enums,\n         // make sure that the datatype of that body parameter refers to our model class\n"}}, {"oid": "acd81a7806a9ad53b364564271a384163a8afa73", "url": "https://github.com/OpenAPITools/openapi-generator/commit/acd81a7806a9ad53b364564271a384163a8afa73", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-07-13T01:40:53Z", "type": "forcePushed"}, {"oid": "6e96cabb605fa294c6951482cfb2b3edd7b926f5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6e96cabb605fa294c6951482cfb2b3edd7b926f5", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-07-13T02:26:25Z", "type": "forcePushed"}, {"oid": "0dc0cf7d305eb540add9871ae4df68d11ca542cd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0dc0cf7d305eb540add9871ae4df68d11ca542cd", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-07-14T06:38:58Z", "type": "forcePushed"}, {"oid": "0dc0cf7d305eb540add9871ae4df68d11ca542cd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0dc0cf7d305eb540add9871ae4df68d11ca542cd", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-07-14T06:38:58Z", "type": "forcePushed"}, {"oid": "637b647af1248c1f5d68a80678701c01becbfab9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/637b647af1248c1f5d68a80678701c01becbfab9", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-07-16T16:39:33Z", "type": "commit"}, {"oid": "637b647af1248c1f5d68a80678701c01becbfab9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/637b647af1248c1f5d68a80678701c01becbfab9", "message": "Stops converting primitive models into object models, adds ComposedSchemas with mixed type", "committedDate": "2020-07-16T16:39:33Z", "type": "forcePushed"}, {"oid": "5b00c094535754c96200300763a49c46cf488f54", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5b00c094535754c96200300763a49c46cf488f54", "message": "Samples update for python-exp", "committedDate": "2020-07-16T16:58:08Z", "type": "commit"}]}