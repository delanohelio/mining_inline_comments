{"pr_number": 6732, "pr_title": "Add Deno support to typescript(experimental) generator", "pr_createdAt": "2020-06-21T12:04:49Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6732", "timeline": [{"oid": "b5ff53cc0c9dc3074942d68ae4bb51aa8dd3303c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b5ff53cc0c9dc3074942d68ae4bb51aa8dd3303c", "message": "add 'deno' to typescript platforms", "committedDate": "2020-06-21T00:35:27Z", "type": "commit"}, {"oid": "c426c80e6f383965ff13ec5a6e77c3d4d440e9e9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c426c80e6f383965ff13ec5a6e77c3d4d440e9e9", "message": "Merge branch 'fork_origin_master' into deno", "committedDate": "2020-06-21T00:55:32Z", "type": "commit"}, {"oid": "48afe578d78a919e7a0bcd5c751a4533462698e8", "url": "https://github.com/OpenAPITools/openapi-generator/commit/48afe578d78a919e7a0bcd5c751a4533462698e8", "message": "Merge remote-tracking branch 'fork_origin/master' into deno", "committedDate": "2020-06-21T11:33:13Z", "type": "commit"}, {"oid": "393bbccd37a27baf42e4335ebc575dc7de8b4443", "url": "https://github.com/OpenAPITools/openapi-generator/commit/393bbccd37a27baf42e4335ebc575dc7de8b4443", "message": "add Deno support to typescript generator", "committedDate": "2020-06-21T11:46:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNDk4MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6732#discussion_r443214980", "bodyText": "I don't know deno at all, but why did you decide not to generate package.mustache and tsconfig.mustache for deno?\nThis makes the required dependencies intransparent.", "author": "TiFu", "createdAt": "2020-06-21T12:30:15Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptClientCodegen.java", "diffHunk": "@@ -792,6 +789,12 @@ public void processOpts() {\n \n         additionalProperties.putIfAbsent(FILE_CONTENT_DATA_TYPE, propPlatform.equals(\"node\") ? \"Buffer\" : \"Blob\");\n \n+        if (!propPlatform.equals(\"deno\")) {", "originalCommit": "393bbccd37a27baf42e4335ebc575dc7de8b4443", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIyODQzNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6732#discussion_r443228437", "bodyText": "Thanks for your review !\nDeno does not use package.json in its module resolution algorithm(Deno uses \"ES Modules\". Third party modules are imported via URLs.).\nAnd also generated code can work by Deno's default tsconfig without optional tsconfig.json.", "author": "chibat", "createdAt": "2020-06-21T15:04:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNDk4MA=="}], "type": "inlineReview", "revised_code": {"commit": "5f23333113b82ff193f804caf762121bb0da6388", "chunk": "diff --git a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptClientCodegen.java b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptClientCodegen.java\nindex 9777af3cfa1..512ddce35cb 100644\n--- a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptClientCodegen.java\n+++ b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptClientCodegen.java\n\n@@ -795,6 +795,10 @@ public class TypeScriptClientCodegen extends DefaultCodegen implements CodegenCo\n             supportingFiles.add(new SupportingFile(\"tsconfig.mustache\", \"\", \"tsconfig.json\"));\n         }\n \n+        if (propPlatform.equals(\"deno\")) {\n+            additionalProperties.put(\"extensionForDeno\", \".ts\");\n+        }\n+\n         final boolean useRxJS = convertPropertyToBooleanAndWriteBack(USE_RXJS_SWITCH);\n         if (!useRxJS) {\n             supportingFiles.add(new SupportingFile(\"rxjsStub.mustache\", \"rxjsStub.ts\"));\n"}}, {"oid": "334f7592e9ac6d8c95046c129d68d4b00de01fd8", "url": "https://github.com/OpenAPITools/openapi-generator/commit/334f7592e9ac6d8c95046c129d68d4b00de01fd8", "message": "add Deno support to typescript generator", "committedDate": "2020-06-21T21:55:20Z", "type": "commit"}, {"oid": "b306168c89262a64ea5a5a5c710d21d89f9206dc", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b306168c89262a64ea5a5a5c710d21d89f9206dc", "message": "add Deno support to typescript generator", "committedDate": "2020-06-22T12:29:34Z", "type": "commit"}, {"oid": "8a672059c02d94d793ae0abe406f14994261af4b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/8a672059c02d94d793ae0abe406f14994261af4b", "message": "add Deno support to typescript generator", "committedDate": "2020-06-22T21:17:36Z", "type": "commit"}, {"oid": "9d2d02e545c3cd5591f1dedbc8acf4c92a56fa9a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9d2d02e545c3cd5591f1dedbc8acf4c92a56fa9a", "message": "add Deno support to typescript generator", "committedDate": "2020-06-23T23:35:22Z", "type": "commit"}, {"oid": "5f23333113b82ff193f804caf762121bb0da6388", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5f23333113b82ff193f804caf762121bb0da6388", "message": "add extensionForDeno property for typescript generator", "committedDate": "2020-06-24T20:58:42Z", "type": "commit"}, {"oid": "2c2ba9d947ff7b59164550cbf8a27530741a9903", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2c2ba9d947ff7b59164550cbf8a27530741a9903", "message": "add URLParse Deno wrapper for typescript generator", "committedDate": "2020-06-25T03:03:45Z", "type": "commit"}, {"oid": "717760d04daf8ecfa201b6cc8b8cbfbd4f8ba524", "url": "https://github.com/OpenAPITools/openapi-generator/commit/717760d04daf8ecfa201b6cc8b8cbfbd4f8ba524", "message": "Merge remote-tracking branch 'fork_origin/master' into deno", "committedDate": "2020-06-25T10:13:34Z", "type": "commit"}, {"oid": "7e482958139057b9cdd9f335c76cb4c81000b29e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7e482958139057b9cdd9f335c76cb4c81000b29e", "message": "update deno version in .travis.yml", "committedDate": "2020-06-26T22:38:32Z", "type": "commit"}]}