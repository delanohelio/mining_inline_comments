{"pr_number": 7967, "pr_title": "Fix list examples in python", "pr_createdAt": "2020-11-17T17:18:27Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/7967", "timeline": [{"oid": "b6dad11e040ca8f70d48fa82019603ceb7c96cd2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b6dad11e040ca8f70d48fa82019603ceb7c96cd2", "message": "Fix list examples in python\n\nWhen a model has an example in an array, it wrongly wraps it again in a\nlist instead of returning the list examples. This fixes it.", "committedDate": "2020-11-18T14:59:27Z", "type": "commit"}, {"oid": "b6dad11e040ca8f70d48fa82019603ceb7c96cd2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b6dad11e040ca8f70d48fa82019603ceb7c96cd2", "message": "Fix list examples in python\n\nWhen a model has an example in an array, it wrongly wraps it again in a\nlist instead of returning the list examples. This fixes it.", "committedDate": "2020-11-18T14:59:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUyNDc2MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7967#discussion_r528524761", "bodyText": "@therve Do you mind adding a 1-liner comment explaining what condition does/fixes?", "author": "wing328", "createdAt": "2020-11-23T08:10:19Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientCodegen.java", "diffHunk": "@@ -1043,6 +1043,9 @@ private String toExampleValueRecursive(String modelName, Schema schema, Object o\n             }\n             return fullPrefix + example + closeChars;\n         } else if (ModelUtils.isArraySchema(schema)) {\n+            if (objExample instanceof Iterable) {", "originalCommit": "b6dad11e040ca8f70d48fa82019603ceb7c96cd2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1MzAwNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7967#discussion_r528553005", "bodyText": "Done, thanks!", "author": "therve", "createdAt": "2020-11-23T09:06:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUyNDc2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "a03f2f4694164fcbba534d2c80fc75285745c400", "chunk": "diff --git a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientCodegen.java b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientCodegen.java\nindex 54f61219ba6..2b05c4f1893 100644\n--- a/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientCodegen.java\n+++ b/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PythonClientCodegen.java\n\n@@ -1044,6 +1044,7 @@ public class PythonClientCodegen extends PythonLegacyClientCodegen {\n             return fullPrefix + example + closeChars;\n         } else if (ModelUtils.isArraySchema(schema)) {\n             if (objExample instanceof Iterable) {\n+                // If the example is already a list, return it directly instead of wrongly wrap it in another list\n                 return objExample.toString();\n             }\n             ArraySchema arrayschema = (ArraySchema) schema;\n"}}, {"oid": "a03f2f4694164fcbba534d2c80fc75285745c400", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a03f2f4694164fcbba534d2c80fc75285745c400", "message": "Add comment", "committedDate": "2020-11-23T09:05:54Z", "type": "commit"}]}