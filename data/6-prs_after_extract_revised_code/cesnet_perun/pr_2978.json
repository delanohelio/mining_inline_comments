{"pr_number": 2978, "pr_title": "Throw AlreadySponsorException where needed", "pr_createdAt": "2020-11-10T12:20:16Z", "pr_url": "https://github.com/CESNET/perun/pull/2978", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDUzNjEwNg==", "url": "https://github.com/CESNET/perun/pull/2978#discussion_r520536106", "bodyText": "Missing AlreadySponsorException at the start.", "author": "zlamalp", "createdAt": "2020-11-10T12:48:44Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "diffHunk": "@@ -313,8 +312,9 @@\n \t * @throws AlreadySponsoredMemberException if member was already flagged as sponsored\n \t * @throws UserNotInRoleException if sponsor has not right role in the member's VO\n \t * @throws InternalErrorException if something unexpected happened\n+\t * @throws sponsoredMember is already sponsored by User and his sponsorship is still active", "originalCommit": "5fdea3a1fd071d918f27e171ec6d61bf5321756d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU0MzU1OQ==", "url": "https://github.com/CESNET/perun/pull/2978#discussion_r520543559", "bodyText": "Should be fixed now.", "author": "stavamichal", "createdAt": "2020-11-10T13:00:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDUzNjEwNg=="}], "type": "inlineReview", "revised_code": {"commit": "e1a16c21f67467497fe09951aeddd091de3f2f0f", "chunk": "diff --git a/perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java b/perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java\nindex d087dcb7e..ce03934b9 100644\n--- a/perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java\n+++ b/perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java\n\n@@ -312,7 +312,7 @@ public interface MembersManagerBl {\n \t * @throws AlreadySponsoredMemberException if member was already flagged as sponsored\n \t * @throws UserNotInRoleException if sponsor has not right role in the member's VO\n \t * @throws InternalErrorException if something unexpected happened\n-\t * @throws sponsoredMember is already sponsored by User and his sponsorship is still active\n+\t * @throws AlreadySponsorException sponsoredMember is already sponsored by User and his sponsorship is still active\n \t */\n \tMember setSponsorshipForMember(PerunSession session, Member sponsoredMember, User sponsor, LocalDate validityTo) throws AlreadySponsoredMemberException, UserNotInRoleException, AlreadySponsorException;\n \n"}}, {"oid": "e1a16c21f67467497fe09951aeddd091de3f2f0f", "url": "https://github.com/CESNET/perun/commit/e1a16c21f67467497fe09951aeddd091de3f2f0f", "message": "Throw AlreadySponsorException where needed\n\n - do not mask AlreadySponsorException as InternalErrorException,\n instead we can throw it in all methods where needed", "committedDate": "2020-11-10T12:59:00Z", "type": "commit"}, {"oid": "e1a16c21f67467497fe09951aeddd091de3f2f0f", "url": "https://github.com/CESNET/perun/commit/e1a16c21f67467497fe09951aeddd091de3f2f0f", "message": "Throw AlreadySponsorException where needed\n\n - do not mask AlreadySponsorException as InternalErrorException,\n instead we can throw it in all methods where needed", "committedDate": "2020-11-10T12:59:00Z", "type": "forcePushed"}]}