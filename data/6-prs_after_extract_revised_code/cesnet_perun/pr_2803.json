{"pr_number": 2803, "pr_title": "GUI: Introduce password strength check for presence of login", "pr_createdAt": "2020-07-22T08:45:00Z", "pr_url": "https://github.com/CESNET/perun/pull/2803", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MDM1NA==", "url": "https://github.com/CESNET/perun/pull/2803#discussion_r458640354", "bodyText": "Do you need to perform these checks? Wouldn't the following conditions handle these situations?", "author": "Vojtech-Sassmann", "createdAt": "2020-07-22T08:54:31Z", "path": "perun-web-gui/src/main/java/cz/metacentrum/perun/webgui/tabs/memberstabs/CreateServiceMemberInVoTabItem.java", "diffHunk": "@@ -204,6 +204,20 @@ public boolean validateTextBox() {\n \t\t\t\t\t\treturn false;\n \t\t\t\t\t}\n \n+\t\t\t\t\t// check on login in password if login is longer than 2 chars\n+\t\t\t\t\t// TODO - check for name/surname too\n+\t\t\t\t\tString pass = serviceUserPassword.getTextBox().getValue();\n+\t\t\t\t\tString login = serviceUserLogin.getTextBox().getValue();\n+\t\t\t\t\tif (login.length() > 2) {\n+\t\t\t\t\t\tif (pass.toLowerCase().contains(login.toLowerCase()) ||\n+\t\t\t\t\t\t\t\tpass.toLowerCase().contains(Utils.reverseString(login.toLowerCase())) ||", "originalCommit": "78471092ab7f6a353769a6717f1a9fd57e587fe4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3MTM5OQ==", "url": "https://github.com/CESNET/perun/pull/2803#discussion_r459371399", "bodyText": "You are right. There is no point in duplicate check.", "author": "zlamalp", "createdAt": "2020-07-23T11:04:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MDM1NA=="}], "type": "inlineReview", "revised_code": {"commit": "f3b99da098ea2e3d009d4d55149769053001ceab", "chunk": "diff --git a/perun-web-gui/src/main/java/cz/metacentrum/perun/webgui/tabs/memberstabs/CreateServiceMemberInVoTabItem.java b/perun-web-gui/src/main/java/cz/metacentrum/perun/webgui/tabs/memberstabs/CreateServiceMemberInVoTabItem.java\nindex 06dbe02d7..505ed572b 100644\n--- a/perun-web-gui/src/main/java/cz/metacentrum/perun/webgui/tabs/memberstabs/CreateServiceMemberInVoTabItem.java\n+++ b/perun-web-gui/src/main/java/cz/metacentrum/perun/webgui/tabs/memberstabs/CreateServiceMemberInVoTabItem.java\n\n@@ -209,9 +209,7 @@ public class CreateServiceMemberInVoTabItem implements TabItem, TabItemWithUrl {\n \t\t\t\t\tString pass = serviceUserPassword.getTextBox().getValue();\n \t\t\t\t\tString login = serviceUserLogin.getTextBox().getValue();\n \t\t\t\t\tif (login.length() > 2) {\n-\t\t\t\t\t\tif (pass.toLowerCase().contains(login.toLowerCase()) ||\n-\t\t\t\t\t\t\t\tpass.toLowerCase().contains(Utils.reverseString(login.toLowerCase())) ||\n-\t\t\t\t\t\t\t\tUtils.normalizeString(pass).contains(Utils.normalizeString(login)) ||\n+\t\t\t\t\t\tif (Utils.normalizeString(pass).contains(Utils.normalizeString(login)) ||\n \t\t\t\t\t\t\t\tUtils.normalizeString(pass).contains(Utils.normalizeString(Utils.reverseString((login))))) {\n \t\t\t\t\t\t\tserviceUserPassword.setError(\"Password <b>can't contain login, name or surname</b>, not even backwards!\");\n \t\t\t\t\t\t\treturn false;\n"}}, {"oid": "f3b99da098ea2e3d009d4d55149769053001ceab", "url": "https://github.com/CESNET/perun/commit/f3b99da098ea2e3d009d4d55149769053001ceab", "message": "GUI: Introduce password strength check for presence of login\n\n- Check that password doesn't contain login (case insensitive\n  and unaccented) or backwards login.\n  Login is checked only if longer than 2 chars to prevent\n  false positive on short strings.", "committedDate": "2020-07-23T11:04:53Z", "type": "commit"}, {"oid": "f3b99da098ea2e3d009d4d55149769053001ceab", "url": "https://github.com/CESNET/perun/commit/f3b99da098ea2e3d009d4d55149769053001ceab", "message": "GUI: Introduce password strength check for presence of login\n\n- Check that password doesn't contain login (case insensitive\n  and unaccented) or backwards login.\n  Login is checked only if longer than 2 chars to prevent\n  false positive on short strings.", "committedDate": "2020-07-23T11:04:53Z", "type": "forcePushed"}]}