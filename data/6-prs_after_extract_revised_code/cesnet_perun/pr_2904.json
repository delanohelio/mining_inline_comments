{"pr_number": 2904, "pr_title": "Removed subgroups as child elements from getDataWithGroups", "pr_createdAt": "2020-09-17T06:36:45Z", "pr_url": "https://github.com/CESNET/perun/pull/2904", "timeline": [{"oid": "9f97efcaf13bbaa13463ab3e92278d0284173cc8", "url": "https://github.com/CESNET/perun/commit/9f97efcaf13bbaa13463ab3e92278d0284173cc8", "message": "Removed subgroups as child elements from getDataWithGroups\n\n- subgroups are no longer child elements of structure returned by getDataWithGroups, instead there is empty first child element in group part of the structure so current services does not have to be changed", "committedDate": "2020-09-17T06:33:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAwNjc0NA==", "url": "https://github.com/CESNET/perun/pull/2904#discussion_r490006744", "bodyText": "This part of JavaDoc is needed to be removed also a few lines above.", "author": "balcirakpeter", "createdAt": "2020-09-17T06:44:12Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/api/ServicesManager.java", "diffHunk": "@@ -549,10 +549,6 @@\n \t |              |       |        +-------Attrs\n \t |              |       |        +-------ChildNodes\n \t |              |       |                   +-------()\n-\t |              |       |                   |        +---ChildNodes", "originalCommit": "9f97efcaf13bbaa13463ab3e92278d0284173cc8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAxNjY2OQ==", "url": "https://github.com/CESNET/perun/pull/2904#discussion_r490016669", "bodyText": "Ok, thanks. I have also updated the javadoc of rpc.", "author": "metodej", "createdAt": "2020-09-17T07:05:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAwNjc0NA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAwODIzNw==", "url": "https://github.com/CESNET/perun/pull/2904#discussion_r490008237", "bodyText": "Please add also some short info about why is the empty structure needed.", "author": "balcirakpeter", "createdAt": "2020-09-17T06:47:24Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/api/ServicesManager.java", "diffHunk": "@@ -519,7 +519,7 @@\n \t * @return attributes in special structure. Facility is in the root, facility children are resources.\n \t *         Resource first child is abstract structure which children are groups.\n \t *         Resource  second chi is abstract structure which children are members.\n-\t *         Group first child is abstract structure which children are groups.\n+\t *         Group first child is empty structure.", "originalCommit": "9f97efcaf13bbaa13463ab3e92278d0284173cc8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bfdd5e1a6fcaddd436f39bd7b54e2d2b614ecebf", "chunk": "diff --git a/perun-core/src/main/java/cz/metacentrum/perun/core/api/ServicesManager.java b/perun-core/src/main/java/cz/metacentrum/perun/core/api/ServicesManager.java\nindex 23ba99d6a..a267658a0 100644\n--- a/perun-core/src/main/java/cz/metacentrum/perun/core/api/ServicesManager.java\n+++ b/perun-core/src/main/java/cz/metacentrum/perun/core/api/ServicesManager.java\n\n@@ -518,9 +518,9 @@ public interface ServicesManager {\n \t * @param filterExpiredMembers if true the method does not take members expired in groups into account\n \t * @return attributes in special structure. Facility is in the root, facility children are resources.\n \t *         Resource first child is abstract structure which children are groups.\n-\t *         Resource  second chi is abstract structure which children are members.\n-\t *         Group first child is empty structure.\n-\t *         Group second chi is abstract structure which children are members.\n+\t *         Resource  second child is abstract structure which children are members.\n+\t *         Group first child is empty structure (services expect members to be second child, here used to be subgroups).\n+\t *         Group second child is abstract structure which children are members.\n \t <pre>\n \t Facility\n \t +---Attrs                              ...................................................\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAwODM1Ng==", "url": "https://github.com/CESNET/perun/pull/2904#discussion_r490008356", "bodyText": "Same as above", "author": "balcirakpeter", "createdAt": "2020-09-17T06:47:43Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/ServicesManagerBl.java", "diffHunk": "@@ -452,10 +452,8 @@\n \t * @return attributes in special structure. Facility is in the root, facility children are resources.\n \t *         Resource first child is abstract structure which children are groups.\n \t *         Resource  second chi is abstract structure which children are members.\n-\t *         Group first child is abstract structure which children are groups.\n+\t *         Group first child is empty structure.", "originalCommit": "9f97efcaf13bbaa13463ab3e92278d0284173cc8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bfdd5e1a6fcaddd436f39bd7b54e2d2b614ecebf", "chunk": "diff --git a/perun-core/src/main/java/cz/metacentrum/perun/core/bl/ServicesManagerBl.java b/perun-core/src/main/java/cz/metacentrum/perun/core/bl/ServicesManagerBl.java\nindex e27b33e4b..42754c294 100644\n--- a/perun-core/src/main/java/cz/metacentrum/perun/core/bl/ServicesManagerBl.java\n+++ b/perun-core/src/main/java/cz/metacentrum/perun/core/bl/ServicesManagerBl.java\n\n@@ -451,9 +451,9 @@ public interface ServicesManagerBl {\n \t * @param filterExpiredMembers if true the method does not take expired members into account\n \t * @return attributes in special structure. Facility is in the root, facility children are resources.\n \t *         Resource first child is abstract structure which children are groups.\n-\t *         Resource  second chi is abstract structure which children are members.\n-\t *         Group first child is empty structure.\n-\t *         Group second chi is abstract structure which children are members.\n+\t *         Resource  second child is abstract structure which children are members.\n+\t *         Group first child is empty structure (services expect members to be second child, here used to be subgroups).\n+\t *         Group second child is abstract structure which children are members.\n \t */\n \tServiceAttributes getDataWithGroups(PerunSession perunSession, Service service, Facility facility, boolean filterExpiredMembers);\n \t/**\n"}}, {"oid": "bfdd5e1a6fcaddd436f39bd7b54e2d2b614ecebf", "url": "https://github.com/CESNET/perun/commit/bfdd5e1a6fcaddd436f39bd7b54e2d2b614ecebf", "message": "Fixes to javadoc\n\n- javadoc now reflects deletion of subgroups in getDataWithGroups method", "committedDate": "2020-09-17T07:04:28Z", "type": "commit"}]}