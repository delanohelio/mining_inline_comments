{"pr_number": 2945, "pr_title": "Specific users refactorization", "pr_createdAt": "2020-10-26T11:17:22Z", "pr_url": "https://github.com/CESNET/perun/pull/2945", "timeline": [{"oid": "c05f591e79f0b07898f93bad48efb6149897c866", "url": "https://github.com/CESNET/perun/commit/c05f591e79f0b07898f93bad48efb6149897c866", "message": "Specific users refactorization\n\n* Some methods working with specific users, were adjusted so it is more\nclear, which method to use when working with sponsored and service\nmembers.\n* createSpecificMember methods renamed to createServiceMember and now\ncan create only service members.\n* createSpecificMemberSync methods removed since they were used only in\ntests and could be replaced by other methods calls.\n* Tests were adjusted to the new formats.", "committedDate": "2020-10-26T11:14:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk2NjIxMw==", "url": "https://github.com/CESNET/perun/pull/2945#discussion_r511966213", "bodyText": "You should add exception to the RPC when someone is trying to create specific member which is not service member.", "author": "stavamichal", "createdAt": "2020-10-26T13:39:47Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/entry/MembersManagerEntry.java", "diffHunk": "@@ -178,7 +177,7 @@ public Member createSpecificMember(PerunSession sess, Vo vo, Candidate candidate\n \t\t\t}\n \t\t}\n \n-\t\treturn getMembersManagerBl().createSpecificMember(sess, vo, candidate, specificUserOwners, specificUserType, groups);\n+\t\treturn getMembersManagerBl().createServiceMember(sess, vo, candidate, specificUserOwners, groups);", "originalCommit": "c05f591e79f0b07898f93bad48efb6149897c866", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA4NDUwOQ==", "url": "https://github.com/CESNET/perun/pull/2945#discussion_r512084509", "bodyText": "There is already an exception thrown on line 156.", "author": "Vojtech-Sassmann", "createdAt": "2020-10-26T16:12:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk2NjIxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA4NjA4OA==", "url": "https://github.com/CESNET/perun/pull/2945#discussion_r512086088", "bodyText": "My bad, didn't see that.", "author": "stavamichal", "createdAt": "2020-10-26T16:14:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk2NjIxMw=="}], "type": "inlineReview", "revised_code": null}]}