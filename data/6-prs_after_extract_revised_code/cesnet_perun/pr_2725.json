{"pr_number": 2725, "pr_title": "Refactorization of persistent shadow modules", "pr_createdAt": "2020-06-02T12:03:47Z", "pr_url": "https://github.com/CESNET/perun/pull/2725", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY4MDQ1MQ==", "url": "https://github.com/CESNET/perun/pull/2725#discussion_r437680451", "bodyText": "I think, that bbmri-test namespace is no longer required and module can be removed. I'll ask and let you know.", "author": "zlamalp", "createdAt": "2020-06-09T19:54:05Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow.java", "diffHunk": "@@ -23,75 +12,41 @@\n  */\n \n \n-public class urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow extends urn_perun_user_attribute_def_def_login_namespace {\n+public class urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow", "originalCommit": "92be65e8a723534807906539df89330ed66425d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk1NTY1MA==", "url": "https://github.com/CESNET/perun/pull/2725#discussion_r437955650", "bodyText": "I have it confirmed, module for bbmri-test can be removed from the code.", "author": "zlamalp", "createdAt": "2020-06-10T08:35:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY4MDQ1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MTA1MQ==", "url": "https://github.com/CESNET/perun/pull/2725#discussion_r437971051", "bodyText": "I have removed the module.", "author": "Vojtech-Sassmann", "createdAt": "2020-06-10T08:59:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY4MDQ1MQ=="}], "type": "inlineReview", "revised_code": {"commit": "6782ac5c3a88c3a3875558c6a13bfce5a7241f99", "chunk": "diff --git a/perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow.java b/perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow.java\ndeleted file mode 100644\nindex 4c72bc082..000000000\n--- a/perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow.java\n+++ /dev/null\n\n@@ -1,52 +0,0 @@\n-package cz.metacentrum.perun.core.impl.modules.attributes;\n-\n-import cz.metacentrum.perun.core.implApi.modules.attributes.UserPersistentShadowAttribute;\n-\n-/**\n- * Class for checking logins uniqueness in the namespace and filling bbmri-test-persistent id.\n- * It is only storage! Use module login bbmri-test_persistent for access the value.\n- *\n- * @author Peter Jancus <p.jancus1996@gmail.com>\n- *\n- * @date 20.06.2018\n- */\n-\n-\n-public class urn_perun_user_attribute_def_def_login_namespace_bbmri_test_persistent_shadow\n-\t\textends UserPersistentShadowAttribute {\n-\n-\tprivate final static String extSourceNameBbmri = \"https://aai-test.bbmri-eric.eu/idp/\";\n-\tprivate final static String domainNameBbmri = \"bbmri.eu\";\n-\tprivate final static String attrNameBbmri = \"login-namespace:bbmri-test-persistent-shadow\";\n-\n-\t@Override\n-\tpublic String getFriendlyName() {\n-\t\treturn attrNameBbmri;\n-\t}\n-\n-\t@Override\n-\tpublic String getExtSourceName() {\n-\t\treturn extSourceNameBbmri;\n-\t}\n-\n-\t@Override\n-\tpublic String getDomainName() {\n-\t\treturn domainNameBbmri;\n-\t}\n-\n-\t@Override\n-\tpublic String getDescription() {\n-\t\treturn \"Login to BBMRI TEST. Do not use it directly! \" +\n-\t\t\t   \"Use instead virt:bbmri-persistent attribute.\";\n-\t}\n-\n-\t@Override\n-\tpublic String getDisplayName() {\n-\t\treturn \"BBMRI TEST login\";\n-\t}\n-\n-\t@Override\n-\tpublic String getFriendlyNameParameter() {\n-\t\treturn \"bbmri-test-persistent-shadow\";\n-\t}\n-}\n\\ No newline at end of file\n"}}, {"oid": "6782ac5c3a88c3a3875558c6a13bfce5a7241f99", "url": "https://github.com/CESNET/perun/commit/6782ac5c3a88c3a3875558c6a13bfce5a7241f99", "message": "Refactorization of persistent shadow modules\n\n* Persistent shadow modules contained duplicit code that could be\neasily extracted and resued.\n* This makes it easy to create new persistent shadow modules. Also, this\nensures that all of them works exactly the same way.\n* Created abstract classes for modules that encapsulates common\nbehaviour.", "committedDate": "2020-06-10T08:57:50Z", "type": "commit"}, {"oid": "6782ac5c3a88c3a3875558c6a13bfce5a7241f99", "url": "https://github.com/CESNET/perun/commit/6782ac5c3a88c3a3875558c6a13bfce5a7241f99", "message": "Refactorization of persistent shadow modules\n\n* Persistent shadow modules contained duplicit code that could be\neasily extracted and resued.\n* This makes it easy to create new persistent shadow modules. Also, this\nensures that all of them works exactly the same way.\n* Created abstract classes for modules that encapsulates common\nbehaviour.", "committedDate": "2020-06-10T08:57:50Z", "type": "forcePushed"}]}