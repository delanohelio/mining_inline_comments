{"pr_number": 400, "pr_title": "PubSubIPCAgent constructor", "pr_createdAt": "2020-08-28T19:13:05Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/400", "timeline": [{"oid": "1fbb80d4b772878f01f1ecf097a8ec6f190ec1dc", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1fbb80d4b772878f01f1ecf097a8ec6f190ec1dc", "message": "PubSubIPCAgent constructor", "committedDate": "2020-08-28T19:03:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ5MDE2Mg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/400#discussion_r479490162", "bodyText": "instead of these, just add a constructor:\n@Inject\npublic PubSubIPCAgent (ExecutorService executor) {\n    this.executor = executor;\n}", "author": "MikeDombo", "createdAt": "2020-08-28T19:16:04Z", "path": "src/main/java/com/aws/iot/evergreen/builtin/services/pubsub/PubSubIPCAgent.java", "diffHunk": "@@ -37,6 +39,8 @@\n /**\n  * Class to handle business logic for all PubSub requests over IPC.\n  */\n+@NoArgsConstructor\n+@AllArgsConstructor\n public class PubSubIPCAgent {", "originalCommit": "1fbb80d4b772878f01f1ecf097a8ec6f190ec1dc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ5ODg3Mg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/400#discussion_r479498872", "bodyText": "Done", "author": "popanmol", "createdAt": "2020-08-28T19:36:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ5MDE2Mg=="}], "type": "inlineReview", "revised_code": {"commit": "ad9a667c97cf9e93d3be4645dd2cd2cda89bd330", "chunk": "diff --git a/src/main/java/com/aws/iot/evergreen/builtin/services/pubsub/PubSubIPCAgent.java b/src/main/java/com/aws/iot/evergreen/builtin/services/pubsub/PubSubIPCAgent.java\nindex 79efa9cb6d..bcc1587a4f 100644\n--- a/src/main/java/com/aws/iot/evergreen/builtin/services/pubsub/PubSubIPCAgent.java\n+++ b/src/main/java/com/aws/iot/evergreen/builtin/services/pubsub/PubSubIPCAgent.java\n\n@@ -39,18 +37,20 @@ import javax.inject.Inject;\n /**\n  * Class to handle business logic for all PubSub requests over IPC.\n  */\n-@NoArgsConstructor\n-@AllArgsConstructor\n public class PubSubIPCAgent {\n     // Map from connection --> Function to call for each published message\n     private static final Map<String, Set<Object>> listeners = new DefaultConcurrentHashMap<>(CopyOnWriteArraySet::new);\n     private static final int TIMEOUT_SECONDS = 30;\n \n-    @Inject\n-    private ExecutorService executor;\n+    private final ExecutorService executor;\n \n     private static final Logger log = LogManager.getLogger(PubSubIPCAgent.class);\n \n+    @Inject\n+    public PubSubIPCAgent(ExecutorService executor) {\n+        this.executor = executor;\n+    }\n+\n     /**\n      * Publish a message to all subscribers.\n      *\n"}}, {"oid": "ad9a667c97cf9e93d3be4645dd2cd2cda89bd330", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ad9a667c97cf9e93d3be4645dd2cd2cda89bd330", "message": "Add constructor", "committedDate": "2020-08-28T19:35:57Z", "type": "commit"}, {"oid": "77314ad2cdef823fd666eba2835abd78ed6f7400", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/77314ad2cdef823fd666eba2835abd78ed6f7400", "message": "Merge branch 'master' into pubsub-constructor", "committedDate": "2020-08-28T21:20:50Z", "type": "commit"}]}