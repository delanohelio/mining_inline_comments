{"pr_number": 384, "pr_title": "change e2e test artifacts uri to s3", "pr_createdAt": "2020-08-25T15:34:02Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MjI0Mw==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#discussion_r476582243", "bodyText": "I think we should be able to get rid of this method as well", "author": "shaguptashaikh", "createdAt": "2020-08-25T16:32:33Z", "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/BaseE2ETestCase.java", "diffHunk": "@@ -159,33 +159,28 @@\n     protected static final IamClient iamClient = IamSdkClientFactory.getIamClient();\n     protected static final S3Client s3Client = S3Client.builder().region(GAMMA_REGION).build();\n \n-    private static final PackageIdentifier[] componentsWithArtifactsInGG =\n-            {createPackageIdentifier(\"CustomerApp\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.0\")),\n-                    createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.1\")),\n-                    createPackageIdentifier(\"SomeService\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"SomeOldService\", new Semver(\"0.9.0\")),\n-                    createPackageIdentifier(\"GreenSignal\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"RedSignal\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"YellowSignal\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"Mosquitto\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"Mosquitto\", new Semver(\"0.9.0\")),\n-                    createPackageIdentifier(\"KernelIntegTest\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"KernelIntegTestDependency\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"Log\", new Semver(\"2.0.0\")),\n-                    createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.1\"))};\n     private static final PackageIdentifier[] componentsWithArtifactsInS3 =\n-            {createPackageIdentifier(\"AppWithS3Artifacts\", new Semver(\"1.0.0\"))};\n+            {createPackageIdentifier(\"AppWithS3Artifacts\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"CustomerApp\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.0\")),\n+            createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.1\")),\n+            createPackageIdentifier(\"SomeService\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"SomeOldService\", new Semver(\"0.9.0\")),\n+            createPackageIdentifier(\"GreenSignal\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"RedSignal\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"YellowSignal\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"Mosquitto\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"Mosquitto\", new Semver(\"0.9.0\")),\n+            createPackageIdentifier(\"KernelIntegTest\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"KernelIntegTestDependency\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"Log\", new Semver(\"2.0.0\")),\n+            createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.1\"))};\n \n     @BeforeAll\n     static void beforeAll() throws Exception {\n         initializePackageStore();\n \n-        uploadTestComponentsToCms(componentsWithArtifactsInGG);\n-        uploadComponentArtifactsToGG(componentsWithArtifactsInGG);", "originalCommit": "4950aab6685988975f011ea6a150289078bf00be", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MjA0OA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#discussion_r476652048", "bodyText": "Yeah. I don't know if we will ever need uploadComponentArtifactsToGG again? If not we can remove it. And we can resolve the TODO above uploadComponentArtifactToS3 as well.", "author": "tilo-chen", "createdAt": "2020-08-25T18:26:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MjI0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1NDQ2Mw==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#discussion_r476654463", "bodyText": "We won't need it, the cloud API is going away so if we don't remove the method that method will fail to even compile when the cloud code reaches Gamma in a couple days", "author": "shaguptashaikh", "createdAt": "2020-08-25T18:30:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MjI0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1NjA5OA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#discussion_r476656098", "bodyText": "Oh I see. I'll update.", "author": "tilo-chen", "createdAt": "2020-08-25T18:33:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MjI0Mw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "39efcd9e2d9f0fb00f300e78f801071457a6c352", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/39efcd9e2d9f0fb00f300e78f801071457a6c352", "message": "change e2e test artifacts uri to s3", "committedDate": "2020-08-26T16:18:26Z", "type": "commit"}, {"oid": "16ab28c2cc88d4e638005b777e05a2fb6892a035", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/16ab28c2cc88d4e638005b777e05a2fb6892a035", "message": "remove CMS upload artifact related code", "committedDate": "2020-08-26T16:29:03Z", "type": "commit"}, {"oid": "16ab28c2cc88d4e638005b777e05a2fb6892a035", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/16ab28c2cc88d4e638005b777e05a2fb6892a035", "message": "remove CMS upload artifact related code", "committedDate": "2020-08-26T16:29:03Z", "type": "forcePushed"}, {"oid": "27deb54a607b03bc629de1c56b539fb66e04ef7a", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/27deb54a607b03bc629de1c56b539fb66e04ef7a", "message": "remove unused", "committedDate": "2020-08-26T16:48:25Z", "type": "commit"}, {"oid": "c8b039ab25a9caf109b849aa4be5b1544e2ac3ee", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c8b039ab25a9caf109b849aa4be5b1544e2ac3ee", "message": "Merge branch 'master' into test-change-s3-uri", "committedDate": "2020-08-26T21:01:02Z", "type": "commit"}]}