{"pr_number": 621, "pr_title": "DO NOTHING for failure handling policy for local deployment", "pr_createdAt": "2020-11-04T18:33:17Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621", "timeline": [{"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/74dfdcf66637817a00c28c7c3e0a5325e05fc980", "message": "DO NOTHING for failure handling policy for local deployment", "committedDate": "2020-11-04T18:32:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2MzQ4NQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#discussion_r517563485", "bodyText": "What's the reason it can't rollback?", "author": "shaguptashaikh", "createdAt": "2020-11-04T18:56:57Z", "path": "src/main/java/com/aws/greengrass/deployment/converter/DeploymentDocumentConverter.java", "diffHunk": "@@ -84,6 +84,7 @@ public static DeploymentDocument convertFromLocalOverrideRequestAndRoot(LocalOve\n         return DeploymentDocument.builder().timestamp(localOverrideRequest.getRequestTimestamp())\n                 .deploymentId(localOverrideRequest.getRequestId())\n                 .deploymentPackageConfigurationList(packageConfigurations)\n+                .failureHandlingPolicy(FailureHandlingPolicy.DO_NOTHING)    // Can't rollback for local deployment", "originalCommit": "74dfdcf66637817a00c28c7c3e0a5325e05fc980", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2NTQ5NQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#discussion_r517565495", "bodyText": "Is this trying to set default to DO_NOTHING for local deployments?", "author": "hui-yang", "createdAt": "2020-11-04T19:00:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2MzQ4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2NTc5MA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#discussion_r517565790", "bodyText": "it's not setting default, it's always making it DO_NOTHING, it's an override", "author": "shaguptashaikh", "createdAt": "2020-11-04T19:01:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2MzQ4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2OTI4OA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#discussion_r517569288", "bodyText": "localOverrideRequest doesn't have FailureHandlingPolicy for now. And the behavior now is DO_NOTHING.", "author": "leaf94", "createdAt": "2020-11-04T19:07:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2MzQ4NQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "520fc45cc98494379e554d1b3c38c4af43aeb64a", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/520fc45cc98494379e554d1b3c38c4af43aeb64a", "message": "Merge branch 'master' into local_deploy_no_roll_back", "committedDate": "2020-11-04T19:07:38Z", "type": "commit"}]}