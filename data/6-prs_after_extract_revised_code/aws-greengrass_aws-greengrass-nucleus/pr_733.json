{"pr_number": 733, "pr_title": "Move cert path, key path and root CA cert path config to system", "pr_createdAt": "2020-11-30T16:04:11Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/733", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjcxMTYxNg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/733#discussion_r532711616", "bodyText": "setenv is not correct, these should be under system", "author": "MikeDombo", "createdAt": "2020-11-30T16:07:11Z", "path": "src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java", "diffHunk": "@@ -316,15 +316,18 @@ public Topic getThingName() {\n     }\n \n     public Topic getCertificateFilePath() {\n-        return getTopic(DEVICE_PARAM_CERTIFICATE_FILE_PATH).dflt(\"\").addValidator(deTildeValidator);\n+        return kernel.getConfig().lookup(SETENV_CONFIG_NAMESPACE, DEVICE_PARAM_CERTIFICATE_FILE_PATH).dflt(\"\")\n+                .addValidator(deTildeValidator);\n     }\n \n     public Topic getPrivateKeyFilePath() {\n-        return getTopic(DEVICE_PARAM_PRIVATE_KEY_PATH).dflt(\"\").addValidator(deTildeValidator);\n+        return kernel.getConfig().lookup(SETENV_CONFIG_NAMESPACE, DEVICE_PARAM_PRIVATE_KEY_PATH).dflt(\"\")\n+                .addValidator(deTildeValidator);\n     }\n \n     public Topic getRootCAFilePath() {\n-        return getTopic(DEVICE_PARAM_ROOT_CA_PATH).dflt(\"\").addValidator(deTildeValidator);\n+        return kernel.getConfig().lookup(SETENV_CONFIG_NAMESPACE, DEVICE_PARAM_ROOT_CA_PATH).dflt(\"\")", "originalCommit": "d0e95a613bebc92ba15f96acba882f35c48e187c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "714b067cd3c2335fba81e2b19f993da4d52ca6ec", "chunk": "diff --git a/src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java b/src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java\nindex 56fe4bce..79240276 100644\n--- a/src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java\n+++ b/src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java\n\n@@ -316,17 +316,17 @@ public class DeviceConfiguration {\n     }\n \n     public Topic getCertificateFilePath() {\n-        return kernel.getConfig().lookup(SETENV_CONFIG_NAMESPACE, DEVICE_PARAM_CERTIFICATE_FILE_PATH).dflt(\"\")\n+        return kernel.getConfig().lookup(SYSTEM_NAMESPACE_KEY, DEVICE_PARAM_CERTIFICATE_FILE_PATH).dflt(\"\")\n                 .addValidator(deTildeValidator);\n     }\n \n     public Topic getPrivateKeyFilePath() {\n-        return kernel.getConfig().lookup(SETENV_CONFIG_NAMESPACE, DEVICE_PARAM_PRIVATE_KEY_PATH).dflt(\"\")\n+        return kernel.getConfig().lookup(SYSTEM_NAMESPACE_KEY, DEVICE_PARAM_PRIVATE_KEY_PATH).dflt(\"\")\n                 .addValidator(deTildeValidator);\n     }\n \n     public Topic getRootCAFilePath() {\n-        return kernel.getConfig().lookup(SETENV_CONFIG_NAMESPACE, DEVICE_PARAM_ROOT_CA_PATH).dflt(\"\")\n+        return kernel.getConfig().lookup(SYSTEM_NAMESPACE_KEY, DEVICE_PARAM_ROOT_CA_PATH).dflt(\"\")\n                 .addValidator(deTildeValidator);\n     }\n \n"}}, {"oid": "714b067cd3c2335fba81e2b19f993da4d52ca6ec", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/714b067cd3c2335fba81e2b19f993da4d52ca6ec", "message": "Move cert path, key path and root CA cert path config to system", "committedDate": "2020-11-30T16:09:32Z", "type": "forcePushed"}, {"oid": "b38c3a3a60a2eb2719ce96068888b99176b30e1a", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b38c3a3a60a2eb2719ce96068888b99176b30e1a", "message": "Move cert path, key path and root CA cert path config to system", "committedDate": "2020-11-30T16:17:22Z", "type": "commit"}, {"oid": "b38c3a3a60a2eb2719ce96068888b99176b30e1a", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b38c3a3a60a2eb2719ce96068888b99176b30e1a", "message": "Move cert path, key path and root CA cert path config to system", "committedDate": "2020-11-30T16:17:22Z", "type": "forcePushed"}, {"oid": "e2b3a3c3b8deb39a747395b1623cbf279b20e313", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/e2b3a3c3b8deb39a747395b1623cbf279b20e313", "message": "Merge branch 'master' into move-cert-key-config", "committedDate": "2020-11-30T18:01:05Z", "type": "commit"}, {"oid": "fc7810984e33af84f81eec2a7ded638f26321aac", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/fc7810984e33af84f81eec2a7ded638f26321aac", "message": "Merge branch 'master' into move-cert-key-config", "committedDate": "2020-11-30T23:43:23Z", "type": "commit"}, {"oid": "ae5976d552518ac7b2f5b42332c9008112eb90c6", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ae5976d552518ac7b2f5b42332c9008112eb90c6", "message": "Merge branch 'master' into move-cert-key-config", "committedDate": "2020-12-01T00:48:17Z", "type": "commit"}]}