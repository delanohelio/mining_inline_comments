{"pr_number": 694, "pr_title": "Update smithy model to add new operation", "pr_createdAt": "2020-11-17T18:24:03Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/694", "timeline": [{"oid": "fafbb753fb77adb6a20dc389d01338693412f40c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/fafbb753fb77adb6a20dc389d01338693412f40c", "message": "Update smithy model to add new operation", "committedDate": "2020-11-17T18:23:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ2NTAyNg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/694#discussion_r525465026", "bodyText": "Remove this file, we do not use this", "author": "abanthiy", "createdAt": "2020-11-17T19:59:50Z", "path": "src/main/java/software/amazon/awssdk/eventstreamrpc/DebugLoggingOperationHandler.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ * SPDX-License-Identifier: Apache-2.0\n+ */\n+\n+package software.amazon.awssdk.eventstreamrpc;\n+\n+import com.google.gson.Gson;\n+import software.amazon.awssdk.eventstreamrpc.model.EventStreamJsonMessage;\n+\n+import java.nio.charset.StandardCharsets;\n+import java.util.logging.Logger;\n+\n+/**\n+ * Useful to set as a handler for an operation with no implementation yet.\n+ */\n+public class DebugLoggingOperationHandler extends OperationContinuationHandler", "originalCommit": "fafbb753fb77adb6a20dc389d01338693412f40c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "551f73057249f9d5af8b366ea4de60573095a293", "chunk": "diff --git a/src/main/java/software/amazon/awssdk/eventstreamrpc/DebugLoggingOperationHandler.java b/src/main/java/software/amazon/awssdk/eventstreamrpc/DebugLoggingOperationHandler.java\ndeleted file mode 100644\nindex 694c74d3..00000000\n--- a/src/main/java/software/amazon/awssdk/eventstreamrpc/DebugLoggingOperationHandler.java\n+++ /dev/null\n\n@@ -1,65 +0,0 @@\n-/*\n- * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n- * SPDX-License-Identifier: Apache-2.0\n- */\n-\n-package software.amazon.awssdk.eventstreamrpc;\n-\n-import com.google.gson.Gson;\n-import software.amazon.awssdk.eventstreamrpc.model.EventStreamJsonMessage;\n-\n-import java.nio.charset.StandardCharsets;\n-import java.util.logging.Logger;\n-\n-/**\n- * Useful to set as a handler for an operation with no implementation yet.\n- */\n-public class DebugLoggingOperationHandler extends OperationContinuationHandler\n-        <EventStreamJsonMessage, EventStreamJsonMessage, EventStreamJsonMessage, EventStreamJsonMessage> {\n-    private static final Logger LOGGER = Logger.getLogger(DebugLoggingOperationHandler.class.getName());\n-    private final OperationModelContext operationModelContext;\n-\n-    public DebugLoggingOperationHandler(final OperationModelContext modelContext, final OperationContinuationHandlerContext context) {\n-        super(context);\n-        this.operationModelContext = modelContext;\n-    }\n-\n-    @Override\n-    public OperationModelContext<EventStreamJsonMessage, EventStreamJsonMessage, EventStreamJsonMessage, EventStreamJsonMessage> getOperationModelContext() {\n-        return operationModelContext;\n-    }\n-\n-    /**\n-     * Called when the underlying continuation is closed. Gives operations a chance to cleanup whatever\n-     * resources may be on the other end of an open stream. Also invoked when an underlying ServerConnection\n-     * is closed associated with the stream/continuation\n-     */\n-    @Override\n-    protected void onStreamClosed() {\n-        LOGGER.info(String.format(\"%s operation onStreamClosed()\",\n-                operationModelContext.getOperationName()));\n-    }\n-\n-    @Override\n-    public EventStreamJsonMessage handleRequest(EventStreamJsonMessage request) {\n-        LOGGER.info(String.format(\"%s operation handleRequest() ::  %s\", operationModelContext.getOperationName(),\n-                operationModelContext.getServiceModel().toJson(request)));\n-        return new EventStreamJsonMessage() {\n-            @Override\n-            public byte[] toPayload(Gson gson) {\n-                return \"{}\".getBytes(StandardCharsets.UTF_8);\n-            }\n-\n-            @Override\n-            public String getApplicationModelType() {\n-                return operationModelContext.getResponseApplicationModelType();\n-            }\n-        };\n-    }\n-\n-    @Override\n-    public void handleStreamEvent(EventStreamJsonMessage streamRequestEvent) {\n-        LOGGER.info(String.format(\"%s operation handleStreamEvent() ::  %s\", operationModelContext.getOperationName(),\n-                operationModelContext.getServiceModel().toJson(streamRequestEvent)));\n-    }\n-}\n"}}, {"oid": "551f73057249f9d5af8b366ea4de60573095a293", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/551f73057249f9d5af8b366ea4de60573095a293", "message": "remove unused class", "committedDate": "2020-11-17T20:03:57Z", "type": "commit"}, {"oid": "4ab36a91399d934b4f90aaf06f0497fddf76adb2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/4ab36a91399d934b4f90aaf06f0497fddf76adb2", "message": "Merge branch 'master' into smithy-update", "committedDate": "2020-11-17T20:20:00Z", "type": "commit"}]}