{"pr_number": 383, "pr_title": "Fix flaky E2E FSS test.", "pr_createdAt": "2020-08-25T03:51:01Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/383", "timeline": [{"oid": "764d3c1516940b05c6d7b41aee227f4f197b300f", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/764d3c1516940b05c6d7b41aee227f4f197b300f", "message": "Fix flaky E2E FSS test.", "committedDate": "2020-08-25T03:46:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjEzMjk5Nw==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/383#discussion_r476132997", "bodyText": "This seems really unnecessary. Why not just concatenate? That will be far more efficient in this case, and easier to read too.", "author": "MikeDombo", "createdAt": "2020-08-25T03:54:41Z", "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/fss/FleetStatusServiceTest.java", "diffHunk": "@@ -138,14 +136,9 @@ void GIVEN_kernel_running_with_deployed_services_WHEN_deployment_finishes_THEN_f\n \n         assertTrue(cdl.await(1, TimeUnit.MINUTES), \"All messages published and received\");\n         assertEquals(2, mqttMessagesList.get().size());\n-\n-        Arn arn = Arn.builder()\n-                .withPartition(FLEET_STATUS_ARN_PARTITION)\n-                .withService(FLEET_STATUS_ARN_SERVICE)\n-                .withAccountId(Coerce.toString(Arn.fromString(thingInfo.getThingArn()).getAccountId()))\n-                .withRegion(Coerce.toString(Arn.fromString(thingInfo.getThingArn()).getRegion()))\n-                .withResource(String.format(FLEET_STATUS_ARN_RESOURCE_PREFIX, \"thinggroup/\" + thingGroupName, \"1\"))\n-                .build();\n+        String accountId = Coerce.toString(Arn.fromString(thingInfo.getThingArn()).getAccountId());\n+        String region = Coerce.toString(Arn.fromString(thingInfo.getThingArn()).getRegion());\n+        String resource = String.format(\"%s%s\", \"thinggroup/\", thingGroupName);", "originalCommit": "764d3c1516940b05c6d7b41aee227f4f197b300f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}