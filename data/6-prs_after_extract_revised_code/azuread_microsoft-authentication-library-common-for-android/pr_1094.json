{"pr_number": 1094, "pr_title": "Changes for UI Automation Pipeline", "pr_createdAt": "2020-10-26T02:19:26Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1094", "timeline": [{"oid": "a82dba67129c1d312ec1aaef16baff9aeb8e0990", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/a82dba67129c1d312ec1aaef16baff9aeb8e0990", "message": "Changes for UI Test running on pipeline", "committedDate": "2020-08-10T19:57:28Z", "type": "commit"}, {"oid": "d16d4033fe26fe8657d1a2c1ce2d081ee5989ef7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d16d4033fe26fe8657d1a2c1ce2d081ee5989ef7", "message": "Catch errors on app install and handle TOU in PlayStore", "committedDate": "2020-08-11T01:44:55Z", "type": "commit"}, {"oid": "0fbb7429dce303fb1090080391c264b3d4878f4a", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0fbb7429dce303fb1090080391c264b3d4878f4a", "message": "Merge branch 'dev' into shahzaibj/changes-for-ui-test-pipeline", "committedDate": "2020-10-21T23:39:22Z", "type": "commit"}, {"oid": "d8afd9e4392ec5ae3b00181a8346cc5fad980264", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d8afd9e4392ec5ae3b00181a8346cc5fad980264", "message": "Invoke copy method for BrokerHost apk", "committedDate": "2020-10-23T16:57:32Z", "type": "commit"}, {"oid": "00ed28b4ad000d04ff380a1e2925146b75cc9da8", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/00ed28b4ad000d04ff380a1e2925146b75cc9da8", "message": "Merge branch 'dev' into shahzaibj/changes-for-ui-test-pipeline", "committedDate": "2020-11-11T02:15:46Z", "type": "commit"}, {"oid": "b2cbf99bae1a715e5d71ecb8948b2dd9be243ed6", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b2cbf99bae1a715e5d71ecb8948b2dd9be243ed6", "message": "Changes for firebase pipeline", "committedDate": "2020-11-11T21:33:08Z", "type": "commit"}, {"oid": "9ca555293e2ccd52a52154ee0d478cc3c2315056", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9ca555293e2ccd52a52154ee0d478cc3c2315056", "message": "Address comments", "committedDate": "2020-11-12T20:50:09Z", "type": "commit"}, {"oid": "e421b5a40decd8d119d52e7410fd9ee1f22adda6", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e421b5a40decd8d119d52e7410fd9ee1f22adda6", "message": "Merge branch 'dev' into shahzaibj/changes-for-ui-test-pipeline", "committedDate": "2020-11-13T16:37:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI1ODM5OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1094#discussion_r523258399", "bodyText": "This is just refactor....just relocating this code here from another class where it was previously located.", "author": "shahzaibj", "createdAt": "2020-11-13T22:05:14Z", "path": "uiautomationutilities/src/main/java/com/microsoft/identity/client/ui/automation/broker/AbstractTestBroker.java", "diffHunk": "@@ -53,6 +55,25 @@\n  */\n public abstract class AbstractTestBroker extends App implements ITestBroker {\n \n+    private final static String TAG = AbstractTestBroker.class.getSimpleName();\n+\n+    @Override\n+    public void uninstall() {\n+        super.uninstall();\n+\n+        if (isInstalled()) {\n+            // The broker app will still be installed on the device if it is enabled\n+            // as a device admin. In this case, we need to disable the admin and then\n+            // uninstall.\n+            Log.w(TAG, \"Unable to uninstall broker \" + getAppName() + \" from device...\" +\n+                    \"the broker is potentially enabled as an active device admin.\");\n+            Log.i(TAG, \"Disabling admin for \" + getAppName());\n+            TestContext.getTestContext().getTestDevice().getSettings().disableAdmin(getAdminName());\n+            Log.i(TAG, \"Reattempting uninstall for \" + getAppName());\n+            super.uninstall();\n+        }", "originalCommit": "e421b5a40decd8d119d52e7410fd9ee1f22adda6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "b1e78267d1c828f5e07d2bfa04089a6aafafa3c8", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b1e78267d1c828f5e07d2bfa04089a6aafafa3c8", "message": "Merge branch 'dev' into shahzaibj/changes-for-ui-test-pipeline", "committedDate": "2020-11-16T01:36:31Z", "type": "commit"}, {"oid": "a2170bd53caa80694799b05e24a706fc805c9e2e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/a2170bd53caa80694799b05e24a706fc805c9e2e", "message": "Change sys print statements to logcat logs", "committedDate": "2020-11-16T01:40:21Z", "type": "commit"}]}