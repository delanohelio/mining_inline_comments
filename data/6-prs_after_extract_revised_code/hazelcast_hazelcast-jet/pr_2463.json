{"pr_number": 2463, "pr_title": "Increase timeout in JobRestartWithSnapshotTest.when_nodeDown_then_jobRestartsFromSnapshot", "pr_createdAt": "2020-08-26T09:43:45Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/2463", "timeline": [{"oid": "e8e8ed27ef137014e0d08b7aa83ab83b4d4dfebc", "url": "https://github.com/hazelcast/hazelcast-jet/commit/e8e8ed27ef137014e0d08b7aa83ab83b4d4dfebc", "message": "Increase timeout it test", "committedDate": "2020-08-26T09:40:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI0MzkxNA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2463#discussion_r477243914", "bodyText": "I'd rather increase the constant part of the timeout...", "author": "viliam-durina", "createdAt": "2020-08-26T11:57:44Z", "path": "hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/JobRestartWithSnapshotTest.java", "diffHunk": "@@ -199,7 +199,7 @@ We start the test with two nodes and localParallelism(1) and 3 partitions\n         Job job = instance1.newJob(dag, config);\n \n         JobRepository jobRepository = new JobRepository(instance1);\n-        int timeout = (int) (MILLISECONDS.toSeconds(config.getSnapshotIntervalMillis() * 3) + 2);\n+        int timeout = (int) (MILLISECONDS.toSeconds(config.getSnapshotIntervalMillis() * 7) + 2);", "originalCommit": "e8e8ed27ef137014e0d08b7aa83ab83b4d4dfebc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "76d02c7753782684a935c894c9fe990d05e7851f", "chunk": "diff --git a/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/JobRestartWithSnapshotTest.java b/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/JobRestartWithSnapshotTest.java\nindex d25871bd8..a214cd95e 100644\n--- a/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/JobRestartWithSnapshotTest.java\n+++ b/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/JobRestartWithSnapshotTest.java\n\n@@ -199,7 +199,7 @@ public class JobRestartWithSnapshotTest extends JetTestSupport {\n         Job job = instance1.newJob(dag, config);\n \n         JobRepository jobRepository = new JobRepository(instance1);\n-        int timeout = (int) (MILLISECONDS.toSeconds(config.getSnapshotIntervalMillis() * 7) + 2);\n+        int timeout = (int) (MILLISECONDS.toSeconds(config.getSnapshotIntervalMillis() * 3) + 8);\n \n         waitForFirstSnapshot(jobRepository, job.getId(), timeout, false);\n         waitForNextSnapshot(jobRepository, job.getId(), timeout, false);\n"}}, {"oid": "76d02c7753782684a935c894c9fe990d05e7851f", "url": "https://github.com/hazelcast/hazelcast-jet/commit/76d02c7753782684a935c894c9fe990d05e7851f", "message": "Change constant part of calculated timeout", "committedDate": "2020-08-26T14:11:32Z", "type": "commit"}]}