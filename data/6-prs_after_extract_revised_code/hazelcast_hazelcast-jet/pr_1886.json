{"pr_number": 1886, "pr_title": "Add RabbitMQ tests and fix issues with it", "pr_createdAt": "2020-01-27T15:28:02Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/1886", "timeline": [{"oid": "d53e829c0d5d5edb9e7833687d16a3d8b294336b", "url": "https://github.com/hazelcast/hazelcast-jet/commit/d53e829c0d5d5edb9e7833687d16a3d8b294336b", "message": "Add RabbitMQ tests and fix issues with it", "committedDate": "2020-01-27T15:25:12Z", "type": "commit"}, {"oid": "423090c0b1372e912b4d8ad216d1ba9642853278", "url": "https://github.com/hazelcast/hazelcast-jet/commit/423090c0b1372e912b4d8ad216d1ba9642853278", "message": "Fix sink on RabbitMQ", "committedDate": "2020-01-27T16:10:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYzNTQyOQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/1886#discussion_r371635429", "bodyText": "Is this alignment intended?", "author": "olukas", "createdAt": "2020-01-28T07:03:32Z", "path": "hazelcast-jet-core/src/main/java/com/hazelcast/jet/pipeline/JmsSourceBuilder.java", "diffHunk": "@@ -85,11 +85,10 @@ public JmsSourceBuilder connectionParams(@Nullable String username, @Nullable St\n      * <p>\n      * If not provided, this function is used:\n      * <pre>\n-     *     connectionFn = factory -> factory instanceof XAConnectionFactory\n-     *            ? ((XAConnectionFactory) factory).createXAConnection(username, password)\n-     *            : factory.createConnection(username, password);\n+     *     connectionFn = factory -> username != null || password != null\n+     *                     ? factory.createConnection(usernameLocal, passwordLocal)", "originalCommit": "423090c0b1372e912b4d8ad216d1ba9642853278", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "865baa031cf6277109f638ffbc01da76f2072ca8", "chunk": "diff --git a/hazelcast-jet-core/src/main/java/com/hazelcast/jet/pipeline/JmsSourceBuilder.java b/hazelcast-jet-core/src/main/java/com/hazelcast/jet/pipeline/JmsSourceBuilder.java\nindex cf2a022bd..e80e74bf9 100644\n--- a/hazelcast-jet-core/src/main/java/com/hazelcast/jet/pipeline/JmsSourceBuilder.java\n+++ b/hazelcast-jet-core/src/main/java/com/hazelcast/jet/pipeline/JmsSourceBuilder.java\n\n@@ -86,8 +86,8 @@ public final class JmsSourceBuilder {\n      * If not provided, this function is used:\n      * <pre>\n      *     connectionFn = factory -> username != null || password != null\n-     *                     ? factory.createConnection(usernameLocal, passwordLocal)\n-     *                     : factory.createConnection()\n+     *         ? factory.createConnection(usernameLocal, passwordLocal)\n+     *         : factory.createConnection()\n      * </pre>\n      * The user name and password set with {@link #connectionParams} are used.\n      *\n"}}, {"oid": "865baa031cf6277109f638ffbc01da76f2072ca8", "url": "https://github.com/hazelcast/hazelcast-jet/commit/865baa031cf6277109f638ffbc01da76f2072ca8", "message": "Finish emission in snapshotCommitPrepare", "committedDate": "2020-01-28T14:53:42Z", "type": "commit"}]}