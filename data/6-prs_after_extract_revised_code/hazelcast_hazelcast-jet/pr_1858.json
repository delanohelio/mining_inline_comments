{"pr_number": 1858, "pr_title": "Print collection contents in case of failure", "pr_createdAt": "2020-01-20T07:35:24Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/1858", "timeline": [{"oid": "9c1a9bd96d7a9ada88d546d25d014e8b1a5197e6", "url": "https://github.com/hazelcast/hazelcast-jet/commit/9c1a9bd96d7a9ada88d546d25d014e8b1a5197e6", "message": "print collection contents in case of failure", "committedDate": "2020-01-20T07:32:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQxNzYxOA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/1858#discussion_r368417618", "bodyText": "Can we add this to assertCollection method ?", "author": "eminn", "createdAt": "2020-01-20T08:29:11Z", "path": "hazelcast-jet-core/src/test/java/com/hazelcast/jet/impl/util/IOUtilTest.java", "diffHunk": "@@ -68,6 +69,9 @@ public void test(Path originalPath) throws IOException {\n         Set<Path> originalSet = getChildrenFromRoot(originalPath);\n         Set<Path> unzippedSet = getChildrenFromRoot(unzippedPath);\n \n+        if (originalSet.size() != unzippedSet.size()) {", "originalCommit": "9c1a9bd96d7a9ada88d546d25d014e8b1a5197e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQ3OTg4OA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/1858#discussion_r368479888", "bodyText": "you mean to have it on IMDG side or overwrite it on our side ?", "author": "gurbuzali", "createdAt": "2020-01-20T10:42:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQxNzYxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQ4Nzk4Mw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/1858#discussion_r368487983", "bodyText": "I thought it comes from JetAssert but still we can improve the one in IMDG to print contents when the size is not equal", "author": "eminn", "createdAt": "2020-01-20T11:00:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQxNzYxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQ5NTQwOA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/1858#discussion_r368495408", "bodyText": "I've put it to JetTestSupport for now, after the change on IMDG side we can remove it", "author": "gurbuzali", "createdAt": "2020-01-20T11:18:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQxNzYxOA=="}], "type": "inlineReview", "revised_code": {"commit": "642c282090c6174f5a9b23fee209da29262b5d9a", "chunk": "diff --git a/hazelcast-jet-core/src/test/java/com/hazelcast/jet/impl/util/IOUtilTest.java b/hazelcast-jet-core/src/test/java/com/hazelcast/jet/impl/util/IOUtilTest.java\nindex 8ef5f1e52..69cd9c596 100644\n--- a/hazelcast-jet-core/src/test/java/com/hazelcast/jet/impl/util/IOUtilTest.java\n+++ b/hazelcast-jet-core/src/test/java/com/hazelcast/jet/impl/util/IOUtilTest.java\n\n@@ -69,9 +69,6 @@ public class IOUtilTest extends JetTestSupport {\n         Set<Path> originalSet = getChildrenFromRoot(originalPath);\n         Set<Path> unzippedSet = getChildrenFromRoot(unzippedPath);\n \n-        if (originalSet.size() != unzippedSet.size()) {\n-            fail(String.format(\"Expected children set: ` %s`, actual children set: `%s`\", originalSet, unzippedPath));\n-        }\n         assertCollection(originalSet, unzippedSet);\n \n         boolean allMatch = Files.walk(unzippedPath)\n"}}, {"oid": "642c282090c6174f5a9b23fee209da29262b5d9a", "url": "https://github.com/hazelcast/hazelcast-jet/commit/642c282090c6174f5a9b23fee209da29262b5d9a", "message": "overwrite assertCollection in JetTestSupport to print the contents of the collections in case of failure", "committedDate": "2020-01-20T11:15:22Z", "type": "commit"}, {"oid": "ddf6047c08d43deb47eb51a623d07c3707b50a54", "url": "https://github.com/hazelcast/hazelcast-jet/commit/ddf6047c08d43deb47eb51a623d07c3707b50a54", "message": "checkstyle", "committedDate": "2020-01-20T11:15:47Z", "type": "commit"}]}