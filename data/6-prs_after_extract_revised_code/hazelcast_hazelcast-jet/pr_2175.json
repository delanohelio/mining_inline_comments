{"pr_number": 2175, "pr_title": "Make sure the JAR file exists before test execution", "pr_createdAt": "2020-04-15T15:58:07Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/2175", "timeline": [{"oid": "4fdfd19ed0611431539362311e3c95173df84eda", "url": "https://github.com/hazelcast/hazelcast-jet/commit/4fdfd19ed0611431539362311e3c95173df84eda", "message": "make sure the jar file exists before test execution", "committedDate": "2020-04-15T15:56:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzNTY2Mw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2175#discussion_r409035663", "bodyText": "Very minor comment - is not more clear to use Files.exists(testJobJarFile);?", "author": "olukas", "createdAt": "2020-04-15T18:08:05Z", "path": "hazelcast-jet-all/src/test/java/com/hazelcast/jet/server/JetCommandLineTest.java", "diffHunk": "@@ -112,6 +116,16 @@ public void before() {\n         sourceMap = jet.getMap(SOURCE_NAME);\n         IntStream.range(0, ITEM_COUNT).forEach(i -> sourceMap.put(i, i));\n         sinkList = jet.getList(SINK_NAME);\n+        assertTrueEventually(() -> {\n+            if (!isJarFileExists()) {\n+                createJarFile();\n+            }\n+            assertTrue(isJarFileExists());\n+        });\n+    }\n+\n+    public boolean isJarFileExists() {\n+        return testJobJarFile.toFile().exists();", "originalCommit": "4fdfd19ed0611431539362311e3c95173df84eda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMyOTY4Nw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2175#discussion_r409329687", "bodyText": "While we're at it, Files.isFile() makes more sense.", "author": "mtopolnik", "createdAt": "2020-04-16T07:10:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzNTY2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "22634ad8c2bd555d42c29f2ddb53eaf26e967b60", "chunk": "diff --git a/hazelcast-jet-all/src/test/java/com/hazelcast/jet/server/JetCommandLineTest.java b/hazelcast-jet-all/src/test/java/com/hazelcast/jet/server/JetCommandLineTest.java\nindex 0002b94109..f4d4aa125f 100644\n--- a/hazelcast-jet-all/src/test/java/com/hazelcast/jet/server/JetCommandLineTest.java\n+++ b/hazelcast-jet-all/src/test/java/com/hazelcast/jet/server/JetCommandLineTest.java\n\n@@ -125,7 +125,7 @@ public class JetCommandLineTest extends JetTestSupport {\n     }\n \n     public boolean isJarFileExists() {\n-        return testJobJarFile.toFile().exists();\n+        return Files.exists(testJobJarFile);\n     }\n \n     @After\n"}}, {"oid": "22634ad8c2bd555d42c29f2ddb53eaf26e967b60", "url": "https://github.com/hazelcast/hazelcast-jet/commit/22634ad8c2bd555d42c29f2ddb53eaf26e967b60", "message": "Address review comment", "committedDate": "2020-04-16T06:57:47Z", "type": "commit"}]}