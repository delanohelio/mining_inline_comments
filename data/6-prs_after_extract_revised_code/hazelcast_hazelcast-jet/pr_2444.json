{"pr_number": 2444, "pr_title": "Speed up project build", "pr_createdAt": "2020-08-17T09:27:56Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/2444", "timeline": [{"oid": "b7b1c7a76d3ec247ab09e58e85f43f9175a4b772", "url": "https://github.com/hazelcast/hazelcast-jet/commit/b7b1c7a76d3ec247ab09e58e85f43f9175a4b772", "message": "Set maven to build in parallel by default", "committedDate": "2020-08-14T14:25:05Z", "type": "commit"}, {"oid": "3dada096dc11eff583d5979b9d07838a8a19d0c8", "url": "https://github.com/hazelcast/hazelcast-jet/commit/3dada096dc11eff583d5979b9d07838a8a19d0c8", "message": "Move some tests to nightly run", "committedDate": "2020-08-17T09:24:29Z", "type": "commit"}, {"oid": "cb341ad363744bc3f078660c36e9ae7003502322", "url": "https://github.com/hazelcast/hazelcast-jet/commit/cb341ad363744bc3f078660c36e9ae7003502322", "message": "Specify Maven parallelism in a per/core manner", "committedDate": "2020-08-17T09:24:53Z", "type": "commit"}, {"oid": "bc58a488b3d2a022e4095b362332c44f5073b372", "url": "https://github.com/hazelcast/hazelcast-jet/commit/bc58a488b3d2a022e4095b362332c44f5073b372", "message": "Move test from serial to regular run", "committedDate": "2020-08-17T09:25:15Z", "type": "commit"}, {"oid": "2eb4013c155f76b65b0449f9290ad8700bb9292e", "url": "https://github.com/hazelcast/hazelcast-jet/commit/2eb4013c155f76b65b0449f9290ad8700bb9292e", "message": "Remove unnecessary sleep from tests", "committedDate": "2020-08-17T09:25:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM3NjkzOQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2444#discussion_r471376939", "bodyText": "If I understand the test correctly it has set delay for 1 second. It means that removing this sleepSeconds(2); will basically check that jobs are still running before cluster is scaled up. I think original test tried to check that they are running after scaling up.", "author": "olukas", "createdAt": "2020-08-17T10:09:20Z", "path": "hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/ScaleUpTest.java", "diffHunk": "@@ -122,7 +122,6 @@ public void when_manyJobs() {\n         }\n         logger.info(jobs.size() + \" jobs are running, adding a member\");\n         createJetMember(config);\n-        sleepSeconds(2);", "originalCommit": "2eb4013c155f76b65b0449f9290ad8700bb9292e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2b5e77f8940785dff18206982be84d07e8445fbf", "chunk": "diff --git a/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/ScaleUpTest.java b/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/ScaleUpTest.java\nindex eb21314ec3..fa1235148e 100644\n--- a/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/ScaleUpTest.java\n+++ b/hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/ScaleUpTest.java\n\n@@ -122,6 +122,7 @@ public class ScaleUpTest extends JetTestSupport {\n         }\n         logger.info(jobs.size() + \" jobs are running, adding a member\");\n         createJetMember(config);\n+        sleepSeconds(2);\n         for (Job job : jobs) {\n             assertJobStatusEventually(job, RUNNING, 30);\n         }\n"}}, {"oid": "2b5e77f8940785dff18206982be84d07e8445fbf", "url": "https://github.com/hazelcast/hazelcast-jet/commit/2b5e77f8940785dff18206982be84d07e8445fbf", "message": "Revert some changes, try to fix others", "committedDate": "2020-08-21T06:29:42Z", "type": "commit"}, {"oid": "7b02dfe034df78054026ae01a5be017799587835", "url": "https://github.com/hazelcast/hazelcast-jet/commit/7b02dfe034df78054026ae01a5be017799587835", "message": "Revert some changes, set some long tests to nightly", "committedDate": "2020-08-21T07:28:31Z", "type": "commit"}]}