{"pr_number": 4714, "pr_title": "fix bug with how we count downloaded media, show a meaningful messages", "pr_createdAt": "2020-11-24T15:50:41Z", "pr_url": "https://github.com/AntennaPod/AntennaPod/pull/4714", "timeline": [{"oid": "0cdd28397b2171967b2aad5dab76598afb7877b1", "url": "https://github.com/AntennaPod/AntennaPod/commit/0cdd28397b2171967b2aad5dab76598afb7877b1", "message": "fix bug with how we count downloaded media, show a meaningful messages", "committedDate": "2020-11-24T15:49:28Z", "type": "commit"}, {"oid": "5719d68c41bf8a72f3a5702cc2a7edfcb0805fc6", "url": "https://github.com/AntennaPod/AntennaPod/commit/5719d68c41bf8a72f3a5702cc2a7edfcb0805fc6", "message": "stylecheck", "committedDate": "2020-11-24T17:19:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTk1MjE2Ng==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4714#discussion_r529952166", "bodyText": "Why can this throw an exception? Wouldn't those cases indicate a developer error and should make the app crash instead?", "author": "ByteHamster", "createdAt": "2020-11-24T22:38:01Z", "path": "app/src/main/java/de/danoeh/antennapod/dialog/EpisodesApplyActionFragment.java", "diffHunk": "@@ -451,4 +457,16 @@ private void close(@PluralsRes int msgId, int numItems) {\n         getActivity().getSupportFragmentManager().popBackStack();\n     }\n \n+    private void closeMore(@PluralsRes int msgId, int countNoMedia, int countHasMedia) {\n+        try {\n+            ((MainActivity) getActivity()).showSnackbarAbovePlayer(\n+                    getResources().getQuantityString(msgId,\n+                            countHasMedia,\n+                            (countHasMedia + countNoMedia), countHasMedia),\n+                    Snackbar.LENGTH_LONG);\n+        } catch (Exception e) {", "originalCommit": "5719d68c41bf8a72f3a5702cc2a7edfcb0805fc6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "625bdcd546d278394ef967ad5f385bf3557e2668", "chunk": "diff --git a/app/src/main/java/de/danoeh/antennapod/dialog/EpisodesApplyActionFragment.java b/app/src/main/java/de/danoeh/antennapod/dialog/EpisodesApplyActionFragment.java\nindex 553f80516..6021a7f31 100644\n--- a/app/src/main/java/de/danoeh/antennapod/dialog/EpisodesApplyActionFragment.java\n+++ b/app/src/main/java/de/danoeh/antennapod/dialog/EpisodesApplyActionFragment.java\n\n@@ -458,15 +458,11 @@ public class EpisodesApplyActionFragment extends Fragment implements Toolbar.OnM\n     }\n \n     private void closeMore(@PluralsRes int msgId, int countNoMedia, int countHasMedia) {\n-        try {\n-            ((MainActivity) getActivity()).showSnackbarAbovePlayer(\n-                    getResources().getQuantityString(msgId,\n-                            countHasMedia,\n-                            (countHasMedia + countNoMedia), countHasMedia),\n-                    Snackbar.LENGTH_LONG);\n-        } catch (Exception e) {\n-            Log.d(TAG, e.toString());\n-        }\n+        ((MainActivity) getActivity()).showSnackbarAbovePlayer(\n+                getResources().getQuantityString(msgId,\n+                        (countHasMedia + countNoMedia),\n+                        (countHasMedia + countNoMedia), countHasMedia),\n+                Snackbar.LENGTH_LONG);\n         getActivity().getSupportFragmentManager().popBackStack();\n     }\n }\n"}}, {"oid": "625bdcd546d278394ef967ad5f385bf3557e2668", "url": "https://github.com/AntennaPod/AntennaPod/commit/625bdcd546d278394ef967ad5f385bf3557e2668", "message": "wording changes", "committedDate": "2020-11-24T23:07:11Z", "type": "commit"}, {"oid": "9d4d6e66a3cdf3b66035d536cfc252eeafec4619", "url": "https://github.com/AntennaPod/AntennaPod/commit/9d4d6e66a3cdf3b66035d536cfc252eeafec4619", "message": "remove unused string", "committedDate": "2020-11-26T18:24:20Z", "type": "commit"}, {"oid": "d792b1dbf0b399e08b8d97cc094d56597b70710b", "url": "https://github.com/AntennaPod/AntennaPod/commit/d792b1dbf0b399e08b8d97cc094d56597b70710b", "message": "clean unused resource", "committedDate": "2020-11-26T18:40:07Z", "type": "commit"}]}