{"pr_number": 3926, "pr_title": "Fixed default sort method not showing up as selected", "pr_createdAt": "2020-03-13T16:26:23Z", "pr_url": "https://github.com/AntennaPod/AntennaPod/pull/3926", "timeline": [{"oid": "7e038b4a3b0e5c0c30891931b35e6abb0f430cff", "url": "https://github.com/AntennaPod/AntennaPod/commit/7e038b4a3b0e5c0c30891931b35e6abb0f430cff", "message": "Fixed an issue where default sort method was not showing up as selected in the sort dialogue.", "committedDate": "2020-03-13T17:27:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwODI3Mw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/3926#discussion_r392508273", "bodyText": "Thanks for looking into this.\nI think it looks a bit strange to have this check inside the for loop. Wouldn't it also work to initialize idxCurrentSort with 0 instead?", "author": "ByteHamster", "createdAt": "2020-03-13T22:09:25Z", "path": "app/src/main/java/de/danoeh/antennapod/dialog/IntraFeedSortDialog.java", "diffHunk": "@@ -31,7 +31,7 @@ public void openDialog() {\n \n         int idxCurrentSort = -1;\n         for  (int i = 0; i < values.length; i++) {\n-            if (currentSortOrder == values[i]) {\n+            if (currentSortOrder == values[i] || currentSortOrder == null) {", "originalCommit": "7e038b4a3b0e5c0c30891931b35e6abb0f430cff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUxMjEyMA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/3926#discussion_r392512120", "bodyText": "I tried to figure out the logic in why someone sets it to -1 but couldnt see a reason. Rather than create an issue later, I went with a null check. Nothing unusual was observed if we just start at 0 and it selects the default sort. Pushing the fix.", "author": "JessieVela", "createdAt": "2020-03-13T22:23:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwODI3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "0b212308b5d9c4e739b7505a89ee5cbda620ded2", "chunk": "diff --git a/app/src/main/java/de/danoeh/antennapod/dialog/IntraFeedSortDialog.java b/app/src/main/java/de/danoeh/antennapod/dialog/IntraFeedSortDialog.java\nindex 6221c2be4..7e0e59776 100644\n--- a/app/src/main/java/de/danoeh/antennapod/dialog/IntraFeedSortDialog.java\n+++ b/app/src/main/java/de/danoeh/antennapod/dialog/IntraFeedSortDialog.java\n\n@@ -29,9 +29,9 @@ public abstract class IntraFeedSortDialog {\n             values[i] = SortOrder.valueOf(valueStrs[i]);\n         }\n \n-        int idxCurrentSort = -1;\n+        int idxCurrentSort = 0;\n         for  (int i = 0; i < values.length; i++) {\n-            if (currentSortOrder == values[i] || currentSortOrder == null) {\n+            if (currentSortOrder == values[i]) {\n                 idxCurrentSort = i;\n                 break;\n             }\n"}}, {"oid": "0b212308b5d9c4e739b7505a89ee5cbda620ded2", "url": "https://github.com/AntennaPod/AntennaPod/commit/0b212308b5d9c4e739b7505a89ee5cbda620ded2", "message": "Fixed default sort method not showing up as selected", "committedDate": "2020-03-13T22:26:53Z", "type": "commit"}]}