{"pr_number": 12054, "pr_title": "Start container with uncapped CPU and start capping 30s after first s\u2026", "pr_createdAt": "2020-02-03T16:34:40Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12054", "timeline": [{"oid": "f3689e3c0254681002106800519b9e0b71cfabd5", "url": "https://github.com/vespa-engine/vespa/commit/f3689e3c0254681002106800519b9e0b71cfabd5", "message": "Start container with uncapped CPU and start capping 30s after first successful health check", "committedDate": "2020-02-03T16:34:15Z", "type": "commit"}, {"oid": "c80937058b7fb2b04e370480dba9c759a16b76ad", "url": "https://github.com/vespa-engine/vespa/commit/c80937058b7fb2b04e370480dba9c759a16b76ad", "message": "Fix time remaining calculation", "committedDate": "2020-02-03T16:44:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI0MDc1OQ==", "url": "https://github.com/vespa-engine/vespa/pull/12054#discussion_r374240759", "bodyText": "If doc", "author": "hakonhall", "createdAt": "2020-02-03T17:37:24Z", "path": "node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java", "diffHunk": "@@ -333,16 +351,25 @@ private void removeContainer(NodeAgentContext context, Container existingContain\n     }\n \n \n-    private void updateContainerIfNeeded(NodeAgentContext context, Container existingContainer) {\n+    /**\u00a0Returns true iff container is correctly sized */", "originalCommit": "c80937058b7fb2b04e370480dba9c759a16b76ad", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a09f4224f7cbf2a6f7578ba85d50e2fa901ceff7", "chunk": "diff --git a/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java b/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java\nindex 488e97eec2..790bbd03e4 100644\n--- a/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java\n+++ b/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java\n\n@@ -351,7 +351,6 @@ public class NodeAgentImpl implements NodeAgent {\n     }\n \n \n-    /**\u00a0Returns true iff container is correctly sized */\n     private Container updateContainerIfNeeded(NodeAgentContext context, Container existingContainer) {\n         ContainerResources wantedContainerResources = getContainerResources(context);\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI0ODAxNA==", "url": "https://github.com/vespa-engine/vespa/pull/12054#discussion_r374248014", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /**\u00a0Returns true iff container is correctly sized */", "author": "freva", "createdAt": "2020-02-03T17:52:16Z", "path": "node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java", "diffHunk": "@@ -333,16 +351,25 @@ private void removeContainer(NodeAgentContext context, Container existingContain\n     }\n \n \n-    private void updateContainerIfNeeded(NodeAgentContext context, Container existingContainer) {\n+    /**\u00a0Returns true iff container is correctly sized */", "originalCommit": "c80937058b7fb2b04e370480dba9c759a16b76ad", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a09f4224f7cbf2a6f7578ba85d50e2fa901ceff7", "chunk": "diff --git a/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java b/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java\nindex 488e97eec2..790bbd03e4 100644\n--- a/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java\n+++ b/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentImpl.java\n\n@@ -351,7 +351,6 @@ public class NodeAgentImpl implements NodeAgent {\n     }\n \n \n-    /**\u00a0Returns true iff container is correctly sized */\n     private Container updateContainerIfNeeded(NodeAgentContext context, Container existingContainer) {\n         ContainerResources wantedContainerResources = getContainerResources(context);\n \n"}}, {"oid": "a09f4224f7cbf2a6f7578ba85d50e2fa901ceff7", "url": "https://github.com/vespa-engine/vespa/commit/a09f4224f7cbf2a6f7578ba85d50e2fa901ceff7", "message": "Remove invalid doc", "committedDate": "2020-02-03T17:52:35Z", "type": "commit"}]}