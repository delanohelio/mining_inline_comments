{"pr_number": 14560, "pr_title": "Bratseth/autoscaling reconfiguration events", "pr_createdAt": "2020-09-25T11:31:30Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14560", "timeline": [{"oid": "8d6a1a768428cc7b4fa04cfef1eb6ce4f18485bc", "url": "https://github.com/vespa-engine/vespa/commit/8d6a1a768428cc7b4fa04cfef1eb6ce4f18485bc", "message": "Propagate app config gen through maintenance deploys", "committedDate": "2020-09-22T12:45:14Z", "type": "commit"}, {"oid": "3936b1f1e34b7f489822221b5cd3d917f1dc54f5", "url": "https://github.com/vespa-engine/vespa/commit/3936b1f1e34b7f489822221b5cd3d917f1dc54f5", "message": "Remove window abstraction", "committedDate": "2020-09-22T20:21:13Z", "type": "commit"}, {"oid": "3d6ae1fc0a71b8a47591d77f2f84590fa1d6db24", "url": "https://github.com/vespa-engine/vespa/commit/3d6ae1fc0a71b8a47591d77f2f84590fa1d6db24", "message": "No functional changes", "committedDate": "2020-09-25T11:22:34Z", "type": "commit"}, {"oid": "bc1db935b7c06e95d478dc2d8fdc78e6ba984d1c", "url": "https://github.com/vespa-engine/vespa/commit/bc1db935b7c06e95d478dc2d8fdc78e6ba984d1c", "message": "Allow non-fresource metrics", "committedDate": "2020-09-25T13:56:29Z", "type": "commit"}, {"oid": "0d3957ed7ad1b807e8509bbe5d65067c133305eb", "url": "https://github.com/vespa-engine/vespa/commit/0d3957ed7ad1b807e8509bbe5d65067c133305eb", "message": "Remove, not used", "committedDate": "2020-09-25T13:57:03Z", "type": "commit"}, {"oid": "c079d6ac430c58e5b12bc1c5f84f254b461bc43b", "url": "https://github.com/vespa-engine/vespa/commit/c079d6ac430c58e5b12bc1c5f84f254b461bc43b", "message": "Filter stale measurements", "committedDate": "2020-09-25T14:30:44Z", "type": "commit"}, {"oid": "a1302af6beb67a241521bbd1fffab225e6e5d895", "url": "https://github.com/vespa-engine/vespa/commit/a1302af6beb67a241521bbd1fffab225e6e5d895", "message": "Test filtering of stale measurements", "committedDate": "2020-09-28T14:30:06Z", "type": "commit"}, {"oid": "5cc5d898b69c8f9f4e6a31583bd69e45bfd6f04e", "url": "https://github.com/vespa-engine/vespa/commit/5cc5d898b69c8f9f4e6a31583bd69e45bfd6f04e", "message": "Add tester", "committedDate": "2020-09-28T15:14:23Z", "type": "commit"}, {"oid": "af1d10a394b55cc0d31575bf979cecbbc177c568", "url": "https://github.com/vespa-engine/vespa/commit/af1d10a394b55cc0d31575bf979cecbbc177c568", "message": "Extract metric query logic", "committedDate": "2020-09-28T15:30:34Z", "type": "commit"}, {"oid": "b12c17ea5e8a738570bc897e0fcd1e7f19688688", "url": "https://github.com/vespa-engine/vespa/commit/b12c17ea5e8a738570bc897e0fcd1e7f19688688", "message": "Merge branch 'master' into bratseth/autoscaling-reconfiguration-events", "committedDate": "2020-09-28T15:38:19Z", "type": "commit"}, {"oid": "2fab2aed44cb2e9fec24ae51673823aa6483d263", "url": "https://github.com/vespa-engine/vespa/commit/2fab2aed44cb2e9fec24ae51673823aa6483d263", "message": "Track method name change", "committedDate": "2020-09-28T15:41:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI0MTc3Nw==", "url": "https://github.com/vespa-engine/vespa/pull/14560#discussion_r495241777", "bodyText": "java.util.function.Supplier maybe?", "author": "freva", "createdAt": "2020-09-25T21:24:34Z", "path": "node-repository/src/main/java/com/yahoo/vespa/hosted/provision/maintenance/MaintenanceDeployment.java", "diffHunk": "@@ -15,6 +15,7 @@\n import com.yahoo.vespa.hosted.provision.NodeRepository;\n import com.yahoo.vespa.hosted.provision.node.Agent;\n import com.yahoo.yolean.Exceptions;\n+import org.glassfish.jersey.internal.util.Producer;", "originalCommit": "c079d6ac430c58e5b12bc1c5f84f254b461bc43b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIxNDYyMQ==", "url": "https://github.com/vespa-engine/vespa/pull/14560#discussion_r496214621", "bodyText": "Thanks, fixed", "author": "bratseth", "createdAt": "2020-09-28T20:31:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI0MTc3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "16f7e8910a17f437f1a581610fe8f468bad5a892", "chunk": "diff --git a/node-repository/src/main/java/com/yahoo/vespa/hosted/provision/maintenance/MaintenanceDeployment.java b/node-repository/src/main/java/com/yahoo/vespa/hosted/provision/maintenance/MaintenanceDeployment.java\nindex 0d46fc4a0e..75fd16697b 100644\n--- a/node-repository/src/main/java/com/yahoo/vespa/hosted/provision/maintenance/MaintenanceDeployment.java\n+++ b/node-repository/src/main/java/com/yahoo/vespa/hosted/provision/maintenance/MaintenanceDeployment.java\n\n@@ -9,13 +9,13 @@ import com.yahoo.config.provision.TransientException;\n import com.yahoo.jdisc.Metric;\n \n import java.util.Objects;\n+import java.util.function.Supplier;\n import java.util.logging.Level;\n import com.yahoo.transaction.Mutex;\n import com.yahoo.vespa.hosted.provision.Node;\n import com.yahoo.vespa.hosted.provision.NodeRepository;\n import com.yahoo.vespa.hosted.provision.node.Agent;\n import com.yahoo.yolean.Exceptions;\n-import org.glassfish.jersey.internal.util.Producer;\n \n import java.io.Closeable;\n import java.time.Duration;\n"}}, {"oid": "16f7e8910a17f437f1a581610fe8f468bad5a892", "url": "https://github.com/vespa-engine/vespa/commit/16f7e8910a17f437f1a581610fe8f468bad5a892", "message": "Supplier not producer, unfortunately", "committedDate": "2020-09-28T20:31:27Z", "type": "commit"}]}