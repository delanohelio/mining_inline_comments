{"pr_number": 14387, "pr_title": "Create remote session only when needed", "pr_createdAt": "2020-09-13T10:09:36Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14387", "timeline": [{"oid": "5cfaa3373d7c592231662c8c1c303cc95f398e42", "url": "https://github.com/vespa-engine/vespa/commit/5cfaa3373d7c592231662c8c1c303cc95f398e42", "message": "Create remote session only when needed", "committedDate": "2020-09-13T10:09:06Z", "type": "commit"}, {"oid": "05923fc730a971ed2e8e1553c61717cbc90cbcb3", "url": "https://github.com/vespa-engine/vespa/commit/05923fc730a971ed2e8e1553c61717cbc90cbcb3", "message": "Delete code that is already done in createRemoteSession()", "committedDate": "2020-09-14T05:02:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY4OTAxNA==", "url": "https://github.com/vespa-engine/vespa/pull/14387#discussion_r487689014", "bodyText": "Soon time to just replace this class with a ConcurrentHashMap? :)", "author": "jonmv", "createdAt": "2020-09-14T06:55:45Z", "path": "configserver/src/main/java/com/yahoo/vespa/config/server/session/SessionCache.java", "diffHunk": "@@ -30,5 +26,7 @@ public synchronized SESSIONTYPE getSession(long id) {\n     public synchronized List<SESSIONTYPE> getSessions() {\n         return new ArrayList<>(sessions.values());\n     }\n+\n+    public synchronized boolean sessionExists(long id) { return sessions.containsKey(id); }\n     \n }", "originalCommit": "05923fc730a971ed2e8e1553c61717cbc90cbcb3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}