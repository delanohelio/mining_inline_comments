{"pr_number": 11633, "pr_title": "re-add disk write test feature flag", "pr_createdAt": "2020-01-02T14:57:56Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/11633", "timeline": [{"oid": "6953fc7d41d090cf56537223f6e86b1f3c2c58d3", "url": "https://github.com/vespa-engine/vespa/commit/6953fc7d41d090cf56537223f6e86b1f3c2c58d3", "message": "re-add disk write test feature flag", "committedDate": "2020-01-02T14:57:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjUxMTAxNQ==", "url": "https://github.com/vespa-engine/vespa/pull/11633#discussion_r362511015", "bodyText": "The failing is TODO? (Since its currently only setting an unspecified report)", "author": "freva", "createdAt": "2020-01-02T15:22:46Z", "path": "flags/src/main/java/com/yahoo/vespa/flags/Flags.java", "diffHunk": "@@ -171,6 +171,12 @@\n              \"Takes effect on next host admin tick\",\n             NODE_TYPE, HOSTNAME, APPLICATION_ID);\n \n+    public static final UnboundBooleanFlag ENABLE_DISK_WRITE_TEST = defineFeatureFlag(\n+            \"enable-disk-write-test\", false,\n+            \"Regularly issue a small write to disk and fail the host if it is not successful\",", "originalCommit": "6953fc7d41d090cf56537223f6e86b1f3c2c58d3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "395090024ab1c1b965118ff48e2859531427fd0b", "chunk": "diff --git a/flags/src/main/java/com/yahoo/vespa/flags/Flags.java b/flags/src/main/java/com/yahoo/vespa/flags/Flags.java\nindex f6d20a103d..14086c2bf7 100644\n--- a/flags/src/main/java/com/yahoo/vespa/flags/Flags.java\n+++ b/flags/src/main/java/com/yahoo/vespa/flags/Flags.java\n\n@@ -171,11 +171,17 @@ public class Flags {\n              \"Takes effect on next host admin tick\",\n             NODE_TYPE, HOSTNAME, APPLICATION_ID);\n \n+\n     public static final UnboundBooleanFlag ENABLE_DISK_WRITE_TEST = defineFeatureFlag(\n             \"enable-disk-write-test\", false,\n             \"Regularly issue a small write to disk and fail the host if it is not successful\",\n             \"Takes effect on next node agent tick (but does not clear existing failure reports)\",\n             HOSTNAME);\n+  \n+    public static final UnboundBooleanFlag DISABLE_CM3 = defineFeatureFlag(\n+            \"disable-cm3\", false,\n+            \"Whether to disable CM3.\", \"Takes effect on next host admin tick\",\n+            HOSTNAME);\n \n     /** WARNING: public for testing: All flags should be defined in {@link Flags}. */\n     public static UnboundBooleanFlag defineFeatureFlag(String flagId, boolean defaultValue, String description,\n"}}, {"oid": "395090024ab1c1b965118ff48e2859531427fd0b", "url": "https://github.com/vespa-engine/vespa/commit/395090024ab1c1b965118ff48e2859531427fd0b", "message": "Merge branch 'master' into andreer/disk-write-test", "committedDate": "2020-01-03T08:07:21Z", "type": "commit"}]}