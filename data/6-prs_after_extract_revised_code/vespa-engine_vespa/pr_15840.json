{"pr_number": 15840, "pr_title": "Hide irrelevant test jobs from deployment API payload", "pr_createdAt": "2020-12-17T11:47:58Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/15840", "timeline": [{"oid": "ef4cfc33fdcb9c2f6d292de1a47b8e358016a424", "url": "https://github.com/vespa-engine/vespa/commit/ef4cfc33fdcb9c2f6d292de1a47b8e358016a424", "message": "Hide irrelevant test jobs from deployment API payload", "committedDate": "2020-12-17T11:47:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAyOTE4MA==", "url": "https://github.com/vespa-engine/vespa/pull/15840#discussion_r545029180", "bodyText": "Only these test jobs will be triggered automatically. Undeclared jobs may still be triggered by users, though, but that likely won't happen if they aren't shown here :)", "author": "jonmv", "createdAt": "2020-12-17T11:48:35Z", "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/deployment/DeploymentStatus.java", "diffHunk": "@@ -194,8 +194,14 @@ public boolean hasFailures() {\n         return instances.build();\n     }\n \n-    /** The step status for all steps in the deployment spec of this, in the same order as in the deployment spec. */\n-    public List<StepStatus> allSteps() { return allSteps; }\n+    /** The step status for all relevant steps in the deployment spec of this, in the same order as in the deployment spec. */\n+    public List<StepStatus> allSteps() {\n+        List<JobId> firstTestJobs = List.of(firstDeclaredOrElseImplicitTest(systemTest),", "originalCommit": "ef4cfc33fdcb9c2f6d292de1a47b8e358016a424", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAzNjA2Mw==", "url": "https://github.com/vespa-engine/vespa/pull/15840#discussion_r545036063", "bodyText": "When will an implicit job be present here?", "author": "smorgrav", "createdAt": "2020-12-17T12:00:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAyOTE4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAzNjcyMA==", "url": "https://github.com/vespa-engine/vespa/pull/15840#discussion_r545036720", "bodyText": "When there aren't any explicit ones.", "author": "jonmv", "createdAt": "2020-12-17T12:01:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAyOTE4MA=="}], "type": "inlineReview", "revised_code": null}]}