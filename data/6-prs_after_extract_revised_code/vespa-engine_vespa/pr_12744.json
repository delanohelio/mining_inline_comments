{"pr_number": 12744, "pr_title": "UnixPath support for atomicWrite, getFilename, getParent, setLastModifiedTime", "pr_createdAt": "2020-03-27T18:51:47Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12744", "timeline": [{"oid": "890c7594b2c2da2dd8eb18939696fdf8fc0ea274", "url": "https://github.com/vespa-engine/vespa/commit/890c7594b2c2da2dd8eb18939696fdf8fc0ea274", "message": "UnixPath support for atomicWrite, getFilename, getParent, setLastModifiedTime", "committedDate": "2020-03-27T18:51:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ5NTE3MQ==", "url": "https://github.com/vespa-engine/vespa/pull/12744#discussion_r399495171", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    uncheck(() -> Files.setLastModifiedTime(path, FileTime.from(Instant.now())));\n          \n          \n            \n                    uncheck(() -> Files.setLastModifiedTime(path, FileTime.from(instant)));", "author": "freva", "createdAt": "2020-03-27T19:31:33Z", "path": "node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/task/util/file/UnixPath.java", "diffHunk": "@@ -135,6 +159,10 @@ public Instant getLastModifiedTime() {\n         return getAttributes().lastModifiedTime();\n     }\n \n+    public void setLastModifiedTime(Instant instant) {\n+        uncheck(() -> Files.setLastModifiedTime(path, FileTime.from(Instant.now())));", "originalCommit": "890c7594b2c2da2dd8eb18939696fdf8fc0ea274", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a2790a880fd001e62d068318da30635f52fcb838", "chunk": "diff --git a/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/task/util/file/UnixPath.java b/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/task/util/file/UnixPath.java\nindex f6eb7190db..45bf06b64e 100644\n--- a/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/task/util/file/UnixPath.java\n+++ b/node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/task/util/file/UnixPath.java\n\n@@ -160,7 +160,7 @@ public class UnixPath {\n     }\n \n     public void setLastModifiedTime(Instant instant) {\n-        uncheck(() -> Files.setLastModifiedTime(path, FileTime.from(Instant.now())));\n+        uncheck(() -> Files.setLastModifiedTime(path, FileTime.from(instant)));\n     }\n \n     public FileAttributes getAttributes() {\n"}}, {"oid": "a2790a880fd001e62d068318da30635f52fcb838", "url": "https://github.com/vespa-engine/vespa/commit/a2790a880fd001e62d068318da30635f52fcb838", "message": "Update node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/task/util/file/UnixPath.java\n\nCo-Authored-By: Valerij Fredriksen <freva@users.noreply.github.com>", "committedDate": "2020-03-27T20:46:43Z", "type": "commit"}, {"oid": "4bf939c0e21ee5619fbda072b28a0f8a7199015f", "url": "https://github.com/vespa-engine/vespa/commit/4bf939c0e21ee5619fbda072b28a0f8a7199015f", "message": "Make void methods return this", "committedDate": "2020-03-27T22:18:40Z", "type": "commit"}]}