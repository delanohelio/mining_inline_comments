{"pr_number": 12717, "pr_title": "Bratseth/autoscaling ranges 1 .", "pr_createdAt": "2020-03-25T21:58:09Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12717", "timeline": [{"oid": "f2e14e9ac5e5ea2b05f7aa34bf21dc73b6d8e0eb", "url": "https://github.com/vespa-engine/vespa/commit/f2e14e9ac5e5ea2b05f7aa34bf21dc73b6d8e0eb", "message": "Move group argument inside Capacity", "committedDate": "2020-03-25T13:49:50Z", "type": "commit"}, {"oid": "34d5d8e4539462eb69045fc2def38d2529ba4288", "url": "https://github.com/vespa-engine/vespa/commit/34d5d8e4539462eb69045fc2def38d2529ba4288", "message": "Remove clustertype from ClusterResources", "committedDate": "2020-03-25T19:31:06Z", "type": "commit"}, {"oid": "1df9ad9d901df540fcb5c0fe463b3e3df5228482", "url": "https://github.com/vespa-engine/vespa/commit/1df9ad9d901df540fcb5c0fe463b3e3df5228482", "message": "Move ClusterResources to config-provision", "committedDate": "2020-03-25T19:33:29Z", "type": "commit"}, {"oid": "06325e02c3754946945f62d3cb69ff93fd93517b", "url": "https://github.com/vespa-engine/vespa/commit/06325e02c3754946945f62d3cb69ff93fd93517b", "message": "Collect resource fields into ClusterResources", "committedDate": "2020-03-25T20:59:55Z", "type": "commit"}, {"oid": "8364c1da3b52e00bab4ba8b51f5ce323cbacd658", "url": "https://github.com/vespa-engine/vespa/commit/8364c1da3b52e00bab4ba8b51f5ce323cbacd658", "message": "Support passing both min and max resources", "committedDate": "2020-03-25T21:54:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3NDE3OA==", "url": "https://github.com/vespa-engine/vespa/pull/12717#discussion_r398374178", "bodyText": "Verify that min <= max?", "author": "freva", "createdAt": "2020-03-26T07:54:10Z", "path": "config-provisioning/src/main/java/com/yahoo/config/provision/Capacity.java", "diffHunk": "@@ -11,41 +11,56 @@\n  */\n public final class Capacity {\n \n-    private final int nodeCount;\n+    /** Resources should stay between these values, inclusive */\n+    private final ClusterResources min, max;\n \n     private final boolean required;\n \n     private final boolean canFail;\n \n-    private final Optional<NodeResources> nodeResources;\n-\n     private final NodeType type;\n \n-    private Capacity(int nodeCount, Optional<NodeResources> nodeResources, boolean required, boolean canFail, NodeType type) {\n-        this.nodeCount = nodeCount;\n+    private Capacity(ClusterResources min, ClusterResources max, boolean required, boolean canFail, NodeType type) {\n+        this.min = min;", "originalCommit": "8364c1da3b52e00bab4ba8b51f5ce323cbacd658", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQ1NTA0OQ==", "url": "https://github.com/vespa-engine/vespa/pull/12717#discussion_r398455049", "bodyText": "Ok, done.", "author": "bratseth", "createdAt": "2020-03-26T10:11:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3NDE3OA=="}], "type": "inlineReview", "revised_code": null}]}