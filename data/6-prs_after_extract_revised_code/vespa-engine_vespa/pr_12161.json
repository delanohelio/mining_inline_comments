{"pr_number": 12161, "pr_title": "Hmusum/cleanup 8", "pr_createdAt": "2020-02-12T13:28:29Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12161", "timeline": [{"oid": "9dbfbde6b3dd1f3f1e10509b6193617a45e38119", "url": "https://github.com/vespa-engine/vespa/commit/9dbfbde6b3dd1f3f1e10509b6193617a45e38119", "message": "No need for a static method and constructor that are equal", "committedDate": "2020-02-12T11:05:54Z", "type": "commit"}, {"oid": "2110582befb0b8401c8d887d44947d5bdbd45630", "url": "https://github.com/vespa-engine/vespa/commit/2110582befb0b8401c8d887d44947d5bdbd45630", "message": "Remove constructor only used in tests", "committedDate": "2020-02-12T12:32:53Z", "type": "commit"}, {"oid": "6d83273fd48a41eb345502383aa2b97a04e961c0", "url": "https://github.com/vespa-engine/vespa/commit/6d83273fd48a41eb345502383aa2b97a04e961c0", "message": "Remove constructor only used in test", "committedDate": "2020-02-12T12:34:59Z", "type": "commit"}, {"oid": "6161311f7dbdb3eecd3b9ffdcb5f34bfa72fbcee", "url": "https://github.com/vespa-engine/vespa/commit/6161311f7dbdb3eecd3b9ffdcb5f34bfa72fbcee", "message": "Fix javadoc", "committedDate": "2020-02-12T13:44:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODI2MTEwNg==", "url": "https://github.com/vespa-engine/vespa/pull/12161#discussion_r378261106", "bodyText": "How can this build ? ccs -> configSourceSet ?", "author": "baldersheim", "createdAt": "2020-02-12T13:50:19Z", "path": "config-proxy/src/main/java/com/yahoo/vespa/config/proxy/RpcConfigSourceClient.java", "diffHunk": "@@ -69,7 +69,7 @@\n     private Map<ConfigSourceSet, JRTConfigRequester> createRequesterPool(ConfigSourceSet ccs, TimingValues timingValues) {\n         Map<ConfigSourceSet, JRTConfigRequester> ret = new HashMap<>();\n         if (ccs.getSources().isEmpty()) return ret; // unit test, just skip creating any requester\n-        ret.put(ccs, JRTConfigRequester.get(new JRTConnectionPool(ccs), timingValues));\n+        ret.put(ccs, new JRTConfigRequester(new JRTConnectionPool(configSourceSet), timingValues));", "originalCommit": "6161311f7dbdb3eecd3b9ffdcb5f34bfa72fbcee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODI2MzE0OA==", "url": "https://github.com/vespa-engine/vespa/pull/12161#discussion_r378263148", "bodyText": "Thanks, fixed (class member was used instead of method argument, so it's the same, but should have used ccs)", "author": "hmusum", "createdAt": "2020-02-12T13:53:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODI2MTEwNg=="}], "type": "inlineReview", "revised_code": {"commit": "e36e2d38d972d44121ad2644b3109b2973ac94c1", "chunk": "diff --git a/config-proxy/src/main/java/com/yahoo/vespa/config/proxy/RpcConfigSourceClient.java b/config-proxy/src/main/java/com/yahoo/vespa/config/proxy/RpcConfigSourceClient.java\nindex 10b475b5b7..ee84308808 100644\n--- a/config-proxy/src/main/java/com/yahoo/vespa/config/proxy/RpcConfigSourceClient.java\n+++ b/config-proxy/src/main/java/com/yahoo/vespa/config/proxy/RpcConfigSourceClient.java\n\n@@ -69,7 +69,7 @@ class RpcConfigSourceClient implements ConfigSourceClient {\n     private Map<ConfigSourceSet, JRTConfigRequester> createRequesterPool(ConfigSourceSet ccs, TimingValues timingValues) {\n         Map<ConfigSourceSet, JRTConfigRequester> ret = new HashMap<>();\n         if (ccs.getSources().isEmpty()) return ret; // unit test, just skip creating any requester\n-        ret.put(ccs, new JRTConfigRequester(new JRTConnectionPool(configSourceSet), timingValues));\n+        ret.put(ccs, new JRTConfigRequester(new JRTConnectionPool(ccs), timingValues));\n         return ret;\n     }\n \n"}}, {"oid": "e36e2d38d972d44121ad2644b3109b2973ac94c1", "url": "https://github.com/vespa-engine/vespa/commit/e36e2d38d972d44121ad2644b3109b2973ac94c1", "message": "Use correct variable", "committedDate": "2020-02-12T13:53:39Z", "type": "commit"}]}