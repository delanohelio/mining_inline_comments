{"pr_number": 867, "pr_title": "JENA-1997: Remove old Turtle/N3 writer", "pr_createdAt": "2020-11-17T10:06:36Z", "pr_url": "https://github.com/apache/jena/pull/867", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTA0OTA5NQ==", "url": "https://github.com/apache/jena/pull/867#discussion_r525049095", "bodyText": "Can be removed too? And commented code below as well?", "author": "kinow", "createdAt": "2020-11-17T10:32:59Z", "path": "jena-core/src/main/java/org/apache/jena/rdf/model/impl/RDFWriterFImpl.java", "diffHunk": "@@ -69,63 +72,15 @@ public RDFWriter getWriter(String lang) {\n         }\n     }\n \n-    /**\n-     * Use RIOT to add custom RDF parsers. See\n-     * {@code RDFWriterRegistry.registerLang}\n-     * \n-     * @deprecated Register with RIOT.\n-     */\n-    @Override\n-    @Deprecated\n-    public String setWriterClassName(String lang, String className) {\n-        return setBaseWriterClassName(lang, className);\n-    }\n-\n-    /**\n-     * Use RIOT to add custom RDF parsers. See\n-     * {@code RDFWriterRegistry.registerLang}\n-     * \n-     * @deprecated Register with RIOT.\n-     */\n-    @Deprecated\n-    public static String setBaseWriterClassName(String lang, String className) {\n-        if ( rewiredAlternative != null )\n-            Log.error(RDFWriterFImpl.class, \"Rewired RDFWriterFImpl2 - configuration changes have no effect on writing\");\n-        String oldClassName = currentEntry(lang);\n-        try {\n-            @SuppressWarnings(\"unchecked\")\n-            Class<? extends RDFWriter> newClass = (Class<? extends RDFWriter>)Class.forName(className, false,\n-                                                                                            Thread.currentThread().getContextClassLoader());\n-            custom.put(lang, newClass);\n-            return oldClassName;\n-        }\n-        catch (ClassNotFoundException e) {\n-            throw new ConfigException(\"Reader not found on classpath\", e);\n-        }\n-        catch (Exception e) {\n-            throw new JenaException(e);\n-        }\n-    }\n-\n-    @Override\n-    public void resetRDFWriterF() {\n-        reset();\n-    }\n-\n-    @Override\n-    public String removeWriter(String lang) throws IllegalArgumentException {\n-        return remove(lang);\n-    }\n-\n-    static { // static initializer - set default readers\n+    static { \n         reset();\n     }\n \n     private static void reset() {\n         Class<? extends RDFWriter> rdfxmlWriter = org.apache.jena.rdfxml.xmloutput.impl.Basic.class;\n         Class<? extends RDFWriter> rdfxmlAbbrevWriter = org.apache.jena.rdfxml.xmloutput.impl.Abbreviated.class;\n         Class<? extends RDFWriter> ntWriter = org.apache.jena.rdf.model.impl.NTripleWriter.class;\n-        Class<? extends RDFWriter> ttlWriter = org.apache.jena.n3.N3TurtleJenaWriter.class;\n+//        Class<? extends RDFWriter> ttlWriter = org.apache.jena.n3.N3TurtleJenaWriter.class;", "originalCommit": "78efe0bf7b1f9aa0cb31cd26daa86aa795d67a42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMwODQ1NA==", "url": "https://github.com/apache/jena/pull/867#discussion_r525308454", "bodyText": "OK - my original attempt was merely comment out the wiring in of the writer leaving the code ... but turned into removal (we have git!) when I found all the \"deprecated\" that didn't actually do anything anymore.\nThanks.", "author": "afs", "createdAt": "2020-11-17T16:38:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTA0OTA5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "d65ae5ee8e2cfddd8f007d43fac614568effdf7e", "chunk": "diff --git a/jena-core/src/main/java/org/apache/jena/rdf/model/impl/RDFWriterFImpl.java b/jena-core/src/main/java/org/apache/jena/rdf/model/impl/RDFWriterFImpl.java\nindex ec847b66f5..6f075e8e4a 100644\n--- a/jena-core/src/main/java/org/apache/jena/rdf/model/impl/RDFWriterFImpl.java\n+++ b/jena-core/src/main/java/org/apache/jena/rdf/model/impl/RDFWriterFImpl.java\n\n@@ -80,7 +80,6 @@ public class RDFWriterFImpl extends Object implements RDFWriterF {\n         Class<? extends RDFWriter> rdfxmlWriter = org.apache.jena.rdfxml.xmloutput.impl.Basic.class;\n         Class<? extends RDFWriter> rdfxmlAbbrevWriter = org.apache.jena.rdfxml.xmloutput.impl.Abbreviated.class;\n         Class<? extends RDFWriter> ntWriter = org.apache.jena.rdf.model.impl.NTripleWriter.class;\n-//        Class<? extends RDFWriter> ttlWriter = org.apache.jena.n3.N3TurtleJenaWriter.class;\n \n         custom.put(\"RDF/XML\", rdfxmlWriter);\n         custom.put(\"RDF/XML-ABBREV\", rdfxmlAbbrevWriter);\n"}}, {"oid": "d65ae5ee8e2cfddd8f007d43fac614568effdf7e", "url": "https://github.com/apache/jena/commit/d65ae5ee8e2cfddd8f007d43fac614568effdf7e", "message": "JENA-1997: Remove old Turtle/N3 writer\n\nRemaining Turtle parser supports jena-core tests.\nRename private TTL parser as org.apache.jena.ttl\nRemove deprecated RDFFactoryF methods - includes changes to ModelCom.", "committedDate": "2020-11-17T16:38:34Z", "type": "commit"}, {"oid": "d65ae5ee8e2cfddd8f007d43fac614568effdf7e", "url": "https://github.com/apache/jena/commit/d65ae5ee8e2cfddd8f007d43fac614568effdf7e", "message": "JENA-1997: Remove old Turtle/N3 writer\n\nRemaining Turtle parser supports jena-core tests.\nRename private TTL parser as org.apache.jena.ttl\nRemove deprecated RDFFactoryF methods - includes changes to ModelCom.", "committedDate": "2020-11-17T16:38:34Z", "type": "forcePushed"}]}