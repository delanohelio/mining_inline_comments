{"pr_number": 5510, "pr_title": "GEODE-8492: Redis 'clients' statistic goes negative", "pr_createdAt": "2020-09-14T19:55:39Z", "pr_url": "https://github.com/apache/geode/pull/5510", "timeline": [{"oid": "d040698d0a06c1fcbc106f94b3f4b77582629e75", "url": "https://github.com/apache/geode/commit/d040698d0a06c1fcbc106f94b3f4b77582629e75", "message": "GEODE-8492: Redis 'clients' statistic goes negative", "committedDate": "2020-09-14T19:53:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE4ODQ3NQ==", "url": "https://github.com/apache/geode/pull/5510#discussion_r488188475", "bodyText": "add visible for testing", "author": "dschneider-pivotal", "createdAt": "2020-09-14T20:04:07Z", "path": "geode-redis/src/main/java/org/apache/geode/redis/internal/RedisStats.java", "diffHunk": "@@ -177,6 +177,10 @@ public void removeClient() {\n     stats.incLong(clientId, -1);\n   }\n \n+  public long getClients() {", "originalCommit": "d040698d0a06c1fcbc106f94b3f4b77582629e75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5MTI3MQ==", "url": "https://github.com/apache/geode/pull/5510#discussion_r488191271", "bodyText": "Just added it!", "author": "sabbey37", "createdAt": "2020-09-14T20:09:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE4ODQ3NQ=="}], "type": "inlineReview", "revised_code": {"commit": "7f5ae6c960778cf15135ba8e6abf1f7810db1956", "chunk": "diff --git a/geode-redis/src/main/java/org/apache/geode/redis/internal/RedisStats.java b/geode-redis/src/main/java/org/apache/geode/redis/internal/RedisStats.java\nindex 6e9e6802e5..cd4580172c 100644\n--- a/geode-redis/src/main/java/org/apache/geode/redis/internal/RedisStats.java\n+++ b/geode-redis/src/main/java/org/apache/geode/redis/internal/RedisStats.java\n\n@@ -177,6 +178,7 @@ public class RedisStats {\n     stats.incLong(clientId, -1);\n   }\n \n+  @VisibleForTesting\n   public long getClients() {\n     return stats.getLong(clientId);\n   }\n"}}, {"oid": "7f5ae6c960778cf15135ba8e6abf1f7810db1956", "url": "https://github.com/apache/geode/commit/7f5ae6c960778cf15135ba8e6abf1f7810db1956", "message": "Marks getClients method as VisibleForTesting", "committedDate": "2020-09-14T20:06:45Z", "type": "commit"}, {"oid": "489b111ca5c47a551284e24d52723825869dadc1", "url": "https://github.com/apache/geode/commit/489b111ca5c47a551284e24d52723825869dadc1", "message": "Creates separate RedisStatsIntegrationTest file", "committedDate": "2020-09-15T21:35:48Z", "type": "commit"}, {"oid": "489b111ca5c47a551284e24d52723825869dadc1", "url": "https://github.com/apache/geode/commit/489b111ca5c47a551284e24d52723825869dadc1", "message": "Creates separate RedisStatsIntegrationTest file", "committedDate": "2020-09-15T21:35:48Z", "type": "forcePushed"}, {"oid": "95962af792b9fc1b4b5a88e9f0796ebf0327bf7e", "url": "https://github.com/apache/geode/commit/95962af792b9fc1b4b5a88e9f0796ebf0327bf7e", "message": "spA", "committedDate": "2020-09-15T21:38:05Z", "type": "commit"}, {"oid": "f974b1012ebbbb8070b2169c7b451abb192f427d", "url": "https://github.com/apache/geode/commit/f974b1012ebbbb8070b2169c7b451abb192f427d", "message": "Adds license to new test file", "committedDate": "2020-09-16T13:22:51Z", "type": "commit"}]}