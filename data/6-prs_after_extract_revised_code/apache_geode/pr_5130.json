{"pr_number": 5130, "pr_title": "GEODE-8145: Add Redis configuration properties to gemfire_properties.html", "pr_createdAt": "2020-05-19T13:43:48Z", "pr_url": "https://github.com/apache/geode/pull/5130", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3ODkzOQ==", "url": "https://github.com/apache/geode/pull/5130#discussion_r427478939", "bodyText": "I feel like how the default will be determined is too specific. I doubt we explicitly read the /etc/hosts file. It is probably something more like \"the default will be requested from the operating system\". It might be worth looking at our implementation and seeing what it actually does when the value is \"\".", "author": "dschneider-pivotal", "createdAt": "2020-05-19T17:34:30Z", "path": "geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java", "diffHunk": "@@ -1929,7 +1929,8 @@\n    * The static String definition of the <i>\"redis-bind-address\"</i> property <a\n    * name=\"redis-bind-address\"/a>\n    * </p>\n-   * <U>Description</U>: Specifies the bind address used by Redis API for Geode\n+   * <U>Description</U>: Specifies the bind address used by Redis API for Geode. If \"\" specified,\n+   * the default is determined from the /etc/hosts file.", "originalCommit": "4f3a19aaac5d08a3f7011f54ae234e95d90d39d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ4MTQyMg==", "url": "https://github.com/apache/geode/pull/5130#discussion_r427481422", "bodyText": "We use LocalHostUtil.getLocalHost() I like your wording.", "author": "sabbey37", "createdAt": "2020-05-19T17:38:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3ODkzOQ=="}], "type": "inlineReview", "revised_code": {"commit": "27e90456764378a1a17c921708c9e2a760814140", "chunk": "diff --git a/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java b/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java\nindex 8a2e1e336f..a733d69a7f 100644\n--- a/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java\n+++ b/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java\n\n@@ -1916,21 +1916,21 @@ public interface ConfigurationProperties {\n   /**\n    * The static String definition of the <i>\"redis-port\"</i> property <a name=\"redis-port\"/a>\n    * </p>\n-   * <U>Description</U>: Specifies the port used by Redis API for Geode which enables Redis\n-   * clients to connect and store data in GemFire distributed system. A value of \"-1\" will select a\n-   * random port.\n+   * <U>Description</U>: Specifies the port on which the server listens for Redis API for Geode\n+   * connections. A value of 0 selects a random port.</td>\n    * </p>\n-   * <U>Default</U>: \"0\"\n+   * <U>Default</U>: 6379\n    * </p>\n-   * <U>Allowed values</U>: -1..65535\n+   * <U>Allowed values</U>: 0..65535\n    */\n   String REDIS_PORT = \"redis-port\";\n   /**\n    * The static String definition of the <i>\"redis-bind-address\"</i> property <a\n    * name=\"redis-bind-address\"/a>\n    * </p>\n-   * <U>Description</U>: Specifies the bind address used by Redis API for Geode. If \"\" specified,\n-   * the default is determined from the /etc/hosts file.\n+   * <U>Description</U>: Specifies the address on which the Redis API for Geode is listening. If set\n+   * to the empty string or this property is not specified, localhost is requested from the\n+   * operating system.\n    * </p>\n    * <U>Default</U>: \"\"\n    */\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY3NzA0Nw==", "url": "https://github.com/apache/geode/pull/5130#discussion_r427677047", "bodyText": "For consistency with most network services, why not treat empty/unspecified bind address to bind to all available addresses?", "author": "pivotal-jbarrett", "createdAt": "2020-05-20T00:35:46Z", "path": "geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java", "diffHunk": "@@ -1929,7 +1929,8 @@\n    * The static String definition of the <i>\"redis-bind-address\"</i> property <a\n    * name=\"redis-bind-address\"/a>\n    * </p>\n-   * <U>Description</U>: Specifies the bind address used by Redis API for Geode\n+   * <U>Description</U>: Specifies the bind address used by Redis API for Geode. If \"\" or no bind", "originalCommit": "ce1968b8e21997035af5cfb301ba47cca04e3ffc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE3OTI4MA==", "url": "https://github.com/apache/geode/pull/5130#discussion_r428179280", "bodyText": "I made a Jira for it: https://issues.apache.org/jira/browse/GEODE-8158", "author": "sabbey37", "createdAt": "2020-05-20T17:18:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY3NzA0Nw=="}], "type": "inlineReview", "revised_code": {"commit": "27e90456764378a1a17c921708c9e2a760814140", "chunk": "diff --git a/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java b/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java\nindex b288fcd8dc..a733d69a7f 100644\n--- a/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java\n+++ b/geode-core/src/main/java/org/apache/geode/distributed/ConfigurationProperties.java\n\n@@ -1916,21 +1916,21 @@ public interface ConfigurationProperties {\n   /**\n    * The static String definition of the <i>\"redis-port\"</i> property <a name=\"redis-port\"/a>\n    * </p>\n-   * <U>Description</U>: Specifies the port used by Redis API for Geode which enables Redis\n-   * clients to connect and store data in GemFire distributed system. A value of \"-1\" will select a\n-   * random port.\n+   * <U>Description</U>: Specifies the port on which the server listens for Redis API for Geode\n+   * connections. A value of 0 selects a random port.</td>\n    * </p>\n-   * <U>Default</U>: \"0\"\n+   * <U>Default</U>: 6379\n    * </p>\n-   * <U>Allowed values</U>: -1..65535\n+   * <U>Allowed values</U>: 0..65535\n    */\n   String REDIS_PORT = \"redis-port\";\n   /**\n    * The static String definition of the <i>\"redis-bind-address\"</i> property <a\n    * name=\"redis-bind-address\"/a>\n    * </p>\n-   * <U>Description</U>: Specifies the bind address used by Redis API for Geode. If \"\" or no bind\n-   * address specified, the default will be requested from the operating system.\n+   * <U>Description</U>: Specifies the address on which the Redis API for Geode is listening. If set\n+   * to the empty string or this property is not specified, localhost is requested from the\n+   * operating system.\n    * </p>\n    * <U>Default</U>: \"\"\n    */\n"}}, {"oid": "27e90456764378a1a17c921708c9e2a760814140", "url": "https://github.com/apache/geode/commit/27e90456764378a1a17c921708c9e2a760814140", "message": "GEODE-8145: Add Redis configuration properties to\ngemfire_properties.html", "committedDate": "2020-05-21T14:12:42Z", "type": "commit"}, {"oid": "27e90456764378a1a17c921708c9e2a760814140", "url": "https://github.com/apache/geode/commit/27e90456764378a1a17c921708c9e2a760814140", "message": "GEODE-8145: Add Redis configuration properties to\ngemfire_properties.html", "committedDate": "2020-05-21T14:12:42Z", "type": "forcePushed"}, {"oid": "75a3ab930246cda6dceafd071566e5811af9731f", "url": "https://github.com/apache/geode/commit/75a3ab930246cda6dceafd071566e5811af9731f", "message": "ci-trigger", "committedDate": "2020-05-21T15:38:22Z", "type": "commit"}, {"oid": "3243ec5af88f15a4110c086b78a1e61c762d81a3", "url": "https://github.com/apache/geode/commit/3243ec5af88f15a4110c086b78a1e61c762d81a3", "message": "Updates description of redisBindAddress", "committedDate": "2020-05-21T17:07:44Z", "type": "commit"}]}