{"pr_number": 4809, "pr_title": "GEODE-7710: Add getRedundancyZone to DistributionManager", "pr_createdAt": "2020-03-13T20:40:31Z", "pr_url": "https://github.com/apache/geode/pull/4809", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwNjc3MA==", "url": "https://github.com/apache/geode/pull/4809#discussion_r392506770", "bodyText": "TODO: get rid of dm field and just use the system field directly instead of fetching from dm within shutDownMember()", "author": "kirklund", "createdAt": "2020-03-13T22:04:23Z", "path": "geode-core/src/main/java/org/apache/geode/management/internal/beans/MemberMBeanBridge.java", "diffHunk": "@@ -193,12 +192,8 @@\n \n     dm = system.getDistributionManager();", "originalCommit": "687a233fcea2e54ef4ae69ecca105395a3677776", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUyMDkwMA==", "url": "https://github.com/apache/geode/pull/4809#discussion_r392520900", "bodyText": "Done", "author": "kirklund", "createdAt": "2020-03-13T23:00:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwNjc3MA=="}], "type": "inlineReview", "revised_code": {"commit": "56f6485d9b0aed9d8af0228c9d3eb0bac13c3e20", "chunk": "diff --git a/geode-core/src/main/java/org/apache/geode/management/internal/beans/MemberMBeanBridge.java b/geode-core/src/main/java/org/apache/geode/management/internal/beans/MemberMBeanBridge.java\nindex 7c36663521..76606d3015 100644\n--- a/geode-core/src/main/java/org/apache/geode/management/internal/beans/MemberMBeanBridge.java\n+++ b/geode-core/src/main/java/org/apache/geode/management/internal/beans/MemberMBeanBridge.java\n\n@@ -190,8 +188,6 @@ public class MemberMBeanBridge {\n     system = (InternalDistributedSystem) cache.getDistributedSystem();\n     statisticsManager = system.getStatisticsManager();\n \n-    dm = system.getDistributionManager();\n-\n     redundancyZone = system.getDistributionManager()\n         .getRedundancyZone(cache.getInternalDistributedSystem().getDistributedMember());\n \n"}}, {"oid": "56f6485d9b0aed9d8af0228c9d3eb0bac13c3e20", "url": "https://github.com/apache/geode/commit/56f6485d9b0aed9d8af0228c9d3eb0bac13c3e20", "message": "GEODE-7710: Add getRedundancyZone to DistributionManager\n\nAvoids having to check instanceof and cast to\nClusterDistributionManager in MemberMBeanBridge.", "committedDate": "2020-03-13T23:00:17Z", "type": "commit"}, {"oid": "56f6485d9b0aed9d8af0228c9d3eb0bac13c3e20", "url": "https://github.com/apache/geode/commit/56f6485d9b0aed9d8af0228c9d3eb0bac13c3e20", "message": "GEODE-7710: Add getRedundancyZone to DistributionManager\n\nAvoids having to check instanceof and cast to\nClusterDistributionManager in MemberMBeanBridge.", "committedDate": "2020-03-13T23:00:17Z", "type": "forcePushed"}]}