{"pr_number": 4697, "pr_title": "GEODE-7791: fix MergeLogsDistributedTest", "pr_createdAt": "2020-02-13T19:24:48Z", "pr_url": "https://github.com/apache/geode/pull/4697", "timeline": [{"oid": "4303e911ee11ca418827864f7beed63722c6f299", "url": "https://github.com/apache/geode/commit/4303e911ee11ca418827864f7beed63722c6f299", "message": "GEODE-7791: fix MergeLogsDistributedTest", "committedDate": "2020-02-13T19:24:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4ODM1Ng==", "url": "https://github.com/apache/geode/pull/4697#discussion_r379088356", "bodyText": "Consider (in both of these tests) listing the expected file names here, instead of asserting only the number of files. In addition to make sure it's the correct set of files, using the file names would make clear (without the need for a comment) why those are the expected files.", "author": "demery-pivotal", "createdAt": "2020-02-13T20:01:13Z", "path": "geode-gfsh/src/distributedTest/java/org/apache/geode/management/internal/cli/util/MergeLogsDistributedTest.java", "diffHunk": "@@ -81,8 +81,13 @@ public void testExportInProcess() throws Exception {\n     List<File> actualFiles = MergeLogs.findLogFilesToMerge(lsRule.getWorkingDirRoot());\n     // remove pulse.log if present\n     actualFiles =\n-        actualFiles.stream().filter(x -> !x.getName().endsWith(\"pulse.log\")).collect(toList());\n-    assertThat(actualFiles).hasSize(4);\n+        actualFiles.stream()\n+            .filter(x -> !x.getName().endsWith(\"pulse.log\"))\n+            .filter(x -> !x.getName().contains(\"views\"))\n+            .collect(toList());\n+    // besides locator views log or pulse log, there should only be locator-0.log, server-1.log and\n+    // server-2.log\n+    assertThat(actualFiles).hasSize(3);", "originalCommit": "4303e911ee11ca418827864f7beed63722c6f299", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}