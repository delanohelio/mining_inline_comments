{"pr_number": 5282, "pr_title": "GEODE-8288: Match Redis's glob-style pattern", "pr_createdAt": "2020-06-22T20:25:33Z", "pr_url": "https://github.com/apache/geode/pull/5282", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDczMDE3OQ==", "url": "https://github.com/apache/geode/pull/5282#discussion_r444730179", "bodyText": "Instead of debug, it seems like this should be a warning. Also the log message should mention that it was a pattern given to the KEYS command. Maybe the last sentence could be changed to \"KEYS will return an empty list.\"\nAlso it seems like you should have some quotes around the curlies for the e.getMessage() and a period after the closing quote.", "author": "dschneider-pivotal", "createdAt": "2020-06-24T08:28:07Z", "path": "geode-redis/src/main/java/org/apache/geode/redis/internal/executor/key/KeysExecutor.java", "diffHunk": "@@ -45,7 +47,10 @@ public RedisResponse executeCommand(Command command,\n     try {\n       pattern = GlobPattern.compile(glob);\n     } catch (PatternSyntaxException e) {\n-      return RedisResponse.error(ERROR_ILLEGAL_GLOB);\n+      logger.debug(", "originalCommit": "53d7794f4a0eedddfa420670e346caef6033e8e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkyNTczMw==", "url": "https://github.com/apache/geode/pull/5282#discussion_r444925733", "bodyText": "updated it!", "author": "sabbey37", "createdAt": "2020-06-24T14:15:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDczMDE3OQ=="}], "type": "inlineReview", "revised_code": {"commit": "d2bcffd184fd2ac52718c6a9e23949cfb135532c", "chunk": "diff --git a/geode-redis/src/main/java/org/apache/geode/redis/internal/executor/key/KeysExecutor.java b/geode-redis/src/main/java/org/apache/geode/redis/internal/executor/key/KeysExecutor.java\nindex c97000c274..9556055f16 100755\n--- a/geode-redis/src/main/java/org/apache/geode/redis/internal/executor/key/KeysExecutor.java\n+++ b/geode-redis/src/main/java/org/apache/geode/redis/internal/executor/key/KeysExecutor.java\n\n@@ -47,8 +47,8 @@ public class KeysExecutor extends AbstractExecutor {\n     try {\n       pattern = GlobPattern.compile(glob);\n     } catch (PatternSyntaxException e) {\n-      logger.debug(\n-          \"Could not compile the pattern: '{}' due to the following exception: {} Returning an empty list.\",\n+      logger.warn(\n+          \"Could not compile the pattern: '{}' due to the following exception: '{}'. KEYS will return an empty list.\",\n           glob, e.getMessage());\n       return RedisResponse.emptyArray();\n     }\n"}}, {"oid": "d2bcffd184fd2ac52718c6a9e23949cfb135532c", "url": "https://github.com/apache/geode/commit/d2bcffd184fd2ac52718c6a9e23949cfb135532c", "message": "GEODE-8288: Match Native Redis's glob-style pattern", "committedDate": "2020-06-24T17:31:50Z", "type": "commit"}, {"oid": "d2bcffd184fd2ac52718c6a9e23949cfb135532c", "url": "https://github.com/apache/geode/commit/d2bcffd184fd2ac52718c6a9e23949cfb135532c", "message": "GEODE-8288: Match Native Redis's glob-style pattern", "committedDate": "2020-06-24T17:31:50Z", "type": "forcePushed"}]}