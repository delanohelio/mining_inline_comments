{"pr_number": 4792, "pr_title": "GEODE-7869: Cleanup and enforce compiler warnings.", "pr_createdAt": "2020-03-11T04:05:26Z", "pr_url": "https://github.com/apache/geode/pull/4792", "timeline": [{"oid": "f1b5d5ff2cfd78d1b1240c2df173230ec52a6491", "url": "https://github.com/apache/geode/commit/f1b5d5ff2cfd78d1b1240c2df173230ec52a6491", "message": "GEODE-7869: New template to make warnings errors.", "committedDate": "2020-03-11T03:53:58Z", "type": "commit"}, {"oid": "f5bf7285df9d383fe3f7e3f51ee633f137235dcf", "url": "https://github.com/apache/geode/commit/f5bf7285df9d383fe3f7e3f51ee633f137235dcf", "message": "GEODE-7869: Cleanup warnings in geode-log4j", "committedDate": "2020-03-11T03:54:05Z", "type": "commit"}, {"oid": "9023a6af90c204f80cf8437bafd6d2f4dd523862", "url": "https://github.com/apache/geode/commit/9023a6af90c204f80cf8437bafd6d2f4dd523862", "message": "GEODE-7869: Cleanup warnings in geode-logging", "committedDate": "2020-03-11T03:54:08Z", "type": "commit"}, {"oid": "61a5098509409c610705499589d1c3ceb095c224", "url": "https://github.com/apache/geode/commit/61a5098509409c610705499589d1c3ceb095c224", "message": "GEODE-7869: Cleanup warnings in geode-gfsh", "committedDate": "2020-03-11T03:54:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI5OTYxNg==", "url": "https://github.com/apache/geode/pull/4792#discussion_r392299616", "bodyText": "Isn't there a new warning for an empty catch block?", "author": "rhoughton-pivot", "createdAt": "2020-03-13T15:28:55Z", "path": "geode-dunit/src/main/java/org/apache/geode/management/internal/cli/HeadlessGfsh.java", "diffHunk": "@@ -260,16 +259,12 @@ public boolean hasError() {\n     public void promptLoop() {\n       lock.lock();\n       try {\n-        while (true) {\n-          try {\n-            endOfShell.await();\n-          } catch (InterruptedException e) {\n-            // e.printStackTrace();\n-          }\n-          this.exitShellRequest = ExitShellRequest.NORMAL_EXIT;\n-          setShellStatus(Status.SHUTTING_DOWN);\n-          break;\n+        try {\n+          endOfShell.await();\n+        } catch (InterruptedException ignore) {", "originalCommit": "61a5098509409c610705499589d1c3ceb095c224", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUzMzM4MA==", "url": "https://github.com/apache/geode/pull/4792#discussion_r392533380", "bodyText": "Not in the compiler but in IJ and other tools. IJ is ok if you name it ignore.", "author": "pivotal-jbarrett", "createdAt": "2020-03-14T00:04:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI5OTYxNg=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjMwMDg2MQ==", "url": "https://github.com/apache/geode/pull/4792#discussion_r392300861", "bodyText": "Do we have a JIRA to replace this test with one using the non-deprecated code path? I understand that work is beyond the scope of 7869", "author": "rhoughton-pivot", "createdAt": "2020-03-13T15:30:54Z", "path": "geode-gfsh/src/distributedTest/java/org/apache/geode/management/internal/cli/NetstatDUnitTest.java", "diffHunk": "@@ -165,6 +166,7 @@ public void testOutputWithLsofToFile() throws Exception {\n \n     File outputFile = new File(temp.newFolder(), \"command.log.txt\");\n \n+    @SuppressWarnings(\"deprecation\")", "originalCommit": "61a5098509409c610705499589d1c3ceb095c224", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUzOTE0OQ==", "url": "https://github.com/apache/geode/pull/4792#discussion_r392539149", "bodyText": "No. I think I am going to propose that any code changes after this point that produce a deprecation failure should be addressed correctly. Also many of these deprecated items will be stripped from the code in the next major, forcing this issue. The goal of this ticket is to not make this problem worse over time. A committer deprecating code will be forced to address it before it will build. If they use suppression it will be obvious in the PR and should be challenged.", "author": "pivotal-jbarrett", "createdAt": "2020-03-14T00:38:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjMwMDg2MQ=="}], "type": "inlineReview", "revised_code": null}]}