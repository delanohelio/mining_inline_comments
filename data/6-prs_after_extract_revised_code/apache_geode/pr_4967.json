{"pr_number": 4967, "pr_title": "GEODE-7989: Improve backup exceptions logging", "pr_createdAt": "2020-04-16T07:17:43Z", "pr_url": "https://github.com/apache/geode/pull/4967", "timeline": [{"oid": "f7bfe0d2706e89975f205b4d1587355ff6d4da86", "url": "https://github.com/apache/geode/commit/f7bfe0d2706e89975f205b4d1587355ff6d4da86", "message": "GEODE-7989: Improve backup execeptions logging\n\nLog as warning exception that causes backup execution to fail", "committedDate": "2020-04-16T06:01:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE2MjY2Ng==", "url": "https://github.com/apache/geode/pull/4967#discussion_r411162666", "bodyText": "I think that it will be good to log both exceptions.\nPlease remove this check.", "author": "mkevo", "createdAt": "2020-04-20T07:42:58Z", "path": "geode-core/src/main/java/org/apache/geode/internal/cache/backup/BackupService.java", "diffHunk": "@@ -74,6 +74,9 @@ public BackupService(InternalCache cache) {\n     try {\n       result = taskFuture.get();\n     } catch (InterruptedException | ExecutionException e) {\n+      if (e instanceof ExecutionException) {", "originalCommit": "f7bfe0d2706e89975f205b4d1587355ff6d4da86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE3MDk2OA==", "url": "https://github.com/apache/geode/pull/4967#discussion_r411170968", "bodyText": "Done. Thanks!", "author": "jvarenina", "createdAt": "2020-04-20T07:57:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE2MjY2Ng=="}], "type": "inlineReview", "revised_code": {"commit": "23d9b75b03ab67bc16bef32cc949a03d86bb7fee", "chunk": "diff --git a/geode-core/src/main/java/org/apache/geode/internal/cache/backup/BackupService.java b/geode-core/src/main/java/org/apache/geode/internal/cache/backup/BackupService.java\nindex 528f2f2564..4e9cc14af2 100644\n--- a/geode-core/src/main/java/org/apache/geode/internal/cache/backup/BackupService.java\n+++ b/geode-core/src/main/java/org/apache/geode/internal/cache/backup/BackupService.java\n\n@@ -74,9 +74,7 @@ public class BackupService {\n     try {\n       result = taskFuture.get();\n     } catch (InterruptedException | ExecutionException e) {\n-      if (e instanceof ExecutionException) {\n-        logger.warn(\"Backup failed with exception: \", e);\n-      }\n+      logger.warn(\"Backup failed with exception: \", e);\n       result = new HashSet<>();\n     } finally {\n       cleanup();\n"}}, {"oid": "23d9b75b03ab67bc16bef32cc949a03d86bb7fee", "url": "https://github.com/apache/geode/commit/23d9b75b03ab67bc16bef32cc949a03d86bb7fee", "message": "InterruptedException logged as warn", "committedDate": "2020-04-20T07:47:32Z", "type": "commit"}, {"oid": "b1e0561cc27288274a32549b4315536698fd64b8", "url": "https://github.com/apache/geode/commit/b1e0561cc27288274a32549b4315536698fd64b8", "message": "empty commit to re-launch CI", "committedDate": "2020-04-20T10:15:50Z", "type": "commit"}]}