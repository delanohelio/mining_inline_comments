{"pr_number": 4630, "pr_title": "GEODE-7710: Fix JMXMBeanReconnectDUnitTest flakiness", "pr_createdAt": "2020-01-24T17:42:00Z", "pr_url": "https://github.com/apache/geode/pull/4630", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc2MDIwMA==", "url": "https://github.com/apache/geode/pull/4630#discussion_r370760200", "bodyText": "Just curious, why did switch from the short form to the expanded form for the lambda", "author": "mhansonp", "createdAt": "2020-01-24T17:47:22Z", "path": "geode-core/src/distributedTest/java/org/apache/geode/management/JMXMBeanReconnectDUnitTest.java", "diffHunk": "@@ -135,10 +139,12 @@ public void setUp() throws Exception {\n     locator2JmxPort = port[3];\n     locators = \"localhost[\" + locator1Port + \"];localhost[\" + locator2Port;\n \n-    locator1VM.invoke(\n-        () -> startLocator(locator1Name, locator1Dir, locator1Port, locator1JmxPort, locators));\n-    locator2VM.invoke(\n-        () -> startLocator(locator2Name, locator2Dir, locator2Port, locator2JmxPort, locators));\n+    locator1VM.invoke(() -> {\n+      startLocator(locator1Name, locator1Dir, locator1Port, locator1JmxPort, locators);\n+    });\n+    locator2VM.invoke(() -> {\n+      startLocator(locator2Name, locator2Dir, locator2Port, locator2JmxPort, locators);", "originalCommit": "13a2608de04feb1abdae07967251f03b447d5a52", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3MTU0NA==", "url": "https://github.com/apache/geode/pull/4630#discussion_r370771544", "bodyText": "Just to avoid line-break in the startLocator line. It was an impulse and I don't feel strongly about it.", "author": "kirklund", "createdAt": "2020-01-24T18:14:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc2MDIwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3MjkyMA==", "url": "https://github.com/apache/geode/pull/4630#discussion_r370772920", "bodyText": "Cool, just trying to figure out if I could do something better.", "author": "mhansonp", "createdAt": "2020-01-24T18:18:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc2MDIwMA=="}], "type": "inlineReview", "revised_code": {"commit": "f9a43f71ce75e643fe1780ba0a5e45a4f06cf273", "chunk": "diff --git a/geode-core/src/distributedTest/java/org/apache/geode/management/JMXMBeanReconnectDUnitTest.java b/geode-core/src/distributedTest/java/org/apache/geode/management/JMXMBeanReconnectDUnitTest.java\nindex fe5d2cd584..464060295f 100644\n--- a/geode-core/src/distributedTest/java/org/apache/geode/management/JMXMBeanReconnectDUnitTest.java\n+++ b/geode-core/src/distributedTest/java/org/apache/geode/management/JMXMBeanReconnectDUnitTest.java\n\n@@ -137,7 +137,7 @@ public class JMXMBeanReconnectDUnitTest implements Serializable {\n     locator2Port = port[1];\n     locator1JmxPort = port[2];\n     locator2JmxPort = port[3];\n-    locators = \"localhost[\" + locator1Port + \"];localhost[\" + locator2Port;\n+    locators = \"localhost[\" + locator1Port + \"],localhost[\" + locator2Port + \"]\";\n \n     locator1VM.invoke(() -> {\n       startLocator(locator1Name, locator1Dir, locator1Port, locator1JmxPort, locators);\n"}}, {"oid": "f9a43f71ce75e643fe1780ba0a5e45a4f06cf273", "url": "https://github.com/apache/geode/commit/f9a43f71ce75e643fe1780ba0a5e45a4f06cf273", "message": "GEODE-7710: Fix JMXMBeanReconnectDUnitTest flakiness\n\n* Fix locators string delimiter\n* Disable locator-to-locator MXBean validate that intermittently\n  demonstrate GEODE-7739", "committedDate": "2020-01-24T18:06:55Z", "type": "commit"}, {"oid": "f9a43f71ce75e643fe1780ba0a5e45a4f06cf273", "url": "https://github.com/apache/geode/commit/f9a43f71ce75e643fe1780ba0a5e45a4f06cf273", "message": "GEODE-7710: Fix JMXMBeanReconnectDUnitTest flakiness\n\n* Fix locators string delimiter\n* Disable locator-to-locator MXBean validate that intermittently\n  demonstrate GEODE-7739", "committedDate": "2020-01-24T18:06:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3MjY0OQ==", "url": "https://github.com/apache/geode/pull/4630#discussion_r370772649", "bodyText": "This line changed. I don't think this fixed GEODE-7739, but I'm going to retest. Even if it avoids GEODE-7739 in this test, that bug still needs to be fixed either way.", "author": "kirklund", "createdAt": "2020-01-24T18:17:31Z", "path": "geode-core/src/distributedTest/java/org/apache/geode/management/JMXMBeanReconnectDUnitTest.java", "diffHunk": "@@ -133,12 +137,14 @@ public void setUp() throws Exception {\n     locator2Port = port[1];\n     locator1JmxPort = port[2];\n     locator2JmxPort = port[3];\n-    locators = \"localhost[\" + locator1Port + \"];localhost[\" + locator2Port;\n+    locators = \"localhost[\" + locator1Port + \"],localhost[\" + locator2Port + \"]\";", "originalCommit": "f9a43f71ce75e643fe1780ba0a5e45a4f06cf273", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}