{"pr_number": 4683, "pr_title": "GEODE-7760: fixing LocatorUDPSecurityDUnitTest.testCrashLocatorMultip\u2026", "pr_createdAt": "2020-02-10T17:26:39Z", "pr_url": "https://github.com/apache/geode/pull/4683", "timeline": [{"oid": "6d82edf5901df9d6e57517cb04162e17ac268a78", "url": "https://github.com/apache/geode/commit/6d82edf5901df9d6e57517cb04162e17ac268a78", "message": "GEODE-7760: fixing LocatorUDPSecurityDUnitTest.testCrashLocatorMultipleTimes\n\nThis new test exposed a flaw in auto-reconnect where the quorum-checker\nbuffers messages from other members but the new Membership messenger is\nunable to decrypt them when it starts up due to not having the old\nencryption keys.\n\nThe encrypt/decrypt objects from the old Membership are now kept and\nprovided to the new Messenger during auto-reconnect.", "committedDate": "2020-02-10T17:23:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIxMDUzNQ==", "url": "https://github.com/apache/geode/pull/4683#discussion_r377210535", "bodyText": "formatting looks odd here...", "author": "echobravopapa", "createdAt": "2020-02-10T17:34:11Z", "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/messenger/JGroupsMessenger.java", "diffHunk": "@@ -1248,7 +1249,8 @@ public void emergencyClose() {\n       }\n     }\n     GMSQuorumChecker<ID> qc =\n-        new GMSQuorumChecker<>(view, services.getConfig().getLossThreshold(), this.myChannel);\n+        new GMSQuorumChecker<>(view, services.getConfig().getLossThreshold(), this.myChannel,", "originalCommit": "6d82edf5901df9d6e57517cb04162e17ac268a78", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIxNzgzNw==", "url": "https://github.com/apache/geode/pull/4683#discussion_r377217837", "bodyText": "isn't Spotless great? :-\\", "author": "bschuchardt", "createdAt": "2020-02-10T17:47:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIxMDUzNQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "e1841afe3d27d83d03cbb818252f461cdc84bf27", "url": "https://github.com/apache/geode/commit/e1841afe3d27d83d03cbb818252f461cdc84bf27", "message": "now that we have an encryptor we can process buffered messages", "committedDate": "2020-02-10T22:24:17Z", "type": "commit"}, {"oid": "880dabeca7ba0f1bd7c711922627b27ad3ca5033", "url": "https://github.com/apache/geode/commit/880dabeca7ba0f1bd7c711922627b27ad3ca5033", "message": "fixing ID comparison for auto-reconnect.\n\nthe local identifier UUID and view-ID change during auto-reconnect,\ncausing the GMSEncrypt to not be able to locate the local encrypt/decrypt\nobject.", "committedDate": "2020-02-11T17:27:21Z", "type": "commit"}, {"oid": "aa57da41519d220aa2ef610b6006082a5c3c44b6", "url": "https://github.com/apache/geode/commit/aa57da41519d220aa2ef610b6006082a5c3c44b6", "message": "added logging detail to track down CI failure", "committedDate": "2020-02-11T21:11:34Z", "type": "commit"}, {"oid": "0f36c8df1eb8f7c5b3fb1e43ba92389c02417882", "url": "https://github.com/apache/geode/commit/0f36c8df1eb8f7c5b3fb1e43ba92389c02417882", "message": "more relaxation on id comparison in gmsencrypt", "committedDate": "2020-02-11T23:27:44Z", "type": "commit"}]}