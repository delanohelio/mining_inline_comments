{"pr_number": 3636, "pr_title": "Apply new line (`%nr%`) in item lore correctly", "pr_createdAt": "2020-12-13T10:06:08Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/3636", "timeline": [{"oid": "142656e2f823053840ce34a21b1f528d90aca72e", "url": "https://github.com/SkriptLang/Skript/commit/142656e2f823053840ce34a21b1f528d90aca72e", "message": "Apply new line in item lore", "committedDate": "2020-12-13T09:56:00Z", "type": "commit"}, {"oid": "4ecfdfe924b329bac8d45d8afee11adc9833bf4e", "url": "https://github.com/SkriptLang/Skript/commit/4ecfdfe924b329bac8d45d8afee11adc9833bf4e", "message": "Add test case for item with lore", "committedDate": "2020-12-13T09:59:40Z", "type": "commit"}, {"oid": "2f70f51f852ea47b6018f014ef5771aa641e2ffd", "url": "https://github.com/SkriptLang/Skript/commit/2f70f51f852ea47b6018f014ef5771aa641e2ffd", "message": "Remove needless clone()", "committedDate": "2020-12-13T10:10:13Z", "type": "commit"}, {"oid": "6fd1d531e6c6d28112e0f4df328a57668cbea69b", "url": "https://github.com/SkriptLang/Skript/commit/6fd1d531e6c6d28112e0f4df328a57668cbea69b", "message": "fix test case of item with lore", "committedDate": "2020-12-13T10:22:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc4Njk5OA==", "url": "https://github.com/SkriptLang/Skript/pull/3636#discussion_r542786998", "bodyText": "stream looks nice, but you should be able to replace the Arrays#stream call with this.lore.stream(e)", "author": "Pikachu920", "createdAt": "2020-12-14T21:06:57Z", "path": "src/main/java/ch/njol/skript/expressions/ExprItemWithLore.java", "diffHunk": "@@ -62,10 +64,13 @@ public boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean kleenean\n \n \t@Override\n \tprotected ItemType[] get(Event e, ItemType[] source) {\n-\t\tString[] lore = this.lore.getArray(e);\n+\t\tList<String> lore = Arrays.stream(this.lore.getArray(e))", "originalCommit": "6fd1d531e6c6d28112e0f4df328a57668cbea69b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwOTM5OA==", "url": "https://github.com/SkriptLang/Skript/pull/3636#discussion_r543009398", "bodyText": "Thanks. I didn't know about such a nice method!", "author": "Monchi", "createdAt": "2020-12-15T03:02:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc4Njk5OA=="}], "type": "inlineReview", "revised_code": {"commit": "4277d686b84bb344d76461940754d0e0125da659", "chunk": "diff --git a/src/main/java/ch/njol/skript/expressions/ExprItemWithLore.java b/src/main/java/ch/njol/skript/expressions/ExprItemWithLore.java\nindex 3429d847..c0b4dbe9 100755\n--- a/src/main/java/ch/njol/skript/expressions/ExprItemWithLore.java\n+++ b/src/main/java/ch/njol/skript/expressions/ExprItemWithLore.java\n\n@@ -64,7 +64,7 @@ public class ExprItemWithLore extends PropertyExpression<ItemType, ItemType> {\n \n \t@Override\n \tprotected ItemType[] get(Event e, ItemType[] source) {\n-\t\tList<String> lore = Arrays.stream(this.lore.getArray(e))\n+\t\tList<String> lore = this.lore.stream(e)\n \t\t\t.flatMap(l -> Arrays.stream(l.split(\"\\n\")))\n \t\t\t.collect(Collectors.toList());\n \n"}}, {"oid": "4277d686b84bb344d76461940754d0e0125da659", "url": "https://github.com/SkriptLang/Skript/commit/4277d686b84bb344d76461940754d0e0125da659", "message": "Use Expression#stream instead of Arrays.stream", "committedDate": "2020-12-15T03:01:10Z", "type": "commit"}, {"oid": "5bbacb693e0b6f4c584c4a2c545d547ed0d151e0", "url": "https://github.com/SkriptLang/Skript/commit/5bbacb693e0b6f4c584c4a2c545d547ed0d151e0", "message": "Merge branch 'dev-2.5' into feature/new-line-in-lore", "committedDate": "2020-12-15T21:15:03Z", "type": "commit"}, {"oid": "1b91e3b3dce66d08840f4c4440eb021fe8c7d86c", "url": "https://github.com/SkriptLang/Skript/commit/1b91e3b3dce66d08840f4c4440eb021fe8c7d86c", "message": "Merge branch 'dev-2.5' into feature/new-line-in-lore", "committedDate": "2021-01-11T20:28:52Z", "type": "commit"}]}