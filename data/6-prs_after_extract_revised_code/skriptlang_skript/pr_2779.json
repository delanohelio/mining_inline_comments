{"pr_number": 2779, "pr_title": "Fiery Explosion Effect and Condition", "pr_createdAt": "2020-01-19T02:37:04Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/2779", "timeline": [{"oid": "5da61b63235c716df53864164c08be834b532799", "url": "https://github.com/SkriptLang/Skript/commit/5da61b63235c716df53864164c08be834b532799", "message": "Fiery Explosion Stuff", "committedDate": "2020-01-19T02:32:01Z", "type": "commit"}, {"oid": "ce15e677cda96399454201fb9bec447047cd8922", "url": "https://github.com/SkriptLang/Skript/commit/ce15e677cda96399454201fb9bec447047cd8922", "message": "Fix Condition", "committedDate": "2020-01-19T16:37:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA5MTg3NQ==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r374091875", "bodyText": "Syntaxes usable in only some events need annotations to indicate the events they works in.", "author": "bensku", "createdAt": "2020-02-03T13:09:30Z", "path": "src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.conditions;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Condition;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Explodes With Fire\")\n+@Description(\"Checks if an entity will create fire if it explodes.\")\n+@Examples({\"on explosion prime:\", \n+\t\t\t\"\\tif the event-explosion is fiery:\",\n+\t\t\t\"\\t\\tbroadcast \\\"A fiery explosive has been ignited!\\\"\"})", "originalCommit": "ce15e677cda96399454201fb9bec447047cd8922", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDk3OTUzMw==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r374979533", "bodyText": "Do you think this could confuse some users, as the syntax is usable outside of the event? I mean, reading the patterns would probably clear up confusion, but maybe it would be better to specify that the \"event-explosion\" pattern is only usable in the explosion prime event?", "author": "APickledWalrus", "createdAt": "2020-02-04T23:19:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA5MTg3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAyNDYzNA==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r386024634", "bodyText": "Hmm, true. Maybe it is better to leave it out.", "author": "bensku", "createdAt": "2020-02-29T12:21:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA5MTg3NQ=="}], "type": "inlineReview", "revised_code": {"commit": "ccb94656c504361ac30071ea23cd3fd13bce49f6", "chunk": "diff --git a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java b/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\nindex ab9ba29e..2557cb80 100644\n--- a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n+++ b/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n\n@@ -61,11 +61,9 @@ public class CondExplodesWithFire extends Condition {\n \t@Override\n \tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n \t\tisEvent = matchedPattern == 2;\n-\t\tif (isEvent) {\n-\t\t\tif (!ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n-\t\t\t\tSkript.error(\"Checking if the event explosion is fiery is only possible in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n-\t\t\t\treturn false;\n-\t\t\t}\n+\t\tif (isEvent && !ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n+\t\t\tSkript.error(\"Checking if the event explosion is fiery is only possible in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n+\t\t\treturn false;\n \t\t}\n \t\tif (matchedPattern < 2)\n \t\t\tentities = (Expression<Entity>) exprs[0];\n"}}, {"oid": "662ba584d176c23259e09fda62a85eb6e1bc3b6d", "url": "https://github.com/SkriptLang/Skript/commit/662ba584d176c23259e09fda62a85eb6e1bc3b6d", "message": "Merge branch 'master' into APickledWalrus-fiery\u200bexplosive", "committedDate": "2020-02-29T12:22:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA5OTE4NQ==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r388099185", "bodyText": "Couldn't these 2 conditions be joined together?\nex:\nif (isEvent && !ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class))", "author": "ShaneBeee", "createdAt": "2020-03-05T06:27:39Z", "path": "src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.conditions;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Condition;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Explodes With Fire\")\n+@Description(\"Checks if an entity will create fire if it explodes.\")\n+@Examples({\"on explosion prime:\", \n+\t\t\t\"\\tif the event-explosion is fiery:\",\n+\t\t\t\"\\t\\tbroadcast \\\"A fiery explosive has been ignited!\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class CondExplodesWithFire extends Condition {\n+\n+\tstatic {\n+\t\tSkript.registerCondition(CondExplodesWithFire.class,\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] explode[s] with fire\",\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] cause[s] (a fiery|an incendiary explosion)\",\n+\t\t\t\t\"the [event(-| )]explosion (is|1\u00a6(is not|isn't)) fiery\");\n+\t}\n+\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entities;\n+\n+\tprivate boolean isEvent;\n+\n+\t@SuppressWarnings({\"unchecked\", \"null\"})\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tisEvent = matchedPattern == 2;\n+\t\tif (isEvent) {\n+\t\t\tif (!ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {", "originalCommit": "662ba584d176c23259e09fda62a85eb6e1bc3b6d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ccb94656c504361ac30071ea23cd3fd13bce49f6", "chunk": "diff --git a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java b/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\nindex ab9ba29e..2557cb80 100644\n--- a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n+++ b/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n\n@@ -61,11 +61,9 @@ public class CondExplodesWithFire extends Condition {\n \t@Override\n \tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n \t\tisEvent = matchedPattern == 2;\n-\t\tif (isEvent) {\n-\t\t\tif (!ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n-\t\t\t\tSkript.error(\"Checking if the event explosion is fiery is only possible in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n-\t\t\t\treturn false;\n-\t\t\t}\n+\t\tif (isEvent && !ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n+\t\t\tSkript.error(\"Checking if the event explosion is fiery is only possible in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n+\t\t\treturn false;\n \t\t}\n \t\tif (matchedPattern < 2)\n \t\t\tentities = (Expression<Entity>) exprs[0];\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA5OTI1MA==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r388099250", "bodyText": "Same goes for this one.", "author": "ShaneBeee", "createdAt": "2020-03-05T06:27:54Z", "path": "src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.effects;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Effect;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+@Name(\"Explode With Fire\")\n+@Description(\"Sets if an entity will explode with fire. Use \\\"make the explosion fiery\\\" in explosion prime events.\")\n+@Examples({\"on explosion prime:\", \n+\t\"\\tmake the explosion fiery\"})\n+@Since(\"INSERT VERSION\")\n+public class EffExplodeWithFire extends Effect {\n+\n+\tstatic {\n+\t\tSkript.registerEffect(EffExplodeWithFire.class,\n+\t\t\t\t\"make %entities% [(1\u00a6not)] explode with fire\",\n+\t\t\t\t\"make %entities% [(1\u00a6not)] cause (a fiery|an incendiary explosion)\",\n+\t\t\t\t\"make the [event(-| )]explosion [(1\u00a6not)] fiery\");\n+\t}\n+\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entities;\n+\n+\tprivate boolean causeFire;\n+\n+\tprivate boolean isEvent;\n+\n+\t@SuppressWarnings({\"unchecked\", \"null\"})\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {\n+\t\tisEvent = matchedPattern == 2;\n+\t\tif (isEvent) {\n+\t\t\tif (!ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {", "originalCommit": "662ba584d176c23259e09fda62a85eb6e1bc3b6d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ccb94656c504361ac30071ea23cd3fd13bce49f6", "chunk": "diff --git a/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java b/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\nindex 77f65164..364207de 100644\n--- a/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\n+++ b/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\n\n@@ -62,11 +62,9 @@ public class EffExplodeWithFire extends Effect {\n \t@Override\n \tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {\n \t\tisEvent = matchedPattern == 2;\n-\t\tif (isEvent) {\n-\t\t\tif (!ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n-\t\t\t\tSkript.error(\"Making the explosion fiery is only usable in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n-\t\t\t\treturn false;\n-\t\t\t}\n+\t\tif (isEvent && !ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n+\t\t\tSkript.error(\"Making the explosion fiery is only usable in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n+\t\t\treturn false;\n \t\t}\n \t\tif (matchedPattern < 2)\n \t\t\tentities = (Expression<Entity>) exprs[0];\n"}}, {"oid": "ccb94656c504361ac30071ea23cd3fd13bce49f6", "url": "https://github.com/SkriptLang/Skript/commit/ccb94656c504361ac30071ea23cd3fd13bce49f6", "message": "Merge conditions", "committedDate": "2020-03-22T22:55:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTYwMTU4Ng==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r405601586", "bodyText": "i don't think this is clear - if I did make {_creeper} explode with fire it seems like that effect would actually make the creeper explode immediately which isn't the case", "author": "Pikachu920", "createdAt": "2020-04-08T15:13:52Z", "path": "src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java", "diffHunk": "@@ -0,0 +1,93 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.effects;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Effect;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+@Name(\"Explode With Fire\")\n+@Description(\"Sets if an entity will explode with fire. Use \\\"make the explosion fiery\\\" in explosion prime events.\")\n+@Examples({\"on explosion prime:\", \n+\t\"\\tmake the explosion fiery\"})\n+@Since(\"INSERT VERSION\")\n+public class EffExplodeWithFire extends Effect {\n+\n+\tstatic {\n+\t\tSkript.registerEffect(EffExplodeWithFire.class,\n+\t\t\t\t\"make %entities% [(1\u00a6not)] explode with fire\",", "originalCommit": "ccb94656c504361ac30071ea23cd3fd13bce49f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b7f72cce95dd9c62a5d30f47ea12e1491b0dd8d2", "chunk": "diff --git a/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java b/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\nindex 364207de..021f7b8c 100644\n--- a/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\n+++ b/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\n\n@@ -46,7 +46,7 @@ public class EffExplodeWithFire extends Effect {\n \n \tstatic {\n \t\tSkript.registerEffect(EffExplodeWithFire.class,\n-\t\t\t\t\"make %entities% [(1\u00a6not)] explode with fire\",\n+\t\t\t\t\"make %entities% explosion [(1\u00a6not)] (fiery|incendiary)\",\n \t\t\t\t\"make %entities% [(1\u00a6not)] cause (a fiery|an incendiary explosion)\",\n \t\t\t\t\"make the [event(-| )]explosion [(1\u00a6not)] fiery\");\n \t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTYxNDQ5NQ==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r405614495", "bodyText": "you can do return ((ExplosionPrimeEvent) e).getFire() ^ isNegated();", "author": "Pikachu920", "createdAt": "2020-04-08T15:30:57Z", "path": "src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.conditions;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Condition;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Explodes With Fire\")\n+@Description(\"Checks if an entity will create fire if it explodes.\")\n+@Examples({\"on explosion prime:\", \n+\t\t\t\"\\tif the event-explosion is fiery:\",\n+\t\t\t\"\\t\\tbroadcast \\\"A fiery explosive has been ignited!\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class CondExplodesWithFire extends Condition {\n+\n+\tstatic {\n+\t\tSkript.registerCondition(CondExplodesWithFire.class,\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] explode[s] with fire\",\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] cause[s] (a fiery|an incendiary explosion)\",\n+\t\t\t\t\"the [event(-| )]explosion (is|1\u00a6(is not|isn't)) fiery\");\n+\t}\n+\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entities;\n+\n+\tprivate boolean isEvent;\n+\n+\t@SuppressWarnings({\"unchecked\", \"null\"})\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tisEvent = matchedPattern == 2;\n+\t\tif (isEvent && !ScriptLoader.isCurrentEvent(ExplosionPrimeEvent.class)) {\n+\t\t\tSkript.error(\"Checking if the event explosion is fiery is only possible in explosion prime events\", ErrorQuality.SEMANTIC_ERROR);\n+\t\t\treturn false;\n+\t\t}\n+\t\tif (matchedPattern < 2)\n+\t\t\tentities = (Expression<Entity>) exprs[0];\n+\t\tsetNegated(parseResult.mark == 1);\n+\t\treturn true;\n+\t}\n+\n+\t@Override\n+\tpublic boolean check(Event e) {\n+\t\tif (isEvent) {\n+\t\t\tif (isNegated())\n+\t\t\t\treturn !((ExplosionPrimeEvent) e).getFire();\n+\t\t\treturn ((ExplosionPrimeEvent) e).getFire();", "originalCommit": "ccb94656c504361ac30071ea23cd3fd13bce49f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b7f72cce95dd9c62a5d30f47ea12e1491b0dd8d2", "chunk": "diff --git a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java b/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\nindex 2557cb80..2ea3dc10 100644\n--- a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n+++ b/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n\n@@ -74,9 +74,7 @@ public class CondExplodesWithFire extends Condition {\n \t@Override\n \tpublic boolean check(Event e) {\n \t\tif (isEvent) {\n-\t\t\tif (isNegated())\n-\t\t\t\treturn !((ExplosionPrimeEvent) e).getFire();\n-\t\t\treturn ((ExplosionPrimeEvent) e).getFire();\n+\t\t\treturn ((ExplosionPrimeEvent) e).getFire() ^ isNegated();\n \t\t}\n \t\treturn entities.check(e, entity -> entity instanceof Explosive && ((Explosive) entity).isIncendiary(), isNegated());\n \t}\n"}}, {"oid": "b7f72cce95dd9c62a5d30f47ea12e1491b0dd8d2", "url": "https://github.com/SkriptLang/Skript/commit/b7f72cce95dd9c62a5d30f47ea12e1491b0dd8d2", "message": "Make Requested Changes", "committedDate": "2020-04-27T11:43:57Z", "type": "commit"}, {"oid": "0ad49d19c3ed319e5b969d1636c7f4e0a72fa75a", "url": "https://github.com/SkriptLang/Skript/commit/0ad49d19c3ed319e5b969d1636c7f4e0a72fa75a", "message": "Merge branch 'master' into APickledWalrus-fiery\u200bexplosive", "committedDate": "2020-04-27T11:44:21Z", "type": "commit"}, {"oid": "1325dfe3b725f0732febd96ef5e7088d3b64d788", "url": "https://github.com/SkriptLang/Skript/commit/1325dfe3b725f0732febd96ef5e7088d3b64d788", "message": "Fix test", "committedDate": "2020-04-27T12:13:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU2NzgyNA==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r452567824", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @Name(\"Explodes With Fire\")\n          \n          \n            \n            @Name(\"Is Incendiary/Has Fire\")", "author": "FranKusmiruk", "createdAt": "2020-07-10T01:00:01Z", "path": "src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.conditions;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Condition;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Explodes With Fire\")", "originalCommit": "1325dfe3b725f0732febd96ef5e7088d3b64d788", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0ad2e904a2c7d7e5cf001d531d561b754ea35e00", "chunk": "diff --git a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java b/src/main/java/ch/njol/skript/conditions/CondIncendiary.java\nsimilarity index 69%\nrename from src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\nrename to src/main/java/ch/njol/skript/conditions/CondIncendiary.java\nindex 2ea3dc10..07d212c1 100644\n--- a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n+++ b/src/main/java/ch/njol/skript/conditions/CondIncendiary.java\n\n@@ -19,12 +19,6 @@\n  */\n package ch.njol.skript.conditions;\n \n-import org.bukkit.entity.Entity;\n-import org.bukkit.entity.Explosive;\n-import org.bukkit.event.Event;\n-import org.bukkit.event.entity.ExplosionPrimeEvent;\n-import org.eclipse.jdt.annotation.Nullable;\n-\n import ch.njol.skript.ScriptLoader;\n import ch.njol.skript.Skript;\n import ch.njol.skript.doc.Description;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU3MDYxMw==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r452570613", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] explode[s] with fire\",\n          \n          \n            \n            \t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] cause[s] (a fiery|an incendiary explosion)\",\n          \n          \n            \n            \t\t\t\t\"%entities% (is|are) incendiary\",\n          \n          \n            \n            \t\t\t\t\"%entities% (is not|are not|isn't|aren't) incendiary\",", "author": "FranKusmiruk", "createdAt": "2020-07-10T01:11:37Z", "path": "src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.conditions;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Condition;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Explodes With Fire\")\n+@Description(\"Checks if an entity will create fire if it explodes.\")\n+@Examples({\"on explosion prime:\", \n+\t\t\t\"\\tif the event-explosion is fiery:\",\n+\t\t\t\"\\t\\tbroadcast \\\"A fiery explosive has been ignited!\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class CondExplodesWithFire extends Condition {\n+\n+\tstatic {\n+\t\tSkript.registerCondition(CondExplodesWithFire.class,\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] explode[s] with fire\",\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] cause[s] (a fiery|an incendiary explosion)\",", "originalCommit": "1325dfe3b725f0732febd96ef5e7088d3b64d788", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0ad2e904a2c7d7e5cf001d531d561b754ea35e00", "chunk": "diff --git a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java b/src/main/java/ch/njol/skript/conditions/CondIncendiary.java\nsimilarity index 69%\nrename from src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\nrename to src/main/java/ch/njol/skript/conditions/CondIncendiary.java\nindex 2ea3dc10..07d212c1 100644\n--- a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n+++ b/src/main/java/ch/njol/skript/conditions/CondIncendiary.java\n\n@@ -19,12 +19,6 @@\n  */\n package ch.njol.skript.conditions;\n \n-import org.bukkit.entity.Entity;\n-import org.bukkit.entity.Explosive;\n-import org.bukkit.event.Event;\n-import org.bukkit.event.entity.ExplosionPrimeEvent;\n-import org.eclipse.jdt.annotation.Nullable;\n-\n import ch.njol.skript.ScriptLoader;\n import ch.njol.skript.Skript;\n import ch.njol.skript.doc.Description;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU3MjA3OA==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r452572078", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\"the [event(-| )]explosion (is|1\u00a6(is not|isn't)) fiery\");\n          \n          \n            \n            \t\t\t\t\"[the] [event(-| )]explosion (has|does have) fire\",\n          \n          \n            \n            \t\t\t\t\"[the] [event(-| )]explosion (does not|doesn't) have fire\");", "author": "FranKusmiruk", "createdAt": "2020-07-10T01:17:35Z", "path": "src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.conditions;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Condition;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Explodes With Fire\")\n+@Description(\"Checks if an entity will create fire if it explodes.\")\n+@Examples({\"on explosion prime:\", \n+\t\t\t\"\\tif the event-explosion is fiery:\",\n+\t\t\t\"\\t\\tbroadcast \\\"A fiery explosive has been ignited!\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class CondExplodesWithFire extends Condition {\n+\n+\tstatic {\n+\t\tSkript.registerCondition(CondExplodesWithFire.class,\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] explode[s] with fire\",\n+\t\t\t\t\"%entities% [(1\u00a6((does|do) not|(doesn't|don't)))] cause[s] (a fiery|an incendiary explosion)\",\n+\t\t\t\t\"the [event(-| )]explosion (is|1\u00a6(is not|isn't)) fiery\");", "originalCommit": "1325dfe3b725f0732febd96ef5e7088d3b64d788", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0ad2e904a2c7d7e5cf001d531d561b754ea35e00", "chunk": "diff --git a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java b/src/main/java/ch/njol/skript/conditions/CondIncendiary.java\nsimilarity index 69%\nrename from src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\nrename to src/main/java/ch/njol/skript/conditions/CondIncendiary.java\nindex 2ea3dc10..07d212c1 100644\n--- a/src/main/java/ch/njol/skript/conditions/CondExplodesWithFire.java\n+++ b/src/main/java/ch/njol/skript/conditions/CondIncendiary.java\n\n@@ -19,12 +19,6 @@\n  */\n package ch.njol.skript.conditions;\n \n-import org.bukkit.entity.Entity;\n-import org.bukkit.entity.Explosive;\n-import org.bukkit.event.Event;\n-import org.bukkit.event.entity.ExplosionPrimeEvent;\n-import org.eclipse.jdt.annotation.Nullable;\n-\n import ch.njol.skript.ScriptLoader;\n import ch.njol.skript.Skript;\n import ch.njol.skript.doc.Description;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYxOTEwNg==", "url": "https://github.com/SkriptLang/Skript/pull/2779#discussion_r452619106", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\"make %entities%'[s] explosion [(1\u00a6not)] (fiery|incendiary)\",\n          \n          \n            \n            \t\t\t\t\"make %entities% [(1\u00a6not)] cause (a fiery|an incendiary explosion)\",\n          \n          \n            \n            \t\t\t\t\"make the [event(-| )]explosion [(1\u00a6not)] fiery\");\n          \n          \n            \n            \t\t\t\t\"[(1\u00a6de)]combust [the] (%-entities%|[event(-| )]explosion)\",\n          \n          \n            \n            \t\t\t\t\"make %entities% [(1\u00a6not)] incendiary\");\n          \n      \n    \n    \n  \n\nMay have to add the null flag to the second pattern if it not having it causes issues.", "author": "FranKusmiruk", "createdAt": "2020-07-10T04:44:24Z", "path": "src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java", "diffHunk": "@@ -0,0 +1,93 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.effects;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Effect;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+import org.bukkit.entity.Entity;\n+import org.bukkit.entity.Explosive;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.ExplosionPrimeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+@Name(\"Explode With Fire\")\n+@Description(\"Sets if an entity will explode with fire. Use \\\"make the explosion fiery\\\" in explosion prime events.\")\n+@Examples({\"on explosion prime:\", \n+\t\"\\tmake the explosion fiery\"})\n+@Since(\"INSERT VERSION\")\n+public class EffExplodeWithFire extends Effect {\n+\n+\tstatic {\n+\t\tSkript.registerEffect(EffExplodeWithFire.class,\n+\t\t\t\t\"make %entities%'[s] explosion [(1\u00a6not)] (fiery|incendiary)\",\n+\t\t\t\t\"make %entities% [(1\u00a6not)] cause (a fiery|an incendiary explosion)\",\n+\t\t\t\t\"make the [event(-| )]explosion [(1\u00a6not)] fiery\");", "originalCommit": "1325dfe3b725f0732febd96ef5e7088d3b64d788", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0ad2e904a2c7d7e5cf001d531d561b754ea35e00", "chunk": "diff --git a/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java b/src/main/java/ch/njol/skript/effects/EffIncendiary.java\nsimilarity index 71%\nrename from src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\nrename to src/main/java/ch/njol/skript/effects/EffIncendiary.java\nindex d709567e..b8812de2 100644\n--- a/src/main/java/ch/njol/skript/effects/EffExplodeWithFire.java\n+++ b/src/main/java/ch/njol/skript/effects/EffIncendiary.java\n\n@@ -27,7 +27,7 @@ import ch.njol.skript.doc.Name;\n import ch.njol.skript.doc.Since;\n import ch.njol.skript.lang.Effect;\n import ch.njol.skript.lang.Expression;\n-import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n import ch.njol.skript.log.ErrorQuality;\n import ch.njol.util.Kleenean;\n \n"}}, {"oid": "0ad2e904a2c7d7e5cf001d531d561b754ea35e00", "url": "https://github.com/SkriptLang/Skript/commit/0ad2e904a2c7d7e5cf001d531d561b754ea35e00", "message": "Pattern Changes & Refactoring", "committedDate": "2020-07-11T19:52:41Z", "type": "commit"}, {"oid": "dcfe5df07fd85ced3a9025e3028f7720916f7c69", "url": "https://github.com/SkriptLang/Skript/commit/dcfe5df07fd85ced3a9025e3028f7720916f7c69", "message": "Merge branch 'master' into APickledWalrus-fiery\u200bexplosive", "committedDate": "2020-07-11T19:54:48Z", "type": "commit"}, {"oid": "2bbeae3e11d68e8ecca6121dd6536e69d438f056", "url": "https://github.com/SkriptLang/Skript/commit/2bbeae3e11d68e8ecca6121dd6536e69d438f056", "message": "Test and pattern fixes", "committedDate": "2020-07-19T19:17:50Z", "type": "commit"}, {"oid": "a7698cf3d098d20817c98e68160bc855253c4b15", "url": "https://github.com/SkriptLang/Skript/commit/a7698cf3d098d20817c98e68160bc855253c4b15", "message": "Merge branch 'master' into APickledWalrus-fiery\u200bexplosive", "committedDate": "2020-07-20T19:42:05Z", "type": "commit"}]}