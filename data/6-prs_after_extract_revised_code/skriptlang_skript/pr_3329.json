{"pr_number": 3329, "pr_title": "Fix visual effect issues", "pr_createdAt": "2020-08-21T20:14:57Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/3329", "timeline": [{"oid": "94369189a4085f738b2699d3206eef5ff1fbf057", "url": "https://github.com/SkriptLang/Skript/commit/94369189a4085f738b2699d3206eef5ff1fbf057", "message": "Fix visual effect issues", "committedDate": "2020-08-21T20:07:06Z", "type": "commit"}, {"oid": "22850beb4507e8eca6f2fb6cd5cb4f9500857a56", "url": "https://github.com/SkriptLang/Skript/commit/22850beb4507e8eca6f2fb6cd5cb4f9500857a56", "message": "VisualEffect.ParticleOption - put toString method in one line", "committedDate": "2020-08-21T20:18:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA5NTk4Mw==", "url": "https://github.com/SkriptLang/Skript/pull/3329#discussion_r475095983", "bodyText": "is it possible we could use a class or field check instead of a version check?", "author": "Pikachu920", "createdAt": "2020-08-22T14:24:28Z", "path": "src/main/java/ch/njol/skript/util/VisualEffect.java", "diffHunk": "@@ -61,6 +62,7 @@\n \r\n \tprivate final static String LANGUAGE_NODE = \"visual effects\";\r\n \tstatic final boolean newEffectData = Skript.classExists(\"org.bukkit.block.data.BlockData\");\r\n+\tprivate static final boolean HAS_REDSTONE_DATA = Skript.isRunningMinecraft(1, 13);\r", "originalCommit": "22850beb4507e8eca6f2fb6cd5cb4f9500857a56", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEyMjY1Nw==", "url": "https://github.com/SkriptLang/Skript/pull/3329#discussion_r475122657", "bodyText": "Good call. This has now been changed \ud83d\udc4d", "author": "ShaneBeee", "createdAt": "2020-08-22T19:26:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA5NTk4Mw=="}], "type": "inlineReview", "revised_code": {"commit": "deaca7b81596aab630959df992fcc4f2e76197d6", "chunk": "diff --git a/src/main/java/ch/njol/skript/util/VisualEffect.java b/src/main/java/ch/njol/skript/util/VisualEffect.java\nindex 0c7701a4..c59504f4 100644\n--- a/src/main/java/ch/njol/skript/util/VisualEffect.java\n+++ b/src/main/java/ch/njol/skript/util/VisualEffect.java\n\n@@ -62,7 +62,7 @@ public final class VisualEffect implements SyntaxElement, YggdrasilSerializable\n \n \tprivate final static String LANGUAGE_NODE = \"visual effects\";\n \tstatic final boolean newEffectData = Skript.classExists(\"org.bukkit.block.data.BlockData\");\n-\tprivate static final boolean HAS_REDSTONE_DATA = Skript.isRunningMinecraft(1, 13);\n+\tprivate static final boolean HAS_REDSTONE_DATA = Skript.classExists(\"org.bukkit.Particle$DustOptions\");\n \t\n \tpublic static enum Type implements YggdrasilSerializable {\n \t\tENDER_SIGNAL(Effect.ENDER_SIGNAL),\n"}}, {"oid": "deaca7b81596aab630959df992fcc4f2e76197d6", "url": "https://github.com/SkriptLang/Skript/commit/deaca7b81596aab630959df992fcc4f2e76197d6", "message": "VisualEffect - use class exists rather than isRunningMinecraft", "committedDate": "2020-08-22T19:14:25Z", "type": "commit"}, {"oid": "27f0c6bf055faa0c370d033ef0d1cf895b8cdb48", "url": "https://github.com/SkriptLang/Skript/commit/27f0c6bf055faa0c370d033ef0d1cf895b8cdb48", "message": "EffVisualEffect - remove count change previously made", "committedDate": "2020-08-22T19:25:48Z", "type": "commit"}, {"oid": "ae6f6f51282520e8c81f7ac460ea463e7958fa07", "url": "https://github.com/SkriptLang/Skript/commit/ae6f6f51282520e8c81f7ac460ea463e7958fa07", "message": "Merge branch 'master' into fix/colored-particles", "committedDate": "2020-08-28T19:36:12Z", "type": "commit"}]}