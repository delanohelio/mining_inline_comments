{"pr_number": 2896, "pr_title": "BukkitEventValues - add PlayerItemDamageEvent item value", "pr_createdAt": "2020-03-29T23:15:34Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/2896", "timeline": [{"oid": "b35c2a89e8de7bfc252a9895530feb070437b99f", "url": "https://github.com/SkriptLang/Skript/commit/b35c2a89e8de7bfc252a9895530feb070437b99f", "message": "BukkitEventValues - add PlayerItemDamageEvent item value", "committedDate": "2020-03-29T23:14:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg2OTk2MA==", "url": "https://github.com/SkriptLang/Skript/pull/2896#discussion_r399869960", "bodyText": "Shouldn\u2019t you convert the ItemStack to an ItemType and return that instead?", "author": "Wealthyturtle", "createdAt": "2020-03-29T23:28:53Z", "path": "src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java", "diffHunk": "@@ -675,6 +676,13 @@ public Block get(final PlayerMoveEvent e) {\n \t\t\t\treturn EvtMoveOn.getBlock(e);\n \t\t\t}\n \t\t}, 0);\n+\t\t// PlayerItemDamageEvent\n+\t\tEventValues.registerEventValue(PlayerItemDamageEvent.class, ItemStack.class, new Getter<ItemStack, PlayerItemDamageEvent>() {\n+\t\t\t@Override\n+\t\t\tpublic ItemStack get(PlayerItemDamageEvent event) {", "originalCommit": "b35c2a89e8de7bfc252a9895530feb070437b99f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg3MDA0MA==", "url": "https://github.com/SkriptLang/Skript/pull/2896#discussion_r399870040", "bodyText": "Ahh.... dur! totally slipped my mind, thank you!", "author": "ShaneBeee", "createdAt": "2020-03-29T23:29:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg2OTk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg3MDMwNw==", "url": "https://github.com/SkriptLang/Skript/pull/2896#discussion_r399870307", "bodyText": "Fixed :)", "author": "ShaneBeee", "createdAt": "2020-03-29T23:32:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg2OTk2MA=="}], "type": "inlineReview", "revised_code": {"commit": "6e74c7149422a65e17f3e5aa8433dcbe37e59612", "chunk": "diff --git a/src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java b/src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java\nindex ce7740fb..7207c8df 100644\n--- a/src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java\n+++ b/src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java\n\n@@ -677,10 +677,10 @@ public final class BukkitEventValues {\n \t\t\t}\n \t\t}, 0);\n \t\t// PlayerItemDamageEvent\n-\t\tEventValues.registerEventValue(PlayerItemDamageEvent.class, ItemStack.class, new Getter<ItemStack, PlayerItemDamageEvent>() {\n+\t\tEventValues.registerEventValue(PlayerItemDamageEvent.class, ItemType.class, new Getter<ItemType, PlayerItemDamageEvent>() {\n \t\t\t@Override\n-\t\t\tpublic ItemStack get(PlayerItemDamageEvent event) {\n-\t\t\t\treturn event.getItem();\n+\t\t\tpublic ItemType get(PlayerItemDamageEvent event) {\n+\t\t\t\treturn new ItemType(event.getItem());\n \t\t\t}\n \t\t}, 0);\n \t\t\n"}}, {"oid": "6e74c7149422a65e17f3e5aa8433dcbe37e59612", "url": "https://github.com/SkriptLang/Skript/commit/6e74c7149422a65e17f3e5aa8433dcbe37e59612", "message": "BukkitEventValues - ItemStack -> ItemType", "committedDate": "2020-03-29T23:31:46Z", "type": "commit"}]}