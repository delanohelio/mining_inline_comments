{"pr_number": 4256, "pr_title": "fix: InputSystem#getInputsForBindButton was throwing NPE", "pr_createdAt": "2020-11-20T11:05:33Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4256", "timeline": [{"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63", "url": "https://github.com/MovingBlocks/Terasology/commit/2724ee550a0f84bed00da13fbe927f57dadc9b63", "message": "fix: InputSystem#getInputsForBindButton was throwing NPE", "committedDate": "2020-11-20T11:02:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxODIwNw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#discussion_r527618207", "bodyText": "This is the actual bug fix, all other changes are just IntelliJ's formatting...", "author": "skaldarnar", "createdAt": "2020-11-20T11:06:01Z", "path": "engine/src/main/java/org/terasology/input/InputSystem.java", "diffHunk": "@@ -554,13 +552,15 @@ public void drainQueues() {\n     }\n \n     /**\n-     * API-exposed caller to {@link BindsSubsystem#getInputsForBindButton(SimpleUri)}. TODO: Restored for API reasons,\n-     * may be duplicating code elsewhere. Should be reviewed.\n+     * API-exposed caller to {@link BindsManager#getBindsConfig()} and\n+     * {@link org.terasology.config.BindsConfig#getBinds(SimpleUri)}.\n+     * <p>\n+     * TODO: Restored for API reasons, may be duplicating code elsewhere. Should be reviewed.\n      *\n      * @param bindId the ID.\n      * @return a list of keyboard/mouse inputs that trigger the binding.\n      */\n     public List<Input> getInputsForBindButton(SimpleUri bindId) {\n-        return bindsSubsystem.getInputsForBindButton(bindId);\n+        return bindsManager.getBindsConfig().getBinds(bindId);", "originalCommit": "2724ee550a0f84bed00da13fbe927f57dadc9b63", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxODcyNg==", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#discussion_r527618726", "bodyText": "The bindsSubsystem was null here anyways, and the only place this was used could easily be replaced with access to the super interface of BindsManager.", "author": "skaldarnar", "createdAt": "2020-11-20T11:07:02Z", "path": "engine/src/main/java/org/terasology/input/InputSystem.java", "diffHunk": "@@ -78,9 +77,6 @@\n     @In\n     private CameraTargetSystem targetSystem;\n \n-    @In\n-    private BindsSubsystem bindsSubsystem;", "originalCommit": "2724ee550a0f84bed00da13fbe927f57dadc9b63", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "d83017ef150ef6d287f0ab573c106a8b5ba224ab", "url": "https://github.com/MovingBlocks/Terasology/commit/d83017ef150ef6d287f0ab573c106a8b5ba224ab", "message": "Merge branch 'develop' into fix/input-system", "committedDate": "2020-11-21T11:29:14Z", "type": "commit"}]}