{"pr_number": 965, "pr_title": " Participant Manager - Issue #961 fixed ,Pagination for Locations view ", "pr_createdAt": "2020-09-14T11:38:22Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965", "timeline": [{"oid": "efcaefeb08a7f60fcbba46833cf6f39263097169", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/efcaefeb08a7f60fcbba46833cf6f39263097169", "message": "pagination", "committedDate": "2020-09-14T08:47:02Z", "type": "commit"}, {"oid": "4195394c98b2505d5794aaab82f6955f657446a1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4195394c98b2505d5794aaab82f6955f657446a1", "message": "Integration test cases for pagination", "committedDate": "2020-09-14T11:26:32Z", "type": "commit"}, {"oid": "bef9b1ebaa1591b505d2eb1c4d131fcde4cf37a0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bef9b1ebaa1591b505d2eb1c4d131fcde4cf37a0", "message": "Organized imports", "committedDate": "2020-09-14T11:46:36Z", "type": "commit"}, {"oid": "fe18e9ff847212dbc11a781d9c975b14678de765", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fe18e9ff847212dbc11a781d9c975b14678de765", "message": "constants moved to TestConstants", "committedDate": "2020-09-14T12:27:31Z", "type": "commit"}, {"oid": "c57deb2b9ab2e735a7181d36cd609be62004095b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c57deb2b9ab2e735a7181d36cd609be62004095b", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-14T12:28:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3OTAyNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r487879024", "bodyText": "what are the default values for page and limit?\nand how does the request behave if they are not provided?", "author": "zohrehj", "createdAt": "2020-09-14T12:39:29Z", "path": "participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java", "diffHunk": "@@ -93,6 +93,8 @@ public LocationDetailsResponse addNewLocation(\n       @RequestHeader(name = USER_ID_HEADER) String userId,\n       @RequestParam(required = false) Integer status,\n       @RequestParam(required = false) String excludeStudyId,\n+      @RequestParam Integer page,\n+      @RequestParam Integer limit,", "originalCommit": "c57deb2b9ab2e735a7181d36cd609be62004095b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI0MzQ0OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r489243449", "bodyText": "Fixed comment. Added default values for page and limit.", "author": "madhurya-btc", "createdAt": "2020-09-16T08:05:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3OTAyNA=="}], "type": "inlineReview", "revised_code": {"commit": "186dace32743b78acad8433133cc36ae23eb4902", "chunk": "diff --git a/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java b/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\nindex 213245f52..b6b0a4eba 100644\n--- a/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\n+++ b/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\n\n@@ -93,8 +93,8 @@ public class LocationController {\n       @RequestHeader(name = USER_ID_HEADER) String userId,\n       @RequestParam(required = false) Integer status,\n       @RequestParam(required = false) String excludeStudyId,\n-      @RequestParam Integer page,\n-      @RequestParam Integer limit,\n+      @RequestParam(defaultValue = \"0\") int page,\n+      @RequestParam(defaultValue = \"10\") int limit,\n       HttpServletRequest request) {\n     logger.entry(\n         String.format(\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3OTY3OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r487879678", "bodyText": "please leave one test without page and limit to verify the default case.", "author": "zohrehj", "createdAt": "2020-09-14T12:40:31Z", "path": "participant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/LocationControllerTest.java", "diffHunk": "@@ -520,6 +582,8 @@ public void shouldReturnLocationsForSite() throws Exception {\n             get(ApiEndpoint.GET_LOCATIONS.getPath())\n                 .queryParam(\"excludeStudyId\", studyEntity.getId())\n                 .queryParam(\"status\", String.valueOf(CommonConstants.ACTIVE_STATUS))\n+                .queryParam(\"page\", PAGE_NO)", "originalCommit": "c57deb2b9ab2e735a7181d36cd609be62004095b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI0MzY2Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r489243666", "bodyText": "Fixed review comment.", "author": "madhurya-btc", "createdAt": "2020-09-16T08:05:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3OTY3OA=="}], "type": "inlineReview", "revised_code": {"commit": "7a00dd502110cf914b9006bf40b015b7a444de36", "chunk": "diff --git a/participant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/LocationControllerTest.java b/participant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/LocationControllerTest.java\nindex 92eca6b0a..5775f0a76 100644\n--- a/participant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/LocationControllerTest.java\n+++ b/participant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/LocationControllerTest.java\n\n@@ -582,7 +590,6 @@ public class LocationControllerTest extends BaseMockIT {\n             get(ApiEndpoint.GET_LOCATIONS.getPath())\n                 .queryParam(\"excludeStudyId\", studyEntity.getId())\n                 .queryParam(\"status\", String.valueOf(CommonConstants.ACTIVE_STATUS))\n-                .queryParam(\"page\", PAGE_NO)\n                 .queryParam(\"limit\", NO_OF_RECORDS)\n                 .content(asJsonString(getLocationRequest()))\n                 .headers(headers)\n"}}, {"oid": "02adf9769da83c1ffd7c250c19270846b852d7c4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/02adf9769da83c1ffd7c250c19270846b852d7c4", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-16T07:30:24Z", "type": "commit"}, {"oid": "186dace32743b78acad8433133cc36ae23eb4902", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/186dace32743b78acad8433133cc36ae23eb4902", "message": "Default page and limit", "committedDate": "2020-09-16T08:00:04Z", "type": "commit"}, {"oid": "02e2b11bec95ec10432556858f2f063a5b43a17d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/02e2b11bec95ec10432556858f2f063a5b43a17d", "message": "Merge branch 'particiapnt-manager-pagination' of https://github.com/GoogleCloudPlatform/fda-mystudies into particiapnt-manager-pagination", "committedDate": "2020-09-16T08:00:31Z", "type": "commit"}, {"oid": "50e48de3412c765f60be0a87ffa7e6b41886e973", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/50e48de3412c765f60be0a87ffa7e6b41886e973", "message": "String.valueOf", "committedDate": "2020-09-16T08:13:23Z", "type": "commit"}, {"oid": "ef3b77b672bd04c6afb33501554a98aafe979c22", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ef3b77b672bd04c6afb33501554a98aafe979c22", "message": "Changed to primitive value", "committedDate": "2020-09-16T14:37:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ3NDc4MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r489474780", "bodyText": "50 0r 100 could be a better limit; depending on the UI.", "author": "zohrehj", "createdAt": "2020-09-16T14:19:12Z", "path": "participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java", "diffHunk": "@@ -93,6 +93,8 @@ public LocationDetailsResponse addNewLocation(\n       @RequestHeader(name = USER_ID_HEADER) String userId,\n       @RequestParam(required = false) Integer status,\n       @RequestParam(required = false) String excludeStudyId,\n+      @RequestParam(defaultValue = \"0\") int page,\n+      @RequestParam(defaultValue = \"10\") int limit,", "originalCommit": "50e48de3412c765f60be0a87ffa7e6b41886e973", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI2MjA0Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r490262043", "bodyText": "There are only 9 records in invision prototypes. As per requirements in Issue #961, we've set the default to 10 records per page. Kindly review and approve.", "author": "dhanyak-btc", "createdAt": "2020-09-17T13:50:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ3NDc4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk4MjQ0Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r490982446", "bodyText": "Having a low pagination limit is a usability problem, and we should design the system for actual users, not based on the prototype data.\nPlease fix.", "author": "zohrehj", "createdAt": "2020-09-18T14:19:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ3NDc4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU2NTQ4OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/965#discussion_r492565488", "bodyText": "As discussed with BA team, based on the requirement , I have done the changes. Kindly review and approve.", "author": "madhurya-btc", "createdAt": "2020-09-22T08:38:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ3NDc4MA=="}], "type": "inlineReview", "revised_code": {"commit": "7a00dd502110cf914b9006bf40b015b7a444de36", "chunk": "diff --git a/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java b/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\nindex b6b0a4eba..23544f7d4 100644\n--- a/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\n+++ b/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\n\n@@ -93,8 +93,8 @@ public class LocationController {\n       @RequestHeader(name = USER_ID_HEADER) String userId,\n       @RequestParam(required = false) Integer status,\n       @RequestParam(required = false) String excludeStudyId,\n-      @RequestParam(defaultValue = \"0\") int page,\n-      @RequestParam(defaultValue = \"10\") int limit,\n+      @RequestParam(required = false) Integer page,\n+      @RequestParam(required = false) Integer limit,\n       HttpServletRequest request) {\n     logger.entry(\n         String.format(\n"}}, {"oid": "7a00dd502110cf914b9006bf40b015b7a444de36", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7a00dd502110cf914b9006bf40b015b7a444de36", "message": "pagination updated", "committedDate": "2020-09-22T08:35:09Z", "type": "commit"}, {"oid": "e70e54c729877721bd03c44db042fff20e34efc6", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e70e54c729877721bd03c44db042fff20e34efc6", "message": "Pagination", "committedDate": "2020-09-22T08:47:29Z", "type": "commit"}, {"oid": "2fb7a9e03394cc2dced1ec0fad8ba12f2f4e875d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2fb7a9e03394cc2dced1ec0fad8ba12f2f4e875d", "message": "Pagination changes", "committedDate": "2020-09-24T14:38:59Z", "type": "commit"}, {"oid": "40b2ef6ea452f630c63f74b860a05114367b1f0f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/40b2ef6ea452f630c63f74b860a05114367b1f0f", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-24T14:41:21Z", "type": "commit"}, {"oid": "891b8374332cacb3dbe1efd4d13a4968fe8cc298", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/891b8374332cacb3dbe1efd4d13a4968fe8cc298", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-24T16:22:35Z", "type": "commit"}, {"oid": "5388c901453502f085dd9177c0ce4db6db569684", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5388c901453502f085dd9177c0ce4db6db569684", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-25T06:50:31Z", "type": "commit"}, {"oid": "21d62b20c16dee3928f09787094d7901905e0394", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/21d62b20c16dee3928f09787094d7901905e0394", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-25T10:25:58Z", "type": "commit"}, {"oid": "d7695a5936da83fc9ebcdf48259068eca63aad7c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d7695a5936da83fc9ebcdf48259068eca63aad7c", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-25T14:23:57Z", "type": "commit"}, {"oid": "b32009d3289359d65e0ca45a86c6780411526497", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b32009d3289359d65e0ca45a86c6780411526497", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-25T14:45:07Z", "type": "commit"}, {"oid": "f7e490dd9fb9abe92c242ce97430edb3b1b80aa9", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f7e490dd9fb9abe92c242ce97430edb3b1b80aa9", "message": "Merge branch 'develop' into particiapnt-manager-pagination", "committedDate": "2020-09-25T16:47:49Z", "type": "commit"}]}