{"pr_number": 1012, "pr_title": "Participant Manager - Issue #959 fixed as per requirement, Pagination for Consent History", "pr_createdAt": "2020-09-22T15:04:32Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1012", "timeline": [{"oid": "7602ea7bdf13c7c49e7f292eafb875ffe0fdc46c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7602ea7bdf13c7c49e7f292eafb875ffe0fdc46c", "message": "Fixed Issue#959\n\nFixed Issue#959", "committedDate": "2020-09-22T15:00:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MjkzMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1012#discussion_r494362932", "bodyText": "what happens if only one value is null, does it work?\nalternatively, we could add default value of 0 to page and always include page, only check whether limit is null.", "author": "zohrehj", "createdAt": "2020-09-24T14:25:08Z", "path": "participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/SiteServiceImpl.java", "diffHunk": "@@ -607,10 +607,15 @@ public ParticipantDetailResponse getParticipantDetails(\n               .map(ParticipantStudyEntity::getId)\n               .collect(Collectors.toList());\n \n-      Page<StudyConsentEntity> consentHistoryPage =\n-          studyConsentRepository.findByParticipantRegistrySiteId(\n-              participantStudyIds, PageRequest.of(page, limit, Sort.by(\"created\").descending()));\n-      List<StudyConsentEntity> studyConsents = consentHistoryPage.getContent();\n+      List<StudyConsentEntity> studyConsents = null;\n+      if (page != null || limit != null) {", "originalCommit": "7602ea7bdf13c7c49e7f292eafb875ffe0fdc46c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM5Njg4OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1012#discussion_r494396889", "bodyText": "Fixed Review comment.", "author": "monica-BTC", "createdAt": "2020-09-24T15:08:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MjkzMg=="}], "type": "inlineReview", "revised_code": {"commit": "de6bb6ca25a93c735f2dbcfd3208c94ee8d205ff", "chunk": "diff --git a/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/SiteServiceImpl.java b/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/SiteServiceImpl.java\nindex a21c9844a..62e188425 100644\n--- a/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/SiteServiceImpl.java\n+++ b/participant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/SiteServiceImpl.java\n\n@@ -608,7 +608,7 @@ public class SiteServiceImpl implements SiteService {\n               .collect(Collectors.toList());\n \n       List<StudyConsentEntity> studyConsents = null;\n-      if (page != null || limit != null) {\n+      if (page != null && limit != null) {\n         Page<StudyConsentEntity> consentHistoryPage =\n             studyConsentRepository.findByParticipantRegistrySiteIdForPagination(\n                 participantStudyIds, PageRequest.of(page, limit, Sort.by(\"created\").descending()));\n"}}, {"oid": "0e8b80af7c0c221012f48fa8959ee98dcfd86425", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0e8b80af7c0c221012f48fa8959ee98dcfd86425", "message": "Merge branch 'develop' into participant-manager-consent-pagination-issue#959", "committedDate": "2020-09-24T14:31:05Z", "type": "commit"}, {"oid": "de6bb6ca25a93c735f2dbcfd3208c94ee8d205ff", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/de6bb6ca25a93c735f2dbcfd3208c94ee8d205ff", "message": "Fixed Review comment\n\nFixed Review comment", "committedDate": "2020-09-24T14:47:03Z", "type": "commit"}, {"oid": "38667de1c8af11f7851927325d226bec44f6f61e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/38667de1c8af11f7851927325d226bec44f6f61e", "message": "Merge branch 'develop' into participant-manager-consent-pagination-issue#959", "committedDate": "2020-09-25T06:50:34Z", "type": "commit"}, {"oid": "d267179f45715a4a458bf08d2ff7a74bfc9eb217", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d267179f45715a4a458bf08d2ff7a74bfc9eb217", "message": "Merge branch 'develop' into participant-manager-consent-pagination-issue#959", "committedDate": "2020-09-25T12:51:46Z", "type": "commit"}, {"oid": "ff80a6c2245d199cd723be4a4f2095cfba2b741a", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ff80a6c2245d199cd723be4a4f2095cfba2b741a", "message": "Merge branch 'develop' into participant-manager-consent-pagination-issue#959", "committedDate": "2020-09-25T14:45:07Z", "type": "commit"}]}