{"pr_number": 1267, "pr_title": "Android - resource issue fix ", "pr_createdAt": "2020-10-09T15:33:41Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1267", "timeline": [{"oid": "562e7245d69ba4327137b9827762b04cf280d692", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/562e7245d69ba4327137b9827762b04cf280d692", "message": "resource issue fix for #1266", "committedDate": "2020-10-09T15:31:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjU4NjEzNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1267#discussion_r502586134", "bodyText": "Changing this only in one place will break your code, probably better to move it to common method and use in both places?", "author": "zohrehj", "createdAt": "2020-10-09T17:51:40Z", "path": "Android/app/src/main/java/com/harvard/studyappmodule/activitybuilder/CustomSurveyViewTaskActivity.java", "diffHunk": "@@ -341,8 +341,10 @@ private void getResourceNotification(RealmList<Resource> resourceArrayList, Stud\n         if (resourceArrayList.get(i).getAvailability().getAvailableDate().equalsIgnoreCase(\"\")) {\n           StepRecordCustom stepRecordCustom =\n               dbServiceSubscriber.getSurveyResponseFromDB(\n-                  getIntent().getStringExtra(STUDYID) + \"_STUDYID_\" + activityId,\n-                  studyHome.getAnchorDate().getQuestionInfo().getKey(),\n+                  getIntent().getStringExtra(STUDYID)\n+                      + \"_STUDYID_\"\n+                      + resourceArrayList.get(i).getAvailability().getSourceActivityId(),\n+                  resourceArrayList.get(i).getAvailability().getSourceKey(),", "originalCommit": "562e7245d69ba4327137b9827762b04cf280d692", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDExNDMzMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1267#discussion_r504114330", "bodyText": "i've updated.", "author": "naveenr-btc", "createdAt": "2020-10-13T16:56:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjU4NjEzNA=="}], "type": "inlineReview", "revised_code": {"commit": "6d701ead10c3193af2074dbd1703f58c04aad942", "chunk": "diff --git a/Android/app/src/main/java/com/harvard/studyappmodule/activitybuilder/CustomSurveyViewTaskActivity.java b/Android/app/src/main/java/com/harvard/studyappmodule/activitybuilder/CustomSurveyViewTaskActivity.java\nindex e8c078df7..af3f38605 100644\n--- a/Android/app/src/main/java/com/harvard/studyappmodule/activitybuilder/CustomSurveyViewTaskActivity.java\n+++ b/Android/app/src/main/java/com/harvard/studyappmodule/activitybuilder/CustomSurveyViewTaskActivity.java\n\n@@ -343,8 +343,8 @@ public class CustomSurveyViewTaskActivity<T> extends AppCompatActivity implement\n               dbServiceSubscriber.getSurveyResponseFromDB(\n                   getIntent().getStringExtra(STUDYID)\n                       + \"_STUDYID_\"\n-                      + resourceArrayList.get(i).getAvailability().getSourceActivityId(),\n-                  resourceArrayList.get(i).getAvailability().getSourceKey(),\n+                      + AppController.getSourceActivityId(resourceArrayList.get(i)),\n+                  AppController.getSourceKey(resourceArrayList.get(i)),\n                   realm);\n           if (stepRecordCustom != null) {\n             Calendar startCalender = Calendar.getInstance();\n"}}, {"oid": "6d701ead10c3193af2074dbd1703f58c04aad942", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6d701ead10c3193af2074dbd1703f58c04aad942", "message": "review comments fixes", "committedDate": "2020-10-13T16:55:16Z", "type": "commit"}, {"oid": "9fc0ef2f5e3d121b86dda9c8e3e4dd95b60f59a4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9fc0ef2f5e3d121b86dda9c8e3e4dd95b60f59a4", "message": "format issue", "committedDate": "2020-10-13T16:59:23Z", "type": "commit"}]}