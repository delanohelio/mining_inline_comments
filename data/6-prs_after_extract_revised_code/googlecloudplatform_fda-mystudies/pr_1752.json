{"pr_number": 1752, "pr_title": "[participant-datastore]:- [POST]\"/enroll\" endpoint issue 1614 fixes", "pr_createdAt": "2020-11-02T04:40:01Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1752", "timeline": [{"oid": "1cebb91580c7791149dab59eac51b0f81fca82ad", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1cebb91580c7791149dab59eac51b0f81fca82ad", "message": "issue 1614 fixes", "committedDate": "2020-10-30T09:28:28Z", "type": "commit"}, {"oid": "b7826c92609134116ce258359d3256bf65090098", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b7826c92609134116ce258359d3256bf65090098", "message": "test case corrected", "committedDate": "2020-11-02T04:29:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTczNzA1NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1752#discussion_r515737055", "bodyText": "[enroll-mgmt Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 120).", "author": "github-actions", "createdAt": "2020-11-02T04:40:43Z", "path": "participant-datastore/enroll-mgmt-module/enroll-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/EnrollmentTokenDaoImpl.java", "diffHunk": "@@ -83,10 +83,11 @@ public boolean isValidStudyToken(\n         session\n             .createQuery(\n                 \"from ParticipantRegistrySiteEntity PS where study.customId =:studyId and\"\n-                    + \" upper(trim(enrollmentToken))=:token and email=:email\")\n+                    + \" upper(trim(enrollmentToken))=:token and email=:email and onboardingStatus != :onboardingStatus\")", "originalCommit": "b7826c92609134116ce258359d3256bf65090098", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2aa2bddc8ac5908089af2d43dff6c01b3e7f7bdb", "chunk": "diff --git a/participant-datastore/enroll-mgmt-module/enroll-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/EnrollmentTokenDaoImpl.java b/participant-datastore/enroll-mgmt-module/enroll-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/EnrollmentTokenDaoImpl.java\nindex d22d093bd..f7a5ca0a4 100644\n--- a/participant-datastore/enroll-mgmt-module/enroll-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/EnrollmentTokenDaoImpl.java\n+++ b/participant-datastore/enroll-mgmt-module/enroll-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/EnrollmentTokenDaoImpl.java\n\n@@ -83,7 +83,8 @@ public class EnrollmentTokenDaoImpl implements EnrollmentTokenDao {\n         session\n             .createQuery(\n                 \"from ParticipantRegistrySiteEntity PS where study.customId =:studyId and\"\n-                    + \" upper(trim(enrollmentToken))=:token and email=:email and onboardingStatus != :onboardingStatus\")\n+                    + \" upper(trim(enrollmentToken))=:token and email=:email and\"\n+                    + \" onboardingStatus != :onboardingStatus\")\n             .setParameter(\"studyId\", studyId)\n             .setParameter(\"token\", token.toUpperCase())\n             .setParameter(\"email\", email)\n"}}, {"oid": "2aa2bddc8ac5908089af2d43dff6c01b3e7f7bdb", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2aa2bddc8ac5908089af2d43dff6c01b3e7f7bdb", "message": "code formated + organized imports", "committedDate": "2020-11-02T04:44:30Z", "type": "commit"}, {"oid": "dc1a0e9308ed8059856cc260ecdc7545a5e08049", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/dc1a0e9308ed8059856cc260ecdc7545a5e08049", "message": "Merge branch 'develop' into issue-1614-fixes", "committedDate": "2020-11-02T04:47:09Z", "type": "commit"}, {"oid": "c5300c573cf72e54fc8c0e65fcc8ed4190490c33", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c5300c573cf72e54fc8c0e65fcc8ed4190490c33", "message": "code formated", "committedDate": "2020-11-02T04:50:32Z", "type": "commit"}, {"oid": "f68a331a9934f0d472f867c28521a82b514c688e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f68a331a9934f0d472f867c28521a82b514c688e", "message": "Merge branch 'develop' into issue-1614-fixes", "committedDate": "2020-11-03T05:39:40Z", "type": "commit"}]}