{"pr_number": 1431, "pr_title": "GG-27731 Add assertion message to assert in CachedDeploymentInfo cons\u2026", "pr_createdAt": "2020-09-17T19:30:43Z", "pr_url": "https://github.com/gridgain/gridgain/pull/1431", "timeline": [{"oid": "029d026e5cf572c710358d88b038944e4b2ab2d1", "url": "https://github.com/gridgain/gridgain/commit/029d026e5cf572c710358d88b038944e4b2ab2d1", "message": "GG-27731 Add assertion message to assert in CachedDeploymentInfo constructor (#8231)\n\n(cherry picked from commit f0d9b03276bf3fe080c234247f2e0ee3b26e79d3)", "committedDate": "2020-09-17T19:28:47Z", "type": "commit"}, {"oid": "69197b9f396d35e0fb155e03bd24d6a874116370", "url": "https://github.com/gridgain/gridgain/commit/69197b9f396d35e0fb155e03bd24d6a874116370", "message": "Merge branch 'ce-master' into gg-27731", "committedDate": "2020-11-04T13:05:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTM5OTE4MQ==", "url": "https://github.com/gridgain/gridgain/pull/1431#discussion_r519399181", "bodyText": "I would prefer to add a small message before detailed info as follows:\nUnable to create the deployment info [senderId....]", "author": "sk0x50", "createdAt": "2020-11-08T13:28:47Z", "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/cache/GridCacheDeploymentManager.java", "diffHunk": "@@ -947,7 +947,8 @@ private boolean isLocallyExcluded(String name) {\n          */\n         private CachedDeploymentInfo(UUID sndId, IgniteUuid ldrId, String userVer, DeploymentMode depMode,\n             Map<UUID, IgniteUuid> participants) {\n-            assert sndId.equals(ldrId.globalId()) || participants != null;\n+            assert sndId.equals(ldrId.globalId()) || participants != null : \"[senderId=\" + sndId +", "originalCommit": "029d026e5cf572c710358d88b038944e4b2ab2d1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fc72cfbfc7181c7658dcfb1b0f165e61ff20e5ab", "chunk": "diff --git a/modules/core/src/main/java/org/apache/ignite/internal/processors/cache/GridCacheDeploymentManager.java b/modules/core/src/main/java/org/apache/ignite/internal/processors/cache/GridCacheDeploymentManager.java\nindex 3e0ae769b2b..95f5edd1b66 100644\n--- a/modules/core/src/main/java/org/apache/ignite/internal/processors/cache/GridCacheDeploymentManager.java\n+++ b/modules/core/src/main/java/org/apache/ignite/internal/processors/cache/GridCacheDeploymentManager.java\n\n@@ -954,8 +886,7 @@ public class GridCacheDeploymentManager<K, V> extends GridCacheSharedManagerAdap\n             this.ldrId = ldrId;\n             this.userVer = userVer;\n             this.depMode = depMode;\n-            this.participants = participants == null || participants.isEmpty() ? null :\n-                new ConcurrentLinkedHashMap<>(participants);\n+            this.participants = F.isEmpty(participants) ? null : new ConcurrentLinkedHashMap<>(participants);\n         }\n \n         /**\n"}}, {"oid": "fc72cfbfc7181c7658dcfb1b0f165e61ff20e5ab", "url": "https://github.com/gridgain/gridgain/commit/fc72cfbfc7181c7658dcfb1b0f165e61ff20e5ab", "message": "Merge branch 'ce-master' into gg-27731", "committedDate": "2020-11-12T11:38:24Z", "type": "commit"}, {"oid": "fbc7585a43b9646722bb57f3ba50cafe7d0d6b8d", "url": "https://github.com/gridgain/gridgain/commit/fbc7585a43b9646722bb57f3ba50cafe7d0d6b8d", "message": "GG-27731 Add assertion message to assert in CachedDeploymentInfo constructor", "committedDate": "2020-11-12T11:41:20Z", "type": "commit"}]}