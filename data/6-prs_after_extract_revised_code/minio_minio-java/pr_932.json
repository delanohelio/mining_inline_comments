{"pr_number": 932, "pr_title": "add arg builder to {set,get,delete}BucketNotification APIs", "pr_createdAt": "2020-05-14T07:56:19Z", "pr_url": "https://github.com/minio/minio-java/pull/932", "timeline": [{"oid": "c34db314de186e319b81d6cc9cbc1a1c0b59fb65", "url": "https://github.com/minio/minio-java/commit/c34db314de186e319b81d6cc9cbc1a1c0b59fb65", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-19T14:54:49Z", "type": "forcePushed"}, {"oid": "c035ab9698625e73fdb93497346ee3399bc19341", "url": "https://github.com/minio/minio-java/commit/c035ab9698625e73fdb93497346ee3399bc19341", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-21T10:48:48Z", "type": "forcePushed"}, {"oid": "b308751ae4350c3874fe24d7349a4c229535403c", "url": "https://github.com/minio/minio-java/commit/b308751ae4350c3874fe24d7349a4c229535403c", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-22T07:04:30Z", "type": "forcePushed"}, {"oid": "35655a366882a38e50fff10db8261f01bf2a745d", "url": "https://github.com/minio/minio-java/commit/35655a366882a38e50fff10db8261f01bf2a745d", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-26T10:16:24Z", "type": "forcePushed"}, {"oid": "455bbc7ef3c37a4bf855424797911d0abaa1b8ed", "url": "https://github.com/minio/minio-java/commit/455bbc7ef3c37a4bf855424797911d0abaa1b8ed", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-28T05:15:40Z", "type": "forcePushed"}, {"oid": "2e43235b069668a27e01aff900bfb6b42eae2f94", "url": "https://github.com/minio/minio-java/commit/2e43235b069668a27e01aff900bfb6b42eae2f94", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-28T05:20:47Z", "type": "forcePushed"}, {"oid": "b3558367fe69babe0374a5fef7d04b2036ff6646", "url": "https://github.com/minio/minio-java/commit/b3558367fe69babe0374a5fef7d04b2036ff6646", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-28T05:41:10Z", "type": "forcePushed"}, {"oid": "d250639d897e9a6e07c29badd978ba734fe2839e", "url": "https://github.com/minio/minio-java/commit/d250639d897e9a6e07c29badd978ba734fe2839e", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-28T07:27:08Z", "type": "forcePushed"}, {"oid": "fd9d79c00c75f8407c56cafc8ed63667534a64af", "url": "https://github.com/minio/minio-java/commit/fd9d79c00c75f8407c56cafc8ed63667534a64af", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-28T07:37:11Z", "type": "forcePushed"}, {"oid": "835ac4293f7a78e34cf56eede8d3a25ed9c6a3f9", "url": "https://github.com/minio/minio-java/commit/835ac4293f7a78e34cf56eede8d3a25ed9c6a3f9", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-29T05:04:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ1MjUzNQ==", "url": "https://github.com/minio/minio-java/pull/932#discussion_r432452535", "bodyText": "Good to add deprecation comment also with link to new method", "author": "anjalshireesh", "createdAt": "2020-05-29T12:34:39Z", "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -4840,14 +4840,47 @@ public String getBucketLifeCycle(GetBucketLifeCycleArgs args)\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n    */\n+  @Deprecated", "originalCommit": "835ac4293f7a78e34cf56eede8d3a25ed9c6a3f9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUxMjg1NQ==", "url": "https://github.com/minio/minio-java/pull/932#discussion_r432512855", "bodyText": "Done", "author": "balamurugana", "createdAt": "2020-05-29T14:16:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ1MjUzNQ=="}], "type": "inlineReview", "revised_code": {"commit": "a7048ce7aa0d3772ad4b641ef391b10fcdfcb6b5", "chunk": "diff --git a/api/src/main/java/io/minio/MinioClient.java b/api/src/main/java/io/minio/MinioClient.java\nindex 2cc1e07e..07e0cb6d 100755\n--- a/api/src/main/java/io/minio/MinioClient.java\n+++ b/api/src/main/java/io/minio/MinioClient.java\n\n@@ -4839,6 +4961,7 @@ public class MinioClient {\n    * @throws IOException thrown to indicate I/O error on S3 operation.\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n+   * @deprecated use {@link #getBucketNotification(GetBucketNotificationArgs)}\n    */\n   @Deprecated\n   public NotificationConfiguration getBucketNotification(String bucketName)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ1NTQ5OQ==", "url": "https://github.com/minio/minio-java/pull/932#discussion_r432455499", "bodyText": "Might be better to call deleteBucketNotification here", "author": "anjalshireesh", "createdAt": "2020-05-29T12:40:33Z", "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -4922,12 +5005,50 @@ public void setBucketNotification(\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n    */\n+  @Deprecated\n   public void removeAllBucketNotification(String bucketName)\n       throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n           InternalException, InvalidBucketNameException, InvalidKeyException,\n           InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n-    NotificationConfiguration notificationConfiguration = new NotificationConfiguration();\n-    setBucketNotification(bucketName, notificationConfiguration);\n+    setBucketNotification(\n+        SetBucketNotificationArgs.builder()\n+            .bucket(bucketName)\n+            .config(new NotificationConfiguration())\n+            .build());", "originalCommit": "835ac4293f7a78e34cf56eede8d3a25ed9c6a3f9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUxMjk5Mw==", "url": "https://github.com/minio/minio-java/pull/932#discussion_r432512993", "bodyText": "Done", "author": "balamurugana", "createdAt": "2020-05-29T14:17:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ1NTQ5OQ=="}], "type": "inlineReview", "revised_code": {"commit": "a7048ce7aa0d3772ad4b641ef391b10fcdfcb6b5", "chunk": "diff --git a/api/src/main/java/io/minio/MinioClient.java b/api/src/main/java/io/minio/MinioClient.java\nindex 2cc1e07e..07e0cb6d 100755\n--- a/api/src/main/java/io/minio/MinioClient.java\n+++ b/api/src/main/java/io/minio/MinioClient.java\n\n@@ -5004,17 +5128,14 @@ public class MinioClient {\n    * @throws IOException thrown to indicate I/O error on S3 operation.\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n+   * @deprecated use {@link #deleteBucketNotification(DeleteBucketNotificationArgs)}\n    */\n   @Deprecated\n   public void removeAllBucketNotification(String bucketName)\n       throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n           InternalException, InvalidBucketNameException, InvalidKeyException,\n           InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n-    setBucketNotification(\n-        SetBucketNotificationArgs.builder()\n-            .bucket(bucketName)\n-            .config(new NotificationConfiguration())\n-            .build());\n+    deleteBucketNotification(DeleteBucketNotificationArgs.builder().bucket(bucketName).build());\n   }\n \n   /**\n"}}, {"oid": "a7048ce7aa0d3772ad4b641ef391b10fcdfcb6b5", "url": "https://github.com/minio/minio-java/commit/a7048ce7aa0d3772ad4b641ef391b10fcdfcb6b5", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-29T14:15:27Z", "type": "forcePushed"}, {"oid": "b7de5ec51075e89478e3e96e4f306ba543eba8ed", "url": "https://github.com/minio/minio-java/commit/b7de5ec51075e89478e3e96e4f306ba543eba8ed", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-30T18:26:46Z", "type": "forcePushed"}, {"oid": "60bf8364a99af5824b017a2722b785411729844a", "url": "https://github.com/minio/minio-java/commit/60bf8364a99af5824b017a2722b785411729844a", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-05-31T05:21:50Z", "type": "forcePushed"}, {"oid": "479651548872f399849d1ae4d97ac83d630a4a5f", "url": "https://github.com/minio/minio-java/commit/479651548872f399849d1ae4d97ac83d630a4a5f", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-06-01T15:39:49Z", "type": "commit"}, {"oid": "479651548872f399849d1ae4d97ac83d630a4a5f", "url": "https://github.com/minio/minio-java/commit/479651548872f399849d1ae4d97ac83d630a4a5f", "message": "add arg builder to {set,get,delete}BucketNotification APIs", "committedDate": "2020-06-01T15:39:49Z", "type": "forcePushed"}]}