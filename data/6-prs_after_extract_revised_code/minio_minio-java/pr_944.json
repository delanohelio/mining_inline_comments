{"pr_number": 944, "pr_title": " Add validation support to the builder framework ", "pr_createdAt": "2020-05-18T08:29:30Z", "pr_url": "https://github.com/minio/minio-java/pull/944", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ2MDk0Nw==", "url": "https://github.com/minio/minio-java/pull/944#discussion_r426460947", "bodyText": "This method need not be static", "author": "anjalshireesh", "createdAt": "2020-05-18T08:40:35Z", "path": "api/src/main/java/io/minio/BucketArgs.java", "diffHunk": "@@ -34,7 +34,7 @@ public String region() {\n   /** Base argument builder class. */\n   public abstract static class Builder<B extends Builder<B, A>, A extends BucketArgs>\n       extends BaseArgs.Builder<B, A> {\n-    protected void validateName(String name) {\n+    private static void validateName(String name) {", "originalCommit": "d7d58e0d91ea6df997eb5ad9d9d3c794c5ab6aba", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fe6fd93692d24fce9745e978a2121bfc08e80776", "chunk": "diff --git a/api/src/main/java/io/minio/BucketArgs.java b/api/src/main/java/io/minio/BucketArgs.java\nindex 259de420..5162b216 100644\n--- a/api/src/main/java/io/minio/BucketArgs.java\n+++ b/api/src/main/java/io/minio/BucketArgs.java\n\n@@ -34,7 +34,7 @@ public abstract class BucketArgs extends BaseArgs {\n   /** Base argument builder class. */\n   public abstract static class Builder<B extends Builder<B, A>, A extends BucketArgs>\n       extends BaseArgs.Builder<B, A> {\n-    private static void validateName(String name) {\n+    private void validateName(String name) {\n       if (name == null) {\n         throw new IllegalArgumentException(\"null bucket name\");\n       }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ2MTE1MQ==", "url": "https://github.com/minio/minio-java/pull/944#discussion_r426461151", "bodyText": "This method need not be static", "author": "anjalshireesh", "createdAt": "2020-05-18T08:40:54Z", "path": "api/src/main/java/io/minio/BucketArgs.java", "diffHunk": "@@ -60,15 +60,28 @@ protected void validateName(String name) {\n       }\n     }\n \n-    @SuppressWarnings(\"unchecked\") // Its safe to type cast to T as T is inherited by this class\n+    private static void validateRegion(String region) {", "originalCommit": "d7d58e0d91ea6df997eb5ad9d9d3c794c5ab6aba", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fe6fd93692d24fce9745e978a2121bfc08e80776", "chunk": "diff --git a/api/src/main/java/io/minio/BucketArgs.java b/api/src/main/java/io/minio/BucketArgs.java\nindex 259de420..5162b216 100644\n--- a/api/src/main/java/io/minio/BucketArgs.java\n+++ b/api/src/main/java/io/minio/BucketArgs.java\n\n@@ -60,7 +60,7 @@ public abstract class BucketArgs extends BaseArgs {\n       }\n     }\n \n-    private static void validateRegion(String region) {\n+    private void validateRegion(String region) {\n       if (region != null && region.isEmpty()) {\n         throw new IllegalArgumentException(\"region cannot be empty\");\n       }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ2MTY4Mw==", "url": "https://github.com/minio/minio-java/pull/944#discussion_r426461683", "bodyText": "This condition should be:\nif (region == null || region.isEmpty())", "author": "anjalshireesh", "createdAt": "2020-05-18T08:41:44Z", "path": "api/src/main/java/io/minio/BucketArgs.java", "diffHunk": "@@ -60,15 +60,28 @@ protected void validateName(String name) {\n       }\n     }\n \n-    @SuppressWarnings(\"unchecked\") // Its safe to type cast to T as T is inherited by this class\n+    private static void validateRegion(String region) {\n+      if (region != null && region.isEmpty()) {", "originalCommit": "d7d58e0d91ea6df997eb5ad9d9d3c794c5ab6aba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ3ODgwNA==", "url": "https://github.com/minio/minio-java/pull/944#discussion_r426478804", "bodyText": "Actually null region is allowed. When region is null we need to probe or use default region. However if region is provided, it should not be empty.", "author": "balamurugana", "createdAt": "2020-05-18T09:08:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ2MTY4Mw=="}], "type": "inlineReview", "revised_code": {"commit": "fe6fd93692d24fce9745e978a2121bfc08e80776", "chunk": "diff --git a/api/src/main/java/io/minio/BucketArgs.java b/api/src/main/java/io/minio/BucketArgs.java\nindex 259de420..5162b216 100644\n--- a/api/src/main/java/io/minio/BucketArgs.java\n+++ b/api/src/main/java/io/minio/BucketArgs.java\n\n@@ -60,7 +60,7 @@ public abstract class BucketArgs extends BaseArgs {\n       }\n     }\n \n-    private static void validateRegion(String region) {\n+    private void validateRegion(String region) {\n       if (region != null && region.isEmpty()) {\n         throw new IllegalArgumentException(\"region cannot be empty\");\n       }\n"}}, {"oid": "fe6fd93692d24fce9745e978a2121bfc08e80776", "url": "https://github.com/minio/minio-java/commit/fe6fd93692d24fce9745e978a2121bfc08e80776", "message": "validate args before returning in BaseArgs.Builder.build()", "committedDate": "2020-05-18T09:13:04Z", "type": "forcePushed"}, {"oid": "fc89a909b015a6c09cb8668740a87e1a063d169f", "url": "https://github.com/minio/minio-java/commit/fc89a909b015a6c09cb8668740a87e1a063d169f", "message": "Add validation support to the builder framework", "committedDate": "2020-05-18T09:57:34Z", "type": "commit"}, {"oid": "fc89a909b015a6c09cb8668740a87e1a063d169f", "url": "https://github.com/minio/minio-java/commit/fc89a909b015a6c09cb8668740a87e1a063d169f", "message": "Add validation support to the builder framework", "committedDate": "2020-05-18T09:57:34Z", "type": "forcePushed"}]}