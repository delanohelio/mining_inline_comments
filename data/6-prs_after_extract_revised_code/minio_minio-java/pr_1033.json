{"pr_number": 1033, "pr_title": "add xml object representation of replication configuration", "pr_createdAt": "2020-08-09T13:31:32Z", "pr_url": "https://github.com/minio/minio-java/pull/1033", "timeline": [{"oid": "7584ab3d3260ab0f0d540b8c7177b49662ac791a", "url": "https://github.com/minio/minio-java/commit/7584ab3d3260ab0f0d540b8c7177b49662ac791a", "message": "add xml object representation of replication configuration", "committedDate": "2020-08-09T13:40:18Z", "type": "commit"}, {"oid": "7584ab3d3260ab0f0d540b8c7177b49662ac791a", "url": "https://github.com/minio/minio-java/commit/7584ab3d3260ab0f0d540b8c7177b49662ac791a", "message": "add xml object representation of replication configuration", "committedDate": "2020-08-09T13:40:18Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNzkxMQ==", "url": "https://github.com/minio/minio-java/pull/1033#discussion_r473407911", "bodyText": "is this test really serving the purpose as it will always be skipped without remote target set up on MinIO server? Other than that, PR looks good to me.", "author": "poornas", "createdAt": "2020-08-19T22:55:21Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3750,6 +3705,7 @@ public static void main(String[] args) throws Exception {\n         dataFile6Mb = Paths.get(dataDir, \"datafile-6-MB\");\n       }\n     }\n+    replicationSrcBucket = System.getenv(\"MINIO_JAVA_TEST_REPLICATION_SRC_BUCKET\");", "originalCommit": "7584ab3d3260ab0f0d540b8c7177b49662ac791a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3NjEzMw==", "url": "https://github.com/minio/minio-java/pull/1033#discussion_r473576133", "bodyText": "Yes. It is needed. That's how I tested the implementation. Do you think any better way to do in automated tests?", "author": "balamurugana", "createdAt": "2020-08-20T04:08:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNzkxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU5MTIxMA==", "url": "https://github.com/minio/minio-java/pull/1033#discussion_r473591210", "bodyText": "the MINIO_JAVA_TEST_REPLICATION_ROLE is validated on MinIO server while setting the replication configuration - since java SDK does not implement the admin API to get the arn while setting up remote targets, I do not see how this test will get executed", "author": "poornas", "createdAt": "2020-08-20T05:03:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNzkxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYxNTM1OQ==", "url": "https://github.com/minio/minio-java/pull/1033#discussion_r473615359", "bodyText": "You would need to run these functional tests by exporting\n$ export MINIO_JAVA_TEST_REPLICATION_SRC_BUCKET=<SRC-BUCKET>\n$ export MINIO_JAVA_TEST_REPLICATION_ROLE=<REPLICATON-ROLE>\n$ export MINIO_JAVA_TEST_REPLICATION_BUCKET_ARN=<REPLICATION-BUCKET-ARN>\n$`./gradlew runFunctionalTest -Pendpoint=ENDPOINT -PaccessKey=ACCESSKEY -PsecretKey=SECRETKEY -Pregion=REGION`\nHere you would need to have source/destination buckets and replication role created before running the test.", "author": "balamurugana", "createdAt": "2020-08-20T05:42:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNzkxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE2NjEyOQ==", "url": "https://github.com/minio/minio-java/pull/1033#discussion_r474166129", "bodyText": "my comment was wr.t mint tests.", "author": "poornas", "createdAt": "2020-08-20T17:49:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNzkxMQ=="}], "type": "inlineReview", "revised_code": null}]}