{"pr_number": 1463, "pr_title": "Add an all results search suggestion", "pr_createdAt": "2020-10-17T23:18:02Z", "pr_url": "https://github.com/quran/quran_android/pull/1463", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk5NDM1NQ==", "url": "https://github.com/quran/quran_android/pull/1463#discussion_r506994355", "bodyText": "maybe can improve this - only show for example if queryIsArabic, or if not all databases were searched, or if more than a certain number of results were found.", "author": "ahmedre", "createdAt": "2020-10-17T23:19:50Z", "path": "app/src/main/java/com/quran/labs/androidquran/data/QuranDataProvider.java", "diffHunk": "@@ -182,6 +182,12 @@ private Cursor getSuggestions(String query) {\n       }\n     }\n \n+    if (context != null) {\n+      mc.addRow(new Object[] {", "originalCommit": "e9ef130e47b08063c078a9d073c2d2e726d63d21", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ac20d9d1edb96d6b838ea54b06d3c72c5c267128", "chunk": "diff --git a/app/src/main/java/com/quran/labs/androidquran/data/QuranDataProvider.java b/app/src/main/java/com/quran/labs/androidquran/data/QuranDataProvider.java\nindex aa78c520..984226ed 100644\n--- a/app/src/main/java/com/quran/labs/androidquran/data/QuranDataProvider.java\n+++ b/app/src/main/java/com/quran/labs/androidquran/data/QuranDataProvider.java\n\n@@ -175,6 +184,7 @@ public class QuranDataProvider extends ContentProvider {\n             row.add(text);\n             row.add(foundText);\n             row.add(id);\n+            results++;\n           } while (suggestions.moveToNext());\n         }\n       } finally {\n"}}, {"oid": "ac20d9d1edb96d6b838ea54b06d3c72c5c267128", "url": "https://github.com/quran/quran_android/commit/ac20d9d1edb96d6b838ea54b06d3c72c5c267128", "message": "Add an all results search suggestion\n\nImprove search suggestions by adding an \"all results\" search suggestion\nresult. Because of the way Arabic search works, the search has to be\nvery broad, and more specific results have to be filtered in code.\nConsequently, there's a limit of the first set of results found from the\ndatabase (before filtering). Consequently, queries that match many\nthings in the middle will only return some results instead of all. This\npatch updates search suggestions to include an \"all results\" item to do\na full, unrestricted search.\n\nFixes #1404.", "committedDate": "2020-10-18T21:54:41Z", "type": "commit"}, {"oid": "ac20d9d1edb96d6b838ea54b06d3c72c5c267128", "url": "https://github.com/quran/quran_android/commit/ac20d9d1edb96d6b838ea54b06d3c72c5c267128", "message": "Add an all results search suggestion\n\nImprove search suggestions by adding an \"all results\" search suggestion\nresult. Because of the way Arabic search works, the search has to be\nvery broad, and more specific results have to be filtered in code.\nConsequently, there's a limit of the first set of results found from the\ndatabase (before filtering). Consequently, queries that match many\nthings in the middle will only return some results instead of all. This\npatch updates search suggestions to include an \"all results\" item to do\na full, unrestricted search.\n\nFixes #1404.", "committedDate": "2020-10-18T21:54:41Z", "type": "forcePushed"}]}