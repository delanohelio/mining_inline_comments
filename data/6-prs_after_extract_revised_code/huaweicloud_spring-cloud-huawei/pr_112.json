{"pr_number": 112, "pr_title": "[issue #69] support kie", "pr_createdAt": "2020-01-07T13:25:02Z", "pr_url": "https://github.com/huaweicloud/spring-cloud-huawei/pull/112", "timeline": [{"oid": "6dd643b4c395fe2269d3575b7ab1d68d9ed8f277", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/6dd643b4c395fe2269d3575b7ab1d68d9ed8f277", "message": "support kie", "committedDate": "2020-01-07T13:24:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA1MjM2NQ==", "url": "https://github.com/huaweicloud/spring-cloud-huawei/pull/112#discussion_r364052365", "bodyText": "Use\nstringBuilder.append().apend().apend()...\nseems more graceful", "author": "AngLi2", "createdAt": "2020-01-08T03:38:47Z", "path": "spring-cloud-huawei-config/src/main/java/com/huaweicloud/config/client/ServiceCombConfigClient.java", "diffHunk": "@@ -109,4 +134,49 @@ public ServiceCombConfigClient(String urls, HttpTransport httpTransport) {\n       throw new RemoteOperationException(\"read response failed. \" + response, e);\n     }\n   }\n+\n+  /**\n+   * @param serviceCombConfigProperties\n+   * @param project\n+   * @return\n+   * @throws RemoteOperationException\n+   */\n+  public Map<String, String> loadFromKie(ServiceCombConfigProperties serviceCombConfigProperties,\n+      String project)\n+      throws RemoteOperationException {\n+    Response response = null;\n+    Map<String, String> result = new HashMap<>();\n+    try {\n+      StringBuilder stringBuilder = new StringBuilder(configCenterConfig.getUrl());\n+      stringBuilder.append(\"/\");\n+      stringBuilder.append(ConfigConstants.DEFAULT_KIE_API_VERSION);\n+      stringBuilder.append(\"/\");\n+      stringBuilder.append(project);\n+      stringBuilder.append(\"/kie/kv?label=app:\");\n+      stringBuilder.append(serviceCombConfigProperties.getAppName());", "originalCommit": "6dd643b4c395fe2269d3575b7ab1d68d9ed8f277", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDEwNjcyMw==", "url": "https://github.com/huaweicloud/spring-cloud-huawei/pull/112#discussion_r364106723", "bodyText": "use\nString str = \"x\"+\"xx\";\njdk will use StringBuilder automatic.", "author": "GuoYL123", "createdAt": "2020-01-08T08:16:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA1MjM2NQ=="}], "type": "inlineReview", "revised_code": {"commit": "e04c4779341e1f07b429c6d3730b6fdfaec3a20a", "chunk": "diff --git a/spring-cloud-huawei-config/src/main/java/com/huaweicloud/config/client/ServiceCombConfigClient.java b/spring-cloud-huawei-config/src/main/java/com/huaweicloud/config/client/ServiceCombConfigClient.java\nindex 0842e34..13bb77c 100644\n--- a/spring-cloud-huawei-config/src/main/java/com/huaweicloud/config/client/ServiceCombConfigClient.java\n+++ b/spring-cloud-huawei-config/src/main/java/com/huaweicloud/config/client/ServiceCombConfigClient.java\n\n@@ -147,14 +147,14 @@ public class ServiceCombConfigClient {\n     Response response = null;\n     Map<String, String> result = new HashMap<>();\n     try {\n-      StringBuilder stringBuilder = new StringBuilder(configCenterConfig.getUrl());\n-      stringBuilder.append(\"/\");\n-      stringBuilder.append(ConfigConstants.DEFAULT_KIE_API_VERSION);\n-      stringBuilder.append(\"/\");\n-      stringBuilder.append(project);\n-      stringBuilder.append(\"/kie/kv?label=app:\");\n-      stringBuilder.append(serviceCombConfigProperties.getAppName());\n-      response = httpTransport.sendGetRequest(stringBuilder.toString());\n+      String stringBuilder = configCenterConfig.getUrl()\n+          + \"/\"\n+          + ConfigConstants.DEFAULT_KIE_API_VERSION\n+          + \"/\"\n+          + project\n+          + \"/kie/kv?label=app:\"\n+          + serviceCombConfigProperties.getAppName();\n+      response = httpTransport.sendGetRequest(stringBuilder);\n       if (response == null) {\n         return result;\n       }\n"}}, {"oid": "6c99c4f1d507565fe2d4e0d0283f9b9272aabb03", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/6c99c4f1d507565fe2d4e0d0283f9b9272aabb03", "message": "add all file update", "committedDate": "2020-01-08T08:02:18Z", "type": "commit"}, {"oid": "e04c4779341e1f07b429c6d3730b6fdfaec3a20a", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/e04c4779341e1f07b429c6d3730b6fdfaec3a20a", "message": "modify StringBuilder", "committedDate": "2020-01-08T08:14:17Z", "type": "commit"}, {"oid": "1c304ce3e2f5b40879c8414a846929102b6702b0", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/1c304ce3e2f5b40879c8414a846929102b6702b0", "message": "update the config file to refresh", "committedDate": "2020-01-08T08:30:22Z", "type": "commit"}, {"oid": "1b8e8df5393c54c949136a9a75ed410a3f4e1b20", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/1b8e8df5393c54c949136a9a75ed410a3f4e1b20", "message": "just support different type for value. parse the whole file will do in kie server.", "committedDate": "2020-01-09T09:38:40Z", "type": "forcePushed"}, {"oid": "44d35d25428e78a87528ef433c1fa17e275598f6", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/44d35d25428e78a87528ef433c1fa17e275598f6", "message": "just support different type for value. parse the whole file will do in kie server.", "committedDate": "2020-01-09T09:40:09Z", "type": "commit"}, {"oid": "44d35d25428e78a87528ef433c1fa17e275598f6", "url": "https://github.com/huaweicloud/spring-cloud-huawei/commit/44d35d25428e78a87528ef433c1fa17e275598f6", "message": "just support different type for value. parse the whole file will do in kie server.", "committedDate": "2020-01-09T09:40:09Z", "type": "forcePushed"}]}