{"pr_number": 992, "pr_title": "stats: introduce stats client", "pr_createdAt": "2020-07-30T23:11:08Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/992", "timeline": [{"oid": "37370d5e34ef6dd83cc18ad32538897f2ea399e7", "url": "https://github.com/envoyproxy/envoy-mobile/commit/37370d5e34ef6dd83cc18ad32538897f2ea399e7", "message": "update interface\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-07-31T00:07:49Z", "type": "forcePushed"}, {"oid": "c7d99afec04544315bae76e7b5ad83e841a0dc6d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c7d99afec04544315bae76e7b5ad83e841a0dc6d", "message": "wip\n\nCo-authored-by: Jingwei <57155915+jingwei99@users.noreply.github.com>\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-04T10:30:40Z", "type": "commit"}, {"oid": "8c3c0cd0eaed242db677dcc777838654cc38d802", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8c3c0cd0eaed242db677dcc777838654cc38d802", "message": "update\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:30:40Z", "type": "commit"}, {"oid": "b804494f898c0656d74822c28e8866ce236b37b1", "url": "https://github.com/envoyproxy/envoy-mobile/commit/b804494f898c0656d74822c28e8866ce236b37b1", "message": "update interfaces and implementations\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:30:40Z", "type": "commit"}, {"oid": "fab1505856a7341f6a2c6a37c5624dd95bba70a2", "url": "https://github.com/envoyproxy/envoy-mobile/commit/fab1505856a7341f6a2c6a37c5624dd95bba70a2", "message": "more files\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:30:40Z", "type": "commit"}, {"oid": "0213f89234c38e989ce20ffadd644d7f729ebef1", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0213f89234c38e989ce20ffadd644d7f729ebef1", "message": "update interface\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:30:40Z", "type": "commit"}, {"oid": "b54bd6ae2b7c72644f37aa9f7dff9242df14604d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/b54bd6ae2b7c72644f37aa9f7dff9242df14604d", "message": "comments\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:30:40Z", "type": "commit"}, {"oid": "09c6cc1130639c57c4ab74efb96d694b5f0dd032", "url": "https://github.com/envoyproxy/envoy-mobile/commit/09c6cc1130639c57c4ab74efb96d694b5f0dd032", "message": "wip updating Swift interfaces\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-04T10:30:41Z", "type": "commit"}, {"oid": "4ac676ded9c3641d84153af242d97ea87cb146ec", "url": "https://github.com/envoyproxy/envoy-mobile/commit/4ac676ded9c3641d84153af242d97ea87cb146ec", "message": "cleanup\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-04T10:31:30Z", "type": "commit"}, {"oid": "4801a0b49c17c9f4e3faed9ebf9dc92cef07ab62", "url": "https://github.com/envoyproxy/envoy-mobile/commit/4801a0b49c17c9f4e3faed9ebf9dc92cef07ab62", "message": "add strong type of element for android\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:31:30Z", "type": "commit"}, {"oid": "7f71fe512e505ae8ba15572aeb9e20d7290b3eda", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7f71fe512e505ae8ba15572aeb9e20d7290b3eda", "message": "doc for Element\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-04T10:31:30Z", "type": "commit"}, {"oid": "843175a70bc94e84d5c39d87bf434625d9cbe836", "url": "https://github.com/envoyproxy/envoy-mobile/commit/843175a70bc94e84d5c39d87bf434625d9cbe836", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-04T10:33:55Z", "type": "commit"}, {"oid": "843175a70bc94e84d5c39d87bf434625d9cbe836", "url": "https://github.com/envoyproxy/envoy-mobile/commit/843175a70bc94e84d5c39d87bf434625d9cbe836", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-04T10:33:55Z", "type": "forcePushed"}, {"oid": "7d363fbd7c38fa2f67b9f5741f91fdd655a6e670", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7d363fbd7c38fa2f67b9f5741f91fdd655a6e670", "message": "add Swift Element\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-04T20:23:49Z", "type": "commit"}, {"oid": "3ded59b7f4703d4031203fad6e91e6c52a033130", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3ded59b7f4703d4031203fad6e91e6c52a033130", "message": "edit after rebase, forqak android\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-05T16:11:39Z", "type": "commit"}, {"oid": "3ded59b7f4703d4031203fad6e91e6c52a033130", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3ded59b7f4703d4031203fad6e91e6c52a033130", "message": "edit after rebase, forqak android\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-05T16:11:39Z", "type": "forcePushed"}, {"oid": "2d8aa5a5e01b142eccf4decadc819b0524162196", "url": "https://github.com/envoyproxy/envoy-mobile/commit/2d8aa5a5e01b142eccf4decadc819b0524162196", "message": "fix ci (mostly) for android\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-06T01:25:26Z", "type": "commit"}, {"oid": "356390c9fe2f34b336cc2aaeb0f66d3b334fed4d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/356390c9fe2f34b336cc2aaeb0f66d3b334fed4d", "message": "fix up swift Element\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-06T11:28:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU2MDU1OA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/992#discussion_r466560558", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                engine.getStreamClient().newStreamPrototype()\n          \n          \n            \n                    .setOnResponseHeaders((responseHeaders, endStream) -> {\n          \n          \n            \n                engine.getStreamClient()\n          \n          \n            \n                    .newStreamPrototype()\n          \n          \n            \n                    .setOnResponseHeaders((responseHeaders, endStream) -> {", "author": "buildbreaker", "createdAt": "2020-08-06T17:11:23Z", "path": "examples/java/hello_world/MainActivity.java", "diffHunk": "@@ -76,7 +76,7 @@ private void makeRequest() {\n     RequestHeaders requestHeaders = new RequestHeadersBuilder(RequestMethod.GET, REQUEST_SCHEME,\n                                                               REQUEST_AUTHORITY, REQUEST_PATH)\n                                         .build();\n-    streamClient.newStreamPrototype()\n+    engine.getStreamClient().newStreamPrototype()\n         .setOnResponseHeaders((responseHeaders, endStream) -> {", "originalCommit": "356390c9fe2f34b336cc2aaeb0f66d3b334fed4d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8ab5ad2178414c6b512a2fa56f61db73d618ecba", "chunk": "diff --git a/examples/java/hello_world/MainActivity.java b/examples/java/hello_world/MainActivity.java\nindex 407cf7fb..bcad0347 100644\n--- a/examples/java/hello_world/MainActivity.java\n+++ b/examples/java/hello_world/MainActivity.java\n\n@@ -76,7 +76,8 @@ public class MainActivity extends Activity {\n     RequestHeaders requestHeaders = new RequestHeadersBuilder(RequestMethod.GET, REQUEST_SCHEME,\n                                                               REQUEST_AUTHORITY, REQUEST_PATH)\n                                         .build();\n-    engine.getStreamClient().newStreamPrototype()\n+    engine.getStreamClient()\n+        .newStreamPrototype()\n         .setOnResponseHeaders((responseHeaders, endStream) -> {\n           Integer status = responseHeaders.getHttpStatus();\n           String message = \"received headers with status \" + status;\n"}}, {"oid": "8ab5ad2178414c6b512a2fa56f61db73d618ecba", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8ab5ad2178414c6b512a2fa56f61db73d618ecba", "message": "formatting/lint\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-06T17:48:17Z", "type": "commit"}, {"oid": "de2891007fedd03e8d099e404573298d13371ad0", "url": "https://github.com/envoyproxy/envoy-mobile/commit/de2891007fedd03e8d099e404573298d13371ad0", "message": "fix iOS example apps\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-06T18:35:01Z", "type": "commit"}, {"oid": "352fd28fee9f674023da716efcbe0dcea8fdc58c", "url": "https://github.com/envoyproxy/envoy-mobile/commit/352fd28fee9f674023da716efcbe0dcea8fdc58c", "message": "fix test\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-06T19:36:50Z", "type": "commit"}, {"oid": "d977737d9b2abb880326c8b1bfcb336792b92b36", "url": "https://github.com/envoyproxy/envoy-mobile/commit/d977737d9b2abb880326c8b1bfcb336792b92b36", "message": "comments\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-07T22:52:33Z", "type": "commit"}, {"oid": "ec8f26aee08337f092ed1a67561dd1723d7aeab3", "url": "https://github.com/envoyproxy/envoy-mobile/commit/ec8f26aee08337f092ed1a67561dd1723d7aeab3", "message": "Merge branch 'main' into jh-ms/stats-poc\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-08T00:01:39Z", "type": "commit"}, {"oid": "bad842212177211e4a893c7b5dc638532c64e09d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/bad842212177211e4a893c7b5dc638532c64e09d", "message": "examples\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-08T00:04:57Z", "type": "commit"}, {"oid": "a8d0bbbc59edbb5d9b347e3f8cc3554370061de0", "url": "https://github.com/envoyproxy/envoy-mobile/commit/a8d0bbbc59edbb5d9b347e3f8cc3554370061de0", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-08T00:36:29Z", "type": "commit"}, {"oid": "e75dbebd82e5703f3f8bbc45b9398a8d77a38735", "url": "https://github.com/envoyproxy/envoy-mobile/commit/e75dbebd82e5703f3f8bbc45b9398a8d77a38735", "message": "add Swift tests for StatsClientImpl\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T11:16:08Z", "type": "commit"}, {"oid": "3962e9655fb36f70edc1dee63c503f32160e8052", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3962e9655fb36f70edc1dee63c503f32160e8052", "message": "swiftlint fixes\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T19:39:05Z", "type": "commit"}, {"oid": "827d6930b01ebc47034d94bbb6fe446394db8f30", "url": "https://github.com/envoyproxy/envoy-mobile/commit/827d6930b01ebc47034d94bbb6fe446394db8f30", "message": "fix swift example app\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T19:41:56Z", "type": "commit"}, {"oid": "0a216a5a51411410a2881b17b7781e43c3845c9f", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0a216a5a51411410a2881b17b7781e43c3845c9f", "message": "update and align docstrings and comments\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T20:16:23Z", "type": "commit"}, {"oid": "e89dfa0c347b464f3e5651cf2533d2839e62c841", "url": "https://github.com/envoyproxy/envoy-mobile/commit/e89dfa0c347b464f3e5651cf2533d2839e62c841", "message": "rename stat directory to stats\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T20:30:11Z", "type": "commit"}, {"oid": "9fdaaca2b394686e5ca415abcfd225cc6ced3276", "url": "https://github.com/envoyproxy/envoy-mobile/commit/9fdaaca2b394686e5ca415abcfd225cc6ced3276", "message": "don't override CustomStringConvertible\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T20:35:34Z", "type": "commit"}, {"oid": "d3b575b3cc8d9426684ace77a62cdb292d64b933", "url": "https://github.com/envoyproxy/envoy-mobile/commit/d3b575b3cc8d9426684ace77a62cdb292d64b933", "message": "couple more updates for comments\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T20:58:43Z", "type": "commit"}, {"oid": "b623969bc5f492c75195e861a3021563c9ae1477", "url": "https://github.com/envoyproxy/envoy-mobile/commit/b623969bc5f492c75195e861a3021563c9ae1477", "message": "make clients be properties on swift Engine\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T21:36:58Z", "type": "commit"}, {"oid": "6ae7be32f03c919e8c0fd77a20449d87a55f5195", "url": "https://github.com/envoyproxy/envoy-mobile/commit/6ae7be32f03c919e8c0fd77a20449d87a55f5195", "message": "add experimental callout\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-10T21:45:12Z", "type": "commit"}, {"oid": "7fc3ec0afd483f96a3033255f9802a58091b5a9d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7fc3ec0afd483f96a3033255f9802a58091b5a9d", "message": "comments\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-11T02:17:22Z", "type": "commit"}, {"oid": "c089d6952d9f4b8e0b0ba58e9ee36e94f71f266c", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c089d6952d9f4b8e0b0ba58e9ee36e94f71f266c", "message": "andr\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-11T04:39:38Z", "type": "commit"}]}