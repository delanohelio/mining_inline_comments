{"pr_number": 5380, "pr_title": "Improve flaky DiskSpaceMonitoringFailover test", "pr_createdAt": "2020-09-21T06:34:13Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5380", "timeline": [{"oid": "d38b83ab0e5fa653cd8066cc59b79e515c80e073", "url": "https://github.com/camunda-cloud/zeebe/commit/d38b83ab0e5fa653cd8066cc59b79e515c80e073", "message": "chore(qa): advance clock to rescan health", "committedDate": "2020-09-18T07:11:37Z", "type": "commit"}, {"oid": "9fec1c76528ab5b75e9d97b00a9573e0778bffc8", "url": "https://github.com/camunda-cloud/zeebe/commit/9fec1c76528ab5b75e9d97b00a9573e0778bffc8", "message": "chore(qa): increase timeout for waitForTopology", "committedDate": "2020-09-18T13:37:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg1OTk0OA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5380#discussion_r491859948", "bodyText": "In some cases, this will increase the runtime of our ci pipelines. I have a feeling that many tests use this method, increasing the chance of increased duration of ci pipelines. Did you also consider alternative solutions?", "author": "korthout", "createdAt": "2020-09-21T08:11:35Z", "path": "qa/integration-tests/src/test/java/io/zeebe/broker/it/clustering/ClusteringRule.java", "diffHunk": "@@ -630,7 +630,7 @@ private void waitForNewLeaderOfPartitions(\n   public void waitForTopology(final Predicate<List<BrokerInfo>> topologyPredicate) {\n     Awaitility.await()\n         .pollInterval(Duration.ofMillis(100))\n-        .atMost(Duration.ofSeconds(10))\n+        .atMost(Duration.ofSeconds(60))", "originalCommit": "9fec1c76528ab5b75e9d97b00a9573e0778bffc8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg2NDk2Mw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5380#discussion_r491864963", "bodyText": "This would increase the runtime only if the leader election was not fast. In that case, with 10 seconds, the tests would fail. I can't think of alternative solutions - there is no upperbound on how long the raft leader election last.", "author": "deepthidevaki", "createdAt": "2020-09-21T08:20:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg1OTk0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg3MTM0Ng==", "url": "https://github.com/camunda-cloud/zeebe/pull/5380#discussion_r491871346", "bodyText": "As discussed, if it took more than 10 seconds the test would fail, now it might take a bit longer but still have the opportunity to succeed.", "author": "korthout", "createdAt": "2020-09-21T08:32:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg1OTk0OA=="}], "type": "inlineReview", "revised_code": null}]}