{"pr_number": 3847, "pr_title": "chore(exporter): include version in index names", "pr_createdAt": "2020-02-14T15:00:55Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/3847", "timeline": [{"oid": "f3d929ea35ec1eb7c7d6ff6ce3eb87a47b77d330", "url": "https://github.com/camunda-cloud/zeebe/commit/f3d929ea35ec1eb7c7d6ff6ce3eb87a47b77d330", "message": "chore(exporter): include version in index names\n\n- new template/index name style: prefix_name_version[_date]", "committedDate": "2020-02-14T15:02:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MDYwMA==", "url": "https://github.com/camunda-cloud/zeebe/pull/3847#discussion_r380260600", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                final String version = VersionUtil.getVersion().toLowerCase();\n          \n          \n            \n                final String version = VersionUtil.getVersionLowerCase();\n          \n      \n    \n    \n  \n\nLet's use the caching method you added or cache the lowercase version somewhere in the constructor.", "author": "menski", "createdAt": "2020-02-17T15:57:15Z", "path": "exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchClient.java", "diffHunk": "@@ -229,8 +232,17 @@ protected String indexPrefixForValueTypeWithDelimiter(final ValueType valueType)\n     return indexPrefixForValueType(valueType) + INDEX_DELIMITER;\n   }\n \n+  private String aliasNameForValueType(final ValueType valueType) {\n+    return configuration.index.prefix + ALIAS_DELIMITER + valueTypeToString(valueType);\n+  }\n+\n   private String indexPrefixForValueType(final ValueType valueType) {\n-    return configuration.index.prefix + \"-\" + valueTypeToString(valueType);\n+    final String version = VersionUtil.getVersion().toLowerCase();", "originalCommit": "f3d929ea35ec1eb7c7d6ff6ce3eb87a47b77d330", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3c4e5572659e317f9e705960b73178b5e5b0f06d", "chunk": "diff --git a/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchClient.java b/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchClient.java\nindex 615789db24..367374f4cc 100644\n--- a/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchClient.java\n+++ b/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchClient.java\n\n@@ -237,7 +237,7 @@ public class ElasticsearchClient {\n   }\n \n   private String indexPrefixForValueType(final ValueType valueType) {\n-    final String version = VersionUtil.getVersion().toLowerCase();\n+    final String version = VersionUtil.getVersionLowerCase();\n     return configuration.index.prefix\n         + INDEX_DELIMITER\n         + valueTypeToString(valueType)\n"}}, {"oid": "3c4e5572659e317f9e705960b73178b5e5b0f06d", "url": "https://github.com/camunda-cloud/zeebe/commit/3c4e5572659e317f9e705960b73178b5e5b0f06d", "message": "chore(exporter): include version in index names\n\n- new template/index name style: prefix_name_version[_date]", "committedDate": "2020-02-18T08:27:39Z", "type": "commit"}, {"oid": "3c4e5572659e317f9e705960b73178b5e5b0f06d", "url": "https://github.com/camunda-cloud/zeebe/commit/3c4e5572659e317f9e705960b73178b5e5b0f06d", "message": "chore(exporter): include version in index names\n\n- new template/index name style: prefix_name_version[_date]", "committedDate": "2020-02-18T08:27:39Z", "type": "forcePushed"}]}