{"pr_number": 3616, "pr_title": "add a java sample code for create workflow with await result", "pr_createdAt": "2020-01-08T12:55:42Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/3616", "timeline": [{"oid": "923f85fb03ce59b970d09c4cd758493016560290", "url": "https://github.com/camunda-cloud/zeebe/commit/923f85fb03ce59b970d09c4cd758493016560290", "message": "docs(java-client-examples): add sample code for create workflow with await result", "committedDate": "2020-01-08T13:04:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTIwNDYxOA==", "url": "https://github.com/camunda-cloud/zeebe/pull/3616#discussion_r365204618", "bodyText": "Should we mark this line somehow ? with a comment that this is the interesting part", "author": "Zelldon", "createdAt": "2020-01-10T12:07:28Z", "path": "samples/src/main/java/io/zeebe/example/workflow/WorkflowInstanceWithResultCreator.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under\n+ * one or more contributor license agreements. See the NOTICE file distributed\n+ * with this work for additional information regarding copyright ownership.\n+ * Licensed under the Zeebe Community License 1.0. You may not use this file\n+ * except in compliance with the Zeebe Community License 1.0.\n+ */\n+package io.zeebe.example.workflow;\n+\n+import io.zeebe.client.ZeebeClient;\n+import io.zeebe.client.ZeebeClientBuilder;\n+import io.zeebe.client.api.response.WorkflowInstanceResult;\n+import java.time.Duration;\n+import java.util.Map;\n+\n+public class WorkflowInstanceWithResultCreator {\n+  public static void main(final String[] args) {\n+    final String broker = \"127.0.0.1:26500\";\n+\n+    final String bpmnProcessId = \"demoProcessSingleTask\";\n+\n+    final ZeebeClientBuilder builder =\n+        ZeebeClient.newClientBuilder().brokerContactPoint(broker).usePlaintext();\n+\n+    try (final ZeebeClient client = builder.build()) {\n+\n+      openJobWorker(client); // open job workers so that task are executed and workflow is completed\n+      System.out.println(\"Creating workflow instance\");\n+\n+      final WorkflowInstanceResult workflowInstanceResult =\n+          client\n+              .newCreateInstanceCommand()\n+              .bpmnProcessId(bpmnProcessId)\n+              .latestVersion()\n+              .withResult()", "originalCommit": "923f85fb03ce59b970d09c4cd758493016560290", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTIxNDExMg==", "url": "https://github.com/camunda-cloud/zeebe/pull/3616#discussion_r365214112", "bodyText": "Yes.", "author": "deepthidevaki", "createdAt": "2020-01-10T12:35:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTIwNDYxOA=="}], "type": "inlineReview", "revised_code": {"commit": "4d2f42a6744cf33a23f86ec5e9173ad5e0b2099c", "chunk": "diff --git a/samples/src/main/java/io/zeebe/example/workflow/WorkflowInstanceWithResultCreator.java b/samples/src/main/java/io/zeebe/example/workflow/WorkflowInstanceWithResultCreator.java\nindex 79ddaac817..18ac3b605c 100644\n--- a/samples/src/main/java/io/zeebe/example/workflow/WorkflowInstanceWithResultCreator.java\n+++ b/samples/src/main/java/io/zeebe/example/workflow/WorkflowInstanceWithResultCreator.java\n\n@@ -32,7 +32,7 @@ public class WorkflowInstanceWithResultCreator {\n               .newCreateInstanceCommand()\n               .bpmnProcessId(bpmnProcessId)\n               .latestVersion()\n-              .withResult()\n+              .withResult() // to await the completion of workflow execution and return result\n               .send()\n               .join();\n \n"}}, {"oid": "4d2f42a6744cf33a23f86ec5e9173ad5e0b2099c", "url": "https://github.com/camunda-cloud/zeebe/commit/4d2f42a6744cf33a23f86ec5e9173ad5e0b2099c", "message": "docs(java-client-examples): add sample code for create workflow with await result", "committedDate": "2020-01-10T14:35:40Z", "type": "commit"}, {"oid": "4d2f42a6744cf33a23f86ec5e9173ad5e0b2099c", "url": "https://github.com/camunda-cloud/zeebe/commit/4d2f42a6744cf33a23f86ec5e9173ad5e0b2099c", "message": "docs(java-client-examples): add sample code for create workflow with await result", "committedDate": "2020-01-10T14:35:40Z", "type": "forcePushed"}]}