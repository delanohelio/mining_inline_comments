{"pr_number": 4485, "pr_title": "Don't print confidential information", "pr_createdAt": "2020-05-07T13:39:22Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/4485", "timeline": [{"oid": "1e2771bad4e092717ba18e4b7140f5eb2e7f2727", "url": "https://github.com/camunda-cloud/zeebe/commit/1e2771bad4e092717ba18e4b7140f5eb2e7f2727", "message": "fix(exporters): don't print confidential information\n\n The authentication is no longer printed on startup", "committedDate": "2020-05-07T13:37:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUxNjA5NQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/4485#discussion_r421516095", "bodyText": "I would propose to still override toString and keep it blank or something, with a comment that we should not implement it. That way it's less likely that we later add it accidentally. WDYT?", "author": "menski", "createdAt": "2020-05-07T13:46:04Z", "path": "exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporterConfiguration.java", "diffHunk": "@@ -168,16 +174,27 @@ public String toString() {\n   }\n \n   public static class AuthenticationConfiguration {\n-    public String username;\n-    public String password;\n+    private String username;\n+    private String password;\n \n     public boolean isPresent() {\n       return (username != null && !username.isEmpty()) && (password != null && !password.isEmpty());\n     }\n \n-    @Override\n-    public String toString() {", "originalCommit": "1e2771bad4e092717ba18e4b7140f5eb2e7f2727", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "266345d6e334876292f390eb86680376f83b6928", "chunk": "diff --git a/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporterConfiguration.java b/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporterConfiguration.java\nindex cb0828d101..2b1e301d30 100644\n--- a/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporterConfiguration.java\n+++ b/exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporterConfiguration.java\n\n@@ -196,5 +196,11 @@ public class ElasticsearchExporterConfiguration {\n     public void setPassword(final String password) {\n       this.password = password;\n     }\n+\n+    @Override\n+    public String toString() {\n+      // we don't want to expose this information\n+      return \"AuthenticationConfiguration{Confidential information}\";\n+    }\n   }\n }\n"}}, {"oid": "bc666b1562cc1df9b4d72f6534ffad64d083d71b", "url": "https://github.com/camunda-cloud/zeebe/commit/bc666b1562cc1df9b4d72f6534ffad64d083d71b", "message": "fix(broker): donot print confidential informantion\n\n The exporter password and username is replaced with stars to not expose\n them when printing the json on broker bootstrap.", "committedDate": "2020-05-12T04:20:00Z", "type": "commit"}, {"oid": "266345d6e334876292f390eb86680376f83b6928", "url": "https://github.com/camunda-cloud/zeebe/commit/266345d6e334876292f390eb86680376f83b6928", "message": "chore(elastic): overwrite toString\n\n Add comment that we dont want to print confidential information", "committedDate": "2020-05-12T04:23:36Z", "type": "commit"}]}