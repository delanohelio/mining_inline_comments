{"pr_number": 3728, "pr_title": "Update dependencies", "pr_createdAt": "2020-03-20T10:16:25Z", "pr_url": "https://github.com/getodk/collect/pull/3728", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NDc0Nw==", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395544747", "bodyText": "Huh so LeakCanary won't be running in any test build automatically now?", "author": "seadowg", "createdAt": "2020-03-20T10:19:53Z", "path": "collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java", "diffHunk": "@@ -12,12 +10,6 @@\n \n public class TestCollect extends Collect {\n \n-    @Override\n-    protected RefWatcher setupLeakCanary() {", "originalCommit": "3fd5b0f62aa7895620cd0d13ee99072cddfd1bee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NjQ3OQ==", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395546479", "bodyText": "That's what I understand https://square.github.io/leakcanary/recipes/#running-leakcanary-in-instrumentation-tests", "author": "grzesiek2010", "createdAt": "2020-03-20T10:23:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NDc0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NzgzOA==", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395547838", "bodyText": "So much better!", "author": "seadowg", "createdAt": "2020-03-20T10:26:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NDc0Nw=="}], "type": "inlineReview", "revised_code": {"commit": "639d7ff33aa6b0bbd3d0963acbe2c16fada8742c", "chunk": "diff --git a/collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java b/collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java\nindex 1421a8b2e..ce14536d2 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java\n\n@@ -10,6 +12,12 @@ package org.odk.collect.android.application;\n \n public class TestCollect extends Collect {\n \n+    @Override\n+    protected RefWatcher setupLeakCanary() {\n+        // No leakcanary in unit tests.\n+        return RefWatcher.DISABLED;\n+    }\n+\n     @Override\n     protected void setupOSMDroid() {\n         // no op for Robolectric\n"}}, {"oid": "639d7ff33aa6b0bbd3d0963acbe2c16fada8742c", "url": "https://github.com/getodk/collect/commit/639d7ff33aa6b0bbd3d0963acbe2c16fada8742c", "message": "Updated dependencies", "committedDate": "2020-03-31T14:54:58Z", "type": "commit"}, {"oid": "4901fed3045dfa856dc6c5ec45aaa0f1dd8cda40", "url": "https://github.com/getodk/collect/commit/4901fed3045dfa856dc6c5ec45aaa0f1dd8cda40", "message": "Upgrading to LeakCanary 2", "committedDate": "2020-03-31T14:56:57Z", "type": "commit"}, {"oid": "f53fc95929b65cd202976c7c31c2af43e0d421ae", "url": "https://github.com/getodk/collect/commit/f53fc95929b65cd202976c7c31c2af43e0d421ae", "message": "Updated osmdroid", "committedDate": "2020-03-31T14:56:58Z", "type": "commit"}, {"oid": "c3dcd3e20383e954e63893afdc70766ac55d88cd", "url": "https://github.com/getodk/collect/commit/c3dcd3e20383e954e63893afdc70766ac55d88cd", "message": "More updates", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "36a7eab5b8345624a683cd939129b3879d34d6e9", "url": "https://github.com/getodk/collect/commit/36a7eab5b8345624a683cd939129b3879d34d6e9", "message": "Use Android Library for nbi-stubs rather than precompiled .aar [fixes #3732]\n\nThis means the aar used in the build should work with build tools\nupdates. Should also make it easier to debug any problems as the build\nchain will be clearer.", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "d26ed9d65206688afe42eebda264bf5378655f79", "url": "https://github.com/getodk/collect/commit/d26ed9d65206688afe42eebda264bf5378655f79", "message": "Correct typo comment", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "a6e82d47d39cb655b083c7d3a2706c3d2275f3b5", "url": "https://github.com/getodk/collect/commit/a6e82d47d39cb655b083c7d3a2706c3d2275f3b5", "message": "Remove spotbugs", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "6eea8c881629d4921b2efc41753068cf5eb26733", "url": "https://github.com/getodk/collect/commit/6eea8c881629d4921b2efc41753068cf5eb26733", "message": "Move bikram-sambat dep to local jar to prevent Gradle 6.2.2 problems", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "8ba6faf3a5a4952c6216ca016d678aff7b8010b2", "url": "https://github.com/getodk/collect/commit/8ba6faf3a5a4952c6216ca016d678aff7b8010b2", "message": "Update Gradle", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "ed5200e9998624e7305e360b7a5b4c04278929ad", "url": "https://github.com/getodk/collect/commit/ed5200e9998624e7305e360b7a5b4c04278929ad", "message": "Added the Medic repo back", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "60e3e09cd62c377f539080b673df60a9e9274926", "url": "https://github.com/getodk/collect/commit/60e3e09cd62c377f539080b673df60a9e9274926", "message": "Update comment on appcompat issue", "committedDate": "2020-03-31T14:58:28Z", "type": "commit"}, {"oid": "60e3e09cd62c377f539080b673df60a9e9274926", "url": "https://github.com/getodk/collect/commit/60e3e09cd62c377f539080b673df60a9e9274926", "message": "Update comment on appcompat issue", "committedDate": "2020-03-31T14:58:28Z", "type": "forcePushed"}]}