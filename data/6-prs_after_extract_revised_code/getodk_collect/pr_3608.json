{"pr_number": 3608, "pr_title": "Update font size immediately to reflect changed settings while filling a form", "pr_createdAt": "2020-01-24T19:43:30Z", "pr_url": "https://github.com/getodk/collect/pull/3608", "timeline": [{"oid": "ee7127606b6f7fda1bfcc6e18d95b0286f1602e7", "url": "https://github.com/getodk/collect/commit/ee7127606b6f7fda1bfcc6e18d95b0286f1602e7", "message": "update font size immediately while filling a form", "committedDate": "2020-01-24T19:34:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgzNTg4OA==", "url": "https://github.com/getodk/collect/pull/3608#discussion_r370835888", "bodyText": "It would be good to factor it out to a separate method, onResume() is big enough... our goal should be to have small methods with good names to read the code like a story. I know it might be difficult to find such an approach especially looking at ForEntryActivity class but that's a good practice.", "author": "grzesiek2010", "createdAt": "2020-01-24T20:49:42Z", "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2157,6 +2160,11 @@ protected void onResume() {\n             return;\n         }\n \n+        if (questionFontSize != Collect.getQuestionFontsize()) {", "originalCommit": "ee7127606b6f7fda1bfcc6e18d95b0286f1602e7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgzNjEyMQ==", "url": "https://github.com/getodk/collect/pull/3608#discussion_r370836121", "bodyText": "The name could be adjustFontSize for example.", "author": "grzesiek2010", "createdAt": "2020-01-24T20:50:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgzNTg4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg0MzQwOA==", "url": "https://github.com/getodk/collect/pull/3608#discussion_r370843408", "bodyText": "Done. Thanks :)", "author": "chidauri", "createdAt": "2020-01-24T21:10:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgzNTg4OA=="}], "type": "inlineReview", "revised_code": {"commit": "12d904aa12820ada3902211f3fd2590a0d678263", "chunk": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex b30470040..9208e6bf5 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n\n@@ -2159,11 +2166,7 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n             onResumeWasCalledWithoutPermissions = true;\n             return;\n         }\n-\n-        if (questionFontSize != Collect.getQuestionFontsize()) {\n-            questionFontSize = Collect.getQuestionFontsize();\n-            refreshCurrentView();\n-        }\n+        adjustFontSize();\n \n         String navigation = (String) GeneralSharedPreferences.getInstance().get(GeneralKeys.KEY_NAVIGATION);\n         showNavigationButtons = navigation.contains(GeneralKeys.NAVIGATION_BUTTONS);\n"}}, {"oid": "12d904aa12820ada3902211f3fd2590a0d678263", "url": "https://github.com/getodk/collect/commit/12d904aa12820ada3902211f3fd2590a0d678263", "message": "create a separate method", "committedDate": "2020-01-24T21:09:02Z", "type": "commit"}]}