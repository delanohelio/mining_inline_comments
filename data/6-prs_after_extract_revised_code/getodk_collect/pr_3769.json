{"pr_number": 3769, "pr_title": "Separate out test types", "pr_createdAt": "2020-04-08T07:44:53Z", "pr_url": "https://github.com/getodk/collect/pull/3769", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTMyMjk5Nw==", "url": "https://github.com/getodk/collect/pull/3769#discussion_r405322997", "bodyText": "Why are these tests all @Suppressed?", "author": "seadowg", "createdAt": "2020-04-08T07:46:34Z", "path": "collect_app/src/androidTest/java/org/odk/collect/android/feature/externalintents/InstanceChooserListTest.java", "diffHunk": "@@ -11,7 +11,7 @@\n \n import java.io.IOException;\n \n-import static org.odk.collect.android.externalintents.ExportedActivitiesUtils.testDirectories;\n+import static org.odk.collect.android.feature.externalintents.ExportedActivitiesUtils.testDirectories;\n \n @Suppress", "originalCommit": "359ea7418e1cae2de4b8dd732499013422757070", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6496fff528c16adc0ecf18bb6fd5208492fc0f05", "chunk": "diff --git a/collect_app/src/androidTest/java/org/odk/collect/android/feature/externalintents/InstanceChooserListTest.java b/collect_app/src/androidTest/java/org/odk/collect/android/externalintents/InstanceChooserListTest.java\nsimilarity index 81%\nrename from collect_app/src/androidTest/java/org/odk/collect/android/feature/externalintents/InstanceChooserListTest.java\nrename to collect_app/src/androidTest/java/org/odk/collect/android/externalintents/InstanceChooserListTest.java\nindex 226fee0fa..fc9769214 100644\n--- a/collect_app/src/androidTest/java/org/odk/collect/android/feature/externalintents/InstanceChooserListTest.java\n+++ b/collect_app/src/androidTest/java/org/odk/collect/android/externalintents/InstanceChooserListTest.java\n\n@@ -11,7 +11,7 @@ import org.odk.collect.android.activities.InstanceChooserList;\n \n import java.io.IOException;\n \n-import static org.odk.collect.android.feature.externalintents.ExportedActivitiesUtils.testDirectories;\n+import static org.odk.collect.android.externalintents.ExportedActivitiesUtils.testDirectories;\n \n @Suppress\n // Frequent failures: https://github.com/opendatakit/collect/issues/796\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTMyNDQyMQ==", "url": "https://github.com/getodk/collect/pull/3769#discussion_r405324421", "bodyText": "There are a few places where I had to make constants/methods public that were previously package protected. If they weren't meant to be public then they really shouldn't have been used in the test but I didn't want to get into rewriting everything here.", "author": "seadowg", "createdAt": "2020-04-08T07:48:59Z", "path": "collect_app/src/main/java/org/odk/collect/android/database/helpers/FormsDatabaseHelper.java", "diffHunk": "@@ -55,7 +55,7 @@\n     private static final String DATABASE_NAME = \"forms.db\";\n     public static final String FORMS_TABLE_NAME = \"forms\";\n \n-    static final int DATABASE_VERSION = 8;\n+    public static final int DATABASE_VERSION = 8;", "originalCommit": "359ea7418e1cae2de4b8dd732499013422757070", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6496fff528c16adc0ecf18bb6fd5208492fc0f05", "chunk": "diff --git a/collect_app/src/main/java/org/odk/collect/android/database/helpers/FormsDatabaseHelper.java b/collect_app/src/main/java/org/odk/collect/android/database/helpers/FormsDatabaseHelper.java\nindex af833a77c..68368b5eb 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/database/helpers/FormsDatabaseHelper.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/database/helpers/FormsDatabaseHelper.java\n\n@@ -55,7 +55,7 @@ public class FormsDatabaseHelper extends SQLiteOpenHelper {\n     private static final String DATABASE_NAME = \"forms.db\";\n     public static final String FORMS_TABLE_NAME = \"forms\";\n \n-    public static final int DATABASE_VERSION = 8;\n+    static final int DATABASE_VERSION = 8;\n \n     private static final String[] COLUMN_NAMES_V7 = {_ID, DISPLAY_NAME, DESCRIPTION,\n             JR_FORM_ID, JR_VERSION, MD5_HASH, DATE, FORM_MEDIA_PATH, FORM_FILE_PATH, LANGUAGE,\n"}}, {"oid": "541ec683c1accbfeea3868261004036a4c5042f2", "url": "https://github.com/getodk/collect/commit/541ec683c1accbfeea3868261004036a4c5042f2", "message": "Add test guideline link to contributing", "committedDate": "2020-04-16T13:02:10Z", "type": "forcePushed"}, {"oid": "892a6d6163d0889a5b57dfadc0115e2be82b1b1f", "url": "https://github.com/getodk/collect/commit/892a6d6163d0889a5b57dfadc0115e2be82b1b1f", "message": "Improve description of instrumented tests", "committedDate": "2020-04-22T14:21:07Z", "type": "forcePushed"}, {"oid": "6496fff528c16adc0ecf18bb6fd5208492fc0f05", "url": "https://github.com/getodk/collect/commit/6496fff528c16adc0ecf18bb6fd5208492fc0f05", "message": "Add regression and feature tasks", "committedDate": "2020-04-23T11:53:17Z", "type": "commit"}, {"oid": "c8ea0de5f11587eea1496b4e35c13b0a4100eccb", "url": "https://github.com/getodk/collect/commit/c8ea0de5f11587eea1496b4e35c13b0a4100eccb", "message": "Move DAO tests to instrumented", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "3027827b5a72feceac4e60569d6288a0cf03ade7", "url": "https://github.com/getodk/collect/commit/3027827b5a72feceac4e60569d6288a0cf03ade7", "message": "Move database tests to instrumented", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "923b7d8f22b547acff2d07cc48ae1b56870ef691", "url": "https://github.com/getodk/collect/commit/923b7d8f22b547acff2d07cc48ae1b56870ef691", "message": "Add FormUtilsTest to instrumented", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "58369bda73b07248937cbd92b2bea9f8230fb3d4", "url": "https://github.com/getodk/collect/commit/58369bda73b07248937cbd92b2bea9f8230fb3d4", "message": "Add task tests to instrumented", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "1c15749ec39eb2d5934dbbab29139886a391ceb5", "url": "https://github.com/getodk/collect/commit/1c15749ec39eb2d5934dbbab29139886a391ceb5", "message": "Add util tests to instrumented", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "b7ac8d23eb32e2240c4008a7218dfb69bda3004f", "url": "https://github.com/getodk/collect/commit/b7ac8d23eb32e2240c4008a7218dfb69bda3004f", "message": "Add feature test package", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "e134fac9004b17af095345ba6c96222b7a441133", "url": "https://github.com/getodk/collect/commit/e134fac9004b17af095345ba6c96222b7a441133", "message": "Move tests at root to the right places", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "68464769518a79677222a885e5398b524cdf3eb2", "url": "https://github.com/getodk/collect/commit/68464769518a79677222a885e5398b524cdf3eb2", "message": "Move External Intent tests", "committedDate": "2020-04-23T11:53:18Z", "type": "commit"}, {"oid": "50d4a8610085d19e8e5b6158e21bbe1582c12f90", "url": "https://github.com/getodk/collect/commit/50d4a8610085d19e8e5b6158e21bbe1582c12f90", "message": "Add gradle tasks for new structure", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "c672edce208e039588de38bfe6fb5e7bb892ce12", "url": "https://github.com/getodk/collect/commit/c672edce208e039588de38bfe6fb5e7bb892ce12", "message": "Add notes on different kinds of tests", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "3026aef0740835fcb29c2af3aac2a17bd9812d86", "url": "https://github.com/getodk/collect/commit/3026aef0740835fcb29c2af3aac2a17bd9812d86", "message": "Add test links", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "1975752bf12ebb9812bd789a50bef244a5f3780b", "url": "https://github.com/getodk/collect/commit/1975752bf12ebb9812bd789a50bef244a5f3780b", "message": "Add test guideline link to contributing", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "59c4ad5823b8abde6445c27a4d3920a39bbc456d", "url": "https://github.com/getodk/collect/commit/59c4ad5823b8abde6445c27a4d3920a39bbc456d", "message": "Correct typos", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "c2ad5f7e74131fb721c3e1141bb22ed9ef3cf554", "url": "https://github.com/getodk/collect/commit/c2ad5f7e74131fb721c3e1141bb22ed9ef3cf554", "message": "Add note about discussing tests", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "4986c86b21f1e549cff95f96445d599b45792347", "url": "https://github.com/getodk/collect/commit/4986c86b21f1e549cff95f96445d599b45792347", "message": "Improve description of instrumented tests", "committedDate": "2020-04-23T11:53:19Z", "type": "commit"}, {"oid": "4986c86b21f1e549cff95f96445d599b45792347", "url": "https://github.com/getodk/collect/commit/4986c86b21f1e549cff95f96445d599b45792347", "message": "Improve description of instrumented tests", "committedDate": "2020-04-23T11:53:19Z", "type": "forcePushed"}]}