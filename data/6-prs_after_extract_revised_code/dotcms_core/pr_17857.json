{"pr_number": 17857, "pr_title": "Issue 17848 update esindexresource to only call api methods", "pr_createdAt": "2020-01-16T18:40:14Z", "pr_url": "https://github.com/dotCMS/core/pull/17857", "timeline": [{"oid": "8a8822ed24adda7a2e0efbde6a928638042fb4b2", "url": "https://github.com/dotCMS/core/commit/8a8822ed24adda7a2e0efbde6a928638042fb4b2", "message": "#17848 Moving logic to get the document count of an index from ESIndexResource to ContentletIndexAPI", "committedDate": "2020-01-16T18:38:06Z", "type": "commit"}, {"oid": "b32959465dc64b51d19ad3b3372ad542f4bd164b", "url": "https://github.com/dotCMS/core/commit/b32959465dc64b51d19ad3b3372ad542f4bd164b", "message": "#17848 New postman tests for ESIndexResource", "committedDate": "2020-01-16T18:38:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU5MTYyMg==", "url": "https://github.com/dotCMS/core/pull/17857#discussion_r367591622", "bodyText": "set indexName to final", "author": "jdotcms", "createdAt": "2020-01-16T18:55:25Z", "path": "dotCMS/src/main/java/com/dotcms/content/elasticsearch/business/ContentletIndexAPIImpl.java", "diffHunk": "@@ -1238,6 +1241,21 @@ public void deactivateIndex(String indexName) throws DotDataException, IOExcepti\n         APILocator.getIndiciesAPI().point(builder.build());\n     }\n \n+    @Override\n+    public long getIndexDocumentCount(String indexName) {", "originalCommit": "b32959465dc64b51d19ad3b3372ad542f4bd164b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyNzQ3OQ==", "url": "https://github.com/dotCMS/core/pull/17857#discussion_r368127479", "bodyText": "Done", "author": "nollymar", "createdAt": "2020-01-17T20:41:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU5MTYyMg=="}], "type": "inlineReview", "revised_code": {"commit": "736fb9796ec96e8a09f0065d4f6e2b3a3d5c35ce", "chunk": "diff --git a/dotCMS/src/main/java/com/dotcms/content/elasticsearch/business/ContentletIndexAPIImpl.java b/dotCMS/src/main/java/com/dotcms/content/elasticsearch/business/ContentletIndexAPIImpl.java\nindex ff34c0d6c8..9a21f07e6c 100644\n--- a/dotCMS/src/main/java/com/dotcms/content/elasticsearch/business/ContentletIndexAPIImpl.java\n+++ b/dotCMS/src/main/java/com/dotcms/content/elasticsearch/business/ContentletIndexAPIImpl.java\n\n@@ -1242,7 +1242,7 @@ public class ContentletIndexAPIImpl implements ContentletIndexAPI {\n     }\n \n     @Override\n-    public long getIndexDocumentCount(String indexName) {\n+    public long getIndexDocumentCount(final String indexName) {\n         final CountRequest countRequest = new CountRequest(\n                 esIndexApi.getNameWithClusterIDPrefix(indexName));\n         final SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n"}}, {"oid": "a6183a3eb7ce54deef0c3c6e1a2606045c482ec0", "url": "https://github.com/dotCMS/core/commit/a6183a3eb7ce54deef0c3c6e1a2606045c482ec0", "message": "#17848 Commenting test case", "committedDate": "2020-01-17T15:28:40Z", "type": "commit"}, {"oid": "de97ac9b1a53a7e1fb98708dc5f2ffd53a9aa022", "url": "https://github.com/dotCMS/core/commit/de97ac9b1a53a7e1fb98708dc5f2ffd53a9aa022", "message": "#17848 Fixing issue when an index is activated", "committedDate": "2020-01-17T16:15:47Z", "type": "commit"}, {"oid": "800562ea8adde6ba643c90ee8a2bdc568ea52f3f", "url": "https://github.com/dotCMS/core/commit/800562ea8adde6ba643c90ee8a2bdc568ea52f3f", "message": "Merge branch 'issue-15942' of https://github.com/dotCMS/core into issue-17848-update-esindexresource-to-only-call-api-methods", "committedDate": "2020-01-17T17:54:50Z", "type": "commit"}, {"oid": "736fb9796ec96e8a09f0065d4f6e2b3a3d5c35ce", "url": "https://github.com/dotCMS/core/commit/736fb9796ec96e8a09f0065d4f6e2b3a3d5c35ce", "message": "#17848 Applying code review suggestion", "committedDate": "2020-01-17T20:41:05Z", "type": "commit"}]}