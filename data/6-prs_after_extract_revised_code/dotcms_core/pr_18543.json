{"pr_number": 18543, "pr_title": "Issue 18542 field sort order", "pr_createdAt": "2020-05-22T20:03:08Z", "pr_url": "https://github.com/dotCMS/core/pull/18543", "timeline": [{"oid": "3e9ec1a543e224486a89c65dfc70a9c377c9f479", "url": "https://github.com/dotCMS/core/commit/3e9ec1a543e224486a89c65dfc70a9c377c9f479", "message": "#18542 adds secondary sort crieteria for consistant sorts", "committedDate": "2020-05-22T19:48:51Z", "type": "commit"}, {"oid": "96b5a7564ce12d5283f873152ae7999765b9357a", "url": "https://github.com/dotCMS/core/commit/96b5a7564ce12d5283f873152ae7999765b9357a", "message": "#18542 final the strings", "committedDate": "2020-05-22T20:02:35Z", "type": "commit"}, {"oid": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "url": "https://github.com/dotCMS/core/commit/b036e6ef2b9556288b6340a7326f60d5cecff4e2", "message": "#18542 Adding ITs", "committedDate": "2020-05-26T21:31:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjU2Ng==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722566", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:25Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -60,11 +58,11 @@ public static FieldSql getInstance() {\n \t\t\t+ \"mod_date=? \"\n \t\t\t+ \"where inode =?\";\n \t\n-\tpublic String updateFieldInode = \"update inode set inode=?, idate=?, owner = ? where inode = ? and type='field'\";\n+\tpublic final String updateFieldInode = \"update inode set inode=?, idate=?, owner = ? where inode = ? and type='field'\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjU3Mg==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722572", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:27Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -23,22 +21,22 @@ public static FieldSql getInstance() {\n \t\t\t+ \"sort_order, field_values, regex_check, hint, default_value, field.fixed as fixed, field.read_only as read_only, \"\n \t\t\t+ \"field.searchable as searchable, unique_, field.mod_date as mod_date, inode.inode as inode, owner, idate from inode, field \";\n \n-\tpublic String findById = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and inode.inode =?\";\n-\tpublic String findByContentType = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? order by sort_order\";\n-\tpublic String findByContentTypeVar = SELECT_ALL_FIELDS\n-\t\t\t+ \", structure where inode.inode = field.inode and field.structure_inode = structure.inode and structure.velocity_var_name= ? order by sort_order\";\n-\tpublic String findByContentTypeAndRelationType = SELECT_ALL_FIELDS\n-\t\t\t+ \", structure where inode.inode = field.inode and structure_inode =? and field.field_relation_type= ? order by sort_order\";\n+\tpublic final String findById = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and inode.inode =?\";\n+\tpublic final String findByContentType = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? order by sort_order, velocity_var_name\";\n+\tpublic final String findByContentTypeVar = SELECT_ALL_FIELDS\n+\t\t\t+ \", structure where inode.inode = field.inode and field.structure_inode = structure.inode and structure.velocity_var_name= ? order by sort_order, velocity_var_name\";\n+\tpublic final String findByContentTypeAndRelationType = SELECT_ALL_FIELDS\n+\t\t\t+ \", structure where inode.inode = field.inode and structure_inode =? and field.field_relation_type= ? order by sort_order, velocity_var_name\";\n \t\n \t\n-\tpublic String findByContentTypeAndFieldVar = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? and field.velocity_var_name=?\";\n+\tpublic final String findByContentTypeAndFieldVar = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? and field.velocity_var_name=?\";\n \t\n \t\n-\tpublic String deleteByContentType = \"delete from field where structure_inode = ?\";\n-\tpublic String deleteById = \"delete from field where inode = ?\";\n-\tpublic String deleteInodeById = \"delete from inode where inode = ? and type='field'\";\n+\tpublic final String deleteByContentType = \"delete from field where structure_inode = ?\";\n+\tpublic final String deleteById = \"delete from field where inode = ?\";\n+\tpublic final String deleteInodeById = \"delete from inode where inode = ? and type='field'\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjU3Nw==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722577", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:28Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjU4Nw==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722587", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:29Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n+\tpublic final String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjU5NQ==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722595", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:30Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n+\tpublic final String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n+\tpublic final String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n+\tpublic final String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n \n-    public String deleteFieldVar= \t\"delete from field_variable where id = ? or (field_id=? and variable_key=?)\";\n-\tpublic String deleteFieldVarsForField= \"delete from field_variable where field_id = ?\";\n-\tpublic String insertFieldVar= \t\"insert into field_variable( id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date) values (?,?,?,?,?,?,?)\";\n+    public final String deleteFieldVar= \t\"delete from field_variable where id = ? or (field_id=? and variable_key=?)\";\n+\tpublic final String deleteFieldVarsForField= \"delete from field_variable where field_id = ?\";\n+\tpublic final String insertFieldVar= \t\"insert into field_variable( id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date) values (?,?,?,?,?,?,?)\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjYwMA==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722600", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:30Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n+\tpublic final String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n+\tpublic final String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjYxMw==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722613", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:31Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjYxOQ==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722619", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:32Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -23,22 +21,22 @@ public static FieldSql getInstance() {\n \t\t\t+ \"sort_order, field_values, regex_check, hint, default_value, field.fixed as fixed, field.read_only as read_only, \"\n \t\t\t+ \"field.searchable as searchable, unique_, field.mod_date as mod_date, inode.inode as inode, owner, idate from inode, field \";\n \n-\tpublic String findById = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and inode.inode =?\";\n-\tpublic String findByContentType = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? order by sort_order\";\n-\tpublic String findByContentTypeVar = SELECT_ALL_FIELDS\n-\t\t\t+ \", structure where inode.inode = field.inode and field.structure_inode = structure.inode and structure.velocity_var_name= ? order by sort_order\";\n-\tpublic String findByContentTypeAndRelationType = SELECT_ALL_FIELDS\n-\t\t\t+ \", structure where inode.inode = field.inode and structure_inode =? and field.field_relation_type= ? order by sort_order\";\n+\tpublic final String findById = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and inode.inode =?\";\n+\tpublic final String findByContentType = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? order by sort_order, velocity_var_name\";\n+\tpublic final String findByContentTypeVar = SELECT_ALL_FIELDS\n+\t\t\t+ \", structure where inode.inode = field.inode and field.structure_inode = structure.inode and structure.velocity_var_name= ? order by sort_order, velocity_var_name\";\n+\tpublic final String findByContentTypeAndRelationType = SELECT_ALL_FIELDS\n+\t\t\t+ \", structure where inode.inode = field.inode and structure_inode =? and field.field_relation_type= ? order by sort_order, velocity_var_name\";\n \t\n \t\n-\tpublic String findByContentTypeAndFieldVar = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? and field.velocity_var_name=?\";\n+\tpublic final String findByContentTypeAndFieldVar = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? and field.velocity_var_name=?\";\n \t\n \t\n-\tpublic String deleteByContentType = \"delete from field where structure_inode = ?\";\n-\tpublic String deleteById = \"delete from field where inode = ?\";\n-\tpublic String deleteInodeById = \"delete from inode where inode = ? and type='field'\";\n+\tpublic final String deleteByContentType = \"delete from field where structure_inode = ?\";\n+\tpublic final String deleteById = \"delete from field where inode = ?\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjYyNg==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722626", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:33Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n+\tpublic final String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n+\tpublic final String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n+\tpublic final String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n \n-    public String deleteFieldVar= \t\"delete from field_variable where id = ? or (field_id=? and variable_key=?)\";\n-\tpublic String deleteFieldVarsForField= \"delete from field_variable where field_id = ?\";\n-\tpublic String insertFieldVar= \t\"insert into field_variable( id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date) values (?,?,?,?,?,?,?)\";\n+    public final String deleteFieldVar= \t\"delete from field_variable where id = ? or (field_id=? and variable_key=?)\";\n+\tpublic final String deleteFieldVarsForField= \"delete from field_variable where field_id = ?\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjYzNA==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722634", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:34Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjYzOA==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722638", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:35Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n+\tpublic final String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n+\tpublic final String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n+\tpublic final String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjY0Mg==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722642", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:36Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -60,11 +58,11 @@ public static FieldSql getInstance() {\n \t\t\t+ \"mod_date=? \"\n \t\t\t+ \"where inode =?\";\n \t\n-\tpublic String updateFieldInode = \"update inode set inode=?, idate=?, owner = ? where inode = ? and type='field'\";\n+\tpublic final String updateFieldInode = \"update inode set inode=?, idate=?, owner = ? where inode = ? and type='field'\";\n \t\n-\tpublic String insertFieldInode = \"insert into inode (inode, idate, owner, type) values (?,?,?,'field')\";\n+\tpublic final String insertFieldInode = \"insert into inode (inode, idate, owner, type) values (?,?,?,'field')\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjY1Mw==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722653", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:37Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -23,22 +21,22 @@ public static FieldSql getInstance() {\n \t\t\t+ \"sort_order, field_values, regex_check, hint, default_value, field.fixed as fixed, field.read_only as read_only, \"\n \t\t\t+ \"field.searchable as searchable, unique_, field.mod_date as mod_date, inode.inode as inode, owner, idate from inode, field \";\n \n-\tpublic String findById = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and inode.inode =?\";\n-\tpublic String findByContentType = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? order by sort_order\";\n-\tpublic String findByContentTypeVar = SELECT_ALL_FIELDS\n-\t\t\t+ \", structure where inode.inode = field.inode and field.structure_inode = structure.inode and structure.velocity_var_name= ? order by sort_order\";\n-\tpublic String findByContentTypeAndRelationType = SELECT_ALL_FIELDS\n-\t\t\t+ \", structure where inode.inode = field.inode and structure_inode =? and field.field_relation_type= ? order by sort_order\";\n+\tpublic final String findById = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and inode.inode =?\";\n+\tpublic final String findByContentType = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? order by sort_order, velocity_var_name\";\n+\tpublic final String findByContentTypeVar = SELECT_ALL_FIELDS\n+\t\t\t+ \", structure where inode.inode = field.inode and field.structure_inode = structure.inode and structure.velocity_var_name= ? order by sort_order, velocity_var_name\";\n+\tpublic final String findByContentTypeAndRelationType = SELECT_ALL_FIELDS\n+\t\t\t+ \", structure where inode.inode = field.inode and structure_inode =? and field.field_relation_type= ? order by sort_order, velocity_var_name\";\n \t\n \t\n-\tpublic String findByContentTypeAndFieldVar = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? and field.velocity_var_name=?\";\n+\tpublic final String findByContentTypeAndFieldVar = SELECT_ALL_FIELDS + \" where inode.inode = field.inode and structure_inode =? and field.velocity_var_name=?\";\n \t\n \t\n-\tpublic String deleteByContentType = \"delete from field where structure_inode = ?\";\n-\tpublic String deleteById = \"delete from field where inode = ?\";\n-\tpublic String deleteInodeById = \"delete from inode where inode = ? and type='field'\";\n+\tpublic final String deleteByContentType = \"delete from field where structure_inode = ?\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjY2NQ==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722665", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:38Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyMjY3Nw==", "url": "https://github.com/dotCMS/core/pull/18543#discussion_r430722677", "bodyText": "Issue found: This final field could be made static", "author": "dev-dotcms", "createdAt": "2020-05-26T21:38:39Z", "path": "dotCMS/src/main/java/com/dotcms/contenttype/business/sql/FieldSql.java", "diffHunk": "@@ -90,23 +88,23 @@ public static FieldSql getInstance() {\n \t\n \t\n \t\n-\tpublic String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n+\tpublic final String inodeCount = \"select count(inode) as inode_count from field where inode = ?\";\n \t\n \t\n \t\n-\tpublic String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n+\tpublic final String selectFieldOfDbType = \"select field_contentlet from field where structure_inode = ? and field_contentlet like ? order by field_contentlet\";\n \t\n \t\n-\tpublic String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n+\tpublic final String selectCountOfType= \"select count(*) as test from field where structure_inode = ? and field_type like ? or field_type like ?\";\n \t\n-\tpublic String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n-\tpublic String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n-\tpublic String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n-\tpublic String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n+\tpublic final String selectFieldVars= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? order by variable_key\";\n+\tpublic final String selectFieldVar= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where id = ? \";\n+\tpublic final String selectFieldVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where variable_key = ? \";\n+\tpublic final String selectFieldIdVarByKey= \t\"select id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date from field_variable where field_id = ? and variable_key = ?\";\n \n-    public String deleteFieldVar= \t\"delete from field_variable where id = ? or (field_id=? and variable_key=?)\";\n-\tpublic String deleteFieldVarsForField= \"delete from field_variable where field_id = ?\";\n-\tpublic String insertFieldVar= \t\"insert into field_variable( id, field_id, variable_name, variable_key, variable_value, user_id, last_mod_date) values (?,?,?,?,?,?,?)\";\n+    public final String deleteFieldVar= \t\"delete from field_variable where id = ? or (field_id=? and variable_key=?)\";", "originalCommit": "b036e6ef2b9556288b6340a7326f60d5cecff4e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}