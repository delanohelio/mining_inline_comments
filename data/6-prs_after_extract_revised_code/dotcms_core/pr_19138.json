{"pr_number": 19138, "pr_title": "Issue 18583", "pr_createdAt": "2020-08-21T17:18:44Z", "pr_url": "https://github.com/dotCMS/core/pull/19138", "timeline": [{"oid": "2ab3954b64eee53e93af4183347cdb45871b2785", "url": "https://github.com/dotCMS/core/commit/2ab3954b64eee53e93af4183347cdb45871b2785", "message": "#18583 Adding endpoint to verify if a user has access to a portlet", "committedDate": "2020-08-21T17:17:47Z", "type": "commit"}, {"oid": "ee7a20bf20112f4ae231e8b292a7e25ae5cdd13f", "url": "https://github.com/dotCMS/core/commit/ee7a20bf20112f4ae231e8b292a7e25ae5cdd13f", "message": "fix", "committedDate": "2020-08-24T17:00:40Z", "type": "commit"}, {"oid": "1a3c3ea203447af2a29e2db3620390b1e9339f29", "url": "https://github.com/dotCMS/core/commit/1a3c3ea203447af2a29e2db3620390b1e9339f29", "message": "#18583 New postman test", "committedDate": "2020-08-24T18:32:17Z", "type": "commit"}, {"oid": "662600a7327dd7c4d222fd27095c577fd4aa4074", "url": "https://github.com/dotCMS/core/commit/662600a7327dd7c4d222fd27095c577fd4aa4074", "message": "Merge branch 'issue-18583' of https://github.com/dotCMS/core into issue-18583", "committedDate": "2020-08-24T18:32:28Z", "type": "commit"}, {"oid": "94705d333f572a3ba7956b29f31936bdce2a4c13", "url": "https://github.com/dotCMS/core/commit/94705d333f572a3ba7956b29f31936bdce2a4c13", "message": "#18583 Removing unnecessary exception handling", "committedDate": "2020-08-24T19:20:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkyNzUyMQ==", "url": "https://github.com/dotCMS/core/pull/19138#discussion_r475927521", "bodyText": "I see that this only returns a boolean, so I suggest doing: /{portletId}/_doesuserhaveaccess", "author": "dsilvam", "createdAt": "2020-08-24T22:23:23Z", "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/portlet/PortletResource.java", "diffHunk": "@@ -120,4 +122,21 @@ public final Response deleteCustomPortlet(@Context final HttpServletRequest requ\n     }\n \n   }\n+\n+    @GET\n+    @JSONP\n+    @Path(\"/permissions/{portletId}\")\n+    @NoCache\n+    @Produces({MediaType.APPLICATION_JSON, \"application/javascript\"})", "originalCommit": "94705d333f572a3ba7956b29f31936bdce2a4c13", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "416059aa1cabc48aaacb94d8446cf696a8399d0c", "chunk": "diff --git a/dotCMS/src/main/java/com/dotcms/rest/api/v1/portlet/PortletResource.java b/dotCMS/src/main/java/com/dotcms/rest/api/v1/portlet/PortletResource.java\nindex b29c4959a5..72d42f2a6a 100644\n--- a/dotCMS/src/main/java/com/dotcms/rest/api/v1/portlet/PortletResource.java\n+++ b/dotCMS/src/main/java/com/dotcms/rest/api/v1/portlet/PortletResource.java\n\n@@ -125,7 +125,7 @@ public class PortletResource implements Serializable {\n \n     @GET\n     @JSONP\n-    @Path(\"/permissions/{portletId}\")\n+    @Path(\"/{portletId}/_doesuserhaveaccess\")\n     @NoCache\n     @Produces({MediaType.APPLICATION_JSON, \"application/javascript\"})\n     public final Response doesUserHaveAccessToPortlet(@Context final HttpServletRequest request,\n"}}, {"oid": "416059aa1cabc48aaacb94d8446cf696a8399d0c", "url": "https://github.com/dotCMS/core/commit/416059aa1cabc48aaacb94d8446cf696a8399d0c", "message": "#18583 Applying code review suggestion", "committedDate": "2020-08-24T22:40:59Z", "type": "commit"}]}