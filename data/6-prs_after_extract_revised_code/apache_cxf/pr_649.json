{"pr_number": 649, "pr_title": "CXF-8235 Handle null continuation in AsyncResponseImpl", "pr_createdAt": "2020-03-09T19:28:32Z", "pr_url": "https://github.com/apache/cxf/pull/649", "timeline": [{"oid": "8f15bf76d56f94d05f4d15fa412b8c4655037671", "url": "https://github.com/apache/cxf/commit/8f15bf76d56f94d05f4d15fa412b8c4655037671", "message": "CXF-8235 Handle null continuation in AsyncResponseImpl instead of throwing a NullPointerException", "committedDate": "2020-03-09T19:21:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA5Mzk3NQ==", "url": "https://github.com/apache/cxf/pull/649#discussion_r390093975", "bodyText": "Very minor, I would probably go with IllegalStateException (seems to fit better to this particular issue) but IllegalArgumentException is also fine.", "author": "reta", "createdAt": "2020-03-10T04:49:52Z", "path": "rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/impl/AsyncResponseImpl.java", "diffHunk": "@@ -302,6 +302,11 @@ public synchronized void handleTimeout() {\n     private void initContinuation() {\n         ContinuationProvider provider =\n             (ContinuationProvider)inMessage.get(ContinuationProvider.class.getName());\n+        if (provider == null) {\n+            throw new IllegalArgumentException(", "originalCommit": "8f15bf76d56f94d05f4d15fa412b8c4655037671", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE0ODg3Mg==", "url": "https://github.com/apache/cxf/pull/649#discussion_r390148872", "bodyText": "The filters are a kind of argument, aren't they? When defining a filter in web.xml or via @WebFilter\u2026 So yes, both are probably fine.\nAnyway, the important thing here is that users see an exception with a somewhat meaningful message. Without this fix, if you use e.g. Apache Shiro shiro-servlet:1.4.0, you can only see a NullPointerException with a CXF stack trace, which is not helpful at all. See the stack trace here: https://github.com/bmhm/shiro-openliberty-npe and the issue for Apache SHIRO here: https://issues.apache.org/jira/projects/SHIRO/issues/SHIRO-735.", "author": "bmarwell", "createdAt": "2020-03-10T08:15:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA5Mzk3NQ=="}], "type": "inlineReview", "revised_code": null}]}