{"pr_number": 1262, "pr_title": "Add overloads for setParent(Context context).", "pr_createdAt": "2020-05-21T20:30:56Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262", "timeline": [{"oid": "7d9e14dce1c863f9a7bfd00408d1058de3a84e4b", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7d9e14dce1c863f9a7bfd00408d1058de3a84e4b", "message": "Add overloads for setParent(Context context).", "committedDate": "2020-05-21T20:28:30Z", "type": "commit"}, {"oid": "d50e0fd7650ef9d0bf93ffda454a6a575534ea80", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/d50e0fd7650ef9d0bf93ffda454a6a575534ea80", "message": "Fix the original version.", "committedDate": "2020-05-21T20:32:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkwMjIyMA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262#discussion_r428902220", "bodyText": "maybe \"If no parent context is available in the provided Context, the value of ....\"", "author": "jkwatson", "createdAt": "2020-05-21T20:41:14Z", "path": "api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java", "diffHunk": "@@ -74,6 +75,28 @@\n      */\n     Builder setParent(CorrelationContext parent);\n \n+    /**\n+     * Sets the parent {@link CorrelationContext} to use from the specified {@code Context}. If no\n+     * parent is provided, the value of {@link CorrelationContextManager#getCurrentContext()} at", "originalCommit": "d50e0fd7650ef9d0bf93ffda454a6a575534ea80", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE3OTY0Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262#discussion_r456179642", "bodyText": "@carlosalberto thoughts on my suggestion?", "author": "jkwatson", "createdAt": "2020-07-17T02:13:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkwMjIyMA=="}], "type": "inlineReview", "revised_code": {"commit": "8407210754e4740964cb5fb1fbfdbd53ff1fece9", "chunk": "diff --git a/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java b/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java\nindex 955046832..b8be8321c 100644\n--- a/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java\n+++ b/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java\n\n@@ -77,10 +77,11 @@ public interface CorrelationContext {\n \n     /**\n      * Sets the parent {@link CorrelationContext} to use from the specified {@code Context}. If no\n-     * parent is provided, the value of {@link CorrelationContextManager#getCurrentContext()} at\n-     * {@link #build()} time will be used as parent, unless {@link #setNoParent()} was called.\n+     * parent {@link CorrelationContext} is provided, the value of {@link\n+     * CorrelationContextManager#getCurrentContext()} at {@link #build()} time will be used as\n+     * parent, unless {@link #setNoParent()} was called.\n      *\n-     * <p>If no {@link CorrelationContext} is available in the specified {@code Context}, the\n+     * <p>If no parent {@link CorrelationContext} is available in the specified {@code Context}, the\n      * resulting {@link CorrelationContext} will become a root instance, as if {@link\n      * #setNoParent()} had been called.\n      *\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkwMjU2MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262#discussion_r428902561", "bodyText": "0.5.0", "author": "jkwatson", "createdAt": "2020-05-21T20:41:59Z", "path": "api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java", "diffHunk": "@@ -74,6 +75,28 @@\n      */\n     Builder setParent(CorrelationContext parent);\n \n+    /**\n+     * Sets the parent {@link CorrelationContext} to use from the specified {@code Context}. If no\n+     * parent is provided, the value of {@link CorrelationContextManager#getCurrentContext()} at\n+     * {@link #build()} time will be used as parent, unless {@link #setNoParent()} was called.\n+     *\n+     * <p>If no {@link CorrelationContext} is available in the specified {@code Context}, the\n+     * resulting {@link CorrelationContext} will become a root instance, as if {@link\n+     * #setNoParent()} had been called.\n+     *\n+     * <p>This <b>must</b> be used to create a {@link CorrelationContext} when manual Context\n+     * propagation is used.\n+     *\n+     * <p>If called multiple times, only the last specified value will be used.\n+     *\n+     * @param context the {@code Context}.\n+     * @return this.\n+     * @throws NullPointerException if {@code context} is {@code null}.\n+     * @see #setNoParent()\n+     * @since 0.4.0", "originalCommit": "d50e0fd7650ef9d0bf93ffda454a6a575534ea80", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE3OTY5OQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262#discussion_r456179699", "bodyText": "0.7.0 now", "author": "jkwatson", "createdAt": "2020-07-17T02:13:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkwMjU2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "8407210754e4740964cb5fb1fbfdbd53ff1fece9", "chunk": "diff --git a/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java b/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java\nindex 955046832..b8be8321c 100644\n--- a/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java\n+++ b/api/src/main/java/io/opentelemetry/correlationcontext/CorrelationContext.java\n\n@@ -77,10 +77,11 @@ public interface CorrelationContext {\n \n     /**\n      * Sets the parent {@link CorrelationContext} to use from the specified {@code Context}. If no\n-     * parent is provided, the value of {@link CorrelationContextManager#getCurrentContext()} at\n-     * {@link #build()} time will be used as parent, unless {@link #setNoParent()} was called.\n+     * parent {@link CorrelationContext} is provided, the value of {@link\n+     * CorrelationContextManager#getCurrentContext()} at {@link #build()} time will be used as\n+     * parent, unless {@link #setNoParent()} was called.\n      *\n-     * <p>If no {@link CorrelationContext} is available in the specified {@code Context}, the\n+     * <p>If no parent {@link CorrelationContext} is available in the specified {@code Context}, the\n      * resulting {@link CorrelationContext} will become a root instance, as if {@link\n      * #setNoParent()} had been called.\n      *\n"}}, {"oid": "f0e9aed85931540881901472248ccbc99004ab1c", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f0e9aed85931540881901472248ccbc99004ab1c", "message": "Merge branch 'master' into set_parent_context", "committedDate": "2020-07-16T11:54:45Z", "type": "commit"}, {"oid": "8407210754e4740964cb5fb1fbfdbd53ff1fece9", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/8407210754e4740964cb5fb1fbfdbd53ff1fece9", "message": "Apply feedback.", "committedDate": "2020-07-16T11:58:56Z", "type": "commit"}, {"oid": "61d029eba616cbdaeaabb2a71682fbbe394c65a4", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/61d029eba616cbdaeaabb2a71682fbbe394c65a4", "message": "Update version for CorrelationContext.", "committedDate": "2020-07-16T23:48:34Z", "type": "commit"}, {"oid": "c2a27a84aa9d281262569e84102a8f88e177ad03", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c2a27a84aa9d281262569e84102a8f88e177ad03", "message": "Add simple extra test for DefaultCorrelationContextManagerTest.", "committedDate": "2020-07-16T23:52:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE4MDEwNw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262#discussion_r456180107", "bodyText": "0.7.0", "author": "jkwatson", "createdAt": "2020-07-17T02:15:25Z", "path": "api/src/main/java/io/opentelemetry/trace/Span.java", "diffHunk": "@@ -406,6 +407,23 @@\n      */\n     Builder setParent(SpanContext remoteParent);\n \n+    /**\n+     * Sets the parent to use from the specified {@code Context}. If not set, the value of {@code\n+     * Tracer.getCurrentSpan()} at {@link #startSpan()} time will be used as parent.\n+     *\n+     * <p>If no {@link Span} is available in the specified {@code Context}, the resulting {@code\n+     * Span} will become a root instance, as if {@link #setNoParent()} had been called.\n+     *\n+     * <p>If called multiple times, only the last specified value will be used. Observe that the\n+     * state defined by a previous call to {@link #setNoParent()} will be discarded.\n+     *\n+     * @param context the {@code Context}.\n+     * @return this.\n+     * @throws NullPointerException if {@code context} is {@code null}.\n+     * @since 0.5.0", "originalCommit": "d50e0fd7650ef9d0bf93ffda454a6a575534ea80", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ0MDUyNA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1262#discussion_r456440524", "bodyText": "I think there was a race condition between me pushing the changes and your review ;) In any case, all issues have been addressed.", "author": "carlosalberto", "createdAt": "2020-07-17T13:26:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE4MDEwNw=="}], "type": "inlineReview", "revised_code": null}]}