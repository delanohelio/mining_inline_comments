{"pr_number": 2130, "pr_title": "Some more test coverage for OpenTelemetrySDK.", "pr_createdAt": "2020-11-25T09:23:06Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/2130", "timeline": [{"oid": "2436bab41c257c49fe617cca6db5666c94502cfa", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/2436bab41c257c49fe617cca6db5666c94502cfa", "message": "Some more test coverage for OpenTelemetrySDK.", "committedDate": "2020-11-25T09:05:07Z", "type": "commit"}, {"oid": "c9dbc38c42b33bbbd20ab6a606457b52d24e5e9b", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c9dbc38c42b33bbbd20ab6a606457b52d24e5e9b", "message": "Fix assertion", "committedDate": "2020-11-25T09:31:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU3OTIwMw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2130#discussion_r530579203", "bodyText": "do we even need this call? won't the cast do the same thing, if someone figures out how to somehow jam the wrong thing in here?", "author": "jkwatson", "createdAt": "2020-11-25T18:45:26Z", "path": "sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java", "diffHunk": "@@ -219,10 +219,8 @@ public OpenTelemetrySdk build() {\n     private TracerSdkProvider buildTracerProvider() {\n       TracerProvider tracerProvider = super.tracerProvider;\n       if (tracerProvider != null) {\n-        if (!(tracerProvider instanceof TracerSdkProvider)) {\n-          throw new IllegalStateException(\n-              \"The OpenTelemetrySdk can only be configured with a TracerSdkProvider\");\n-        }\n+        // setTracerProvider checks this.\n+        assert tracerProvider instanceof TracerSdkProvider;", "originalCommit": "c9dbc38c42b33bbbd20ab6a606457b52d24e5e9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDczMDQ2Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2130#discussion_r530730467", "bodyText": "Makes sense yeah", "author": "anuraaga", "createdAt": "2020-11-26T01:57:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU3OTIwMw=="}], "type": "inlineReview", "revised_code": {"commit": "8281d23c75c6192d5a0ddde36263d9ac1c94fbb1", "chunk": "diff --git a/sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java b/sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java\nindex fd688f9b8..5ae7f7d0e 100644\n--- a/sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java\n+++ b/sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java\n\n@@ -219,8 +219,6 @@ public final class OpenTelemetrySdk extends DefaultOpenTelemetry {\n     private TracerSdkProvider buildTracerProvider() {\n       TracerProvider tracerProvider = super.tracerProvider;\n       if (tracerProvider != null) {\n-        // setTracerProvider checks this.\n-        assert tracerProvider instanceof TracerSdkProvider;\n         return (TracerSdkProvider) tracerProvider;\n       }\n       TracerSdkProvider.Builder tracerProviderBuilder = TracerSdkProvider.builder();\n"}}, {"oid": "8281d23c75c6192d5a0ddde36263d9ac1c94fbb1", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/8281d23c75c6192d5a0ddde36263d9ac1c94fbb1", "message": "Update OpenTelemetrySdk.java", "committedDate": "2020-11-26T01:57:34Z", "type": "commit"}]}