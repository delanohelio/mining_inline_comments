{"pr_number": 956, "pr_title": "Remove generic usage in the metrics API", "pr_createdAt": "2020-03-04T14:29:32Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/956", "timeline": [{"oid": "cbff40d6ac36c80c49b48d8de98227d63392c764", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cbff40d6ac36c80c49b48d8de98227d63392c764", "message": "Remove generic usage in the metrics API\n\nSigned-off-by: Bogdan Cristian Drutu <bogdandrutu@gmail.com>", "committedDate": "2020-03-04T14:33:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc5MjAzNQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/956#discussion_r387792035", "bodyText": "Having a wildcard type in a public API feels very user-hostile. What would the user do with this?  Should this return Counter<H>?", "author": "jkwatson", "createdAt": "2020-03-04T16:41:43Z", "path": "api/src/main/java/io/opentelemetry/metrics/Counter.java", "diffHunk": "@@ -37,6 +51,9 @@\n      * @param monotonic {@code true} only positive values are expected.\n      * @return this.\n      */\n-    B setMonotonic(boolean monotonic);\n+    Builder setMonotonic(boolean monotonic);\n+\n+    @Override\n+    Counter<?> build();", "originalCommit": "cbff40d6ac36c80c49b48d8de98227d63392c764", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc5NDMxOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/956#discussion_r387794319", "bodyText": "same comment about wildcard return values", "author": "jkwatson", "createdAt": "2020-03-04T16:45:21Z", "path": "api/src/main/java/io/opentelemetry/metrics/Measure.java", "diffHunk": "@@ -37,6 +51,9 @@\n      * @param absolute {@code true} only positive values are expected.\n      * @return this.\n      */\n-    B setAbsolute(boolean absolute);\n+    Builder setAbsolute(boolean absolute);\n+\n+    @Override\n+    Measure<?> build();", "originalCommit": "cbff40d6ac36c80c49b48d8de98227d63392c764", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk2MjU5MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/956#discussion_r389962591", "bodyText": "This is not directly used by any user. They will use LongMeasure or DoubleMeasure, it is here to make sure we always override build.", "author": "bogdandrutu", "createdAt": "2020-03-09T21:08:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc5NDMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk3MjE5MA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/956#discussion_r389972190", "bodyText": "Let's go with this for now. It feels pretty kludgy; I'll try to come up with something a bit cleaner in the future.", "author": "jkwatson", "createdAt": "2020-03-09T21:28:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc5NDMxOQ=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc5NDg2Ng==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/956#discussion_r387794866", "bodyText": "ditto", "author": "jkwatson", "createdAt": "2020-03-04T16:46:11Z", "path": "api/src/main/java/io/opentelemetry/metrics/Observer.java", "diffHunk": "@@ -54,6 +69,9 @@\n      * @param monotonic {@code true} successive values are expected to rise monotonically.\n      * @return this.\n      */\n-    B setMonotonic(boolean monotonic);\n+    Builder setMonotonic(boolean monotonic);\n+\n+    @Override\n+    Observer<?> build();", "originalCommit": "cbff40d6ac36c80c49b48d8de98227d63392c764", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "3656e627e6ac2cd80fb1fcc2d36cc977a99c5ea2", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/3656e627e6ac2cd80fb1fcc2d36cc977a99c5ea2", "message": "Remove generic usage in the metrics API\n\nSigned-off-by: Bogdan Cristian Drutu <bogdandrutu@gmail.com>", "committedDate": "2020-03-09T21:12:07Z", "type": "forcePushed"}, {"oid": "e118a7a6fa49696844fa609241d754407c1a325f", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e118a7a6fa49696844fa609241d754407c1a325f", "message": "Remove generic usage in the metrics API\n\nSigned-off-by: Bogdan Cristian Drutu <bogdandrutu@gmail.com>", "committedDate": "2020-03-09T21:23:44Z", "type": "commit"}, {"oid": "e118a7a6fa49696844fa609241d754407c1a325f", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e118a7a6fa49696844fa609241d754407c1a325f", "message": "Remove generic usage in the metrics API\n\nSigned-off-by: Bogdan Cristian Drutu <bogdandrutu@gmail.com>", "committedDate": "2020-03-09T21:23:44Z", "type": "forcePushed"}]}