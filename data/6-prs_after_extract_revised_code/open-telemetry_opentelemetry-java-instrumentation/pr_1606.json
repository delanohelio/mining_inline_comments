{"pr_number": 1606, "pr_title": "Instrument java.servlet.Filter directly", "pr_createdAt": "2020-11-09T23:32:01Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1606", "timeline": [{"oid": "5538fdfc588feec975cbfb98d07bcdff1216406d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5538fdfc588feec975cbfb98d07bcdff1216406d", "message": "Remove some additional ignores", "committedDate": "2020-11-10T04:32:24Z", "type": "forcePushed"}, {"oid": "bfdd8749f04f1eb977371ed18a3e6aa0d0fe7675", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bfdd8749f04f1eb977371ed18a3e6aa0d0fe7675", "message": "Instrument filter directly", "committedDate": "2020-11-18T02:33:09Z", "type": "commit"}, {"oid": "5e01e318d3ab90ecab28f0bc15f49520aafd4f57", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5e01e318d3ab90ecab28f0bc15f49520aafd4f57", "message": "Remove some additional ignores", "committedDate": "2020-11-18T02:33:10Z", "type": "commit"}, {"oid": "14cd6b40a684394597cc0bf88698940dbc531543", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/14cd6b40a684394597cc0bf88698940dbc531543", "message": "Fix OncePerRequestFilter not being instrumented itself", "committedDate": "2020-11-18T03:36:38Z", "type": "commit"}, {"oid": "14cd6b40a684394597cc0bf88698940dbc531543", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/14cd6b40a684394597cc0bf88698940dbc531543", "message": "Fix OncePerRequestFilter not being instrumented itself", "committedDate": "2020-11-18T03:36:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3ODAzNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1606#discussion_r525878036", "bodyText": "can't have helper class extend OncePerRequestFilter, because then OncePerRequestFilter won't be instrumented itself", "author": "trask", "createdAt": "2020-11-18T07:57:47Z", "path": "instrumentation/spring/spring-webmvc-3.1/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/springwebmvc/HandlerMappingResourceNameFilter.java", "diffHunk": "@@ -12,33 +12,44 @@\n import io.opentelemetry.instrumentation.api.tracer.BaseTracer;\n import java.io.IOException;\n import java.util.List;\n+import javax.servlet.Filter;\n import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n import javax.servlet.http.HttpServletRequest;\n import javax.servlet.http.HttpServletResponse;\n import org.springframework.beans.factory.support.GenericBeanDefinition;\n import org.springframework.core.Ordered;\n-import org.springframework.web.filter.OncePerRequestFilter;\n import org.springframework.web.servlet.HandlerExecutionChain;\n import org.springframework.web.servlet.HandlerMapping;\n \n-public class HandlerMappingResourceNameFilter extends OncePerRequestFilter implements Ordered {\n+public class HandlerMappingResourceNameFilter implements Filter, Ordered {", "originalCommit": "14cd6b40a684394597cc0bf88698940dbc531543", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}