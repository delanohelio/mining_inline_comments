{"pr_number": 1648, "pr_title": "Standardize instrumentation names in InstrumentationModules", "pr_createdAt": "2020-11-16T17:01:42Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MDc5Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524880792", "bodyText": "i think if we include jaxrs as a shortcut, then there's no way to disable jaxrs server instrumentation without also disabling jaxrs client instrumentation\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"jaxrs\", \"jaxrs-1.1\", \"jaxrs-client\");\n          \n          \n            \n                super(\"jaxrs-client\", \"jaxrs-client-1.1\");", "author": "trask", "createdAt": "2020-11-17T04:43:14Z", "path": "instrumentation/jaxrs-client/jaxrs-client-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v1_1/JaxRsClientInstrumentationModule.java", "diffHunk": "@@ -35,7 +35,7 @@\n public final class JaxRsClientInstrumentationModule extends InstrumentationModule {\n \n   public JaxRsClientInstrumentationModule() {\n-    super(\"jax-rs\", \"jaxrs\", \"jax-rs-client\");\n+    super(\"jaxrs\", \"jaxrs-1.1\", \"jaxrs-client\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "chunk": "diff --git a/instrumentation/jaxrs-client/jaxrs-client-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v1_1/JaxRsClientInstrumentationModule.java b/instrumentation/jaxrs-client/jaxrs-client-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v1_1/JaxRsClientInstrumentationModule.java\nindex 8e994505dc..684bae3292 100644\n--- a/instrumentation/jaxrs-client/jaxrs-client-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v1_1/JaxRsClientInstrumentationModule.java\n+++ b/instrumentation/jaxrs-client/jaxrs-client-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v1_1/JaxRsClientInstrumentationModule.java\n\n@@ -35,7 +35,7 @@ import net.bytebuddy.matcher.ElementMatcher;\n public final class JaxRsClientInstrumentationModule extends InstrumentationModule {\n \n   public JaxRsClientInstrumentationModule() {\n-    super(\"jaxrs\", \"jaxrs-1.1\", \"jaxrs-client\");\n+    super(\"jaxrs-client\", \"jaxrs-client-1.1\");\n   }\n \n   @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MTA2Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524881067", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\", \"jersey-client\", \"jersey-client-2.0\");\n          \n          \n            \n                super(\"jaxrs-client\", \"jaxrs-client-2.0\", \"jersey-client\", \"jersey-client-2.0\");", "author": "trask", "createdAt": "2020-11-17T04:44:07Z", "path": "instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-jersey-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JerseyClientInstrumentationModule.java", "diffHunk": "@@ -37,7 +37,7 @@\n public final class JerseyClientInstrumentationModule extends InstrumentationModule {\n \n   public JerseyClientInstrumentationModule() {\n-    super(\"jax-rs\", \"jaxrs\", \"jax-rs-client\");\n+    super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\", \"jersey-client\", \"jersey-client-2.0\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "chunk": "diff --git a/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-jersey-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JerseyClientInstrumentationModule.java b/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-jersey-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JerseyClientInstrumentationModule.java\nindex df7d7ba81e..a18f492127 100644\n--- a/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-jersey-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JerseyClientInstrumentationModule.java\n+++ b/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-jersey-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JerseyClientInstrumentationModule.java\n\n@@ -37,7 +37,7 @@ import org.glassfish.jersey.client.ClientRequest;\n public final class JerseyClientInstrumentationModule extends InstrumentationModule {\n \n   public JerseyClientInstrumentationModule() {\n-    super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\", \"jersey-client\", \"jersey-client-2.0\");\n+    super(\"jaxrs-client\", \"jaxrs-client-2.0\", \"jersey-client\", \"jersey-client-2.0\");\n   }\n \n   @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MTE2NA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524881164", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\", \"resteasy-client\", \"resteasy-client-2.0\");\n          \n          \n            \n                super(\"jaxrs-client\", \"jaxrs-client-2.0\", \"resteasy-client\", \"resteasy-client-2.0\");", "author": "trask", "createdAt": "2020-11-17T04:44:26Z", "path": "instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-resteasy-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/ResteasyClientInstrumentationModule.java", "diffHunk": "@@ -39,7 +39,7 @@\n public final class ResteasyClientInstrumentationModule extends InstrumentationModule {\n \n   public ResteasyClientInstrumentationModule() {\n-    super(\"jax-rs\", \"jaxrs\", \"jax-rs-client\");\n+    super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\", \"resteasy-client\", \"resteasy-client-2.0\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "chunk": "diff --git a/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-resteasy-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/ResteasyClientInstrumentationModule.java b/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-resteasy-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/ResteasyClientInstrumentationModule.java\nindex 595e41a2dc..9a08fb9594 100644\n--- a/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-resteasy-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/ResteasyClientInstrumentationModule.java\n+++ b/instrumentation/jaxrs-client/jaxrs-client-2.0/jaxrs-client-2.0-resteasy-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/ResteasyClientInstrumentationModule.java\n\n@@ -39,7 +39,7 @@ import org.jboss.resteasy.client.jaxrs.internal.ClientInvocation;\n public final class ResteasyClientInstrumentationModule extends InstrumentationModule {\n \n   public ResteasyClientInstrumentationModule() {\n-    super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\", \"resteasy-client\", \"resteasy-client-2.0\");\n+    super(\"jaxrs-client\", \"jaxrs-client-2.0\", \"resteasy-client\", \"resteasy-client-2.0\");\n   }\n \n   @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MTI1NQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524881255", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\");\n          \n          \n            \n                super(\"jaxrs-client\", \"jaxrs-client-2.0\");", "author": "trask", "createdAt": "2020-11-17T04:44:44Z", "path": "instrumentation/jaxrs-client/jaxrs-client-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JaxRsClientInstrumentationModule.java", "diffHunk": "@@ -29,7 +29,7 @@\n public final class JaxRsClientInstrumentationModule extends InstrumentationModule {\n \n   public JaxRsClientInstrumentationModule() {\n-    super(\"jax-rs\", \"jaxrs\", \"jax-rs-client\");\n+    super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "chunk": "diff --git a/instrumentation/jaxrs-client/jaxrs-client-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JaxRsClientInstrumentationModule.java b/instrumentation/jaxrs-client/jaxrs-client-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JaxRsClientInstrumentationModule.java\nindex d86ac6d1df..a66702ea08 100644\n--- a/instrumentation/jaxrs-client/jaxrs-client-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JaxRsClientInstrumentationModule.java\n+++ b/instrumentation/jaxrs-client/jaxrs-client-2.0/src/main/java/io/opentelemetry/javaagent/instrumentation/jaxrsclient/v2_0/JaxRsClientInstrumentationModule.java\n\n@@ -29,7 +29,7 @@ import net.bytebuddy.matcher.ElementMatcher;\n public final class JaxRsClientInstrumentationModule extends InstrumentationModule {\n \n   public JaxRsClientInstrumentationModule() {\n-    super(\"jaxrs\", \"jaxrs-2.0\", \"jaxrs-client\");\n+    super(\"jaxrs-client\", \"jaxrs-client-2.0\");\n   }\n \n   @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MjAwOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524882009", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"jms\");\n          \n          \n            \n                super(\"jms\", \"jms-1.1\");", "author": "trask", "createdAt": "2020-11-17T04:47:42Z", "path": "instrumentation/jms-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jms/JmsInstrumentationModule.java", "diffHunk": "@@ -17,7 +17,7 @@\n @AutoService(InstrumentationModule.class)\n public class JmsInstrumentationModule extends InstrumentationModule {\n   public JmsInstrumentationModule() {\n-    super(\"jms\", \"jms-1\", \"jms-2\");\n+    super(\"jms\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6a17214f4eca1e8888f739f95a27d76a485e5962", "chunk": "diff --git a/instrumentation/jms-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jms/JmsInstrumentationModule.java b/instrumentation/jms-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jms/JmsInstrumentationModule.java\nindex 2ca3c927cd..c10b982d23 100644\n--- a/instrumentation/jms-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jms/JmsInstrumentationModule.java\n+++ b/instrumentation/jms-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jms/JmsInstrumentationModule.java\n\n@@ -24,7 +24,7 @@ public class JmsInstrumentationModule extends InstrumentationModule {\n   public String[] helperClassNames() {\n     return new String[] {\n       packageName + \".MessageDestination\",\n-      packageName + \".JMSTracer\",\n+      packageName + \".JmsTracer\",\n       packageName + \".MessageExtractAdapter\",\n       packageName + \".MessageInjectAdapter\"\n     };\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4Mjc4Mw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524882783", "bodyText": "just to be consistent with other ordering\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"mongo\", \"mongo-async\", \"mongo-async-3.3\");\n          \n          \n            \n                super(\"mongo-async\", \"mongo-async-3.3\", \"mongo\");", "author": "trask", "createdAt": "2020-11-17T04:50:21Z", "path": "instrumentation/mongo/mongo-async-3.3/src/main/java/io/opentelemetry/javaagent/instrumentation/mongoasync/v3_3/MongoAsyncClientInstrumentationModule.java", "diffHunk": "@@ -33,7 +33,7 @@\n public final class MongoAsyncClientInstrumentationModule extends InstrumentationModule {\n \n   public MongoAsyncClientInstrumentationModule() {\n-    super(\"mongo\");\n+    super(\"mongo\", \"mongo-async\", \"mongo-async-3.3\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "chunk": "diff --git a/instrumentation/mongo/mongo-async-3.3/src/main/java/io/opentelemetry/javaagent/instrumentation/mongoasync/v3_3/MongoAsyncClientInstrumentationModule.java b/instrumentation/mongo/mongo-async-3.3/src/main/java/io/opentelemetry/javaagent/instrumentation/mongoasync/v3_3/MongoAsyncClientInstrumentationModule.java\nindex 91fe377c78..3724754efd 100644\n--- a/instrumentation/mongo/mongo-async-3.3/src/main/java/io/opentelemetry/javaagent/instrumentation/mongoasync/v3_3/MongoAsyncClientInstrumentationModule.java\n+++ b/instrumentation/mongo/mongo-async-3.3/src/main/java/io/opentelemetry/javaagent/instrumentation/mongoasync/v3_3/MongoAsyncClientInstrumentationModule.java\n\n@@ -33,7 +33,7 @@ import net.bytebuddy.matcher.ElementMatcher;\n public final class MongoAsyncClientInstrumentationModule extends InstrumentationModule {\n \n   public MongoAsyncClientInstrumentationModule() {\n-    super(\"mongo\", \"mongo-async\", \"mongo-async-3.3\");\n+    super(\"mongo-async\", \"mongo-async-3.3\", \"mongo\");\n   }\n \n   @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4Mjk4MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1648#discussion_r524882981", "bodyText": "I don't think we need to keep amqp shortcut\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                super(\"rabbitmq\", \"rabbitmq-2.7\", \"ampq\");\n          \n          \n            \n                super(\"rabbitmq\", \"rabbitmq-2.7\");", "author": "trask", "createdAt": "2020-11-17T04:51:09Z", "path": "instrumentation/rabbitmq-2.7/src/main/java/io/opentelemetry/javaagent/instrumentation/rabbitmq/amqp/RabbitMqInstrumentationModule.java", "diffHunk": "@@ -15,7 +15,7 @@\n @AutoService(InstrumentationModule.class)\n public class RabbitMqInstrumentationModule extends InstrumentationModule {\n   public RabbitMqInstrumentationModule() {\n-    super(\"amqp\", \"rabbitmq\");\n+    super(\"rabbitmq\", \"rabbitmq-2.7\", \"ampq\");", "originalCommit": "0d9261a736bb436034c058b66d9e39506a0d2077", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "chunk": "diff --git a/instrumentation/rabbitmq-2.7/src/main/java/io/opentelemetry/javaagent/instrumentation/rabbitmq/amqp/RabbitMqInstrumentationModule.java b/instrumentation/rabbitmq-2.7/src/main/java/io/opentelemetry/javaagent/instrumentation/rabbitmq/amqp/RabbitMqInstrumentationModule.java\nindex 1a787d6e9c..096843ac33 100644\n--- a/instrumentation/rabbitmq-2.7/src/main/java/io/opentelemetry/javaagent/instrumentation/rabbitmq/amqp/RabbitMqInstrumentationModule.java\n+++ b/instrumentation/rabbitmq-2.7/src/main/java/io/opentelemetry/javaagent/instrumentation/rabbitmq/amqp/RabbitMqInstrumentationModule.java\n\n@@ -15,7 +15,7 @@ import java.util.List;\n @AutoService(InstrumentationModule.class)\n public class RabbitMqInstrumentationModule extends InstrumentationModule {\n   public RabbitMqInstrumentationModule() {\n-    super(\"rabbitmq\", \"rabbitmq-2.7\", \"ampq\");\n+    super(\"rabbitmq\", \"rabbitmq-2.7\");\n   }\n \n   @Override\n"}}, {"oid": "6a17214f4eca1e8888f739f95a27d76a485e5962", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6a17214f4eca1e8888f739f95a27d76a485e5962", "message": "Standardize instrumentation names in InstrumentationModules\n\n* rename gradle modules:\n  * vertx-3.0 to vertx-web-3.0\n  * spark-web-framework-2.3 to spark-2.3\n* add JavaDoc describing the naming rules to InstrumentationModule", "committedDate": "2020-11-17T11:10:54Z", "type": "commit"}, {"oid": "e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e4e22b01fe4a305f5913cbf2b353b57db3aee49c", "message": "Apply suggestions from code review\n\nCo-authored-by: Trask Stalnaker <trask.stalnaker@gmail.com>", "committedDate": "2020-11-17T11:10:54Z", "type": "commit"}, {"oid": "a0667525d786d731451445bc6c708485d320fd7f", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a0667525d786d731451445bc6c708485d320fd7f", "message": "Update instrumentation/jms-1.1/src/main/java/io/opentelemetry/javaagent/instrumentation/jms/JmsInstrumentationModule.java\n\nCo-authored-by: Trask Stalnaker <trask.stalnaker@gmail.com>", "committedDate": "2020-11-17T11:10:54Z", "type": "commit"}, {"oid": "25c67a49f0df12c00a046edb4a60b00c62bf9fd6", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/25c67a49f0df12c00a046edb4a60b00c62bf9fd6", "message": "spotless & checkstyle", "committedDate": "2020-11-17T11:11:03Z", "type": "commit"}, {"oid": "25c67a49f0df12c00a046edb4a60b00c62bf9fd6", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/25c67a49f0df12c00a046edb4a60b00c62bf9fd6", "message": "spotless & checkstyle", "committedDate": "2020-11-17T11:11:03Z", "type": "forcePushed"}]}