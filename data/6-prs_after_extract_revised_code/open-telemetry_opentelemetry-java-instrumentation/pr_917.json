{"pr_number": 917, "pr_title": "Remove annotation instrumentation vertx dependency", "pr_createdAt": "2020-08-07T00:16:29Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/917", "timeline": [{"oid": "a88323ff9dc22aa534889b15615a6ba0cab3edc1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a88323ff9dc22aa534889b15615a6ba0cab3edc1", "message": "Remove annotation instrumentation vertx dependency", "committedDate": "2020-08-06T23:57:48Z", "type": "commit"}, {"oid": "99ab64fe25d7bb5098060dcd49b29c5cbe097b9b", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/99ab64fe25d7bb5098060dcd49b29c5cbe097b9b", "message": "Remove annotation testing dependency", "committedDate": "2020-08-07T00:35:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgyMzkyNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/917#discussion_r466823926", "bodyText": "Can we put this change in another PR? Is it related to annotations?", "author": "anuraaga", "createdAt": "2020-08-07T05:10:28Z", "path": "instrumentation/vertx-reactive-3.5/src/test/groovy/VertxReactiveWebServer.java", "diffHunk": "@@ -98,26 +103,34 @@ public void start(final io.vertx.core.Future<Void> startFuture) {\n         });\n   }\n \n-  @WithSpan\n   private void handleListProducts(final RoutingContext routingContext) {\n-    HttpServerResponse response = routingContext.response();\n-    Single<JsonArray> jsonArraySingle = listProducts();\n-\n-    jsonArraySingle.subscribe(\n-        arr -> response.putHeader(\"content-type\", \"application/json\").end(arr.encode()));\n+    Span span = tracer.spanBuilder(\"handleListProducts\").startSpan();", "originalCommit": "99ab64fe25d7bb5098060dcd49b29c5cbe097b9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzM2MjY4OA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/917#discussion_r467362688", "bodyText": "this replaces the span that was generated by the @WithSpan annotation that i removed", "author": "trask", "createdAt": "2020-08-08T04:59:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgyMzkyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzM2NjQxOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/917#discussion_r467366418", "bodyText": "Oops missed that", "author": "anuraaga", "createdAt": "2020-08-08T05:46:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgyMzkyNg=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgxMzQwNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/917#discussion_r466813406", "bodyText": "Why this was bad?", "author": "iNikem", "createdAt": "2020-08-07T04:25:43Z", "path": "instrumentation/vertx-reactive-3.5/src/test/groovy/VertxReactiveWebServer.java", "diffHunk": "@@ -98,26 +103,34 @@ public void start(final io.vertx.core.Future<Void> startFuture) {\n         });\n   }\n \n-  @WithSpan", "originalCommit": "99ab64fe25d7bb5098060dcd49b29c5cbe097b9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzM2MjYwOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/917#discussion_r467362609", "bodyText": "it seems like it adds an unnecessary dependency on the annotation instrumentation", "author": "trask", "createdAt": "2020-08-08T04:58:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgxMzQwNg=="}], "type": "inlineReview", "revised_code": null}, {"oid": "448823a385342becdd74506eb8985c4ace8b1d65", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/448823a385342becdd74506eb8985c4ace8b1d65", "message": "Merge remote-tracking branch 'upstream/master' into remove-annotation-instrumentation-vertx-dependency", "committedDate": "2020-08-08T05:01:58Z", "type": "commit"}]}