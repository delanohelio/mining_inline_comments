{"pr_number": 730, "pr_title": "[KOGITO-2893] Detach Business Key from ID - follow-up cleaning", "pr_createdAt": "2020-08-27T15:57:15Z", "pr_url": "https://github.com/kiegroup/kogito-runtimes/pull/730", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1NTY4Nw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/730#discussion_r478555687", "bodyText": "Is it too much refactoring to remove the whole method? Is it even used?\nI think you just have to remove it from the CorrelationAwareProcessRuntime interface", "author": "ruromero", "createdAt": "2020-08-27T16:44:34Z", "path": "jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/LightProcessRuntime.java", "diffHunk": "@@ -187,7 +187,7 @@ public ProcessInstance createProcessInstance(String processId, CorrelationKey co\n \n     @Override\n     public ProcessInstance getProcessInstance(CorrelationKey correlationKey) {", "originalCommit": "9e3dbe43a8ba6b099e31d95afb855dbb8f6985cf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU3MDY3OA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/730#discussion_r478570678", "bodyText": "Yep, was considering it. But then the CorrelationAwareProcessRuntime interface would have methods startProcess and createProcessInstance but no query methods. If that's OK, I will remove it from the interface.", "author": "MarianMacik", "createdAt": "2020-08-27T17:10:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1NTY4Nw=="}], "type": "inlineReview", "revised_code": {"commit": "371bdcd6146c3335e8a6d15bd9b3daa94db5e022", "chunk": "diff --git a/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/LightProcessRuntime.java b/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/LightProcessRuntime.java\nindex d2179bf08c..ca03773d4b 100755\n--- a/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/LightProcessRuntime.java\n+++ b/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/LightProcessRuntime.java\n\n@@ -185,11 +185,6 @@ public class LightProcessRuntime implements InternalProcessRuntime {\n         }\n     }\n \n-    @Override\n-    public ProcessInstance getProcessInstance(CorrelationKey correlationKey) {\n-        return null; // Querying of correlation keys is no longer supported\n-    }\n-\n     private org.jbpm.process.instance.ProcessInstance createProcessInstance(Process process, CorrelationKey correlationKey, Map<String, Object> parameters) {\n         org.jbpm.process.instance.ProcessInstance pi = runtimeContext.createProcessInstance(process, correlationKey);\n         pi.setKnowledgeRuntime(knowledgeRuntime);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1ODMzNA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/730#discussion_r478558334", "bodyText": "Same, I think it can be removed", "author": "ruromero", "createdAt": "2020-08-27T16:48:47Z", "path": "jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/ProcessRuntimeImpl.java", "diffHunk": "@@ -229,7 +229,7 @@ public ProcessInstance createProcessInstance(String processId, CorrelationKey co\n \n     @Override\n     public ProcessInstance getProcessInstance(CorrelationKey correlationKey) {\n-        return processInstanceManager.getProcessInstance(correlationKey);\n+        return null; // Querying of correlation keys is no longer supported", "originalCommit": "9e3dbe43a8ba6b099e31d95afb855dbb8f6985cf", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "371bdcd6146c3335e8a6d15bd9b3daa94db5e022", "chunk": "diff --git a/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/ProcessRuntimeImpl.java b/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/ProcessRuntimeImpl.java\nindex 592325bfdd..63201bd310 100755\n--- a/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/ProcessRuntimeImpl.java\n+++ b/jbpm/jbpm-flow/src/main/java/org/jbpm/process/instance/ProcessRuntimeImpl.java\n\n@@ -227,11 +227,6 @@ public class ProcessRuntimeImpl implements InternalProcessRuntime {\n         }\n     }\n \n-    @Override\n-    public ProcessInstance getProcessInstance(CorrelationKey correlationKey) {\n-        return null; // Querying of correlation keys is no longer supported\n-    }\n-\n     private org.jbpm.process.instance.ProcessInstance startProcess(Process process, CorrelationKey correlationKey, Map<String, Object> parameters) {\n         ProcessInstanceFactory conf = ProcessInstanceFactoryRegistry.INSTANCE.getProcessInstanceFactory(process);\n         if (conf == null) {\n"}}, {"oid": "371bdcd6146c3335e8a6d15bd9b3daa94db5e022", "url": "https://github.com/kiegroup/kogito-runtimes/commit/371bdcd6146c3335e8a6d15bd9b3daa94db5e022", "message": "[KOGITO-2893] Detach Business Key from ID - follow-up cleaning", "committedDate": "2020-08-27T20:05:50Z", "type": "forcePushed"}, {"oid": "54a19baeab95e89a55e90df138d52a025d082415", "url": "https://github.com/kiegroup/kogito-runtimes/commit/54a19baeab95e89a55e90df138d52a025d082415", "message": "[KOGITO-2893] Detach Business Key from ID - follow-up cleaning", "committedDate": "2020-08-27T20:08:43Z", "type": "commit"}, {"oid": "54a19baeab95e89a55e90df138d52a025d082415", "url": "https://github.com/kiegroup/kogito-runtimes/commit/54a19baeab95e89a55e90df138d52a025d082415", "message": "[KOGITO-2893] Detach Business Key from ID - follow-up cleaning", "committedDate": "2020-08-27T20:08:43Z", "type": "forcePushed"}]}