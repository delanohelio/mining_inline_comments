{"pr_number": 497, "pr_title": "KOGITO-2136 Add integration tests to archetypes", "pr_createdAt": "2020-05-08T14:39:02Z", "pr_url": "https://github.com/kiegroup/kogito-runtimes/pull/497", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg5NTk4OQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r423895989", "bodyText": "I played with it a little bit and it seems that unless you specify statusCode(200), it will keep passing as for example Quarkus will return 404 and HTML body when I change the endpoint or delete a bpmn. When I change the matcher to nullValue() then it is complaining that id contains Resource not found but expected is null, which is weird as id is not even on the page. I will probably file an issue for that.", "author": "MarianMacik", "createdAt": "2020-05-12T17:07:41Z", "path": "archetypes/kogito-quarkus-archetype/src/main/resources/archetype-resources/src/test/java/GreetingsTest.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package ${package};\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+import io.restassured.http.ContentType;\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.UUID;\n+\n+import static io.restassured.RestAssured.given;\n+import static org.hamcrest.CoreMatchers.*;\n+\n+@QuarkusTest\n+public class GreetingsTest {\n+\n+    @Test\n+    public void testHelloEndpoint() {\n+        given()\n+            .contentType(ContentType.JSON)\n+            .accept(ContentType.JSON)\n+            .body(\"{}\")\n+        .when()\n+            .post(\"/greetings\")\n+        .then()\n+            .body(\"id\", notNullValue());    ", "originalCommit": "6c161db16ed1c922341ba77c13824e18822f34a4", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ab59a0c55a15ae9d3aaa2ea2aac9e435644be290", "chunk": "diff --git a/archetypes/kogito-quarkus-archetype/src/main/resources/archetype-resources/src/test/java/GreetingsTest.java b/archetypes/kogito-quarkus-archetype/src/main/resources/archetype-resources/src/test/java/GreetingsTest.java\nindex fde4c6416a..cb336e8544 100644\n--- a/archetypes/kogito-quarkus-archetype/src/main/resources/archetype-resources/src/test/java/GreetingsTest.java\n+++ b/archetypes/kogito-quarkus-archetype/src/main/resources/archetype-resources/src/test/java/GreetingsTest.java\n\n@@ -1,13 +1,12 @@\n package ${package};\n \n import io.quarkus.test.junit.QuarkusTest;\n-import io.restassured.http.ContentType;\n import org.junit.jupiter.api.Test;\n \n import java.util.UUID;\n \n import static io.restassured.RestAssured.given;\n-import static org.hamcrest.CoreMatchers.*;\n+import static org.hamcrest.CoreMatchers.is;\n \n @QuarkusTest\n public class GreetingsTest {\n"}}, {"oid": "ab59a0c55a15ae9d3aaa2ea2aac9e435644be290", "url": "https://github.com/kiegroup/kogito-runtimes/commit/ab59a0c55a15ae9d3aaa2ea2aac9e435644be290", "message": "example IT test", "committedDate": "2020-05-13T09:40:22Z", "type": "commit"}, {"oid": "3a36a485cb9d0ec4c478d1b8121f739da20f2adf", "url": "https://github.com/kiegroup/kogito-runtimes/commit/3a36a485cb9d0ec4c478d1b8121f739da20f2adf", "message": "add tests", "committedDate": "2020-05-13T09:41:37Z", "type": "commit"}, {"oid": "d45b08dca0565e622a1ae6f3b2d385006a735e66", "url": "https://github.com/kiegroup/kogito-runtimes/commit/d45b08dca0565e622a1ae6f3b2d385006a735e66", "message": "springboot", "committedDate": "2020-05-13T09:41:46Z", "type": "commit"}, {"oid": "6a18ffec08a0c7278b539d03b7637c50c1ce3ead", "url": "https://github.com/kiegroup/kogito-runtimes/commit/6a18ffec08a0c7278b539d03b7637c50c1ce3ead", "message": "fix annotation", "committedDate": "2020-05-13T09:41:46Z", "type": "commit"}, {"oid": "75afd18633689b4d55da5c19d07d49525c769e4c", "url": "https://github.com/kiegroup/kogito-runtimes/commit/75afd18633689b4d55da5c19d07d49525c769e4c", "message": "add rest assured for spring", "committedDate": "2020-05-13T09:41:46Z", "type": "commit"}, {"oid": "5f63a8292fb1698ec782bab93753780b00555df8", "url": "https://github.com/kiegroup/kogito-runtimes/commit/5f63a8292fb1698ec782bab93753780b00555df8", "message": "comments", "committedDate": "2020-05-13T09:42:20Z", "type": "commit"}, {"oid": "5a4236a20e0f9813fc4242d00d81902d7ff12d74", "url": "https://github.com/kiegroup/kogito-runtimes/commit/5a4236a20e0f9813fc4242d00d81902d7ff12d74", "message": "fix tests", "committedDate": "2020-05-13T09:42:24Z", "type": "commit"}, {"oid": "e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "url": "https://github.com/kiegroup/kogito-runtimes/commit/e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "message": "create test/resources", "committedDate": "2020-05-13T09:42:24Z", "type": "commit"}, {"oid": "e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "url": "https://github.com/kiegroup/kogito-runtimes/commit/e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "message": "create test/resources", "committedDate": "2020-05-13T09:42:24Z", "type": "forcePushed"}]}