{"pr_number": 1806, "pr_title": "handle protected access", "pr_createdAt": "2020-11-13T16:57:03Z", "pr_url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806", "timeline": [{"oid": "620c6a8659999c6b1f97f9cb389fca809af6c261", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/620c6a8659999c6b1f97f9cb389fca809af6c261", "message": "handle protected access", "committedDate": "2020-11-13T16:56:13Z", "type": "commit"}, {"oid": "cff52b18e7438ef48493cae0e9afc18d9798a56c", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/cff52b18e7438ef48493cae0e9afc18d9798a56c", "message": "add copyright", "committedDate": "2020-11-13T16:57:32Z", "type": "commit"}, {"oid": "6f8a78a984e6c98f76d27b251aa4eff947524210", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/6f8a78a984e6c98f76d27b251aa4eff947524210", "message": "Merge branch 'master' into warn", "committedDate": "2020-11-13T17:07:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MDg0NA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523190844", "bodyText": "Indent.", "author": "suztomo", "createdAt": "2020-11-13T19:56:29Z", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblem.java", "diffHunk": "@@ -42,15 +42,18 @@ public final String toString() {\n         message.append(\" is public\");\n         break;\n       case PRIVATE:\n-        message.append(\" is private\");\n-        break;\n+          message.append(\" is private\");", "originalCommit": "6f8a78a984e6c98f76d27b251aa4eff947524210", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2NDQ0Mg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523264442", "bodyText": "done", "author": "elharo", "createdAt": "2020-11-13T22:23:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MDg0NA=="}], "type": "inlineReview", "revised_code": {"commit": "dcce221ab1630edaf3260ccb37902bcd92ce51d2", "chunk": "diff --git a/dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblem.java b/dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblem.java\nindex 2e687115..aae20f50 100644\n--- a/dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblem.java\n+++ b/dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblem.java\n\n@@ -42,11 +42,11 @@ final class InaccessibleClassProblem extends LinkageProblem {\n         message.append(\" is public\");\n         break;\n       case PRIVATE:\n-          message.append(\" is private\");\n-          break;\n+        message.append(\" is private\");\n+        break;\n       case PROTECTED:\n-          message.append(\" is protected\");\n-          break;\n+        message.append(\" is protected\");\n+        break;\n       case DEFAULT:\n         message.append(\" has default access\");\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MTc0MQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523191741", "bodyText": "indent.", "author": "suztomo", "createdAt": "2020-11-13T19:58:20Z", "path": "dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class InaccessibleClassProblemTest {\n+\t\n+\tprivate ClassFile file;", "originalCommit": "6f8a78a984e6c98f76d27b251aa4eff947524210", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2NDcxNw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523264717", "bodyText": "done", "author": "elharo", "createdAt": "2020-11-13T22:24:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MTc0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDM1NjcwNQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r524356705", "bodyText": "I still see the indentation is inaccurate in this file (screenshot below). Can you check any tab character or unexpected white space characters?", "author": "suztomo", "createdAt": "2020-11-16T15:33:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MTc0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQzNDE4NQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r524434185", "bodyText": "done", "author": "elharo", "createdAt": "2020-11-16T17:11:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MTc0MQ=="}], "type": "inlineReview", "revised_code": {"commit": "dcce221ab1630edaf3260ccb37902bcd92ce51d2", "chunk": "diff --git a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\nindex d0300b1a..8f6559c1 100644\n--- a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n+++ b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n\n@@ -18,7 +18,6 @@ package com.google.cloud.tools.opensource.classpath;\n \n import java.nio.file.Path;\n import java.nio.file.Paths;\n-\n import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MTgxNg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523191816", "bodyText": "Unnecessary empty line.", "author": "suztomo", "createdAt": "2020-11-13T19:58:30Z", "path": "dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+", "originalCommit": "6f8a78a984e6c98f76d27b251aa4eff947524210", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2NDY2Ng==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523264666", "bodyText": "done", "author": "elharo", "createdAt": "2020-11-13T22:23:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MTgxNg=="}], "type": "inlineReview", "revised_code": {"commit": "dcce221ab1630edaf3260ccb37902bcd92ce51d2", "chunk": "diff --git a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\nindex d0300b1a..8f6559c1 100644\n--- a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n+++ b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n\n@@ -18,7 +18,6 @@ package com.google.cloud.tools.opensource.classpath;\n \n import java.nio.file.Path;\n import java.nio.file.Paths;\n-\n import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MjU5Mg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523192592", "bodyText": "ClassSymbol(\"Foo\")? This is shorter.", "author": "suztomo", "createdAt": "2020-11-13T20:00:06Z", "path": "dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class InaccessibleClassProblemTest {\n+\t\n+\tprivate ClassFile file;\n+\tprivate Symbol symbol;\n+\t\n+\t@Before\n+\tpublic void setUp() {\n+      Path path = Paths.get(\"/usr/tmp\");\n+      ClassPathEntry entry = new ClassPathEntry(path);\n+      file = new ClassFile(entry, \"foo\");\n+      symbol = new Symbol(\"\") {", "originalCommit": "6f8a78a984e6c98f76d27b251aa4eff947524210", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2NDgwNQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r523264805", "bodyText": "done", "author": "elharo", "createdAt": "2020-11-13T22:24:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE5MjU5Mg=="}], "type": "inlineReview", "revised_code": {"commit": "dcce221ab1630edaf3260ccb37902bcd92ce51d2", "chunk": "diff --git a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\nindex d0300b1a..8f6559c1 100644\n--- a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n+++ b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n\n@@ -18,7 +18,6 @@ package com.google.cloud.tools.opensource.classpath;\n \n import java.nio.file.Path;\n import java.nio.file.Paths;\n-\n import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n"}}, {"oid": "dcce221ab1630edaf3260ccb37902bcd92ce51d2", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/dcce221ab1630edaf3260ccb37902bcd92ce51d2", "message": "code review", "committedDate": "2020-11-13T22:24:24Z", "type": "commit"}, {"oid": "8dff2177b997f622c35f97b86d2383b826b59f22", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/8dff2177b997f622c35f97b86d2383b826b59f22", "message": "Merge branch 'master' into warn", "committedDate": "2020-11-16T13:09:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDM1NzI1Ng==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1806#discussion_r524357256", "bodyText": "Strange indentation", "author": "suztomo", "createdAt": "2020-11-16T15:34:27Z", "path": "dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class InaccessibleClassProblemTest {\n+\t\n+\tprivate ClassFile file;\n+\tprivate Symbol symbol;\n+\t\n+\t@Before\n+\tpublic void setUp() {\n+      Path path = Paths.get(\"/usr/tmp\");\n+      ClassPathEntry entry = new ClassPathEntry(path);", "originalCommit": "8dff2177b997f622c35f97b86d2383b826b59f22", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d29e0766fcf1c9e986110222b62aee17383335dd", "chunk": "diff --git a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\nindex 8f6559c1..5f711e26 100644\n--- a/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n+++ b/dependencies/src/test/java/com/google/cloud/tools/opensource/classpath/InaccessibleClassProblemTest.java\n\n@@ -23,46 +23,45 @@ import org.junit.Before;\n import org.junit.Test;\n \n public class InaccessibleClassProblemTest {\n-\t\n-\tprivate ClassFile file;\n-\tprivate Symbol symbol;\n-\t\n-\t@Before\n-\tpublic void setUp() {\n-      Path path = Paths.get(\"/usr/tmp\");\n-      ClassPathEntry entry = new ClassPathEntry(path);\n-      file = new ClassFile(entry, \"foo\");\n-      symbol = new ClassSymbol(\"\");\n-\t}\n+  \n+  private ClassFile file;\n+  private Symbol symbol;\n+  \n+  @Before\n+  public void setUp() {\n+    Path path = Paths.get(\"/usr/tmp\");\n+    ClassPathEntry entry = new ClassPathEntry(path);\n+    file = new ClassFile(entry, \"foo\");\n+    symbol = new ClassSymbol(\"\");\n+  }\n \n-    @Test\n-    public void testProtected() {\n-      InaccessibleClassProblem problem =\n-          new InaccessibleClassProblem(file, file, symbol, AccessModifier.PROTECTED);\n-      Assert.assertEquals(\"Class foo is protected and referenced by foo\", problem.toString());\n-    }\n-    \n-    @Test\n-    public void testPrivate() {\n-      InaccessibleClassProblem problem =\n-          new InaccessibleClassProblem(file, file, symbol, AccessModifier.PRIVATE);\n-      Assert.assertEquals(\"Class foo is private and referenced by foo\", problem.toString());\n-    }\n+  @Test\n+  public void testProtected() {\n+    InaccessibleClassProblem problem =\n+        new InaccessibleClassProblem(file, file, symbol, AccessModifier.PROTECTED);\n+    Assert.assertEquals(\"Class foo is protected and is referenced by foo\", problem.toString());\n+  }\n \n-    @Test\n-    public void testPublic() {\n-      InaccessibleClassProblem problem =\n-          new InaccessibleClassProblem(file, file, symbol, AccessModifier.PUBLIC);\n-      Assert.assertEquals(\"Class foo is public and referenced by foo\",\n-          problem.toString());\n-    }\n-    \n-    @Test\n-    public void testDefault() {\n-      InaccessibleClassProblem problem =\n-          new InaccessibleClassProblem(file, file, symbol, AccessModifier.DEFAULT);\n-      Assert.assertEquals(\"Class foo has default access and referenced by foo (different package)\",\n-          problem.toString());\n-    }\n+  @Test\n+  public void testPrivate() {\n+    InaccessibleClassProblem problem =\n+        new InaccessibleClassProblem(file, file, symbol, AccessModifier.PRIVATE);\n+    Assert.assertEquals(\"Class foo is private and is referenced by foo\", problem.toString());\n+  }\n+\n+  @Test\n+  public void testPublic() {\n+    InaccessibleClassProblem problem =\n+        new InaccessibleClassProblem(file, file, symbol, AccessModifier.PUBLIC);\n+    Assert.assertEquals(\"Class foo is public and is referenced by foo\", problem.toString());\n+  }\n+\n+  @Test\n+  public void testDefault() {\n+    InaccessibleClassProblem problem =\n+        new InaccessibleClassProblem(file, file, symbol, AccessModifier.DEFAULT);\n+    Assert.assertEquals(\"Class foo has default access and is referenced by foo (different package)\",\n+        problem.toString());\n+  }\n \n }\n"}}, {"oid": "d29e0766fcf1c9e986110222b62aee17383335dd", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/d29e0766fcf1c9e986110222b62aee17383335dd", "message": "fix space", "committedDate": "2020-11-16T17:11:41Z", "type": "commit"}]}