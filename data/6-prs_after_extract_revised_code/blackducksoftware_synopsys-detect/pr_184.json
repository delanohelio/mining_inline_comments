{"pr_number": 184, "pr_title": "Lerna", "pr_createdAt": "2020-06-09T16:44:15Z", "pr_url": "https://github.com/blackducksoftware/synopsys-detect/pull/184", "timeline": [{"oid": "c4e24a307d502ea4c93ae1a14cbc8affe1e45975", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/c4e24a307d502ea4c93ae1a14cbc8affe1e45975", "message": "feat(lerna): Added LernaDetectable.", "committedDate": "2020-05-21T21:44:24Z", "type": "commit"}, {"oid": "bc833d51c171437954658d3886b7e6009e45cc94", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/bc833d51c171437954658d3886b7e6009e45cc94", "message": "feat(lerna): Started Lerna extraction.", "committedDate": "2020-05-22T15:11:13Z", "type": "commit"}, {"oid": "3f1a40181f70fd4125cbca34a585da1107fa0d0b", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/3f1a40181f70fd4125cbca34a585da1107fa0d0b", "message": "refactor(lerna/yarn/npm): Refactored LernaDetectable to be less complex. Refactored Yarn and Npm to provide more utility to the LernaDetectable.", "committedDate": "2020-05-29T16:55:51Z", "type": "commit"}, {"oid": "20d73bc71b221bb7353c9875ceec7cd272361c52", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/20d73bc71b221bb7353c9875ceec7cd272361c52", "message": "feat(lerna): Implemented package-lock.json and npm-shrinkwrap.json support.", "committedDate": "2020-05-29T17:02:48Z", "type": "commit"}, {"oid": "7093bc1fb65e5a8f4ecf28ec2846025683554ef2", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/7093bc1fb65e5a8f4ecf28ec2846025683554ef2", "message": "refactor(lerna): Created LernaPackageDiscoverer for separation of concerns and testability.", "committedDate": "2020-05-29T17:34:35Z", "type": "commit"}, {"oid": "8819b21f15e97f3a2da90c1241a32452c2e3a0fb", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/8819b21f15e97f3a2da90c1241a32452c2e3a0fb", "message": "fix(lerna): Added package location to the code location so they can be distinguished.", "committedDate": "2020-05-29T18:08:03Z", "type": "commit"}, {"oid": "eb2ea4b791dbcfe186341b1a53ae1b8e4be93201", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/eb2ea4b791dbcfe186341b1a53ae1b8e4be93201", "message": "feat(lerna): Added root project extraction and project info.", "committedDate": "2020-05-29T18:16:47Z", "type": "commit"}, {"oid": "e72738682d706a345d408dcfa44c54481c6e6fd7", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/e72738682d706a345d408dcfa44c54481c6e6fd7", "message": "refactor(lerna): Removed unused package.json.", "committedDate": "2020-06-01T18:36:48Z", "type": "commit"}, {"oid": "eaad801d839f9f3623c54c529ec16b5af9587e0d", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/eaad801d839f9f3623c54c529ec16b5af9587e0d", "message": "refactor(lerna/yarn/npm): Added middle layer between extraction classes and real work.", "committedDate": "2020-06-03T15:42:39Z", "type": "commit"}, {"oid": "b2c424590886a5e345db5904d06041ca285e3ee0", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/b2c424590886a5e345db5904d06041ca285e3ee0", "message": "Merge branch 'master' into lerna\n\n# Conflicts:\n#\tbuild.gradle\n#\tdetectable/src/main/java/com/synopsys/integration/detectable/factory/DetectableFactory.java\n#\tdocs/templates/content/advanced/BD-user-role-requirements.ftl", "committedDate": "2020-06-03T15:47:24Z", "type": "commit"}, {"oid": "69476d048c0d2ec25d3093a5a2865d79d4aa49ca", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/69476d048c0d2ec25d3093a5a2865d79d4aa49ca", "message": "refactor(yarn): YarnOptions are now a dependency of the YarnLockExtractor.", "committedDate": "2020-06-03T16:14:11Z", "type": "commit"}, {"oid": "ba8c6721fc52a81fd68689e3dca1e4aab0b65cab", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/ba8c6721fc52a81fd68689e3dca1e4aab0b65cab", "message": "refactor(lerna/yarn/npm): Made Packager layer more testable.", "committedDate": "2020-06-03T20:51:51Z", "type": "commit"}, {"oid": "290f9cd79c63d42569eeaf00531050ccc3f9d342", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/290f9cd79c63d42569eeaf00531050ccc3f9d342", "message": "feat(lerna): Added a property for including private Lerna packages.", "committedDate": "2020-06-04T20:27:21Z", "type": "commit"}, {"oid": "70a7c08649653b3fef823b5429f1f24f405f5145", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/70a7c08649653b3fef823b5429f1f24f405f5145", "message": "doc(lerna): Added RN and doc page for Lerna.", "committedDate": "2020-06-04T20:27:43Z", "type": "commit"}, {"oid": "6d0dbb118bc90e2a711a03b8b997e58fc6fa5954", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/6d0dbb118bc90e2a711a03b8b997e58fc6fa5954", "message": "fix(lerna): Lerna was not including the root code location.", "committedDate": "2020-06-08T21:33:51Z", "type": "commit"}, {"oid": "9db196d6e5ef433ce1978ea4c14feafb863eeae7", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/9db196d6e5ef433ce1978ea4c14feafb863eeae7", "message": "fix(lerna): Made LernaPackageDiscoverer more resilient to gson parsing.", "committedDate": "2020-06-08T21:34:49Z", "type": "commit"}, {"oid": "71041eeee89a3f3c5fc333c8a3cb45ff83d3ec6e", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/71041eeee89a3f3c5fc333c8a3cb45ff83d3ec6e", "message": "style(license): Added license headers", "committedDate": "2020-06-08T21:37:16Z", "type": "commit"}, {"oid": "7def6df3ca17b490d1a0d4e8ec44aa83c98400ed", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/7def6df3ca17b490d1a0d4e8ec44aa83c98400ed", "message": "test-feat(lerna): Added LernaDete.ctableTest", "committedDate": "2020-06-08T21:37:33Z", "type": "commit"}, {"oid": "e9a6d9c37c08a0d2aed4d44464446bec9c85a6fa", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/e9a6d9c37c08a0d2aed4d44464446bec9c85a6fa", "message": "test-feat(lerna): Added LernaPackageDiscovererTest.", "committedDate": "2020-06-09T15:38:13Z", "type": "commit"}, {"oid": "5d6f8814e2b03f52096129425b8b88848ec3a1f4", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/5d6f8814e2b03f52096129425b8b88848ec3a1f4", "message": "Merge branch 'master' into lerna\n\n# Conflicts:\n#\tdetectable/src/main/java/com/synopsys/integration/detectable/factory/DetectableFactory.java\n#\tsrc/main/java/com/synopsys/integration/detect/tool/detector/impl/DetectDetectableFactory.java", "committedDate": "2020-06-09T15:43:22Z", "type": "commit"}, {"oid": "216c29a42c6b0fddfecc858387ff0af01fd2734d", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/216c29a42c6b0fddfecc858387ff0af01fd2734d", "message": "refactor(lerna): Merged master into Lerna branch.", "committedDate": "2020-06-09T15:47:03Z", "type": "commit"}, {"oid": "642ca538f80a2dd46be844487ba615c0ee67142c", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/642ca538f80a2dd46be844487ba615c0ee67142c", "message": "refactor(yarn): Removed finals.", "committedDate": "2020-06-09T16:43:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYwNjIyNQ==", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/184#discussion_r437606225", "bodyText": "Why not just public fields?", "author": "taikuukaits", "createdAt": "2020-06-09T17:40:39Z", "path": "detectable/src/main/java/com/synopsys/integration/detectable/detectables/lerna/model/LernaPackage.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/**\n+ * detectable\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.detectable.detectables.lerna.model;\n+\n+import com.google.gson.annotations.SerializedName;\n+\n+public class LernaPackage {\n+    @SerializedName(\"name\")\n+    private final String name;", "originalCommit": "642ca538f80a2dd46be844487ba615c0ee67142c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxMDc2NA==", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/184#discussion_r437610764", "bodyText": "I think it's weird we use Optional and Nullable, we should pick one.", "author": "taikuukaits", "createdAt": "2020-06-09T17:48:20Z", "path": "detectable/src/main/java/com/synopsys/integration/detectable/detectables/yarn/YarnResult.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/**\n+ * detectable\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.detectable.detectables.yarn;\n+\n+import java.util.Optional;\n+\n+import org.jetbrains.annotations.NotNull;\n+import org.jetbrains.annotations.Nullable;\n+\n+import com.synopsys.integration.detectable.detectable.codelocation.CodeLocation;\n+\n+public class YarnResult {\n+    @Nullable\n+    private final String projectName;\n+    @Nullable\n+    private final String projectVersionName;\n+    private final CodeLocation codeLocation;\n+    @Nullable\n+    private final Exception exception;\n+\n+    public static YarnResult success(@Nullable String projectName, @Nullable String projectVersionName, CodeLocation codeLocation) {\n+        return new YarnResult(projectName, projectVersionName, codeLocation, null);\n+    }\n+\n+    public static YarnResult failure(@NotNull Exception exception) {\n+        return new YarnResult(null, null, null, exception);\n+    }\n+\n+    private YarnResult(@Nullable String projectName, @Nullable String projectVersionName, @Nullable CodeLocation codeLocation, @Nullable Exception exception) {\n+        this.projectName = projectName;\n+        this.projectVersionName = projectVersionName;\n+        this.codeLocation = codeLocation;\n+        this.exception = exception;\n+    }\n+\n+    @Nullable\n+    public String getProjectName() {\n+        return projectName;\n+    }\n+\n+    @Nullable\n+    public String getProjectVersionName() {\n+        return projectVersionName;\n+    }\n+\n+    @Nullable\n+    public CodeLocation getCodeLocation() {\n+        return codeLocation;\n+    }\n+\n+    public Optional<Exception> getException() {", "originalCommit": "642ca538f80a2dd46be844487ba615c0ee67142c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e23023845e5adb8b58a0250086f5ca712c7ed46e", "chunk": "diff --git a/detectable/src/main/java/com/synopsys/integration/detectable/detectables/yarn/YarnResult.java b/detectable/src/main/java/com/synopsys/integration/detectable/detectables/yarn/YarnResult.java\nindex 402f862fd..7cad24915 100644\n--- a/detectable/src/main/java/com/synopsys/integration/detectable/detectables/yarn/YarnResult.java\n+++ b/detectable/src/main/java/com/synopsys/integration/detectable/detectables/yarn/YarnResult.java\n\n@@ -29,6 +29,7 @@ import org.jetbrains.annotations.Nullable;\n \n import com.synopsys.integration.detectable.detectable.codelocation.CodeLocation;\n \n+// TODO: Have this class produce success an failure objects for a clearer API.\n public class YarnResult {\n     @Nullable\n     private final String projectName;\n"}}, {"oid": "9ed4ac1a291362ad2a8412d580a565aaad710956", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/9ed4ac1a291362ad2a8412d580a565aaad710956", "message": "Merge branch 'master' into lerna", "committedDate": "2020-06-12T19:59:05Z", "type": "commit"}, {"oid": "39c03974ddb7285be3a243b92800aac6ccf8cf28", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/39c03974ddb7285be3a243b92800aac6ccf8cf28", "message": "Merge branch 'master' into lerna", "committedDate": "2020-06-15T14:58:51Z", "type": "commit"}, {"oid": "8a44180d0ab7a40bcdff88ba0c569edd8efc43be", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/8a44180d0ab7a40bcdff88ba0c569edd8efc43be", "message": "doc(release-notes): Updated to use solution_name.", "committedDate": "2020-06-15T15:01:04Z", "type": "commit"}, {"oid": "e23023845e5adb8b58a0250086f5ca712c7ed46e", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/e23023845e5adb8b58a0250086f5ca712c7ed46e", "message": "style(todo): Documented technical debt with TODOs.", "committedDate": "2020-06-15T16:09:56Z", "type": "commit"}]}