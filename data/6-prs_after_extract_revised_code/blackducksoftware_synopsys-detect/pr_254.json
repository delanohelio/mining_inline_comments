{"pr_number": 254, "pr_title": "sonar cloud fixes", "pr_createdAt": "2020-11-30T20:14:53Z", "pr_url": "https://github.com/blackducksoftware/synopsys-detect/pull/254", "timeline": [{"oid": "b4a91900914bf75c4f39a8b6a0a1a94e91fa51ce", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/b4a91900914bf75c4f39a8b6a0a1a94e91fa51ce", "message": "refactor: Pass DetectInfo in bean method rather than autowire.", "committedDate": "2020-11-30T16:30:27Z", "type": "commit"}, {"oid": "a8b4fb32247cf27d6afa682065b833a2140a1bde", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/a8b4fb32247cf27d6afa682065b833a2140a1bde", "message": "refactor: Add argument to codeLocationNameService method.", "committedDate": "2020-11-30T17:06:58Z", "type": "commit"}, {"oid": "dc01454e243ca5aa51cd0c7ab6ee3bb2f94d99b7", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/dc01454e243ca5aa51cd0c7ab6ee3bb2f94d99b7", "message": "refactor: Fix code issue by using generics on the class rather than methods.", "committedDate": "2020-11-30T19:45:50Z", "type": "commit"}, {"oid": "11a3bf5212ddbc91fb6300f7a4cd139aa3cf9b3c", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/11a3bf5212ddbc91fb6300f7a4cd139aa3cf9b3c", "message": "test: Change the main method to a test and Ignore it by default.", "committedDate": "2020-11-30T20:02:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU0MjQ1MA==", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/254#discussion_r533542450", "bodyText": "If we ignore the test, should we just remove it?", "author": "taikuukaits", "createdAt": "2020-12-01T16:19:53Z", "path": "polaris/src/test/java/com/synopsys/integration/polaris/common/service/FullTest.java", "diffHunk": "@@ -19,38 +22,40 @@\n import com.synopsys.integration.polaris.common.model.IssueResourcesSingle;\n \n public class FullTest {\n-    public static void main(final String[] args) throws IntegrationException {\n-        final PolarisServerConfigBuilder polarisServerConfigBuilder = PolarisServerConfig.newBuilder();\n+    @Test\n+    @Ignore", "originalCommit": "11a3bf5212ddbc91fb6300f7a4cd139aa3cf9b3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5OTkzMQ==", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/254#discussion_r533699931", "bodyText": "I only kept it as an ignored test so that a user could always run the test manually in the IDE if needed.  When Polaris support is removed from detect then this class can be removed.", "author": "psantos1113", "createdAt": "2020-12-01T20:27:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU0MjQ1MA=="}], "type": "inlineReview", "revised_code": {"commit": "f962a1b243806071b4331eff16612bf5168a6ef4", "chunk": "diff --git a/polaris/src/test/java/com/synopsys/integration/polaris/common/service/FullTest.java b/polaris/src/test/java/com/synopsys/integration/polaris/common/service/FullTest.java\nindex 38edd3978..e203be66d 100644\n--- a/polaris/src/test/java/com/synopsys/integration/polaris/common/service/FullTest.java\n+++ b/polaris/src/test/java/com/synopsys/integration/polaris/common/service/FullTest.java\n\n@@ -23,11 +24,14 @@ import com.synopsys.integration.polaris.common.model.IssueResourcesSingle;\n \n public class FullTest {\n     @Test\n-    @Ignore\n     public void testPolaris() throws IntegrationException {\n+        String polarisUrl = System.getenv(\"POLARIS_URL\");\n+        String polarisAccessToken = System.getenv(\"POLARIS_ACCESS_TOKEN\");\n+        Assumptions.assumeTrue(StringUtils.isNotBlank(polarisUrl));\n+        Assumptions.assumeTrue(StringUtils.isNotBlank(polarisAccessToken));\n         PolarisServerConfigBuilder polarisServerConfigBuilder = PolarisServerConfig.newBuilder();\n-        polarisServerConfigBuilder.setUrl(System.getenv(\"POLARIS_URL\"));\n-        polarisServerConfigBuilder.setAccessToken(System.getenv(\"POLARIS_ACCESS_TOKEN\"));\n+        polarisServerConfigBuilder.setUrl(polarisUrl);\n+        polarisServerConfigBuilder.setAccessToken(polarisAccessToken);\n \n         PolarisServerConfig polarisServerConfig = polarisServerConfigBuilder.build();\n         IntLogger logger = new PrintStreamIntLogger(System.out, LogLevel.INFO);\n"}}, {"oid": "7fd465c3bb344e704fed33e86f6b5acc08dfdab6", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/7fd465c3bb344e704fed33e86f6b5acc08dfdab6", "message": "Merge remote-tracking branch 'origin/master' into ps_sonar_cloud_fixes", "committedDate": "2020-12-02T15:04:02Z", "type": "commit"}, {"oid": "f962a1b243806071b4331eff16612bf5168a6ef4", "url": "https://github.com/blackducksoftware/synopsys-detect/commit/f962a1b243806071b4331eff16612bf5168a6ef4", "message": "test: Skip test if polaris environment variables missing.", "committedDate": "2020-12-02T15:34:32Z", "type": "commit"}]}