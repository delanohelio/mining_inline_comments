{"pr_number": 1673, "pr_title": "JBTM-3358 Update to MicroProfile LRA 1.0-M2", "pr_createdAt": "2020-09-21T11:00:06Z", "pr_url": "https://github.com/jbosstm/narayana/pull/1673", "timeline": [{"oid": "f875fa614c398daca96fa1b8165ad7a761ac6cc1", "url": "https://github.com/jbosstm/narayana/commit/f875fa614c398daca96fa1b8165ad7a761ac6cc1", "message": "JBTM-3358 Update to MicroProfile LRA 1.0-M2", "committedDate": "2020-09-21T10:57:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk1NjEyMQ==", "url": "https://github.com/jbosstm/narayana/pull/1673#discussion_r491956121", "bodyText": "There is a risk that Class.getClassLoader() will be null if the class was loaded by bootstrap class loader. Are we sure that this never happens? I understand that this code snippet was already involved in the code base - this PR does not add it. But just wondering.", "author": "ochaloup", "createdAt": "2020-09-21T11:02:51Z", "path": "rts/lra/lra-proxy/api/src/main/java/io/narayana/lra/client/internal/proxy/nonjaxrs/LRACDIExtension.java", "diffHunk": "@@ -101,12 +102,12 @@ public void observe(@Observes AfterBeanDiscovery event, BeanManager beanManager)\n      * @return Collected methods wrapped in {@link LRAParticipant} class or null if no non-JAX-RS methods have been found\n      */\n     private LRAParticipant getAsParticipant(ClassInfo classInfo) throws ClassNotFoundException {\n-        if (!isLRAParticipant(classInfo)) {\n+        Class<?> javaClass = getClass().getClassLoader().loadClass(classInfo.name().toString());", "originalCommit": "f875fa614c398daca96fa1b8165ad7a761ac6cc1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk4MTk5Nw==", "url": "https://github.com/jbosstm/narayana/pull/1673#discussion_r491981997", "bodyText": "@ochaloup not sure TBH. Maybe worth exploring in the new JBTM?", "author": "xstefank", "createdAt": "2020-09-21T11:51:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk1NjEyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk4NDEzNQ==", "url": "https://github.com/jbosstm/narayana/pull/1673#discussion_r491984135", "bodyText": "+1, I will create a jira for it", "author": "ochaloup", "createdAt": "2020-09-21T11:53:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk1NjEyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU2NjE3OA==", "url": "https://github.com/jbosstm/narayana/pull/1673#discussion_r492566178", "bodyText": "The bootstrap class loader loads system classes but the CDI extension is not a system class so a null check is not necessary.\nEven if this were not the case, then why create a JIRA rather than updating the PR by checking for null, the code already handles null values on the next line (but this is really not necessary).", "author": "mmusgrov", "createdAt": "2020-09-22T08:39:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk1NjEyMQ=="}], "type": "inlineReview", "revised_code": null}]}