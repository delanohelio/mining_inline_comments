{"pr_number": 162, "pr_title": "Add ones op", "pr_createdAt": "2020-12-05T01:58:22Z", "pr_url": "https://github.com/tensorflow/java/pull/162", "timeline": [{"oid": "dcae2bdd2f8b0b509593dce76bdc66d0a0b635c2", "url": "https://github.com/tensorflow/java/commit/dcae2bdd2f8b0b509593dce76bdc66d0a0b635c2", "message": "Add ones op\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2020-12-05T01:56:55Z", "type": "commit"}, {"oid": "612fed86d89da9527ee33e1baf61d97687c9eeb5", "url": "https://github.com/tensorflow/java/commit/612fed86d89da9527ee33e1baf61d97687c9eeb5", "message": "missed a zeroes\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2020-12-05T01:59:35Z", "type": "commit"}, {"oid": "099d7e87e856f74bcae4808a4f569d2e22d32d53", "url": "https://github.com/tensorflow/java/commit/099d7e87e856f74bcae4808a4f569d2e22d32d53", "message": "rerun codegen\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2020-12-05T02:01:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc3ODYxNQ==", "url": "https://github.com/tensorflow/java/pull/162#discussion_r536778615", "bodyText": "Please adjust the year to 2020", "author": "karllessard", "createdAt": "2020-12-05T14:05:09Z", "path": "tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java", "diffHunk": "@@ -0,0 +1,77 @@\n+/* Copyright 2018 The TensorFlow Authors. All Rights Reserved.", "originalCommit": "099d7e87e856f74bcae4808a4f569d2e22d32d53", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ecbf7d5f0a9c8b1e0153d3e4df4eaaf56ff8fb3b", "chunk": "diff --git a/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java b/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java\nindex 75f41fb4..3af0846b 100644\n--- a/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java\n+++ b/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java\n\n@@ -1,4 +1,4 @@\n-/* Copyright 2018 The TensorFlow Authors. All Rights Reserved.\n+/* Copyright 2020 The TensorFlow Authors. All Rights Reserved.\n \n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc3OTE3MA==", "url": "https://github.com/tensorflow/java/pull/162#discussion_r536779170", "bodyText": "The code block is not closed (same thing below)", "author": "karllessard", "createdAt": "2020-12-05T14:06:25Z", "path": "tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java", "diffHunk": "@@ -0,0 +1,77 @@\n+/* Copyright 2018 The TensorFlow Authors. All Rights Reserved.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+==============================================================================*/\n+package org.tensorflow.op.core;\n+\n+import org.tensorflow.DataType;\n+import org.tensorflow.Operand;\n+import org.tensorflow.Operation;\n+import org.tensorflow.Output;\n+import org.tensorflow.op.Op;\n+import org.tensorflow.op.Scope;\n+import org.tensorflow.op.annotation.Endpoint;\n+import org.tensorflow.op.annotation.Operator;\n+import org.tensorflow.op.dtypes.Cast;\n+import org.tensorflow.types.TString;\n+import org.tensorflow.types.family.TNumber;\n+import org.tensorflow.types.family.TType;\n+\n+/**\n+ * An operator creating a constant initialized with ones of the shape given by `dims`.\n+ * \n+ * <p>For example, the following expression\n+ * <pre>{@code tf.ones(tf.constant(shape), TFloat32.DTYPE)</pre>", "originalCommit": "099d7e87e856f74bcae4808a4f569d2e22d32d53", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkwNDM5Nw==", "url": "https://github.com/tensorflow/java/pull/162#discussion_r536904397", "bodyText": "I think this is due to a cc generation issue, as this is copied from Zeroes and the same issues are present there.", "author": "rnett", "createdAt": "2020-12-05T22:26:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc3OTE3MA=="}], "type": "inlineReview", "revised_code": {"commit": "ecbf7d5f0a9c8b1e0153d3e4df4eaaf56ff8fb3b", "chunk": "diff --git a/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java b/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java\nindex 75f41fb4..3af0846b 100644\n--- a/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java\n+++ b/tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/op/core/Ones.java\n\n@@ -1,4 +1,4 @@\n-/* Copyright 2018 The TensorFlow Authors. All Rights Reserved.\n+/* Copyright 2020 The TensorFlow Authors. All Rights Reserved.\n \n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4MjQ1OA==", "url": "https://github.com/tensorflow/java/pull/162#discussion_r536782458", "bodyText": "Ah, looks like something was out of sync with the last PR that was merged, good thing that we'll fix it here.", "author": "karllessard", "createdAt": "2020-12-05T14:13:22Z", "path": "tensorflow-core/tensorflow-core-api/src/gen/annotations/org/tensorflow/op/Ops.java", "diffHunk": "@@ -7726,7 +7740,7 @@ public Ops withName(String opName) {\n   }\n \n   /**\n-   * Returns an API that uses the provided DeviceSpec for an op.\n+   * Returns an API that places the created operations on the device(s) matching the provided spec.", "originalCommit": "099d7e87e856f74bcae4808a4f569d2e22d32d53", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "ecbf7d5f0a9c8b1e0153d3e4df4eaaf56ff8fb3b", "url": "https://github.com/tensorflow/java/commit/ecbf7d5f0a9c8b1e0153d3e4df4eaaf56ff8fb3b", "message": "Fix license and javadoc\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2020-12-05T22:28:52Z", "type": "commit"}]}