{"pr_number": 2557, "pr_title": "HBASE-25195 [branch-1] getNumOpenConnections is not effective", "pr_createdAt": "2020-10-18T07:03:51Z", "pr_url": "https://github.com/apache/hbase/pull/2557", "timeline": [{"oid": "2f6c7f12cdc6acad4b273ff0f4dcb0948dc6b178", "url": "https://github.com/apache/hbase/commit/2f6c7f12cdc6acad4b273ff0f4dcb0948dc6b178", "message": "HBASE-25195 [branch-1] getNumOpenConnections is not effective", "committedDate": "2020-10-18T07:03:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA1Njg3MA==", "url": "https://github.com/apache/hbase/pull/2557#discussion_r507056870", "bodyText": "We can also remove this.server.connectionList == null because it is not relevant anymore (also, it can never be null)", "author": "virajjasani", "createdAt": "2020-10-18T09:18:35Z", "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/MetricsHBaseServerWrapperImpl.java", "diffHunk": "@@ -68,7 +68,7 @@ public int getNumOpenConnections() {\n     if (!isServerStarted() || this.server.connectionList == null) {", "originalCommit": "2f6c7f12cdc6acad4b273ff0f4dcb0948dc6b178", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5d25f748e1d21e0f391ba05636ce5bd0985006b9", "chunk": "diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/MetricsHBaseServerWrapperImpl.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/MetricsHBaseServerWrapperImpl.java\nindex 661960408d..2f3745f03a 100644\n--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/MetricsHBaseServerWrapperImpl.java\n+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/MetricsHBaseServerWrapperImpl.java\n\n@@ -65,7 +65,7 @@ public class MetricsHBaseServerWrapperImpl implements MetricsHBaseServerWrapper\n \n   @Override\n   public int getNumOpenConnections() {\n-    if (!isServerStarted() || this.server.connectionList == null) {\n+    if (!isServerStarted()) {\n       return 0;\n     }\n     return server.numConnections;\n"}}, {"oid": "5d25f748e1d21e0f391ba05636ce5bd0985006b9", "url": "https://github.com/apache/hbase/commit/5d25f748e1d21e0f391ba05636ce5bd0985006b9", "message": "Address comment", "committedDate": "2020-10-18T09:44:35Z", "type": "commit"}]}