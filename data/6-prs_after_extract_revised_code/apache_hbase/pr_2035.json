{"pr_number": 2035, "pr_title": "HBASE-24663 Add procedure process time statistics UI", "pr_createdAt": "2020-07-08T06:52:07Z", "pr_url": "https://github.com/apache/hbase/pull/2035", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg5MzE5MQ==", "url": "https://github.com/apache/hbase/pull/2035#discussion_r451893191", "bodyText": "Do we have to change this interface? This is IA.LimitedPrivate.", "author": "infraio", "createdAt": "2020-07-09T00:14:38Z", "path": "hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java", "diffHunk": "@@ -55,4 +55,10 @@\n   @InterfaceAudience.Private\n   Snapshot snapshot();\n \n+  long[] getQuantiles(double[] quantiles);", "originalCommit": "adca6842be3f5655f04084978a11286ea527311b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTkyMzMxOQ==", "url": "https://github.com/apache/hbase/pull/2035#discussion_r451923319", "bodyText": "snapshot() will  be better, but the implementation will reset the data before, which makes no senses for histogram metrics. I haven't gotten the reason.Another thing is the interfaces in Histogram are not enough? There are getMin, getMax, usually we need quantiles?", "author": "Joseph295", "createdAt": "2020-07-09T02:09:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg5MzE5MQ=="}], "type": "inlineReview", "revised_code": {"commit": "a175b1980666f1b13d6e47dee2d58ac65b61e3bb", "chunk": "diff --git a/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java b/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java\nindex 5045736cad..c5adf00bfa 100644\n--- a/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java\n+++ b/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java\n\n@@ -54,11 +54,4 @@ public interface Histogram extends Metric {\n    */\n   @InterfaceAudience.Private\n   Snapshot snapshot();\n-\n-  long[] getQuantiles(double[] quantiles);\n-\n-  long getMin();\n-\n-  long getMax();\n-\n }\n"}}, {"oid": "a175b1980666f1b13d6e47dee2d58ac65b61e3bb", "url": "https://github.com/apache/hbase/commit/a175b1980666f1b13d6e47dee2d58ac65b61e3bb", "message": "HBASE-24663 Add procedure process time statistics UI", "committedDate": "2020-07-09T03:46:10Z", "type": "forcePushed"}, {"oid": "db89998e9f711020ba709c6e82c6852c39ac4249", "url": "https://github.com/apache/hbase/commit/db89998e9f711020ba709c6e82c6852c39ac4249", "message": "HBASE-24663 Add procedure process time statistics UI", "committedDate": "2020-07-09T03:48:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU3OTIwOA==", "url": "https://github.com/apache/hbase/pull/2035#discussion_r452579208", "bodyText": "Nit: not need to change this file.", "author": "infraio", "createdAt": "2020-07-10T01:47:43Z", "path": "hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java", "diffHunk": "@@ -54,5 +54,4 @@\n    */\n   @InterfaceAudience.Private\n   Snapshot snapshot();\n-", "originalCommit": "db89998e9f711020ba709c6e82c6852c39ac4249", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b9a3a7147ca01ab7d78431666c18eb5ce4ca2542", "chunk": "diff --git a/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java b/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java\nindex c5adf00bfa..0804a86161 100644\n--- a/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java\n+++ b/hbase-metrics-api/src/main/java/org/apache/hadoop/hbase/metrics/Histogram.java\n\n@@ -54,4 +54,5 @@ public interface Histogram extends Metric {\n    */\n   @InterfaceAudience.Private\n   Snapshot snapshot();\n+  \n }\n"}}, {"oid": "b9a3a7147ca01ab7d78431666c18eb5ce4ca2542", "url": "https://github.com/apache/hbase/commit/b9a3a7147ca01ab7d78431666c18eb5ce4ca2542", "message": "HBASE-24663 Add procedure process time statistics UI", "committedDate": "2020-07-10T02:11:38Z", "type": "forcePushed"}, {"oid": "3ee48f60c6671a66d6f73c634bcf3c081a805922", "url": "https://github.com/apache/hbase/commit/3ee48f60c6671a66d6f73c634bcf3c081a805922", "message": "HBASE-24663 Add procedure process time statistics UI", "committedDate": "2020-07-10T02:12:34Z", "type": "commit"}, {"oid": "3ee48f60c6671a66d6f73c634bcf3c081a805922", "url": "https://github.com/apache/hbase/commit/3ee48f60c6671a66d6f73c634bcf3c081a805922", "message": "HBASE-24663 Add procedure process time statistics UI", "committedDate": "2020-07-10T02:12:34Z", "type": "forcePushed"}]}