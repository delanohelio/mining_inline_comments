{"pr_number": 1633, "pr_title": "HBASE-24221 Support bulkLoadHFile by family (ADDENDUM)", "pr_createdAt": "2020-05-03T14:22:17Z", "pr_url": "https://github.com/apache/hbase/pull/1633", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI4MjY3Ng==", "url": "https://github.com/apache/hbase/pull/1633#discussion_r419282676", "bodyText": "Nit: Since method is now protected, let's add @param tags on javadoc description.", "author": "wchevreuil", "createdAt": "2020-05-04T08:29:34Z", "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/tool/BulkLoadHFilesTool.java", "diffHunk": "@@ -376,7 +376,7 @@ public void loadHFileQueue(AsyncClusterConnection conn, TableName tableName,\n    * atomically.\n    * @return empty list if success, list of items to retry on recoverable failure\n    */\n-  private CompletableFuture<Collection<LoadQueueItem>> tryAtomicRegionLoad(\n+  protected CompletableFuture<Collection<LoadQueueItem>> tryAtomicRegionLoad(", "originalCommit": "a7aad39ba96051db8ffb150c20786722fe0bc126", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0c2fb6d6a0d856183d375c170f5b530441292b25", "chunk": "diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/BulkLoadHFilesTool.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/BulkLoadHFilesTool.java\nindex 7f1b3b1341..e8b701b7ae 100644\n--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/BulkLoadHFilesTool.java\n+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/BulkLoadHFilesTool.java\n\n@@ -374,8 +374,14 @@ public class BulkLoadHFilesTool extends Configured implements BulkLoadHFiles, To\n    * hfiles that need to be retried. If it is successful it will return an empty list. NOTE: To\n    * maintain row atomicity guarantees, region server side should succeed atomically and fails\n    * atomically.\n+   * @param conn Connection to use\n+   * @param tableName Table to which these hfiles should be loaded to\n+   * @param copyFiles whether replicate to peer cluster while bulkloading\n+   * @param first the start key of region\n+   * @param lqis hfiles should be loaded\n    * @return empty list if success, list of items to retry on recoverable failure\n    */\n+  @VisibleForTesting\n   protected CompletableFuture<Collection<LoadQueueItem>> tryAtomicRegionLoad(\n       final AsyncClusterConnection conn, final TableName tableName, boolean copyFiles,\n       final byte[] first, Collection<LoadQueueItem> lqis) {\n"}}, {"oid": "0c2fb6d6a0d856183d375c170f5b530441292b25", "url": "https://github.com/apache/hbase/commit/0c2fb6d6a0d856183d375c170f5b530441292b25", "message": "HBASE-24221 Support bulkLoadHFile by family, fix UT", "committedDate": "2020-05-04T13:58:20Z", "type": "commit"}, {"oid": "0c2fb6d6a0d856183d375c170f5b530441292b25", "url": "https://github.com/apache/hbase/commit/0c2fb6d6a0d856183d375c170f5b530441292b25", "message": "HBASE-24221 Support bulkLoadHFile by family, fix UT", "committedDate": "2020-05-04T13:58:20Z", "type": "forcePushed"}]}