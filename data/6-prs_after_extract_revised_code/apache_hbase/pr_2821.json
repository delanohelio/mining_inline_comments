{"pr_number": 2821, "pr_title": "Shenshengli hbase-25450 The parameter \"hbase.bucketcache.size\" is misdescribed", "pr_createdAt": "2020-12-28T10:07:20Z", "pr_url": "https://github.com/apache/hbase/pull/2821", "timeline": [{"oid": "582e37cf1abaed964ce76aba5f6a6eb88c7ad70d", "url": "https://github.com/apache/hbase/commit/582e37cf1abaed964ce76aba5f6a6eb88c7ad70d", "message": "Create MemorySizeUtil.java", "committedDate": "2020-12-28T10:02:16Z", "type": "commit"}, {"oid": "1086acb1da56a0a3dd4d4fe7ae5a0637fcec657d", "url": "https://github.com/apache/hbase/commit/1086acb1da56a0a3dd4d4fe7ae5a0637fcec657d", "message": "Create hbase-default.xml", "committedDate": "2020-12-28T10:05:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ1MDQ1Mw==", "url": "https://github.com/apache/hbase/pull/2821#discussion_r549450453", "bodyText": "Did we remove the percentage facility? i.e. if < 1, the bucket cache is a percentage of heap? We only do hard size in MBs now?", "author": "saintstack", "createdAt": "2020-12-28T18:47:23Z", "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/io/util/MemorySizeUtil.java", "diffHunk": "@@ -234,7 +234,7 @@ public static long getOnHeapCacheSize(final Configuration conf) {\n   }\n \n   /**\n-   * @param conf used to read config for bucket cache size. (< 1 is treated as % and > is treated as MiB)\n+   * @param conf used to read config for bucket cache size. ", "originalCommit": "1086acb1da56a0a3dd4d4fe7ae5a0637fcec657d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUzOTY2OQ==", "url": "https://github.com/apache/hbase/pull/2821#discussion_r549539669", "bodyText": "From the code and the test results, yes.", "author": "shenshengli", "createdAt": "2020-12-29T01:49:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ1MDQ1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU1MDg1Ng==", "url": "https://github.com/apache/hbase/pull/2821#discussion_r549550856", "bodyText": "Yes Stack.  The bucket cache size can only be specified as absolute MBs value.  we no longer support on heap Bucket cache and so size as % of heap.  And min value for this is 1. (1 MB)", "author": "anoopsjohn", "createdAt": "2020-12-29T03:01:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ1MDQ1Mw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "1b3f633b3826534140f0a7910f2fb36971ab5c96", "url": "https://github.com/apache/hbase/commit/1b3f633b3826534140f0a7910f2fb36971ab5c96", "message": "Create HConstants.java", "committedDate": "2020-12-29T02:13:27Z", "type": "commit"}, {"oid": "41cc0740962245480b739907d545d8d185463f03", "url": "https://github.com/apache/hbase/commit/41cc0740962245480b739907d545d8d185463f03", "message": "Create hbase-default.adoc\n\nModify the document. The modification here is from Hbase-19187.", "committedDate": "2020-12-29T06:05:42Z", "type": "commit"}]}