{"pr_number": 7957, "pr_title": "minor refactoring for parser api", "pr_createdAt": "2020-10-29T07:32:47Z", "pr_url": "https://github.com/apache/shardingsphere/pull/7957", "timeline": [{"oid": "13dbd16c96e3b93ec2975585e667be4d2bb403f8", "url": "https://github.com/apache/shardingsphere/commit/13dbd16c96e3b93ec2975585e667be4d2bb403f8", "message": "update and merge", "committedDate": "2020-10-29T09:03:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEwNjg5MA==", "url": "https://github.com/apache/shardingsphere/pull/7957#discussion_r514106890", "bodyText": "The SQLParsingException has already use String.format inside, it is unnecessary format string outside constructor", "author": "terrymanu", "createdAt": "2020-10-29T09:12:32Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/core/visitor/SQLVisitorFactory.java", "diffHunk": "@@ -62,7 +62,7 @@\n             case RL:\n                 return (ParseTreeVisitor) visitorFacade.getRLVisitorClass().getConstructor().newInstance();\n             default:\n-                throw new SQLParsingException(\"Can not support SQL statement type: `%s`\", type);\n+                throw new SQLParsingException(String.format(\"Can not support SQL statement type: `%s`\", type));", "originalCommit": "13dbd16c96e3b93ec2975585e667be4d2bb403f8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "15009ac9120a07210bf2da9fe014cfd5e06fcb3b", "chunk": "diff --git a/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/core/visitor/SQLVisitorFactory.java b/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/core/visitor/SQLVisitorFactory.java\nindex 8eecd3b9e0..8e7701f83d 100644\n--- a/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/core/visitor/SQLVisitorFactory.java\n+++ b/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/core/visitor/SQLVisitorFactory.java\n\n@@ -62,7 +62,7 @@ public final class SQLVisitorFactory {\n             case RL:\n                 return (ParseTreeVisitor) visitorFacade.getRLVisitorClass().getConstructor().newInstance();\n             default:\n-                throw new SQLParsingException(String.format(\"Can not support SQL statement type: `%s`\", type));\n+                throw new SQLParsingException(\"Can not support SQL statement type: `%s`\", type);\n         }\n     }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEwNzE2Ng==", "url": "https://github.com/apache/shardingsphere/pull/7957#discussion_r514107166", "bodyText": "Please revert this changes", "author": "terrymanu", "createdAt": "2020-10-29T09:12:56Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/exception/SQLParsingException.java", "diffHunk": "@@ -24,7 +24,7 @@\n     \n     private static final long serialVersionUID = -6408790652103666096L;\n     \n-    public SQLParsingException(final String message, final Object... args) {\n-        super(String.format(message, args));\n+    public SQLParsingException(final String message) {", "originalCommit": "13dbd16c96e3b93ec2975585e667be4d2bb403f8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "15009ac9120a07210bf2da9fe014cfd5e06fcb3b", "chunk": "diff --git a/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/exception/SQLParsingException.java b/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/exception/SQLParsingException.java\nindex 8c912d693e..a413eafa1a 100644\n--- a/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/exception/SQLParsingException.java\n+++ b/shardingsphere-sql-parser/shardingsphere-sql-parser-engine/src/main/java/org/apache/shardingsphere/sql/parser/exception/SQLParsingException.java\n\n@@ -24,7 +24,7 @@ public final class SQLParsingException extends RuntimeException {\n     \n     private static final long serialVersionUID = -6408790652103666096L;\n     \n-    public SQLParsingException(final String message) {\n-        super(message);\n+    public SQLParsingException(final String message, final Object... args) {\n+        super(String.format(message, args));\n     }\n }\n"}}, {"oid": "5f8c7419ae7fe309c2366420fd3b7f34715e7d47", "url": "https://github.com/apache/shardingsphere/commit/5f8c7419ae7fe309c2366420fd3b7f34715e7d47", "message": "minor refactoring", "committedDate": "2020-10-29T15:57:47Z", "type": "commit"}, {"oid": "6dca64250b748a03582efcd98250eeb982006ce8", "url": "https://github.com/apache/shardingsphere/commit/6dca64250b748a03582efcd98250eeb982006ce8", "message": "update and merge", "committedDate": "2020-10-29T15:57:48Z", "type": "commit"}, {"oid": "15009ac9120a07210bf2da9fe014cfd5e06fcb3b", "url": "https://github.com/apache/shardingsphere/commit/15009ac9120a07210bf2da9fe014cfd5e06fcb3b", "message": "fix exception", "committedDate": "2020-10-29T15:57:49Z", "type": "commit"}, {"oid": "49b20740b2d7d5d4cbcc3c4bead5ffa21e0288b4", "url": "https://github.com/apache/shardingsphere/commit/49b20740b2d7d5d4cbcc3c4bead5ffa21e0288b4", "message": "clean codes", "committedDate": "2020-10-29T15:57:49Z", "type": "commit"}, {"oid": "49b20740b2d7d5d4cbcc3c4bead5ffa21e0288b4", "url": "https://github.com/apache/shardingsphere/commit/49b20740b2d7d5d4cbcc3c4bead5ffa21e0288b4", "message": "clean codes", "committedDate": "2020-10-29T15:57:49Z", "type": "forcePushed"}, {"oid": "fdf34d73c354842226c133499be060d2d9648d4d", "url": "https://github.com/apache/shardingsphere/commit/fdf34d73c354842226c133499be060d2d9648d4d", "message": "polish codes", "committedDate": "2020-10-29T16:08:35Z", "type": "commit"}]}