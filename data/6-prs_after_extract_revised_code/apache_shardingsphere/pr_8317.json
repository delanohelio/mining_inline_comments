{"pr_number": 8317, "pr_title": "convert object to string  before set properties to SPI instance", "pr_createdAt": "2020-11-24T09:32:15Z", "pr_url": "https://github.com/apache/shardingsphere/pull/8317", "timeline": [{"oid": "26b200cdc87e96dc813e705f23d9afbfa8a5bd2e", "url": "https://github.com/apache/shardingsphere/commit/26b200cdc87e96dc813e705f23d9afbfa8a5bd2e", "message": "fix 8204", "committedDate": "2020-11-24T09:28:52Z", "type": "commit"}, {"oid": "39b08ef1d78bf5963440b1f3a42987f340a7f538", "url": "https://github.com/apache/shardingsphere/commit/39b08ef1d78bf5963440b1f3a42987f340a7f538", "message": "add null props check", "committedDate": "2020-11-24T09:57:05Z", "type": "commit"}, {"oid": "19898568c9909aa757378c9128f45f244e90a3bc", "url": "https://github.com/apache/shardingsphere/commit/19898568c9909aa757378c9128f45f244e90a3bc", "message": "extract new method for convert type", "committedDate": "2020-11-24T11:26:53Z", "type": "commit"}, {"oid": "2a0afc24c730dd1f9edba1cc0c37e081465c431b", "url": "https://github.com/apache/shardingsphere/commit/2a0afc24c730dd1f9edba1cc0c37e081465c431b", "message": "extract new method for convert type", "committedDate": "2020-11-24T11:28:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ3NjYwMQ==", "url": "https://github.com/apache/shardingsphere/pull/8317#discussion_r529476601", "bodyText": "input param should not name as result", "author": "terrymanu", "createdAt": "2020-11-24T11:32:33Z", "path": "shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/spi/typed/TypedSPIRegistry.java", "diffHunk": "@@ -64,4 +64,12 @@\n         }\n         throw new ServiceProviderNotFoundException(typedSPIClass);\n     }\n+    \n+    private static <T extends TypedSPI> void convertPropertiesValueType(final Properties props, final T result) {", "originalCommit": "2a0afc24c730dd1f9edba1cc0c37e081465c431b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6c247cfed918b41ae782f32ab7deb5afb681ca3f", "chunk": "diff --git a/shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/spi/typed/TypedSPIRegistry.java b/shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/spi/typed/TypedSPIRegistry.java\nindex e8bbb957b5..af3afa80e6 100644\n--- a/shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/spi/typed/TypedSPIRegistry.java\n+++ b/shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/spi/typed/TypedSPIRegistry.java\n\n@@ -65,11 +65,11 @@ public final class TypedSPIRegistry {\n         throw new ServiceProviderNotFoundException(typedSPIClass);\n     }\n     \n-    private static <T extends TypedSPI> void convertPropertiesValueType(final Properties props, final T result) {\n+    private static <T extends TypedSPI> void convertPropertiesValueType(final Properties props, final T service) {\n         if (null != props) {\n             Properties newProps = new Properties();\n             props.forEach((key, value) -> newProps.setProperty(key.toString(), null == value ? null : value.toString()));\n-            result.setProps(newProps);\n+            service.setProps(newProps);\n         }\n     }\n }\n"}}, {"oid": "6c247cfed918b41ae782f32ab7deb5afb681ca3f", "url": "https://github.com/apache/shardingsphere/commit/6c247cfed918b41ae782f32ab7deb5afb681ca3f", "message": "rename parameter", "committedDate": "2020-11-24T13:24:58Z", "type": "commit"}]}