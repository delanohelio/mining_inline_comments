{"pr_number": 4109, "pr_title": "persist SchemaNames for getChildren.", "pr_createdAt": "2020-01-30T02:48:53Z", "pr_url": "https://github.com/apache/shardingsphere/pull/4109", "timeline": [{"oid": "3b855273739af4156d6d1ce86f1fdc94c5bacb2e", "url": "https://github.com/apache/shardingsphere/commit/3b855273739af4156d6d1ce86f1fdc94c5bacb2e", "message": "persist SchemaNames for getChildren.(#3185)", "committedDate": "2020-01-30T02:43:13Z", "type": "commit"}, {"oid": "f8edf959984403031a933435c2c414dc3c521a0b", "url": "https://github.com/apache/shardingsphere/commit/f8edf959984403031a933435c2c414dc3c521a0b", "message": "upgrade spring-boot version.", "committedDate": "2020-01-30T02:43:41Z", "type": "commit"}, {"oid": "fab3a466d6a6c7e4010d0a8b6c764e3880c96a49", "url": "https://github.com/apache/shardingsphere/commit/fab3a466d6a6c7e4010d0a8b6c764e3880c96a49", "message": "add Zookeeper as default orchestration center.", "committedDate": "2020-01-30T02:44:40Z", "type": "commit"}, {"oid": "00b1bc4df47bb1c78d674324bd6bf181bf11b75c", "url": "https://github.com/apache/shardingsphere/commit/00b1bc4df47bb1c78d674324bd6bf181bf11b75c", "message": "fix orchestration config content.", "committedDate": "2020-01-30T02:45:26Z", "type": "commit"}, {"oid": "71dc2525c99480db2fea4d93d264c6be7af7fda1", "url": "https://github.com/apache/shardingsphere/commit/71dc2525c99480db2fea4d93d264c6be7af7fda1", "message": "remove unused import.", "committedDate": "2020-01-30T04:54:04Z", "type": "commit"}, {"oid": "09ab0f2aa765c93209b90b11825797c555e5bf74", "url": "https://github.com/apache/shardingsphere/commit/09ab0f2aa765c93209b90b11825797c555e5bf74", "message": "fix parse isOverwrite value bug.", "committedDate": "2020-01-30T05:51:34Z", "type": "commit"}, {"oid": "f6a5aab23cb918340b53f0b2848475d866ff722f", "url": "https://github.com/apache/shardingsphere/commit/f6a5aab23cb918340b53f0b2848475d866ff722f", "message": "refactor nacos instance file name as a config center.", "committedDate": "2020-01-30T10:20:06Z", "type": "commit"}, {"oid": "1851c620320e6d4b18f91a15053f7f9facf6279c", "url": "https://github.com/apache/shardingsphere/commit/1851c620320e6d4b18f91a15053f7f9facf6279c", "message": "fix orchestration key listener for ConfigCenter.", "committedDate": "2020-01-30T10:23:03Z", "type": "commit"}, {"oid": "e1cb9d1066233c954614c8e7500627d4643ff6b3", "url": "https://github.com/apache/shardingsphere/commit/e1cb9d1066233c954614c8e7500627d4643ff6b3", "message": "add unit test for getAllSchemaConfigPaths method.", "committedDate": "2020-01-30T10:32:43Z", "type": "commit"}, {"oid": "051e032aec6f02344966ac800ad7657fdfd210ef", "url": "https://github.com/apache/shardingsphere/commit/051e032aec6f02344966ac800ad7657fdfd210ef", "message": "fix unit test error.", "committedDate": "2020-01-30T11:01:43Z", "type": "commit"}, {"oid": "3858d51bf900703706f40b2283f0773fe64dd036", "url": "https://github.com/apache/shardingsphere/commit/3858d51bf900703706f40b2283f0773fe64dd036", "message": "remove unused import.", "committedDate": "2020-01-31T00:43:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMTU0Nw==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373321547", "bodyText": "Whether should check update in schemas.", "author": "wgy8283335", "createdAt": "2020-01-31T05:30:35Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/main/java/org/apache/shardingsphere/orchestration/center/instance/NacosConfigInstance.java", "diffHunk": "@@ -108,16 +106,12 @@ private String getDirectly(final String key) {\n      */\n     @Override\n     public void persist(final String key, final String value) {", "originalCommit": "3858d51bf900703706f40b2283f0773fe64dd036", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMzOTk0NQ==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373339945", "bodyText": "Update schema name info on ConfigurationService's persistShardingSchemaName method.", "author": "dongzl", "createdAt": "2020-01-31T07:03:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMTU0Nw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMjA2Mw==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373322063", "bodyText": "NacosInstance or NacosConfigInstance?", "author": "wgy8283335", "createdAt": "2020-01-31T05:33:42Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/test/java/org/apache/shardingsphere/orchestration/center/instance/NacosConfigInstanceTest.java", "diffHunk": "@@ -41,9 +41,9 @@\n import static org.mockito.Mockito.verify;\n import static org.mockito.Mockito.when;\n \n-public class NacosInstanceTest {\n+public class NacosConfigInstanceTest {", "originalCommit": "3858d51bf900703706f40b2283f0773fe64dd036", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMzOTI0Mw==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373339243", "bodyText": "the same to above.", "author": "dongzl", "createdAt": "2020-01-31T07:00:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMjA2Mw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyODUyMA==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373328520", "bodyText": "Why rename the nacos?", "author": "wgy8283335", "createdAt": "2020-01-31T06:09:47Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/main/java/org/apache/shardingsphere/orchestration/center/instance/NacosConfigInstance.java", "diffHunk": "@@ -32,14 +30,18 @@\n import org.apache.shardingsphere.orchestration.center.listener.DataChangedEvent;\n import org.apache.shardingsphere.orchestration.center.listener.DataChangedEventListener;\n \n+import java.util.List;\n+import java.util.Properties;\n+import java.util.concurrent.Executor;\n+\n /**\n  * The nacos instance for ConfigCenter.\n  *\n  * @author huangjian\n  * @author sunbufu\n  */\n @Slf4j\n-public class NacosInstance implements ConfigCenter {\n+public class NacosConfigInstance implements ConfigCenter {", "originalCommit": "3858d51bf900703706f40b2283f0773fe64dd036", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMzOTM3Ng==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373339376", "bodyText": "the same to above.", "author": "dongzl", "createdAt": "2020-01-31T07:00:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyODUyMA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2Mzc2Mw==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373763763", "bodyText": "Instead of using mock, is there any possible solution to start a nacos server and put the value into it?", "author": "wgy8283335", "createdAt": "2020-02-01T07:15:37Z", "path": "sharding-orchestration/sharding-orchestration-core/src/test/java/org/apache/shardingsphere/orchestration/internal/registry/config/service/ConfigurationServiceTest.java", "diffHunk": "@@ -374,7 +373,7 @@ public void assertLoadProperties() {\n     \n     @Test\n     public void assertGetAllShardingSchemaNames() {\n-        when(regCenter.getChildrenKeys(\"/test/config/schema\")).thenReturn(Arrays.asList(\"sharding_db\", \"masterslave_db\"));\n+        when(regCenter.get(\"/test/config/schema\")).thenReturn(\"sharding_db,masterslave_db\");", "originalCommit": "3858d51bf900703706f40b2283f0773fe64dd036", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0MzE4Ng==", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373843186", "bodyText": "I read nacos's issue list, It doesn't support.\nalibaba/nacos#1926", "author": "dongzl", "createdAt": "2020-02-02T12:45:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2Mzc2Mw=="}], "type": "inlineReview", "revised_code": null}]}