{"pr_number": 5883, "pr_title": "Optimize disable proxy instance with UI # control-panel-cluster", "pr_createdAt": "2020-06-02T05:41:58Z", "pr_url": "https://github.com/apache/shardingsphere/pull/5883", "timeline": [{"oid": "217164652c55acae7277f07ce4eddc59b6d1e431", "url": "https://github.com/apache/shardingsphere/commit/217164652c55acae7277f07ce4eddc59b6d1e431", "message": "optimize registry disable proxy instance", "committedDate": "2020-06-02T04:51:01Z", "type": "commit"}, {"oid": "cfd0992cb36182d60a3dd2a49c097dd41646249e", "url": "https://github.com/apache/shardingsphere/commit/cfd0992cb36182d60a3dd2a49c097dd41646249e", "message": "disabled proxy with UI", "committedDate": "2020-06-02T05:07:00Z", "type": "commit"}, {"oid": "bf18460d165356b859520de0a625edf6cec050a3", "url": "https://github.com/apache/shardingsphere/commit/bf18460d165356b859520de0a625edf6cec050a3", "message": "for checkstyle", "committedDate": "2020-06-02T05:33:04Z", "type": "commit"}, {"oid": "86d0ebf242c1f3f78facdc8c2276cc52f5aa42aa", "url": "https://github.com/apache/shardingsphere/commit/86d0ebf242c1f3f78facdc8c2276cc52f5aa42aa", "message": "revert code", "committedDate": "2020-06-02T05:34:47Z", "type": "commit"}, {"oid": "431bb52278290089fcf877f29fcff68436397ba6", "url": "https://github.com/apache/shardingsphere/commit/431bb52278290089fcf877f29fcff68436397ba6", "message": "Merge remote-tracking branch 'origin/master' into issue5666-9", "committedDate": "2020-06-02T07:13:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3MjU2OQ==", "url": "https://github.com/apache/shardingsphere/pull/5883#discussion_r433772569", "bodyText": "use boolean", "author": "kimmking", "createdAt": "2020-06-02T10:20:36Z", "path": "shardingsphere-control-panel/shardingsphere-orchestration/shardingsphere-orchestration-core/shardingsphere-orchestration-core-registrycenter/src/main/java/org/apache/shardingsphere/orchestration/core/registrycenter/listener/InstanceStateChangedListener.java", "diffHunk": "@@ -38,6 +41,14 @@ public InstanceStateChangedListener(final String name, final RegistryCenterRepos\n     \n     @Override\n     protected CircuitStateChangedEvent createShardingOrchestrationEvent(final DataChangedEvent event) {\n-        return new CircuitStateChangedEvent(RegistryCenterNodeStatus.DISABLED.toString().equalsIgnoreCase(event.getValue()));\n+        return new CircuitStateChangedEvent(isCircuitBreak(event.getValue()));\n+    }\n+    \n+    private Boolean isCircuitBreak(final String value) {", "originalCommit": "86d0ebf242c1f3f78facdc8c2276cc52f5aa42aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc4NzgxMA==", "url": "https://github.com/apache/shardingsphere/pull/5883#discussion_r433787810", "bodyText": "Fixed.", "author": "menghaoranss", "createdAt": "2020-06-02T10:51:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3MjU2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "d166f9e30d010c03dd6bea510c990e1e231617f2", "chunk": "diff --git a/shardingsphere-control-panel/shardingsphere-orchestration/shardingsphere-orchestration-core/shardingsphere-orchestration-core-registrycenter/src/main/java/org/apache/shardingsphere/orchestration/core/registrycenter/listener/InstanceStateChangedListener.java b/shardingsphere-control-panel/shardingsphere-orchestration/shardingsphere-orchestration-core/shardingsphere-orchestration-core-registrycenter/src/main/java/org/apache/shardingsphere/orchestration/core/registrycenter/listener/InstanceStateChangedListener.java\nindex 362db81790..4f4a99aa3e 100644\n--- a/shardingsphere-control-panel/shardingsphere-orchestration/shardingsphere-orchestration-core/shardingsphere-orchestration-core-registrycenter/src/main/java/org/apache/shardingsphere/orchestration/core/registrycenter/listener/InstanceStateChangedListener.java\n+++ b/shardingsphere-control-panel/shardingsphere-orchestration/shardingsphere-orchestration-core/shardingsphere-orchestration-core-registrycenter/src/main/java/org/apache/shardingsphere/orchestration/core/registrycenter/listener/InstanceStateChangedListener.java\n\n@@ -44,7 +44,7 @@ public final class InstanceStateChangedListener extends PostShardingCenterReposi\n         return new CircuitStateChangedEvent(isCircuitBreak(event.getValue()));\n     }\n     \n-    private Boolean isCircuitBreak(final String value) {\n+    private boolean isCircuitBreak(final String value) {\n         if (!Strings.isNullOrEmpty(value)) {\n             return RegistryCenterNodeStatus.DISABLED.toString()\n                     .equalsIgnoreCase(YamlEngine.unmarshal(value, InstanceState.class).getState().toString());\n"}}, {"oid": "d166f9e30d010c03dd6bea510c990e1e231617f2", "url": "https://github.com/apache/shardingsphere/commit/d166f9e30d010c03dd6bea510c990e1e231617f2", "message": "modify return type is boolean", "committedDate": "2020-06-02T10:37:14Z", "type": "commit"}]}