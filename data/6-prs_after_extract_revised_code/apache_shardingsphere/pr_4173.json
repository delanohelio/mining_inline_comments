{"pr_number": 4173, "pr_title": "Call setWasNull in GroupByStreamMergedResult", "pr_createdAt": "2020-02-05T11:33:22Z", "pr_url": "https://github.com/apache/shardingsphere/pull/4173", "timeline": [{"oid": "cc1ac662a68efe76ce828b1047c10f44b348b890", "url": "https://github.com/apache/shardingsphere/commit/cc1ac662a68efe76ce828b1047c10f44b348b890", "message": "Call setWasNull in GroupByStreamMergedResult", "committedDate": "2020-02-05T11:30:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTY5MjI1MQ==", "url": "https://github.com/apache/shardingsphere/pull/4173#discussion_r375692251", "bodyText": "o -> object", "author": "tuohai666", "createdAt": "2020-02-06T08:20:35Z", "path": "sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java", "diffHunk": "@@ -129,11 +129,15 @@ private void setAggregationValueToCurrentRow(final Map<AggregationProjection, Ag\n     \n     @Override\n     public Object getValue(final int columnIndex, final Class<?> type) {\n-        return currentRow.get(columnIndex - 1);\n+        Object o = currentRow.get(columnIndex - 1);", "originalCommit": "cc1ac662a68efe76ce828b1047c10f44b348b890", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5b7d66f27d2efa870768b2489bd82279c466c42c", "chunk": "diff --git a/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java b/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java\nindex fbb307b648..1b05a47274 100644\n--- a/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java\n+++ b/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java\n\n@@ -129,15 +129,15 @@ public final class GroupByStreamMergedResult extends OrderByStreamMergedResult {\n     \n     @Override\n     public Object getValue(final int columnIndex, final Class<?> type) {\n-        Object o = currentRow.get(columnIndex - 1);\n-        setWasNull(o == null);\n-        return o;\n+        Object object = currentRow.get(columnIndex - 1);\n+        setWasNull(object == null);\n+        return object;\n     }\n     \n     @Override\n     public Object getCalendarValue(final int columnIndex, final Class<?> type, final Calendar calendar) {\n-        Object o = currentRow.get(columnIndex - 1);\n-        setWasNull(o == null);\n-        return o;\n+        Object object = currentRow.get(columnIndex - 1);\n+        setWasNull(object == null);\n+        return object;\n     }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTY5MjQ3Mg==", "url": "https://github.com/apache/shardingsphere/pull/4173#discussion_r375692472", "bodyText": "o == null -> null == object", "author": "tuohai666", "createdAt": "2020-02-06T08:21:10Z", "path": "sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java", "diffHunk": "@@ -129,11 +129,15 @@ private void setAggregationValueToCurrentRow(final Map<AggregationProjection, Ag\n     \n     @Override\n     public Object getValue(final int columnIndex, final Class<?> type) {\n-        return currentRow.get(columnIndex - 1);\n+        Object o = currentRow.get(columnIndex - 1);\n+        setWasNull(o == null);", "originalCommit": "cc1ac662a68efe76ce828b1047c10f44b348b890", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5b7d66f27d2efa870768b2489bd82279c466c42c", "chunk": "diff --git a/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java b/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java\nindex fbb307b648..1b05a47274 100644\n--- a/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java\n+++ b/sharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java\n\n@@ -129,15 +129,15 @@ public final class GroupByStreamMergedResult extends OrderByStreamMergedResult {\n     \n     @Override\n     public Object getValue(final int columnIndex, final Class<?> type) {\n-        Object o = currentRow.get(columnIndex - 1);\n-        setWasNull(o == null);\n-        return o;\n+        Object object = currentRow.get(columnIndex - 1);\n+        setWasNull(object == null);\n+        return object;\n     }\n     \n     @Override\n     public Object getCalendarValue(final int columnIndex, final Class<?> type, final Calendar calendar) {\n-        Object o = currentRow.get(columnIndex - 1);\n-        setWasNull(o == null);\n-        return o;\n+        Object object = currentRow.get(columnIndex - 1);\n+        setWasNull(object == null);\n+        return object;\n     }\n }\n"}}, {"oid": "5b7d66f27d2efa870768b2489bd82279c466c42c", "url": "https://github.com/apache/shardingsphere/commit/5b7d66f27d2efa870768b2489bd82279c466c42c", "message": "Call setWasNull in GroupByStreamMergedResult", "committedDate": "2020-02-06T08:25:04Z", "type": "commit"}, {"oid": "841814f93a5cb9c49f49933ead29ae60ac2eba2e", "url": "https://github.com/apache/shardingsphere/commit/841814f93a5cb9c49f49933ead29ae60ac2eba2e", "message": "Merge remote-tracking branch 'origin/4.0.1' into 4.0.1\n\n# Conflicts:\n#\tsharding-core/sharding-core-merge/src/main/java/org/apache/shardingsphere/sharding/merge/dql/groupby/GroupByStreamMergedResult.java", "committedDate": "2020-02-06T08:25:31Z", "type": "commit"}, {"oid": "0421d2b2be8d0ead35c130d31aedd5a2bcea1649", "url": "https://github.com/apache/shardingsphere/commit/0421d2b2be8d0ead35c130d31aedd5a2bcea1649", "message": "Inverted comparison", "committedDate": "2020-02-06T08:27:28Z", "type": "commit"}]}