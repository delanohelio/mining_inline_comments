{"pr_number": 6607, "pr_title": "Add: add test case for MySQLServerInfo setServerVersion(#6574)", "pr_createdAt": "2020-08-04T04:36:56Z", "pr_url": "https://github.com/apache/shardingsphere/pull/6607", "timeline": [{"oid": "d89b3667bf71dec61b60df171da494fe14a09fc5", "url": "https://github.com/apache/shardingsphere/commit/d89b3667bf71dec61b60df171da494fe14a09fc5", "message": "Add: add test case for MySQLServerInfo setServerVersion(#6574)", "committedDate": "2020-08-04T04:35:17Z", "type": "commit"}, {"oid": "ec46075615f67d3d92c24dfe7dd1cc6ba81e63e2", "url": "https://github.com/apache/shardingsphere/commit/ec46075615f67d3d92c24dfe7dd1cc6ba81e63e2", "message": "Add: add assertion for null condition (#6590)", "committedDate": "2020-08-04T04:46:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDgxMjgxOA==", "url": "https://github.com/apache/shardingsphere/pull/6607#discussion_r464812818", "bodyText": "Please do not use static fields in it can be inline in the test cases", "author": "terrymanu", "createdAt": "2020-08-04T05:45:11Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.apache.shardingsphere.db.protocol.mysql.constant;\n+\n+import org.junit.Test;\n+\n+import static org.hamcrest.CoreMatchers.is;\n+import static org.junit.Assert.assertThat;\n+\n+public class MySQLServerInfoTest {\n+\n+    private final String SPECIFIC_VERSION = \"5.1.47\";\n+\n+    private final String EXPECTED_VERSION = \"5.1.47-ShardingSphere-Proxy 5.0.0-RC1\";\n+\n+    private final String EXPECTED_NULL_VERSION = \"null-ShardingSphere-Proxy 5.0.0-RC1\";", "originalCommit": "ec46075615f67d3d92c24dfe7dd1cc6ba81e63e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NDU0MQ==", "url": "https://github.com/apache/shardingsphere/pull/6607#discussion_r464874541", "bodyText": "I don't quite understand static field . does ss recommand not to use class level variable in test case?\nI push the code again , is that what ss expected ? please check , thx", "author": "taojintianxia", "createdAt": "2020-08-04T08:06:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDgxMjgxOA=="}], "type": "inlineReview", "revised_code": {"commit": "7bdb69fbd0cabebcf60dbb2527eb43f81ffd2fc6", "chunk": "diff --git a/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java b/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java\nindex cc2180b4b5..34bb322c36 100644\n--- a/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java\n+++ b/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java\n\n@@ -7,11 +7,11 @@ import static org.junit.Assert.assertThat;\n \n public class MySQLServerInfoTest {\n \n-    private final String SPECIFIC_VERSION = \"5.1.47\";\n+    private String SPECIFIC_VERSION = \"5.1.47\";\n \n-    private final String EXPECTED_VERSION = \"5.1.47-ShardingSphere-Proxy 5.0.0-RC1\";\n+    private String EXPECTED_VERSION = \"5.1.47-ShardingSphere-Proxy 5.0.0-RC1\";\n \n-    private final String EXPECTED_NULL_VERSION = \"null-ShardingSphere-Proxy 5.0.0-RC1\";\n+    private String EXPECTED_NULL_VERSION = \"null-ShardingSphere-Proxy 5.0.0-RC1\";\n \n     @Test\n     public void assertSetServerVersion() {\n"}}, {"oid": "7bdb69fbd0cabebcf60dbb2527eb43f81ffd2fc6", "url": "https://github.com/apache/shardingsphere/commit/7bdb69fbd0cabebcf60dbb2527eb43f81ffd2fc6", "message": "Refactor: remove the final modifier", "committedDate": "2020-08-04T07:27:03Z", "type": "commit"}, {"oid": "8d1eb54d36aa62b0b23b9ce641fc0c00fed36fb8", "url": "https://github.com/apache/shardingsphere/commit/8d1eb54d36aa62b0b23b9ce641fc0c00fed36fb8", "message": "Refactor: removed the fileds", "committedDate": "2020-08-04T07:30:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NDU1NQ==", "url": "https://github.com/apache/shardingsphere/pull/6607#discussion_r464874555", "bodyText": "Please add final if the class is not for extend", "author": "terrymanu", "createdAt": "2020-08-04T08:06:54Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package org.apache.shardingsphere.db.protocol.mysql.constant;\n+\n+import org.junit.Test;\n+\n+import static org.hamcrest.CoreMatchers.is;\n+import static org.junit.Assert.assertThat;\n+\n+public class MySQLServerInfoTest {", "originalCommit": "8d1eb54d36aa62b0b23b9ce641fc0c00fed36fb8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg5NjQ0Mg==", "url": "https://github.com/apache/shardingsphere/pull/6607#discussion_r464896442", "bodyText": "I see , done", "author": "taojintianxia", "createdAt": "2020-08-04T08:44:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NDU1NQ=="}], "type": "inlineReview", "revised_code": {"commit": "d20c4d130e7f0fb10928f3d6ed1fafd58c70bcac", "chunk": "diff --git a/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java b/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java\nindex 2e5b8db20b..8efbf5d619 100644\n--- a/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java\n+++ b/shardingsphere-db-protocol/shardingsphere-db-protocol-mysql/src/test/java/org/apache/shardingsphere/db/protocol/mysql/constant/MySQLServerInfoTest.java\n\n@@ -5,7 +5,7 @@ import org.junit.Test;\n import static org.hamcrest.CoreMatchers.is;\n import static org.junit.Assert.assertThat;\n \n-public class MySQLServerInfoTest {\n+public final class MySQLServerInfoTest {\n \n     @Test\n     public void assertSetServerVersion() {\n"}}, {"oid": "d20c4d130e7f0fb10928f3d6ed1fafd58c70bcac", "url": "https://github.com/apache/shardingsphere/commit/d20c4d130e7f0fb10928f3d6ed1fafd58c70bcac", "message": "Refactor: add final modifier to class sinace there is no need for inheritance", "committedDate": "2020-08-04T08:44:24Z", "type": "commit"}, {"oid": "1af4cc34dc17b46e9d1c84e169872873d3c1d131", "url": "https://github.com/apache/shardingsphere/commit/1af4cc34dc17b46e9d1c84e169872873d3c1d131", "message": "Add: add the licence content", "committedDate": "2020-08-04T09:33:09Z", "type": "commit"}]}