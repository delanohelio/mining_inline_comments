{"pr_number": 3440, "pr_title": "Interning Checker: Use factory method to get declaration annotation.", "pr_createdAt": "2020-07-07T16:09:02Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3440", "timeline": [{"oid": "2797a83989d3e9d5374a0c98503b5cd404b781c7", "url": "https://github.com/typetools/checker-framework/commit/2797a83989d3e9d5374a0c98503b5cd404b781c7", "message": "Use factory method to get declaration annotation.", "committedDate": "2020-07-07T16:07:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzOTI3MA==", "url": "https://github.com/typetools/checker-framework/pull/3440#discussion_r451039270", "bodyText": "This won't compile without a command-line argument such as --add-exports jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED.  Could you remove the test or arrange for the extra command-line argument?", "author": "mernst", "createdAt": "2020-07-07T17:47:32Z", "path": "checker/tests/interning/SymbolCompleterUsesObjectEquals.java", "diffHunk": "@@ -0,0 +1,7 @@\n+import com.sun.tools.javac.code.Symbol;", "originalCommit": "2797a83989d3e9d5374a0c98503b5cd404b781c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0MTg1Ng==", "url": "https://github.com/typetools/checker-framework/pull/3440#discussion_r451041856", "bodyText": "Or, use a different, public class that is @UsesObjectEquals.  (This would require renaming the test class, too.)", "author": "mernst", "createdAt": "2020-07-07T17:52:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzOTI3MA=="}], "type": "inlineReview", "revised_code": {"commit": "210f1093a8cce9b88e0813836356a3e915e4375c", "chunk": "diff --git a/checker/tests/interning/SymbolCompleterUsesObjectEquals.java b/checker/tests/interning/SymbolCompleterUsesObjectEquals.java\ndeleted file mode 100644\nindex 1d703064b..000000000\n--- a/checker/tests/interning/SymbolCompleterUsesObjectEquals.java\n+++ /dev/null\n\n@@ -1,7 +0,0 @@\n-import com.sun.tools.javac.code.Symbol;\n-\n-public class SymbolCompleterUsesObjectEquals {\n-    boolean p(Symbol.Completer c) {\n-        return c == Symbol.Completer.NULL_COMPLETER;\n-    }\n-}\n"}}, {"oid": "210f1093a8cce9b88e0813836356a3e915e4375c", "url": "https://github.com/typetools/checker-framework/commit/210f1093a8cce9b88e0813836356a3e915e4375c", "message": "Rework test.", "committedDate": "2020-07-07T18:00:34Z", "type": "commit"}, {"oid": "e56da038e752dd06926d10a394037aa68cfa2519", "url": "https://github.com/typetools/checker-framework/commit/e56da038e752dd06926d10a394037aa68cfa2519", "message": "Merge remote-tracking branch 'origin/master' into stub-file-usesobjequ", "committedDate": "2020-07-07T19:42:15Z", "type": "commit"}]}