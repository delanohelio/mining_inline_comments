{"pr_number": 3478, "pr_title": "StubParser documentation", "pr_createdAt": "2020-07-15T03:59:29Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3478", "timeline": [{"oid": "4f0ae01c3250da87490e0e358d0760ef4820065f", "url": "https://github.com/typetools/checker-framework/commit/4f0ae01c3250da87490e0e358d0760ef4820065f", "message": "StubParser documentation improvements", "committedDate": "2020-07-14T16:48:10Z", "type": "commit"}, {"oid": "c6e8cbd92ef501b9b5102944384c5ec1b9f09fc0", "url": "https://github.com/typetools/checker-framework/commit/c6e8cbd92ef501b9b5102944384c5ec1b9f09fc0", "message": "Add Javadoc, undo a change", "committedDate": "2020-07-14T20:47:45Z", "type": "commit"}, {"oid": "e0825f20d827b4e79b673dc0230b972153fef079", "url": "https://github.com/typetools/checker-framework/commit/e0825f20d827b4e79b673dc0230b972153fef079", "message": "Add comments", "committedDate": "2020-07-14T20:59:38Z", "type": "commit"}, {"oid": "e924566b24ab750faacd4873dd7bc3ffa6775653", "url": "https://github.com/typetools/checker-framework/commit/e924566b24ab750faacd4873dd7bc3ffa6775653", "message": "Javadoc fix", "committedDate": "2020-07-14T21:20:03Z", "type": "commit"}, {"oid": "ba3a1dd288d0ee525c432dc35d668421bd48ddf9", "url": "https://github.com/typetools/checker-framework/commit/ba3a1dd288d0ee525c432dc35d668421bd48ddf9", "message": "Javadoc fixes", "committedDate": "2020-07-15T00:35:50Z", "type": "commit"}, {"oid": "d8d057cd3e94fb7b474bfebfc209504fe63bbf5e", "url": "https://github.com/typetools/checker-framework/commit/d8d057cd3e94fb7b474bfebfc209504fe63bbf5e", "message": "Fix Javadoc errors", "committedDate": "2020-07-15T01:05:10Z", "type": "commit"}, {"oid": "aff6fa9ffa50f5c7dae6fe19490e628daed6a25c", "url": "https://github.com/typetools/checker-framework/commit/aff6fa9ffa50f5c7dae6fe19490e628daed6a25c", "message": "Make more fields private.", "committedDate": "2020-07-17T17:01:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU2NTk4OA==", "url": "https://github.com/typetools/checker-framework/pull/3478#discussion_r456565988", "bodyText": "From the users (of this class) perspective, this class has two static methods that parse a stub file and adds annotations to two maps passed as arguments to the methods.  (The other method is StubParser#parseJdkFileAsStub.)", "author": "smillst", "createdAt": "2020-07-17T17:06:06Z", "path": "framework/src/main/java/org/checkerframework/framework/stub/StubParser.java", "diffHunk": "@@ -85,20 +86,18 @@\n import org.checkerframework.javacutil.Pair;\n \n /**\n- * Given a stub file, yields the annotated types in it and the declaration annotations in it. The\n- * main entry point is {@link StubParser#parse(String, InputStream, AnnotatedTypeFactory,\n- * ProcessingEnvironment, Map, Map)}, which side-effects its last two arguments.\n- *\n- * <p>The constructor acts in two parts. First, it calls the Stub Parser to parse a stub file. Then,\n+ * This class represents a single stub file, notably its annotated types and its declaration", "originalCommit": "aff6fa9ffa50f5c7dae6fe19490e628daed6a25c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ef8a200d8688717675c2a08507b919ca156c19d9", "chunk": "diff --git a/framework/src/main/java/org/checkerframework/framework/stub/StubParser.java b/framework/src/main/java/org/checkerframework/framework/stub/StubParser.java\nindex 099eb1cde..2903c7706 100644\n--- a/framework/src/main/java/org/checkerframework/framework/stub/StubParser.java\n+++ b/framework/src/main/java/org/checkerframework/framework/stub/StubParser.java\n\n@@ -85,12 +85,19 @@ import org.checkerframework.javacutil.BugInCF;\n import org.checkerframework.javacutil.ElementUtils;\n import org.checkerframework.javacutil.Pair;\n \n+// From an implementation perspective, this class represents a single stub file, notably its\n+// annotated types and its declaration annotations.  From a client perspective, it has two static\n+// methods as described below in the Javadoc.\n /**\n- * This class represents a single stub file, notably its annotated types and its declaration\n- * annotations. The main entry point is {@link StubParser#parse(String, InputStream,\n- * AnnotatedTypeFactory, ProcessingEnvironment, Map, Map)}, which side-effects its last two\n- * arguments. It operates in two steps. First, it calls the Stub Parser to parse a stub file. Then,\n- * it walks the Stub Parser's AST to create/collect types and declaration annotations.\n+ * This class has two static methods. Each method parses a stub file and adds annotations to two\n+ * maps passed as arguments.\n+ *\n+ * <p>The main entry point is {@link StubParser#parse(String, InputStream, AnnotatedTypeFactory,\n+ * ProcessingEnvironment, Map, Map)}, which side-effects its last two arguments. It operates in two\n+ * steps. First, it calls the Stub Parser to parse a stub file. Then, it walks the Stub Parser's AST\n+ * to create/collect types and declaration annotations.\n+ *\n+ * <p>The other entry point is {@link #parseJdkFileAsStub}.\n  */\n public class StubParser {\n \n"}}, {"oid": "e10247b8806461b12bb41527a6c21b01cc7c74a7", "url": "https://github.com/typetools/checker-framework/commit/e10247b8806461b12bb41527a6c21b01cc7c74a7", "message": "Merge ../checker-framework-branch-master into stubparser-stubfile", "committedDate": "2020-07-17T17:35:21Z", "type": "commit"}, {"oid": "ef8a200d8688717675c2a08507b919ca156c19d9", "url": "https://github.com/typetools/checker-framework/commit/ef8a200d8688717675c2a08507b919ca156c19d9", "message": "Make class overview user-focused.", "committedDate": "2020-07-17T17:39:30Z", "type": "commit"}, {"oid": "46d3adb6bbf37d285ada6e33037b976cfc646c71", "url": "https://github.com/typetools/checker-framework/commit/46d3adb6bbf37d285ada6e33037b976cfc646c71", "message": "Merge branch 'stubparser-stubfile' of github.com:mernst/checker-framework into stubparser-stubfile", "committedDate": "2020-07-17T17:39:50Z", "type": "commit"}]}