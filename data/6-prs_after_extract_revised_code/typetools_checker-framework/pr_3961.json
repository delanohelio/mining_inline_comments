{"pr_number": 3961, "pr_title": "Rename StubParser to AnnotationFileParser", "pr_createdAt": "2020-12-03T02:01:30Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3961", "timeline": [{"oid": "dd00d85c236f260231207e13c934caaa206327fb", "url": "https://github.com/typetools/checker-framework/commit/dd00d85c236f260231207e13c934caaa206327fb", "message": "Reduce differences against upstream", "committedDate": "2020-12-01T17:29:09Z", "type": "commit"}, {"oid": "ac32256de0aa9f5f96b577db6c16f11cbdae1f0a", "url": "https://github.com/typetools/checker-framework/commit/ac32256de0aa9f5f96b577db6c16f11cbdae1f0a", "message": "Merge branch 'master' of github.com:typetools/checker-framework", "committedDate": "2020-12-01T21:20:28Z", "type": "commit"}, {"oid": "8ea50f27ee7f99636ab5ac371b4f0896a72a5ba0", "url": "https://github.com/typetools/checker-framework/commit/8ea50f27ee7f99636ab5ac371b4f0896a72a5ba0", "message": "Merge branch 'master' of github.com:typetools/checker-framework", "committedDate": "2020-12-01T22:21:49Z", "type": "commit"}, {"oid": "a39cd271f79ba2e9cf4bc5e4a7f948165c30c335", "url": "https://github.com/typetools/checker-framework/commit/a39cd271f79ba2e9cf4bc5e4a7f948165c30c335", "message": "Merge branch 'master' of github.com:typetools/checker-framework", "committedDate": "2020-12-01T23:40:39Z", "type": "commit"}, {"oid": "d549c29eea795bc8cf5f522e151b237d0fd31b5b", "url": "https://github.com/typetools/checker-framework/commit/d549c29eea795bc8cf5f522e151b237d0fd31b5b", "message": "Rename StubParser to AnnotationFileParser", "committedDate": "2020-12-02T23:31:47Z", "type": "commit"}, {"oid": "889006a89595e520eae72d5d2356adc43387db23", "url": "https://github.com/typetools/checker-framework/commit/889006a89595e520eae72d5d2356adc43387db23", "message": "Merge ../checker-framework-branch-master into rename-stubparser-to-annotationfileparser", "committedDate": "2020-12-02T23:37:58Z", "type": "commit"}, {"oid": "a0b8205a62498c533d3b5afb8aa14eea74094375", "url": "https://github.com/typetools/checker-framework/commit/a0b8205a62498c533d3b5afb8aa14eea74094375", "message": "More renaming", "committedDate": "2020-12-03T01:14:21Z", "type": "commit"}, {"oid": "af31f80eb14a3b1e42340a7d20f5a41dfc0bc944", "url": "https://github.com/typetools/checker-framework/commit/af31f80eb14a3b1e42340a7d20f5a41dfc0bc944", "message": "Reformat", "committedDate": "2020-12-03T01:22:57Z", "type": "commit"}, {"oid": "5e48c01f41741a84089f7af6fac7fc7c80f40df0", "url": "https://github.com/typetools/checker-framework/commit/5e48c01f41741a84089f7af6fac7fc7c80f40df0", "message": "Rename file", "committedDate": "2020-12-03T01:26:51Z", "type": "commit"}, {"oid": "8b0d8e6239cc14ca1018e9352faf82eac1e6c341", "url": "https://github.com/typetools/checker-framework/commit/8b0d8e6239cc14ca1018e9352faf82eac1e6c341", "message": "Add Javadoc", "committedDate": "2020-12-03T01:41:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDYyNDk2Nw==", "url": "https://github.com/typetools/checker-framework/pull/3961#discussion_r534624967", "bodyText": "Remove \"ajava file\" for now.", "author": "jwaataja", "createdAt": "2020-12-03T02:41:54Z", "path": "framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java", "diffHunk": "@@ -89,32 +89,32 @@\n import org.checkerframework.javacutil.ElementUtils;\n import org.checkerframework.javacutil.Pair;\n \n-// From an implementation perspective, this class represents a single stub file, notably its\n-// annotated types and its declaration annotations.  From a client perspective, it has two static\n-// methods as described below in the Javadoc.\n+// From an implementation perspective, this class represents a single annotation file (a stub file\n+// or ajava file), notably its annotated types and its declaration annotations.  From a client", "originalCommit": "8b0d8e6239cc14ca1018e9352faf82eac1e6c341", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "42ed3e8368c06fe4325862e24bef8c7790af83e9", "chunk": "diff --git a/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java b/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java\nindex c9506aceb..a8266156f 100644\n--- a/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java\n+++ b/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java\n\n@@ -89,9 +89,9 @@ import org.checkerframework.javacutil.BugInCF;\n import org.checkerframework.javacutil.ElementUtils;\n import org.checkerframework.javacutil.Pair;\n \n-// From an implementation perspective, this class represents a single annotation file (a stub file\n-// or ajava file), notably its annotated types and its declaration annotations.  From a client\n-// perspective, it has static methods as described below in the Javadoc.\n+// From an implementation perspective, this class represents a single annotation file (a stub file),\n+// notably its annotated types and its declaration annotations.  From a client perspective, it has\n+// static methods as described below in the Javadoc.\n /**\n  * This class has two static methods. Each method parses an annotation file and adds annotations to\n  * two maps passed as arguments.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDYyNjQ0MQ==", "url": "https://github.com/typetools/checker-framework/pull/3961#discussion_r534626441", "bodyText": "Rename sp to afp or parser.", "author": "jwaataja", "createdAt": "2020-12-03T02:46:14Z", "path": "framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java", "diffHunk": "@@ -489,7 +490,8 @@ private static void parse(\n             ProcessingEnvironment processingEnv,\n             StubAnnotations stubAnnos,\n             boolean isJdkAsStub) {\n-        StubParser sp = new StubParser(filename, atypeFactory, processingEnv, isJdkAsStub);\n+        AnnotationFileParser sp =", "originalCommit": "8b0d8e6239cc14ca1018e9352faf82eac1e6c341", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "42ed3e8368c06fe4325862e24bef8c7790af83e9", "chunk": "diff --git a/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java b/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java\nindex c9506aceb..a8266156f 100644\n--- a/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java\n+++ b/framework/src/main/java/org/checkerframework/framework/stub/AnnotationFileParser.java\n\n@@ -490,11 +490,11 @@ public class AnnotationFileParser {\n             ProcessingEnvironment processingEnv,\n             StubAnnotations stubAnnos,\n             boolean isJdkAsStub) {\n-        AnnotationFileParser sp =\n+        AnnotationFileParser afp =\n                 new AnnotationFileParser(filename, atypeFactory, processingEnv, isJdkAsStub);\n         try {\n-            sp.parseStubUnit(inputStream);\n-            sp.process(stubAnnos);\n+            afp.parseStubUnit(inputStream);\n+            afp.process(stubAnnos);\n         } catch (ParseProblemException e) {\n             StringJoiner message = new StringJoiner(LINE_SEPARATOR);\n             message.add(\n"}}, {"oid": "42ed3e8368c06fe4325862e24bef8c7790af83e9", "url": "https://github.com/typetools/checker-framework/commit/42ed3e8368c06fe4325862e24bef8c7790af83e9", "message": "Address code review feedback", "committedDate": "2020-12-03T04:18:34Z", "type": "commit"}]}