{"pr_number": 3506, "pr_title": "Improve DefaultTypeHierarchy documentation", "pr_createdAt": "2020-07-24T17:52:07Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3506", "timeline": [{"oid": "d995c0dbcc53f588b2ecb1b3cb360ded1a3e43e3", "url": "https://github.com/typetools/checker-framework/commit/d995c0dbcc53f588b2ecb1b3cb360ded1a3e43e3", "message": "Documentation improvements", "committedDate": "2020-07-22T23:16:17Z", "type": "commit"}, {"oid": "646cbdda5ef838410cdd191d82a2e117b9f36154", "url": "https://github.com/typetools/checker-framework/commit/646cbdda5ef838410cdd191d82a2e117b9f36154", "message": "Javadoc fixes", "committedDate": "2020-07-22T23:57:18Z", "type": "commit"}, {"oid": "c6fd022c1d1f2a1c3500d8df776b0aa793d7836e", "url": "https://github.com/typetools/checker-framework/commit/c6fd022c1d1f2a1c3500d8df776b0aa793d7836e", "message": "Javadoc fixes", "committedDate": "2020-07-23T03:14:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDIwNTQ2OQ==", "url": "https://github.com/typetools/checker-framework/pull/3506#discussion_r460205469", "bodyText": "This cache is to prevent infinite recursion on recursive types.", "author": "smillst", "createdAt": "2020-07-24T17:58:15Z", "path": "framework/src/main/java/org/checkerframework/framework/type/DefaultTypeHierarchy.java", "diffHunk": "@@ -281,17 +284,22 @@ protected boolean isBottom(final AnnotatedTypeMirror subtype) {\n     }\n \n     /**\n-     * Check and subtype first determines if the subtype/supertype combination has already been\n-     * visited. If so, it returns true, otherwise add the subtype/supertype combination and then\n-     * make a subtype check\n+     * Like {@link #isSubtype(AnnotatedTypeMirror, AnnotatedTypeMirror)}, but uses a cache for\n+     * performance.", "originalCommit": "c6fd022c1d1f2a1c3500d8df776b0aa793d7836e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "32328bbc238952bc5550f587af6d8aa17b933e01", "chunk": "diff --git a/framework/src/main/java/org/checkerframework/framework/type/DefaultTypeHierarchy.java b/framework/src/main/java/org/checkerframework/framework/type/DefaultTypeHierarchy.java\nindex c6864019c0..e3cbdacede 100644\n--- a/framework/src/main/java/org/checkerframework/framework/type/DefaultTypeHierarchy.java\n+++ b/framework/src/main/java/org/checkerframework/framework/type/DefaultTypeHierarchy.java\n\n@@ -284,8 +284,8 @@ public class DefaultTypeHierarchy extends AbstractAtmComboVisitor<Boolean, Void>\n     }\n \n     /**\n-     * Like {@link #isSubtype(AnnotatedTypeMirror, AnnotatedTypeMirror)}, but uses a cache for\n-     * performance.\n+     * Like {@link #isSubtype(AnnotatedTypeMirror, AnnotatedTypeMirror)}, but uses a cache to\n+     * prevent infinite recursion on recursive types.\n      *\n      * @param subtype a type that may be a subtype\n      * @param supertype a type that may be a supertype\n"}}, {"oid": "32328bbc238952bc5550f587af6d8aa17b933e01", "url": "https://github.com/typetools/checker-framework/commit/32328bbc238952bc5550f587af6d8aa17b933e01", "message": "Correct documentation", "committedDate": "2020-07-24T18:43:22Z", "type": "commit"}]}