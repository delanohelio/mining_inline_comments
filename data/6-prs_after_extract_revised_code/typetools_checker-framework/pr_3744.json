{"pr_number": 3744, "pr_title": "Update documentation for isValid and related methods", "pr_createdAt": "2020-10-07T04:01:56Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3744", "timeline": [{"oid": "ccdc59c2df7577e001589e5ec47b56f8bba6da15", "url": "https://github.com/typetools/checker-framework/commit/ccdc59c2df7577e001589e5ec47b56f8bba6da15", "message": "Update documentation for isValid and related methods", "committedDate": "2020-10-06T19:18:18Z", "type": "commit"}, {"oid": "76e38a3a3bb1c1003cd324ca6490ecfa681b4156", "url": "https://github.com/typetools/checker-framework/commit/76e38a3a3bb1c1003cd324ca6490ecfa681b4156", "message": "Add changelog entry", "committedDate": "2020-10-07T04:01:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE2MTkzNw==", "url": "https://github.com/typetools/checker-framework/pull/3744#discussion_r501161937", "bodyText": "This method is not called if  {@link #shouldCheckTopLevelDeclaredOrPrimitiveType(AnnotatedTypeMirror, Tree)} returns false.", "author": "smillst", "createdAt": "2020-10-07T16:48:24Z", "path": "framework/src/main/java/org/checkerframework/common/basetype/BaseTypeVisitor.java", "diffHunk": "@@ -4076,6 +4076,11 @@ protected boolean isAccessAllowed(\n      * <p>In most cases, {@code useType} simply needs to be a subtype of {@code declarationType}. If\n      * a type system makes exceptions to this rule, its implementation should override this method.\n      *\n+     * <p>This method is not called if checkTopLevelDeclaredOrPrimitiveType is false -- by default,", "originalCommit": "76e38a3a3bb1c1003cd324ca6490ecfa681b4156", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ad6ca0f71ec91ec23ba8215c16442152176dc73e", "chunk": "diff --git a/framework/src/main/java/org/checkerframework/common/basetype/BaseTypeVisitor.java b/framework/src/main/java/org/checkerframework/common/basetype/BaseTypeVisitor.java\nindex f1e690e66b..d2b1f9f2e3 100644\n--- a/framework/src/main/java/org/checkerframework/common/basetype/BaseTypeVisitor.java\n+++ b/framework/src/main/java/org/checkerframework/common/basetype/BaseTypeVisitor.java\n\n@@ -4076,10 +4076,11 @@ public class BaseTypeVisitor<Factory extends GenericAnnotatedTypeFactory<?, ?, ?\n      * <p>In most cases, {@code useType} simply needs to be a subtype of {@code declarationType}. If\n      * a type system makes exceptions to this rule, its implementation should override this method.\n      *\n-     * <p>This method is not called if checkTopLevelDeclaredOrPrimitiveType is false -- by default,\n-     * it is not called on the top level for locals and expressions. To enforce a type validity\n-     * property everwhere, override methods such as {@link BaseTypeValidator#visitDeclared} rather\n-     * than this method.\n+     * <p>This method is not called if {@link\n+     * #shouldCheckTopLevelDeclaredOrPrimitiveType(AnnotatedTypeMirror, Tree)} returns false -- by\n+     * default, it is not called on the top level for locals and expressions. To enforce a type\n+     * validity property everwhere, override methods such as {@link BaseTypeValidator#visitDeclared}\n+     * rather than this method.\n      *\n      * @param declarationType the type of the class (TypeElement)\n      * @param useType the use of the class (instance type)\n"}}, {"oid": "ad6ca0f71ec91ec23ba8215c16442152176dc73e", "url": "https://github.com/typetools/checker-framework/commit/ad6ca0f71ec91ec23ba8215c16442152176dc73e", "message": "Add link", "committedDate": "2020-10-07T22:56:47Z", "type": "commit"}, {"oid": "498d1a613990a0199d7f5b83956b3bc431f4e173", "url": "https://github.com/typetools/checker-framework/commit/498d1a613990a0199d7f5b83956b3bc431f4e173", "message": "Merge ../checker-framework-branch-master into isValid-documentation", "committedDate": "2020-10-07T23:03:40Z", "type": "commit"}, {"oid": "a289655394cb45fc6a05331e7db1ff03b9992122", "url": "https://github.com/typetools/checker-framework/commit/a289655394cb45fc6a05331e7db1ff03b9992122", "message": "Fix reference", "committedDate": "2020-10-07T23:07:50Z", "type": "commit"}]}