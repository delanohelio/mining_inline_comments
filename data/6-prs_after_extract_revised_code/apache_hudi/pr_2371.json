{"pr_number": 2371, "pr_title": "[HUDI-1490] Incremental Query should work even when there are  partitions that have no incremental changes", "pr_createdAt": "2020-12-23T09:44:20Z", "pr_url": "https://github.com/apache/hudi/pull/2371", "timeline": [{"oid": "0d7a98c859529972f184cc25a2cae6ce99f775bd", "url": "https://github.com/apache/hudi/commit/0d7a98c859529972f184cc25a2cae6ce99f775bd", "message": "Incremental Query should work even when there are  partitions that have no incremental changes", "committedDate": "2020-12-23T09:43:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ5NTI0NQ==", "url": "https://github.com/apache/hudi/pull/2371#discussion_r548495245", "bodyText": "Looks fine, can we have some test case there ?", "author": "danny0405", "createdAt": "2020-12-24T11:07:18Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java", "diffHunk": "@@ -236,7 +236,7 @@ public static HoodieDefaultTimeline filterInstantsTimeline(HoodieDefaultTimeline\n           return false;\n         })\n         .collect(Collectors.joining(\",\"));\n-    return Option.of(incrementalInputPaths);\n+    return StringUtils.isNullOrEmpty(incrementalInputPaths) ? Option.empty(): Option.of(incrementalInputPaths);\n   }", "originalCommit": "0d7a98c859529972f184cc25a2cae6ce99f775bd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "026f9ba79be4e14c2251cd7b35d058b49575beda", "chunk": "diff --git a/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java b/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java\nindex 0ce0adfd7..9b0fbf9fc 100644\n--- a/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java\n+++ b/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java\n\n@@ -236,7 +236,7 @@ public class HoodieInputFormatUtils {\n           return false;\n         })\n         .collect(Collectors.joining(\",\"));\n-    return StringUtils.isNullOrEmpty(incrementalInputPaths) ? Option.empty(): Option.of(incrementalInputPaths);\n+    return StringUtils.isNullOrEmpty(incrementalInputPaths) ? Option.empty() : Option.of(incrementalInputPaths);\n   }\n \n   /**\n"}}, {"oid": "026f9ba79be4e14c2251cd7b35d058b49575beda", "url": "https://github.com/apache/hudi/commit/026f9ba79be4e14c2251cd7b35d058b49575beda", "message": "Adding test for empty partition list for incremental query", "committedDate": "2020-12-26T16:00:43Z", "type": "commit"}, {"oid": "026f9ba79be4e14c2251cd7b35d058b49575beda", "url": "https://github.com/apache/hudi/commit/026f9ba79be4e14c2251cd7b35d058b49575beda", "message": "Adding test for empty partition list for incremental query", "committedDate": "2020-12-26T16:00:43Z", "type": "forcePushed"}]}