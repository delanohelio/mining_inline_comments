{"pr_number": 1894, "pr_title": "[MINOR] Suppressing spark logs for hudi-integ and hudi-utilities", "pr_createdAt": "2020-07-31T15:42:37Z", "pr_url": "https://github.com/apache/hudi/pull/1894", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyNDM4NA==", "url": "https://github.com/apache/hudi/pull/1894#discussion_r463724384", "bodyText": "this may not have that much impact. given we don't kick off any Spark DAGs from this java class. its all done via commands passes to docker.", "author": "vinothchandar", "createdAt": "2020-07-31T16:59:32Z", "path": "hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java", "diffHunk": "@@ -132,6 +134,12 @@ public void init() {\n     await().atMost(60, SECONDS).until(this::servicesUp);\n   }\n \n+  private void suppressSparkLogs() {", "originalCommit": "b052a5787bfb318df1b044da2bd2960d7ab2b1b3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e326d9fef23fdaeaf67039f1d920d1493c248f43", "chunk": "diff --git a/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java b/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java\nindex c07e07eb8..d9e670a08 100644\n--- a/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java\n+++ b/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java\n\n@@ -134,12 +133,6 @@ public abstract class ITTestBase {\n     await().atMost(60, SECONDS).until(this::servicesUp);\n   }\n \n-  private void suppressSparkLogs() {\n-    Logger rootLogger = Logger.getRootLogger();\n-    rootLogger.setLevel(Level.ERROR);\n-    Logger.getLogger(\"org.apache.spark\").setLevel(Level.WARN);\n-  }\n-\n   private boolean servicesUp() {\n     List<Container> containerList = dockerClient.listContainersCmd().exec();\n     for (Container c : containerList) {\n"}}, {"oid": "e326d9fef23fdaeaf67039f1d920d1493c248f43", "url": "https://github.com/apache/hudi/commit/e326d9fef23fdaeaf67039f1d920d1493c248f43", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T18:40:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc4MjIxMQ==", "url": "https://github.com/apache/hudi/pull/1894#discussion_r463782211", "bodyText": "is this still used?", "author": "vinothchandar", "createdAt": "2020-07-31T19:06:20Z", "path": "hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java", "diffHunk": "@@ -31,6 +31,7 @@\n import com.github.dockerjava.core.DockerClientConfig;\n import com.github.dockerjava.core.command.ExecStartResultCallback;\n import com.github.dockerjava.jaxrs.JerseyDockerCmdExecFactory;\n+import org.apache.log4j.Level;", "originalCommit": "e326d9fef23fdaeaf67039f1d920d1493c248f43", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e650b00d3ffb554ab2af0f0f9c08d95aeecc3aa1", "chunk": "diff --git a/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java b/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java\nindex d9e670a08..c2312d0cf 100644\n--- a/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java\n+++ b/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java\n\n@@ -31,7 +31,6 @@ import com.github.dockerjava.core.DockerClientBuilder;\n import com.github.dockerjava.core.DockerClientConfig;\n import com.github.dockerjava.core.command.ExecStartResultCallback;\n import com.github.dockerjava.jaxrs.JerseyDockerCmdExecFactory;\n-import org.apache.log4j.Level;\n import org.apache.log4j.LogManager;\n import org.apache.log4j.Logger;\n import org.junit.jupiter.api.BeforeEach;\n"}}, {"oid": "e650b00d3ffb554ab2af0f0f9c08d95aeecc3aa1", "url": "https://github.com/apache/hudi/commit/e650b00d3ffb554ab2af0f0f9c08d95aeecc3aa1", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T19:07:35Z", "type": "forcePushed"}, {"oid": "0bf05946ac345cfa696bb087ffe8d5964bf5fd93", "url": "https://github.com/apache/hudi/commit/0bf05946ac345cfa696bb087ffe8d5964bf5fd93", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T19:23:18Z", "type": "forcePushed"}, {"oid": "bba0a7014263026ac3ee3d5c70ce2fcd3a7a82df", "url": "https://github.com/apache/hudi/commit/bba0a7014263026ac3ee3d5c70ce2fcd3a7a82df", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T19:54:22Z", "type": "forcePushed"}, {"oid": "ba4d016adc7c719a96dc4c12041ed5811e741119", "url": "https://github.com/apache/hudi/commit/ba4d016adc7c719a96dc4c12041ed5811e741119", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T19:56:10Z", "type": "forcePushed"}, {"oid": "1e644437a18707f0455b7c2e22b245b144bcb488", "url": "https://github.com/apache/hudi/commit/1e644437a18707f0455b7c2e22b245b144bcb488", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T20:51:46Z", "type": "forcePushed"}, {"oid": "d622238da9c4cf8994a08eb8c8c44d77af11310f", "url": "https://github.com/apache/hudi/commit/d622238da9c4cf8994a08eb8c8c44d77af11310f", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-07-31T21:36:55Z", "type": "forcePushed"}, {"oid": "5e902178aead4fc60851807f80fe731f1a047011", "url": "https://github.com/apache/hudi/commit/5e902178aead4fc60851807f80fe731f1a047011", "message": "adding log4 file", "committedDate": "2020-08-01T00:34:56Z", "type": "forcePushed"}, {"oid": "5e0b3f165084c35ccda32059f5a81a55d62b2cb1", "url": "https://github.com/apache/hudi/commit/5e0b3f165084c35ccda32059f5a81a55d62b2cb1", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-08-01T01:20:25Z", "type": "forcePushed"}, {"oid": "be3d8c70059e4124fea12857c0849c348366d985", "url": "https://github.com/apache/hudi/commit/be3d8c70059e4124fea12857c0849c348366d985", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-08-01T01:21:46Z", "type": "forcePushed"}, {"oid": "3fdeb1caf18d45fa47558c8b0cd554d799be9379", "url": "https://github.com/apache/hudi/commit/3fdeb1caf18d45fa47558c8b0cd554d799be9379", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-08-01T01:22:58Z", "type": "commit"}, {"oid": "3fdeb1caf18d45fa47558c8b0cd554d799be9379", "url": "https://github.com/apache/hudi/commit/3fdeb1caf18d45fa47558c8b0cd554d799be9379", "message": "Suppressing spark logs for hudi-integ and hudi-utilities", "committedDate": "2020-08-01T01:22:58Z", "type": "forcePushed"}]}