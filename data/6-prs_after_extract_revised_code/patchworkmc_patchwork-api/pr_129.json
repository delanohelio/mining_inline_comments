{"pr_number": 129, "pr_title": "Implement ForgeEventFactory.gatherCapabilities", "pr_createdAt": "2020-07-15T05:38:13Z", "pr_url": "https://github.com/PatchworkMC/patchwork-api/pull/129", "timeline": [{"oid": "d2562fe7d429459f8f84405277ab2bc2630c677b", "url": "https://github.com/PatchworkMC/patchwork-api/commit/d2562fe7d429459f8f84405277ab2bc2630c677b", "message": "Move implementation of gatherCapabilities to CapabilityEvents", "committedDate": "2020-07-16T02:58:12Z", "type": "commit"}, {"oid": "5bfeb7608d1802602ac2841d0c826fc88e2db16a", "url": "https://github.com/PatchworkMC/patchwork-api/commit/5bfeb7608d1802602ac2841d0c826fc88e2db16a", "message": "Dispatch ForgeEventFactory.gatherCapabilities to CapabilityEvents", "committedDate": "2020-07-16T03:00:27Z", "type": "commit"}, {"oid": "5bfeb7608d1802602ac2841d0c826fc88e2db16a", "url": "https://github.com/PatchworkMC/patchwork-api/commit/5bfeb7608d1802602ac2841d0c826fc88e2db16a", "message": "Dispatch ForgeEventFactory.gatherCapabilities to CapabilityEvents", "committedDate": "2020-07-16T03:00:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE1MjQ1Nw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/129#discussion_r456152457", "bodyText": "yes remove it because it will cause issues for fabric mods trying to call this", "author": "TheGlitch76", "createdAt": "2020-07-17T00:32:11Z", "path": "patchwork-god-classes/src/main/java/net/minecraftforge/event/ForgeEventFactory.java", "diffHunk": "@@ -19,9 +19,27 @@\n \n package net.minecraftforge.event;\n \n+import javax.annotation.Nullable;\n+\n+import net.minecraftforge.common.capabilities.CapabilityDispatcher;\n+import net.minecraftforge.common.capabilities.ICapabilityProvider;\n+\n+import net.patchworkmc.impl.capability.CapabilityEvents;\n+\n /*\n  * Note: this class is intended for mod use only, to dispatch to the implementations kept in their own modules.\n  * Do not keep implementation details here, methods should be thin wrappers around methods in other modules.\n  */\n public class ForgeEventFactory {\n+\t// TODO: these keeps the forge restriction of T extends ICapabilityProvider, which patchwork otherwise does not enforce\n+\t// should it be removed?", "originalCommit": "5bfeb7608d1802602ac2841d0c826fc88e2db16a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE2MzY1OQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/129#discussion_r456163659", "bodyText": "got it.", "author": "kitlith", "createdAt": "2020-07-17T01:13:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE1MjQ1Nw=="}], "type": "inlineReview", "revised_code": {"commit": "fb261f32baa7106928e921d566fc75477ab8bd2f", "chunk": "diff --git a/patchwork-god-classes/src/main/java/net/minecraftforge/event/ForgeEventFactory.java b/patchwork-god-classes/src/main/java/net/minecraftforge/event/ForgeEventFactory.java\nindex 7e08169..9d52643 100644\n--- a/patchwork-god-classes/src/main/java/net/minecraftforge/event/ForgeEventFactory.java\n+++ b/patchwork-god-classes/src/main/java/net/minecraftforge/event/ForgeEventFactory.java\n\n@@ -31,15 +31,13 @@ import net.patchworkmc.impl.capability.CapabilityEvents;\n  * Do not keep implementation details here, methods should be thin wrappers around methods in other modules.\n  */\n public class ForgeEventFactory {\n-\t// TODO: these keeps the forge restriction of T extends ICapabilityProvider, which patchwork otherwise does not enforce\n-\t// should it be removed?\n \t@Nullable\n-\tpublic static <T extends ICapabilityProvider> CapabilityDispatcher gatherCapabilities(Class<? extends T> type, T provider) {\n+\tpublic static <T> CapabilityDispatcher gatherCapabilities(Class<? extends T> type, T provider) {\n \t\treturn gatherCapabilities(type, provider, null);\n \t}\n \n \t@Nullable\n-\tpublic static <T extends ICapabilityProvider> CapabilityDispatcher gatherCapabilities(Class<? extends T> type, T provider, @Nullable ICapabilityProvider parent) {\n+\tpublic static <T> CapabilityDispatcher gatherCapabilities(Class<? extends T> type, T provider, @Nullable ICapabilityProvider parent) {\n \t\treturn CapabilityEvents.gatherCapabilities(type, provider, parent);\n \t}\n }\n"}}, {"oid": "fb261f32baa7106928e921d566fc75477ab8bd2f", "url": "https://github.com/PatchworkMC/patchwork-api/commit/fb261f32baa7106928e921d566fc75477ab8bd2f", "message": "Remove <T extends ICapabilityProvider> restriction on ForgeEventFactory", "committedDate": "2020-07-17T01:17:11Z", "type": "commit"}]}