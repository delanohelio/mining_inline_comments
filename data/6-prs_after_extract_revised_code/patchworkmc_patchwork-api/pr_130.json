{"pr_number": 130, "pr_title": "Dispatch to InputEvents from patchwork-god-classes", "pr_createdAt": "2020-07-15T19:47:27Z", "pr_url": "https://github.com/PatchworkMC/patchwork-api/pull/130", "timeline": [{"oid": "d25fd9d5e76ad0cfc6201663460edc007a23b439", "url": "https://github.com/PatchworkMC/patchwork-api/commit/d25fd9d5e76ad0cfc6201663460edc007a23b439", "message": "Dispatch from ForgeHooksClient to InputEvents", "committedDate": "2020-07-16T03:03:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE1MjExNw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/130#discussion_r456152117", "bodyText": "This doesn't actually implement the interface?", "author": "TheGlitch76", "createdAt": "2020-07-17T00:30:53Z", "path": "patchwork-events-input/src/main/java/net/patchworkmc/mixin/event/input/MixinMouse.java", "diffHunk": "@@ -32,36 +28,26 @@\n \n import net.minecraft.client.Mouse;\n \n-@Mixin(Mouse.class)\n-public abstract class MixinMouse {\n-\t@Shadow\n-\tboolean middleButtonClicked;\n-\t@Shadow\n-\tabstract boolean wasLeftButtonClicked();\n-\t@Shadow\n-\tabstract boolean wasRightButtonClicked();\n-\t@Shadow\n-\tabstract double getX();\n-\t@Shadow\n-\tabstract double getY();\n+import net.patchworkmc.api.input.ForgeMouse;\n+import net.patchworkmc.impl.event.input.InputEvents;\n \n+@Mixin(Mouse.class)\n+public abstract class MixinMouse implements ForgeMouse {", "originalCommit": "d25fd9d5e76ad0cfc6201663460edc007a23b439", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE2MzMyNg==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/130#discussion_r456163326", "bodyText": "huh. whoops. i must've gotten it in place and then forgot to actually implement it.", "author": "kitlith", "createdAt": "2020-07-17T01:12:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE1MjExNw=="}], "type": "inlineReview", "revised_code": {"commit": "d38f7daa76ac33ee08a4b7fdf58ff682410dcd5f", "chunk": "diff --git a/patchwork-events-input/src/main/java/net/patchworkmc/mixin/event/input/MixinMouse.java b/patchwork-events-input/src/main/java/net/patchworkmc/mixin/event/input/MixinMouse.java\nindex e75e77a1..37d3d483 100644\n--- a/patchwork-events-input/src/main/java/net/patchworkmc/mixin/event/input/MixinMouse.java\n+++ b/patchwork-events-input/src/main/java/net/patchworkmc/mixin/event/input/MixinMouse.java\n\n@@ -51,4 +52,29 @@ public abstract class MixinMouse implements ForgeMouse {\n \t\t\tinfo.cancel();\n \t\t}\n \t}\n+\n+\t// Methods added by forge\n+\t@Shadow\n+\tboolean middleButtonClicked;\n+\n+\t@Shadow\n+\tdouble cursorDeltaX;\n+\n+\t@Shadow\n+\tdouble cursorDeltaY;\n+\n+\t@Override\n+\tpublic boolean isMiddleDown() {\n+\t\treturn middleButtonClicked;\n+\t}\n+\n+\t@Override\n+\tpublic double getXVelocity() {\n+\t\treturn cursorDeltaX;\n+\t}\n+\n+\t@Override\n+\tpublic double getYVelocity() {\n+\t\treturn cursorDeltaY;\n+\t}\n }\n"}}, {"oid": "76829bd792eaf4d4846f760342cb01ddfd8bb715", "url": "https://github.com/PatchworkMC/patchwork-api/commit/76829bd792eaf4d4846f760342cb01ddfd8bb715", "message": "Move InputEvent firing to a new class, InputEvents", "committedDate": "2020-07-19T23:16:56Z", "type": "commit"}, {"oid": "9cdbf2a748d6eee12dce5afbdab6260ccf5fe768", "url": "https://github.com/PatchworkMC/patchwork-api/commit/9cdbf2a748d6eee12dce5afbdab6260ccf5fe768", "message": "Dispatch from ForgeHooksClient to InputEvents", "committedDate": "2020-07-19T23:18:18Z", "type": "commit"}, {"oid": "d38f7daa76ac33ee08a4b7fdf58ff682410dcd5f", "url": "https://github.com/PatchworkMC/patchwork-api/commit/d38f7daa76ac33ee08a4b7fdf58ff682410dcd5f", "message": "Fixup! mixin didn't actually implement interface.", "committedDate": "2020-07-19T23:18:19Z", "type": "commit"}, {"oid": "d38f7daa76ac33ee08a4b7fdf58ff682410dcd5f", "url": "https://github.com/PatchworkMC/patchwork-api/commit/d38f7daa76ac33ee08a4b7fdf58ff682410dcd5f", "message": "Fixup! mixin didn't actually implement interface.", "committedDate": "2020-07-19T23:18:19Z", "type": "forcePushed"}, {"oid": "0398837ceb52553b6b7d15254ab13803802594bf", "url": "https://github.com/PatchworkMC/patchwork-api/commit/0398837ceb52553b6b7d15254ab13803802594bf", "message": "Merge branch 'master' into input-god-class\n\nHave a merge commit instead of a rebase since it's gonna be squashed\nanyway", "committedDate": "2020-07-21T23:45:35Z", "type": "commit"}]}