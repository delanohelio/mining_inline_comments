{"pr_number": 9703, "pr_title": "Make messagequeue implementation configurable", "pr_createdAt": "2020-12-04T10:05:11Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/9703", "timeline": [{"oid": "3529b69220ff3d1dc3f92302471cf1afbac266e3", "url": "https://github.com/Graylog2/graylog2-server/commit/3529b69220ff3d1dc3f92302471cf1afbac266e3", "message": "Make messagequeue implementation configurable\n\n- Clean up and unify guice modules\n\n- Add a new config option \"message_journal_mode = kafka,pulsar\"", "committedDate": "2020-12-04T09:56:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI0ODAxOA==", "url": "https://github.com/Graylog2/graylog2-server/pull/9703#discussion_r536248018", "bodyText": "I think that's a good idea.", "author": "thll", "createdAt": "2020-12-04T17:09:49Z", "path": "graylog2-server/src/main/java/org/graylog2/plugin/BaseConfiguration.java", "diffHunk": "@@ -142,6 +145,11 @@ public boolean isMessageJournalEnabled() {\n         return messageJournalEnabled;\n     }\n \n+    public String getMessageJournalMode() {\n+        // TODO use enum?", "originalCommit": "3529b69220ff3d1dc3f92302471cf1afbac266e3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f4caf33318852c9b46b4e9e97324206a38024803", "chunk": "diff --git a/graylog2-server/src/main/java/org/graylog2/plugin/BaseConfiguration.java b/graylog2-server/src/main/java/org/graylog2/plugin/BaseConfiguration.java\nindex e6eff3bfc2..b2ad328778 100644\n--- a/graylog2-server/src/main/java/org/graylog2/plugin/BaseConfiguration.java\n+++ b/graylog2-server/src/main/java/org/graylog2/plugin/BaseConfiguration.java\n\n@@ -145,7 +147,7 @@ public abstract class BaseConfiguration extends PathConfiguration {\n         return messageJournalEnabled;\n     }\n \n-    public String getMessageJournalMode() {\n+    public MessageJournalMode getMessageJournalMode() {\n         // TODO use enum?\n         return messageJournalMode;\n     }\n"}}, {"oid": "94befb961927c2487d156fdbb80094feff2830a0", "url": "https://github.com/Graylog2/graylog2-server/commit/94befb961927c2487d156fdbb80094feff2830a0", "message": "Merge remote-tracking branch 'origin/simplify-pulsar-processing' into messagequeue-config", "committedDate": "2020-12-07T10:14:39Z", "type": "commit"}, {"oid": "36211d8849000cb22213fd1d59691cd52941fce4", "url": "https://github.com/Graylog2/graylog2-server/commit/36211d8849000cb22213fd1d59691cd52941fce4", "message": "Remove MessageQueueReader", "committedDate": "2020-12-07T10:14:53Z", "type": "commit"}, {"oid": "f4caf33318852c9b46b4e9e97324206a38024803", "url": "https://github.com/Graylog2/graylog2-server/commit/f4caf33318852c9b46b4e9e97324206a38024803", "message": "Use enum for MessageJournalMode", "committedDate": "2020-12-07T16:04:18Z", "type": "commit"}]}