{"pr_number": 8347, "pr_title": "Minor cleanups for ES-specifics in core code.", "pr_createdAt": "2020-06-15T14:50:19Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/8347", "timeline": [{"oid": "8d899db092a82a1c1846512e5b9dde23badfe5ea", "url": "https://github.com/Graylog2/graylog2-server/commit/8d899db092a82a1c1846512e5b9dde23badfe5ea", "message": "Giving helper class a better name.", "committedDate": "2020-06-16T07:36:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQzNzkwNQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8347#discussion_r441437905", "bodyText": "While TimeRangeFilterQuery is a much better name than IndexHelper I find that it implies an object that can instantiated instead of a static factory. How about RangeQueryUtil or RangeQueryFactory?", "author": "alex-konn", "createdAt": "2020-06-17T10:13:23Z", "path": "graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/TimeRangeFilterQuery.java", "diffHunk": "@@ -16,17 +16,17 @@\n  */\n package org.graylog.storage.elasticsearch6;\n \n-import org.elasticsearch.index.query.QueryBuilder;\n import org.elasticsearch.index.query.QueryBuilders;\n+import org.elasticsearch.index.query.RangeQueryBuilder;\n import org.graylog2.plugin.Message;\n import org.graylog2.plugin.Tools;\n import org.graylog2.plugin.indexer.searches.timeranges.TimeRange;\n \n import javax.annotation.Nullable;\n \n-public class IndexHelper {\n+public class TimeRangeFilterQuery {", "originalCommit": "8d899db092a82a1c1846512e5b9dde23badfe5ea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ1NjcxMg==", "url": "https://github.com/Graylog2/graylog2-server/pull/8347#discussion_r441456712", "bodyText": "\u2714\ufe0f", "author": "dennisoelkers", "createdAt": "2020-06-17T10:49:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQzNzkwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "51dd52e7d90cd503ef30a9ab7a9e29155e15116b", "chunk": "diff --git a/graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/TimeRangeFilterQuery.java b/graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/IndexHelper.java\nsimilarity index 88%\nrename from graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/TimeRangeFilterQuery.java\nrename to graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/IndexHelper.java\nindex 596486043e..67c2250803 100644\n--- a/graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/TimeRangeFilterQuery.java\n+++ b/graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/IndexHelper.java\n\n@@ -16,17 +16,17 @@\n  */\n package org.graylog.storage.elasticsearch6;\n \n+import org.elasticsearch.index.query.QueryBuilder;\n import org.elasticsearch.index.query.QueryBuilders;\n-import org.elasticsearch.index.query.RangeQueryBuilder;\n import org.graylog2.plugin.Message;\n import org.graylog2.plugin.Tools;\n import org.graylog2.plugin.indexer.searches.timeranges.TimeRange;\n \n import javax.annotation.Nullable;\n \n-public class TimeRangeFilterQuery {\n+public class IndexHelper {\n     @Nullable\n-    public static RangeQueryBuilder create(TimeRange range) {\n+    public static QueryBuilder getTimestampRangeFilter(TimeRange range) {\n         if (range == null) {\n             return null;\n         }\n"}}, {"oid": "51dd52e7d90cd503ef30a9ab7a9e29155e15116b", "url": "https://github.com/Graylog2/graylog2-server/commit/51dd52e7d90cd503ef30a9ab7a9e29155e15116b", "message": "Moving request class to storage module.", "committedDate": "2020-06-17T10:47:37Z", "type": "commit"}, {"oid": "609fcbffefd4dd93336312e0922f1eee2b9d61c3", "url": "https://github.com/Graylog2/graylog2-server/commit/609fcbffefd4dd93336312e0922f1eee2b9d61c3", "message": "Moving ES specifics from `ClusterIT` to subclass.", "committedDate": "2020-06-17T10:47:37Z", "type": "commit"}, {"oid": "bbf01c0bc118e021a00fc8b8216913d86157a944", "url": "https://github.com/Graylog2/graylog2-server/commit/bbf01c0bc118e021a00fc8b8216913d86157a944", "message": "Giving helper class a better name.", "committedDate": "2020-06-17T10:47:37Z", "type": "commit"}, {"oid": "9fa830407b72132bcffe98ddd62873a8fb7c6852", "url": "https://github.com/Graylog2/graylog2-server/commit/9fa830407b72132bcffe98ddd62873a8fb7c6852", "message": "Renaming class in order to indicate it being a factory.", "committedDate": "2020-06-17T10:48:45Z", "type": "commit"}, {"oid": "9fa830407b72132bcffe98ddd62873a8fb7c6852", "url": "https://github.com/Graylog2/graylog2-server/commit/9fa830407b72132bcffe98ddd62873a8fb7c6852", "message": "Renaming class in order to indicate it being a factory.", "committedDate": "2020-06-17T10:48:45Z", "type": "forcePushed"}]}