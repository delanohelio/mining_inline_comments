{"pr_number": 3246, "pr_title": "[NCL-5894] Return 404 when there is no build group", "pr_createdAt": "2020-08-19T11:58:03Z", "pr_url": "https://github.com/project-ncl/pnc/pull/3246", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3NTQ2OA==", "url": "https://github.com/project-ncl/pnc/pull/3246#discussion_r472975468", "bodyText": "should there be ==?", "author": "janinko", "createdAt": "2020-08-19T12:01:07Z", "path": "facade/src/main/java/org/jboss/pnc/facade/providers/BuildProviderImpl.java", "diffHunk": "@@ -422,10 +422,12 @@ public SSHCredentials getSshCredentials(String buildId) {\n \n     @Override\n     public Graph<Build> getBuildGraphForGroupBuild(String groupBuildId) {\n-        List<String> runningAndStoredIds = getBuildIdsInTheGroup(groupBuildId);\n-        if (runningAndStoredIds.isEmpty()) {\n-            throw new EmptyEntityException(\"Build group \" + groupBuildId + \" does not exists or has no builds.\");\n+        BuildConfigSetRecord buildConfigSetRecord = buildConfigSetRecordRepository\n+                .queryById(Integer.valueOf(groupBuildId));\n+        if (buildConfigSetRecord != null) {", "originalCommit": "a7ca88f57e467e8210bcb359dbe95b60881f382f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3Nzg0Ng==", "url": "https://github.com/project-ncl/pnc/pull/3246#discussion_r472977846", "bodyText": "Right :)", "author": "matejonnet", "createdAt": "2020-08-19T12:05:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3NTQ2OA=="}], "type": "inlineReview", "revised_code": {"commit": "922db0e1550767424a80dbc753727a37bb254bfc", "chunk": "diff --git a/facade/src/main/java/org/jboss/pnc/facade/providers/BuildProviderImpl.java b/facade/src/main/java/org/jboss/pnc/facade/providers/BuildProviderImpl.java\nindex 37b349d5c..4405458c6 100644\n--- a/facade/src/main/java/org/jboss/pnc/facade/providers/BuildProviderImpl.java\n+++ b/facade/src/main/java/org/jboss/pnc/facade/providers/BuildProviderImpl.java\n\n@@ -424,7 +424,7 @@ public class BuildProviderImpl extends AbstractProvider<Integer, BuildRecord, Bu\n     public Graph<Build> getBuildGraphForGroupBuild(String groupBuildId) {\n         BuildConfigSetRecord buildConfigSetRecord = buildConfigSetRecordRepository\n                 .queryById(Integer.valueOf(groupBuildId));\n-        if (buildConfigSetRecord != null) {\n+        if (buildConfigSetRecord == null) {\n             throw new EmptyEntityException(\"Build group \" + groupBuildId + \" does not exists.\");\n         }\n         List<String> runningAndStoredIds = getBuildIdsInTheGroup(buildConfigSetRecord);\n"}}, {"oid": "922db0e1550767424a80dbc753727a37bb254bfc", "url": "https://github.com/project-ncl/pnc/commit/922db0e1550767424a80dbc753727a37bb254bfc", "message": "[NCL-5894] Return 404 when there is no build group and empty list when there are no builds in it.", "committedDate": "2020-08-19T12:13:44Z", "type": "forcePushed"}, {"oid": "7e89f2be1ca5d93abeb8fcf9395598c72fd7e22a", "url": "https://github.com/project-ncl/pnc/commit/7e89f2be1ca5d93abeb8fcf9395598c72fd7e22a", "message": "[NCL-5894] Return 404 when there is no build group and empty list when there are no builds in it.", "committedDate": "2020-08-19T12:38:22Z", "type": "forcePushed"}, {"oid": "e2bb5c58195b75fdee0f6f7eac0c08d82751f4aa", "url": "https://github.com/project-ncl/pnc/commit/e2bb5c58195b75fdee0f6f7eac0c08d82751f4aa", "message": "[NCL-5894] Return 404 when there is no build group and empty list when there are no builds in it.", "committedDate": "2020-08-19T13:07:01Z", "type": "commit"}, {"oid": "e2bb5c58195b75fdee0f6f7eac0c08d82751f4aa", "url": "https://github.com/project-ncl/pnc/commit/e2bb5c58195b75fdee0f6f7eac0c08d82751f4aa", "message": "[NCL-5894] Return 404 when there is no build group and empty list when there are no builds in it.", "committedDate": "2020-08-19T13:07:01Z", "type": "forcePushed"}]}