{"pr_number": 752, "pr_title": "feat(plugins): Spring-backed native plugin extensions", "pr_createdAt": "2020-08-19T19:16:28Z", "pr_url": "https://github.com/spinnaker/kork/pull/752", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3NDQ1NA==", "url": "https://github.com/spinnaker/kork/pull/752#discussion_r473574454", "bodyText": "nit: single imports.", "author": "luispollo", "createdAt": "2020-08-20T04:02:00Z", "path": "kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.netflix.spinnaker.kork.plugins.api;\n+\n+import com.netflix.spinnaker.kork.annotations.Beta;\n+\n+import java.lang.annotation.*;", "originalCommit": "23dec8af65dc57a99e562acaad42d532add4ab2d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e34e1d4d7a5bbb55806e6294ea51474ef09d0160", "chunk": "diff --git a/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java b/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java\nindex 64cfe78..7155888 100644\n--- a/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java\n+++ b/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java\n\n@@ -16,15 +16,9 @@\n package com.netflix.spinnaker.kork.plugins.api;\n \n import com.netflix.spinnaker.kork.annotations.Beta;\n-\n import java.lang.annotation.*;\n \n-/**\n- * Marks a class within a plugin as one that is candidate for dependency injection.\n- *\n- * Classes defined within the plugin, as well as classes exposed via a service's API are valid candidates for\n- * injection.\n- */\n+/** Marks a class within a plugin as one that is candidate for dependency injection. */\n @Beta\n @Retention(RetentionPolicy.RUNTIME)\n @Target(ElementType.TYPE)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3NTE2NA==", "url": "https://github.com/spinnaker/kork/pull/752#discussion_r473575164", "bodyText": "The second part of this comment seems to be more encompassing than what's on line 23. Worth reconciling?", "author": "luispollo", "createdAt": "2020-08-20T04:04:41Z", "path": "kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.netflix.spinnaker.kork.plugins.api;\n+\n+import com.netflix.spinnaker.kork.annotations.Beta;\n+\n+import java.lang.annotation.*;\n+\n+/**\n+ * Marks a class within a plugin as one that is candidate for dependency injection.\n+ *\n+ * Classes defined within the plugin, as well as classes exposed via a service's API are valid candidates for", "originalCommit": "23dec8af65dc57a99e562acaad42d532add4ab2d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e34e1d4d7a5bbb55806e6294ea51474ef09d0160", "chunk": "diff --git a/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java b/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java\nindex 64cfe78..7155888 100644\n--- a/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java\n+++ b/kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/PluginComponent.java\n\n@@ -16,15 +16,9 @@\n package com.netflix.spinnaker.kork.plugins.api;\n \n import com.netflix.spinnaker.kork.annotations.Beta;\n-\n import java.lang.annotation.*;\n \n-/**\n- * Marks a class within a plugin as one that is candidate for dependency injection.\n- *\n- * Classes defined within the plugin, as well as classes exposed via a service's API are valid candidates for\n- * injection.\n- */\n+/** Marks a class within a plugin as one that is candidate for dependency injection. */\n @Beta\n @Retention(RetentionPolicy.RUNTIME)\n @Target(ElementType.TYPE)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3NTYxNw==", "url": "https://github.com/spinnaker/kork/pull/752#discussion_r473575617", "bodyText": "Hmm, are we relaxing the style on star imports? Then I won't nitpick elsewhere. \ud83d\ude42", "author": "luispollo", "createdAt": "2020-08-20T04:06:15Z", "path": "kork-plugins/src/main/java/com/netflix/spinnaker/config/PluginsAutoConfiguration.java", "diffHunk": "@@ -20,11 +20,7 @@\n import com.netflix.spinnaker.config.PluginsConfigurationProperties.PluginRepositoryProperties;\n import com.netflix.spinnaker.kork.dynamicconfig.DynamicConfigService;\n import com.netflix.spinnaker.kork.dynamicconfig.SpringDynamicConfigService;\n-import com.netflix.spinnaker.kork.plugins.ExtensionBeanDefinitionRegistryPostProcessor;\n-import com.netflix.spinnaker.kork.plugins.SpinnakerPluginManager;\n-import com.netflix.spinnaker.kork.plugins.SpinnakerServiceVersionManager;\n-import com.netflix.spinnaker.kork.plugins.SpringPluginStatusProvider;\n-import com.netflix.spinnaker.kork.plugins.SpringStrictPluginLoaderStatusProvider;\n+import com.netflix.spinnaker.kork.plugins.*;", "originalCommit": "23dec8af65dc57a99e562acaad42d532add4ab2d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxNjI1NA==", "url": "https://github.com/spinnaker/kork/pull/752#discussion_r474216254", "bodyText": "I'm doing whatever Spotless is doing. \ud83e\udd37", "author": "robzienert", "createdAt": "2020-08-20T19:22:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3NTYxNw=="}], "type": "inlineReview", "revised_code": {"commit": "e34e1d4d7a5bbb55806e6294ea51474ef09d0160", "chunk": "diff --git a/kork-plugins/src/main/java/com/netflix/spinnaker/config/PluginsAutoConfiguration.java b/kork-plugins/src/main/java/com/netflix/spinnaker/config/PluginsAutoConfiguration.java\nindex 0c1215e..9895b7b 100644\n--- a/kork-plugins/src/main/java/com/netflix/spinnaker/config/PluginsAutoConfiguration.java\n+++ b/kork-plugins/src/main/java/com/netflix/spinnaker/config/PluginsAutoConfiguration.java\n\n@@ -18,6 +18,7 @@ package com.netflix.spinnaker.config;\n import com.fasterxml.jackson.core.type.TypeReference;\n import com.netflix.spectator.api.Registry;\n import com.netflix.spinnaker.config.PluginsConfigurationProperties.PluginRepositoryProperties;\n+import com.netflix.spinnaker.kork.annotations.Beta;\n import com.netflix.spinnaker.kork.dynamicconfig.DynamicConfigService;\n import com.netflix.spinnaker.kork.dynamicconfig.SpringDynamicConfigService;\n import com.netflix.spinnaker.kork.plugins.*;\n"}}, {"oid": "e34e1d4d7a5bbb55806e6294ea51474ef09d0160", "url": "https://github.com/spinnaker/kork/commit/e34e1d4d7a5bbb55806e6294ea51474ef09d0160", "message": "feat(plugins): Spring-backed native plugin extensions", "committedDate": "2020-08-20T19:20:41Z", "type": "forcePushed"}, {"oid": "cbb5407d5c02f7ef317f700f260568f7ef7be878", "url": "https://github.com/spinnaker/kork/commit/cbb5407d5c02f7ef317f700f260568f7ef7be878", "message": "feat(plugins): Spring-backed native plugin extensions", "committedDate": "2020-08-20T21:21:56Z", "type": "forcePushed"}, {"oid": "d11777fc25e49ca4a4239568c64d93203f1e0320", "url": "https://github.com/spinnaker/kork/commit/d11777fc25e49ca4a4239568c64d93203f1e0320", "message": "feat(plugins): Spring-backed native plugin extensions", "committedDate": "2020-08-20T23:14:24Z", "type": "commit"}, {"oid": "d11777fc25e49ca4a4239568c64d93203f1e0320", "url": "https://github.com/spinnaker/kork/commit/d11777fc25e49ca4a4239568c64d93203f1e0320", "message": "feat(plugins): Spring-backed native plugin extensions", "committedDate": "2020-08-20T23:14:24Z", "type": "forcePushed"}, {"oid": "258a07447d0dc9307a5bf45cc0561edfa1474793", "url": "https://github.com/spinnaker/kork/commit/258a07447d0dc9307a5bf45cc0561edfa1474793", "message": "Update kork-plugins/src/test/kotlin/com/netflix/spinnaker/kork/plugins/v2/scenarios/ServiceDependenciesScenarioTest.kt\n\nCo-authored-by: Luis Pollo <1323478+luispollo@users.noreply.github.com>", "committedDate": "2020-08-21T18:37:22Z", "type": "commit"}, {"oid": "eba7c0460eaa5317b4669323b4e19c656a6e51f0", "url": "https://github.com/spinnaker/kork/commit/eba7c0460eaa5317b4669323b4e19c656a6e51f0", "message": "Update kork-plugins/src/test/kotlin/com/netflix/spinnaker/kork/plugins/v2/scenarios/ServiceDependenciesScenarioTest.kt\n\nCo-authored-by: Luis Pollo <1323478+luispollo@users.noreply.github.com>", "committedDate": "2020-08-21T19:29:08Z", "type": "commit"}, {"oid": "65da79a91f90e6cf50247f5a08fdeaa4c2e4ad0a", "url": "https://github.com/spinnaker/kork/commit/65da79a91f90e6cf50247f5a08fdeaa4c2e4ad0a", "message": "Merge branch 'master' into native-plugins-v2", "committedDate": "2020-08-21T19:34:26Z", "type": "commit"}]}