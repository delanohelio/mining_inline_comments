{"pr_number": 520, "pr_title": "add new enum to log stale metrics count", "pr_createdAt": "2020-11-20T22:01:06Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/520", "timeline": [{"oid": "78b65203e6076236054c3f113350df9b1e0979e8", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/78b65203e6076236054c3f113350df9b1e0979e8", "message": "add new enum to log stale metrics count", "committedDate": "2020-11-20T21:47:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxNTM4Mw==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/520#discussion_r532915383", "bodyText": "why do we need max min etc. shouldn't it be just count ?", "author": "yojs", "createdAt": "2020-11-30T21:28:57Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java", "diffHunk": "@@ -33,7 +33,12 @@\n             Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n \n     FAULT_DETECTION_COLLECTOR_EXECUTION_TIME(\"FaultDetectionCollectorExecutionTime\", \"millis\", Arrays.asList(\n-    Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM));\n+    Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n+\n+    STALE_METRICS(\"StaleMetrics\", \"count\", Arrays.asList(\n+        Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),", "originalCommit": "78b65203e6076236054c3f113350df9b1e0979e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkzMTgwNQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/520#discussion_r532931805", "bodyText": "good catch, I've made the change. thanks.", "author": "yu-sun-77", "createdAt": "2020-11-30T22:01:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxNTM4Mw=="}], "type": "inlineReview", "revised_code": {"commit": "01f9b592d929e08922a9867b03ad7deb85125e3f", "chunk": "diff --git a/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java b/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java\nindex d18df745..b572ff70 100644\n--- a/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java\n+++ b/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java\n\n@@ -35,9 +35,7 @@ public enum WriterMetrics implements MeasurementSet {\n     FAULT_DETECTION_COLLECTOR_EXECUTION_TIME(\"FaultDetectionCollectorExecutionTime\", \"millis\", Arrays.asList(\n     Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n \n-    STALE_METRICS(\"StaleMetrics\", \"count\", Arrays.asList(\n-        Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n-\n+    STALE_METRICS(\"StaleMetrics\", \"count\", Arrays.asList( Statistics.COUNT)),\n     ;\n \n     /** What we want to appear as the metric name. */\n"}}, {"oid": "78b65203e6076236054c3f113350df9b1e0979e8", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/78b65203e6076236054c3f113350df9b1e0979e8", "message": "add new enum to log stale metrics count", "committedDate": "2020-11-20T21:47:55Z", "type": "forcePushed"}, {"oid": "01f9b592d929e08922a9867b03ad7deb85125e3f", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/01f9b592d929e08922a9867b03ad7deb85125e3f", "message": "only log count as statistics for stale_metrics", "committedDate": "2020-11-30T21:59:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxNDQ1NQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/520#discussion_r533014455", "bodyText": "nit: remove the extra space before \"Statistics.COUNT\"", "author": "rguo-aws", "createdAt": "2020-12-01T01:33:08Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java", "diffHunk": "@@ -33,7 +33,10 @@\n             Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n \n     FAULT_DETECTION_COLLECTOR_EXECUTION_TIME(\"FaultDetectionCollectorExecutionTime\", \"millis\", Arrays.asList(\n-    Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM));\n+    Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n+\n+    STALE_METRICS(\"StaleMetrics\", \"count\", Arrays.asList( Statistics.COUNT)),", "originalCommit": "01f9b592d929e08922a9867b03ad7deb85125e3f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "372a4527e0cf82cdef09695d669208cc2abfd80c", "chunk": "diff --git a/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java b/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java\nindex b572ff70..0481124e 100644\n--- a/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java\n+++ b/src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/metrics/WriterMetrics.java\n\n@@ -35,7 +35,7 @@ public enum WriterMetrics implements MeasurementSet {\n     FAULT_DETECTION_COLLECTOR_EXECUTION_TIME(\"FaultDetectionCollectorExecutionTime\", \"millis\", Arrays.asList(\n     Statistics.MAX, Statistics.MIN, Statistics.MEAN, Statistics.COUNT, Statistics.SUM)),\n \n-    STALE_METRICS(\"StaleMetrics\", \"count\", Arrays.asList( Statistics.COUNT)),\n+    STALE_METRICS(\"StaleMetrics\", \"count\", Arrays.asList(Statistics.COUNT)),\n     ;\n \n     /** What we want to appear as the metric name. */\n"}}, {"oid": "372a4527e0cf82cdef09695d669208cc2abfd80c", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/372a4527e0cf82cdef09695d669208cc2abfd80c", "message": "remove extra space", "committedDate": "2020-12-01T01:35:28Z", "type": "commit"}]}