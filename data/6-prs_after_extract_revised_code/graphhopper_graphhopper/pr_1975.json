{"pr_number": 1975, "pr_title": "Allow running isochrones with profiles supporting turn costs (without turn costs)", "pr_createdAt": "2020-03-29T09:21:20Z", "pr_url": "https://github.com/graphhopper/graphhopper/pull/1975", "timeline": [{"oid": "9593041ad3784d126c55f5ed83553c6bdd95ed8f", "url": "https://github.com/graphhopper/graphhopper/commit/9593041ad3784d126c55f5ed83553c6bdd95ed8f", "message": "Add Weighting#hasTurnCosts, make sure node-based algos are not running with turn costs", "committedDate": "2020-03-29T07:31:48Z", "type": "commit"}, {"oid": "e4f989ba8ededeeed22367b886cbee85bfb12ab4", "url": "https://github.com/graphhopper/graphhopper/commit/e4f989ba8ededeeed22367b886cbee85bfb12ab4", "message": "Add check for AlternativeRoute", "committedDate": "2020-03-29T08:54:51Z", "type": "commit"}, {"oid": "4ed7cf0af1d5a379117b22fdb3bbe08994eac5d9", "url": "https://github.com/graphhopper/graphhopper/commit/4ed7cf0af1d5a379117b22fdb3bbe08994eac5d9", "message": "Allow running isochrones with profiles supporting turn costs (still ignoring turn costs for isochrones)", "committedDate": "2020-03-29T09:16:05Z", "type": "commit"}, {"oid": "a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972", "url": "https://github.com/graphhopper/graphhopper/commit/a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972", "message": "Merge branch 'master' into has_turn_costs", "committedDate": "2020-03-29T13:44:01Z", "type": "commit"}, {"oid": "d2eeafe2e0f456a708c3859469506f7688f09bba", "url": "https://github.com/graphhopper/graphhopper/commit/d2eeafe2e0f456a708c3859469506f7688f09bba", "message": "Merge branch 'has_turn_costs' into isochrone_turn_costs_fix", "committedDate": "2020-03-29T13:44:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDEyODcxOQ==", "url": "https://github.com/graphhopper/graphhopper/pull/1975#discussion_r400128719", "bodyText": "There is a small mistake for Landmark.DISABLE -> ch -> lm", "author": "karussell", "createdAt": "2020-03-30T11:47:38Z", "path": "web-bundle/src/main/java/com/graphhopper/resources/IsochroneResource.java", "diffHunk": "@@ -77,13 +77,19 @@ public Response doGet(\n \n         HintsMap hintsMap = new HintsMap();\n         RouteResource.initHints(hintsMap, uriInfo.getQueryParameters());\n+        if (!hintsMap.getBool(Parameters.CH.DISABLE, true))\n+            throw new IllegalArgumentException(\"Currently you cannot use speed mode for /isochrone, Do not use `ch.disable=true`\");\n+        if (!hintsMap.getBool(Parameters.Landmark.DISABLE, true))\n+            throw new IllegalArgumentException(\"Currently you cannot use hybrid mode for /isochrone, Do not use `ch.disable=true`\");\n+        if (hintsMap.getBool(Parameters.Routing.EDGE_BASED, false))\n+            throw new IllegalArgumentException(\"Currently you cannot use edge-based for /isochrone. Do not use `edge_based=true`\");\n+        if (hintsMap.getBool(Parameters.Routing.TURN_COSTS, false))\n+            throw new IllegalArgumentException(\"Currently you cannot use turn costs for /isochrone, Do not use `turn_costs=true`\");", "originalCommit": "d2eeafe2e0f456a708c3859469506f7688f09bba", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "55c1395ec98ef412c0d3c423c29603947f6bb7d7", "chunk": "diff --git a/web-bundle/src/main/java/com/graphhopper/resources/IsochroneResource.java b/web-bundle/src/main/java/com/graphhopper/resources/IsochroneResource.java\nindex 8b2d40bfc..29a743ffc 100644\n--- a/web-bundle/src/main/java/com/graphhopper/resources/IsochroneResource.java\n+++ b/web-bundle/src/main/java/com/graphhopper/resources/IsochroneResource.java\n\n@@ -80,7 +80,7 @@ public class IsochroneResource {\n         if (!hintsMap.getBool(Parameters.CH.DISABLE, true))\n             throw new IllegalArgumentException(\"Currently you cannot use speed mode for /isochrone, Do not use `ch.disable=true`\");\n         if (!hintsMap.getBool(Parameters.Landmark.DISABLE, true))\n-            throw new IllegalArgumentException(\"Currently you cannot use hybrid mode for /isochrone, Do not use `ch.disable=true`\");\n+            throw new IllegalArgumentException(\"Currently you cannot use hybrid mode for /isochrone, Do not use `lm.disable=true`\");\n         if (hintsMap.getBool(Parameters.Routing.EDGE_BASED, false))\n             throw new IllegalArgumentException(\"Currently you cannot use edge-based for /isochrone. Do not use `edge_based=true`\");\n         if (hintsMap.getBool(Parameters.Routing.TURN_COSTS, false))\n"}}, {"oid": "55c1395ec98ef412c0d3c423c29603947f6bb7d7", "url": "https://github.com/graphhopper/graphhopper/commit/55c1395ec98ef412c0d3c423c29603947f6bb7d7", "message": "Fix typo in IsochroneResource error message (ch<->lm)", "committedDate": "2020-03-30T11:50:53Z", "type": "commit"}, {"oid": "671b983aa33ede120e482965a8ee0710135ac7f4", "url": "https://github.com/graphhopper/graphhopper/commit/671b983aa33ede120e482965a8ee0710135ac7f4", "message": "Ignore turn_costs/edge_based=false for /isochrone", "committedDate": "2020-03-30T15:20:43Z", "type": "commit"}, {"oid": "45fc6d5f7e70cb0047a59ff36d53895d496d07a7", "url": "https://github.com/graphhopper/graphhopper/commit/45fc6d5f7e70cb0047a59ff36d53895d496d07a7", "message": "Merge branch 'master' into isochrone_turn_costs_fix", "committedDate": "2020-03-31T14:44:24Z", "type": "commit"}]}