{"pr_number": 2103, "pr_title": "Interpolate Ferry Elevation for Skadi Elevation Provider", "pr_createdAt": "2020-07-30T12:30:45Z", "pr_url": "https://github.com/graphhopper/graphhopper/pull/2103", "timeline": [{"oid": "645b47a1d41bff4785d255cfc3e4a412305f4b92", "url": "https://github.com/graphhopper/graphhopper/commit/645b47a1d41bff4785d255cfc3e4a412305f4b92", "message": "Interpolate Ferry Elevation for Skadi Elevation Provider", "committedDate": "2020-07-30T12:24:33Z", "type": "commit"}, {"oid": "01516f3a00c6a3887fc4dc50343d33b73ef5ba1b", "url": "https://github.com/graphhopper/graphhopper/commit/01516f3a00c6a3887fc4dc50343d33b73ef5ba1b", "message": "Add comment", "committedDate": "2020-07-30T12:33:02Z", "type": "commit"}, {"oid": "7b4ee8a0b82c8ebe89f4d4c2062f1fa704e5ed3f", "url": "https://github.com/graphhopper/graphhopper/commit/7b4ee8a0b82c8ebe89f4d4c2062f1fa704e5ed3f", "message": "Merge branch 'master' into ferry_elevation_interpolation", "committedDate": "2020-07-30T12:58:03Z", "type": "commit"}, {"oid": "8db6b9c8dd41348ada44a5ddf0b85c6714b5f6d0", "url": "https://github.com/graphhopper/graphhopper/commit/8db6b9c8dd41348ada44a5ddf0b85c6714b5f6d0", "message": "Interpolate Ferries as well", "committedDate": "2020-08-31T14:44:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MjAxOQ==", "url": "https://github.com/graphhopper/graphhopper/pull/2103#discussion_r483642019", "bodyText": "no need for that anymore :)", "author": "karussell", "createdAt": "2020-09-04T14:13:58Z", "path": "core/src/main/java/com/graphhopper/GraphHopper.java", "diffHunk": "@@ -962,16 +962,23 @@ private boolean hasInterpolated() {\n         return \"true\".equals(ghStorage.getProperties().get(INTERPOLATION_KEY));\n     }\n \n-    void interpolateBridgesAndOrTunnels() {\n+    void interpolateBridgesTunnelsAndFerries() {\n         if (ghStorage.getEncodingManager().hasEncodedValue(RoadEnvironment.KEY)) {\n             EnumEncodedValue<RoadEnvironment> roadEnvEnc = ghStorage.getEncodingManager().getEnumEncodedValue(RoadEnvironment.KEY, RoadEnvironment.class);\n             StopWatch sw = new StopWatch().start();\n             new EdgeElevationInterpolator(ghStorage, roadEnvEnc, RoadEnvironment.TUNNEL).execute();\n             float tunnel = sw.stop().getSeconds();\n             sw = new StopWatch().start();\n             new EdgeElevationInterpolator(ghStorage, roadEnvEnc, RoadEnvironment.BRIDGE).execute();\n+            float bridge = sw.stop().getSeconds();\n+            float ferry = -1;", "originalCommit": "8db6b9c8dd41348ada44a5ddf0b85c6714b5f6d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDg3NTEyMw==", "url": "https://github.com/graphhopper/graphhopper/pull/2103#discussion_r484875123", "bodyText": "Thank, I removed it :)", "author": "boldtrn", "createdAt": "2020-09-08T12:25:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MjAxOQ=="}], "type": "inlineReview", "revised_code": {"commit": "2688f467ec01d1a67f8f87a7152bc3fe373b037e", "chunk": "diff --git a/core/src/main/java/com/graphhopper/GraphHopper.java b/core/src/main/java/com/graphhopper/GraphHopper.java\nindex c7294e853..46b1c7680 100644\n--- a/core/src/main/java/com/graphhopper/GraphHopper.java\n+++ b/core/src/main/java/com/graphhopper/GraphHopper.java\n\n@@ -971,14 +971,12 @@ public class GraphHopper implements GraphHopperAPI {\n             sw = new StopWatch().start();\n             new EdgeElevationInterpolator(ghStorage, roadEnvEnc, RoadEnvironment.BRIDGE).execute();\n             float bridge = sw.stop().getSeconds();\n-            float ferry = -1;\n             // The SkadiProvider contains bathymetric data. For ferries this can result in bigger elevation changes\n             // See #2098 for mor information\n             sw = new StopWatch().start();\n             new EdgeElevationInterpolator(ghStorage, roadEnvEnc, RoadEnvironment.FERRY).execute();\n-            ferry = sw.stop().getSeconds();\n             ghStorage.getProperties().put(INTERPOLATION_KEY, true);\n-            logger.info(\"Bridge interpolation \" + (int) bridge + \"s, \" + \"tunnel interpolation \" + (int) tunnel + \"s, ferry interpolation \" + (int) ferry);\n+            logger.info(\"Bridge interpolation \" + (int) bridge + \"s, \" + \"tunnel interpolation \" + (int) tunnel + \"s, ferry interpolation \" + (int) sw.stop().getSeconds());\n         }\n     }\n \n"}}, {"oid": "2688f467ec01d1a67f8f87a7152bc3fe373b037e", "url": "https://github.com/graphhopper/graphhopper/commit/2688f467ec01d1a67f8f87a7152bc3fe373b037e", "message": "Remove unused code", "committedDate": "2020-09-08T12:25:17Z", "type": "commit"}]}