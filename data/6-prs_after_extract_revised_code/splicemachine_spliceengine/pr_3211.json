{"pr_number": 3211, "pr_title": "DB-9141 add DEFAULT column to the sysibm.syscolumns view", "pr_createdAt": "2020-02-07T22:20:39Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/3211", "timeline": [{"oid": "83476d71281639f9b7201b71d5896aa8a01053eb", "url": "https://github.com/splicemachine/spliceengine/commit/83476d71281639f9b7201b71d5896aa8a01053eb", "message": "DB-9141 add DEFAULT column to the sysibm.syscolumns view", "committedDate": "2020-02-07T19:36:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5NzgzNg==", "url": "https://github.com/splicemachine/spliceengine/pull/3211#discussion_r377297836", "bodyText": "2020", "author": "changli6", "createdAt": "2020-02-10T20:27:25Z", "path": "splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/UpgradeScriptForAddDefaultToColumnViewInSYSIBM.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Copyright (c) 2012 - 2019 Splice Machine, Inc.", "originalCommit": "83476d71281639f9b7201b71d5896aa8a01053eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg3MDY4Mg==", "url": "https://github.com/splicemachine/spliceengine/pull/3211#discussion_r379870682", "bodyText": "Please update the copyright", "author": "OlegMazurov", "createdAt": "2020-02-16T02:43:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5NzgzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwMTQzMA==", "url": "https://github.com/splicemachine/spliceengine/pull/3211#discussion_r382201430", "bodyText": "Done, thanks!", "author": "yxia92", "createdAt": "2020-02-20T19:11:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5NzgzNg=="}], "type": "inlineReview", "revised_code": {"commit": "74bd124c8bdc86e6ba93017ecbdfa2698b43f7ff", "chunk": "diff --git a/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/UpgradeScriptForAddDefaultToColumnViewInSYSIBM.java b/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/UpgradeScriptForAddDefaultToColumnViewInSYSIBM.java\nindex 86ae6c3b0a..98426a6469 100644\n--- a/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/UpgradeScriptForAddDefaultToColumnViewInSYSIBM.java\n+++ b/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/UpgradeScriptForAddDefaultToColumnViewInSYSIBM.java\n\n@@ -1,5 +1,5 @@\n /*\n- * Copyright (c) 2012 - 2019 Splice Machine, Inc.\n+ * Copyright (c) 2012 - 2020 Splice Machine, Inc.\n  *\n  * This file is part of Splice Machine.\n  * Splice Machine is free software: you can redistribute it and/or modify it under the terms of the\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1MjU2Nw==", "url": "https://github.com/splicemachine/spliceengine/pull/3211#discussion_r381252567", "bodyText": "We need to update the build number", "author": "dgomezferro", "createdAt": "2020-02-19T12:11:47Z", "path": "splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java", "diffHunk": "@@ -76,6 +76,7 @@ else if(v1==v2)\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1933), new UpgradeScriptToUpdateViewForSYSCONGLOMERATEINSCHEMAS(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1938), new UpgradeScriptForTriggerWhenClause(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1941), new UpgradeScriptForTableColumnViewInSYSIBM(sdd,tc));\n+        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1946), new UpgradeScriptForAddDefaultToColumnViewInSYSIBM(sdd,tc));", "originalCommit": "83476d71281639f9b7201b71d5896aa8a01053eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwMTgzMw==", "url": "https://github.com/splicemachine/spliceengine/pull/3211#discussion_r382201833", "bodyText": "Updated the build number to 1948 for all 3 branches, thanks!", "author": "yxia92", "createdAt": "2020-02-20T19:12:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1MjU2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "ac27de4992ed615bc1a4f176a9aefe20409c3772", "chunk": "diff --git a/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java b/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java\nindex 8e95e14ac9..de7b87826d 100644\n--- a/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java\n+++ b/splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java\n\n@@ -76,7 +76,7 @@ public class SpliceCatalogUpgradeScripts{\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1933), new UpgradeScriptToUpdateViewForSYSCONGLOMERATEINSCHEMAS(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1938), new UpgradeScriptForTriggerWhenClause(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1941), new UpgradeScriptForTableColumnViewInSYSIBM(sdd,tc));\n-        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1946), new UpgradeScriptForAddDefaultToColumnViewInSYSIBM(sdd,tc));\n+        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1948), new UpgradeScriptForAddDefaultToColumnViewInSYSIBM(sdd,tc));\n     }\n \n     public void run() throws StandardException{\n"}}, {"oid": "ac27de4992ed615bc1a4f176a9aefe20409c3772", "url": "https://github.com/splicemachine/spliceengine/commit/ac27de4992ed615bc1a4f176a9aefe20409c3772", "message": "DB-9141 update the version number in the upgrade script", "committedDate": "2020-02-20T19:00:32Z", "type": "commit"}, {"oid": "74bd124c8bdc86e6ba93017ecbdfa2698b43f7ff", "url": "https://github.com/splicemachine/spliceengine/commit/74bd124c8bdc86e6ba93017ecbdfa2698b43f7ff", "message": "DB-9141 update the copyright year in the upgrade script", "committedDate": "2020-02-20T19:11:01Z", "type": "commit"}, {"oid": "ba38363bc5ab9cc12c1866b539a0cf938dc2cf2e", "url": "https://github.com/splicemachine/spliceengine/commit/ba38363bc5ab9cc12c1866b539a0cf938dc2cf2e", "message": "Merge branch 'master' into DB-9141", "committedDate": "2020-02-27T18:19:57Z", "type": "commit"}]}