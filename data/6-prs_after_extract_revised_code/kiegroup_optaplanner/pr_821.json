{"pr_number": 821, "pr_title": "PLANNER-2015: Facility location Quarkus quickstart", "pr_createdAt": "2020-07-02T12:36:09Z", "pr_url": "https://github.com/kiegroup/optaplanner/pull/821", "timeline": [{"oid": "a3fd94b81c6d52344280bb1ae8f6a682085b6932", "url": "https://github.com/kiegroup/optaplanner/commit/a3fd94b81c6d52344280bb1ae8f6a682085b6932", "message": "Bootstrap facility location quickstart project", "committedDate": "2020-07-02T09:34:41Z", "type": "commit"}, {"oid": "49c2b5476ae9e0db27b86684ae37959f01aa2950", "url": "https://github.com/kiegroup/optaplanner/commit/49c2b5476ae9e0db27b86684ae37959f01aa2950", "message": "Update to Quarkus 1.5.1", "committedDate": "2020-07-02T09:34:41Z", "type": "commit"}, {"oid": "f344da6fb3eadfdae7f50d5cf8b27c4e25755fa1", "url": "https://github.com/kiegroup/optaplanner/commit/f344da6fb3eadfdae7f50d5cf8b27c4e25755fa1", "message": "Domain skeleton", "committedDate": "2020-07-02T09:34:42Z", "type": "commit"}, {"oid": "510ba458b3c83cea62512afd585fdef29c905fb8", "url": "https://github.com/kiegroup/optaplanner/commit/510ba458b3c83cea62512afd585fdef29c905fb8", "message": "Builder", "committedDate": "2020-07-02T09:34:42Z", "type": "commit"}, {"oid": "613525178060309a194f1e8199f5d51d120bcabf", "url": "https://github.com/kiegroup/optaplanner/commit/613525178060309a194f1e8199f5d51d120bcabf", "message": "Facility capacity constraint", "committedDate": "2020-07-02T09:34:42Z", "type": "commit"}, {"oid": "2dd7ff2a3a5f184fe3d4bea83aefbd2734f69d51", "url": "https://github.com/kiegroup/optaplanner/commit/2dd7ff2a3a5f184fe3d4bea83aefbd2734f69d51", "message": "Add solver test", "committedDate": "2020-07-02T09:34:42Z", "type": "commit"}, {"oid": "0da34410398fb56795c940587d98146d991df6ae", "url": "https://github.com/kiegroup/optaplanner/commit/0da34410398fb56795c940587d98146d991df6ae", "message": "Penalize setup cost of used facilities", "committedDate": "2020-07-02T09:34:42Z", "type": "commit"}, {"oid": "7740ce19ffdfe6a9adaba197bb641669c4c94d21", "url": "https://github.com/kiegroup/optaplanner/commit/7740ce19ffdfe6a9adaba197bb641669c4c94d21", "message": "Add index page with Leaflet map", "committedDate": "2020-07-02T09:34:42Z", "type": "commit"}, {"oid": "0f1ae43741fc9d6c550469f41d647dcef1fb7937", "url": "https://github.com/kiegroup/optaplanner/commit/0f1ae43741fc9d6c550469f41d647dcef1fb7937", "message": "Repository, populator, get", "committedDate": "2020-07-02T09:34:43Z", "type": "commit"}, {"oid": "bd01e5c71e82ee1bebc84c4da7f54da9ccff33dd", "url": "https://github.com/kiegroup/optaplanner/commit/bd01e5c71e82ee1bebc84c4da7f54da9ccff33dd", "message": "Bounds", "committedDate": "2020-07-02T09:34:43Z", "type": "commit"}, {"oid": "c31d26919d8d5f9ab321c5f0dd0e5246afaa5295", "url": "https://github.com/kiegroup/optaplanner/commit/c31d26919d8d5f9ab321c5f0dd0e5246afaa5295", "message": "Show problem", "committedDate": "2020-07-02T09:34:43Z", "type": "commit"}, {"oid": "e9be44b8dcde315ff8cb794372dd21672a04988c", "url": "https://github.com/kiegroup/optaplanner/commit/e9be44b8dcde315ff8cb794372dd21672a04988c", "message": "Show solution", "committedDate": "2020-07-02T09:34:43Z", "type": "commit"}, {"oid": "6d1ca526837a9ef4532cb56e9f2f1cd5ad6a9032", "url": "https://github.com/kiegroup/optaplanner/commit/6d1ca526837a9ef4532cb56e9f2f1cd5ad6a9032", "message": "Minimize distance to facility", "committedDate": "2020-07-02T09:34:43Z", "type": "commit"}, {"oid": "2fed223db270adcf38c98e26447246eee32bc38a", "url": "https://github.com/kiegroup/optaplanner/commit/2fed223db270adcf38c98e26447246eee32bc38a", "message": "Use color for damand point circles", "committedDate": "2020-07-02T09:34:43Z", "type": "commit"}, {"oid": "ea50df180576478490eb64965e80c432a2e49388", "url": "https://github.com/kiegroup/optaplanner/commit/ea50df180576478490eb64965e80c432a2e49388", "message": "Use marker group to clear map before showing new data", "committedDate": "2020-07-02T09:34:44Z", "type": "commit"}, {"oid": "385ccc2834d993038ace5c2b2c577b52abbc8b9f", "url": "https://github.com/kiegroup/optaplanner/commit/385ccc2834d993038ace5c2b2c577b52abbc8b9f", "message": "Add facility popup", "committedDate": "2020-07-02T09:34:44Z", "type": "commit"}, {"oid": "1c491af7e3d473347c3f6204cbc3cf78b2c2ce2e", "url": "https://github.com/kiegroup/optaplanner/commit/1c491af7e3d473347c3f6204cbc3cf78b2c2ce2e", "message": "Add usage shadow variable", "committedDate": "2020-07-02T09:34:44Z", "type": "commit"}, {"oid": "af00d8035b4c3a9a00ba95ec6a19df8c1bcc94c4", "url": "https://github.com/kiegroup/optaplanner/commit/af00d8035b4c3a9a00ba95ec6a19df8c1bcc94c4", "message": "Do not zoom with double click", "committedDate": "2020-07-02T09:34:44Z", "type": "commit"}, {"oid": "4cd6d6e3445b33d564cd3ec060ced797365dcc9c", "url": "https://github.com/kiegroup/optaplanner/commit/4cd6d6e3445b33d564cd3ec060ced797365dcc9c", "message": "Constraint configuration", "committedDate": "2020-07-02T09:34:44Z", "type": "commit"}, {"oid": "be8bdacca790be5a4fead4578093c941bf9c572b", "url": "https://github.com/kiegroup/optaplanner/commit/be8bdacca790be5a4fead4578093c941bf9c572b", "message": "Show unsolved problem when the page loads", "committedDate": "2020-07-02T09:34:45Z", "type": "commit"}, {"oid": "07edaf5780eb53fed89b5f9eb21d732b118f8781", "url": "https://github.com/kiegroup/optaplanner/commit/07edaf5780eb53fed89b5f9eb21d732b118f8781", "message": "Add solve button", "committedDate": "2020-07-02T09:34:45Z", "type": "commit"}, {"oid": "0878b1d480f8e0834bfd18829b04970b9279ca4a", "url": "https://github.com/kiegroup/optaplanner/commit/0878b1d480f8e0834bfd18829b04970b9279ca4a", "message": "Show score", "committedDate": "2020-07-02T09:34:45Z", "type": "commit"}, {"oid": "2732ac8c9a95ff49a72dc6400e627b166d8af63b", "url": "https://github.com/kiegroup/optaplanner/commit/2732ac8c9a95ff49a72dc6400e627b166d8af63b", "message": "Autorefresh, stop solving button", "committedDate": "2020-07-02T09:34:45Z", "type": "commit"}, {"oid": "959a0f85bafd8d8429bbad35377005c6b9986d95", "url": "https://github.com/kiegroup/optaplanner/commit/959a0f85bafd8d8429bbad35377005c6b9986d95", "message": "Stop refreshing after stopping solving", "committedDate": "2020-07-02T09:34:45Z", "type": "commit"}, {"oid": "ad1194301ee5f405f1572e60f9c2fbde2d5edb11", "url": "https://github.com/kiegroup/optaplanner/commit/ad1194301ee5f405f1572e60f9c2fbde2d5edb11", "message": "Status", "committedDate": "2020-07-02T09:34:45Z", "type": "commit"}, {"oid": "3543d8a87b2cfded850c5a449b26dccdd2f5a5c4", "url": "https://github.com/kiegroup/optaplanner/commit/3543d8a87b2cfded850c5a449b26dccdd2f5a5c4", "message": "Unstyled list", "committedDate": "2020-07-02T09:34:46Z", "type": "commit"}, {"oid": "ab5a07cb1ee58136d375adaf1577db9f831be77d", "url": "https://github.com/kiegroup/optaplanner/commit/ab5a07cb1ee58136d375adaf1577db9f831be77d", "message": "Facilities list", "committedDate": "2020-07-02T09:34:46Z", "type": "commit"}, {"oid": "34eb384d8d3b21b9d7880c9b7c75f810756cdc43", "url": "https://github.com/kiegroup/optaplanner/commit/34eb384d8d3b21b9d7880c9b7c75f810756cdc43", "message": "Emphasize used facilities", "committedDate": "2020-07-02T09:34:46Z", "type": "commit"}, {"oid": "cc9a1ba9db2787ef4a6364e2292f75739eb03ee2", "url": "https://github.com/kiegroup/optaplanner/commit/cc9a1ba9db2787ef4a6364e2292f75739eb03ee2", "message": "Show total setup cost", "committedDate": "2020-07-02T09:34:46Z", "type": "commit"}, {"oid": "edf08e2ea3e5c8736d98b5d079666e059f234910", "url": "https://github.com/kiegroup/optaplanner/commit/edf08e2ea3e5c8736d98b5d079666e059f234910", "message": "Show total distance", "committedDate": "2020-07-02T09:34:46Z", "type": "commit"}, {"oid": "687ece892874b409df2d8babcdc6fc8840ead572", "url": "https://github.com/kiegroup/optaplanner/commit/687ece892874b409df2d8babcdc6fc8840ead572", "message": "Table header", "committedDate": "2020-07-02T09:34:47Z", "type": "commit"}, {"oid": "2621ea453d9a09523a23c8873d6f66b207d41561", "url": "https://github.com/kiegroup/optaplanner/commit/2621ea453d9a09523a23c8873d6f66b207d41561", "message": "Scroll bar", "committedDate": "2020-07-02T09:34:47Z", "type": "commit"}, {"oid": "3ad61f641a340acde12a489415de601268db8944", "url": "https://github.com/kiegroup/optaplanner/commit/3ad61f641a340acde12a489415de601268db8944", "message": "Improve layout", "committedDate": "2020-07-02T09:34:47Z", "type": "commit"}, {"oid": "864b4b934ce935dba2fce951bd98b58f62eb63ea", "url": "https://github.com/kiegroup/optaplanner/commit/864b4b934ce935dba2fce951bd98b58f62eb63ea", "message": "Add error handling", "committedDate": "2020-07-02T09:34:47Z", "type": "commit"}, {"oid": "f144f16946f67aba90c99720e0017de01f77ed81", "url": "https://github.com/kiegroup/optaplanner/commit/f144f16946f67aba90c99720e0017de01f77ed81", "message": "Arrow function", "committedDate": "2020-07-02T09:34:47Z", "type": "commit"}, {"oid": "673357a46bf2ead11f3e316aebf59d8cdb4a835d", "url": "https://github.com/kiegroup/optaplanner/commit/673357a46bf2ead11f3e316aebf59d8cdb4a835d", "message": "Give optaplanner-bom priority over quarkus-bom", "committedDate": "2020-07-02T09:49:16Z", "type": "commit"}, {"oid": "4327ac716a9dd7921b3c604bb901891df351e860", "url": "https://github.com/kiegroup/optaplanner/commit/4327ac716a9dd7921b3c604bb901891df351e860", "message": "Fontawesome 4.7.0", "committedDate": "2020-07-02T10:20:36Z", "type": "commit"}, {"oid": "4dd8ffb753532c10de79c4da667aacbd76263c01", "url": "https://github.com/kiegroup/optaplanner/commit/4dd8ffb753532c10de79c4da667aacbd76263c01", "message": "Explain score", "committedDate": "2020-07-02T11:49:22Z", "type": "commit"}, {"oid": "4597ae2a68b5d0d05562cd8d00e2b80df068ff40", "url": "https://github.com/kiegroup/optaplanner/commit/4597ae2a68b5d0d05562cd8d00e2b80df068ff40", "message": "DemandPoint -> Consumer", "committedDate": "2020-07-02T11:49:25Z", "type": "commit"}, {"oid": "ec7e91e3cf5c875f24e538f6daa75b157447be74", "url": "https://github.com/kiegroup/optaplanner/commit/ec7e91e3cf5c875f24e538f6daa75b157447be74", "message": "Remove deprecated API", "committedDate": "2020-07-02T11:51:16Z", "type": "commit"}, {"oid": "91fd739b4de5a78cb459a19eeae1a3b258fed6ff", "url": "https://github.com/kiegroup/optaplanner/commit/91fd739b4de5a78cb459a19eeae1a3b258fed6ff", "message": "Static import sumLong()", "committedDate": "2020-07-02T11:52:09Z", "type": "commit"}, {"oid": "ca4717a11d0007bd109f40c5665faaa5db8636d8", "url": "https://github.com/kiegroup/optaplanner/commit/ca4717a11d0007bd109f40c5665faaa5db8636d8", "message": "FA integrity", "committedDate": "2020-07-02T12:33:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk3MjgzMQ==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r448972831", "bodyText": "Proposal: database persistence later or never. Not important for this example.", "author": "yurloc", "createdAt": "2020-07-02T12:43:09Z", "path": "optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/persistence/FacilityLocationProblemRepository.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package org.acme.facilitylocation.persistence;\n+\n+import java.util.Optional;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+\n+import org.acme.facilitylocation.domain.FacilityLocationProblem;\n+\n+@ApplicationScoped\n+public class FacilityLocationProblemRepository {\n+\n+    private FacilityLocationProblem facilityLocationProblem;\n+\n+    public Optional<FacilityLocationProblem> solution() {\n+        return Optional.ofNullable(facilityLocationProblem);\n+    }\n+\n+    public void update(FacilityLocationProblem facilityLocationProblem) {\n+        this.facilityLocationProblem = facilityLocationProblem;\n+    }\n+}", "originalCommit": "ca4717a11d0007bd109f40c5665faaa5db8636d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk4NDAzMQ==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r448984031", "bodyText": "I am ok with never.\nSchool Timetabling already shows with it.", "author": "ge0ffrey", "createdAt": "2020-07-02T13:01:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk3MjgzMQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "a59e3316a7d5049ac3a4b4a27f0e141dcaa2f660", "url": "https://github.com/kiegroup/optaplanner/commit/a59e3316a7d5049ac3a4b4a27f0e141dcaa2f660", "message": "Reproducibility", "committedDate": "2020-07-02T13:02:42Z", "type": "commit"}, {"oid": "077a06626d5d940e8b88bd37bc4792c934b441d5", "url": "https://github.com/kiegroup/optaplanner/commit/077a06626d5d940e8b88bd37bc4792c934b441d5", "message": "More facilities", "committedDate": "2020-07-02T13:02:57Z", "type": "commit"}, {"oid": "f449eafa5178d4b2399f7a02d598a45a3a9d3528", "url": "https://github.com/kiegroup/optaplanner/commit/f449eafa5178d4b2399f7a02d598a45a3a9d3528", "message": "Increase weight of setup cost", "committedDate": "2020-07-02T13:03:06Z", "type": "commit"}, {"oid": "2447f0e8e2034b60f8d8788387a42fac50b05cdf", "url": "https://github.com/kiegroup/optaplanner/commit/2447f0e8e2034b60f8d8788387a42fac50b05cdf", "message": "Improve method name", "committedDate": "2020-07-02T13:06:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk4ODc0Nw==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r448988747", "bodyText": "Should we remove this? Unless the weights are configurable in the UI, this is not really needed.", "author": "yurloc", "createdAt": "2020-07-02T13:08:46Z", "path": "optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/solver/FacilityLocationConstraintConfiguration.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.acme.facilitylocation.solver;\n+\n+import org.optaplanner.core.api.domain.constraintweight.ConstraintConfiguration;\n+import org.optaplanner.core.api.domain.constraintweight.ConstraintWeight;\n+import org.optaplanner.core.api.score.buildin.hardsoftlong.HardSoftLongScore;\n+\n+@ConstraintConfiguration\n+public class FacilityLocationConstraintConfiguration {\n+\n+    public static final String FACILITY_CAPACITY = \"facility capacity\";\n+    public static final String FACILITY_SETUP_COST = \"facility setup cost\";\n+    public static final String DISTANCE_TO_FACILITY = \"distance to facility\";\n+\n+    @ConstraintWeight(FACILITY_CAPACITY)\n+    HardSoftLongScore facilityCapacity = HardSoftLongScore.ofHard(1);\n+    @ConstraintWeight(FACILITY_SETUP_COST)\n+    HardSoftLongScore facilitySetupCost = HardSoftLongScore.ofSoft(100);\n+    @ConstraintWeight(DISTANCE_TO_FACILITY)\n+    HardSoftLongScore distanceToFacility = HardSoftLongScore.ofSoft(1);\n+}", "originalCommit": "ca4717a11d0007bd109f40c5665faaa5db8636d8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "32e35b5fe0da37d01418f2891ceb173a76a68e93", "chunk": "diff --git a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/solver/FacilityLocationConstraintConfiguration.java b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/solver/FacilityLocationConstraintConfiguration.java\nindex df0a2cbed..0aeb84480 100644\n--- a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/solver/FacilityLocationConstraintConfiguration.java\n+++ b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/solver/FacilityLocationConstraintConfiguration.java\n\n@@ -30,7 +30,7 @@ public class FacilityLocationConstraintConfiguration {\n     @ConstraintWeight(FACILITY_CAPACITY)\n     HardSoftLongScore facilityCapacity = HardSoftLongScore.ofHard(1);\n     @ConstraintWeight(FACILITY_SETUP_COST)\n-    HardSoftLongScore facilitySetupCost = HardSoftLongScore.ofSoft(100);\n+    HardSoftLongScore facilitySetupCost = HardSoftLongScore.ofSoft(200);\n     @ConstraintWeight(DISTANCE_TO_FACILITY)\n     HardSoftLongScore distanceToFacility = HardSoftLongScore.ofSoft(1);\n }\n"}}, {"oid": "32e35b5fe0da37d01418f2891ceb173a76a68e93", "url": "https://github.com/kiegroup/optaplanner/commit/32e35b5fe0da37d01418f2891ceb173a76a68e93", "message": "Avoid magic constant", "committedDate": "2020-07-02T13:16:11Z", "type": "commit"}, {"oid": "d9472b1c368a7cc198d7d884649a67d68b67d909", "url": "https://github.com/kiegroup/optaplanner/commit/d9472b1c368a7cc198d7d884649a67d68b67d909", "message": "Rename test", "committedDate": "2020-07-02T13:17:27Z", "type": "commit"}, {"oid": "9ece996d6d5baa5a4498c4f7392c24ca7e225fab", "url": "https://github.com/kiegroup/optaplanner/commit/9ece996d6d5baa5a4498c4f7392c24ca7e225fab", "message": "Simplify test", "committedDate": "2020-07-02T13:21:17Z", "type": "commit"}, {"oid": "07a246442d6234c72b12bc3ff96d7d674d9dad91", "url": "https://github.com/kiegroup/optaplanner/commit/07a246442d6234c72b12bc3ff96d7d674d9dad91", "message": "Update application.properties", "committedDate": "2020-07-02T15:02:13Z", "type": "commit"}, {"oid": "475ea590e5d2e798ba0dd664454b90d44a265051", "url": "https://github.com/kiegroup/optaplanner/commit/475ea590e5d2e798ba0dd664454b90d44a265051", "message": "Update to latest OptaPlanner and Quarkus", "committedDate": "2020-07-02T15:45:38Z", "type": "commit"}, {"oid": "f80397d404ff5712aad8638496b0c6894da9c900", "url": "https://github.com/kiegroup/optaplanner/commit/f80397d404ff5712aad8638496b0c6894da9c900", "message": "Handle client errors", "committedDate": "2020-07-02T16:18:40Z", "type": "commit"}, {"oid": "1397e37d7ff1f7bc27436d358ef8ee55bb37975d", "url": "https://github.com/kiegroup/optaplanner/commit/1397e37d7ff1f7bc27436d358ef8ee55bb37975d", "message": "Update Javadoc", "committedDate": "2020-07-02T16:43:28Z", "type": "commit"}, {"oid": "325cc6feb2dfa727131072f9a764a831d95a6864", "url": "https://github.com/kiegroup/optaplanner/commit/325cc6feb2dfa727131072f9a764a831d95a6864", "message": "Avoid field injection", "committedDate": "2020-07-02T18:45:16Z", "type": "commit"}, {"oid": "417f39a9bdd21ca5973eab1bf78e3a575005e5eb", "url": "https://github.com/kiegroup/optaplanner/commit/417f39a9bdd21ca5973eab1bf78e3a575005e5eb", "message": "Remove @Transactional", "committedDate": "2020-07-02T18:46:56Z", "type": "commit"}, {"oid": "8e7c76d92f7fb636521dd89df107635b10f6ba9b", "url": "https://github.com/kiegroup/optaplanner/commit/8e7c76d92f7fb636521dd89df107635b10f6ba9b", "message": "Remove aria attributes", "committedDate": "2020-07-02T19:22:13Z", "type": "commit"}, {"oid": "2fc51030c11391f547f8932fb91f8d61bf25f098", "url": "https://github.com/kiegroup/optaplanner/commit/2fc51030c11391f547f8932fb91f8d61bf25f098", "message": "Upgrade to Quarkus 1.6.0", "committedDate": "2020-07-03T15:50:06Z", "type": "commit"}, {"oid": "2ab4efd8d5fdb115645eda9efff1199228b9ad6c", "url": "https://github.com/kiegroup/optaplanner/commit/2ab4efd8d5fdb115645eda9efff1199228b9ad6c", "message": "Format and align setup cost, use 10K magnitude", "committedDate": "2020-07-03T17:00:41Z", "type": "commit"}, {"oid": "d44f24f0ed77d90b05873a6ed2e62958fd3c4592", "url": "https://github.com/kiegroup/optaplanner/commit/d44f24f0ed77d90b05873a6ed2e62958fd3c4592", "message": "Propagate solver errors", "committedDate": "2020-07-03T17:18:22Z", "type": "commit"}, {"oid": "4bb4ca9e85735b3fe2d38c5bf60c9a2fc2554163", "url": "https://github.com/kiegroup/optaplanner/commit/4bb4ca9e85735b3fe2d38c5bf60c9a2fc2554163", "message": "More colors", "committedDate": "2020-07-03T17:33:48Z", "type": "commit"}, {"oid": "b42d1a7cbf7936da47bf0de5ca05784275c5b0fa", "url": "https://github.com/kiegroup/optaplanner/commit/b42d1a7cbf7936da47bf0de5ca05784275c5b0fa", "message": "Move constraints to domain package", "committedDate": "2020-07-03T17:39:39Z", "type": "commit"}, {"oid": "8a4cc8b9182eb84ee1ea258848b132705f623d48", "url": "https://github.com/kiegroup/optaplanner/commit/8a4cc8b9182eb84ee1ea258848b132705f623d48", "message": "Favicon", "committedDate": "2020-07-04T08:41:07Z", "type": "commit"}, {"oid": "e85c5ce773ebbe7aec857c7ced77ecd8707252c8", "url": "https://github.com/kiegroup/optaplanner/commit/e85c5ce773ebbe7aec857c7ced77ecd8707252c8", "message": "Adjust distance weight", "committedDate": "2020-07-04T09:32:10Z", "type": "commit"}, {"oid": "4c66c07c8c84c951bdbb6da15d8c279f3fd4cb4f", "url": "https://github.com/kiegroup/optaplanner/commit/4c66c07c8c84c951bdbb6da15d8c279f3fd4cb4f", "message": "Show facility color in the list", "committedDate": "2020-07-04T11:22:16Z", "type": "commit"}, {"oid": "875b6b9d9411827d35290ed0ce8a779218f28743", "url": "https://github.com/kiegroup/optaplanner/commit/875b6b9d9411827d35290ed0ce8a779218f28743", "message": "Add shadow to error popup, make it rounded", "committedDate": "2020-07-04T11:25:51Z", "type": "commit"}, {"oid": "c87149966b5257a1bf66f8b85bc0e38f3e5b1400", "url": "https://github.com/kiegroup/optaplanner/commit/c87149966b5257a1bf66f8b85bc0e38f3e5b1400", "message": "Add color tooltip", "committedDate": "2020-07-04T11:42:03Z", "type": "commit"}, {"oid": "aec2d13eb49cf1ae92c8fc0dd325a2b668d42792", "url": "https://github.com/kiegroup/optaplanner/commit/aec2d13eb49cf1ae92c8fc0dd325a2b668d42792", "message": "Nicer table", "committedDate": "2020-07-05T15:44:13Z", "type": "commit"}, {"oid": "ae98a66c397399c8c19a28cc0b380837a7d97528", "url": "https://github.com/kiegroup/optaplanner/commit/ae98a66c397399c8c19a28cc0b380837a7d97528", "message": "Format total cost", "committedDate": "2020-07-05T15:49:20Z", "type": "commit"}, {"oid": "671c793e7d251e81b5153abf22003929dba2202c", "url": "https://github.com/kiegroup/optaplanner/commit/671c793e7d251e81b5153abf22003929dba2202c", "message": "Optimize cost formatting", "committedDate": "2020-07-05T18:56:11Z", "type": "commit"}, {"oid": "f326a47377f9a1937fbc34a6af4c964846b75c0b", "url": "https://github.com/kiegroup/optaplanner/commit/f326a47377f9a1937fbc34a6af4c964846b75c0b", "message": "Fix stack trace format in Firefox", "committedDate": "2020-07-05T20:50:44Z", "type": "commit"}, {"oid": "8453373b57d452d7c8e653105fc0c1f7aae0ca92", "url": "https://github.com/kiegroup/optaplanner/commit/8453373b57d452d7c8e653105fc0c1f7aae0ca92", "message": "Use grey icon for unused facilities", "committedDate": "2020-07-05T21:02:48Z", "type": "commit"}, {"oid": "0f4076c888ba89b1f74fcd76fad3d432a07cdbe3", "url": "https://github.com/kiegroup/optaplanner/commit/0f4076c888ba89b1f74fcd76fad3d432a07cdbe3", "message": "Update facility markers and popups instead of overwriting them", "committedDate": "2020-07-05T22:18:51Z", "type": "commit"}, {"oid": "2c99bf2b358031ae2f4dbbe47dde9585c776ec30", "url": "https://github.com/kiegroup/optaplanner/commit/2c99bf2b358031ae2f4dbbe47dde9585c776ec30", "message": "Log client errors to the console", "committedDate": "2020-07-05T22:19:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzODU1OA==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r452038558", "bodyText": "Missing copyright?", "author": "rsynek", "createdAt": "2020-07-09T08:06:33Z", "path": "optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package org.acme.facilitylocation.bootstrap;", "originalCommit": "2c99bf2b358031ae2f4dbbe47dde9585c776ec30", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4NTU4OQ==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r453485589", "bodyText": "quickstarts shouldn't have copyrights. It's pain for users to want to copy-paste the quickstart and get going.\nquarkus and spring boot quickstarts don't have those either: but they do have a license file in the root (like we do), to wave liability etc.", "author": "ge0ffrey", "createdAt": "2020-07-13T08:38:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzODU1OA=="}], "type": "inlineReview", "revised_code": {"commit": "f713e87443441e95202a3bebbb54754879a9b678", "chunk": "diff --git a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/DemoDataGenerator.java\nsimilarity index 90%\nrename from optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java\nrename to optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/DemoDataGenerator.java\nindex 39e094f88..3353fbda6 100644\n--- a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java\n+++ b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/DemoDataGenerator.java\n\n@@ -10,11 +10,11 @@ import org.acme.facilitylocation.persistence.FacilityLocationProblemRepository;\n import io.quarkus.runtime.StartupEvent;\n \n @ApplicationScoped\n-public class RepositoryPopulator {\n+public class DemoDataGenerator {\n \n     private final FacilityLocationProblemRepository repository;\n \n-    public RepositoryPopulator(FacilityLocationProblemRepository repository) {\n+    public DemoDataGenerator(FacilityLocationProblemRepository repository) {\n         this.repository = repository;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA0NDkzMQ==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r452044931", "bodyText": "Should be rather penalizeConfigurableLong?", "author": "rsynek", "createdAt": "2020-07-09T08:17:47Z", "path": "optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/FacilityLocationConstraintProvider.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.acme.facilitylocation.domain;\n+\n+import static org.optaplanner.core.api.score.stream.ConstraintCollectors.sumLong;\n+\n+import org.optaplanner.core.api.score.buildin.hardsoftlong.HardSoftLongScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+\n+public class FacilityLocationConstraintProvider implements ConstraintProvider {\n+\n+    @Override\n+    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n+        return new Constraint[] {\n+                facilityCapacity(constraintFactory),\n+                setupCost(constraintFactory),\n+                distanceFromFacility(constraintFactory)\n+        };\n+    }\n+\n+    Constraint facilityCapacity(ConstraintFactory constraintFactory) {\n+        return constraintFactory.from(Consumer.class)\n+                .groupBy(Consumer::getFacility, sumLong(Consumer::getDemand))\n+                .filter((facility, demand) -> demand > facility.getCapacity())\n+                .penalizeLong(", "originalCommit": "2c99bf2b358031ae2f4dbbe47dde9585c776ec30", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "95f9d69d625752037e96fc58db18911ce3dd9616", "chunk": "diff --git a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/FacilityLocationConstraintProvider.java b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/FacilityLocationConstraintProvider.java\nindex 2c9c8e631..2272c2f3f 100644\n--- a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/FacilityLocationConstraintProvider.java\n+++ b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/FacilityLocationConstraintProvider.java\n\n@@ -18,7 +18,6 @@ package org.acme.facilitylocation.domain;\n \n import static org.optaplanner.core.api.score.stream.ConstraintCollectors.sumLong;\n \n-import org.optaplanner.core.api.score.buildin.hardsoftlong.HardSoftLongScore;\n import org.optaplanner.core.api.score.stream.Constraint;\n import org.optaplanner.core.api.score.stream.ConstraintFactory;\n import org.optaplanner.core.api.score.stream.ConstraintProvider;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4NjYyOA==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r453486628", "bodyText": "Seems to do the same thing as DemoDataGenerator in the timetabling example.\nWe should try to use the same naming then", "author": "ge0ffrey", "createdAt": "2020-07-13T08:39:55Z", "path": "optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package org.acme.facilitylocation.bootstrap;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.event.Observes;\n+\n+import org.acme.facilitylocation.domain.FacilityLocationProblem;\n+import org.acme.facilitylocation.domain.Location;\n+import org.acme.facilitylocation.persistence.FacilityLocationProblemRepository;\n+\n+import io.quarkus.runtime.StartupEvent;\n+\n+@ApplicationScoped\n+public class RepositoryPopulator {", "originalCommit": "2c99bf2b358031ae2f4dbbe47dde9585c776ec30", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4NzM5MA==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r453487390", "bodyText": "the fact that internally it does it in a very different way (not filling a database, but a in memory store), is irrelevant for the name consistency I think: we want users to easily switch between examples.", "author": "ge0ffrey", "createdAt": "2020-07-13T08:40:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4NjYyOA=="}], "type": "inlineReview", "revised_code": {"commit": "f713e87443441e95202a3bebbb54754879a9b678", "chunk": "diff --git a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/DemoDataGenerator.java\nsimilarity index 90%\nrename from optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java\nrename to optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/DemoDataGenerator.java\nindex 39e094f88..3353fbda6 100644\n--- a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/RepositoryPopulator.java\n+++ b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/bootstrap/DemoDataGenerator.java\n\n@@ -10,11 +10,11 @@ import org.acme.facilitylocation.persistence.FacilityLocationProblemRepository;\n import io.quarkus.runtime.StartupEvent;\n \n @ApplicationScoped\n-public class RepositoryPopulator {\n+public class DemoDataGenerator {\n \n     private final FacilityLocationProblemRepository repository;\n \n-    public RepositoryPopulator(FacilityLocationProblemRepository repository) {\n+    public DemoDataGenerator(FacilityLocationProblemRepository repository) {\n         this.repository = repository;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4Nzc1Mg==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r453487752", "bodyText": "Remove license header in quickstarts", "author": "ge0ffrey", "createdAt": "2020-07-13T08:41:27Z", "path": "optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/Consumer.java", "diffHunk": "@@ -0,0 +1,112 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */", "originalCommit": "2c99bf2b358031ae2f4dbbe47dde9585c776ec30", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4ODA5MQ==", "url": "https://github.com/kiegroup/optaplanner/pull/821#discussion_r453488091", "bodyText": "(yes, once these are moved to their own repo, this will be easier to configure in our IDE)", "author": "ge0ffrey", "createdAt": "2020-07-13T08:41:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ4Nzc1Mg=="}], "type": "inlineReview", "revised_code": {"commit": "de296cabdd88cf5e3d39350a28fb4bdf27add1da", "chunk": "diff --git a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/Consumer.java b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/Consumer.java\nindex 4614ee531..3ebdf19e9 100644\n--- a/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/Consumer.java\n+++ b/optaplanner-quickstarts/quarkus-facility-location/src/main/java/org/acme/facilitylocation/domain/Consumer.java\n\n@@ -1,19 +1,3 @@\n-/*\n- * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *     http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n package org.acme.facilitylocation.domain;\n \n import static java.lang.Math.ceil;\n"}}, {"oid": "bfb6a54eb82c55bdca1912e561efbb2258030beb", "url": "https://github.com/kiegroup/optaplanner/commit/bfb6a54eb82c55bdca1912e561efbb2258030beb", "message": "Update project to Quarkus 1.6.0 archetype", "committedDate": "2020-07-14T10:36:42Z", "type": "commit"}, {"oid": "95f9d69d625752037e96fc58db18911ce3dd9616", "url": "https://github.com/kiegroup/optaplanner/commit/95f9d69d625752037e96fc58db18911ce3dd9616", "message": "Use penalizeConfigurableLong() for facility capacity", "committedDate": "2020-07-14T10:40:39Z", "type": "commit"}, {"oid": "de296cabdd88cf5e3d39350a28fb4bdf27add1da", "url": "https://github.com/kiegroup/optaplanner/commit/de296cabdd88cf5e3d39350a28fb4bdf27add1da", "message": "Remove license headers", "committedDate": "2020-07-14T10:43:00Z", "type": "commit"}, {"oid": "f713e87443441e95202a3bebbb54754879a9b678", "url": "https://github.com/kiegroup/optaplanner/commit/f713e87443441e95202a3bebbb54754879a9b678", "message": "Rename RepositoryPopulator to DemoDataGenerator", "committedDate": "2020-07-14T10:46:40Z", "type": "commit"}]}