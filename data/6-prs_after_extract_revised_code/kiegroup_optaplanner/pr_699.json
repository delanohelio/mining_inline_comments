{"pr_number": 699, "pr_title": "PLANNER-1863: toMap() collector", "pr_createdAt": "2020-02-20T12:29:35Z", "pr_url": "https://github.com/kiegroup/optaplanner/pull/699", "timeline": [{"oid": "199c62ba94f6229110b9afec89005e2ee846a6f2", "url": "https://github.com/kiegroup/optaplanner/commit/199c62ba94f6229110b9afec89005e2ee846a6f2", "message": "Add the implementation", "committedDate": "2020-02-20T12:03:07Z", "type": "commit"}, {"oid": "84a10ddd9139d92429a5505c9bd6d49db2439913", "url": "https://github.com/kiegroup/optaplanner/commit/84a10ddd9139d92429a5505c9bd6d49db2439913", "message": "Add toSortedSet", "committedDate": "2020-02-20T12:17:25Z", "type": "commit"}, {"oid": "4f95ebf7dbcb900394a8e48185d2a2f09e9c478c", "url": "https://github.com/kiegroup/optaplanner/commit/4f95ebf7dbcb900394a8e48185d2a2f09e9c478c", "message": "Add tests for sorted sets", "committedDate": "2020-02-20T12:23:05Z", "type": "commit"}, {"oid": "c8f5544117c31786d7d53d04318d31341dffc681", "url": "https://github.com/kiegroup/optaplanner/commit/c8f5544117c31786d7d53d04318d31341dffc681", "message": "Significantly improve performance", "committedDate": "2020-02-20T13:13:10Z", "type": "commit"}, {"oid": "6fcaad2dce524ab14a871337d16f70b04f261b33", "url": "https://github.com/kiegroup/optaplanner/commit/6fcaad2dce524ab14a871337d16f70b04f261b33", "message": "Fix Revapi", "committedDate": "2020-02-20T13:42:42Z", "type": "commit"}, {"oid": "a5f0c70a8f36e0583969ee5506f5405d66127e2f", "url": "https://github.com/kiegroup/optaplanner/commit/a5f0c70a8f36e0583969ee5506f5405d66127e2f", "message": "Further improve performance", "committedDate": "2020-02-20T14:02:50Z", "type": "commit"}, {"oid": "0715dca0fff50fd404f281d178c781e7a2d8b38b", "url": "https://github.com/kiegroup/optaplanner/commit/0715dca0fff50fd404f281d178c781e7a2d8b38b", "message": "Formatting", "committedDate": "2020-02-20T14:12:12Z", "type": "commit"}, {"oid": "add753a897992e4c9503a790f19cf70c8fdf6f01", "url": "https://github.com/kiegroup/optaplanner/commit/add753a897992e4c9503a790f19cf70c8fdf6f01", "message": "Add tests for value-merged toMap", "committedDate": "2020-02-20T15:30:31Z", "type": "commit"}, {"oid": "70f9cc80231169ba8c2be575c14478c53396135b", "url": "https://github.com/kiegroup/optaplanner/commit/70f9cc80231169ba8c2be575c14478c53396135b", "message": "Add tests for value-merged toSortedMap", "committedDate": "2020-02-20T15:42:46Z", "type": "commit"}, {"oid": "bd125d45a9fc0aab5db01cf358f1a8417ceb9952", "url": "https://github.com/kiegroup/optaplanner/commit/bd125d45a9fc0aab5db01cf358f1a8417ceb9952", "message": "Finish the test coverage", "committedDate": "2020-02-20T16:05:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE2NDAzOA==", "url": "https://github.com/kiegroup/optaplanner/pull/699#discussion_r382164038", "bodyText": "soft. Code style. Right now it's after the count comment header and before the method. Let's put this constructor after all static methods", "author": "ge0ffrey", "createdAt": "2020-02-20T17:59:12Z", "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -68,6 +73,9 @@\n     // count\n     // ************************************************************************\n \n+    private ConstraintCollectors() {", "originalCommit": "bd125d45a9fc0aab5db01cf358f1a8417ceb9952", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8944f2eb20c9ba70d710369d3dcf7109ecd44116", "chunk": "diff --git a/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java b/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\nindex 855f82e96..8c04b4623 100644\n--- a/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\n+++ b/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\n\n@@ -73,9 +73,6 @@ public final class ConstraintCollectors {\n     // count\n     // ************************************************************************\n \n-    private ConstraintCollectors() {\n-    }\n-\n     public static <A> UniConstraintCollector<A, ?, Integer> count() {\n         return new DefaultUniConstraintCollector<>(\n                 () -> new int[1],\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE2NDM0NA==", "url": "https://github.com/kiegroup/optaplanner/pull/699#discussion_r382164344", "bodyText": "countDistinct header above countLongQuad? That latter isn't distinct?", "author": "ge0ffrey", "createdAt": "2020-02-20T17:59:49Z", "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -138,6 +146,10 @@\n                 resultContainer -> resultContainer[0]);\n     }\n \n+    // ************************************************************************\n+    // countDistinct\n+    // ************************************************************************\n+\n     public static <A, B, C, D> QuadConstraintCollector<A, B, C, D, ?, Long> countLongQuad() {", "originalCommit": "bd125d45a9fc0aab5db01cf358f1a8417ceb9952", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8944f2eb20c9ba70d710369d3dcf7109ecd44116", "chunk": "diff --git a/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java b/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\nindex 855f82e96..8c04b4623 100644\n--- a/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\n+++ b/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\n\n@@ -146,10 +143,6 @@ public final class ConstraintCollectors {\n                 resultContainer -> resultContainer[0]);\n     }\n \n-    // ************************************************************************\n-    // countDistinct\n-    // ************************************************************************\n-\n     public static <A, B, C, D> QuadConstraintCollector<A, B, C, D, ?, Long> countLongQuad() {\n         return new DefaultQuadConstraintCollector<>(\n                 () -> new long[1],\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE2NTgzNA==", "url": "https://github.com/kiegroup/optaplanner/pull/699#discussion_r382165834", "bodyText": "sum header below sum method?", "author": "ge0ffrey", "createdAt": "2020-02-20T18:02:47Z", "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -304,6 +307,10 @@ private static Runnable innerCountDistinctLong(CountDistinctLongResultContainer\n                 resultContainer -> resultContainer[0]);\n     }\n \n+    // ************************************************************************\n+    // sum\n+    // ************************************************************************", "originalCommit": "bd125d45a9fc0aab5db01cf358f1a8417ceb9952", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8944f2eb20c9ba70d710369d3dcf7109ecd44116", "chunk": "diff --git a/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java b/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\nindex 855f82e96..8c04b4623 100644\n--- a/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\n+++ b/optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java\n\n@@ -307,10 +308,6 @@ public final class ConstraintCollectors {\n                 resultContainer -> resultContainer[0]);\n     }\n \n-    // ************************************************************************\n-    // sum\n-    // ************************************************************************\n-\n     public static <A> UniConstraintCollector<A, ?, Long> sumLong(ToLongFunction<? super A> groupValueMapping) {\n         return new DefaultUniConstraintCollector<>(\n                 () -> new long[1],\n"}}, {"oid": "8944f2eb20c9ba70d710369d3dcf7109ecd44116", "url": "https://github.com/kiegroup/optaplanner/commit/8944f2eb20c9ba70d710369d3dcf7109ecd44116", "message": "Reorder comments", "committedDate": "2020-02-21T17:29:30Z", "type": "commit"}]}