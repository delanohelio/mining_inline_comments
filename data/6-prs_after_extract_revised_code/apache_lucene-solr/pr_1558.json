{"pr_number": 1558, "pr_title": "LUCENE-9398: BKD tree is now read always off-heap", "pr_createdAt": "2020-06-09T11:34:30Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1558", "timeline": [{"oid": "663dce569924dd55472009c0576b7542d147307d", "url": "https://github.com/apache/lucene-solr/commit/663dce569924dd55472009c0576b7542d147307d", "message": "BKD tree is now read always off-heap", "committedDate": "2020-06-09T10:59:52Z", "type": "commit"}, {"oid": "cf05f1610a7a7e2b59076d765d880a65b50910ce", "url": "https://github.com/apache/lucene-solr/commit/cf05f1610a7a7e2b59076d765d880a65b50910ce", "message": "typo", "committedDate": "2020-06-09T11:36:03Z", "type": "commit"}, {"oid": "2c3f24b5a4bccacaf58c7fe814e25ac2b6f56c85", "url": "https://github.com/apache/lucene-solr/commit/2c3f24b5a4bccacaf58c7fe814e25ac2b6f56c85", "message": "docs", "committedDate": "2020-06-09T11:53:28Z", "type": "commit"}, {"oid": "cc8ce0de90601548b508038d3e06d1b06059fb71", "url": "https://github.com/apache/lucene-solr/commit/cc8ce0de90601548b508038d3e06d1b06059fb71", "message": "unused import", "committedDate": "2020-06-09T11:55:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM1NDM0OQ==", "url": "https://github.com/apache/lucene-solr/pull/1558#discussion_r437354349", "bodyText": "Let's remove Accountable from BKDReader instead?", "author": "jpountz", "createdAt": "2020-06-09T12:02:49Z", "path": "lucene/core/src/java/org/apache/lucene/util/bkd/BKDReader.java", "diffHunk": "@@ -871,7 +746,7 @@ private long estimatePointCount(IntersectState state, byte[] cellMinPacked, byte\n \n   @Override\n   public long ramBytesUsed() {\n-    return packedIndex.ramBytesUsed();\n+    return 0;\n   }", "originalCommit": "cc8ce0de90601548b508038d3e06d1b06059fb71", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0199a05c1637a9380493213de74f7f608aac6100", "chunk": "diff --git a/lucene/core/src/java/org/apache/lucene/util/bkd/BKDReader.java b/lucene/core/src/java/org/apache/lucene/util/bkd/BKDReader.java\nindex d0d843661d6..400e5c3e184 100644\n--- a/lucene/core/src/java/org/apache/lucene/util/bkd/BKDReader.java\n+++ b/lucene/core/src/java/org/apache/lucene/util/bkd/BKDReader.java\n\n@@ -744,11 +743,6 @@ public final class BKDReader extends PointValues implements Accountable {\n     }\n   }\n \n-  @Override\n-  public long ramBytesUsed() {\n-    return 0;\n-  }\n-\n   @Override\n   public byte[] getMinPackedValue() {\n     return minPackedValue.clone();\n"}}, {"oid": "0199a05c1637a9380493213de74f7f608aac6100", "url": "https://github.com/apache/lucene-solr/commit/0199a05c1637a9380493213de74f7f608aac6100", "message": "remove Accountable from BKDReader", "committedDate": "2020-06-09T12:55:47Z", "type": "commit"}, {"oid": "c209009f6326014b3c34dccad79c99f62f34e65c", "url": "https://github.com/apache/lucene-solr/commit/c209009f6326014b3c34dccad79c99f62f34e65c", "message": "Revert \"remove Accountable from BKDReader\"\n\nThis reverts commit 0199a05c1637a9380493213de74f7f608aac6100.", "committedDate": "2020-06-09T14:48:53Z", "type": "commit"}, {"oid": "73e4a9c76d9d5d37c205889e134053c47e03eb54", "url": "https://github.com/apache/lucene-solr/commit/73e4a9c76d9d5d37c205889e134053c47e03eb54", "message": "remove accountable for BKD reader", "committedDate": "2020-06-09T14:55:11Z", "type": "commit"}, {"oid": "d52366a8f63663331e8ef72f66c46238c96063f7", "url": "https://github.com/apache/lucene-solr/commit/d52366a8f63663331e8ef72f66c46238c96063f7", "message": "remove unused imports", "committedDate": "2020-06-09T14:55:52Z", "type": "commit"}, {"oid": "4ec05e4aa49307bb14e6404650abb2d9607ba952", "url": "https://github.com/apache/lucene-solr/commit/4ec05e4aa49307bb14e6404650abb2d9607ba952", "message": "Merge branch 'master' into bkdalwaysoffheap", "committedDate": "2020-06-10T05:51:29Z", "type": "commit"}, {"oid": "6a92abdbe1cba3f6ef2e21ab4eb15db3f0c0b068", "url": "https://github.com/apache/lucene-solr/commit/6a92abdbe1cba3f6ef2e21ab4eb15db3f0c0b068", "message": "Add entry in CHANGES.txt", "committedDate": "2020-06-10T05:54:30Z", "type": "commit"}, {"oid": "75867d72182138055a1afd28916cfcd8a0ea26c0", "url": "https://github.com/apache/lucene-solr/commit/75867d72182138055a1afd28916cfcd8a0ea26c0", "message": "typo", "committedDate": "2020-06-10T05:56:48Z", "type": "commit"}]}