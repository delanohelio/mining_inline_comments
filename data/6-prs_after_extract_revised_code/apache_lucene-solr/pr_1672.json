{"pr_number": 1672, "pr_title": "SOLR-14651: Metrics History could disable better", "pr_createdAt": "2020-07-15T16:12:07Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1672", "timeline": [{"oid": "0d6bb57b47f4445c843e87948d9e5f5f731219d7", "url": "https://github.com/apache/lucene-solr/commit/0d6bb57b47f4445c843e87948d9e5f5f731219d7", "message": "SOLR-14651: Metrics History could disable better\n* SolrRrdBackendFactory should not be created if history is disabled\n* Disable MetricsHistoryHandler by default in tests\n* Await shutdown of all executors", "committedDate": "2020-07-15T16:02:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MjIwMA==", "url": "https://github.com/apache/lucene-solr/pull/1672#discussion_r461682200", "bodyText": "missing space after if", "author": "sigram", "createdAt": "2020-07-28T15:42:21Z", "path": "solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java", "diffHunk": "@@ -77,6 +77,12 @@ public static void shutdownAndAwaitTermination(ExecutorService pool) {\n     awaitTermination(pool);\n   }\n \n+  public static void shutdownNowAndAwaitTermination(ExecutorService pool) {\n+    if(pool == null) return;", "originalCommit": "0d6bb57b47f4445c843e87948d9e5f5f731219d7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "19aaf2e5e7e7e750d9ad9382c8ec3d0bbcd85507", "chunk": "diff --git a/solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java b/solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java\nindex 5e54e35488f..6664dbf02b3 100644\n--- a/solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java\n+++ b/solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java\n\n@@ -72,13 +72,13 @@ public class ExecutorUtil {\n   }\n \n   public static void shutdownAndAwaitTermination(ExecutorService pool) {\n-    if(pool == null) return;\n+    if (pool == null) return;\n     pool.shutdown(); // Disable new tasks from being submitted\n     awaitTermination(pool);\n   }\n \n   public static void shutdownNowAndAwaitTermination(ExecutorService pool) {\n-    if(pool == null) return;\n+    if (pool == null) return;\n     pool.shutdownNow(); // Disable new tasks from being submitted; interrupt existing tasks\n     awaitTermination(pool);\n   }\n"}}, {"oid": "19aaf2e5e7e7e750d9ad9382c8ec3d0bbcd85507", "url": "https://github.com/apache/lucene-solr/commit/19aaf2e5e7e7e750d9ad9382c8ec3d0bbcd85507", "message": "CHANGES.txt", "committedDate": "2020-07-28T20:42:05Z", "type": "commit"}, {"oid": "8fbc8251f582953d2635b191b7c348800891e890", "url": "https://github.com/apache/lucene-solr/commit/8fbc8251f582953d2635b191b7c348800891e890", "message": "Merge branch 'master' into solr-14651\n\n# Conflicts:\n#\tsolr/CHANGES.txt", "committedDate": "2020-07-28T20:42:52Z", "type": "commit"}]}