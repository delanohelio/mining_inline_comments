{"pr_number": 1403, "pr_title": "SOLR-9679: Exception when removing zk node /security.json", "pr_createdAt": "2020-04-04T00:10:01Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1403", "timeline": [{"oid": "c9ceff00ea01881ffcf353616029d06b5078f67a", "url": "https://github.com/apache/lucene-solr/commit/c9ceff00ea01881ffcf353616029d06b5078f67a", "message": "SOLR-9679: Exception when removing zk node /security.json", "committedDate": "2020-04-04T00:08:41Z", "type": "commit"}, {"oid": "9c4cbf8e53b2e71ef40ca3030638fe5f17843718", "url": "https://github.com/apache/lucene-solr/commit/9c4cbf8e53b2e71ef40ca3030638fe5f17843718", "message": "Much smaller footprint", "committedDate": "2020-04-04T00:35:14Z", "type": "commit"}, {"oid": "4c5d349cd2671f1dd5533ffaa42b76c0c583fedf", "url": "https://github.com/apache/lucene-solr/commit/4c5d349cd2671f1dd5533ffaa42b76c0c583fedf", "message": "Precommit", "committedDate": "2020-04-04T00:43:47Z", "type": "commit"}, {"oid": "5f58207a6e978bd9bc5d61810d7b50ccf3a8fe16", "url": "https://github.com/apache/lucene-solr/commit/5f58207a6e978bd9bc5d61810d7b50ccf3a8fe16", "message": "Merge branch 'master' into solr9679-remove-securityjson", "committedDate": "2020-05-18T11:32:40Z", "type": "commit"}, {"oid": "dd9c441729b44fa425825efbb5bef442a80e7091", "url": "https://github.com/apache/lucene-solr/commit/dd9c441729b44fa425825efbb5bef442a80e7091", "message": "Adding a test", "committedDate": "2020-05-18T12:30:20Z", "type": "commit"}, {"oid": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08", "url": "https://github.com/apache/lucene-solr/commit/7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08", "message": "Add tearDown for tests", "committedDate": "2020-05-18T12:44:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU5ODY1Mw==", "url": "https://github.com/apache/lucene-solr/pull/1403#discussion_r426598653", "bodyText": "I removed this part of initialization - don't see why we should tear down and recreate cluster every time?", "author": "janhoy", "createdAt": "2020-05-18T12:46:32Z", "path": "solr/core/src/test/org/apache/solr/security/BasicAuthOnSingleNodeTest.java", "diffHunk": "@@ -45,13 +45,13 @@ public void setupCluster() throws Exception {\n         .setBasicAuthCredentials(\"solr\", \"solr\")\n         .process(cluster.getSolrClient());\n     cluster.waitForActiveCollection(COLLECTION, 4, 4);\n+  }\n \n-    JettySolrRunner jetty = cluster.getJettySolrRunner(0);", "originalCommit": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU5OTU0Nw==", "url": "https://github.com/apache/lucene-solr/pull/1403#discussion_r426599547", "bodyText": "With just one test in this class, resource cleanup happened automatically at the end I guess, but with two methods, we need to shutdown cluster in tearDown...", "author": "janhoy", "createdAt": "2020-05-18T12:47:53Z", "path": "solr/core/src/test/org/apache/solr/security/BasicAuthOnSingleNodeTest.java", "diffHunk": "@@ -45,13 +45,13 @@ public void setupCluster() throws Exception {\n         .setBasicAuthCredentials(\"solr\", \"solr\")\n         .process(cluster.getSolrClient());\n     cluster.waitForActiveCollection(COLLECTION, 4, 4);\n+  }\n \n-    JettySolrRunner jetty = cluster.getJettySolrRunner(0);\n-    jetty.stop();\n-    cluster.waitForJettyToStop(jetty);\n-    jetty.start();\n-    cluster.waitForAllNodes(30);\n-    cluster.waitForActiveCollection(COLLECTION, 4, 4);\n+  @Override\n+  @After\n+  public void tearDown() throws Exception {\n+    cluster.shutdown();", "originalCommit": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "c4736f1d50bd919b6bbeff393e0fc14c422ea8da", "url": "https://github.com/apache/lucene-solr/commit/c4736f1d50bd919b6bbeff393e0fc14c422ea8da", "message": "Merge branch 'master' into solr9679-remove-securityjson", "committedDate": "2020-06-02T13:25:03Z", "type": "commit"}, {"oid": "fe8cb944afe8e3244c03e3e2fd2d7de188eaad80", "url": "https://github.com/apache/lucene-solr/commit/fe8cb944afe8e3244c03e3e2fd2d7de188eaad80", "message": "Merge branch 'master' into solr9679-remove-securityjson\n\n# Conflicts:\n#\tsolr/CHANGES.txt", "committedDate": "2020-06-02T13:53:59Z", "type": "commit"}, {"oid": "9351c04d58509c61ca3e71a7c4d3a1a0b06207ca", "url": "https://github.com/apache/lucene-solr/commit/9351c04d58509c61ca3e71a7c4d3a1a0b06207ca", "message": "Merge remote-tracking branch 'origin/solr9679-remove-securityjson' into solr9679-remove-securityjson", "committedDate": "2020-06-02T13:54:57Z", "type": "commit"}, {"oid": "9219624061ee5b3ce973c72dfe2276a5894bc8ee", "url": "https://github.com/apache/lucene-solr/commit/9219624061ee5b3ce973c72dfe2276a5894bc8ee", "message": "Merge branch 'master' into solr9679-remove-securityjson", "committedDate": "2020-06-06T00:33:02Z", "type": "commit"}, {"oid": "27dabf64e717659ec0267c7033824a210a5dce03", "url": "https://github.com/apache/lucene-solr/commit/27dabf64e717659ec0267c7033824a210a5dce03", "message": "Merge branch 'master' into solr9679-remove-securityjson", "committedDate": "2020-06-07T22:41:14Z", "type": "commit"}, {"oid": "14534456443a04af23ea670ececf1c57f86782a3", "url": "https://github.com/apache/lucene-solr/commit/14534456443a04af23ea670ececf1c57f86782a3", "message": "Add empty line", "committedDate": "2020-06-07T22:42:44Z", "type": "commit"}, {"oid": "6080a93d9cdb4627e1d2dc3029c3f899b47e619d", "url": "https://github.com/apache/lucene-solr/commit/6080a93d9cdb4627e1d2dc3029c3f899b47e619d", "message": "Remove line", "committedDate": "2020-06-07T22:46:29Z", "type": "commit"}]}