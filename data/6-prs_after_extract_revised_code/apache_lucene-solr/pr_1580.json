{"pr_number": 1580, "pr_title": "LUCENE-9405: Ensure IndexWriter only closes merge readers once.", "pr_createdAt": "2020-06-15T19:33:04Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1580", "timeline": [{"oid": "601501947c724a2327c973e42fa67f4e36c7081a", "url": "https://github.com/apache/lucene-solr/commit/601501947c724a2327c973e42fa67f4e36c7081a", "message": "LUCENE-9405: Ensure IndexWriter only closes merge readers once.\n\nIndexWriter incorrectly calls closeMergeReaders twice when the\nmerged segment is 100% deleted ie. would produce a fully deleted\nsegment.", "committedDate": "2020-06-15T19:31:13Z", "type": "commit"}, {"oid": "b6c2d11cca7bfbe408577d8de4c0a060d2e2878a", "url": "https://github.com/apache/lucene-solr/commit/b6c2d11cca7bfbe408577d8de4c0a060d2e2878a", "message": "add Michael Froh to changes since he found this issue originally", "committedDate": "2020-06-15T19:42:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQwNTYxMw==", "url": "https://github.com/apache/lucene-solr/pull/1580#discussion_r440405613", "bodyText": "Thanks for the test", "author": "msokolov", "createdAt": "2020-06-15T19:43:40Z", "path": "lucene/core/src/test/org/apache/lucene/index/TestIndexWriter.java", "diffHunk": "@@ -4167,4 +4167,38 @@ public void testSegmentCommitInfoId() throws IOException {\n       }\n     }\n   }\n+\n+  public void testMergeZeroDocsMergeIsClosedOnce() throws IOException {", "originalCommit": "601501947c724a2327c973e42fa67f4e36c7081a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}