{"pr_number": 1719, "pr_title": "SOLR-14702: Remove Master and Slave from Code Base and Docs (8.x)", "pr_createdAt": "2020-08-06T00:24:37Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1719", "timeline": [{"oid": "00ebb941c7296b83eddd22929cde3467cd7a0264", "url": "https://github.com/apache/lucene-solr/commit/00ebb941c7296b83eddd22929cde3467cd7a0264", "message": "SOLR-14702: Remove oppressive language (part1) (#1711)\n\nReplace references to \"master\" and \"slave\" with \"leader\" and \"follower\"", "committedDate": "2020-08-05T22:29:22Z", "type": "commit"}, {"oid": "9fd500e70f30b191a75ba32a7313061f8715b2ef", "url": "https://github.com/apache/lucene-solr/commit/9fd500e70f30b191a75ba32a7313061f8715b2ef", "message": "SOLR-14702: doFetch reads legacy parameters too", "committedDate": "2020-08-05T22:32:09Z", "type": "commit"}, {"oid": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f", "url": "https://github.com/apache/lucene-solr/commit/748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f", "message": "Add compatibility with 8.x versions", "committedDate": "2020-08-05T23:46:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA==", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466076118", "bodyText": "I left this intentionally using the new parameters because this configuration is only read locally", "author": "tflobbe", "createdAt": "2020-08-06T00:26:43Z", "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "diffHunk": "@@ -76,12 +76,12 @@ public void startReplication(boolean switchTransactionLog) throws InterruptedExc\n       }\n       log.info(\"Will start replication from leader with poll interval: {}\", pollIntervalStr );\n \n-      NamedList<Object> slaveConfig = new NamedList<>();\n-      slaveConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n-      slaveConfig.add(ReplicationHandler.SKIP_COMMIT_ON_MASTER_VERSION_ZERO, switchTransactionLog);\n-      slaveConfig.add(\"pollInterval\", pollIntervalStr);\n+      NamedList<Object> followerConfig = new NamedList<>();\n+      followerConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n+      followerConfig.add(ReplicationHandler.SKIP_COMMIT_ON_LEADER_VERSION_ZERO, switchTransactionLog);\n+      followerConfig.add(\"pollInterval\", pollIntervalStr);\n       NamedList<Object> replicationConfig = new NamedList<>();\n-      replicationConfig.add(\"slave\", slaveConfig);\n+      replicationConfig.add(\"follower\", followerConfig);", "originalCommit": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjExMjc4MQ==", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466112781", "bodyText": "\ud83e\udd28", "author": "MarcusSorealheis", "createdAt": "2020-08-06T02:43:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjExMjg5MA==", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466112890", "bodyText": "left intentionally \u2014\u00a0what are you saying?", "author": "MarcusSorealheis", "createdAt": "2020-08-06T02:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjExMzEwNg==", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466113106", "bodyText": "It should be left intentionally. It comes from the leader, right?", "author": "MarcusSorealheis", "createdAt": "2020-08-06T02:45:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NzQxMQ==", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466597411", "bodyText": "For 8.x branches, every time we set a parameter or configuration (for requests, etc) we use the legacy names. In this particular case, I'm using the new parameters even for setting, and the reason is that this is a configuration that is set and read locally only. The TLOG/PULL replicas create this to create their replication process.", "author": "tflobbe", "createdAt": "2020-08-06T18:12:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}], "type": "inlineReview", "revised_code": null}]}