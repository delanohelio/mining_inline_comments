{"pr_number": 542, "pr_title": "add trendchartTest to smokeTests", "pr_createdAt": "2020-06-25T11:24:17Z", "pr_url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/542", "timeline": [{"oid": "4d83fc5712180ce954d6e8593ef9bf9d113e5b9b", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/4d83fc5712180ce954d6e8593ef9bf9d113e5b9b", "message": "add trendchartTest to smokeTests", "committedDate": "2020-06-25T11:22:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTgzNjc4NQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/542#discussion_r445836785", "bodyText": "K\u00f6nnen Sie den Code nicht innerhalb von verifyCheckStyle(build); aufrufen? Dann wird das automatisch in Pipeline und Freestyle mitgetestet? Dadurch wird auch mehr klar, dass dieser Teil nur f\u00fcr CheckStyle gepr\u00fcft wird.", "author": "uhafner", "createdAt": "2020-06-25T21:03:28Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/SmokeTests.java", "diffHunk": "@@ -163,6 +164,66 @@ private void verifyDetailsTab(final Build build) {\n         assertThat(categoryPaginateButtons.size()).isEqualTo(1);\n     }\n \n+    private void verifyTrendCharts(final Build build) {\n+        AnalysisResult analysisResult = new AnalysisResult(build, \"checkstyle\");", "originalCommit": "4d83fc5712180ce954d6e8593ef9bf9d113e5b9b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e896c1aad8815689414cac56ab2cfcf894f62af1", "chunk": "diff --git a/ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/SmokeTests.java b/ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/SmokeTests.java\nindex 99bff166b..c43f5e8b0 100644\n--- a/ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/SmokeTests.java\n+++ b/ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/SmokeTests.java\n\n@@ -164,66 +161,6 @@ public class SmokeTests extends UiTest {\n         assertThat(categoryPaginateButtons.size()).isEqualTo(1);\n     }\n \n-    private void verifyTrendCharts(final Build build) {\n-        AnalysisResult analysisResult = new AnalysisResult(build, \"checkstyle\");\n-\n-        analysisResult.open();\n-        String severitiesTrendChart = analysisResult.getTrendChartById(\"severities-trend-chart\");\n-        String toolsTrendChart = analysisResult.getTrendChartById(\"tools-trend-chart\");\n-        String newVersusFixedTrendChart = analysisResult.getTrendChartById(\"new-versus-fixed-trend-chart\");\n-\n-        assertThatJson(severitiesTrendChart)\n-                .inPath(\"$.xAxis[*].data[*]\")\n-                .isArray()\n-                .hasSize(2)\n-                .contains(\"#1\")\n-                .contains(\"#2\");\n-\n-        assertThatJson(severitiesTrendChart)\n-                .node(\"series\")\n-                .isArray()\n-                .hasSize(1);\n-\n-        assertThatJson(severitiesTrendChart)\n-                .node(\"series[0].name\").isEqualTo(\"Error\");\n-\n-        assertThatJson(severitiesTrendChart)\n-                .node(\"series[0].data\").isArray().contains(1).contains(3);\n-\n-        assertThatJson(toolsTrendChart)\n-                .inPath(\"$.xAxis[*].data[*]\")\n-                .isArray()\n-                .hasSize(2);\n-\n-        assertThatJson(toolsTrendChart)\n-                .node(\"series[0].name\").isEqualTo(\"checkstyle\");\n-\n-        assertThatJson(toolsTrendChart)\n-                .node(\"series[0].data\")\n-                .isArray()\n-                .contains(1)\n-                .contains(3);\n-\n-        assertThatJson(newVersusFixedTrendChart)\n-                .inPath(\"$.xAxis[*].data[*]\")\n-                .isArray()\n-                .hasSize(2)\n-                .contains(\"#1\")\n-                .contains(\"#2\");\n-\n-        assertThatJson(newVersusFixedTrendChart)\n-                .and(\n-                        a -> a.node(\"series[0].name\").isEqualTo(\"New\"),\n-                        a -> a.node(\"series[0].data\").isArray()\n-                                .contains(0)\n-                                .contains(3),\n-                        a -> a.node(\"series[1].name\").isEqualTo(\"Fixed\"),\n-                        a -> a.node(\"series[1].data\").isArray()\n-                                .contains(0)\n-                                .contains(1)\n-                );\n-    }\n-\n     private StringBuilder createReportFilesStep(final WorkflowJob job, final int build) {\n         String[] fileNames = {\"checkstyle-result.xml\", \"pmd.xml\", \"findbugsXml.xml\", \"cpd.xml\", \"Main.java\"};\n         StringBuilder resourceCopySteps = new StringBuilder();\n"}}, {"oid": "e896c1aad8815689414cac56ab2cfcf894f62af1", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/e896c1aad8815689414cac56ab2cfcf894f62af1", "message": "move trendcharts ui test into verifycheckstyle method", "committedDate": "2020-06-26T10:21:29Z", "type": "commit"}, {"oid": "713613da22eade68ed81976eebacdc8bb1052574", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/713613da22eade68ed81976eebacdc8bb1052574", "message": "merge master", "committedDate": "2020-06-30T19:31:41Z", "type": "commit"}]}