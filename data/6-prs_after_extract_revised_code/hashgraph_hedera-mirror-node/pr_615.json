{"pr_number": 615, "pr_title": "Support REST API retrieval of topic message by topic id and sequence", "pr_createdAt": "2020-03-22T03:08:40Z", "pr_url": "https://github.com/hashgraph/hedera-mirror-node/pull/615", "timeline": [{"oid": "6d1cddb55ba69af4ff602b3f760a8955a5b62df0", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/6d1cddb55ba69af4ff602b3f760a8955a5b62df0", "message": "Initial changes for rest api to suppost topic message retrieval by topic and seqnum\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-22T03:00:07Z", "type": "commit"}, {"oid": "6dd65c9bff284e7bddc050f9565c78a766720c39", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/6dd65c9bff284e7bddc050f9565c78a766720c39", "message": "Merge w master to get PR 613 changes\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-23T17:21:02Z", "type": "commit"}, {"oid": "325fed88efc3cc3899ea160f965d133833ce5750", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/325fed88efc3cc3899ea160f965d133833ce5750", "message": "Cleaned up merge code and response format. Also added spec tests\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-23T22:22:02Z", "type": "commit"}, {"oid": "2604652ce0ecefde49a25fb24248ce146952cb73", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/2604652ce0ecefde49a25fb24248ce146952cb73", "message": "Added topic message tests and corrected transaction-id error message\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-23T22:49:43Z", "type": "commit"}, {"oid": "b04275014a11641795839c6abbfa4f0ee42bc3b5", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/b04275014a11641795839c6abbfa4f0ee42bc3b5", "message": "Remove next link logic\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-24T14:48:46Z", "type": "commit"}, {"oid": "fe49f71b81b33dba6043892161ed47c2ba462b6d", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/fe49f71b81b33dba6043892161ed47c2ba462b6d", "message": "Merge w rest integration coverage increase from master\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-24T19:26:01Z", "type": "commit"}, {"oid": "e06984ae52853ae0abc782bf1a3eb66f83c87110", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/e06984ae52853ae0abc782bf1a3eb66f83c87110", "message": "Standardized error format and moved some code to utils. Also added more tests\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-24T22:34:09Z", "type": "commit"}, {"oid": "c5a9777a61aa7e3de2abfac4bb313c5723d01fa0", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/c5a9777a61aa7e3de2abfac4bb313c5723d01fa0", "message": "Made index unique and centralized mroe test logic\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-24T22:54:28Z", "type": "commit"}, {"oid": "a8ee3deaef505fd1b7fb74c26a6f101ba5411423", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/a8ee3deaef505fd1b7fb74c26a6f101ba5411423", "message": "Removed duplicate message test as it's n/a with new index\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-03-24T23:52:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU2NTAzMg==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/615#discussion_r397565032", "bodyText": "Please don't remove this. It's not testing uniqueness of db data, but of disparate service layers potentially returning dupes and checking if service filters them out.", "author": "steven-sheehy", "createdAt": "2020-03-25T01:52:21Z", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/service/TopicMessageServiceTest.java", "diffHunk": "@@ -480,32 +480,6 @@ void bothMessagesWithRealmNum() {\n                 .verify(Duration.ofMillis(500));\n     }\n \n-    @Test\n-    void duplicateMessages() {", "originalCommit": "a8ee3deaef505fd1b7fb74c26a6f101ba5411423", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkyNDU4OQ==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/615#discussion_r397924589", "bodyText": "The test fails because you can't insert the duplicate messages with the new unique index of realm_num, topic_num and sequence_number.", "author": "Nana-EC", "createdAt": "2020-03-25T15:01:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU2NTAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkyNjAwMA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/615#discussion_r397926000", "bodyText": "The test would have to be modified or moved from this file to send back duplicates that don't reflect actual db duplicates in that case", "author": "Nana-EC", "createdAt": "2020-03-25T15:03:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU2NTAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk2MDUyNg==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/615#discussion_r397960526", "bodyText": "Ah, I see. We'll probably have to rewrite it as a mock test in the future. We can do that later.", "author": "steven-sheehy", "createdAt": "2020-03-25T15:46:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU2NTAzMg=="}], "type": "inlineReview", "revised_code": null}]}