{"pr_number": 4469, "pr_title": "Fix: Listing projects comprising of only the user's on listAll=true", "pr_createdAt": "2020-11-13T08:46:13Z", "pr_url": "https://github.com/apache/cloudstack/pull/4469", "timeline": [{"oid": "ba11bdfff7990ddfaf57d3f0ffca1d7a760757e2", "url": "https://github.com/apache/cloudstack/commit/ba11bdfff7990ddfaf57d3f0ffca1d7a760757e2", "message": "Regression fix", "committedDate": "2020-11-13T09:21:38Z", "type": "commit"}, {"oid": "ba11bdfff7990ddfaf57d3f0ffca1d7a760757e2", "url": "https://github.com/apache/cloudstack/commit/ba11bdfff7990ddfaf57d3f0ffca1d7a760757e2", "message": "Regression fix", "committedDate": "2020-11-13T09:21:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjg0ODUzMg==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r522848532", "bodyText": "why should they both be specified? user + either implies the other", "author": "DaanHoogland", "createdAt": "2020-11-13T10:03:44Z", "path": "api/src/main/java/org/apache/cloudstack/api/command/user/project/CreateProjectCmd.java", "diffHunk": "@@ -116,7 +116,7 @@ public long getEntityOwnerId() {\n             throw new InvalidParameterValueException(\"Account name and domain id must be specified together\");\n         }\n \n-        if (userId != null && (accountId == null && domainId == null)) {\n+        if (userId != null && (accountId == null || domainId == null)) {", "originalCommit": "ba11bdfff7990ddfaf57d3f0ffca1d7a760757e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjg2NjEyOA==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r522866128", "bodyText": "discussed off-line with @Pearl1594 . no functional need but bugs may arise when not implemented this way", "author": "DaanHoogland", "createdAt": "2020-11-13T10:36:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjg0ODUzMg=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4Nzk2NA==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r523987964", "bodyText": "@Pearl1594 update this msg to reflect the change in cond.", "author": "sureshanaparti", "createdAt": "2020-11-16T08:58:21Z", "path": "api/src/main/java/org/apache/cloudstack/api/command/user/project/CreateProjectCmd.java", "diffHunk": "@@ -116,7 +116,7 @@ public long getEntityOwnerId() {\n             throw new InvalidParameterValueException(\"Account name and domain id must be specified together\");\n         }\n \n-        if (userId != null && (accountId == null && domainId == null)) {\n+        if (userId != null && (accountId == null || domainId == null)) {\n             throw new InvalidParameterValueException(\"Account ID and Domain ID must be specified with userID\");", "originalCommit": "ba11bdfff7990ddfaf57d3f0ffca1d7a760757e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAxOTM2Mg==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r524019362", "bodyText": "It already did, as far as I can tell, neither accountId nor domainId may be null so both must be specified.", "author": "DaanHoogland", "createdAt": "2020-11-16T09:26:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4Nzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNTg0Mw==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r524025843", "bodyText": "am i missing anything here @DaanHoogland , the cond. is OR and the msg says both (account id and domain id).", "author": "sureshanaparti", "createdAt": "2020-11-16T09:32:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4Nzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA3NDg2Ng==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r524074866", "bodyText": "throw an exception when either is null, would mean both may not be null. The message was already the (not yet implemented) new condition.", "author": "DaanHoogland", "createdAt": "2020-11-16T10:15:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4Nzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEwMTM2Nw==", "url": "https://github.com/apache/cloudstack/pull/4469#discussion_r524101367", "bodyText": "hmmm , correct @DaanHoogland", "author": "sureshanaparti", "createdAt": "2020-11-16T10:40:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4Nzk2NA=="}], "type": "inlineReview", "revised_code": null}]}