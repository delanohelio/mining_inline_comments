{"pr_number": 4167, "pr_title": "Adding missing fields to API responses", "pr_createdAt": "2020-06-23T10:39:50Z", "pr_url": "https://github.com/apache/cloudstack/pull/4167", "timeline": [{"oid": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "url": "https://github.com/apache/cloudstack/commit/0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "message": "Adding missing fields to API responses", "committedDate": "2020-06-23T11:21:25Z", "type": "commit"}, {"oid": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "url": "https://github.com/apache/cloudstack/commit/0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "message": "Adding missing fields to API responses", "committedDate": "2020-06-23T11:21:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc1NTQzNg==", "url": "https://github.com/apache/cloudstack/pull/4167#discussion_r444755436", "bodyText": "Add defensive check for potential NPE fix", "author": "rhtyd", "createdAt": "2020-06-24T09:11:08Z", "path": "server/src/main/java/com/cloud/api/query/dao/UserVmJoinDaoImpl.java", "diffHunk": "@@ -201,6 +201,7 @@ public UserVmResponse newUserVmResponse(ResponseView view, String objectName, Us\n         userVmResponse.setPublicIp(userVm.getPublicIpAddress());\n         userVmResponse.setKeyPairName(userVm.getKeypairName());\n         userVmResponse.setOsTypeId(userVm.getGuestOsUuid());\n+        userVmResponse.setOsDisplayName(ApiDBUtils.findGuestOSById(userVm.getGuestOsId()).getDisplayName());", "originalCommit": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "chunk": "diff --git a/server/src/main/java/com/cloud/api/query/dao/UserVmJoinDaoImpl.java b/server/src/main/java/com/cloud/api/query/dao/UserVmJoinDaoImpl.java\nindex 562f4e4ad0..08269a6d9d 100644\n--- a/server/src/main/java/com/cloud/api/query/dao/UserVmJoinDaoImpl.java\n+++ b/server/src/main/java/com/cloud/api/query/dao/UserVmJoinDaoImpl.java\n\n@@ -201,7 +202,10 @@ public class UserVmJoinDaoImpl extends GenericDaoBaseWithTagInformation<UserVmJo\n         userVmResponse.setPublicIp(userVm.getPublicIpAddress());\n         userVmResponse.setKeyPairName(userVm.getKeypairName());\n         userVmResponse.setOsTypeId(userVm.getGuestOsUuid());\n-        userVmResponse.setOsDisplayName(ApiDBUtils.findGuestOSById(userVm.getGuestOsId()).getDisplayName());\n+        GuestOS guestOS = ApiDBUtils.findGuestOSById(userVm.getGuestOsId());\n+        if (guestOS != null) {\n+            userVmResponse.setOsDisplayName(guestOS.getDisplayName());\n+        }\n \n         if (details.contains(VMDetails.all) || details.contains(VMDetails.stats)) {\n             // stats calculation\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY4OTEwOQ==", "url": "https://github.com/apache/cloudstack/pull/4167#discussion_r444689109", "bodyText": "same as above", "author": "shwstppr", "createdAt": "2020-06-24T07:10:04Z", "path": "api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java", "diffHunk": "@@ -145,6 +149,10 @@\n     @Param(description = \"the template ID for the router\")\n     private String templateId;\n \n+    @SerializedName(ApiConstants.TEMPLATE_NAME)", "originalCommit": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "chunk": "diff --git a/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java b/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java\nindex 955571be5c..f4e9e5219c 100644\n--- a/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java\n+++ b/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java\n\n@@ -150,7 +150,7 @@ public class DomainRouterResponse extends BaseResponse implements ControlledView\n     private String templateId;\n \n     @SerializedName(ApiConstants.TEMPLATE_NAME)\n-    @Param(description = \"the template name for the router\")\n+    @Param(description = \"the template name for the router\", since = \"4.13.2\")\n     private String templateName;\n \n     @SerializedName(ApiConstants.CREATED)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY4OTIyNg==", "url": "https://github.com/apache/cloudstack/pull/4167#discussion_r444689226", "bodyText": "since key", "author": "shwstppr", "createdAt": "2020-06-24T07:10:24Z", "path": "api/src/main/java/org/apache/cloudstack/api/response/IPAddressResponse.java", "diffHunk": "@@ -136,8 +136,13 @@\n     private String purpose;\n \n     @SerializedName(ApiConstants.VPC_ID)\n-    @Param(description = \"VPC the ip belongs to\")\n+    @Param(description = \"VPC id the ip belongs to\")\n     private String vpcId;\n+\n+    @SerializedName(ApiConstants.VPC_NAME)", "originalCommit": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "chunk": "diff --git a/api/src/main/java/org/apache/cloudstack/api/response/IPAddressResponse.java b/api/src/main/java/org/apache/cloudstack/api/response/IPAddressResponse.java\nindex 25467bf732..786fddc4fa 100644\n--- a/api/src/main/java/org/apache/cloudstack/api/response/IPAddressResponse.java\n+++ b/api/src/main/java/org/apache/cloudstack/api/response/IPAddressResponse.java\n\n@@ -140,7 +140,7 @@ public class IPAddressResponse extends BaseResponse implements ControlledEntityR\n     private String vpcId;\n \n     @SerializedName(ApiConstants.VPC_NAME)\n-    @Param(description = \"VPC name the ip belongs to\")\n+    @Param(description = \"VPC name the ip belongs to\", since = \"4.13.2\")\n     private String vpcName;\n \n     @SerializedName(ApiConstants.TAGS)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY4OTUwMw==", "url": "https://github.com/apache/cloudstack/pull/4167#discussion_r444689503", "bodyText": "since key", "author": "shwstppr", "createdAt": "2020-06-24T07:11:00Z", "path": "api/src/main/java/org/apache/cloudstack/api/response/PrivateGatewayResponse.java", "diffHunk": "@@ -58,9 +58,13 @@\n     private String broadcastUri;\n \n     @SerializedName(ApiConstants.VPC_ID)\n-    @Param(description = \"VPC the private gateaway belongs to\")\n+    @Param(description = \"VPC id the private gateway belongs to\")\n     private String vpcId;\n \n+    @SerializedName(ApiConstants.VPC_NAME)", "originalCommit": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "chunk": "diff --git a/api/src/main/java/org/apache/cloudstack/api/response/PrivateGatewayResponse.java b/api/src/main/java/org/apache/cloudstack/api/response/PrivateGatewayResponse.java\nindex 1ea7fe6421..be2faa796d 100644\n--- a/api/src/main/java/org/apache/cloudstack/api/response/PrivateGatewayResponse.java\n+++ b/api/src/main/java/org/apache/cloudstack/api/response/PrivateGatewayResponse.java\n\n@@ -62,7 +62,7 @@ public class PrivateGatewayResponse extends BaseResponse implements ControlledEn\n     private String vpcId;\n \n     @SerializedName(ApiConstants.VPC_NAME)\n-    @Param(description = \"VPC name the private gateway belongs to\")\n+    @Param(description = \"VPC name the private gateway belongs to\", since = \"4.13.2\")\n     private String vpcName;\n \n     @SerializedName(ApiConstants.PHYSICAL_NETWORK_ID)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY5MDAxNw==", "url": "https://github.com/apache/cloudstack/pull/4167#discussion_r444690017", "bodyText": "@davidjumani can we have since key here", "author": "shwstppr", "createdAt": "2020-06-24T07:12:08Z", "path": "api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java", "diffHunk": "@@ -77,6 +77,10 @@\n     @Param(description = \"the Pod ID for the router\")\n     private String podId;\n \n+    @SerializedName(ApiConstants.POD_NAME)\n+    @Param(description = \"the Pod name for the router\")", "originalCommit": "0048d1e6023847b7d6728cfd9ad0b61dbb0e9c5a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "chunk": "diff --git a/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java b/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java\nindex 955571be5c..f4e9e5219c 100644\n--- a/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java\n+++ b/api/src/main/java/org/apache/cloudstack/api/response/DomainRouterResponse.java\n\n@@ -78,7 +78,7 @@ public class DomainRouterResponse extends BaseResponse implements ControlledView\n     private String podId;\n \n     @SerializedName(ApiConstants.POD_NAME)\n-    @Param(description = \"the Pod name for the router\")\n+    @Param(description = \"the Pod name for the router\", since = \"4.13.2\")\n     private String podName;\n \n     @SerializedName(ApiConstants.HOST_ID)\n"}}, {"oid": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "url": "https://github.com/apache/cloudstack/commit/4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "message": "Adding since for params", "committedDate": "2020-06-24T14:26:49Z", "type": "commit"}, {"oid": "4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "url": "https://github.com/apache/cloudstack/commit/4da9dfb6d9ed5f33c85da50fde8a5de0fd214434", "message": "Adding since for params", "committedDate": "2020-06-24T14:26:49Z", "type": "forcePushed"}]}