{"pr_number": 4266, "pr_title": "Adding os type id to the usage record response for virtual machines", "pr_createdAt": "2020-08-14T20:43:26Z", "pr_url": "https://github.com/apache/cloudstack/pull/4266", "timeline": [{"oid": "9e821702f537799ca8fbe036f1f33fd60e4998e3", "url": "https://github.com/apache/cloudstack/commit/9e821702f537799ca8fbe036f1f33fd60e4998e3", "message": "Adding os type id to the usage record response for virtual machines", "committedDate": "2020-08-14T20:34:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODAyOTkwMw==", "url": "https://github.com/apache/cloudstack/pull/4266#discussion_r588029903", "bodyText": "@ggoodrich-ipp we just caught that this sets the DB internal ID and not UUID, should we fix that in 4.15.1?", "author": "rhtyd", "createdAt": "2021-03-05T04:44:26Z", "path": "server/src/main/java/com/cloud/api/ApiResponseHelper.java", "diffHunk": "@@ -3386,6 +3386,7 @@ public UsageRecordResponse createUsageResponse(Usage usageRecord, Map<String, Se\n                 resourceType = ResourceTag.ResourceObjectType.UserVm;\n                 usageRecResponse.setUsageId(vm.getUuid());\n                 resourceId = vm.getId();\n+                usageRecResponse.setOsTypeId(vm.getGuestOSId());", "originalCommit": "9e821702f537799ca8fbe036f1f33fd60e4998e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODM1NDQ0NQ==", "url": "https://github.com/apache/cloudstack/pull/4266#discussion_r588354445", "bodyText": "I guess I must've realized this, as I'm storing this off as an int in a local billing database. Is it an easy fix to change this to get the UUID? It appears where I'm using it, I fetch this int value, and then use it to go get the UUID, so it seems the UUID is ultimately what I need. Maybe I used the int as that was already in the model? It has been far enough back that I don't recall the specifics.", "author": "ggoodrich-ipp", "createdAt": "2021-03-05T14:55:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODAyOTkwMw=="}], "type": "inlineReview", "revised_code": null}]}