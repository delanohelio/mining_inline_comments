{"pr_number": 3840, "pr_title": "Fix listing management server by parameters", "pr_createdAt": "2020-01-27T08:30:14Z", "pr_url": "https://github.com/apache/cloudstack/pull/3840", "timeline": [{"oid": "43ac58dea6cfb11ee991b2b1fd4a5bcfaf9d8036", "url": "https://github.com/apache/cloudstack/commit/43ac58dea6cfb11ee991b2b1fd4a5bcfaf9d8036", "message": "Fix listing management server by parameters", "committedDate": "2020-01-27T09:49:08Z", "type": "commit"}, {"oid": "43ac58dea6cfb11ee991b2b1fd4a5bcfaf9d8036", "url": "https://github.com/apache/cloudstack/commit/43ac58dea6cfb11ee991b2b1fd4a5bcfaf9d8036", "message": "Fix listing management server by parameters", "committedDate": "2020-01-27T09:49:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjc0MzI3OQ==", "url": "https://github.com/apache/cloudstack/pull/3840#discussion_r372743279", "bodyText": "Add space after for and ifs", "author": "rhtyd", "createdAt": "2020-01-30T03:22:39Z", "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -3832,20 +3832,43 @@ protected ResourceDetailResponse createResourceDetailsResponse(ResourceDetail re\n     @Override\n     public ListResponse<ManagementServerResponse> listManagementServers(ListMgmtsCmd cmd) {\n         ListResponse<ManagementServerResponse> response = new ListResponse<>();\n-        List<ManagementServerResponse> result = new ArrayList<>();\n-        for (ManagementServerHostVO mgmt : managementServerHostDao.listAll()) {\n-            ManagementServerResponse mgmtResponse = new ManagementServerResponse();\n-            mgmtResponse.setId(mgmt.getUuid());\n-            mgmtResponse.setName(mgmt.getName());\n-            mgmtResponse.setState(mgmt.getState());\n-            mgmtResponse.setVersion(mgmt.getVersion());\n-            mgmtResponse.setObjectName(\"managementserver\");\n-            result.add(mgmtResponse);\n-        }\n-        response.setResponses(result);\n+        Pair<List<ManagementServerHostVO>, Integer> result = listManagementServersInternal(cmd);\n+        List<ManagementServerResponse> hostResponses = new ArrayList<>();\n+\n+        for(ManagementServerHostVO host : result.first()) {", "originalCommit": "43ac58dea6cfb11ee991b2b1fd4a5bcfaf9d8036", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5759eb25e8cba7afdd2b5ff16aef17ef0e8e400b", "chunk": "diff --git a/server/src/main/java/com/cloud/api/query/QueryManagerImpl.java b/server/src/main/java/com/cloud/api/query/QueryManagerImpl.java\nindex dc8e8bfc0b..9028565979 100644\n--- a/server/src/main/java/com/cloud/api/query/QueryManagerImpl.java\n+++ b/server/src/main/java/com/cloud/api/query/QueryManagerImpl.java\n\n@@ -3835,10 +3835,10 @@ public class QueryManagerImpl extends MutualExclusiveIdsManagerBase implements Q\n         Pair<List<ManagementServerHostVO>, Integer> result = listManagementServersInternal(cmd);\n         List<ManagementServerResponse> hostResponses = new ArrayList<>();\n \n-        for(ManagementServerHostVO host : result.first()) {\n+        for (ManagementServerHostVO host : result.first()) {\n             ManagementServerResponse hostResponse = createManagementServerResponse(host);\n             hostResponses.add(hostResponse);\n-         }\n+        }\n \n         response.setResponses(hostResponses);\n         return response;\n"}}, {"oid": "5759eb25e8cba7afdd2b5ff16aef17ef0e8e400b", "url": "https://github.com/apache/cloudstack/commit/5759eb25e8cba7afdd2b5ff16aef17ef0e8e400b", "message": "Incorporating changes", "committedDate": "2020-01-30T04:48:54Z", "type": "commit"}]}