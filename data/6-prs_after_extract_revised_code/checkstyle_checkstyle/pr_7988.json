{"pr_number": 7988, "pr_title": "Issue #5624: Google Style Should Enforce Spaces after Commas", "pr_createdAt": "2020-03-29T15:31:34Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/7988", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1OTg2Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r403459863", "bodyText": "Please rename msgFollowed variable, the name is confusing.", "author": "pbludov", "createdAt": "2020-04-04T11:34:11Z", "path": "src/it/java/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/WhitespaceAfterTest.java", "diffHunk": "@@ -0,0 +1,62 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.google.checkstyle.test.chapter4formatting.rule462horizontalwhitespace;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.google.checkstyle.test.base.AbstractGoogleModuleTestSupport;\n+import com.puppycrawl.tools.checkstyle.api.Configuration;\n+import com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAfterCheck;\n+\n+public class WhitespaceAfterTest extends AbstractGoogleModuleTestSupport {\n+\n+    @Override\n+    protected String getPackageLocation() {\n+        return \"com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace\";\n+    }\n+\n+    @Test\n+    public void testWhitespaceAfterBasic() throws Exception {\n+        final Class<WhitespaceAfterCheck> clazz = WhitespaceAfterCheck.class;\n+        final String msgFollowed = \"ws.notFollowed\";", "originalCommit": "1312a60086fa5689a6a7c69d977367534d862f3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ2Nzk3Nw==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r403467977", "bodyText": "Done", "author": "shashwatj07", "createdAt": "2020-04-04T13:04:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1OTg2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "084b6a351eea12c901c762b923ba92d308710bbb", "chunk": "diff --git a/src/it/java/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/WhitespaceAfterTest.java b/src/it/java/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/WhitespaceAfterTest.java\nindex 1d915f37b..9709a9aa0 100644\n--- a/src/it/java/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/WhitespaceAfterTest.java\n+++ b/src/it/java/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/WhitespaceAfterTest.java\n\n@@ -35,22 +35,22 @@ public class WhitespaceAfterTest extends AbstractGoogleModuleTestSupport {\n     @Test\n     public void testWhitespaceAfterBasic() throws Exception {\n         final Class<WhitespaceAfterCheck> clazz = WhitespaceAfterCheck.class;\n-        final String msgFollowed = \"ws.notFollowed\";\n+        final String message = \"ws.notFollowed\";\n \n         final String[] expected = {\n-            \"4:29: \" + getCheckMessage(clazz, msgFollowed, \",\"),\n-            \"5:9: \" + getCheckMessage(clazz, msgFollowed, \"for\"),\n-            \"5:20: \" + getCheckMessage(clazz, msgFollowed, \",\"),\n-            \"5:24: \" + getCheckMessage(clazz, msgFollowed, \";\"),\n-            \"5:28: \" + getCheckMessage(clazz, msgFollowed, \";\"),\n-            \"5:32: \" + getCheckMessage(clazz, msgFollowed, \",\"),\n-            \"6:9: \" + getCheckMessage(clazz, msgFollowed, \"while\"),\n-            \"7:20: \" + getCheckMessage(clazz, msgFollowed, \",\"),\n-            \"9:9: \" + getCheckMessage(clazz, msgFollowed, \"do\"),\n-            \"11:10: \" + getCheckMessage(clazz, msgFollowed, \"while\"),\n-            \"13:35: \" + getCheckMessage(clazz, msgFollowed, \",\"),\n-            \"14:9: \" + getCheckMessage(clazz, msgFollowed, \"if\"),\n-            \"17:9: \" + getCheckMessage(clazz, msgFollowed, \"else\"),\n+            \"4:29: \" + getCheckMessage(clazz, message, \",\"),\n+            \"5:9: \" + getCheckMessage(clazz, message, \"for\"),\n+            \"5:20: \" + getCheckMessage(clazz, message, \",\"),\n+            \"5:24: \" + getCheckMessage(clazz, message, \";\"),\n+            \"5:28: \" + getCheckMessage(clazz, message, \";\"),\n+            \"5:32: \" + getCheckMessage(clazz, message, \",\"),\n+            \"6:9: \" + getCheckMessage(clazz, message, \"while\"),\n+            \"7:20: \" + getCheckMessage(clazz, message, \",\"),\n+            \"9:9: \" + getCheckMessage(clazz, message, \"do\"),\n+            \"11:10: \" + getCheckMessage(clazz, message, \"while\"),\n+            \"13:35: \" + getCheckMessage(clazz, message, \",\"),\n+            \"14:9: \" + getCheckMessage(clazz, message, \"if\"),\n+            \"17:9: \" + getCheckMessage(clazz, message, \"else\"),\n         };\n         final Configuration checkConfig = getModuleConfig(\"WhitespaceAfter\");\n         final String filePath = getPath(\"InputWhitespaceAfter.java\");\n"}}, {"oid": "084b6a351eea12c901c762b923ba92d308710bbb", "url": "https://github.com/checkstyle/checkstyle/commit/084b6a351eea12c901c762b923ba92d308710bbb", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-04T13:07:03Z", "type": "forcePushed"}, {"oid": "ec2e5c08c1eb5b934eadd95b215fef822c1d54f5", "url": "https://github.com/checkstyle/checkstyle/commit/ec2e5c08c1eb5b934eadd95b215fef822c1d54f5", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-13T18:12:08Z", "type": "forcePushed"}, {"oid": "0acf12a33307a452bda3490190c7a02887ec2e45", "url": "https://github.com/checkstyle/checkstyle/commit/0acf12a33307a452bda3490190c7a02887ec2e45", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-14T07:19:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r410705334", "bodyText": "please go through regression report and add more test case, like https://shashwat70.github.io/diff2/Vavr/index.html#A45\nThere should test case for valid and invalid for each point from https://google.github.io/styleguide/javaguide.html#s4.6.2-horizontal-whitespace\nPlease create valid Input file with all case and invalid Input file with violations (ideally such Inputs should almost identical and diff only in missed spaces in invalid file).", "author": "romani", "createdAt": "2020-04-18T14:32:43Z", "path": "src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfter.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package com.google.checkstyle.test.chapter4formatting.rule462horizontalwhitespace;\n+\n+public class InputWhitespaceAfter {\n+    public void check1(int x,int y){ //warn\n+        for(int a=1,b=2;a<5;a++,b--); // warn", "originalCommit": "0acf12a33307a452bda3490190c7a02887ec2e45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNjc5NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r410706795", "bodyText": "If you do not want to add all tokens and tests for them to completely cover style chapter, as in original issue only comas were reported. It is ok, but please create separate issue on items that we miss even after your fix.", "author": "romani", "createdAt": "2020-04-18T14:44:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcxNTEyNA==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r410715124", "bodyText": "please create separate issue on items that we miss even after your fix.\n\nmoved to issue #8122\nI'll update its issue description in a few moments.", "author": "shashwatj07", "createdAt": "2020-04-18T15:53:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcyNTI1MA==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r410725250", "bodyText": "All tokens that you adding in this PR, please cover by valid and invalid test cases", "author": "romani", "createdAt": "2020-04-18T17:19:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM5NDQyNg==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r411394426", "bodyText": "Done", "author": "shashwatj07", "createdAt": "2020-04-20T13:51:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYzNDc4Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r411634783", "bodyText": "I've added an example to the new issue. Please approve it and add required tags so that I may try to work on it. @romani", "author": "shashwatj07", "createdAt": "2020-04-20T19:29:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI4OTEzOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r412289139", "bodyText": "done.\nthanks a lot for help", "author": "romani", "createdAt": "2020-04-21T15:31:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcwODE2Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/7988#discussion_r412708166", "bodyText": "My pleasure :)", "author": "shashwatj07", "createdAt": "2020-04-22T06:36:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcwNTMzNA=="}], "type": "inlineReview", "revised_code": {"commit": "1c3c539b18a7898463c15e9ab4fe81dc721a0bc1", "chunk": "diff --git a/src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfter.java b/src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfterBad.java\nsimilarity index 87%\nrename from src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfter.java\nrename to src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfterBad.java\nindex 973671438..dcd6abea3 100644\n--- a/src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfter.java\n+++ b/src/it/resources/com/google/checkstyle/test/chapter4formatting/rule462horizontalwhitespace/InputWhitespaceAfterBad.java\n\n@@ -1,6 +1,6 @@\n package com.google.checkstyle.test.chapter4formatting.rule462horizontalwhitespace;\n \n-public class InputWhitespaceAfter {\n+public class InputWhitespaceAfterBad {\n     public void check1(int x,int y){ //warn\n         for(int a=1,b=2;a<5;a++,b--); // warn\n         while(x==0){ // warn\n"}}, {"oid": "1c3c539b18a7898463c15e9ab4fe81dc721a0bc1", "url": "https://github.com/checkstyle/checkstyle/commit/1c3c539b18a7898463c15e9ab4fe81dc721a0bc1", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-20T13:47:07Z", "type": "forcePushed"}, {"oid": "c5846257a954e518567a03c706c1924fd5e36cbd", "url": "https://github.com/checkstyle/checkstyle/commit/c5846257a954e518567a03c706c1924fd5e36cbd", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-20T13:50:36Z", "type": "forcePushed"}, {"oid": "53b50846540991d9e8f65c8272669edacd42a357", "url": "https://github.com/checkstyle/checkstyle/commit/53b50846540991d9e8f65c8272669edacd42a357", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-20T14:07:49Z", "type": "commit"}, {"oid": "53b50846540991d9e8f65c8272669edacd42a357", "url": "https://github.com/checkstyle/checkstyle/commit/53b50846540991d9e8f65c8272669edacd42a357", "message": "Issue #5624: Google Style Should Enforce Spaces after Commas", "committedDate": "2020-04-20T14:07:49Z", "type": "forcePushed"}]}