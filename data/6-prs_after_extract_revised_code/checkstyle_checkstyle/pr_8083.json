{"pr_number": 8083, "pr_title": "Issue #5951: Add indentation Support for Annotation Array Initialisation", "pr_createdAt": "2020-04-12T22:55:29Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8083", "timeline": [{"oid": "217f4539800c3c319ebe4fdced6e0012fa931c07", "url": "https://github.com/checkstyle/checkstyle/commit/217f4539800c3c319ebe4fdced6e0012fa931c07", "message": "minor: change prewritten code and tests to support new annotation arrayinit check", "committedDate": "2020-04-13T07:02:27Z", "type": "forcePushed"}, {"oid": "7a4da8c15e4791db3fdf820a7699bb8f7ed80751", "url": "https://github.com/checkstyle/checkstyle/commit/7a4da8c15e4791db3fdf820a7699bb8f7ed80751", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-04-19T13:02:30Z", "type": "forcePushed"}, {"oid": "fddfc3f3ef0b34f60664c8a47faa7b21ee4bddc3", "url": "https://github.com/checkstyle/checkstyle/commit/fddfc3f3ef0b34f60664c8a47faa7b21ee4bddc3", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-04-19T13:06:36Z", "type": "forcePushed"}, {"oid": "c49514d8cb95256382f58ea869b4482d291c8419", "url": "https://github.com/checkstyle/checkstyle/commit/c49514d8cb95256382f58ea869b4482d291c8419", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-04-19T13:21:32Z", "type": "forcePushed"}, {"oid": "ee124f0c26a7dbc5b0defaea73a019c257848473", "url": "https://github.com/checkstyle/checkstyle/commit/ee124f0c26a7dbc5b0defaea73a019c257848473", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-04-19T13:24:20Z", "type": "forcePushed"}, {"oid": "85500080600962882fec1dafb15f5716f850ed91", "url": "https://github.com/checkstyle/checkstyle/commit/85500080600962882fec1dafb15f5716f850ed91", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-04-19T18:16:39Z", "type": "forcePushed"}, {"oid": "e500352c028ad4de966b2b3cbeeb99baf665536f", "url": "https://github.com/checkstyle/checkstyle/commit/e500352c028ad4de966b2b3cbeeb99baf665536f", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-04-19T18:23:38Z", "type": "forcePushed"}, {"oid": "7eb577984c75ba22e94e9c9b6ce4e99c16930a60", "url": "https://github.com/checkstyle/checkstyle/commit/7eb577984c75ba22e94e9c9b6ce4e99c16930a60", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-11-13T21:05:13Z", "type": "forcePushed"}, {"oid": "8ddfdd8160922338dfa15b1f44f1f7e12ab353cb", "url": "https://github.com/checkstyle/checkstyle/commit/8ddfdd8160922338dfa15b1f44f1f7e12ab353cb", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-11-13T21:19:21Z", "type": "forcePushed"}, {"oid": "d0af043c8a2ec28ac1d5e2f17e620aed9883737d", "url": "https://github.com/checkstyle/checkstyle/commit/d0af043c8a2ec28ac1d5e2f17e620aed9883737d", "message": "minor: change pmd and pgjdbc repo to avoid ci violations", "committedDate": "2020-11-15T19:24:28Z", "type": "forcePushed"}, {"oid": "5c47886f77b6d39649de1effada0dd01e5256554", "url": "https://github.com/checkstyle/checkstyle/commit/5c47886f77b6d39649de1effada0dd01e5256554", "message": "minor: change pmd and pgjdbc repo to avoid ci violations", "committedDate": "2020-11-15T20:03:05Z", "type": "forcePushed"}, {"oid": "0a0b24d7b036f7a09951f2787a6f5b7aa4cbb6d4", "url": "https://github.com/checkstyle/checkstyle/commit/0a0b24d7b036f7a09951f2787a6f5b7aa4cbb6d4", "message": "minor: change pmd and pgjdbc repo to avoid ci violations", "committedDate": "2020-11-19T19:12:25Z", "type": "forcePushed"}, {"oid": "238da3d833b3907fee2fa3a812d028bebd83d885", "url": "https://github.com/checkstyle/checkstyle/commit/238da3d833b3907fee2fa3a812d028bebd83d885", "message": "minor: change pmd and pgjdbc repo to avoid ci violations", "committedDate": "2020-11-23T03:50:11Z", "type": "forcePushed"}, {"oid": "3e9db058ed68f6f86e15ac9b1c275e079618116c", "url": "https://github.com/checkstyle/checkstyle/commit/3e9db058ed68f6f86e15ac9b1c275e079618116c", "message": "minor: change pmd and pgjdbc repo to avoid ci violations", "committedDate": "2020-11-23T18:24:55Z", "type": "forcePushed"}, {"oid": "ecf320f691c9dcba8e390138b1895b606997bd8f", "url": "https://github.com/checkstyle/checkstyle/commit/ecf320f691c9dcba8e390138b1895b606997bd8f", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-11-23T18:28:20Z", "type": "forcePushed"}, {"oid": "b2ea2fe22f42080cca8790944508743ca6d771dc", "url": "https://github.com/checkstyle/checkstyle/commit/b2ea2fe22f42080cca8790944508743ca6d771dc", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-24T15:15:06Z", "type": "forcePushed"}, {"oid": "44bbdbfa2ec85a80d8ae20274fc9d444174ad5e3", "url": "https://github.com/checkstyle/checkstyle/commit/44bbdbfa2ec85a80d8ae20274fc9d444174ad5e3", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-24T15:37:56Z", "type": "forcePushed"}, {"oid": "4131a8d87490060be68cfafacbc31914cb4053d1", "url": "https://github.com/checkstyle/checkstyle/commit/4131a8d87490060be68cfafacbc31914cb4053d1", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-25T04:55:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ0MjI1Nw==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530442257", "bodyText": "23,25\nI do not have a good knowledge of this check, can you shortly describe why there are such big numbers for expected indentation?", "author": "strkkk", "createdAt": "2020-11-25T15:06:55Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationDifficultAnnotations.java", "diffHunk": "@@ -37,8 +37,8 @@ void foo() { //indent:4 exp:4\n } //indent:0 exp:0\n \n @DifficultAnnotation({ //indent:0 exp:0\n-@MyType(value = Boolean.class, name = \"boolean\"), //indent:0 exp:4 warn\n-@MyType(value = String.class, name = \"string\") }) //indent:0 exp:4 warn\n+@MyType(value = Boolean.class, name = \"boolean\"), //indent:0 exp:4,23,25 warn\n+@MyType(value = String.class, name = \"string\") }) //indent:0 exp:4,23,25 warn", "originalCommit": "4131a8d87490060be68cfafacbc31914cb4053d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ4NTY5OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530485698", "bodyText": "The children are accepting indent levels like arrayInitIndent, lineWrapping and basicOffset.\nThose big numbers are because it is also accepting indentLevel from firstNonBlank line after lcurly (Initialization block's) inside which those children are placed.\n23, 25:\nbecause indentation comment is the first non blank line on after the lcurly. And it is placed at 23 indent level. so 23 and 21(lcurly) + linewrapping(4) = 25.\nThis is important/helpful when we have code style like this: (where we are indenting other children relative to previous ones)\n@Annotation({ @Child1,\n              @Child2, \n              @Child3\n})\n\nSo yes, if there would not have those comments there then we would not have got 23,25.", "author": "Abhishek-kumar09", "createdAt": "2020-11-25T16:06:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ0MjI1Nw=="}], "type": "inlineReview", "revised_code": {"commit": "2f12b1814b8a2f6dce2aafde6b9fbda96143ae37", "chunk": "diff --git a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationDifficultAnnotations.java b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationDifficultAnnotations.java\nindex 669e621d2..e14df7d31 100644\n--- a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationDifficultAnnotations.java\n+++ b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationDifficultAnnotations.java\n\n@@ -37,8 +37,8 @@ public class InputIndentationDifficultAnnotations { //indent:0 exp:0\n } //indent:0 exp:0\n \n @DifficultAnnotation({ //indent:0 exp:0\n-@MyType(value = Boolean.class, name = \"boolean\"), //indent:0 exp:4,23,25 warn\n-@MyType(value = String.class, name = \"string\") }) //indent:0 exp:4,23,25 warn\n+@MyType(value = Boolean.class, name = \"boolean\"), //indent:0 exp:>=4 warn\n+@MyType(value = String.class, name = \"string\") }) //indent:0 exp:>=4 warn\n class IncorrectClass { //indent:0 exp:0\n \n     @DifficultAnnotation({ //indent:4 exp:4\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ0MjY1Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530442656", "bodyText": "exp:11,17,53,54\nsame here, indentation 53 or 54 sounds a bit weird", "author": "strkkk", "createdAt": "2020-11-25T15:07:29Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationOddLineWrappingAndArrayInit.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/* Config:                                                                    //indent:0 exp:0\n+ * This test-input is intended to be checked using following configuration:   //indent:1 exp:1\n+ *                                                                            //indent:1 exp:1\n+ * arrayInitIndent = 3                                                        //indent:1 exp:1\n+ * basicOffset = 4                                                            //indent:1 exp:1\n+ * braceAdjustment = 0                                                        //indent:1 exp:1\n+ * caseIndent = 4                                                             //indent:1 exp:1\n+ * forceStrictCondition = false                                               //indent:1 exp:1\n+ * lineWrappingIndentation = 9                                                //indent:1 exp:1\n+ * tabWidth = 4                                                               //indent:1 exp:1\n+ * throwsIndent = 4                                                           //indent:1 exp:1\n+ *                                                                            //indent:1 exp:1\n+ *                                                                            //indent:1 exp:1\n+ */                                                                           //indent:1 exp:1\n+\n+package com.puppycrawl.tools.checkstyle.checks.indentation.indentation; //indent:0 exp:0\n+\n+public class InputIndentationOddLineWrappingAndArrayInit { //indent:0 exp:0\n+    interface MyInterface { //indent:4 exp:4\n+        @interface SomeAnnotation { String[] values(); } //indent:8 exp:8\n+        interface Info { //indent:8 exp:8\n+            String A = \"a\"; //indent:12 exp:12\n+        } //indent:8 exp:8\n+        @MyInterface.SomeAnnotation(values = {       //indent:8 exp:8\n+                MyInterface.Info.A, //indent:16 exp:11,17,53,54 warn", "originalCommit": "4131a8d87490060be68cfafacbc31914cb4053d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ5ODcyNA==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530498724", "bodyText": "53 is the indent level of first comment on line \"24\".\n54 is the lineWrapping + lcurly pos. (Line wrapping Indent is set to 9 in this code, so this much big value)\nHere is the logic:\n        if (firstChildPos != NOT_EXIST) {\n            expectedIndent = IndentLevel.addAcceptable(expectedIndent, firstChildPos, lcurlyPos\n                    + getLineWrappingIndentation());\n        }", "author": "Abhishek-kumar09", "createdAt": "2020-11-25T16:25:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ0MjY1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU3NDU3NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530574574", "bodyText": "comment was unnecesarily placed too far, corrected.", "author": "Abhishek-kumar09", "createdAt": "2020-11-25T18:35:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ0MjY1Ng=="}], "type": "inlineReview", "revised_code": {"commit": "7a8e777ff9f04da44e56d010b873e7868faf7775", "chunk": "diff --git a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationOddLineWrappingAndArrayInit.java b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationOddLineWrappingAndArrayInit.java\nindex fa38165e6..d871ed781 100644\n--- a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationOddLineWrappingAndArrayInit.java\n+++ b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationOddLineWrappingAndArrayInit.java\n\n@@ -21,8 +21,8 @@ public class InputIndentationOddLineWrappingAndArrayInit { //indent:0 exp:0\n         interface Info { //indent:8 exp:8\n             String A = \"a\"; //indent:12 exp:12\n         } //indent:8 exp:8\n-        @MyInterface.SomeAnnotation(values = {       //indent:8 exp:8\n-                MyInterface.Info.A, //indent:16 exp:11,17,53,54 warn\n+        @MyInterface.SomeAnnotation(values = { //indent:8 exp:8\n+                MyInterface.Info.A, //indent:16 exp:11,17,47,54 warn\n         } //indent:8 exp:8\n         ) //indent:8 exp:8\n         void works(); //indent:8 exp:8\n"}}, {"oid": "7a8e777ff9f04da44e56d010b873e7868faf7775", "url": "https://github.com/checkstyle/checkstyle/commit/7a8e777ff9f04da44e56d010b873e7868faf7775", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-25T18:31:58Z", "type": "forcePushed"}, {"oid": "5665ebb71ff5f6fbf8fe74f02af0c77518c6659f", "url": "https://github.com/checkstyle/checkstyle/commit/5665ebb71ff5f6fbf8fe74f02af0c77518c6659f", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-25T18:33:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc1MTExMQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530751111", "bodyText": "@romani forceStrictCondition is set to false. Shouldn't there be no violation here?", "author": "rnveach", "createdAt": "2020-11-26T03:19:18Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit2.java", "diffHunk": "@@ -0,0 +1,53 @@\n+/* Config:                                                                  //indent:0 exp:0\n+ * This test-input is intended to be checked using following configuration: //indent:1 exp:1\n+ *                                                                          //indent:1 exp:1\n+ * arrayInitIndent = 0                                                      //indent:1 exp:1\n+ * basicOffset = 2                                                          //indent:1 exp:1\n+ * braceAdjustment = 0                                                      //indent:1 exp:1\n+ * caseIndent = 4                                                           //indent:1 exp:1\n+ * forceStrictCondition = false                                             //indent:1 exp:1\n+ * lineWrappingIndentation = 0                                              //indent:1 exp:1\n+ * tabWidth = 8                                                             //indent:1 exp:1\n+ * throwsIndent = 4                                                         //indent:1 exp:1\n+ */                                                                         //indent:1 exp:1\n+\n+package com.puppycrawl.tools.checkstyle.checks.indentation.indentation; //indent:0 exp:0\n+\n+@InputIndentationAnnArrInit2.Foo({ //indent:0 exp:0\n+    @InputIndentationAnnArrInit2.Bar, //indent:4 exp:0,33,35 warn", "originalCommit": "5665ebb71ff5f6fbf8fe74f02af0c77518c6659f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc5ODIxNw==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530798217", "bodyText": "@Abhishek-kumar09 , can you explain ?\nThis option allow to use extra spaces if that visually benefitial", "author": "romani", "createdAt": "2020-11-26T06:29:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc1MTExMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg1MTQ1Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r530851453", "bodyText": "Actually it is not following forceStrictCondition.\nIf it would, then all the Indent-levels after arrayInitIndent/linewrappingIndent  is valid.\nParticularly here, the user intent is to align code with 0 lineWrapping and 0 arrayInit indent.\nFor giving some flexibility over only arrayInitIndent, the child is also allowed to have lineWrapping and lcurly+lineWrapping.\nBut, yes it feels valid to me now that the child should also follow forceStrictCondition being false/true.\nWhat's your take? Should I change the code?", "author": "Abhishek-kumar09", "createdAt": "2020-11-26T08:32:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc1MTExMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg4NzExMQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r532887111", "bodyText": "@rnveach I have applied the changes. Please have a look.", "author": "Abhishek-kumar09", "createdAt": "2020-11-30T20:35:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc1MTExMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE5NjE3NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r534196175", "bodyText": "sorry for being late on this discussion .... I needed some time to meditate on this.\nhttps://checkstyle.org/config_misc.html#Indentation\nfrom documentation\n\nforceStrictCondition | Force strict indent level in line wrapping case. If value is true, line wrap                   indent have to be same as lineWrappingIndentation parameter. If value is false,                   line wrap indent could be bigger on any value user would like.\n\nit is clearly not for arrayInitIndent. arrayInitIndent is somehow in between of basicOffset and lineWrappingIndentation. Because technically array should be in one line and we just wrap array by , in multiple line.\nBut the same is true for basicOffset, Class/block can be single line class A { int i; int j; } and we just wrap it by ; in separate lines. But we have special property for this - basicOffset. So wrapping by separator between completely independent items should follow some offset.\nLets come back to array.\nArray in very similar to blocks, as all its inner elements are independent, but not separated by ; so it has special property.\nlineWrappingIndentation is more applicable for wrapping inside statement - it wrapping in level deeper than by ;. For arrays - it is for wrapping inside array element, not between them.\n@rnveach , @Abhishek-kumar09 if you both agree ...... Please revert your implementation of lineWrappingIndentation for arrays. Sorry for being late.", "author": "romani", "createdAt": "2020-12-02T14:12:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc1MTExMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA1NzQwOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r537057409", "bodyText": "@rnveach , @Abhishek-kumar09 , please read and if you agree lets proceed in this way.", "author": "romani", "createdAt": "2020-12-06T15:11:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc1MTExMQ=="}], "type": "inlineReview", "revised_code": {"commit": "2f12b1814b8a2f6dce2aafde6b9fbda96143ae37", "chunk": "diff --git a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit2.java b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit2.java\nindex 6f4a32456..b356eb9cb 100644\n--- a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit2.java\n+++ b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit2.java\n\n@@ -14,7 +14,7 @@\n package com.puppycrawl.tools.checkstyle.checks.indentation.indentation; //indent:0 exp:0\n \n @InputIndentationAnnArrInit2.Foo({ //indent:0 exp:0\n-    @InputIndentationAnnArrInit2.Bar, //indent:4 exp:0,33,35 warn\n+    @InputIndentationAnnArrInit2.Bar, //indent:4 exp:>=0\n @InputIndentationAnnArrInit2.Bar, //indent:0 exp:0\n }) //indent:0 exp:0\n \n"}}, {"oid": "2f12b1814b8a2f6dce2aafde6b9fbda96143ae37", "url": "https://github.com/checkstyle/checkstyle/commit/2f12b1814b8a2f6dce2aafde6b9fbda96143ae37", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-30T20:34:51Z", "type": "forcePushed"}, {"oid": "a94cb89b21d7957247b8927edf58d55fd55a7079", "url": "https://github.com/checkstyle/checkstyle/commit/a94cb89b21d7957247b8927edf58d55fd55a7079", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-30T20:45:47Z", "type": "forcePushed"}, {"oid": "406bd88ea4e0e63c1fe27aefd10e7d0f174cfb96", "url": "https://github.com/checkstyle/checkstyle/commit/406bd88ea4e0e63c1fe27aefd10e7d0f174cfb96", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-11-30T21:14:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDEzMTY0MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r534131640", "bodyText": "Continuation of #8083 (comment) ,\nShould 0 really be allowed as an indentation?\nEven google style examples show some indentation in the example provided.\nhttps://google.github.io/styleguide/javaguide.html#s4.8.3.1-array-initializers", "author": "rnveach", "createdAt": "2020-12-02T12:32:49Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit2.java", "diffHunk": "@@ -0,0 +1,53 @@\n+/* Config:                                                                  //indent:0 exp:0\n+ * This test-input is intended to be checked using following configuration: //indent:1 exp:1\n+ *                                                                          //indent:1 exp:1\n+ * arrayInitIndent = 0                                                      //indent:1 exp:1\n+ * basicOffset = 2                                                          //indent:1 exp:1\n+ * braceAdjustment = 0                                                      //indent:1 exp:1\n+ * caseIndent = 4                                                           //indent:1 exp:1\n+ * forceStrictCondition = false                                             //indent:1 exp:1\n+ * lineWrappingIndentation = 0                                              //indent:1 exp:1\n+ * tabWidth = 8                                                             //indent:1 exp:1\n+ * throwsIndent = 4                                                         //indent:1 exp:1\n+ */                                                                         //indent:1 exp:1\n+\n+package com.puppycrawl.tools.checkstyle.checks.indentation.indentation; //indent:0 exp:0\n+\n+@InputIndentationAnnArrInit2.Foo({ //indent:0 exp:0\n+    @InputIndentationAnnArrInit2.Bar, //indent:4 exp:>=0", "originalCommit": "406bd88ea4e0e63c1fe27aefd10e7d0f174cfb96", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE3MjY0MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r534172640", "bodyText": "@rnveach\nActually it is checking against config where arrayInit = 0, lineWrapping = 0.\nand thus allowing 0 as an indentation level.\nSince google has 2 as arrayInit, and 4 as lineWrapping. It will not allow the same.", "author": "Abhishek-kumar09", "createdAt": "2020-12-02T13:39:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDEzMTY0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE5ODQ3MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r534198471", "bodyText": "Thanks, sorry, I missed the config.", "author": "rnveach", "createdAt": "2020-12-02T14:15:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDEzMTY0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE5ODk5MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r534198990", "bodyText": "@Abhishek-kumar09 ,\n0 is not good indentation.\nplease make code sample like this with indent:0 and should violate such code.", "author": "romani", "createdAt": "2020-12-02T14:16:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDEzMTY0MA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "1c882a937b98229872583988ae8c3747a05a5582", "url": "https://github.com/checkstyle/checkstyle/commit/1c882a937b98229872583988ae8c3747a05a5582", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-12-02T14:10:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIwMzQ4OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8083#discussion_r534203489", "bodyText": "@Abhishek-kumar09 ,\n0 is not good indentation.\nplease make code sample like this with indent:0 and should violate such code.\n\nIts already here. Indent:0 exp:>=4", "author": "Abhishek-kumar09", "createdAt": "2020-12-02T14:22:08Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/indentation/indentation/InputIndentationAnnArrInit.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/* Config:                                                                  //indent:0 exp:0\n+ * This test-input is intended to be checked using following configuration: //indent:1 exp:1\n+ *                                                                          //indent:1 exp:1\n+ * arrayInitIndent = 6                                                      //indent:1 exp:1\n+ * basicOffset = 2                                                          //indent:1 exp:1\n+ * braceAdjustment = 0                                                      //indent:1 exp:1\n+ * caseIndent = 4                                                           //indent:1 exp:1\n+ * forceStrictCondition = false                                             //indent:1 exp:1\n+ * lineWrappingIndentation = 4                                              //indent:1 exp:1\n+ * tabWidth = 8                                                             //indent:1 exp:1\n+ * throwsIndent = 4                                                         //indent:1 exp:1\n+ */                                                                         //indent:1 exp:1\n+package com.puppycrawl.tools.checkstyle.checks.indentation.indentation; //indent:0 exp:0\n+\n+@InputIndentationAnnArrInit.Foo({ @InputIndentationAnnArrInit.Bar, //indent:0 exp:0\n+    @InputIndentationAnnArrInit.Bar, //indent:4 exp:4\n+@InputIndentationAnnArrInit.Bar, //indent:0 exp:>=4 warn", "originalCommit": "1c882a937b98229872583988ae8c3747a05a5582", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "38b5c0d30fc7bb3dd8a5792ef5975b964cd5baed", "url": "https://github.com/checkstyle/checkstyle/commit/38b5c0d30fc7bb3dd8a5792ef5975b964cd5baed", "message": "Issue #5951: Incorrect warning for array initializer indentation inside annotations when using google_checks.xml", "committedDate": "2020-12-02T19:00:48Z", "type": "commit"}, {"oid": "d4828147c5b23dcb47b3fd5f0cbada3dfa778c20", "url": "https://github.com/checkstyle/checkstyle/commit/d4828147c5b23dcb47b3fd5f0cbada3dfa778c20", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-12-02T19:00:48Z", "type": "commit"}, {"oid": "d4828147c5b23dcb47b3fd5f0cbada3dfa778c20", "url": "https://github.com/checkstyle/checkstyle/commit/d4828147c5b23dcb47b3fd5f0cbada3dfa778c20", "message": "minor: update wercker.sh to use latest changes proposed after pr #8038", "committedDate": "2020-12-02T19:00:48Z", "type": "forcePushed"}]}