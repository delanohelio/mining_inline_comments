{"pr_number": 8419, "pr_title": "Issue #8399: fix NPE for SuperClone and SuperFinalize checks", "pr_createdAt": "2020-07-08T08:54:01Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8419", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2MjMyOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8419#discussion_r452862329", "bodyText": "please add //violation comment and comment over class for Check config.\nOne day in future we will read config and expected violations from Input file.", "author": "romani", "createdAt": "2020-07-10T14:00:39Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superfinalize/InputSuperFinalizeMethodReference.java", "diffHunk": "@@ -0,0 +1,19 @@\n+package com.puppycrawl.tools.checkstyle.checks.coding.superfinalize;\n+\n+public class InputSuperFinalizeMethodReference extends ClassWithFinalizer {\n+\n+    public interface CheckedConsumer<E extends Throwable> {\n+        void get() throws E;\n+    }\n+\n+    @Override\n+    protected void finalize() throws Throwable {\n+        CheckedConsumer<Throwable> r = super::finalize;\n+        r.get();\n+    }\n+}\n+\n+class ClassWithFinalizer {\n+    protected void finalize() throws Throwable {", "originalCommit": "affff4b9052bbcd199bf79767284da00524d5db3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg3OTY4Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8419#discussion_r452879683", "bodyText": "done", "author": "strkkk", "createdAt": "2020-07-10T14:29:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2MjMyOQ=="}], "type": "inlineReview", "revised_code": {"commit": "328e416401c28bd20f0453006b83c197684c7e1e", "chunk": "diff --git a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superfinalize/InputSuperFinalizeMethodReference.java b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superfinalize/InputSuperFinalizeMethodReference.java\nindex 94ff66f3c..a6e316690 100644\n--- a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superfinalize/InputSuperFinalizeMethodReference.java\n+++ b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superfinalize/InputSuperFinalizeMethodReference.java\n\n@@ -14,6 +14,6 @@ public class InputSuperFinalizeMethodReference extends ClassWithFinalizer {\n }\n \n class ClassWithFinalizer {\n-    protected void finalize() throws Throwable {\n+    protected void finalize() throws Throwable { // violation\n     }\n }\n"}}, {"oid": "328e416401c28bd20f0453006b83c197684c7e1e", "url": "https://github.com/checkstyle/checkstyle/commit/328e416401c28bd20f0453006b83c197684c7e1e", "message": "Issue #8399: fix NPE for SuperClone and SuperFinalize checks", "committedDate": "2020-07-10T14:07:47Z", "type": "forcePushed"}, {"oid": "7f3eb4aa2eaa6e64c5120a7e1d44969feb668725", "url": "https://github.com/checkstyle/checkstyle/commit/7f3eb4aa2eaa6e64c5120a7e1d44969feb668725", "message": "Issue #8399: fix NPE for SuperClone and SuperFinalize checks", "committedDate": "2020-07-10T14:28:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIzOTc4NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8419#discussion_r453239785", "bodyText": "please put // ok here, after merge of Nick's PR, it will be required to have at least one ok or violation comment.", "author": "romani", "createdAt": "2020-07-11T22:06:38Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superclone/InputSuperCloneMethodReference.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package com.puppycrawl.tools.checkstyle.checks.coding.superclone;\n+\n+import java.util.ArrayList;\n+\n+/** Config = default */\n+public class InputSuperCloneMethodReference extends ArrayList {\n+\n+    public interface CheckedSupplier<R, E extends Exception> {\n+        R get() throws E;\n+    }\n+\n+    public Object clone() {", "originalCommit": "7f3eb4aa2eaa6e64c5120a7e1d44969feb668725", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3OTYyMg==", "url": "https://github.com/checkstyle/checkstyle/pull/8419#discussion_r453279622", "bodyText": "done", "author": "strkkk", "createdAt": "2020-07-12T07:24:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIzOTc4NQ=="}], "type": "inlineReview", "revised_code": {"commit": "d8f2bd30c7b7686d566182932a51d9c371921f88", "chunk": "diff --git a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superclone/InputSuperCloneMethodReference.java b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superclone/InputSuperCloneMethodReference.java\nindex 582a34ee4..a0134441b 100644\n--- a/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superclone/InputSuperCloneMethodReference.java\n+++ b/src/test/resources/com/puppycrawl/tools/checkstyle/checks/coding/superclone/InputSuperCloneMethodReference.java\n\n@@ -9,7 +9,7 @@ public class InputSuperCloneMethodReference extends ArrayList {\n         R get() throws E;\n     }\n \n-    public Object clone() {\n+    public Object clone() { // ok\n         CheckedSupplier<Object, CloneNotSupportedException> r = super::clone;\n         CheckedSupplier<Object, CloneNotSupportedException> r1 = super::getClass;\n         try {\n"}}, {"oid": "d8f2bd30c7b7686d566182932a51d9c371921f88", "url": "https://github.com/checkstyle/checkstyle/commit/d8f2bd30c7b7686d566182932a51d9c371921f88", "message": "Issue #8399: fix NPE for SuperClone and SuperFinalize checks", "committedDate": "2020-07-12T07:22:48Z", "type": "commit"}, {"oid": "d8f2bd30c7b7686d566182932a51d9c371921f88", "url": "https://github.com/checkstyle/checkstyle/commit/d8f2bd30c7b7686d566182932a51d9c371921f88", "message": "Issue #8399: fix NPE for SuperClone and SuperFinalize checks", "committedDate": "2020-07-12T07:22:48Z", "type": "forcePushed"}]}