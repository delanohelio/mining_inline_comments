{"pr_number": 8913, "pr_title": "Issue #8895: FinalLocalVariable: NPE in records", "pr_createdAt": "2020-10-21T20:52:22Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8913", "timeline": [{"oid": "ed32255a4e30adf9f41dd29b0e070cbc8d84419d", "url": "https://github.com/checkstyle/checkstyle/commit/ed32255a4e30adf9f41dd29b0e070cbc8d84419d", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-21T21:17:42Z", "type": "forcePushed"}, {"oid": "b51a239404f549bf22981fc59bb3701be017f775", "url": "https://github.com/checkstyle/checkstyle/commit/b51a239404f549bf22981fc59bb3701be017f775", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-21T21:19:13Z", "type": "forcePushed"}, {"oid": "b6dad2ab55ff03416e7549a8afcc77f589b2d5a3", "url": "https://github.com/checkstyle/checkstyle/commit/b6dad2ab55ff03416e7549a8afcc77f589b2d5a3", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-21T21:34:15Z", "type": "forcePushed"}, {"oid": "2f42360a2a59f4c71480659ebddf86648ab993d1", "url": "https://github.com/checkstyle/checkstyle/commit/2f42360a2a59f4c71480659ebddf86648ab993d1", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-21T22:06:48Z", "type": "forcePushed"}, {"oid": "b701a8ae3e14ec769c6dad22baeaaa24cf59cade", "url": "https://github.com/checkstyle/checkstyle/commit/b701a8ae3e14ec769c6dad22baeaaa24cf59cade", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-21T22:07:52Z", "type": "forcePushed"}, {"oid": "baa22dc793c3450665bc77066c85f2107029ce22", "url": "https://github.com/checkstyle/checkstyle/commit/baa22dc793c3450665bc77066c85f2107029ce22", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-22T00:14:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzMjIyOA==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511332228", "bodyText": "Please add a positive test case, something like inner record with\n    record bad(int i) {\n        public bad {\n            int a = 0; // violation\n        }\n    }", "author": "pbludov", "createdAt": "2020-10-24T07:29:03Z", "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java", "diffHunk": "@@ -0,0 +1,12 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n+\n+/* Config:\n+ * None\n+ */\n+public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n+    public InputFinalLocalVariableCheckRecords { // ok\n+        int a = 0;\n+        a = 1;\n+    }\n+}", "originalCommit": "baa22dc793c3450665bc77066c85f2107029ce22", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDg4NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511494884", "bodyText": "fixed", "author": "anhminhtran235", "createdAt": "2020-10-24T17:28:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzMjIyOA=="}], "type": "inlineReview", "revised_code": {"commit": "5b11c640400aa06205574101966a54d89ef8dc6b", "chunk": "diff --git a/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java b/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\nindex 1ea059fb7..ff7a779f7 100644\n--- a/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\n+++ b/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\n\n@@ -2,11 +2,18 @@\n package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n \n /* Config:\n- * None\n+ * default\n  */\n public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n-    public InputFinalLocalVariableCheckRecords { // ok\n-        int a = 0;\n+    public InputFinalLocalVariableCheckRecords {\n+        int a = 0; // ok\n         a = 1;\n     }\n+\n+    record bad(int i) {\n+        public bad {\n+            int b = 0; // violation\n+        }\n+    }\n }\n+\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzMjI5NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511332294", "bodyText": "None -> default", "author": "pbludov", "createdAt": "2020-10-24T07:29:38Z", "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java", "diffHunk": "@@ -0,0 +1,12 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n+\n+/* Config:\n+ * None", "originalCommit": "baa22dc793c3450665bc77066c85f2107029ce22", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDg4Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511494886", "bodyText": "fixed", "author": "anhminhtran235", "createdAt": "2020-10-24T17:29:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzMjI5NA=="}], "type": "inlineReview", "revised_code": {"commit": "5b11c640400aa06205574101966a54d89ef8dc6b", "chunk": "diff --git a/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java b/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\nindex 1ea059fb7..ff7a779f7 100644\n--- a/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\n+++ b/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\n\n@@ -2,11 +2,18 @@\n package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n \n /* Config:\n- * None\n+ * default\n  */\n public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n-    public InputFinalLocalVariableCheckRecords { // ok\n-        int a = 0;\n+    public InputFinalLocalVariableCheckRecords {\n+        int a = 0; // ok\n         a = 1;\n     }\n+\n+    record bad(int i) {\n+        public bad {\n+            int b = 0; // violation\n+        }\n+    }\n }\n+\n"}}, {"oid": "5b11c640400aa06205574101966a54d89ef8dc6b", "url": "https://github.com/checkstyle/checkstyle/commit/5b11c640400aa06205574101966a54d89ef8dc6b", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-24T17:26:47Z", "type": "forcePushed"}, {"oid": "6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "url": "https://github.com/checkstyle/checkstyle/commit/6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-24T17:28:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTI3OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511495279", "bodyText": "The test expects violation at  \"15:17\", please move // violation comment to line 15", "author": "pbludov", "createdAt": "2020-10-24T17:33:18Z", "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java", "diffHunk": "@@ -0,0 +1,19 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n+\n+/* Config:\n+ * default\n+ */\n+public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n+    public InputFinalLocalVariableCheckRecords {\n+        int a = 0; // ok\n+        a = 1;\n+    }\n+\n+    record bad(int i) {\n+        public bad {\n+            int b = 0;", "originalCommit": "6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5OTc5OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511499798", "bodyText": "Fixed. You're right. I thought 17 is the line number. Thank you", "author": "anhminhtran235", "createdAt": "2020-10-24T18:21:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTI3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5OTk1OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511499959", "bodyText": "I'm not sure what went wrong with regression report. Do you have any suggestions?", "author": "anhminhtran235", "createdAt": "2020-10-24T18:23:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTI3OQ=="}], "type": "inlineReview", "revised_code": {"commit": "c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "chunk": "diff --git a/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java b/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\nindex 67eb33884..ff7a779f7 100644\n--- a/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\n+++ b/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java\n\n@@ -12,8 +12,8 @@ public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n \n     record bad(int i) {\n         public bad {\n-            int b = 0;\n+            int b = 0; // violation\n         }\n-    } // violation\n+    }\n }\n \n"}}, {"oid": "c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "url": "https://github.com/checkstyle/checkstyle/commit/c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-24T18:18:48Z", "type": "forcePushed"}, {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77", "url": "https://github.com/checkstyle/checkstyle/commit/9013ba1d2d5051ff83dc07439b60957f14824a77", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-24T18:20:06Z", "type": "commit"}, {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77", "url": "https://github.com/checkstyle/checkstyle/commit/9013ba1d2d5051ff83dc07439b60957f14824a77", "message": "Issue #8895: FinalLocalVariable: NPE in records", "committedDate": "2020-10-24T18:20:06Z", "type": "forcePushed"}]}