{"pr_number": 3187, "pr_title": "Feature/3143/extendeduser", "pr_createdAt": "2020-01-28T16:23:39Z", "pr_url": "https://github.com/dockstore/dockstore/pull/3187", "timeline": [{"oid": "9a0bdae3765a0e47c83ead2b9c2b5cda7d36d231", "url": "https://github.com/dockstore/dockstore/commit/9a0bdae3765a0e47c83ead2b9c2b5cda7d36d231", "message": "More optimized extendeduser endpoint", "committedDate": "2020-01-27T20:43:29Z", "type": "commit"}, {"oid": "861400b7b224d19260f8df7a0a5f5bfed70c69b9", "url": "https://github.com/dockstore/dockstore/commit/861400b7b224d19260f8df7a0a5f5bfed70c69b9", "message": "Fix imports", "committedDate": "2020-01-27T21:01:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkxNzA1Ng==", "url": "https://github.com/dockstore/dockstore/pull/3187#discussion_r371917056", "bodyText": "the way this query is written (a count), I don't think you will ever get a null result so I think you can cast to/return a long", "author": "denis-yuen", "createdAt": "2020-01-28T16:35:04Z", "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/jdbi/UserDAO.java", "diffHunk": "@@ -76,6 +76,11 @@ public User findByGitHubUsername(String username) {\n         return (User)query.uniqueResult();\n     }\n \n+    public Long findPublishedEntries(String username)  {\n+        final Query query = namedQuery(\"io.dockstore.webservice.core.User.countPublishedEntries\").setParameter(\"username\", username);", "originalCommit": "861400b7b224d19260f8df7a0a5f5bfed70c69b9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e6e92493e5350ce1e19542c147efa30d0fffd0e7", "chunk": "diff --git a/dockstore-webservice/src/main/java/io/dockstore/webservice/jdbi/UserDAO.java b/dockstore-webservice/src/main/java/io/dockstore/webservice/jdbi/UserDAO.java\nindex 324e80378..1f8c6c6b3 100644\n--- a/dockstore-webservice/src/main/java/io/dockstore/webservice/jdbi/UserDAO.java\n+++ b/dockstore-webservice/src/main/java/io/dockstore/webservice/jdbi/UserDAO.java\n\n@@ -76,9 +76,9 @@ public class UserDAO extends AbstractDockstoreDAO<User> {\n         return (User)query.uniqueResult();\n     }\n \n-    public Long findPublishedEntries(String username)  {\n+    public long findPublishedEntries(String username)  {\n         final Query query = namedQuery(\"io.dockstore.webservice.core.User.countPublishedEntries\").setParameter(\"username\", username);\n-        return (Long)query.uniqueResult();\n+        return (long)query.uniqueResult();\n     }\n \n     public boolean delete(User user) {\n"}}, {"oid": "e6e92493e5350ce1e19542c147efa30d0fffd0e7", "url": "https://github.com/dockstore/dockstore/commit/e6e92493e5350ce1e19542c147efa30d0fffd0e7", "message": "Use primitive long", "committedDate": "2020-01-28T16:37:32Z", "type": "commit"}]}