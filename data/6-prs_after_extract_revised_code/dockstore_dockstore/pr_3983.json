{"pr_number": 3983, "pr_title": "Feature/3767/nextflow tools tab", "pr_createdAt": "2020-12-16T20:00:40Z", "pr_url": "https://github.com/dockstore/dockstore/pull/3983", "timeline": [{"oid": "108b2b8f8139df64b36de59e3df81c405f0012ce", "url": "https://github.com/dockstore/dockstore/commit/108b2b8f8139df64b36de59e3df81c405f0012ce", "message": "Add test", "committedDate": "2020-12-15T21:57:22Z", "type": "commit"}, {"oid": "285f134259b10b41dffe50bb3035f3948fa39e9b", "url": "https://github.com/dockstore/dockstore/commit/285f134259b10b41dffe50bb3035f3948fa39e9b", "message": "Get process from imported files", "committedDate": "2020-12-15T21:58:14Z", "type": "commit"}, {"oid": "72e1ac0e6f5e51e6a21f701c3c1aa72c26b08045", "url": "https://github.com/dockstore/dockstore/commit/72e1ac0e6f5e51e6a21f701c3c1aa72c26b08045", "message": "Fix checkstyle", "committedDate": "2020-12-16T15:47:27Z", "type": "commit"}, {"oid": "2095910297e182d0e181bbbb6d27e8d901a3b774", "url": "https://github.com/dockstore/dockstore/commit/2095910297e182d0e181bbbb6d27e8d901a3b774", "message": "Fix NPE", "committedDate": "2020-12-16T18:28:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY3NjAxNg==", "url": "https://github.com/dockstore/dockstore/pull/3983#discussion_r544676016", "bodyText": "getProcessValue doesn't throw an NPE -- you catch it in there and return null. I think you need a null check here instead of a catch.\nOr better, IMHO, have getProcessValue return an Optional<String>, then\ngetProcessValue(processAST).ifPresent(processName -> {\n...\n});", "author": "coverbeck", "createdAt": "2020-12-16T22:42:00Z", "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/languages/NextflowHandler.java", "diffHunk": "@@ -542,7 +554,12 @@ private void getHelpMessage(GroovySourceAST definition, StringBuilder builder, S\n             List<GroovySourceAST> processList = getGroovySourceASTList(mainDescriptor, \"process\");\n \n             for (GroovySourceAST processAST : processList) {\n-                String processName = getProcessValue(processAST);\n+                String processName;\n+                try {\n+                    processName = getProcessValue(processAST);\n+                } catch (NullPointerException e) {", "originalCommit": "2095910297e182d0e181bbbb6d27e8d901a3b774", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5MzI5OQ==", "url": "https://github.com/dockstore/dockstore/pull/3983#discussion_r544693299", "bodyText": "Hmm...my latest changes didn't get commit/pushed for some reason", "author": "garyluu", "createdAt": "2020-12-16T23:18:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY3NjAxNg=="}], "type": "inlineReview", "revised_code": {"commit": "26819e9304f784bf6b2b4bd53de5bd0d893a0365", "chunk": "diff --git a/dockstore-webservice/src/main/java/io/dockstore/webservice/languages/NextflowHandler.java b/dockstore-webservice/src/main/java/io/dockstore/webservice/languages/NextflowHandler.java\nindex 79ca68314..878499ac9 100644\n--- a/dockstore-webservice/src/main/java/io/dockstore/webservice/languages/NextflowHandler.java\n+++ b/dockstore-webservice/src/main/java/io/dockstore/webservice/languages/NextflowHandler.java\n\n@@ -554,10 +554,8 @@ public class NextflowHandler extends AbstractLanguageHandler implements Language\n             List<GroovySourceAST> processList = getGroovySourceASTList(mainDescriptor, \"process\");\n \n             for (GroovySourceAST processAST : processList) {\n-                String processName;\n-                try {\n-                    processName = getProcessValue(processAST);\n-                } catch (NullPointerException e) {\n+                String processName = getProcessValue(processAST);\n+                if (processName == null) {\n                     continue;\n                 }\n                 GroovySourceAST containerAST = getFirstAstWithKeyword(processAST, \"container\", false);\n"}}, {"oid": "26819e9304f784bf6b2b4bd53de5bd0d893a0365", "url": "https://github.com/dockstore/dockstore/commit/26819e9304f784bf6b2b4bd53de5bd0d893a0365", "message": "Fix", "committedDate": "2020-12-16T23:23:43Z", "type": "commit"}]}