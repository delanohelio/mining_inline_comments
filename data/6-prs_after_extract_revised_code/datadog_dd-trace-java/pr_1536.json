{"pr_number": 1536, "pr_title": "Make client span have distinct name", "pr_createdAt": "2020-06-04T13:30:22Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1536", "timeline": [{"oid": "f1b299a127ecdb5ffa9ca79a5f62538211d2a0ba", "url": "https://github.com/DataDog/dd-trace-java/commit/f1b299a127ecdb5ffa9ca79a5f62538211d2a0ba", "message": "Make client span have distinct name", "committedDate": "2020-06-04T13:31:55Z", "type": "commit"}, {"oid": "f1b299a127ecdb5ffa9ca79a5f62538211d2a0ba", "url": "https://github.com/DataDog/dd-trace-java/commit/f1b299a127ecdb5ffa9ca79a5f62538211d2a0ba", "message": "Make client span have distinct name", "committedDate": "2020-06-04T13:31:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI1ODk4MQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1536#discussion_r435258981", "bodyText": "Can we add this to DDSpanNames so we cache the encodings?", "author": "richardstartin", "createdAt": "2020-06-04T13:37:09Z", "path": "dd-java-agent/instrumentation/akka-http-10.0/src/main/java/datadog/trace/instrumentation/akkahttp/AkkaHttpClientInstrumentation.java", "diffHunk": "@@ -80,7 +80,7 @@ public static AgentScope methodEnter(\n         return null;\n       }\n \n-      final AgentSpan span = startSpan(\"akka-http.request\");\n+      final AgentSpan span = startSpan(\"akka-http.client.request\");", "originalCommit": "f1b299a127ecdb5ffa9ca79a5f62538211d2a0ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI2Mjg1OQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1536#discussion_r435262859", "bodyText": "\ud83d\udc4d", "author": "devinsba", "createdAt": "2020-06-04T13:40:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI1ODk4MQ=="}], "type": "inlineReview", "revised_code": {"commit": "50f8d022d297a7d330e3cd480c7a83ae753af995", "chunk": "diff --git a/dd-java-agent/instrumentation/akka-http-10.0/src/main/java/datadog/trace/instrumentation/akkahttp/AkkaHttpClientInstrumentation.java b/dd-java-agent/instrumentation/akka-http-10.0/src/main/java/datadog/trace/instrumentation/akkahttp/AkkaHttpClientInstrumentation.java\nindex dd86895fba..8bc4bc4e5d 100644\n--- a/dd-java-agent/instrumentation/akka-http-10.0/src/main/java/datadog/trace/instrumentation/akkahttp/AkkaHttpClientInstrumentation.java\n+++ b/dd-java-agent/instrumentation/akka-http-10.0/src/main/java/datadog/trace/instrumentation/akkahttp/AkkaHttpClientInstrumentation.java\n\n@@ -80,7 +81,7 @@ public final class AkkaHttpClientInstrumentation extends Instrumenter.Default {\n         return null;\n       }\n \n-      final AgentSpan span = startSpan(\"akka-http.client.request\");\n+      final AgentSpan span = startSpan(AKKA_CLIENT_REQUEST);\n       span.setTag(InstrumentationTags.DD_MEASURED, true);\n       DECORATE.afterStart(span);\n       DECORATE.onRequest(span, request);\n"}}, {"oid": "50f8d022d297a7d330e3cd480c7a83ae753af995", "url": "https://github.com/DataDog/dd-trace-java/commit/50f8d022d297a7d330e3cd480c7a83ae753af995", "message": "Use span names cache", "committedDate": "2020-06-04T13:42:56Z", "type": "commit"}]}