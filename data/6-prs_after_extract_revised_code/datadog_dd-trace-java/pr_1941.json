{"pr_number": 1941, "pr_title": "Don't treat dispatch servlet spans as top level", "pr_createdAt": "2020-10-01T19:16:55Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1941", "timeline": [{"oid": "5e1b292632c2b847a4c48c9e722066ddd5556860", "url": "https://github.com/DataDog/dd-trace-java/commit/5e1b292632c2b847a4c48c9e722066ddd5556860", "message": "Have dispatched servlet spans belong to the same chunk", "committedDate": "2020-09-30T19:25:21Z", "type": "commit"}, {"oid": "77a067974519219702e269b90ead187a2d77ef72", "url": "https://github.com/DataDog/dd-trace-java/commit/77a067974519219702e269b90ead187a2d77ef72", "message": "adjust tests\n\nFix tests", "committedDate": "2020-10-01T19:04:47Z", "type": "commit"}, {"oid": "5cda215725cb453547176de2a7bec4bf2bf56efb", "url": "https://github.com/DataDog/dd-trace-java/commit/5cda215725cb453547176de2a7bec4bf2bf56efb", "message": "Codenarc", "committedDate": "2020-10-01T19:36:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk2MTI1Ng==", "url": "https://github.com/DataDog/dd-trace-java/pull/1941#discussion_r498961256", "bodyText": "I don't think we still need to inject anymore, right?", "author": "tylerbenson", "createdAt": "2020-10-02T17:42:59Z", "path": "dd-java-agent/instrumentation/servlet/request-3/src/main/java/datadog/trace/instrumentation/servlet3/AsyncContextInstrumentation.java", "diffHunk": "@@ -78,6 +79,8 @@ public static boolean enter(\n         if (request instanceof HttpServletRequest) {\n           propagate().inject(span, (HttpServletRequest) request, SETTER);", "originalCommit": "5cda215725cb453547176de2a7bec4bf2bf56efb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2OTAyMg==", "url": "https://github.com/DataDog/dd-trace-java/pull/1941#discussion_r499069022", "bodyText": "I wasn't sure.  The servlet code has a lot of\n\nInject headers in case we lose context\n\ncomments so I left this as is", "author": "randomanderson", "createdAt": "2020-10-02T22:04:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk2MTI1Ng=="}], "type": "inlineReview", "revised_code": null}]}