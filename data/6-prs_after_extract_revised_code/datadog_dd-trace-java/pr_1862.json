{"pr_number": 1862, "pr_title": "more monitoring", "pr_createdAt": "2020-09-14T13:22:52Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1862", "timeline": [{"oid": "67652de7fb88b69f5b3e42a531e124aa35c6f2c7", "url": "https://github.com/DataDog/dd-trace-java/commit/67652de7fb88b69f5b3e42a531e124aa35c6f2c7", "message": "add CPU timer and record CPU used in trace serialisation thread", "committedDate": "2020-09-14T13:20:53Z", "type": "commit"}, {"oid": "dba185e4bc9d40f55cb5830b4b79ec8004fec133", "url": "https://github.com/DataDog/dd-trace-java/commit/dba185e4bc9d40f55cb5830b4b79ec8004fec133", "message": "add error counter for agent errors", "committedDate": "2020-09-14T13:20:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkwOTY2OA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1862#discussion_r487909668", "bodyText": "I know empirically that these are quite low cardinality", "author": "richardstartin", "createdAt": "2020-09-14T13:25:25Z", "path": "dd-trace-core/src/main/java/datadog/trace/common/writer/ddagent/DDAgentApi.java", "diffHunk": "@@ -159,6 +162,7 @@ Response sendSerializedTraces(final Payload payload) {\n       try (final Recording recording = sendPayloadTimer.start();\n           final okhttp3.Response response = httpClient.newCall(request).execute()) {\n         if (response.code() != 200) {\n+          agentErrorCounter.incrementErrorCount(response.message(), payload.traceCount());", "originalCommit": "dba185e4bc9d40f55cb5830b4b79ec8004fec133", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAxNjI1MQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1862#discussion_r488016251", "bodyText": "What are some example messages returned by this?", "author": "tylerbenson", "createdAt": "2020-09-14T15:19:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkwOTY2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyOTU0MQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1862#discussion_r488029541", "bodyText": "i/o timeout EOF - stuff like that", "author": "richardstartin", "createdAt": "2020-09-14T15:35:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkwOTY2OA=="}], "type": "inlineReview", "revised_code": null}]}