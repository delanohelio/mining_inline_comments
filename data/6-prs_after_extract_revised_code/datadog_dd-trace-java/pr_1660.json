{"pr_number": 1660, "pr_title": "log startup status", "pr_createdAt": "2020-07-08T12:20:10Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1660", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5Mjg1MQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r452292851", "bodyText": "Should the result here be fed into loadConfigurationFile() so it doesn't need to be done twice?", "author": "tylerbenson", "createdAt": "2020-07-09T15:13:00Z", "path": "dd-trace-api/src/main/java/datadog/trace/api/Config.java", "diffHunk": "@@ -348,13 +348,17 @@ private String profilingProxyPasswordMasker() {\n \n   @Getter private final boolean kafkaClientPropagationEnabled;\n \n+  @Getter private final boolean debugEnabled;\n+  @Getter private final String configFile;\n+\n   // Values from an optionally provided properties file\n   private static Properties propertiesFromConfigFile;\n \n   // Read order: System Properties -> Env Variables, [-> properties file], [-> default value]\n   // Visible for testing\n   Config() {\n     propertiesFromConfigFile = loadConfigurationFile();\n+    configFile = findConfigurationFile();", "originalCommit": "1a31be5445e1c28a423856951a7c04a5835c7112", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ1ODAyNw==", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r452458027", "bodyText": "could do, will make a note of it", "author": "richardstartin", "createdAt": "2020-07-09T20:01:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5Mjg1MQ=="}], "type": "inlineReview", "revised_code": {"commit": "80738f8fba348239a947d2838bd48f58e5c79783", "chunk": "diff --git a/dd-trace-api/src/main/java/datadog/trace/api/Config.java b/dd-trace-api/src/main/java/datadog/trace/api/Config.java\nindex 23fe6712b3..bde9b7152f 100644\n--- a/dd-trace-api/src/main/java/datadog/trace/api/Config.java\n+++ b/dd-trace-api/src/main/java/datadog/trace/api/Config.java\n\n@@ -347,6 +352,7 @@ public class Config {\n   @Getter private final int profilingExceptionHistogramMaxCollectionSize;\n \n   @Getter private final boolean kafkaClientPropagationEnabled;\n+  @Getter private final boolean kafkaClientBase64DecodingEnabled;\n \n   @Getter private final boolean debugEnabled;\n   @Getter private final String configFile;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5NTc2NA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r452295764", "bodyText": "I wonder if this should take into account the slf4j flavor of this property:\n-Ddatadog.slf4j.simpleLogger.defaultLogLevel=debug", "author": "tylerbenson", "createdAt": "2020-07-09T15:17:17Z", "path": "dd-trace-api/src/main/java/datadog/trace/api/Config.java", "diffHunk": "@@ -953,6 +963,23 @@ public boolean isTraceAnalyticsIntegrationEnabled(\n     return isEnabled(integrationNames, \".analytics.enabled\", defaultEnabled);\n   }\n \n+  private static boolean isDebugMode() {\n+    final String tracerDebugLevelSysprop = \"dd.trace.debug\";\n+    final String tracerDebugLevelProp = System.getProperty(tracerDebugLevelSysprop);", "originalCommit": "1a31be5445e1c28a423856951a7c04a5835c7112", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ1ODczOA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r452458738", "bodyText": "this is actually copy-pasted from Agent so it's fascinating that you should say that. Do we need to fix it there?", "author": "richardstartin", "createdAt": "2020-07-09T20:02:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5NTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyMDE1Mw==", "url": "https://github.com/DataDog/dd-trace-java/pull/1660#discussion_r453820153", "bodyText": "yeah, I realize it's a copy/paste from there... but it's not needed there because the result of isDebugMode() is used to actually set that property.  Here you're using it more for informational purposes.  Either way it doesn't really matter.  The effective log level will be pretty obvious.", "author": "tylerbenson", "createdAt": "2020-07-13T17:42:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI5NTc2NA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "80738f8fba348239a947d2838bd48f58e5c79783", "url": "https://github.com/DataDog/dd-trace-java/commit/80738f8fba348239a947d2838bd48f58e5c79783", "message": "log startup status", "committedDate": "2020-07-15T15:59:41Z", "type": "commit"}, {"oid": "914a36726013da25b763447b6ad563ed4272fa16", "url": "https://github.com/DataDog/dd-trace-java/commit/914a36726013da25b763447b6ad563ed4272fa16", "message": "timeout for startup check, add tag to log line", "committedDate": "2020-07-15T15:59:44Z", "type": "forcePushed"}, {"oid": "a25b15fb88e881ecf8401c01d6f77ca5e62ff04b", "url": "https://github.com/DataDog/dd-trace-java/commit/a25b15fb88e881ecf8401c01d6f77ca5e62ff04b", "message": "timeout for startup check, add tag to log line", "committedDate": "2020-07-15T18:57:19Z", "type": "forcePushed"}, {"oid": "518f128125aba1dad2f489bd0770318cded0424f", "url": "https://github.com/DataDog/dd-trace-java/commit/518f128125aba1dad2f489bd0770318cded0424f", "message": "timeout for startup check, add tag to log line", "committedDate": "2020-07-15T19:08:46Z", "type": "commit"}, {"oid": "518f128125aba1dad2f489bd0770318cded0424f", "url": "https://github.com/DataDog/dd-trace-java/commit/518f128125aba1dad2f489bd0770318cded0424f", "message": "timeout for startup check, add tag to log line", "committedDate": "2020-07-15T19:08:46Z", "type": "forcePushed"}]}