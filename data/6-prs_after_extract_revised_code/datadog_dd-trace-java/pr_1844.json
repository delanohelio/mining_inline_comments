{"pr_number": 1844, "pr_title": "Add option to not treat async request timeouts as errors", "pr_createdAt": "2020-09-08T11:13:01Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1844", "timeline": [{"oid": "96ee009a2363f5f1dac8f41ec03414d887b36332", "url": "https://github.com/DataDog/dd-trace-java/commit/96ee009a2363f5f1dac8f41ec03414d887b36332", "message": "Add 'trace.servlet.timeout.asError' property to control whether servlet3 async timeouts are treated as errors (default: true)", "committedDate": "2020-09-08T10:43:17Z", "type": "commit"}, {"oid": "329c449f7c162503ad5afb070b6bbf0c9140166a", "url": "https://github.com/DataDog/dd-trace-java/commit/329c449f7c162503ad5afb070b6bbf0c9140166a", "message": "Add async timeout test", "committedDate": "2020-09-08T10:43:17Z", "type": "commit"}, {"oid": "311f8864443775da4dcfc716e2479f826164a17b", "url": "https://github.com/DataDog/dd-trace-java/commit/311f8864443775da4dcfc716e2479f826164a17b", "message": "Update Jetty TagSettingAsyncListener to attach itself to following async requests like the generic servlet3 TagSettingAsyncListener", "committedDate": "2020-09-08T10:58:37Z", "type": "commit"}, {"oid": "057e1a600c201f2c4e0fd73cf161a50b9a9381de", "url": "https://github.com/DataDog/dd-trace-java/commit/057e1a600c201f2c4e0fd73cf161a50b9a9381de", "message": "Remove stray semicolon", "committedDate": "2020-09-08T11:36:52Z", "type": "commit"}, {"oid": "f1e8cbfb28e544cbe929845106b4cbc50370dc90", "url": "https://github.com/DataDog/dd-trace-java/commit/f1e8cbfb28e544cbe929845106b4cbc50370dc90", "message": "Make clear this is specific to servlet async timeouts", "committedDate": "2020-09-08T14:17:05Z", "type": "commit"}, {"oid": "6e28760f34c2a189304d68cfa28c8721746968cf", "url": "https://github.com/DataDog/dd-trace-java/commit/6e28760f34c2a189304d68cfa28c8721746968cf", "message": "Remove camel-case from property name to match other properties", "committedDate": "2020-09-08T14:41:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4NjMwMA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#discussion_r484986300", "bodyText": "I think my only remaining question is should the is- be removed? Don't have strong opinion either way though.", "author": "tylerbenson", "createdAt": "2020-09-08T14:56:28Z", "path": "dd-trace-api/src/main/java/datadog/trace/api/config/TraceInstrumentationConfig.java", "diffHunk": "@@ -36,7 +36,8 @@\n \n   public static final String HYSTRIX_TAGS_ENABLED = \"hystrix.tags.enabled\";\n   public static final String SERVLET_PRINCIPAL_ENABLED = \"trace.servlet.principal.enabled\";\n-  public static final String SERVLET_ASYNC_TIMEOUT_AS_ERROR = \"trace.servlet.asyncTimeout.asError\";\n+  public static final String SERVLET_ASYNC_TIMEOUT_IS_ERROR =\n+      \"trace.servlet.async-timeout.is-error\";", "originalCommit": "6e28760f34c2a189304d68cfa28c8721746968cf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk5MTgxMw==", "url": "https://github.com/DataDog/dd-trace-java/pull/1844#discussion_r484991813", "bodyText": "Yes, I think that's reasonable: f04104f - avoids ending up with multiple is in the method name", "author": "mcculls", "createdAt": "2020-09-08T15:02:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4NjMwMA=="}], "type": "inlineReview", "revised_code": {"commit": "e9e2076c300d956cd023b10614477cbc3cc7a1b9", "chunk": "diff --git a/dd-trace-api/src/main/java/datadog/trace/api/config/TraceInstrumentationConfig.java b/dd-trace-api/src/main/java/datadog/trace/api/config/TraceInstrumentationConfig.java\nindex 69512c86af..01537b3c9c 100644\n--- a/dd-trace-api/src/main/java/datadog/trace/api/config/TraceInstrumentationConfig.java\n+++ b/dd-trace-api/src/main/java/datadog/trace/api/config/TraceInstrumentationConfig.java\n\n@@ -36,8 +36,7 @@ public final class TraceInstrumentationConfig {\n \n   public static final String HYSTRIX_TAGS_ENABLED = \"hystrix.tags.enabled\";\n   public static final String SERVLET_PRINCIPAL_ENABLED = \"trace.servlet.principal.enabled\";\n-  public static final String SERVLET_ASYNC_TIMEOUT_IS_ERROR =\n-      \"trace.servlet.async-timeout.is-error\";\n+  public static final String SERVLET_ASYNC_TIMEOUT_ERROR = \"trace.servlet.async-timeout.error\";\n \n   private TraceInstrumentationConfig() {}\n }\n"}}, {"oid": "e9e2076c300d956cd023b10614477cbc3cc7a1b9", "url": "https://github.com/DataDog/dd-trace-java/commit/e9e2076c300d956cd023b10614477cbc3cc7a1b9", "message": "Simplify property", "committedDate": "2020-09-08T19:06:04Z", "type": "commit"}, {"oid": "e9e2076c300d956cd023b10614477cbc3cc7a1b9", "url": "https://github.com/DataDog/dd-trace-java/commit/e9e2076c300d956cd023b10614477cbc3cc7a1b9", "message": "Simplify property", "committedDate": "2020-09-08T19:06:04Z", "type": "forcePushed"}]}