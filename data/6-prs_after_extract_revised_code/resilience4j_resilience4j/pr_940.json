{"pr_number": 940, "pr_title": "Related to issue #939", "pr_createdAt": "2020-03-24T09:45:27Z", "pr_url": "https://github.com/resilience4j/resilience4j/pull/940", "timeline": [{"oid": "fd94186925ba973448d5c0003125aed5882ccda4", "url": "https://github.com/resilience4j/resilience4j/commit/fd94186925ba973448d5c0003125aed5882ccda4", "message": "- related to issue #939\n- FAILURE_RATE_EXCEED exception has been triggered but it has no case in the CircuitBreakerEventDTOFactory\n- This issue caused by relation between minimum call numbers and failureRateThreshold", "committedDate": "2020-03-24T09:40:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE2NzA5MA==", "url": "https://github.com/resilience4j/resilience4j/pull/940#discussion_r397167090", "bodyText": "I think we need to add SLOW_CALL_RATE_EXCEEDED type too.\nWhat do you think @RobWin ?", "author": "dlsrb6342", "createdAt": "2020-03-24T13:51:13Z", "path": "resilience4j-framework-common/src/main/java/io/github/resilience4j/common/circuitbreaker/monitoring/endpoint/CircuitBreakerEventDTOFactory.java", "diffHunk": "@@ -54,6 +54,10 @@ public static CircuitBreakerEventDTO createCircuitBreakerEventDTO(CircuitBreaker\n                 CircuitBreakerOnCallNotPermittedEvent onCallNotPermittedEvent = (CircuitBreakerOnCallNotPermittedEvent) event;\n                 return newCircuitBreakerEventDTOBuilder(onCallNotPermittedEvent)\n                     .build();\n+            case FAILURE_RATE_EXCEEDED:", "originalCommit": "fd94186925ba973448d5c0003125aed5882ccda4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE3MTkzNg==", "url": "https://github.com/resilience4j/resilience4j/pull/940#discussion_r397171936", "bodyText": "Yes", "author": "RobWin", "createdAt": "2020-03-24T13:57:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE2NzA5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE3Mzc3OA==", "url": "https://github.com/resilience4j/resilience4j/pull/940#discussion_r397173778", "bodyText": "@rusyasoft Please add SLOW_CALL_RATE_EXCEEDED  too.", "author": "dlsrb6342", "createdAt": "2020-03-24T14:00:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE2NzA5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI3MTAyOQ==", "url": "https://github.com/resilience4j/resilience4j/pull/940#discussion_r397271029", "bodyText": "@dlsrb6342  added SLOW_CALL_RATE_EXCEEDED case", "author": "rusyasoft", "createdAt": "2020-03-24T16:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE2NzA5MA=="}], "type": "inlineReview", "revised_code": {"commit": "c9b1288d7e8f1864a5c41e70c1befabb875a4f9a", "chunk": "diff --git a/resilience4j-framework-common/src/main/java/io/github/resilience4j/common/circuitbreaker/monitoring/endpoint/CircuitBreakerEventDTOFactory.java b/resilience4j-framework-common/src/main/java/io/github/resilience4j/common/circuitbreaker/monitoring/endpoint/CircuitBreakerEventDTOFactory.java\nindex 46a693aa..659d10aa 100644\n--- a/resilience4j-framework-common/src/main/java/io/github/resilience4j/common/circuitbreaker/monitoring/endpoint/CircuitBreakerEventDTOFactory.java\n+++ b/resilience4j-framework-common/src/main/java/io/github/resilience4j/common/circuitbreaker/monitoring/endpoint/CircuitBreakerEventDTOFactory.java\n\n@@ -58,6 +58,10 @@ public class CircuitBreakerEventDTOFactory {\n                 CircuitBreakerOnFailureRateExceededEvent onFailureRateExceededEvent = (CircuitBreakerOnFailureRateExceededEvent) event;\n                 return newCircuitBreakerEventDTOBuilder(onFailureRateExceededEvent)\n                     .build();\n+            case SLOW_CALL_RATE_EXCEEDED:\n+                CircuitBreakerOnSlowCallRateExceededEvent onSlowCallRateExceededEvent = (CircuitBreakerOnSlowCallRateExceededEvent) event;\n+                return newCircuitBreakerEventDTOBuilder(onSlowCallRateExceededEvent)\n+                    .build();\n             default:\n                 throw new IllegalArgumentException(\"Invalid event\");\n         }\n"}}, {"oid": "c9b1288d7e8f1864a5c41e70c1befabb875a4f9a", "url": "https://github.com/resilience4j/resilience4j/commit/c9b1288d7e8f1864a5c41e70c1befabb875a4f9a", "message": "- related to issue #939\n- SLOW_CALL_RATE_EXCEEDED exception has been added", "committedDate": "2020-03-24T16:01:57Z", "type": "commit"}]}