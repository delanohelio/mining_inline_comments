{"pr_number": 2887, "pr_title": "bugfix: fix rm client receive response logic.", "pr_createdAt": "2020-07-14T11:33:49Z", "pr_url": "https://github.com/seata/seata/pull/2887", "timeline": [{"oid": "72678fad8b9e2dba1a9261dba0aac3eb49ecbada", "url": "https://github.com/seata/seata/commit/72678fad8b9e2dba1a9261dba0aac3eb49ecbada", "message": "fix client onResponse", "committedDate": "2020-07-14T11:30:13Z", "type": "commit"}, {"oid": "4127f31f318f0a2b81cb01045ddf54d67f3668d3", "url": "https://github.com/seata/seata/commit/4127f31f318f0a2b81cb01045ddf54d67f3668d3", "message": "remove useless import,", "committedDate": "2020-07-14T11:38:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM0OTQ4OA==", "url": "https://github.com/seata/seata/pull/2887#discussion_r454349488", "bodyText": "add receive response log.", "author": "slievrly", "createdAt": "2020-07-14T13:19:01Z", "path": "rm/src/main/java/io/seata/rm/AbstractRMHandler.java", "diffHunk": "@@ -153,7 +152,6 @@ public AbstractResultMessage onRequest(AbstractMessage request, RpcContext conte\n \n     @Override\n     public void onResponse(AbstractResultMessage response, RpcContext context) {\n-        throw new ShouldNeverHappenException();", "originalCommit": "4127f31f318f0a2b81cb01045ddf54d67f3668d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM2MDU1Mw==", "url": "https://github.com/seata/seata/pull/2887#discussion_r454360553", "bodyText": "done.", "author": "objcoding", "createdAt": "2020-07-14T13:36:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM0OTQ4OA=="}], "type": "inlineReview", "revised_code": {"commit": "0fbd5e2197b93fd5624b7e08493e4eff690281ad", "chunk": "diff --git a/rm/src/main/java/io/seata/rm/AbstractRMHandler.java b/rm/src/main/java/io/seata/rm/AbstractRMHandler.java\nindex 17ea1b5c..05e25839 100644\n--- a/rm/src/main/java/io/seata/rm/AbstractRMHandler.java\n+++ b/rm/src/main/java/io/seata/rm/AbstractRMHandler.java\n\n@@ -152,6 +152,7 @@ public abstract class AbstractRMHandler extends AbstractExceptionHandler\n \n     @Override\n     public void onResponse(AbstractResultMessage response, RpcContext context) {\n+        LOGGER.warn(\"client received response msg [{}] from tc server, bug without any processing logic.\", response.getMsg());\n     }\n \n     public abstract BranchType getBranchType();\n"}}, {"oid": "0fbd5e2197b93fd5624b7e08493e4eff690281ad", "url": "https://github.com/seata/seata/commit/0fbd5e2197b93fd5624b7e08493e4eff690281ad", "message": "add receive response log.", "committedDate": "2020-07-14T13:32:11Z", "type": "commit"}, {"oid": "4ac814f4b7a244d9058846db9adf45b58f63f6cc", "url": "https://github.com/seata/seata/commit/4ac814f4b7a244d9058846db9adf45b58f63f6cc", "message": "add receive response log.", "committedDate": "2020-07-14T13:37:33Z", "type": "commit"}, {"oid": "5cc6e510fccf15ee3d6d9225c3894457244ef07f", "url": "https://github.com/seata/seata/commit/5cc6e510fccf15ee3d6d9225c3894457244ef07f", "message": "add receive response log.", "committedDate": "2020-07-14T13:38:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM2MzExMg==", "url": "https://github.com/seata/seata/pull/2887#discussion_r454363112", "bodyText": "if it's normal\uff0cresponse.getMsg() is null.", "author": "slievrly", "createdAt": "2020-07-14T13:39:47Z", "path": "rm/src/main/java/io/seata/rm/AbstractRMHandler.java", "diffHunk": "@@ -153,7 +152,7 @@ public AbstractResultMessage onRequest(AbstractMessage request, RpcContext conte\n \n     @Override\n     public void onResponse(AbstractResultMessage response, RpcContext context) {\n-        throw new ShouldNeverHappenException();\n+        LOGGER.warn(\"client received response msg [{}] from tc server, bug without any processing logic.\", response.getMsg());", "originalCommit": "0fbd5e2197b93fd5624b7e08493e4eff690281ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM3MTkxOA==", "url": "https://github.com/seata/seata/pull/2887#discussion_r454371918", "bodyText": "ok, done", "author": "objcoding", "createdAt": "2020-07-14T13:52:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM2MzExMg=="}], "type": "inlineReview", "revised_code": {"commit": "3dd2fbb1f7257f02eece5f7df69cf2d2722aaf80", "chunk": "diff --git a/rm/src/main/java/io/seata/rm/AbstractRMHandler.java b/rm/src/main/java/io/seata/rm/AbstractRMHandler.java\nindex 05e25839..ddb39130 100644\n--- a/rm/src/main/java/io/seata/rm/AbstractRMHandler.java\n+++ b/rm/src/main/java/io/seata/rm/AbstractRMHandler.java\n\n@@ -152,7 +152,7 @@ public abstract class AbstractRMHandler extends AbstractExceptionHandler\n \n     @Override\n     public void onResponse(AbstractResultMessage response, RpcContext context) {\n-        LOGGER.warn(\"client received response msg [{}] from tc server, bug without any processing logic.\", response.getMsg());\n+        LOGGER.info(\"the rm client received response msg from tc server, bug without any processing logic.\");\n     }\n \n     public abstract BranchType getBranchType();\n"}}, {"oid": "3dd2fbb1f7257f02eece5f7df69cf2d2722aaf80", "url": "https://github.com/seata/seata/commit/3dd2fbb1f7257f02eece5f7df69cf2d2722aaf80", "message": "add receive response log.", "committedDate": "2020-07-14T13:40:12Z", "type": "commit"}, {"oid": "249f110dd0d0b967e210158b2c0042fca27515a5", "url": "https://github.com/seata/seata/commit/249f110dd0d0b967e210158b2c0042fca27515a5", "message": "add receive response log.", "committedDate": "2020-07-14T13:49:52Z", "type": "commit"}]}