{"pr_number": 2530, "pr_title": "optimize: remove use connPool.", "pr_createdAt": "2020-04-09T13:43:01Z", "pr_url": "https://github.com/seata/seata/pull/2530", "timeline": [{"oid": "d84030aa4c5263ebe929f596f46df89fb1140629", "url": "https://github.com/seata/seata/commit/d84030aa4c5263ebe929f596f46df89fb1140629", "message": "optimize: remove use connPool.", "committedDate": "2020-04-09T13:30:44Z", "type": "commit"}, {"oid": "7c3f7032b84ebd96fa1928ff4898ffb8c84a646b", "url": "https://github.com/seata/seata/commit/7c3f7032b84ebd96fa1928ff4898ffb8c84a646b", "message": "optimize: remove use connPool.", "committedDate": "2020-04-09T13:39:24Z", "type": "commit"}, {"oid": "1ba4315a1fbf9b98156948ee92f8cf3da5c11061", "url": "https://github.com/seata/seata/commit/1ba4315a1fbf9b98156948ee92f8cf3da5c11061", "message": "Merge branch 'develop' into remove-use-conn-pool", "committedDate": "2020-04-10T02:32:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjU5NjEzMg==", "url": "https://github.com/seata/seata/pull/2530#discussion_r406596132", "bodyText": "clientChannelPool is never used, except shutdown.", "author": "l81893521", "createdAt": "2020-04-10T04:23:17Z", "path": "core/src/main/java/io/seata/core/rpc/netty/RpcClientBootstrap.java", "diffHunk": "@@ -129,57 +128,29 @@ public void start() {\n                     .option(EpollChannelOption.TCP_QUICKACK, true);\n             }\n         }\n-        if (nettyClientConfig.isUseConnPool()) {\n-            clientChannelPool = new AbstractChannelPoolMap<InetSocketAddress, FixedChannelPool>() {", "originalCommit": "1ba4315a1fbf9b98156948ee92f8cf3da5c11061", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwNTk1Mg==", "url": "https://github.com/seata/seata/pull/2530#discussion_r406605952", "bodyText": "Done.", "author": "objcoding", "createdAt": "2020-04-10T05:15:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjU5NjEzMg=="}], "type": "inlineReview", "revised_code": {"commit": "c9e966c3dd3c9b3767972965d4fc31cd47f6fdbf", "chunk": "diff --git a/core/src/main/java/io/seata/core/rpc/netty/RpcClientBootstrap.java b/core/src/main/java/io/seata/core/rpc/netty/RpcClientBootstrap.java\nindex c8399610e8..5bfe7aa89e 100644\n--- a/core/src/main/java/io/seata/core/rpc/netty/RpcClientBootstrap.java\n+++ b/core/src/main/java/io/seata/core/rpc/netty/RpcClientBootstrap.java\n\n@@ -154,9 +153,6 @@ public class RpcClientBootstrap implements RemotingClient {\n     @Override\n     public void shutdown() {\n         try {\n-            if (null != clientChannelPool) {\n-                clientChannelPool.close();\n-            }\n             this.eventLoopGroupWorker.shutdownGracefully();\n             if (this.defaultEventExecutorGroup != null) {\n                 this.defaultEventExecutorGroup.shutdownGracefully();\n"}}, {"oid": "c9e966c3dd3c9b3767972965d4fc31cd47f6fdbf", "url": "https://github.com/seata/seata/commit/c9e966c3dd3c9b3767972965d4fc31cd47f6fdbf", "message": "clientChannelPool is never used, except shutdown.", "committedDate": "2020-04-10T05:14:53Z", "type": "commit"}, {"oid": "0815a875e29d95b9ae67c11c34fe34e3f02117c7", "url": "https://github.com/seata/seata/commit/0815a875e29d95b9ae67c11c34fe34e3f02117c7", "message": "Merge branch 'develop' into remove-use-conn-pool", "committedDate": "2020-04-10T05:17:26Z", "type": "commit"}, {"oid": "03d9fb7d3d23a0b55742dc95e8732151609dd0e3", "url": "https://github.com/seata/seata/commit/03d9fb7d3d23a0b55742dc95e8732151609dd0e3", "message": "clientChannelPool is never used, except shutdown.", "committedDate": "2020-04-10T05:17:40Z", "type": "commit"}, {"oid": "498d8bd5a8b507acc7895cab0c2cb62fcb0a2534", "url": "https://github.com/seata/seata/commit/498d8bd5a8b507acc7895cab0c2cb62fcb0a2534", "message": "Merge branch 'remove-use-conn-pool' of https://github.com/objcoding/seata into remove-use-conn-pool", "committedDate": "2020-04-10T05:18:09Z", "type": "commit"}]}