{"pr_number": 2788, "pr_title": "optimize: optimize seata-server log pattern and support for colored log.", "pr_createdAt": "2020-06-10T10:27:46Z", "pr_url": "https://github.com/seata/seata/pull/2788", "timeline": [{"oid": "a0e17cced78b120c1f970efa0c0265ae160053d6", "url": "https://github.com/seata/seata/commit/a0e17cced78b120c1f970efa0c0265ae160053d6", "message": "seata-server\u7684\u65e5\u5fd7\u6253\u5370\u683c\u5f0f\u8c03\u6574\u3002", "committedDate": "2020-06-10T10:25:03Z", "type": "commit"}, {"oid": "fee75dc052aaf5b084ffa3edfe55917b2c101aa5", "url": "https://github.com/seata/seata/commit/fee75dc052aaf5b084ffa3edfe55917b2c101aa5", "message": "seata-server\u7684\u65e5\u5fd7\uff0c\u63a7\u5236\u53f0\u6253\u5370\u65f6\uff0c\u53ef\u6253\u5370\u5e26\u989c\u8272\u7684\u6587\u5b57\u3002", "committedDate": "2020-06-11T04:27:13Z", "type": "commit"}, {"oid": "19a4dde3fa1bd1821cacaff1be7285e4964571a9", "url": "https://github.com/seata/seata/commit/19a4dde3fa1bd1821cacaff1be7285e4964571a9", "message": "fix style.", "committedDate": "2020-06-11T04:52:37Z", "type": "commit"}, {"oid": "f0d68b657e2fa1c5debb3ab9f7584e241a214950", "url": "https://github.com/seata/seata/commit/f0d68b657e2fa1c5debb3ab9f7584e241a214950", "message": "\u5386\u53f2\u65e5\u5fd7\u6587\u4ef6\u653e\u5165\u5b50\u6587\u4ef6\u5939/history\u4e2d\uff0c\u4e14\u540e\u7f00\u540d\u6539\u4e3a.gz", "committedDate": "2020-06-11T05:15:33Z", "type": "commit"}, {"oid": "d6f22f90ffe54f9a51cf81875e95f6a0bbad38f2", "url": "https://github.com/seata/seata/commit/d6f22f90ffe54f9a51cf81875e95f6a0bbad38f2", "message": "\u65e5\u5fd7\u4fe1\u606f\u4e2d\uff0c\u52a0\u5165\u8fdb\u7a0bID\u3002", "committedDate": "2020-06-11T05:43:47Z", "type": "commit"}, {"oid": "5203e12a25cda0a6b9c57cba8b31d28aebff3ebf", "url": "https://github.com/seata/seata/commit/5203e12a25cda0a6b9c57cba8b31d28aebff3ebf", "message": "fix style.", "committedDate": "2020-06-11T05:45:28Z", "type": "commit"}, {"oid": "f5094d582a996e73d529a8fac5badbd40eb1b033", "url": "https://github.com/seata/seata/commit/f5094d582a996e73d529a8fac5badbd40eb1b033", "message": "\u8c03\u6574\u65e5\u5fd7\u8f93\u51faPID\u7684\u529f\u80fd\u3002", "committedDate": "2020-06-13T11:39:26Z", "type": "commit"}, {"oid": "227c46b87162956dbba7cf71d3053df0b504b48c", "url": "https://github.com/seata/seata/commit/227c46b87162956dbba7cf71d3053df0b504b48c", "message": "Merge branch 'develop' into server-log-pattern", "committedDate": "2020-06-14T02:31:15Z", "type": "commit"}, {"oid": "defff17337dde7a2bd56d25ea6156bdcb55c3a47", "url": "https://github.com/seata/seata/commit/defff17337dde7a2bd56d25ea6156bdcb55c3a47", "message": "\u53bb\u9664\u591a\u4f59\u7684\u7a7a\u683c\u3002", "committedDate": "2020-06-15T08:27:26Z", "type": "commit"}, {"oid": "bb27166fb1253747945a4d52ce464bb2bb319c60", "url": "https://github.com/seata/seata/commit/bb27166fb1253747945a4d52ce464bb2bb319c60", "message": "Merge branch 'develop' into server-log-pattern", "committedDate": "2020-06-17T06:06:08Z", "type": "commit"}, {"oid": "a70658bd61adc535837f73dfa813e35ba91f02ab", "url": "https://github.com/seata/seata/commit/a70658bd61adc535837f73dfa813e35ba91f02ab", "message": "Merge branch 'develop' into server-log-pattern", "committedDate": "2020-06-18T03:22:23Z", "type": "commit"}, {"oid": "b7e5bcb87a5c9ceb87b9a313b18b3b541258ddfc", "url": "https://github.com/seata/seata/commit/b7e5bcb87a5c9ceb87b9a313b18b3b541258ddfc", "message": "seata-server: \u65e5\u5fd7\u6587\u4ef6\u540d\u62fc\u63a5\u7aef\u53e3\u53f7\u3002\u4e14WARN\u548cERROR\u65e5\u5fd7\u53e6\u5b58\u4e00\u4e2a\u6587\u4ef6\u3002", "committedDate": "2020-06-18T09:05:53Z", "type": "commit"}, {"oid": "40a2075a3868c05d2814dfea57d13e2ec837f512", "url": "https://github.com/seata/seata/commit/40a2075a3868c05d2814dfea57d13e2ec837f512", "message": "\u6dfb\u52a0Copyright", "committedDate": "2020-06-18T09:22:37Z", "type": "commit"}, {"oid": "d9fc8018ebba0e39d5dc7a1f21b2a6b7699fa5fa", "url": "https://github.com/seata/seata/commit/d9fc8018ebba0e39d5dc7a1f21b2a6b7699fa5fa", "message": "\u5c0f\u8c03\u6574\u3002", "committedDate": "2020-06-18T09:31:42Z", "type": "commit"}, {"oid": "7ea3229fb0bce1a8d8e9a3f2a93938fcb4e52384", "url": "https://github.com/seata/seata/commit/7ea3229fb0bce1a8d8e9a3f2a93938fcb4e52384", "message": "\u5c0f\u8c03\u6574\u3002", "committedDate": "2020-06-18T09:32:57Z", "type": "commit"}, {"oid": "06bbcf1d62858ba1e58dcd7abcd1e9fdb8e22bfa", "url": "https://github.com/seata/seata/commit/06bbcf1d62858ba1e58dcd7abcd1e9fdb8e22bfa", "message": "\u5c0f\u8c03\u6574\u3002", "committedDate": "2020-06-18T09:49:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjExODU2Mg==", "url": "https://github.com/seata/seata/pull/2788#discussion_r442118562", "bodyText": "The class not used?", "author": "jsbxyyx", "createdAt": "2020-06-18T10:11:20Z", "path": "server/src/main/java/io/seata/server/logging/logback/ApplicationPid.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server.logging.logback;\n+\n+import java.lang.management.ManagementFactory;\n+\n+/**\n+ * An application process ID.\n+ *\n+ * @author wang.liang\n+ */\n+public class ApplicationPid {", "originalCommit": "40a2075a3868c05d2814dfea57d13e2ec837f512", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d1eec00ea7ac7cba4529a1dbdf992af6690c4053", "chunk": "diff --git a/server/src/main/java/io/seata/server/logging/logback/ApplicationPid.java b/server/src/main/java/io/seata/server/logging/logback/ApplicationPid.java\ndeleted file mode 100644\nindex 531b5254a0..0000000000\n--- a/server/src/main/java/io/seata/server/logging/logback/ApplicationPid.java\n+++ /dev/null\n\n@@ -1,51 +0,0 @@\n-/*\n- *  Copyright 1999-2019 Seata.io Group.\n- *\n- *  Licensed under the Apache License, Version 2.0 (the \"License\");\n- *  you may not use this file except in compliance with the License.\n- *  You may obtain a copy of the License at\n- *\n- *       http://www.apache.org/licenses/LICENSE-2.0\n- *\n- *  Unless required by applicable law or agreed to in writing, software\n- *  distributed under the License is distributed on an \"AS IS\" BASIS,\n- *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- *  See the License for the specific language governing permissions and\n- *  limitations under the License.\n- */\n-package io.seata.server.logging.logback;\n-\n-import java.lang.management.ManagementFactory;\n-\n-/**\n- * An application process ID.\n- *\n- * @author wang.liang\n- */\n-public class ApplicationPid {\n-\n-    private final String pid;\n-\n-    public ApplicationPid() {\n-        this.pid = getPid();\n-    }\n-\n-    protected ApplicationPid(String pid) {\n-        this.pid = pid;\n-    }\n-\n-    private String getPid() {\n-        try {\n-            String jvmName = ManagementFactory.getRuntimeMXBean().getName();\n-            return jvmName.split(\"@\")[0];\n-        }\n-        catch (Throwable ex) {\n-            return null;\n-        }\n-    }\n-\n-    @Override\n-    public String toString() {\n-        return (this.pid != null) ? this.pid : \"???\";\n-    }\n-}\n"}}, {"oid": "d1eec00ea7ac7cba4529a1dbdf992af6690c4053", "url": "https://github.com/seata/seata/commit/d1eec00ea7ac7cba4529a1dbdf992af6690c4053", "message": "\u5c0f\u8c03\u6574\u3002", "committedDate": "2020-06-18T10:18:43Z", "type": "commit"}, {"oid": "3db15bdfa54ed15c9ddf4f435752af15761238ee", "url": "https://github.com/seata/seata/commit/3db15bdfa54ed15c9ddf4f435752af15761238ee", "message": "\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u53d8\u56de\u53bb\u3002", "committedDate": "2020-06-18T10:19:45Z", "type": "commit"}, {"oid": "d44bf154fcc7a74aa822067a2e8539f8753d6a9c", "url": "https://github.com/seata/seata/commit/d44bf154fcc7a74aa822067a2e8539f8753d6a9c", "message": "if\u8bed\u53e5\u6dfb\u52a0\u5927\u62ec\u53f7\u3002", "committedDate": "2020-06-18T10:20:34Z", "type": "commit"}]}