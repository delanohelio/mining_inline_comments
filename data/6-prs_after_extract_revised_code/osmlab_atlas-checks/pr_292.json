{"pr_number": 292, "pr_title": "Update FlaggedRelation to Output Atlas Identifier and OSM Identifier as String", "pr_createdAt": "2020-05-06T19:15:19Z", "pr_url": "https://github.com/osmlab/atlas-checks/pull/292", "timeline": [{"oid": "957a22a0e1ece9353807c5f8952b322d0934c055", "url": "https://github.com/osmlab/atlas-checks/commit/957a22a0e1ece9353807c5f8952b322d0934c055", "message": "Update FlaggedRelation", "committedDate": "2020-05-06T18:41:25Z", "type": "commit"}, {"oid": "8ff123dcdae495c8eff54969deac7d88e96649c7", "url": "https://github.com/osmlab/atlas-checks/commit/8ff123dcdae495c8eff54969deac7d88e96649c7", "message": "Revert change", "committedDate": "2020-05-06T18:43:47Z", "type": "commit"}, {"oid": "7661184cec4ff8f65d42cfbd027811c95eb9c64c", "url": "https://github.com/osmlab/atlas-checks/commit/7661184cec4ff8f65d42cfbd027811c95eb9c64c", "message": "spotless", "committedDate": "2020-05-06T18:54:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYxODYwNg==", "url": "https://github.com/osmlab/atlas-checks/pull/292#discussion_r421618606", "bodyText": "Do you mind adding a comment here on why we're deleting and adding the same properties/values ?", "author": "danielduhh", "createdAt": "2020-05-07T16:02:12Z", "path": "src/main/java/org/openstreetmap/atlas/checks/flag/FlaggedRelation.java", "diffHunk": "@@ -64,10 +67,15 @@ public FlaggedRelation(final Relation relation, final MultiPolygon geoJsonGeomet\n     public JsonObject asGeoJsonFeature(final String flagIdentifier)\n     {\n         final JsonObject featureProperties = this.relation.getGeoJsonProperties();\n+        final JsonElement osmIdentifier = featureProperties.get(OSM_IDENTIFIER_TAG);\n+        final JsonElement identifier = featureProperties.get(IDENTIFIER);\n+        featureProperties.remove(OSM_IDENTIFIER_TAG);", "originalCommit": "7661184cec4ff8f65d42cfbd027811c95eb9c64c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY2NDQ1NA==", "url": "https://github.com/osmlab/atlas-checks/pull/292#discussion_r421664454", "bodyText": "@danielduhh I have added the comment.", "author": "sayas01", "createdAt": "2020-05-07T17:15:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYxODYwNg=="}], "type": "inlineReview", "revised_code": {"commit": "7576f45aaece64d5f4613b7851041ca71b7377c3", "chunk": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/flag/FlaggedRelation.java b/src/main/java/org/openstreetmap/atlas/checks/flag/FlaggedRelation.java\nindex e5ef281..579213c 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/flag/FlaggedRelation.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/flag/FlaggedRelation.java\n\n@@ -69,6 +69,9 @@ public class FlaggedRelation extends FlaggedObject\n         final JsonObject featureProperties = this.relation.getGeoJsonProperties();\n         final JsonElement osmIdentifier = featureProperties.get(OSM_IDENTIFIER_TAG);\n         final JsonElement identifier = featureProperties.get(IDENTIFIER);\n+        // Since the properties of all other FlaggedObjects are String, osmIdentifier and\n+        // identifier values of FlaggedRelation, which are Integers are removed and added as String\n+        // here\n         featureProperties.remove(OSM_IDENTIFIER_TAG);\n         featureProperties.remove(IDENTIFIER);\n         featureProperties.addProperty(OSM_IDENTIFIER_TAG, osmIdentifier.toString());\n"}}, {"oid": "7576f45aaece64d5f4613b7851041ca71b7377c3", "url": "https://github.com/osmlab/atlas-checks/commit/7576f45aaece64d5f4613b7851041ca71b7377c3", "message": "Add comment", "committedDate": "2020-05-07T17:14:22Z", "type": "commit"}, {"oid": "64c7e85d70969dc3e09b69852d29e71394c9ad90", "url": "https://github.com/osmlab/atlas-checks/commit/64c7e85d70969dc3e09b69852d29e71394c9ad90", "message": "Merge branch 'dev' into flaggedrelation-update", "committedDate": "2020-05-07T17:15:47Z", "type": "commit"}]}