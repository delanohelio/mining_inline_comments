{"pr_number": 268, "pr_title": "Overlapping edge check bug fix.", "pr_createdAt": "2020-03-10T18:24:01Z", "pr_url": "https://github.com/osmlab/atlas-checks/pull/268", "timeline": [{"oid": "972f7771c2bf490963e2d12b6fa9d7ba9d029af7", "url": "https://github.com/osmlab/atlas-checks/commit/972f7771c2bf490963e2d12b6fa9d7ba9d029af7", "message": "OverlappingEdgeCheck, marking overlapping edges on atlas identifier instead of osm identifier.", "committedDate": "2020-02-28T16:47:41Z", "type": "commit"}, {"oid": "4ca795864001f0f34e777f3f14f98f327d35febc", "url": "https://github.com/osmlab/atlas-checks/commit/4ca795864001f0f34e777f3f14f98f327d35febc", "message": "OverlappingEdgeCheck, replacing getIdentifier with getOsmIdentifier for localized instruction.", "committedDate": "2020-03-02T17:43:52Z", "type": "commit"}, {"oid": "71e6b13592c3e75183a32d73725af917dc444770", "url": "https://github.com/osmlab/atlas-checks/commit/71e6b13592c3e75183a32d73725af917dc444770", "message": "Merge branch 'dev' into overlapping-edge-check", "committedDate": "2020-03-10T18:24:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUzMDU1NQ==", "url": "https://github.com/osmlab/atlas-checks/pull/268#discussion_r390530555", "bodyText": "It looks like the items in wayIds should be atlas identifiers, otherwise the search will return true for all multi edge ways.", "author": "Bentleysb", "createdAt": "2020-03-10T18:38:52Z", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/OverlappingEdgeCheck.java", "diffHunk": "@@ -182,13 +182,13 @@ private boolean isPartOfClosedWay(final Edge object)\n         // Loop through out going edges with the same OSM id\n         while (nextEdge != null)\n         {\n-            wayIds.add(nextEdge.getIdentifier());\n+            wayIds.add(nextEdge.getOsmIdentifier());", "originalCommit": "71e6b13592c3e75183a32d73725af917dc444770", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUzMzI1OQ==", "url": "https://github.com/osmlab/atlas-checks/pull/268#discussion_r390533259", "bodyText": "Agreed. Will change it.", "author": "smaheshwaram", "createdAt": "2020-03-10T18:43:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUzMDU1NQ=="}], "type": "inlineReview", "revised_code": {"commit": "bf428deb8df7f4a50d4a330b543e3f4e0c3436a0", "chunk": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/OverlappingEdgeCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/OverlappingEdgeCheck.java\nindex 8c84a44f..93897582 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/OverlappingEdgeCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/linear/edges/OverlappingEdgeCheck.java\n\n@@ -182,13 +182,13 @@ public class OverlappingEdgeCheck extends BaseCheck<Long>\n         // Loop through out going edges with the same OSM id\n         while (nextEdge != null)\n         {\n-            wayIds.add(nextEdge.getOsmIdentifier());\n+            wayIds.add(nextEdge.getIdentifier());\n             final List<Edge> nextEdgeList = Iterables.stream(nextEdge.outEdges())\n                     .filter(outEdge -> outEdge.getOsmIdentifier() == object.getOsmIdentifier())\n                     .collectToList();\n             nextEdge = nextEdgeList.isEmpty() ? null : nextEdgeList.get(0);\n             // If original edge is found, the way is closed\n-            if (nextEdge != null && wayIds.contains(nextEdge.getOsmIdentifier()))\n+            if (nextEdge != null && wayIds.contains(nextEdge.getIdentifier()))\n             {\n                 return true;\n             }\n"}}, {"oid": "bf428deb8df7f4a50d4a330b543e3f4e0c3436a0", "url": "https://github.com/osmlab/atlas-checks/commit/bf428deb8df7f4a50d4a330b543e3f4e0c3436a0", "message": "OverlappingEdgeCheck, replacing way Ids list to contain atlas identifiers.", "committedDate": "2020-03-10T18:48:34Z", "type": "commit"}]}