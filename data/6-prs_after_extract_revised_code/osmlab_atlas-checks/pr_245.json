{"pr_number": 245, "pr_title": "Connectivity check bug fix.", "pr_createdAt": "2020-01-20T16:30:45Z", "pr_url": "https://github.com/osmlab/atlas-checks/pull/245", "timeline": [{"oid": "7c4cbf92519a44c3062fef1e65844dadd047b88c", "url": "https://github.com/osmlab/atlas-checks/commit/7c4cbf92519a44c3062fef1e65844dadd047b88c", "message": "Sonar-fixes, commit 3, replacing throwable with IOException.", "committedDate": "2019-11-26T20:47:04Z", "type": "commit"}, {"oid": "dba23192632af4bf72d89c54712dc88394a9424e", "url": "https://github.com/osmlab/atlas-checks/commit/dba23192632af4bf72d89c54712dc88394a9424e", "message": "Merge branch 'dev' of https://github.com/osmlab/atlas-checks into connectivity-check", "committedDate": "2020-01-17T19:07:13Z", "type": "commit"}, {"oid": "afffe99d0710b54e06f1e3d4a3251de420eef026", "url": "https://github.com/osmlab/atlas-checks/commit/afffe99d0710b54e06f1e3d4a3251de420eef026", "message": "ConnectivityCheck, checking if the object is Synthetic boundary node.", "committedDate": "2020-01-17T19:47:40Z", "type": "commit"}, {"oid": "08020301f6c8d65ab57881c46d6ab23d46508bc9", "url": "https://github.com/osmlab/atlas-checks/commit/08020301f6c8d65ab57881c46d6ab23d46508bc9", "message": "ConnectivityCheck, checking if the object is Synthetic boundary node.", "committedDate": "2020-01-19T21:15:51Z", "type": "commit"}, {"oid": "660f29428a841a61cd029c4133eef83eadeffbcf", "url": "https://github.com/osmlab/atlas-checks/commit/660f29428a841a61cd029c4133eef83eadeffbcf", "message": "ConnectivityCheck, build fixes.", "committedDate": "2020-01-20T16:35:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODY3OTIyOQ==", "url": "https://github.com/osmlab/atlas-checks/pull/245#discussion_r368679229", "bodyText": "typo: are not synthetic boundary or start nodes**", "author": "danielduhh", "createdAt": "2020-01-20T18:23:23Z", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java", "diffHunk": "@@ -103,9 +104,11 @@ public boolean validCheckForObject(final AtlasObject object)\n                         && this.getLayerMap(nearbyNode).keySet().stream()\n                                 .anyMatch(nodeLayerMap::containsKey)))\n         {\n-            // Flag nearby nodes if they are not are start node, are not a barrier, have a valid\n+            // Flag nearby nodes if they are not synthetic boundary node, are start node, are not a", "originalCommit": "660f29428a841a61cd029c4133eef83eadeffbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "765ecfb2423324def1405d8506941191301b2661", "chunk": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java\nindex 8f10485..db0c4d7 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java\n\n@@ -104,7 +104,8 @@ public class ConnectivityCheck extends BaseCheck<Long>\n                         && this.getLayerMap(nearbyNode).keySet().stream()\n                                 .anyMatch(nodeLayerMap::containsKey)))\n         {\n-            // Flag nearby nodes if they are not synthetic boundary node, are start node, are not a\n+            // Flag nearby nodes if they are neither synthetic boundary node nor a start node, are\n+            // not a\n             // barrier, have a valid\n             // connected edge, and there is not a valid route to the start node\n             if (!SyntheticBoundaryNodeTag.isSyntheticBoundaryNode(nodeNearby)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODY3OTI5Ng==", "url": "https://github.com/osmlab/atlas-checks/pull/245#discussion_r368679296", "bodyText": "Could you add a test case for this ?", "author": "danielduhh", "createdAt": "2020-01-20T18:23:36Z", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/points/ConnectivityCheck.java", "diffHunk": "@@ -68,8 +69,8 @@ public ConnectivityCheck(final Configuration configuration)\n     @Override\n     public boolean validCheckForObject(final AtlasObject object)\n     {\n-        return object instanceof Node && !this.isFlagged(object.getOsmIdentifier())\n-                && !BarrierTag.isBarrier(object)\n+        return object instanceof Node && !SyntheticBoundaryNodeTag.isSyntheticBoundaryNode(object)", "originalCommit": "660f29428a841a61cd029c4133eef83eadeffbcf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODcwMzQ4OQ==", "url": "https://github.com/osmlab/atlas-checks/pull/245#discussion_r368703489", "bodyText": "Done", "author": "smaheshwaram", "createdAt": "2020-01-20T19:44:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODY3OTI5Ng=="}], "type": "inlineReview", "revised_code": null}, {"oid": "765ecfb2423324def1405d8506941191301b2661", "url": "https://github.com/osmlab/atlas-checks/commit/765ecfb2423324def1405d8506941191301b2661", "message": "ConnectivityCheck, adding unit test plus fixing typo.", "committedDate": "2020-01-20T19:43:07Z", "type": "commit"}]}