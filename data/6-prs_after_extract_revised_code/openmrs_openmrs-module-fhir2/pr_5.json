{"pr_number": 5, "pr_title": "FM2-20: Added telecom translator", "pr_createdAt": "2020-01-08T11:45:43Z", "pr_url": "https://github.com/openmrs/openmrs-module-fhir2/pull/5", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1MjE2Mw==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/5#discussion_r364252163", "bodyText": "I'm thinking about this from a maintenance perspective and I think it might be better if we constructed the name of the global property the same everywhere, so here and in config.xml. The way to do this would be to add a line to fhir.properties like so:\nproject.parent.artifactId=@project.parent.artifactId@\nThen annotating this like this:\n@Value(\"${project.parent.artifactId}.personAttributeTypeUuid\")\npublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY;\nDoes this seem like a good idea to you?", "author": "ibacher", "createdAt": "2020-01-08T14:17:32Z", "path": "api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java", "diffHunk": "@@ -28,5 +28,7 @@ private FhirConstants() {\n \tpublic static String OPENMRS_FHIR_EXT_NAME = OPENMRS_FHIR_EXT_PREFIX + \"/name\";\n \t\n \tpublic static String PATIENT = \"Patient\";\n+\n+\tpublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY = \"fhir2.personAttributeTypeUuid\";", "originalCommit": "b3621a5088a2ffe282f37acdd03467f82a7e30e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI5NjMxOA==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/5#discussion_r364296318", "bodyText": "Yeah. It is \u263a\ufe0f", "author": "corneliouzbett", "createdAt": "2020-01-08T15:41:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1MjE2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "8febd27e02f9d2414e88e24c9bcafcdbf0ddd404", "chunk": "diff --git a/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java b/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java\nindex 34ac02ac..eb0853e8 100644\n--- a/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java\n+++ b/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java\n\n@@ -29,6 +29,7 @@ public class FhirConstants {\n \t\n \tpublic static String PATIENT = \"Patient\";\n \n-\tpublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY = \"fhir2.personAttributeTypeUuid\";\n+\t@Value(\"${project.parent.artifactId}.personAttributeTypeUuid\")\n+\tpublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY;\n \t\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1NTczMg==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/5#discussion_r364255732", "bodyText": "If these are constants, is there a reason why they are not declared as final?", "author": "dkayiwa", "createdAt": "2020-01-08T14:24:46Z", "path": "api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java", "diffHunk": "@@ -28,5 +28,7 @@ private FhirConstants() {\n \tpublic static String OPENMRS_FHIR_EXT_NAME = OPENMRS_FHIR_EXT_PREFIX + \"/name\";\n \t", "originalCommit": "b3621a5088a2ffe282f37acdd03467f82a7e30e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1NzcyMQ==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/5#discussion_r364257721", "bodyText": "This is my fault. The initial constants in this module where all set via Spring property injection, as we're doing for OPENMRS_FHIR_SERVER_VERSION and such \"constants\" can't be declared final for obvious reasons. I'll be patching these up in a separate PR.", "author": "ibacher", "createdAt": "2020-01-08T14:28:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1NTczMg=="}], "type": "inlineReview", "revised_code": {"commit": "8febd27e02f9d2414e88e24c9bcafcdbf0ddd404", "chunk": "diff --git a/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java b/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java\nindex 34ac02ac..eb0853e8 100644\n--- a/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java\n+++ b/api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java\n\n@@ -29,6 +29,7 @@ public class FhirConstants {\n \t\n \tpublic static String PATIENT = \"Patient\";\n \n-\tpublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY = \"fhir2.personAttributeTypeUuid\";\n+\t@Value(\"${project.parent.artifactId}.personAttributeTypeUuid\")\n+\tpublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY;\n \t\n }\n"}}, {"oid": "8febd27e02f9d2414e88e24c9bcafcdbf0ddd404", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/8febd27e02f9d2414e88e24c9bcafcdbf0ddd404", "message": "FM2-20: Added telecom translator", "committedDate": "2020-01-08T15:33:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDMzMDYxMA==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/5#discussion_r364330610", "bodyText": "How about renaming this class to some thing like FhirProperties?. Otherwise, looking at constants which can be modified (are not final) makes me think otherwise.", "author": "dkayiwa", "createdAt": "2020-01-08T16:42:51Z", "path": "api/src/main/java/org/openmrs/module/fhir2/FhirConstants.java", "diffHunk": "@@ -28,5 +28,8 @@ private FhirConstants() {\n \tpublic static String OPENMRS_FHIR_EXT_NAME = OPENMRS_FHIR_EXT_PREFIX + \"/name\";\n \t\n \tpublic static String PATIENT = \"Patient\";\n+\n+\t@Value(\"${project.parent.artifactId}.personAttributeTypeUuid\")\n+\tpublic static String PERSON_ATTRIBUTE_TYPE_PROPERTY;", "originalCommit": "8febd27e02f9d2414e88e24c9bcafcdbf0ddd404", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}