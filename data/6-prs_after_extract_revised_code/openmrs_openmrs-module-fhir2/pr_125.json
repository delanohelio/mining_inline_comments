{"pr_number": 125, "pr_title": "FM2-118 : Implement support for create medication", "pr_createdAt": "2020-03-24T18:03:22Z", "pr_url": "https://github.com/openmrs/openmrs-module-fhir2/pull/125", "timeline": [{"oid": "dc99d850054305f4353c4a6cadb9ff3e40d9e48d", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/dc99d850054305f4353c4a6cadb9ff3e40d9e48d", "message": "FM2-118 : Implement support for create medication", "committedDate": "2020-03-25T12:36:00Z", "type": "forcePushed"}, {"oid": "8694230bf596e248a54e40e23da4b118c566acce", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/8694230bf596e248a54e40e23da4b118c566acce", "message": "FM2-118 : Implement support for create medication", "committedDate": "2020-03-25T12:38:15Z", "type": "forcePushed"}, {"oid": "cd8ca97ed46c44ae0744983c4aea671f17be1ef6", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/cd8ca97ed46c44ae0744983c4aea671f17be1ef6", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-25T14:58:08Z", "type": "forcePushed"}, {"oid": "052b120373dafdcf1d9e6fbc033a52e293589507", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/052b120373dafdcf1d9e6fbc033a52e293589507", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-25T15:58:01Z", "type": "forcePushed"}, {"oid": "ca8bf16f05cdfccb1c18d91952fcdc62ccaa4ed3", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/ca8bf16f05cdfccb1c18d91952fcdc62ccaa4ed3", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-26T06:16:55Z", "type": "forcePushed"}, {"oid": "2e08b3fa40942e324221d43587ac436b58cfab99", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/2e08b3fa40942e324221d43587ac436b58cfab99", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-26T06:51:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU1NzI1MQ==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/125#discussion_r398557251", "bodyText": "Don't need a blank line here", "author": "ibacher", "createdAt": "2020-03-26T13:08:23Z", "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirMedicationDaoImpl.java", "diffHunk": "@@ -38,6 +39,18 @@\n \tpublic Drug getMedicationByUuid(String uuid) {\n \t\treturn (Drug) sessionFactory.getCurrentSession().createCriteria(Drug.class).add(eq(\"uuid\", uuid)).uniqueResult();\n \t}\n+\n+\t@Override\n+\tpublic Drug saveMedication(Drug drug) {\n+\t\t", "originalCommit": "2e08b3fa40942e324221d43587ac436b58cfab99", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "7f5465ce0dca10e79ba0d7f913f80652d9025607", "chunk": "diff --git a/api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirMedicationDaoImpl.java b/api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirMedicationDaoImpl.java\nindex b6bfdd19..ae2a860c 100644\n--- a/api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirMedicationDaoImpl.java\n+++ b/api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirMedicationDaoImpl.java\n\n@@ -42,7 +42,6 @@ public class FhirMedicationDaoImpl extends BaseDaoImpl implements FhirMedication\n \n \t@Override\n \tpublic Drug saveMedication(Drug drug) {\n-\t\t\n \t\tsessionFactory.getCurrentSession().saveOrUpdate(drug);\n \t\t\n \t\tfor (DrugIngredient ingredient : drug.getIngredients()) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU1NzUwNQ==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/125#discussion_r398557505", "bodyText": "Don't need a blank line here", "author": "ibacher", "createdAt": "2020-03-26T13:08:48Z", "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirMedicationServiceImpl.java", "diffHunk": "@@ -42,6 +45,33 @@ public Medication getMedicationByUuid(String uuid) {\n \t\treturn medicationTranslator.toFhirResource(medicationDao.getMedicationByUuid(uuid));\n \t}\n \t\n+\t@Override\n+\tpublic Medication saveMedication(Medication medication) {\n+\t\t", "originalCommit": "2e08b3fa40942e324221d43587ac436b58cfab99", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "7f5465ce0dca10e79ba0d7f913f80652d9025607", "chunk": "diff --git a/api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirMedicationServiceImpl.java b/api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirMedicationServiceImpl.java\nindex 22998351..005b20c9 100644\n--- a/api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirMedicationServiceImpl.java\n+++ b/api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirMedicationServiceImpl.java\n\n@@ -47,7 +47,6 @@ public class FhirMedicationServiceImpl implements FhirMedicationService {\n \t\n \t@Override\n \tpublic Medication saveMedication(Medication medication) {\n-\t\t\n \t\treturn medicationTranslator\n \t\t        .toFhirResource(medicationDao.saveMedication(medicationTranslator.toOpenmrsType(new Drug(), medication)));\n \t}\n"}}, {"oid": "7f5465ce0dca10e79ba0d7f913f80652d9025607", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/7f5465ce0dca10e79ba0d7f913f80652d9025607", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-27T08:06:58Z", "type": "forcePushed"}, {"oid": "7d99e835cb10d795cf828856af79a17abb8c0277", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/7d99e835cb10d795cf828856af79a17abb8c0277", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-27T08:07:36Z", "type": "commit"}, {"oid": "7d99e835cb10d795cf828856af79a17abb8c0277", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/7d99e835cb10d795cf828856af79a17abb8c0277", "message": "FM2-118 : Implement support for create and update for medication", "committedDate": "2020-03-27T08:07:36Z", "type": "forcePushed"}]}