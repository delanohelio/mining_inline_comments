{"pr_number": 9839, "pr_title": "Add test case for default inernal data encryption", "pr_createdAt": "2020-10-14T04:18:57Z", "pr_url": "https://github.com/wso2/product-is/pull/9839", "timeline": [{"oid": "48650d8e421e0b1a209c77978b633ce72fe38295", "url": "https://github.com/wso2/product-is/commit/48650d8e421e0b1a209c77978b633ce72fe38295", "message": "Add test case for default inernal data encryption", "committedDate": "2020-10-14T04:16:48Z", "type": "commit"}, {"oid": "2edc25e7a6935baf398cdaed0a1e692474ddd35f", "url": "https://github.com/wso2/product-is/commit/2edc25e7a6935baf398cdaed0a1e692474ddd35f", "message": "Fix test case failure", "committedDate": "2020-11-08T14:00:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ1NjUxNw==", "url": "https://github.com/wso2/product-is/pull/9839#discussion_r519456517", "bodyText": "Change the description. It's saying user store, but the method checks event publishers", "author": "ayshsandu", "createdAt": "2020-11-08T17:50:33Z", "path": "modules/integration/tests-integration/tests-backend/src/test/java/org/wso2/identity/integration/test/encryption/EventPublisherPasswordEncryptionTestCase.java", "diffHunk": "@@ -0,0 +1,114 @@\n+/*\n+ *     Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *     WSO2 Inc. licenses this file to you under the Apache License,\n+ *     Version 2.0 (the \"License\"); you may not use this file except\n+ *     in compliance with the License.\n+ *     You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *    Unless required by applicable law or agreed to in writing,\n+ *    software distributed under the License is distributed on an\n+ *    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *    KIND, either express or implied.  See the License for the\n+ *    specific language governing permissions and limitations\n+ *    under the License.\n+ */\n+package org.wso2.identity.integration.test.encryption;\n+\n+import org.json.JSONObject;\n+import org.testng.Assert;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import org.w3c.dom.Document;\n+import org.w3c.dom.NodeList;\n+import org.wso2.carbon.integration.common.utils.mgt.ServerConfigurationManager;\n+import org.wso2.identity.integration.common.utils.ISIntegrationTest;\n+import org.wso2.identity.integration.test.util.Utils;\n+import org.xml.sax.SAXException;\n+\n+import javax.xml.parsers.DocumentBuilder;\n+import javax.xml.parsers.DocumentBuilderFactory;\n+import javax.xml.parsers.ParserConfigurationException;\n+import javax.xml.xpath.XPath;\n+import javax.xml.xpath.XPathConstants;\n+import javax.xml.xpath.XPathExpression;\n+import javax.xml.xpath.XPathExpressionException;\n+import javax.xml.xpath.XPathFactory;\n+import java.io.File;\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import java.util.Base64;\n+\n+public class EventPublisherPasswordEncryptionTestCase extends ISIntegrationTest {\n+\n+    private ServerConfigurationManager serverConfigurationManager;\n+    private String eventPublisherDeploymentDirectory;\n+    private String eventPublisherFileName = \"IsAnalytics-Publisher-wso2event-AuthenticationData.xml\";\n+\n+    @BeforeClass(alwaysRun = true)\n+    public void testInit() throws Exception {\n+\n+        super.init();\n+        serverConfigurationManager = new ServerConfigurationManager(isServer);\n+\n+        eventPublisherDeploymentDirectory =\n+                Utils.getResidentCarbonHome() + File.separator + \"repository\" + File.separator +\n+                        \"deployment\" + File.separator + \"server\" + File.separator + \"eventpublishers\";\n+    }\n+\n+    @Test(groups = \"wso2.is\",\n+            description = \"Test encryption of password in user store configuration xml\",", "originalCommit": "2edc25e7a6935baf398cdaed0a1e692474ddd35f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e9ceaa2a1e9be5ac67342977298a14743ee79256", "chunk": "diff --git a/modules/integration/tests-integration/tests-backend/src/test/java/org/wso2/identity/integration/test/encryption/EventPublisherPasswordEncryptionTestCase.java b/modules/integration/tests-integration/tests-backend/src/test/java/org/wso2/identity/integration/test/encryption/EventPublisherPasswordEncryptionTestCase.java\nindex 63bebb6a0..025e9a9aa 100644\n--- a/modules/integration/tests-integration/tests-backend/src/test/java/org/wso2/identity/integration/test/encryption/EventPublisherPasswordEncryptionTestCase.java\n+++ b/modules/integration/tests-integration/tests-backend/src/test/java/org/wso2/identity/integration/test/encryption/EventPublisherPasswordEncryptionTestCase.java\n\n@@ -60,7 +60,7 @@ public class EventPublisherPasswordEncryptionTestCase extends ISIntegrationTest\n     }\n \n     @Test(groups = \"wso2.is\",\n-            description = \"Test encryption of password in user store configuration xml\",\n+            description = \"Test encryption of password in authentication data publisher file\",\n             priority = 1)\n     public void testCustomPasswordEncryptionOfEventPublishers() throws Exception {\n \n"}}, {"oid": "e9ceaa2a1e9be5ac67342977298a14743ee79256", "url": "https://github.com/wso2/product-is/commit/e9ceaa2a1e9be5ac67342977298a14743ee79256", "message": "Address PR comment", "committedDate": "2020-11-08T18:05:37Z", "type": "commit"}]}