{"pr_number": 7982, "pr_title": "Replace all Set usages of Project by List #7972", "pr_createdAt": "2020-03-30T09:03:34Z", "pr_url": "https://github.com/enonic/xp/pull/7982", "timeline": [{"oid": "bd06d990fa61f611f9c62144a4adb1338975084a", "url": "https://github.com/enonic/xp/commit/bd06d990fa61f611f9c62144a4adb1338975084a", "message": "Replace all Set usages of Project by List #7972", "committedDate": "2020-03-30T09:33:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA1ODU1NQ==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400058555", "bodyText": "Don't we have tests for Json classes?", "author": "rymsha", "createdAt": "2020-03-30T09:42:36Z", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java", "diffHunk": "@@ -38,56 +36,39 @@ public ProjectJson( final Project project, final ProjectPermissions projectPermi\n             projectPermissions.getViewer().getSet() ) ) : null;\n     }\n \n+    @SuppressWarnings(\"UnusedDeclaration\")", "originalCommit": "bd06d990fa61f611f9c62144a4adb1338975084a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA3NDg0MQ==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400074841", "bodyText": "we have, but without using dirrect method calls.", "author": "vbradnitski", "createdAt": "2020-03-30T10:08:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA1ODU1NQ=="}], "type": "inlineReview", "revised_code": {"commit": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "chunk": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java\nindex a99adeba79..1baba5393b 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java\n\n@@ -36,37 +37,31 @@ public final class ProjectJson\n             projectPermissions.getViewer().getSet() ) ) : null;\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n     public String getName()\n     {\n         return name;\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n     public String getDisplayName()\n     {\n         return displayName;\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n     public String getDescription()\n     {\n         return description;\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n     public AttachmentJson getIcon()\n     {\n         return icon;\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n     public ProjectPermissionsJson getPermissions()\n     {\n         return permissions;\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n     public ProjectReadAccessJson getReadAccess()\n     {\n         return projectReadAccess;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA2MDgwNg==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400060806", "bodyText": "Should be List", "author": "rymsha", "createdAt": "2020-03-30T09:46:03Z", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java", "diffHunk": "@@ -13,6 +13,7 @@ public ProjectsJson( final List<ProjectJson> projects )\n         this.projects = ImmutableList.copyOf( projects );\n     }\n \n+    @SuppressWarnings(\"UnusedDeclaration\")\n     public ImmutableList<ProjectJson> getProjects()", "originalCommit": "bd06d990fa61f611f9c62144a4adb1338975084a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "chunk": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\nindex b708081de4..deca02db5e 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n\n@@ -13,8 +14,7 @@ public final class ProjectsJson\n         this.projects = ImmutableList.copyOf( projects );\n     }\n \n-    @SuppressWarnings(\"UnusedDeclaration\")\n-    public ImmutableList<ProjectJson> getProjects()\n+    public List<ProjectJson> getProjects()\n     {\n         return projects;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA2MjU5NA==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400062594", "bodyText": "use assertAll", "author": "rymsha", "createdAt": "2020-03-30T09:48:45Z", "path": "modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java", "diffHunk": "@@ -697,4 +697,13 @@ private Project doCreateProject( final ProjectName name, final ProjectPermission\n         return project;\n     }\n \n+    private void checkProjectsEquality( final Project p1, final Project p2 )\n+    {\n+        assertEquals( p1.getName(), p2.getName() );", "originalCommit": "bd06d990fa61f611f9c62144a4adb1338975084a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "chunk": "diff --git a/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java b/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java\nindex f8f830d0c7..4e22534371 100644\n--- a/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java\n+++ b/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java\n\n@@ -699,11 +700,8 @@ class ProjectServiceImplTest\n \n     private void checkProjectsEquality( final Project p1, final Project p2 )\n     {\n-        assertEquals( p1.getName(), p2.getName() );\n-        assertEquals( p1.getDescription(), p2.getDescription() );\n-        assertEquals( p1.getDisplayName(), p2.getDisplayName() );\n-        assertEquals( p1.getIcon(), p2.getIcon() );\n-\n+        assertAll( () -> assertEquals( p1.getName(), p2.getName() ), () -> assertEquals( p1.getDescription(), p2.getDescription() ),\n+                   () -> assertEquals( p1.getDisplayName(), p2.getDisplayName() ), () -> assertEquals( p1.getIcon(), p2.getIcon() ) );\n     }\n \n }\n"}}, {"oid": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "url": "https://github.com/enonic/xp/commit/bcc3414a4fccca80d6809dcc452e896b8938b9ed", "message": "Replace all Set usages of Project by List #7972", "committedDate": "2020-03-30T10:10:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMxNTUyNQ==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400315525", "bodyText": "IMO assertProjectEquals is good name", "author": "rymsha", "createdAt": "2020-03-30T16:10:40Z", "path": "modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java", "diffHunk": "@@ -697,4 +698,10 @@ private Project doCreateProject( final ProjectName name, final ProjectPermission\n         return project;\n     }\n \n+    private void checkProjectsEquality( final Project p1, final Project p2 )", "originalCommit": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "chunk": "diff --git a/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java b/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java\nindex 4e22534371..b6604004f4 100644\n--- a/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java\n+++ b/modules/itest/itest-core/src/test/java/com/enonic/xp/core/project/ProjectServiceImplTest.java\n\n@@ -698,7 +698,7 @@ class ProjectServiceImplTest\n         return project;\n     }\n \n-    private void checkProjectsEquality( final Project p1, final Project p2 )\n+    private void assertProjectEquals( final Project p1, final Project p2 )\n     {\n         assertAll( () -> assertEquals( p1.getName(), p2.getName() ), () -> assertEquals( p1.getDescription(), p2.getDescription() ),\n                    () -> assertEquals( p1.getDisplayName(), p2.getDisplayName() ), () -> assertEquals( p1.getIcon(), p2.getIcon() ) );\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMxODQyOQ==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400318429", "bodyText": "Should be covered with tests and then needs no SuppressWarnings", "author": "rymsha", "createdAt": "2020-03-30T16:15:00Z", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java", "diffHunk": "@@ -4,6 +4,7 @@\n \n import com.google.common.collect.ImmutableList;\n \n+@SuppressWarnings(\"UnusedDeclaration\")", "originalCommit": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "chunk": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\nindex deca02db5e..e24287a115 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n\n@@ -4,7 +4,6 @@ import java.util.List;\n \n import com.google.common.collect.ImmutableList;\n \n-@SuppressWarnings(\"UnusedDeclaration\")\n public final class ProjectsJson\n {\n     private final ImmutableList<ProjectJson> projects;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMxODUwMg==", "url": "https://github.com/enonic/xp/pull/7982#discussion_r400318502", "bodyText": "Should be covered with tests and then needs no SuppressWarnings", "author": "rymsha", "createdAt": "2020-03-30T16:15:07Z", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java", "diffHunk": "@@ -10,6 +8,7 @@\n import com.enonic.xp.project.Project;\n import com.enonic.xp.project.ProjectPermissions;\n \n+@SuppressWarnings(\"UnusedDeclaration\")", "originalCommit": "bcc3414a4fccca80d6809dcc452e896b8938b9ed", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "chunk": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java\nindex 1baba5393b..b3a7d458cb 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectJson.java\n\n@@ -8,7 +8,6 @@ import com.enonic.xp.admin.impl.rest.resource.project.ProjectReadAccessType;\n import com.enonic.xp.project.Project;\n import com.enonic.xp.project.ProjectPermissions;\n \n-@SuppressWarnings(\"UnusedDeclaration\")\n public final class ProjectJson\n {\n     private final String name;\n"}}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "url": "https://github.com/enonic/xp/commit/038fbb11bca3be2e7230eb51a34fca97f521a78f", "message": "Replace all Set usages of Project by List #7972", "committedDate": "2020-03-30T16:47:38Z", "type": "commit"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "url": "https://github.com/enonic/xp/commit/038fbb11bca3be2e7230eb51a34fca97f521a78f", "message": "Replace all Set usages of Project by List #7972", "committedDate": "2020-03-30T16:47:38Z", "type": "forcePushed"}]}