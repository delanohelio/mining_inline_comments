{"pr_number": 8554, "pr_title": "The underscore path returns the main page #8148", "pr_createdAt": "2020-12-14T19:44:09Z", "pr_url": "https://github.com/enonic/xp/pull/8554", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgxNDg0Mg==", "url": "https://github.com/enonic/xp/pull/8554#discussion_r542814842", "bodyText": "Also final", "author": "rymsha", "createdAt": "2020-12-14T21:32:45Z", "path": "modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java", "diffHunk": "@@ -23,7 +23,7 @@\n {\n     private static final int DEFAULT_ORDER = 0;\n \n-    private int order;\n+    private final int order;\n \n     private EnumSet<HttpMethod> methodsAllowed;", "originalCommit": "867b8ea172c563b5880da76413a4b6a1340a6575", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "359188f46bc747a818d1f69d3a01f199e4631583", "chunk": "diff --git a/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java b/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java\nindex df465f0ada..1e7139c8ba 100644\n--- a/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java\n+++ b/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java\n\n@@ -21,11 +21,11 @@ import com.enonic.xp.web.WebResponse;\n public abstract class BaseWebHandler\n     implements WebHandler\n {\n-    private static final int DEFAULT_ORDER = 0;\n+    public static final int DEFAULT_ORDER = 0;\n \n     private final int order;\n \n-    private EnumSet<HttpMethod> methodsAllowed;\n+    private final EnumSet<HttpMethod> methodsAllowed;\n \n     public BaseWebHandler()\n     {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgxNTg5Nw==", "url": "https://github.com/enonic/xp/pull/8554#discussion_r542815897", "bodyText": "Test it. It should be greater than default", "author": "rymsha", "createdAt": "2020-12-14T21:33:31Z", "path": "modules/portal/portal-impl/src/main/java/com/enonic/xp/portal/impl/handler/unknown/UnknownEndpointHandler.java", "diffHunk": "@@ -0,0 +1,42 @@\n+package com.enonic.xp.portal.impl.handler.unknown;\n+\n+import java.util.EnumSet;\n+\n+import org.osgi.service.component.annotations.Component;\n+\n+import com.enonic.xp.web.HttpMethod;\n+import com.enonic.xp.web.WebException;\n+import com.enonic.xp.web.WebRequest;\n+import com.enonic.xp.web.WebResponse;\n+import com.enonic.xp.web.handler.BaseWebHandler;\n+import com.enonic.xp.web.handler.WebHandler;\n+import com.enonic.xp.web.handler.WebHandlerChain;\n+\n+@Component(immediate = true, service = WebHandler.class)\n+public class UnknownEndpointHandler\n+    extends BaseWebHandler\n+{\n+    public UnknownEndpointHandler()\n+    {\n+        super( EnumSet.of( HttpMethod.GET, HttpMethod.HEAD, HttpMethod.OPTIONS ) );\n+    }\n+\n+    @Override\n+    public int getOrder()\n+    {\n+        return 1;", "originalCommit": "867b8ea172c563b5880da76413a4b6a1340a6575", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "359188f46bc747a818d1f69d3a01f199e4631583", "url": "https://github.com/enonic/xp/commit/359188f46bc747a818d1f69d3a01f199e4631583", "message": "The underscore path returns the main page #8148", "committedDate": "2020-12-15T06:51:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEwMDk5Mg==", "url": "https://github.com/enonic/xp/pull/8554#discussion_r543100992", "bodyText": "don't extend public API for test s only.", "author": "rymsha", "createdAt": "2020-12-15T07:16:16Z", "path": "modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java", "diffHunk": "@@ -21,11 +21,11 @@\n public abstract class BaseWebHandler\n     implements WebHandler\n {\n-    private static final int DEFAULT_ORDER = 0;\n+    public static final int DEFAULT_ORDER = 0;", "originalCommit": "359188f46bc747a818d1f69d3a01f199e4631583", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9296c6b49cabda3b948f3a2e4304a5dff3b43930", "chunk": "diff --git a/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java b/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java\nindex 1e7139c8ba..a94fb7a6ae 100644\n--- a/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java\n+++ b/modules/web/web-api/src/main/java/com/enonic/xp/web/handler/BaseWebHandler.java\n\n@@ -21,7 +21,7 @@ import com.enonic.xp.web.WebResponse;\n public abstract class BaseWebHandler\n     implements WebHandler\n {\n-    public static final int DEFAULT_ORDER = 0;\n+    private static final int DEFAULT_ORDER = 0;\n \n     private final int order;\n \n"}}, {"oid": "9296c6b49cabda3b948f3a2e4304a5dff3b43930", "url": "https://github.com/enonic/xp/commit/9296c6b49cabda3b948f3a2e4304a5dff3b43930", "message": "The underscore path returns the main page #8148", "committedDate": "2020-12-15T07:35:36Z", "type": "forcePushed"}, {"oid": "eb6b54bae18590d5afc6f9b479d9d59a31948a48", "url": "https://github.com/enonic/xp/commit/eb6b54bae18590d5afc6f9b479d9d59a31948a48", "message": "The underscore path returns the main page #8148", "committedDate": "2020-12-15T07:43:16Z", "type": "commit"}, {"oid": "eb6b54bae18590d5afc6f9b479d9d59a31948a48", "url": "https://github.com/enonic/xp/commit/eb6b54bae18590d5afc6f9b479d9d59a31948a48", "message": "The underscore path returns the main page #8148", "committedDate": "2020-12-15T07:43:16Z", "type": "forcePushed"}]}