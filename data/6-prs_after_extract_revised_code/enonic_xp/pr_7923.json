{"pr_number": 7923, "pr_title": "Content Layer - Step1 - Project Settings #7892", "pr_createdAt": "2020-03-03T07:48:07Z", "pr_url": "https://github.com/enonic/xp/pull/7923", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg3NDQ5Mw==", "url": "https://github.com/enonic/xp/pull/7923#discussion_r386874493", "bodyText": "Some Json classes have equals-hashcode, some don't. is it intentional that this doesn't?", "author": "rymsha", "createdAt": "2020-03-03T08:55:05Z", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/layer/json/ContentLayerJson.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.enonic.xp.admin.impl.rest.resource.project.layer.json;\n+\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import com.enonic.xp.admin.impl.json.content.attachment.AttachmentJson;\n+import com.enonic.xp.project.layer.ContentLayer;\n+import com.enonic.xp.project.layer.ContentLayerKey;\n+\n+public final class ContentLayerJson", "originalCommit": "6cf38d2e3cbbec5ddf09d98a13e006849da474fd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4ebac987627f7da2693013a7745fc515805cc0d4", "chunk": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/layer/json/ContentLayerJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/layer/json/ContentLayerJson.java\nindex ace147636b..ad4632bc50 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/layer/json/ContentLayerJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/layer/json/ContentLayerJson.java\n\n@@ -17,7 +17,7 @@ public final class ContentLayerJson\n \n     private String description;\n \n-    private String language;\n+    private String locale;\n \n     private AttachmentJson icon;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg3NzMwOA==", "url": "https://github.com/enonic/xp/pull/7923#discussion_r386877308", "bodyText": "please don't call locale language. It is confusing. Call it locale.", "author": "rymsha", "createdAt": "2020-03-03T09:00:17Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java", "diffHunk": "@@ -0,0 +1,209 @@\n+package com.enonic.xp.project.layer;\n+\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Objects;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.ImmutableList;\n+\n+import com.enonic.xp.attachment.Attachment;\n+import com.enonic.xp.content.ContentPropertyNames;\n+import com.enonic.xp.data.PropertySet;\n+\n+public final class ContentLayer\n+{\n+    private final ContentLayerKey key;\n+\n+    private final List<ContentLayerKey> parentKeys;\n+\n+    private final String displayName;\n+\n+    private final String description;\n+\n+    private final Locale language;", "originalCommit": "6cf38d2e3cbbec5ddf09d98a13e006849da474fd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4ebac987627f7da2693013a7745fc515805cc0d4", "chunk": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java\nindex a8782c2406..a963afde7a 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java\n\n@@ -21,19 +21,19 @@ public final class ContentLayer\n \n     private final String description;\n \n-    private final Locale language;\n+    private final Locale locale;\n \n     private final Attachment icon;\n \n     private ContentLayer( final Builder builder )\n     {\n-        Preconditions.checkNotNull( builder.key, \"Name cannot be null\" );\n+        Preconditions.checkNotNull( builder.key, \"Key cannot be null\" );\n         Preconditions.checkNotNull( builder.displayName, \"Display name cannot be null\" );\n         key = builder.key;\n         parentKeys = builder.parentKeys.build();\n         displayName = builder.displayName;\n         description = builder.description;\n-        language = builder.language;\n+        locale = builder.locale;\n         icon = builder.icon;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg4MDkwMg==", "url": "https://github.com/enonic/xp/pull/7923#discussion_r386880902", "bodyText": "should have private constructor", "author": "rymsha", "createdAt": "2020-03-03T09:06:53Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayerConstants.java", "diffHunk": "@@ -0,0 +1,16 @@\n+package com.enonic.xp.project.layer;\n+\n+public final class ContentLayerConstants", "originalCommit": "6cf38d2e3cbbec5ddf09d98a13e006849da474fd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4ebac987627f7da2693013a7745fc515805cc0d4", "chunk": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayerConstants.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayerConstants.java\nindex 442cf1778e..f979772f43 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayerConstants.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayerConstants.java\n\n@@ -2,7 +2,7 @@ package com.enonic.xp.project.layer;\n \n public final class ContentLayerConstants\n {\n-    public static final String KEY_PROPERTY = \"key\";\n+    public static final String LOCALE_PROPERTY = \"locale\";\n \n     public static final String PARENT_KEYS_PROPERTY = \"parentKeys\";\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYxODY1MQ==", "url": "https://github.com/enonic/xp/pull/7923#discussion_r387618651", "bodyText": "Why a message for name instead of key?", "author": "anatol-sialitski", "createdAt": "2020-03-04T11:54:02Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java", "diffHunk": "@@ -0,0 +1,209 @@\n+package com.enonic.xp.project.layer;\n+\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Objects;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.ImmutableList;\n+\n+import com.enonic.xp.attachment.Attachment;\n+import com.enonic.xp.content.ContentPropertyNames;\n+import com.enonic.xp.data.PropertySet;\n+\n+public final class ContentLayer\n+{\n+    private final ContentLayerKey key;\n+\n+    private final List<ContentLayerKey> parentKeys;\n+\n+    private final String displayName;\n+\n+    private final String description;\n+\n+    private final Locale locale;\n+\n+    private final Attachment icon;\n+\n+    private ContentLayer( final Builder builder )\n+    {\n+        Preconditions.checkNotNull( builder.key, \"Name cannot be null\" );", "originalCommit": "22ff7f2b12eab9c01a3a67a3d86c8698327acef3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4ebac987627f7da2693013a7745fc515805cc0d4", "chunk": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java\nindex 5aeee6c712..a963afde7a 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/layer/ContentLayer.java\n\n@@ -27,7 +27,7 @@ public final class ContentLayer\n \n     private ContentLayer( final Builder builder )\n     {\n-        Preconditions.checkNotNull( builder.key, \"Name cannot be null\" );\n+        Preconditions.checkNotNull( builder.key, \"Key cannot be null\" );\n         Preconditions.checkNotNull( builder.displayName, \"Display name cannot be null\" );\n         key = builder.key;\n         parentKeys = builder.parentKeys.build();\n"}}, {"oid": "4ebac987627f7da2693013a7745fc515805cc0d4", "url": "https://github.com/enonic/xp/commit/4ebac987627f7da2693013a7745fc515805cc0d4", "message": "Content Layer - Step1 - Project Settings #7892", "committedDate": "2020-03-05T08:53:23Z", "type": "commit"}, {"oid": "4ebac987627f7da2693013a7745fc515805cc0d4", "url": "https://github.com/enonic/xp/commit/4ebac987627f7da2693013a7745fc515805cc0d4", "message": "Content Layer - Step1 - Project Settings #7892", "committedDate": "2020-03-05T08:53:23Z", "type": "forcePushed"}]}