{"pr_number": 814, "pr_title": "Added an additional type field to JSON property beans", "pr_createdAt": "2020-11-05T08:34:00Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814", "timeline": [{"oid": "73ed4e31dfff95973bb49be9a340cae87cfc53ab", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/73ed4e31dfff95973bb49be9a340cae87cfc53ab", "message": "Add getPropertyType to ABeanProperty - (Task #794)\n\n- Add BeanPropertyType enum\n- Add BeanPropertyTypeAdapter and test case\n- Add getPropertyType to concrete beans\n- Update test resources\n\n---\nTask #794: Add an additional type field to JSON beans", "committedDate": "2020-10-30T10:33:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzg4MTcyNw==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r517881727", "bodyText": "Maybe \"typeName\" instead of just \"s\"", "author": "SaMuellerDLR", "createdAt": "2020-11-05T08:48:54Z", "path": "de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package de.dlr.sc.virsat.model.concept.types.property;\n+\n+public enum BeanPropertyType {\n+\tBOOLEAN(\"boolean\"),\n+\tSTRING(\"string\"),\n+\tINT(\"int\"),\n+\tFLOAT(\"float\"),\n+\tENUM(\"enum\"),\n+\tRESOURCE(\"resource\"),\n+\tREFERENCE(\"reference\"),\n+\tEREFERENCE(\"ereference\"),\n+\tCOMPOSED(\"composed\");\n+\n+\tprivate final String type;\n+\n+\tBeanPropertyType(String type) {\n+\t\tthis.type = type;\n+\t}\n+\n+\tpublic String getType() {\n+\t\treturn type;\n+\t}\n+\n+\t/**\n+\t * Get a BeanPropertyType from a String s\n+\t * @param s String\n+\t * @return the BeanPropertyType\n+\t */\n+\tpublic static BeanPropertyType fromString(String s) {", "originalCommit": "73ed4e31dfff95973bb49be9a340cae87cfc53ab", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b1cc079b946b1ec90244ffc63db7ee30fe97c9e1", "chunk": "diff --git a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\nindex 62a986781..36e1885f0 100644\n--- a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\n+++ b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\n\n@@ -31,16 +31,16 @@ public enum BeanPropertyType {\n \t}\n \n \t/**\n-\t * Get a BeanPropertyType from a String s\n-\t * @param s String\n+\t * Get a BeanPropertyType from a String typeName\n+\t * @param typeName String\n \t * @return the BeanPropertyType\n \t */\n-\tpublic static BeanPropertyType fromString(String s) {\n+\tpublic static BeanPropertyType fromString(String typeName) {\n \t\tfor (BeanPropertyType v : BeanPropertyType.values()) {\n-\t\t\tif (v.getType().equals(s)) {\n+\t\t\tif (v.getType().equals(typeName)) {\n \t\t\t\treturn v;\n \t\t\t}\n \t\t}\n-\t\tthrow new IllegalArgumentException(s);\n+\t\tthrow new IllegalArgumentException(typeName);\n \t}\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzg4MjMxOA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r517882318", "bodyText": "Same as above, maybe \"typeName\" instead of just \"s\" so the reader better knows what he should expect.", "author": "SaMuellerDLR", "createdAt": "2020-11-05T08:49:51Z", "path": "de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/dvlm/json/BeanPropertyTypeAdapter.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package de.dlr.sc.virsat.model.dvlm.json;\n+\n+import javax.xml.bind.annotation.adapters.XmlAdapter;\n+\n+import de.dlr.sc.virsat.model.concept.types.property.BeanPropertyType;\n+\n+public class BeanPropertyTypeAdapter extends XmlAdapter<String, BeanPropertyType> {\n+\n+\t@Override\n+\tpublic BeanPropertyType unmarshal(String s) throws Exception {", "originalCommit": "73ed4e31dfff95973bb49be9a340cae87cfc53ab", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b1cc079b946b1ec90244ffc63db7ee30fe97c9e1", "chunk": "diff --git a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/dvlm/json/BeanPropertyTypeAdapter.java b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/dvlm/json/BeanPropertyTypeAdapter.java\nindex 51673078b..f74a48691 100644\n--- a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/dvlm/json/BeanPropertyTypeAdapter.java\n+++ b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/dvlm/json/BeanPropertyTypeAdapter.java\n\n@@ -16,11 +16,11 @@ import de.dlr.sc.virsat.model.concept.types.property.BeanPropertyType;\n public class BeanPropertyTypeAdapter extends XmlAdapter<String, BeanPropertyType> {\n \n \t@Override\n-\tpublic BeanPropertyType unmarshal(String s) throws Exception {\n-\t\tif (s == null) {\n+\tpublic BeanPropertyType unmarshal(String typeName) throws Exception {\n+\t\tif (typeName == null) {\n \t\t\treturn null;\n \t\t} else {\n-\t\t\treturn BeanPropertyType.fromString(s);\n+\t\t\treturn BeanPropertyType.fromString(typeName);\n \t\t}\n \t}\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzg4NTYxMA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r517885610", "bodyText": "There should probably be a BeanPropertyTypeTest where we test the fromString method.", "author": "SaMuellerDLR", "createdAt": "2020-11-05T08:55:18Z", "path": "de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package de.dlr.sc.virsat.model.concept.types.property;\n+\n+public enum BeanPropertyType {\n+\tBOOLEAN(\"boolean\"),\n+\tSTRING(\"string\"),\n+\tINT(\"int\"),\n+\tFLOAT(\"float\"),\n+\tENUM(\"enum\"),\n+\tRESOURCE(\"resource\"),\n+\tREFERENCE(\"reference\"),\n+\tEREFERENCE(\"ereference\"),\n+\tCOMPOSED(\"composed\");\n+\n+\tprivate final String type;\n+\n+\tBeanPropertyType(String type) {\n+\t\tthis.type = type;\n+\t}\n+\n+\tpublic String getType() {\n+\t\treturn type;\n+\t}\n+\n+\t/**\n+\t * Get a BeanPropertyType from a String s\n+\t * @param s String\n+\t * @return the BeanPropertyType\n+\t */\n+\tpublic static BeanPropertyType fromString(String s) {", "originalCommit": "73ed4e31dfff95973bb49be9a340cae87cfc53ab", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b1cc079b946b1ec90244ffc63db7ee30fe97c9e1", "chunk": "diff --git a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\nindex 62a986781..36e1885f0 100644\n--- a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\n+++ b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\n\n@@ -31,16 +31,16 @@ public enum BeanPropertyType {\n \t}\n \n \t/**\n-\t * Get a BeanPropertyType from a String s\n-\t * @param s String\n+\t * Get a BeanPropertyType from a String typeName\n+\t * @param typeName String\n \t * @return the BeanPropertyType\n \t */\n-\tpublic static BeanPropertyType fromString(String s) {\n+\tpublic static BeanPropertyType fromString(String typeName) {\n \t\tfor (BeanPropertyType v : BeanPropertyType.values()) {\n-\t\t\tif (v.getType().equals(s)) {\n+\t\t\tif (v.getType().equals(typeName)) {\n \t\t\t\treturn v;\n \t\t\t}\n \t\t}\n-\t\tthrow new IllegalArgumentException(s);\n+\t\tthrow new IllegalArgumentException(typeName);\n \t}\n }\n"}}, {"oid": "b1cc079b946b1ec90244ffc63db7ee30fe97c9e1", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/b1cc079b946b1ec90244ffc63db7ee30fe97c9e1", "message": "Add BeanPropertyTypeTest - (Task #794)\n\nAlso rename parameter.\n\n---\nTask #794: Add an additional type field to JSON beans", "committedDate": "2020-11-05T13:55:34Z", "type": "commit"}, {"oid": "7964c99a534033b1b46c59d40ad1d144697e1f2e", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/7964c99a534033b1b46c59d40ad1d144697e1f2e", "message": "Merge branch 'development' into feature/task_794-Add_an_additional_type_field_to_beans", "committedDate": "2020-11-10T10:11:37Z", "type": "commit"}, {"oid": "0caf737201dea9c44b40a6c283a543cc4a034847", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0caf737201dea9c44b40a6c283a543cc4a034847", "message": "Remove new line - (Task #794)\n\nTo rerun codecov...\n\n---\nTask #794: Add an additional type field to JSON beans", "committedDate": "2020-11-16T11:10:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY4OTU3Mw==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r531689573", "bodyText": "Shall we maybe use the built-in valueOf()?", "author": "andriikovalov-dlr", "createdAt": "2020-11-27T16:31:16Z", "path": "de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package de.dlr.sc.virsat.model.concept.types.property;\n+\n+public enum BeanPropertyType {\n+\tBOOLEAN(\"boolean\"),\n+\tSTRING(\"string\"),\n+\tINT(\"int\"),\n+\tFLOAT(\"float\"),\n+\tENUM(\"enum\"),\n+\tRESOURCE(\"resource\"),\n+\tREFERENCE(\"reference\"),\n+\tEREFERENCE(\"ereference\"),\n+\tCOMPOSED(\"composed\");\n+\n+\tprivate final String type;\n+\n+\tBeanPropertyType(String type) {\n+\t\tthis.type = type;\n+\t}\n+\n+\tpublic String getType() {\n+\t\treturn type;\n+\t}\n+\n+\t/**\n+\t * Get a BeanPropertyType from a String typeName\n+\t * @param typeName String\n+\t * @return the BeanPropertyType\n+\t */\n+\tpublic static BeanPropertyType fromString(String typeName) {", "originalCommit": "0caf737201dea9c44b40a6c283a543cc4a034847", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ5MTE1Mw==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r532491153", "bodyText": "You are right that is a way better way to do it, i will change it \ud83d\udc4d", "author": "JAmmermann-DLR", "createdAt": "2020-11-30T10:27:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY4OTU3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQwMTAxMQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r534401011", "bodyText": "That's actually not what I meant :) There is an Enum method valueOf(String) which returns enum value, similar to your fromString", "author": "andriikovalov-dlr", "createdAt": "2020-12-02T18:47:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY4OTU3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTMxOTA2Mg==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/814#discussion_r535319062", "bodyText": "I really didn't see the forest for the trees here. No it finally looks good to me, thanks :)", "author": "JAmmermann-DLR", "createdAt": "2020-12-03T15:14:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY4OTU3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "9c51f993baa7179d627aeea56ed471baa509349f", "chunk": "diff --git a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\nindex 36e1885f0..ad88139f0 100644\n--- a/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\n+++ b/de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyType.java\n\n@@ -10,24 +10,19 @@\n package de.dlr.sc.virsat.model.concept.types.property;\n \n public enum BeanPropertyType {\n-\tBOOLEAN(\"boolean\"),\n-\tSTRING(\"string\"),\n-\tINT(\"int\"),\n-\tFLOAT(\"float\"),\n-\tENUM(\"enum\"),\n-\tRESOURCE(\"resource\"),\n-\tREFERENCE(\"reference\"),\n-\tEREFERENCE(\"ereference\"),\n-\tCOMPOSED(\"composed\");\n-\n-\tprivate final String type;\n-\n-\tBeanPropertyType(String type) {\n-\t\tthis.type = type;\n-\t}\n-\n-\tpublic String getType() {\n-\t\treturn type;\n+\tBOOLEAN,\n+\tSTRING,\n+\tINT,\n+\tFLOAT,\n+\tENUM,\n+\tRESOURCE,\n+\tREFERENCE,\n+\tEREFERENCE,\n+\tCOMPOSED;\n+\t\n+\t@Override\n+\tpublic String toString() {\n+\t\treturn super.toString().toLowerCase();\n \t}\n \n \t/**\n"}}, {"oid": "9c51f993baa7179d627aeea56ed471baa509349f", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9c51f993baa7179d627aeea56ed471baa509349f", "message": "Use enum toString method - (Task #794)\n\n---\nTask #794: Add an additional type field to JSON beans", "committedDate": "2020-11-30T10:31:10Z", "type": "commit"}, {"oid": "0af65a2b6b1a9ac284fb93abd8a652f5cd95167f", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0af65a2b6b1a9ac284fb93abd8a652f5cd95167f", "message": "Merge branch 'development' into feature/task_794-Add_an_additional_type_field_to_beans", "committedDate": "2020-12-01T10:18:32Z", "type": "commit"}, {"oid": "cc179a7e4047dee39aca960a8e7b7afc314ebbb2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/cc179a7e4047dee39aca960a8e7b7afc314ebbb2", "message": "Use enum build in valueOf() method - (Task #794)\n\n- Handle casing in the adapter\n- Remove deprecated test case\n\n---\nTask #794: Add an additional type field to JSON beans", "committedDate": "2020-12-03T15:12:55Z", "type": "commit"}, {"oid": "33be600906f8a781d13c1acf03ae5d95bbc3bab9", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/33be600906f8a781d13c1acf03ae5d95bbc3bab9", "message": "Merge branch 'development' into feature/task_794-Add_an_additional_type_field_to_beans", "committedDate": "2020-12-04T09:24:56Z", "type": "commit"}]}