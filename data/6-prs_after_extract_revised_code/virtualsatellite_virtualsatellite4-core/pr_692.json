{"pr_number": 692, "pr_title": "Feature/task 684 enable filtering of available objects in reference selection dialog", "pr_createdAt": "2020-07-08T08:43:03Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/692", "timeline": [{"oid": "edfe9dbf1299f69bb957544e61c74d74ccb19a28", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/edfe9dbf1299f69bb957544e61c74d74ccb19a28", "message": "Added filtering functions to FilteredContentProvider - (Task #684)", "committedDate": "2020-07-07T16:00:26Z", "type": "commit"}, {"oid": "0a9c47033bb9aef94110a4cfa8d7ff88ffab23ab", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0a9c47033bb9aef94110a4cfa8d7ff88ffab23ab", "message": "Added back accidentally removed method - (Task #684)", "committedDate": "2020-07-07T16:11:05Z", "type": "commit"}, {"oid": "9315a7d05661415955bc1098afbad9044b49e27e", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9315a7d05661415955bc1098afbad9044b49e27e", "message": "Exposed ContentProvider in ReferenceSelectionDialog - (Task #684)", "committedDate": "2020-07-07T16:11:41Z", "type": "commit"}, {"oid": "72f3aa3e81a9c68323fc3153eee03628e06eedf3", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/72f3aa3e81a9c68323fc3153eee03628e06eedf3", "message": "Exposed filters in ReferencePropertyCellEditingSupport - (Task #684)", "committedDate": "2020-07-07T16:40:32Z", "type": "commit"}, {"oid": "b3eb011dc7410487e1ae87c3a961dcdc753694e6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/b3eb011dc7410487e1ae87c3a961dcdc753694e6", "message": "Initialize functions set in ContentProvider - (Task #684)", "committedDate": "2020-07-07T17:29:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTM4OTc2MQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/692#discussion_r451389761", "bodyText": "Let's mention that the object needs to pass at least one filter", "author": "andriikovalov-dlr", "createdAt": "2020-07-08T08:56:13Z", "path": "de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java", "diffHunk": "@@ -73,6 +76,44 @@ public AFilteredContentProvider addStructuralElementIdFilterToGetElement(String\n \t\treturn (this);\r\n \t}\r\n \r\n+\t/**\r\n+\t * Use this method to add a filtering function\r\n+\t * @param filter function that the object that should be returned by the GetElement method should satisfy\r\n+\t * @return returns the current instance to easily concatenate various filters.\r\n+\t */\r\n+\tpublic AFilteredContentProvider addFunctionFilterToGetElement(Function<Object, Boolean> filter) {\r\n+\t\tfilterElementFunctions.add(filter);\r\n+\t\treturn (this);\r\n+\t}\r\n+\r\n+\t/**\r\n+\t * Use this method to filter objects for a list of filtering functions\r\n+\t * Only objects that satisfy the specified filters will be returned\r", "originalCommit": "b3eb011dc7410487e1ae87c3a961dcdc753694e6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "63ecf99c4d5fe1f3149fea90f233047e2c67dd97", "chunk": "diff --git a/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java b/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java\nindex 633721c58..8c4b1610a 100644\n--- a/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java\n+++ b/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java\n\n@@ -88,25 +88,21 @@ public abstract class AFilteredContentProvider {\n \n \t/**\n \t * Use this method to filter objects for a list of filtering functions\n-\t * Only objects that satisfy the specified filters will be returned\n+\t * Only objects that satisfy at least one of the specified filters will be returned\n \t * @param objects Array of input objects\n \t * @param filterFunctions A set of filtering functions. all objects will be returned if list is empty \n \t * @return the objects that passed the filter (that have been selected by the filter)\n \t */\n \tprotected Object[] filterFunctions(Object[] objects, Set<Function<Object, Boolean>> filterFunctions) {\n \t\tSet<Object> filteredObjects = new HashSet<>();\n-\t\t// In case there are no filters specified we return all objects\n \t\tif (filterFunctions.isEmpty()) {\n \t\t\treturn objects;\n \t\t}\n \t\t\n-\t\t// Now filter the\n \t\tfor (Object object : objects) {\n \t\t\tfor (Function<Object, Boolean> filter : filterFunctions) {\n \t\t\t\tif (filter.apply(object)) {\n \t\t\t\t\tfilteredObjects.add(object);\n-\t\t\t\t\t// Object is accepted therefore go to the next\n-\t\t\t\t\t// evaluate the next object\n \t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTM5MDIzMA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/692#discussion_r451390230", "bodyText": "Questionable comment", "author": "andriikovalov-dlr", "createdAt": "2020-07-08T08:56:56Z", "path": "de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java", "diffHunk": "@@ -73,6 +76,44 @@ public AFilteredContentProvider addStructuralElementIdFilterToGetElement(String\n \t\treturn (this);\r\n \t}\r\n \r\n+\t/**\r\n+\t * Use this method to add a filtering function\r\n+\t * @param filter function that the object that should be returned by the GetElement method should satisfy\r\n+\t * @return returns the current instance to easily concatenate various filters.\r\n+\t */\r\n+\tpublic AFilteredContentProvider addFunctionFilterToGetElement(Function<Object, Boolean> filter) {\r\n+\t\tfilterElementFunctions.add(filter);\r\n+\t\treturn (this);\r\n+\t}\r\n+\r\n+\t/**\r\n+\t * Use this method to filter objects for a list of filtering functions\r\n+\t * Only objects that satisfy the specified filters will be returned\r\n+\t * @param objects Array of input objects\r\n+\t * @param filterFunctions A set of filtering functions. all objects will be returned if list is empty \r\n+\t * @return the objects that passed the filter (that have been selected by the filter)\r\n+\t */\r\n+\tprotected Object[] filterFunctions(Object[] objects, Set<Function<Object, Boolean>> filterFunctions) {\r\n+\t\tSet<Object> filteredObjects = new HashSet<>();\r\n+\t\t// In case there are no filters specified we return all objects\r\n+\t\tif (filterFunctions.isEmpty()) {\r\n+\t\t\treturn objects;\r\n+\t\t}\r\n+\t\t\r\n+\t\t// Now filter the\r", "originalCommit": "b3eb011dc7410487e1ae87c3a961dcdc753694e6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "63ecf99c4d5fe1f3149fea90f233047e2c67dd97", "chunk": "diff --git a/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java b/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java\nindex 633721c58..8c4b1610a 100644\n--- a/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java\n+++ b/de.dlr.sc.virsat.project.ui/src/de/dlr/sc/virsat/project/ui/contentProvider/AFilteredContentProvider.java\n\n@@ -88,25 +88,21 @@ public abstract class AFilteredContentProvider {\n \n \t/**\n \t * Use this method to filter objects for a list of filtering functions\n-\t * Only objects that satisfy the specified filters will be returned\n+\t * Only objects that satisfy at least one of the specified filters will be returned\n \t * @param objects Array of input objects\n \t * @param filterFunctions A set of filtering functions. all objects will be returned if list is empty \n \t * @return the objects that passed the filter (that have been selected by the filter)\n \t */\n \tprotected Object[] filterFunctions(Object[] objects, Set<Function<Object, Boolean>> filterFunctions) {\n \t\tSet<Object> filteredObjects = new HashSet<>();\n-\t\t// In case there are no filters specified we return all objects\n \t\tif (filterFunctions.isEmpty()) {\n \t\t\treturn objects;\n \t\t}\n \t\t\n-\t\t// Now filter the\n \t\tfor (Object object : objects) {\n \t\t\tfor (Function<Object, Boolean> filter : filterFunctions) {\n \t\t\t\tif (filter.apply(object)) {\n \t\t\t\t\tfilteredObjects.add(object);\n-\t\t\t\t\t// Object is accepted therefore go to the next\n-\t\t\t\t\t// evaluate the next object\n \t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t}\n"}}, {"oid": "63ecf99c4d5fe1f3149fea90f233047e2c67dd97", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/63ecf99c4d5fe1f3149fea90f233047e2c67dd97", "message": "Improved comments - (Task #684)", "committedDate": "2020-07-08T09:23:50Z", "type": "commit"}, {"oid": "14d382213b3b06c99ab067404f98cbf7bfac1863", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/14d382213b3b06c99ab067404f98cbf7bfac1863", "message": "Minor code style improvement in AFilteredContentProvider - (Task #684)", "committedDate": "2020-07-08T12:27:09Z", "type": "commit"}]}