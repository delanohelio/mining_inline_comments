{"pr_number": 2444, "pr_title": "GH-2443 fix processing of sesame:nil in GRAPH clause", "pr_createdAt": "2020-08-17T03:56:00Z", "pr_url": "https://github.com/eclipse/rdf4j/pull/2444", "timeline": [{"oid": "139ad79ade793102c27f161d9a0d1d0850cc48b9", "url": "https://github.com/eclipse/rdf4j/commit/139ad79ade793102c27f161d9a0d1d0850cc48b9", "message": "GH-2443 fix processing of sesame:nil in GRAPH clause", "committedDate": "2020-08-17T04:13:07Z", "type": "commit"}, {"oid": "139ad79ade793102c27f161d9a0d1d0850cc48b9", "url": "https://github.com/eclipse/rdf4j/commit/139ad79ade793102c27f161d9a0d1d0850cc48b9", "message": "GH-2443 fix processing of sesame:nil in GRAPH clause", "committedDate": "2020-08-17T04:13:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM2MTM0MA==", "url": "https://github.com/eclipse/rdf4j/pull/2444#discussion_r471361340", "bodyText": "could you just state the expected size instead?", "author": "hmottestad", "createdAt": "2020-08-17T09:39:46Z", "path": "testsuites/sparql/src/main/java/org/eclipse/rdf4j/query/parser/sparql/ComplexSPARQLQueryTest.java", "diffHunk": "@@ -278,6 +279,36 @@ public void testNullContext2() throws Exception {\n \t\t}\n \t}\n \n+\t@Test\n+\tpublic void testSesameNilAsGraph() throws Exception {\n+\t\tloadTestData(\"/testdata-query/dataset-query.trig\");\n+\t\tStringBuilder query = new StringBuilder();\n+\t\tquery.append(getNamespaceDeclarations());\n+\t\tquery.append(\" SELECT * \");\n+\t\tquery.append(\" WHERE { GRAPH sesame:nil { ?s ?p ?o } } \");\n+//\t\tquery.append(\" WHERE { ?s ?p ?o } \");\n+\n+\t\tTupleQuery tq = conn.prepareTupleQuery(QueryLanguage.SPARQL, query.toString());\n+\n+\t\ttry {\n+\t\t\tList<BindingSet> result = QueryResults.asList(tq.evaluate());\n+\n+\t\t\t// nil graph should not be empty\n+\t\t\tassertThat(result.size()).isGreaterThan(1);", "originalCommit": "139ad79ade793102c27f161d9a0d1d0850cc48b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgyMzcyNw==", "url": "https://github.com/eclipse/rdf4j/pull/2444#discussion_r471823727", "bodyText": "Actually no, because (potentially) the result will contain more statements on a store with inferencing enabled. We could of course disable that for the test, but this seemed simpler.", "author": "jeenbroekstra", "createdAt": "2020-08-17T23:11:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM2MTM0MA=="}], "type": "inlineReview", "revised_code": null}]}