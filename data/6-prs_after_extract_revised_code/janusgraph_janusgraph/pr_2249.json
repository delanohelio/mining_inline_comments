{"pr_number": 2249, "pr_title": "Fix StaticArrayEntryTest.testToStringWithNoValue hex long leading zero flaky test", "pr_createdAt": "2020-11-12T19:12:28Z", "pr_url": "https://github.com/JanusGraph/janusgraph/pull/2249", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQwMzEzOQ==", "url": "https://github.com/JanusGraph/janusgraph/pull/2249#discussion_r523403139", "bodyText": "Shall we use a less \"magical\" number here, e.g. Long.MAX_VALUE >> 3 (which has 15 \"F\"s in hex format)?", "author": "li-boxuan", "createdAt": "2020-11-14T10:18:01Z", "path": "janusgraph-test/src/test/java/org/janusgraph/diskstorage/util/StaticArrayEntryTest.java", "diffHunk": "@@ -39,14 +39,22 @@ public void testToString() {\n     }\n \n     @Test\n-    public void testToStringWithNoValue() {\n-        long l = random.nextLong();\n+    public void testRandomLongToStringWithNoValue() {\n+        testToStringWithNoValue(random.nextLong());\n+    }\n+\n+    @Test\n+    public void testHexLongWithLeadingZeroToStringWithNoValue() {\n+        testToStringWithNoValue(242385170064350798L);", "originalCommit": "f8caad47cf07ae7a930f1a403c385eecc431b789", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQwNDA3Ng==", "url": "https://github.com/JanusGraph/janusgraph/pull/2249#discussion_r523404076", "bodyText": "I got this value from one of the failing tests but you are right, Long.MAX_VALUE >> 3 is less confusing. Changed that to Long.MAX_VALUE >> 3", "author": "porunov", "createdAt": "2020-11-14T10:27:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQwMzEzOQ=="}], "type": "inlineReview", "revised_code": {"commit": "2604948ed64631adad577d320f3fdc713f5f8951", "chunk": "diff --git a/janusgraph-test/src/test/java/org/janusgraph/diskstorage/util/StaticArrayEntryTest.java b/janusgraph-test/src/test/java/org/janusgraph/diskstorage/util/StaticArrayEntryTest.java\nindex cf1629172..9f297c968 100644\n--- a/janusgraph-test/src/test/java/org/janusgraph/diskstorage/util/StaticArrayEntryTest.java\n+++ b/janusgraph-test/src/test/java/org/janusgraph/diskstorage/util/StaticArrayEntryTest.java\n\n@@ -45,7 +45,7 @@ public class StaticArrayEntryTest {\n \n     @Test\n     public void testHexLongWithLeadingZeroToStringWithNoValue() {\n-        testToStringWithNoValue(242385170064350798L);\n+        testToStringWithNoValue(Long.MAX_VALUE >> 3);\n     }\n \n     private void testToStringWithNoValue(long l) {\n"}}, {"oid": "2604948ed64631adad577d320f3fdc713f5f8951", "url": "https://github.com/JanusGraph/janusgraph/commit/2604948ed64631adad577d320f3fdc713f5f8951", "message": "Fix StaticArrayEntryTest.testToStringWithNoValue hex long leading zero flaky test\n\nFixes #2248\n\nSigned-off-by: Oleksandr Porunov <alexandr.porunov@gmail.com>", "committedDate": "2020-11-14T10:26:01Z", "type": "commit"}, {"oid": "2604948ed64631adad577d320f3fdc713f5f8951", "url": "https://github.com/JanusGraph/janusgraph/commit/2604948ed64631adad577d320f3fdc713f5f8951", "message": "Fix StaticArrayEntryTest.testToStringWithNoValue hex long leading zero flaky test\n\nFixes #2248\n\nSigned-off-by: Oleksandr Porunov <alexandr.porunov@gmail.com>", "committedDate": "2020-11-14T10:26:01Z", "type": "forcePushed"}]}