{"pr_number": 410, "pr_title": "#403 remove custom llc", "pr_createdAt": "2020-03-06T14:41:24Z", "pr_url": "https://github.com/gluonhq/substrate/pull/410", "timeline": [{"oid": "98553077731e3fdc408e5f97451528f8eaa7360d", "url": "https://github.com/gluonhq/substrate/commit/98553077731e3fdc408e5f97451528f8eaa7360d", "message": "#403 remove custom llc code", "committedDate": "2020-03-06T09:46:01Z", "type": "commit"}, {"oid": "80a69145ede02ceab2bcb42bf371e61a446ec1e9", "url": "https://github.com/gluonhq/substrate/commit/80a69145ede02ceab2bcb42bf371e61a446ec1e9", "message": "#403 enable HomeFinder feature for llvm backend", "committedDate": "2020-03-06T14:38:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk0ODY3Mw==", "url": "https://github.com/gluonhq/substrate/pull/410#discussion_r388948673", "bodyText": "this should go to AbstractTargetConfiguration", "author": "johanvos", "createdAt": "2020-03-06T14:55:05Z", "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "diffHunk": "@@ -296,18 +296,14 @@ boolean allowHttps() {\n \n     @Override\n     List<String> getTargetSpecificAOTCompileFlags() throws IOException {\n-        Path llcPath = getLlcPath();\n-        Path internalLlcPath = projectConfiguration.getGraalPath().resolve(\"lib\").resolve(\"llvm\").resolve(\"bin\");\n-        \n         return Arrays.asList(\"-H:CompilerBackend=\" + Constants.BACKEND_LLVM,\n+                \"--features=org.graalvm.home.HomeFinderFeature\",", "originalCommit": "80a69145ede02ceab2bcb42bf371e61a446ec1e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk1Mjk1MQ==", "url": "https://github.com/gluonhq/substrate/pull/410#discussion_r388952951", "bodyText": "Should we enable the feature unconditionally or only when LLVM backend is used?", "author": "tiainen", "createdAt": "2020-03-06T15:01:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk0ODY3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA1MTg5Mw==", "url": "https://github.com/gluonhq/substrate/pull/410#discussion_r389051893", "bodyText": "unconditionally. At this moment, it is by default enabled in GraalVM for the LIR backend, but defaults can change.", "author": "johanvos", "createdAt": "2020-03-06T17:51:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk0ODY3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "ed04b0ab79acf26cb2bfd58e8646470c56e869cc", "chunk": "diff --git a/src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java b/src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java\nindex d99193c..75b2566 100644\n--- a/src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java\n+++ b/src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java\n\n@@ -297,7 +297,6 @@ public class AndroidTargetConfiguration extends PosixTargetConfiguration {\n     @Override\n     List<String> getTargetSpecificAOTCompileFlags() throws IOException {\n         return Arrays.asList(\"-H:CompilerBackend=\" + Constants.BACKEND_LLVM,\n-                \"--features=org.graalvm.home.HomeFinderFeature\",\n                 \"-H:-SpawnIsolates\",\n                 \"-Dsvm.targetArch=\" + projectConfiguration.getTargetTriplet().getArch(),\n                 \"-H:+UseOnlyWritableBootImageHeap\",\n"}}, {"oid": "ed04b0ab79acf26cb2bfd58e8646470c56e869cc", "url": "https://github.com/gluonhq/substrate/commit/ed04b0ab79acf26cb2bfd58e8646470c56e869cc", "message": "#403 always enable HomeFinder feature", "committedDate": "2020-03-07T08:28:19Z", "type": "commit"}]}