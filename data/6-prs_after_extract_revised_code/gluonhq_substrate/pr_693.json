{"pr_number": 693, "pr_title": "Update library names", "pr_createdAt": "2020-07-07T12:39:02Z", "pr_url": "https://github.com/gluonhq/substrate/pull/693", "timeline": [{"oid": "dc77e2391a5de0a235868324444c0c7f1fa08fb4", "url": "https://github.com/gluonhq/substrate/commit/dc77e2391a5de0a235868324444c0c7f1fa08fb4", "message": "Update library names", "committedDate": "2020-07-07T12:38:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDgzMzc2MQ==", "url": "https://github.com/gluonhq/substrate/pull/693#discussion_r450833761", "bodyText": "Perhaps we should no longer mention .dylib here, but just inform the user that the library could not be found?", "author": "tiainen", "createdAt": "2020-07-07T12:42:10Z", "path": "src/main/java/com/gluonhq/substrate/util/ios/Deploy.java", "diffHunk": "@@ -83,7 +84,7 @@ private void checkPrerequisites() throws IOException, InterruptedException {\n         }\n \n         // Check for libimobiledevice installed\n-        List<String> libiPath = checkDependencyPaths(\"libimobiledevice\");\n+        List<String> libiPath = checkDependencyPaths(LIBIMOBILEDEVICE);\n         if (libiPath == null || libiPath.isEmpty() || !Files.exists(Path.of(libiPath.get(0)))) {\n             Logger.logSevere(\"Error finding libimobiledevice.dylib\");", "originalCommit": "dc77e2391a5de0a235868324444c0c7f1fa08fb4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg5MTgyOA==", "url": "https://github.com/gluonhq/substrate/pull/693#discussion_r450891828", "bodyText": "In fact, this check is redundant, checkDependencyPaths does it too, and will throw already a RTE. I've done a small refactoring.", "author": "jperedadnr", "createdAt": "2020-07-07T14:07:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDgzMzc2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "78c00570d041e8008eeb715315133e7b5de55aa7", "chunk": "diff --git a/src/main/java/com/gluonhq/substrate/util/ios/Deploy.java b/src/main/java/com/gluonhq/substrate/util/ios/Deploy.java\nindex 61190d0..7fe48e0 100644\n--- a/src/main/java/com/gluonhq/substrate/util/ios/Deploy.java\n+++ b/src/main/java/com/gluonhq/substrate/util/ios/Deploy.java\n\n@@ -78,18 +78,13 @@ public class Deploy {\n         // Check if dependencies of libimobiledevice are installed and retrieve linked versions\n         Map<String, List<String>> map = new HashMap<>();\n         for (String nameLib : LIBIMOBILEDEVICE_DEPENDENCIES) {\n-            List<String> pathLibs = checkDependencyPaths(nameLib);\n+            List<String> pathLibs = getDependencyPaths(nameLib);\n             List<String> linkLibs = checkDependencyLinks(nameLib, pathLibs);\n             map.put(nameLib, linkLibs);\n         }\n \n         // Check for libimobiledevice installed\n-        List<String> libiPath = checkDependencyPaths(LIBIMOBILEDEVICE);\n-        if (libiPath == null || libiPath.isEmpty() || !Files.exists(Path.of(libiPath.get(0)))) {\n-            Logger.logSevere(\"Error finding libimobiledevice.dylib\");\n-            return;\n-        }\n-\n+        List<String> libiPath = getDependencyPaths(LIBIMOBILEDEVICE);\n         ProcessRunner runner = new ProcessRunner(\"otool\", \"-L\", libiPath.get(0));\n         if (runner.runProcess(\"otool\") == 0) {\n             for (String key : map.keySet()) {\n"}}, {"oid": "78c00570d041e8008eeb715315133e7b5de55aa7", "url": "https://github.com/gluonhq/substrate/commit/78c00570d041e8008eeb715315133e7b5de55aa7", "message": "Refactor getDependencyPaths", "committedDate": "2020-07-07T14:07:03Z", "type": "commit"}, {"oid": "e267bf36bb90fe9aed86babc4adea626e870a49c", "url": "https://github.com/gluonhq/substrate/commit/e267bf36bb90fe9aed86babc4adea626e870a49c", "message": "Throw IOException instead of RTE", "committedDate": "2020-07-07T14:24:00Z", "type": "commit"}, {"oid": "e02f1e6bc5fdca80be42a6baba9e66a9bfb33f4a", "url": "https://github.com/gluonhq/substrate/commit/e02f1e6bc5fdca80be42a6baba9e66a9bfb33f4a", "message": "Merge branch 'master' of https://github.com/gluonhq/substrate into 691-libimobile", "committedDate": "2020-07-07T21:07:37Z", "type": "commit"}]}