{"pr_number": 863, "pr_title": "Mask possibly sensitive data when logging", "pr_createdAt": "2020-05-22T10:25:44Z", "pr_url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/863", "timeline": [{"oid": "45d733e0e222295fef922e5c437dba2fafbdba3c", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/45d733e0e222295fef922e5c437dba2fafbdba3c", "message": "Mask possibly sensitive data when logging\n\nJIRA: LMCROSSITXSADEPLOY-1881", "committedDate": "2020-05-22T10:13:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTE5MjgxNA==", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/863#discussion_r429192814", "bodyText": "Is it clear which is the service with that message?", "author": "boyan-velinov", "createdAt": "2020-05-22T11:28:13Z", "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java", "diffHunk": "@@ -141,7 +141,7 @@\n \r\n     // WARN log messages\r\n     public static final String CANNOT_RETRIEVE_SERVICE_INSTANCE_PARAMETERS = \"Cannot retrieve service instance parameters of service \\\"{0}\\\"\";\r\n-    public static final String CANNOT_RETRIEVE_SERVICE_BINDING_PARAMETERS_BINDING_0_OF_APP_1 = \"Cannot retrieve service binding parameters of service. Binding \\\"{0}\\\", of app: {1} \";\r\n+    public static final String CANNOT_RETRIEVE_PARAMETERS_OF_SERVICE_BINDING_WITH_NAME_0_FOR_APPLICATION = \"Cannot retrieve parameters of service binding with name \\\"{0}\\\" for application \\\"{1}\\\"\";\r", "originalCommit": "45d733e0e222295fef922e5c437dba2fafbdba3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI4MTI3OQ==", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/863#discussion_r429281279", "bodyText": "Addressed with the second commit.", "author": "nictas", "createdAt": "2020-05-22T14:29:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTE5MjgxNA=="}], "type": "inlineReview", "revised_code": {"commit": "894721ae9fd5c91324fd043becb20fdae2c1af8f", "chunk": "diff --git a/com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java b/com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java\nindex b74e6f2fd..9a7a6cd86 100644\n--- a/com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java\n+++ b/com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java\n\n@@ -141,8 +141,8 @@ public class Messages {\n \n     // WARN log messages\n     public static final String CANNOT_RETRIEVE_SERVICE_INSTANCE_PARAMETERS = \"Cannot retrieve service instance parameters of service \\\"{0}\\\"\";\n-    public static final String CANNOT_RETRIEVE_PARAMETERS_OF_SERVICE_BINDING_WITH_NAME_0_FOR_APPLICATION = \"Cannot retrieve parameters of service binding with name \\\"{0}\\\" for application \\\"{1}\\\"\";\n     public static final String CANNOT_RETRIEVE_SERVICE_INSTANCE_OF_OPTIONAL_SERVICE = \"Cannot retrieve service instance of optional service \\\"{0}\\\"\";\n+    public static final String CANNOT_RETRIEVE_PARAMETERS_OF_BINDING_BETWEEN_APPLICATION_0_AND_SERVICE_INSTANCE_1 = \"Cannot retrieve parameters of binding between application \\\"{0}\\\" and service instance \\\"{1}\\\"\";\n     public static final String CANNOT_RETRIEVE_INSTANCE_OF_SERVICE = \"Cannot retrieve service instance of service \\\"{0}\\\"\";\n     public static final String COULD_NOT_DELETE_PROVIDED_DEPENDENCY = \"Could not delete published provided dependency \\\"{0}\\\" from configuration registry\";\n     public static final String COULD_NOT_DELETE_SERVICE = \"Could not delete service \\\"{0}\\\", as it does not exist\";\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzNjMwMA==", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/863#discussion_r429236300", "bodyText": "Will we see something sensitive in metadata?", "author": "boyan-velinov", "createdAt": "2020-05-22T13:10:23Z", "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java", "diffHunk": "@@ -519,7 +519,7 @@\n     public static final String GETTING_APPLICATIONS_BY_METADATA_LABEL_SELECTOR_0 = \"Getting applications by metadata label selector \\\"{0}\\\"...\";\r\n     public static final String UPDATING_METADATA_OF_APPLICATION_0_TO_1 = \"Updating metadata of application \\\"{0}\\\" to: {1}\";\r\n     public static final String GETTING_SERVICE_INSTANCES_BY_METADATA_LABEL_SELECTOR_0 = \"Getting service instances by metadata label selector \\\"{0}\\\"...\";\r\n-    public static final String UPDATING_METADATA_OF_SERVICE_INSTANCE_0_TO_1 = \"Updating metadata of service instance \\\"{0}\\\": {1}\";\r\n+    public static final String UPDATING_METADATA_OF_SERVICE_INSTANCE_0_TO_1 = \"Updating metadata of service instance \\\"{0}\\\" to: {1}\";\r", "originalCommit": "45d733e0e222295fef922e5c437dba2fafbdba3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI4MjY2OA==", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/863#discussion_r429282668", "bodyText": "We might if it's not blacklisted in SecureSerializerConfiguration, but at this point I prefer leaving the metadata in the logs, since it might help with the debugging of some issues.", "author": "nictas", "createdAt": "2020-05-22T14:32:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzNjMwMA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "894721ae9fd5c91324fd043becb20fdae2c1af8f", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/894721ae9fd5c91324fd043becb20fdae2c1af8f", "message": "Enhance warning log message for binding parameters", "committedDate": "2020-05-22T14:15:56Z", "type": "commit"}]}