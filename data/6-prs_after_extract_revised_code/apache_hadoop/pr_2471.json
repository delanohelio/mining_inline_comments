{"pr_number": 2471, "pr_title": "HADOOP-17375. Fix the error of TestDynamometerInfra.", "pr_createdAt": "2020-11-18T07:13:43Z", "pr_url": "https://github.com/apache/hadoop/pull/2471", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYxNjMwNQ==", "url": "https://github.com/apache/hadoop/pull/2471#discussion_r546616305", "bodyText": "This comment should be updated.", "author": "aajisaka", "createdAt": "2020-12-21T10:05:48Z", "path": "hadoop-tools/hadoop-dynamometer/hadoop-dynamometer-infra/src/main/java/org/apache/hadoop/tools/dynamometer/DynoInfraUtils.java", "diffHunk": "@@ -76,10 +76,10 @@ private DynoInfraUtils() {}\n       + \"apache-mirror\";\n   // Set a generic mirror as the default.", "originalCommit": "97960f4a4bc3c1a30313614acc98ca8f22a4f5ef", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b23a4535492f694a7885b79de1e0676097611c5d", "chunk": "diff --git a/hadoop-tools/hadoop-dynamometer/hadoop-dynamometer-infra/src/main/java/org/apache/hadoop/tools/dynamometer/DynoInfraUtils.java b/hadoop-tools/hadoop-dynamometer/hadoop-dynamometer-infra/src/main/java/org/apache/hadoop/tools/dynamometer/DynoInfraUtils.java\nindex 63726f4b629..aef612ea9cb 100644\n--- a/hadoop-tools/hadoop-dynamometer/hadoop-dynamometer-infra/src/main/java/org/apache/hadoop/tools/dynamometer/DynoInfraUtils.java\n+++ b/hadoop-tools/hadoop-dynamometer/hadoop-dynamometer-infra/src/main/java/org/apache/hadoop/tools/dynamometer/DynoInfraUtils.java\n\n@@ -74,12 +74,12 @@ private DynoInfraUtils() {}\n \n   public static final String APACHE_DOWNLOAD_MIRROR_KEY = DYNO_CONF_PREFIX\n       + \"apache-mirror\";\n-  // Set a generic mirror as the default.\n+  // Set archive.apache.org as the default.\n   public static final String APACHE_DOWNLOAD_MIRROR_DEFAULT =\n-      \"https://github.com/apache/\";\n+      \"http://archive.apache.org/dist/\";\n   private static final String APACHE_DOWNLOAD_MIRROR_SUFFIX_FORMAT =\n-      \"hadoop/archive/rel/release-%s.tar.gz\";\n-  public static final String HADOOP_TAR_FILENAME_FORMAT = \"release-%s.tar.gz\";\n+      \"hadoop/common/hadoop-%s/hadoop-%s.tar.gz\";\n+  public static final String HADOOP_TAR_FILENAME_FORMAT = \"hadoop-%s.tar.gz\";\n \n   public static final String DATANODE_LIVE_MIN_FRACTION_KEY =\n       DYNO_INFRA_PREFIX + \"ready.datanode-min-fraction\";\n"}}, {"oid": "b23a4535492f694a7885b79de1e0676097611c5d", "url": "https://github.com/apache/hadoop/commit/b23a4535492f694a7885b79de1e0676097611c5d", "message": "HADOOP-17375. Use archive.apache.org to fix the error of TestDynamometerInfra.", "committedDate": "2020-12-21T14:35:21Z", "type": "forcePushed"}, {"oid": "66420f42bc5aa9fa396fccc1db1cd1a6d0b5acf4", "url": "https://github.com/apache/hadoop/commit/66420f42bc5aa9fa396fccc1db1cd1a6d0b5acf4", "message": "HADOOP-17375. Use archive.apache.org to fix the error of TestDynamometerInfra.", "committedDate": "2020-12-22T01:41:44Z", "type": "forcePushed"}, {"oid": "b668458e41e236e704b704900fb30131c575e98a", "url": "https://github.com/apache/hadoop/commit/b668458e41e236e704b704900fb30131c575e98a", "message": "HADOOP-17375. Use archive.apache.org to fix the error of TestDynamometerInfra.", "committedDate": "2021-05-06T10:57:58Z", "type": "commit"}, {"oid": "9bce480009e7438d5303e1ced727575ea049559f", "url": "https://github.com/apache/hadoop/commit/9bce480009e7438d5303e1ced727575ea049559f", "message": "revert the first change", "committedDate": "2021-05-06T10:58:14Z", "type": "commit"}, {"oid": "701fbcd0134e579cf03c559646894b45f11735c9", "url": "https://github.com/apache/hadoop/commit/701fbcd0134e579cf03c559646894b45f11735c9", "message": "use hadoop 3.1.4", "committedDate": "2021-05-06T11:30:45Z", "type": "commit"}, {"oid": "839fed97be695a6b5e6cda9d9ee70c6908a0962b", "url": "https://github.com/apache/hadoop/commit/839fed97be695a6b5e6cda9d9ee70c6908a0962b", "message": "implement an old API to AllowAllImpersonationProvider", "committedDate": "2021-05-06T14:06:08Z", "type": "commit"}, {"oid": "839fed97be695a6b5e6cda9d9ee70c6908a0962b", "url": "https://github.com/apache/hadoop/commit/839fed97be695a6b5e6cda9d9ee70c6908a0962b", "message": "implement an old API to AllowAllImpersonationProvider", "committedDate": "2021-05-06T14:06:08Z", "type": "forcePushed"}]}