{"pr_number": 2219, "pr_title": "HDFS-15524. Add edit log entry for Snapshot deletion GC thread snapshot deletion.", "pr_createdAt": "2020-08-12T05:37:20Z", "pr_url": "https://github.com/apache/hadoop/pull/2219", "timeline": [{"oid": "9690445eb62f4342012a2b623ba6ab3511eb116b", "url": "https://github.com/apache/hadoop/commit/9690445eb62f4342012a2b623ba6ab3511eb116b", "message": "HDFS-15524. Add edit log entry for Snapshot deletion GC thread snapshot deletion.", "committedDate": "2020-08-12T05:36:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2NjYzMA==", "url": "https://github.com/apache/hadoop/pull/2219#discussion_r469466630", "bodyText": "can we avoid these changes ?", "author": "hemanthboyina", "createdAt": "2020-08-12T18:44:16Z", "path": "hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/snapshot/TestOrderedSnapshotDeletionGc.java", "diffHunk": "@@ -21,33 +21,38 @@\n import org.apache.hadoop.fs.Path;\n import org.apache.hadoop.hdfs.DistributedFileSystem;\n import org.apache.hadoop.hdfs.MiniDFSCluster;\n+import org.apache.hadoop.hdfs.server.common.Storage;\n+import org.apache.hadoop.hdfs.server.namenode.FSImage;\n+import org.apache.hadoop.hdfs.server.namenode.FSImageTestUtil;\n+import org.apache.hadoop.hdfs.server.namenode.FSNamesystem;\n+import org.apache.hadoop.hdfs.server.namenode.NNStorage;\n+import org.apache.hadoop.hdfs.server.namenode.FSEditLogOpCodes;\n+import org.apache.hadoop.hdfs.util.Holder;\n import org.apache.hadoop.test.GenericTestUtils;\n import org.junit.After;\n import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n import org.slf4j.event.Level;\n \n+import java.io.File;\n import java.io.FileNotFoundException;\n import java.io.IOException;\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collections;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Random;\n+import java.util.*;", "originalCommit": "9690445eb62f4342012a2b623ba6ab3511eb116b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ3MzM4Ng==", "url": "https://github.com/apache/hadoop/pull/2219#discussion_r469473386", "bodyText": "other than this minor nit , the changes looks good", "author": "hemanthboyina", "createdAt": "2020-08-12T18:56:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2NjYzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY3MDU3NQ==", "url": "https://github.com/apache/hadoop/pull/2219#discussion_r469670575", "bodyText": "sure", "author": "bshashikant", "createdAt": "2020-08-13T03:10:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2NjYzMA=="}], "type": "inlineReview", "revised_code": {"commit": "3dfe6adae7ada1ce255727fca06e3d1daec8b47a", "chunk": "diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/snapshot/TestOrderedSnapshotDeletionGc.java b/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/snapshot/TestOrderedSnapshotDeletionGc.java\nindex df5d64bb7d0..51c2efe886a 100644\n--- a/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/snapshot/TestOrderedSnapshotDeletionGc.java\n+++ b/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/snapshot/TestOrderedSnapshotDeletionGc.java\n\n@@ -38,7 +38,13 @@\n import java.io.File;\n import java.io.FileNotFoundException;\n import java.io.IOException;\n-import java.util.*;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Random;\n+import java.util.EnumMap;\n+import java.util.ArrayList;\n \n import static org.apache.hadoop.hdfs.server.namenode.snapshot.SnapshotManager.DFS_NAMENODE_SNAPSHOT_DELETION_ORDERED;\n import static org.apache.hadoop.hdfs.server.namenode.snapshot.SnapshotManager.DFS_NAMENODE_SNAPSHOT_DELETION_ORDERED_GC_PERIOD_MS;\n"}}, {"oid": "3dfe6adae7ada1ce255727fca06e3d1daec8b47a", "url": "https://github.com/apache/hadoop/commit/3dfe6adae7ada1ce255727fca06e3d1daec8b47a", "message": "Removed *  imports.", "committedDate": "2020-08-13T03:08:16Z", "type": "commit"}]}