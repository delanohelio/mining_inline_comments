{"pr_number": 8250, "pr_title": "update save commands on window focus", "pr_createdAt": "2020-10-30T20:09:05Z", "pr_url": "https://github.com/rstudio/rstudio/pull/8250", "timeline": [{"oid": "9fe064cff90275090287ceb1127c4baf13264a7e", "url": "https://github.com/rstudio/rstudio/commit/9fe064cff90275090287ceb1127c4baf13264a7e", "message": "update save commands on window focus", "committedDate": "2020-10-30T20:08:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM1Mjk4OA==", "url": "https://github.com/rstudio/rstudio/pull/8250#discussion_r515352988", "bodyText": "For context: RStudio maintains command \"state\" both on the GWT side, and also on the Desktop side for RStudio Desktop. (This indicates whether the Save command should be enabled in e.g. the File menu.)\nI was seeing some cases where the client-side save command was marked as enabled, but the desktop-side save command was still marked as disabled. Having force here allows us to ensure that the client + desktop command states are sync'ed in the case where this happens.", "author": "kevinushey", "createdAt": "2020-10-30T20:12:18Z", "path": "src/gwt/src/org/rstudio/core/client/command/AppCommand.java", "diffHunk": "@@ -219,7 +219,12 @@ public boolean hasCommandHandlers()\n \n    public void setEnabled(boolean enabled)\n    {\n-      if (enabled != enabled_)\n+      setEnabled(enabled, false);\n+   }\n+   \n+   public void setEnabled(boolean enabled, boolean force)\n+   {\n+      if (force || enabled != enabled_)", "originalCommit": "9fe064cff90275090287ceb1127c4baf13264a7e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "485a5ea64ecdcda3e0996473fac7b7dcf9adc0ee", "url": "https://github.com/rstudio/rstudio/commit/485a5ea64ecdcda3e0996473fac7b7dcf9adc0ee", "message": "add comments", "committedDate": "2020-10-30T20:16:34Z", "type": "commit"}]}