{"pr_number": 7187, "pr_title": "Remove the hidden tab set from the panes list", "pr_createdAt": "2020-06-21T00:52:58Z", "pr_url": "https://github.com/rstudio/rstudio/pull/7187", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE3OTAwMw==", "url": "https://github.com/rstudio/rstudio/pull/7187#discussion_r443179003", "bodyText": "It will be very easy for this to break silently if the panes array length changes in the future (which of course it could). Maybe we should just continue through the loop for this tabset?", "author": "jmcphers", "createdAt": "2020-06-21T03:55:34Z", "path": "src/gwt/src/org/rstudio/studio/client/workbench/ui/PaneManager.java", "diffHunk": "@@ -808,8 +808,9 @@ public void onMaximizeConsole()\n    {\n       ArrayList<LogicalWindow> results = new ArrayList<>();\n \n+      // Do not include hiddenTabSet in panes since it should never be displayed\n       JsArrayString panes = config.getQuadrants();\n-      for (int i = 0; i < panes.length(); i++)\n+      for (int i = 0; i < 4; i++)", "originalCommit": "aa8ddaef8117ed94a75621ced57fef185cde203d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzMwNzAwMg==", "url": "https://github.com/rstudio/rstudio/pull/7187#discussion_r443307002", "bodyText": "Good plan, I've amended the commit with the change.", "author": "melissa-barca", "createdAt": "2020-06-22T04:02:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE3OTAwMw=="}], "type": "inlineReview", "revised_code": {"commit": "cde0d5ea5babcd21df784d97f9c59d93945c814a", "chunk": "diff --git a/src/gwt/src/org/rstudio/studio/client/workbench/ui/PaneManager.java b/src/gwt/src/org/rstudio/studio/client/workbench/ui/PaneManager.java\nindex 004efcb154..7810f81e15 100644\n--- a/src/gwt/src/org/rstudio/studio/client/workbench/ui/PaneManager.java\n+++ b/src/gwt/src/org/rstudio/studio/client/workbench/ui/PaneManager.java\n\n@@ -810,8 +810,10 @@ public class PaneManager\n \n       // Do not include hiddenTabSet in panes since it should never be displayed\n       JsArrayString panes = config.getQuadrants();\n-      for (int i = 0; i < 4; i++)\n+      for (int i = 0; i < panes.length(); i++)\n       {\n+         if (StringUtil.equals(panes.get(i), \"HiddenTabSet\"))\n+            continue;\n          results.add(panesByName_.get(panes.get(i)));\n       }\n       return results;\n"}}, {"oid": "cde0d5ea5babcd21df784d97f9c59d93945c814a", "url": "https://github.com/rstudio/rstudio/commit/cde0d5ea5babcd21df784d97f9c59d93945c814a", "message": "revert change so hidden tab set doesn't get added to panes_", "committedDate": "2020-06-22T04:01:17Z", "type": "commit"}, {"oid": "cde0d5ea5babcd21df784d97f9c59d93945c814a", "url": "https://github.com/rstudio/rstudio/commit/cde0d5ea5babcd21df784d97f9c59d93945c814a", "message": "revert change so hidden tab set doesn't get added to panes_", "committedDate": "2020-06-22T04:01:17Z", "type": "forcePushed"}]}