{"pr_number": 2925, "pr_title": "NMS-12553: Added per Afi/Safi statistics", "pr_createdAt": "2020-03-19T09:42:30Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/2925", "timeline": [{"oid": "dc41b843be40413ccd2850083bfb57496907269c", "url": "https://github.com/OpenNMS/opennms/commit/dc41b843be40413ccd2850083bfb57496907269c", "message": "NMS-12553: Added per Afi/Safi statistics", "committedDate": "2020-03-19T06:29:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAzMzI2OQ==", "url": "https://github.com/OpenNMS/opennms/pull/2925#discussion_r395033269", "bodyText": "AFAIK, map field are never null but just an empty map. If this is true, it would simplify this to a plain old for loop over the entries.", "author": "fooker", "createdAt": "2020-03-19T13:42:28Z", "path": "features/telemetry/protocols/bmp/adapter/src/main/java/org/opennms/netmgt/telemetry/protocols/bmp/adapter/BmpTelemetryAdapter.java", "diffHunk": "@@ -199,17 +199,27 @@ public ExporterInfo doInTransaction(final TransactionStatus transactionStatus) {\n         Optional.ofNullable(stats.getAdjRibIn()).ifPresent(addGauge.apply(\"adj_rib_in\"));\n         Optional.ofNullable(stats.getAdjRibOut()).ifPresent(addGauge.apply(\"adj_rib_out\"));\n \n-        // TODO fooker: Add per AFI counters (perAfiAdjRibIn and perAfiLocalRib)\n-        // See https://issues.opennms.org/browse/NMS-12553\n+        Optional.ofNullable(stats.getPerAfiAdjRibInMap()).ifPresent(m -> m.entrySet().stream()", "originalCommit": "dc41b843be40413ccd2850083bfb57496907269c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}