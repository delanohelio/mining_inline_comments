{"pr_number": 439, "pr_title": "349", "pr_createdAt": "2020-03-27T14:53:47Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/439", "timeline": [{"oid": "562fa6fa5ddc3e81382ae5808686d02d72005dc1", "url": "https://github.com/vividus-framework/vividus/commit/562fa6fa5ddc3e81382ae5808686d02d72005dc1", "message": "[plugin-electron] Introduce plugin for Electron-based applications", "committedDate": "2020-03-27T15:28:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ3ODA2NQ==", "url": "https://github.com/vividus-framework/vividus/pull/439#discussion_r399478065", "bodyText": "useless change", "author": "valfirst", "createdAt": "2020-03-27T18:58:30Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -65,6 +66,7 @@\n     @Inject private IExpectedConditions<By> expectedSearchContextConditions;\n     @Inject private IExpectedConditions<SearchAttributes> expectedSearchActionsConditions;\n     @Inject private IBaseValidations baseValidations;\n+    @Inject private IWindowsActions windowActions;", "originalCommit": "562fa6fa5ddc3e81382ae5808686d02d72005dc1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3c432b07921023bb360689f3b6789f3884c9432", "chunk": "diff --git a/vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java b/vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java\nindex 87e28aaa..a4cc0975 100644\n--- a/vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java\n+++ b/vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java\n\n@@ -66,7 +65,6 @@ public class WaitSteps\n     @Inject private IExpectedConditions<By> expectedSearchContextConditions;\n     @Inject private IExpectedConditions<SearchAttributes> expectedSearchActionsConditions;\n     @Inject private IBaseValidations baseValidations;\n-    @Inject private IWindowsActions windowActions;\n \n     public boolean waitTillElementWithTextDisappearsPageRefresh(String text, Duration timeout)\n     {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ3ODgzMw==", "url": "https://github.com/vividus-framework/vividus/pull/439#discussion_r399478833", "bodyText": "either use injection via field or constructor (not both)", "author": "valfirst", "createdAt": "2020-03-27T18:59:52Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/selenium/VividusWebDriverFactory.java", "diffHunk": "@@ -49,9 +49,16 @@\n     @Inject private IWebDriverManagerContext webDriverManagerContext;\n     @Inject private IProxy proxy;\n     @Inject private IBrowserWindowSizeProvider browserWindowSizeProvider;\n+    @Inject private IWebDriverManager webDriverManager;", "originalCommit": "562fa6fa5ddc3e81382ae5808686d02d72005dc1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3c432b07921023bb360689f3b6789f3884c9432", "chunk": "diff --git a/vividus-plugin-web-app/src/main/java/org/vividus/selenium/VividusWebDriverFactory.java b/vividus-plugin-web-app/src/main/java/org/vividus/selenium/VividusWebDriverFactory.java\nindex e8adec50..70254c27 100644\n--- a/vividus-plugin-web-app/src/main/java/org/vividus/selenium/VividusWebDriverFactory.java\n+++ b/vividus-plugin-web-app/src/main/java/org/vividus/selenium/VividusWebDriverFactory.java\n\n@@ -44,18 +42,25 @@ import org.vividus.selenium.manager.WebDriverManagerParameter;\n \n public class VividusWebDriverFactory implements IVividusWebDriverFactory\n {\n-    @Inject private IWebDriverFactory webDriverFactory;\n-    @Inject private IBddRunContext bddRunContext;\n-    @Inject private IWebDriverManagerContext webDriverManagerContext;\n-    @Inject private IProxy proxy;\n-    @Inject private IBrowserWindowSizeProvider browserWindowSizeProvider;\n-    @Inject private IWebDriverManager webDriverManager;\n+    private final IWebDriverFactory webDriverFactory;\n+    private final IBddRunContext bddRunContext;\n+    private final IWebDriverManagerContext webDriverManagerContext;\n+    private final IProxy proxy;\n+    private final IBrowserWindowSizeProvider browserWindowSizeProvider;\n+    private final IWebDriverManager webDriverManager;\n \n     private boolean remoteExecution;\n     private List<WebDriverEventListener> webDriverEventListeners;\n \n-    public VividusWebDriverFactory(IWebDriverManager webDriverManager)\n+    public VividusWebDriverFactory(IWebDriverFactory webDriverFactory, IBddRunContext bddRunContext,\n+        IWebDriverManagerContext webDriverManagerContext, IProxy proxy,\n+        IBrowserWindowSizeProvider browserWindowSizeProvider, IWebDriverManager webDriverManager)\n     {\n+        this.webDriverFactory = webDriverFactory;\n+        this.bddRunContext = bddRunContext;\n+        this.webDriverManagerContext = webDriverManagerContext;\n+        this.proxy = proxy;\n+        this.browserWindowSizeProvider = browserWindowSizeProvider;\n         this.webDriverManager = webDriverManager;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ3OTE2MA==", "url": "https://github.com/vividus-framework/vividus/pull/439#discussion_r399479160", "bodyText": "isElectronApp", "author": "valfirst", "createdAt": "2020-03-27T19:00:33Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/IWebDriverManager.java", "diffHunk": "@@ -54,6 +56,8 @@\n \n     boolean isOrientation(ScreenOrientation orientation);\n \n+    boolean isElectron();", "originalCommit": "562fa6fa5ddc3e81382ae5808686d02d72005dc1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3c432b07921023bb360689f3b6789f3884c9432", "chunk": "diff --git a/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/IWebDriverManager.java b/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/IWebDriverManager.java\nindex 9d405382..95ad1ca4 100644\n--- a/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/IWebDriverManager.java\n+++ b/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/IWebDriverManager.java\n\n@@ -56,7 +56,7 @@ public interface IWebDriverManager\n \n     boolean isOrientation(ScreenOrientation orientation);\n \n-    boolean isElectron();\n+    boolean isElectronApp();\n \n     Capabilities getCapabilities();\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ4MjUxOA==", "url": "https://github.com/vividus-framework/vividus/pull/439#discussion_r399482518", "bodyText": "move it after if", "author": "valfirst", "createdAt": "2020-03-27T19:07:23Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/WebDriverManager.java", "diffHunk": "@@ -54,11 +54,17 @@\n     @Inject private IWebDriverProvider webDriverProvider;\n     @Inject private IWebDriverManagerContext webDriverManagerContext;\n     private boolean nativeApp;\n+    private boolean electronApp;\n \n     @Override\n     public void resize(BrowserWindowSize browserWindowSize)\n     {\n-        resize(getWebDriver(), browserWindowSize);\n+        WebDriver webDriver = getWebDriver();", "originalCommit": "562fa6fa5ddc3e81382ae5808686d02d72005dc1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3c432b07921023bb360689f3b6789f3884c9432", "chunk": "diff --git a/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/WebDriverManager.java b/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/WebDriverManager.java\nindex 26b59b93..f1c13ab0 100644\n--- a/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/WebDriverManager.java\n+++ b/vividus-plugin-web-app/src/main/java/org/vividus/selenium/manager/WebDriverManager.java\n\n@@ -59,11 +59,11 @@ public class WebDriverManager implements IWebDriverManager\n     @Override\n     public void resize(BrowserWindowSize browserWindowSize)\n     {\n-        WebDriver webDriver = getWebDriver();\n         if (isElectronApp())\n         {\n             return;\n         }\n+        WebDriver webDriver = getWebDriver();\n         resize(webDriver, browserWindowSize);\n         // Chrome-only workaround for situations when custom browser viewport size was set before 'window.maximize();'\n         // and it prevents following window-resizing actions\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ4NDQwOQ==", "url": "https://github.com/vividus-framework/vividus/pull/439#discussion_r399484409", "bodyText": "I believe the mock should be validated, otherwise it's useless", "author": "valfirst", "createdAt": "2020-03-27T19:10:53Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/selenium/VividusWebDriverFactoryTests.java", "diffHunk": "@@ -83,7 +84,8 @@\n     private IBrowserWindowSizeProvider browserWindowSizeProvider;\n \n     @InjectMocks\n-    private VividusWebDriverFactory vividusWebDriverFactory;\n+    private final VividusWebDriverFactory vividusWebDriverFactory =\n+        new VividusWebDriverFactory(mock(IWebDriverManager.class));", "originalCommit": "562fa6fa5ddc3e81382ae5808686d02d72005dc1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3c432b07921023bb360689f3b6789f3884c9432", "chunk": "diff --git a/vividus-plugin-web-app/src/test/java/org/vividus/selenium/VividusWebDriverFactoryTests.java b/vividus-plugin-web-app/src/test/java/org/vividus/selenium/VividusWebDriverFactoryTests.java\nindex eb13d56d..6ff300de 100644\n--- a/vividus-plugin-web-app/src/test/java/org/vividus/selenium/VividusWebDriverFactoryTests.java\n+++ b/vividus-plugin-web-app/src/test/java/org/vividus/selenium/VividusWebDriverFactoryTests.java\n\n@@ -83,9 +81,11 @@ public class VividusWebDriverFactoryTests\n     @Mock\n     private IBrowserWindowSizeProvider browserWindowSizeProvider;\n \n+    @Mock\n+    private IWebDriverManager webDriverManager;\n+\n     @InjectMocks\n-    private final VividusWebDriverFactory vividusWebDriverFactory =\n-        new VividusWebDriverFactory(mock(IWebDriverManager.class));\n+    private VividusWebDriverFactory vividusWebDriverFactory;\n \n     @Mock(extraInterfaces = HasCapabilities.class)\n     private WebDriver driver;\n"}}, {"oid": "b3c432b07921023bb360689f3b6789f3884c9432", "url": "https://github.com/vividus-framework/vividus/commit/b3c432b07921023bb360689f3b6789f3884c9432", "message": "[plugin-electron] Introduce plugin for Electron-based applications", "committedDate": "2020-03-27T20:52:44Z", "type": "forcePushed"}, {"oid": "753606e4d268206293cb70061dd2bf31fbcc160f", "url": "https://github.com/vividus-framework/vividus/commit/753606e4d268206293cb70061dd2bf31fbcc160f", "message": "[plugin-electron] Introduce plugin for Electron-based applications", "committedDate": "2020-03-30T07:11:16Z", "type": "commit"}, {"oid": "753606e4d268206293cb70061dd2bf31fbcc160f", "url": "https://github.com/vividus-framework/vividus/commit/753606e4d268206293cb70061dd2bf31fbcc160f", "message": "[plugin-electron] Introduce plugin for Electron-based applications", "committedDate": "2020-03-30T07:11:16Z", "type": "forcePushed"}]}