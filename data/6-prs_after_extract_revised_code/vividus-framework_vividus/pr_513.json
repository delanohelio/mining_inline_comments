{"pr_number": 513, "pr_title": "Trends", "pr_createdAt": "2020-04-28T15:24:37Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/513", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjcxMDg4Ng==", "url": "https://github.com/vividus-framework/vividus/pull/513#discussion_r416710886", "bodyText": "why is replace changed to replaceAll ?", "author": "valfirst", "createdAt": "2020-04-28T15:32:02Z", "path": "vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java", "diffHunk": "@@ -130,12 +143,14 @@ private void patchAllureFiles() throws IOException\n         String javascriptString = FileUtils.readFileToString(javascriptFile, StandardCharsets.UTF_8);\n         String cssString = FileUtils.readFileToString(cssFile, StandardCharsets.UTF_8);\n \n+        String brokenStatusColor = \"#d35ebf\";\n         javascriptString = javascriptString\n+                .replace(\"#aaa\", brokenStatusColor)\n                 .replace(\"unknown:\\\"Unknown\\\"\", \"unknown:\\\"Known\\\"\")\n                 .replace(\"\\\"failed\\\",\\\"broken\\\",\\\"passed\\\",\\\"skipped\\\",\\\"unknown\\\"\",\n-                        \"\\\"passed\\\",\\\"unknown\\\",\\\"failed\\\",\\\"broken\\\",\\\"skipped\\\"\");\n+                        \"\\\"failed\\\",\\\"unknown\\\",\\\"passed\\\",\\\"broken\\\",\\\"skipped\\\"\");\n         cssString = cssString\n-                .replace(\"#ffd050\", \"#d35ebf\")\n+                .replaceAll(\"#ffd050\", brokenStatusColor)", "originalCommit": "db41ac7c5e38d4d8cd6816674f5b77417a35b926", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjczODE3Nw==", "url": "https://github.com/vividus-framework/vividus/pull/513#discussion_r416738177", "bodyText": "useless change :)", "author": "uarlouski", "createdAt": "2020-04-28T16:06:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjcxMDg4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "ae06b5e01cc1a82abbd4a7d2d8c958205bfac465", "chunk": "diff --git a/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java b/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java\nindex 94231c8d..138e12af 100644\n--- a/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java\n+++ b/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java\n\n@@ -145,12 +141,14 @@ public class AllureReportGenerator implements IAllureReportGenerator\n \n         String brokenStatusColor = \"#d35ebf\";\n         javascriptString = javascriptString\n+                // Replacing of gray colors with #d35ebf in CSS does not affect the color used to draw\n+                // <rect> HTML elements used to display trends\n                 .replace(\"#aaa\", brokenStatusColor)\n                 .replace(\"unknown:\\\"Unknown\\\"\", \"unknown:\\\"Known\\\"\")\n                 .replace(\"\\\"failed\\\",\\\"broken\\\",\\\"passed\\\",\\\"skipped\\\",\\\"unknown\\\"\",\n                         \"\\\"failed\\\",\\\"unknown\\\",\\\"passed\\\",\\\"broken\\\",\\\"skipped\\\"\");\n         cssString = cssString\n-                .replaceAll(\"#ffd050\", brokenStatusColor)\n+                .replace(\"#ffd050\", brokenStatusColor)\n                 .replace(\"#d35ebe\", \"#ffd051\")\n                 .replace(\"#fffae6\", \"#faebf8\")\n                 .replace(\"#faebf7\", \"#fffae7\")\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjcxMTE4Nw==", "url": "https://github.com/vividus-framework/vividus/pull/513#discussion_r416711187", "bodyText": "could you please put comment what #aaa is?", "author": "valfirst", "createdAt": "2020-04-28T15:32:27Z", "path": "vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java", "diffHunk": "@@ -130,12 +143,14 @@ private void patchAllureFiles() throws IOException\n         String javascriptString = FileUtils.readFileToString(javascriptFile, StandardCharsets.UTF_8);\n         String cssString = FileUtils.readFileToString(cssFile, StandardCharsets.UTF_8);\n \n+        String brokenStatusColor = \"#d35ebf\";\n         javascriptString = javascriptString\n+                .replace(\"#aaa\", brokenStatusColor)", "originalCommit": "db41ac7c5e38d4d8cd6816674f5b77417a35b926", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ae06b5e01cc1a82abbd4a7d2d8c958205bfac465", "chunk": "diff --git a/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java b/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java\nindex 94231c8d..138e12af 100644\n--- a/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java\n+++ b/vividus-allure-adaptor/src/main/java/org/vividus/bdd/report/allure/AllureReportGenerator.java\n\n@@ -145,12 +141,14 @@ public class AllureReportGenerator implements IAllureReportGenerator\n \n         String brokenStatusColor = \"#d35ebf\";\n         javascriptString = javascriptString\n+                // Replacing of gray colors with #d35ebf in CSS does not affect the color used to draw\n+                // <rect> HTML elements used to display trends\n                 .replace(\"#aaa\", brokenStatusColor)\n                 .replace(\"unknown:\\\"Unknown\\\"\", \"unknown:\\\"Known\\\"\")\n                 .replace(\"\\\"failed\\\",\\\"broken\\\",\\\"passed\\\",\\\"skipped\\\",\\\"unknown\\\"\",\n                         \"\\\"failed\\\",\\\"unknown\\\",\\\"passed\\\",\\\"broken\\\",\\\"skipped\\\"\");\n         cssString = cssString\n-                .replaceAll(\"#ffd050\", brokenStatusColor)\n+                .replace(\"#ffd050\", brokenStatusColor)\n                 .replace(\"#d35ebe\", \"#ffd051\")\n                 .replace(\"#fffae6\", \"#faebf8\")\n                 .replace(\"#faebf7\", \"#fffae7\")\n"}}, {"oid": "ae06b5e01cc1a82abbd4a7d2d8c958205bfac465", "url": "https://github.com/vividus-framework/vividus/commit/ae06b5e01cc1a82abbd4a7d2d8c958205bfac465", "message": "[allure-adaptor] Add history and duration trends in allure report", "committedDate": "2020-04-28T16:05:54Z", "type": "forcePushed"}, {"oid": "2c2f924fb8107ad649ca4d533860d3994a55a94c", "url": "https://github.com/vividus-framework/vividus/commit/2c2f924fb8107ad649ca4d533860d3994a55a94c", "message": "[allure-adaptor] Add history and duration trends in allure report", "committedDate": "2020-04-28T21:03:09Z", "type": "forcePushed"}, {"oid": "2ad70cd4a6314d76998a0ae5db21f181c2765b2e", "url": "https://github.com/vividus-framework/vividus/commit/2ad70cd4a6314d76998a0ae5db21f181c2765b2e", "message": "[allure-adaptor] Add history and duration trends in allure report", "committedDate": "2020-04-29T07:40:49Z", "type": "forcePushed"}, {"oid": "cd3ead7db86b419aa809f1ae024212921e603477", "url": "https://github.com/vividus-framework/vividus/commit/cd3ead7db86b419aa809f1ae024212921e603477", "message": "[allure-adaptor] Add history and duration trends in allure report", "committedDate": "2020-04-29T15:34:43Z", "type": "commit"}, {"oid": "cd3ead7db86b419aa809f1ae024212921e603477", "url": "https://github.com/vividus-framework/vividus/commit/cd3ead7db86b419aa809f1ae024212921e603477", "message": "[allure-adaptor] Add history and duration trends in allure report", "committedDate": "2020-04-29T15:34:43Z", "type": "forcePushed"}]}