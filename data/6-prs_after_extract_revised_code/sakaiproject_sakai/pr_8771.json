{"pr_number": 8771, "pr_title": "SAK-44550 Message bundle manager throws error", "pr_createdAt": "2020-11-03T13:22:56Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8771", "timeline": [{"oid": "9ebd980233186c1d5795e5aa801da7e18ffdc97a", "url": "https://github.com/sakaiproject/sakai/commit/9ebd980233186c1d5795e5aa801da7e18ffdc97a", "message": "SAK-44550 Message bundle manager throws error", "committedDate": "2020-11-03T13:22:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxMzAyMg==", "url": "https://github.com/sakaiproject/sakai/pull/8771#discussion_r516713022", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(pageSize >= 0) {\n          \n          \n            \n                            query.setMaxResults(pageSize);\n          \n          \n            \n                        }\n          \n          \n            \n                        if (pageSize >= 0) {\n          \n          \n            \n                            query.setMaxResults(pageSize);\n          \n          \n            \n                        }", "author": "ern", "createdAt": "2020-11-03T14:36:21Z", "path": "kernel/kernel-impl/src/main/java/org/sakaiproject/messagebundle/impl/MessageBundleServiceImpl.java", "diffHunk": "@@ -466,7 +466,9 @@ protected int executeCountQuery(String query) {\n         try {\n             query = sessionFactory.getCurrentSession().createQuery(queryString);\n             query.setFirstResult(startingIndex);\n-            query.setMaxResults(pageSize);\n+            if(pageSize >= 0) {\n+                query.setMaxResults(pageSize);\n+            }", "originalCommit": "9ebd980233186c1d5795e5aa801da7e18ffdc97a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "957270f0be8de03492f3276a391419651b01550f", "chunk": "diff --git a/kernel/kernel-impl/src/main/java/org/sakaiproject/messagebundle/impl/MessageBundleServiceImpl.java b/kernel/kernel-impl/src/main/java/org/sakaiproject/messagebundle/impl/MessageBundleServiceImpl.java\nindex d3fd7bdd45..951fabd3e8 100644\n--- a/kernel/kernel-impl/src/main/java/org/sakaiproject/messagebundle/impl/MessageBundleServiceImpl.java\n+++ b/kernel/kernel-impl/src/main/java/org/sakaiproject/messagebundle/impl/MessageBundleServiceImpl.java\n\n@@ -466,7 +466,7 @@ public class MessageBundleServiceImpl implements MessageBundleService {\n         try {\n             query = sessionFactory.getCurrentSession().createQuery(queryString);\n             query.setFirstResult(startingIndex);\n-            if(pageSize >= 0) {\n+            if (pageSize >= 0) {\n                 query.setMaxResults(pageSize);\n             }\n             return query.list();\n"}}, {"oid": "957270f0be8de03492f3276a391419651b01550f", "url": "https://github.com/sakaiproject/sakai/commit/957270f0be8de03492f3276a391419651b01550f", "message": "fix spacing", "committedDate": "2020-11-03T14:36:46Z", "type": "commit"}]}