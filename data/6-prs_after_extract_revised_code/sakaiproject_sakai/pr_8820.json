{"pr_number": 8820, "pr_title": "SAK-44624: SAMIGO - Student response column on Question tab is not update when Regrade and Republish", "pr_createdAt": "2020-11-18T07:05:29Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8820", "timeline": [{"oid": "0d9aef67467e535fd1127156de21cbfbd9c86a2c", "url": "https://github.com/sakaiproject/sakai/commit/0d9aef67467e535fd1127156de21cbfbd9c86a2c", "message": "SAK-44624: SAMIGO - Student response column on Question tab is not update when Regrade and Republish", "committedDate": "2020-11-18T07:03:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA4NTExNA==", "url": "https://github.com/sakaiproject/sakai/pull/8820#discussion_r526085114", "bodyText": "can just set the score to 0 here and then remove the else statement", "author": "ottenhoff", "createdAt": "2020-11-18T13:25:35Z", "path": "samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java", "diffHunk": "@@ -1567,11 +1567,14 @@ public double getAnswerScore(ItemGradingData data, Map publishedAnswerHash)\n     {\n     \t// return (double) 0;\n     \t// Para que descuente (For discount)\n+    \tdouble score;", "originalCommit": "0d9aef67467e535fd1127156de21cbfbd9c86a2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY4Njk4NA==", "url": "https://github.com/sakaiproject/sakai/pull/8820#discussion_r526686984", "bodyText": "@ottenhoff Just updated!", "author": "jesusmmp", "createdAt": "2020-11-19T08:48:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA4NTExNA=="}], "type": "inlineReview", "revised_code": {"commit": "514b15bac7af303f4d0b67a9cfa4f8933b3da9e9", "chunk": "diff --git a/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java b/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java\nindex c5d3afa783..08f985b456 100644\n--- a/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java\n+++ b/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java\n\n@@ -1567,12 +1567,11 @@ public class GradingService\n     {\n     \t// return (double) 0;\n     \t// Para que descuente (For discount)\n-    \tdouble score;\n+    \tdouble score = (double) 0;\n     \tif ((TypeIfc.EXTENDED_MATCHING_ITEMS).equals(itemType)||(TypeIfc.MULTIPLE_CHOICE).equals(itemType)||(TypeIfc.TRUE_FALSE).equals(itemType)||(TypeIfc.MULTIPLE_CORRECT_SINGLE_SELECTION).equals(itemType)){\n     \t\tscore = Math.abs(answer.getDiscount()) * ((double) -1);\n-    \t}else{\n-    \t\tscore = (double) 0;\n     \t}\n+\n     \tanswer.setPartialCredit(score);\n     \treturn score;\n     }\n"}}, {"oid": "514b15bac7af303f4d0b67a9cfa4f8933b3da9e9", "url": "https://github.com/sakaiproject/sakai/commit/514b15bac7af303f4d0b67a9cfa4f8933b3da9e9", "message": "SAK-44624: SAMIGO - Student response column on Question tab is not update when Regrade and Republish", "committedDate": "2020-11-19T08:46:33Z", "type": "commit"}]}