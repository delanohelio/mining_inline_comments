{"pr_number": 8852, "pr_title": "SAK-44723: SAMIGO - Rationale is hardcoded", "pr_createdAt": "2020-11-30T16:49:54Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8852", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyODc2MQ==", "url": "https://github.com/sakaiproject/sakai/pull/8852#discussion_r532928761", "bodyText": "The resource loader is already initialized in this class with that bundle it's better to just use it vs calling ContextUtil\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\t\t\trationale = \"\\n\" + ContextUtil.getLocalizedString(MSG_BUNDLE, \"rationale\") + \" \" + gdata.getRationale();\n          \n          \n            \n            \t\t\t\t\t\t\trationale = \"\\n\" + rb.getString(\"rationale\") + \" \" + gdata.getRationale();", "author": "ern", "createdAt": "2020-11-30T21:55:08Z", "path": "samigo/samigo-app/src/java/org/sakaiproject/tool/assessment/ui/listener/evaluation/QuestionScoreListener.java", "diffHunk": "@@ -720,7 +720,7 @@ else if (\"false\".equals(answerText)) {\n \t\t\t\t\telse {\n \t\t\t\t\t\tif (gdata.getRationale() != null\n \t\t\t\t\t\t\t\t&& !gdata.getRationale().trim().equals(\"\"))\n-\t\t\t\t\t\t\trationale = \"\\nRationale: \" + gdata.getRationale();\n+\t\t\t\t\t\t\trationale = \"\\n\" + ContextUtil.getLocalizedString(MSG_BUNDLE, \"rationale\") + \" \" + gdata.getRationale();", "originalCommit": "d3efbf2ee779178b57159f675bd4fb0aea60e541", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkzMDAzMw==", "url": "https://github.com/sakaiproject/sakai/pull/8852#discussion_r532930033", "bodyText": "I would update the other uses of ContextUtil there as it is reloading bundle data every time it is called vs initializing once.", "author": "ern", "createdAt": "2020-11-30T21:57:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyODc2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzIyMDkyMQ==", "url": "https://github.com/sakaiproject/sakai/pull/8852#discussion_r533220921", "bodyText": "@ern Just updated", "author": "jesusmmp", "createdAt": "2020-12-01T09:31:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyODc2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "1328686e7a329f5f384dc5913fbe6c66914caf07", "chunk": "diff --git a/samigo/samigo-app/src/java/org/sakaiproject/tool/assessment/ui/listener/evaluation/QuestionScoreListener.java b/samigo/samigo-app/src/java/org/sakaiproject/tool/assessment/ui/listener/evaluation/QuestionScoreListener.java\nindex 31e480bbc6..930514f61c 100644\n--- a/samigo/samigo-app/src/java/org/sakaiproject/tool/assessment/ui/listener/evaluation/QuestionScoreListener.java\n+++ b/samigo/samigo-app/src/java/org/sakaiproject/tool/assessment/ui/listener/evaluation/QuestionScoreListener.java\n\n@@ -720,7 +719,7 @@ import org.sakaiproject.tool.assessment.data.ifc.shared.TypeIfc;\n \t\t\t\t\telse {\n \t\t\t\t\t\tif (gdata.getRationale() != null\n \t\t\t\t\t\t\t\t&& !gdata.getRationale().trim().equals(\"\"))\n-\t\t\t\t\t\t\trationale = \"\\n\" + ContextUtil.getLocalizedString(MSG_BUNDLE, \"rationale\") + \" \" + gdata.getRationale();\n+\t\t\t\t\t\t\trationale = \"\\n\" + evaluationMessages.getString(\"rationale\") + \" \" + gdata.getRationale();\n \t\t\t\t\t}\n \t\t\t\t\t// Huong's temp commandout\n \t\t\t\t\t// answerText = answerText.replaceAll(\"<.*?>\", \"\");\n"}}, {"oid": "1328686e7a329f5f384dc5913fbe6c66914caf07", "url": "https://github.com/sakaiproject/sakai/commit/1328686e7a329f5f384dc5913fbe6c66914caf07", "message": "SAK-44723: SAMIGO - Rationale is hardcoded", "committedDate": "2020-12-01T09:30:22Z", "type": "commit"}, {"oid": "1328686e7a329f5f384dc5913fbe6c66914caf07", "url": "https://github.com/sakaiproject/sakai/commit/1328686e7a329f5f384dc5913fbe6c66914caf07", "message": "SAK-44723: SAMIGO - Rationale is hardcoded", "committedDate": "2020-12-01T09:30:22Z", "type": "forcePushed"}]}