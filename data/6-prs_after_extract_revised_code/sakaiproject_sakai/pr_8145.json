{"pr_number": 8145, "pr_title": "SAK-43535 - Site Info > Manage Groups: Auto-Groups Creation Wizard - \u2026", "pr_createdAt": "2020-04-14T13:14:35Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8145", "timeline": [{"oid": "351a0e4e4e2e2c66a6a25d2b954ab85bacd649bf", "url": "https://github.com/sakaiproject/sakai/commit/351a0e4e4e2e2c66a6a25d2b954ab85bacd649bf", "message": "SAK-43535 - Site Info > Manage Groups: Auto-Groups Creation Wizard - Step 4 Improvements", "committedDate": "2020-04-14T13:12:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1Njg2OQ==", "url": "https://github.com/sakaiproject/sakai/pull/8145#discussion_r410256869", "bodyText": "Can you explain how this works?", "author": "fostersdesign", "createdAt": "2020-04-17T14:22:59Z", "path": "site-manage/site-group-manager/src/main/java/org/sakaiproject/groupmanager/controller/AutoGroupsController.java", "diffHunk": "@@ -337,9 +337,9 @@ public String showStep4(Model model, @ModelAttribute AutoGroupsForm autoGroupsFo\n                 String groupPrefix = autoGroupsForm.getGroupTitleByGroup();\n                 int groupNumber = autoGroupsForm.getGroupNumberByGroup();\n                 int groupSize = filteredMembers.size() / groupNumber;\n-\n+                String indexFormat = String.format(\"%%0%dd\", String.valueOf(groupNumber).length());", "originalCommit": "351a0e4e4e2e2c66a6a25d2b954ab85bacd649bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI2Mzg4Ng==", "url": "https://github.com/sakaiproject/sakai/pull/8145#discussion_r410263886", "bodyText": "Oh, I see: it will result in \"%0xd\" where x is the number of digits of the number of groups being created. And then you pass this into the formatter below to pad the group titles with the appropriate number of zeroes. Nice!\nMaybe we need a comment to explain what we are trying to achieve here?", "author": "fostersdesign", "createdAt": "2020-04-17T14:33:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1Njg2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI2ODU1Ng==", "url": "https://github.com/sakaiproject/sakai/pull/8145#discussion_r410268556", "bodyText": "Makes sense, added a comment.", "author": "mpellicer", "createdAt": "2020-04-17T14:40:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1Njg2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3MzExOQ==", "url": "https://github.com/sakaiproject/sakai/pull/8145#discussion_r410273119", "bodyText": "Thanks! Looks good.", "author": "fostersdesign", "createdAt": "2020-04-17T14:47:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1Njg2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "60323cf3491d6f2010705af3af16b6e44d9e7d10", "chunk": "diff --git a/site-manage/site-group-manager/src/main/java/org/sakaiproject/groupmanager/controller/AutoGroupsController.java b/site-manage/site-group-manager/src/main/java/org/sakaiproject/groupmanager/controller/AutoGroupsController.java\nindex 3f430bea61..f8a5109163 100644\n--- a/site-manage/site-group-manager/src/main/java/org/sakaiproject/groupmanager/controller/AutoGroupsController.java\n+++ b/site-manage/site-group-manager/src/main/java/org/sakaiproject/groupmanager/controller/AutoGroupsController.java\n\n@@ -337,6 +337,7 @@ public class AutoGroupsController {\n                 String groupPrefix = autoGroupsForm.getGroupTitleByGroup();\n                 int groupNumber = autoGroupsForm.getGroupNumberByGroup();\n                 int groupSize = filteredMembers.size() / groupNumber;\n+                // Use one, two or three digits to represent the suffix depending on the size of the number of groups, %01d %02d or %03d\n                 String indexFormat = String.format(\"%%0%dd\", String.valueOf(groupNumber).length());\n                 for (int groupIndex = 1 ; groupIndex <= groupNumber; groupIndex++) {\n                     String groupTitle = String.format(\"%s-\"+indexFormat, groupPrefix, groupIndex);\n"}}, {"oid": "60323cf3491d6f2010705af3af16b6e44d9e7d10", "url": "https://github.com/sakaiproject/sakai/commit/60323cf3491d6f2010705af3af16b6e44d9e7d10", "message": "Comment", "committedDate": "2020-04-17T14:40:18Z", "type": "commit"}]}