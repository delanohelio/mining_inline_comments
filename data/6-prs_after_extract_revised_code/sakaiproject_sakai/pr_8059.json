{"pr_number": 8059, "pr_title": "SAK-43433 Saving Overview should redirect to where it came from", "pr_createdAt": "2020-03-20T13:59:07Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8059", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY5ODc4OA==", "url": "https://github.com/sakaiproject/sakai/pull/8059#discussion_r395698788", "bodyText": "Delete comment", "author": "bgarciaentornos", "createdAt": "2020-03-20T15:06:07Z", "path": "site-manage/site-manage-tool/tool/src/java/org/sakaiproject/site/tool/SiteAction.java", "diffHunk": "@@ -3826,6 +3825,13 @@ else if (((String) state.getAttribute(STATE_SITE_MODE)).equalsIgnoreCase(SITE_MO\n \t\t\tcontext.put(\"page\", page);\n \t\t\tcontext.put(\"site\", site);\n \t\t\tcontext.put(\"layouts\", layoutsList());\n+\t\t\tboolean fromHome = state.getAttribute(\"fromHome\") != null ? (boolean) state.getAttribute(\"fromHome\") : false;\n+\t\t\tif(fromHome) {\n+\t\t\t\tcontext.put(\"back\", page.getId());\n+\t\t\t}/* else {", "originalCommit": "3ef368f4c644e09e4a14b4b0c9ba1df633a63906", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9c4ebbb798bfab9ca31ce87371699fe82a8098f0", "chunk": "diff --git a/site-manage/site-manage-tool/tool/src/java/org/sakaiproject/site/tool/SiteAction.java b/site-manage/site-manage-tool/tool/src/java/org/sakaiproject/site/tool/SiteAction.java\nindex 725463c8af..cd5d2cc3ad 100644\n--- a/site-manage/site-manage-tool/tool/src/java/org/sakaiproject/site/tool/SiteAction.java\n+++ b/site-manage/site-manage-tool/tool/src/java/org/sakaiproject/site/tool/SiteAction.java\n\n@@ -3828,9 +3828,7 @@ public class SiteAction extends PagedResourceActionII {\n \t\t\tboolean fromHome = state.getAttribute(\"fromHome\") != null ? (boolean) state.getAttribute(\"fromHome\") : false;\n \t\t\tif(fromHome) {\n \t\t\t\tcontext.put(\"back\", page.getId());\n-\t\t\t}/* else {\n-\t\t\t\tcontext.put(\"back\", \"12\");\n-\t\t\t}*/\n+\t\t\t}\n \t\t\tstate.removeAttribute(\"fromHome\");\n \n \t\t\treturn (String) getContext(data).get(\"template\") + TEMPLATE[65];\n"}}, {"oid": "9c4ebbb798bfab9ca31ce87371699fe82a8098f0", "url": "https://github.com/sakaiproject/sakai/commit/9c4ebbb798bfab9ca31ce87371699fe82a8098f0", "message": "SAK-43433 Saving Overview should redirect to where it came from", "committedDate": "2020-03-23T07:25:50Z", "type": "commit"}, {"oid": "9c4ebbb798bfab9ca31ce87371699fe82a8098f0", "url": "https://github.com/sakaiproject/sakai/commit/9c4ebbb798bfab9ca31ce87371699fe82a8098f0", "message": "SAK-43433 Saving Overview should redirect to where it came from", "committedDate": "2020-03-23T07:25:50Z", "type": "forcePushed"}]}