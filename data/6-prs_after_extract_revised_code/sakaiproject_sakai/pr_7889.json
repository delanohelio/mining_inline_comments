{"pr_number": 7889, "pr_title": "SAK-43223 - New Assignments - Add due date to Calendar should be checked by default", "pr_createdAt": "2020-02-13T18:49:36Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/7889", "timeline": [{"oid": "09fe2b061baaadafd021d733cf9efd4e5f3c9adb", "url": "https://github.com/sakaiproject/sakai/commit/09fe2b061baaadafd021d733cf9efd4e5f3c9adb", "message": "SAK-43223 - New Assignments - Add due date to Calendar should be checked by default", "committedDate": "2020-02-13T18:48:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA1MjQxNQ==", "url": "https://github.com/sakaiproject/sakai/pull/7889#discussion_r379052415", "bodyText": "Can you make the property name and default constants please?", "author": "bjones86", "createdAt": "2020-02-13T18:51:12Z", "path": "assignment/tool/src/java/org/sakaiproject/assignment/tool/AssignmentAction.java", "diffHunk": "@@ -11202,7 +11202,8 @@ private void initializeAssignment(SessionState state) {\n         state.setAttribute(NEW_ASSIGNMENT_GRADE_TYPE, UNGRADED_GRADE_TYPE.ordinal());\n         state.setAttribute(NEW_ASSIGNMENT_GRADE_POINTS, \"\");\n         state.setAttribute(NEW_ASSIGNMENT_DESCRIPTION, \"\");\n-        state.setAttribute(ResourceProperties.NEW_ASSIGNMENT_CHECK_ADD_DUE_DATE, Boolean.FALSE.toString());\n+        boolean checkAddDueDate = (state.getAttribute(CALENDAR) != null || state.getAttribute(ADDITIONAL_CALENDAR) != null) && serverConfigurationService.getBoolean(\"asn.due.date.to.calendar.default\", true);", "originalCommit": "09fe2b061baaadafd021d733cf9efd4e5f3c9adb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "50449ae4abd5ba2afde26584ac7afb7c9ac87bd6", "chunk": "diff --git a/assignment/tool/src/java/org/sakaiproject/assignment/tool/AssignmentAction.java b/assignment/tool/src/java/org/sakaiproject/assignment/tool/AssignmentAction.java\nindex 993c2b3b4f..325e5ae0a3 100644\n--- a/assignment/tool/src/java/org/sakaiproject/assignment/tool/AssignmentAction.java\n+++ b/assignment/tool/src/java/org/sakaiproject/assignment/tool/AssignmentAction.java\n\n@@ -11202,7 +11210,7 @@ public class AssignmentAction extends PagedResourceActionII {\n         state.setAttribute(NEW_ASSIGNMENT_GRADE_TYPE, UNGRADED_GRADE_TYPE.ordinal());\n         state.setAttribute(NEW_ASSIGNMENT_GRADE_POINTS, \"\");\n         state.setAttribute(NEW_ASSIGNMENT_DESCRIPTION, \"\");\n-        boolean checkAddDueDate = (state.getAttribute(CALENDAR) != null || state.getAttribute(ADDITIONAL_CALENDAR) != null) && serverConfigurationService.getBoolean(\"asn.due.date.to.calendar.default\", true);\n+        boolean checkAddDueDate = (state.getAttribute(CALENDAR) != null || state.getAttribute(ADDITIONAL_CALENDAR) != null) && serverConfigurationService.getBoolean(SAK_PROP_DUE_DATE_TO_CALENDAR_DEFAULT, DUE_DATE_TO_CALENDAR_DEFAULT);\n         state.setAttribute(ResourceProperties.NEW_ASSIGNMENT_CHECK_ADD_DUE_DATE, Boolean.toString(checkAddDueDate));\n         state.setAttribute(ResourceProperties.NEW_ASSIGNMENT_CHECK_AUTO_ANNOUNCE, Boolean.FALSE.toString());\n \n"}}, {"oid": "50449ae4abd5ba2afde26584ac7afb7c9ac87bd6", "url": "https://github.com/sakaiproject/sakai/commit/50449ae4abd5ba2afde26584ac7afb7c9ac87bd6", "message": "SAK-43223 - constants", "committedDate": "2020-02-13T19:07:12Z", "type": "commit"}, {"oid": "d8f17f12746d554f7baf725d1fec2ccc164d8c7c", "url": "https://github.com/sakaiproject/sakai/commit/d8f17f12746d554f7baf725d1fec2ccc164d8c7c", "message": "SAK-43223 - sakai.properties documentation", "committedDate": "2020-02-13T19:15:15Z", "type": "commit"}, {"oid": "06ca0f246b9e4d6c99ec80cc7ec742013bc45ce0", "url": "https://github.com/sakaiproject/sakai/commit/06ca0f246b9e4d6c99ec80cc7ec742013bc45ce0", "message": "Update default.sakai.properties", "committedDate": "2020-02-13T19:17:07Z", "type": "commit"}]}