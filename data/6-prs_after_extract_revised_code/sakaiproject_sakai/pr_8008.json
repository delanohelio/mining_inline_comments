{"pr_number": 8008, "pr_title": "SAK-43417 SWITCH Fix Site Archive tabs consistency", "pr_createdAt": "2020-03-11T09:31:36Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8008", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkxMjU1MA==", "url": "https://github.com/sakaiproject/sakai/pull/8008#discussion_r390912550", "bodyText": "Address Codacy comments.", "author": "mpellicer", "createdAt": "2020-03-11T11:39:49Z", "path": "admin-tools/src/java/org/sakaiproject/archive/tool/ArchiveAction.java", "diffHunk": "@@ -686,19 +698,32 @@ public synchronized String getCurrentBatchArchiveStatusMessage() {\n      * Build the top level menu\n      * @param context\n      */\n-    private void buildMenu(Context context) {\n+    private void buildMenu(Context context, String page) {\n     \t//build the menu\n \t\tMenu bar = new MenuImpl();\n-\t\tbar.add(new MenuEntry(rb.getString(\"archive.button.single\"), \"doView_single\"));\n-\t\tbar.add(new MenuEntry(rb.getString(\"archive.button.batch\"), \"doView_batch\"));\n-\t\tbar.add(new MenuEntry(rb.getString(\"archive.button.download\"), \"doView_download\"));\n+\t\tMenuEntry single = new MenuEntry(rb.getString(\"archive.button.single\"), \"doView_single\");\n+\t\tMenuEntry batch = new MenuEntry(rb.getString(\"archive.button.batch\"), \"doView_batch\");\n+\t\tMenuEntry download = new MenuEntry(rb.getString(\"archive.button.download\"), \"doView_download\");\n+\t\tswitch(page) {", "originalCommit": "375c07895f262e1e57cb5f80ecc7846b39bb7aa6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "7ad4294411b5b8b1f3774236bd15af6144258915", "chunk": "diff --git a/admin-tools/src/java/org/sakaiproject/archive/tool/ArchiveAction.java b/admin-tools/src/java/org/sakaiproject/archive/tool/ArchiveAction.java\nindex 4c78c885bb..93411dc55e 100644\n--- a/admin-tools/src/java/org/sakaiproject/archive/tool/ArchiveAction.java\n+++ b/admin-tools/src/java/org/sakaiproject/archive/tool/ArchiveAction.java\n\n@@ -694,12 +694,12 @@ public class ArchiveAction extends VelocityPortletPaneledAction {\n     }\n \t\n     \n-    /**\n-     * Build the top level menu\n-     * @param context\n-     */\n-    private void buildMenu(Context context, String page) {\n-    \t//build the menu\n+\t/**\n+\t * Build the top level menu\n+\t * @param context\n+\t */\n+\tprivate void buildMenu(Context context, String page) {\n+\t\t//build the menu\n \t\tMenu bar = new MenuImpl();\n \t\tMenuEntry single = new MenuEntry(rb.getString(\"archive.button.single\"), \"doView_single\");\n \t\tMenuEntry batch = new MenuEntry(rb.getString(\"archive.button.batch\"), \"doView_batch\");\n"}}, {"oid": "7ad4294411b5b8b1f3774236bd15af6144258915", "url": "https://github.com/sakaiproject/sakai/commit/7ad4294411b5b8b1f3774236bd15af6144258915", "message": "SAK-43417 SWITCH Fix Site Archive tabs consistency", "committedDate": "2020-03-11T12:17:13Z", "type": "commit"}, {"oid": "7ad4294411b5b8b1f3774236bd15af6144258915", "url": "https://github.com/sakaiproject/sakai/commit/7ad4294411b5b8b1f3774236bd15af6144258915", "message": "SAK-43417 SWITCH Fix Site Archive tabs consistency", "committedDate": "2020-03-11T12:17:13Z", "type": "forcePushed"}]}