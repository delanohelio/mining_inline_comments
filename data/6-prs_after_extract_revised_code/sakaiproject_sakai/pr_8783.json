{"pr_number": 8783, "pr_title": "SAK-44555 T&Qs : minimum points on unanswered questions", "pr_createdAt": "2020-11-05T08:46:07Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8783", "timeline": [{"oid": "713c9dc61132e72dbafeae147b4efb74057262e6", "url": "https://github.com/sakaiproject/sakai/commit/713c9dc61132e72dbafeae147b4efb74057262e6", "message": "SAK-44555 T&Qs : minimum points on unanswered questions", "committedDate": "2020-11-05T08:45:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA5MzE5Mw==", "url": "https://github.com/sakaiproject/sakai/pull/8783#discussion_r518093193", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \t\t\t  if (itemGrading.getPublishedItemId().equals(entry.getKey()) && answer != null) {\n          \n          \n            \n                \t\t\t  if (answer != null && itemGrading.getPublishedItemId().equals(entry.getKey())) {", "author": "ern", "createdAt": "2020-11-05T14:29:42Z", "path": "samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java", "diffHunk": "@@ -1223,7 +1223,8 @@ public int compare(ItemGradingData o1, ItemGradingData o2) {\n     \t\t  iter = itemGradingSet.iterator();\n     \t\t  while(iter.hasNext()){\n     \t\t\t  ItemGradingData itemGrading = (ItemGradingData) iter.next();\n-    \t\t\t  if(itemGrading.getPublishedItemId().equals(entry.getKey())){\n+    \t\t\t  AnswerIfc answer = (AnswerIfc) publishedAnswerHash.get(itemGrading.getPublishedAnswerId());\n+    \t\t\t  if (itemGrading.getPublishedItemId().equals(entry.getKey()) && answer != null) {", "originalCommit": "713c9dc61132e72dbafeae147b4efb74057262e6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fb09f2f215585ce0131fed4f93ad4ae8649fc07e", "chunk": "diff --git a/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java b/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java\nindex 929dff69b4..76c5cd9e28 100644\n--- a/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java\n+++ b/samigo/samigo-services/src/java/org/sakaiproject/tool/assessment/services/GradingService.java\n\n@@ -1224,7 +1224,7 @@ public class GradingService\n     \t\t  while(iter.hasNext()){\n     \t\t\t  ItemGradingData itemGrading = (ItemGradingData) iter.next();\n     \t\t\t  AnswerIfc answer = (AnswerIfc) publishedAnswerHash.get(itemGrading.getPublishedAnswerId());\n-    \t\t\t  if (itemGrading.getPublishedItemId().equals(entry.getKey()) && answer != null) {\n+    \t\t\t  if (answer != null && itemGrading.getPublishedItemId().equals(entry.getKey())) {\n     \t\t\t\t  itemGrading.setAutoScore(entry.getValue()[1]/entry.getValue()[2]);\n     \t\t\t  }\n     \t\t  }\n"}}, {"oid": "fb09f2f215585ce0131fed4f93ad4ae8649fc07e", "url": "https://github.com/sakaiproject/sakai/commit/fb09f2f215585ce0131fed4f93ad4ae8649fc07e", "message": "null check first", "committedDate": "2020-11-05T14:30:08Z", "type": "commit"}]}