{"pr_number": 3357, "pr_title": "Fix: Preventing addition of any empty cells with whitespaces while importing Xml Data with Tests #1095", "pr_createdAt": "2020-11-25T15:49:35Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/3357", "timeline": [{"oid": "3fc765d0d73467c0a3984a931c99738a0dd79ed5", "url": "https://github.com/OpenRefine/OpenRefine/commit/3fc765d0d73467c0a3984a931c99738a0dd79ed5", "message": "Fix: Preventing addition of any empty cells with whitespaces while importing Xml data with Tests : Issue #1095", "committedDate": "2020-11-25T15:46:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDI5MzMwOQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3357#discussion_r534293309", "bodyText": "Instead of introducing our own regex here, perhaps we could use CharMatcher.whitespace() just like in other places in the code (see for instance main/src/com/google/refine/expr/functions/strings/Trim.java).", "author": "wetneb", "createdAt": "2020-12-02T16:13:10Z", "path": "main/src/com/google/refine/importers/XmlImporter.java", "diffHunk": "@@ -209,7 +209,9 @@ public void parseOneFile(Project project, ProjectMetadata metadata,\n     \n     static public class XmlParser implements TreeReader {\n         final protected XMLStreamReader parser;\n-        \n+        static final String WHITESPACES_PATTERN = \"^[\\\\n\\\\r\\\\t].*$\";", "originalCommit": "3fc765d0d73467c0a3984a931c99738a0dd79ed5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMxNjM1Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3357#discussion_r534316356", "bodyText": "@wetneb Thanks for the suggestion. I have updated the PR with new changes. Please let me know if anything else we can enhance.", "author": "maheshjindal", "createdAt": "2020-12-02T16:42:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDI5MzMwOQ=="}], "type": "inlineReview", "revised_code": {"commit": "caeeb34f745512146a4357c0acd870c90e61cc0a", "chunk": "diff --git a/main/src/com/google/refine/importers/XmlImporter.java b/main/src/com/google/refine/importers/XmlImporter.java\nindex 4a477791f..7ff0cc9e2 100644\n--- a/main/src/com/google/refine/importers/XmlImporter.java\n+++ b/main/src/com/google/refine/importers/XmlImporter.java\n\n@@ -209,7 +210,6 @@ public class XmlImporter extends TreeImportingParserBase {\n     \n     static public class XmlParser implements TreeReader {\n         final protected XMLStreamReader parser;\n-        static final String WHITESPACES_PATTERN = \"^[\\\\n\\\\r\\\\t].*$\";\n         static final int WHITESPACE_CHARACTERS_TOKEN = 15;\n \n         public XmlParser(InputStream inputStream) throws XMLStreamException, IOException {\n"}}, {"oid": "caeeb34f745512146a4357c0acd870c90e61cc0a", "url": "https://github.com/OpenRefine/OpenRefine/commit/caeeb34f745512146a4357c0acd870c90e61cc0a", "message": "Chore: Using 'CharMatcher' to match whitespace pattern instead of using custom regex : Issue #1095", "committedDate": "2020-12-02T16:38:24Z", "type": "commit"}]}