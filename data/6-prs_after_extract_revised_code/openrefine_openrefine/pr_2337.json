{"pr_number": 2337, "pr_title": "fix: Browser redirection for 0.0.0.0", "pr_createdAt": "2020-02-27T18:53:31Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/2337", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ1NzE3NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2337#discussion_r385457174", "bodyText": "Why contains and not string equality here? For instance 140.0.0.0 contains 0.0.0.0 but I don't think we want to rewrite that to localhost.\nAlso, it would perhaps be marginally cleaner to only set a variable storing the cleaned host in the if block, and then build the URI based on that cleaned host?", "author": "wetneb", "createdAt": "2020-02-28T01:02:41Z", "path": "server/src/com/google/refine/Refine.java", "diffHunk": "@@ -464,7 +464,7 @@ static private String fixWindowsUnicodePath(String path) {\n     public void init(String host, int port) throws Exception {\n \n     \tif(host.contains(\"0.0.0.0\")) {", "originalCommit": "a997f5e6caa612a00a26210fc5c6c342fd4d9cb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzMTgwNw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2337#discussion_r386031807", "bodyText": "@wetneb Made the changes you requested!", "author": "kushthedude", "createdAt": "2020-02-29T14:30:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ1NzE3NA=="}], "type": "inlineReview", "revised_code": {"commit": "52de7774376eba133dca5c290f1acb8e6f8d4ae4", "chunk": "diff --git a/server/src/com/google/refine/Refine.java b/server/src/com/google/refine/Refine.java\nindex a49d2ccae..d57b96ae9 100644\n--- a/server/src/com/google/refine/Refine.java\n+++ b/server/src/com/google/refine/Refine.java\n\n@@ -463,12 +463,11 @@ class RefineClient extends JFrame implements ActionListener {\n     \n     public void init(String host, int port) throws Exception {\n \n-    \tif(host.contains(\"0.0.0.0\")) {\n-        \turi = new URI(\"http://\" + host + \":\" + port + \"/\");\n-        }\n-        else {\n-        \turi = new URI(\"http://\" + \"localhost\" + \":\" + port + \"/\");\n+    \tString cleanedHost = host;\n+    \tif(\"0.0.0.0\".equals(host)) {\n+            cleanedHost = \"localhost\";\n         }\n+        uri = new URI(\"http://\" + cleanedHost + \":\" + port + \"/\");\n         openBrowser();\n     }\n     \n"}}, {"oid": "52de7774376eba133dca5c290f1acb8e6f8d4ae4", "url": "https://github.com/OpenRefine/OpenRefine/commit/52de7774376eba133dca5c290f1acb8e6f8d4ae4", "message": "fix: Browser redirection for 0.0.0.0\n\nSigned-off-by: kushthedude <kushthedude@gmail.com>", "committedDate": "2020-02-29T14:47:47Z", "type": "commit"}]}