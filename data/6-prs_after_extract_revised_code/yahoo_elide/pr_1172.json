{"pr_number": 1172, "pr_title": "null access suggestions", "pr_createdAt": "2020-01-27T14:36:53Z", "pr_url": "https://github.com/yahoo/elide/pull/1172", "timeline": [{"oid": "221314e2982fcded45822a796312026e13a49739", "url": "https://github.com/yahoo/elide/commit/221314e2982fcded45822a796312026e13a49739", "message": "null access suggestions", "committedDate": "2020-01-27T14:34:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTI3NjA4OA==", "url": "https://github.com/yahoo/elide/pull/1172#discussion_r371276088", "bodyText": "@aklish What is the intent here when data.isToMany but resource is null?", "author": "wcekan", "createdAt": "2020-01-27T14:38:04Z", "path": "elide-core/src/main/java/com/yahoo/elide/jsonapi/models/Relationship.java", "diffHunk": "@@ -77,6 +77,7 @@ public Relationship(@JsonProperty(\"links\") Map<String, String> links,\n                     if (data.isToOne() && resource == null) {\n                         continue;\n                     }\n+                    // TODO: what if resource==null here?", "originalCommit": "221314e2982fcded45822a796312026e13a49739", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTMzMjI1Mw==", "url": "https://github.com/yahoo/elide/pull/1172#discussion_r371332253", "bodyText": "We need a test to find out.", "author": "aklish", "createdAt": "2020-01-27T16:08:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTI3NjA4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQwMTY4Mw==", "url": "https://github.com/yahoo/elide/pull/1172#discussion_r371401683", "bodyText": "Added test and fixed TODO.", "author": "wcekan", "createdAt": "2020-01-27T18:17:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTI3NjA4OA=="}], "type": "inlineReview", "revised_code": {"commit": "58bd23dc5420ee1508831b781ad7920ce77daa75", "chunk": "diff --git a/elide-core/src/main/java/com/yahoo/elide/jsonapi/models/Relationship.java b/elide-core/src/main/java/com/yahoo/elide/jsonapi/models/Relationship.java\nindex fe21d2fb4..a1f700644 100644\n--- a/elide-core/src/main/java/com/yahoo/elide/jsonapi/models/Relationship.java\n+++ b/elide-core/src/main/java/com/yahoo/elide/jsonapi/models/Relationship.java\n\n@@ -74,10 +76,9 @@ public class Relationship {\n         if (resources != null) {\n             for (Resource resource : resources) {\n                 try {\n-                    if (data.isToOne() && resource == null) {\n+                    if (resource == null) {\n                         continue;\n                     }\n-                    // TODO: what if resource==null here?\n                     res.add(resource.toPersistentResource(requestScope));\n                 } catch (ForbiddenAccessException e) {\n                     //skip resource\n"}}, {"oid": "58bd23dc5420ee1508831b781ad7920ce77daa75", "url": "https://github.com/yahoo/elide/commit/58bd23dc5420ee1508831b781ad7920ce77daa75", "message": "Add null resource test", "committedDate": "2020-01-27T18:21:07Z", "type": "forcePushed"}, {"oid": "231732da0c0fb8aa1082db87b81d1bdbb9f83c4b", "url": "https://github.com/yahoo/elide/commit/231732da0c0fb8aa1082db87b81d1bdbb9f83c4b", "message": "Add null resource test", "committedDate": "2020-01-27T18:25:30Z", "type": "commit"}, {"oid": "231732da0c0fb8aa1082db87b81d1bdbb9f83c4b", "url": "https://github.com/yahoo/elide/commit/231732da0c0fb8aa1082db87b81d1bdbb9f83c4b", "message": "Add null resource test", "committedDate": "2020-01-27T18:25:30Z", "type": "forcePushed"}, {"oid": "b9fd3af070d884371c0ec3285e282bdbcc907c3b", "url": "https://github.com/yahoo/elide/commit/b9fd3af070d884371c0ec3285e282bdbcc907c3b", "message": "Merge branch 'master' into nullChecks", "committedDate": "2020-01-27T19:04:57Z", "type": "commit"}]}