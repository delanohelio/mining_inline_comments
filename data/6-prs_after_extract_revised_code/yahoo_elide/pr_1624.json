{"pr_number": 1624, "pr_title": "Migrate metadatacalls to metadata store", "pr_createdAt": "2020-10-30T22:20:50Z", "pr_url": "https://github.com/yahoo/elide/pull/1624", "timeline": [{"oid": "9792e0d2c08f9ece0e9f31959c04f0c138f66789", "url": "https://github.com/yahoo/elide/commit/9792e0d2c08f9ece0e9f31959c04f0c138f66789", "message": "Started making changes", "committedDate": "2020-10-30T22:11:34Z", "type": "commit"}, {"oid": "75da3ad150713b06ec62640cb69bc1cfe4c79713", "url": "https://github.com/yahoo/elide/commit/75da3ad150713b06ec62640cb69bc1cfe4c79713", "message": "Removed getTable method from QueryEngine", "committedDate": "2020-10-30T22:12:13Z", "type": "commit"}, {"oid": "755f963b17c250a3d223e87a281f5583106c2ba9", "url": "https://github.com/yahoo/elide/commit/755f963b17c250a3d223e87a281f5583106c2ba9", "message": "Fixed rebase", "committedDate": "2020-10-30T22:15:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjAwMjY5OQ==", "url": "https://github.com/yahoo/elide/pull/1624#discussion_r516002699", "bodyText": "should we be using getter method for metaDataStore incase we move the classes in different packages later ?\nAlso do we require to add metaDataStore as private member here ?", "author": "rishi-aga", "createdAt": "2020-11-02T14:20:09Z", "path": "elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/AggregationDataStoreTransaction.java", "diffHunk": "@@ -37,13 +38,15 @@\n     private final Cache cache;\n     private final QueryEngine.Transaction queryEngineTransaction;\n     private final QueryLogger queryLogger;\n+    private final MetaDataStore metaDataStore;\n \n     public AggregationDataStoreTransaction(QueryEngine queryEngine, Cache cache,\n                                            QueryLogger queryLogger) {\n         this.queryEngine = queryEngine;\n         this.cache = cache;\n         this.queryEngineTransaction = queryEngine.beginTransaction();\n         this.queryLogger = queryLogger;\n+        this.metaDataStore = queryEngine.metaDataStore;", "originalCommit": "755f963b17c250a3d223e87a281f5583106c2ba9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d48ed054f80095737edf4aa637399fba65551a3e", "chunk": "diff --git a/elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/AggregationDataStoreTransaction.java b/elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/AggregationDataStoreTransaction.java\nindex 59107bcec..9fbf6c7b9 100644\n--- a/elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/AggregationDataStoreTransaction.java\n+++ b/elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/AggregationDataStoreTransaction.java\n\n@@ -46,7 +46,7 @@ public class AggregationDataStoreTransaction implements DataStoreTransaction {\n         this.cache = cache;\n         this.queryEngineTransaction = queryEngine.beginTransaction();\n         this.queryLogger = queryLogger;\n-        this.metaDataStore = queryEngine.metaDataStore;\n+        this.metaDataStore = queryEngine.getMetaDataStore();\n     }\n \n     @Override\n"}}, {"oid": "d48ed054f80095737edf4aa637399fba65551a3e", "url": "https://github.com/yahoo/elide/commit/d48ed054f80095737edf4aa637399fba65551a3e", "message": "Inspection Rework", "committedDate": "2020-11-02T17:11:55Z", "type": "commit"}]}