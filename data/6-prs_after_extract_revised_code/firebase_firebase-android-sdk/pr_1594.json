{"pr_number": 1594, "pr_title": "Initial implementation of ExtraProperty annotation processor.", "pr_createdAt": "2020-05-26T14:04:25Z", "pr_url": "https://github.com/firebase/firebase-android-sdk/pull/1594", "timeline": [{"oid": "bca8bb739a9a2064059f385918cb755ebc1d124c", "url": "https://github.com/firebase/firebase-android-sdk/commit/bca8bb739a9a2064059f385918cb755ebc1d124c", "message": "Initial implementation of ExtraProperty annotation processor.", "committedDate": "2020-05-26T13:58:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3MjU2Mw==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1594#discussion_r430572563", "bodyText": "Would it be useful to document that the *Impl is also generated, not only the At*?", "author": "rlazo", "createdAt": "2020-05-26T17:08:00Z", "path": "encoders/firebase-encoders-processor/src/main/java/com/google/firebase/encoders/processor/annotations/AnnotationBuilder.java", "diffHunk": "@@ -0,0 +1,237 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.google.firebase.encoders.processor.annotations;\n+\n+import com.squareup.javapoet.ClassName;\n+import com.squareup.javapoet.FieldSpec;\n+import com.squareup.javapoet.MethodSpec;\n+import com.squareup.javapoet.ParameterSpec;\n+import com.squareup.javapoet.ParameterizedTypeName;\n+import com.squareup.javapoet.TypeName;\n+import com.squareup.javapoet.TypeSpec;\n+import com.squareup.javapoet.TypeSpec.Builder;\n+import com.squareup.javapoet.WildcardTypeName;\n+import java.lang.annotation.Annotation;\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Map;\n+import javax.lang.model.element.AnnotationValue;\n+import javax.lang.model.element.ExecutableElement;\n+import javax.lang.model.element.Modifier;\n+import javax.lang.model.element.TypeElement;\n+import javax.lang.model.util.ElementFilter;\n+\n+/**\n+ * Generates an annotation implementation.\n+ *\n+ * <p>For example, given the following annotation\n+ * <pre>{@code\n+ * @interface MyAnnotation {\n+ *   int value();\n+ *   String str() default \"hello\";\n+ * }\n+ * }</pre>\n+ * The produced code will look like:", "originalCommit": "bca8bb739a9a2064059f385918cb755ebc1d124c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3ODIzOA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1594#discussion_r430578238", "bodyText": "done", "author": "vkryachko", "createdAt": "2020-05-26T17:18:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3MjU2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "1665e36cd18e08ba36be4021e7c209ce1c3717d5", "chunk": "diff --git a/encoders/firebase-encoders-processor/src/main/java/com/google/firebase/encoders/processor/annotations/AnnotationBuilder.java b/encoders/firebase-encoders-processor/src/main/java/com/google/firebase/encoders/processor/annotations/AnnotationBuilder.java\nindex 633b4da7..c544c093 100644\n--- a/encoders/firebase-encoders-processor/src/main/java/com/google/firebase/encoders/processor/annotations/AnnotationBuilder.java\n+++ b/encoders/firebase-encoders-processor/src/main/java/com/google/firebase/encoders/processor/annotations/AnnotationBuilder.java\n\n@@ -61,6 +61,10 @@ import javax.lang.model.util.ElementFilter;\n  *\n  *   public MyAnnotation build() { return new MyAnnotationImpl(value, str); }\n  *\n+ *   private static class MyAnnotationImpl implements MyAnnotation {\n+ *     // implementation details ...\n+ *   }\n+ *\n  * }\n  * }</pre>\n  */\n"}}, {"oid": "1665e36cd18e08ba36be4021e7c209ce1c3717d5", "url": "https://github.com/firebase/firebase-android-sdk/commit/1665e36cd18e08ba36be4021e7c209ce1c3717d5", "message": "Address review comments.", "committedDate": "2020-05-26T17:17:26Z", "type": "commit"}]}