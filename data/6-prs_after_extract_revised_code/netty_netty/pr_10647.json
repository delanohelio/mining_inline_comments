{"pr_number": 10647, "pr_title": "Suppress warnings about weak hash algorithms", "pr_createdAt": "2020-10-06T15:41:10Z", "pr_url": "https://github.com/netty/netty/pull/10647", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc3NjY0Nw==", "url": "https://github.com/netty/netty/pull/10647#discussion_r501776647", "bodyText": "This empty comment looks like it was added by accident.", "author": "chrisvest", "createdAt": "2020-10-08T14:41:28Z", "path": "codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketUtil.java", "diffHunk": "@@ -31,11 +31,14 @@\n  */\n final class WebSocketUtil {\n \n+    // Suppress a warning about weak hash algorithm since it's defined in draft-ietf-hybi-thewebsocketprotocol-00\n+    @SuppressWarnings(\"lgtm[java/weak-cryptographic-algorithm]\")\n     private static final FastThreadLocal<MessageDigest> MD5 = new FastThreadLocal<MessageDigest>() {\n         @Override\n         protected MessageDigest initialValue() throws Exception {\n             try {\n                 //Try to get a MessageDigest that uses MD5\n+                //", "originalCommit": "1b6c1ce671982c282da2fff4c9d5dd3714523504", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgyODM3MQ==", "url": "https://github.com/netty/netty/pull/10647#discussion_r501828371", "bodyText": "My bad! I've removed this empty comment, thanks!", "author": "artem-smotrakov", "createdAt": "2020-10-08T15:50:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc3NjY0Nw=="}], "type": "inlineReview", "revised_code": {"commit": "b0d93449dce87d787758047b296ede12adaf0a35", "chunk": "diff --git a/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketUtil.java b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketUtil.java\nindex a3d393010b..f2805d9cfb 100644\n--- a/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketUtil.java\n+++ b/codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketUtil.java\n\n@@ -38,7 +38,6 @@ final class WebSocketUtil {\n         protected MessageDigest initialValue() throws Exception {\n             try {\n                 //Try to get a MessageDigest that uses MD5\n-                //\n                 return MessageDigest.getInstance(\"MD5\");\n             } catch (NoSuchAlgorithmException e) {\n                 //This shouldn't happen! How old is the computer?\n"}}, {"oid": "b0d93449dce87d787758047b296ede12adaf0a35", "url": "https://github.com/netty/netty/commit/b0d93449dce87d787758047b296ede12adaf0a35", "message": "Suppress warnings about weak hash algorithms\n\nMotivation:\n\nLGTM reported that WebSocketUtil uses MD5 and SHA-1\nthat are considered weak. Although those algorithms\nare insecure, they are required by draft-ietf-hybi-thewebsocketprotocol-00\nspecification that is implemented in the corresponding WebSocket\nhandshakers. Once the handshakers are removed, WebSocketUtil can be\nupdated to stop using those weak hash functions.\n\nModifications:\n\nAdded SuppressWarnings annotations.\n\nResult:\n\nSuppressed warnings.", "committedDate": "2020-10-08T15:49:21Z", "type": "commit"}, {"oid": "b0d93449dce87d787758047b296ede12adaf0a35", "url": "https://github.com/netty/netty/commit/b0d93449dce87d787758047b296ede12adaf0a35", "message": "Suppress warnings about weak hash algorithms\n\nMotivation:\n\nLGTM reported that WebSocketUtil uses MD5 and SHA-1\nthat are considered weak. Although those algorithms\nare insecure, they are required by draft-ietf-hybi-thewebsocketprotocol-00\nspecification that is implemented in the corresponding WebSocket\nhandshakers. Once the handshakers are removed, WebSocketUtil can be\nupdated to stop using those weak hash functions.\n\nModifications:\n\nAdded SuppressWarnings annotations.\n\nResult:\n\nSuppressed warnings.", "committedDate": "2020-10-08T15:49:21Z", "type": "forcePushed"}]}