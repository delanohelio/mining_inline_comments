{"pr_number": 10443, "pr_title": "New H2 stream promise may never complete", "pr_createdAt": "2020-08-01T02:45:03Z", "pr_url": "https://github.com/netty/netty/pull/10443", "timeline": [{"oid": "6a268623464a18290859ea0b974e7b6268196dfb", "url": "https://github.com/netty/netty/commit/6a268623464a18290859ea0b974e7b6268196dfb", "message": "New H2 stream promise may never complete\n\nMotivation:\n\n`Http2StreamChannelBootstrap#open0` invokes\n`Http2MultiplexHandler#newOutboundStream()` which may throw an\n`IllegalStateException`. In this case, it will never complete\nthe passed promise.\n\nModifications:\n\n- `try-catch` all invocations of `newOutboundStream()` and fail\npromise in case of any exception;\n\nResult:\n\nNew H2 stream promise always completes.", "committedDate": "2020-08-01T02:44:04Z", "type": "commit"}, {"oid": "2228caef80f9af08b609eb745b6e2e4d744958f3", "url": "https://github.com/netty/netty/commit/2228caef80f9af08b609eb745b6e2e4d744958f3", "message": "Add a unit test", "committedDate": "2020-08-04T23:51:02Z", "type": "commit"}, {"oid": "ed2a3aae2a24837774c535ce5d021f3980d5bba9", "url": "https://github.com/netty/netty/commit/ed2a3aae2a24837774c535ce5d021f3980d5bba9", "message": "small fix", "committedDate": "2020-08-04T23:54:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY1Nzc3MQ==", "url": "https://github.com/netty/netty/pull/10443#discussion_r465657771", "bodyText": "missing license header", "author": "normanmaurer", "createdAt": "2020-08-05T11:24:48Z", "path": "codec-http2/src/test/java/io/netty/handler/codec/http2/Http2StreamChannelBootstrapTest.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.netty.handler.codec.http2;", "originalCommit": "ed2a3aae2a24837774c535ce5d021f3980d5bba9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bddd8193ed2e790b412121c9a237238f0c146ca5", "chunk": "diff --git a/codec-http2/src/test/java/io/netty/handler/codec/http2/Http2StreamChannelBootstrapTest.java b/codec-http2/src/test/java/io/netty/handler/codec/http2/Http2StreamChannelBootstrapTest.java\nindex 777c57ec37..e941fc5586 100644\n--- a/codec-http2/src/test/java/io/netty/handler/codec/http2/Http2StreamChannelBootstrapTest.java\n+++ b/codec-http2/src/test/java/io/netty/handler/codec/http2/Http2StreamChannelBootstrapTest.java\n\n@@ -1,3 +1,18 @@\n+/*\n+ * Copyright 2020 The Netty Project\n+ *\n+ * The Netty Project licenses this file to you under the Apache License,\n+ * version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations\n+ * under the License.\n+ */\n package io.netty.handler.codec.http2;\n \n import io.netty.channel.Channel;\n"}}, {"oid": "bddd8193ed2e790b412121c9a237238f0c146ca5", "url": "https://github.com/netty/netty/commit/bddd8193ed2e790b412121c9a237238f0c146ca5", "message": "add license header", "committedDate": "2020-08-05T16:20:28Z", "type": "commit"}]}