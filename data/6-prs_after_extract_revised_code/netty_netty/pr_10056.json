{"pr_number": 10056, "pr_title": "NetworkInterface.getByInetAddress() may return null on Android platform", "pr_createdAt": "2020-02-24T14:21:33Z", "pr_url": "https://github.com/netty/netty/pull/10056", "timeline": [{"oid": "36bf836a1f94780f81f5b3e6b775117a23c78654", "url": "https://github.com/netty/netty/commit/36bf836a1f94780f81f5b3e6b775117a23c78654", "message": "NetworkInterface.getByInetAddress() may return null on Android platform\n\nMotivation:\n\nNetworkInterface.getByInetAddress() may return null on Android. This is incorrect by the API but still happens. To help our users we should provide a workaround\n\nModifications:\n\nJust return an empty Enumeration when null is returned.\n\nResult:\n\nFixes https://github.com/netty/netty/issues/10045", "committedDate": "2020-02-24T14:19:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQyOTcyOQ==", "url": "https://github.com/netty/netty/pull/10056#discussion_r383429729", "bodyText": "Could be more concise as:\nEMPTY = Collections.enumeration(Collections.emptyList());", "author": "njhill", "createdAt": "2020-02-24T18:14:29Z", "path": "common/src/main/java/io/netty/util/internal/SocketUtils.java", "diffHunk": "@@ -42,9 +43,26 @@\n  */\n public final class SocketUtils {\n \n+    private static Enumeration<Object> EMPTY = new Enumeration<Object>() {", "originalCommit": "36bf836a1f94780f81f5b3e6b775117a23c78654", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ0MjE1Ng==", "url": "https://github.com/netty/netty/pull/10056#discussion_r383442156", "bodyText": "good idea (also missed the \"final\" here).", "author": "normanmaurer", "createdAt": "2020-02-24T18:39:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQyOTcyOQ=="}], "type": "inlineReview", "revised_code": {"commit": "697d18ff919104af3cc659ec00a1d3daa029839a", "chunk": "diff --git a/common/src/main/java/io/netty/util/internal/SocketUtils.java b/common/src/main/java/io/netty/util/internal/SocketUtils.java\nindex ae7aa5c23d..02d9896281 100644\n--- a/common/src/main/java/io/netty/util/internal/SocketUtils.java\n+++ b/common/src/main/java/io/netty/util/internal/SocketUtils.java\n\n@@ -43,17 +43,7 @@ import java.util.NoSuchElementException;\n  */\n public final class SocketUtils {\n \n-    private static Enumeration<Object> EMPTY = new Enumeration<Object>() {\n-        @Override\n-        public boolean hasMoreElements() {\n-            return false;\n-        }\n-\n-        @Override\n-        public Object nextElement() {\n-            throw new NoSuchElementException();\n-        }\n-    };\n+    private static final Enumeration<Object> EMPTY = Collections.enumeration(Collections.emptyList());\n \n     private SocketUtils() {\n     }\n"}}, {"oid": "697d18ff919104af3cc659ec00a1d3daa029839a", "url": "https://github.com/netty/netty/commit/697d18ff919104af3cc659ec00a1d3daa029839a", "message": "Nicks comment", "committedDate": "2020-02-24T18:38:19Z", "type": "commit"}]}