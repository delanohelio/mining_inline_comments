{"pr_number": 259, "pr_title": "[558030] Search and Replace", "pr_createdAt": "2020-06-04T14:59:22Z", "pr_url": "https://github.com/eclipse/capella/pull/259", "timeline": [{"oid": "dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "url": "https://github.com/eclipse/capella/commit/dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "message": "[558030] Fix Search and Replace issues\n\n- Add 'remove selected matches' feature\n- Add 'remove all matches' feature\n\n- Synchronize the Tree and List display mode\n\n- Fix partial replace behavior\n- Fix the incorrect displayed statistics for both Search and Replace\n- Fix the refresh logic\n\nBug: 558030\nChange-Id: I1dac11b7a4aed7fb5935f210e47e23748410dba6\nSigned-off-by: Sandu Postaru <sandu.postaru@thalesgroup.com>", "committedDate": "2020-06-08T15:42:40Z", "type": "commit"}, {"oid": "dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "url": "https://github.com/eclipse/capella/commit/dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "message": "[558030] Fix Search and Replace issues\n\n- Add 'remove selected matches' feature\n- Add 'remove all matches' feature\n\n- Synchronize the Tree and List display mode\n\n- Fix partial replace behavior\n- Fix the incorrect displayed statistics for both Search and Replace\n- Fix the refresh logic\n\nBug: 558030\nChange-Id: I1dac11b7a4aed7fb5935f210e47e23748410dba6\nSigned-off-by: Sandu Postaru <sandu.postaru@thalesgroup.com>", "committedDate": "2020-06-08T15:42:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgwODAwOQ==", "url": "https://github.com/eclipse/capella/pull/259#discussion_r436808009", "bodyText": "The SearchResultPage delegates the behavior to the appropriate ContentProvider (List or Tree).", "author": "sandupostaru", "createdAt": "2020-06-08T15:46:06Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/result/CapellaSearchResultPage.java", "diffHunk": "@@ -28,13 +33,13 @@ public CapellaSearchResultPage() {\n   }\r\n \r\n   @Override\r\n-  protected void elementsChanged(Object[] objects) {\r\n-    getViewer().refresh();\r\n+  protected void elementsChanged(Object[] elements) {\r\n+    getViewerContentProvider().elementsChanged(elements);\r", "originalCommit": "dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgwODEwOQ==", "url": "https://github.com/eclipse/capella/pull/259#discussion_r436808109", "bodyText": "The SearchResultPage delegates the behavior to the appropriate ContentProvider (List or Tree).", "author": "sandupostaru", "createdAt": "2020-06-08T15:46:14Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/result/CapellaSearchResultPage.java", "diffHunk": "@@ -28,13 +33,13 @@ public CapellaSearchResultPage() {\n   }\r\n \r\n   @Override\r\n-  protected void elementsChanged(Object[] objects) {\r\n-    getViewer().refresh();\r\n+  protected void elementsChanged(Object[] elements) {\r\n+    getViewerContentProvider().elementsChanged(elements);\r\n   }\r\n \r\n   @Override\r\n   protected void clear() {\r\n-    getViewer().refresh();\r\n+    getViewerContentProvider().clear();\r", "originalCommit": "dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgxMDE4NQ==", "url": "https://github.com/eclipse/capella/pull/259#discussion_r436810185", "bodyText": "This method is made public (protected in the mother class), to facilitate the coupling between CapellaSearchPage and each of its 2 ContentProviders.", "author": "sandupostaru", "createdAt": "2020-06-08T15:49:08Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/result/CapellaSearchResultPage.java", "diffHunk": "@@ -63,4 +68,17 @@ public void setSelection(ISelection selection) {\n   public ISelection getSelection() {\r\n     return getViewer().getSelection();\r\n   }\r\n+\r\n+  protected SearchResultContentProvider getViewerContentProvider() {\r\n+    return (SearchResultContentProvider) getViewer().getContentProvider();\r\n+  }\r\n+\r\n+  /**\r\n+   * Make the viewer public.\r\n+   */\r\n+  @Override\r\n+  public StructuredViewer getViewer() {\r\n+    return super.getViewer();\r\n+  }\r\n+\r", "originalCommit": "dfc04e5d5cf1f1fe18305e73b502b0efba2e048a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}