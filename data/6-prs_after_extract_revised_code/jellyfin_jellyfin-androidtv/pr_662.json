{"pr_number": 662, "pr_title": "Fix a bunch of \"unused\" warnings", "pr_createdAt": "2020-12-24T11:34:16Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/662", "timeline": [{"oid": "adfd7231597b79d5422e70e5afc46277bfc76c34", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/adfd7231597b79d5422e70e5afc46277bfc76c34", "message": "Fix a bunch of \"unused\" warnings", "committedDate": "2020-12-24T11:32:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU3NDI4Ng==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/662#discussion_r549574286", "bodyText": "The declaration of vw could be moved to line 645 since it is only used to compute the ar value there.", "author": "thornbill", "createdAt": "2020-12-29T05:34:33Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/VideoManager.java", "diffHunk": "@@ -639,7 +639,6 @@ private void changeSurfaceLayout(int videoWidth, int videoHeight, int videoVisib\n         double ar, vw;", "originalCommit": "adfd7231597b79d5422e70e5afc46277bfc76c34", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc5MTQ5MQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/662#discussion_r549791491", "bodyText": "Fixed, I've also removed some more junk code from this file.\nSome properties were set but never read, other were read but never set.", "author": "nielsvanvelzen", "createdAt": "2020-12-29T17:43:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU3NDI4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "5192d63ff9184767d16f74f15db7e8d59cba9ca6", "chunk": "diff --git a/app/src/main/java/org/jellyfin/androidtv/ui/playback/VideoManager.java b/app/src/main/java/org/jellyfin/androidtv/ui/playback/VideoManager.java\nindex b4b78a54..7879cf25 100644\n--- a/app/src/main/java/org/jellyfin/androidtv/ui/playback/VideoManager.java\n+++ b/app/src/main/java/org/jellyfin/androidtv/ui/playback/VideoManager.java\n\n@@ -636,13 +593,13 @@ public class VideoManager implements IVLCVout.OnNewVideoLayoutListener {\n         }\n \n         // compute the aspect ratio\n-        double ar, vw;\n+        double ar;\n         if (sarDen == sarNum) {\n             /* No indication about the density, assuming 1:1 */\n             ar = (double)videoVisibleWidth / (double)videoVisibleHeight;\n         } else {\n             /* Use the specified aspect ratio */\n-            vw = videoVisibleWidth * (double)sarNum / sarDen;\n+            double vw = videoVisibleWidth * (double)sarNum / sarDen;\n             ar = vw / videoVisibleHeight;\n         }\n \n"}}, {"oid": "5192d63ff9184767d16f74f15db7e8d59cba9ca6", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/5192d63ff9184767d16f74f15db7e8d59cba9ca6", "message": "Remove even more unused code from VideoManager", "committedDate": "2020-12-29T17:42:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc5MTc4Ng==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/662#discussion_r549791786", "bodyText": "For this check; mCurrentBuffer was never set so this if-statement would never execute the return.", "author": "nielsvanvelzen", "createdAt": "2020-12-29T17:44:13Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/VideoManager.java", "diffHunk": "@@ -488,10 +452,7 @@ public void destroy() {\n     }\n \n     private void createPlayer(int buffer, boolean isInterlaced) {\n-        if (mVlcPlayer != null && mIsInterlaced == isInterlaced && mCurrentBuffer == buffer) return; // don't need to re-create", "originalCommit": "5192d63ff9184767d16f74f15db7e8d59cba9ca6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}