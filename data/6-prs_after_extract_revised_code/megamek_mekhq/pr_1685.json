{"pr_number": 1685, "pr_title": "Adding All Role and No Role options for Portraits", "pr_createdAt": "2020-04-19T17:20:41Z", "pr_url": "https://github.com/MegaMek/mekhq/pull/1685", "timeline": [{"oid": "1140fdd8221c364c98503774c502178a3b748455", "url": "https://github.com/MegaMek/mekhq/commit/1140fdd8221c364c98503774c502178a3b748455", "message": "Adding All Role and No Role options for portraits", "committedDate": "2020-04-19T17:19:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAyNzYyOQ==", "url": "https://github.com/MegaMek/mekhq/pull/1685#discussion_r411027629", "bodyText": "This is begging for a comment to explain what all that math is for.", "author": "NickAragua", "createdAt": "2020-04-20T00:31:30Z", "path": "MekHQ/src/mekhq/gui/dialog/CampaignOptionsDialog.java", "diffHunk": "@@ -3327,9 +3327,37 @@ public void actionPerformed(ActionEvent e) {\n         panRandomPortrait.setName(\"panRandomPortrait\"); // NOI18N\n         panRandomPortrait.setLayout(new BorderLayout());\n \n-        JPanel panUsePortrait = new JPanel(new GridLayout(nRow, 4));\n-\n+        JPanel panUsePortrait = new JPanel(new GridLayout((int) Math.ceil((Person.T_NUM + 2) / 4.0), 4));", "originalCommit": "1140fdd8221c364c98503774c502178a3b748455", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAzMTA4OQ==", "url": "https://github.com/MegaMek/mekhq/pull/1685#discussion_r411031089", "bodyText": "Added", "author": "Windchild292", "createdAt": "2020-04-20T00:50:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAyNzYyOQ=="}], "type": "inlineReview", "revised_code": {"commit": "8c5c3374f6536d0e35ae300bde7d1f1f26b4c2d7", "chunk": "diff --git a/MekHQ/src/mekhq/gui/dialog/CampaignOptionsDialog.java b/MekHQ/src/mekhq/gui/dialog/CampaignOptionsDialog.java\nindex d7ebb9bef..fcec328f8 100644\n--- a/MekHQ/src/mekhq/gui/dialog/CampaignOptionsDialog.java\n+++ b/MekHQ/src/mekhq/gui/dialog/CampaignOptionsDialog.java\n\n@@ -3327,6 +3327,9 @@ public class CampaignOptionsDialog extends javax.swing.JDialog {\n         panRandomPortrait.setName(\"panRandomPortrait\"); // NOI18N\n         panRandomPortrait.setLayout(new BorderLayout());\n \n+        // The math below is used to determine how to split the personnel role options for portraits,\n+        // which it does into 4 columns with rows equal to the number of roles plus two, with the\n+        // additional two being the all role and no role options.\n         JPanel panUsePortrait = new JPanel(new GridLayout((int) Math.ceil((Person.T_NUM + 2) / 4.0), 4));\n         chkUsePortrait = new JCheckBox[Person.T_NUM];\n         JCheckBox allPortraitsBox = new JCheckBox(resourceMap.getString(\"panUsePortrait.all.text\"));\n"}}, {"oid": "8c5c3374f6536d0e35ae300bde7d1f1f26b4c2d7", "url": "https://github.com/MegaMek/mekhq/commit/8c5c3374f6536d0e35ae300bde7d1f1f26b4c2d7", "message": "adding comment explaining the math for the Use Portrait columns", "committedDate": "2020-04-20T00:49:02Z", "type": "commit"}]}