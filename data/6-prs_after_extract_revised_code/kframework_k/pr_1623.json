{"pr_number": 1623, "pr_title": "Allow user to configure max stack depth of bison parser", "pr_createdAt": "2020-10-30T20:52:41Z", "pr_url": "https://github.com/kframework/k/pull/1623", "timeline": [{"oid": "c2aef3fc24db04db16db3ed6f8eca5403e37ff2f", "url": "https://github.com/kframework/k/commit/c2aef3fc24db04db16db3ed6f8eca5403e37ff2f", "message": "add test", "committedDate": "2020-10-30T20:51:43Z", "type": "commit"}, {"oid": "87e3c593e7a1ee2c97bf6ebc2e10317b87e9e695", "url": "https://github.com/kframework/k/commit/87e3c593e7a1ee2c97bf6ebc2e10317b87e9e695", "message": "configurable YYMAXDEPTH", "committedDate": "2020-10-30T20:51:54Z", "type": "commit"}, {"oid": "1db5e64db36cc535baa2c56faaf3583774b72db3", "url": "https://github.com/kframework/k/commit/1db5e64db36cc535baa2c56faaf3583774b72db3", "message": "bypass stack overflow error", "committedDate": "2020-11-04T19:23:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0MzExNg==", "url": "https://github.com/kframework/k/pull/1623#discussion_r517643116", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack.\")\n          \n          \n            \n                public long bisonStackMaxDepth = 10000;\n          \n          \n            \n                @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack (default: 10000).\")\n          \n          \n            \n                public long bisonStackMaxDepth = 10000;", "author": "ehildenb", "createdAt": "2020-11-04T21:31:54Z", "path": "kernel/src/main/java/org/kframework/kast/KastOptions.java", "diffHunk": "@@ -106,6 +106,9 @@ public File outputFile() {\n     @Parameter(names=\"--bison-file\", description=\"C file containing functions to link into bison parser.\")\n     public String bisonFile;\n \n+    @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack.\")\n+    public long bisonStackMaxDepth = 10000;", "originalCommit": "1db5e64db36cc535baa2c56faaf3583774b72db3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "cb5a240147acc56e1a46cfdb78f11b1a42e32fe7", "chunk": "diff --git a/kernel/src/main/java/org/kframework/kast/KastOptions.java b/kernel/src/main/java/org/kframework/kast/KastOptions.java\nindex 087dec104..f344b4efa 100644\n--- a/kernel/src/main/java/org/kframework/kast/KastOptions.java\n+++ b/kernel/src/main/java/org/kframework/kast/KastOptions.java\n\n@@ -106,7 +106,7 @@ public final class KastOptions {\n     @Parameter(names=\"--bison-file\", description=\"C file containing functions to link into bison parser.\")\n     public String bisonFile;\n \n-    @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack.\")\n+    @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack (default: 10000).\")\n     public long bisonStackMaxDepth = 10000;\n \n     @Parameter(names={\"--expression\", \"-e\"}, description=\"An expression to parse passed on the command \" +\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0MzIxOQ==", "url": "https://github.com/kframework/k/pull/1623#discussion_r517643219", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack.\")\n          \n          \n            \n                    public long bisonStackMaxDepth = 10000;\n          \n          \n            \n                    @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack (default: 10000).\")\n          \n          \n            \n                    public long bisonStackMaxDepth = 10000;", "author": "ehildenb", "createdAt": "2020-11-04T21:32:08Z", "path": "kernel/src/main/java/org/kframework/kompile/KompileOptions.java", "diffHunk": "@@ -143,6 +143,9 @@ public boolean isKore() {\n         @Parameter(names=\"--bison-file\", description=\"C file containing functions to link into bison parser.\")\n         public String bisonFile;\n \n+        @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack.\")\n+        public long bisonStackMaxDepth = 10000;", "originalCommit": "1db5e64db36cc535baa2c56faaf3583774b72db3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a0320faa57113ffb81e40fb803f59fe2a7ffb81d", "chunk": "diff --git a/kernel/src/main/java/org/kframework/kompile/KompileOptions.java b/kernel/src/main/java/org/kframework/kompile/KompileOptions.java\nindex dbc546986..65c3669e2 100644\n--- a/kernel/src/main/java/org/kframework/kompile/KompileOptions.java\n+++ b/kernel/src/main/java/org/kframework/kompile/KompileOptions.java\n\n@@ -143,7 +143,7 @@ public class KompileOptions implements Serializable {\n         @Parameter(names=\"--bison-file\", description=\"C file containing functions to link into bison parser.\")\n         public String bisonFile;\n \n-        @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack.\")\n+        @Parameter(names=\"--bison-stack-max-depth\", description=\"Maximum size of bison parsing stack (default: 10000).\")\n         public long bisonStackMaxDepth = 10000;\n \n         @Parameter(names=\"--transition\", listConverter=StringListConverter.class, description=\"<string> is a whitespace-separated list of tags designating rules to become transitions.\")\n"}}, {"oid": "cb5a240147acc56e1a46cfdb78f11b1a42e32fe7", "url": "https://github.com/kframework/k/commit/cb5a240147acc56e1a46cfdb78f11b1a42e32fe7", "message": "Update kernel/src/main/java/org/kframework/kast/KastOptions.java\n\nCo-authored-by: Everett Hildenbrandt <everett.hildenbrandt@gmail.com>", "committedDate": "2020-11-04T21:50:02Z", "type": "commit"}, {"oid": "a0320faa57113ffb81e40fb803f59fe2a7ffb81d", "url": "https://github.com/kframework/k/commit/a0320faa57113ffb81e40fb803f59fe2a7ffb81d", "message": "Update kernel/src/main/java/org/kframework/kompile/KompileOptions.java\n\nCo-authored-by: Everett Hildenbrandt <everett.hildenbrandt@gmail.com>", "committedDate": "2020-11-04T21:50:10Z", "type": "commit"}, {"oid": "6f830009a5efee5f635756a50e5c4036ad7ee250", "url": "https://github.com/kframework/k/commit/6f830009a5efee5f635756a50e5c4036ad7ee250", "message": "Merge branch 'master' into bison3", "committedDate": "2020-11-04T22:49:54Z", "type": "commit"}]}