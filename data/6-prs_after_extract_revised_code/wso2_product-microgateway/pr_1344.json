{"pr_number": 1344, "pr_title": "Fix 1176", "pr_createdAt": "2020-07-21T04:08:36Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1344", "timeline": [{"oid": "0d34e128feec6b9275c69ab0ee776d4cf044d020", "url": "https://github.com/wso2/product-microgateway/commit/0d34e128feec6b9275c69ab0ee776d4cf044d020", "message": "Bug fix: #1176 - When the resource level production endpoints are provided for all the resources without an API level production endpoint, microgateway project build fails", "committedDate": "2020-07-20T20:24:33Z", "type": "commit"}, {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42", "url": "https://github.com/wso2/product-microgateway/commit/0b430d14774267e706dd6335a3662bc4ad7bae42", "message": "add integration tests for resource endpoints alone scenario", "committedDate": "2020-07-21T04:06:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA==", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457825068", "bodyText": "Better to mention which operation this is. Otherwise user have to go through all operations to find which operation is causing the issue.", "author": "praminda", "createdAt": "2020-07-21T04:12:36Z", "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/model/template/service/BallerinaOperation.java", "diffHunk": "@@ -129,6 +129,13 @@ public BallerinaOperation buildContext(Operation operation, ExtendedAPI api) thr\n         this.scope = OpenAPICodegenUtils.getMgwResourceScope(operation);\n         //set resource level endpoint configuration\n         setEpConfigDTO(operation);\n+        //If production/sandbox endpoints for both API and Operation is not available, Error should be thrown.\n+        if (api.getEndpointConfigRepresentation().getProdEndpointList() == null &&\n+                api.getEndpointConfigRepresentation().getSandboxEndpointList() == null\n+                && !hasProdEpConfig\n+                && !hasSandEpConfig) {\n+            throw new CLICompileTimeException(\"The endpoint Configuration is not provided for the operation.\");", "originalCommit": "0b430d14774267e706dd6335a3662bc4ad7bae42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNzAzNw==", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457827037", "bodyText": "This was implemented in such a way that the exception thrown in here is caught from the method above. Otherwise, we need to pass the operation name, path information to this layer. This is a sample error message.\nmicro-gw: Error while parsing information under path:/products/{productId}in the API \"Online-Store-Api:v1.0.0\".\n        -Error while parsing the information under GET resource.\n        -The endpoint Configuration is not provided for the operation.", "author": "VirajSalaka", "createdAt": "2020-07-21T04:20:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNzc2NQ==", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457827765", "bodyText": "Great", "author": "praminda", "createdAt": "2020-07-21T04:23:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA=="}], "type": "inlineReview", "revised_code": null}]}