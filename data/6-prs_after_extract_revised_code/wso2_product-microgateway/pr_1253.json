{"pr_number": 1253, "pr_title": "Make api_definitions optional for build", "pr_createdAt": "2020-06-01T11:31:03Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1253", "timeline": [{"oid": "83f0cdb3c262d2df72bc9598161a29d669efbdfc", "url": "https://github.com/wso2/product-microgateway/commit/83f0cdb3c262d2df72bc9598161a29d669efbdfc", "message": "cmd: build: Fix build without api_definitions dir\n\nFixes 1194\n\napi_definitions dir should not be mandatory when imported apis are\navailable in gen/api_definitions dir.", "committedDate": "2020-06-01T11:26:15Z", "type": "commit"}, {"oid": "e834c4fa8fd2f6fbb65aa8e82c92a1c214795050", "url": "https://github.com/wso2/product-microgateway/commit/e834c4fa8fd2f6fbb65aa8e82c92a1c214795050", "message": "cli: Remove unused code", "committedDate": "2020-06-01T11:26:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgxNjc1Mg==", "url": "https://github.com/wso2/product-microgateway/pull/1253#discussion_r436816752", "bodyText": "What is the usage of this list. Only paths are added to it., But never read from it", "author": "Rajith90", "createdAt": "2020-06-08T15:58:24Z", "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/codegen/CodeGenerator.java", "diffHunk": "@@ -74,18 +72,20 @@ public void generate(String projectName, boolean overwrite)\n         String projectSrcPath = CmdUtils.getProjectTargetModulePath((projectName));\n         List<GenSrcFile> genFiles = new ArrayList<>();\n         List<BallerinaService> serviceList = new ArrayList<>();\n-        List<BallerinaService> openAPIServiceList = new ArrayList<>();\n-        List<String> openAPIDirectoryLocations = new ArrayList<>();\n-        String projectAPIDefGenLocation = CmdUtils.getProjectGenAPIDefinitionPath(projectName);\n-        openAPIDirectoryLocations.add(CmdUtils.getProjectDirectoryPath(projectName) + File.separator\n-                + CliConstants.PROJECT_API_DEFINITIONS_DIR);\n         String grpcDirLocation = CmdUtils.getGrpcDefinitionsDirPath(projectName);\n-        if (Files.exists(Paths.get(projectAPIDefGenLocation))) {\n-            openAPIDirectoryLocations.add(projectAPIDefGenLocation);\n-        }\n         CodeGenerator.projectName = projectName;\n         BallerinaToml ballerinaToml = new BallerinaToml();\n         ballerinaToml.setToolkitHome(CmdUtils.getCLIHome());\n+        List<String> openAPIDirectoryLocations = new ArrayList<>();", "originalCommit": "e834c4fa8fd2f6fbb65aa8e82c92a1c214795050", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjg0MDU0MA==", "url": "https://github.com/wso2/product-microgateway/pull/1253#discussion_r436840540", "bodyText": "Used to iterate over all openApi paths within the project. Usage is at line 92", "author": "praminda", "createdAt": "2020-06-08T16:34:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgxNjc1Mg=="}], "type": "inlineReview", "revised_code": null}]}