{"pr_number": 1262, "pr_title": "Fix #1261 - Support reading configurations from interceptor library", "pr_createdAt": "2020-06-02T11:53:21Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1262", "timeline": [{"oid": "0b1925a3e02db7da5746ee8b7cdf07c1dc87d6c3", "url": "https://github.com/wso2/product-microgateway/commit/0b1925a3e02db7da5746ee8b7cdf07c1dc87d6c3", "message": "Fix #1261 - Support reading configurations from interceptor library", "committedDate": "2020-06-02T11:56:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgyNTQyMw==", "url": "https://github.com/wso2/product-microgateway/pull/1262#discussion_r433825423", "bodyText": "should be queryParam", "author": "praminda", "createdAt": "2020-06-02T12:07:00Z", "path": "tests/src/main/java/org/wso2/micro/gateway/tests/interceptor/ConfigInterceptor.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package org.wso2.micro.gateway.tests.interceptor;\n+\n+import org.wso2.micro.gateway.interceptor.Caller;\n+import org.wso2.micro.gateway.interceptor.ConfigUtils;\n+import org.wso2.micro.gateway.interceptor.Interceptor;\n+import org.wso2.micro.gateway.interceptor.Request;\n+import org.wso2.micro.gateway.interceptor.Response;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+/**\n+ * Implements sample interceptor for the integration test cases used to read configurations.\n+ */\n+public class ConfigInterceptor implements Interceptor {\n+\n+    private  String responseString = \"\";\n+\n+    @Override\n+    public boolean interceptRequest(Caller caller, Request request) {\n+        String pathParam = request.getQueryParamValue(\"config\");", "originalCommit": "0b1925a3e02db7da5746ee8b7cdf07c1dc87d6c3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "99b801538ff2636c6363377c680415235dae5f37", "chunk": "diff --git a/tests/src/main/java/org/wso2/micro/gateway/tests/interceptor/ConfigInterceptor.java b/tests/src/main/java/org/wso2/micro/gateway/tests/interceptor/ConfigInterceptor.java\nindex be905c7a7..82e1efc3c 100644\n--- a/tests/src/main/java/org/wso2/micro/gateway/tests/interceptor/ConfigInterceptor.java\n+++ b/tests/src/main/java/org/wso2/micro/gateway/tests/interceptor/ConfigInterceptor.java\n\n@@ -33,9 +33,9 @@ public class ConfigInterceptor implements Interceptor {\n \n     @Override\n     public boolean interceptRequest(Caller caller, Request request) {\n-        String pathParam = request.getQueryParamValue(\"config\");\n-        pathParam = (pathParam != null) ? pathParam : \"\";\n-        switch (pathParam) {\n+        String queryParam = request.getQueryParamValue(\"config\");\n+        queryParam = (queryParam != null) ? queryParam : \"\";\n+        switch (queryParam) {\n         case \"int\" :\n             int port = ConfigUtils.getAsInt(\"listenerConfig.httpPort\", 9080);\n             responseString = Integer.toString(port);\n"}}, {"oid": "99b801538ff2636c6363377c680415235dae5f37", "url": "https://github.com/wso2/product-microgateway/commit/99b801538ff2636c6363377c680415235dae5f37", "message": "Fix #1261 - Support reading configurations from interceptor library", "committedDate": "2020-06-04T06:51:01Z", "type": "commit"}, {"oid": "99b801538ff2636c6363377c680415235dae5f37", "url": "https://github.com/wso2/product-microgateway/commit/99b801538ff2636c6363377c680415235dae5f37", "message": "Fix #1261 - Support reading configurations from interceptor library", "committedDate": "2020-06-04T06:51:01Z", "type": "forcePushed"}]}