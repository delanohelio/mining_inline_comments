{"pr_number": 5021, "pr_title": "Adjust lombok annotations to reduce build warnings", "pr_createdAt": "2020-12-29T15:48:35Z", "pr_url": "https://github.com/bisq-network/bisq/pull/5021", "timeline": [{"oid": "7e24c57dc8c881b9ec20f2053957d585605ad4c1", "url": "https://github.com/bisq-network/bisq/commit/7e24c57dc8c881b9ec20f2053957d585605ad4c1", "message": "Adjust lombok annotations to reduce build warnings\n\nThis change fixes the underlying problems behind five compiler warnings:\n\"Generating equals/hashCode implementation but without a call to superclass\".\n\nSome core classes use @Value and @Data annotations where not necessary, for\nexample, where equals, hashCode, and toString are implemented by the developer,\nand where final class and field modifiers are defined by the developer.\n\nFrom lombok classes and documents for the shortcut annotations\n\t@Value https://projectlombok.org/features/Value and\n\t@Data  https://projectlombok.org/features/Data,\nwe find some implicit annotations applied by these shortcuts are not needed.\nAdjustments are described below.\n\n- Tx Replace @Value with @Getter.\n\n- TxOutput  Replace @Data with @Getter and @Setter.\n\n- ChangeParamProposal  Replace @Value with @Getter.\n\n- GetInventoryRequest, GetInventoryResponse\n  An @EqualsAndHashCode(callSuper = false) is added to supress build\n  warnings.", "committedDate": "2020-12-29T15:39:08Z", "type": "commit"}, {"oid": "bb07f1099009f5cf8f6d8664fd6e30ba34be9aef", "url": "https://github.com/bisq-network/bisq/commit/bb07f1099009f5cf8f6d8664fd6e30ba34be9aef", "message": "Remove unused imports", "committedDate": "2020-12-29T15:52:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzc4Nw==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r550903787", "bodyText": "There is no write access and its Immutable. The @DaTa was wrong and should have been a @value annotation.\nCan you remove the @Setter?", "author": "chimp1984", "createdAt": "2021-01-02T17:43:24Z", "path": "core/src/main/java/bisq/core/dao/state/model/blockchain/TxOutput.java", "diffHunk": "@@ -36,7 +37,8 @@\n  * Gets persisted.\n  */\n @Immutable\n-@Data\n+@Getter\n+@Setter", "originalCommit": "7e24c57dc8c881b9ec20f2053957d585605ad4c1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAxNjg3NA==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551016874", "bodyText": "Setter removed in commit c2c1ac2.", "author": "ghubstan", "createdAt": "2021-01-03T15:03:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzc4Nw=="}], "type": "inlineReview", "revised_code": {"commit": "c2c1ac2087a8862dbf02007adf299aba460f92f5", "chunk": "diff --git a/core/src/main/java/bisq/core/dao/state/model/blockchain/TxOutput.java b/core/src/main/java/bisq/core/dao/state/model/blockchain/TxOutput.java\nindex d35956e7e6..566216314e 100644\n--- a/core/src/main/java/bisq/core/dao/state/model/blockchain/TxOutput.java\n+++ b/core/src/main/java/bisq/core/dao/state/model/blockchain/TxOutput.java\n\n@@ -38,7 +37,6 @@ import javax.annotation.concurrent.Immutable;\n  */\n @Immutable\n @Getter\n-@Setter\n public class TxOutput extends BaseTxOutput implements PersistablePayload, ImmutableDaoStateModel {\n     public static TxOutput fromTempOutput(TempTxOutput tempTxOutput) {\n         return new TxOutput(tempTxOutput.getIndex(),\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzg0Mw==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r550903843", "bodyText": "That should also be replaced by a @getter and @tostring.", "author": "chimp1984", "createdAt": "2021-01-02T17:43:55Z", "path": "core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java", "diffHunk": "@@ -21,9 +21,11 @@\n import bisq.common.app.Version;\n import bisq.common.proto.network.NetworkEnvelope;\n \n+import lombok.EqualsAndHashCode;\n import lombok.Value;\n \n @Value", "originalCommit": "7e24c57dc8c881b9ec20f2053957d585605ad4c1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAxNzQ1Mg==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551017452", "bodyText": "Commit  c2c1ac2\nRemoves @Value, @EqualsAndHashCode(callSuper = false)\nAdds @Getter,@ToString\nI'm not absolutely certain this is what you asked for (by removing @Value), but keeping @Value , @Getter, @ToString is redundant because @Getter, @ToString are implicitly defined by @Value.", "author": "ghubstan", "createdAt": "2021-01-03T15:07:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzg0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyMjIxNg==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551022216", "bodyText": "I meant that @value produces Lombok warnings as well so replace it with EqualsAndHashCode, Getter and ToString", "author": "chimp1984", "createdAt": "2021-01-03T15:50:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzg0Mw=="}], "type": "inlineReview", "revised_code": {"commit": "c2c1ac2087a8862dbf02007adf299aba460f92f5", "chunk": "diff --git a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java\nindex 125730e912..a8cbde0061 100644\n--- a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java\n+++ b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java\n\n@@ -21,11 +21,11 @@ package bisq.core.network.p2p.inventory.messages;\n import bisq.common.app.Version;\n import bisq.common.proto.network.NetworkEnvelope;\n \n-import lombok.EqualsAndHashCode;\n-import lombok.Value;\n+import lombok.Getter;\n+import lombok.ToString;\n \n-@Value\n-@EqualsAndHashCode(callSuper = false)\n+@Getter\n+@ToString\n public class GetInventoryRequest extends NetworkEnvelope {\n     private final String version;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzg2MA==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r550903860", "bodyText": "That should also be replaced by a @getter and @tostring.", "author": "chimp1984", "createdAt": "2021-01-02T17:44:01Z", "path": "core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java", "diffHunk": "@@ -28,9 +28,11 @@\n import java.util.HashMap;\n import java.util.Map;\n \n+import lombok.EqualsAndHashCode;\n import lombok.Value;\n \n @Value", "originalCommit": "7e24c57dc8c881b9ec20f2053957d585605ad4c1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAxNzUzOQ==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551017539", "bodyText": "Same as above...  commit  c2c1ac2\nRemoves @Value, @EqualsAndHashCode(callSuper = false)\nAdds @Getter,@ToString\nI'm not absolutely certain this is what you asked for (by removing @Value), but keeping @Value , @Getter, @ToString is redundant because @Getter, @ToString are implicitly defined by @Value.", "author": "ghubstan", "createdAt": "2021-01-03T15:08:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzg2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAzMTU4NQ==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551031585", "bodyText": "Ah sorry I see now the confusion as the marked line was EqualsAndHashCode instead of Value. My fault... sorry...", "author": "chimp1984", "createdAt": "2021-01-03T17:17:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkwMzg2MA=="}], "type": "inlineReview", "revised_code": {"commit": "c2c1ac2087a8862dbf02007adf299aba460f92f5", "chunk": "diff --git a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java\nindex 4abf04c204..47a64fead4 100644\n--- a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java\n+++ b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java\n\n@@ -28,11 +28,11 @@ import com.google.common.base.Optional;\n import java.util.HashMap;\n import java.util.Map;\n \n-import lombok.EqualsAndHashCode;\n-import lombok.Value;\n+import lombok.Getter;\n+import lombok.ToString;\n \n-@Value\n-@EqualsAndHashCode(callSuper = false)\n+@Getter\n+@ToString\n public class GetInventoryResponse extends NetworkEnvelope {\n     private final Map<InventoryItem, String> inventory;\n \n"}}, {"oid": "0638701ca391d8274bd11da7308e2ae222bc1171", "url": "https://github.com/bisq-network/bisq/commit/0638701ca391d8274bd11da7308e2ae222bc1171", "message": "Merge branch 'master' into fix-annotations", "committedDate": "2021-01-03T14:34:30Z", "type": "commit"}, {"oid": "c2c1ac2087a8862dbf02007adf299aba460f92f5", "url": "https://github.com/bisq-network/bisq/commit/c2c1ac2087a8862dbf02007adf299aba460f92f5", "message": "Adjust class level annoations\n\nas per suggested changes\n    https://github.com/bisq-network/bisq/pull/5021#discussion_r550903787\n    https://github.com/bisq-network/bisq/pull/5021#discussion_r550903843\n    https://github.com/bisq-network/bisq/pull/5021#discussion_r550903860", "committedDate": "2021-01-03T15:01:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyMjEwMw==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551022103", "bodyText": "EqualsAndHashCode should be left", "author": "chimp1984", "createdAt": "2021-01-03T15:49:25Z", "path": "core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java", "diffHunk": "@@ -21,11 +21,11 @@\n import bisq.common.app.Version;\n import bisq.common.proto.network.NetworkEnvelope;\n \n-import lombok.EqualsAndHashCode;\n-import lombok.Value;\n+import lombok.Getter;\n+import lombok.ToString;\n \n-@Value\n-@EqualsAndHashCode(callSuper = false)", "originalCommit": "c2c1ac2087a8862dbf02007adf299aba460f92f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyNzc4Mg==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551027782", "bodyText": "commit 0c9c961", "author": "ghubstan", "createdAt": "2021-01-03T16:41:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyMjEwMw=="}], "type": "inlineReview", "revised_code": {"commit": "0c9c96165b2df15d9bd4c8a671d3083192f11403", "chunk": "diff --git a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java\nindex a8cbde0061..7b46d04fec 100644\n--- a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java\n+++ b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryRequest.java\n\n@@ -21,10 +21,12 @@ package bisq.core.network.p2p.inventory.messages;\n import bisq.common.app.Version;\n import bisq.common.proto.network.NetworkEnvelope;\n \n+import lombok.EqualsAndHashCode;\n import lombok.Getter;\n import lombok.ToString;\n \n @Getter\n+@EqualsAndHashCode(callSuper = false)\n @ToString\n public class GetInventoryRequest extends NetworkEnvelope {\n     private final String version;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyMjExNQ==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551022115", "bodyText": "EqualsAndHashCode should be left", "author": "chimp1984", "createdAt": "2021-01-03T15:49:35Z", "path": "core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java", "diffHunk": "@@ -28,11 +28,11 @@\n import java.util.HashMap;\n import java.util.Map;\n \n-import lombok.EqualsAndHashCode;\n-import lombok.Value;\n+import lombok.Getter;\n+import lombok.ToString;\n \n-@Value\n-@EqualsAndHashCode(callSuper = false)", "originalCommit": "c2c1ac2087a8862dbf02007adf299aba460f92f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyNzc4Ng==", "url": "https://github.com/bisq-network/bisq/pull/5021#discussion_r551027786", "bodyText": "commit 0c9c961", "author": "ghubstan", "createdAt": "2021-01-03T16:41:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyMjExNQ=="}], "type": "inlineReview", "revised_code": {"commit": "0c9c96165b2df15d9bd4c8a671d3083192f11403", "chunk": "diff --git a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java\nindex 47a64fead4..2dd79bfc1d 100644\n--- a/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java\n+++ b/core/src/main/java/bisq/core/network/p2p/inventory/messages/GetInventoryResponse.java\n\n@@ -28,10 +28,12 @@ import com.google.common.base.Optional;\n import java.util.HashMap;\n import java.util.Map;\n \n+import lombok.EqualsAndHashCode;\n import lombok.Getter;\n import lombok.ToString;\n \n @Getter\n+@EqualsAndHashCode(callSuper = false)\n @ToString\n public class GetInventoryResponse extends NetworkEnvelope {\n     private final Map<InventoryItem, String> inventory;\n"}}, {"oid": "0c9c96165b2df15d9bd4c8a671d3083192f11403", "url": "https://github.com/bisq-network/bisq/commit/0c9c96165b2df15d9bd4c8a671d3083192f11403", "message": "Re-add @EqualsAndHashCode", "committedDate": "2021-01-03T16:39:37Z", "type": "commit"}]}