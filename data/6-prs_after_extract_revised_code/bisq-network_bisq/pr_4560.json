{"pr_number": 4560, "pr_title": "XMR autoconf should get amount from trade not offer", "pr_createdAt": "2020-09-24T16:03:54Z", "pr_url": "https://github.com/bisq-network/bisq/pull/4560", "timeline": [{"oid": "b842a0789c9ce2d057ed169c3883bbf19e851f5e", "url": "https://github.com/bisq-network/bisq/commit/b842a0789c9ce2d057ed169c3883bbf19e851f5e", "message": "XMR autoconf should get amount from trade not offer\n\nGet the amount from the trade rather than the offer.\n\nLog the expected amount when not matching the explorer result.\nIt would have made debugging this issue much more straightforward.\n\nFixes #4557", "committedDate": "2020-09-24T15:57:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAzODQyOA==", "url": "https://github.com/bisq-network/bisq/pull/4560#discussion_r495038428", "bodyText": "Good catch. I think the trade price is the reason for the issue.", "author": "chimp1984", "createdAt": "2020-09-25T14:45:44Z", "path": "core/src/main/java/bisq/core/trade/txproof/xmr/XmrTxProofModel.java", "diffHunk": "@@ -60,8 +60,7 @@\n         this.serviceAddress = serviceAddress;\n         this.autoConfirmSettings = autoConfirmSettings;\n \n-        Coin tradeAmount = trade.getTradeAmount();\n-        Volume volume = checkNotNull(trade.getOffer()).getVolumeByAmount(tradeAmount);\n+        Volume volume = trade.getTradeVolume();", "originalCommit": "b842a0789c9ce2d057ed169c3883bbf19e851f5e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}