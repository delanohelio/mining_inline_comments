{"pr_number": 4099, "pr_title": "Replace the Get Support button with Open Trader Chat until trade period is over", "pr_createdAt": "2020-03-30T02:05:17Z", "pr_url": "https://github.com/bisq-network/bisq/pull/4099", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM1NjczMQ==", "url": "https://github.com/bisq-network/bisq/pull/4099#discussion_r402356731", "bodyText": "Is there a reason why you added this empty lines?", "author": "ripcurlx", "createdAt": "2020-04-02T14:28:06Z", "path": "desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java", "diffHunk": "@@ -70,6 +72,9 @@ public TradeSubView(PendingTradesViewModel model) {\n     }\n \n     protected void activate() {\n+\n+\n+", "originalCommit": "aceabd8bf3c6407d185f9d7cff6ae4a1b6d149bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzExMjI3Mg==", "url": "https://github.com/bisq-network/bisq/pull/4099#discussion_r403112272", "bodyText": "It was an accident.", "author": "jmacxx", "createdAt": "2020-04-03T16:08:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM1NjczMQ=="}], "type": "inlineReview", "revised_code": {"commit": "0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "chunk": "diff --git a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java\nindex 0316a0bdf4..8f0f9d76ae 100644\n--- a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java\n+++ b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java\n\n@@ -72,9 +72,6 @@ public abstract class TradeSubView extends HBox {\n     }\n \n     protected void activate() {\n-\n-\n-\n     }\n \n     protected void deactivate() {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM1OTYzNQ==", "url": "https://github.com/bisq-network/bisq/pull/4099#discussion_r402359635", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                ChatCallback chatCallback = trade -> {\n          \n          \n            \n                                    openChat(trade);\n          \n          \n            \n                                };\n          \n          \n            \n                                ChatCallback chatCallback = this::openChat;", "author": "ripcurlx", "createdAt": "2020-04-02T14:31:42Z", "path": "desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/PendingTradesView.java", "diffHunk": "@@ -260,6 +260,13 @@ protected void activate() {\n                         root.getChildren().add(selectedSubView);\n                     else if (root.getChildren().size() == 2)\n                         root.getChildren().set(1, selectedSubView);\n+\n+                    // create and register a callback so we can be notified when the subview\n+                    // wants to open the chat window\n+                    ChatCallback chatCallback = trade -> {\n+                        openChat(trade);\n+                    };", "originalCommit": "aceabd8bf3c6407d185f9d7cff6ae4a1b6d149bf", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "chunk": "diff --git a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/PendingTradesView.java b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/PendingTradesView.java\nindex 6bb6a4b9c0..4f896caf33 100644\n--- a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/PendingTradesView.java\n+++ b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/PendingTradesView.java\n\n@@ -263,9 +263,7 @@ public class PendingTradesView extends ActivatableViewAndModel<VBox, PendingTrad\n \n                     // create and register a callback so we can be notified when the subview\n                     // wants to open the chat window\n-                    ChatCallback chatCallback = trade -> {\n-                        openChat(trade);\n-                    };\n+                    ChatCallback chatCallback = this::openChat;\n                     selectedSubView.setChatCallback(chatCallback);\n                 }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM2MDkwMg==", "url": "https://github.com/bisq-network/bisq/pull/4099#discussion_r402360902", "bodyText": "Suggested change", "author": "ripcurlx", "createdAt": "2020-04-02T14:33:19Z", "path": "desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java", "diffHunk": "@@ -70,6 +72,9 @@ public TradeSubView(PendingTradesViewModel model) {\n     }\n \n     protected void activate() {\n+\n+\n+", "originalCommit": "aceabd8bf3c6407d185f9d7cff6ae4a1b6d149bf", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "chunk": "diff --git a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java\nindex 0316a0bdf4..8f0f9d76ae 100644\n--- a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java\n+++ b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/TradeSubView.java\n\n@@ -72,9 +72,6 @@ public abstract class TradeSubView extends HBox {\n     }\n \n     protected void activate() {\n-\n-\n-\n     }\n \n     protected void deactivate() {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM2MjkwOA==", "url": "https://github.com/bisq-network/bisq/pull/4099#discussion_r402362908", "bodyText": "Unused import\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import bisq.desktop.main.portfolio.PortfolioView;", "author": "ripcurlx", "createdAt": "2020-04-02T14:35:52Z", "path": "desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/steps/TradeStepView.java", "diffHunk": "@@ -21,8 +21,10 @@\n import bisq.desktop.components.TitledGroupBg;\n import bisq.desktop.components.TxIdTextField;\n import bisq.desktop.main.overlays.popups.Popup;\n+import bisq.desktop.main.portfolio.PortfolioView;", "originalCommit": "aceabd8bf3c6407d185f9d7cff6ae4a1b6d149bf", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "chunk": "diff --git a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/steps/TradeStepView.java b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/steps/TradeStepView.java\nindex 1395bfc0f2..b277e58cce 100644\n--- a/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/steps/TradeStepView.java\n+++ b/desktop/src/main/java/bisq/desktop/main/portfolio/pendingtrades/steps/TradeStepView.java\n\n@@ -21,7 +21,6 @@ import bisq.desktop.components.InfoTextField;\n import bisq.desktop.components.TitledGroupBg;\n import bisq.desktop.components.TxIdTextField;\n import bisq.desktop.main.overlays.popups.Popup;\n-import bisq.desktop.main.portfolio.PortfolioView;\n import bisq.desktop.main.portfolio.pendingtrades.PendingTradesViewModel;\n import bisq.desktop.main.portfolio.pendingtrades.TradeStepInfo;\n import bisq.desktop.main.portfolio.pendingtrades.TradeSubView;\n"}}, {"oid": "0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "url": "https://github.com/bisq-network/bisq/commit/0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "message": "Replace the Get Support with Open Trader Chat until trade period is over\n\nShowing an `Open Trader Chat` button until the trade period is over will\nreduce the number of unnecessary support tickets and encourage\ntrader-to-trader dialogue.  If the trade timer expires without\ncompleting the button changes (as before) to open a mediation ticket.\n\nImplementation of this feature requires the button in TradeStepView to\nnotify its parent TradeSubView which in turn notify its parent\nPendingTradesView that trader chat is to be opened.  Basically a\ncallback interface is passed two levels down the GUI hierarchy.\n\nFixes #3801", "committedDate": "2020-04-05T09:27:02Z", "type": "commit"}, {"oid": "0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "url": "https://github.com/bisq-network/bisq/commit/0139a51b57a2a7f0e18c17e1e4b3afcc1ccb1bab", "message": "Replace the Get Support with Open Trader Chat until trade period is over\n\nShowing an `Open Trader Chat` button until the trade period is over will\nreduce the number of unnecessary support tickets and encourage\ntrader-to-trader dialogue.  If the trade timer expires without\ncompleting the button changes (as before) to open a mediation ticket.\n\nImplementation of this feature requires the button in TradeStepView to\nnotify its parent TradeSubView which in turn notify its parent\nPendingTradesView that trader chat is to be opened.  Basically a\ncallback interface is passed two levels down the GUI hierarchy.\n\nFixes #3801", "committedDate": "2020-04-05T09:27:02Z", "type": "forcePushed"}]}