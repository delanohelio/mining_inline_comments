{"pr_number": 4831, "pr_title": "Create JSON files of actively traded crypto and fiat assets", "pr_createdAt": "2020-11-20T22:23:19Z", "pr_url": "https://github.com/bisq-network/bisq/pull/4831", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODI1NzY2OA==", "url": "https://github.com/bisq-network/bisq/pull/4831#discussion_r528257668", "bodyText": "Alterntive to 60 * 60 * 24 * 365: TimeUnit.DAYS.toSeconds(365)", "author": "chimp1984", "createdAt": "2020-11-21T23:47:07Z", "path": "core/src/main/java/bisq/core/trade/statistics/TradeStatisticsManager.java", "diffHunk": "@@ -135,6 +137,24 @@ private void maybeDumpStatistics() {\n                     .collect(Collectors.toCollection(ArrayList::new));\n             cryptoCurrencyList.add(0, new CurrencyTuple(Res.getBaseCurrencyCode(), Res.getBaseCurrencyName(), 8));\n             jsonFileManager.writeToDiscThreaded(Utilities.objectToJson(cryptoCurrencyList), \"crypto_currency_list\");\n+\n+            Instant yearAgo = Instant.ofEpochSecond(Instant.now().getEpochSecond() - 60 * 60 * 24 * 365);", "originalCommit": "713a45768801db721c910555758948935932457c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "53a90f9d1776e47dd4b67fdb508f550d2395eac8", "chunk": "diff --git a/core/src/main/java/bisq/core/trade/statistics/TradeStatisticsManager.java b/core/src/main/java/bisq/core/trade/statistics/TradeStatisticsManager.java\nindex de00b1ea68..044018c018 100644\n--- a/core/src/main/java/bisq/core/trade/statistics/TradeStatisticsManager.java\n+++ b/core/src/main/java/bisq/core/trade/statistics/TradeStatisticsManager.java\n\n@@ -138,7 +139,7 @@ public class TradeStatisticsManager {\n             cryptoCurrencyList.add(0, new CurrencyTuple(Res.getBaseCurrencyCode(), Res.getBaseCurrencyName(), 8));\n             jsonFileManager.writeToDiscThreaded(Utilities.objectToJson(cryptoCurrencyList), \"crypto_currency_list\");\n \n-            Instant yearAgo = Instant.ofEpochSecond(Instant.now().getEpochSecond() - 60 * 60 * 24 * 365);\n+            Instant yearAgo = Instant.ofEpochSecond(Instant.now().getEpochSecond() - TimeUnit.DAYS.toSeconds(365));\n             Set<String> activeCurrencies = observableTradeStatisticsSet.stream()\n                     .filter(e -> e.getDate().toInstant().isAfter(yearAgo))\n                     .map(p -> p.getCurrency())\n"}}, {"oid": "53a90f9d1776e47dd4b67fdb508f550d2395eac8", "url": "https://github.com/bisq-network/bisq/commit/53a90f9d1776e47dd4b67fdb508f550d2395eac8", "message": "create JSON files of actively traded crypto and fiat assets", "committedDate": "2020-11-22T05:23:16Z", "type": "commit"}, {"oid": "53a90f9d1776e47dd4b67fdb508f550d2395eac8", "url": "https://github.com/bisq-network/bisq/commit/53a90f9d1776e47dd4b67fdb508f550d2395eac8", "message": "create JSON files of actively traded crypto and fiat assets", "committedDate": "2020-11-22T05:23:16Z", "type": "forcePushed"}]}