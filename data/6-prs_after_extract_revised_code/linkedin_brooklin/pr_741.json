{"pr_number": 741, "pr_title": "Eagerly register a couple of Coordinator KeyedMeter metrics for easier alerting", "pr_createdAt": "2020-08-13T17:41:12Z", "pr_url": "https://github.com/linkedin/brooklin/pull/741", "timeline": [{"oid": "9fc1f134ceda65f7d165689ef9762d663d404f15", "url": "https://github.com/linkedin/brooklin/commit/9fc1f134ceda65f7d165689ef9762d663d404f15", "message": "Eagerly register a couple of Coordinator KeyedMeter metrics for easier alerting", "committedDate": "2020-08-13T17:37:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzNDE3Mw==", "url": "https://github.com/linkedin/brooklin/pull/741#discussion_r470134173", "bodyText": "Delegate to this(key, name, false)", "author": "ahmedahamid", "createdAt": "2020-08-13T17:44:16Z", "path": "datastream-server/src/main/java/com/linkedin/datastream/server/Coordinator.java", "diffHunk": "@@ -1856,10 +1864,18 @@ public String getName() {\n \n       private final String _key;\n       private final String _name;\n+      private final boolean _isEagerlyRegistered;\n \n       KeyedMeter(String key, String name) {\n         _key = key;\n         _name = name;\n+        _isEagerlyRegistered = false;", "originalCommit": "9fc1f134ceda65f7d165689ef9762d663d404f15", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzNjIwNg==", "url": "https://github.com/linkedin/brooklin/pull/741#discussion_r470136206", "bodyText": "done", "author": "somandal", "createdAt": "2020-08-13T17:46:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzNDE3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "46697d97b17a4c306a0a864c691f839e9fb608c4", "chunk": "diff --git a/datastream-server/src/main/java/com/linkedin/datastream/server/Coordinator.java b/datastream-server/src/main/java/com/linkedin/datastream/server/Coordinator.java\nindex 537a3957..75dcf4d2 100644\n--- a/datastream-server/src/main/java/com/linkedin/datastream/server/Coordinator.java\n+++ b/datastream-server/src/main/java/com/linkedin/datastream/server/Coordinator.java\n\n@@ -1867,9 +1867,7 @@ public class Coordinator implements ZkAdapter.ZkAdapterListener, MetricsAware {\n       private final boolean _isEagerlyRegistered;\n \n       KeyedMeter(String key, String name) {\n-        _key = key;\n-        _name = name;\n-        _isEagerlyRegistered = false;\n+        this(key, name, false);\n       }\n \n       KeyedMeter(String key, String name, boolean isEagerlyRegistered) {\n"}}, {"oid": "46697d97b17a4c306a0a864c691f839e9fb608c4", "url": "https://github.com/linkedin/brooklin/commit/46697d97b17a4c306a0a864c691f839e9fb608c4", "message": "Address review comments", "committedDate": "2020-08-13T17:46:15Z", "type": "commit"}]}