{"pr_number": 1365, "pr_title": "TINKERPOP-2468 Fix stochastic nature of shouldProcessSessionRequestsInOrder", "pr_createdAt": "2020-11-20T22:56:49Z", "pr_url": "https://github.com/apache/tinkerpop/pull/1365", "timeline": [{"oid": "2c5daec4a8bf5f5ab6e9d9d754c35830ea48c7db", "url": "https://github.com/apache/tinkerpop/commit/2c5daec4a8bf5f5ab6e9d9d754c35830ea48c7db", "message": "Fix stochastic nature of shouldProcessSessionRequestsInOrder", "committedDate": "2020-11-20T22:53:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYzNzcyNQ==", "url": "https://github.com/apache/tinkerpop/pull/1365#discussion_r528637725", "bodyText": "just to clarify , by \"different executor thread\" are you referring to threads on the client being responsible for the un-ordering?", "author": "spmallette", "createdAt": "2020-11-23T11:31:52Z", "path": "gremlin-server/src/test/java/org/apache/tinkerpop/gremlin/server/GremlinDriverIntegrateTest.java", "diffHunk": "@@ -612,40 +612,42 @@ public void shouldProcessRequestsOutOfOrder() throws Exception {\n         }\n     }\n \n+    /**\n+     * This test validates that the session requests are processed in-order on the server. The order of results\n+     * returned to the client might be different though since each result is handled by a different executor thread.\n+     */", "originalCommit": "2c5daec4a8bf5f5ab6e9d9d754c35830ea48c7db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODkxMDE5OA==", "url": "https://github.com/apache/tinkerpop/pull/1365#discussion_r528910198", "bodyText": "Yes. Client side threads. More specifically, in this PR we made a change to remove the possibility of blocking the executor loop on client by the application code by passing completion of readComplete future to client's executor threads. For two different requests they might get assigned to different threads in executor pool here and return results at different time.", "author": "divijvaidya", "createdAt": "2020-11-23T18:26:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYzNzcyNQ=="}], "type": "inlineReview", "revised_code": null}]}