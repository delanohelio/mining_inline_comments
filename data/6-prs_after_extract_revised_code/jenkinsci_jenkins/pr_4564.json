{"pr_number": 4564, "pr_title": "Fixed spotbugs NP_NULL_ON_SOME_PATH", "pr_createdAt": "2020-03-11T17:00:26Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4564", "timeline": [{"oid": "8026f7b2a984d80d4de73399f52dfd91a0bae12d", "url": "https://github.com/jenkinsci/jenkins/commit/8026f7b2a984d80d4de73399f52dfd91a0bae12d", "message": "Fixed spotbugs NP_NULL_ON_SOME_PATH", "committedDate": "2020-03-11T16:54:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ3ODI5Ng==", "url": "https://github.com/jenkinsci/jenkins/pull/4564#discussion_r391478296", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (jenkins != null && jenkins.getInitLevel().compareTo(InitMilestone.PLUGINS_PREPARED) < 0)\n          \n          \n            \n                    if (jenkins == null || jenkins.getInitLevel().compareTo(InitMilestone.PLUGINS_PREPARED) < 0)", "author": "oleg-nenashev", "createdAt": "2020-03-12T08:58:38Z", "path": "core/src/main/java/hudson/ExtensionList.java", "diffHunk": "@@ -309,7 +309,7 @@ public T getDynamic(String className) {\n     private List<ExtensionComponent<T>> ensureLoaded() {\n         if(extensions!=null)\n             return extensions; // already loaded\n-        if (jenkins.getInitLevel().compareTo(InitMilestone.PLUGINS_PREPARED)<0)\n+        if (jenkins != null && jenkins.getInitLevel().compareTo(InitMilestone.PLUGINS_PREPARED) < 0)", "originalCommit": "8026f7b2a984d80d4de73399f52dfd91a0bae12d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "19ee1026aa1546da600b7000a944da1597daee2c", "chunk": "diff --git a/core/src/main/java/hudson/ExtensionList.java b/core/src/main/java/hudson/ExtensionList.java\nindex abf1efbe98..6cbdd051df 100644\n--- a/core/src/main/java/hudson/ExtensionList.java\n+++ b/core/src/main/java/hudson/ExtensionList.java\n\n@@ -309,7 +309,7 @@ public class ExtensionList<T> extends AbstractList<T> implements OnMaster {\n     private List<ExtensionComponent<T>> ensureLoaded() {\n         if(extensions!=null)\n             return extensions; // already loaded\n-        if (jenkins != null && jenkins.getInitLevel().compareTo(InitMilestone.PLUGINS_PREPARED) < 0)\n+        if (jenkins == null || jenkins.getInitLevel().compareTo(InitMilestone.PLUGINS_PREPARED) < 0)\n             return legacyInstances; // can't perform the auto discovery until all plugins are loaded, so just make the legacy instances visible\n \n         synchronized (getLoadLock()) {\n"}}, {"oid": "19ee1026aa1546da600b7000a944da1597daee2c", "url": "https://github.com/jenkinsci/jenkins/commit/19ee1026aa1546da600b7000a944da1597daee2c", "message": "Update core/src/main/java/hudson/ExtensionList.java\n\nCo-Authored-By: Oleg Nenashev <o.v.nenashev@gmail.com>", "committedDate": "2020-03-12T15:56:03Z", "type": "commit"}]}