{"pr_number": 4834, "pr_title": "[JENKINS-63022] Make Fingerprint Storage Engine configurable from the config page", "pr_createdAt": "2020-07-08T03:43:24Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4834", "timeline": [{"oid": "3580e0e004568c0bf2f1bc686ad472cfbad6ee81", "url": "https://github.com/jenkinsci/jenkins/commit/3580e0e004568c0bf2f1bc686ad472cfbad6ee81", "message": "Move fingerprint configuration to use descriptors", "committedDate": "2020-07-08T03:41:49Z", "type": "commit"}, {"oid": "ba3788ce7aee895183b1e2a96cfb2a4123dc63f6", "url": "https://github.com/jenkinsci/jenkins/commit/ba3788ce7aee895183b1e2a96cfb2a4123dc63f6", "message": "Add new line", "committedDate": "2020-07-08T03:43:53Z", "type": "commit"}, {"oid": "1474ad9c8e9d458da1d3a6a3bb318d1cf2c58771", "url": "https://github.com/jenkinsci/jenkins/commit/1474ad9c8e9d458da1d3a6a3bb318d1cf2c58771", "message": "Minor fixes", "committedDate": "2020-07-08T14:17:43Z", "type": "commit"}, {"oid": "71729790e42f01455b0a0c195a2548c2f9ba45c0", "url": "https://github.com/jenkinsci/jenkins/commit/71729790e42f01455b0a0c195a2548c2f9ba45c0", "message": "Move descriptor out of fingerprintstorage class", "committedDate": "2020-07-08T18:12:01Z", "type": "commit"}, {"oid": "cf0726690210477c0782b6f863fbfaa113eb2aab", "url": "https://github.com/jenkinsci/jenkins/commit/cf0726690210477c0782b6f863fbfaa113eb2aab", "message": "Remove redundant import", "committedDate": "2020-07-08T18:13:33Z", "type": "commit"}, {"oid": "1c99b0e58e8a7c4899cead5054f347f3c3e25db0", "url": "https://github.com/jenkinsci/jenkins/commit/1c99b0e58e8a7c4899cead5054f347f3c3e25db0", "message": "Fix descriptors implementation", "committedDate": "2020-07-08T18:22:43Z", "type": "commit"}, {"oid": "2a50bb967f5bca40722f8960b7dab3de97bcd4f3", "url": "https://github.com/jenkinsci/jenkins/commit/2a50bb967f5bca40722f8960b7dab3de97bcd4f3", "message": "Remove redundant imports", "committedDate": "2020-07-08T18:23:21Z", "type": "commit"}, {"oid": "7de94e75f51db01249810d07d6514b169c17aa35", "url": "https://github.com/jenkinsci/jenkins/commit/7de94e75f51db01249810d07d6514b169c17aa35", "message": "Fix json object", "committedDate": "2020-07-08T18:46:28Z", "type": "commit"}, {"oid": "29cb97ba047efbc39bdab8e2cf664fdfe36541f5", "url": "https://github.com/jenkinsci/jenkins/commit/29cb97ba047efbc39bdab8e2cf664fdfe36541f5", "message": "Merge remote-tracking branch 'upstream/master' into descr", "committedDate": "2020-07-08T18:47:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg2MDE5MA==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r451860190", "bodyText": "This part does not seem right. IIRC usage of section does not lead to JSON groouping IIRC. Likely you would get null in this conversion", "author": "oleg-nenashev", "createdAt": "2020-07-08T22:29:28Z", "path": "core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2020, Jenkins project contributors\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.fingerprints;\n+\n+import hudson.DescriptorExtensionList;\n+import hudson.Extension;\n+import hudson.ExtensionList;\n+import jenkins.model.GlobalConfiguration;\n+import net.sf.json.JSONObject;\n+import org.kohsuke.stapler.DataBoundSetter;\n+import org.kohsuke.stapler.StaplerRequest;\n+\n+@Extension\n+public class GlobalFingerprintConfiguration extends GlobalConfiguration {\n+\n+    private FingerprintStorage fingerprintStorage;\n+\n+    public GlobalFingerprintConfiguration() {\n+        load();\n+    }\n+\n+    public static GlobalFingerprintConfiguration get() {\n+        return GlobalConfiguration.all().getInstance(GlobalFingerprintConfiguration.class);\n+    }\n+\n+    public FingerprintStorage getFingerprintStorage() {\n+        return fingerprintStorage;\n+    }\n+\n+    @DataBoundSetter\n+    public void setFingerprintStorage(FingerprintStorage fingerprintStorage) {\n+        this.fingerprintStorage = fingerprintStorage;\n+    }\n+\n+    @Override\n+    public boolean configure(StaplerRequest req, JSONObject json) {\n+        json = json.getJSONObject(\"fingerprints\");", "originalCommit": "29cb97ba047efbc39bdab8e2cf664fdfe36541f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTk0Nzc5OA==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r451947798", "bodyText": "That seems to be working fine", "author": "stellargo", "createdAt": "2020-07-09T03:49:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg2MDE5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY1ODAyMA==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r452658020", "bodyText": "Something's not right here if you have to do this, the configure method should only contain: https://www.jenkins.io/doc/developer/forms/structured-form-submission/#databinding", "author": "timja", "createdAt": "2020-07-10T07:00:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg2MDE5MA=="}], "type": "inlineReview", "revised_code": {"commit": "16453738f31ff83bf61129f3606be6170317582a", "chunk": "diff --git a/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java b/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\nindex a92dfcb2f8..e8f22de119 100644\n--- a/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\n+++ b/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\n\n@@ -23,9 +23,7 @@\n  */\n package jenkins.fingerprints;\n \n-import hudson.DescriptorExtensionList;\n import hudson.Extension;\n-import hudson.ExtensionList;\n import jenkins.model.GlobalConfiguration;\n import net.sf.json.JSONObject;\n import org.kohsuke.stapler.DataBoundSetter;\n"}}, {"oid": "16453738f31ff83bf61129f3606be6170317582a", "url": "https://github.com/jenkinsci/jenkins/commit/16453738f31ff83bf61129f3606be6170317582a", "message": "Move to describableList", "committedDate": "2020-07-09T03:39:12Z", "type": "commit"}, {"oid": "bf7828c7a3c531c84608db80f39e43b4e174dac3", "url": "https://github.com/jenkinsci/jenkins/commit/bf7828c7a3c531c84608db80f39e43b4e174dac3", "message": "Fix correct fingerprint storage loading", "committedDate": "2020-07-09T13:17:59Z", "type": "commit"}, {"oid": "c4bcd650d9fc4a38b09e39c2d8d390a41de19a68", "url": "https://github.com/jenkinsci/jenkins/commit/c4bcd650d9fc4a38b09e39c2d8d390a41de19a68", "message": "Remove redundant constructor", "committedDate": "2020-07-09T13:20:47Z", "type": "commit"}, {"oid": "74d9e027bcd571939c2eb28cdb8d5da0c07a0d04", "url": "https://github.com/jenkinsci/jenkins/commit/74d9e027bcd571939c2eb28cdb8d5da0c07a0d04", "message": "Improve documentation", "committedDate": "2020-07-09T16:29:07Z", "type": "commit"}, {"oid": "7b855c9d75ba2d82c735d7183ff19e7e9db20dbf", "url": "https://github.com/jenkinsci/jenkins/commit/7b855c9d75ba2d82c735d7183ff19e7e9db20dbf", "message": "add log for change in fingerprint storage engine", "committedDate": "2020-07-09T16:33:20Z", "type": "commit"}, {"oid": "b3839a1bd5b24996f5ce947af133c0aaa0bbc548", "url": "https://github.com/jenkinsci/jenkins/commit/b3839a1bd5b24996f5ce947af133c0aaa0bbc548", "message": "Merge remote-tracking branch 'upstream/master' into descr", "committedDate": "2020-07-09T16:35:11Z", "type": "commit"}, {"oid": "adc4ab40009c775aac601d7c33ca20aa0dcb0a0c", "url": "https://github.com/jenkinsci/jenkins/commit/adc4ab40009c775aac601d7c33ca20aa0dcb0a0c", "message": "Add GlobalFingerprintConfiguration#get()", "committedDate": "2020-07-09T16:55:08Z", "type": "commit"}, {"oid": "f6883f61cf382dc89547c5162992a21da41f98bb", "url": "https://github.com/jenkinsci/jenkins/commit/f6883f61cf382dc89547c5162992a21da41f98bb", "message": "Remove name tag from jelly", "committedDate": "2020-07-10T13:42:42Z", "type": "commit"}, {"oid": "b1158b47a2ab896c3ba3522902910b39ade8fb38", "url": "https://github.com/jenkinsci/jenkins/commit/b1158b47a2ab896c3ba3522902910b39ade8fb38", "message": "Merge remote-tracking branch 'upstream/master' into descr", "committedDate": "2020-07-10T13:42:55Z", "type": "commit"}, {"oid": "622ed303f50fdb3ae3e1c6f74a7636b34575a9d0", "url": "https://github.com/jenkinsci/jenkins/commit/622ed303f50fdb3ae3e1c6f74a7636b34575a9d0", "message": "Add symbols", "committedDate": "2020-07-10T14:43:23Z", "type": "commit"}, {"oid": "dce32c9cd627ecc739b4cb30cf6fbaa8d4bdb41c", "url": "https://github.com/jenkinsci/jenkins/commit/dce32c9cd627ecc739b4cb30cf6fbaa8d4bdb41c", "message": "Fingerprints not shown at all if no external fingerprint storage available", "committedDate": "2020-07-10T15:58:05Z", "type": "commit"}, {"oid": "e90a59061cd4779738e144957d53dc6846f65334", "url": "https://github.com/jenkinsci/jenkins/commit/e90a59061cd4779738e144957d53dc6846f65334", "message": "Add symbol", "committedDate": "2020-07-10T17:56:00Z", "type": "commit"}, {"oid": "da209e21e5d6950f116f558482575b376f0dbba1", "url": "https://github.com/jenkinsci/jenkins/commit/da209e21e5d6950f116f558482575b376f0dbba1", "message": "remove stray typo", "committedDate": "2020-07-10T17:57:03Z", "type": "commit"}, {"oid": "d232695f53b37a4e33b37873925b0aaccb6beb47", "url": "https://github.com/jenkinsci/jenkins/commit/d232695f53b37a4e33b37873925b0aaccb6beb47", "message": "FingerprintStorage symbol rename", "committedDate": "2020-07-10T18:48:44Z", "type": "commit"}, {"oid": "0ed391051584cf0e5eb06a7c8d02e662e9dd86b2", "url": "https://github.com/jenkinsci/jenkins/commit/0ed391051584cf0e5eb06a7c8d02e662e9dd86b2", "message": "Var name changed", "committedDate": "2020-07-11T08:53:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDY3MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453350671", "bodyText": "Disabled Fingerprint storage impl is a great idea IMHO, but not sure it is a good default here", "author": "oleg-nenashev", "createdAt": "2020-07-12T18:53:12Z", "path": "core/src/main/java/jenkins/fingerprints/FileFingerprintStorage.java", "diffHunk": "@@ -255,4 +261,14 @@ private static String serialize(Fingerprint.RangeSet src) {\n         return buf.toString();\n     }\n \n+    @Extension\n+    public static class DescriptorImpl extends FingerprintStorageDescriptor {\n+\n+        @Override\n+        public String getDisplayName() {\n+            return \"Disabled\";", "originalCommit": "0ed391051584cf0e5eb06a7c8d02e662e9dd86b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM5MDA1MA==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453390050", "bodyText": "What would you suggest? Local Disk Storage, File Fingerprint Storage seem like other few options.", "author": "stellargo", "createdAt": "2020-07-13T01:17:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQyNzEzOQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453427139", "bodyText": "LocalFileStorage would be my vote", "author": "afalko", "createdAt": "2020-07-13T04:22:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4MDU0Nw==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453780547", "bodyText": "@oleg-nenashev would be great to hear your vote too :)", "author": "stellargo", "createdAt": "2020-07-13T16:36:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUxNDQ5NQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r454514495", "bodyText": "Local fingerprint storage?", "author": "timja", "createdAt": "2020-07-14T17:15:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTA1MDEzMA==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r455050130", "bodyText": "I am changing it to Local Fingerprint Storage, mainly due to the face that it goes along with the plugin being called Redis Fingerprint Storage. But I am happy to change it if there are other strong opinions.", "author": "stellargo", "createdAt": "2020-07-15T13:27:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDY3MQ=="}], "type": "inlineReview", "revised_code": {"commit": "106dd78a1b10e16f40a85566350295ef7142ce6d", "chunk": "diff --git a/core/src/main/java/jenkins/fingerprints/FileFingerprintStorage.java b/core/src/main/java/jenkins/fingerprints/FileFingerprintStorage.java\nindex aeb2b10ee2..44df1575b8 100644\n--- a/core/src/main/java/jenkins/fingerprints/FileFingerprintStorage.java\n+++ b/core/src/main/java/jenkins/fingerprints/FileFingerprintStorage.java\n\n@@ -266,7 +266,7 @@ public class FileFingerprintStorage extends FingerprintStorage {\n \n         @Override\n         public String getDisplayName() {\n-            return \"Disabled\";\n+            return \"Local Fingerprint Storage\";\n         }\n \n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDc2OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453350769", "bodyText": "I doubt this is needed for an abstract class. Am I missing something?", "author": "oleg-nenashev", "createdAt": "2020-07-12T18:54:17Z", "path": "core/src/main/java/jenkins/fingerprints/FingerprintStorage.java", "diffHunk": "@@ -39,14 +41,14 @@\n  * @author Sumit Sarin\n  */\n @Restricted(Beta.class)\n-public abstract class FingerprintStorage implements ExtensionPoint {\n+@Symbol(\"storage\")", "originalCommit": "0ed391051584cf0e5eb06a7c8d02e662e9dd86b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM5MDE0MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453390141", "bodyText": "jenkinsci/redis-fingerprint-storage-plugin#36 (comment)", "author": "stellargo", "createdAt": "2020-07-13T01:18:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzY5MDQ1OA==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453690458", "bodyText": "Fixed :)", "author": "stellargo", "createdAt": "2020-07-13T14:28:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MDc2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "bc10ff80d301bbe1aff7427d9028b79e138586d7", "chunk": "diff --git a/core/src/main/java/jenkins/fingerprints/FingerprintStorage.java b/core/src/main/java/jenkins/fingerprints/FingerprintStorage.java\nindex 64e8ce5780..3167a29da2 100644\n--- a/core/src/main/java/jenkins/fingerprints/FingerprintStorage.java\n+++ b/core/src/main/java/jenkins/fingerprints/FingerprintStorage.java\n\n@@ -41,7 +40,6 @@ import org.kohsuke.accmod.Restricted;\n  * @author Sumit Sarin\n  */\n @Restricted(Beta.class)\n-@Symbol(\"storage\")\n public abstract class FingerprintStorage extends AbstractDescribableImpl<FingerprintStorage> implements ExtensionPoint {\n \n     /**\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1MjAwMQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453352001", "bodyText": "Better to use \"LOGGER\" for static final fields", "author": "oleg-nenashev", "createdAt": "2020-07-12T19:06:31Z", "path": "core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2020, Jenkins project contributors\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.fingerprints;\n+\n+import hudson.DescriptorExtensionList;\n+import hudson.Extension;\n+import hudson.ExtensionList;\n+import jenkins.model.GlobalConfiguration;\n+import net.sf.json.JSONObject;\n+import org.jenkinsci.Symbol;\n+import org.kohsuke.stapler.DataBoundSetter;\n+import org.kohsuke.stapler.StaplerRequest;\n+\n+import java.util.logging.Logger;\n+\n+@Extension\n+@Symbol(\"fingerprints\")\n+public class GlobalFingerprintConfiguration extends GlobalConfiguration {\n+\n+    private FingerprintStorage fingerprintStorage = ExtensionList.lookupSingleton(FileFingerprintStorage.class);\n+    private static final Logger logger = Logger.getLogger(GlobalFingerprintConfiguration.class.getName());", "originalCommit": "0ed391051584cf0e5eb06a7c8d02e662e9dd86b2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "748b7477a3140771347acd3caae7024e7c2cbb92", "chunk": "diff --git a/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java b/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\nindex 1042e96a88..3ace8d33e2 100644\n--- a/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\n+++ b/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\n\n@@ -39,7 +39,7 @@ import java.util.logging.Logger;\n public class GlobalFingerprintConfiguration extends GlobalConfiguration {\n \n     private FingerprintStorage fingerprintStorage = ExtensionList.lookupSingleton(FileFingerprintStorage.class);\n-    private static final Logger logger = Logger.getLogger(GlobalFingerprintConfiguration.class.getName());\n+    private static final Logger LOGGER = Logger.getLogger(GlobalFingerprintConfiguration.class.getName());\n \n     public GlobalFingerprintConfiguration() {\n         load();\n"}}, {"oid": "748b7477a3140771347acd3caae7024e7c2cbb92", "url": "https://github.com/jenkinsci/jenkins/commit/748b7477a3140771347acd3caae7024e7c2cbb92", "message": "Logger -> LOGGER", "committedDate": "2020-07-13T01:19:13Z", "type": "commit"}, {"oid": "b0db94ecc44d625fd85990b1dcfe64dfb0bdc695", "url": "https://github.com/jenkinsci/jenkins/commit/b0db94ecc44d625fd85990b1dcfe64dfb0bdc695", "message": "Merge remote-tracking branch 'upstream/master' into descr", "committedDate": "2020-07-13T01:19:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ1NDExNw==", "url": "https://github.com/jenkinsci/jenkins/pull/4834#discussion_r453454117", "bodyText": "This is the line you would need to change to be \u2018storage\u2019 not the symbol you added above", "author": "timja", "createdAt": "2020-07-13T06:12:14Z", "path": "core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2020, Jenkins project contributors\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package jenkins.fingerprints;\n+\n+import hudson.DescriptorExtensionList;\n+import hudson.Extension;\n+import hudson.ExtensionList;\n+import jenkins.model.GlobalConfiguration;\n+import net.sf.json.JSONObject;\n+import org.jenkinsci.Symbol;\n+import org.kohsuke.stapler.DataBoundSetter;\n+import org.kohsuke.stapler.StaplerRequest;\n+\n+import java.util.logging.Logger;\n+\n+@Extension\n+@Symbol(\"fingerprints\")\n+public class GlobalFingerprintConfiguration extends GlobalConfiguration {\n+\n+    private FingerprintStorage fingerprintStorage = ExtensionList.lookupSingleton(FileFingerprintStorage.class);", "originalCommit": "b0db94ecc44d625fd85990b1dcfe64dfb0bdc695", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bc10ff80d301bbe1aff7427d9028b79e138586d7", "chunk": "diff --git a/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java b/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\nindex 3ace8d33e2..a896b88055 100644\n--- a/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\n+++ b/core/src/main/java/jenkins/fingerprints/GlobalFingerprintConfiguration.java\n\n@@ -38,7 +38,7 @@ import java.util.logging.Logger;\n @Symbol(\"fingerprints\")\n public class GlobalFingerprintConfiguration extends GlobalConfiguration {\n \n-    private FingerprintStorage fingerprintStorage = ExtensionList.lookupSingleton(FileFingerprintStorage.class);\n+    private FingerprintStorage storage = ExtensionList.lookupSingleton(FileFingerprintStorage.class);\n     private static final Logger LOGGER = Logger.getLogger(GlobalFingerprintConfiguration.class.getName());\n \n     public GlobalFingerprintConfiguration() {\n"}}, {"oid": "bc10ff80d301bbe1aff7427d9028b79e138586d7", "url": "https://github.com/jenkinsci/jenkins/commit/bc10ff80d301bbe1aff7427d9028b79e138586d7", "message": "Remove symbol; fingerprintStorage->storage", "committedDate": "2020-07-13T14:25:50Z", "type": "commit"}, {"oid": "d9f1acfdc11ad56529c8bf3908e8d0e1532171ee", "url": "https://github.com/jenkinsci/jenkins/commit/d9f1acfdc11ad56529c8bf3908e8d0e1532171ee", "message": "Remove stray file", "committedDate": "2020-07-13T15:37:41Z", "type": "commit"}, {"oid": "6a0baa26f8a257641ebdc8eda3ffb131288d3b21", "url": "https://github.com/jenkinsci/jenkins/commit/6a0baa26f8a257641ebdc8eda3ffb131288d3b21", "message": "fingerprintStorage->storage", "committedDate": "2020-07-14T04:08:05Z", "type": "commit"}, {"oid": "40dba11c77cc272818db609f35cd67500d0c0168", "url": "https://github.com/jenkinsci/jenkins/commit/40dba11c77cc272818db609f35cd67500d0c0168", "message": "Merge remote-tracking branch 'upstream/master' into descr", "committedDate": "2020-07-14T14:24:46Z", "type": "commit"}, {"oid": "106dd78a1b10e16f40a85566350295ef7142ce6d", "url": "https://github.com/jenkinsci/jenkins/commit/106dd78a1b10e16f40a85566350295ef7142ce6d", "message": "Change naming", "committedDate": "2020-07-15T13:28:47Z", "type": "commit"}, {"oid": "3dee952d9648ed61e9c5090e32589e587def929b", "url": "https://github.com/jenkinsci/jenkins/commit/3dee952d9648ed61e9c5090e32589e587def929b", "message": "Add localization", "committedDate": "2020-07-16T03:05:48Z", "type": "commit"}, {"oid": "b25938ec9723df438cf0bcf0966abad2fd71c689", "url": "https://github.com/jenkinsci/jenkins/commit/b25938ec9723df438cf0bcf0966abad2fd71c689", "message": "Merge remote-tracking branch 'upstream/master' into descr", "committedDate": "2020-07-16T03:06:04Z", "type": "commit"}, {"oid": "e91381eb5ae63cb64e22a18fe98f318c36458a62", "url": "https://github.com/jenkinsci/jenkins/commit/e91381eb5ae63cb64e22a18fe98f318c36458a62", "message": "Add empty line", "committedDate": "2020-07-16T03:07:51Z", "type": "commit"}]}