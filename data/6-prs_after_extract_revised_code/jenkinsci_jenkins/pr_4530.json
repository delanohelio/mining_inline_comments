{"pr_number": 4530, "pr_title": "JENKINS-61207 System read - logs", "pr_createdAt": "2020-02-28T22:00:28Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4530", "timeline": [{"oid": "aea8ecc39970f3dee74742eb27e02987cb410793", "url": "https://github.com/jenkinsci/jenkins/commit/aea8ecc39970f3dee74742eb27e02987cb410793", "message": "JENKINS-61207 System read - logs", "committedDate": "2020-02-28T21:56:02Z", "type": "commit"}, {"oid": "32a72e1ee72b37b599239ef32766ca59691867c6", "url": "https://github.com/jenkinsci/jenkins/commit/32a72e1ee72b37b599239ef32766ca59691867c6", "message": "Update LogRecorder.java", "committedDate": "2020-03-03T12:48:08Z", "type": "commit"}, {"oid": "1b00ec41866d130429700957966f15c64e324942", "url": "https://github.com/jenkinsci/jenkins/commit/1b00ec41866d130429700957966f15c64e324942", "message": "Revert \"Update LogRecorder.java\"\n\nThis reverts commit 32a72e1ee72b37b599239ef32766ca59691867c6.", "committedDate": "2020-03-03T16:14:54Z", "type": "commit"}, {"oid": "e363c84de163feaa8a526fdf549d0c734a91f6db", "url": "https://github.com/jenkinsci/jenkins/commit/e363c84de163feaa8a526fdf549d0c734a91f6db", "message": "System read for rss", "committedDate": "2020-03-03T16:16:35Z", "type": "commit"}, {"oid": "cb414a56dd89bb488fc929d6abea0475bc4ddc3f", "url": "https://github.com/jenkinsci/jenkins/commit/cb414a56dd89bb488fc929d6abea0475bc4ddc3f", "message": "Add UI warning, and improve surroundings to make message look better", "committedDate": "2020-03-04T21:54:24Z", "type": "commit"}, {"oid": "94bb3979bf02c27a13b0fe64af5a63b336605b18", "url": "https://github.com/jenkinsci/jenkins/commit/94bb3979bf02c27a13b0fe64af5a63b336605b18", "message": "Merge branch 'master' into system-read-logs", "committedDate": "2020-03-14T11:11:54Z", "type": "commit"}, {"oid": "8b1dc4c042b99f90c37654d7f9ac45f12d75004e", "url": "https://github.com/jenkinsci/jenkins/commit/8b1dc4c042b99f90c37654d7f9ac45f12d75004e", "message": "Merge branch 'master' into system-read-logs", "committedDate": "2020-04-19T10:57:15Z", "type": "commit"}, {"oid": "30d3b0b3b578d5e6572dc04fd2ff8fe57928c393", "url": "https://github.com/jenkinsci/jenkins/commit/30d3b0b3b578d5e6572dc04fd2ff8fe57928c393", "message": "Merge branch 'system-read-logs' of github.com:timja/jenkins into system-read-logs", "committedDate": "2020-04-19T10:58:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUyMjExNQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4530#discussion_r414522115", "bodyText": "Redundant given https://github.com/jenkinsci/jenkins/pull/4530/files#diff-cb8b7584e7a539c988ae99e9951f7b65R213 and https://github.com/jenkinsci/jenkins/pull/4530/files?w=1#diff-fcc5c10b76c1e25e4ac9caae4fa96acfR71 ?", "author": "daniel-beck", "createdAt": "2020-04-24T12:03:08Z", "path": "core/src/main/java/hudson/logging/LogRecorder.java", "diffHunk": "@@ -401,6 +407,8 @@ public synchronized void doDoDelete(StaplerResponse rsp) throws IOException, Ser\n      * RSS feed for log entries.\n      */\n     public void doRss( StaplerRequest req, StaplerResponse rsp ) throws IOException, ServletException {\n+        Jenkins.get().checkPermission(Jenkins.SYSTEM_READ);", "originalCommit": "30d3b0b3b578d5e6572dc04fd2ff8fe57928c393", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "dcf5fd1571321bf6024f09ab1831a03c373a4d20", "chunk": "diff --git a/core/src/main/java/hudson/logging/LogRecorder.java b/core/src/main/java/hudson/logging/LogRecorder.java\nindex 5367d45098..a2a233df07 100644\n--- a/core/src/main/java/hudson/logging/LogRecorder.java\n+++ b/core/src/main/java/hudson/logging/LogRecorder.java\n\n@@ -407,8 +407,6 @@ public class LogRecorder extends AbstractModelObject implements Saveable {\n      * RSS feed for log entries.\n      */\n     public void doRss( StaplerRequest req, StaplerResponse rsp ) throws IOException, ServletException {\n-        Jenkins.get().checkPermission(Jenkins.SYSTEM_READ);\n-\n         LogRecorderManager.doRss(req,rsp,getLogRecords());\n     }\n \n"}}, {"oid": "91531cdc52f768c0bddc2b652259ce2c5381ce44", "url": "https://github.com/jenkinsci/jenkins/commit/91531cdc52f768c0bddc2b652259ce2c5381ce44", "message": "Merge branch 'master' into system-read-logs", "committedDate": "2020-04-24T15:00:30Z", "type": "commit"}, {"oid": "7fcb256253753b4e43c6b9bdc8d06e5b98b1e571", "url": "https://github.com/jenkinsci/jenkins/commit/7fcb256253753b4e43c6b9bdc8d06e5b98b1e571", "message": "Update core/src/main/resources/hudson/logging/LogRecorder/configure.properties\n\nCo-Authored-By: Daniel Beck <1831569+daniel-beck@users.noreply.github.com>", "committedDate": "2020-04-24T15:01:58Z", "type": "commit"}, {"oid": "c2ddab89aa3e9f9eb7b38ec14686c97275751932", "url": "https://github.com/jenkinsci/jenkins/commit/c2ddab89aa3e9f9eb7b38ec14686c97275751932", "message": "Merge branch 'system-read-logs' of github.com:timja/jenkins into system-read-logs", "committedDate": "2020-04-24T15:02:05Z", "type": "commit"}, {"oid": "dcf5fd1571321bf6024f09ab1831a03c373a4d20", "url": "https://github.com/jenkinsci/jenkins/commit/dcf5fd1571321bf6024f09ab1831a03c373a4d20", "message": "Cleanup code", "committedDate": "2020-04-24T15:06:45Z", "type": "commit"}]}