{"pr_number": 4754, "pr_title": "Capture stacktrace from the original thread when SlaveComputer#_connect fails", "pr_createdAt": "2020-05-28T13:04:18Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4754", "timeline": [{"oid": "dab8a19d78103380904a4ce814cb22dc7f39128e", "url": "https://github.com/jenkinsci/jenkins/commit/dab8a19d78103380904a4ce814cb22dc7f39128e", "message": "Capture stacktrace from the original thread when SlaveComputer#_connect fails", "committedDate": "2020-05-28T13:02:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgzMDIyNg==", "url": "https://github.com/jenkinsci/jenkins/pull/4754#discussion_r431830226", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Exception threadInfo = new Exception();\n          \n          \n            \n                    Throwable threadInfo = new Throwable(\"launched here\");", "author": "jglick", "createdAt": "2020-05-28T13:22:45Z", "path": "core/src/main/java/hudson/slaves/SlaveComputer.java", "diffHunk": "@@ -283,6 +283,7 @@ public ComputerLauncher getDelegatedLauncher() {\n             logger.fine(\"Forcing a reconnect on \"+getName());\n \n         closeChannel();\n+        Exception threadInfo = new Exception();", "originalCommit": "dab8a19d78103380904a4ce814cb22dc7f39128e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "97e8d17ef37976739242d0d590895ba1d95df2cc", "chunk": "diff --git a/core/src/main/java/hudson/slaves/SlaveComputer.java b/core/src/main/java/hudson/slaves/SlaveComputer.java\nindex 59c72ce47d..7e717744d9 100644\n--- a/core/src/main/java/hudson/slaves/SlaveComputer.java\n+++ b/core/src/main/java/hudson/slaves/SlaveComputer.java\n\n@@ -283,7 +283,7 @@ public class SlaveComputer extends Computer {\n             logger.fine(\"Forcing a reconnect on \"+getName());\n \n         closeChannel();\n-        Exception threadInfo = new Exception();\n+        Throwable threadInfo = new Throwable(\"launched here\");\n         return lastConnectActivity = Computer.threadPoolForRemoting.submit(() -> {\n             // do this on another thread so that the lengthy launch operation\n             // (which is typical) won't block UI thread.\n"}}, {"oid": "97e8d17ef37976739242d0d590895ba1d95df2cc", "url": "https://github.com/jenkinsci/jenkins/commit/97e8d17ef37976739242d0d590895ba1d95df2cc", "message": "Update core/src/main/java/hudson/slaves/SlaveComputer.java\n\nCo-authored-by: Jesse Glick <jglick@cloudbees.com>", "committedDate": "2020-05-28T13:27:01Z", "type": "commit"}]}