{"pr_number": 548, "pr_title": "Support \"true\" and \"false\" String to boolean conversion in DefaultObjectMapper.getOrDefault()", "pr_createdAt": "2020-07-08T02:57:56Z", "pr_url": "https://github.com/opensearch-project/security/pull/548", "timeline": [{"oid": "1573e0d978e0c9b3ac71d6404a4e5a15d851b015", "url": "https://github.com/opensearch-project/security/commit/1573e0d978e0c9b3ac71d6404a4e5a15d851b015", "message": "Support \"true\" and \"false\" String to boolean conversion in DefaultObjectMapper.getOrDefault()", "committedDate": "2020-07-08T02:56:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY4OTc1Mg==", "url": "https://github.com/opensearch-project/security/pull/548#discussion_r451689752", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        String text = ((String)value).trim();\n          \n          \n            \n                        String text = ((String)value).trim().toLower();\n          \n          \n            \n                        if (\"true\".equals(text)) {", "author": "debjanibnrj", "createdAt": "2020-07-08T16:54:13Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/DefaultObjectMapper.java", "diffHunk": "@@ -69,9 +71,25 @@ public static void inject(final InjectableValues.Std injectableValues) {\n         defaulOmittingObjectMapper.setInjectableValues(injectableValues);\n     }\n \n-    public static boolean getOrDefault(Map<String, Object> properties, String key, boolean defaultValue) {\n-        Boolean value = (Boolean)properties.get(key);\n-        return value != null ? value.booleanValue() : defaultValue;\n+    public static boolean getOrDefault(Map<String, Object> properties, String key, boolean defaultValue) throws JsonProcessingException {\n+        Object value = properties.get(key);\n+        if (value == null) {\n+            return defaultValue;\n+        } else if (value instanceof Boolean) {\n+            return (boolean)value;\n+        } else if (value instanceof String) {\n+            String text = ((String)value).trim();", "originalCommit": "1573e0d978e0c9b3ac71d6404a4e5a15d851b015", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4NjYyOA==", "url": "https://github.com/opensearch-project/security/pull/548#discussion_r452186628", "bodyText": "The only lower case \"true\" and capitalized \"True\" are supported (\"TRUE\" and \"tRue\" are not valid) the same way how Jackson default deserializer works.", "author": "vrozov", "createdAt": "2020-07-09T12:39:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY4OTc1Mg=="}], "type": "inlineReview", "revised_code": null}]}