{"pr_number": 761, "pr_title": "[IOTDB-443] Fix ReadOnlyMemChunk round float and double data incorrectly", "pr_createdAt": "2020-02-03T04:01:16Z", "pr_url": "https://github.com/apache/iotdb/pull/761", "timeline": [{"oid": "33a9604b0fde5a585ef7312687f707d1ef952ec6", "url": "https://github.com/apache/iotdb/commit/33a9604b0fde5a585ef7312687f707d1ef952ec6", "message": "[IOTDB-443] Fix ReadOnlyMemChunk round float and double data incorrectly", "committedDate": "2020-02-03T05:11:02Z", "type": "commit"}, {"oid": "3b211de55ab5b4ca28b4a953d0122ae95fe148d0", "url": "https://github.com/apache/iotdb/commit/3b211de55ab5b4ca28b4a953d0122ae95fe148d0", "message": "Rebase onto new_series_reader", "committedDate": "2020-02-03T05:44:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAyMzkwNQ==", "url": "https://github.com/apache/iotdb/pull/761#discussion_r374023905", "bodyText": "Hi, do not FORMAT this paragraph...", "author": "jixuan1989", "createdAt": "2020-02-03T10:25:09Z", "path": "server/src/main/java/org/apache/iotdb/db/engine/storagegroup/StorageGroupProcessor.java", "diffHunk": "@@ -86,23 +86,14 @@\n \n /**\n  * For sequence data, a StorageGroupProcessor has some TsFileProcessors, in which there is only one\n- * TsFileProcessor in the working status. <br/>\n- * <p>\n- * There are two situations to set the working TsFileProcessor to closing status:<br/>\n- * <p>\n- * (1) when inserting data into the TsFileProcessor, and the TsFileProcessor shouldFlush() (or\n- * shouldClose())<br/>\n- * <p>\n- * (2) someone calls waitForAllCurrentTsFileProcessorsClosed(). (up to now, only flush command from\n- * cli will call this method)<br/>\n- * <p>\n- * UnSequence data has the similar process as above.\n- * <p>\n- * When a sequence TsFileProcessor is submitted to be flushed, the updateLatestFlushTimeCallback()\n- * method will be called as a callback.<br/>\n- * <p>\n- * When a TsFileProcessor is closed, the closeUnsealedTsFileProcessor() method will be called as a\n- * callback.\n+ * TsFileProcessor in the working status. <br/> <p> There are two situations to set the working\n+ * TsFileProcessor to closing status:<br/> <p> (1) when inserting data into the TsFileProcessor, and\n+ * the TsFileProcessor shouldFlush() (or shouldClose())<br/> <p> (2) someone calls\n+ * waitForAllCurrentTsFileProcessorsClosed(). (up to now, only flush command from cli will call this\n+ * method)<br/> <p> UnSequence data has the similar process as above. <p> When a sequence\n+ * TsFileProcessor is submitted to be flushed, the updateLatestFlushTimeCallback() method will be\n+ * called as a callback.<br/> <p> When a TsFileProcessor is closed, the\n+ * closeUnsealedTsFileProcessor() method will be called as a callback.", "originalCommit": "3b211de55ab5b4ca28b4a953d0122ae95fe148d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA2MTU1Nw==", "url": "https://github.com/apache/iotdb/pull/761#discussion_r374061557", "bodyText": "Sorry my fault... I have reversed all formats like this.", "author": "samperson1997", "createdAt": "2020-02-03T11:53:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAyMzkwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "9a4ab54fd0380e98789021e5ee7319f5e85a1f42", "chunk": "diff --git a/server/src/main/java/org/apache/iotdb/db/engine/storagegroup/StorageGroupProcessor.java b/server/src/main/java/org/apache/iotdb/db/engine/storagegroup/StorageGroupProcessor.java\nindex 7171d3c619..611c29c508 100755\n--- a/server/src/main/java/org/apache/iotdb/db/engine/storagegroup/StorageGroupProcessor.java\n+++ b/server/src/main/java/org/apache/iotdb/db/engine/storagegroup/StorageGroupProcessor.java\n\n@@ -86,14 +86,23 @@ import static org.apache.iotdb.tsfile.common.constant.TsFileConstant.TSFILE_SUFF\n \n /**\n  * For sequence data, a StorageGroupProcessor has some TsFileProcessors, in which there is only one\n- * TsFileProcessor in the working status. <br/> <p> There are two situations to set the working\n- * TsFileProcessor to closing status:<br/> <p> (1) when inserting data into the TsFileProcessor, and\n- * the TsFileProcessor shouldFlush() (or shouldClose())<br/> <p> (2) someone calls\n- * waitForAllCurrentTsFileProcessorsClosed(). (up to now, only flush command from cli will call this\n- * method)<br/> <p> UnSequence data has the similar process as above. <p> When a sequence\n- * TsFileProcessor is submitted to be flushed, the updateLatestFlushTimeCallback() method will be\n- * called as a callback.<br/> <p> When a TsFileProcessor is closed, the\n- * closeUnsealedTsFileProcessor() method will be called as a callback.\n+ * TsFileProcessor in the working status. <br/>\n+ * <p>\n+ * There are two situations to set the working TsFileProcessor to closing status:<br/>\n+ * <p>\n+ * (1) when inserting data into the TsFileProcessor, and the TsFileProcessor shouldFlush() (or\n+ * shouldClose())<br/>\n+ * <p>\n+ * (2) someone calls waitForAllCurrentTsFileProcessorsClosed(). (up to now, only flush command from\n+ * cli will call this method)<br/>\n+ * <p>\n+ * UnSequence data has the similar process as above.\n+ * <p>\n+ * When a sequence TsFileProcessor is submitted to be flushed, the updateLatestFlushTimeCallback()\n+ * method will be called as a callback.<br/>\n+ * <p>\n+ * When a TsFileProcessor is closed, the closeUnsealedTsFileProcessor() method will be called as a\n+ * callback.\n  */\n public class StorageGroupProcessor {\n \n"}}, {"oid": "9a4ab54fd0380e98789021e5ee7319f5e85a1f42", "url": "https://github.com/apache/iotdb/commit/9a4ab54fd0380e98789021e5ee7319f5e85a1f42", "message": "Reverse the format", "committedDate": "2020-02-03T11:41:29Z", "type": "commit"}, {"oid": "3eb49d538b77ff8f146417ae35bfbfce591bfb39", "url": "https://github.com/apache/iotdb/commit/3eb49d538b77ff8f146417ae35bfbfce591bfb39", "message": "[IOTDB-443] Fix ReadOnlyMemChunk round float and double data incorrectly", "committedDate": "2020-02-03T11:55:06Z", "type": "commit"}, {"oid": "9c6084f4a731da0c3bc61937bb2ee196f47a5125", "url": "https://github.com/apache/iotdb/commit/9c6084f4a731da0c3bc61937bb2ee196f47a5125", "message": "Rebase onto new_series_reader", "committedDate": "2020-02-03T11:55:31Z", "type": "commit"}, {"oid": "aa462edddff3537722f8d08d0a424ec1ac7a392d", "url": "https://github.com/apache/iotdb/commit/aa462edddff3537722f8d08d0a424ec1ac7a392d", "message": "Reverse the format", "committedDate": "2020-02-03T11:55:31Z", "type": "commit"}, {"oid": "29a45a4c16696c3196956f109b21eecf7b96a516", "url": "https://github.com/apache/iotdb/commit/29a45a4c16696c3196956f109b21eecf7b96a516", "message": "Merge remote-tracking branch 'origin/jira_443' into jira443\n\n# Conflicts:\n#\tserver/src/main/java/org/apache/iotdb/db/engine/memtable/IMemTable.java", "committedDate": "2020-02-03T11:56:27Z", "type": "commit"}, {"oid": "c426f6a7cc60a6e5d2dd631cfc931cc29e164bce", "url": "https://github.com/apache/iotdb/commit/c426f6a7cc60a6e5d2dd631cfc931cc29e164bce", "message": "Resolve conflicts", "committedDate": "2020-02-03T11:58:16Z", "type": "commit"}, {"oid": "7d586cf541cc05f53a7b260b95221758f58c2f91", "url": "https://github.com/apache/iotdb/commit/7d586cf541cc05f53a7b260b95221758f58c2f91", "message": "Resolve conflicts", "committedDate": "2020-02-03T12:01:43Z", "type": "commit"}]}