{"pr_number": 3274, "pr_title": "Added default value for detect connected devices in V2 API", "pr_createdAt": "2020-03-10T10:09:49Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3274", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIxMzQxNQ==", "url": "https://github.com/telstra/open-kilda/pull/3274#discussion_r390213415", "bodyText": "Can we have no-args constructor in DetectConnectedDevicesV2?", "author": "surabujin", "createdAt": "2020-03-10T10:16:36Z", "path": "src-java/northbound-service/northbound-api/src/main/java/org/openkilda/northbound/dto/v2/flows/FlowEndpointV2.java", "diffHunk": "@@ -33,5 +34,6 @@\n     private Integer portNumber;\n     private int vlanId;\n     @NonNull\n-    private DetectConnectedDevicesV2 detectConnectedDevices;\n+    @Default\n+    private DetectConnectedDevicesV2 detectConnectedDevices = new DetectConnectedDevicesV2(false, false);", "originalCommit": "2afdf1d196ba60d6417431a999bed39d99ad8bc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIyNDc0OQ==", "url": "https://github.com/telstra/open-kilda/pull/3274#discussion_r390224749", "bodyText": "I think yes. It will be good to have it", "author": "niksv", "createdAt": "2020-03-10T10:37:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIxMzQxNQ=="}], "type": "inlineReview", "revised_code": {"commit": "a45cf8c1807576c713243a493c0df99164ff664c", "chunk": "diff --git a/src-java/northbound-service/northbound-api/src/main/java/org/openkilda/northbound/dto/v2/flows/FlowEndpointV2.java b/src-java/northbound-service/northbound-api/src/main/java/org/openkilda/northbound/dto/v2/flows/FlowEndpointV2.java\nindex 732fc2f83..99f1f170c 100644\n--- a/src-java/northbound-service/northbound-api/src/main/java/org/openkilda/northbound/dto/v2/flows/FlowEndpointV2.java\n+++ b/src-java/northbound-service/northbound-api/src/main/java/org/openkilda/northbound/dto/v2/flows/FlowEndpointV2.java\n\n@@ -19,21 +19,35 @@ import org.openkilda.model.SwitchId;\n \n import com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy;\n import com.fasterxml.jackson.databind.annotation.JsonNaming;\n-import lombok.AllArgsConstructor;\n import lombok.Builder;\n-import lombok.Builder.Default;\n import lombok.Data;\n import lombok.NonNull;\n \n @Data\n @Builder\n-@AllArgsConstructor\n @JsonNaming(value = SnakeCaseStrategy.class)\n public class FlowEndpointV2 {\n     private SwitchId switchId;\n     private Integer portNumber;\n     private int vlanId;\n     @NonNull\n-    @Default\n-    private DetectConnectedDevicesV2 detectConnectedDevices = new DetectConnectedDevicesV2(false, false);\n+    private DetectConnectedDevicesV2 detectConnectedDevices;\n+\n+    public FlowEndpointV2(SwitchId switchId,\n+                          Integer portNumber,\n+                          int vlanId,\n+                          DetectConnectedDevicesV2 detectConnectedDevices) {\n+        this.switchId = switchId;\n+        this.portNumber = portNumber;\n+        this.vlanId = vlanId;\n+        setDetectConnectedDevices(detectConnectedDevices);\n+    }\n+\n+    public void setDetectConnectedDevices(DetectConnectedDevicesV2 detectConnectedDevices) {\n+        if (detectConnectedDevices == null) {\n+            this.detectConnectedDevices = new DetectConnectedDevicesV2();\n+        } else {\n+            this.detectConnectedDevices = detectConnectedDevices;\n+        }\n+    }\n }\n"}}, {"oid": "a45cf8c1807576c713243a493c0df99164ff664c", "url": "https://github.com/telstra/open-kilda/commit/a45cf8c1807576c713243a493c0df99164ff664c", "message": "Added default value for detect connected devices in V2 API", "committedDate": "2020-03-10T11:02:56Z", "type": "forcePushed"}, {"oid": "4243557925807be44f7ce5fde9e41a1d07d612ff", "url": "https://github.com/telstra/open-kilda/commit/4243557925807be44f7ce5fde9e41a1d07d612ff", "message": "Added default value for detect connected devices in V2 API", "committedDate": "2020-03-10T11:13:58Z", "type": "forcePushed"}, {"oid": "02bcd3f45438e27c754dcd73741b71d178d9d86c", "url": "https://github.com/telstra/open-kilda/commit/02bcd3f45438e27c754dcd73741b71d178d9d86c", "message": "Added default value for detect connected devices in V2 API", "committedDate": "2020-03-10T11:49:14Z", "type": "commit"}, {"oid": "02bcd3f45438e27c754dcd73741b71d178d9d86c", "url": "https://github.com/telstra/open-kilda/commit/02bcd3f45438e27c754dcd73741b71d178d9d86c", "message": "Added default value for detect connected devices in V2 API", "committedDate": "2020-03-10T11:49:14Z", "type": "forcePushed"}]}