{"pr_number": 3617, "pr_title": "Add a filter by the flow status for the flow get operation", "pr_createdAt": "2020-07-09T12:03:34Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3617", "timeline": [{"oid": "b618e135ffff7beef802a9d44a0a6e9fe49b828c", "url": "https://github.com/telstra/open-kilda/commit/b618e135ffff7beef802a9d44a0a6e9fe49b828c", "message": "Added a filter by the flow status for the flow get operation", "committedDate": "2020-07-14T09:51:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI0MDY1NA==", "url": "https://github.com/telstra/open-kilda/pull/3617#discussion_r454240654", "bodyText": "why is it or?", "author": "timofei-durakov", "createdAt": "2020-07-14T09:54:11Z", "path": "src-java/kilda-persistence-neo4j/src/main/java/org/openkilda/persistence/repositories/impl/Neo4jFlowRepository.java", "diffHunk": "@@ -330,6 +331,14 @@ public boolean exists(String flowId) {\n         return loadAll(flowStatusDown.or(flowStatusDegraded));\n     }\n \n+    @Override\n+    public Collection<Flow> findByFlowFilter(FlowFilter flowFilter) {\n+        Filters filters = new Filters();\n+        Optional.ofNullable(flowFilter.getFlowStatus()).ifPresent(flowStatus ->\n+                filters.or(new Filter(STATUS_PROPERTY_NAME, ComparisonOperator.EQUALS, flowStatus)));", "originalCommit": "b618e135ffff7beef802a9d44a0a6e9fe49b828c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI0NjA0Nw==", "url": "https://github.com/telstra/open-kilda/pull/3617#discussion_r454246047", "bodyText": "Fixed", "author": "dpoltavets", "createdAt": "2020-07-14T10:03:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI0MDY1NA=="}], "type": "inlineReview", "revised_code": {"commit": "1f4f515cc1eaa8ace6e7990c2cda79600add7387", "chunk": "diff --git a/src-java/kilda-persistence-neo4j/src/main/java/org/openkilda/persistence/repositories/impl/Neo4jFlowRepository.java b/src-java/kilda-persistence-neo4j/src/main/java/org/openkilda/persistence/repositories/impl/Neo4jFlowRepository.java\nindex 324f317c7..f9eeda189 100644\n--- a/src-java/kilda-persistence-neo4j/src/main/java/org/openkilda/persistence/repositories/impl/Neo4jFlowRepository.java\n+++ b/src-java/kilda-persistence-neo4j/src/main/java/org/openkilda/persistence/repositories/impl/Neo4jFlowRepository.java\n\n@@ -335,7 +335,7 @@ public class Neo4jFlowRepository extends Neo4jGenericRepository<Flow> implements\n     public Collection<Flow> findByFlowFilter(FlowFilter flowFilter) {\n         Filters filters = new Filters();\n         Optional.ofNullable(flowFilter.getFlowStatus()).ifPresent(flowStatus ->\n-                filters.or(new Filter(STATUS_PROPERTY_NAME, ComparisonOperator.EQUALS, flowStatus)));\n+                filters.and(new Filter(STATUS_PROPERTY_NAME, ComparisonOperator.EQUALS, flowStatus)));\n         return loadAll(filters, FetchStrategy.DIRECT_RELATIONS);\n     }\n \n"}}, {"oid": "1f4f515cc1eaa8ace6e7990c2cda79600add7387", "url": "https://github.com/telstra/open-kilda/commit/1f4f515cc1eaa8ace6e7990c2cda79600add7387", "message": "Added a filter by the flow status for the flow get operation", "committedDate": "2020-07-14T10:03:09Z", "type": "commit"}, {"oid": "1f4f515cc1eaa8ace6e7990c2cda79600add7387", "url": "https://github.com/telstra/open-kilda/commit/1f4f515cc1eaa8ace6e7990c2cda79600add7387", "message": "Added a filter by the flow status for the flow get operation", "committedDate": "2020-07-14T10:03:09Z", "type": "forcePushed"}]}