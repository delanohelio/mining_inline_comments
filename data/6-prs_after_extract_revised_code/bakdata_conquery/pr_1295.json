{"pr_number": 1295, "pr_title": "order auth entities in admin end", "pr_createdAt": "2020-07-24T08:44:38Z", "pr_url": "https://github.com/bakdata/conquery/pull/1295", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5Mjc3NA==", "url": "https://github.com/bakdata/conquery/pull/1295#discussion_r462892774", "bodyText": "Comparator", "author": "awildturtok", "createdAt": "2020-07-30T10:08:45Z", "path": "backend/src/main/java/com/bakdata/conquery/models/auth/entities/PermissionOwner.java", "diffHunk": "@@ -112,5 +138,14 @@ public void setPermissions(MasterMetaStorage storage, Set<ConqueryPermission> pe\n \t * Update this instance in the {@link MasterMetaStorage}.\n \t */\n \tprotected abstract void updateStorage(MasterMetaStorage storage);\n+\t\n+\t\n+\t@Override\n+\tpublic int compareTo(PermissionOwner<?> o) {\n+\t\treturn ComparisonChain.start()", "originalCommit": "5cefba4c74110ea4160bedc79f279299997c21e1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5Mjk1OQ==", "url": "https://github.com/bakdata/conquery/pull/1295#discussion_r462892959", "bodyText": "und als private static", "author": "awildturtok", "createdAt": "2020-07-30T10:09:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5Mjc3NA=="}], "type": "inlineReview", "revised_code": {"commit": "c67cd808265f680ea0f05710daf89503b1f0aa92", "chunk": "diff --git a/backend/src/main/java/com/bakdata/conquery/models/auth/entities/PermissionOwner.java b/backend/src/main/java/com/bakdata/conquery/models/auth/entities/PermissionOwner.java\nindex 3c199de3c..dd2bc92b6 100644\n--- a/backend/src/main/java/com/bakdata/conquery/models/auth/entities/PermissionOwner.java\n+++ b/backend/src/main/java/com/bakdata/conquery/models/auth/entities/PermissionOwner.java\n\n@@ -141,11 +141,11 @@ public abstract class PermissionOwner<T extends PermissionOwnerId<? extends Perm\n \t\n \t\n \t@Override\n-\tpublic int compareTo(PermissionOwner<?> o) {\n-\t\treturn ComparisonChain.start()\n-\t\t\t.compare(label, o.label)\n-\t\t\t.compare(getId().toString(), o.getId().toString())\n-\t\t\t.result();\n+\tpublic int compareTo(PermissionOwner<?> other) {\n+\t\treturn Comparator\n+\t\t\t.<PermissionOwner<?>, String>comparing(PermissionOwner::getLabel)\n+\t\t\t.thenComparing(po -> po.getId().toString())\n+\t\t\t.compare(this, other);\n \t}\n \n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5MzE3MA==", "url": "https://github.com/bakdata/conquery/pull/1295#discussion_r462893170", "bodyText": "SortedSet", "author": "awildturtok", "createdAt": "2020-07-30T10:09:27Z", "path": "backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java", "diffHunk": "@@ -255,8 +256,8 @@ public void deleteRole(RoleId roleId) throws JSONException {\n \t\tAuthorizationHelper.deleteRole(storage, roleId);\n \t}\n \n-\tpublic List<Role> getAllRoles() {\n-\t\treturn new ArrayList<>(storage.getAllRoles());\n+\tpublic TreeSet<Role> getAllRoles() {", "originalCommit": "5cefba4c74110ea4160bedc79f279299997c21e1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "071276ab4b07ed8c9364a7c7825480d346b7dd1a", "chunk": "diff --git a/backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java b/backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java\nindex 3a0f13dd8..fc3c4f2c9 100644\n--- a/backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java\n+++ b/backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java\n\n@@ -256,8 +244,8 @@ public class AdminProcessor {\n \t\tAuthorizationHelper.deleteRole(storage, roleId);\n \t}\n \n-\tpublic TreeSet<Role> getAllRoles() {\n-\t\treturn new TreeSet<>(storage.getAllRoles());\n+\tpublic List<Role> getAllRoles() {\n+\t\treturn new ArrayList<>(storage.getAllRoles());\n \t}\n \n \tpublic List<User> getUsers(Role role) {\n"}}, {"oid": "071276ab4b07ed8c9364a7c7825480d346b7dd1a", "url": "https://github.com/bakdata/conquery/commit/071276ab4b07ed8c9364a7c7825480d346b7dd1a", "message": "lifts up permission owner fields in class hierarchy and makes them comparable", "committedDate": "2020-08-03T07:03:24Z", "type": "commit"}, {"oid": "2ca10225050a46047f2d05173a477075e8d8a8ba", "url": "https://github.com/bakdata/conquery/commit/2ca10225050a46047f2d05173a477075e8d8a8ba", "message": "writes out ordered lists of users, groups and roles to the template", "committedDate": "2020-08-03T07:03:24Z", "type": "commit"}, {"oid": "c67cd808265f680ea0f05710daf89503b1f0aa92", "url": "https://github.com/bakdata/conquery/commit/c67cd808265f680ea0f05710daf89503b1f0aa92", "message": "simplify comparison", "committedDate": "2020-08-03T07:03:24Z", "type": "commit"}, {"oid": "a3322e8d0fb9e169e8e3a114ae61dfa52a0f7cf6", "url": "https://github.com/bakdata/conquery/commit/a3322e8d0fb9e169e8e3a114ae61dfa52a0f7cf6", "message": "make comparator static", "committedDate": "2020-08-03T07:03:25Z", "type": "commit"}, {"oid": "a3322e8d0fb9e169e8e3a114ae61dfa52a0f7cf6", "url": "https://github.com/bakdata/conquery/commit/a3322e8d0fb9e169e8e3a114ae61dfa52a0f7cf6", "message": "make comparator static", "committedDate": "2020-08-03T07:03:25Z", "type": "forcePushed"}, {"oid": "6e7afc4137171924e90863424a76e8e81c1f5dd6", "url": "https://github.com/bakdata/conquery/commit/6e7afc4137171924e90863424a76e8e81c1f5dd6", "message": "makes getAllRoles return type more abstract", "committedDate": "2020-08-03T07:26:41Z", "type": "commit"}, {"oid": "4153cb9de415dd781d8fff3d3bb62094e3c0d5b4", "url": "https://github.com/bakdata/conquery/commit/4153cb9de415dd781d8fff3d3bb62094e3c0d5b4", "message": "Merge branch 'develop' into feature/order-auth-entities-in-admin-end", "committedDate": "2020-09-02T12:32:05Z", "type": "commit"}]}