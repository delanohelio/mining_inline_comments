{"pr_number": 1189, "pr_title": "Feature/form config fix", "pr_createdAt": "2020-05-12T16:10:21Z", "pr_url": "https://github.com/bakdata/conquery/pull/1189", "timeline": [{"oid": "db5681a8d4bf1716ba0ef76ea1643b6d7ad1b015", "url": "https://github.com/bakdata/conquery/commit/db5681a8d4bf1716ba0ef76ea1643b6d7ad1b015", "message": "connects form config storage", "committedDate": "2020-05-11T12:05:18Z", "type": "commit"}, {"oid": "1779117ba76dc2fef7ace25d7c3063f809898852", "url": "https://github.com/bakdata/conquery/commit/1779117ba76dc2fef7ace25d7c3063f809898852", "message": "injects form config processor into resource", "committedDate": "2020-05-11T12:05:34Z", "type": "commit"}, {"oid": "6fd07695e163b1e493eedc7c2385ce21043a454e", "url": "https://github.com/bakdata/conquery/commit/6fd07695e163b1e493eedc7c2385ce21043a454e", "message": "adds creationTime", "committedDate": "2020-05-12T10:55:50Z", "type": "commit"}, {"oid": "f84f6f24f3c526aacf906ade2f2b7c9f19659280", "url": "https://github.com/bakdata/conquery/commit/f84f6f24f3c526aacf906ade2f2b7c9f19659280", "message": "fixes label override", "committedDate": "2020-05-12T13:06:34Z", "type": "commit"}, {"oid": "db9789c22759db0beca0e999db324bb189fa9269", "url": "https://github.com/bakdata/conquery/commit/db9789c22759db0beca0e999db324bb189fa9269", "message": "allows to patch the value member of a formConfig", "committedDate": "2020-05-12T16:00:36Z", "type": "commit"}, {"oid": "3794811409f1ff7fbac89f40a84164df0c82163a", "url": "https://github.com/bakdata/conquery/commit/3794811409f1ff7fbac89f40a84164df0c82163a", "message": "Merge branch 'develop' into feature/form-config-fix\n\n# Conflicts:\n#\tbackend/src/main/java/com/bakdata/conquery/apiv1/StoredQueriesProcessor.java", "committedDate": "2020-05-12T16:01:53Z", "type": "commit"}, {"oid": "883cc346a973ee63e915ccd7dcbc5c8b5a110bea", "url": "https://github.com/bakdata/conquery/commit/883cc346a973ee63e915ccd7dcbc5c8b5a110bea", "message": "Merge 3794811409f1ff7fbac89f40a84164df0c82163a into 3567834601be40d3e38a5b1ef8293ecc0c41778b", "committedDate": "2020-05-12T16:10:22Z", "type": "commit"}, {"oid": "74d3b4ffca7ed7d7ea35ecb3cf954eac1f4eac58", "url": "https://github.com/bakdata/conquery/commit/74d3b4ffca7ed7d7ea35ecb3cf954eac1f4eac58", "message": "automatic update to docs", "committedDate": "2020-05-12T16:12:13Z", "type": "commit"}, {"oid": "c251bec720687156a705b3a4df5eeac46db4a4c2", "url": "https://github.com/bakdata/conquery/commit/c251bec720687156a705b3a4df5eeac46db4a4c2", "message": "uses field name constants in tests", "committedDate": "2020-05-12T16:20:30Z", "type": "commit"}, {"oid": "ff041d803fb87b45d55fe421e33fb25d9f9a0bd9", "url": "https://github.com/bakdata/conquery/commit/ff041d803fb87b45d55fe421e33fb25d9f9a0bd9", "message": "Merge c251bec720687156a705b3a4df5eeac46db4a4c2 into 3567834601be40d3e38a5b1ef8293ecc0c41778b", "committedDate": "2020-05-12T16:20:43Z", "type": "commit"}, {"oid": "1cbb27397167ce70d1b35dbc865318c29c50b947", "url": "https://github.com/bakdata/conquery/commit/1cbb27397167ce70d1b35dbc865318c29c50b947", "message": "automatic update to docs", "committedDate": "2020-05-12T16:22:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI1MjM2NA==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r424252364", "bodyText": "\ud83e\udd14 \ud83d\ude2c", "author": "Kadrian", "createdAt": "2020-05-13T08:11:11Z", "path": "backend/src/main/java/com/bakdata/conquery/models/auth/permissions/Ability.java", "diffHunk": "@@ -8,15 +8,18 @@\n \tREAD,\n \tCREATE,\n \n-\t// Query Specific\n+\t// Query specific\n \tTAG,\n \tCANCEL,\n \tLABEL,\n \tSHARE,\n \n-\t// Dataset Specific\n+\t// Dataset specific\n \tDOWNLOAD,\n-\tPRESERVE_ID\n+\tPRESERVE_ID,\n+\t\n+\t// FormConfig specific\n+\tMODIFY", "originalCommit": "1cbb27397167ce70d1b35dbc865318c29c50b947", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI2Nzc2MQ==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r424267761", "bodyText": "Just curious: Why is a new permission necessary? If it really is, how about calling it MODIFY_FORM_CONFIG and removing the comment?", "author": "Kadrian", "createdAt": "2020-05-13T08:36:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI1MjM2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzMjEwNA==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r426532104", "bodyText": "The new Permission is the FormConfigPermission. This is just one of the abilities, that is available for that type.\nA stricter differentiation between Meta-Data of an object (creation.-time, tags, ...) and the actual content might be a better approach to also simplify the Permission and their abilities.", "author": "thoniTUB", "createdAt": "2020-05-18T10:39:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI1MjM2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU0MDM5OA==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r426540398", "bodyText": "Okay, so: Why is the new \"FormConfigPermission\" necessary?\nAnd about the naming of the abilities here, it seems a little odd that we have TAG LABEL SHARE for queries, but for formConfigs it's called MODIFY, no?", "author": "Kadrian", "createdAt": "2020-05-18T10:55:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI1MjM2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU2Mzc1Ng==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r426563756", "bodyText": "We have a Permission for each type of protected Resource (Query, Dataset, Formular ...).\nThe abilities you mentioned also apply to the FormConfigPermission, those were initially only for the QueryPermission. However the possiblity to modify the content of an Query does not exsists at the moment.\nThe Abilities are probably a bit to fine grain at this point.", "author": "thoniTUB", "createdAt": "2020-05-18T11:41:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI1MjM2NA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMjg5NQ==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r424502895", "bodyText": "Sollte das dann nicht ins Autodoc Projekt? kP wie die dependencies sind", "author": "awildturtok", "createdAt": "2020-05-13T14:54:27Z", "path": "backend/src/main/java/com/bakdata/conquery/util/VariableDefaultValue.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package com.bakdata.conquery.util;\n+\n+import static java.lang.annotation.ElementType.FIELD;\n+import static java.lang.annotation.RetentionPolicy.RUNTIME;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.Target;\n+\n+\n+/**\n+ * Marker annotation for the AutoDoc project to signal that this fields default value is not stable because it is e.g. randomly generated or the current time.", "originalCommit": "1cbb27397167ce70d1b35dbc865318c29c50b947", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ0MzY0Mg==", "url": "https://github.com/bakdata/conquery/pull/1189#discussion_r426443642", "bodyText": "Ich gebe dir recht. Das sollten wir in einem Projekt-Refactor machen, in dem z.B. diese Annotation in einem extra Projekt ist, das von beiden (AutoDoc und Backend) importiert wird", "author": "thoniTUB", "createdAt": "2020-05-18T08:12:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMjg5NQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "f305ef7ec74c54be6a5b69baa8a5d507661e45f0", "url": "https://github.com/bakdata/conquery/commit/f305ef7ec74c54be6a5b69baa8a5d507661e45f0", "message": "Merge branch 'develop' into feature/form-config-fix", "committedDate": "2020-05-14T06:42:58Z", "type": "commit"}, {"oid": "fc5ff527d5990691fbe7214afe2e8e11e0d7b26c", "url": "https://github.com/bakdata/conquery/commit/fc5ff527d5990691fbe7214afe2e8e11e0d7b26c", "message": "Merge branch 'develop' into feature/form-config-fix", "committedDate": "2020-05-18T12:57:11Z", "type": "commit"}]}