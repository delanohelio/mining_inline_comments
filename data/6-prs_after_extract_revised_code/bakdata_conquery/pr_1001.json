{"pr_number": 1001, "pr_title": "check download permission on all dataset references in submitted query", "pr_createdAt": "2020-01-23T09:40:45Z", "pr_url": "https://github.com/bakdata/conquery/pull/1001", "timeline": [{"oid": "e9f493eda2a63f3cf2451bc5ce60a98fb2e95c7f", "url": "https://github.com/bakdata/conquery/commit/e9f493eda2a63f3cf2451bc5ce60a98fb2e95c7f", "message": "adds ids collection visitor to find all dataset ids in a query", "committedDate": "2020-01-23T08:37:39Z", "type": "commit"}, {"oid": "62d474712eb41119ef375373741c9c2f80d337c1", "url": "https://github.com/bakdata/conquery/commit/62d474712eb41119ef375373741c9c2f80d337c1", "message": "adds checks to introspect queries on dataset permissions", "committedDate": "2020-01-23T16:01:28Z", "type": "commit"}, {"oid": "d9df838b9ea055f8b431a270ad4e526529f100f6", "url": "https://github.com/bakdata/conquery/commit/d9df838b9ea055f8b431a270ad4e526529f100f6", "message": "Merge branch 'develop' into feature/check-download-permission-on-all-datasets", "committedDate": "2020-01-27T07:34:12Z", "type": "commit"}, {"oid": "7fbff543fc9c080626b8d2806327884623e46787", "url": "https://github.com/bakdata/conquery/commit/7fbff543fc9c080626b8d2806327884623e46787", "message": "code factor", "committedDate": "2020-01-27T07:44:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIzMzAzOA==", "url": "https://github.com/bakdata/conquery/pull/1001#discussion_r371233038", "bodyText": "Visitable<T extends Visitable<?>> {\n\nvoid visit(Consumer<T> visitor);\n\n}", "author": "awildturtok", "createdAt": "2020-01-27T13:16:42Z", "path": "backend/src/main/java/com/bakdata/conquery/models/query/Visitable.java", "diffHunk": "@@ -2,10 +2,8 @@\n \n import java.util.function.Consumer;\n \n-import com.bakdata.conquery.models.query.concept.CQElement;\n-\n public interface Visitable {", "originalCommit": "7fbff543fc9c080626b8d2806327884623e46787", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIzNDEzOA==", "url": "https://github.com/bakdata/conquery/pull/1001#discussion_r371234138", "bodyText": "NamespacedIdHolding/Having", "author": "awildturtok", "createdAt": "2020-01-27T13:19:18Z", "path": "backend/src/main/java/com/bakdata/conquery/models/query/concept/HasNamespacedIds.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package com.bakdata.conquery.models.query.concept;\n+\n+import java.util.Set;\n+\n+import com.bakdata.conquery.models.execution.ManagedExecution;\n+import com.bakdata.conquery.models.identifiable.ids.NamespacedId;\n+\n+/**\n+ * Classes that contain {@link NamespacedId}s on their first level should implement this interface.\n+ * It can be used by the Visitor pattern that is implemented by {@link ManagedExecution} to collect all ids\n+ * that were supplied by a User before the structure was initialized.\n+ * These ids are than used to e.g. check permissions.\n+ */\n+public interface HasNamespacedIds {", "originalCommit": "7fbff543fc9c080626b8d2806327884623e46787", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "06910c89111f8b0f1f18b5dfec8dd22df0164d8c", "chunk": "diff --git a/backend/src/main/java/com/bakdata/conquery/models/query/concept/HasNamespacedIds.java b/backend/src/main/java/com/bakdata/conquery/models/query/concept/NamespacedIdHolding.java\nsimilarity index 93%\nrename from backend/src/main/java/com/bakdata/conquery/models/query/concept/HasNamespacedIds.java\nrename to backend/src/main/java/com/bakdata/conquery/models/query/concept/NamespacedIdHolding.java\nindex cd788f83a..94671d94a 100644\n--- a/backend/src/main/java/com/bakdata/conquery/models/query/concept/HasNamespacedIds.java\n+++ b/backend/src/main/java/com/bakdata/conquery/models/query/concept/NamespacedIdHolding.java\n\n@@ -11,7 +11,7 @@ import com.bakdata.conquery.models.identifiable.ids.NamespacedId;\n  * that were supplied by a User before the structure was initialized.\n  * These ids are than used to e.g. check permissions.\n  */\n-public interface HasNamespacedIds {\n+public interface NamespacedIdHolding {\n \n \tSet<NamespacedId> collectNamespacedIds();\n }\n"}}, {"oid": "06910c89111f8b0f1f18b5dfec8dd22df0164d8c", "url": "https://github.com/bakdata/conquery/commit/06910c89111f8b0f1f18b5dfec8dd22df0164d8c", "message": "review changes", "committedDate": "2020-01-27T14:20:34Z", "type": "commit"}, {"oid": "a989df89d7f9de0d574b9421e1b81b6c246b971c", "url": "https://github.com/bakdata/conquery/commit/a989df89d7f9de0d574b9421e1b81b6c246b971c", "message": "Merge branch 'develop' into feature/check-download-permission-on-all-datasets", "committedDate": "2020-01-27T14:21:45Z", "type": "commit"}]}