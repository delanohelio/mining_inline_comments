{"pr_number": 1158, "pr_title": "Feature/grafana names cleanup", "pr_createdAt": "2020-04-14T10:14:09Z", "pr_url": "https://github.com/bakdata/conquery/pull/1158", "timeline": [{"oid": "5dfeed9f5b11a8ad53466122b1ff6b8e5b965668", "url": "https://github.com/bakdata/conquery/commit/5dfeed9f5b11a8ad53466122b1ff6b8e5b965668", "message": "fixed Metrics naming to have better separation", "committedDate": "2020-04-14T10:07:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0MzU3Nw==", "url": "https://github.com/bakdata/conquery/pull/1158#discussion_r408043577", "bodyText": "Ich w\u00fcrde immer noch Constanten in den Pfade der Metriken benutzen", "author": "thoniTUB", "createdAt": "2020-04-14T10:48:48Z", "path": "backend/src/main/java/com/bakdata/conquery/metrics/ActiveUsersFilter.java", "diffHunk": "@@ -54,7 +54,7 @@ public void incrementPrimaryGroupCount(User user) {\n \t\tif(primaryGroup.get().getMembers().size() <= ConqueryConfig.getInstance().getMetricsConfig().getGroupTrackingMinSize())\n \t\t\treturn;\n \n-\t\tSharedMetricRegistries.getDefault().counter(MetricRegistry.name(primaryGroup.get().getName(), \"active\")).inc();", "originalCommit": "5dfeed9f5b11a8ad53466122b1ff6b8e5b965668", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA4MTUwMg==", "url": "https://github.com/bakdata/conquery/pull/1158#discussion_r408081502", "bodyText": "ich schau mal ob es das besser macht", "author": "awildturtok", "createdAt": "2020-04-14T12:02:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0MzU3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "82291da7f440f4c317b575d7dc4197129752767b", "chunk": "diff --git a/backend/src/main/java/com/bakdata/conquery/metrics/ActiveUsersFilter.java b/backend/src/main/java/com/bakdata/conquery/metrics/ActiveUsersFilter.java\nindex 9bd7c25ab..a0620024c 100644\n--- a/backend/src/main/java/com/bakdata/conquery/metrics/ActiveUsersFilter.java\n+++ b/backend/src/main/java/com/bakdata/conquery/metrics/ActiveUsersFilter.java\n\n@@ -54,7 +55,7 @@ public class ActiveUsersFilter implements ContainerRequestFilter {\n \t\tif(primaryGroup.get().getMembers().size() <= ConqueryConfig.getInstance().getMetricsConfig().getGroupTrackingMinSize())\n \t\t\treturn;\n \n-\t\tSharedMetricRegistries.getDefault().counter(MetricRegistry.name(\"users\", primaryGroup.get().getName(), \"active\")).inc();\n+\t\tSharedMetricRegistries.getDefault().counter(MetricRegistry.name(USERS, primaryGroup.get().getName(), ACTIVE)).inc();\n \t}\n \n \tpublic void decrementPrimaryGroupCount(User user) {\n"}}, {"oid": "82291da7f440f4c317b575d7dc4197129752767b", "url": "https://github.com/bakdata/conquery/commit/82291da7f440f4c317b575d7dc4197129752767b", "message": "refactor names into constants", "committedDate": "2020-04-14T12:08:11Z", "type": "commit"}]}