{"pr_number": 1466, "pr_title": "Undo CDateBitSets", "pr_createdAt": "2020-12-02T09:38:31Z", "pr_url": "https://github.com/bakdata/conquery/pull/1466", "timeline": [{"oid": "2e7ec307a61e183142107fcb663e1f880ac27106", "url": "https://github.com/bakdata/conquery/commit/2e7ec307a61e183142107fcb663e1f880ac27106", "message": "Revert \"Merge pull request #1323 from bakdata/feature/dateset-as-bitmap\"\n\nThis reverts commit 388a7375ce3a1041e2924cce44e649a857d6b6f4, reversing\nchanges made to c0a031a3ede18cbe99fe5c7c1736d46e8f522b7f.", "committedDate": "2020-12-02T08:54:39Z", "type": "commit"}, {"oid": "074b7ccedf35066a9146a584f866e0c8c4b935c9", "url": "https://github.com/bakdata/conquery/commit/074b7ccedf35066a9146a584f866e0c8c4b935c9", "message": "More revert fixes", "committedDate": "2020-12-02T08:57:33Z", "type": "commit"}, {"oid": "8dd9536e3bee3c1451750d4423867910fcebf564", "url": "https://github.com/bakdata/conquery/commit/8dd9536e3bee3c1451750d4423867910fcebf564", "message": "automatic update to docs", "committedDate": "2020-12-02T09:41:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMwMDYwMw==", "url": "https://github.com/bakdata/conquery/pull/1466#discussion_r534300603", "bodyText": "Kann dateRestriction null sein?", "author": "thoniTUB", "createdAt": "2020-12-02T16:22:29Z", "path": "backend/src/main/java/com/bakdata/conquery/models/query/queryplan/aggregators/specific/SpecialDateUnion.java", "diffHunk": "@@ -33,27 +31,25 @@ public void nextTable(QueryExecutionContext ctx, TableId table) {\n \n \t@Override\n \tpublic void acceptEvent(Bucket bucket, int event) {\n-\t\tif (currentColumn == null) {\n-\t\t\tif(!dateRestriction.isEmpty()) {\n-\t\t\t\tgetResultSet().addAll(dateRestriction);\n-\t\t\t}\n-\t\t\treturn;\n-\t\t}\n+\t\tif (currentColumn != null && bucket.has(event, currentColumn)) {\n+\t\t\tCDateRange range = bucket.getAsDateRange(event, currentColumn);\n \n-\t\tCDateRange range = bucket.getAsDateRange(event, currentColumn);\n-\n-\t\tif (range == null) {\n+\t\t\tCDateSet add = CDateSet.create(dateRestriction);", "originalCommit": "8dd9536e3bee3c1451750d4423867910fcebf564", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDg5MTY3Nw==", "url": "https://github.com/bakdata/conquery/pull/1466#discussion_r534891677", "bodyText": "Ne, die ist dann all", "author": "awildturtok", "createdAt": "2020-12-03T08:17:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMwMDYwMw=="}], "type": "inlineReview", "revised_code": null}]}