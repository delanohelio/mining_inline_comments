{"pr_number": 8497, "pr_title": "Add pagination and sortBy functionality to getRegistries resource", "pr_createdAt": "2020-05-13T08:07:24Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8497", "timeline": [{"oid": "ccbb6bb2abc90ebe0e7f6de9ec2c273732f7a595", "url": "https://github.com/wso2/carbon-apimgt/commit/ccbb6bb2abc90ebe0e7f6de9ec2c273732f7a595", "message": "Fix formating issues", "committedDate": "2020-05-13T08:19:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NDA4Mw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424274083", "bodyText": "let's name it generically. ENDPOINT_REG_NAME", "author": "fazlan-nazeem", "createdAt": "2020-05-13T08:45:52Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.util/src/main/java/org/wso2/carbon/apimgt/rest/api/util/RestApiConstants.java", "diffHunk": "@@ -206,6 +206,9 @@\n     public static final String SORT_BY_THROTTLING_TIER = \"throttlingTier\";\n     public static final String SORT_BY_STATUS = \"status\";\n \n+    //Constants for endpoint registry sortBy\n+    public static final String SORT_BY_ENDPOINT_REG_NAME = \"registryName\";", "originalCommit": "290a97d90fc00e875d7f7dd27f9488bfc3a74150", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NTU4NQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424275585", "bodyText": "we can add this as well to EndpointRegistryConstants.java?", "author": "fazlan-nazeem", "createdAt": "2020-05-13T08:48:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NDA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NjczNg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424276736", "bodyText": "We can. I added it here because it is a REST API level parameter name", "author": "ChamodDamitha", "createdAt": "2020-05-13T08:50:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NDA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3ODEzMQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424278131", "bodyText": "ok, let's keep it here.", "author": "fazlan-nazeem", "createdAt": "2020-05-13T08:52:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NDA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI5MjYxMA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424292610", "bodyText": "updated the constant name", "author": "ChamodDamitha", "createdAt": "2020-05-13T09:15:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI3NDA4Mw=="}], "type": "inlineReview", "revised_code": {"commit": "cd28620ca836ac26df91a3e62637fa5fe74c6c23", "chunk": "diff --git a/components/apimgt/org.wso2.carbon.apimgt.rest.api.util/src/main/java/org/wso2/carbon/apimgt/rest/api/util/RestApiConstants.java b/components/apimgt/org.wso2.carbon.apimgt.rest.api.util/src/main/java/org/wso2/carbon/apimgt/rest/api/util/RestApiConstants.java\nindex 6e6a5a4b121..50b9dec9627 100644\n--- a/components/apimgt/org.wso2.carbon.apimgt.rest.api.util/src/main/java/org/wso2/carbon/apimgt/rest/api/util/RestApiConstants.java\n+++ b/components/apimgt/org.wso2.carbon.apimgt.rest.api.util/src/main/java/org/wso2/carbon/apimgt/rest/api/util/RestApiConstants.java\n\n@@ -207,7 +207,7 @@ public final class RestApiConstants {\n     public static final String SORT_BY_STATUS = \"status\";\n \n     //Constants for endpoint registry sortBy\n-    public static final String SORT_BY_ENDPOINT_REG_NAME = \"registryName\";\n+    public static final String ENDPOINT_REG_NAME = \"registryName\";\n \n     //default error messages\n     public static final String STATUS_FORBIDDEN_MESSAGE_DEFAULT = \"Forbidden\";\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI4MDk1Nw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424280957", "bodyText": "would this work for other sortBy fields except ID and regName?", "author": "fazlan-nazeem", "createdAt": "2020-05-13T08:56:42Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java", "diffHunk": "@@ -98,4 +100,18 @@ public static EndpointRegistryEntry fromDTOToRegistryEntry(RegistryEntryDTO regi\n         registryEntry.setRegistryId(registryId);\n         return registryEntry;\n     }\n+\n+    /***\n+     * Converts the sort by object according to the input\n+     *\n+     * @param sortBy\n+     * @return Updated sort by field\n+     */\n+    public static String getRegistriesSortByField(String sortBy) {", "originalCommit": "ccbb6bb2abc90ebe0e7f6de9ec2c273732f7a595", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI4MjE2OA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r424282168", "bodyText": "Currently, we have not given any other sorting fields in the REST API. Once we add them, we need to update this method", "author": "ChamodDamitha", "createdAt": "2020-05-13T08:58:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI4MDk1Nw=="}], "type": "inlineReview", "revised_code": {"commit": "cd28620ca836ac26df91a3e62637fa5fe74c6c23", "chunk": "diff --git a/components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java b/components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java\nindex df8c66744fe..26efcb9e7e1 100644\n--- a/components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java\n+++ b/components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java\n\n@@ -107,9 +107,9 @@ public class EndpointRegistryMappingUtils {\n      * @param sortBy\n      * @return Updated sort by field\n      */\n-    public static String getRegistriesSortByField(String sortBy) {\n+    public static String getRegistriesSortByField (String sortBy) {\n         String updatedSortBy = EndpointRegistryConstants.COLUMN_ID; // default sortBy field\n-        if (RestApiConstants.SORT_BY_ENDPOINT_REG_NAME.equals(sortBy)) {\n+        if (RestApiConstants.ENDPOINT_REG_NAME.equals(sortBy)) {\n             updatedSortBy = EndpointRegistryConstants.COLUMN_REG_NAME;\n         }\n         return updatedSortBy;\n"}}, {"oid": "cd28620ca836ac26df91a3e62637fa5fe74c6c23", "url": "https://github.com/wso2/carbon-apimgt/commit/cd28620ca836ac26df91a3e62637fa5fe74c6c23", "message": "Add pagination and sortBy functionality to getRegistries resource", "committedDate": "2020-05-13T09:13:47Z", "type": "commit"}, {"oid": "f123d0ce89ce0057e5b171de6325f633337d1330", "url": "https://github.com/wso2/carbon-apimgt/commit/f123d0ce89ce0057e5b171de6325f633337d1330", "message": "Update endpoint registry queries with constants", "committedDate": "2020-05-13T09:14:00Z", "type": "commit"}, {"oid": "c9d435ae3d4ee73b67d164574fbad1ba865373a4", "url": "https://github.com/wso2/carbon-apimgt/commit/c9d435ae3d4ee73b67d164574fbad1ba865373a4", "message": "Fix formating issues", "committedDate": "2020-05-13T09:14:00Z", "type": "commit"}, {"oid": "c9d435ae3d4ee73b67d164574fbad1ba865373a4", "url": "https://github.com/wso2/carbon-apimgt/commit/c9d435ae3d4ee73b67d164574fbad1ba865373a4", "message": "Fix formating issues", "committedDate": "2020-05-13T09:14:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA2NzU1Nw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r461067557", "bodyText": "Seems some formatting issue", "author": "shilmyhasan", "createdAt": "2020-07-27T17:55:25Z", "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/EndpointRegistry.java", "diffHunk": "@@ -92,7 +98,8 @@ EndpointRegistryInfo getEndpointRegistryByUUID(String registryId, String tenantD\n \n     /**\n      * Updates an existing endpoint registry\n-     * @param registryId uuid of the endpoint registry which needs to be updated\n+     *\n+     * @param registryId           uuid of the endpoint registry which needs to be updated", "originalCommit": "c9d435ae3d4ee73b67d164574fbad1ba865373a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgzMjQwNA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8497#discussion_r478832404", "bodyText": "No. It is aligned with the next param @param endpointRegistryInfo. large gap is because the second param is long", "author": "ChamodDamitha", "createdAt": "2020-08-28T05:05:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA2NzU1Nw=="}], "type": "inlineReview", "revised_code": null}]}