{"pr_number": 9068, "pr_title": "MINOR: INFO log4j when request re-join", "pr_createdAt": "2020-07-23T23:33:43Z", "pr_url": "https://github.com/apache/kafka/pull/9068", "timeline": [{"oid": "05ddb3be068c2648ed72ae2b04c269c87a901dfb", "url": "https://github.com/apache/kafka/commit/05ddb3be068c2648ed72ae2b04c269c87a901dfb", "message": "first fix", "committedDate": "2020-07-23T23:30:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2ODAwMw==", "url": "https://github.com/apache/kafka/pull/9068#discussion_r460368003", "bodyText": "nit: fix alignment.", "author": "abbccdda", "createdAt": "2020-07-25T05:30:39Z", "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java", "diffHunk": "@@ -770,12 +770,18 @@ public boolean rejoinNeededOrPending() {\n         // we need to rejoin if we performed the assignment and metadata has changed;\n         // also for those owned-but-no-longer-existed partitions we should drop them as lost\n         if (assignmentSnapshot != null && !assignmentSnapshot.matches(metadataSnapshot)) {\n+            log.info(\"Requesting to re-join the group and trigger rebalance since the assignment metadata has changed from {} to {}\",\n+                    assignmentSnapshot, metadataSnapshot);\n+\n             requestRejoin();\n             return true;\n         }\n \n         // we need to join if our subscription has changed since the last join\n         if (joinedSubscription != null && !joinedSubscription.equals(subscriptions.subscription())) {\n+            log.info(\"Requesting to re-join the group and trigger rebalance since the subscription has changed from {} to {}\",\n+                    joinedSubscription, subscriptions.subscription());", "originalCommit": "05ddb3be068c2648ed72ae2b04c269c87a901dfb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5edcb4aca811a640f83027fdf805911f9e9702c2", "chunk": "diff --git a/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java b/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java\nindex 12657b85be..fd58a60740 100644\n--- a/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java\n+++ b/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java\n\n@@ -780,7 +780,7 @@ public final class ConsumerCoordinator extends AbstractCoordinator {\n         // we need to join if our subscription has changed since the last join\n         if (joinedSubscription != null && !joinedSubscription.equals(subscriptions.subscription())) {\n             log.info(\"Requesting to re-join the group and trigger rebalance since the subscription has changed from {} to {}\",\n-                    joinedSubscription, subscriptions.subscription());\n+                joinedSubscription, subscriptions.subscription());\n \n             requestRejoin();\n             return true;\n"}}, {"oid": "858847dd0fa2fb385751bf03334d96f57726f0f2", "url": "https://github.com/apache/kafka/commit/858847dd0fa2fb385751bf03334d96f57726f0f2", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into KMinor-leader-rejoin-log4j", "committedDate": "2020-07-26T23:39:39Z", "type": "commit"}, {"oid": "5edcb4aca811a640f83027fdf805911f9e9702c2", "url": "https://github.com/apache/kafka/commit/5edcb4aca811a640f83027fdf805911f9e9702c2", "message": "github comments", "committedDate": "2020-07-26T23:40:48Z", "type": "commit"}]}