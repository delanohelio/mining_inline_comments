{"pr_number": 8029, "pr_title": "KAFKA-8147: Add changelog topic configuration to KTable suppress", "pr_createdAt": "2020-02-01T05:54:32Z", "pr_url": "https://github.com/apache/kafka/pull/8029", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMwMjkwNA==", "url": "https://github.com/apache/kafka/pull/8029#discussion_r380302904", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * Disable the changelog for store built by this {@link StoreBuilder}.\n          \n          \n            \n                     * Disable the changelog for this suppression's internal buffer.", "author": "vvcephei", "createdAt": "2020-02-17T17:28:29Z", "path": "streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java", "diffHunk": "@@ -118,6 +119,25 @@ static StrictBufferConfig unbounded() {\n          * duplicate results downstream, but does not promise to eliminate them.\n          */\n         EagerBufferConfig emitEarlyWhenFull();\n+\n+        /**\n+         * Disable the changelog for store built by this {@link StoreBuilder}.", "originalCommit": "08d14a6b742b9f52d642d74bc716c7e96e8e0033", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "81ce750f9f9beb835d5026f4a0dd6885c0398b3f", "chunk": "diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java b/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java\nindex c3066e9306..060b949f33 100644\n--- a/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java\n+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java\n\n@@ -121,8 +121,8 @@ public interface Suppressed<K> extends NamedOperation<Suppressed<K>> {\n         EagerBufferConfig emitEarlyWhenFull();\n \n         /**\n-         * Disable the changelog for store built by this {@link StoreBuilder}.\n-         * This will turn off fault-tolerance for your store.\n+         * Disable the changelog for this suppression's internal buffer.\n+         * This will turn off fault-tolerance for the suppression, and will result in data loss in the event of a rebalance.\n          * By default the changelog is enabled.\n          * @return this\n          */\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMwMzIxNA==", "url": "https://github.com/apache/kafka/pull/8029#discussion_r380303214", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * This will turn off fault-tolerance for your store.\n          \n          \n            \n                     * This will turn off fault-tolerance for the suppression, and will result in data loss in the event of a rebalance.\n          \n      \n    \n    \n  \n\nThis isn't a \"store\", but rather a buffer internally used for suppression. Also, it seems appropriate to be a little more dire in our warning here because the internal nature of the buffer may make it less obvious to people what the downside of disabling this changelog is.", "author": "vvcephei", "createdAt": "2020-02-17T17:29:21Z", "path": "streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java", "diffHunk": "@@ -118,6 +119,25 @@ static StrictBufferConfig unbounded() {\n          * duplicate results downstream, but does not promise to eliminate them.\n          */\n         EagerBufferConfig emitEarlyWhenFull();\n+\n+        /**\n+         * Disable the changelog for store built by this {@link StoreBuilder}.\n+         * This will turn off fault-tolerance for your store.", "originalCommit": "08d14a6b742b9f52d642d74bc716c7e96e8e0033", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "81ce750f9f9beb835d5026f4a0dd6885c0398b3f", "chunk": "diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java b/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java\nindex c3066e9306..060b949f33 100644\n--- a/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java\n+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/Suppressed.java\n\n@@ -121,8 +121,8 @@ public interface Suppressed<K> extends NamedOperation<Suppressed<K>> {\n         EagerBufferConfig emitEarlyWhenFull();\n \n         /**\n-         * Disable the changelog for store built by this {@link StoreBuilder}.\n-         * This will turn off fault-tolerance for your store.\n+         * Disable the changelog for this suppression's internal buffer.\n+         * This will turn off fault-tolerance for the suppression, and will result in data loss in the event of a rebalance.\n          * By default the changelog is enabled.\n          * @return this\n          */\n"}}, {"oid": "81ce750f9f9beb835d5026f4a0dd6885c0398b3f", "url": "https://github.com/apache/kafka/commit/81ce750f9f9beb835d5026f4a0dd6885c0398b3f", "message": "KAFKA-8147: Add changelog topic configuration to KTable suppress", "committedDate": "2020-02-22T00:28:27Z", "type": "commit"}, {"oid": "81ce750f9f9beb835d5026f4a0dd6885c0398b3f", "url": "https://github.com/apache/kafka/commit/81ce750f9f9beb835d5026f4a0dd6885c0398b3f", "message": "KAFKA-8147: Add changelog topic configuration to KTable suppress", "committedDate": "2020-02-22T00:28:27Z", "type": "forcePushed"}]}