{"pr_number": 9628, "pr_title": "KAFKA-10747: Implement APIs for altering and describing IP connection rate quotas", "pr_createdAt": "2020-11-20T07:34:54Z", "pr_url": "https://github.com/apache/kafka/pull/9628", "timeline": [{"oid": "296330b879b3458fd10c780cf10f3ce3a3d0e932", "url": "https://github.com/apache/kafka/commit/296330b879b3458fd10c780cf10f3ce3a3d0e932", "message": "Alter and describe IP entity with client quota API", "committedDate": "2020-11-30T17:59:02Z", "type": "commit"}, {"oid": "cf888a9ac80f85ecb924cd41372c6f67a4d328d3", "url": "https://github.com/apache/kafka/commit/cf888a9ac80f85ecb924cd41372c6f67a4d328d3", "message": "Adds IP entity to config command", "committedDate": "2020-11-30T18:04:21Z", "type": "commit"}, {"oid": "cf888a9ac80f85ecb924cd41372c6f67a4d328d3", "url": "https://github.com/apache/kafka/commit/cf888a9ac80f85ecb924cd41372c6f67a4d328d3", "message": "Adds IP entity to config command", "committedDate": "2020-11-30T18:04:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTE1Mw==", "url": "https://github.com/apache/kafka/pull/9628#discussion_r532909153", "bodyText": "Consider making lower-case for consistency, but otherwise not a big issue, as I see that's how it was proposed in the KIP.", "author": "bdbyrne", "createdAt": "2020-11-30T21:17:42Z", "path": "clients/src/main/java/org/apache/kafka/common/quota/ClientQuotaEntity.java", "diffHunk": "@@ -32,6 +32,7 @@\n      */\n     public static final String USER = \"user\";\n     public static final String CLIENT_ID = \"client-id\";\n+    public static final String IP = \"IP\";", "originalCommit": "cf888a9ac80f85ecb924cd41372c6f67a4d328d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYwMDQzMQ==", "url": "https://github.com/apache/kafka/pull/9628#discussion_r533600431", "bodyText": "I have no objection to editing the KIP to changing this (and other uses of IP) to lower case, I just made it upper case because the original iteration of IP quotas in KIP-612 had IP in upper-case.\n@apovzner @dajac for any thoughts on upper vs lower.\nFWIW, the kafka-configs help output is better ordered when IP is in lower-case due to how it sorts flags.", "author": "splett2", "createdAt": "2020-12-01T17:40:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTE1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIxODE5Mw==", "url": "https://github.com/apache/kafka/pull/9628#discussion_r534218193", "bodyText": "I would also make it lower-case for consistency.", "author": "dajac", "createdAt": "2020-12-02T14:40:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTE1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU3MDQ0NA==", "url": "https://github.com/apache/kafka/pull/9628#discussion_r534570444", "bodyText": "as I mentioned in my other comment, agreed with using lower-case.", "author": "apovzner", "createdAt": "2020-12-03T00:15:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTE1Mw=="}], "type": "inlineReview", "revised_code": {"commit": "f9e14cc25e5f8003e108202d09c90cf20d8ab179", "chunk": "diff --git a/clients/src/main/java/org/apache/kafka/common/quota/ClientQuotaEntity.java b/clients/src/main/java/org/apache/kafka/common/quota/ClientQuotaEntity.java\nindex 94fc858293..dfad50917a 100644\n--- a/clients/src/main/java/org/apache/kafka/common/quota/ClientQuotaEntity.java\n+++ b/clients/src/main/java/org/apache/kafka/common/quota/ClientQuotaEntity.java\n\n@@ -32,7 +32,7 @@ public class ClientQuotaEntity {\n      */\n     public static final String USER = \"user\";\n     public static final String CLIENT_ID = \"client-id\";\n-    public static final String IP = \"IP\";\n+    public static final String IP = \"ip\";\n \n     /**\n      * Constructs a quota entity for the given types and names. If a name is null,\n"}}, {"oid": "cdd2364e2c538de77ab28d8da54a5f333a128f2c", "url": "https://github.com/apache/kafka/commit/cdd2364e2c538de77ab28d8da54a5f333a128f2c", "message": "Address feedback, fix test", "committedDate": "2020-12-01T18:18:33Z", "type": "commit"}, {"oid": "1d5d69aa7f18ca931feb7d50bb30881b7b7a6f57", "url": "https://github.com/apache/kafka/commit/1d5d69aa7f18ca931feb7d50bb30881b7b7a6f57", "message": "more verbose error message", "committedDate": "2020-12-03T00:10:38Z", "type": "commit"}, {"oid": "f9e14cc25e5f8003e108202d09c90cf20d8ab179", "url": "https://github.com/apache/kafka/commit/f9e14cc25e5f8003e108202d09c90cf20d8ab179", "message": "IP => ip", "committedDate": "2020-12-03T21:25:39Z", "type": "commit"}, {"oid": "a59b1c850b0577d64aab5cd7286f29ce205d97fd", "url": "https://github.com/apache/kafka/commit/a59b1c850b0577d64aab5cd7286f29ce205d97fd", "message": "address feedback, refactor ConfigCommandTest", "committedDate": "2020-12-07T23:00:41Z", "type": "commit"}, {"oid": "6bee345cb763c303215fcd5fe073ba7ca65f95fa", "url": "https://github.com/apache/kafka/commit/6bee345cb763c303215fcd5fe073ba7ca65f95fa", "message": "More thorough verification of IP entity input", "committedDate": "2020-12-08T00:19:08Z", "type": "commit"}, {"oid": "1b0ec2a3ca79dc8da5908c41afc4ef87d2288d84", "url": "https://github.com/apache/kafka/commit/1b0ec2a3ca79dc8da5908c41afc4ef87d2288d84", "message": "address feedback", "committedDate": "2020-12-08T16:39:45Z", "type": "commit"}, {"oid": "a781ee70fd166c1e0773da21112a2dcd721b658a", "url": "https://github.com/apache/kafka/commit/a781ee70fd166c1e0773da21112a2dcd721b658a", "message": "address feedback", "committedDate": "2020-12-09T17:21:55Z", "type": "commit"}]}