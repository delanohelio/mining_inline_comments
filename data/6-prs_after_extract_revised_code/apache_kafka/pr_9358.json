{"pr_number": 9358, "pr_title": "MINOR: Refactor unit tests around RocksDBConfigSetter", "pr_createdAt": "2020-10-01T03:09:35Z", "pr_url": "https://github.com/apache/kafka/pull/9358", "timeline": [{"oid": "200304e7031ed4c55031238af2e53c32f1bb589e", "url": "https://github.com/apache/kafka/commit/200304e7031ed4c55031238af2e53c32f1bb589e", "message": "refactor unit test", "committedDate": "2020-10-01T03:05:38Z", "type": "commit"}, {"oid": "59be3045b794811aad7ed5ae9db5a50828e79b77", "url": "https://github.com/apache/kafka/commit/59be3045b794811aad7ed5ae9db5a50828e79b77", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into KXXX-auto-configure-resetter", "committedDate": "2020-10-01T03:07:34Z", "type": "commit"}, {"oid": "8ac47b3f20d58f8580a60c60d89be86e9c769f46", "url": "https://github.com/apache/kafka/commit/8ac47b3f20d58f8580a60c60d89be86e9c769f46", "message": "remove imports", "committedDate": "2020-10-01T03:09:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk1OTgyOQ==", "url": "https://github.com/apache/kafka/pull/9358#discussion_r497959829", "bodyText": "This is to illustrate the usage of passing in any user-customized configurable value or shared objects to the setter. @rodesai @brianbushree", "author": "guozhangwang", "createdAt": "2020-10-01T03:10:20Z", "path": "streams/src/test/java/org/apache/kafka/streams/state/internals/RocksDBStoreTest.java", "diffHunk": "@@ -297,9 +298,21 @@ public void shouldNotThrowExceptionOnRestoreWhenThereIsPreExistingRocksDbFiles()\n     public void shouldCallRocksDbConfigSetter() {\n         MockRocksDbConfigSetter.called = false;\n \n+        final Properties props = StreamsTestUtils.getStreamsConfig();", "originalCommit": "8ac47b3f20d58f8580a60c60d89be86e9c769f46", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "52fcd66d6b57b72845fba1ee008d4ca4133b2255", "chunk": "diff --git a/streams/src/test/java/org/apache/kafka/streams/state/internals/RocksDBStoreTest.java b/streams/src/test/java/org/apache/kafka/streams/state/internals/RocksDBStoreTest.java\nindex 4c27c69d69..934b6ed6e8 100644\n--- a/streams/src/test/java/org/apache/kafka/streams/state/internals/RocksDBStoreTest.java\n+++ b/streams/src/test/java/org/apache/kafka/streams/state/internals/RocksDBStoreTest.java\n\n@@ -302,11 +302,11 @@ public class RocksDBStoreTest {\n         props.put(StreamsConfig.ROCKSDB_CONFIG_SETTER_CLASS_CONFIG, MockRocksDbConfigSetter.class);\n         final Object param = new Object();\n         props.put(\"abc.def\", param);\n-        InternalMockProcessorContext context = new InternalMockProcessorContext(\n-                dir,\n-                Serdes.String(),\n-                Serdes.String(),\n-                new StreamsConfig(props)\n+        final InternalMockProcessorContext context = new InternalMockProcessorContext(\n+            dir,\n+            Serdes.String(),\n+            Serdes.String(),\n+            new StreamsConfig(props)\n         );\n \n         rocksDBStore.init(context, rocksDBStore);\n"}}, {"oid": "a48982ec5fb407547d3c3e905bdec9bba2dba7bb", "url": "https://github.com/apache/kafka/commit/a48982ec5fb407547d3c3e905bdec9bba2dba7bb", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into KXXX-auto-configure-resetter", "committedDate": "2020-10-01T23:19:35Z", "type": "commit"}, {"oid": "52fcd66d6b57b72845fba1ee008d4ca4133b2255", "url": "https://github.com/apache/kafka/commit/52fcd66d6b57b72845fba1ee008d4ca4133b2255", "message": "fix checkstyle", "committedDate": "2020-10-01T23:42:31Z", "type": "commit"}, {"oid": "b0da6c54190252ab30ebb7284f96fdc59babb226", "url": "https://github.com/apache/kafka/commit/b0da6c54190252ab30ebb7284f96fdc59babb226", "message": "rebase from trunk", "committedDate": "2020-10-06T03:05:13Z", "type": "commit"}]}