{"pr_number": 9536, "pr_title": "MINOR: KIP-584: Remove admin client facility to read features from controller", "pr_createdAt": "2020-10-30T06:17:14Z", "pr_url": "https://github.com/apache/kafka/pull/9536", "timeline": [{"oid": "9186d9eefd6e5889fc51c4d5a1a9918f1f53a3ed", "url": "https://github.com/apache/kafka/commit/9186d9eefd6e5889fc51c4d5a1a9918f1f53a3ed", "message": "MINOR: KIP-584: Remove admin client facility to read features from controller", "committedDate": "2020-10-30T06:11:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI4MjYwNQ==", "url": "https://github.com/apache/kafka/pull/9536#discussion_r515282605", "bodyText": "This method doesn't seem to throw exception anymore?", "author": "junrao", "createdAt": "2020-10-30T17:56:06Z", "path": "clients/src/test/java/org/apache/kafka/clients/admin/KafkaAdminClientTest.java", "diffHunk": "@@ -4096,24 +4096,16 @@ public void testDescribeFeaturesSuccess() throws Exception {\n     }\n \n     @Test\n-    public void testDescribeFeaturesHandleNotControllerException() throws Exception {\n+    public void testDescribeFeaturesFailure() throws Exception {", "originalCommit": "9186d9eefd6e5889fc51c4d5a1a9918f1f53a3ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMxNzgwOQ==", "url": "https://github.com/apache/kafka/pull/9536#discussion_r515317809", "bodyText": "Good point. I've addressed it now.", "author": "kowshik", "createdAt": "2020-10-30T19:05:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI4MjYwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "8ff9bfa8c571e48f0500c122f7db2334673a0959", "chunk": "diff --git a/clients/src/test/java/org/apache/kafka/clients/admin/KafkaAdminClientTest.java b/clients/src/test/java/org/apache/kafka/clients/admin/KafkaAdminClientTest.java\nindex e20fd04eba..1d2dd4ae23 100644\n--- a/clients/src/test/java/org/apache/kafka/clients/admin/KafkaAdminClientTest.java\n+++ b/clients/src/test/java/org/apache/kafka/clients/admin/KafkaAdminClientTest.java\n\n@@ -4096,7 +4096,7 @@ public class KafkaAdminClientTest {\n     }\n \n     @Test\n-    public void testDescribeFeaturesFailure() throws Exception {\n+    public void testDescribeFeaturesFailure() {\n         try (final AdminClientUnitTestEnv env = mockClientEnv()) {\n             env.kafkaClient().prepareResponse(\n                 body -> body instanceof ApiVersionsRequest,\n"}}, {"oid": "8ff9bfa8c571e48f0500c122f7db2334673a0959", "url": "https://github.com/apache/kafka/commit/8ff9bfa8c571e48f0500c122f7db2334673a0959", "message": "Address comments from Jun", "committedDate": "2020-10-30T19:04:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc0OTQzOA==", "url": "https://github.com/apache/kafka/pull/9536#discussion_r515749438", "bodyText": "how about adding @Override?", "author": "chia7712", "createdAt": "2020-11-02T05:40:16Z", "path": "clients/src/main/java/org/apache/kafka/clients/admin/KafkaAdminClient.java", "diffHunk": "@@ -4353,11 +4353,8 @@ void handleFailure(Throwable throwable) {\n     public DescribeFeaturesResult describeFeatures(final DescribeFeaturesOptions options) {", "originalCommit": "8ff9bfa8c571e48f0500c122f7db2334673a0959", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc2OTM1Nw==", "url": "https://github.com/apache/kafka/pull/9536#discussion_r515769357", "bodyText": "Done.", "author": "kowshik", "createdAt": "2020-11-02T06:54:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc0OTQzOA=="}], "type": "inlineReview", "revised_code": {"commit": "8d86f216d9d68ac478393214e0e73f9f31d82fb8", "chunk": "diff --git a/clients/src/main/java/org/apache/kafka/clients/admin/KafkaAdminClient.java b/clients/src/main/java/org/apache/kafka/clients/admin/KafkaAdminClient.java\nindex 7110a6b1d8..469e4f11ec 100644\n--- a/clients/src/main/java/org/apache/kafka/clients/admin/KafkaAdminClient.java\n+++ b/clients/src/main/java/org/apache/kafka/clients/admin/KafkaAdminClient.java\n\n@@ -4350,6 +4350,7 @@ public class KafkaAdminClient extends AdminClient {\n                 .hi(password, salt, iterations);\n     }\n \n+    @Override\n     public DescribeFeaturesResult describeFeatures(final DescribeFeaturesOptions options) {\n         final KafkaFutureImpl<FeatureMetadata> future = new KafkaFutureImpl<>();\n         final long now = time.milliseconds();\n"}}, {"oid": "8d86f216d9d68ac478393214e0e73f9f31d82fb8", "url": "https://github.com/apache/kafka/commit/8d86f216d9d68ac478393214e0e73f9f31d82fb8", "message": "Address comments from Chia", "committedDate": "2020-11-02T06:54:03Z", "type": "commit"}]}