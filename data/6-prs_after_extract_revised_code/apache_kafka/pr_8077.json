{"pr_number": 8077, "pr_title": "KAFKA-9583: use topic-partitions grouped by node to send OffsetsForLeaderEpoch requests", "pr_createdAt": "2020-02-10T05:30:31Z", "pr_url": "https://github.com/apache/kafka/pull/8077", "timeline": [{"oid": "c3cc8e82872f6fbb8c495d23bd178376e0591706", "url": "https://github.com/apache/kafka/commit/c3cc8e82872f6fbb8c495d23bd178376e0591706", "message": "use topic-partitions grouped by node to send ListOffset requests", "committedDate": "2020-02-10T05:19:56Z", "type": "commit"}, {"oid": "a89c06804cc7232988615d385b22ebd80899c39c", "url": "https://github.com/apache/kafka/commit/a89c06804cc7232988615d385b22ebd80899c39c", "message": "use the correct type of request for error message", "committedDate": "2020-02-10T06:18:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIzMjc4MA==", "url": "https://github.com/apache/kafka/pull/8077#discussion_r393232780", "bodyText": "Good catch! This was missed during the initial implementation", "author": "mumrah", "createdAt": "2020-03-16T18:32:32Z", "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/Fetcher.java", "diffHunk": "@@ -800,7 +800,7 @@ private void validateOffsetsAsync(Map<TopicPartition, SubscriptionState.FetchPos\n \n             subscriptions.setNextAllowedRetry(fetchPostitions.keySet(), time.milliseconds() + requestTimeoutMs);\n \n-            RequestFuture<OffsetsForLeaderEpochClient.OffsetForEpochResult> future = offsetsForLeaderEpochClient.sendAsyncRequest(node, partitionsToValidate);\n+            RequestFuture<OffsetsForLeaderEpochClient.OffsetForEpochResult> future = offsetsForLeaderEpochClient.sendAsyncRequest(node, fetchPostitions);", "originalCommit": "a89c06804cc7232988615d385b22ebd80899c39c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwODgzMg==", "url": "https://github.com/apache/kafka/pull/8077#discussion_r393908832", "bodyText": "Thanks for the review! I\u2019m not sure what are the next steps, but how should I get this PR merged?", "author": "andyfangdz", "createdAt": "2020-03-17T19:09:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIzMjc4MA=="}], "type": "inlineReview", "revised_code": null}]}