{"pr_number": 2085, "pr_title": "add retry for intermittent test failure", "pr_createdAt": "2020-12-04T17:24:00Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2085", "timeline": [{"oid": "66a91e9cbb954bbe57464516627910d6cbcba899", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/66a91e9cbb954bbe57464516627910d6cbcba899", "message": "add retry for intermittent test failure", "committedDate": "2020-12-03T20:57:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI5ODIzOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2085#discussion_r536298239", "bodyText": "We should document how long it will wait for the existence of the file.", "author": "sankarpn", "createdAt": "2020-12-04T18:34:14Z", "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItParameterizedDomain.java", "diffHunk": "@@ -1423,4 +1383,45 @@ private File createScriptToKillServer() throws IOException {\n     killServerScript.setExecutable(true, false);\n     return killServerScript;\n   }\n+\n+  /**\n+   * Check whether a file exists in a pod in the given namespace.\n+   *\n+   * @param namespace the Kubernetes namespace that the pod is in\n+   * @param podName the name of the Kubernetes pod in which the command is expected to run\n+   * @param fileName the filename to check\n+   * @return true if the file exists, otherwise return false\n+   */\n+  private Callable<Boolean> fileExistsInPod(String namespace, String podName, String fileName) {\n+    return () -> {\n+      return doesFileExistInPod(namespace, podName, fileName);\n+    };\n+  }\n+\n+  /**\n+   * Wait for file exists in the pod in the given namespace.", "originalCommit": "66a91e9cbb954bbe57464516627910d6cbcba899", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a46e7846bbf2b89c212ae6b4ccc599fc13fd3fa5", "chunk": "diff --git a/integration-tests/src/test/java/oracle/weblogic/kubernetes/ItParameterizedDomain.java b/integration-tests/src/test/java/oracle/weblogic/kubernetes/ItParameterizedDomain.java\nindex 2c862a89c7..fbc332c51d 100644\n--- a/integration-tests/src/test/java/oracle/weblogic/kubernetes/ItParameterizedDomain.java\n+++ b/integration-tests/src/test/java/oracle/weblogic/kubernetes/ItParameterizedDomain.java\n\n@@ -1399,7 +1399,7 @@ class ItParameterizedDomain {\n   }\n \n   /**\n-   * Wait for file exists in the pod in the given namespace.\n+   * Wait for file existing in the pod in the given namespace up to 1 minute.\n    * @param namespace the Kubernetes namespace that the pod is in\n    * @param podName the name of the Kubernetes pod in which the command is expected to run\n    * @param fileName the filename to check\n"}}, {"oid": "a46e7846bbf2b89c212ae6b4ccc599fc13fd3fa5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a46e7846bbf2b89c212ae6b4ccc599fc13fd3fa5", "message": "address Sankar and Pani's comments", "committedDate": "2020-12-04T19:47:53Z", "type": "commit"}, {"oid": "ff17a3f7d0692ac57e68235c0ef95849e2536bd1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ff17a3f7d0692ac57e68235c0ef95849e2536bd1", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls86353", "committedDate": "2020-12-04T22:08:29Z", "type": "commit"}, {"oid": "125153334946d305fc9805a0741954d04dd89529", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/125153334946d305fc9805a0741954d04dd89529", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls86353", "committedDate": "2020-12-07T17:33:57Z", "type": "commit"}]}