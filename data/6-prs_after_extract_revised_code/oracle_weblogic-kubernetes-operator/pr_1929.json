{"pr_number": 1929, "pr_title": "Mob refactoring", "pr_createdAt": "2020-09-17T17:33:47Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1929", "timeline": [{"oid": "7a47b6a8b2741ff0da88af24ab78c2ae12a1b08f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7a47b6a8b2741ff0da88af24ab78c2ae12a1b08f", "message": "Expand unit test coverage", "committedDate": "2020-09-09T23:55:41Z", "type": "commit"}, {"oid": "71a0644b41026d7bbdc3b089525d5da9324e74b2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/71a0644b41026d7bbdc3b089525d5da9324e74b2", "message": "startPodWatcher", "committedDate": "2020-09-11T17:01:01Z", "type": "commit"}, {"oid": "cb8983c252e345c2b265bfd55f98bc913cfa99e4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cb8983c252e345c2b265bfd55f98bc913cfa99e4", "message": "more watcher methods", "committedDate": "2020-09-11T17:24:04Z", "type": "commit"}, {"oid": "0e8d0956b94d16c6e2050d6fb007b6eeb4bfafa9", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0e8d0956b94d16c6e2050d6fb007b6eeb4bfafa9", "message": "ConfigMapAfter refactor", "committedDate": "2020-09-11T17:59:41Z", "type": "commit"}, {"oid": "e53d3c7b37c2fc3e1aaa9bc9b2ae920f443f2e7e", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e53d3c7b37c2fc3e1aaa9bc9b2ae920f443f2e7e", "message": "WIP", "committedDate": "2020-09-11T18:18:39Z", "type": "commit"}, {"oid": "0e539ff9ce05edf6444d0eaf5859aa604b611830", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0e539ff9ce05edf6444d0eaf5859aa604b611830", "message": "finish start watcher methods", "committedDate": "2020-09-11T18:29:30Z", "type": "commit"}, {"oid": "99da34fa1a31339c4e5ff72a31dc5e2ec8828248", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/99da34fa1a31339c4e5ff72a31dc5e2ec8828248", "message": "Merge branch 'develop' into mob_refactoring", "committedDate": "2020-09-14T14:27:06Z", "type": "commit"}, {"oid": "408d1752b27e7235fddb04f1c6535d7d04bda5b8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/408d1752b27e7235fddb04f1c6535d7d04bda5b8", "message": "resolve merge conflicts", "committedDate": "2020-09-14T14:28:25Z", "type": "commit"}, {"oid": "a5590e7c02aad694f8e45000eafbbdac518340b8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a5590e7c02aad694f8e45000eafbbdac518340b8", "message": "DomainPresenceInfos and DefaultResponseStep changes", "committedDate": "2020-09-14T16:57:41Z", "type": "commit"}, {"oid": "834eb4e9e14969c43fb945f4fc49db1ae2dbc94a", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/834eb4e9e14969c43fb945f4fc49db1ae2dbc94a", "message": "isolated domain presence info map", "committedDate": "2020-09-14T17:17:33Z", "type": "commit"}, {"oid": "eb614b8ea18852eea2dc2be0b656f89a64d82c65", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/eb614b8ea18852eea2dc2be0b656f89a64d82c65", "message": "refactoring changes", "committedDate": "2020-09-14T17:38:30Z", "type": "commit"}, {"oid": "293df0b05ea2b11784494d5f213596dd5139ea70", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/293df0b05ea2b11784494d5f213596dd5139ea70", "message": "PodListStep refactor", "committedDate": "2020-09-14T17:47:33Z", "type": "commit"}, {"oid": "136f10cf03282521bce1e49774d66530faf40a38", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/136f10cf03282521bce1e49774d66530faf40a38", "message": "generify", "committedDate": "2020-09-14T18:12:59Z", "type": "commit"}, {"oid": "fb9e9f386ab8a39d278546790cfe706c996e21f6", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fb9e9f386ab8a39d278546790cfe706c996e21f6", "message": "refactoring", "committedDate": "2020-09-14T18:28:43Z", "type": "commit"}, {"oid": "0b143b8edfc5120c29b49aa073eda3484611ec03", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0b143b8edfc5120c29b49aa073eda3484611ec03", "message": "move common methods up", "committedDate": "2020-09-15T16:21:50Z", "type": "commit"}, {"oid": "98ece48a56619b6331b92c51a055542cb222f2ea", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/98ece48a56619b6331b92c51a055542cb222f2ea", "message": "refactoring and bug fix", "committedDate": "2020-09-15T16:59:56Z", "type": "commit"}, {"oid": "1339a95e68da337a13636b88ad4231899e9545a0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1339a95e68da337a13636b88ad4231899e9545a0", "message": "Add namespace to DomainPresenceInfos", "committedDate": "2020-09-15T17:26:15Z", "type": "commit"}, {"oid": "6689b1d3a79d0c66f0141c457e5d5d960bbccb04", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6689b1d3a79d0c66f0141c457e5d5d960bbccb04", "message": "refactoring WIP", "committedDate": "2020-09-15T18:23:14Z", "type": "commit"}, {"oid": "f65d5ced1637558583a356a13f6f5f941db82e0c", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f65d5ced1637558583a356a13f6f5f941db82e0c", "message": "fix checkstyle errors", "committedDate": "2020-09-15T20:44:18Z", "type": "commit"}, {"oid": "da11d8605ca03ddf6b4438d5869e7fba57bb6490", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/da11d8605ca03ddf6b4438d5869e7fba57bb6490", "message": "refactoring changes", "committedDate": "2020-09-16T16:45:53Z", "type": "commit"}, {"oid": "d4d465182843eb08c074120b0590d5cea293a5a6", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d4d465182843eb08c074120b0590d5cea293a5a6", "message": "start refactor to biconsumer", "committedDate": "2020-09-16T16:55:39Z", "type": "commit"}, {"oid": "5ea52ab15ccfe90304e2445892588b15b6e88f1f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5ea52ab15ccfe90304e2445892588b15b6e88f1f", "message": "continue processList refactor", "committedDate": "2020-09-16T17:09:14Z", "type": "commit"}, {"oid": "8fc084db3bc7ceeb372a391d2cb16f1e7c0ffbac", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8fc084db3bc7ceeb372a391d2cb16f1e7c0ffbac", "message": "continue refactoring", "committedDate": "2020-09-16T17:25:41Z", "type": "commit"}, {"oid": "d48a068bd7323ce8d397ccd37302ebc176b4a14b", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d48a068bd7323ce8d397ccd37302ebc176b4a14b", "message": "refactor PodListStep", "committedDate": "2020-09-16T17:43:05Z", "type": "commit"}, {"oid": "ec840f01a9fa36463cfaa3e6ddef002238442f8d", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ec840f01a9fa36463cfaa3e6ddef002238442f8d", "message": "implementing NamespaceProcessor", "committedDate": "2020-09-16T18:30:43Z", "type": "commit"}, {"oid": "8e0f05a41756d36db50c9600fa0b7066d71061e3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8e0f05a41756d36db50c9600fa0b7066d71061e3", "message": "refactor readExistingResources to eliminate duplication", "committedDate": "2020-09-17T12:46:45Z", "type": "commit"}, {"oid": "c199a233af46c0e103a9c548fd35899e6a1ae84a", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c199a233af46c0e103a9c548fd35899e6a1ae84a", "message": "Add refactorings from previous chunked list attempt", "committedDate": "2020-09-17T17:01:50Z", "type": "commit"}, {"oid": "32792fd51883cd24b3006ec68e90d442236a5f25", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/32792fd51883cd24b3006ec68e90d442236a5f25", "message": "Merge remote-tracking branch 'origin/develop' into mob_refactoring", "committedDate": "2020-09-17T17:28:51Z", "type": "commit"}, {"oid": "10690a5090edc441add32e05499bc02e1666346b", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/10690a5090edc441add32e05499bc02e1666346b", "message": "add files not previously added", "committedDate": "2020-09-17T17:29:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc0NTk2Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1929#discussion_r492745963", "bodyText": "It looks like there's a typo for \"Watchers\" in method name afterReadingExistingResourcesForNamespace_WatcheraAreDefined", "author": "ankedia", "createdAt": "2020-09-22T13:45:19Z", "path": "operator/src/test/java/oracle/kubernetes/operator/MainTest.java", "diffHunk": "@@ -274,14 +228,14 @@ public void deleteDomainPresenceWithTimeCheck_doNotDelete_with_older_DateTime()\n     assertTrue(KubernetesUtils.isFirstNewer(domainMeta, domain2Meta));\n   }\n \n-  @SuppressWarnings({\"unchecked\", \"SameParameterValue\"})\n-  private Collection<String> invoke_getDomainNamespaces(String tnValue, String namespace)\n-      throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n-    if (getDomainNamespaces == null) {\n-      getDomainNamespaces =\n-          Main.class.getDeclaredMethod(\"getDomainNamespacesList\", String.class, String.class);\n-      getDomainNamespaces.setAccessible(true);\n-    }\n-    return (Collection<String>) getDomainNamespaces.invoke(null, tnValue, namespace);\n+  @Test\n+  public void afterReadingExistingResourcesForNamespace_WatcheraAreDefined() {", "originalCommit": "10690a5090edc441add32e05499bc02e1666346b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg2OTA2Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1929#discussion_r492869063", "bodyText": "You're correct, and I am sorry I didn't notice it sooner.  I'll try to include it in a future PR.", "author": "russgold", "createdAt": "2020-09-22T16:21:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc0NTk2Mw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc0Nzg4OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1929#discussion_r492747888", "bodyText": "Should the variable name 'dpis' be something like 'drv' so it's not confused with DomainPresenceInfo?", "author": "ankedia", "createdAt": "2020-09-22T13:47:51Z", "path": "operator/src/main/java/oracle/kubernetes/operator/Main.java", "diffHunk": "@@ -333,38 +327,41 @@ static Step createDomainRecheckSteps(DateTime now) {\n     return strategy;\n   }\n \n-  static Step readExistingResources(String operatorNamespace, String ns) {\n-    return Step.chain(\n-        new ReadExistingResourcesBeforeStep(),\n-        ConfigMapHelper.createScriptConfigMapStep(operatorNamespace, ns),\n-        createConfigMapStep(ns),\n-        readExistingPods(ns),\n-        readExistingEvents(ns),\n-        readExistingServices(ns),\n-        readExistingDomains(ns));\n-  }\n+  static Step readExistingResources(String ns) {\n+    NamespacedResources resources = new NamespacedResources(ns, null);\n+    DomainResourcesValidation dpis = new DomainResourcesValidation(ns, processor);", "originalCommit": "10690a5090edc441add32e05499bc02e1666346b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg2OTE4OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1929#discussion_r492869188", "bodyText": "That's a good idea.", "author": "russgold", "createdAt": "2020-09-22T16:21:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc0Nzg4OA=="}], "type": "inlineReview", "revised_code": null}]}