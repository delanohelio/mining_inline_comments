{"pr_number": 3619, "pr_title": "Fix issue 3526 Unlike \"Items\" tab, \"child classes\" tab does not display description nor image thumbnail", "pr_createdAt": "2020-04-02T22:17:14Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/3619", "timeline": [{"oid": "695e7bfdfa9653665096b722acf9611e2bb314a2", "url": "https://github.com/commons-app/apps-android-commons/commit/695e7bfdfa9653665096b722acf9611e2bb314a2", "message": "fix thumbnail issue 3526", "committedDate": "2020-04-01T19:48:27Z", "type": "commit"}, {"oid": "70dcaa19a93a3369bb1b17c20659c4ac3416f979", "url": "https://github.com/commons-app/apps-android-commons/commit/70dcaa19a93a3369bb1b17c20659c4ac3416f979", "message": "Fix Description issue 3526", "committedDate": "2020-04-02T20:30:07Z", "type": "commit"}, {"oid": "ff400f02ed0aea977d15e8aacdb9fe229c48300c", "url": "https://github.com/commons-app/apps-android-commons/commit/ff400f02ed0aea977d15e8aacdb9fe229c48300c", "message": "revert changes on this file, not finished with it yet", "committedDate": "2020-04-02T21:15:35Z", "type": "commit"}, {"oid": "123a68417733260b18cad8ab0e42010f359d82d9", "url": "https://github.com/commons-app/apps-android-commons/commit/123a68417733260b18cad8ab0e42010f359d82d9", "message": "Fix Description for Child and Parent classes - issue 3526", "committedDate": "2020-04-02T22:10:58Z", "type": "commit"}, {"oid": "5e10fb58fac4a9f044f942fb66f1b078609ab6e5", "url": "https://github.com/commons-app/apps-android-commons/commit/5e10fb58fac4a9f044f942fb66f1b078609ab6e5", "message": "Resolve Conflicts", "committedDate": "2020-04-03T22:12:39Z", "type": "commit"}, {"oid": "ecfc0330afaf324aa79f3a3591d0ccd5d1399808", "url": "https://github.com/commons-app/apps-android-commons/commit/ecfc0330afaf324aa79f3a3591d0ccd5d1399808", "message": "Remove conflict text in file", "committedDate": "2020-04-03T22:20:53Z", "type": "commit"}, {"oid": "c1935e75d0b3016f2d245a0e244aac75d7826a63", "url": "https://github.com/commons-app/apps-android-commons/commit/c1935e75d0b3016f2d245a0e244aac75d7826a63", "message": "Remove retrofit.HEAD import", "committedDate": "2020-04-03T22:22:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAwNTQ0OQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3619#discussion_r404005449", "bodyText": "formatting a tiny bit off in this line, spaces after ,, no space before )", "author": "macgills", "createdAt": "2020-04-06T11:02:19Z", "path": "app/src/main/java/fr/free/nrw/commons/mwapi/OkHttpJsonApiClient.java", "diffHunk": "@@ -242,7 +243,13 @@ public OkHttpJsonApiClient(OkHttpClient okHttpClient,\n                     String label = binding.getSubclassLabel().getValue();\n                     String entityId = binding.getSubclass().getValue();\n                     entityId = entityId.substring(entityId.lastIndexOf(\"/\") + 1);\n-                    subItems.add(new DepictedItem(label, \"\", \"\", false,entityId ));\n+                    String description = \"\";\n+                    SubclassDescription subclassDescription = binding.getSubclassDescription();\n+                    if (subclassDescription != null\n+                        && subclassDescription.getXmlLang() != null) {\n+                        description = subclassDescription.getValue();\n+                    }\n+                    subItems.add(new DepictedItem(label, description, \"\", false,entityId ));", "originalCommit": "c1935e75d0b3016f2d245a0e244aac75d7826a63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc0MDk5Mg==", "url": "https://github.com/commons-app/apps-android-commons/pull/3619#discussion_r405740992", "bodyText": "Hi @macgills\nDo you want me to change it to as below?\n                   subItems.add(new DepictedItem(label,description,\"\",false,entityId));", "author": "vvijayalakshmi21", "createdAt": "2020-04-08T18:50:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAwNTQ0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwMjUyNg==", "url": "https://github.com/commons-app/apps-android-commons/pull/3619#discussion_r406002526", "bodyText": "it was just this part false,entityId ) that violated style. We want there to be spaces after ,s.\n false, entityId)\nWe also have our codestyle bundled with the project so if you were to highlight this section and press ctrl+alt+l it will do this for you. Unfortunately a lot of the project is not compliant with the style yet so you do have to go through the rigmarole of highlighting instead of just applying it to the entire file.", "author": "macgills", "createdAt": "2020-04-09T07:16:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAwNTQ0OQ=="}], "type": "inlineReview", "revised_code": {"commit": "6f75a5f21bf1caa82dcba3001dc79f0bdb550b63", "chunk": "diff --git a/app/src/main/java/fr/free/nrw/commons/mwapi/OkHttpJsonApiClient.java b/app/src/main/java/fr/free/nrw/commons/mwapi/OkHttpJsonApiClient.java\nindex c3e364da2..07612cdc9 100644\n--- a/app/src/main/java/fr/free/nrw/commons/mwapi/OkHttpJsonApiClient.java\n+++ b/app/src/main/java/fr/free/nrw/commons/mwapi/OkHttpJsonApiClient.java\n\n@@ -249,7 +249,7 @@ public class OkHttpJsonApiClient {\n                         && subclassDescription.getXmlLang() != null) {\n                         description = subclassDescription.getValue();\n                     }\n-                    subItems.add(new DepictedItem(label, description, \"\", false,entityId ));\n+                    subItems.add(new DepictedItem(label, description, \"\", false, entityId));\n                     Timber.e(label);\n                 }\n             }\n"}}, {"oid": "6f75a5f21bf1caa82dcba3001dc79f0bdb550b63", "url": "https://github.com/commons-app/apps-android-commons/commit/6f75a5f21bf1caa82dcba3001dc79f0bdb550b63", "message": "Incorporated review comments", "committedDate": "2020-04-09T16:25:42Z", "type": "commit"}]}