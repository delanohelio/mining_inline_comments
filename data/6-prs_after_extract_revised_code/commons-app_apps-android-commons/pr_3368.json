{"pr_number": 3368, "pr_title": "Fix: Issue #3367 Bug: SoftKeyboard showing even after switching from nearby tab to contribution tab", "pr_createdAt": "2020-02-02T15:16:35Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/3368", "timeline": [{"oid": "9b5eb1ffe90f12b0e026aa507fa0854232b1f8ef", "url": "https://github.com/commons-app/apps-android-commons/commit/9b5eb1ffe90f12b0e026aa507fa0854232b1f8ef", "message": "Fixed soft keyboard bug", "committedDate": "2020-02-02T14:56:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1OTMyMQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3368#discussion_r373859321", "bodyText": "Why not make a function in utils & call it from the activity and not involve the NearbyFragment?", "author": "ashishkumar468", "createdAt": "2020-02-02T16:45:38Z", "path": "app/src/main/java/fr/free/nrw/commons/contributions/MainActivity.java", "diffHunk": "@@ -179,6 +179,7 @@ public void onPageSelected(int position) {\n                         Timber.d(\"Contributions tab selected\");\n                         tabLayout.getTabAt(CONTRIBUTIONS_TAB_POSITION).select();\n                         isContributionsFragmentVisible = true;\n+                        ((NearbyParentFragment)contributionsActivityPagerAdapter.getItem(NEARBY_TAB_POSITION)).hideKeyboard();", "originalCommit": "9b5eb1ffe90f12b0e026aa507fa0854232b1f8ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3MjMxNA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3368#discussion_r373872314", "bodyText": "Sir, I have made the changes as suggested. There was a Utils function already defined which could be reused for this implementation. @ashishkumar468", "author": "animeshk08", "createdAt": "2020-02-02T20:25:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1OTMyMQ=="}], "type": "inlineReview", "revised_code": {"commit": "5f5732fc6b0bf8cb2e065ca9cbc9223a7a18c06b", "chunk": "diff --git a/app/src/main/java/fr/free/nrw/commons/contributions/MainActivity.java b/app/src/main/java/fr/free/nrw/commons/contributions/MainActivity.java\nindex ce4d55bdc..67e67fbf3 100644\n--- a/app/src/main/java/fr/free/nrw/commons/contributions/MainActivity.java\n+++ b/app/src/main/java/fr/free/nrw/commons/contributions/MainActivity.java\n\n@@ -179,7 +180,7 @@ public class MainActivity extends NavigationBaseActivity implements FragmentMana\n                         Timber.d(\"Contributions tab selected\");\n                         tabLayout.getTabAt(CONTRIBUTIONS_TAB_POSITION).select();\n                         isContributionsFragmentVisible = true;\n-                        ((NearbyParentFragment)contributionsActivityPagerAdapter.getItem(NEARBY_TAB_POSITION)).hideKeyboard();\n+                        ViewUtil.hideKeyboard(tabLayout.getRootView());\n                         updateMenuItem();\n                         break;\n                     case NEARBY_TAB_POSITION:\n"}}, {"oid": "5f5732fc6b0bf8cb2e065ca9cbc9223a7a18c06b", "url": "https://github.com/commons-app/apps-android-commons/commit/5f5732fc6b0bf8cb2e065ca9cbc9223a7a18c06b", "message": "removed involvement of nearbyFragment", "committedDate": "2020-02-02T20:09:03Z", "type": "commit"}]}