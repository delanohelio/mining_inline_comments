{"pr_number": 4071, "pr_title": "Regarding issue 4042: bordering", "pr_createdAt": "2020-12-05T20:57:08Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/4071", "timeline": [{"oid": "5980f243b9a8e31cfc441b7e84901a9d84435d23", "url": "https://github.com/commons-app/apps-android-commons/commit/5980f243b9a8e31cfc441b7e84901a9d84435d23", "message": "Regarding issue 4042: bordering", "committedDate": "2020-12-05T20:50:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA4Njc2MA==", "url": "https://github.com/commons-app/apps-android-commons/pull/4071#discussion_r537086760", "bodyText": "Looks like we can't use setForeground for this. As Android Studio says it's supported only from API 23 and above but our app supports API 19 and above. As a matter of fact, the app crashes for me when I try to share multiple images to the app. I use an Android 5.1.1 device.", "author": "sivaraam", "createdAt": "2020-12-06T17:35:03Z", "path": "app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java", "diffHunk": "@@ -87,16 +89,21 @@ public void bind(int position) {\n             background.setImageURI(Uri.fromFile(new File(String.valueOf(uri))));\n \n             if (position == callback.getCurrentSelectedFilePosition()) {\n+                GradientDrawable border = new GradientDrawable();\n+                border.setShape(GradientDrawable.RECTANGLE);\n+                border.setStroke(10, context.getResources().getColor(R.color.primaryColor));\n                 rlContainer.setEnabled(true);\n                 rlContainer.setClickable(true);\n                 rlContainer.setAlpha(1.0f);\n+                rlContainer.setForeground(border);", "originalCommit": "5980f243b9a8e31cfc441b7e84901a9d84435d23", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzEyNzM4NA==", "url": "https://github.com/commons-app/apps-android-commons/pull/4071#discussion_r537127384", "bodyText": "Fixed the API issue ,\nI would like to apologize for the chaos I created, but actually I typed some wrong command and reverting changes wasn't helping.\nNow regarding the issue : I think everything is working fine and borders are also over images now, I have also added some padding pixels in cardview.\nDOUBT : like my last branch had 5-6 commits. So After each commit I am working on the updated code right? So if I did something wrong in the past commit and I didn't remove the extra variables, libraries, code etc.( that i pushed along with earlier commit) in the corrected commit, so while merging do maintainers get the option to select the commits they want to accept? But as I was working on the updated codebase so every time I make a commit old code(extra variables, libraries, code etc.) is also getting pushed along with new? so how to deal with that?\nIn my last branch I was deleting those earlier commits so that I could push the corrected code but somehow while moving the HEAD~ I used the wrong command. I again apologize for the problems I caused. It won't happen again.", "author": "Saral-code", "createdAt": "2020-12-06T21:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA4Njc2MA=="}], "type": "inlineReview", "revised_code": {"commit": "490127f21f6ef766eed8b39ef6f5b38b2b4bb497", "chunk": "diff --git a/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java b/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java\nindex 67cbfc381..4fad11b97 100644\n--- a/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java\n+++ b/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java\n\n@@ -87,7 +87,6 @@ class ThumbnailsAdapter extends RecyclerView.Adapter<ThumbnailsAdapter.ViewHolde\n             UploadableFile uploadableFile = uploadableFiles.get(position);\n             Uri uri = uploadableFile.getMediaUri();\n             background.setImageURI(Uri.fromFile(new File(String.valueOf(uri))));\n-\n             if (position == callback.getCurrentSelectedFilePosition()) {\n                 GradientDrawable border = new GradientDrawable();\n                 border.setShape(GradientDrawable.RECTANGLE);\n"}}, {"oid": "490127f21f6ef766eed8b39ef6f5b38b2b4bb497", "url": "https://github.com/commons-app/apps-android-commons/commit/490127f21f6ef766eed8b39ef6f5b38b2b4bb497", "message": "API matched, No overlapping", "committedDate": "2020-12-06T21:17:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwNzAxOQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/4071#discussion_r540407019", "bodyText": "I think 10 looks like a slightly bigger border. 8 seems to slightly less but better. Also, change the padding accordingly to 8px.", "author": "sivaraam", "createdAt": "2020-12-10T18:38:44Z", "path": "app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java", "diffHunk": "@@ -87,23 +87,22 @@ public void bind(int position) {\n             UploadableFile uploadableFile = uploadableFiles.get(position);\n             Uri uri = uploadableFile.getMediaUri();\n             background.setImageURI(Uri.fromFile(new File(String.valueOf(uri))));\n-\n             if (position == callback.getCurrentSelectedFilePosition()) {\n                 GradientDrawable border = new GradientDrawable();\n                 border.setShape(GradientDrawable.RECTANGLE);\n                 border.setStroke(10, context.getResources().getColor(R.color.primaryColor));", "originalCommit": "490127f21f6ef766eed8b39ef6f5b38b2b4bb497", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDgyODQ3NQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/4071#discussion_r540828475", "bodyText": "Done \ud83d\udc4d", "author": "Saral-code", "createdAt": "2020-12-11T09:59:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwNzAxOQ=="}], "type": "inlineReview", "revised_code": {"commit": "4433da30a5f1d595cce00dc5c4df6215e3853bca", "chunk": "diff --git a/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java b/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java\nindex 4fad11b97..acd63c7a7 100644\n--- a/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java\n+++ b/app/src/main/java/fr/free/nrw/commons/upload/ThumbnailsAdapter.java\n\n@@ -90,7 +90,7 @@ class ThumbnailsAdapter extends RecyclerView.Adapter<ThumbnailsAdapter.ViewHolde\n             if (position == callback.getCurrentSelectedFilePosition()) {\n                 GradientDrawable border = new GradientDrawable();\n                 border.setShape(GradientDrawable.RECTANGLE);\n-                border.setStroke(10, context.getResources().getColor(R.color.primaryColor));\n+                border.setStroke(8, context.getResources().getColor(R.color.primaryColor));\n                 rlContainer.setEnabled(true);\n                 rlContainer.setClickable(true);\n                 rlContainer.setAlpha(1.0f);\n"}}, {"oid": "4433da30a5f1d595cce00dc5c4df6215e3853bca", "url": "https://github.com/commons-app/apps-android-commons/commit/4433da30a5f1d595cce00dc5c4df6215e3853bca", "message": "Fixed border width to 8px", "committedDate": "2020-12-11T09:58:22Z", "type": "commit"}]}