{"pr_number": 3843, "pr_title": "ST: Change ports for listeners in Listeners ST", "pr_createdAt": "2020-10-19T19:48:40Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843", "timeline": [{"oid": "601f18a8200ddc5e246795c0ef09340e1c9eaf1e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/601f18a8200ddc5e246795c0ef09340e1c9eaf1e", "message": "Change ports for listeners\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-20T06:56:00Z", "type": "commit"}, {"oid": "df82fed0f483afd569fcdce0fdfc0332bbe37fb2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/df82fed0f483afd569fcdce0fdfc0332bbe37fb2", "message": "ome fixes\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-20T10:34:35Z", "type": "commit"}, {"oid": "df82fed0f483afd569fcdce0fdfc0332bbe37fb2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/df82fed0f483afd569fcdce0fdfc0332bbe37fb2", "message": "ome fixes\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-20T10:34:35Z", "type": "forcePushed"}, {"oid": "5ff3a21b5c741538e70dcae1e9fa0a1294880414", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5ff3a21b5c741538e70dcae1e9fa0a1294880414", "message": "fixup! ome fixes\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-21T20:05:56Z", "type": "commit"}, {"oid": "158958b6162b4cc27a4470e550925e3178a01ed2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/158958b6162b4cc27a4470e550925e3178a01ed2", "message": "fixup! fixup! ome fixes\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-22T08:26:22Z", "type": "commit"}, {"oid": "85071b6bd2e4bf7687d9d008edbf149719e43dfe", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/85071b6bd2e4bf7687d9d008edbf149719e43dfe", "message": "fixup! fixup! fixup! ome fixes\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-22T08:27:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk3NjQ3OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r509976479", "bodyText": "This looks little bit weird for me -> if you have plainAuth, you can simply just add the false and you don't have to add another boolean ... same for the tls.. and if you want to keep it like this the names are bit confusing plainTls and tlsTls..", "author": "im-konge", "createdAt": "2020-10-22T08:30:36Z", "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/StUtils.java", "diffHunk": "@@ -202,10 +202,10 @@ public static JsonArray expectedServiceDiscoveryInfo(int port, String protocol,\n         return jsonArray;\n     }\n \n-    public static JsonArray expectedServiceDiscoveryInfo(String plainAuth, String tlsAuth) {\n+    public static JsonArray expectedServiceDiscoveryInfo(String plainAuth, String tlsAuth, boolean plainTls, boolean tlsTls) {", "originalCommit": "5ff3a21b5c741538e70dcae1e9fa0a1294880414", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk4OTE4OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r509989188", "bodyText": "it makes sense for plain, but how do you want to determine form one value, that you have tls encryption on the listener without authentication?", "author": "Frawless", "createdAt": "2020-10-22T08:49:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk3NjQ3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDA0OTA4Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r510049082", "bodyText": "hmm okay, that makes sense, so maybe add some javadoc explaining the plainTls and tlsTls -> that it's for auth and encryption?", "author": "im-konge", "createdAt": "2020-10-22T10:22:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk3NjQ3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDA1MDAzNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r510050036", "bodyText": "sorry, I didn't figured it out just by the names :D but I guess that's problem on my side", "author": "im-konge", "createdAt": "2020-10-22T10:23:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk3NjQ3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDA4NzQzOA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r510087438", "bodyText": "Ye, make sense.", "author": "Frawless", "createdAt": "2020-10-22T11:32:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk3NjQ3OQ=="}], "type": "inlineReview", "revised_code": {"commit": "9797813436ed5f8a5a345a1d2d918a5c85f14819", "chunk": "diff --git a/systemtest/src/main/java/io/strimzi/systemtest/utils/StUtils.java b/systemtest/src/main/java/io/strimzi/systemtest/utils/StUtils.java\nindex 65588613f..dbdc2e56f 100644\n--- a/systemtest/src/main/java/io/strimzi/systemtest/utils/StUtils.java\n+++ b/systemtest/src/main/java/io/strimzi/systemtest/utils/StUtils.java\n\n@@ -202,10 +202,18 @@ public class StUtils {\n         return jsonArray;\n     }\n \n-    public static JsonArray expectedServiceDiscoveryInfo(String plainAuth, String tlsAuth, boolean plainTls, boolean tlsTls) {\n+    /**\n+     * Build jsonArray with data about service discovery based on pass configuration\n+     * @param plainEcryption plain listener encryption\n+     * @param tlsEncryption tls listener encryption\n+     * @param plainTlsAuth plain listener authentication\n+     * @param tlsTlsAuth tls listener authentication\n+     * @return builded jsonArray\n+     */\n+    public static JsonArray expectedServiceDiscoveryInfo(String plainEcryption, String tlsEncryption, boolean plainTlsAuth, boolean tlsTlsAuth) {\n         JsonArray jsonArray = new JsonArray();\n-        jsonArray.add(expectedServiceDiscoveryInfo(9092, \"kafka\", plainAuth, plainTls).getValue(0));\n-        jsonArray.add(expectedServiceDiscoveryInfo(9093, \"kafka\", tlsAuth, tlsTls).getValue(0));\n+        jsonArray.add(expectedServiceDiscoveryInfo(9092, \"kafka\", plainEcryption, plainTlsAuth).getValue(0));\n+        jsonArray.add(expectedServiceDiscoveryInfo(9093, \"kafka\", tlsEncryption, tlsTlsAuth).getValue(0));\n         return jsonArray;\n     }\n \n"}}, {"oid": "9797813436ed5f8a5a345a1d2d918a5c85f14819", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9797813436ed5f8a5a345a1d2d918a5c85f14819", "message": "comments\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-10-23T15:19:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg1MzY0Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r511853642", "bodyText": "Is this intention? Just asking..", "author": "im-konge", "createdAt": "2020-10-26T10:21:14Z", "path": "systemtest/src/test/java/io/strimzi/systemtest/kafka/listeners/ListenersST.java", "diffHunk": "@@ -68,14 +68,15 @@\n public class ListenersST extends AbstractST {\n     private static final Logger LOGGER = LogManager.getLogger(ListenersST.class);\n \n-    public static final String NAMESPACE = \"kafka-listeners-cluster-test\";\n+    public static final String NAMESPACE = \"listeners\";", "originalCommit": "9797813436ed5f8a5a345a1d2d918a5c85f14819", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA1NDQwMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r512054400", "bodyText": "Yes, the previous name was problematic, because route name was too long.", "author": "Frawless", "createdAt": "2020-10-26T15:33:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg1MzY0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA2OTM3OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3843#discussion_r512069379", "bodyText": "Yep okay, thanks.", "author": "im-konge", "createdAt": "2020-10-26T15:52:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg1MzY0Mg=="}], "type": "inlineReview", "revised_code": null}]}