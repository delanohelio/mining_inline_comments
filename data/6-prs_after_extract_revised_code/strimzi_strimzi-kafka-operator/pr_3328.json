{"pr_number": 3328, "pr_title": "Cluster Operator dynamic logging configuration", "pr_createdAt": "2020-07-16T12:08:19Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMTcyOA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456101728", "bodyText": "@Frawless Will these renamings play well with upgrade tests which use different versions?", "author": "scholzj", "createdAt": "2020-07-16T21:57:40Z", "path": "systemtest/src/main/java/io/strimzi/systemtest/resources/operator/BundleResource.java", "diffHunk": "@@ -20,7 +20,7 @@\n public class BundleResource {\n     private static final Logger LOGGER = LogManager.getLogger(BundleResource.class);\n \n-    public static final String PATH_TO_CO_CONFIG = \"../install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml\";\n+    public static final String PATH_TO_CO_CONFIG = \"../install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml\";", "originalCommit": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjMxNjA3Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456316072", "bodyText": "Interesting question, in upgrade tests, we change this file only for upgrade to HEAD, for older versions we basically do kubectl apply -f /tmp/upgrade-54556445/strimzi-0.x.y/install/cluster-operator and for HEAD Standa did proper changes from my POV. Let's try to run upgrade tests and we will see.", "author": "Frawless", "createdAt": "2020-07-17T09:02:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMTcyOA=="}], "type": "inlineReview", "revised_code": {"commit": "4070c2753167d7349a1a42e59e09cac30e77794f", "chunk": "diff --git a/systemtest/src/main/java/io/strimzi/systemtest/resources/operator/BundleResource.java b/systemtest/src/main/java/io/strimzi/systemtest/resources/operator/BundleResource.java\nindex 7a1d991fe8..a775bb4ce4 100644\n--- a/systemtest/src/main/java/io/strimzi/systemtest/resources/operator/BundleResource.java\n+++ b/systemtest/src/main/java/io/strimzi/systemtest/resources/operator/BundleResource.java\n\n@@ -20,7 +20,7 @@ import java.util.List;\n public class BundleResource {\n     private static final Logger LOGGER = LogManager.getLogger(BundleResource.class);\n \n-    public static final String PATH_TO_CO_CONFIG = \"../install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml\";\n+    public static final String PATH_TO_CO_CONFIG = \"../install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml\";\n \n     public static DoneableDeployment clusterOperator(String namespace, long operationTimeout) {\n         return KubernetesResource.deployNewDeployment(defaultCLusterOperator(namespace, operationTimeout, Constants.RECONCILIATION_INTERVAL).build());\n"}}, {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4213fd675b6429c031ceeeb970bb882553aaaaca", "message": "remove redundant vars\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-07-17T09:39:01Z", "type": "forcePushed"}, {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a1838312e119818e20fdcb311810ba801b1d91c2", "message": "rebase + move to 0.20.0\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-07-24T06:00:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDY5MDc2OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460690768", "bodyText": "we are using \"COConfig\" everywhere right now, why changing in the test?", "author": "ppatierno", "createdAt": "2020-07-27T07:16:48Z", "path": "systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java", "diffHunk": "@@ -81,7 +81,7 @@ void testJSONFormatLogging() {\n             \"zookeeper.root.logger=INFO\\n\" +\n             \"log4j.rootLogger=${zookeeper.root.logger}, CONSOLE\";\n \n-        String loggersConfigCO = \"name = COConfig\\n\" +\n+        String loggersConfigCO = \"name = ClusterOperatorConfig\\n\" +", "originalCommit": "a1838312e119818e20fdcb311810ba801b1d91c2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4070c2753167d7349a1a42e59e09cac30e77794f", "chunk": "diff --git a/systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java b/systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java\nindex eda41f33d6..b1b37b0cb2 100644\n--- a/systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java\n+++ b/systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java\n\n@@ -81,7 +81,7 @@ class LoggingChangeST extends AbstractST {\n             \"zookeeper.root.logger=INFO\\n\" +\n             \"log4j.rootLogger=${zookeeper.root.logger}, CONSOLE\";\n \n-        String loggersConfigCO = \"name = ClusterOperatorConfig\\n\" +\n+        String loggersConfigCO = \"name = COConfig\\n\" +\n             \"appender.console.type = Console\\n\" +\n             \"appender.console.name = STDOUT\\n\" +\n             \"appender.console.layout.type = JsonLayout\\n\" +\n"}}, {"oid": "4070c2753167d7349a1a42e59e09cac30e77794f", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4070c2753167d7349a1a42e59e09cac30e77794f", "message": "co dyn log\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "71d17415978e1007399fa8865f5d25cd0055bf89", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/71d17415978e1007399fa8865f5d25cd0055bf89", "message": "rename files\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "ba67fbeb656bad5d786f6c39325756629a800db3", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ba67fbeb656bad5d786f6c39325756629a800db3", "message": "delete file\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "29b5ef6f7370f8adef14855b9382a57a1389a781", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/29b5ef6f7370f8adef14855b9382a57a1389a781", "message": "default conf\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "4a93f45dcbfd710a7c4c842ab55dfe0c82ec5a5d", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4a93f45dcbfd710a7c4c842ab55dfe0c82ec5a5d", "message": "commit\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "c73aa664e01dd03df932074bc04658a87dca0cf9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c73aa664e01dd03df932074bc04658a87dca0cf9", "message": "remove redundant vars\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "e56fb577c30fb9be52dbee01ea06d05b67d61f7b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e56fb577c30fb9be52dbee01ea06d05b67d61f7b", "message": "Sam's comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "7ecf87873ae4f5a587478b1eafd846beba83196e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ecf87873ae4f5a587478b1eafd846beba83196e", "message": "consistency\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "7e8be1178c3aead909d73c7efb23f16013fd4088", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7e8be1178c3aead909d73c7efb23f16013fd4088", "message": "comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "ad7cdfaedb6d8843c13b539d66ca22a69d4eca68", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ad7cdfaedb6d8843c13b539d66ca22a69d4eca68", "message": "docu\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "c24a8d653e63005c83d72f8075d8325065052640", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c24a8d653e63005c83d72f8075d8325065052640", "message": "docomments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:46:31Z", "type": "commit"}, {"oid": "eff4bd226a87e72942e81c70c6755e11e1dc3dd7", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/eff4bd226a87e72942e81c70c6755e11e1dc3dd7", "message": "rebase + move to 0.20.0\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:47:56Z", "type": "commit"}, {"oid": "276ae0a6646a8b43aa5b1267dadd26f7a6cc49bb", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/276ae0a6646a8b43aa5b1267dadd26f7a6cc49bb", "message": "addressing comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:47:56Z", "type": "commit"}, {"oid": "961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "message": "avoid logging\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:58:32Z", "type": "commit"}, {"oid": "961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "message": "avoid logging\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T07:58:32Z", "type": "forcePushed"}, {"oid": "b40f901bb9de8c243b70306d2a3da86ff4cc2564", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b40f901bb9de8c243b70306d2a3da86ff4cc2564", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T13:41:28Z", "type": "forcePushed"}, {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a89fc7e29252b19084016f67c7f54037f92bd97b", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T13:52:21Z", "type": "commit"}, {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a89fc7e29252b19084016f67c7f54037f92bd97b", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-04T13:52:21Z", "type": "forcePushed"}, {"oid": "69f6a4f219451c82b7bc26a7925ed3225d03edd1", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/69f6a4f219451c82b7bc26a7925ed3225d03edd1", "message": "Tom's comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-05T06:42:50Z", "type": "commit"}]}