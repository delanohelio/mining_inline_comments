{"pr_number": 3411, "pr_title": "Exposing Cruise Control metrics", "pr_createdAt": "2020-07-29T15:53:51Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3411", "timeline": [{"oid": "0b51ced67a6b00302607e757d1bc13c8b927712c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/0b51ced67a6b00302607e757d1bc13c8b927712c", "message": "Added metrics property to the cruiseControl in Kafka resource\nAdded CO logic for enabling the CC metrics\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-28T07:47:52Z", "type": "commit"}, {"oid": "5c387808483f7d1e283db00938adcf173ec7ec2f", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5c387808483f7d1e283db00938adcf173ec7ec2f", "message": "Added Kafka example with Cruise Control with metrics enabled\nAdded Cruise Control related Grafana dashboard\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-29T15:45:19Z", "type": "commit"}, {"oid": "35e5851626065c79687bb98869926e38b931a338", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/35e5851626065c79687bb98869926e38b931a338", "message": "Update derived resources\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-29T19:09:44Z", "type": "commit"}, {"oid": "1f56ec9209d3b6cb6e3041eb6673ac9524b68220", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1f56ec9209d3b6cb6e3041eb6673ac9524b68220", "message": "Fixed comments\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-29T19:24:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMzM2Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3411#discussion_r463033367", "bodyText": "I'm not sure if this boolean needs to exist if we are always equating it to\n if (metrics != null)\n\nCould always just gate the logic on that? (i.e. line 600)\nThough it does make it minorly easier to generate the netpol. Just thought it was worth mentioning", "author": "samuel-hawker", "createdAt": "2020-07-30T14:22:42Z", "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/CruiseControl.java", "diffHunk": "@@ -160,6 +164,7 @@ protected CruiseControl(HasMetadata resource) {\n         this.mountPath = \"/var/lib/kafka\";\n         this.logAndMetricsConfigVolumeName = LOG_AND_METRICS_CONFIG_VOLUME_NAME;\n         this.logAndMetricsConfigMountPath = LOG_AND_METRICS_CONFIG_VOLUME_MOUNT;\n+        this.isMetricsEnabled = DEFAULT_CRUISE_CONTROL_METRICS_ENABLED;", "originalCommit": "1f56ec9209d3b6cb6e3041eb6673ac9524b68220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzUwODI5Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3411#discussion_r463508297", "bodyText": "I agree but this field comes from history, I would avoid to change it now because removing it means refactoring other classes still using the field and they are not related to this PR. We should do a refactoring for that in a different PR.", "author": "ppatierno", "createdAt": "2020-07-31T09:34:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMzM2Nw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "6c41f73351d3078eb72a3ac8ca48dbfc7a3ca9b2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6c41f73351d3078eb72a3ac8ca48dbfc7a3ca9b2", "message": "Fixed comments\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-31T10:00:23Z", "type": "commit"}, {"oid": "84f0d6d02e8a7d2faa9c5b72d47bca0e9d1b3913", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/84f0d6d02e8a7d2faa9c5b72d47bca0e9d1b3913", "message": "Added Cruise Control metrics documentation\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-31T11:03:56Z", "type": "commit"}, {"oid": "36ca6066b267ae73b025ed4e658784603a4d5a71", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/36ca6066b267ae73b025ed4e658784603a4d5a71", "message": "Fixed comments\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-31T12:58:51Z", "type": "commit"}, {"oid": "5e0afebcc531af76cc05c3b72cd86df4f72abf89", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5e0afebcc531af76cc05c3b72cd86df4f72abf89", "message": "Fixed comments\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-31T14:17:11Z", "type": "commit"}, {"oid": "98822d059328c3dac7735458f9d035a99b451468", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/98822d059328c3dac7735458f9d035a99b451468", "message": "Fixed doc comments\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>", "committedDate": "2020-07-31T17:25:49Z", "type": "commit"}]}