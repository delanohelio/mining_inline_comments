{"pr_number": 2692, "pr_title": "[systemtest] Fix failed tests vol.2", "pr_createdAt": "2020-03-12T12:05:02Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2692", "timeline": [{"oid": "1539f7dd2639867c07e3423490f4c2638ec4e4cb", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1539f7dd2639867c07e3423490f4c2638ec4e4cb", "message": "fix test testCustomCertRouteAndTlsRollingUpdate\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-03-12T11:56:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NjI1Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2692#discussion_r391576252", "bodyText": "do we use same type for connect and connects2i ? I think there should be something like kafka-connect-s2i", "author": "Frawless", "createdAt": "2020-03-12T12:07:13Z", "path": "systemtest/src/test/java/io/strimzi/systemtest/ConnectS2IST.java", "diffHunk": "@@ -329,12 +328,19 @@ void testJvmAndResources() {\n \n         KafkaConnectS2IUtils.waitForConnectS2IStatus(kafkaConnectS2IName, \"Ready\");\n \n-        String podName = PodUtils.getPodNameByPrefix(kafkaConnectS2IName);\n-\n-        assertResources(NAMESPACE, podName, kafkaConnectS2IName + \"-connect\",\n-                \"400M\", \"2\", \"300M\", \"1\");\n-        assertExpectedJavaOpts(podName, kafkaConnectS2IName + \"-connect\",\n-                \"-Xmx200m\", \"-Xms200m\", \"-server\", \"-XX:+UseG1GC\");\n+        String podName = kubeClient().listPods(\"type\", \"kafka-connect\").get(0).getMetadata().getName();", "originalCommit": "0e14cdb8932e6ad1da97fb6710a857b48487460a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3Njc5Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2692#discussion_r391576792", "bodyText": "in this case you will get exactly one pod - our connects2i pod - but I can change it :)", "author": "im-konge", "createdAt": "2020-03-12T12:08:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NjI1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NzcwMQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2692#discussion_r391577701", "bodyText": "and in config we add this .addToLabels(\"type\", \"kafka-connect\") so thats why I list pods by kafka-connect", "author": "im-konge", "createdAt": "2020-03-12T12:10:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NjI1Mg=="}], "type": "inlineReview", "revised_code": {"commit": "9e089e953ee81ba30e26b4c5fe57de4c09c6d0a5", "chunk": "diff --git a/systemtest/src/test/java/io/strimzi/systemtest/ConnectS2IST.java b/systemtest/src/test/java/io/strimzi/systemtest/ConnectS2IST.java\nindex 37b73263f0..4a198cc95a 100644\n--- a/systemtest/src/test/java/io/strimzi/systemtest/ConnectS2IST.java\n+++ b/systemtest/src/test/java/io/strimzi/systemtest/ConnectS2IST.java\n\n@@ -328,7 +328,7 @@ class ConnectS2IST extends BaseST {\n \n         KafkaConnectS2IUtils.waitForConnectS2IStatus(kafkaConnectS2IName, \"Ready\");\n \n-        String podName = kubeClient().listPods(\"type\", \"kafka-connect\").get(0).getMetadata().getName();\n+        String podName = kubeClient().listPods(\"type\", \"kafka-connect-s2i\").get(0).getMetadata().getName();\n \n         TestUtils.waitFor(\"Resources are changed\", Constants.GLOBAL_POLL_INTERVAL, Constants.TIMEOUT_FOR_RESOURCE_CREATION, () -> {\n             try {\n"}}, {"oid": "9e089e953ee81ba30e26b4c5fe57de4c09c6d0a5", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9e089e953ee81ba30e26b4c5fe57de4c09c6d0a5", "message": "fix testJvmAndResources\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-03-12T12:11:48Z", "type": "commit"}, {"oid": "9e089e953ee81ba30e26b4c5fe57de4c09c6d0a5", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9e089e953ee81ba30e26b4c5fe57de4c09c6d0a5", "message": "fix testJvmAndResources\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-03-12T12:11:48Z", "type": "forcePushed"}]}