{"pr_number": 2654, "pr_title": "Refactor API module constants", "pr_createdAt": "2020-03-06T13:17:16Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2654", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkzMTM4OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2654#discussion_r388931388", "bodyText": "I wonder about the wisdom of adding these. Let's remember that this is the api module, which we publish for people wanting to have a Java API for interacting with Strimzi. There's absolutely no benefit to then of having these constants, and they're unlikely to even know what they're for. But they have to be public to make the code work. TBH I could live with these ones remaining string literals to avoid adding public stuff which no one outside the api module needs to consume.", "author": "tombentley", "createdAt": "2020-03-06T14:25:55Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/Constants.java", "diffHunk": "@@ -11,5 +11,12 @@\n     public static final String V1BETA1 = \"v1beta1\";\n     public static final String V1ALPHA1 = \"v1alpha1\";\n \n+    public static final String CRD_KIND = \"CustomResourceDefinition\";\n+    public static final String STRIMZI_CATEGORY = \"strimzi\";\n+\n+    public static final String KUBERNETES_API_BUILDER = \"io.fabric8.kubernetes.api.builder\";\n+    public static final String DONEABLE_PREFIX = \"Doneable\";\n+    public static final String DONE = \"done\";", "originalCommit": "1d9e3f6084320f819a503ecf20062ff365089b2f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f79110b368bed2b64671494ddd229c634aa78752", "chunk": "diff --git a/api/src/main/java/io/strimzi/api/kafka/model/Constants.java b/api/src/main/java/io/strimzi/api/kafka/model/Constants.java\nindex 06fcd45bc..69d4e975f 100644\n--- a/api/src/main/java/io/strimzi/api/kafka/model/Constants.java\n+++ b/api/src/main/java/io/strimzi/api/kafka/model/Constants.java\n\n@@ -15,8 +15,6 @@ public class Constants {\n     public static final String STRIMZI_CATEGORY = \"strimzi\";\n \n     public static final String KUBERNETES_API_BUILDER = \"io.fabric8.kubernetes.api.builder\";\n-    public static final String DONEABLE_PREFIX = \"Doneable\";\n-    public static final String DONE = \"done\";\n \n     public static final String V1BETA1_API_VERSION = \"apiextensions.k8s.io/\" + V1BETA1;\n }\n"}}, {"oid": "f79110b368bed2b64671494ddd229c634aa78752", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f79110b368bed2b64671494ddd229c634aa78752", "message": "comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-03-11T13:57:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDM2NDk2OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2654#discussion_r394364968", "bodyText": "You know I look at these changes and I think it's time we got rid of the generateBuilderPackage = false in all the models. The default is false, so it's redundant. Can you open an issue for doing that?", "author": "tombentley", "createdAt": "2020-03-18T13:57:29Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/CertificateAuthority.java", "diffHunk": "@@ -21,7 +21,7 @@\n @Buildable(\n         editableEnabled = false,\n         generateBuilderPackage = false,", "originalCommit": "f79110b368bed2b64671494ddd229c634aa78752", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6f364af6e0d4b25890fef5dc1f25c05c07b6e30e", "chunk": "diff --git a/api/src/main/java/io/strimzi/api/kafka/model/CertificateAuthority.java b/api/src/main/java/io/strimzi/api/kafka/model/CertificateAuthority.java\nindex f2810cddc..ada44930d 100644\n--- a/api/src/main/java/io/strimzi/api/kafka/model/CertificateAuthority.java\n+++ b/api/src/main/java/io/strimzi/api/kafka/model/CertificateAuthority.java\n\n@@ -20,7 +20,6 @@ import java.util.Map;\n         \"used for client access via `Kafka.spec.kafka.listeners.tls`.\")\n @Buildable(\n         editableEnabled = false,\n-        generateBuilderPackage = false,\n         builderPackage = Constants.KUBERNETES_API_BUILDER\n )\n @JsonInclude(JsonInclude.Include.NON_NULL)\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDM2NjUwMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2654#discussion_r394366500", "bodyText": "Do we really need this one? If you look at the aspects I gave here, I'm not really sure there's any benefit to having a constant for this.\nIf people really do think its beneficial, I think a name like FABRIC8_KUBERNETES_API would be slightly better.", "author": "tombentley", "createdAt": "2020-03-18T13:59:34Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/Constants.java", "diffHunk": "@@ -11,5 +11,10 @@\n     public static final String V1BETA1 = \"v1beta1\";\n     public static final String V1ALPHA1 = \"v1alpha1\";\n \n+    public static final String CRD_KIND = \"CustomResourceDefinition\";\n+    public static final String STRIMZI_CATEGORY = \"strimzi\";\n+\n+    public static final String KUBERNETES_API_BUILDER = \"io.fabric8.kubernetes.api.builder\";", "originalCommit": "f79110b368bed2b64671494ddd229c634aa78752", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6f364af6e0d4b25890fef5dc1f25c05c07b6e30e", "chunk": "diff --git a/api/src/main/java/io/strimzi/api/kafka/model/Constants.java b/api/src/main/java/io/strimzi/api/kafka/model/Constants.java\nindex 69d4e975f..06fcd45bc 100644\n--- a/api/src/main/java/io/strimzi/api/kafka/model/Constants.java\n+++ b/api/src/main/java/io/strimzi/api/kafka/model/Constants.java\n\n@@ -15,6 +15,8 @@ public class Constants {\n     public static final String STRIMZI_CATEGORY = \"strimzi\";\n \n     public static final String KUBERNETES_API_BUILDER = \"io.fabric8.kubernetes.api.builder\";\n+    public static final String DONEABLE_PREFIX = \"Doneable\";\n+    public static final String DONE = \"done\";\n \n     public static final String V1BETA1_API_VERSION = \"apiextensions.k8s.io/\" + V1BETA1;\n }\n"}}, {"oid": "6f364af6e0d4b25890fef5dc1f25c05c07b6e30e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6f364af6e0d4b25890fef5dc1f25c05c07b6e30e", "message": "Refactor API module constants\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-03-23T09:57:29Z", "type": "commit"}, {"oid": "c6a9a230f6d52596062631eccbba2d2699c2160b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c6a9a230f6d52596062631eccbba2d2699c2160b", "message": "comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-03-23T09:57:30Z", "type": "commit"}, {"oid": "2db64003f158a2ee403d4496963fc3fe34ef3ee8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2db64003f158a2ee403d4496963fc3fe34ef3ee8", "message": "comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-03-23T10:10:16Z", "type": "commit"}, {"oid": "2db64003f158a2ee403d4496963fc3fe34ef3ee8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2db64003f158a2ee403d4496963fc3fe34ef3ee8", "message": "comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-03-23T10:10:16Z", "type": "forcePushed"}]}