{"pr_number": 787, "pr_title": "Document dynamic topic names", "pr_createdAt": "2020-10-02T14:37:46Z", "pr_url": "https://github.com/smallrye/smallrye-reactive-messaging/pull/787", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0NDcwOQ==", "url": "https://github.com/smallrye/smallrye-reactive-messaging/pull/787#discussion_r498944709", "bodyText": "don't use topic for AMQP. Use address instead.", "author": "cescoffier", "createdAt": "2020-10-02T17:08:23Z", "path": "documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicTopicExample.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package outbound;\n+\n+import io.smallrye.reactive.messaging.amqp.OutgoingAmqpMetadata;\n+import org.eclipse.microprofile.reactive.messaging.Message;\n+\n+public class AmqpOutboundDynamicTopicExample {\n+    public Message<Double> metadata(Message<Double> incoming) {\n+\n+        // tag::code[]\n+        String topicName = selectTopicFromIncommingMessage(incoming);\n+        OutgoingAmqpMetadata metadata = OutgoingAmqpMetadata.builder()\n+            .withAddress(topicName)", "originalCommit": "d96dd846593ebbca076f8c6a54f93150317c8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "15effe831c3abd728fcc9d82d9ab5a2840267f2a", "chunk": "diff --git a/documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicTopicExample.java b/documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicAddressExample.java\nsimilarity index 71%\nrename from documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicTopicExample.java\nrename to documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicAddressExample.java\nindex 0fdea8bf5..d942d7fa3 100644\n--- a/documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicTopicExample.java\n+++ b/documentation/src/main/doc/modules/amqp/examples/outbound/AmqpOutboundDynamicAddressExample.java\n\n@@ -3,13 +3,13 @@ package outbound;\n import io.smallrye.reactive.messaging.amqp.OutgoingAmqpMetadata;\n import org.eclipse.microprofile.reactive.messaging.Message;\n \n-public class AmqpOutboundDynamicTopicExample {\n+public class AmqpOutboundDynamicAddressExample {\n     public Message<Double> metadata(Message<Double> incoming) {\n \n         // tag::code[]\n-        String topicName = selectTopicFromIncommingMessage(incoming);\n+        String addressName = selectAddressFromIncommingMessage(incoming);\n         OutgoingAmqpMetadata metadata = OutgoingAmqpMetadata.builder()\n-            .withAddress(topicName)\n+            .withAddress(addressName)\n             .withDurable(true)\n             .build();\n \n"}}, {"oid": "15effe831c3abd728fcc9d82d9ab5a2840267f2a", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/15effe831c3abd728fcc9d82d9ab5a2840267f2a", "message": "Document AMQP dynamic topic names", "committedDate": "2020-10-05T07:22:47Z", "type": "forcePushed"}, {"oid": "2e7b71ea14676bbadcd94c94a7fc855a6775737c", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/2e7b71ea14676bbadcd94c94a7fc855a6775737c", "message": "Document Kafka dynamic topic names", "committedDate": "2020-10-05T08:41:35Z", "type": "commit"}, {"oid": "16ac22c120b14831a39aa6d658dbec85f666c1db", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/16ac22c120b14831a39aa6d658dbec85f666c1db", "message": "Document AMQP dynamic topic names", "committedDate": "2020-10-05T08:41:35Z", "type": "commit"}, {"oid": "16ac22c120b14831a39aa6d658dbec85f666c1db", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/16ac22c120b14831a39aa6d658dbec85f666c1db", "message": "Document AMQP dynamic topic names", "committedDate": "2020-10-05T08:41:35Z", "type": "forcePushed"}]}