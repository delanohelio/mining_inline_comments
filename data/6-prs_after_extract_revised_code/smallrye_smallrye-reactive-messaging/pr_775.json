{"pr_number": 775, "pr_title": "Cloud Event fixes & Resource cleanup", "pr_createdAt": "2020-09-24T16:34:48Z", "pr_url": "https://github.com/smallrye/smallrye-reactive-messaging/pull/775", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQ5NTQxNA==", "url": "https://github.com/smallrye/smallrye-reactive-messaging/pull/775#discussion_r494495414", "bodyText": "As the default is do nothing is this needed?\nOr was it mostly to make explicit that this case doesn't require anything?", "author": "kenfinnigan", "createdAt": "2020-09-24T17:37:59Z", "path": "smallrye-reactive-messaging-kafka/src/main/java/io/smallrye/reactive/messaging/kafka/fault/KafkaFailureHandler.java", "diffHunk": "@@ -29,4 +29,8 @@ public static Strategy from(String s) {\n \n     <K, V> CompletionStage<Void> handle(IncomingKafkaRecord<K, V> record, Throwable reason);\n \n+    default void terminate() {", "originalCommit": "5e2cbd605657e958534317e9767328b674f971bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTM4MA==", "url": "https://github.com/smallrye/smallrye-reactive-messaging/pull/775#discussion_r494501380", "bodyText": "The DLQ implementation overrides it, and close the producer.\nOther strategies don't need to do anything.", "author": "cescoffier", "createdAt": "2020-09-24T17:48:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQ5NTQxNA=="}], "type": "inlineReview", "revised_code": {"commit": "39e46fbd73094baeed0859e53100405f7db6c3c7", "chunk": "diff --git a/smallrye-reactive-messaging-kafka/src/main/java/io/smallrye/reactive/messaging/kafka/fault/KafkaFailureHandler.java b/smallrye-reactive-messaging-kafka/src/main/java/io/smallrye/reactive/messaging/kafka/fault/KafkaFailureHandler.java\nindex 2a1fe2d71..2b6ca203e 100644\n--- a/smallrye-reactive-messaging-kafka/src/main/java/io/smallrye/reactive/messaging/kafka/fault/KafkaFailureHandler.java\n+++ b/smallrye-reactive-messaging-kafka/src/main/java/io/smallrye/reactive/messaging/kafka/fault/KafkaFailureHandler.java\n\n@@ -29,8 +29,4 @@ public interface KafkaFailureHandler {\n \n     <K, V> CompletionStage<Void> handle(IncomingKafkaRecord<K, V> record, Throwable reason);\n \n-    default void terminate() {\n-        // do nothing by default\n-    }\n-\n }\n"}}, {"oid": "39e46fbd73094baeed0859e53100405f7db6c3c7", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/39e46fbd73094baeed0859e53100405f7db6c3c7", "message": "Fix typo in cloud events attributes", "committedDate": "2020-09-24T17:52:45Z", "type": "commit"}, {"oid": "3ea779a5806267f7dcd7285b77b2cf4f8cebf159", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/3ea779a5806267f7dcd7285b77b2cf4f8cebf159", "message": "Fix date time parsing in Cloud Events", "committedDate": "2020-09-24T17:52:45Z", "type": "commit"}, {"oid": "ee075b94125fc7519fa407825768e3133f8f3d59", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/ee075b94125fc7519fa407825768e3133f8f3d59", "message": "Cleanup resources on shutdown (timer and producers)", "committedDate": "2020-09-24T17:52:45Z", "type": "commit"}, {"oid": "7f195c469140a09ab535f36cde0a6e8d4e1f6c7e", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/7f195c469140a09ab535f36cde0a6e8d4e1f6c7e", "message": "Postpone admin creation until all the validation passed", "committedDate": "2020-09-24T17:52:45Z", "type": "commit"}, {"oid": "86f03ca8892cf504f1070fe7b91abf0c770f474f", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/86f03ca8892cf504f1070fe7b91abf0c770f474f", "message": "Make sure tests don't leak (keep consumer or producer open)", "committedDate": "2020-09-24T17:52:45Z", "type": "commit"}, {"oid": "86f03ca8892cf504f1070fe7b91abf0c770f474f", "url": "https://github.com/smallrye/smallrye-reactive-messaging/commit/86f03ca8892cf504f1070fe7b91abf0c770f474f", "message": "Make sure tests don't leak (keep consumer or producer open)", "committedDate": "2020-09-24T17:52:45Z", "type": "forcePushed"}]}