{"pr_number": 3342, "pr_title": "[STORM-3708] Add TopologyID to log messages in ConstraintSolverConfig", "pr_createdAt": "2020-10-29T17:55:16Z", "pr_url": "https://github.com/apache/storm/pull/3342", "timeline": [{"oid": "d50e2e74b2674227aa11603147e05a1fa04176e2", "url": "https://github.com/apache/storm/commit/d50e2e74b2674227aa11603147e05a1fa04176e2", "message": "[STORM-3708] Add topoId to log messages in ConstraintSolverConfig", "committedDate": "2020-10-29T17:50:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzkwMzMwMw==", "url": "https://github.com/apache/storm/pull/3342#discussion_r523903303", "bodyText": "Why are we changing this in this PR?", "author": "Ethanlm", "createdAt": "2020-11-16T05:13:44Z", "path": "storm-server/src/test/java/org/apache/storm/scheduler/resource/strategies/scheduling/TestConstraintSolverStrategy.java", "diffHunk": "@@ -551,7 +550,7 @@ public void testIntegrationWithRAS() {\n     public void testZeroExecutorScheduling() {\n         ConstraintSolverStrategy cs = new ConstraintSolverStrategy();\n         cs.prepare(new HashMap<>());\n-        Map<String, Object> topoConf = new HashMap<>();\n+        Map<String, Object> topoConf = Utils.readDefaultConfig();", "originalCommit": "d50e2e74b2674227aa11603147e05a1fa04176e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIyODQ5Mw==", "url": "https://github.com/apache/storm/pull/3342#discussion_r524228493", "bodyText": "This test for ConstraintSolverStrategy is different internally.", "author": "bipinprasad", "createdAt": "2020-11-16T12:37:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzkwMzMwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDM2MDg5Mw==", "url": "https://github.com/apache/storm/pull/3342#discussion_r524360893", "bodyText": "I noticed this was changed in the acker distribution PR #3346. I would remove this from this PR since it is irrelevant. It will be easier to understand the change when we look back the history in the future. Thanks", "author": "Ethanlm", "createdAt": "2020-11-16T15:39:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzkwMzMwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc5ODk0Mg==", "url": "https://github.com/apache/storm/pull/3342#discussion_r530798942", "bodyText": "Reverted", "author": "bipinprasad", "createdAt": "2020-11-26T06:32:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzkwMzMwMw=="}], "type": "inlineReview", "revised_code": {"commit": "c05d7e1e489acafd15e1f5a065dbba12380d4b06", "chunk": "diff --git a/storm-server/src/test/java/org/apache/storm/scheduler/resource/strategies/scheduling/TestConstraintSolverStrategy.java b/storm-server/src/test/java/org/apache/storm/scheduler/resource/strategies/scheduling/TestConstraintSolverStrategy.java\nindex 96a0f9a7e..5f86fc046 100644\n--- a/storm-server/src/test/java/org/apache/storm/scheduler/resource/strategies/scheduling/TestConstraintSolverStrategy.java\n+++ b/storm-server/src/test/java/org/apache/storm/scheduler/resource/strategies/scheduling/TestConstraintSolverStrategy.java\n\n@@ -550,7 +550,7 @@ public class TestConstraintSolverStrategy {\n     public void testZeroExecutorScheduling() {\n         ConstraintSolverStrategy cs = new ConstraintSolverStrategy();\n         cs.prepare(new HashMap<>());\n-        Map<String, Object> topoConf = Utils.readDefaultConfig();\n+        Map<String, Object> topoConf = new HashMap<>();\n         topoConf.put(Config.TOPOLOGY_RAS_CONSTRAINT_MAX_STATE_SEARCH, 1_000);\n         topoConf.put(Config.TOPOLOGY_RAS_ONE_EXECUTOR_PER_WORKER, false);\n         topoConf.put(Config.TOPOLOGY_RAS_ONE_COMPONENT_PER_WORKER, false);\n"}}, {"oid": "c05d7e1e489acafd15e1f5a065dbba12380d4b06", "url": "https://github.com/apache/storm/commit/c05d7e1e489acafd15e1f5a065dbba12380d4b06", "message": "[STORM-3708] Revert change to TestConstraintSolverStrategy.", "committedDate": "2020-11-26T06:30:16Z", "type": "commit"}]}