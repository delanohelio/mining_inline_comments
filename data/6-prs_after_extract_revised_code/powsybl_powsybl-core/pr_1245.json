{"pr_number": 1245, "pr_title": "Fix PR #1155 to avoid breaking change in the sensitivity results constructor", "pr_createdAt": "2020-03-26T10:54:25Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1245", "timeline": [{"oid": "3b3482b196a57dbacb1b9c068286e6e436fee83a", "url": "https://github.com/powsybl/powsybl-core/commit/3b3482b196a57dbacb1b9c068286e6e436fee83a", "message": "Fix PR #1155 to avoid breaking change in the sensitivity results constructor\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>", "committedDate": "2020-03-26T10:49:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQ4MTgyNw==", "url": "https://github.com/powsybl/powsybl-core/pull/1245#discussion_r398481827", "bodyText": "You can just call the other constructor (prevent code duplication):\nthis(ok, metrics, logs, sensitivityValues, Collections.emptyMap());", "author": "MioRtia", "createdAt": "2020-03-26T10:56:20Z", "path": "sensitivity-api/src/main/java/com/powsybl/sensitivity/SensitivityComputationResults.java", "diffHunk": "@@ -77,6 +77,17 @@ public SensitivityComputationResults(@JsonProperty(\"ok\") boolean ok,\n         this.sensitivityValuesContingencies = Optional.ofNullable(sensitivityValuesContingencies).map(Collections::unmodifiableMap).orElse(Collections.emptyMap());\n     }\n \n+    public SensitivityComputationResults(boolean ok,\n+                                         Map<String, String> metrics,\n+                                         String logs,\n+                                         List<SensitivityValue> sensitivityValues) {\n+        this.ok = ok;\n+        this.metrics = Objects.requireNonNull(metrics);\n+        this.logs = Objects.requireNonNull(logs);\n+        this.sensitivityValues = Collections.unmodifiableList(Objects.requireNonNull(sensitivityValues));\n+        this.sensitivityValuesContingencies = Collections.emptyMap();", "originalCommit": "3b3482b196a57dbacb1b9c068286e6e436fee83a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "278fc8e8c37c4d5e7a71cb06e9f520da073af1f2", "chunk": "diff --git a/sensitivity-api/src/main/java/com/powsybl/sensitivity/SensitivityComputationResults.java b/sensitivity-api/src/main/java/com/powsybl/sensitivity/SensitivityComputationResults.java\nindex 9e11248f7..3c5f94183 100644\n--- a/sensitivity-api/src/main/java/com/powsybl/sensitivity/SensitivityComputationResults.java\n+++ b/sensitivity-api/src/main/java/com/powsybl/sensitivity/SensitivityComputationResults.java\n\n@@ -81,11 +81,7 @@ public class SensitivityComputationResults {\n                                          Map<String, String> metrics,\n                                          String logs,\n                                          List<SensitivityValue> sensitivityValues) {\n-        this.ok = ok;\n-        this.metrics = Objects.requireNonNull(metrics);\n-        this.logs = Objects.requireNonNull(logs);\n-        this.sensitivityValues = Collections.unmodifiableList(Objects.requireNonNull(sensitivityValues));\n-        this.sensitivityValuesContingencies = Collections.emptyMap();\n+        this(ok, metrics, logs, sensitivityValues, Collections.emptyMap());\n     }\n \n     /**\n"}}, {"oid": "278fc8e8c37c4d5e7a71cb06e9f520da073af1f2", "url": "https://github.com/powsybl/powsybl-core/commit/278fc8e8c37c4d5e7a71cb06e9f520da073af1f2", "message": "Fix\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>", "committedDate": "2020-03-26T14:04:38Z", "type": "commit"}]}