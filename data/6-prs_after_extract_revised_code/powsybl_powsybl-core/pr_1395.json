{"pr_number": 1395, "pr_title": "add method to get all tapChanger steps", "pr_createdAt": "2020-07-13T13:51:02Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1395", "timeline": [{"oid": "e802b44bd92ef7a2988c9406fb81485c6ce96ef1", "url": "https://github.com/powsybl/powsybl-core/commit/e802b44bd92ef7a2988c9406fb81485c6ce96ef1", "message": "add method to get all tapChanger steps\n\nSigned-off-by: J\u00e9r\u00e9my LABOUS <jlabous@silicom.fr>", "committedDate": "2020-07-13T13:48:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDkwNDA1Mg==", "url": "https://github.com/powsybl/powsybl-core/pull/1395#discussion_r454904052", "bodyText": "You can have a more working default implementation:\nMap<Integer, S> steps = new HashMap();\nfor (int i = getLowTapPosition(); i <= getHighTapPosition; i++) {\n  steps.put(i, getStep(i));\n}\nreturn steps;", "author": "MioRtia", "createdAt": "2020-07-15T09:05:06Z", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TapChanger.java", "diffHunk": "@@ -121,4 +123,10 @@ default C setTargetDeadband(double targetDeadband) {\n      */\n     void remove();\n \n+    /**\n+     * Get all Tap changer steps\n+     */\n+    default Map<Integer, S> getAllSteps() {\n+        throw new UnsupportedOperationException(\"Not implemented\");", "originalCommit": "e802b44bd92ef7a2988c9406fb81485c6ce96ef1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8e180ab3b61387d9aac60a93f3680351853f2aab", "chunk": "diff --git a/iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TapChanger.java b/iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TapChanger.java\nindex 34fd7fcf6..49754e3b0 100644\n--- a/iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TapChanger.java\n+++ b/iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TapChanger.java\n\n@@ -127,6 +128,10 @@ public interface TapChanger<C extends TapChanger<C, S>, S extends TapChangerStep\n      * Get all Tap changer steps\n      */\n     default Map<Integer, S> getAllSteps() {\n-        throw new UnsupportedOperationException(\"Not implemented\");\n+        Map<Integer, S> steps = new HashMap<>();\n+        for (int i = getLowTapPosition(); i <= getHighTapPosition(); i++) {\n+            steps.put(i, getStep(i));\n+        }\n+        return steps;\n     }\n }\n"}}, {"oid": "8e180ab3b61387d9aac60a93f3680351853f2aab", "url": "https://github.com/powsybl/powsybl-core/commit/8e180ab3b61387d9aac60a93f3680351853f2aab", "message": "change default implementation by a working one\n\nSigned-off-by: J\u00e9r\u00e9my LABOUS <jlabous@silicom.fr>", "committedDate": "2020-07-15T09:40:17Z", "type": "commit"}, {"oid": "8337d50357a64facfe81f1117d9cad29580ebed1", "url": "https://github.com/powsybl/powsybl-core/commit/8337d50357a64facfe81f1117d9cad29580ebed1", "message": "Merge branch 'master' into issue_663_add_convenient_interface_for_iteration_on_tapChangerSteps", "committedDate": "2020-07-15T12:30:05Z", "type": "commit"}]}