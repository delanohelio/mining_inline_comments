{"pr_number": 1497, "pr_title": "LoadFlowResult 1.1", "pr_createdAt": "2020-10-02T12:59:46Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1497", "timeline": [{"oid": "9dd6a99fbda8cd9ae22c40696d145f4d588eb550", "url": "https://github.com/powsybl/powsybl-core/commit/9dd6a99fbda8cd9ae22c40696d145f4d588eb550", "message": "LoadFlow result 1.1\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-02T12:43:02Z", "type": "commit"}, {"oid": "7add44e86400092757180e7a832b89f0d2a34447", "url": "https://github.com/powsybl/powsybl-core/commit/7add44e86400092757180e7a832b89f0d2a34447", "message": "Add component number\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-02T12:54:52Z", "type": "commit"}, {"oid": "bfbb5c83c15a3b0bbce7370442a97e848631dfaa", "url": "https://github.com/powsybl/powsybl-core/commit/bfbb5c83c15a3b0bbce7370442a97e848631dfaa", "message": "Fix doc\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-02T13:01:01Z", "type": "commit"}, {"oid": "5d291b18527885b271f4ab9119422b0585276000", "url": "https://github.com/powsybl/powsybl-core/commit/5d291b18527885b271f4ab9119422b0585276000", "message": "Print components result\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-05T07:16:50Z", "type": "commit"}, {"oid": "f86d7cf057f45f1aa5125e48d31672aa6ad4e380", "url": "https://github.com/powsybl/powsybl-core/commit/f86d7cf057f45f1aa5125e48d31672aa6ad4e380", "message": "Add unit test\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-05T07:27:19Z", "type": "commit"}, {"oid": "65f07e5c60b0eacff30e703bb3122abf9d2be0fd", "url": "https://github.com/powsybl/powsybl-core/commit/65f07e5c60b0eacff30e703bb3122abf9d2be0fd", "message": "Minor fixes\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-05T07:30:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM5MjczNA==", "url": "https://github.com/powsybl/powsybl-core/pull/1497#discussion_r499392734", "bodyText": "I wonder about the possibility to have an enum here with at least:\n\nCONVERGED\nMAX_ITERATION_REACHED\nSOLVER_FAILED: I am not sure about the meaning\nNO_CALCULATION\nHades2 has a status that says if the result is realist or not. I think we don't need it because limit violations detection should be in the post processing.", "author": "annetill", "createdAt": "2020-10-05T07:30:32Z", "path": "loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/LoadFlowResult.java", "diffHunk": "@@ -6,18 +6,76 @@\n  */\n package com.powsybl.loadflow;\n \n+import java.util.Collections;\n+import java.util.List;\n import java.util.Map;\n \n /**\n+ * Loadflow result API.\n  *\n  * @author Geoffroy Jamgotchian <geoffroy.jamgotchian at rte-france.com>\n  */\n public interface LoadFlowResult {\n \n+    /**\n+     * Result for one component\n+     */\n+    interface ComponentResult {\n+\n+        /**\n+         * Get component number.\n+         * @return component number\n+         */\n+        int getComponentNum();\n+\n+        /**\n+         * Get detailed status of the computation on this component.\n+         * @return the detailed status of the computation on this component\n+         */\n+        String getStatus();", "originalCommit": "5d291b18527885b271f4ab9119422b0585276000", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQyMzg4Mw==", "url": "https://github.com/powsybl/powsybl-core/pull/1497#discussion_r499423883", "bodyText": "I would keep a string as status set could be different between loadflow implementations", "author": "geofjamg", "createdAt": "2020-10-05T08:24:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM5MjczNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3OTc2OA==", "url": "https://github.com/powsybl/powsybl-core/pull/1497#discussion_r499479768", "bodyText": "Thinking again, maybe you are right... if we want to rely on status to build more high level workflows we have to define all possible statuses.", "author": "geofjamg", "createdAt": "2020-10-05T09:56:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM5MjczNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ5MjMwNw==", "url": "https://github.com/powsybl/powsybl-core/pull/1497#discussion_r499492307", "bodyText": "Result not realist means we have converged to a state with very low voltages so outside by default [0.8, 1.2]. I think we should keep it.", "author": "geofjamg", "createdAt": "2020-10-05T10:18:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM5MjczNA=="}], "type": "inlineReview", "revised_code": {"commit": "7f933b3f2116b908d6cf41ab0ea00cac3cd117fd", "chunk": "diff --git a/loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/LoadFlowResult.java b/loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/LoadFlowResult.java\nindex 128941474..058ef9785 100644\n--- a/loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/LoadFlowResult.java\n+++ b/loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/LoadFlowResult.java\n\n@@ -22,6 +22,13 @@ public interface LoadFlowResult {\n      */\n     interface ComponentResult {\n \n+        enum Status {\n+            CONVERGED,\n+            MAX_ITERATION_REACHED,\n+            SOLVER_FAILED,\n+            FAILED\n+        }\n+\n         /**\n          * Get component number.\n          * @return component number\n"}}, {"oid": "d1c7091168c28a99cedbe6beba192d2112b6f396", "url": "https://github.com/powsybl/powsybl-core/commit/d1c7091168c28a99cedbe6beba192d2112b6f396", "message": "Fix locale in test\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-05T08:22:33Z", "type": "commit"}, {"oid": "83079a5ab381ec05fb1e8b3665e834e8967df2c9", "url": "https://github.com/powsybl/powsybl-core/commit/83079a5ab381ec05fb1e8b3665e834e8967df2c9", "message": "Windows fix\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-05T08:32:04Z", "type": "commit"}, {"oid": "7f933b3f2116b908d6cf41ab0ea00cac3cd117fd", "url": "https://github.com/powsybl/powsybl-core/commit/7f933b3f2116b908d6cf41ab0ea00cac3cd117fd", "message": "Status as an enum\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-10-05T13:57:08Z", "type": "commit"}, {"oid": "0a30a7a7c41383ee0a5f242ea907e93ed4c4095b", "url": "https://github.com/powsybl/powsybl-core/commit/0a30a7a7c41383ee0a5f242ea907e93ed4c4095b", "message": "Merge branch 'master' into lf_result_11", "committedDate": "2020-10-06T08:12:20Z", "type": "commit"}]}