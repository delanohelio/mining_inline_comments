{"pr_number": 1387, "pr_title": "KYLIN-4725 NSparkCubingStep returns error state when pause build job", "pr_createdAt": "2020-09-01T10:21:39Z", "pr_url": "https://github.com/apache/kylin/pull/1387", "timeline": [{"oid": "24cebd3ce8f0ded7ee1243cc5ba812ea6d64ba90", "url": "https://github.com/apache/kylin/commit/24cebd3ce8f0ded7ee1243cc5ba812ea6d64ba90", "message": "KYLIN-4725 NSparkCubingStep returns error state when pause build job", "committedDate": "2020-09-01T10:50:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE3NTI1OA==", "url": "https://github.com/apache/kylin/pull/1387#discussion_r481175258", "bodyText": "Could you please change to this way:\n} catch (JobStoppedException e) {\n    // Ignore it\n} catch (Throwable e) {\n    throw new ExecuteException(e);\n}", "author": "hit-lacus", "createdAt": "2020-09-01T14:22:20Z", "path": "core-job/src/main/java/org/apache/kylin/job/execution/AbstractExecutable.java", "diffHunk": "@@ -196,8 +196,10 @@ public final ExecuteResult execute(ExecutableContext executableContext) throws E\n                 try {\n                     result = doWork(executableContext);\n                 } catch (Throwable e) {\n-                    logger.error(\"error running Executable: {}\", this.toString());\n-                    catchedException = e;\n+                    if (!(e instanceof JobStoppedException)) {", "originalCommit": "24cebd3ce8f0ded7ee1243cc5ba812ea6d64ba90", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "028ca4322b4c41cb5b069a0cefcd714faccbafe2", "chunk": "diff --git a/core-job/src/main/java/org/apache/kylin/job/execution/AbstractExecutable.java b/core-job/src/main/java/org/apache/kylin/job/execution/AbstractExecutable.java\nindex 46cd69037..762897552 100644\n--- a/core-job/src/main/java/org/apache/kylin/job/execution/AbstractExecutable.java\n+++ b/core-job/src/main/java/org/apache/kylin/job/execution/AbstractExecutable.java\n\n@@ -195,11 +195,10 @@ public abstract class AbstractExecutable implements Executable, Idempotent {\n                 result = null;\n                 try {\n                     result = doWork(executableContext);\n+                } catch (JobStoppedException e) {\n+                    //The job be paused, ignore it\n                 } catch (Throwable e) {\n-                    if (!(e instanceof JobStoppedException)) {\n-                        logger.error(\"error running Executable: {}\", this.toString());\n-                        catchedException = e;\n-                    }\n+                    catchedException = e;\n                 } finally {\n                     cleanup(result);\n                 }\n"}}, {"oid": "028ca4322b4c41cb5b069a0cefcd714faccbafe2", "url": "https://github.com/apache/kylin/commit/028ca4322b4c41cb5b069a0cefcd714faccbafe2", "message": "KYLIN-4725 NSparkCubingStep returns error state when pause build job", "committedDate": "2020-09-02T01:44:14Z", "type": "commit"}, {"oid": "028ca4322b4c41cb5b069a0cefcd714faccbafe2", "url": "https://github.com/apache/kylin/commit/028ca4322b4c41cb5b069a0cefcd714faccbafe2", "message": "KYLIN-4725 NSparkCubingStep returns error state when pause build job", "committedDate": "2020-09-02T01:44:14Z", "type": "forcePushed"}]}