{"pr_number": 1340, "pr_title": "KYLIN-4679 StorageCleanupJob clean hive table support hive table prefix", "pr_createdAt": "2020-08-03T10:02:12Z", "pr_url": "https://github.com/apache/kylin/pull/1340", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ0MzYyNg==", "url": "https://github.com/apache/kylin/pull/1340#discussion_r466443626", "bodyText": "Is it a useless method?", "author": "hit-lacus", "createdAt": "2020-08-06T14:14:14Z", "path": "core-common/src/main/java/org/apache/kylin/common/util/HiveCmdBuilder.java", "diffHunk": "@@ -35,13 +35,22 @@\n \n     static final String CREATE_HQL_TMP_FILE_TEMPLATE = \"cat >%s<<EOL\\n%sEOL\";\n \n+    public static ThreadLocal<String> getHiveTablePrefix() {\n+        return hiveTablePrefix;\n+    }\n+\n+    public static void setHiveTablePrefix(ThreadLocal<String> hiveTablePrefix) {", "originalCommit": "c1046c93c1b1b6d29cb295da5fd925094e29ca01", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3c6a8f54991021980f31f9dad295252c785e71bd", "chunk": "diff --git a/core-common/src/main/java/org/apache/kylin/common/util/HiveCmdBuilder.java b/core-common/src/main/java/org/apache/kylin/common/util/HiveCmdBuilder.java\nindex 1df206e42..29b6cc8ee 100644\n--- a/core-common/src/main/java/org/apache/kylin/common/util/HiveCmdBuilder.java\n+++ b/core-common/src/main/java/org/apache/kylin/common/util/HiveCmdBuilder.java\n\n@@ -39,10 +39,6 @@ public class HiveCmdBuilder {\n         return hiveTablePrefix;\n     }\n \n-    public static void setHiveTablePrefix(ThreadLocal<String> hiveTablePrefix) {\n-        HiveCmdBuilder.hiveTablePrefix = hiveTablePrefix;\n-    }\n-\n     public enum HiveClientMode {\n         CLI, BEELINE\n     }\n"}}, {"oid": "3c6a8f54991021980f31f9dad295252c785e71bd", "url": "https://github.com/apache/kylin/commit/3c6a8f54991021980f31f9dad295252c785e71bd", "message": "KYLIN-4679 clean hive table support hive table prefix", "committedDate": "2020-08-10T06:14:41Z", "type": "commit"}, {"oid": "3c6a8f54991021980f31f9dad295252c785e71bd", "url": "https://github.com/apache/kylin/commit/3c6a8f54991021980f31f9dad295252c785e71bd", "message": "KYLIN-4679 clean hive table support hive table prefix", "committedDate": "2020-08-10T06:14:41Z", "type": "forcePushed"}]}