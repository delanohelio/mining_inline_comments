{"pr_number": 5004, "pr_title": "QACI-464 FISH-775 CmpRosterTest fails due to DirWatcher race dondition w/filesystem", "pr_createdAt": "2020-11-21T03:23:25Z", "pr_url": "https://github.com/payara/Payara/pull/5004", "timeline": [{"oid": "18f24ca43fa4cf483ae1a741478217e4c63757e2", "url": "https://github.com/payara/Payara/commit/18f24ca43fa4cf483ae1a741478217e4c63757e2", "message": "added ASURLClassLoader.mustLoadFrom() to indicate that DirWatcher should be disregarded due to race conditions", "committedDate": "2020-11-21T03:18:35Z", "type": "commit"}, {"oid": "18f24ca43fa4cf483ae1a741478217e4c63757e2", "url": "https://github.com/payara/Payara/commit/18f24ca43fa4cf483ae1a741478217e4c63757e2", "message": "added ASURLClassLoader.mustLoadFrom() to indicate that DirWatcher should be disregarded due to race conditions", "committedDate": "2020-11-21T03:18:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUxMTgwNw==", "url": "https://github.com/payara/Payara/pull/5004#discussion_r528511807", "bodyText": "Other than this typo, it looks good.", "author": "pdudits", "createdAt": "2020-11-23T07:38:54Z", "path": "nucleus/common/common-util/src/main/java/com/sun/enterprise/loader/ASURLClassLoader.java", "diffHunk": "@@ -120,6 +120,8 @@\n     */\n     private volatile String doneSnapshot;\n \n+    private boolean mostLoadInThisStackFrame;", "originalCommit": "18f24ca43fa4cf483ae1a741478217e4c63757e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg0MDQ0MQ==", "url": "https://github.com/payara/Payara/pull/5004#discussion_r528840441", "bodyText": "ah, thanks!", "author": "lprimak", "createdAt": "2020-11-23T16:36:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUxMTgwNw=="}], "type": "inlineReview", "revised_code": {"commit": "be3706df7745e53c5a4ceb41a05b5ad5cfd934e3", "chunk": "diff --git a/nucleus/common/common-util/src/main/java/com/sun/enterprise/loader/ASURLClassLoader.java b/nucleus/common/common-util/src/main/java/com/sun/enterprise/loader/ASURLClassLoader.java\nindex 5a272d9769..e80a05c6d0 100644\n--- a/nucleus/common/common-util/src/main/java/com/sun/enterprise/loader/ASURLClassLoader.java\n+++ b/nucleus/common/common-util/src/main/java/com/sun/enterprise/loader/ASURLClassLoader.java\n\n@@ -120,7 +120,7 @@ public class ASURLClassLoader extends CurrentBeforeParentClassLoader\n     */\n     private volatile String doneSnapshot;\n \n-    private boolean mostLoadInThisStackFrame;\n+    private boolean mustLoadInThisStackFrame;\n \n     /** streams opened by this loader */\n     private final List<SentinelInputStream> streams = new CopyOnWriteArrayList<>();\n"}}, {"oid": "be3706df7745e53c5a4ceb41a05b5ad5cfd934e3", "url": "https://github.com/payara/Payara/commit/be3706df7745e53c5a4ceb41a05b5ad5cfd934e3", "message": "fixed variable mis-spelling, copyright", "committedDate": "2020-11-23T16:41:07Z", "type": "commit"}, {"oid": "d8d371fd35c54c2c75362885dd3180efdc122896", "url": "https://github.com/payara/Payara/commit/d8d371fd35c54c2c75362885dd3180efdc122896", "message": "Merge remote-tracking branch 'upstream/master' into EJB-MUST-LOAD-DirWatcher", "committedDate": "2020-11-23T16:41:28Z", "type": "commit"}]}