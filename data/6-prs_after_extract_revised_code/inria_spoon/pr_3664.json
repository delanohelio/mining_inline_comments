{"pr_number": 3664, "pr_title": "feature: add support for pretty-printing Java 15 text blocks", "pr_createdAt": "2020-10-23T10:14:03Z", "pr_url": "https://github.com/INRIA/spoon/pull/3664", "timeline": [{"oid": "a3d92008b16b756b20e3eb842b37c14855675107", "url": "https://github.com/INRIA/spoon/commit/a3d92008b16b756b20e3eb842b37c14855675107", "message": "Fix a minor typo", "committedDate": "2020-10-23T09:15:52Z", "type": "commit"}, {"oid": "c4cc2362421bbf083a9d1039fccfdb7c20074de4", "url": "https://github.com/INRIA/spoon/commit/c4cc2362421bbf083a9d1039fccfdb7c20074de4", "message": "Implement CtTextBlock", "committedDate": "2020-10-23T09:15:52Z", "type": "commit"}, {"oid": "8fc169efe17b2addb8f42a433242666c11757b81", "url": "https://github.com/INRIA/spoon/commit/8fc169efe17b2addb8f42a433242666c11757b81", "message": "Add Factory methods to create textblock", "committedDate": "2020-10-23T10:00:10Z", "type": "commit"}, {"oid": "ac431bcad0e9be503d7566d3a33574874cc21839", "url": "https://github.com/INRIA/spoon/commit/ac431bcad0e9be503d7566d3a33574874cc21839", "message": "Make changes to Visitors to add CtTextBlock", "committedDate": "2020-10-23T17:57:57Z", "type": "commit"}, {"oid": "cd67115d1bd040dcc14ce28b41edbe0d98318e1f", "url": "https://github.com/INRIA/spoon/commit/cd67115d1bd040dcc14ce28b41edbe0d98318e1f", "message": "Add prettyprinting for TextBlock and testcase", "committedDate": "2020-10-23T21:43:44Z", "type": "commit"}, {"oid": "f0cd5f69accd563efab848cc975c746676909e75", "url": "https://github.com/INRIA/spoon/commit/f0cd5f69accd563efab848cc975c746676909e75", "message": "Add clone method to CtTextBlock interface and fix minor typo", "committedDate": "2020-10-23T21:51:34Z", "type": "commit"}, {"oid": "f98e48fae9f46a874acde39c3e8be116cca1144f", "url": "https://github.com/INRIA/spoon/commit/f98e48fae9f46a874acde39c3e8be116cca1144f", "message": "Add public API doc and add CtTextBlock to metamodel", "committedDate": "2020-10-24T08:34:53Z", "type": "commit"}, {"oid": "a442d5c6b0812c818a0e0f0a4a8cc44fafdb9551", "url": "https://github.com/INRIA/spoon/commit/a442d5c6b0812c818a0e0f0a4a8cc44fafdb9551", "message": "Enable preview in CommentTest to compile textblock snippet", "committedDate": "2020-10-24T09:31:21Z", "type": "commit"}, {"oid": "597b0fd84232f291f5e9e2e527029485020e80e3", "url": "https://github.com/INRIA/spoon/commit/597b0fd84232f291f5e9e2e527029485020e80e3", "message": "Change javadoc createTextBlock in Factory.java", "committedDate": "2020-10-24T10:14:57Z", "type": "commit"}, {"oid": "c3c7fcd02d0e85e4700b69b618e3f54a88d96c3d", "url": "https://github.com/INRIA/spoon/commit/c3c7fcd02d0e85e4700b69b618e3f54a88d96c3d", "message": "Make changes to CloneBuilder", "committedDate": "2020-10-24T10:24:38Z", "type": "commit"}, {"oid": "cdf8621ac1e1f6ad17641f304a19e639ac1198dd", "url": "https://github.com/INRIA/spoon/commit/cdf8621ac1e1f6ad17641f304a19e639ac1198dd", "message": "Auto generate CloneVisitor", "committedDate": "2020-10-24T12:39:01Z", "type": "commit"}, {"oid": "9ab22cd10bf99f2f3ef84bba8f64ef089c384581", "url": "https://github.com/INRIA/spoon/commit/9ab22cd10bf99f2f3ef84bba8f64ef089c384581", "message": "Auto generate ReplacementVisitor", "committedDate": "2020-10-24T12:44:19Z", "type": "commit"}, {"oid": "8363bc34cc3e3b4416876aa920bf4079a2427f75", "url": "https://github.com/INRIA/spoon/commit/8363bc34cc3e3b4416876aa920bf4079a2427f75", "message": "Auto generate ModelRoleHandlers", "committedDate": "2020-10-24T12:57:49Z", "type": "commit"}, {"oid": "cf0e993ce287787c884030962d9213774ed1d5ea", "url": "https://github.com/INRIA/spoon/commit/cf0e993ce287787c884030962d9213774ed1d5ea", "message": "Auto generate CtBiScannerDefault", "committedDate": "2020-10-24T13:01:52Z", "type": "commit"}, {"oid": "96225e18b3a141ea9507f8709eb3ced5f87068d6", "url": "https://github.com/INRIA/spoon/commit/96225e18b3a141ea9507f8709eb3ced5f87068d6", "message": "Add CtTextBlock in EqualsChecker", "committedDate": "2020-10-24T13:44:30Z", "type": "commit"}, {"oid": "53e3c75fd146d23807000a448abded01b1cb2888", "url": "https://github.com/INRIA/spoon/commit/53e3c75fd146d23807000a448abded01b1cb2888", "message": "Add doc for CtTextBlock and fix minor typo", "committedDate": "2020-10-24T16:46:07Z", "type": "commit"}, {"oid": "d4d94889d5de56f46de0fc31b8bf89e23860f4df", "url": "https://github.com/INRIA/spoon/commit/d4d94889d5de56f46de0fc31b8bf89e23860f4df", "message": "Make changes to TextBlock Pretty Printing", "committedDate": "2020-10-25T08:54:45Z", "type": "commit"}, {"oid": "882d153a01cc7c30fdf8653dd1e37947f46f3ee1", "url": "https://github.com/INRIA/spoon/commit/882d153a01cc7c30fdf8653dd1e37947f46f3ee1", "message": "Support TextBlock creation from parsed source and add tests checking creation of TextBlock element in model", "committedDate": "2020-10-25T09:17:20Z", "type": "commit"}, {"oid": "78ca285186232eacbaf708544ea6a509c5caacb6", "url": "https://github.com/INRIA/spoon/commit/78ca285186232eacbaf708544ea6a509c5caacb6", "message": "Add CtTextBlock to code_elements.md", "committedDate": "2020-10-25T10:30:02Z", "type": "commit"}, {"oid": "d13b5581414ebb71fef45f4f48fd3b7c929d4d8a", "url": "https://github.com/INRIA/spoon/commit/d13b5581414ebb71fef45f4f48fd3b7c929d4d8a", "message": "FIx CtInheritanceScannerTest failure", "committedDate": "2020-11-01T12:16:27Z", "type": "commit"}, {"oid": "f4091fb35f0302ccd68cd72932a3808565938c36", "url": "https://github.com/INRIA/spoon/commit/f4091fb35f0302ccd68cd72932a3808565938c36", "message": "Fix CtGenerationTest issue", "committedDate": "2020-11-01T14:14:19Z", "type": "commit"}, {"oid": "f62980c1c362ceca54cfda8d46e5071096b5d530", "url": "https://github.com/INRIA/spoon/commit/f62980c1c362ceca54cfda8d46e5071096b5d530", "message": "Fix checkstyle issues", "committedDate": "2020-11-01T14:49:03Z", "type": "commit"}, {"oid": "29f793f8db62e4b4c017e51c3a063aee8748f9bc", "url": "https://github.com/INRIA/spoon/commit/29f793f8db62e4b4c017e51c3a063aee8748f9bc", "message": "Add CtTextBlock to ControlFlowBuilder", "committedDate": "2020-11-01T15:18:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQ1MjcyNw==", "url": "https://github.com/INRIA/spoon/pull/3664#discussion_r516452727", "bodyText": "fix or remove?", "author": "monperrus", "createdAt": "2020-11-03T06:45:24Z", "path": "src/main/java/spoon/reflect/factory/CodeFactory.java", "diffHunk": "@@ -269,6 +270,19 @@ public CodeFactory(Factory factory) {\n \t\treturn literal;\n \t}\n \n+\t/**\n+\t * Creates a TextBlock with the given string value.\n+\t * @param value\n+\t * \t\tthe string value of the literal\n+\t * @return a new literal\n+\t */\n+\tpublic CtTextBlock createTextBlock(String value) {\n+\t\tCtTextBlock textblock = factory.Core().createTextBlock();\n+\t\ttextblock.setValue(value);\n+\t\t// TODO set textblock.setType", "originalCommit": "29f793f8db62e4b4c017e51c3a063aee8748f9bc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQ2MTE1Mg==", "url": "https://github.com/INRIA/spoon/pull/3664#discussion_r516461152", "bodyText": "Thank you very much for pointing out. I have made some changes. Kindly give them a look.", "author": "LakshyAAAgrawal", "createdAt": "2020-11-03T07:14:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQ1MjcyNw=="}], "type": "inlineReview", "revised_code": {"commit": "b316147414d75b221c16cee21d0859c92ee5a0f6", "chunk": "diff --git a/src/main/java/spoon/reflect/factory/CodeFactory.java b/src/main/java/spoon/reflect/factory/CodeFactory.java\nindex 3b941dff..d650ec02 100644\n--- a/src/main/java/spoon/reflect/factory/CodeFactory.java\n+++ b/src/main/java/spoon/reflect/factory/CodeFactory.java\n\n@@ -279,7 +279,7 @@ public class CodeFactory extends SubFactory {\n \tpublic CtTextBlock createTextBlock(String value) {\n \t\tCtTextBlock textblock = factory.Core().createTextBlock();\n \t\ttextblock.setValue(value);\n-\t\t// TODO set textblock.setType\n+\t\ttextblock.setType((CtTypeReference<String>) factory.Type().STRING);\n \t\treturn textblock;\n \t}\n \n"}}, {"oid": "b316147414d75b221c16cee21d0859c92ee5a0f6", "url": "https://github.com/INRIA/spoon/commit/b316147414d75b221c16cee21d0859c92ee5a0f6", "message": "Add Type to CtTextBlock factory", "committedDate": "2020-11-03T07:13:16Z", "type": "commit"}]}