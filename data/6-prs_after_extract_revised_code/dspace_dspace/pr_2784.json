{"pr_number": 2784, "pr_title": "DS-4466 REST API should obtain language settings from Client", "pr_createdAt": "2020-06-23T14:41:01Z", "pr_url": "https://github.com/DSpace/DSpace/pull/2784", "timeline": [{"oid": "908f4c761aeecf6ccde03230551bd548f98da8b3", "url": "https://github.com/DSpace/DSpace/commit/908f4c761aeecf6ccde03230551bd548f98da8b3", "message": "added initial implementantions for languages support", "committedDate": "2020-06-15T13:52:44Z", "type": "commit"}, {"oid": "36ef4224cd5cf8c5233dca4c15642e0d43caaee2", "url": "https://github.com/DSpace/DSpace/commit/36ef4224cd5cf8c5233dca4c15642e0d43caaee2", "message": "added configurations and submissions forms in italian and", "committedDate": "2020-06-15T13:56:49Z", "type": "commit"}, {"oid": "ec59b7d45e98c6031abe89d82f3aed6eb0ecf14a", "url": "https://github.com/DSpace/DSpace/commit/ec59b7d45e98c6031abe89d82f3aed6eb0ecf14a", "message": "added Filter for set Content-Language Header of the response", "committedDate": "2020-06-15T13:58:21Z", "type": "commit"}, {"oid": "0a37c5906a200b08d53d2584d403b74dae297280", "url": "https://github.com/DSpace/DSpace/commit/0a37c5906a200b08d53d2584d403b74dae297280", "message": "refactoring", "committedDate": "2020-06-15T14:00:03Z", "type": "commit"}, {"oid": "efcefef914c20684bdf229f609d4bcf8544267a3", "url": "https://github.com/DSpace/DSpace/commit/efcefef914c20684bdf229f609d4bcf8544267a3", "message": "added ITs for language support", "committedDate": "2020-06-15T14:00:19Z", "type": "commit"}, {"oid": "e2cf32dea33ab26b1f33224400a3b13bf081f972", "url": "https://github.com/DSpace/DSpace/commit/e2cf32dea33ab26b1f33224400a3b13bf081f972", "message": "added license", "committedDate": "2020-06-15T14:00:38Z", "type": "commit"}, {"oid": "60240b19ca4b5b495c5ff26ab06403380c219570", "url": "https://github.com/DSpace/DSpace/commit/60240b19ca4b5b495c5ff26ab06403380c219570", "message": "added ITs for check Content-Language header", "committedDate": "2020-06-15T14:01:04Z", "type": "commit"}, {"oid": "f093db181d43db0294df3c91c991b2ce9e9d33e0", "url": "https://github.com/DSpace/DSpace/commit/f093db181d43db0294df3c91c991b2ce9e9d33e0", "message": "Merge branch 'master' of https://github.com/DSpace/DSpace into DS-4466_new", "committedDate": "2020-06-18T16:00:27Z", "type": "commit"}, {"oid": "ea31ebef057a03934fa7131ed4db4ca535a07834", "url": "https://github.com/DSpace/DSpace/commit/ea31ebef057a03934fa7131ed4db4ca535a07834", "message": "Merge branch 'master' of https://github.com/DSpace/DSpace into DS-4466_new", "committedDate": "2020-06-18T17:38:00Z", "type": "commit"}, {"oid": "9b2451754676740535841001593b6be431e8c969", "url": "https://github.com/DSpace/DSpace/commit/9b2451754676740535841001593b6be431e8c969", "message": "Fix obviously wrong implementation", "committedDate": "2020-06-18T21:49:25Z", "type": "commit"}, {"oid": "e4d61191e61ddf7f994c6fea4c4b699ead688488", "url": "https://github.com/DSpace/DSpace/commit/e4d61191e61ddf7f994c6fea4c4b699ead688488", "message": "Disable test failing due to bug in the Mock library", "committedDate": "2020-06-18T21:52:49Z", "type": "commit"}, {"oid": "c23a5b64de597dc78212522b775289e530470ea2", "url": "https://github.com/DSpace/DSpace/commit/c23a5b64de597dc78212522b775289e530470ea2", "message": "Improve error handling and test env clenaup", "committedDate": "2020-06-19T07:35:40Z", "type": "commit"}, {"oid": "ffad77b43bbd07699c25e48ce1d39e3971c4bd5d", "url": "https://github.com/DSpace/DSpace/commit/ffad77b43bbd07699c25e48ce1d39e3971c4bd5d", "message": "[CST-2877] fix submission multi-lang", "committedDate": "2020-06-22T15:20:22Z", "type": "commit"}, {"oid": "20168056232a2b0035c0806d4329a2885af1b604", "url": "https://github.com/DSpace/DSpace/commit/20168056232a2b0035c0806d4329a2885af1b604", "message": "Merge branch 'DS-4466_new' of https://github.com/4science/DSpace into DS-4466_new", "committedDate": "2020-06-22T16:29:49Z", "type": "commit"}, {"oid": "8407a2f6888658f01f8485462aff4cf2ea2641ab", "url": "https://github.com/DSpace/DSpace/commit/8407a2f6888658f01f8485462aff4cf2ea2641ab", "message": "[CST-2877] fix", "committedDate": "2020-06-23T09:54:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4OTA0OQ==", "url": "https://github.com/DSpace/DSpace/pull/2784#discussion_r447089049", "bodyText": "Can we add JavaDocs here?  It looks like (to me) this method should say something like:  Reload the current Submission Form configuration based on the currently supported locales. This method can be used to force a reload if the configured supported locales change.", "author": "tdonohue", "createdAt": "2020-06-29T16:12:33Z", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/SubmissionFormRestRepository.java", "diffHunk": "@@ -65,4 +85,13 @@ public SubmissionFormRest findOne(Context context, String submitName) {\n     public Class<SubmissionFormRest> getDomainClass() {\n         return SubmissionFormRest.class;\n     }\n+\n+    public void reload() throws DCInputsReaderException {", "originalCommit": "8407a2f6888658f01f8485462aff4cf2ea2641ab", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2271237bc6729ad6508f7482e7fe6f67c5919d6e", "chunk": "diff --git a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/SubmissionFormRestRepository.java b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/SubmissionFormRestRepository.java\nindex 770438e18..76d680cf2 100644\n--- a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/SubmissionFormRestRepository.java\n+++ b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/SubmissionFormRestRepository.java\n\n@@ -86,6 +86,13 @@ public class SubmissionFormRestRepository extends DSpaceRestRepository<Submissio\n         return SubmissionFormRest.class;\n     }\n \n+    /**\n+     * Reload the current Submission Form configuration based on the currently\n+     * supported locales. This method can be used to force a reload if the\n+     * configured supported locales change.\n+     *\n+     * @throws DCInputsReaderException\n+     */\n     public void reload() throws DCInputsReaderException {\n         this.defaultInputReader = new DCInputsReader();\n         Locale[] locales = I18nUtil.getSupportedLocales();\n"}}, {"oid": "97b018e509f28a25fffebb515ea7e3005af19628", "url": "https://github.com/DSpace/DSpace/commit/97b018e509f28a25fffebb515ea7e3005af19628", "message": "Merge branch 'master' of https://github.com/DSpace/DSpace into DS-4466_new", "committedDate": "2020-06-29T21:42:32Z", "type": "commit"}, {"oid": "2271237bc6729ad6508f7482e7fe6f67c5919d6e", "url": "https://github.com/DSpace/DSpace/commit/2271237bc6729ad6508f7482e7fe6f67c5919d6e", "message": "Add javadoc for the reload method", "committedDate": "2020-06-29T21:48:37Z", "type": "commit"}, {"oid": "861170a179591ee0cc78e75c430caab1cd6219c3", "url": "https://github.com/DSpace/DSpace/commit/861170a179591ee0cc78e75c430caab1cd6219c3", "message": "added test and fix getLocale", "committedDate": "2020-07-02T17:55:53Z", "type": "commit"}]}