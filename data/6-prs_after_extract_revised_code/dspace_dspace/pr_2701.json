{"pr_number": 2701, "pr_title": "Expose the action and step as an embed on workflow related objects", "pr_createdAt": "2020-03-03T15:49:47Z", "pr_url": "https://github.com/DSpace/DSpace/pull/2701", "timeline": [{"oid": "53149bb65b2481a3d6e44f68ae12f790cb8b5355", "url": "https://github.com/DSpace/DSpace/commit/53149bb65b2481a3d6e44f68ae12f790cb8b5355", "message": "[Task 69114] exposed the action as an embed on claimedtasks", "committedDate": "2020-03-02T12:32:09Z", "type": "commit"}, {"oid": "d7e91e8e4c25a49b9ce9c0a59d78335266cdc49c", "url": "https://github.com/DSpace/DSpace/commit/d7e91e8e4c25a49b9ce9c0a59d78335266cdc49c", "message": "[Task 69256] made the Step into a link/embed on ClaimedTasks, PoolTasks and WorkflowItems", "committedDate": "2020-03-04T16:01:14Z", "type": "commit"}, {"oid": "50847855b2871caea4fed24a188c7222cb5cc3ca", "url": "https://github.com/DSpace/DSpace/commit/50847855b2871caea4fed24a188c7222cb5cc3ca", "message": "Merge pull request #18 from atmire/w2p-69256_workflow-steps-expose-from-claimed-and-pooled-tasks\n\n[Task 69256] made the Step into a link/embed on ClaimedTasks, PoolTas\u2026", "committedDate": "2020-03-05T09:31:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEyMjgwNg==", "url": "https://github.com/DSpace/DSpace/pull/2701#discussion_r389122806", "bodyText": "Please add JavaDocs to this new class & to the getStep public method below", "author": "tdonohue", "createdAt": "2020-03-06T20:16:22Z", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskStepLinkRepository.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest.repository;\n+\n+import java.sql.SQLException;\n+import javax.annotation.Nullable;\n+import javax.servlet.http.HttpServletRequest;\n+\n+import org.dspace.app.rest.model.ClaimedTaskRest;\n+import org.dspace.app.rest.model.WorkflowStepRest;\n+import org.dspace.app.rest.projection.Projection;\n+import org.dspace.core.Context;\n+import org.dspace.xmlworkflow.factory.XmlWorkflowFactory;\n+import org.dspace.xmlworkflow.storedcomponents.ClaimedTask;\n+import org.dspace.xmlworkflow.storedcomponents.service.ClaimedTaskService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.stereotype.Component;\n+\n+@Component(ClaimedTaskRest.CATEGORY + \".\" + ClaimedTaskRest.NAME + \".\" + ClaimedTaskRest.STEP)\n+public class ClaimedTaskStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {", "originalCommit": "50847855b2871caea4fed24a188c7222cb5cc3ca", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "37d32d58631e3451cf5afa1e2a181be0b64445c3", "chunk": "diff --git a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskStepLinkRepository.java b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskStepLinkRepository.java\nindex 7900d3b69..9ee277171 100644\n--- a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskStepLinkRepository.java\n+++ b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskStepLinkRepository.java\n\n@@ -23,6 +23,9 @@ import org.springframework.data.domain.Pageable;\n import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n import org.springframework.stereotype.Component;\n \n+/**\n+ * Link repository for the Steps subresources for an individual ClaimedTask\n+ */\n @Component(ClaimedTaskRest.CATEGORY + \".\" + ClaimedTaskRest.NAME + \".\" + ClaimedTaskRest.STEP)\n public class ClaimedTaskStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEyMzA4MQ==", "url": "https://github.com/DSpace/DSpace/pull/2701#discussion_r389123081", "bodyText": "Again, JavaDocs please for the class and the getStep method.", "author": "tdonohue", "createdAt": "2020-03-06T20:17:04Z", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskStepLinkRepository.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest.repository;\n+\n+import java.sql.SQLException;\n+import javax.annotation.Nullable;\n+import javax.servlet.http.HttpServletRequest;\n+\n+import org.dspace.app.rest.model.PoolTaskRest;\n+import org.dspace.app.rest.model.WorkflowStepRest;\n+import org.dspace.app.rest.projection.Projection;\n+import org.dspace.core.Context;\n+import org.dspace.xmlworkflow.factory.XmlWorkflowFactory;\n+import org.dspace.xmlworkflow.storedcomponents.PoolTask;\n+import org.dspace.xmlworkflow.storedcomponents.service.PoolTaskService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.stereotype.Component;\n+\n+@Component(PoolTaskRest.CATEGORY + \".\" + PoolTaskRest.NAME + \".\" + PoolTaskRest.STEP)\n+public class PoolTaskStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {", "originalCommit": "50847855b2871caea4fed24a188c7222cb5cc3ca", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "37d32d58631e3451cf5afa1e2a181be0b64445c3", "chunk": "diff --git a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskStepLinkRepository.java b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskStepLinkRepository.java\nindex 8b65ecd29..6e7f4f84a 100644\n--- a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskStepLinkRepository.java\n+++ b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskStepLinkRepository.java\n\n@@ -23,6 +23,9 @@ import org.springframework.data.domain.Pageable;\n import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n import org.springframework.stereotype.Component;\n \n+/**\n+ * Link repositoy for the Steps subresources of an individual PoolTask\n+ */\n @Component(PoolTaskRest.CATEGORY + \".\" + PoolTaskRest.NAME + \".\" + PoolTaskRest.STEP)\n public class PoolTaskStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEyNTk5MA==", "url": "https://github.com/DSpace/DSpace/pull/2701#discussion_r389125990", "bodyText": "Same here. JavaDocs for the class & getStep method.", "author": "tdonohue", "createdAt": "2020-03-06T20:23:56Z", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemStepLinkRepository.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest.repository;\n+\n+import java.sql.SQLException;\n+import java.util.List;\n+import javax.annotation.Nullable;\n+import javax.servlet.http.HttpServletRequest;\n+\n+import org.dspace.app.rest.model.WorkflowItemRest;\n+import org.dspace.app.rest.model.WorkflowStepRest;\n+import org.dspace.app.rest.projection.Projection;\n+import org.dspace.core.Context;\n+import org.dspace.xmlworkflow.factory.XmlWorkflowFactory;\n+import org.dspace.xmlworkflow.storedcomponents.ClaimedTask;\n+import org.dspace.xmlworkflow.storedcomponents.PoolTask;\n+import org.dspace.xmlworkflow.storedcomponents.XmlWorkflowItem;\n+import org.dspace.xmlworkflow.storedcomponents.service.ClaimedTaskService;\n+import org.dspace.xmlworkflow.storedcomponents.service.PoolTaskService;\n+import org.dspace.xmlworkflow.storedcomponents.service.XmlWorkflowItemService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.stereotype.Component;\n+\n+@Component(WorkflowItemRest.CATEGORY + \".\" + WorkflowItemRest.NAME + \".\" + WorkflowItemRest.STEP)\n+public class WorkflowItemStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {", "originalCommit": "50847855b2871caea4fed24a188c7222cb5cc3ca", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "37d32d58631e3451cf5afa1e2a181be0b64445c3", "chunk": "diff --git a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemStepLinkRepository.java b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemStepLinkRepository.java\nindex 44bc80474..30aac1579 100644\n--- a/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemStepLinkRepository.java\n+++ b/dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemStepLinkRepository.java\n\n@@ -28,6 +28,9 @@ import org.springframework.data.domain.Pageable;\n import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n import org.springframework.stereotype.Component;\n \n+/**\n+ * Link Repository for the Steps subresources of an individual WorkflowItem\n+ */\n @Component(WorkflowItemRest.CATEGORY + \".\" + WorkflowItemRest.NAME + \".\" + WorkflowItemRest.STEP)\n public class WorkflowItemStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {\n \n"}}, {"oid": "37d32d58631e3451cf5afa1e2a181be0b64445c3", "url": "https://github.com/DSpace/DSpace/commit/37d32d58631e3451cf5afa1e2a181be0b64445c3", "message": "Added javadoc to the StepLinkRepositories", "committedDate": "2020-03-10T14:03:38Z", "type": "commit"}]}