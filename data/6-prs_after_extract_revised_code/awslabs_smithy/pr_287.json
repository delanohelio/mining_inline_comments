{"pr_number": 287, "pr_title": "[0.10] Clean up LoaderVisitor and IDL loading", "pr_createdAt": "2020-02-23T21:11:46Z", "pr_url": "https://github.com/awslabs/smithy/pull/287", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ4MjgxOA==", "url": "https://github.com/awslabs/smithy/pull/287#discussion_r383482818", "bodyText": "s/ot/to", "author": "kstich", "createdAt": "2020-02-24T19:58:52Z", "path": "smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelAssembler.java", "diffHunk": "@@ -81,7 +82,33 @@\n \n     private TraitFactory traitFactory;\n     private ValidatorFactory validatorFactory;\n-    private final Map<String, Supplier<InputStream>> inputStreamModels = new HashMap<>();\n+\n+    /**\n+     * A map of files ot parse and load into the Model.", "originalCommit": "cd89c4495124c68bf3afc64b055a58a986f176ba", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1e1e4fab62ef702fa391468272ac03bf8b47b31e", "chunk": "diff --git a/smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelAssembler.java b/smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelAssembler.java\nindex ca164a334..8f52d3a67 100644\n--- a/smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelAssembler.java\n+++ b/smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelAssembler.java\n\n@@ -84,7 +84,7 @@ public final class ModelAssembler {\n     private ValidatorFactory validatorFactory;\n \n     /**\n-     * A map of files ot parse and load into the Model.\n+     * A map of files to parse and load into the Model.\n      *\n      * <p>A {@code TreeMap} is used to ensure that JSON models are loaded\n      * before IDL models. This is mostly a performance optimization. JSON\n"}}, {"oid": "1e1e4fab62ef702fa391468272ac03bf8b47b31e", "url": "https://github.com/awslabs/smithy/commit/1e1e4fab62ef702fa391468272ac03bf8b47b31e", "message": "Move IDL specific loading logic to IDL\n\nThis commit moves all IDL-specific model loading logic into the IDL\nloader and out of the LoaderVisitor. This cleans up the LoaderVisitor\nand also fixes a bug in how the `apply` statement wasn't properly\nresolving the targeted shape ID (it always assumed that the target was\nin the current namespace).", "committedDate": "2020-02-24T21:43:26Z", "type": "forcePushed"}, {"oid": "a3f30cd3546536769facee1b572e636727258e67", "url": "https://github.com/awslabs/smithy/commit/a3f30cd3546536769facee1b572e636727258e67", "message": "Reduce forward reference lookups\n\nThis commit ensures that JSON IDL models are loaded before IDL models to\nreduce forward reference lookups when loading IDL models.", "committedDate": "2020-02-24T21:42:50Z", "type": "commit"}, {"oid": "1e1e4fab62ef702fa391468272ac03bf8b47b31e", "url": "https://github.com/awslabs/smithy/commit/1e1e4fab62ef702fa391468272ac03bf8b47b31e", "message": "Move IDL specific loading logic to IDL\n\nThis commit moves all IDL-specific model loading logic into the IDL\nloader and out of the LoaderVisitor. This cleans up the LoaderVisitor\nand also fixes a bug in how the `apply` statement wasn't properly\nresolving the targeted shape ID (it always assumed that the target was\nin the current namespace).", "committedDate": "2020-02-24T21:43:26Z", "type": "commit"}]}