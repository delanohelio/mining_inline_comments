{"pr_number": 324, "pr_title": "Make error message more clear for duplicate shapes", "pr_createdAt": "2020-03-26T02:31:23Z", "pr_url": "https://github.com/awslabs/smithy/pull/324", "timeline": [{"oid": "d04831d2bfef7b201a2e19369790388ec852f15d", "url": "https://github.com/awslabs/smithy/commit/d04831d2bfef7b201a2e19369790388ec852f15d", "message": "Make error message more clear for duplicate shapes\n\nThis commit updates model loaders to fail at the point that a duplicate\nshape definition is detected in a file. This results in clearer error\nmessages when a shape is defined with the same name, particularly if one\nconflicting shape supports members while the other does not. Previously,\nin this case, a cryptic error message would be returned stating that a\nmember cannot be added to a builder:\n\n    Member `example.foo#Bar$Baz` cannot be added to\n    software.amazon.smithy.model.shapes.OperationShape$Builder\n\nThis now becomes:\n\n    [ERROR] -: Duplicate shape definition for\n    `example.foo#Bar$Baz` found at\n    `/path/file.smithy [3, 1]` and `/path/file.smithy [5, 1]` | Model", "committedDate": "2020-03-26T02:25:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI4MzE3Mg==", "url": "https://github.com/awslabs/smithy/pull/324#discussion_r398283172", "bodyText": "This try/catch wasn't necessary", "author": "mtdowling", "createdAt": "2020-03-26T02:31:40Z", "path": "smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelLoader.java", "diffHunk": "@@ -54,28 +53,18 @@ private ModelLoader() {}\n      * @throws SourceException if there is an error reading from the contents.\n      */\n     static boolean load(String filename, Supplier<InputStream> contentSupplier, LoaderVisitor visitor) {\n-        try {", "originalCommit": "d04831d2bfef7b201a2e19369790388ec852f15d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}