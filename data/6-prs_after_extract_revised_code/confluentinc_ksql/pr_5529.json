{"pr_number": 5529, "pr_title": "fix: deals with issue #5521 by adding more descriptive error message", "pr_createdAt": "2020-06-02T18:10:53Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5529", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA4NDA2Nw==", "url": "https://github.com/confluentinc/ksql/pull/5529#discussion_r434084067", "bodyText": "it looks like you have IntelliJ set to use 4 spaces for tabs instead of 2. Please make sure to change that style setting and change this file back :)", "author": "agavra", "createdAt": "2020-06-02T18:17:52Z", "path": "ksqldb-engine/src/main/java/io/confluent/ksql/engine/InsertValuesExecutor.java", "diffHunk": "@@ -100,41 +100,41 @@ public InsertValuesExecutor() {\n   public interface RecordProducer {\n \n     void sendRecord(\n-        ProducerRecord<byte[], byte[]> record,\n-        ServiceContext serviceContext,\n-        Map<String, Object> producerProps\n+            ProducerRecord<byte[], byte[]> record,", "originalCommit": "124a657ff8827fc236c93a4fc57493e1a30f22be", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "604c9e36d37d43e4af573e002ec355db107d9dbc", "chunk": "diff --git a/ksqldb-engine/src/main/java/io/confluent/ksql/engine/InsertValuesExecutor.java b/ksqldb-engine/src/main/java/io/confluent/ksql/engine/InsertValuesExecutor.java\nindex 3ce7ad36e4..f6feaff871 100644\n--- a/ksqldb-engine/src/main/java/io/confluent/ksql/engine/InsertValuesExecutor.java\n+++ b/ksqldb-engine/src/main/java/io/confluent/ksql/engine/InsertValuesExecutor.java\n\n@@ -100,41 +100,41 @@ public class InsertValuesExecutor {\n   public interface RecordProducer {\n \n     void sendRecord(\n-            ProducerRecord<byte[], byte[]> record,\n-            ServiceContext serviceContext,\n-            Map<String, Object> producerProps\n+        ProducerRecord<byte[], byte[]> record,\n+        ServiceContext serviceContext,\n+        Map<String, Object> producerProps\n     );\n   }\n \n   @VisibleForTesting\n   InsertValuesExecutor(\n-          final boolean canBeDisabledByConfig,\n-          final RecordProducer producer\n+      final boolean canBeDisabledByConfig,\n+      final RecordProducer producer\n   ) {\n     this(\n-            producer,\n-            canBeDisabledByConfig,\n-            System::currentTimeMillis,\n-            new GenericKeySerDe(),\n-            new GenericRowSerDe()\n+        producer,\n+        canBeDisabledByConfig,\n+        System::currentTimeMillis,\n+        new GenericKeySerDe(),\n+        new GenericRowSerDe()\n     );\n   }\n \n   @VisibleForTesting\n   InsertValuesExecutor(\n-          final LongSupplier clock,\n-          final KeySerdeFactory keySerdeFactory,\n-          final ValueSerdeFactory valueSerdeFactory\n+      final LongSupplier clock,\n+      final KeySerdeFactory keySerdeFactory,\n+      final ValueSerdeFactory valueSerdeFactory\n   ) {\n     this(InsertValuesExecutor::sendRecord, true, clock, keySerdeFactory, valueSerdeFactory);\n   }\n \n   private InsertValuesExecutor(\n-          final RecordProducer producer,\n-          final boolean canBeDisabledByConfig,\n-          final LongSupplier clock,\n-          final KeySerdeFactory keySerdeFactory,\n-          final ValueSerdeFactory valueSerdeFactory\n+      final RecordProducer producer,\n+      final boolean canBeDisabledByConfig,\n+      final LongSupplier clock,\n+      final KeySerdeFactory keySerdeFactory,\n+      final ValueSerdeFactory valueSerdeFactory\n   ) {\n     this.canBeDisabledByConfig = canBeDisabledByConfig;\n     this.producer = Objects.requireNonNull(producer, \"producer\");\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA4NDkzOQ==", "url": "https://github.com/confluentinc/ksql/pull/5529#discussion_r434084939", "bodyText": "this change seems to be leftover from a previous commit - please make sure to rebase from master and push only the most recent commit to this PR branch. (same comment about the files below)", "author": "agavra", "createdAt": "2020-06-02T18:18:53Z", "path": "ksqldb-execution/src/main/java/io/confluent/ksql/execution/codegen/CodeGenSpec.java", "diffHunk": "@@ -101,9 +101,8 @@ public String getStructSchemaName(final CreateStructExpression createStructExpre\n     private final Map<ColumnName, String> columnRefToName = new HashMap<>();\n     private final ImmutableListMultimap.Builder<FunctionName, String> functionNameBuilder =\n         ImmutableListMultimap.builder();\n-    private final ImmutableMap.Builder<CreateStructExpression, String> structToSchemaName =\n-        ImmutableMap.builder();\n-\n+    private final Map<CreateStructExpression, String> structToSchemaName =\n+            new HashMap<CreateStructExpression, String>();", "originalCommit": "124a657ff8827fc236c93a4fc57493e1a30f22be", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "url": "https://github.com/confluentinc/ksql/commit/9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "message": "add more descriptive error message for issue 5282/5521", "committedDate": "2020-06-02T21:35:41Z", "type": "commit"}, {"oid": "9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "url": "https://github.com/confluentinc/ksql/commit/9cf7e7c4fd7ae67d5ed85f9397eaa00e36d64cab", "message": "add more descriptive error message for issue 5282/5521", "committedDate": "2020-06-02T21:35:41Z", "type": "forcePushed"}, {"oid": "604c9e36d37d43e4af573e002ec355db107d9dbc", "url": "https://github.com/confluentinc/ksql/commit/604c9e36d37d43e4af573e002ec355db107d9dbc", "message": "fix space formatting", "committedDate": "2020-06-02T21:42:38Z", "type": "commit"}, {"oid": "87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "url": "https://github.com/confluentinc/ksql/commit/87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "message": "Revert \"fix space formatting\"\n\nThis reverts commit 604c9e36d37d43e4af573e002ec355db107d9dbc.", "committedDate": "2020-06-02T22:41:55Z", "type": "commit"}, {"oid": "87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "url": "https://github.com/confluentinc/ksql/commit/87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f", "message": "Revert \"fix space formatting\"\n\nThis reverts commit 604c9e36d37d43e4af573e002ec355db107d9dbc.", "committedDate": "2020-06-02T22:41:55Z", "type": "forcePushed"}, {"oid": "b4e88647acaae627ca40c82071c97b743d9015e8", "url": "https://github.com/confluentinc/ksql/commit/b4e88647acaae627ca40c82071c97b743d9015e8", "message": "Revert \"Revert \"fix space formatting\"\"\n\nThis reverts commit 87c3ba3ef68d13f4a8158a7a4c168b67675c1b8f.", "committedDate": "2020-06-02T22:44:57Z", "type": "commit"}]}