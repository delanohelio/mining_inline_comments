{"pr_number": 892, "pr_title": "recursively build joins for multilevel nested models", "pr_createdAt": "2020-10-10T10:53:45Z", "pr_url": "https://github.com/aws-amplify/amplify-android/pull/892", "timeline": [{"oid": "b194a2ddce8a9f4bf3956194977928bd718043a8", "url": "https://github.com/aws-amplify/amplify-android/commit/b194a2ddce8a9f4bf3956194977928bd718043a8", "message": "recursively build joins for multilevel nested models", "committedDate": "2020-10-10T10:41:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTAwNg==", "url": "https://github.com/aws-amplify/amplify-android/pull/892#discussion_r507991006", "bodyText": "If you like it, this should work, too:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    adapter.save(blogOwner);\n          \n          \n            \n                    adapter.save(blog);\n          \n          \n            \n                    adapter.save(post);\n          \n          \n            \n                    adapter.save(comment);\n          \n          \n            \n                    adapter.save(blogOwner, blog, post, comment);", "author": "jamesonwilliams", "createdAt": "2020-10-19T18:57:17Z", "path": "aws-datastore/src/androidTest/java/com/amplifyframework/datastore/storage/sqlite/SQLiteStorageAdapterQueryTest.java", "diffHunk": "@@ -146,6 +147,46 @@ public void querySavedDataWithForeignKey() throws DataStoreException {\n         assertTrue(blogs.contains(blog));\n     }\n \n+    /**\n+     * Test that querying the saved item with a foreign key\n+     * also populates that instance variable with object.\n+     * @throws DataStoreException On unexpected failure manipulating items in/out of DataStore\n+     */\n+    @Test\n+    public void querySavedDataWithMultiLevelJoins() throws DataStoreException {\n+        final BlogOwner blogOwner = BlogOwner.builder()\n+            .name(\"Alan Turing\")\n+            .build();\n+\n+        final Blog blog = Blog.builder()\n+            .name(\"Alan's Software Blog\")\n+            .owner(blogOwner)\n+            .build();\n+\n+        final Post post = Post.builder()\n+            .title(\"Alan's first post\")\n+            .status(PostStatus.ACTIVE)\n+            .rating(2)\n+            .blog(blog)\n+            .build();\n+\n+        final Comment comment = Comment.builder()\n+            .content(\"Alan's first comment\")\n+            .post(post)\n+            .build();\n+\n+        adapter.save(blogOwner);\n+        adapter.save(blog);\n+        adapter.save(post);\n+        adapter.save(comment);", "originalCommit": "b194a2ddce8a9f4bf3956194977928bd718043a8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}