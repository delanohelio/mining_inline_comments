{"pr_number": 4211, "pr_title": "[WFCORE-4973] Increasing LongOutputTestCase timeout from 10 to 20 seconds", "pr_createdAt": "2020-05-19T13:01:52Z", "pr_url": "https://github.com/wildfly/wildfly-core/pull/4211", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODAxMDMwMg==", "url": "https://github.com/wildfly/wildfly-core/pull/4211#discussion_r428010302", "bodyText": "100 seconds is 1 order of magnitude more. It seems a lot.\nWould doubling to 20s be enough?\nOr could we instead use org.jboss.as.test.shared.TimeoutUtil#adjust to adjust the time of this test?", "author": "jmesnil", "createdAt": "2020-05-20T13:29:02Z", "path": "testsuite/standalone/src/test/java/org/jboss/as/test/integration/management/cli/LongOutputTestCase.java", "diffHunk": "@@ -389,7 +389,7 @@ public void testEnableOutputPagingViaXml() throws Exception {\n     private void testDisabledOutputPaging() throws Exception {\n         consoleWriter.println(\"/subsystem=elytron:read-resource-description(recursive=true)\");\n         Assert.assertFalse(consoleWriter.checkError());\n-        String window = queue.poll(10, TimeUnit.SECONDS);\n+        String window = queue.poll(100, TimeUnit.SECONDS);", "originalCommit": "460b4780f34ffa29b356c9e95bb36ea56c3aa72e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUwMjY3OA==", "url": "https://github.com/wildfly/wildfly-core/pull/4211#discussion_r428502678", "bodyText": "This problem pops up if I'm running whole WildFly test suite only (~ 2.5 hours).\nIf I run the test standalone, it always passes for me.\nYou are right @jmesnil 100 seconds is much more higher but\ntest usually doesn't spend so much time in it. It is just safer upper bound.\nIf you still prefer 20 seconds instead, please let me know - I will change it and will test it locally.", "author": "ropalka", "createdAt": "2020-05-21T07:56:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODAxMDMwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM2ODI5MA==", "url": "https://github.com/wildfly/wildfly-core/pull/4211#discussion_r430368290", "bodyText": "@ropalka Let's double it and use org.jboss.as.test.shared.TimeoutUtil#adjust to adjust it automatically when it is run in our CI, thanks", "author": "jmesnil", "createdAt": "2020-05-26T12:18:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODAxMDMwMg=="}], "type": "inlineReview", "revised_code": {"commit": "d709098a32849eaa2768fd33f4dfb79987e09cd1", "chunk": "diff --git a/testsuite/standalone/src/test/java/org/jboss/as/test/integration/management/cli/LongOutputTestCase.java b/testsuite/standalone/src/test/java/org/jboss/as/test/integration/management/cli/LongOutputTestCase.java\nindex 2dc9680fde..efd6e3f3fd 100644\n--- a/testsuite/standalone/src/test/java/org/jboss/as/test/integration/management/cli/LongOutputTestCase.java\n+++ b/testsuite/standalone/src/test/java/org/jboss/as/test/integration/management/cli/LongOutputTestCase.java\n\n@@ -389,7 +390,7 @@ public class LongOutputTestCase {\n     private void testDisabledOutputPaging() throws Exception {\n         consoleWriter.println(\"/subsystem=elytron:read-resource-description(recursive=true)\");\n         Assert.assertFalse(consoleWriter.checkError());\n-        String window = queue.poll(100, TimeUnit.SECONDS);\n+        String window = queue.poll(TimeoutUtil.adjust(20), TimeUnit.SECONDS);\n \n         Assert.assertNotNull(window);\n         checkWithRegex(window, promptPattern);\n"}}, {"oid": "d709098a32849eaa2768fd33f4dfb79987e09cd1", "url": "https://github.com/wildfly/wildfly-core/commit/d709098a32849eaa2768fd33f4dfb79987e09cd1", "message": "[WFCORE-4973] Increasing LongOutputTestCase timeout from 10 to 100 seconds", "committedDate": "2020-07-12T08:15:57Z", "type": "forcePushed"}, {"oid": "d4827597b4659aab3c4efe53c26387e90a3dbbbb", "url": "https://github.com/wildfly/wildfly-core/commit/d4827597b4659aab3c4efe53c26387e90a3dbbbb", "message": "[WFCORE-4973] Increasing LongOutputTestCase timeout from 10 to 20 seconds", "committedDate": "2020-07-15T08:16:25Z", "type": "commit"}, {"oid": "d4827597b4659aab3c4efe53c26387e90a3dbbbb", "url": "https://github.com/wildfly/wildfly-core/commit/d4827597b4659aab3c4efe53c26387e90a3dbbbb", "message": "[WFCORE-4973] Increasing LongOutputTestCase timeout from 10 to 20 seconds", "committedDate": "2020-07-15T08:16:25Z", "type": "forcePushed"}]}