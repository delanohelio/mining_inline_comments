{"pr_number": 2044, "pr_title": "Feature/#739 vault search ui", "pr_createdAt": "2020-11-23T06:03:49Z", "pr_url": "https://github.com/FAForever/downlords-faf-client/pull/2044", "timeline": [{"oid": "072e2cb8e32b6e36bb2cf1bcbd7eb1e809f4695b", "url": "https://github.com/FAForever/downlords-faf-client/commit/072e2cb8e32b6e36bb2cf1bcbd7eb1e809f4695b", "message": "Add filter based search for vault", "committedDate": "2020-11-26T01:17:06Z", "type": "forcePushed"}, {"oid": "e0d83d816a19502f1ae3218f136d97fdda1bc961", "url": "https://github.com/FAForever/downlords-faf-client/commit/e0d83d816a19502f1ae3218f136d97fdda1bc961", "message": "Add filter based search for vault", "committedDate": "2020-11-26T01:59:02Z", "type": "forcePushed"}, {"oid": "9866b0c046826d2d4d1fe126bfed351755f2f3cf", "url": "https://github.com/FAForever/downlords-faf-client/commit/9866b0c046826d2d4d1fe126bfed351755f2f3cf", "message": "Update text", "committedDate": "2020-11-28T03:02:58Z", "type": "forcePushed"}, {"oid": "4ab2265d42cde05feeab8257dad87fefac845662", "url": "https://github.com/FAForever/downlords-faf-client/commit/4ab2265d42cde05feeab8257dad87fefac845662", "message": "Add clearable text field to text filter", "committedDate": "2020-12-01T14:45:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIzMDg5OA==", "url": "https://github.com/FAForever/downlords-faf-client/pull/2044#discussion_r534230898", "bodyText": "Method too long", "author": "1-alex98", "createdAt": "2020-12-02T14:55:58Z", "path": "src/main/java/com/faforever/client/replay/OnlineReplayVaultController.java", "diffHunk": "@@ -110,6 +115,87 @@ protected Node getDetailView() {\n     return replayDetailController.getRoot();\n   }\n \n+  protected void initSearchController() {", "originalCommit": "89620212657c8dbff613b717ace305c942d8df86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU4NzEzMw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/2044#discussion_r534587133", "bodyText": "Broke it up", "author": "Sheikah45", "createdAt": "2020-12-03T01:00:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIzMDg5OA=="}], "type": "inlineReview", "revised_code": {"commit": "d9bd5fce9286bb7e142c5fdc3098755e34de3bf2", "chunk": "diff --git a/src/main/java/com/faforever/client/replay/OnlineReplayVaultController.java b/src/main/java/com/faforever/client/replay/OnlineReplayVaultController.java\nindex 39828fbe8..1ea9c60da 100644\n--- a/src/main/java/com/faforever/client/replay/OnlineReplayVaultController.java\n+++ b/src/main/java/com/faforever/client/replay/OnlineReplayVaultController.java\n\n@@ -123,35 +119,11 @@ public class OnlineReplayVaultController extends VaultEntityController<Replay> {\n     searchController.setVaultRoot(vaultRoot);\n     searchController.setSavedQueries(preferencesService.getPreferences().getVaultPrefs().getSavedReplayQueries());\n \n-    TextFilterController playerFilterController = uiService.loadFxml(\"theme/vault/search/textFilter.fxml\");\n-    playerFilterController.setPropertyName(\"playerStats.player.login\");\n-    playerFilterController.setTitle(i18n.get(\"game.player.username\"));\n-    playerFilterController.setOnAction(() -> searchController.onSearchButtonClicked());\n-    searchController.addFilterNode(playerFilterController);\n-\n-    TextFilterController mapNameFilterController = uiService.loadFxml(\"theme/vault/search/textFilter.fxml\");\n-    mapNameFilterController.setPropertyName(\"mapVersion.map.displayName\");\n-    mapNameFilterController.setTitle(i18n.get(\"game.map.displayName\"));\n-    mapNameFilterController.setOnAction(() -> searchController.onSearchButtonClicked());\n-    searchController.addFilterNode(mapNameFilterController);\n-\n-    TextFilterController mapAuthorFilterController = uiService.loadFxml(\"theme/vault/search/textFilter.fxml\");\n-    mapAuthorFilterController.setPropertyName(\"mapVersion.map.author.login\");\n-    mapAuthorFilterController.setTitle(i18n.get(\"game.map.author\"));\n-    mapAuthorFilterController.setOnAction(() -> searchController.onSearchButtonClicked());\n-    searchController.addFilterNode(mapAuthorFilterController);\n-\n-    TextFilterController gameNameFilterController = uiService.loadFxml(\"theme/vault/search/textFilter.fxml\");\n-    gameNameFilterController.setPropertyName(\"name\");\n-    gameNameFilterController.setTitle(i18n.get(\"game.title\"));\n-    gameNameFilterController.setOnAction(() -> searchController.onSearchButtonClicked());\n-    searchController.addFilterNode(gameNameFilterController);\n-\n-    TextFilterController gameIDFilterController = uiService.loadFxml(\"theme/vault/search/textFilter.fxml\");\n-    gameIDFilterController.setPropertyName(\"id\");\n-    gameIDFilterController.setTitle(i18n.get(\"game.id\"));\n-    gameIDFilterController.setOnAction(() -> searchController.onSearchButtonClicked());\n-    searchController.addFilterNode(gameIDFilterController);\n+    searchController.addTextFilter(\"playerStats.player.login\", i18n.get(\"game.player.username\"));\n+    searchController.addTextFilter(\"mapVersion.map.displayName\", i18n.get(\"game.map.displayName\"));\n+    searchController.addTextFilter(\"mapVersion.map.author.login\", i18n.get(\"game.map.author\"));\n+    searchController.addTextFilter(\"name\", i18n.get(\"game.title\"));\n+    searchController.addTextFilter(\"id\", i18n.get(\"game.id\"));\n \n     CategoryFilterController featuredModFilterController = uiService.loadFxml(\"theme/vault/search/categoryFilter.fxml\");\n     featuredModFilterController.setTitle(i18n.get(\"featuredMod.displayName\"));\n"}}, {"oid": "d9bd5fce9286bb7e142c5fdc3098755e34de3bf2", "url": "https://github.com/FAForever/downlords-faf-client/commit/d9bd5fce9286bb7e142c5fdc3098755e34de3bf2", "message": "Add filter based search for vault", "committedDate": "2020-12-07T16:03:03Z", "type": "commit"}, {"oid": "d9bd5fce9286bb7e142c5fdc3098755e34de3bf2", "url": "https://github.com/FAForever/downlords-faf-client/commit/d9bd5fce9286bb7e142c5fdc3098755e34de3bf2", "message": "Add filter based search for vault", "committedDate": "2020-12-07T16:03:03Z", "type": "forcePushed"}]}