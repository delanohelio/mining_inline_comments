{"pr_number": 2038, "pr_title": "Bugfix/#2024 Filtering users in chat makes chat only users disappear forever", "pr_createdAt": "2020-11-15T02:56:09Z", "pr_url": "https://github.com/FAForever/downlords-faf-client/pull/2038", "timeline": [{"oid": "0b8cd0c38ba9008476bf8028294a9c78af842e0e", "url": "https://github.com/FAForever/downlords-faf-client/commit/0b8cd0c38ba9008476bf8028294a9c78af842e0e", "message": "#2024 fix a bug when all users of 'chat only' group disappears for\ntyping on username search field", "committedDate": "2020-11-15T05:47:07Z", "type": "commit"}, {"oid": "0b8cd0c38ba9008476bf8028294a9c78af842e0e", "url": "https://github.com/FAForever/downlords-faf-client/commit/0b8cd0c38ba9008476bf8028294a9c78af842e0e", "message": "#2024 fix a bug when all users of 'chat only' group disappears for\ntyping on username search field", "committedDate": "2020-11-15T05:47:07Z", "type": "forcePushed"}, {"oid": "828bf6f1cc4fa11bb01c3c7183a326fa6400376d", "url": "https://github.com/FAForever/downlords-faf-client/commit/828bf6f1cc4fa11bb01c3c7183a326fa6400376d", "message": "add unit tests", "committedDate": "2020-11-15T10:01:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzc5MzE2NQ==", "url": "https://github.com/FAForever/downlords-faf-client/pull/2038#discussion_r523793165", "bodyText": "Add a comment that this addresses chat-only users for future reference.", "author": "Brutus5000", "createdAt": "2020-11-15T18:15:37Z", "path": "src/main/java/com/faforever/client/chat/UserFilterController.java", "diffHunk": "@@ -177,8 +182,12 @@ boolean isGameStatusMatch(ChatChannelUser chatUser) {\n   }\n \n   boolean isCountryMatch(ChatChannelUser chatUser) {\n+    if (countryFilterField.getText().isEmpty()) {", "originalCommit": "828bf6f1cc4fa11bb01c3c7183a326fa6400376d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a4eb65ce3bce6777436a97ac4d6069d538f2e0c4", "chunk": "diff --git a/src/main/java/com/faforever/client/chat/UserFilterController.java b/src/main/java/com/faforever/client/chat/UserFilterController.java\nindex 2ae10af5..9b989f32 100644\n--- a/src/main/java/com/faforever/client/chat/UserFilterController.java\n+++ b/src/main/java/com/faforever/client/chat/UserFilterController.java\n\n@@ -182,6 +181,7 @@ public class UserFilterController implements Controller<Node> {\n   }\n \n   boolean isCountryMatch(ChatChannelUser chatUser) {\n+    // Users of  'chat only' group have no country so that need to check it for empty string\n     if (countryFilterField.getText().isEmpty()) {\n       return true;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzc5MzE3MA==", "url": "https://github.com/FAForever/downlords-faf-client/pull/2038#discussion_r523793170", "bodyText": "remove empty line", "author": "Brutus5000", "createdAt": "2020-11-15T18:15:43Z", "path": "src/main/java/com/faforever/client/chat/UserFilterController.java", "diffHunk": "@@ -80,13 +80,18 @@ public void filterUsers() {\n   }\n \n   private boolean filterUser(CategoryOrChatUserListItem userListItem) {\n+    if (userListItem.getCategory() != null) {\n+", "originalCommit": "828bf6f1cc4fa11bb01c3c7183a326fa6400376d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a4eb65ce3bce6777436a97ac4d6069d538f2e0c4", "chunk": "diff --git a/src/main/java/com/faforever/client/chat/UserFilterController.java b/src/main/java/com/faforever/client/chat/UserFilterController.java\nindex 2ae10af5..9b989f32 100644\n--- a/src/main/java/com/faforever/client/chat/UserFilterController.java\n+++ b/src/main/java/com/faforever/client/chat/UserFilterController.java\n\n@@ -81,7 +81,6 @@ public class UserFilterController implements Controller<Node> {\n \n   private boolean filterUser(CategoryOrChatUserListItem userListItem) {\n     if (userListItem.getCategory() != null) {\n-\n       // The categories should display in the list independently of a filter\n       return true;\n     }\n"}}, {"oid": "a4eb65ce3bce6777436a97ac4d6069d538f2e0c4", "url": "https://github.com/FAForever/downlords-faf-client/commit/a4eb65ce3bce6777436a97ac4d6069d538f2e0c4", "message": "add comment", "committedDate": "2020-11-16T18:03:09Z", "type": "commit"}]}