{"pr_number": 1878, "pr_title": "copy local replay info to clipboard", "pr_createdAt": "2020-09-02T21:43:40Z", "pr_url": "https://github.com/FAForever/downlords-faf-client/pull/1878", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDI0Nw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r483824247", "bodyText": "we use internationalization so this needs to be translatable. Use the i18n service. Just make a constructor parameter like all the other services. You then enter the english translation in the message.properties file in the resources/i18n folder", "author": "1-alex98", "createdAt": "2020-09-04T20:07:54Z", "path": "src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java", "diffHunk": "@@ -120,6 +124,25 @@ protected void loadLocalReplaysInBackground() {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = new ContextMenu();\n+    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");", "originalCommit": "3800615e77fc2fe2936352275f0e295f1bc268a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNjg4Ng==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r485206886", "bodyText": "what do I do with the other languages?", "author": "archaeron", "createdAt": "2020-09-08T21:30:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDI0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ1NTgxMg==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r485455812", "bodyText": "Nothing they are translated on poeditor.com", "author": "1-alex98", "createdAt": "2020-09-09T09:03:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDI0Nw=="}], "type": "inlineReview", "revised_code": {"commit": "50e625f5d271b835dc4db43c7b4e1e83fba16b54", "chunk": "diff --git a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\nindex 3d64fc77..ccf9dfaf 100644\n--- a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n+++ b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n\n@@ -124,32 +125,40 @@ public class ReplayVaultController extends AbstractViewController<Node> {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = replayRowContextMenuFactory(row.getItem());\n+    row.setContextMenu(contextMenu);\n+\n+    row.setOnMouseClicked(event -> {\n+      // If ID == 0, this isn't an entry but root node\n+      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n+        replayService.runReplay(row.getItem());\n+      }\n+    });\n+    return row;\n+  }\n+\n+  @NotNull\n+  private ContextMenu replayRowContextMenuFactory(Replay replay) {\n     ContextMenu contextMenu = new ContextMenu();\n-    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    MenuItem copyReplayId = new MenuItem(i18n.get(\"vault.replays.copyReplayId\"));\n     copyReplayId.setOnAction(event -> {\n-      var replayId = row.getItem().getId();\n+      int replayId = replay.getId();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n       content.putString(String.valueOf(replayId));\n       clipboard.setContent(content);\n     });\n-    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    MenuItem copyReplayPath = new MenuItem(i18n.get(\"vault.replays.copyReplayPath\"));\n     copyReplayPath.setOnAction(event -> {\n-      var replayPath = row.getItem().getReplayFile();\n+      Path replayPath = replay.getReplayFile();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n-      content.putString(String.valueOf(replayPath));\n+      content.putString(replayPath.toFile().getAbsolutePath());\n       clipboard.setContent(content);\n     });\n     contextMenu.getItems().addAll(copyReplayId, copyReplayPath);\n-    row.setContextMenu(contextMenu);\n-    row.setOnMouseClicked(event -> {\n-      // If ID == 0, this isn't an entry but root node\n-      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n-        replayService.runReplay(row.getItem());\n-      }\n-    });\n-    return row;\n+\n+    return contextMenu;\n   }\n \n   private ObservableValue<String> playersValueFactory(TableColumn.CellDataFeatures<Replay, String> features) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDQ2MA==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r483824460", "bodyText": "Maybe extract into method(ctrl+ alt+ m in Intelij)", "author": "1-alex98", "createdAt": "2020-09-04T20:08:31Z", "path": "src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java", "diffHunk": "@@ -120,6 +124,25 @@ protected void loadLocalReplaysInBackground() {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = new ContextMenu();\n+    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    copyReplayId.setOnAction(event -> {\n+      var replayId = row.getItem().getId();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(String.valueOf(replayId));\n+      clipboard.setContent(content);\n+    });\n+    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    copyReplayPath.setOnAction(event -> {\n+      var replayPath = row.getItem().getReplayFile();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(String.valueOf(replayPath));\n+      clipboard.setContent(content);\n+    });", "originalCommit": "3800615e77fc2fe2936352275f0e295f1bc268a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5MTYxNw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r488191617", "bodyText": "I extracted this into the method replayRowContextMenuFactory", "author": "archaeron", "createdAt": "2020-09-14T20:10:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDQ2MA=="}], "type": "inlineReview", "revised_code": {"commit": "50e625f5d271b835dc4db43c7b4e1e83fba16b54", "chunk": "diff --git a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\nindex 3d64fc77..ccf9dfaf 100644\n--- a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n+++ b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n\n@@ -124,32 +125,40 @@ public class ReplayVaultController extends AbstractViewController<Node> {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = replayRowContextMenuFactory(row.getItem());\n+    row.setContextMenu(contextMenu);\n+\n+    row.setOnMouseClicked(event -> {\n+      // If ID == 0, this isn't an entry but root node\n+      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n+        replayService.runReplay(row.getItem());\n+      }\n+    });\n+    return row;\n+  }\n+\n+  @NotNull\n+  private ContextMenu replayRowContextMenuFactory(Replay replay) {\n     ContextMenu contextMenu = new ContextMenu();\n-    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    MenuItem copyReplayId = new MenuItem(i18n.get(\"vault.replays.copyReplayId\"));\n     copyReplayId.setOnAction(event -> {\n-      var replayId = row.getItem().getId();\n+      int replayId = replay.getId();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n       content.putString(String.valueOf(replayId));\n       clipboard.setContent(content);\n     });\n-    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    MenuItem copyReplayPath = new MenuItem(i18n.get(\"vault.replays.copyReplayPath\"));\n     copyReplayPath.setOnAction(event -> {\n-      var replayPath = row.getItem().getReplayFile();\n+      Path replayPath = replay.getReplayFile();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n-      content.putString(String.valueOf(replayPath));\n+      content.putString(replayPath.toFile().getAbsolutePath());\n       clipboard.setContent(content);\n     });\n     contextMenu.getItems().addAll(copyReplayId, copyReplayPath);\n-    row.setContextMenu(contextMenu);\n-    row.setOnMouseClicked(event -> {\n-      // If ID == 0, this isn't an entry but root node\n-      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n-        replayService.runReplay(row.getItem());\n-      }\n-    });\n-    return row;\n+\n+    return contextMenu;\n   }\n \n   private ObservableValue<String> playersValueFactory(TableColumn.CellDataFeatures<Replay, String> features) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDU3OA==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r483824578", "bodyText": "We avoid the var keyword for code style reasons", "author": "1-alex98", "createdAt": "2020-09-04T20:08:53Z", "path": "src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java", "diffHunk": "@@ -120,6 +124,25 @@ protected void loadLocalReplaysInBackground() {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = new ContextMenu();\n+    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    copyReplayId.setOnAction(event -> {\n+      var replayId = row.getItem().getId();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(String.valueOf(replayId));\n+      clipboard.setContent(content);\n+    });\n+    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    copyReplayPath.setOnAction(event -> {\n+      var replayPath = row.getItem().getReplayFile();", "originalCommit": "3800615e77fc2fe2936352275f0e295f1bc268a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5MTM3MQ==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r488191371", "bodyText": "changed this, thanks", "author": "archaeron", "createdAt": "2020-09-14T20:09:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNDU3OA=="}], "type": "inlineReview", "revised_code": {"commit": "50e625f5d271b835dc4db43c7b4e1e83fba16b54", "chunk": "diff --git a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\nindex 3d64fc77..ccf9dfaf 100644\n--- a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n+++ b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n\n@@ -124,32 +125,40 @@ public class ReplayVaultController extends AbstractViewController<Node> {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = replayRowContextMenuFactory(row.getItem());\n+    row.setContextMenu(contextMenu);\n+\n+    row.setOnMouseClicked(event -> {\n+      // If ID == 0, this isn't an entry but root node\n+      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n+        replayService.runReplay(row.getItem());\n+      }\n+    });\n+    return row;\n+  }\n+\n+  @NotNull\n+  private ContextMenu replayRowContextMenuFactory(Replay replay) {\n     ContextMenu contextMenu = new ContextMenu();\n-    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    MenuItem copyReplayId = new MenuItem(i18n.get(\"vault.replays.copyReplayId\"));\n     copyReplayId.setOnAction(event -> {\n-      var replayId = row.getItem().getId();\n+      int replayId = replay.getId();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n       content.putString(String.valueOf(replayId));\n       clipboard.setContent(content);\n     });\n-    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    MenuItem copyReplayPath = new MenuItem(i18n.get(\"vault.replays.copyReplayPath\"));\n     copyReplayPath.setOnAction(event -> {\n-      var replayPath = row.getItem().getReplayFile();\n+      Path replayPath = replay.getReplayFile();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n-      content.putString(String.valueOf(replayPath));\n+      content.putString(replayPath.toFile().getAbsolutePath());\n       clipboard.setContent(content);\n     });\n     contextMenu.getItems().addAll(copyReplayId, copyReplayPath);\n-    row.setContextMenu(contextMenu);\n-    row.setOnMouseClicked(event -> {\n-      // If ID == 0, this isn't an entry but root node\n-      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n-        replayService.runReplay(row.getItem());\n-      }\n-    });\n-    return row;\n+\n+    return contextMenu;\n   }\n \n   private ObservableValue<String> playersValueFactory(TableColumn.CellDataFeatures<Replay, String> features) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNTc5Nw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r483825797", "bodyText": "Not sure how String.valueOf divers from that but maybe .getAbsolutePath() would be safer. Not sure if that method exists cause I am not sure what the type of that variable is(since you use var).", "author": "1-alex98", "createdAt": "2020-09-04T20:12:06Z", "path": "src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java", "diffHunk": "@@ -120,6 +124,25 @@ protected void loadLocalReplaysInBackground() {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = new ContextMenu();\n+    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    copyReplayId.setOnAction(event -> {\n+      var replayId = row.getItem().getId();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(String.valueOf(replayId));\n+      clipboard.setContent(content);\n+    });\n+    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    copyReplayPath.setOnAction(event -> {\n+      var replayPath = row.getItem().getReplayFile();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(String.valueOf(replayPath));", "originalCommit": "3800615e77fc2fe2936352275f0e295f1bc268a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5NzY0Nw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r485197647", "bodyText": "that came from copy pasting the upper entry \ud83d\ude48\nthanks", "author": "archaeron", "createdAt": "2020-09-08T21:09:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgyNTc5Nw=="}], "type": "inlineReview", "revised_code": {"commit": "50e625f5d271b835dc4db43c7b4e1e83fba16b54", "chunk": "diff --git a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\nindex 3d64fc77..ccf9dfaf 100644\n--- a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n+++ b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n\n@@ -124,32 +125,40 @@ public class ReplayVaultController extends AbstractViewController<Node> {\n   @NotNull\n   private TableRow<Replay> replayRowFactory() {\n     TableRow<Replay> row = new TableRow<>();\n+    ContextMenu contextMenu = replayRowContextMenuFactory(row.getItem());\n+    row.setContextMenu(contextMenu);\n+\n+    row.setOnMouseClicked(event -> {\n+      // If ID == 0, this isn't an entry but root node\n+      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n+        replayService.runReplay(row.getItem());\n+      }\n+    });\n+    return row;\n+  }\n+\n+  @NotNull\n+  private ContextMenu replayRowContextMenuFactory(Replay replay) {\n     ContextMenu contextMenu = new ContextMenu();\n-    MenuItem copyReplayId = new MenuItem(\"Copy Replay Id\");\n+    MenuItem copyReplayId = new MenuItem(i18n.get(\"vault.replays.copyReplayId\"));\n     copyReplayId.setOnAction(event -> {\n-      var replayId = row.getItem().getId();\n+      int replayId = replay.getId();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n       content.putString(String.valueOf(replayId));\n       clipboard.setContent(content);\n     });\n-    MenuItem copyReplayPath = new MenuItem(\"Copy Replay Path\");\n+    MenuItem copyReplayPath = new MenuItem(i18n.get(\"vault.replays.copyReplayPath\"));\n     copyReplayPath.setOnAction(event -> {\n-      var replayPath = row.getItem().getReplayFile();\n+      Path replayPath = replay.getReplayFile();\n       final Clipboard clipboard = Clipboard.getSystemClipboard();\n       final ClipboardContent content = new ClipboardContent();\n-      content.putString(String.valueOf(replayPath));\n+      content.putString(replayPath.toFile().getAbsolutePath());\n       clipboard.setContent(content);\n     });\n     contextMenu.getItems().addAll(copyReplayId, copyReplayPath);\n-    row.setContextMenu(contextMenu);\n-    row.setOnMouseClicked(event -> {\n-      // If ID == 0, this isn't an entry but root node\n-      if (event.getClickCount() == 2 && !row.isEmpty() && row.getItem().getId() != 0) {\n-        replayService.runReplay(row.getItem());\n-      }\n-    });\n-    return row;\n+\n+    return contextMenu;\n   }\n \n   private ObservableValue<String> playersValueFactory(TableColumn.CellDataFeatures<Replay, String> features) {\n"}}, {"oid": "50e625f5d271b835dc4db43c7b4e1e83fba16b54", "url": "https://github.com/FAForever/downlords-faf-client/commit/50e625f5d271b835dc4db43c7b4e1e83fba16b54", "message": "add i18n to replayRowContextMenuFactory", "committedDate": "2020-09-08T21:27:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY1ODU0Mw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r486658543", "bodyText": "Duplicate code. I don't know if we use clipboard features elsewhere, but if yes a clipboard util class probably makes sense, otherwise at least this should be extracted into a method here.", "author": "Brutus5000", "createdAt": "2020-09-10T22:02:46Z", "path": "src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java", "diffHunk": "@@ -129,6 +137,30 @@ protected void loadLocalReplaysInBackground() {\n     return row;\n   }\n \n+  @NotNull\n+  private ContextMenu replayRowContextMenuFactory(Replay replay) {\n+    ContextMenu contextMenu = new ContextMenu();\n+    MenuItem copyReplayId = new MenuItem(i18n.get(\"vault.replays.copyReplayId\"));\n+    copyReplayId.setOnAction(event -> {\n+      int replayId = replay.getId();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(String.valueOf(replayId));\n+      clipboard.setContent(content);\n+    });\n+    MenuItem copyReplayPath = new MenuItem(i18n.get(\"vault.replays.copyReplayPath\"));\n+    copyReplayPath.setOnAction(event -> {\n+      Path replayPath = replay.getReplayFile();\n+      final Clipboard clipboard = Clipboard.getSystemClipboard();\n+      final ClipboardContent content = new ClipboardContent();\n+      content.putString(replayPath.toFile().getAbsolutePath());\n+      clipboard.setContent(content);", "originalCommit": "50e625f5d271b835dc4db43c7b4e1e83fba16b54", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5MTEwOQ==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1878#discussion_r488191109", "bodyText": "I have created a ClipboardUtil class and used it also in ChatUserContextMenuController  and ReplayDetailController", "author": "archaeron", "createdAt": "2020-09-14T20:09:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY1ODU0Mw=="}], "type": "inlineReview", "revised_code": {"commit": "ce0196ddc2d19bb765805a2f8a1e54fe7459a822", "chunk": "diff --git a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\nindex ccf9dfaf..67ff43dc 100644\n--- a/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n+++ b/src/main/java/com/faforever/client/vault/replay/ReplayVaultController.java\n\n@@ -138,23 +137,17 @@ public class ReplayVaultController extends AbstractViewController<Node> {\n   }\n \n   @NotNull\n-  private ContextMenu replayRowContextMenuFactory(Replay replay) {\n+  private ContextMenu replayRowContextMenuFactory(TableRow<Replay> row) {\n     ContextMenu contextMenu = new ContextMenu();\n     MenuItem copyReplayId = new MenuItem(i18n.get(\"vault.replays.copyReplayId\"));\n     copyReplayId.setOnAction(event -> {\n-      int replayId = replay.getId();\n-      final Clipboard clipboard = Clipboard.getSystemClipboard();\n-      final ClipboardContent content = new ClipboardContent();\n-      content.putString(String.valueOf(replayId));\n-      clipboard.setContent(content);\n+      int replayId = row.getItem().getId();\n+      ClipboardUtil.copyToClipboard(String.valueOf(replayId));\n     });\n     MenuItem copyReplayPath = new MenuItem(i18n.get(\"vault.replays.copyReplayPath\"));\n     copyReplayPath.setOnAction(event -> {\n-      Path replayPath = replay.getReplayFile();\n-      final Clipboard clipboard = Clipboard.getSystemClipboard();\n-      final ClipboardContent content = new ClipboardContent();\n-      content.putString(replayPath.toFile().getAbsolutePath());\n-      clipboard.setContent(content);\n+      Path replayPath = row.getItem().getReplayFile();\n+      ClipboardUtil.copyToClipboard(replayPath.toFile().getAbsolutePath());\n     });\n     contextMenu.getItems().addAll(copyReplayId, copyReplayPath);\n \n"}}, {"oid": "ce0196ddc2d19bb765805a2f8a1e54fe7459a822", "url": "https://github.com/FAForever/downlords-faf-client/commit/ce0196ddc2d19bb765805a2f8a1e54fe7459a822", "message": "add i18n to replayRowContextMenuFactory", "committedDate": "2020-09-14T20:06:45Z", "type": "forcePushed"}, {"oid": "9e7ea5c6254b7e158f0a0f05ee24379b782a5a99", "url": "https://github.com/FAForever/downlords-faf-client/commit/9e7ea5c6254b7e158f0a0f05ee24379b782a5a99", "message": "copy local replay info to clipboard", "committedDate": "2020-09-14T20:07:34Z", "type": "commit"}, {"oid": "9e7ea5c6254b7e158f0a0f05ee24379b782a5a99", "url": "https://github.com/FAForever/downlords-faf-client/commit/9e7ea5c6254b7e158f0a0f05ee24379b782a5a99", "message": "copy local replay info to clipboard", "committedDate": "2020-09-14T20:07:34Z", "type": "forcePushed"}]}