{"pr_number": 2074, "pr_title": "Add PreferencesBuilder and rename prefs variables", "pr_createdAt": "2020-12-23T19:28:10Z", "pr_url": "https://github.com/FAForever/downlords-faf-client/pull/2074", "timeline": [{"oid": "748c06b1577a46709aa7005da049a0998b53dee6", "url": "https://github.com/FAForever/downlords-faf-client/commit/748c06b1577a46709aa7005da049a0998b53dee6", "message": "Remove unnecessary non local preferences", "committedDate": "2021-01-01T00:51:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg4MTQ3OA==", "url": "https://github.com/FAForever/downlords-faf-client/pull/2074#discussion_r550881478", "bodyText": "Where are the default values coming from?", "author": "Brutus5000", "createdAt": "2021-01-02T13:22:02Z", "path": "src/test/java/com/faforever/client/preferences/PreferencesBuilder.java", "diffHunk": "@@ -0,0 +1,660 @@\n+package com.faforever.client.preferences;\n+\n+import com.faforever.client.chat.ChatColorMode;\n+import com.faforever.client.chat.ChatFormat;\n+import com.faforever.client.chat.ChatUserCategory;\n+import com.faforever.client.game.Faction;\n+import com.faforever.client.game.GamesTilesContainerController.TilesSortingOrder;\n+import com.faforever.client.main.event.NavigationItem;\n+import com.faforever.client.map.generator.GenerationType;\n+import com.faforever.client.preferences.Preferences.UnitDataBaseType;\n+import com.faforever.client.vault.search.SearchController.SortConfig;\n+import javafx.collections.FXCollections;\n+import javafx.collections.ObservableList;\n+import javafx.collections.ObservableMap;\n+import javafx.scene.control.TableColumn.SortType;\n+import javafx.scene.paint.Color;\n+import javafx.util.Pair;\n+\n+import java.net.HttpCookie;\n+import java.net.URI;\n+import java.nio.file.Path;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Map;\n+\n+public class PreferencesBuilder {\n+\n+  private final Preferences preferences;\n+\n+  private PreferencesBuilder() {\n+    preferences = new Preferences();\n+  }\n+\n+  public static PreferencesBuilder create() {\n+    return new PreferencesBuilder();\n+  }\n+\n+  public PreferencesBuilder defaultValues() {\n+    return this;\n+  }", "originalCommit": "748c06b1577a46709aa7005da049a0998b53dee6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg5NzIzMw==", "url": "https://github.com/FAForever/downlords-faf-client/pull/2074#discussion_r550897233", "bodyText": "The default values are set the ones set when the preferences object is created although in that case it may be better to just remove the default values", "author": "Sheikah45", "createdAt": "2021-01-02T16:28:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg4MTQ3OA=="}], "type": "inlineReview", "revised_code": {"commit": "37a2bedcf8dde1916b5a029ecaf12c8b08af6f26", "chunk": "diff --git a/src/test/java/com/faforever/client/preferences/PreferencesBuilder.java b/src/test/java/com/faforever/client/preferences/PreferencesBuilder.java\nindex 2a8a3ea1..86400fd2 100644\n--- a/src/test/java/com/faforever/client/preferences/PreferencesBuilder.java\n+++ b/src/test/java/com/faforever/client/preferences/PreferencesBuilder.java\n\n@@ -174,7 +174,7 @@ public class PreferencesBuilder {\n   }\n \n   public class ChatPrefsBuilder extends SubPreferencesBuilder {\n-    private final ChatPrefs chatPrefs = preferences.getChatPrefs();\n+    private final ChatPrefs chatPrefs = preferences.getChat();\n \n     public ChatPrefsBuilder zoom(Double zoom) {\n       chatPrefs.setZoom(zoom);\n"}}, {"oid": "37a2bedcf8dde1916b5a029ecaf12c8b08af6f26", "url": "https://github.com/FAForever/downlords-faf-client/commit/37a2bedcf8dde1916b5a029ecaf12c8b08af6f26", "message": "Remove Prefs from variable names", "committedDate": "2021-01-03T21:05:52Z", "type": "forcePushed"}, {"oid": "d65eacaa716979b162d9f9077532c85b18a923cd", "url": "https://github.com/FAForever/downlords-faf-client/commit/d65eacaa716979b162d9f9077532c85b18a923cd", "message": "Add PreferencesBuilder and rename prefs variables", "committedDate": "2021-01-03T21:13:10Z", "type": "commit"}, {"oid": "d65eacaa716979b162d9f9077532c85b18a923cd", "url": "https://github.com/FAForever/downlords-faf-client/commit/d65eacaa716979b162d9f9077532c85b18a923cd", "message": "Add PreferencesBuilder and rename prefs variables", "committedDate": "2021-01-03T21:13:10Z", "type": "forcePushed"}]}