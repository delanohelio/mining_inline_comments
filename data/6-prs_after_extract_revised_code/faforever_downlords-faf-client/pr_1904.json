{"pr_number": 1904, "pr_title": "Feature/#849 use i18n for all country names", "pr_createdAt": "2020-09-13T17:03:48Z", "pr_url": "https://github.com/FAForever/downlords-faf-client/pull/1904", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc2OTE5Ng==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1904#discussion_r487769196", "bodyText": "maybe we should do a null check here right? Do you know what happens on null here?", "author": "1-alex98", "createdAt": "2020-09-14T09:18:17Z", "path": "src/main/java/com/faforever/client/i18n/I18n.java", "diffHunk": "@@ -98,6 +98,10 @@ public Locale getUserSpecificLocale() {\n     return this.userSpecificLocale;\n   }\n \n+  public String getCountryNameLocalized(String isoCode) {\n+    return new Locale(\"\", isoCode).getDisplayCountry(this.userSpecificLocale);", "originalCommit": "63d0ac6ddeed30781fa10cf284f0f34c21cbab46", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg1MjYyNg==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1904#discussion_r487852626", "bodyText": "on null there is an exception is isoCode is null so I added in a check.\nIf isoCode is empty it just returns as empty string", "author": "Sheikah45", "createdAt": "2020-09-14T11:52:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc2OTE5Ng=="}], "type": "inlineReview", "revised_code": {"commit": "ea3afc7971449cd4424016b2553bad2ba2f2b107", "chunk": "diff --git a/src/main/java/com/faforever/client/i18n/I18n.java b/src/main/java/com/faforever/client/i18n/I18n.java\nindex 346695796..d31945d20 100644\n--- a/src/main/java/com/faforever/client/i18n/I18n.java\n+++ b/src/main/java/com/faforever/client/i18n/I18n.java\n\n@@ -99,6 +99,9 @@ public class I18n implements InitializingBean {\n   }\n \n   public String getCountryNameLocalized(String isoCode) {\n+    if (isoCode == null) {\n+      return \"\";\n+    }\n     return new Locale(\"\", isoCode).getDisplayCountry(this.userSpecificLocale);\n   }\n \n"}}, {"oid": "17e141552f4fbb7472ce46735179ecb70c2465a6", "url": "https://github.com/FAForever/downlords-faf-client/commit/17e141552f4fbb7472ce46735179ecb70c2465a6", "message": "Use country name for tooltip", "committedDate": "2020-09-14T11:53:56Z", "type": "commit"}, {"oid": "3aee1f76e7b1463fba186831b34b839ccd283afe", "url": "https://github.com/FAForever/downlords-faf-client/commit/3aee1f76e7b1463fba186831b34b839ccd283afe", "message": "Move to i18n function", "committedDate": "2020-09-14T11:53:57Z", "type": "commit"}, {"oid": "bf13a9756825de08e80d56a2003d347252a811f4", "url": "https://github.com/FAForever/downlords-faf-client/commit/bf13a9756825de08e80d56a2003d347252a811f4", "message": "Use i18n getCountryNameLocalized instead of CountryCode", "committedDate": "2020-09-14T11:53:58Z", "type": "commit"}, {"oid": "ea3afc7971449cd4424016b2553bad2ba2f2b107", "url": "https://github.com/FAForever/downlords-faf-client/commit/ea3afc7971449cd4424016b2553bad2ba2f2b107", "message": "Add null check for isoCode", "committedDate": "2020-09-14T11:53:58Z", "type": "commit"}, {"oid": "ea3afc7971449cd4424016b2553bad2ba2f2b107", "url": "https://github.com/FAForever/downlords-faf-client/commit/ea3afc7971449cd4424016b2553bad2ba2f2b107", "message": "Add null check for isoCode", "committedDate": "2020-09-14T11:53:58Z", "type": "forcePushed"}]}