{"pr_number": 1798, "pr_title": "Add wrong tenant to validation error message.", "pr_createdAt": "2020-02-27T16:42:13Z", "pr_url": "https://github.com/eclipse/hono/pull/1798", "timeline": [{"oid": "620369c4e390ab7fb7909f38cdcdb3012cf21287", "url": "https://github.com/eclipse/hono/commit/620369c4e390ab7fb7909f38cdcdb3012cf21287", "message": "Add wrong tenant to validation error message.\n\nIssue #1796\n\nSigned-off-by: Achim Kraus <achim.kraus@bosch-si.com>", "committedDate": "2020-02-27T16:41:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI1MjUzOA==", "url": "https://github.com/eclipse/hono/pull/1798#discussion_r385252538", "bodyText": "well, wouldn't it make sense to include both the expected tenant as well as the found (wrong) one?", "author": "sophokles73", "createdAt": "2020-02-27T17:16:45Z", "path": "client/src/main/java/org/eclipse/hono/client/Command.java", "diffHunk": "@@ -109,7 +109,7 @@ public static Command from(\n         } else {\n             final ResourceIdentifier addressIdentifier = ResourceIdentifier.fromString(message.getAddress());\n             if (!tenantId.equals(addressIdentifier.getTenantId())) {\n-                validationErrorJoiner.add(\"address contains wrong tenant\");\n+                validationErrorJoiner.add(\"address contains wrong tenant '\" + addressIdentifier.getTenantId() + \"'\");", "originalCommit": "620369c4e390ab7fb7909f38cdcdb3012cf21287", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI1NTMzOQ==", "url": "https://github.com/eclipse/hono/pull/1798#discussion_r385255339", "bodyText": "In my case the Command.toString() was used, which already contained the expected tenant. That was mixing me up. Because you get a error message, telling the wrong tenant is used, but displays the expected tenant.\nSo, I'm not sure, if adding the expected tenant makes sense for other cases. For my case, it's not required.", "author": "boaks", "createdAt": "2020-02-27T17:21:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI1MjUzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTYxNTk3MQ==", "url": "https://github.com/eclipse/hono/pull/1798#discussion_r385615971", "bodyText": "I think adding the wrong tenant is enough. Command.toString() output would then be something like:\nInvalid Command [tenant-id: myTestTenant, device-id: myTestDevice. error: address contains wrong tenant: 'tenantFromAddress']", "author": "calohmn", "createdAt": "2020-02-28T10:22:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI1MjUzOA=="}], "type": "inlineReview", "revised_code": null}]}