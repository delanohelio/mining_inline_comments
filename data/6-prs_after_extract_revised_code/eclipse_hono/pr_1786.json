{"pr_number": 1786, "pr_title": "[#1785] Fix gateway id getting set in reply-to address", "pr_createdAt": "2020-02-24T07:42:25Z", "pr_url": "https://github.com/eclipse/hono/pull/1786", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzIwMTMwMw==", "url": "https://github.com/eclipse/hono/pull/1786#discussion_r383201303", "bodyText": "I do not quite get the meaning of the second sentence. Can you try to rephrase it?", "author": "sophokles73", "createdAt": "2020-02-24T11:01:16Z", "path": "client/src/main/java/org/eclipse/hono/client/Command.java", "diffHunk": "@@ -85,7 +87,8 @@ private Command(\n      *\n      * @param message The message containing the command.\n      * @param tenantId The tenant that the device belongs to.\n-     * @param deviceId The identifier of the device.\n+     * @param deviceId The identifier of the device that the command will be sent to. This could be a mapped gateway,\n+     *                 the original command target device is given in the message address in that case.", "originalCommit": "e8378115de7ede539619a8492f82d04a83cb75d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzIzMDU4OQ==", "url": "https://github.com/eclipse/hono/pull/1786#discussion_r383230589", "bodyText": "Done.", "author": "calohmn", "createdAt": "2020-02-24T12:12:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzIwMTMwMw=="}], "type": "inlineReview", "revised_code": {"commit": "5e6bf50e9485cbb02acfeae7eb209d9e67d38ec0", "chunk": "diff --git a/client/src/main/java/org/eclipse/hono/client/Command.java b/client/src/main/java/org/eclipse/hono/client/Command.java\nindex e22806a12..b1f2c158c 100644\n--- a/client/src/main/java/org/eclipse/hono/client/Command.java\n+++ b/client/src/main/java/org/eclipse/hono/client/Command.java\n\n@@ -87,8 +87,9 @@ public final class Command {\n      *\n      * @param message The message containing the command.\n      * @param tenantId The tenant that the device belongs to.\n-     * @param deviceId The identifier of the device that the command will be sent to. This could be a mapped gateway,\n-     *                 the original command target device is given in the message address in that case.\n+     * @param deviceId The identifier of the device that the command will be sent to. If the command has been mapped\n+     *                 to a gateway, this id is the gateway id and the original command target device is given in\n+     *                 the message address.\n      * @return The command.\n      * @throws NullPointerException if any of the parameters is {@code null}.\n      */\n"}}, {"oid": "5e6bf50e9485cbb02acfeae7eb209d9e67d38ec0", "url": "https://github.com/eclipse/hono/commit/5e6bf50e9485cbb02acfeae7eb209d9e67d38ec0", "message": "[#1785] Fix gateway id getting set in reply-to address.\n\nThe target device id instead of the gateway id has to be\nset in the reply-to address. Otherwise command response\nmessages will get the wrong device_id property value.\nAMQP integration tests now check for the correct property\nvalue.\n\nSigned-off-by: Carsten Lohmann <carsten.lohmann@bosch.io>", "committedDate": "2020-02-24T12:12:06Z", "type": "commit"}, {"oid": "5e6bf50e9485cbb02acfeae7eb209d9e67d38ec0", "url": "https://github.com/eclipse/hono/commit/5e6bf50e9485cbb02acfeae7eb209d9e67d38ec0", "message": "[#1785] Fix gateway id getting set in reply-to address.\n\nThe target device id instead of the gateway id has to be\nset in the reply-to address. Otherwise command response\nmessages will get the wrong device_id property value.\nAMQP integration tests now check for the correct property\nvalue.\n\nSigned-off-by: Carsten Lohmann <carsten.lohmann@bosch.io>", "committedDate": "2020-02-24T12:12:06Z", "type": "forcePushed"}]}