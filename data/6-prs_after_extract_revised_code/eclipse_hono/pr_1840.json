{"pr_number": 1840, "pr_title": "Add TenantInformationService functionality", "pr_createdAt": "2020-03-16T15:15:34Z", "pr_url": "https://github.com/eclipse/hono/pull/1840", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU3ODAxNA==", "url": "https://github.com/eclipse/hono/pull/1840#discussion_r393578014", "bodyText": "For the other APIs, we use tenantId as the identifier. Is it intentionally here set to tenantName?", "author": "kaniyan", "createdAt": "2020-03-17T10:26:29Z", "path": "services/device-registry-base/src/main/java/org/eclipse/hono/deviceregistry/service/tenant/AutowiredTenantInformationService.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*******************************************************************************\n+ * Copyright (c) 2019, 2020 Contributors to the Eclipse Foundation\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package org.eclipse.hono.deviceregistry.service.tenant;\n+\n+import java.net.HttpURLConnection;\n+\n+import org.eclipse.hono.client.ClientErrorException;\n+import org.eclipse.hono.service.tenant.TenantService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.annotation.Qualifier;\n+import org.springframework.stereotype.Component;\n+\n+import io.opentracing.Span;\n+import io.vertx.core.Future;\n+\n+/**\n+ * A default implementation of {@link TenantInformationService} that uses embedded {@link TenantService} to verify if tenant exists.\n+ */\n+@Component\n+public class AutowiredTenantInformationService implements TenantInformationService {\n+\n+    TenantService service;\n+\n+    @Override\n+    public Future<TenantKey> tenantExists(final String tenantName, final Span span) {", "originalCommit": "30198526613681e3226304f1deaaeb87468aa8e1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU5Mjk0NA==", "url": "https://github.com/eclipse/hono/pull/1840#discussion_r393592944", "bodyText": "@kaniyan make sense. I'll make a change.", "author": "dejanb", "createdAt": "2020-03-17T10:53:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU3ODAxNA=="}], "type": "inlineReview", "revised_code": {"commit": "162463a786f03aa2de61cc055e88ba620f1a4732", "chunk": "diff --git a/services/device-registry-base/src/main/java/org/eclipse/hono/deviceregistry/service/tenant/AutowiredTenantInformationService.java b/services/device-registry-base/src/main/java/org/eclipse/hono/deviceregistry/service/tenant/AutowiredTenantInformationService.java\nindex 185d955bd..bc5508e70 100644\n--- a/services/device-registry-base/src/main/java/org/eclipse/hono/deviceregistry/service/tenant/AutowiredTenantInformationService.java\n+++ b/services/device-registry-base/src/main/java/org/eclipse/hono/deviceregistry/service/tenant/AutowiredTenantInformationService.java\n\n@@ -32,11 +32,11 @@ public class AutowiredTenantInformationService implements TenantInformationServi\n     TenantService service;\n \n     @Override\n-    public Future<TenantKey> tenantExists(final String tenantName, final Span span) {\n-        return service.get(tenantName, span)\n+    public Future<TenantKey> tenantExists(final String tenantId, final Span span) {\n+        return service.get(tenantId, span)\n                 .compose(result -> {\n                     if (result.isOk()) {\n-                        return Future.succeededFuture(TenantKey.from(tenantName, tenantName));\n+                        return Future.succeededFuture(TenantKey.from(tenantId, tenantId));\n                     } else {\n                         return Future.failedFuture(new ClientErrorException(HttpURLConnection.HTTP_NOT_FOUND, \"Tenant does not exist\"));\n                     }\n"}}, {"oid": "162463a786f03aa2de61cc055e88ba620f1a4732", "url": "https://github.com/eclipse/hono/commit/162463a786f03aa2de61cc055e88ba620f1a4732", "message": "Add TenantInformationService functionality", "committedDate": "2020-03-17T11:12:26Z", "type": "forcePushed"}, {"oid": "59c0a9e9d5f2e08b6e130b8367cef3aaad782cb7", "url": "https://github.com/eclipse/hono/commit/59c0a9e9d5f2e08b6e130b8367cef3aaad782cb7", "message": "Add TenantInformationService functionality", "committedDate": "2020-03-17T11:15:11Z", "type": "commit"}, {"oid": "59c0a9e9d5f2e08b6e130b8367cef3aaad782cb7", "url": "https://github.com/eclipse/hono/commit/59c0a9e9d5f2e08b6e130b8367cef3aaad782cb7", "message": "Add TenantInformationService functionality", "committedDate": "2020-03-17T11:15:11Z", "type": "forcePushed"}]}