{"pr_number": 2501, "pr_title": "Changed some things to public (from protected)", "pr_createdAt": "2020-10-24T17:20:44Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2501", "timeline": [{"oid": "88096ff7c4163ca0f03350cb2a688e6b9d49ae39", "url": "https://github.com/Slimefun/Slimefun4/commit/88096ff7c4163ca0f03350cb2a688e6b9d49ae39", "message": "Changed get and set scripts to public (from protected)", "committedDate": "2020-10-24T17:00:11Z", "type": "commit"}, {"oid": "7a877cda6661dbb36679f3231e9c9bced69e214e", "url": "https://github.com/Slimefun/Slimefun4/commit/7a877cda6661dbb36679f3231e9c9bced69e214e", "message": "Instruction is now public", "committedDate": "2020-10-24T17:08:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDMzNw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511494337", "bodyText": "Don't open things up that don't have sufficient parameter validation, the @Nonnull is not enforced here because it was an internal method, so you'd need to add a Validate call here.", "author": "TheBusyBiscuit", "createdAt": "2020-10-24T17:22:17Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java", "diffHunk": "@@ -534,12 +534,12 @@ protected void editInstruction(Player p, Block b, String[] script, int index) {\n     }\n \n     @Nonnull\n-    protected String getScript(@Nonnull Location l) {\n+    public String getScript(@Nonnull Location l) {", "originalCommit": "7a877cda6661dbb36679f3231e9c9bced69e214e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a7cbea70c2f6975348201d3f2bba618b48b18ef6", "chunk": "diff --git a/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java b/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java\nindex d6ac0f722..0d441dff1 100644\n--- a/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java\n+++ b/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java\n\n@@ -535,11 +535,14 @@ public class ProgrammableAndroid extends SlimefunItem implements InventoryBlock,\n \n     @Nonnull\n     public String getScript(@Nonnull Location l) {\n+        Validate.notNull(l, \"Location for android not specified\");\n         String script = BlockStorage.getLocationInfo(l, \"script\");\n         return script != null ? script : DEFAULT_SCRIPT;\n     }\n \n     public void setScript(@Nonnull Location l, @Nonnull String script) {\n+        Validate.notNull(l, \"Location for android not specified\");\n+        Validate.notNull(script, \"No script given\");\n         BlockStorage.addBlockInfo(l, \"script\", script);\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDM0MA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511494340", "bodyText": "Don't open things up that don't have sufficient parameter validation, the @Nonnull is not enforced here because it was an internal method, so you'd need to add a Validate call here.", "author": "TheBusyBiscuit", "createdAt": "2020-10-24T17:22:20Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java", "diffHunk": "@@ -534,12 +534,12 @@ protected void editInstruction(Player p, Block b, String[] script, int index) {\n     }\n \n     @Nonnull\n-    protected String getScript(@Nonnull Location l) {\n+    public String getScript(@Nonnull Location l) {\n         String script = BlockStorage.getLocationInfo(l, \"script\");\n         return script != null ? script : DEFAULT_SCRIPT;\n     }\n \n-    protected void setScript(@Nonnull Location l, @Nonnull String script) {\n+    public void setScript(@Nonnull Location l, @Nonnull String script) {", "originalCommit": "7a877cda6661dbb36679f3231e9c9bced69e214e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a7cbea70c2f6975348201d3f2bba618b48b18ef6", "chunk": "diff --git a/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java b/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java\nindex d6ac0f722..0d441dff1 100644\n--- a/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java\n+++ b/src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/ProgrammableAndroid.java\n\n@@ -535,11 +535,14 @@ public class ProgrammableAndroid extends SlimefunItem implements InventoryBlock,\n \n     @Nonnull\n     public String getScript(@Nonnull Location l) {\n+        Validate.notNull(l, \"Location for android not specified\");\n         String script = BlockStorage.getLocationInfo(l, \"script\");\n         return script != null ? script : DEFAULT_SCRIPT;\n     }\n \n     public void setScript(@Nonnull Location l, @Nonnull String script) {\n+        Validate.notNull(l, \"Location for android not specified\");\n+        Validate.notNull(script, \"No script given\");\n         BlockStorage.addBlockInfo(l, \"script\", script);\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDM0NA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511494344", "bodyText": "why?", "author": "TheBusyBiscuit", "createdAt": "2020-10-24T17:22:24Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/androids/Instruction.java", "diffHunk": "@@ -20,7 +20,7 @@\n import io.github.thebusybiscuit.slimefun4.utils.SlimefunUtils;\n import me.mrCookieSlime.Slimefun.api.inventory.BlockMenu;\n \n-enum Instruction {\n+public enum Instruction {", "originalCommit": "7a877cda6661dbb36679f3231e9c9bced69e214e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDY3OQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511494679", "bodyText": "As I already said, so addons can modify android code", "author": "Seggan", "createdAt": "2020-10-24T17:26:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDM0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDc5NQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511494795", "bodyText": "This is an enum though...", "author": "TheBusyBiscuit", "createdAt": "2020-10-24T17:27:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDM0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTE2Mg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511495162", "bodyText": "I plan to generate an Instruction[] in my addon code, then turn it into a string that the android recognises", "author": "Seggan", "createdAt": "2020-10-24T17:31:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDM0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTIyNg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2501#discussion_r511495226", "bodyText": "Okay, I thought you meant adding more Instructions, because for that we would need an interface (which we should add at some point anyway)", "author": "TheBusyBiscuit", "createdAt": "2020-10-24T17:32:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NDM0NA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "9dfc4bdcf43eed076edc33c5dd043efdfa7d3ec0", "url": "https://github.com/Slimefun/Slimefun4/commit/9dfc4bdcf43eed076edc33c5dd043efdfa7d3ec0", "message": "Removed redundant check", "committedDate": "2020-10-24T17:23:44Z", "type": "commit"}, {"oid": "a7cbea70c2f6975348201d3f2bba618b48b18ef6", "url": "https://github.com/Slimefun/Slimefun4/commit/a7cbea70c2f6975348201d3f2bba618b48b18ef6", "message": "Added validation", "committedDate": "2020-10-24T17:30:32Z", "type": "commit"}]}