{"pr_number": 2334, "pr_title": "Added AsyncReactorProcessCompleteEvent and AsyncGeneratorProcessCompleteEvent", "pr_createdAt": "2020-09-19T09:21:36Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2334", "timeline": [{"oid": "fa1aad7bf8b118aa410bcd19317fc9964ecfbe47", "url": "https://github.com/Slimefun/Slimefun4/commit/fa1aad7bf8b118aa410bcd19317fc9964ecfbe47", "message": "Added AsyncGeneratorProcessCompleteEvent", "committedDate": "2020-09-19T08:36:27Z", "type": "commit"}, {"oid": "b98cdcf7d8a65508ab189044274ca0534b2310cf", "url": "https://github.com/Slimefun/Slimefun4/commit/b98cdcf7d8a65508ab189044274ca0534b2310cf", "message": "Added AsyncReactorProcessCompleteEvent", "committedDate": "2020-09-19T08:37:06Z", "type": "commit"}, {"oid": "24a97c59d896dd83ff54a84c6cd6d86d2480ea85", "url": "https://github.com/Slimefun/Slimefun4/commit/24a97c59d896dd83ff54a84c6cd6d86d2480ea85", "message": "Refactoring", "committedDate": "2020-09-19T08:37:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTcyNg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491381726", "bodyText": "Why is this changed?", "author": "LinoxGH", "createdAt": "2020-09-19T10:57:04Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncMachineProcessCompleteEvent.java", "diffHunk": "@@ -20,31 +21,43 @@\n \n     private static final HandlerList handlers = new HandlerList();\n \n-    private final Block block;\n+    private final Location location;\n+    private final AContainer container;\n     private final MachineRecipe machineRecipe;\n \n     @ParametersAreNonnullByDefault\n-    public AsyncMachineProcessCompleteEvent(Block block, MachineRecipe machineRecipe) {\n+    public AsyncMachineProcessCompleteEvent(Location l, AContainer container, MachineRecipe machineRecipe) {\n         super(true);\n \n-        this.block = block;\n+        this.location = l;\n+        this.container = container;\n         this.machineRecipe = machineRecipe;\n     }\n \n     /**\n-     * This method returns the {@link Block} of the machine.\n+     * This returns the {@link Location} of the machine.\n      *\n-     * @return the {@link Block} of the machine\n+     * @return The {@link Location} of the machine\n      */\n     @Nonnull\n-    public Block getMachine() {\n-        return block;\n+    public Location getLocation() {", "originalCommit": "24a97c59d896dd83ff54a84c6cd6d86d2480ea85", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4NjY0MQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491386641", "bodyText": "Because I thought getting the SlimefunItem instance would be better than just the block. If you look a little lower, there is the new getMachine method.", "author": "poma123", "createdAt": "2020-09-19T11:09:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTcyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2OTc4MQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491469781", "bodyText": "I doubt anyone uses this event yet but in the future avoid changing existent api, at least @deprecate them and add your new methods, but the old ones should at least work for some time.", "author": "LinoxGH", "createdAt": "2020-09-19T16:16:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTcyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ3MDcwMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491470703", "bodyText": "I know that and agreed. If this wasn't a brand new event, I would've made the old method deprecated. I think I am the only one who uses this rn", "author": "poma123", "createdAt": "2020-09-19T16:27:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTcyNg=="}], "type": "inlineReview", "revised_code": {"commit": "8592051f8744e269d317dca0e69e0d1ab84c3fa7", "chunk": "diff --git a/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncMachineProcessCompleteEvent.java b/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncMachineProcessCompleteEvent.java\nindex ff59dd0fb..02d9412df 100644\n--- a/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncMachineProcessCompleteEvent.java\n+++ b/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncMachineProcessCompleteEvent.java\n\n@@ -25,8 +25,7 @@ public class AsyncMachineProcessCompleteEvent extends Event {\n     private final AContainer container;\n     private final MachineRecipe machineRecipe;\n \n-    @ParametersAreNonnullByDefault\n-    public AsyncMachineProcessCompleteEvent(Location l, AContainer container, MachineRecipe machineRecipe) {\n+    public AsyncMachineProcessCompleteEvent(@Nonnull Location l, @Nullable AContainer container, @Nullable MachineRecipe machineRecipe) {\n         super(true);\n \n         this.location = l;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTk4Mg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491381982", "bodyText": "This should probably extend AsyncMachineProcessCompleteEvent", "author": "LinoxGH", "createdAt": "2020-09-19T10:57:47Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncReactorProcessCompleteEvent.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package io.github.thebusybiscuit.slimefun4.api.events;\n+\n+import javax.annotation.Nonnull;\n+import javax.annotation.ParametersAreNonnullByDefault;\n+\n+import org.bukkit.Location;\n+import org.bukkit.event.Event;\n+import org.bukkit.event.HandlerList;\n+\n+import io.github.thebusybiscuit.slimefun4.implementation.items.electric.reactors.Reactor;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.abstractItems.MachineFuel;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+\n+/**\n+ * This {@link Event} is fired whenever a {@link Reactor} has completed its process.\n+ *\n+ * @author poma123\n+ *\n+ */\n+public class AsyncReactorProcessCompleteEvent extends Event {", "originalCommit": "24a97c59d896dd83ff54a84c6cd6d86d2480ea85", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQxMDAxMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491410013", "bodyText": "But Reactor doesn't extend AContainer. Also, Reactor has MachineFuel, AContainer has MachineRecipe.", "author": "poma123", "createdAt": "2020-09-19T12:11:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2OTk2NA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491469964", "bodyText": "I'm just saying all these 3 events are very similar, and doing a event instanceof MachineEvent or sth. will probably prove usedul to some people.", "author": "LinoxGH", "createdAt": "2020-09-19T16:19:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ3MjE1Ng==", "url": "https://github.com/Slimefun/Slimefun4/pull/2334#discussion_r491472156", "bodyText": "Hmm. Good idea though.", "author": "poma123", "createdAt": "2020-09-19T16:45:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM4MTk4Mg=="}], "type": "inlineReview", "revised_code": {"commit": "8592051f8744e269d317dca0e69e0d1ab84c3fa7", "chunk": "diff --git a/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncReactorProcessCompleteEvent.java b/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncReactorProcessCompleteEvent.java\nindex 3667f4392..6a4dd9dfb 100644\n--- a/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncReactorProcessCompleteEvent.java\n+++ b/src/main/java/io/github/thebusybiscuit/slimefun4/api/events/AsyncReactorProcessCompleteEvent.java\n\n@@ -17,33 +17,21 @@ import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n  * @author poma123\n  *\n  */\n-public class AsyncReactorProcessCompleteEvent extends Event {\n+public class AsyncReactorProcessCompleteEvent extends AsyncMachineProcessCompleteEvent {\n \n     private static final HandlerList handlers = new HandlerList();\n \n-    private final Location location;\n     private final Reactor reactor;\n     private final MachineFuel machineFuel;\n \n     @ParametersAreNonnullByDefault\n     public AsyncReactorProcessCompleteEvent(Location l, Reactor reactor, MachineFuel machineFuel) {\n-        super(true);\n+        super(l, null, null);\n \n-        this.location = l;\n         this.reactor = reactor;\n         this.machineFuel = machineFuel;\n     }\n \n-    /**\n-     * This returns the {@link Location} of the reactor.\n-     *\n-     * @return The {@link Location} of the reactor\n-     */\n-    @Nonnull\n-    public Location getLocation() {\n-        return location;\n-    }\n-\n     /**\n      * The {@link SlimefunItem} instance of the reactor.\n      *\n"}}, {"oid": "8592051f8744e269d317dca0e69e0d1ab84c3fa7", "url": "https://github.com/Slimefun/Slimefun4/commit/8592051f8744e269d317dca0e69e0d1ab84c3fa7", "message": "Requested changes", "committedDate": "2020-09-19T16:58:38Z", "type": "commit"}]}