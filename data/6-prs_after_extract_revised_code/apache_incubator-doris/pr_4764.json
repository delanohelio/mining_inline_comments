{"pr_number": 4764, "pr_title": "[Bug] Do not push down limit operation when ODBC table do not push all conjunct as filter.", "pr_createdAt": "2020-10-19T08:34:28Z", "pr_url": "https://github.com/apache/incubator-doris/pull/4764", "timeline": [{"oid": "8d43c503bdc36b6d4410fd7b07240cd7703d7400", "url": "https://github.com/apache/incubator-doris/commit/8d43c503bdc36b6d4410fd7b07240cd7703d7400", "message": "[Bug] Do not push down limit operation when ODBC table do not push all conjunct as filter.\n\nissue:4761", "committedDate": "2020-10-19T08:26:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY0MTQ0MQ==", "url": "https://github.com/apache/incubator-doris/pull/4764#discussion_r507641441", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private boolean needPushDownLimit() {\n          \n          \n            \n                private boolean canLimitPushDown() {", "author": "wuyunfeng", "createdAt": "2020-10-19T10:31:44Z", "path": "fe/fe-core/src/main/java/org/apache/doris/planner/OdbcScanNode.java", "diffHunk": "@@ -114,16 +114,22 @@ protected String getNodeExplainString(String prefix, TExplainLevel detailLevel)\n         return output.toString();\n     }\n \n+    // only all conjuncts be pushed down as filter, we can\n+    // push down limit operation to ODBC table\n+    private boolean needPushDownLimit() {", "originalCommit": "8d43c503bdc36b6d4410fd7b07240cd7703d7400", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY0MjI5OQ==", "url": "https://github.com/apache/incubator-doris/pull/4764#discussion_r507642299", "bodyText": "Here we just represent the ability for operator can consumed by our external Table, not the necessity", "author": "wuyunfeng", "createdAt": "2020-10-19T10:33:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY0MTQ0MQ=="}], "type": "inlineReview", "revised_code": {"commit": "c6005abf3c5979cd387863e45069bba77046dadb", "chunk": "diff --git a/fe/fe-core/src/main/java/org/apache/doris/planner/OdbcScanNode.java b/fe/fe-core/src/main/java/org/apache/doris/planner/OdbcScanNode.java\nindex e7cd863cc..0d6ce807d 100644\n--- a/fe/fe-core/src/main/java/org/apache/doris/planner/OdbcScanNode.java\n+++ b/fe/fe-core/src/main/java/org/apache/doris/planner/OdbcScanNode.java\n\n@@ -116,7 +116,7 @@ public class OdbcScanNode extends ScanNode {\n \n     // only all conjuncts be pushed down as filter, we can\n     // push down limit operation to ODBC table\n-    private boolean needPushDownLimit() {\n+    private boolean shouldPushDownLimit() {\n         return limit != -1 && conjuncts.isEmpty();\n     }\n \n"}}, {"oid": "c6005abf3c5979cd387863e45069bba77046dadb", "url": "https://github.com/apache/incubator-doris/commit/c6005abf3c5979cd387863e45069bba77046dadb", "message": "refactor some function name", "committedDate": "2020-10-19T12:05:35Z", "type": "commit"}]}