{"pr_number": 4705, "pr_title": "Fixes #4542 Root pathspec mapping pathInfo", "pr_createdAt": "2020-03-24T13:18:50Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/4705", "timeline": [{"oid": "7ed43c404126e2f53e1625da7bbf41cddb10e315", "url": "https://github.com/eclipse/jetty.project/commit/7ed43c404126e2f53e1625da7bbf41cddb10e315", "message": "Fixes #4542 Root pathspec mapping pathInfo\n\nFor the \"\" root pathspec, the pathinfo should always be the full path and the matched path is \"\"\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-03-24T13:16:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwNjQxOA==", "url": "https://github.com/eclipse/jetty.project/pull/4705#discussion_r400206418", "bodyText": "That comment isn't true now, is it?", "author": "janbartel", "createdAt": "2020-03-30T13:49:46Z", "path": "jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java", "diffHunk": "@@ -168,52 +168,47 @@ else if (servletPathSpec.startsWith(\"*.\"))\n     public String getPathInfo(String path)\n     {\n         // Path Info only valid for PREFIX_GLOB types", "originalCommit": "7ed43c404126e2f53e1625da7bbf41cddb10e315", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8fe116c34faedc619e69b51430a4c46e483c0024", "chunk": "diff --git a/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java b/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java\nindex 02f4f27bea..8f251ec0f3 100644\n--- a/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java\n+++ b/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java\n\n@@ -167,7 +167,6 @@ public class ServletPathSpec extends PathSpec\n     @Override\n     public String getPathInfo(String path)\n     {\n-        // Path Info only valid for PREFIX_GLOB types\n         switch (group)\n         {\n             case ROOT:\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwODcwMQ==", "url": "https://github.com/eclipse/jetty.project/pull/4705#discussion_r400208701", "bodyText": "This comment should really go on the PathSpecGroup class, but as it isn't part of the PR I'm putting this comment here instead.\nThe comments at PathSpecGroup class line 38-42 need fixing I think as they don't contain enough explanation and have contradictory values.", "author": "janbartel", "createdAt": "2020-03-30T13:52:44Z", "path": "jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java", "diffHunk": "@@ -168,52 +168,47 @@ else if (servletPathSpec.startsWith(\"*.\"))\n     public String getPathInfo(String path)\n     {\n         // Path Info only valid for PREFIX_GLOB types\n-        if (group == PathSpecGroup.PREFIX_GLOB)\n+        switch (group)\n         {\n-            if (path.length() == (specLength - 2))\n-            {\n+            case ROOT:", "originalCommit": "7ed43c404126e2f53e1625da7bbf41cddb10e315", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8fe116c34faedc619e69b51430a4c46e483c0024", "chunk": "diff --git a/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java b/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java\nindex 02f4f27bea..8f251ec0f3 100644\n--- a/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java\n+++ b/jetty-http/src/main/java/org/eclipse/jetty/http/pathmap/ServletPathSpec.java\n\n@@ -167,7 +167,6 @@ public class ServletPathSpec extends PathSpec\n     @Override\n     public String getPathInfo(String path)\n     {\n-        // Path Info only valid for PREFIX_GLOB types\n         switch (group)\n         {\n             case ROOT:\n"}}, {"oid": "f3192d0035454256901e6f3b831b16cabb5203ed", "url": "https://github.com/eclipse/jetty.project/commit/f3192d0035454256901e6f3b831b16cabb5203ed", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-4542-ServletRootMapping", "committedDate": "2020-03-30T14:32:20Z", "type": "commit"}, {"oid": "8fe116c34faedc619e69b51430a4c46e483c0024", "url": "https://github.com/eclipse/jetty.project/commit/8fe116c34faedc619e69b51430a4c46e483c0024", "message": "updates from review\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-03-30T14:37:50Z", "type": "commit"}]}