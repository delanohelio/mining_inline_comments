{"pr_number": 5676, "pr_title": "Issue #5675 Update some osgi test dependencies", "pr_createdAt": "2020-11-16T15:13:52Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/5676", "timeline": [{"oid": "bdb4dd435e18336c61f67d270004e17696481bc3", "url": "https://github.com/eclipse/jetty.project/commit/bdb4dd435e18336c61f67d270004e17696481bc3", "message": "Issue #5675 Update some osgi test dependencies\n\nSigned-off-by: Jan Bartel <janb@webtide.com>", "committedDate": "2020-11-16T15:09:45Z", "type": "commit"}, {"oid": "c8af99e6c6a33f75eb927bb860d00f301289f430", "url": "https://github.com/eclipse/jetty.project/commit/c8af99e6c6a33f75eb927bb860d00f301289f430", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps", "committedDate": "2020-11-17T14:51:09Z", "type": "commit"}, {"oid": "f911dbcd5d65bc9cae745b29a37bb38c6d77284c", "url": "https://github.com/eclipse/jetty.project/commit/f911dbcd5d65bc9cae745b29a37bb38c6d77284c", "message": "Issue #5675 update osgi platform version\n\nSigned-off-by: Jan Bartel <janb@webtide.com>", "committedDate": "2020-11-23T09:07:22Z", "type": "commit"}, {"oid": "e730c274a73e463ccf3892e2ff203b369b74dd53", "url": "https://github.com/eclipse/jetty.project/commit/e730c274a73e463ccf3892e2ff203b369b74dd53", "message": "Issue 5675 Also update osgi services to newest version.\n\nSigned-off-by: Jan Bartel <janb@webtide.com>", "committedDate": "2020-11-24T16:20:56Z", "type": "commit"}, {"oid": "4aac7f03f1a08292c37598125427a619defbfb49", "url": "https://github.com/eclipse/jetty.project/commit/4aac7f03f1a08292c37598125427a619defbfb49", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps", "committedDate": "2020-11-25T13:30:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTUzMg==", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530529532", "bodyText": "Shouldn't this be .versionAsInProject() instead of .version(\"3.5.0\") ?", "author": "joakime", "createdAt": "2020-11-25T17:12:42Z", "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiAnnotationParser.java", "diffHunk": "@@ -64,8 +64,8 @@\n         options.add(TestOSGiUtil.optionalRemoteDebug());\n         options.add(CoreOptions.junitBundles());\n         options.addAll(TestOSGiUtil.coreJettyDependencies());\n-        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"bndlib\").versionAsInProject().start());\n-        options.add(mavenBundle().groupId(\"org.ops4j.pax.tinybundles\").artifactId(\"tinybundles\").version(\"2.1.1\").start());\n+        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"biz.aQute.bndlib\").version(\"3.5.0\").start());", "originalCommit": "4aac7f03f1a08292c37598125427a619defbfb49", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0NjQyMg==", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530646422", "bodyText": "Nope, see the comment in TestJettyOSGiBootWithJavaxWebSocket.java : for the tests that use tinybundles, we have to back down the version of bndlib for compatibility reasons.", "author": "janbartel", "createdAt": "2020-11-25T21:15:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTUzMg=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTcyOQ==", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530529729", "bodyText": "Shouldn't this be .versionAsInProject() instead of .version(\"3.5.0\") ?", "author": "joakime", "createdAt": "2020-11-25T17:13:01Z", "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiBootWithJavaxWebSocket.java", "diffHunk": "@@ -93,8 +93,9 @@\n     public static List<Option> extraDependencies()\n     {\n         List<Option> res = new ArrayList<>();\n-        res.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"bndlib\").versionAsInProject().start());\n-        res.add(mavenBundle().groupId(\"org.ops4j.pax.tinybundles\").artifactId(\"tinybundles\").version(\"2.1.1\").start());\n+        //Need an earlier version of bndlib because of tinybundles\n+        res.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"biz.aQute.bndlib\").version(\"3.5.0\").start());", "originalCommit": "4aac7f03f1a08292c37598125427a619defbfb49", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0NjUwMA==", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530646500", "bodyText": "Nope, see previous comment.", "author": "janbartel", "createdAt": "2020-11-25T21:16:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTcyOQ=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTg5Nw==", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530529897", "bodyText": "Shouldn't this be .versionAsInProject() instead of .version(\"3.5.0\") ?", "author": "joakime", "createdAt": "2020-11-25T17:13:17Z", "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiClasspathResources.java", "diffHunk": "@@ -70,8 +69,9 @@\n             \"com.sun.org.apache.xpath.internal.jaxp\", \"com.sun.org.apache.xpath.internal.objects\"));\n \n         options.addAll(TestOSGiUtil.coreJettyDependencies());\n-        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"bndlib\").versionAsInProject().start());\n-        options.add(mavenBundle().groupId(\"org.ops4j.pax.tinybundles\").artifactId(\"tinybundles\").version(\"2.1.1\").start());\n+        //Note: we have to back down the version of bnd used here because tinybundles expects only this version\n+        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"biz.aQute.bndlib\").version(\"3.5.0\").start());", "originalCommit": "4aac7f03f1a08292c37598125427a619defbfb49", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0Njk2Nw==", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530646967", "bodyText": "Nope, the comment above is telling you why not: when using tinybundles we have to back down the version of bndlib for compatibility.", "author": "janbartel", "createdAt": "2020-11-25T21:17:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTg5Nw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "e45ab8a61b63ac0ea57babdb6e2a3a19b4cfe022", "url": "https://github.com/eclipse/jetty.project/commit/e45ab8a61b63ac0ea57babdb6e2a3a19b4cfe022", "message": "Issue #5675 Make property for osgi utils.\n\nSigned-off-by: Jan Bartel <janb@webtide.com>", "committedDate": "2020-11-25T21:21:54Z", "type": "commit"}, {"oid": "21893bfb01847e502579d8f43dc8cd0f5fe32572", "url": "https://github.com/eclipse/jetty.project/commit/21893bfb01847e502579d8f43dc8cd0f5fe32572", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps", "committedDate": "2020-11-30T13:45:27Z", "type": "commit"}, {"oid": "7ad620a462407b05a843b6a6e9ad1cfb4beafde3", "url": "https://github.com/eclipse/jetty.project/commit/7ad620a462407b05a843b6a6e9ad1cfb4beafde3", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps", "committedDate": "2020-12-01T14:00:42Z", "type": "commit"}]}