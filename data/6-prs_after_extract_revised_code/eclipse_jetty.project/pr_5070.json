{"pr_number": 5070, "pr_title": "Issue #5069 - Fixing assumeConnectTimeout test condition", "pr_createdAt": "2020-07-21T21:05:12Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/5070", "timeline": [{"oid": "1b5268b51150af05981f83621f8f2c50f3973576", "url": "https://github.com/eclipse/jetty.project/commit/1b5268b51150af05981f83621f8f2c50f3973576", "message": "Issue #5069 - Fixing assumeConnectTimeout test condition\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-07-21T21:04:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5MDA2Mw==", "url": "https://github.com/eclipse/jetty.project/pull/5070#discussion_r458390063", "bodyText": "Please use Assumptions instead of throwing directly - it's not clear if you want the test to fail or what.", "author": "sbordet", "createdAt": "2020-07-21T21:10:58Z", "path": "tests/test-http-client-transport/src/test/java/org/eclipse/jetty/http/client/HttpClientTimeoutTest.java", "diffHunk": "@@ -520,7 +521,7 @@ private void assumeConnectTimeout(String host, int port, int connectTimeout)\n         catch (Throwable x)\n         {\n             // Abort if any other exception happens.\n-            fail(x);\n+            throw new TestAbortedException(\"Not able to validate connect timeout conditions\", x);", "originalCommit": "1b5268b51150af05981f83621f8f2c50f3973576", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5NzU2Nw==", "url": "https://github.com/eclipse/jetty.project/pull/5070#discussion_r458397567", "bodyText": "The test will abort, not fail.\nUsing Assumptions makes the test either continue or abort, never fail.\nAbort marks the test as ignored.\nUsing TestAbortedException preserves the stacktrace, which is then reported when a test is aborted. (this information is even present in your IDE)\nUsing Assumptions loses this stacktrace.", "author": "joakime", "createdAt": "2020-07-21T21:25:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5MDA2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5OTI1OQ==", "url": "https://github.com/eclipse/jetty.project/pull/5070#discussion_r458399259", "bodyText": "We do a similar thing in the AllowSymLinkAliasCheckerTest.\nhttps://github.com/eclipse/jetty.project/blob/jetty-9.4.x/jetty-server/src/test/java/org/eclipse/jetty/server/handler/AllowSymLinkAliasCheckerTest.java", "author": "joakime", "createdAt": "2020-07-21T21:29:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5MDA2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQwNzg5Ng==", "url": "https://github.com/eclipse/jetty.project/pull/5070#discussion_r458407896", "bodyText": "Bleah!", "author": "sbordet", "createdAt": "2020-07-21T21:47:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5MDA2Mw=="}], "type": "inlineReview", "revised_code": null}]}