{"pr_number": 4815, "pr_title": "Allow a ConnectionFactory (eg SslConnectionFactory) to automatically add a Customizer", "pr_createdAt": "2020-04-25T09:34:33Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/4815", "timeline": [{"oid": "57a02bd0d5436dfc7fe78400cede0e33b10f440b", "url": "https://github.com/eclipse/jetty.project/commit/57a02bd0d5436dfc7fe78400cede0e33b10f440b", "message": "Issue #4814 Configuring Connection Factory\n\nRedo of this PR without Attributes improvements (moved to #4816).\nAdd a ConnectionFactory.Configuring interface to all connectors to be configured during doStart.\nI have some concern about shared HttpConfigurations.\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-04-27T09:23:25Z", "type": "commit"}, {"oid": "57a02bd0d5436dfc7fe78400cede0e33b10f440b", "url": "https://github.com/eclipse/jetty.project/commit/57a02bd0d5436dfc7fe78400cede0e33b10f440b", "message": "Issue #4814 Configuring Connection Factory\n\nRedo of this PR without Attributes improvements (moved to #4816).\nAdd a ConnectionFactory.Configuring interface to all connectors to be configured during doStart.\nI have some concern about shared HttpConfigurations.\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-04-27T09:23:25Z", "type": "forcePushed"}, {"oid": "bea59b907bc022dc2c742654ffed2d16a39ff1a5", "url": "https://github.com/eclipse/jetty.project/commit/bea59b907bc022dc2c742654ffed2d16a39ff1a5", "message": "Merge branch 'jetty-10.0.x' into jetty-10.0.x-4814-ConfiguringConnectionFactory", "committedDate": "2020-04-28T08:59:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjYyMjM3Nw==", "url": "https://github.com/eclipse/jetty.project/pull/4815#discussion_r416622377", "bodyText": "Please fix the javadoc, as Configuring is not a ConnectionFactory.\nUnless, only a ConnectionFactory can implement Configuring.\nIf something else can, then the javadoc needs to be fixed, something like:  \"Implementing this class allows to configure the connector (or its component tree) at connector startup\".", "author": "sbordet", "createdAt": "2020-04-28T13:41:27Z", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/ConnectionFactory.java", "diffHunk": "@@ -125,4 +125,16 @@\n          */\n         Detection detect(ByteBuffer buffer);\n     }\n+\n+    /**\n+     * A ConnectionFactory that can configure the connector.", "originalCommit": "bea59b907bc022dc2c742654ffed2d16a39ff1a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzExMDAzOQ==", "url": "https://github.com/eclipse/jetty.project/pull/4815#discussion_r417110039", "bodyText": "I'll make it extend ConnectionFactory like the other 'ing' inner interfaces", "author": "gregw", "createdAt": "2020-04-29T07:12:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjYyMjM3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "82e68bbea5c10ebced04d2bd191777381c334030", "chunk": "diff --git a/jetty-server/src/main/java/org/eclipse/jetty/server/ConnectionFactory.java b/jetty-server/src/main/java/org/eclipse/jetty/server/ConnectionFactory.java\nindex b7f2cbb0dc..c746f5afc6 100644\n--- a/jetty-server/src/main/java/org/eclipse/jetty/server/ConnectionFactory.java\n+++ b/jetty-server/src/main/java/org/eclipse/jetty/server/ConnectionFactory.java\n\n@@ -129,7 +129,7 @@ public interface ConnectionFactory\n     /**\n      * A ConnectionFactory that can configure the connector.\n      */\n-    interface Configuring\n+    interface Configuring extends ConnectionFactory\n     {\n         /**\n          * Called during {@link Connector#start()}.\n"}}, {"oid": "82e68bbea5c10ebced04d2bd191777381c334030", "url": "https://github.com/eclipse/jetty.project/commit/82e68bbea5c10ebced04d2bd191777381c334030", "message": "updates from review\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-04-29T07:15:21Z", "type": "commit"}, {"oid": "ade9fe4e636009a04ebd27b1629af3ded86514b3", "url": "https://github.com/eclipse/jetty.project/commit/ade9fe4e636009a04ebd27b1629af3ded86514b3", "message": "Merge remote-tracking branch 'origin/jetty-10.0.x' into jetty-10.0.x-4814-ConfiguringConnectionFactory", "committedDate": "2020-04-29T07:15:39Z", "type": "commit"}]}