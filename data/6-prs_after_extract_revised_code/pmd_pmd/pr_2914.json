{"pr_number": 2914, "pr_title": "[core] Include rule name in text renderer", "pr_createdAt": "2020-11-12T11:10:27Z", "pr_url": "https://github.com/pmd/pmd/pull/2914", "timeline": [{"oid": "8ac13b769ed0b2601fa2f580e017b077e1ffacb9", "url": "https://github.com/pmd/pmd/commit/8ac13b769ed0b2601fa2f580e017b077e1ffacb9", "message": "[core] Modified test cases for TextRenderer to include the RuleName in the generated output", "committedDate": "2020-11-12T10:41:10Z", "type": "commit"}, {"oid": "3a2c1b8334d9df24e0a7e357f79f2067107c95ba", "url": "https://github.com/pmd/pmd/commit/3a2c1b8334d9df24e0a7e357f79f2067107c95ba", "message": "[core] Modified output of TextRenderer to include the RuleName in the generated output", "committedDate": "2020-11-12T10:44:18Z", "type": "commit"}, {"oid": "72291e9a59ea9216a308051832b5a2c111943a86", "url": "https://github.com/pmd/pmd/commit/72291e9a59ea9216a308051832b5a2c111943a86", "message": "[core] Removed unnecessary explicit casting of Integer to String", "committedDate": "2020-11-12T10:46:05Z", "type": "commit"}, {"oid": "7ef6084a79c8a43bc0cccfb4077f90e11a234f4f", "url": "https://github.com/pmd/pmd/commit/7ef6084a79c8a43bc0cccfb4077f90e11a234f4f", "message": "[core] Refactored generation of Text output to use constants defining the 3 different types of text seperators: small '-'; medium ':\\t' and large '\\t-\\t' to increase readability and to standardise the text output.", "committedDate": "2020-11-12T10:57:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzUyOQ==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522053529", "bodyText": "I think it would be better to place the rule name before the message. Messages are of varying lengths and the rule names will end up misaligned", "author": "oowekyala", "createdAt": "2020-11-12T11:59:48Z", "path": "pmd-core/src/test/java/net/sourceforge/pmd/ant/PMDTaskTest.java", "diffHunk": "@@ -78,7 +78,7 @@ public void testWithShortFilenames() throws FileNotFoundException, IOException {\n             String actual = IOUtils.toString(in, StandardCharsets.UTF_8);\n             // remove any trailing newline\n             actual = actual.replaceAll(\"\\n|\\r\", \"\");\n-            Assert.assertEquals(\"sample.dummy:0:\\tTest Rule 2\", actual);\n+            Assert.assertEquals(\"sample.dummy:0:\\tTest Rule 2:\\tSampleXPathRule\", actual);", "originalCommit": "7ef6084a79c8a43bc0cccfb4077f90e11a234f4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1NDgxNw==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522054817", "bodyText": "Hi,\nOk , no problem. I put it there for the moment because @Fernal73 pointed out that this could popetntially break backwards compatibility (see comment #1961 (comment) )", "author": "GuntherSchrijvers", "createdAt": "2020-11-12T12:01:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzUyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA2MTI3Ng==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522061276", "bodyText": "Changed the output to put the RuleName before the description.", "author": "GuntherSchrijvers", "createdAt": "2020-11-12T12:14:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzUyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA2OTIzNw==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522069237", "bodyText": "Fine with me if backwards compatibility is not an issue. As long as nobody is parsing and stuffing this into a database. Would anybody do this for the text output, anyway?", "author": "Fernal73", "createdAt": "2020-11-12T12:28:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzUyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA3NDY3MQ==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522074671", "bodyText": "Would anybody do this for the text output, anyway?\n\nExactly, I wouldn't be concerned too much about backwards compatibility for this text format. Mentioning the change in the release notes should be enough\nThanks for making the change", "author": "oowekyala", "createdAt": "2020-11-12T12:38:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzUyOQ=="}], "type": "inlineReview", "revised_code": {"commit": "fbe2e6bb2e33072c197df5a154e160a8743c594c", "chunk": "diff --git a/pmd-core/src/test/java/net/sourceforge/pmd/ant/PMDTaskTest.java b/pmd-core/src/test/java/net/sourceforge/pmd/ant/PMDTaskTest.java\nindex 6e865fd888..0bdf85b5ad 100644\n--- a/pmd-core/src/test/java/net/sourceforge/pmd/ant/PMDTaskTest.java\n+++ b/pmd-core/src/test/java/net/sourceforge/pmd/ant/PMDTaskTest.java\n\n@@ -78,7 +78,7 @@ public class PMDTaskTest {\n             String actual = IOUtils.toString(in, StandardCharsets.UTF_8);\n             // remove any trailing newline\n             actual = actual.replaceAll(\"\\n|\\r\", \"\");\n-            Assert.assertEquals(\"sample.dummy:0:\\tTest Rule 2:\\tSampleXPathRule\", actual);\n+            Assert.assertEquals(\"sample.dummy:0:\\tSampleXPathRule:\\tTest Rule 2\", actual);\n         }\n     }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzY1Mg==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522053652", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final Character SMALL_SEPERATOR = ':';\n          \n          \n            \n                private static final Character SMALL_SEPARATOR = ':';", "author": "oowekyala", "createdAt": "2020-11-12T12:00:03Z", "path": "pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java", "diffHunk": "@@ -16,6 +16,10 @@\n  */\n public class TextRenderer extends AbstractIncrementingRenderer {\n \n+    private static final Character SMALL_SEPERATOR = ':';", "originalCommit": "7ef6084a79c8a43bc0cccfb4077f90e11a234f4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1NDEzMA==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522054130", "bodyText": "Fyi, this is also the case for the other constants, I think, it's easier to correct in an IDE than in GH", "author": "oowekyala", "createdAt": "2020-11-12T12:00:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzY1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1NTUyMw==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522055523", "bodyText": "Ok, will change it", "author": "GuntherSchrijvers", "createdAt": "2020-11-12T12:03:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzY1Mg=="}], "type": "inlineReview", "revised_code": {"commit": "c7022c4881a206e8b914a44eeb4287972a6b5955", "chunk": "diff --git a/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java b/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\nindex dddc4c2440..043a3c6707 100644\n--- a/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\n+++ b/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\n\n@@ -16,9 +16,9 @@ import net.sourceforge.pmd.RuleViolation;\n  */\n public class TextRenderer extends AbstractIncrementingRenderer {\n \n-    private static final Character SMALL_SEPERATOR = ':';\n-    private static final String MEDIUM_SEPERATOR = \":\\t\";\n-    private static final String LARGE_SEPERATOR = \"\\t-\\t\";\n+    private static final Character SMALL_SEPARATOR = ':';\n+    private static final String MEDIUM_SEPARATOR = \":\\t\";\n+    private static final String LARGE_SEPARATOR = \"\\t-\\t\";\n \n     public static final String NAME = \"text\";\n \n"}}, {"oid": "c7022c4881a206e8b914a44eeb4287972a6b5955", "url": "https://github.com/pmd/pmd/commit/c7022c4881a206e8b914a44eeb4287972a6b5955", "message": "[core] Corrected constant naming from SEPERATOR to SEPARATOR.", "committedDate": "2020-11-12T12:05:03Z", "type": "commit"}, {"oid": "fbe2e6bb2e33072c197df5a154e160a8743c594c", "url": "https://github.com/pmd/pmd/commit/fbe2e6bb2e33072c197df5a154e160a8743c594c", "message": "[core] Changed output for a violating rule to put the RuleName in front of the description after receiving feedback on the PR.", "committedDate": "2020-11-12T12:13:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA3NTQ5OQ==", "url": "https://github.com/pmd/pmd/pull/2914#discussion_r522075499", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final Character SMALL_SEPARATOR = ':';\n          \n          \n            \n                private static final char SMALL_SEPARATOR = ':';", "author": "oowekyala", "createdAt": "2020-11-12T12:39:39Z", "path": "pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java", "diffHunk": "@@ -16,6 +16,10 @@\n  */\n public class TextRenderer extends AbstractIncrementingRenderer {\n \n+    private static final Character SMALL_SEPARATOR = ':';", "originalCommit": "fbe2e6bb2e33072c197df5a154e160a8743c594c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e4ecc3bfb78e13cc7018c95bec656f84499ee8d8", "chunk": "diff --git a/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java b/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\nindex f66fd971bb..afce5e0740 100644\n--- a/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\n+++ b/pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\n\n@@ -16,7 +16,7 @@ import net.sourceforge.pmd.RuleViolation;\n  */\n public class TextRenderer extends AbstractIncrementingRenderer {\n \n-    private static final Character SMALL_SEPARATOR = ':';\n+    private static final char SMALL_SEPARATOR = ':';\n     private static final String MEDIUM_SEPARATOR = \":\\t\";\n     private static final String LARGE_SEPARATOR = \"\\t-\\t\";\n \n"}}, {"oid": "e4ecc3bfb78e13cc7018c95bec656f84499ee8d8", "url": "https://github.com/pmd/pmd/commit/e4ecc3bfb78e13cc7018c95bec656f84499ee8d8", "message": "Update pmd-core/src/main/java/net/sourceforge/pmd/renderers/TextRenderer.java\n\nCo-authored-by: Cl\u00e9ment Fournier <clement.fournier76@gmail.com>", "committedDate": "2020-11-12T13:24:05Z", "type": "commit"}]}