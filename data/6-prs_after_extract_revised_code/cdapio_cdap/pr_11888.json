{"pr_number": 11888, "pr_title": "(CDAP-16243) Minor bug fixes to system app initializing phase", "pr_createdAt": "2020-02-25T21:56:40Z", "pr_url": "https://github.com/cdapio/cdap/pull/11888", "timeline": [{"oid": "80dbbb79137b7abd4e1d8fc81d34b1b0331650e5", "url": "https://github.com/cdapio/cdap/commit/80dbbb79137b7abd4e1d8fc81d34b1b0331650e5", "message": "Minor bug fixes to system app initializing phase", "committedDate": "2020-02-25T21:52:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE1MTc2Nw==", "url": "https://github.com/cdapio/cdap/pull/11888#discussion_r384151767", "bodyText": "indentation is off, please be sure to use the right settings in your IDE", "author": "albertshau", "createdAt": "2020-02-25T21:58:42Z", "path": "cdap-app-fabric/src/main/java/io/cdap/cdap/internal/sysapp/SystemAppEnableExecutor.java", "diffHunk": "@@ -111,17 +111,20 @@ private ApplicationWithPrograms deploySystemApp(Arguments arguments) throws Exce\n     ArtifactSummary artifactSummary = arguments.getArtifact();\n \n     KerberosPrincipalId ownerPrincipalId =\n-      arguments.getOwnerPrincipal() == null ? null : new KerberosPrincipalId(arguments.getOwnerPrincipal());\n+        arguments.getOwnerPrincipal() == null ? null", "originalCommit": "80dbbb79137b7abd4e1d8fc81d34b1b0331650e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE1Mzk4MA==", "url": "https://github.com/cdapio/cdap/pull/11888#discussion_r384153980", "bodyText": "Pardon me.. I didn't change those lines.. intellij behaving weirdly. Will take a look at settings. Thanks!", "author": "pandyajay10", "createdAt": "2020-02-25T22:03:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE1MTc2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "aaf288b8e6df3afef588528dbdfdf35c45c2e09f", "chunk": "diff --git a/cdap-app-fabric/src/main/java/io/cdap/cdap/internal/sysapp/SystemAppEnableExecutor.java b/cdap-app-fabric/src/main/java/io/cdap/cdap/internal/sysapp/SystemAppEnableExecutor.java\nindex 093730227c4..90b8a7a59dd 100644\n--- a/cdap-app-fabric/src/main/java/io/cdap/cdap/internal/sysapp/SystemAppEnableExecutor.java\n+++ b/cdap-app-fabric/src/main/java/io/cdap/cdap/internal/sysapp/SystemAppEnableExecutor.java\n\n@@ -111,18 +111,15 @@ public class SystemAppEnableExecutor {\n     ArtifactSummary artifactSummary = arguments.getArtifact();\n \n     KerberosPrincipalId ownerPrincipalId =\n-        arguments.getOwnerPrincipal() == null ? null\n-            : new KerberosPrincipalId(arguments.getOwnerPrincipal());\n+      arguments.getOwnerPrincipal() == null ? null : new KerberosPrincipalId(arguments.getOwnerPrincipal());\n \n     // if we don't null check, it gets serialized to \"null\"\n     String configString = arguments.getConfig() == null ? null : GSON.toJson(arguments.getConfig());\n \n     try {\n-      return appLifecycleService\n-          .deployApp(appId.getParent(), appId.getApplication(), appId.getVersion(),\n-              artifactSummary, configString, x -> {\n-              },\n-              ownerPrincipalId, arguments.canUpdateSchedules());\n+      return appLifecycleService.deployApp(appId.getParent(), appId.getApplication(), appId.getVersion(),\n+                                           artifactSummary, configString, x -> { },\n+                                           ownerPrincipalId, arguments.canUpdateSchedules());\n \n     } catch (UnauthorizedException | InvalidArtifactException e) {\n       throw e;\n"}}, {"oid": "aaf288b8e6df3afef588528dbdfdf35c45c2e09f", "url": "https://github.com/cdapio/cdap/commit/aaf288b8e6df3afef588528dbdfdf35c45c2e09f", "message": "Remove unintended changes", "committedDate": "2020-02-25T22:01:43Z", "type": "commit"}]}