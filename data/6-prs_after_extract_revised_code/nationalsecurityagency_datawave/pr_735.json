{"pr_number": 735, "pr_title": "fixes #734: Ensure we move to the correct next field when using the reverse index", "pr_createdAt": "2020-01-31T20:44:10Z", "pr_url": "https://github.com/NationalSecurityAgency/datawave/pull/735", "timeline": [{"oid": "339165b88ee86061c6fe27b0748c56fca7966268", "url": "https://github.com/NationalSecurityAgency/datawave/commit/339165b88ee86061c6fe27b0748c56fca7966268", "message": "fixes #734: Ensure we move to the correct next field when using the reverse index", "committedDate": "2020-01-31T20:42:06Z", "type": "commit"}, {"oid": "b2fe3014ebe138c202a0e48e316fcaa2cdec405a", "url": "https://github.com/NationalSecurityAgency/datawave/commit/b2fe3014ebe138c202a0e48e316fcaa2cdec405a", "message": "re #734: Adding test cases", "committedDate": "2020-02-03T20:55:59Z", "type": "commit"}, {"oid": "1fe6ce943479abe25cd48e52d37aedf11b6ebd8f", "url": "https://github.com/NationalSecurityAgency/datawave/commit/1fe6ce943479abe25cd48e52d37aedf11b6ebd8f", "message": "re #734: fixed additional bug in DiscoveryIterator related to reverse index", "committedDate": "2020-02-04T15:04:10Z", "type": "commit"}, {"oid": "ac9a5547b1d7647243a669876e339cace8d63d09", "url": "https://github.com/NationalSecurityAgency/datawave/commit/ac9a5547b1d7647243a669876e339cace8d63d09", "message": "re #734: Added logic unit test case.  Found a couple more bugs in the process.", "committedDate": "2020-02-05T20:51:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMTk0MQ==", "url": "https://github.com/NationalSecurityAgency/datawave/pull/735#discussion_r375521941", "bodyText": "Yikes!  Good catch.  Does this mean we were potentially returning things that we shouldn't have before this fix?", "author": "jwomeara", "createdAt": "2020-02-05T21:37:35Z", "path": "warehouse/query-core/src/main/java/datawave/query/discovery/DiscoveryLogic.java", "diffHunk": "@@ -369,6 +372,9 @@ public ShardIndexQueryTable clone() {\n             String literal = literalAndField.getKey(), field = literalAndField.getValue();\n             // if we're _ANYFIELD_, then use null when making the literal range\n             field = Constants.ANY_FIELD.equals(field) ? null : field;\n+            if (field != null) {\n+                familiesToSeek.add(new Text(field));\n+            }", "originalCommit": "ac9a5547b1d7647243a669876e339cace8d63d09", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "c6553e8a44017de94c24d74a36522f4905400f61", "url": "https://github.com/NationalSecurityAgency/datawave/commit/c6553e8a44017de94c24d74a36522f4905400f61", "message": "Merge branch 'release/version2.8' into DATAWAVE-734", "committedDate": "2020-02-06T14:27:49Z", "type": "commit"}]}