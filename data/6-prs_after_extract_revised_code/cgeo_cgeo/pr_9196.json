{"pr_number": 9196, "pr_title": "fix #9193: hard-code point instead of language-specific separator", "pr_createdAt": "2020-10-16T16:09:23Z", "pr_url": "https://github.com/cgeo/cgeo/pull/9196", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3NjM3Nw==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507076377", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            return String.format(Locale.getDefault(), \"%c%d %02d%c%03d %c%d %02d%c%03d\",\n          \n          \n            \n                            return String.format((Locale) null, \"%c%d %02d.%03d %c%d %02d.%03d\",\n          \n      \n    \n    \n  \n\nand remove the '.' arguments.", "author": "UniQP", "createdAt": "2020-10-18T10:12:42Z", "path": "main/src/cgeo/geocaching/location/GeopointFormatter.java", "diffHunk": "@@ -98,8 +98,8 @@ public static String format(final Format format, final Geopoint gp) {\n \n             case LAT_LON_DECMINUTE_SHORT:\n                 return String.format(Locale.getDefault(), \"%c%d %02d%c%03d %c%d %02d%c%03d\",", "originalCommit": "c4df4628d73e0efe76b35b1bee64e47766736584", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyMTY1NQ==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507121655", "bodyText": "@eddiemuc Also applies to new version", "author": "UniQP", "createdAt": "2020-10-18T12:14:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3NjM3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzE0OTI2MQ==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507149261", "bodyText": "done", "author": "eddiemuc", "createdAt": "2020-10-18T13:26:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3NjM3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "1e3a47409cc0a986315e88d090b1b82d497d45bb", "chunk": "diff --git a/main/src/cgeo/geocaching/location/GeopointFormatter.java b/main/src/cgeo/geocaching/location/GeopointFormatter.java\nindex 536809ac1..d6c08e75c 100644\n--- a/main/src/cgeo/geocaching/location/GeopointFormatter.java\n+++ b/main/src/cgeo/geocaching/location/GeopointFormatter.java\n\n@@ -98,8 +101,13 @@ public class GeopointFormatter {\n \n             case LAT_LON_DECMINUTE_SHORT:\n                 return String.format(Locale.getDefault(), \"%c%d %02d%c%03d %c%d %02d%c%03d\",\n-                        gp.getLatDir(), gp.getDecMinuteLatDeg(), gp.getDecMinuteLatMin(), '.', gp.getDecMinuteLatMinFrac(),\n-                        gp.getLonDir(), gp.getDecMinuteLonDeg(), gp.getDecMinuteLonMin(), '.', gp.getDecMinuteLonMinFrac());\n+                        gp.getLatDir(), gp.getDecMinuteLatDeg(), gp.getDecMinuteLatMin(), decimalSeparator, gp.getDecMinuteLatMinFrac(),\n+                        gp.getLonDir(), gp.getDecMinuteLonDeg(), gp.getDecMinuteLonMin(), decimalSeparator, gp.getDecMinuteLonMinFrac());\n+\n+            case LAT_LON_DECMINUTE_SHORT_POINTHARDCODED:\n+                return String.format(Locale.getDefault(), \"%c%d %02d%c%03d %c%d %02d%c%03d\",\n+                    gp.getLatDir(), gp.getDecMinuteLatDeg(), gp.getDecMinuteLatMin(), '.', gp.getDecMinuteLatMinFrac(),\n+                    gp.getLonDir(), gp.getDecMinuteLonDeg(), gp.getDecMinuteLonMin(), '.', gp.getDecMinuteLonMinFrac());\n \n             case LAT_LON_DECMINUTE_RAW:\n                 return String.format((Locale) null, \"%c %02d\u00b0 %06.3f %c %03d\u00b0 %06.3f\",\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3OTQ0Mw==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507079443", "bodyText": "The example in the enum comment also needs to be adapted and should mention that the string in unlocalized.", "author": "UniQP", "createdAt": "2020-10-18T10:19:42Z", "path": "main/src/cgeo/geocaching/location/GeopointFormatter.java", "diffHunk": "@@ -98,8 +98,8 @@ public static String format(final Format format, final Geopoint gp) {\n \n             case LAT_LON_DECMINUTE_SHORT:", "originalCommit": "c4df4628d73e0efe76b35b1bee64e47766736584", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1e3a47409cc0a986315e88d090b1b82d497d45bb", "chunk": "diff --git a/main/src/cgeo/geocaching/location/GeopointFormatter.java b/main/src/cgeo/geocaching/location/GeopointFormatter.java\nindex 536809ac1..d6c08e75c 100644\n--- a/main/src/cgeo/geocaching/location/GeopointFormatter.java\n+++ b/main/src/cgeo/geocaching/location/GeopointFormatter.java\n\n@@ -98,8 +101,13 @@ public class GeopointFormatter {\n \n             case LAT_LON_DECMINUTE_SHORT:\n                 return String.format(Locale.getDefault(), \"%c%d %02d%c%03d %c%d %02d%c%03d\",\n-                        gp.getLatDir(), gp.getDecMinuteLatDeg(), gp.getDecMinuteLatMin(), '.', gp.getDecMinuteLatMinFrac(),\n-                        gp.getLonDir(), gp.getDecMinuteLonDeg(), gp.getDecMinuteLonMin(), '.', gp.getDecMinuteLonMinFrac());\n+                        gp.getLatDir(), gp.getDecMinuteLatDeg(), gp.getDecMinuteLatMin(), decimalSeparator, gp.getDecMinuteLatMinFrac(),\n+                        gp.getLonDir(), gp.getDecMinuteLonDeg(), gp.getDecMinuteLonMin(), decimalSeparator, gp.getDecMinuteLonMinFrac());\n+\n+            case LAT_LON_DECMINUTE_SHORT_POINTHARDCODED:\n+                return String.format(Locale.getDefault(), \"%c%d %02d%c%03d %c%d %02d%c%03d\",\n+                    gp.getLatDir(), gp.getDecMinuteLatDeg(), gp.getDecMinuteLatMin(), '.', gp.getDecMinuteLatMinFrac(),\n+                    gp.getLonDir(), gp.getDecMinuteLonDeg(), gp.getDecMinuteLonMin(), '.', gp.getDecMinuteLonMinFrac());\n \n             case LAT_LON_DECMINUTE_RAW:\n                 return String.format((Locale) null, \"%c %02d\u00b0 %06.3f %c %03d\u00b0 %06.3f\",\n"}}, {"oid": "1e3a47409cc0a986315e88d090b1b82d497d45bb", "url": "https://github.com/cgeo/cgeo/commit/1e3a47409cc0a986315e88d090b1b82d497d45bb", "message": "fix #9193: hard-code point instead of language-specific separator", "committedDate": "2020-10-18T11:19:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyMzYxMA==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507123610", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    /** Example: \"N10 12.345 W5 12.345\" (always use point, independent from language settings) */\n          \n          \n            \n                    /** Example: \"N10 12.345 W5 12.345\" (unlocalized) */", "author": "UniQP", "createdAt": "2020-10-18T12:19:17Z", "path": "main/src/cgeo/geocaching/location/GeopointFormatter.java", "diffHunk": "@@ -30,6 +30,9 @@ private GeopointFormatter() {\n         /** Example: \"N10 12,345 W5 12,345\" */\n         LAT_LON_DECMINUTE_SHORT,\n \n+        /** Example: \"N10 12.345 W5 12.345\" (always use point, independent from language settings) */", "originalCommit": "1e3a47409cc0a986315e88d090b1b82d497d45bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEzNzM3MA==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507137370", "bodyText": "done", "author": "eddiemuc", "createdAt": "2020-10-18T12:55:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyMzYxMA=="}], "type": "inlineReview", "revised_code": {"commit": "27e55a14d003a1dcd5b8ed128b04657468fe82c0", "chunk": "diff --git a/main/src/cgeo/geocaching/location/GeopointFormatter.java b/main/src/cgeo/geocaching/location/GeopointFormatter.java\nindex d6c08e75c..c0762ab2c 100644\n--- a/main/src/cgeo/geocaching/location/GeopointFormatter.java\n+++ b/main/src/cgeo/geocaching/location/GeopointFormatter.java\n\n@@ -30,8 +30,8 @@ public class GeopointFormatter {\n         /** Example: \"N10 12,345 W5 12,345\" */\n         LAT_LON_DECMINUTE_SHORT,\n \n-        /** Example: \"N10 12.345 W5 12.345\" (always use point, independent from language settings) */\n-        LAT_LON_DECMINUTE_SHORT_POINTHARDCODED,\n+        /** Example: \"N10 12.345 W5 12.345\" (unlocalized) */\n+        LAT_LON_DECMINUTE_SHORT_RAW,\n \n         /** Example: \"N 10\u00b0 12.345 W 5\u00b0 12.345\" */\n         LAT_LON_DECMINUTE_RAW,\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyMzc0OQ==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507123749", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    LAT_LON_DECMINUTE_SHORT_POINTHARDCODED,\n          \n          \n            \n                    LAT_LON_DECMINUTE_SHORT_RAW,", "author": "UniQP", "createdAt": "2020-10-18T12:19:40Z", "path": "main/src/cgeo/geocaching/location/GeopointFormatter.java", "diffHunk": "@@ -30,6 +30,9 @@ private GeopointFormatter() {\n         /** Example: \"N10 12,345 W5 12,345\" */\n         LAT_LON_DECMINUTE_SHORT,\n \n+        /** Example: \"N10 12.345 W5 12.345\" (always use point, independent from language settings) */\n+        LAT_LON_DECMINUTE_SHORT_POINTHARDCODED,", "originalCommit": "1e3a47409cc0a986315e88d090b1b82d497d45bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEzODEzMw==", "url": "https://github.com/cgeo/cgeo/pull/9196#discussion_r507138133", "bodyText": "done", "author": "eddiemuc", "createdAt": "2020-10-18T12:57:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyMzc0OQ=="}], "type": "inlineReview", "revised_code": {"commit": "27e55a14d003a1dcd5b8ed128b04657468fe82c0", "chunk": "diff --git a/main/src/cgeo/geocaching/location/GeopointFormatter.java b/main/src/cgeo/geocaching/location/GeopointFormatter.java\nindex d6c08e75c..c0762ab2c 100644\n--- a/main/src/cgeo/geocaching/location/GeopointFormatter.java\n+++ b/main/src/cgeo/geocaching/location/GeopointFormatter.java\n\n@@ -30,8 +30,8 @@ public class GeopointFormatter {\n         /** Example: \"N10 12,345 W5 12,345\" */\n         LAT_LON_DECMINUTE_SHORT,\n \n-        /** Example: \"N10 12.345 W5 12.345\" (always use point, independent from language settings) */\n-        LAT_LON_DECMINUTE_SHORT_POINTHARDCODED,\n+        /** Example: \"N10 12.345 W5 12.345\" (unlocalized) */\n+        LAT_LON_DECMINUTE_SHORT_RAW,\n \n         /** Example: \"N 10\u00b0 12.345 W 5\u00b0 12.345\" */\n         LAT_LON_DECMINUTE_RAW,\n"}}, {"oid": "27e55a14d003a1dcd5b8ed128b04657468fe82c0", "url": "https://github.com/cgeo/cgeo/commit/27e55a14d003a1dcd5b8ed128b04657468fe82c0", "message": "fix #9193: hard-code point instead of language-specific separator", "committedDate": "2020-10-18T12:57:14Z", "type": "forcePushed"}, {"oid": "8606aa91cde07f09d0fb158571bcd1f13c83f2f7", "url": "https://github.com/cgeo/cgeo/commit/8606aa91cde07f09d0fb158571bcd1f13c83f2f7", "message": "fix #9193: hard-code point instead of language-specific separator", "committedDate": "2020-10-18T13:25:31Z", "type": "commit"}, {"oid": "8606aa91cde07f09d0fb158571bcd1f13c83f2f7", "url": "https://github.com/cgeo/cgeo/commit/8606aa91cde07f09d0fb158571bcd1f13c83f2f7", "message": "fix #9193: hard-code point instead of language-specific separator", "committedDate": "2020-10-18T13:25:31Z", "type": "forcePushed"}]}