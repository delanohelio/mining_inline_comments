{"pr_number": 9235, "pr_title": "fixes #8978 - center content in image list view vertically", "pr_createdAt": "2020-10-20T18:15:25Z", "pr_url": "https://github.com/cgeo/cgeo/pull/9235", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODgyMzI3Ng==", "url": "https://github.com/cgeo/cgeo/pull/9235#discussion_r508823276", "bodyText": "Good catch, that was a bug indeed! But you may also use notifyItemRangeChange here so you don't have to use a loop", "author": "eddiemuc", "createdAt": "2020-10-20T20:37:26Z", "path": "main/src/cgeo/geocaching/ui/recyclerview/ManagedListAdapter.java", "diffHunk": "@@ -168,8 +168,9 @@ public void clearView(@NonNull final RecyclerView recyclerView, @NonNull final R\n                 //if necessary, pass change event to views with position change\n                 if (currentDragItemStart >= 0) {\n                     if (notifyOnPositionChange && currentDragItemStart != viewHolder.getAdapterPosition()) {\n-                        notifyItemChanged(currentDragItemStart);\n-                        notifyItemChanged(viewHolder.getAdapterPosition());\n+                        for (int item = Math.min(currentDragItemStart, viewHolder.getAdapterPosition()); item <= Math.max(currentDragItemStart, viewHolder.getAdapterPosition()); item++) {", "originalCommit": "ef376a147f2c51a23e24f9acd4569c194a0aa1ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTMwMjgzNw==", "url": "https://github.com/cgeo/cgeo/pull/9235#discussion_r509302837", "bodyText": "But you may also use notifyItemRangeChange here so you don't have to use a loop\n\nOk. Thanks! I didn't know that...", "author": "fm-sys", "createdAt": "2020-10-21T13:50:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODgyMzI3Ng=="}], "type": "inlineReview", "revised_code": {"commit": "f674958174a561fbb6afba7634305a5f8d277eee", "chunk": "diff --git a/main/src/cgeo/geocaching/ui/recyclerview/ManagedListAdapter.java b/main/src/cgeo/geocaching/ui/recyclerview/ManagedListAdapter.java\nindex 25da5a712..a203448a1 100644\n--- a/main/src/cgeo/geocaching/ui/recyclerview/ManagedListAdapter.java\n+++ b/main/src/cgeo/geocaching/ui/recyclerview/ManagedListAdapter.java\n\n@@ -168,9 +168,7 @@ public abstract class ManagedListAdapter<T, V extends RecyclerView.ViewHolder> e\n                 //if necessary, pass change event to views with position change\n                 if (currentDragItemStart >= 0) {\n                     if (notifyOnPositionChange && currentDragItemStart != viewHolder.getAdapterPosition()) {\n-                        for (int item = Math.min(currentDragItemStart, viewHolder.getAdapterPosition()); item <= Math.max(currentDragItemStart, viewHolder.getAdapterPosition()); item++) {\n-                            notifyItemChanged(item);\n-                        }\n+                        notifyItemRangeChanged(Math.min(currentDragItemStart, viewHolder.getAdapterPosition()), Math.abs(currentDragItemStart - viewHolder.getAdapterPosition()) + 1);\n                     }\n                     currentDragItemStart = -1;\n \n"}}, {"oid": "f674958174a561fbb6afba7634305a5f8d277eee", "url": "https://github.com/cgeo/cgeo/commit/f674958174a561fbb6afba7634305a5f8d277eee", "message": "fixes #8978 - center content in image list view vertically", "committedDate": "2020-10-21T13:51:48Z", "type": "commit"}, {"oid": "f674958174a561fbb6afba7634305a5f8d277eee", "url": "https://github.com/cgeo/cgeo/commit/f674958174a561fbb6afba7634305a5f8d277eee", "message": "fixes #8978 - center content in image list view vertically", "committedDate": "2020-10-21T13:51:48Z", "type": "forcePushed"}]}