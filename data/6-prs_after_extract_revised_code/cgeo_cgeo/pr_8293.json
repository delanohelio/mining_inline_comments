{"pr_number": 8293, "pr_title": "show user note on waypoint popup (fix #8290)", "pr_createdAt": "2020-05-02T18:56:55Z", "pr_url": "https://github.com/cgeo/cgeo/pull/8293", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxMTU5Mw==", "url": "https://github.com/cgeo/cgeo/pull/8293#discussion_r419011593", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (null != note && !note.isEmpty()) {\n          \n          \n            \n                        if (StringUtils.isNotBlank(note)) {", "author": "UniQP", "createdAt": "2020-05-02T21:42:43Z", "path": "main/src/cgeo/geocaching/WaypointPopupFragment.java", "diffHunk": "@@ -100,7 +100,14 @@ protected void init() {\n             //Waypoint geocode\n             details.add(R.string.cache_geocode, waypoint.getPrefix() + waypoint.getGeocode().substring(2));\n             waypointDistance = details.addDistance(waypoint, waypointDistance);\n-            details.addHtml(R.string.waypoint_note, waypoint.getNote(), waypoint.getGeocode());\n+            final String note = waypoint.getNote();\n+            if (null != note && !note.isEmpty()) {", "originalCommit": "13bbaa66bf0e76cf76f5364acd98038756209474", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTA2MDc3Ng==", "url": "https://github.com/cgeo/cgeo/pull/8293#discussion_r419060776", "bodyText": "fixed", "author": "moving-bits", "createdAt": "2020-05-03T07:19:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxMTU5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "d1db2745ed4d75e5202952e2d1edf77c8a84d656", "chunk": "diff --git a/main/src/cgeo/geocaching/WaypointPopupFragment.java b/main/src/cgeo/geocaching/WaypointPopupFragment.java\nindex 8808baec4..9550d1269 100644\n--- a/main/src/cgeo/geocaching/WaypointPopupFragment.java\n+++ b/main/src/cgeo/geocaching/WaypointPopupFragment.java\n\n@@ -101,11 +101,11 @@ public class WaypointPopupFragment extends AbstractDialogFragmentWithProximityNo\n             details.add(R.string.cache_geocode, waypoint.getPrefix() + waypoint.getGeocode().substring(2));\n             waypointDistance = details.addDistance(waypoint, waypointDistance);\n             final String note = waypoint.getNote();\n-            if (null != note && !note.isEmpty()) {\n+            if (StringUtils.isNotBlank(note)) {\n                 details.addHtml(R.string.waypoint_note, note, waypoint.getGeocode());\n             }\n             final String userNote = waypoint.getUserNote();\n-            if (null != userNote && !userNote.isEmpty()) {\n+            if (StringUtils.isNotBlank(userNote)) {\n                 details.addHtml(R.string.waypoint_user_note, userNote, waypoint.getGeocode());\n             }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxMTY1OQ==", "url": "https://github.com/cgeo/cgeo/pull/8293#discussion_r419011659", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (null != userNote && !userNote.isEmpty()) {\n          \n          \n            \n                        if (StringUtils.isNotBlank(userNote)) {", "author": "UniQP", "createdAt": "2020-05-02T21:43:27Z", "path": "main/src/cgeo/geocaching/WaypointPopupFragment.java", "diffHunk": "@@ -100,7 +100,14 @@ protected void init() {\n             //Waypoint geocode\n             details.add(R.string.cache_geocode, waypoint.getPrefix() + waypoint.getGeocode().substring(2));\n             waypointDistance = details.addDistance(waypoint, waypointDistance);\n-            details.addHtml(R.string.waypoint_note, waypoint.getNote(), waypoint.getGeocode());\n+            final String note = waypoint.getNote();\n+            if (null != note && !note.isEmpty()) {\n+                details.addHtml(R.string.waypoint_note, note, waypoint.getGeocode());\n+            }\n+            final String userNote = waypoint.getUserNote();\n+            if (null != userNote && !userNote.isEmpty()) {", "originalCommit": "13bbaa66bf0e76cf76f5364acd98038756209474", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTA2MDgwOA==", "url": "https://github.com/cgeo/cgeo/pull/8293#discussion_r419060808", "bodyText": "fixed", "author": "moving-bits", "createdAt": "2020-05-03T07:19:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxMTY1OQ=="}], "type": "inlineReview", "revised_code": {"commit": "d1db2745ed4d75e5202952e2d1edf77c8a84d656", "chunk": "diff --git a/main/src/cgeo/geocaching/WaypointPopupFragment.java b/main/src/cgeo/geocaching/WaypointPopupFragment.java\nindex 8808baec4..9550d1269 100644\n--- a/main/src/cgeo/geocaching/WaypointPopupFragment.java\n+++ b/main/src/cgeo/geocaching/WaypointPopupFragment.java\n\n@@ -101,11 +101,11 @@ public class WaypointPopupFragment extends AbstractDialogFragmentWithProximityNo\n             details.add(R.string.cache_geocode, waypoint.getPrefix() + waypoint.getGeocode().substring(2));\n             waypointDistance = details.addDistance(waypoint, waypointDistance);\n             final String note = waypoint.getNote();\n-            if (null != note && !note.isEmpty()) {\n+            if (StringUtils.isNotBlank(note)) {\n                 details.addHtml(R.string.waypoint_note, note, waypoint.getGeocode());\n             }\n             final String userNote = waypoint.getUserNote();\n-            if (null != userNote && !userNote.isEmpty()) {\n+            if (StringUtils.isNotBlank(userNote)) {\n                 details.addHtml(R.string.waypoint_user_note, userNote, waypoint.getGeocode());\n             }\n \n"}}, {"oid": "d1db2745ed4d75e5202952e2d1edf77c8a84d656", "url": "https://github.com/cgeo/cgeo/commit/d1db2745ed4d75e5202952e2d1edf77c8a84d656", "message": "show user note on waypoint popup (fix #8290)", "committedDate": "2020-05-03T07:19:14Z", "type": "commit"}, {"oid": "d1db2745ed4d75e5202952e2d1edf77c8a84d656", "url": "https://github.com/cgeo/cgeo/commit/d1db2745ed4d75e5202952e2d1edf77c8a84d656", "message": "show user note on waypoint popup (fix #8290)", "committedDate": "2020-05-03T07:19:14Z", "type": "forcePushed"}]}