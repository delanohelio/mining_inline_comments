{"pr_number": 8065, "pr_title": "lint resolving: fix or suppress lint SetTextI18n warnings", "pr_createdAt": "2020-01-10T22:22:08Z", "pr_url": "https://github.com/cgeo/cgeo/pull/8065", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzMTkxNA==", "url": "https://github.com/cgeo/cgeo/pull/8065#discussion_r365531914", "bodyText": "This is not easy to read.\nHow about to add showHintClickListener as extra parameter?", "author": "bekuno", "createdAt": "2020-01-11T17:12:07Z", "path": "main/src/cgeo/geocaching/CacheDetailActivity.java", "diffHunk": "@@ -2292,18 +2304,8 @@ static void updateOfflineBox(final View view, final Geocache cache, final Resour\n         final ImageButton offlineEdit = view.findViewById(R.id.offline_edit);\n \n         // check if hint is available and set onClickListener and hint button visibility accordingly\n-        boolean hintButtonEnabled = false;\n-        if (null != showHintClickListener) {\n-            final String hint = cache.getHint();\n-            final boolean hintGiven = !StringUtils.isEmpty(hint);\n-            final String personalNote = cache.getPersonalNote();\n-            final boolean personalNoteGiven = !StringUtils.isEmpty(personalNote);\n-            if (hintGiven || personalNoteGiven) {\n-                hintButtonEnabled = true;\n-                final TextView offlineHintText = view.findViewById(R.id.offline_hint_text);\n-                offlineHintText.setText((hintGiven ? hint + (personalNoteGiven ? \"\\r\\n\" : \"\") : \"\") + (personalNoteGiven ? personalNote : \"\"));\n-            }\n-        }\n+        final boolean hintButtonEnabled = null != showHintClickListener && setOfflineHintText(view.findViewById(R.id.offline_hint_text), cache.getHint(), cache.getPersonalNote());", "originalCommit": "736a54e8743c3a77b2aa81a1520454d1ffdb9854", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzMzAzMw==", "url": "https://github.com/cgeo/cgeo/pull/8065#discussion_r365533033", "bodyText": "updated accordingly", "author": "moving-bits", "createdAt": "2020-01-11T17:36:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzMTkxNA=="}], "type": "inlineReview", "revised_code": {"commit": "959a32eb37d92b83e03765fb0ce48c597d731c85", "chunk": "diff --git a/main/src/cgeo/geocaching/CacheDetailActivity.java b/main/src/cgeo/geocaching/CacheDetailActivity.java\nindex d63d1150b..023746ca5 100644\n--- a/main/src/cgeo/geocaching/CacheDetailActivity.java\n+++ b/main/src/cgeo/geocaching/CacheDetailActivity.java\n\n@@ -2304,8 +2306,7 @@ public class CacheDetailActivity extends AbstractViewPagerActivity<CacheDetailAc\n         final ImageButton offlineEdit = view.findViewById(R.id.offline_edit);\n \n         // check if hint is available and set onClickListener and hint button visibility accordingly\n-        final boolean hintButtonEnabled = null != showHintClickListener && setOfflineHintText(view.findViewById(R.id.offline_hint_text), cache.getHint(), cache.getPersonalNote());\n-\n+        final boolean hintButtonEnabled = setOfflineHintText(showHintClickListener, view.findViewById(R.id.offline_hint_text), cache.getHint(), cache.getPersonalNote());\n         final ImageButton offlineHint = view.findViewById(R.id.offline_hint);\n         if (null != offlineHint) {\n             if (hintButtonEnabled) {\n"}}, {"oid": "959a32eb37d92b83e03765fb0ce48c597d731c85", "url": "https://github.com/cgeo/cgeo/commit/959a32eb37d92b83e03765fb0ce48c597d731c85", "message": "lint resolving: fix or suppress lint SetTextI18n warnings", "committedDate": "2020-01-11T17:35:39Z", "type": "forcePushed"}, {"oid": "ebc9f448aeac30e0de5f5b810c4cc82d76268b1a", "url": "https://github.com/cgeo/cgeo/commit/ebc9f448aeac30e0de5f5b810c4cc82d76268b1a", "message": "lint resolving: fix or suppress lint SetTextI18n warnings", "committedDate": "2020-01-11T17:53:02Z", "type": "commit"}, {"oid": "ebc9f448aeac30e0de5f5b810c4cc82d76268b1a", "url": "https://github.com/cgeo/cgeo/commit/ebc9f448aeac30e0de5f5b810c4cc82d76268b1a", "message": "lint resolving: fix or suppress lint SetTextI18n warnings", "committedDate": "2020-01-11T17:53:02Z", "type": "forcePushed"}]}