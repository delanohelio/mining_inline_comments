{"pr_number": 950, "pr_title": "List team members by role", "pr_createdAt": "2020-09-30T21:13:51Z", "pr_url": "https://github.com/hub4j/github-api/pull/950", "timeline": [{"oid": "1c07742b1a3c628319d24ca72f45f473a8d9a4e0", "url": "https://github.com/hub4j/github-api/commit/1c07742b1a3c628319d24ca72f45f473a8d9a4e0", "message": "add wiremock snapshots", "committedDate": "2020-09-30T21:17:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg0MjgyNA==", "url": "https://github.com/hub4j/github-api/pull/950#discussion_r516842824", "bodyText": "This is an API change. Please retain the existing public method.", "author": "bitwiseman", "createdAt": "2020-11-03T17:36:59Z", "path": "src/main/java/org/kohsuke/github/GHTeam.java", "diffHunk": "@@ -166,12 +179,18 @@ public GHDiscussion getDiscussion(long discussionNumber) throws IOException {\n     /**\n      * Retrieves the current members.\n      *\n+     * @param role\n+     *            the role to filter the result by\n+     *\n      * @return the paged iterable\n      * @throws IOException\n      *             the io exception\n      */\n-    public PagedIterable<GHUser> listMembers() throws IOException {\n-        return root.createRequest().withUrlPath(api(\"/members\")).toIterable(GHUser[].class, item -> item.wrapUp(root));", "originalCommit": "1c07742b1a3c628319d24ca72f45f473a8d9a4e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzIwNTU0OA==", "url": "https://github.com/hub4j/github-api/pull/950#discussion_r517205548", "bodyText": "I have readded the original public method.", "author": "tginiotis-at-work", "createdAt": "2020-11-04T09:28:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg0MjgyNA=="}], "type": "inlineReview", "revised_code": {"commit": "7b900e2eb73aafa1e3c1339d889bfd85d5d8142b", "chunk": "diff --git a/src/main/java/org/kohsuke/github/GHTeam.java b/src/main/java/org/kohsuke/github/GHTeam.java\nindex f1b7ed42c..fe6285363 100644\n--- a/src/main/java/org/kohsuke/github/GHTeam.java\n+++ b/src/main/java/org/kohsuke/github/GHTeam.java\n\n@@ -179,18 +182,12 @@ public class GHTeam extends GHObject implements Refreshable {\n     /**\n      * Retrieves the current members.\n      *\n-     * @param role\n-     *            the role to filter the result by\n-     *\n      * @return the paged iterable\n      * @throws IOException\n      *             the io exception\n      */\n-    private PagedIterable<GHUser> listMembers(String role) throws IOException {\n-        return root.createRequest()\n-                .withUrlPath(api(\"/members\"))\n-                .with(\"role\", role)\n-                .toIterable(GHUser[].class, item -> item.wrapUp(root));\n+    public PagedIterable<GHUser> listMembers() throws IOException {\n+        return listMembers(\"all\");\n     }\n \n     /**\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg0MzM2OQ==", "url": "https://github.com/hub4j/github-api/pull/950#discussion_r516843369", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public PagedIterable<GHUser> listMembersWithRole(String role) throws IOException {\n          \n          \n            \n                public PagedIterable<GHUser> listMembers(String role) throws IOException {", "author": "bitwiseman", "createdAt": "2020-11-03T17:37:49Z", "path": "src/main/java/org/kohsuke/github/GHTeam.java", "diffHunk": "@@ -145,6 +145,19 @@ public void setPrivacy(Privacy privacy) throws IOException {\n         return GHDiscussion.readAll(this);\n     }\n \n+    /**\n+     * List members with specified role paged iterable.\n+     *\n+     * @param role\n+     *            the role\n+     * @return the paged iterable\n+     * @throws IOException\n+     *             the io exception\n+     */\n+    public PagedIterable<GHUser> listMembersWithRole(String role) throws IOException {", "originalCommit": "1c07742b1a3c628319d24ca72f45f473a8d9a4e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzIwNTE4OQ==", "url": "https://github.com/hub4j/github-api/pull/950#discussion_r517205189", "bodyText": "I have renamed the method.", "author": "tginiotis-at-work", "createdAt": "2020-11-04T09:27:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg0MzM2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "7b900e2eb73aafa1e3c1339d889bfd85d5d8142b", "chunk": "diff --git a/src/main/java/org/kohsuke/github/GHTeam.java b/src/main/java/org/kohsuke/github/GHTeam.java\nindex f1b7ed42c..fe6285363 100644\n--- a/src/main/java/org/kohsuke/github/GHTeam.java\n+++ b/src/main/java/org/kohsuke/github/GHTeam.java\n\n@@ -154,8 +154,11 @@ public class GHTeam extends GHObject implements Refreshable {\n      * @throws IOException\n      *             the io exception\n      */\n-    public PagedIterable<GHUser> listMembersWithRole(String role) throws IOException {\n-        return listMembers(role);\n+    public PagedIterable<GHUser> listMembers(String role) throws IOException {\n+        return root.createRequest()\n+                .withUrlPath(api(\"/members\"))\n+                .with(\"role\", role)\n+                .toIterable(GHUser[].class, item -> item.wrapUp(root));\n     }\n \n     /**\n"}}, {"oid": "7b900e2eb73aafa1e3c1339d889bfd85d5d8142b", "url": "https://github.com/hub4j/github-api/commit/7b900e2eb73aafa1e3c1339d889bfd85d5d8142b", "message": "add wiremock snapshots", "committedDate": "2020-11-04T09:01:27Z", "type": "forcePushed"}, {"oid": "86f64e8f9ef761310712c6762a55789062cff29c", "url": "https://github.com/hub4j/github-api/commit/86f64e8f9ef761310712c6762a55789062cff29c", "message": "add wiremock snapshots", "committedDate": "2020-11-04T13:33:27Z", "type": "forcePushed"}, {"oid": "9a918e3baceb82c93e864b50b66055ac498c3c68", "url": "https://github.com/hub4j/github-api/commit/9a918e3baceb82c93e864b50b66055ac498c3c68", "message": "implement ability to list members on a team by role", "committedDate": "2020-11-04T13:35:17Z", "type": "commit"}, {"oid": "a800c1937c9b64d23a34c3ece40ad78eb3ea0918", "url": "https://github.com/hub4j/github-api/commit/a800c1937c9b64d23a34c3ece40ad78eb3ea0918", "message": "add wiremock snapshots", "committedDate": "2020-11-04T13:35:17Z", "type": "forcePushed"}, {"oid": "9b16a1caa0c6b6142cd8203040f6963368622e54", "url": "https://github.com/hub4j/github-api/commit/9b16a1caa0c6b6142cd8203040f6963368622e54", "message": "add tests", "committedDate": "2020-11-04T13:37:58Z", "type": "commit"}, {"oid": "9d161b28bb0b4e7820e24624e0b71ba697d48912", "url": "https://github.com/hub4j/github-api/commit/9d161b28bb0b4e7820e24624e0b71ba697d48912", "message": "add wiremock snapshots", "committedDate": "2020-11-04T13:38:00Z", "type": "commit"}, {"oid": "9d161b28bb0b4e7820e24624e0b71ba697d48912", "url": "https://github.com/hub4j/github-api/commit/9d161b28bb0b4e7820e24624e0b71ba697d48912", "message": "add wiremock snapshots", "committedDate": "2020-11-04T13:38:00Z", "type": "forcePushed"}]}