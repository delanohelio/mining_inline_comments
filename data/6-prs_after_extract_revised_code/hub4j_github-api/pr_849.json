{"pr_number": 849, "pr_title": "Added support for fetching what teams are part of this team.", "pr_createdAt": "2020-06-17T08:29:51Z", "pr_url": "https://github.com/hub4j/github-api/pull/849", "timeline": [{"oid": "b3fe3d8590b0c6444b708fe2e91e6bc9f36a40bb", "url": "https://github.com/hub4j/github-api/commit/b3fe3d8590b0c6444b708fe2e91e6bc9f36a40bb", "message": "Added support for fetching what teams are part of this team.\nThe call is to this endpoint https://developer.github.com/v3/teams/#list-child-teams-legacy", "committedDate": "2020-06-17T07:38:17Z", "type": "commit"}, {"oid": "038dd20a914e957a621134585f622447f9095126", "url": "https://github.com/hub4j/github-api/commit/038dd20a914e957a621134585f622447f9095126", "message": "added a unit test for fetching a child team", "committedDate": "2020-06-19T06:27:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU1Mzk2NA==", "url": "https://github.com/hub4j/github-api/pull/849#discussion_r443553964", "bodyText": "The team already knows what organization it is part of, doesn't it?", "author": "bitwiseman", "createdAt": "2020-06-22T13:23:08Z", "path": "src/main/java/org/kohsuke/github/GHTeam.java", "diffHunk": "@@ -174,6 +174,21 @@ public GHDiscussion getDiscussion(long discussionNumber) throws IOException {\n         return root.createRequest().withUrlPath(api(\"/members\")).toIterable(GHUser[].class, item -> item.wrapUp(root));\n     }\n \n+    /**\n+     * Retrieves the teams that are members of this team.\n+     *\n+     * @param organization\n+     *            the organization that owns this team\n+     * @return the paged iterable\n+     * @throws IOException\n+     *             the io exception\n+     */\n+    public PagedIterable<GHTeam> listChildTeams(GHOrganization organization) throws IOException {", "originalCommit": "171c7a93f5c1b3141993dfd9b1be571969ffb8eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzY0MDI0OQ==", "url": "https://github.com/hub4j/github-api/pull/849#discussion_r443640249", "bodyText": "I would have guessed so, but I got an Exception when I tried to use the wrapUp method that didn't take an organization argument.\nIs there a better way to solve this?", "author": "alexanderkjall", "createdAt": "2020-06-22T15:23:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU1Mzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY1MzQzOQ==", "url": "https://github.com/hub4j/github-api/pull/849#discussion_r444653439", "bodyText": "I now see that the organization is stored as a member of the Team.", "author": "alexanderkjall", "createdAt": "2020-06-24T05:32:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU1Mzk2NA=="}], "type": "inlineReview", "revised_code": {"commit": "51319c3b267f189d34931b9db3f602a1b8ae665b", "chunk": "diff --git a/src/main/java/org/kohsuke/github/GHTeam.java b/src/main/java/org/kohsuke/github/GHTeam.java\nindex fea1cbdc9..db27a326e 100644\n--- a/src/main/java/org/kohsuke/github/GHTeam.java\n+++ b/src/main/java/org/kohsuke/github/GHTeam.java\n\n@@ -177,16 +177,14 @@ public class GHTeam extends GHObject implements Refreshable {\n     /**\n      * Retrieves the teams that are members of this team.\n      *\n-     * @param organization\n-     *            the organization that owns this team\n      * @return the paged iterable\n      * @throws IOException\n      *             the io exception\n      */\n-    public PagedIterable<GHTeam> listChildTeams(GHOrganization organization) throws IOException {\n+    public PagedIterable<GHTeam> listChildTeams() throws IOException {\n         return root.createRequest()\n                 .withUrlPath(api(\"/teams\"))\n-                .toIterable(GHTeam[].class, item -> item.wrapUp(organization));\n+                .toIterable(GHTeam[].class, item -> item.wrapUp(this.organization));\n     }\n \n     /**\n"}}, {"oid": "51319c3b267f189d34931b9db3f602a1b8ae665b", "url": "https://github.com/hub4j/github-api/commit/51319c3b267f189d34931b9db3f602a1b8ae665b", "message": "use this.organization instead of providing the organization as a parameter", "committedDate": "2020-06-24T05:30:59Z", "type": "commit"}, {"oid": "51319c3b267f189d34931b9db3f602a1b8ae665b", "url": "https://github.com/hub4j/github-api/commit/51319c3b267f189d34931b9db3f602a1b8ae665b", "message": "use this.organization instead of providing the organization as a parameter", "committedDate": "2020-06-24T05:30:59Z", "type": "forcePushed"}, {"oid": "183b463ef273ba11f4b5cd4c0849e60d7a2880a9", "url": "https://github.com/hub4j/github-api/commit/183b463ef273ba11f4b5cd4c0849e60d7a2880a9", "message": "Merge branch 'master' into add-support-for-child-teams", "committedDate": "2020-06-29T16:58:14Z", "type": "commit"}, {"oid": "57d87ad6b182b85013af1a1bb3877d2af3b5cdc3", "url": "https://github.com/hub4j/github-api/commit/57d87ad6b182b85013af1a1bb3877d2af3b5cdc3", "message": "Merge branch 'master' into add-support-for-child-teams", "committedDate": "2020-07-15T20:28:32Z", "type": "commit"}, {"oid": "108a1363689fab0af1c4aae92766508625154087", "url": "https://github.com/hub4j/github-api/commit/108a1363689fab0af1c4aae92766508625154087", "message": "Remove getChildTeams and add test for no children", "committedDate": "2020-07-15T20:46:11Z", "type": "commit"}]}