{"pr_number": 783, "pr_title": "Expose MappingReader and MappingWriter", "pr_createdAt": "2020-04-15T00:27:48Z", "pr_url": "https://github.com/hub4j/github-api/pull/783", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEzMzQ1Mw==", "url": "https://github.com/hub4j/github-api/pull/783#discussion_r409133453", "bodyText": "It might be helpful to mention or link to the API you are supposed to use instead of these methods.", "author": "dwnusbaum", "createdAt": "2020-04-15T21:05:26Z", "path": "src/main/java/org/kohsuke/github/GitHub.java", "diffHunk": "@@ -1190,6 +1192,33 @@ public Reader renderMarkdown(String text) throws IOException {\n                 \"UTF-8\");\n     }\n \n+    /**\n+     * Gets an {@link ObjectWriter}. Do not use this method.\n+     *\n+     * @return an {@link ObjectWriter} instance that can be further configured.\n+     * @deprecated Provided for backward compatibility with projects that did their own jackson mapping of this\n+     *             project's data objects, such as Jenkins Blue Ocean.", "originalCommit": "e59fbc4e55a6a4c9d6709799a79f31d445ce487f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEzNjE5NA==", "url": "https://github.com/hub4j/github-api/pull/783#discussion_r409136194", "bodyText": "There is none.  No one should use these methods.  No one should have done anything like this to begin with The scenario is completely unsupported.", "author": "bitwiseman", "createdAt": "2020-04-15T21:11:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEzMzQ1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEzNzY2NA==", "url": "https://github.com/hub4j/github-api/pull/783#discussion_r409137664", "bodyText": "I will add a test to make sure these methods continue to work for now.  I'm not sure how I could stop someone from doing the same a Blue Ocean did, but if it were any other client aside from a Jenkins plugin I would not be making this change.", "author": "bitwiseman", "createdAt": "2020-04-15T21:14:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEzMzQ1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE0MjM1OQ==", "url": "https://github.com/hub4j/github-api/pull/783#discussion_r409142359", "bodyText": "There is none. No one should use these methods. No one should have done anything like this to begin with The scenario is completely unsupported.\n\nYeah, but I mean that it's helpful to point users in the right direction so they understand what scenario is supported. Maybe this approach is so wrong that all you can say is \"See the documentation at XYZ for how this library is intended to be used\", but some kind of reference to the correct approach seems helpful in case someone sees this method and thinks \"hey, this looks like it does what I want\".", "author": "dwnusbaum", "createdAt": "2020-04-15T21:24:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEzMzQ1Mw=="}], "type": "inlineReview", "revised_code": {"commit": "e0aee9f361e36f2f793dc2ca8deab4f6c18daff3", "chunk": "diff --git a/src/main/java/org/kohsuke/github/GitHub.java b/src/main/java/org/kohsuke/github/GitHub.java\nindex 9d8e39848..f05d92f9c 100644\n--- a/src/main/java/org/kohsuke/github/GitHub.java\n+++ b/src/main/java/org/kohsuke/github/GitHub.java\n\n@@ -1193,11 +1193,11 @@ public class GitHub {\n     }\n \n     /**\n-     * Gets an {@link ObjectWriter}. Do not use this method.\n+     * Do not use this method. This method will be removed and should never have been needed in the first place.\n      *\n      * @return an {@link ObjectWriter} instance that can be further configured.\n-     * @deprecated Provided for backward compatibility with projects that did their own jackson mapping of this\n-     *             project's data objects, such as Jenkins Blue Ocean.\n+     * @deprecated DO NOT USE THIS METHOD. Provided for backward compatibility with projects that did their own jackson\n+     *             mapping of this project's data objects, such as Jenkins Blue Ocean.\n      */\n     @Deprecated\n     @Nonnull\n"}}, {"oid": "e0aee9f361e36f2f793dc2ca8deab4f6c18daff3", "url": "https://github.com/hub4j/github-api/commit/e0aee9f361e36f2f793dc2ca8deab4f6c18daff3", "message": "Expose MappingReader and MappingWriter\n\nJenkins Blue Ocean made interesting design choices relating github-api interactions.\n\nThey mostly reused the existing API and OM, but in a few places they chose to\nimplement their own object mapping independent of this project. This is fine\nas long as nothing in this project ever changes, including internals such\nas ObjectMapper configuration or behavior.\n\nRecent release have made changes to those internals which break assumptions made\nin Blue Ocean.\n\nThis change exposes this project's MappingReader and MappingWriter to allow\nfor a fix to Blue Ocean requiring only minimal changes.\n\nThis doesn't prevent future changes from breaking Blue Ocean but at least makes\nthem much less likely.\n\nFixes #780", "committedDate": "2020-04-15T23:39:59Z", "type": "commit"}, {"oid": "e0aee9f361e36f2f793dc2ca8deab4f6c18daff3", "url": "https://github.com/hub4j/github-api/commit/e0aee9f361e36f2f793dc2ca8deab4f6c18daff3", "message": "Expose MappingReader and MappingWriter\n\nJenkins Blue Ocean made interesting design choices relating github-api interactions.\n\nThey mostly reused the existing API and OM, but in a few places they chose to\nimplement their own object mapping independent of this project. This is fine\nas long as nothing in this project ever changes, including internals such\nas ObjectMapper configuration or behavior.\n\nRecent release have made changes to those internals which break assumptions made\nin Blue Ocean.\n\nThis change exposes this project's MappingReader and MappingWriter to allow\nfor a fix to Blue Ocean requiring only minimal changes.\n\nThis doesn't prevent future changes from breaking Blue Ocean but at least makes\nthem much less likely.\n\nFixes #780", "committedDate": "2020-04-15T23:39:59Z", "type": "forcePushed"}]}