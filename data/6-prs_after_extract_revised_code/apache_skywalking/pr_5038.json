{"pr_number": 5038, "pr_title": "Fix no telemetry metrics when the oap role is receiver.", "pr_createdAt": "2020-07-06T07:47:24Z", "pr_url": "https://github.com/apache/skywalking/pull/5038", "timeline": [{"oid": "a0998ff28c299191cc00db92e9b08b2e97857ce4", "url": "https://github.com/apache/skywalking/commit/a0998ff28c299191cc00db92e9b08b2e97857ce4", "message": "Fix no telemetry metrics when the oap role is receiver.", "committedDate": "2020-07-06T07:25:18Z", "type": "commit"}, {"oid": "4a36811b477d909b12fc3f5aab82809b96eb056e", "url": "https://github.com/apache/skywalking/commit/4a36811b477d909b12fc3f5aab82809b96eb056e", "message": "add import class", "committedDate": "2020-07-06T07:57:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA1MjE3Mg==", "url": "https://github.com/apache/skywalking/pull/5038#discussion_r450052172", "bodyText": "As you have moved #setId here, please remove all old ones in the coordinator implementations.", "author": "wu-sheng", "createdAt": "2020-07-06T08:07:04Z", "path": "oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/CoreModuleProvider.java", "diffHunk": "@@ -282,14 +282,15 @@ public void start() throws ModuleStartException {\n             throw new ModuleStartException(e.getMessage(), e);\n         }\n \n+        Address gRPCServerInstanceAddress = new Address(moduleConfig.getGRPCHost(), moduleConfig.getGRPCPort(), true);\n+        TelemetryRelatedContext.INSTANCE.setId(gRPCServerInstanceAddress.toString());", "originalCommit": "a0998ff28c299191cc00db92e9b08b2e97857ce4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA5MTA4OQ==", "url": "https://github.com/apache/skywalking/pull/5038#discussion_r450091089", "bodyText": "Removed.", "author": "Ax1an", "createdAt": "2020-07-06T09:15:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA1MjE3Mg=="}], "type": "inlineReview", "revised_code": null}, {"oid": "e6399f4756b6040b2644d43c64a42327c0bf4d52", "url": "https://github.com/apache/skywalking/commit/e6399f4756b6040b2644d43c64a42327c0bf4d52", "message": "Remove all #setId in the coordinator implementations.", "committedDate": "2020-07-06T09:13:50Z", "type": "commit"}]}