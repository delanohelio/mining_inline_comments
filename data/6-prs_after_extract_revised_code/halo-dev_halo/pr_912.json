{"pr_number": 912, "pr_title": "feat: add links sort by random", "pr_createdAt": "2020-06-13T13:38:07Z", "pr_url": "https://github.com/halo-dev/halo/pull/912", "timeline": [{"oid": "4274f1738a6811a3b4549cf6980f52226f6ccbf4", "url": "https://github.com/halo-dev/halo/commit/4274f1738a6811a3b4549cf6980f52226f6ccbf4", "message": "feat: add links sort by random", "committedDate": "2020-06-13T13:34:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0MTQwNg==", "url": "https://github.com/halo-dev/halo/pull/912#discussion_r439741406", "bodyText": "\u63a8\u8350\u7528 java.util.Collections#shuffle(java.util.List<?>) \u66ff\u4ee3\u3002", "author": "JohnNiang", "createdAt": "2020-06-13T14:01:24Z", "path": "src/main/java/run/halo/app/utils/ListUtils.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package run.halo.app.utils;\n+\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Random;\n+\n+/**\n+ * @program: halo\n+ * @description:\n+ * @author: coortop\n+ * @create: 2020-06-12 23:49\n+ **/\n+public class ListUtils {", "originalCommit": "4274f1738a6811a3b4549cf6980f52226f6ccbf4", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0c945cccd4c5a192761cf9d505b25bea714895de", "chunk": "diff --git a/src/main/java/run/halo/app/utils/ListUtils.java b/src/main/java/run/halo/app/utils/ListUtils.java\ndeleted file mode 100644\nindex dc90cdd6..00000000\n--- a/src/main/java/run/halo/app/utils/ListUtils.java\n+++ /dev/null\n\n@@ -1,34 +0,0 @@\n-package run.halo.app.utils;\n-\n-import java.util.Collections;\n-import java.util.List;\n-import java.util.Random;\n-\n-/**\n- * @program: halo\n- * @description:\n- * @author: coortop\n- * @create: 2020-06-12 23:49\n- **/\n-public class ListUtils {\n-\n-    private ListUtils(){\n-    }\n-\n-    /**\n-     * \u6253\u4e71list\u91cc\u7684\u987a\u5e8f\n-     * @param list\n-     * @return\n-     */\n-    public static List listDisruption(List list) {\n-        int size = list.size();\n-        Random random = new Random();\n-\n-        for (int i = 0; i < size; i++) {\n-            int randomPos = random.nextInt(size);\n-            Collections.swap(list, i, randomPos);\n-        }\n-\n-        return list;\n-    }\n-}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0MTc2MA==", "url": "https://github.com/halo-dev/halo/pull/912#discussion_r439741760", "bodyText": "\u63a8\u8350\u8fd9\u6837\u505a\uff1a\nreturn Collections.shuffle(listAll());", "author": "JohnNiang", "createdAt": "2020-06-13T14:06:59Z", "path": "src/main/java/run/halo/app/service/impl/LinkServiceImpl.java", "diffHunk": "@@ -100,6 +101,12 @@ public boolean existByName(String name) {\n         return linkRepository.findAllTeams();\n     }\n \n+    @Override\n+    public List<String> listAllByDisruption() {\n+        List<Link> allLink = linkRepository.findAll();", "originalCommit": "4274f1738a6811a3b4549cf6980f52226f6ccbf4", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0c945cccd4c5a192761cf9d505b25bea714895de", "chunk": "diff --git a/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java b/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java\nindex 0d2e1319..d6548e78 100644\n--- a/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java\n+++ b/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java\n\n@@ -102,9 +101,10 @@ public class LinkServiceImpl extends AbstractCrudService<Link, Integer> implemen\n     }\n \n     @Override\n-    public List<String> listAllByDisruption() {\n+    public List<Link> listAllByDisruption() {\n         List<Link> allLink = linkRepository.findAll();\n-        return ListUtils.listDisruption(allLink);\n+        Collections.shuffle(allLink);\n+        return allLink;\n     }\n \n     @NonNull\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0MTc4MA==", "url": "https://github.com/halo-dev/halo/pull/912#discussion_r439741780", "bodyText": "\u8fd4\u56de\u503c\u5e94\u8be5\u4e3a List<Link>\u3002", "author": "JohnNiang", "createdAt": "2020-06-13T14:07:21Z", "path": "src/main/java/run/halo/app/service/impl/LinkServiceImpl.java", "diffHunk": "@@ -100,6 +101,12 @@ public boolean existByName(String name) {\n         return linkRepository.findAllTeams();\n     }\n \n+    @Override\n+    public List<String> listAllByDisruption() {", "originalCommit": "4274f1738a6811a3b4549cf6980f52226f6ccbf4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0MTg2MQ==", "url": "https://github.com/halo-dev/halo/pull/912#discussion_r439741861", "bodyText": "emmm \u6ca1\u6ce8\u610f", "author": "cetr", "createdAt": "2020-06-13T14:09:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0MTc4MA=="}], "type": "inlineReview", "revised_code": {"commit": "0c945cccd4c5a192761cf9d505b25bea714895de", "chunk": "diff --git a/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java b/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java\nindex 0d2e1319..d6548e78 100644\n--- a/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java\n+++ b/src/main/java/run/halo/app/service/impl/LinkServiceImpl.java\n\n@@ -102,9 +101,10 @@ public class LinkServiceImpl extends AbstractCrudService<Link, Integer> implemen\n     }\n \n     @Override\n-    public List<String> listAllByDisruption() {\n+    public List<Link> listAllByDisruption() {\n         List<Link> allLink = linkRepository.findAll();\n-        return ListUtils.listDisruption(allLink);\n+        Collections.shuffle(allLink);\n+        return allLink;\n     }\n \n     @NonNull\n"}}, {"oid": "0c945cccd4c5a192761cf9d505b25bea714895de", "url": "https://github.com/halo-dev/halo/commit/0c945cccd4c5a192761cf9d505b25bea714895de", "message": "feat: add links sort by random", "committedDate": "2020-06-13T14:24:41Z", "type": "commit"}]}