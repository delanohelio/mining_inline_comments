{"pr_number": 544, "pr_title": "feat: support theme require halo version.", "pr_createdAt": "2020-02-03T14:56:57Z", "pr_url": "https://github.com/halo-dev/halo/pull/544", "timeline": [{"oid": "f7c55c4ba88b4f6395977d5a566c32d24b7bc0e7", "url": "https://github.com/halo-dev/halo/commit/f7c55c4ba88b4f6395977d5a566c32d24b7bc0e7", "message": "feat: support theme require halo version.", "committedDate": "2020-02-03T14:54:17Z", "type": "commit"}, {"oid": "1f175e4d98e767ff254dd4ee932ecf050c726dc7", "url": "https://github.com/halo-dev/halo/commit/1f175e4d98e767ff254dd4ee932ecf050c726dc7", "message": "fix: com.sun.xml.internal.ws.util does not exist error.", "committedDate": "2020-02-03T15:07:58Z", "type": "commit"}, {"oid": "c30761982e035688154275734242037803f3bbda", "url": "https://github.com/halo-dev/halo/commit/c30761982e035688154275734242037803f3bbda", "message": "fix: com.sun.xml.internal.ws.util does not exist error again.", "committedDate": "2020-02-03T15:16:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ0ODQwOQ==", "url": "https://github.com/halo-dev/halo/pull/544#discussion_r374448409", "bodyText": "\u8fd9\u91cc\u5e94\u8be5\u53ef\u4ee5\u76f4\u63a5 throw e;", "author": "JohnNiang", "createdAt": "2020-02-04T02:39:49Z", "path": "src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java", "diffHunk": "@@ -533,6 +540,9 @@ public ThemeProperty update(String themeId) {\n         try {\n             pullFromGit(updatingTheme);\n         } catch (Exception e) {\n+            if (e instanceof ThemeNotSupportException) {\n+                throw new ThemeNotSupportException(e.getMessage());", "originalCommit": "c30761982e035688154275734242037803f3bbda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ2MDUzMA==", "url": "https://github.com/halo-dev/halo/pull/544#discussion_r374460530", "bodyText": "\u5df2\u4fee\u6539\u3002", "author": "ruibaby", "createdAt": "2020-02-04T03:40:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ0ODQwOQ=="}], "type": "inlineReview", "revised_code": {"commit": "05fd0a801c4be93b76ecb83a39d2d737e68a4e3b", "chunk": "diff --git a/src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java b/src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java\nindex 3ae8d765..32c9f92a 100644\n--- a/src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java\n+++ b/src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java\n\n@@ -541,7 +541,7 @@ public class ThemeServiceImpl implements ThemeService {\n             pullFromGit(updatingTheme);\n         } catch (Exception e) {\n             if (e instanceof ThemeNotSupportException) {\n-                throw new ThemeNotSupportException(e.getMessage());\n+                throw (ThemeNotSupportException) e;\n             }\n             throw new ThemeUpdateException(\"\u4e3b\u9898\u66f4\u65b0\u5931\u8d25\uff01\u60a8\u4e0e\u4e3b\u9898\u4f5c\u8005\u53ef\u80fd\u540c\u65f6\u66f4\u6539\u4e86\u540c\u4e00\u4e2a\u6587\u4ef6\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664\u4e3b\u9898\u5e76\u91cd\u65b0\u62c9\u53d6\u6700\u65b0\u7684\u4e3b\u9898\", e).setErrorData(themeId);\n         }\n"}}, {"oid": "05fd0a801c4be93b76ecb83a39d2d737e68a4e3b", "url": "https://github.com/halo-dev/halo/commit/05fd0a801c4be93b76ecb83a39d2d737e68a4e3b", "message": "Update ThemeServiceImpl.java", "committedDate": "2020-02-04T03:38:25Z", "type": "commit"}]}