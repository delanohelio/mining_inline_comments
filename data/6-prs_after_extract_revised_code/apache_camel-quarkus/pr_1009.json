{"pr_number": 1009, "pr_title": "Fix #706 Improve RuntimeCatalogConfig docs", "pr_createdAt": "2020-04-01T07:32:04Z", "pr_url": "https://github.com/apache/camel-quarkus/pull/1009", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQxNjY4Mg==", "url": "https://github.com/apache/camel-quarkus/pull/1009#discussion_r401416682", "bodyText": "the json is not located at  META-INF/services/org/apache/camel/component but the catalog may uses service files to determine the class name of the component as the json is usually located in the same package as the component class.\nSame for the other descriptions", "author": "lburgazzoli", "createdAt": "2020-04-01T07:44:26Z", "path": "extensions-core/core/runtime/src/main/java/org/apache/camel/quarkus/core/CamelConfig.java", "diffHunk": "@@ -290,41 +290,45 @@\n     @ConfigGroup\n     public static class RuntimeCatalogConfig {\n         /**\n-         * Used to control the resolution of components catalog info.\n+         * Whether the {@code json} resources under {@code META-INF/services/org/apache/camel/component} should be", "originalCommit": "f6472a77f5f0efcc85b44b98a6d63bbda629d270", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQ4MTMzNg==", "url": "https://github.com/apache/camel-quarkus/pull/1009#discussion_r401481336", "bodyText": "Thanks, I have changed the text in 9affaa1 . Could you please re-review?", "author": "ppalaga", "createdAt": "2020-04-01T09:33:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQxNjY4Mg=="}], "type": "inlineReview", "revised_code": {"commit": "9affaa1e78a7474ea1d6d7533737373980fe06e8", "chunk": "diff --git a/extensions-core/core/runtime/src/main/java/org/apache/camel/quarkus/core/CamelConfig.java b/extensions-core/core/runtime/src/main/java/org/apache/camel/quarkus/core/CamelConfig.java\nindex 2656d3008..b8cc0fdfd 100644\n--- a/extensions-core/core/runtime/src/main/java/org/apache/camel/quarkus/core/CamelConfig.java\n+++ b/extensions-core/core/runtime/src/main/java/org/apache/camel/quarkus/core/CamelConfig.java\n\n@@ -290,9 +290,9 @@ public class CamelConfig {\n     @ConfigGroup\n     public static class RuntimeCatalogConfig {\n         /**\n-         * Whether the {@code json} resources under {@code META-INF/services/org/apache/camel/component} should be\n-         * resolvable by the Runtime Camel Catalog. Runtime Camel Catalog is a facility for listing metadata about\n-         * Camel components, languages, dataformats, etc. available in the given application.\n+         * If {@code true} the Runtime Camel Catalog embedded in the application will contain JSON schemas of Camel\n+         * components available in the application; otherwise component JSON schemas will not be available in the\n+         * Runtime Camel Catalog and any attempt to access those will result in a RuntimeException.\n          * <p>\n          * Setting this to {@code false} helps to reduce the size of the native image. In JVM mode, there is no real\n          * benefit of setting this flag to {@code false} except for making the behavior consistent with native mode.\n"}}, {"oid": "9affaa1e78a7474ea1d6d7533737373980fe06e8", "url": "https://github.com/apache/camel-quarkus/commit/9affaa1e78a7474ea1d6d7533737373980fe06e8", "message": "Fix #706 Improve RuntimeCatalogConfig docs", "committedDate": "2020-04-01T09:32:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Nzk0MQ==", "url": "https://github.com/apache/camel-quarkus/pull/1009#discussion_r401577941", "bodyText": "We need to check if throwing an exception is the right thing, I do not remember if there is any assumption in the code path that invokes this method", "author": "lburgazzoli", "createdAt": "2020-04-01T12:31:44Z", "path": "extensions-core/core/runtime/src/main/java/org/apache/camel/quarkus/core/CamelRuntimeCatalog.java", "diffHunk": "@@ -28,7 +28,8 @@ public CamelRuntimeCatalog(CamelConfig.RuntimeCatalogConfig config) {\n     @Override\n     public String modelJSonSchema(String name) {\n         if (!config.models) {\n-            return null;\n+            throw new RuntimeException(", "originalCommit": "9affaa1e78a7474ea1d6d7533737373980fe06e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU4NDI0Mw==", "url": "https://github.com/apache/camel-quarkus/pull/1009#discussion_r401584243", "bodyText": "I am a troll, I have put it there to see who and how is actually using it :) I have fixed the tests in fc0bdf6. Are you using it in Camel K?", "author": "ppalaga", "createdAt": "2020-04-01T12:42:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Nzk0MQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "fc0bdf6e818b56fc1831d794a1ecb133325dafd9", "url": "https://github.com/apache/camel-quarkus/commit/fc0bdf6e818b56fc1831d794a1ecb133325dafd9", "message": "Fix #706 Improve RuntimeCatalogConfig docs", "committedDate": "2020-04-01T12:40:58Z", "type": "forcePushed"}, {"oid": "3d4eeda49757008923240c099ef704e713675d4e", "url": "https://github.com/apache/camel-quarkus/commit/3d4eeda49757008923240c099ef704e713675d4e", "message": "Fix #706 Improve RuntimeCatalogConfig docs", "committedDate": "2020-04-04T07:04:25Z", "type": "commit"}, {"oid": "3d4eeda49757008923240c099ef704e713675d4e", "url": "https://github.com/apache/camel-quarkus/commit/3d4eeda49757008923240c099ef704e713675d4e", "message": "Fix #706 Improve RuntimeCatalogConfig docs", "committedDate": "2020-04-04T07:04:25Z", "type": "forcePushed"}]}