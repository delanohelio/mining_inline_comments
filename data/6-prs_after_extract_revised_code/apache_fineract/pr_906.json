{"pr_number": 906, "pr_title": "FINERACT-942 Remove use of printStackTrace and added checkstyle", "pr_createdAt": "2020-05-18T00:51:03Z", "pr_url": "https://github.com/apache/fineract/pull/906", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwNjIxNA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r426406214", "bodyText": "I suggest you using a logger but maybe @vorburger  or @awasum, @ptuomola or anyone else would have a different opinion as far as this is concerned.\nIt's more a convention to use here, whether checked or unchecked exceptions.", "author": "xurror", "createdAt": "2020-05-18T06:59:24Z", "path": "fineract-provider/src/integrationTest/java/org/apache/fineract/integrationtests/AccountingScenarioIntegrationTest.java", "diffHunk": "@@ -587,11 +587,8 @@ public void checkPeriodicAccrualAccountingFlow() {\n         this.journalEntryHelper.checkJournalEntryForAssetAccount(assetAccount, this.EXPECTED_DISBURSAL_DATE, assetAccountInitialEntry);\n \n         final String jobName = \"Add Accrual Transactions\";\n-        try {\n-            this.schedulerJobHelper.executeJob(jobName);\n-        } catch (InterruptedException e) {\n-            e.printStackTrace();", "originalCommit": "f57c1ac52aefb8712833092179afa6f7f74dc9bc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQzNTI4Nw==", "url": "https://github.com/apache/fineract/pull/906#discussion_r426435287", "bodyText": "No, in a test, exceptions typically should not be logged but just \"fall through\" (propagate, with 'testXYZ() throws SomeException, Another # Exception...'), so that the test fails, if the exception happens. PS: We need to write this and more like this up into Logging Guidelines, e.g. on the README. Do you want to make a start with that in this PR?", "author": "vorburger", "createdAt": "2020-05-18T07:57:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwNjIxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk0Mzg3MA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r426943870", "bodyText": "Yes, I will update the readme.", "author": "thesmallstar", "createdAt": "2020-05-18T23:20:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwNjIxNA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "a921b46f319394bc9dc4d2dd207c81fbe01e6ffe", "url": "https://github.com/apache/fineract/commit/a921b46f319394bc9dc4d2dd207c81fbe01e6ffe", "message": "FINERACT-942 Remove use of printStackTrace and added checkstyle", "committedDate": "2020-05-19T16:16:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU3OTc4OA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r427579788", "bodyText": "@thesmallstar this needs to be kept. It's \"special\", and SupressWarning is OK here (only)", "author": "vorburger", "createdAt": "2020-05-19T20:28:27Z", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/core/exception/MultiException.java", "diffHunk": "@@ -87,7 +86,6 @@ public void printStackTrace(PrintStream s) {\n         int i = 0;\n         for (Throwable e : throwables) {\n             s.print(++i + \".\");\n-            e.printStackTrace(s);", "originalCommit": "a921b46f319394bc9dc4d2dd207c81fbe01e6ffe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4MDAxMA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r427580010", "bodyText": "as above", "author": "vorburger", "createdAt": "2020-05-19T20:28:53Z", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/core/exception/MultiException.java", "diffHunk": "@@ -97,7 +95,6 @@ public void printStackTrace(PrintWriter s) {\n         int i = 0;\n         for (Throwable e : throwables) {\n             s.print(++i + \".\");\n-            e.printStackTrace(s);", "originalCommit": "a921b46f319394bc9dc4d2dd207c81fbe01e6ffe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4MDE0MQ==", "url": "https://github.com/apache/fineract/pull/906#discussion_r427580141", "bodyText": "as below", "author": "vorburger", "createdAt": "2020-05-19T20:29:07Z", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/core/exception/MultiException.java", "diffHunk": "@@ -77,7 +76,7 @@ public void printStackTrace() {\n         int i = 0;\n         for (Throwable e : throwables) {\n             LOG.info(\"{}.\",++i);\n-            e.printStackTrace();", "originalCommit": "a921b46f319394bc9dc4d2dd207c81fbe01e6ffe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4MDIzMA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r427580230", "bodyText": "as below, must keep this as is", "author": "vorburger", "createdAt": "2020-05-19T20:29:19Z", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/core/exception/MultiException.java", "diffHunk": "@@ -65,7 +65,6 @@ public String getMessage() {\n             sb.append(++i);\n             sb.append(\". \");\n             Writer w = CharStreams.asWriter(sb);\n-            e.printStackTrace(new PrintWriter(w, true));", "originalCommit": "a921b46f319394bc9dc4d2dd207c81fbe01e6ffe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "1327d4fa721c374545cbacbd88d86c4c4210f93d", "url": "https://github.com/apache/fineract/commit/1327d4fa721c374545cbacbd88d86c4c4210f93d", "message": "FINERACT-942 Remove use of printStackTrace and added checkstyle", "committedDate": "2020-05-20T18:51:17Z", "type": "forcePushed"}, {"oid": "e97c4d61f419d3f29abcd07e7c5cdc13dd603b1d", "url": "https://github.com/apache/fineract/commit/e97c4d61f419d3f29abcd07e7c5cdc13dd603b1d", "message": "FINERACT-942 Remove use of printStackTrace and added checkstyle", "committedDate": "2020-05-20T19:54:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU2MTI0NA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r428561244", "bodyText": "Two thoughts on this this: a) your LOG.error() is wrong, as everywhere else, please:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        LOG.error(\"{}\",e.getMessage());\n          \n          \n            \n                        LOG.error(\"Invalid date: \" + seedDateStr, e);\n          \n      \n    \n    \n  \n\nbut, b) more importantly, isn't this catch plain wrong, not required, and can just be removed?! new Date() does not throw ParseException - or am I missing something obvious?", "author": "vorburger", "createdAt": "2020-05-21T10:04:31Z", "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/calendar/service/CalendarUtils.java", "diffHunk": "@@ -114,7 +116,7 @@ private static Date convertToiCal4JCompatibleDate(final LocalDate inputDate) {\n         try {\n             formattedDate = new Date(seedDateStr, \"yyyy-MM-dd\");\n         } catch (final ParseException e) {\n-            e.printStackTrace();\n+            LOG.error(\"{}\",e.getMessage());", "originalCommit": "e97c4d61f419d3f29abcd07e7c5cdc13dd603b1d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODcyNTY3Mw==", "url": "https://github.com/apache/fineract/pull/906#discussion_r428725673", "bodyText": "It does throw a parse exception, a possible explanation is the string received might be complete gibberish and could not be parsed as a date?", "author": "thesmallstar", "createdAt": "2020-05-21T15:24:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU2MTI0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODcyNjU4NA==", "url": "https://github.com/apache/fineract/pull/906#discussion_r428726584", "bodyText": "Replacing it with:\nLOG.error(\"Invalid date: {} \", seedDateStr, e);\nor spot bugs won't like it :)", "author": "thesmallstar", "createdAt": "2020-05-21T15:26:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU2MTI0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc2NzI4MQ==", "url": "https://github.com/apache/fineract/pull/906#discussion_r428767281", "bodyText": "LGTM!", "author": "vorburger", "createdAt": "2020-05-21T16:28:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU2MTI0NA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "ec45239269c44c4144bb183229866cac4e78880c", "url": "https://github.com/apache/fineract/commit/ec45239269c44c4144bb183229866cac4e78880c", "message": "FINERACT-942 Remove use of printStackTrace and added checkstyle", "committedDate": "2020-05-21T15:49:36Z", "type": "commit"}, {"oid": "ec45239269c44c4144bb183229866cac4e78880c", "url": "https://github.com/apache/fineract/commit/ec45239269c44c4144bb183229866cac4e78880c", "message": "FINERACT-942 Remove use of printStackTrace and added checkstyle", "committedDate": "2020-05-21T15:49:36Z", "type": "forcePushed"}]}