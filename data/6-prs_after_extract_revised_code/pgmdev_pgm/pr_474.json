{"pr_number": 474, "pr_title": "Fix various bugs prior to 0.8 release", "pr_createdAt": "2020-05-09T00:43:50Z", "pr_url": "https://github.com/PGMDev/PGM/pull/474", "timeline": [{"oid": "74fb1bf046327a97e1d19e12e71e5cd9faa50de9", "url": "https://github.com/PGMDev/PGM/commit/74fb1bf046327a97e1d19e12e71e5cd9faa50de9", "message": "Fix console messages not showing plugin prefix\n\nSigned-off-by: Ashcon Partovi <ashcon@partovi.net>", "committedDate": "2020-05-09T00:38:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQzNjA0NA==", "url": "https://github.com/PGMDev/PGM/pull/474#discussion_r422436044", "bodyText": "Odd naming. Consider databaseConnections or pooledConnections?", "author": "rafibaum", "createdAt": "2020-05-09T01:13:52Z", "path": "core/src/main/java/tc/oc/pgm/PGMConfig.java", "diffHunk": "@@ -40,6 +40,7 @@\n \n   // database-uri\n   private final String databaseUri;\n+  private final int databaseParallelism;", "originalCommit": "3dc077b297c4de953f5704da0c338dbfae52a70a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "076ae896452a8800743d5b3ab438afefe8549026", "chunk": "diff --git a/core/src/main/java/tc/oc/pgm/PGMConfig.java b/core/src/main/java/tc/oc/pgm/PGMConfig.java\nindex 21610ec..10967d1 100644\n--- a/core/src/main/java/tc/oc/pgm/PGMConfig.java\n+++ b/core/src/main/java/tc/oc/pgm/PGMConfig.java\n\n@@ -40,7 +40,7 @@ public final class PGMConfig implements Config {\n \n   // database-uri\n   private final String databaseUri;\n-  private final int databaseParallelism;\n+  private final int databaseMaxConnections;\n \n   // motd\n   private final String motd;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQzNjM5Mg==", "url": "https://github.com/PGMDev/PGM/pull/474#discussion_r422436392", "bodyText": "Have the de-syncs been fixed?", "author": "rafibaum", "createdAt": "2020-05-09T01:17:19Z", "path": "core/src/main/java/tc/oc/pgm/PGMPlugin.java", "diffHunk": "@@ -242,18 +250,9 @@ public void onDisable() {\n     if (matchTabManager != null) matchTabManager.disable();\n     if (matchManager != null) matchManager.getMatches().forEachRemaining(Match::unload);\n     if (vanishManager != null) vanishManager.disable();\n-\n-    // Sometimes match folders need to be cleaned up due to de-syncs\n-    for (File dir : getServer().getWorldContainer().listFiles()) {\n-      if (dir.isDirectory() && dir.getName().startsWith(\"match\")) {\n-        FileUtils.delete(dir);\n-      }\n-    }", "originalCommit": "3dc077b297c4de953f5704da0c338dbfae52a70a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQzNjQ1MA==", "url": "https://github.com/PGMDev/PGM/pull/474#discussion_r422436450", "bodyText": "Same comment as earlier about naming.", "author": "rafibaum", "createdAt": "2020-05-09T01:17:58Z", "path": "core/src/main/java/tc/oc/pgm/api/Config.java", "diffHunk": "@@ -28,6 +28,13 @@\n   @Nullable\n   String getDatabaseUri();\n \n+  /**\n+   * Gets the maximum number of concurrent database connections.\n+   *\n+   * @return Number of parallel connections.\n+   */\n+  int getDatabaseParallelism();", "originalCommit": "3dc077b297c4de953f5704da0c338dbfae52a70a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "076ae896452a8800743d5b3ab438afefe8549026", "chunk": "diff --git a/core/src/main/java/tc/oc/pgm/api/Config.java b/core/src/main/java/tc/oc/pgm/api/Config.java\nindex c61101b..09f1ad8 100644\n--- a/core/src/main/java/tc/oc/pgm/api/Config.java\n+++ b/core/src/main/java/tc/oc/pgm/api/Config.java\n\n@@ -31,9 +31,9 @@ public interface Config {\n   /**\n    * Gets the maximum number of concurrent database connections.\n    *\n-   * @return Number of parallel connections.\n+   * @return Number of connections.\n    */\n-  int getDatabaseParallelism();\n+  int getDatabaseMaxConnections();\n \n   /**\n    * Gets a list of map sources, typically directory paths.\n"}}, {"oid": "076ae896452a8800743d5b3ab438afefe8549026", "url": "https://github.com/PGMDev/PGM/commit/076ae896452a8800743d5b3ab438afefe8549026", "message": "Fix database lag, allow for concurrent connections\n\nSigned-off-by: Ashcon Partovi <ashcon@partovi.net>", "committedDate": "2020-05-09T14:15:03Z", "type": "commit"}, {"oid": "df33db06bb7d0d29926f5286191e0d8c0bf05e12", "url": "https://github.com/PGMDev/PGM/commit/df33db06bb7d0d29926f5286191e0d8c0bf05e12", "message": "Fix max build height not working on old maps\n\nSigned-off-by: Ashcon Partovi <ashcon@partovi.net>", "committedDate": "2020-05-09T14:15:35Z", "type": "commit"}, {"oid": "df33db06bb7d0d29926f5286191e0d8c0bf05e12", "url": "https://github.com/PGMDev/PGM/commit/df33db06bb7d0d29926f5286191e0d8c0bf05e12", "message": "Fix max build height not working on old maps\n\nSigned-off-by: Ashcon Partovi <ashcon@partovi.net>", "committedDate": "2020-05-09T14:15:35Z", "type": "forcePushed"}]}