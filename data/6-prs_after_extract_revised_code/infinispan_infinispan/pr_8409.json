{"pr_number": 8409, "pr_title": "ISPN-11789 Update Query Guide", "pr_createdAt": "2020-05-29T16:26:58Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8409", "timeline": [{"oid": "9d2f00c69a659db1aa4ba37fa151dbf23dff1a1f", "url": "https://github.com/infinispan/infinispan/commit/9d2f00c69a659db1aa4ba37fa151dbf23dff1a1f", "message": "Addressed reviews", "committedDate": "2020-06-05T09:45:55Z", "type": "forcePushed"}, {"oid": "b4492c4f761d3e9bfd7f4f027916de99b33c6d7f", "url": "https://github.com/infinispan/infinispan/commit/b4492c4f761d3e9bfd7f4f027916de99b33c6d7f", "message": "ISPN-11789 Update Query Guide", "committedDate": "2020-06-11T13:42:37Z", "type": "commit"}, {"oid": "b4492c4f761d3e9bfd7f4f027916de99b33c6d7f", "url": "https://github.com/infinispan/infinispan/commit/b4492c4f761d3e9bfd7f4f027916de99b33c6d7f", "message": "ISPN-11789 Update Query Guide", "committedDate": "2020-06-11T13:42:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQyNjU5MA==", "url": "https://github.com/infinispan/infinispan/pull/8409#discussion_r439426590", "bodyText": "@gustavonalle should be query.list(); ?", "author": "diegolovison", "createdAt": "2020-06-12T13:44:17Z", "path": "documentation/src/main/asciidoc/topics/code_examples/QueryExample.java", "diffHunk": "@@ -0,0 +1,14 @@\n+// get the query factory from the cache:\n+QueryFactory queryFactory = org.infinispan.query.Search.getQueryFactory(cache);\n+\n+// create an Ickle query that will do a full-text search (operator ':') on fields 'title' and 'authors.name'\n+Query<Book> fullTextQuery = queryFactory.create(\"FROM com.acme.Book WHERE title:'infinispan' AND authors.name:'sanne'\")\n+\n+// The ('=') operator is not a full-text operator, thus can be used in both indexed and non-indexed caches\n+Query<Book> exactMatchQuery = queryFactory.create(\"FROM com.acme.Book WHERE title = 'Programming Infinispan' AND authors.name = 'Sanne Grinnovero'\")\n+\n+// Full-text and non-full text operators can be part of the same query\n+Query q = queryFactory.create(\"FROM com.query.Book b where b.author.name = 'Stephen' and b.description : (+'dark' -'tower')\");\n+\n+// get the results\n+List<Book> found=query.execute().list();", "originalCommit": "b4492c4f761d3e9bfd7f4f027916de99b33c6d7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4NDIyNA==", "url": "https://github.com/infinispan/infinispan/pull/8409#discussion_r439484224", "bodyText": "query.list() should also work, but it is deprecated in 11.0", "author": "gustavonalle", "createdAt": "2020-06-12T15:20:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQyNjU5MA=="}], "type": "inlineReview", "revised_code": null}]}