{"pr_number": 8313, "pr_title": "ISPN-11820 Hot Rod URI", "pr_createdAt": "2020-05-13T09:16:14Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8313", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxMzU2Nw==", "url": "https://github.com/infinispan/infinispan/pull/8313#discussion_r425013567", "bodyText": "maybe the invalid property format should be covered by tests ?", "author": "karesti", "createdAt": "2020-05-14T09:53:08Z", "path": "client/hotrod-client/src/test/java/org/infinispan/client/hotrod/configuration/ConfigurationTest.java", "diffHunk": "@@ -585,4 +587,51 @@ private static void assertEqualsConfig(Object expected, String propertyName, Con\n       assertEquals(TYPES.get(expected.getClass()).apply(expected), cfg.properties().get(propertyName));\n    }\n \n+   @Test\n+   public void testConfigurationViaURI() {\n+      Configuration configuration = HotRodURI.create(\"hotrod://host1\").toConfigurationBuilder().build();", "originalCommit": "090db93b9ee800a0a66422108cdfc3d576563ba5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxMzk3OQ==", "url": "https://github.com/infinispan/infinispan/pull/8313#discussion_r425013979", "bodyText": "and the IllegalArgumentException ?", "author": "karesti", "createdAt": "2020-05-14T09:53:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxMzU2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "63680993bc05dbcb53a31c3d604105a86e566d0f", "chunk": "diff --git a/client/hotrod-client/src/test/java/org/infinispan/client/hotrod/configuration/ConfigurationTest.java b/client/hotrod-client/src/test/java/org/infinispan/client/hotrod/configuration/ConfigurationTest.java\nindex 504c72d672..bb14f921dc 100644\n--- a/client/hotrod-client/src/test/java/org/infinispan/client/hotrod/configuration/ConfigurationTest.java\n+++ b/client/hotrod-client/src/test/java/org/infinispan/client/hotrod/configuration/ConfigurationTest.java\n\n@@ -632,6 +633,8 @@ public void testConfigurationViaURI() {\n       callbackHandler = (BasicCallbackHandler)configuration.security().authentication().callbackHandler();\n       assertEquals(\"user\", callbackHandler.getUsername());\n       assertArrayEquals(\"password\".toCharArray(), callbackHandler.getPassword());\n+      expectException(IllegalArgumentException.class, \"ISPN004095:.*\", () -> HotRodURI.create(\"http://host1\"));\n+      expectException(IllegalArgumentException.class, \"ISPN004096:.*\", () -> HotRodURI.create(\"hotrod://host1?property\"));\n    }\n \n }\n"}}, {"oid": "63680993bc05dbcb53a31c3d604105a86e566d0f", "url": "https://github.com/infinispan/infinispan/commit/63680993bc05dbcb53a31c3d604105a86e566d0f", "message": "ISPN-11820 Hot Rod URI", "committedDate": "2020-05-18T13:35:48Z", "type": "commit"}, {"oid": "63680993bc05dbcb53a31c3d604105a86e566d0f", "url": "https://github.com/infinispan/infinispan/commit/63680993bc05dbcb53a31c3d604105a86e566d0f", "message": "ISPN-11820 Hot Rod URI", "committedDate": "2020-05-18T13:35:48Z", "type": "forcePushed"}]}