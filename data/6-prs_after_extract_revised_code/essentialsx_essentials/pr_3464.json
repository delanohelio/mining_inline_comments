{"pr_number": 3464, "pr_title": "Add config option to hide join/quit messages above X players", "pr_createdAt": "2020-07-07T20:46:55Z", "pr_url": "https://github.com/EssentialsX/Essentials/pull/3464", "timeline": [{"oid": "0b74eb21f9945e7838d4f5818cf005510b5383d1", "url": "https://github.com/EssentialsX/Essentials/commit/0b74eb21f9945e7838d4f5818cf005510b5383d1", "message": "Add config option to hide join/quit messages above X players\nAdd \"hide-join-quit-messages-above\" option, which will hide join and quit messages above a certain player count.\n\nCloses #3347.", "committedDate": "2020-07-07T20:44:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTEzNzU5MA==", "url": "https://github.com/EssentialsX/Essentials/pull/3464#discussion_r451137590", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private int joinQuitMessagePlayerCount;\n          \n          \n            \n            \n          \n          \n            \n                public int _getJoinQuitMessagePlayerCount() {\n          \n          \n            \n                    return config.getInt(\"hide-join-quit-messages-above\", -1);\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                @Override\n          \n          \n            \n                public int getJoinQuitMessagePlayerCount() {\n          \n          \n            \n                    return joinQuitMessagePlayerCount;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                @Override\n          \n          \n            \n                public boolean hasJoinQuitMessagePlayerCount() {\n          \n          \n            \n                    return joinQuitMessagePlayerCount >= 0;\n          \n          \n            \n                }\n          \n          \n            \n                @Override\n          \n          \n            \n                public int getJoinQuitMessagePlayerCount() {\n          \n          \n            \n                    return config.getInt(\"hide-join-quit-messages-above\", -1);\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                @Override\n          \n          \n            \n                public boolean hasJoinQuitMessagePlayerCount() {\n          \n          \n            \n                    return getJoinQuitMessagePlayerCount() >= 0;\n          \n          \n            \n                }", "author": "JRoy", "createdAt": "2020-07-07T20:55:15Z", "path": "Essentials/src/com/earth2me/essentials/Settings.java", "diffHunk": "@@ -1285,6 +1286,22 @@ public boolean isCustomQuitMessage() {\n         return isCustomQuitMessage;\n     }\n \n+    private int joinQuitMessagePlayerCount;\n+\n+    public int _getJoinQuitMessagePlayerCount() {\n+        return config.getInt(\"hide-join-quit-messages-above\", -1);\n+    }\n+\n+    @Override\n+    public int getJoinQuitMessagePlayerCount() {\n+        return joinQuitMessagePlayerCount;\n+    }\n+\n+    @Override\n+    public boolean hasJoinQuitMessagePlayerCount() {\n+        return joinQuitMessagePlayerCount >= 0;\n+    }\n+", "originalCommit": "0b74eb21f9945e7838d4f5818cf005510b5383d1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5ffcde12cc293a15bb135801168ec4bc2e4ee39f", "chunk": "diff --git a/Essentials/src/com/earth2me/essentials/Settings.java b/Essentials/src/com/earth2me/essentials/Settings.java\nindex c9ec0c6bf..6178af091 100644\n--- a/Essentials/src/com/earth2me/essentials/Settings.java\n+++ b/Essentials/src/com/earth2me/essentials/Settings.java\n\n@@ -1286,20 +1285,14 @@ public class Settings implements net.ess3.api.ISettings {\n         return isCustomQuitMessage;\n     }\n \n-    private int joinQuitMessagePlayerCount;\n-\n-    public int _getJoinQuitMessagePlayerCount() {\n-        return config.getInt(\"hide-join-quit-messages-above\", -1);\n-    }\n-\n     @Override\n     public int getJoinQuitMessagePlayerCount() {\n-        return joinQuitMessagePlayerCount;\n+        return config.getInt(\"hide-join-quit-messages-above\", -1);\n     }\n \n     @Override\n     public boolean hasJoinQuitMessagePlayerCount() {\n-        return joinQuitMessagePlayerCount >= 0;\n+        return getJoinQuitMessagePlayerCount() >= 0;\n     }\n \n     @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTEzNzY4NQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3464#discussion_r451137685", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    joinQuitMessagePlayerCount = _getJoinQuitMessagePlayerCount();", "author": "JRoy", "createdAt": "2020-07-07T20:55:27Z", "path": "Essentials/src/com/earth2me/essentials/Settings.java", "diffHunk": "@@ -570,6 +570,7 @@ public void reloadConfig() {\n         isCustomJoinMessage = !customJoinMessage.equals(\"none\");\n         customQuitMessage = _getCustomQuitMessage();\n         isCustomQuitMessage = !customQuitMessage.equals(\"none\");\n+        joinQuitMessagePlayerCount = _getJoinQuitMessagePlayerCount();", "originalCommit": "0b74eb21f9945e7838d4f5818cf005510b5383d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTEzODYzNA==", "url": "https://github.com/EssentialsX/Essentials/pull/3464#discussion_r451138634", "bodyText": "muh abstractions", "author": "mdcfe", "createdAt": "2020-07-07T20:57:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTEzNzY4NQ=="}], "type": "inlineReview", "revised_code": {"commit": "5ffcde12cc293a15bb135801168ec4bc2e4ee39f", "chunk": "diff --git a/Essentials/src/com/earth2me/essentials/Settings.java b/Essentials/src/com/earth2me/essentials/Settings.java\nindex c9ec0c6bf..6178af091 100644\n--- a/Essentials/src/com/earth2me/essentials/Settings.java\n+++ b/Essentials/src/com/earth2me/essentials/Settings.java\n\n@@ -570,7 +570,6 @@ public class Settings implements net.ess3.api.ISettings {\n         isCustomJoinMessage = !customJoinMessage.equals(\"none\");\n         customQuitMessage = _getCustomQuitMessage();\n         isCustomQuitMessage = !customQuitMessage.equals(\"none\");\n-        joinQuitMessagePlayerCount = _getJoinQuitMessagePlayerCount();\n         muteCommands = _getMuteCommands();\n         spawnOnJoinGroups = _getSpawnOnJoinGroups();\n         commandCooldowns = _getCommandCooldowns();\n"}}, {"oid": "5ffcde12cc293a15bb135801168ec4bc2e4ee39f", "url": "https://github.com/EssentialsX/Essentials/commit/5ffcde12cc293a15bb135801168ec4bc2e4ee39f", "message": "Apply suggestions from code review\n\nCo-authored-by: Josh Roy <10731363+JRoy@users.noreply.github.com>", "committedDate": "2020-07-07T20:58:02Z", "type": "commit"}]}