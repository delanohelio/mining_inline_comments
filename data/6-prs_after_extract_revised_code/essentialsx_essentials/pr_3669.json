{"pr_number": 3669, "pr_title": "Add API to register enchantment names/aliases", "pr_createdAt": "2020-09-13T14:40:37Z", "pr_url": "https://github.com/EssentialsX/Essentials/pull/3669", "timeline": [{"oid": "e79c3b2bb83e8d7064acae0e03828012cbb65c6e", "url": "https://github.com/EssentialsX/Essentials/commit/e79c3b2bb83e8d7064acae0e03828012cbb65c6e", "message": "Added support for registering enchantment aliases without reflection", "committedDate": "2020-09-13T14:36:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzNzk2NQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3669#discussion_r499437965", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name))\n          \n          \n            \n                        return;\n          \n          \n            \n                    if (ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name)) {\n          \n          \n            \n                        return;\n          \n          \n            \n                    }", "author": "mdcfe", "createdAt": "2020-10-05T08:48:37Z", "path": "Essentials/src/com/earth2me/essentials/Enchantments.java", "diffHunk": "@@ -295,4 +295,18 @@ public static Enchantment getByName(String name) {\n     public static Set<String> keySet() {\n         return ENCHANTMENTS.keySet();\n     }\n+\n+    public static void registerEnchantment(String name, Enchantment enchantment) {\n+        if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name))\n+            return;", "originalCommit": "e79c3b2bb83e8d7064acae0e03828012cbb65c6e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6da5bb7409adada5ba015ff694e488ff836401de", "chunk": "diff --git a/Essentials/src/com/earth2me/essentials/Enchantments.java b/Essentials/src/com/earth2me/essentials/Enchantments.java\nindex d01b8d257..a422d9fc7 100644\n--- a/Essentials/src/com/earth2me/essentials/Enchantments.java\n+++ b/Essentials/src/com/earth2me/essentials/Enchantments.java\n\n@@ -297,8 +297,9 @@ public class Enchantments {\n     }\n \n     public static void registerEnchantment(String name, Enchantment enchantment) {\n-        if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name))\n+        if (ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name)) {\n             return;\n+        }\n \n         ENCHANTMENTS.put(name, enchantment);\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzODE0OQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3669#discussion_r499438149", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name) || !ENCHANTMENTS.containsValue(enchantment))\n          \n          \n            \n                        return;\n          \n          \n            \n                    if (ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name) || !ENCHANTMENTS.containsValue(enchantment)) {\n          \n          \n            \n                        return;\n          \n          \n            \n                    }", "author": "mdcfe", "createdAt": "2020-10-05T08:48:55Z", "path": "Essentials/src/com/earth2me/essentials/Enchantments.java", "diffHunk": "@@ -295,4 +295,18 @@ public static Enchantment getByName(String name) {\n     public static Set<String> keySet() {\n         return ENCHANTMENTS.keySet();\n     }\n+\n+    public static void registerEnchantment(String name, Enchantment enchantment) {\n+        if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name))\n+            return;\n+\n+        ENCHANTMENTS.put(name, enchantment);\n+    }\n+\n+    public static void registerAlias(String name, Enchantment enchantment) {\n+        if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name) || !ENCHANTMENTS.containsValue(enchantment))\n+            return;", "originalCommit": "e79c3b2bb83e8d7064acae0e03828012cbb65c6e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6da5bb7409adada5ba015ff694e488ff836401de", "chunk": "diff --git a/Essentials/src/com/earth2me/essentials/Enchantments.java b/Essentials/src/com/earth2me/essentials/Enchantments.java\nindex d01b8d257..a422d9fc7 100644\n--- a/Essentials/src/com/earth2me/essentials/Enchantments.java\n+++ b/Essentials/src/com/earth2me/essentials/Enchantments.java\n\n@@ -297,8 +297,9 @@ public class Enchantments {\n     }\n \n     public static void registerEnchantment(String name, Enchantment enchantment) {\n-        if(ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name))\n+        if (ENCHANTMENTS.containsKey(name) || ALIASENCHANTMENTS.containsKey(name)) {\n             return;\n+        }\n \n         ENCHANTMENTS.put(name, enchantment);\n     }\n"}}, {"oid": "6da5bb7409adada5ba015ff694e488ff836401de", "url": "https://github.com/EssentialsX/Essentials/commit/6da5bb7409adada5ba015ff694e488ff836401de", "message": "Changed brace style\n\nCo-authored-by: MD <1917406+md678685@users.noreply.github.com>", "committedDate": "2020-10-09T11:08:52Z", "type": "commit"}, {"oid": "a70393478b1f6b3e285bef3be225ddaa93e147bf", "url": "https://github.com/EssentialsX/Essentials/commit/a70393478b1f6b3e285bef3be225ddaa93e147bf", "message": "Changed brace style\n\nCo-authored-by: MD <1917406+md678685@users.noreply.github.com>", "committedDate": "2020-10-09T11:09:00Z", "type": "commit"}, {"oid": "04eb7c71347a04407563396caf013c1a3de4ee8c", "url": "https://github.com/EssentialsX/Essentials/commit/04eb7c71347a04407563396caf013c1a3de4ee8c", "message": "Merge remote-tracking branch 'upstream/2.x' into 2.x", "committedDate": "2021-01-02T03:57:46Z", "type": "commit"}]}