{"pr_number": 10893, "pr_title": "[BEAM-5605] Honor the bounded source timestamps timestamp in the SDF wrapper.", "pr_createdAt": "2020-02-18T22:24:44Z", "pr_url": "https://github.com/apache/beam/pull/10893", "timeline": [{"oid": "39bed99fd237e8881f8ed9dd412213e8aadd92ea", "url": "https://github.com/apache/beam/commit/39bed99fd237e8881f8ed9dd412213e8aadd92ea", "message": "[BEAM-5605] Honor the bounded source timestamps timestamp.", "committedDate": "2020-02-18T22:23:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTUwNzU3NA==", "url": "https://github.com/apache/beam/pull/10893#discussion_r381507574", "bodyText": "Is the timestamp for the output timestamp of records from BoundedSource?", "author": "boyuanzz", "createdAt": "2020-02-19T19:51:33Z", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/io/Read.java", "diffHunk": "@@ -242,18 +243,19 @@ public void splitRestriction(\n     }\n \n     @NewTracker\n-    public RestrictionTracker<BoundedSource<T>, Object[]> restrictionTracker(\n+    public RestrictionTracker<BoundedSource<T>, TimestampedValue<T>[]> restrictionTracker(\n         @Restriction BoundedSource<T> restriction, PipelineOptions pipelineOptions) {\n       return new BoundedSourceAsSDFRestrictionTracker<>(restriction, pipelineOptions);\n     }\n \n     @ProcessElement\n     public void processElement(\n-        RestrictionTracker<BoundedSource<T>, Object[]> tracker, OutputReceiver<T> receiver)\n+        RestrictionTracker<BoundedSource<T>, TimestampedValue<T>[]> tracker,\n+        OutputReceiver<T> receiver)\n         throws IOException {\n-      Object[] out = new Object[1];\n+      TimestampedValue<T>[] out = new TimestampedValue[1];\n       while (tracker.tryClaim(out)) {\n-        receiver.output((T) out[0]);\n+        receiver.outputWithTimestamp(out[0].getValue(), out[0].getTimestamp());", "originalCommit": "39bed99fd237e8881f8ed9dd412213e8aadd92ea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE2ODExMg==", "url": "https://github.com/apache/beam/pull/10893#discussion_r382168112", "bodyText": "yes", "author": "lukecwik", "createdAt": "2020-02-20T18:07:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTUwNzU3NA=="}], "type": "inlineReview", "revised_code": null}]}