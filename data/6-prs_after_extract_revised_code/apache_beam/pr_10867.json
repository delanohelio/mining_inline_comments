{"pr_number": 10867, "pr_title": "[BEAM-9317] Fix portable test executions to specify the beam_fn_api argument", "pr_createdAt": "2020-02-14T17:21:44Z", "pr_url": "https://github.com/apache/beam/pull/10867", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU1MjAwNw==", "url": "https://github.com/apache/beam/pull/10867#discussion_r379552007", "bodyText": "What's this change for?", "author": "TheNeuralBit", "createdAt": "2020-02-14T17:23:52Z", "path": "runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/graph/GreedyPipelineFuser.java", "diffHunk": "@@ -189,7 +189,6 @@ private DescendantConsumers getRootConsumers(PTransformNode rootNode) {\n             + \"but transform %s executes in environment %s\",\n         GreedyPipelineFuser.class.getSimpleName(),\n         PTransformTranslation.IMPULSE_TRANSFORM_URN,\n-        PTransformTranslation.READ_TRANSFORM_URN,", "originalCommit": "e3e536b121060b206f05ed2d89e4c395d74ac89f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU1MzY5MQ==", "url": "https://github.com/apache/beam/pull/10867#discussion_r379553691", "bodyText": "It was some stuff left over in my workspace which I have gotten rid of now.", "author": "lukecwik", "createdAt": "2020-02-14T17:27:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU1MjAwNw=="}], "type": "inlineReview", "revised_code": {"commit": "42717e93a4fd9aa9381701059bcea81d0192830f", "chunk": "diff --git a/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/graph/GreedyPipelineFuser.java b/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/graph/GreedyPipelineFuser.java\nindex d96368e9ad..6184498fbe 100644\n--- a/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/graph/GreedyPipelineFuser.java\n+++ b/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/graph/GreedyPipelineFuser.java\n\n@@ -189,6 +189,7 @@ public class GreedyPipelineFuser {\n             + \"but transform %s executes in environment %s\",\n         GreedyPipelineFuser.class.getSimpleName(),\n         PTransformTranslation.IMPULSE_TRANSFORM_URN,\n+        PTransformTranslation.READ_TRANSFORM_URN,\n         rootNode.getId(),\n         pipeline.getEnvironment(rootNode));\n     Set<PTransformNode> unfused = new HashSet<>();\n"}}, {"oid": "42717e93a4fd9aa9381701059bcea81d0192830f", "url": "https://github.com/apache/beam/commit/42717e93a4fd9aa9381701059bcea81d0192830f", "message": "[BEAM-9317] Fix portable test executions to specify the beam_fn_api argument\n\nThis allows for SDK level overrides when executing portable pipelines to occur.", "committedDate": "2020-02-14T17:27:14Z", "type": "commit"}, {"oid": "42717e93a4fd9aa9381701059bcea81d0192830f", "url": "https://github.com/apache/beam/commit/42717e93a4fd9aa9381701059bcea81d0192830f", "message": "[BEAM-9317] Fix portable test executions to specify the beam_fn_api argument\n\nThis allows for SDK level overrides when executing portable pipelines to occur.", "committedDate": "2020-02-14T17:27:14Z", "type": "forcePushed"}]}