{"pr_number": 11614, "pr_title": "Disable two flaky tests (BEAM-8035, BEAM-9164)", "pr_createdAt": "2020-05-05T20:17:26Z", "pr_url": "https://github.com/apache/beam/pull/11614", "timeline": [{"oid": "a4813971fc6b5e8734a204eb114842cc27d6d902", "url": "https://github.com/apache/beam/commit/a4813971fc6b5e8734a204eb114842cc27d6d902", "message": "Disable two flaky tests (BEAM-8035, BEAM-9164)", "committedDate": "2020-05-05T20:15:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA==", "url": "https://github.com/apache/beam/pull/11614#discussion_r420387278", "bodyText": "This one is apparently only flaky on Flink can we better exclude it manually only for Flink?", "author": "iemejia", "createdAt": "2020-05-05T20:31:04Z", "path": "runners/flink/src/test/java/org/apache/beam/runners/flink/translation/wrappers/streaming/io/UnboundedSourceWrapperTest.java", "diffHunk": "@@ -242,6 +243,7 @@ public void close() {}\n      * <p>This test verifies that watermarks are correctly forwarded.\n      */\n     @Test(timeout = 30_000)\n+    @Ignore(\"https://issues.apache.org/jira/browse/BEAM-9164\")", "originalCommit": "a4813971fc6b5e8734a204eb114842cc27d6d902", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM5MDAwNg==", "url": "https://github.com/apache/beam/pull/11614#discussion_r420390006", "bodyText": "This is not @Category(ValidatesRunner) test, looks like it is Flink-specific already?", "author": "je-ik", "createdAt": "2020-05-05T20:36:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ2MTE2OQ==", "url": "https://github.com/apache/beam/pull/11614#discussion_r420461169", "bodyText": "Oh my bad sorry.", "author": "iemejia", "createdAt": "2020-05-05T23:11:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU5MDM4MA==", "url": "https://github.com/apache/beam/pull/11614#discussion_r420590380", "bodyText": "@iemejia can I merge this? Is it fine for you?", "author": "je-ik", "createdAt": "2020-05-06T07:21:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDYwNzI5Mg==", "url": "https://github.com/apache/beam/pull/11614#discussion_r420607292", "bodyText": "Sure go ahead!", "author": "iemejia", "createdAt": "2020-05-06T07:55:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUyNDgzMg==", "url": "https://github.com/apache/beam/pull/11614#discussion_r423524832", "bodyText": "IMHO disabling tests should be the last resort. Please inform the mailing list or at least the JIRA issue when you disabled tests. This may be causing regressions. For example, I changed logic around UnboundedSourceWrapper a couple days ago and was not aware of tests being disabled.", "author": "mxm", "createdAt": "2020-05-12T07:38:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzOTc1Mg==", "url": "https://github.com/apache/beam/pull/11614#discussion_r423539752", "bodyText": "@mxm I started a discussion thread here. Agree that we should have a better way of tracking flaky and disabled tests. There was also additional thread about precommit stability. The two tests disabled in this PR were causing practically permanent failure in precommits.", "author": "je-ik", "createdAt": "2020-05-12T08:04:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY5ODI0NA==", "url": "https://github.com/apache/beam/pull/11614#discussion_r423698244", "bodyText": "Thanks for starting the discussion. I'll try to enable these tests again. The recent changes in UnboundedSourceWrapper should have improved the test stability.", "author": "mxm", "createdAt": "2020-05-12T12:37:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzcwMDg1NQ==", "url": "https://github.com/apache/beam/pull/11614#discussion_r423700855", "bodyText": "I'll run some tests here: #11679", "author": "mxm", "createdAt": "2020-05-12T12:41:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NzI3OA=="}], "type": "inlineReview", "revised_code": null}]}