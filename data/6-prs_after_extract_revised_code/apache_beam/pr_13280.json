{"pr_number": 13280, "pr_title": "BEAM-11194: Add timer family id support in KeyedTimerData", "pr_createdAt": "2020-11-06T21:58:31Z", "pr_url": "https://github.com/apache/beam/pull/13280", "timeline": [{"oid": "640d21f63861a787bae3181d3ad1bd705dbd1618", "url": "https://github.com/apache/beam/commit/640d21f63861a787bae3181d3ad1bd705dbd1618", "message": "BEAM-11194: Add timer family id support in KeyedTimerData\n\nEncode and decode timer family id in KeyedTimerData. timerFamilyId is being append to the last to maintain forward compatibility.", "committedDate": "2020-11-06T21:55:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTAyOTE0OQ==", "url": "https://github.com/apache/beam/pull/13280#discussion_r519029149", "bodyText": "Can you add a comment saying all new fields must be append to the end in order not to break forward/backward compatibility?", "author": "dengpanyin", "createdAt": "2020-11-06T22:06:29Z", "path": "runners/samza/src/main/java/org/apache/beam/runners/samza/runtime/KeyedTimerData.java", "diffHunk": "@@ -192,7 +193,10 @@ public void encode(KeyedTimerData<K> value, OutputStream outStream)\n         keyBytes = baos.toByteArray();\n       }\n \n-      return new KeyedTimerData(keyBytes, key, timer);\n+      final String timerFamilyId = inStream.available() > 0 ? STRING_CODER.decode(inStream) : \"\";", "originalCommit": "640d21f63861a787bae3181d3ad1bd705dbd1618", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTAyOTUzNg==", "url": "https://github.com/apache/beam/pull/13280#discussion_r519029536", "bodyText": "I will add the comment when moving the recently added outputTimestamps field.", "author": "kw2542", "createdAt": "2020-11-06T22:07:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTAyOTE0OQ=="}], "type": "inlineReview", "revised_code": null}]}