{"pr_number": 11046, "pr_title": "[BEAM-9442] Properly handle nullable fields in Select", "pr_createdAt": "2020-03-04T21:44:28Z", "pr_url": "https://github.com/apache/beam/pull/11046", "timeline": [{"oid": "42626c79b73e951f54ff847b4b569e358558ce28", "url": "https://github.com/apache/beam/commit/42626c79b73e951f54ff847b4b569e358558ce28", "message": "Fix improper null handling in select.", "committedDate": "2020-03-04T21:46:28Z", "type": "commit"}, {"oid": "42626c79b73e951f54ff847b4b569e358558ce28", "url": "https://github.com/apache/beam/commit/42626c79b73e951f54ff847b4b569e358558ce28", "message": "Fix improper null handling in select.", "committedDate": "2020-03-04T21:46:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI1NzI2NA==", "url": "https://github.com/apache/beam/pull/11046#discussion_r388257264", "bodyText": "nit: (slightly related to this PR) can we make SelectByteBuddyHelpers package private please", "author": "iemejia", "createdAt": "2020-03-05T12:16:58Z", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/SelectByteBuddyHelpers.java", "diffHunk": "@@ -256,6 +260,10 @@ public StackManipulation append(StackManipulation valueToWrite) {\n       return store(currentArrayField++, valueToWrite);\n     }\n \n+    public int reserveSlot() {", "originalCommit": "42626c79b73e951f54ff847b4b569e358558ce28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5OTU3NQ==", "url": "https://github.com/apache/beam/pull/11046#discussion_r388399575", "bodyText": "done", "author": "reuvenlax", "createdAt": "2020-03-05T16:13:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI1NzI2NA=="}], "type": "inlineReview", "revised_code": {"commit": "8d8d8719835667d5cabf6d14f853b3e46773603b", "chunk": "diff --git a/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/SelectByteBuddyHelpers.java b/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/SelectByteBuddyHelpers.java\nindex 4741c2ae35..3bf3069dc6 100644\n--- a/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/SelectByteBuddyHelpers.java\n+++ b/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/SelectByteBuddyHelpers.java\n\n@@ -256,15 +256,15 @@ public class SelectByteBuddyHelpers {\n       };\n     }\n \n-    public StackManipulation append(StackManipulation valueToWrite) {\n+    StackManipulation append(StackManipulation valueToWrite) {\n       return store(currentArrayField++, valueToWrite);\n     }\n \n-    public int reserveSlot() {\n+    int reserveSlot() {\n       return currentArrayField++;\n     }\n \n-    public StackManipulation store(int arrayIndexToWrite, StackManipulation valueToWrite) {\n+    StackManipulation store(int arrayIndexToWrite, StackManipulation valueToWrite) {\n       Preconditions.checkArgument(arrayIndexToWrite < arraySize);\n       return new StackManipulation() {\n         @Override\n"}}, {"oid": "8d8d8719835667d5cabf6d14f853b3e46773603b", "url": "https://github.com/apache/beam/commit/8d8d8719835667d5cabf6d14f853b3e46773603b", "message": "fix CR comments", "committedDate": "2020-03-05T16:12:13Z", "type": "commit"}]}