{"pr_number": 12634, "pr_title": "[BEAM-10761] Prefer TestPubsub#assertSubscriptionEventuallyExists when waiting to inject data", "pr_createdAt": "2020-08-19T19:27:06Z", "pr_url": "https://github.com/apache/beam/pull/12634", "timeline": [{"oid": "e1736174de0d978149da2e9e28c62614df123e2b", "url": "https://github.com/apache/beam/commit/e1736174de0d978149da2e9e28c62614df123e2b", "message": "Don't check the subscription that was created by TestPubsub", "committedDate": "2020-08-19T19:10:56Z", "type": "commit"}, {"oid": "6e9613b4b95ac11109ea361fea68079c50de5c98", "url": "https://github.com/apache/beam/commit/6e9613b4b95ac11109ea361fea68079c50de5c98", "message": "checkIfAnySubscriptionExists -> assertSubscriptionEventuallyCreated", "committedDate": "2020-08-19T19:13:50Z", "type": "commit"}, {"oid": "e66899bef33d0ad8ebb99860951b55ff91c171b5", "url": "https://github.com/apache/beam/commit/e66899bef33d0ad8ebb99860951b55ff91c171b5", "message": "Use TestPubsub.assertSubscriptionEventuallyCreated instead of TestPubsubSignal.waitForStart", "committedDate": "2020-08-19T19:18:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5NjMzMg==", "url": "https://github.com/apache/beam/pull/12634#discussion_r474996332", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>{@Deprecated prefer {@link #assertSubscriptionEventuallyCreated}}.\n          \n          \n            \n               *\n          \n          \n            \n               * @param project GCP project identifier.\n          \n          \n            \n               * @param timeoutDuration Joda duration that sets a period of time before checking times out.\n          \n          \n            \n               * @param project GCP project identifier.\n          \n          \n            \n               * @param timeoutDuration Joda duration that sets a period of time before checking times out.\n          \n          \n            \n               * @deprecated Use {@link #assertSubscriptionEventuallyCreated}.", "author": "lukecwik", "createdAt": "2020-08-21T22:30:16Z", "path": "sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.java", "diffHunk": "@@ -273,11 +275,30 @@ public PollingAssertion assertThatTopicEventuallyReceives(Matcher<PubsubMessage>\n   /**\n    * Check if topics exist.\n    *\n+   * <p>{@Deprecated prefer {@link #assertSubscriptionEventuallyCreated}}.\n+   *\n    * @param project GCP project identifier.\n    * @param timeoutDuration Joda duration that sets a period of time before checking times out.", "originalCommit": "e66899bef33d0ad8ebb99860951b55ff91c171b5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "174e0fc4e09e1d1e6b3d377133d583a7d9aa8470", "chunk": "diff --git a/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.java b/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.java\nindex ebe7d517f4..8c60ca0b39 100644\n--- a/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.java\n+++ b/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.java\n\n@@ -275,10 +275,9 @@ public class TestPubsub implements TestRule {\n   /**\n    * Check if topics exist.\n    *\n-   * <p>{@Deprecated prefer {@link #assertSubscriptionEventuallyCreated}}.\n-   *\n    * @param project GCP project identifier.\n    * @param timeoutDuration Joda duration that sets a period of time before checking times out.\n+   * @deprecated Use {@link #assertSubscriptionEventuallyCreated}.\n    */\n   @Deprecated\n   public void checkIfAnySubscriptionExists(String project, Duration timeoutDuration)\n"}}, {"oid": "174e0fc4e09e1d1e6b3d377133d583a7d9aa8470", "url": "https://github.com/apache/beam/commit/174e0fc4e09e1d1e6b3d377133d583a7d9aa8470", "message": "Update sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.java", "committedDate": "2020-08-21T22:30:33Z", "type": "commit"}]}