{"pr_number": 12299, "pr_title": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "pr_createdAt": "2020-07-17T14:28:44Z", "pr_url": "https://github.com/apache/beam/pull/12299", "timeline": [{"oid": "a8b53311a395a3f1966244e10c955e0847c90277", "url": "https://github.com/apache/beam/commit/a8b53311a395a3f1966244e10c955e0847c90277", "message": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "committedDate": "2020-07-17T15:25:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI1ODUxNQ==", "url": "https://github.com/apache/beam/pull/12299#discussion_r472258515", "bodyText": "Just note when you rebase -- the order of @Nullable and abstract has changed.", "author": "RyanSkraba", "createdAt": "2020-08-18T14:52:34Z", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/io/AvroIO.java", "diffHunk": "@@ -1273,6 +1273,9 @@ public void populateDisplayData(DisplayData.Builder builder) {\n     @Nullable\n     abstract DynamicAvroDestinations<UserT, DestinationT, OutputT> getDynamicDestinations();\n \n+    @Nullable", "originalCommit": "a8b53311a395a3f1966244e10c955e0847c90277", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c2a55241982d9f73f8bf0c9ea670a07d61981dd7", "chunk": "diff --git a/sdks/java/core/src/main/java/org/apache/beam/sdk/io/AvroIO.java b/sdks/java/core/src/main/java/org/apache/beam/sdk/io/AvroIO.java\nindex 6964e68d30..0e69218bc3 100644\n--- a/sdks/java/core/src/main/java/org/apache/beam/sdk/io/AvroIO.java\n+++ b/sdks/java/core/src/main/java/org/apache/beam/sdk/io/AvroIO.java\n\n@@ -1241,40 +1232,32 @@ public class AvroIO {\n     static final SerializableAvroCodecFactory DEFAULT_SERIALIZABLE_CODEC =\n         new SerializableAvroCodecFactory(DEFAULT_CODEC);\n \n-    @Nullable\n-    abstract SerializableFunction<UserT, OutputT> getFormatFunction();\n+    abstract @Nullable SerializableFunction<UserT, OutputT> getFormatFunction();\n \n-    @Nullable\n-    abstract ValueProvider<ResourceId> getFilenamePrefix();\n+    abstract @Nullable ValueProvider<ResourceId> getFilenamePrefix();\n \n-    @Nullable\n-    abstract String getShardTemplate();\n+    abstract @Nullable String getShardTemplate();\n \n-    @Nullable\n-    abstract String getFilenameSuffix();\n+    abstract @Nullable String getFilenameSuffix();\n \n-    @Nullable\n-    abstract ValueProvider<ResourceId> getTempDirectory();\n+    abstract @Nullable ValueProvider<ResourceId> getTempDirectory();\n \n     abstract int getNumShards();\n \n     abstract boolean getGenericRecords();\n \n-    @Nullable\n-    abstract Schema getSchema();\n+    abstract @Nullable Schema getSchema();\n \n     abstract boolean getWindowedWrites();\n \n     abstract boolean getNoSpilling();\n \n-    @Nullable\n-    abstract FilenamePolicy getFilenamePolicy();\n+    abstract @Nullable FilenamePolicy getFilenamePolicy();\n \n-    @Nullable\n-    abstract DynamicAvroDestinations<UserT, DestinationT, OutputT> getDynamicDestinations();\n+    abstract @Nullable DynamicAvroDestinations<UserT, DestinationT, OutputT>\n+        getDynamicDestinations();\n \n-    @Nullable\n-    abstract AvroSink.DatumWriterFactory<OutputT> getDatumWriterFactory();\n+    abstract AvroSink.@Nullable DatumWriterFactory<OutputT> getDatumWriterFactory();\n \n     /**\n      * The codec used to encode the blocks in the Avro file. String value drawn from those in\n"}}, {"oid": "c2a55241982d9f73f8bf0c9ea670a07d61981dd7", "url": "https://github.com/apache/beam/commit/c2a55241982d9f73f8bf0c9ea670a07d61981dd7", "message": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "committedDate": "2020-08-18T17:38:37Z", "type": "forcePushed"}, {"oid": "561cae965fc7ff2a312bfb730a6621c0d76965a7", "url": "https://github.com/apache/beam/commit/561cae965fc7ff2a312bfb730a6621c0d76965a7", "message": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "committedDate": "2020-08-18T17:41:44Z", "type": "forcePushed"}, {"oid": "6fe2d2e411ee2ad385c7b1033a7ab9cebec93ba8", "url": "https://github.com/apache/beam/commit/6fe2d2e411ee2ad385c7b1033a7ab9cebec93ba8", "message": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "committedDate": "2020-08-18T17:42:30Z", "type": "forcePushed"}, {"oid": "6bed6dea53afbf5c22942f43e10ab93acc0c5045", "url": "https://github.com/apache/beam/commit/6bed6dea53afbf5c22942f43e10ab93acc0c5045", "message": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "committedDate": "2020-08-18T17:45:53Z", "type": "commit"}, {"oid": "6bed6dea53afbf5c22942f43e10ab93acc0c5045", "url": "https://github.com/apache/beam/commit/6bed6dea53afbf5c22942f43e10ab93acc0c5045", "message": "[BEAM-10523] Add support for custom DatumWriters to AvroIO.Write", "committedDate": "2020-08-18T17:45:53Z", "type": "forcePushed"}]}