{"pr_number": 13234, "pr_title": "[BEAM-11162] Fetch missing projectId from options", "pr_createdAt": "2020-10-30T20:45:33Z", "pr_url": "https://github.com/apache/beam/pull/13234", "timeline": [{"oid": "6eb489011de15158ff55ba9f416404ca3c82b30e", "url": "https://github.com/apache/beam/commit/6eb489011de15158ff55ba9f416404ca3c82b30e", "message": "[BEAM-11162] Fetch missing projectId from options\n\nin BigQuery load jobs built with Write.to(ValueProvider<String>).", "committedDate": "2020-10-30T20:38:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk1MDMwMQ==", "url": "https://github.com/apache/beam/pull/13234#discussion_r516950301", "bodyText": "testTriggeredFileLoadsWithTempTablesDefaultProject ?\n(what we'll be doing is picking the default project which is correct according to the spec: https://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryHelpers.java#L395\n)", "author": "chamikaramj", "createdAt": "2020-11-03T20:56:06Z", "path": "sdks/java/io/google-cloud-platform/src/test/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIOWriteTest.java", "diffHunk": "@@ -584,6 +583,16 @@ public void testTriggeredFileLoadsWithTempTables() throws Exception {\n         containsInAnyOrder(Iterables.toArray(elements, TableRow.class)));\n   }\n \n+  @Test\n+  public void testTriggeredFileLoadsWithTempTables() throws Exception {\n+    testTriggeredFileLoadsWithTempTables(\"project-id:dataset-id.table-id\");\n+  }\n+\n+  @Test\n+  public void testTriggeredFileLoadsWithTempTablesPartialTableRef() throws Exception {", "originalCommit": "45acb13cd62948afe3b653a528df98aeec2221fb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk4MTc0NA==", "url": "https://github.com/apache/beam/pull/13234#discussion_r516981744", "bodyText": "Yes that sounds better. :)", "author": "udim", "createdAt": "2020-11-03T22:03:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk1MDMwMQ=="}], "type": "inlineReview", "revised_code": {"commit": "86fcc1ee963e048615eb50770a2d6c390e7340d5", "chunk": "diff --git a/sdks/java/io/google-cloud-platform/src/test/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIOWriteTest.java b/sdks/java/io/google-cloud-platform/src/test/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIOWriteTest.java\nindex edde514a54..9d08f4edc2 100644\n--- a/sdks/java/io/google-cloud-platform/src/test/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIOWriteTest.java\n+++ b/sdks/java/io/google-cloud-platform/src/test/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIOWriteTest.java\n\n@@ -589,7 +589,7 @@ public class BigQueryIOWriteTest implements Serializable {\n   }\n \n   @Test\n-  public void testTriggeredFileLoadsWithTempTablesPartialTableRef() throws Exception {\n+  public void testTriggeredFileLoadsWithTempTablesDefaultProject() throws Exception {\n     testTriggeredFileLoadsWithTempTables(\"dataset-id.table-id\");\n   }\n \n"}}, {"oid": "86fcc1ee963e048615eb50770a2d6c390e7340d5", "url": "https://github.com/apache/beam/commit/86fcc1ee963e048615eb50770a2d6c390e7340d5", "message": "Fix style (removing empty string check)\n\nAlso address review comment", "committedDate": "2020-11-03T22:05:34Z", "type": "commit"}, {"oid": "86fcc1ee963e048615eb50770a2d6c390e7340d5", "url": "https://github.com/apache/beam/commit/86fcc1ee963e048615eb50770a2d6c390e7340d5", "message": "Fix style (removing empty string check)\n\nAlso address review comment", "committedDate": "2020-11-03T22:05:34Z", "type": "forcePushed"}]}