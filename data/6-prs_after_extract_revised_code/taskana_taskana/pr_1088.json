{"pr_number": 1088, "pr_title": "Task 1259", "pr_createdAt": "2020-05-27T06:02:19Z", "pr_url": "https://github.com/Taskana/taskana/pull/1088", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk2MTc4Ng==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r430961786", "bodyText": "In the entity the method is getId/setId. Should we use this method- and fieldname as well since all other methods are consistent in comparison?", "author": "krozzus", "createdAt": "2020-05-27T08:55:40Z", "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/task/rest/assembler/AttachmentSummaryRepresentationModelAssembler.java", "diffHunk": "@@ -14,10 +18,42 @@\n public class AttachmentSummaryRepresentationModelAssembler implements\n     RepresentationModelAssembler<AttachmentSummary, AttachmentSummaryRepresentationModel> {\n \n+  private final TaskService taskService;\n+  private final ClassificationSummaryRepresentationModelAssembler classificationSummaryAssembler;\n+\n+  @Autowired\n+  public AttachmentSummaryRepresentationModelAssembler(TaskService taskService,\n+      ClassificationSummaryRepresentationModelAssembler classificationSummaryAssembler) {\n+    this.taskService = taskService;\n+    this.classificationSummaryAssembler = classificationSummaryAssembler;\n+  }\n+\n   @NonNull\n   @Override\n   public AttachmentSummaryRepresentationModel toModel(\n-      @NonNull AttachmentSummary attachmentSummary) {\n-    return new AttachmentSummaryRepresentationModel(attachmentSummary);\n+      @NonNull AttachmentSummary summary) {\n+    AttachmentSummaryRepresentationModel repModel = new AttachmentSummaryRepresentationModel();\n+    repModel.setAttachmentId(summary.getId());", "originalCommit": "21316bfe5293146a152dc1ebc8d9eac9d3d37936", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA0NDIzMQ==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431044231", "bodyText": "In the old hateoas there was an ID property of the resouce so that we had to use an alternative.\nSince the change of behaviour would affect the rest service I'd prefer to create a dedicated ticket for this issue and all entities", "author": "mustaphazorgati", "createdAt": "2020-05-27T11:22:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk2MTc4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA0NTEyMA==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431045120", "bodyText": "TSK-1266", "author": "mustaphazorgati", "createdAt": "2020-05-27T11:24:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk2MTc4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "3eee4b411639cc408b8f433f7be526a68b49a85a", "chunk": "diff --git a/rest/taskana-rest-spring/src/main/java/pro/taskana/task/rest/assembler/AttachmentSummaryRepresentationModelAssembler.java b/rest/taskana-rest-spring/src/main/java/pro/taskana/task/rest/assembler/AttachmentSummaryRepresentationModelAssembler.java\nindex d709b1b7..9cf16ee2 100644\n--- a/rest/taskana-rest-spring/src/main/java/pro/taskana/task/rest/assembler/AttachmentSummaryRepresentationModelAssembler.java\n+++ b/rest/taskana-rest-spring/src/main/java/pro/taskana/task/rest/assembler/AttachmentSummaryRepresentationModelAssembler.java\n\n@@ -11,18 +11,18 @@ import pro.taskana.task.api.models.AttachmentSummary;\n import pro.taskana.task.internal.models.AttachmentImpl;\n import pro.taskana.task.rest.models.AttachmentSummaryRepresentationModel;\n \n-/**\n- * EntityModel assembler for {@link AttachmentSummaryRepresentationModel}.\n- */\n+/** EntityModel assembler for {@link AttachmentSummaryRepresentationModel}. */\n @Component\n-public class AttachmentSummaryRepresentationModelAssembler implements\n-    RepresentationModelAssembler<AttachmentSummary, AttachmentSummaryRepresentationModel> {\n+public class AttachmentSummaryRepresentationModelAssembler\n+    implements RepresentationModelAssembler<\n+        AttachmentSummary, AttachmentSummaryRepresentationModel> {\n \n   private final TaskService taskService;\n   private final ClassificationSummaryRepresentationModelAssembler classificationSummaryAssembler;\n \n   @Autowired\n-  public AttachmentSummaryRepresentationModelAssembler(TaskService taskService,\n+  public AttachmentSummaryRepresentationModelAssembler(\n+      TaskService taskService,\n       ClassificationSummaryRepresentationModelAssembler classificationSummaryAssembler) {\n     this.taskService = taskService;\n     this.classificationSummaryAssembler = classificationSummaryAssembler;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk4MDM3Nw==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r430980377", "bodyText": "Do we still need the ObjectMapper?", "author": "krozzus", "createdAt": "2020-05-27T09:24:51Z", "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/workbasket/rest/WorkbasketDefinitionController.java", "diffHunk": "@@ -53,33 +56,38 @@\n       LoggerFactory.getLogger(WorkbasketDefinitionController.class);\n \n   private final WorkbasketService workbasketService;\n-\n   private final WorkbasketDefinitionRepresentationModelAssembler workbasketDefinitionAssembler;\n+  private final ObjectMapper mapper;\n \n+  @Autowired\n   WorkbasketDefinitionController(\n       WorkbasketService workbasketService,\n-      WorkbasketDefinitionRepresentationModelAssembler workbasketDefinitionAssembler) {\n+      WorkbasketDefinitionRepresentationModelAssembler workbasketDefinitionAssembler,\n+      ObjectMapper mapper) {", "originalCommit": "7ec8c8f4935ef9825ca804fcc04b8148cfb0bbf8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1MDg1Mg==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431050852", "bodyText": "Yes. In order to parse the file which was uploaded.", "author": "mustaphazorgati", "createdAt": "2020-05-27T11:37:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk4MDM3Nw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAyNjI4OA==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431026288", "bodyText": "why are we refactoring this class?", "author": "krozzus", "createdAt": "2020-05-27T10:46:30Z", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/WorkingDaysToDaysConverter.java", "diffHunk": "@@ -8,14 +8,13 @@\n import java.time.LocalDate;", "originalCommit": "e9258dda7c960b32cc91aae071482002713276ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1MTE3Ng==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431051176", "bodyText": "I made this sneaky peaky. You saw nothing \ud83d\udc4d", "author": "mustaphazorgati", "createdAt": "2020-05-27T11:37:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAyNjI4OA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAzMjk1NA==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431032954", "bodyText": "We need to properly delete this class.", "author": "krozzus", "createdAt": "2020-05-27T11:00:06Z", "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/workbasket/rest/assembler/DistributionTargetRepresentationModelAssembler.java", "diffHunk": "@@ -1,21 +1 @@\n-package pro.taskana.workbasket.rest.assembler;", "originalCommit": "3ffff8c571344931660c23e99c0edadbc620741b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1MTkxOQ==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431051919", "bodyText": "What do you mean? This class is already deleted", "author": "mustaphazorgati", "createdAt": "2020-05-27T11:39:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAzMjk1NA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1MzA1Mg==", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431053052", "bodyText": "We can inject the ObjectMapper from Spring (so that we don't have to configure the mapper manually)", "author": "mustaphazorgati", "createdAt": "2020-05-27T11:41:40Z", "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/RestHelper.java", "diffHunk": "@@ -67,9 +71,13 @@ public static RestTemplate getRestTemplate() {\n     mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n     mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n     mapper.registerModule(new Jackson2HalModule());\n+    mapper\n+        .registerModule(new ParameterNamesModule())\n+        .registerModule(new Jdk8Module())\n+        .registerModule(new JavaTimeModule());", "originalCommit": "3ffff8c571344931660c23e99c0edadbc620741b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "3eee4b411639cc408b8f433f7be526a68b49a85a", "url": "https://github.com/Taskana/taskana/commit/3eee4b411639cc408b8f433f7be526a68b49a85a", "message": "TASK-1259: Refactoring of assembler classes", "committedDate": "2020-05-27T14:14:33Z", "type": "forcePushed"}, {"oid": "4095728c42db9e4f077d7e011e5965a2bca2ecd1", "url": "https://github.com/Taskana/taskana/commit/4095728c42db9e4f077d7e011e5965a2bca2ecd1", "message": "temporary changestash", "committedDate": "2020-05-27T14:15:53Z", "type": "forcePushed"}, {"oid": "d7fb72fac3f3e2442d55174be76cd1223763a101", "url": "https://github.com/Taskana/taskana/commit/d7fb72fac3f3e2442d55174be76cd1223763a101", "message": "Task-1259: Refactoring of assembler classes", "committedDate": "2020-05-27T14:17:52Z", "type": "commit"}, {"oid": "d7fb72fac3f3e2442d55174be76cd1223763a101", "url": "https://github.com/Taskana/taskana/commit/d7fb72fac3f3e2442d55174be76cd1223763a101", "message": "Task-1259: Refactoring of assembler classes", "committedDate": "2020-05-27T14:17:52Z", "type": "forcePushed"}]}