{"pr_number": 1346, "pr_title": "TSK-1239: Assertj use in every module", "pr_createdAt": "2020-11-17T13:06:08Z", "pr_url": "https://github.com/Taskana/taskana/pull/1346", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkwNTU4OQ==", "url": "https://github.com/Taskana/taskana/pull/1346#discussion_r527905589", "bodyText": "This is not an assertions. This is an assumption.\nPlease use Assumptions.assumeThat(isPostgres).isTrue(); (with a static import)", "author": "mustaphazorgati", "createdAt": "2020-11-20T18:49:22Z", "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java", "diffHunk": "@@ -44,7 +43,7 @@ void resetDb() throws SQLException {\n   @Test\n   void checkCustomSchemaNameIsDefined_Postgres() throws SQLException {\n     resetDb();\n-    Assume.assumeTrue(\"Test only executed with Postgres database\", isPostgres);", "originalCommit": "cebd5be813931ba0648785e10c2bc9b44bcd07d7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "86c01d4bea8d80544975b08975558612c94ab636", "chunk": "diff --git a/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java b/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\nindex 899c30c97..3dbaa85ea 100644\n--- a/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\n+++ b/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\n\n@@ -43,7 +44,8 @@ class TestSchemaNameCustomizable {\n   @Test\n   void checkCustomSchemaNameIsDefined_Postgres() throws SQLException {\n     resetDb();\n-    assertThat(isPostgres).isTrue();\n+    Assumptions.assumeThat(isPostgres).isTrue();\n+    ;\n     try (Connection connection = dataSource.getConnection()) {\n \n       try (PreparedStatement preparedStatement =\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkwNTY3MQ==", "url": "https://github.com/Taskana/taskana/pull/1346#discussion_r527905671", "bodyText": "This is not an assertions. This is an assumption.\nPlease use Assumptions.assumeThat(isPostgres).isFalse(); (with a static import)", "author": "mustaphazorgati", "createdAt": "2020-11-20T18:49:31Z", "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java", "diffHunk": "@@ -66,7 +65,7 @@ void checkCustomSchemaNameIsDefined_Postgres() throws SQLException {\n   @Test\n   void checkCustomSchemaNameIsDefined_OtherDb() throws SQLException {\n     resetDb();\n-    Assume.assumeFalse(\"Test only executed if NOT Postgres\", isPostgres);", "originalCommit": "cebd5be813931ba0648785e10c2bc9b44bcd07d7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "86c01d4bea8d80544975b08975558612c94ab636", "chunk": "diff --git a/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java b/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\nindex 899c30c97..3dbaa85ea 100644\n--- a/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\n+++ b/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\n\n@@ -65,7 +67,7 @@ class TestSchemaNameCustomizable {\n   @Test\n   void checkCustomSchemaNameIsDefined_OtherDb() throws SQLException {\n     resetDb();\n-    assertThat(isPostgres).isFalse();\n+    Assumptions.assumeThat(isPostgres).isTrue();\n     try (Connection connection = dataSource.getConnection()) {\n \n       try (PreparedStatement preparedStatement =\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkwNjYzMg==", "url": "https://github.com/Taskana/taskana/pull/1346#discussion_r527906632", "bodyText": "@gitgoodjhe what the hell is this class? Can we please talk about this?\n\nresetDb() is not annotated with @BeforeEach\nclass name does not end with Test and thus this class will not be found by surefire.\ngeneral setup is questionable\ntest content is too complicated..\nwhy is the class in taskana-rest-spring and not in taskana-core\n\nLike what the hell?!", "author": "mustaphazorgati", "createdAt": "2020-11-20T18:51:29Z", "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java", "diffHunk": "@@ -8,7 +8,6 @@\n import java.sql.SQLException;", "originalCommit": "cebd5be813931ba0648785e10c2bc9b44bcd07d7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUxNTQyNw==", "url": "https://github.com/Taskana/taskana/pull/1346#discussion_r528515427", "bodyText": "First time I ever saw this class :)", "author": "gitgoodjhe", "createdAt": "2020-11-23T07:48:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkwNjYzMg=="}], "type": "inlineReview", "revised_code": {"commit": "86c01d4bea8d80544975b08975558612c94ab636", "chunk": "diff --git a/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java b/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\nindex 899c30c97..3dbaa85ea 100644\n--- a/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\n+++ b/rest/taskana-rest-spring/src/test/java/pro/taskana/common/rest/TestSchemaNameCustomizable.java\n\n@@ -8,6 +8,7 @@ import java.sql.ResultSet;\n import java.sql.SQLException;\n import java.util.Locale;\n import javax.sql.DataSource;\n+import org.assertj.core.api.Assumptions;\n import org.junit.jupiter.api.Test;\n import org.springframework.beans.factory.annotation.Autowired;\n \n"}}, {"oid": "86c01d4bea8d80544975b08975558612c94ab636", "url": "https://github.com/Taskana/taskana/commit/86c01d4bea8d80544975b08975558612c94ab636", "message": "TSK-1239: All tests now working with Assertj instead of junit Assertion.", "committedDate": "2020-12-01T09:24:05Z", "type": "commit"}]}