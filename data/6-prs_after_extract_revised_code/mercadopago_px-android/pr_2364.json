{"pr_number": 2364, "pr_title": "[fix] throw error view instead of exception", "pr_createdAt": "2020-10-22T14:15:19Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2364", "timeline": [{"oid": "0186bfd3963502f97bd5ab9d237ce0c2a4579565", "url": "https://github.com/mercadopago/px-android/commit/0186bfd3963502f97bd5ab9d237ce0c2a4579565", "message": "* Throw error view instead of exception", "committedDate": "2020-10-22T14:14:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDIxMTg3Mg==", "url": "https://github.com/mercadopago/px-android/pull/2364#discussion_r510211872", "bodyText": "Cambialo por el nonNull si no es mucha molestia", "author": "guchito9", "createdAt": "2020-10-22T14:32:55Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ErrorUtil.java", "diffHunk": "@@ -40,17 +41,21 @@ public static void startErrorActivity(final Activity launcherActivity, final Str\n         startErrorActivity(launcherActivity, mercadoPagoError);\n     }\n \n-    public static void startErrorActivity(final Activity launcherActivity,\n-        @Nullable final MercadoPagoError mercadoPagoError) {\n-        final String publicKey =\n-            Session.getInstance()\n-                .getConfigurationModule().getPaymentSettings()\n-                .getPublicKey();\n+    public static void startErrorActivity(@NonNull final Activity activity, @Nullable final MercadoPagoError error) {\n+        activity.startActivityForResult(getIntent(activity, error), ERROR_REQUEST_CODE);\n+    }\n+\n+    public static void startErrorActivity(@NonNull final Fragment fragment, @Nullable final MercadoPagoError error) {\n+        if (fragment.getContext() != null) {\n+            fragment.startActivityForResult(getIntent(fragment.getContext(), error), ERROR_REQUEST_CODE);\n+        }\n+    }\n \n-        final Intent intent = new Intent(launcherActivity, ErrorActivity.class);\n-        intent.putExtra(EXTRA_ERROR, mercadoPagoError);\n-        intent.putExtra(PUBLIC_KEY_EXTRA, publicKey);\n-        launcherActivity.startActivityForResult(intent, ERROR_REQUEST_CODE);\n+    @NotNull", "originalCommit": "0186bfd3963502f97bd5ab9d237ce0c2a4579565", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDIxNjc2MA==", "url": "https://github.com/mercadopago/px-android/pull/2364#discussion_r510216760", "bodyText": "para nada", "author": "cgaggino", "createdAt": "2020-10-22T14:38:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDIxMTg3Mg=="}], "type": "inlineReview", "revised_code": {"commit": "f5be49aced7cfd2fb8b237113a90574c9157576c", "chunk": "diff --git a/px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ErrorUtil.java b/px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ErrorUtil.java\nindex fb2af8acf..16b86260d 100644\n--- a/px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ErrorUtil.java\n+++ b/px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ErrorUtil.java\n\n@@ -51,7 +50,7 @@ public final class ErrorUtil {\n         }\n     }\n \n-    @NotNull\n+    @NonNull\n     private static Intent getIntent(@NonNull final Context context, @Nullable final MercadoPagoError error) {\n         final Intent intent = new Intent(context, ErrorActivity.class);\n         intent.putExtra(EXTRA_ERROR, error);\n"}}, {"oid": "f5be49aced7cfd2fb8b237113a90574c9157576c", "url": "https://github.com/mercadopago/px-android/commit/f5be49aced7cfd2fb8b237113a90574c9157576c", "message": "* Fixed tests", "committedDate": "2020-10-22T14:40:59Z", "type": "commit"}, {"oid": "f5be49aced7cfd2fb8b237113a90574c9157576c", "url": "https://github.com/mercadopago/px-android/commit/f5be49aced7cfd2fb8b237113a90574c9157576c", "message": "* Fixed tests", "committedDate": "2020-10-22T14:40:59Z", "type": "forcePushed"}]}