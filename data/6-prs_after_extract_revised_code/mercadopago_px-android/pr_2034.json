{"pr_number": 2034, "pr_title": "Added conversion track to congrats", "pr_createdAt": "2020-02-10T20:34:09Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2034", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMwNzIxNw==", "url": "https://github.com/mercadopago/px-android/pull/2034#discussion_r377307217", "bodyText": "No podemos hacer algo similar al isSuccess del helper con el rejected y escribir este metodo una sola vez?", "author": "cgaggino", "createdAt": "2020-02-10T20:47:52Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java", "diffHunk": "@@ -56,6 +59,15 @@ public PaymentReward getPaymentReward() {\n         return paymentReward;\n     }\n \n+    public FlowBehaviour.Result getFlowResult() {\n+        if (StatusHelper.isSuccess(payment)) {\n+            return FlowBehaviour.Result.SUCCESS;\n+        } else if (Payment.StatusCodes.STATUS_REJECTED.equals(payment.getPaymentStatus())) {", "originalCommit": "ca63307fe8232245c284e1e9b3f93d218dcef8c1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2407c570746403e3166a24ffcc7861bb2be7fee7", "chunk": "diff --git a/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java b/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java\nindex 5bffc014b..6363e01a9 100644\n--- a/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java\n+++ b/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java\n\n@@ -62,7 +62,7 @@ public class PaymentModel implements Parcelable {\n     public FlowBehaviour.Result getFlowResult() {\n         if (StatusHelper.isSuccess(payment)) {\n             return FlowBehaviour.Result.SUCCESS;\n-        } else if (Payment.StatusCodes.STATUS_REJECTED.equals(payment.getPaymentStatus())) {\n+        } else if (StatusHelper.isRejected(payment)) {\n             return FlowBehaviour.Result.FAILURE;\n         }\n         return FlowBehaviour.Result.PENDING;\n"}}, {"oid": "2407c570746403e3166a24ffcc7861bb2be7fee7", "url": "https://github.com/mercadopago/px-android/commit/2407c570746403e3166a24ffcc7861bb2be7fee7", "message": "Added conversion track to congrats", "committedDate": "2020-02-10T20:59:50Z", "type": "forcePushed"}, {"oid": "e599ba89481a269327e048eaba9ff85092a2c1ca", "url": "https://github.com/mercadopago/px-android/commit/e599ba89481a269327e048eaba9ff85092a2c1ca", "message": "Added conversion track to congrats", "committedDate": "2020-02-10T21:05:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU4NzAzNA==", "url": "https://github.com/mercadopago/px-android/pull/2034#discussion_r377587034", "bodyText": "PaymentModel deber\u00eda conocer FlowBehaviour?  No se puede delegar esta evaluaci\u00f3n a otro objeto?", "author": "jorGonzalez291292", "createdAt": "2020-02-11T11:48:27Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java", "diffHunk": "@@ -56,6 +58,15 @@ public PaymentReward getPaymentReward() {\n         return paymentReward;\n     }\n \n+    public FlowBehaviour.Result getFlowResult() {", "originalCommit": "e599ba89481a269327e048eaba9ff85092a2c1ca", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "837e1059309b5b5e7a7c945106d75f11462db07a", "chunk": "diff --git a/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java b/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java\nindex c60068bd2..c360bf718 100644\n--- a/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java\n+++ b/px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/PaymentModel.java\n\n@@ -58,15 +56,6 @@ public class PaymentModel implements Parcelable {\n         return paymentReward;\n     }\n \n-    public FlowBehaviour.Result getFlowResult() {\n-        if (StatusHelper.isSuccess(payment)) {\n-            return FlowBehaviour.Result.SUCCESS;\n-        } else if (StatusHelper.isRejected(payment)) {\n-            return FlowBehaviour.Result.FAILURE;\n-        }\n-        return FlowBehaviour.Result.PENDING;\n-    }\n-\n     /* default */ PaymentModel(final Parcel in) {\n         payment = (IPaymentDescriptor) in.readSerializable();\n         paymentResult = (PaymentResult) in.readSerializable();\n"}}, {"oid": "837e1059309b5b5e7a7c945106d75f11462db07a", "url": "https://github.com/mercadopago/px-android/commit/837e1059309b5b5e7a7c945106d75f11462db07a", "message": "Added conversion track to congrats", "committedDate": "2020-02-11T18:11:54Z", "type": "commit"}, {"oid": "837e1059309b5b5e7a7c945106d75f11462db07a", "url": "https://github.com/mercadopago/px-android/commit/837e1059309b5b5e7a7c945106d75f11462db07a", "message": "Added conversion track to congrats", "committedDate": "2020-02-11T18:11:54Z", "type": "forcePushed"}]}