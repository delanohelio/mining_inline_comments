{"pr_number": 8187, "pr_title": "IGNITE-13218 fixed. importComparator added to TreeSet to provide core\u2026", "pr_createdAt": "2020-08-25T13:42:48Z", "pr_url": "https://github.com/apache/ignite/pull/8187", "timeline": [{"oid": "d5f91b9afa39cc9d4173524e53b4e14cc5de594a", "url": "https://github.com/apache/ignite/commit/d5f91b9afa39cc9d4173524e53b4e14cc5de594a", "message": "IGNITE-13218 fixed. importComparator added to TreeSet to provide corect order of packages", "committedDate": "2020-08-25T13:33:31Z", "type": "commit"}, {"oid": "a2ae0c6dfbe14906761c30bbd0722808f32b7be5", "url": "https://github.com/apache/ignite/commit/a2ae0c6dfbe14906761c30bbd0722808f32b7be5", "message": "code style fixed(empty line removed)", "committedDate": "2020-08-26T05:10:01Z", "type": "commit"}, {"oid": "6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5", "url": "https://github.com/apache/ignite/commit/6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5", "message": "Merge branch 'master' into IGNITE-13218", "committedDate": "2020-08-26T05:10:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU2ODAzMw==", "url": "https://github.com/apache/ignite/pull/8187#discussion_r477568033", "bodyText": "@aleksey-kurinov There is typo in the var name. There is no white space between parameters. (See CodingGuidelines)\nI suggest to pass comparator to the constructor parameter:\nnew TreeSet<>(Comparator.comparing(s -> s.replace(\";\", \"\")))", "author": "NSAmelchev", "createdAt": "2020-08-26T20:25:20Z", "path": "modules/codegen/src/main/java/org/apache/ignite/codegen/SystemViewRowAttributeWalkerGenerator.java", "diffHunk": "@@ -148,7 +148,8 @@ public static void main(String[] args) throws Exception {\n      */\n     private <T> Collection<String> generate(Class<T> clazz) {\n         final List<String> code = new ArrayList<>();\n-        final Set<String> imports = new TreeSet<>();\n+        Comparator<String> importComparatror = (s1, s2) -> s1.replace(\";\",\"\").compareTo(s2.replace(\";\",\"\"));", "originalCommit": "6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6d2c1deeea9dddde8f78519435feb02851dbcfa9", "chunk": "diff --git a/modules/codegen/src/main/java/org/apache/ignite/codegen/SystemViewRowAttributeWalkerGenerator.java b/modules/codegen/src/main/java/org/apache/ignite/codegen/SystemViewRowAttributeWalkerGenerator.java\nindex 2a5da0f396..9f6043b145 100644\n--- a/modules/codegen/src/main/java/org/apache/ignite/codegen/SystemViewRowAttributeWalkerGenerator.java\n+++ b/modules/codegen/src/main/java/org/apache/ignite/codegen/SystemViewRowAttributeWalkerGenerator.java\n\n@@ -148,8 +148,7 @@ public class SystemViewRowAttributeWalkerGenerator {\n      */\n     private <T> Collection<String> generate(Class<T> clazz) {\n         final List<String> code = new ArrayList<>();\n-        Comparator<String> importComparatror = (s1, s2) -> s1.replace(\";\",\"\").compareTo(s2.replace(\";\",\"\"));\n-        final Set<String> imports = new TreeSet<>(importComparatror);\n+        final Set<String> imports = new TreeSet<>(Comparator.comparing(s -> s.replace(\";\", \"\")));\n \n         addImport(imports, SystemViewRowAttributeWalker.class);\n         addImport(imports, clazz);\n"}}, {"oid": "6d2c1deeea9dddde8f78519435feb02851dbcfa9", "url": "https://github.com/apache/ignite/commit/6d2c1deeea9dddde8f78519435feb02851dbcfa9", "message": "code cleaned up. Comparator function replaced with Comparator.comparing in TreeSet constructor", "committedDate": "2020-08-27T06:53:54Z", "type": "commit"}, {"oid": "5ffbc6336a95d685c71f4cedd52a520bcc0fb3c6", "url": "https://github.com/apache/ignite/commit/5ffbc6336a95d685c71f4cedd52a520bcc0fb3c6", "message": "Merge branch 'master' into IGNITE-13218", "committedDate": "2020-08-27T06:54:57Z", "type": "commit"}]}