{"pr_number": 4013, "pr_title": "[risk=high][RW-5478] Admin View Notebook page", "pr_createdAt": "2020-09-16T14:29:13Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4013", "timeline": [{"oid": "1009088ab4d797ed06621b6ea596d2b902b9e942", "url": "https://github.com/all-of-us/workbench/commit/1009088ab4d797ed06621b6ea596d2b902b9e942", "message": "Remove workspaceName parameter from adminReadOnlyNotebook", "committedDate": "2020-09-16T12:19:58Z", "type": "commit"}, {"oid": "3f8efebb9bc733a72ed7a758570294e6883aa7df", "url": "https://github.com/all-of-us/workbench/commit/3f8efebb9bc733a72ed7a758570294e6883aa7df", "message": "AdminNotebookView", "committedDate": "2020-09-16T12:19:59Z", "type": "commit"}, {"oid": "561345411f4776af9bf4b3f0f599dd8f8e74fb73", "url": "https://github.com/all-of-us/workbench/commit/561345411f4776af9bf4b3f0f599dd8f8e74fb73", "message": "basically works!", "committedDate": "2020-09-16T12:19:59Z", "type": "commit"}, {"oid": "b4b648d92de3879e108525af2b1c8e8de50a250c", "url": "https://github.com/all-of-us/workbench/commit/b4b648d92de3879e108525af2b1c8e8de50a250c", "message": "add header", "committedDate": "2020-09-16T13:05:19Z", "type": "commit"}, {"oid": "11823c188c0cb9a763edfa371cf1b25bc34e441b", "url": "https://github.com/all-of-us/workbench/commit/11823c188c0cb9a763edfa371cf1b25bc34e441b", "message": "cleanup", "committedDate": "2020-09-16T13:13:23Z", "type": "commit"}, {"oid": "9b3f464626c75e47c6dcd8b4d46eb73483675fe5", "url": "https://github.com/all-of-us/workbench/commit/9b3f464626c75e47c6dcd8b4d46eb73483675fe5", "message": "Error on no accessQuery param", "committedDate": "2020-09-16T13:35:04Z", "type": "commit"}, {"oid": "e009c9ab1a0e1d6d0fab4e2a4ee42a9befe5494e", "url": "https://github.com/all-of-us/workbench/commit/e009c9ab1a0e1d6d0fab4e2a4ee42a9befe5494e", "message": "reuse errorMessage", "committedDate": "2020-09-16T13:43:04Z", "type": "commit"}, {"oid": "e70fbbb3dfb2fcddce2c3145cea72a46cc278eeb", "url": "https://github.com/all-of-us/workbench/commit/e70fbbb3dfb2fcddce2c3145cea72a46cc278eeb", "message": "combine effects and add spinner", "committedDate": "2020-09-16T14:27:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4MzYzNg==", "url": "https://github.com/all-of-us/workbench/pull/4013#discussion_r489483636", "bodyText": "Workspace name (firecloud name, no spaces) is not strictly necessary, and is also not immediately available to the UI page", "author": "jmthibault79", "createdAt": "2020-09-16T14:30:35Z", "path": "api/src/main/java/org/pmiops/workbench/api/WorkspaceAdminController.java", "diffHunk": "@@ -59,13 +59,9 @@ public WorkspaceAdminController(WorkspaceAdminService workspaceAdminService) {\n   @Override\n   @AuthorityRequired({Authority.RESEARCHER_DATA_VIEW})\n   public ResponseEntity<ReadOnlyNotebookResponse> adminReadOnlyNotebook(\n-      String workspaceNamespace,\n-      String workspaceName,\n-      String notebookName,\n-      AccessReason accessReason) {\n+      String workspaceNamespace, String notebookName, AccessReason accessReason) {", "originalCommit": "e70fbbb3dfb2fcddce2c3145cea72a46cc278eeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTczODcyNg==", "url": "https://github.com/all-of-us/workbench/pull/4013#discussion_r489738726", "bodyText": "interesting.", "author": "jaycarlton", "createdAt": "2020-09-16T20:35:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4MzYzNg=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4NDYwNA==", "url": "https://github.com/all-of-us/workbench/pull/4013#discussion_r489484604", "bodyText": "split out as a method because it's now needed in 3 places", "author": "jmthibault79", "createdAt": "2020-09-16T14:31:48Z", "path": "api/src/main/java/org/pmiops/workbench/workspaceadmin/WorkspaceAdminServiceImpl.java", "diffHunk": "@@ -162,12 +162,7 @@ public CloudStorageTraffic getCloudStorageTraffic(String workspaceNamespace) {\n \n   @Override\n   public WorkspaceAdminView getWorkspaceAdminView(String workspaceNamespace) {\n-    final DbWorkspace dbWorkspace =\n-        getFirstWorkspaceByNamespace(workspaceNamespace)\n-            .orElseThrow(\n-                () ->\n-                    new NotFoundException(\n-                        String.format(\"No workspace found for namespace %s\", workspaceNamespace)));\n+    final DbWorkspace dbWorkspace = getWorkspaceByNamespaceOrThrow(workspaceNamespace);", "originalCommit": "e70fbbb3dfb2fcddce2c3145cea72a46cc278eeb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "16bb1f02355ac162836fc41a24c44bc638937f2f", "url": "https://github.com/all-of-us/workbench/commit/16bb1f02355ac162836fc41a24c44bc638937f2f", "message": "unused", "committedDate": "2020-09-16T14:37:06Z", "type": "commit"}, {"oid": "2584a0cc85452e414dcfcae8b8f8df31020a01e9", "url": "https://github.com/all-of-us/workbench/commit/2584a0cc85452e414dcfcae8b8f8df31020a01e9", "message": "comment for reactRouterUrlSearchParams", "committedDate": "2020-09-16T14:42:36Z", "type": "commit"}, {"oid": "3d4633e26949c63ae952cb02d77391a5b5478919", "url": "https://github.com/all-of-us/workbench/commit/3d4633e26949c63ae952cb02d77391a5b5478919", "message": "lint", "committedDate": "2020-09-16T14:43:55Z", "type": "commit"}, {"oid": "051e1311bd6482a30be40e55ae77f7d41c8fa99b", "url": "https://github.com/all-of-us/workbench/commit/051e1311bd6482a30be40e55ae77f7d41c8fa99b", "message": "Don't show spinner and error message at the same time", "committedDate": "2020-09-16T17:55:42Z", "type": "commit"}, {"oid": "0a7411157f5b34ac3dc35c69cff619489996026c", "url": "https://github.com/all-of-us/workbench/commit/0a7411157f5b34ac3dc35c69cff619489996026c", "message": "init state vars to emptystring", "committedDate": "2020-09-16T21:30:01Z", "type": "commit"}, {"oid": "a11863bda2d388bed7c99d4b0734ed6ffc6ac3aa", "url": "https://github.com/all-of-us/workbench/commit/a11863bda2d388bed7c99d4b0734ed6ffc6ac3aa", "message": "notebookName", "committedDate": "2020-09-16T21:31:07Z", "type": "commit"}, {"oid": "47bc440c9ed54a2fc61744db7d317decfe9a913f", "url": "https://github.com/all-of-us/workbench/commit/47bc440c9ed54a2fc61744db7d317decfe9a913f", "message": "move accessReason to next line", "committedDate": "2020-09-16T21:41:14Z", "type": "commit"}, {"oid": "c51d50ed023c2ae64d52413c3da1280d5d2db0be", "url": "https://github.com/all-of-us/workbench/commit/c51d50ed023c2ae64d52413c3da1280d5d2db0be", "message": "update error styling and workspace text", "committedDate": "2020-09-17T15:14:37Z", "type": "commit"}, {"oid": "b98778bf935b0ffaad1d3acc788850c3394e51da", "url": "https://github.com/all-of-us/workbench/commit/b98778bf935b0ffaad1d3acc788850c3394e51da", "message": "90% whiteness", "committedDate": "2020-09-17T15:16:46Z", "type": "commit"}]}