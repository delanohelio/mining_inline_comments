{"pr_number": 3041, "pr_title": "[RW-4247][risk=no] Reworking Concept Set Builder to include PM and Surveys", "pr_createdAt": "2020-01-24T20:28:09Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3041", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgzMTEzMw==", "url": "https://github.com/all-of-us/workbench/pull/3041#discussion_r370831133", "bodyText": "Eventually i think we will be replacing DbConcept with DbCriteria", "author": "freemabd", "createdAt": "2020-01-24T20:36:22Z", "path": "common-api/src/main/java/org/pmiops/workbench/cdr/model/DbConcept.java", "diffHunk": "@@ -49,6 +47,33 @@ public DbConcept(DbConcept a) {\n         .synonymsStr(a.getSynonymsStr());\n   }\n \n+  // Used from JQL queries in DbConcept", "originalCommit": "497286ae029184300bbb9c0bde9b4c28d4e85bfc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg2NDM2MA==", "url": "https://github.com/all-of-us/workbench/pull/3041#discussion_r370864360", "bodyText": "Good to know", "author": "dolbeew", "createdAt": "2020-01-24T22:08:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDgzMTEzMw=="}], "type": "inlineReview", "revised_code": {"commit": "2cee0f103d7fde538bf42d37de883ddea877277f", "chunk": "diff --git a/common-api/src/main/java/org/pmiops/workbench/cdr/model/DbConcept.java b/common-api/src/main/java/org/pmiops/workbench/cdr/model/DbConcept.java\nindex faee95945..892b52a8b 100644\n--- a/common-api/src/main/java/org/pmiops/workbench/cdr/model/DbConcept.java\n+++ b/common-api/src/main/java/org/pmiops/workbench/cdr/model/DbConcept.java\n\n@@ -47,33 +49,6 @@ public class DbConcept {\n         .synonymsStr(a.getSynonymsStr());\n   }\n \n-  // Used from JQL queries in DbConcept\n-  public DbConcept(\n-      long conceptId,\n-      String conceptName,\n-      String standardConcept,\n-      String conceptCode,\n-      String conceptClassId,\n-      String vocabularyId,\n-      String domainId,\n-      long countValue,\n-      long sourceCountValue,\n-      float prevalence,\n-      String synonymsStr) {\n-    this.conceptId = conceptId;\n-    this.conceptName = conceptName;\n-    this.standardConcept = standardConcept;\n-    this.conceptCode = conceptCode;\n-    this.conceptClassId = conceptClassId;\n-    this.vocabularyId = vocabularyId;\n-    this.domainId = domainId;\n-    this.countValue = countValue;\n-    this.sourceCountValue = sourceCountValue;\n-    this.prevalence = prevalence;\n-    this.synonymsStr = synonymsStr;\n-    this.synonyms = new ArrayList<>();\n-  }\n-\n   @Id\n   @Column(name = \"concept_id\")\n   public long getConceptId() {\n"}}, {"oid": "2cee0f103d7fde538bf42d37de883ddea877277f", "url": "https://github.com/all-of-us/workbench/commit/2cee0f103d7fde538bf42d37de883ddea877277f", "message": "RW-4247 refactor.", "committedDate": "2020-01-27T16:13:07Z", "type": "commit"}, {"oid": "6e90f024034497e489213041b9d83ee7e5ff11a1", "url": "https://github.com/all-of-us/workbench/commit/6e90f024034497e489213041b9d83ee7e5ff11a1", "message": "RW-4247 updating standard check and rename of concept to dbConcept.", "committedDate": "2020-01-27T16:13:07Z", "type": "commit"}, {"oid": "70c531fce6a5d16c0939251da05413aef2e1df3b", "url": "https://github.com/all-of-us/workbench/commit/70c531fce6a5d16c0939251da05413aef2e1df3b", "message": "RW-4247 removing unused code in ConceptBigQueryService.", "committedDate": "2020-01-27T16:13:07Z", "type": "commit"}, {"oid": "130b0f7a123ce093f39762a970cd5187c5820274", "url": "https://github.com/all-of-us/workbench/commit/130b0f7a123ce093f39762a970cd5187c5820274", "message": "RW-4247 cleanup.", "committedDate": "2020-01-27T16:13:07Z", "type": "commit"}, {"oid": "5b80e1bd1fc5b66666c15921235c0cefbded3a90", "url": "https://github.com/all-of-us/workbench/commit/5b80e1bd1fc5b66666c15921235c0cefbded3a90", "message": "RW-4247 cleanup.", "committedDate": "2020-01-27T16:13:07Z", "type": "commit"}, {"oid": "5aa0eb1503aec9e0eaa3bd014b6d35439c3991ef", "url": "https://github.com/all-of-us/workbench/commit/5aa0eb1503aec9e0eaa3bd014b6d35439c3991ef", "message": "Rw-4247 cleanup.", "committedDate": "2020-01-27T16:13:07Z", "type": "commit"}, {"oid": "1e5678e111406f4e7ee455a4e79425a75e1b796a", "url": "https://github.com/all-of-us/workbench/commit/1e5678e111406f4e7ee455a4e79425a75e1b796a", "message": "RW-4247 refactor.", "committedDate": "2020-01-27T16:24:58Z", "type": "commit"}, {"oid": "f4383242292ff9a525e0df3e8b9bb6f2b056f9c4", "url": "https://github.com/all-of-us/workbench/commit/f4383242292ff9a525e0df3e8b9bb6f2b056f9c4", "message": "RW-4247 update concept ui for new api calls", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "da8ab90c5b38133c2c9bf25f950b44a3d3006d0d", "url": "https://github.com/all-of-us/workbench/commit/da8ab90c5b38133c2c9bf25f950b44a3d3006d0d", "message": "RW-4247 fix concept ui tests", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "2640375e5606ac923ddaf8c04c7bf54dcc1630f1", "url": "https://github.com/all-of-us/workbench/commit/2640375e5606ac923ddaf8c04c7bf54dcc1630f1", "message": "RW-4247 adding survey.", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "62a16426e5380bb50c84027c2107ce5491508540", "url": "https://github.com/all-of-us/workbench/commit/62a16426e5380bb50c84027c2107ce5491508540", "message": "RW-4247 fix editing of survey concept sets", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "4965dfd3617a119476c9b69519d465c31ac40dc2", "url": "https://github.com/all-of-us/workbench/commit/4965dfd3617a119476c9b69519d465c31ac40dc2", "message": "RW-4247 adding survey_module change.", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "0f5603861693777e89a24285cf8de2f7a44e076a", "url": "https://github.com/all-of-us/workbench/commit/0f5603861693777e89a24285cf8de2f7a44e076a", "message": "RW-4247 fix survey detail display", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "f345f80d37950dd31425f92982553b5ed1fb7ebe", "url": "https://github.com/all-of-us/workbench/commit/f345f80d37950dd31425f92982553b5ed1fb7ebe", "message": "RW-4247 adding fixes for PM.", "committedDate": "2020-01-27T16:26:52Z", "type": "commit"}, {"oid": "f50cc95d24680ceed0d6497cc60075a4c2420b26", "url": "https://github.com/all-of-us/workbench/commit/f50cc95d24680ceed0d6497cc60075a4c2420b26", "message": "RW-4247 fixing tests.", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "b7e007be4b3319ff6a16110c1665fc8e6c847d6c", "url": "https://github.com/all-of-us/workbench/commit/b7e007be4b3319ff6a16110c1665fc8e6c847d6c", "message": "RW-4247 fixing ui test cases.", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "356a756613f59df731e046a521b8ae6c83657550", "url": "https://github.com/all-of-us/workbench/commit/356a756613f59df731e046a521b8ae6c83657550", "message": "RW-4247 fix editing for PM concept sets", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "18ecfcd4bcee9826baffaba62725667a8a1527c7", "url": "https://github.com/all-of-us/workbench/commit/18ecfcd4bcee9826baffaba62725667a8a1527c7", "message": "RW-4247 fix ui test", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "69c60fd49053a87ab5f4716a043e9d69f5430871", "url": "https://github.com/all-of-us/workbench/commit/69c60fd49053a87ab5f4716a043e9d69f5430871", "message": "RW-4247 fixing counts on PM/Surveys.", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "7452a5ed07a23569ce25a4fb7bb23a10c6886958", "url": "https://github.com/all-of-us/workbench/commit/7452a5ed07a23569ce25a4fb7bb23a10c6886958", "message": "RW-4247 fixing test case.", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "b6faa57efdd55d6f7650497cfa54eec4be8e44d6", "url": "https://github.com/all-of-us/workbench/commit/b6faa57efdd55d6f7650497cfa54eec4be8e44d6", "message": "RW-4247 fix redirect after deleting a concept set", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "d5045d48c500577eb9f31bd63833ee01e6dbd35d", "url": "https://github.com/all-of-us/workbench/commit/d5045d48c500577eb9f31bd63833ee01e6dbd35d", "message": "RW-4247 remove feature flag for surveys", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "6babc916ab913a187c4d50a82192f1f207fbb5d5", "url": "https://github.com/all-of-us/workbench/commit/6babc916ab913a187c4d50a82192f1f207fbb5d5", "message": "RW-4247 disable feature flag in test env", "committedDate": "2020-01-27T16:26:53Z", "type": "commit"}, {"oid": "6babc916ab913a187c4d50a82192f1f207fbb5d5", "url": "https://github.com/all-of-us/workbench/commit/6babc916ab913a187c4d50a82192f1f207fbb5d5", "message": "RW-4247 disable feature flag in test env", "committedDate": "2020-01-27T16:26:53Z", "type": "forcePushed"}]}