{"pr_number": 3211, "pr_title": "[RW-4242][Risk=moderate] Remove common api", "pr_createdAt": "2020-03-03T19:18:26Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3211", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc2OTQ5MA==", "url": "https://github.com/all-of-us/workbench/pull/3211#discussion_r387769490", "bodyText": "The cbCriteriaDao seemed unused, so I removed it here.", "author": "s-rubenstein", "createdAt": "2020-03-04T16:08:23Z", "path": "api/src/bigquerytest/java/org/pmiops/workbench/cdr/ConceptBigQueryServiceTest.java", "diffHunk": "@@ -59,8 +56,7 @@ public void setUp() {\n     cdrVersion.setBigqueryProject(testWorkbenchConfig.bigquery.projectId);\n     CdrVersionContext.setCdrVersionNoCheckAuthDomain(cdrVersion);\n \n-    ConceptService conceptService =\n-        new ConceptService(conceptDao, domainInfoDao, surveyModuleDao, cbCriteriaDao);\n+    ConceptService conceptService = new ConceptService(conceptDao, domainInfoDao, surveyModuleDao);", "originalCommit": "20314df5b05a5c6b4d873580243790742f10e767", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4f9bc7914d4dfa938ded75b4abec72819963fcce", "chunk": "diff --git a/api/src/bigquerytest/java/org/pmiops/workbench/cdr/ConceptBigQueryServiceTest.java b/api/src/bigquerytest/java/org/pmiops/workbench/cdr/ConceptBigQueryServiceTest.java\nindex 328312485..f6e7cc12e 100644\n--- a/api/src/bigquerytest/java/org/pmiops/workbench/cdr/ConceptBigQueryServiceTest.java\n+++ b/api/src/bigquerytest/java/org/pmiops/workbench/cdr/ConceptBigQueryServiceTest.java\n\n@@ -56,7 +55,8 @@ public class ConceptBigQueryServiceTest extends BigQueryBaseTest {\n     cdrVersion.setBigqueryProject(testWorkbenchConfig.bigquery.projectId);\n     CdrVersionContext.setCdrVersionNoCheckAuthDomain(cdrVersion);\n \n-    ConceptService conceptService = new ConceptService(conceptDao, domainInfoDao, surveyModuleDao);\n+    ConceptService conceptService =\n+        new ConceptService(conceptDao, domainInfoDao, surveyModuleDao, cbCriteriaDao);\n     conceptBigQueryService =\n         new ConceptBigQueryService(bigQueryService, cdrBigQuerySchemaConfigService, conceptService);\n \n"}}, {"oid": "4f9bc7914d4dfa938ded75b4abec72819963fcce", "url": "https://github.com/all-of-us/workbench/commit/4f9bc7914d4dfa938ded75b4abec72819963fcce", "message": "Remove common api", "committedDate": "2020-03-04T16:12:31Z", "type": "commit"}, {"oid": "a8120585b9b6cf16e4c3a1f64ed7197f41e1e580", "url": "https://github.com/all-of-us/workbench/commit/a8120585b9b6cf16e4c3a1f64ed7197f41e1e580", "message": "Attempt test fix", "committedDate": "2020-03-04T16:12:31Z", "type": "commit"}, {"oid": "89c3e94e28934dbed8731705ecd02354704baa37", "url": "https://github.com/all-of-us/workbench/commit/89c3e94e28934dbed8731705ecd02354704baa37", "message": "Fix tests again", "committedDate": "2020-03-04T16:12:31Z", "type": "commit"}, {"oid": "e702d74c7ab9de2719be9927f571750a8ff6b021", "url": "https://github.com/all-of-us/workbench/commit/e702d74c7ab9de2719be9927f571750a8ff6b021", "message": "Fix bigquery tests", "committedDate": "2020-03-04T16:12:31Z", "type": "commit"}, {"oid": "bdebdf5e506a28e6c1d83bc03c25011ad39443f5", "url": "https://github.com/all-of-us/workbench/commit/bdebdf5e506a28e6c1d83bc03c25011ad39443f5", "message": "Fix spotless", "committedDate": "2020-03-04T16:12:31Z", "type": "commit"}, {"oid": "bdebdf5e506a28e6c1d83bc03c25011ad39443f5", "url": "https://github.com/all-of-us/workbench/commit/bdebdf5e506a28e6c1d83bc03c25011ad39443f5", "message": "Fix spotless", "committedDate": "2020-03-04T16:12:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc3MDI5Mw==", "url": "https://github.com/all-of-us/workbench/pull/3211#discussion_r387770293", "bodyText": "Pls undo this change (& update IntelliJ settings to avoid star-imports... which reminds me, I'd still like to package a \"AoU IntelliJ settings\" file to make it easier for us to have a canonical set of configs we can all rely on)", "author": "gjuggler", "createdAt": "2020-03-04T16:09:34Z", "path": "api/src/test/java/org/pmiops/workbench/workspaces/WorkspacesControllerTest.java", "diffHunk": "@@ -10,16 +10,7 @@\n import static org.mockito.ArgumentMatchers.anyMap;\n import static org.mockito.ArgumentMatchers.argThat;\n import static org.mockito.ArgumentMatchers.eq;\n-import static org.mockito.Mockito.any;\n-import static org.mockito.Mockito.anyString;\n-import static org.mockito.Mockito.doReturn;\n-import static org.mockito.Mockito.doThrow;\n-import static org.mockito.Mockito.mock;\n-import static org.mockito.Mockito.never;\n-import static org.mockito.Mockito.times;\n-import static org.mockito.Mockito.verify;\n-import static org.mockito.Mockito.verifyZeroInteractions;\n-import static org.mockito.Mockito.when;\n+import static org.mockito.Mockito.*;", "originalCommit": "20314df5b05a5c6b4d873580243790742f10e767", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQzOTI5Mw==", "url": "https://github.com/all-of-us/workbench/pull/3211#discussion_r388439293", "bodyText": "I thought Mockito was whitelisted.", "author": "jaycarlton", "createdAt": "2020-03-05T17:14:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzc3MDI5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "4f9bc7914d4dfa938ded75b4abec72819963fcce", "chunk": "diff --git a/api/src/test/java/org/pmiops/workbench/workspaces/WorkspacesControllerTest.java b/api/src/test/java/org/pmiops/workbench/workspaces/WorkspacesControllerTest.java\nindex 1a29effbf..8289786d9 100644\n--- a/api/src/test/java/org/pmiops/workbench/workspaces/WorkspacesControllerTest.java\n+++ b/api/src/test/java/org/pmiops/workbench/workspaces/WorkspacesControllerTest.java\n\n@@ -10,7 +10,15 @@ import static org.mockito.ArgumentMatchers.anyLong;\n import static org.mockito.ArgumentMatchers.anyMap;\n import static org.mockito.ArgumentMatchers.argThat;\n import static org.mockito.ArgumentMatchers.eq;\n-import static org.mockito.Mockito.*;\n+import static org.mockito.Mockito.any;\n+import static org.mockito.Mockito.anyString;\n+import static org.mockito.Mockito.doReturn;\n+import static org.mockito.Mockito.doThrow;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.never;\n+import static org.mockito.Mockito.times;\n+import static org.mockito.Mockito.verify;\n+import static org.mockito.Mockito.when;\n import static org.pmiops.workbench.api.ConceptsControllerTest.makeConcept;\n import static org.pmiops.workbench.billing.GoogleApisConfig.END_USER_CLOUD_BILLING;\n import static org.pmiops.workbench.billing.GoogleApisConfig.SERVICE_ACCOUNT_CLOUD_BILLING;\n"}}, {"oid": "c71502c1a32bff3fcd11a5f7fa23e228e0446416", "url": "https://github.com/all-of-us/workbench/commit/c71502c1a32bff3fcd11a5f7fa23e228e0446416", "message": "Remove * imports", "committedDate": "2020-03-04T17:01:25Z", "type": "commit"}]}