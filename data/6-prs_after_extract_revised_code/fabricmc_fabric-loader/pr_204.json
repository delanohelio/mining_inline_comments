{"pr_number": 204, "pr_title": "Clean up mod resolution error messages", "pr_createdAt": "2020-02-13T07:46:34Z", "pr_url": "https://github.com/FabricMC/fabric-loader/pull/204", "timeline": [{"oid": "66e0f436e350e8806d83ff541a6001109ab8336c", "url": "https://github.com/FabricMC/fabric-loader/commit/66e0f436e350e8806d83ff541a6001109ab8336c", "message": "start whacking at the confusing error messages in loader", "committedDate": "2020-02-13T07:35:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NjUyNw==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378696527", "bodyText": "How about printing the problem?", "author": "liach", "createdAt": "2020-02-13T07:48:21Z", "path": "src/main/java/net/fabricmc/loader/discovery/ModResolver.java", "diffHunk": "@@ -220,7 +222,10 @@ private static IVecInt toVecInt(IntStream stream) {\n \t\t\t\t\t}\n \t\t\t\t}\n \n-\t\t\t\t// assume satisfied\n+\t\t\t\t// TODO: better error message, have a way to figure out precisely which mods are causing this\n+\t\t\t\tif (!problem.isSatisfiable(assumptions)) {\n+\t\t\t\t\tthrow new ModResolutionException(\"Could not resolve mod collection due to an unknown error\");", "originalCommit": "66e0f436e350e8806d83ff541a6001109ab8336c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODcwMDk2MA==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378700960", "bodyText": "Oh yeah, that might be helpful. I'm not sure what form it'd appear in, so we'll have to see.", "author": "LemmaEOF", "createdAt": "2020-02-13T08:01:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NjUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODcyNzYxOA==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378727618", "bodyText": "I dont think this is much better than the real error, fixing the issue will be best", "author": "modmuss50", "createdAt": "2020-02-13T09:02:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NjUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxNDgyNw==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r419714827", "bodyText": "Hmm, I just want you to print more info on the unsatisfied problem either in log or in exception message..", "author": "liach", "createdAt": "2020-05-04T20:41:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NjUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxNjI4OQ==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r419716289", "bodyText": "I have not been able to confirm that problems have a satisfactory toString implementation.", "author": "LemmaEOF", "createdAt": "2020-05-04T20:43:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NjUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyMTM0Ng==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r419721346", "bodyText": "Sure, it you don't print the problem guess we can attach a debugger at this throw breakpoint and just look up the problem from the debugger.", "author": "liach", "createdAt": "2020-05-04T20:53:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NjUyNw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5Njc5NA==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378696794", "bodyText": "any example of crash of zip error before?", "author": "liach", "createdAt": "2020-02-13T07:49:11Z", "path": "src/main/java/net/fabricmc/loader/discovery/ModResolver.java", "diffHunk": "@@ -455,6 +460,8 @@ protected void compute() {\n \t\t\t\t\trootDir = jarFs.get().getRootDirectories().iterator().next();\n \t\t\t\t} catch (IOException e) {\n \t\t\t\t\tthrow new RuntimeException(\"Failed to open mod JAR at \" + path + \"!\");\n+\t\t\t\t} catch (ZipError e) {", "originalCommit": "66e0f436e350e8806d83ff541a6001109ab8336c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5NzYxMg==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378697612", "bodyText": "here's one, as well as in #185", "author": "LemmaEOF", "createdAt": "2020-02-13T07:51:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5Njc5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODcyNzM0NA==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378727344", "bodyText": "Yes, this is a good idea.", "author": "modmuss50", "createdAt": "2020-02-13T09:01:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5Njc5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODk0MzU1MQ==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378943551", "bodyText": "No option to make this into a multi-cache and treat both the same?", "author": "Sollace", "createdAt": "2020-02-13T15:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5Njc5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODk0Mzc2OA==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r378943768", "bodyText": "*catch", "author": "Sollace", "createdAt": "2020-02-13T15:44:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5Njc5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA0NjM4MA==", "url": "https://github.com/FabricMC/fabric-loader/pull/204#discussion_r379046380", "bodyText": "It could be a multi-catch, but I feel like having different messages for different errors is better.", "author": "LemmaEOF", "createdAt": "2020-02-13T18:39:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY5Njc5NA=="}], "type": "inlineReview", "revised_code": null}]}