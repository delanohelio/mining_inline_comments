{"pr_number": 198, "pr_title": "Fix ability to load alpha versions", "pr_createdAt": "2020-01-23T07:11:41Z", "pr_url": "https://github.com/FabricMC/fabric-loader/pull/198", "timeline": [{"oid": "0e3ce20b5c8822ee24823baec0d84ec20599cba8", "url": "https://github.com/FabricMC/fabric-loader/commit/0e3ce20b5c8822ee24823baec0d84ec20599cba8", "message": "Fix alpha version recognition", "committedDate": "2020-01-23T05:22:54Z", "type": "commit"}, {"oid": "640c19bc6d388046a24f5f98e53a09e2c3c6df08", "url": "https://github.com/FabricMC/fabric-loader/commit/640c19bc6d388046a24f5f98e53a09e2c3c6df08", "message": "Add more versions to the version pattern, and fix normalizing for old versions", "committedDate": "2020-01-23T06:54:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk5NDc1NQ==", "url": "https://github.com/FabricMC/fabric-loader/pull/198#discussion_r369994755", "bodyText": "run it through checkstyle", "author": "natanfudge", "createdAt": "2020-01-23T08:56:44Z", "path": "src/main/java/net/fabricmc/loader/minecraft/McVersionLookup.java", "diffHunk": "@@ -250,6 +273,18 @@ private static String normalizeVersion(String name, String release) {\n \t}\n \n \tprivate static String normalizeVersion(String version) {\n+\t\tMatcher matcher;\n+\t\tif ((matcher = BETA_PATTERN.matcher(version)).matches())", "originalCommit": "640c19bc6d388046a24f5f98e53a09e2c3c6df08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk5ODIyNw==", "url": "https://github.com/FabricMC/fabric-loader/pull/198#discussion_r369998227", "bodyText": "Fixed", "author": "Earthcomputer", "createdAt": "2020-01-23T09:05:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk5NDc1NQ=="}], "type": "inlineReview", "revised_code": {"commit": "55b2771d43bf25f39fa1936237c212ae66eefa86", "chunk": "diff --git a/src/main/java/net/fabricmc/loader/minecraft/McVersionLookup.java b/src/main/java/net/fabricmc/loader/minecraft/McVersionLookup.java\nindex d6ed426..044e8fe 100644\n--- a/src/main/java/net/fabricmc/loader/minecraft/McVersionLookup.java\n+++ b/src/main/java/net/fabricmc/loader/minecraft/McVersionLookup.java\n\n@@ -274,16 +275,17 @@ public final class McVersionLookup {\n \n \tprivate static String normalizeVersion(String version) {\n \t\tMatcher matcher;\n-\t\tif ((matcher = BETA_PATTERN.matcher(version)).matches())\n+\t\tif ((matcher = BETA_PATTERN.matcher(version)).matches()) {\n \t\t\tversion = \"0.33.\" + matcher.group(1);\n-\t\telse if ((matcher = ALPHA_PATTERN.matcher(version)).matches())\n+\t\t} else if ((matcher = ALPHA_PATTERN.matcher(version)).matches()) {\n \t\t\tversion = \"0.32.\" + matcher.group(1);\n-\t\telse if ((matcher = INDEV_PATTERN.matcher(version)).matches())\n+\t\t} else if ((matcher = INDEV_PATTERN.matcher(version)).matches()) {\n \t\t\tversion = \"0.31.\" + matcher.group(1);\n-\t\telse if (version.startsWith(\"c\")) // classic\n+\t\t} else if (version.startsWith(\"c\")) { // classic\n \t\t\tversion = version.substring(1);\n-\t\telse if (version.startsWith(\"rd-\")) // pre-classic\n+\t\t} else if (version.startsWith(\"rd-\")) { // pre-classic\n \t\t\tversion = \"0.0.0.\" + version.substring(\"rd-\".length());\n+\t\t}\n \n \t\tStringBuilder ret = new StringBuilder(version.length() + 5);\n \t\tboolean lastIsDigit = false;\n"}}, {"oid": "55b2771d43bf25f39fa1936237c212ae66eefa86", "url": "https://github.com/FabricMC/fabric-loader/commit/55b2771d43bf25f39fa1936237c212ae66eefa86", "message": "Fix braces", "committedDate": "2020-01-23T09:04:18Z", "type": "commit"}, {"oid": "f6e587c5b82c2c5a06daa4600d542c0ba5232bae", "url": "https://github.com/FabricMC/fabric-loader/commit/f6e587c5b82c2c5a06daa4600d542c0ba5232bae", "message": "Switch to a better normalization scheme", "committedDate": "2020-01-23T10:08:30Z", "type": "commit"}, {"oid": "dc3f63154ed38a465acd7575240050b3576481d7", "url": "https://github.com/FabricMC/fabric-loader/commit/dc3f63154ed38a465acd7575240050b3576481d7", "message": "Formatting, and future proof classic prefix", "committedDate": "2020-01-23T15:04:33Z", "type": "commit"}, {"oid": "bd5638884d202fb81bc74ac1570cf5ca08d0f4cd", "url": "https://github.com/FabricMC/fabric-loader/commit/bd5638884d202fb81bc74ac1570cf5ca08d0f4cd", "message": "Bump version to 0.7.6", "committedDate": "2020-01-23T16:30:14Z", "type": "commit"}]}