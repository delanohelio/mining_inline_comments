{"pr_number": 246, "pr_title": "Fixed a bug with custom directions in Types", "pr_createdAt": "2020-02-12T05:30:04Z", "pr_url": "https://github.com/constellation-app/constellation/pull/246", "timeline": [{"oid": "9066efa1980be600745aa6e6f3b8de9bc070c6db", "url": "https://github.com/constellation-app/constellation/commit/9066efa1980be600745aa6e6f3b8de9bc070c6db", "message": ":bug: Fixed a bug with custom directions in Types\n* Adding a record with a direction overriding the types direction should be preserved\n* Minor code cleanup in the GraphRecordStoreUtilities unit test", "committedDate": "2020-02-12T05:28:26Z", "type": "commit"}, {"oid": "7316e1aa7bf91b0cf0e99a8889f59007526e7ca2", "url": "https://github.com/constellation-app/constellation/commit/7316e1aa7bf91b0cf0e99a8889f59007526e7ca2", "message": "Merge branch 'master' into feature/custom-direction-types-fix", "committedDate": "2020-02-14T02:43:52Z", "type": "commit"}, {"oid": "9e124e3b2bc47c491890db89430509e60ad08c37", "url": "https://github.com/constellation-app/constellation/commit/9e124e3b2bc47c491890db89430509e60ad08c37", "message": ":memo: Updated changelog\n* Fixed a bug which now ensures that overriding a transaction direction using `GraphRecordStoreUtilities.DIRECTED_KEY` persists with the Type.", "committedDate": "2020-02-14T02:47:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg2NzQyMw==", "url": "https://github.com/constellation-app/constellation/pull/246#discussion_r379867423", "bodyText": "Rename this to TYPE_KEY", "author": "cygnus-x-1", "createdAt": "2020-02-16T01:15:41Z", "path": "CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java", "diffHunk": "@@ -48,9 +48,12 @@\n public class GraphRecordStoreUtilities {\n \n     private GraphRecordStoreUtilities() {\n+        throw new IllegalStateException(\"Utility class\");\n     }\n \n     private static final int NO_ELEMENT = -1;\n+    private static final String TYPE = \"Type<string>\";", "originalCommit": "9e124e3b2bc47c491890db89430509e60ad08c37", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkxNTk3Nw==", "url": "https://github.com/constellation-app/constellation/pull/246#discussion_r379915977", "bodyText": "Thanks @cygnus-x-1. Updated.", "author": "arcturus2", "createdAt": "2020-02-16T16:36:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg2NzQyMw=="}], "type": "inlineReview", "revised_code": {"commit": "9647890f5c8917be9eac7da6d58b0880c38f97c4", "chunk": "diff --git a/CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java b/CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java\nindex b327a1990..596b5bbfd 100644\n--- a/CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java\n+++ b/CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java\n\n@@ -52,7 +52,7 @@ public class GraphRecordStoreUtilities {\n     }\n \n     private static final int NO_ELEMENT = -1;\n-    private static final String TYPE = \"Type<string>\";\n+    private static final String TYPE_KEY = \"Type<string>\";\n \n     public static final String COPY = \"copy.\";\n     public static final String SOURCE = \"source.\";\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg2NzQ3NA==", "url": "https://github.com/constellation-app/constellation/pull/246#discussion_r379867474", "bodyText": "@algol60 - I think this was a question for you.", "author": "cygnus-x-1", "createdAt": "2020-02-16T01:16:32Z", "path": "CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java", "diffHunk": "@@ -200,7 +203,7 @@ private static int addTransaction(GraphWriteMethods graph, int source, int desti\n             return NO_ELEMENT;\n         }\n \n-        if (transaction == NO_ELEMENT) {\n+        if (transaction == NO_ELEMENT) { // TODO: should this check be done before the delete?", "originalCommit": "9e124e3b2bc47c491890db89430509e60ad08c37", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "9647890f5c8917be9eac7da6d58b0880c38f97c4", "url": "https://github.com/constellation-app/constellation/commit/9647890f5c8917be9eac7da6d58b0880c38f97c4", "message": ":art: Improved constant name", "committedDate": "2020-02-16T16:31:58Z", "type": "commit"}]}