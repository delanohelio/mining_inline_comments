{"pr_number": 1511, "pr_title": "Refine Task Framework log format part-1", "pr_createdAt": "2020-11-05T21:30:12Z", "pr_url": "https://github.com/apache/helix/pull/1511", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQwOTM0MA==", "url": "https://github.com/apache/helix/pull/1511#discussion_r518409340", "bodyText": "If we get rid of isDebugEnabled check. Shall we refactor this for the code base? This is not task frame work only behavior.", "author": "junkaixue", "createdAt": "2020-11-05T22:30:19Z", "path": "helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java", "diffHunk": "@@ -192,11 +191,8 @@ public void updatePreviousAssignedTasksStatus(\n             paMap.put(pId, new PartitionAssignment(instance, requestedState.name()));\n           }\n           assignedPartitions.get(instance).add(pId);\n-          if (LOG.isDebugEnabled()) {", "originalCommit": "b89ee93bec9170d1fced003fea53df5e936b4c4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkzOTM0NQ==", "url": "https://github.com/apache/helix/pull/1511#discussion_r518939345", "bodyText": "I do think so. Since this check is no longer needed after using slf4j.Logger.", "author": "xyuanlu", "createdAt": "2020-11-06T18:48:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQwOTM0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTA0MDE5Nw==", "url": "https://github.com/apache/helix/pull/1511#discussion_r519040197", "bodyText": "Then let's either have a different PR for that. Or let's create a ticket to track that.", "author": "junkaixue", "createdAt": "2020-11-06T22:39:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQwOTM0MA=="}], "type": "inlineReview", "revised_code": {"commit": "7fedb8e30b693276812134c058e57a70c83e5959", "chunk": "diff --git a/helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java b/helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java\nindex 8f112e902..35c4c393b 100644\n--- a/helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java\n+++ b/helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java\n\n@@ -191,8 +192,11 @@ public abstract class AbstractTaskDispatcher {\n             paMap.put(pId, new PartitionAssignment(instance, requestedState.name()));\n           }\n           assignedPartitions.get(instance).add(pId);\n-          LOG.debug(\"Instance {} requested a state transition to {} for partition {}.\", instance,\n-              requestedState, pName);\n+          if (LOG.isDebugEnabled()) {\n+            LOG.debug(\n+                String.format(\"Instance %s requested a state transition to %s for partition %s.\",\n+                    instance, requestedState, pName));\n+          }\n           continue;\n         }\n \n"}}, {"oid": "7fedb8e30b693276812134c058e57a70c83e5959", "url": "https://github.com/apache/helix/commit/7fedb8e30b693276812134c058e57a70c83e5959", "message": "refine log", "committedDate": "2020-11-09T21:06:15Z", "type": "commit"}, {"oid": "e6d683f4e7582c41d9e4cf2d2282d5becfa931f0", "url": "https://github.com/apache/helix/commit/e6d683f4e7582c41d9e4cf2d2282d5becfa931f0", "message": "Refine Task Framework log format part1", "committedDate": "2020-11-09T21:06:15Z", "type": "commit"}, {"oid": "e6d683f4e7582c41d9e4cf2d2282d5becfa931f0", "url": "https://github.com/apache/helix/commit/e6d683f4e7582c41d9e4cf2d2282d5becfa931f0", "message": "Refine Task Framework log format part1", "committedDate": "2020-11-09T21:06:15Z", "type": "forcePushed"}]}