{"pr_number": 1271, "pr_title": "Don't skip WAGED rebalancer calculation even the resource list is empty.", "pr_createdAt": "2020-08-14T19:46:23Z", "pr_url": "https://github.com/apache/helix/pull/1271", "timeline": [{"oid": "22398e70cb0fc47fbfaecc1ba5d1baa4e4b759ca", "url": "https://github.com/apache/helix/commit/22398e70cb0fc47fbfaecc1ba5d1baa4e4b759ca", "message": "Don't skip WAGED rebalancer calculation even the resource list is empty.\n\nThis change is to allow the rebalancer logic cleans up the internal assignment state and cache if all the resources are removed from the cluster.", "committedDate": "2020-08-14T19:15:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1NjI1MA==", "url": "https://github.com/apache/helix/pull/1271#discussion_r470856250", "bodyText": "This is not related to the code change, right?", "author": "NealSun96", "createdAt": "2020-08-14T20:43:25Z", "path": "helix-core/src/test/java/org/apache/helix/integration/rebalancer/WagedRebalancer/TestWagedRebalance.java", "diffHunk": "@@ -653,6 +674,36 @@ public void testRebalancerReset() throws Exception {\n     Assert.assertFalse(newEV.equals(oldEV));\n   }\n \n+  @Test(dependsOnMethods = \"test\")\n+  public void testRecreateSameResource() throws InterruptedException {", "originalCommit": "22398e70cb0fc47fbfaecc1ba5d1baa4e4b759ca", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1OTcyMQ==", "url": "https://github.com/apache/helix/pull/1271#discussion_r470859721", "bodyText": "It is the issue that we want to fix.", "author": "jiajunwang", "createdAt": "2020-08-14T20:52:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1NjI1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1OTc3NA==", "url": "https://github.com/apache/helix/pull/1271#discussion_r470859774", "bodyText": "Without the change, this test will fail.", "author": "jiajunwang", "createdAt": "2020-08-14T20:52:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1NjI1MA=="}], "type": "inlineReview", "revised_code": null}]}