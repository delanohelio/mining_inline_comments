{"pr_number": 1594, "pr_title": "Fix builds failing on some non-Oracle JDKs", "pr_createdAt": "2020-12-16T02:53:40Z", "pr_url": "https://github.com/apache/helix/pull/1594", "timeline": [{"oid": "c88292b169d744b8aa352ae46bd4ac99f789e1f8", "url": "https://github.com/apache/helix/commit/c88292b169d744b8aa352ae46bd4ac99f789e1f8", "message": "Fix builds failing on some non-Oracle JDKs\n\nThe ThreadCountBasedTaskAssigner class accidentally included an\nexception from the sun.reflect.generics.reflectiveObjects package which\nis not available in some JDKs. Replacing it with a standard unchecked\nexception java.lang.UnsupportedOperationException.", "committedDate": "2020-12-16T16:36:59Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYxMTI1Mg==", "url": "https://github.com/apache/helix/pull/1594#discussion_r544611252", "bodyText": "Could you please keep the error message here?", "author": "jiajunwang", "createdAt": "2020-12-16T20:46:19Z", "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java", "diffHunk": "@@ -263,7 +262,7 @@ private Response batchGetStoppableInstances(String clusterId, JsonNode node, boo\n         break;\n       case instance_based:\n       default:\n-        throw new NotImplementedException(\"instance_based selection is not supported yet!\");\n+        throw new UnsupportedOperationException();", "originalCommit": "c88292b169d744b8aa352ae46bd4ac99f789e1f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYyOTQzNg==", "url": "https://github.com/apache/helix/pull/1594#discussion_r544629436", "bodyText": "My apologies.  That was a silly omission by me.  Thank you for catching it.", "author": "brentwritescode", "createdAt": "2020-12-16T21:17:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYxMTI1Mg=="}], "type": "inlineReview", "revised_code": {"commit": "1f80ec716c48fe46d8764d133d4fc6c2542a3f57", "chunk": "diff --git a/helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java b/helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java\nindex 6c2872aa0..bacae0dcb 100644\n--- a/helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java\n+++ b/helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java\n\n@@ -262,7 +262,7 @@ public class InstancesAccessor extends AbstractHelixResource {\n         break;\n       case instance_based:\n       default:\n-        throw new UnsupportedOperationException();\n+        throw new UnsupportedOperationException(\"instance_based selection is not supported yet!\");\n       }\n       return JSONRepresentation(result);\n     } catch (HelixException e) {\n"}}, {"oid": "1f80ec716c48fe46d8764d133d4fc6c2542a3f57", "url": "https://github.com/apache/helix/commit/1f80ec716c48fe46d8764d133d4fc6c2542a3f57", "message": "Fix builds failing on some non-Oracle JDKs\n\nThe ThreadCountBasedTaskAssigner class accidentally included an\nexception from the sun.reflect.generics.reflectiveObjects package which\nis not available in some JDKs. Replacing it with a standard unchecked\nexception java.lang.UnsupportedOperationException.", "committedDate": "2020-12-16T21:22:00Z", "type": "commit"}, {"oid": "1f80ec716c48fe46d8764d133d4fc6c2542a3f57", "url": "https://github.com/apache/helix/commit/1f80ec716c48fe46d8764d133d4fc6c2542a3f57", "message": "Fix builds failing on some non-Oracle JDKs\n\nThe ThreadCountBasedTaskAssigner class accidentally included an\nexception from the sun.reflect.generics.reflectiveObjects package which\nis not available in some JDKs. Replacing it with a standard unchecked\nexception java.lang.UnsupportedOperationException.", "committedDate": "2020-12-16T21:22:00Z", "type": "forcePushed"}]}