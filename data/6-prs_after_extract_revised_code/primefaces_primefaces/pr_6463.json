{"pr_number": 6463, "pr_title": "Fix #6458: DatePicker defaults before super.encodeEnd", "pr_createdAt": "2020-10-28T15:26:08Z", "pr_url": "https://github.com/primefaces/primefaces/pull/6463", "timeline": [{"oid": "eb99da3d5b418c1b8dbeebd908845930c01f663b", "url": "https://github.com/primefaces/primefaces/commit/eb99da3d5b418c1b8dbeebd908845930c01f663b", "message": "Fix #6458: DatePicker defaults before super.encodeEnd", "committedDate": "2020-10-28T15:23:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU0MzQ1NA==", "url": "https://github.com/primefaces/primefaces/pull/6463#discussion_r513543454", "bodyText": "why did you rename? its actually datePicker", "author": "tandraschko", "createdAt": "2020-10-28T15:34:31Z", "path": "src/main/java/org/primefaces/component/datepicker/DatePickerRenderer.java", "diffHunk": "@@ -54,12 +54,38 @@\n \n     @Override\n     public void encodeEnd(FacesContext context, UIComponent component) throws IOException {\n-        DatePicker datePicker = (DatePicker) component;\n+        DatePicker datepicker = (DatePicker) component;", "originalCommit": "eb99da3d5b418c1b8dbeebd908845930c01f663b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU0OTE4OA==", "url": "https://github.com/primefaces/primefaces/pull/6463#discussion_r513549188", "bodyText": "Its mixed throughout the file with datepicker and datePicker i will fix it every where to be datePicker.", "author": "melloware", "createdAt": "2020-10-28T15:41:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU0MzQ1NA=="}], "type": "inlineReview", "revised_code": {"commit": "96916523fdcadd29ac71b269e806e52de55b1fd0", "chunk": "diff --git a/src/main/java/org/primefaces/component/datepicker/DatePickerRenderer.java b/src/main/java/org/primefaces/component/datepicker/DatePickerRenderer.java\nindex ca707ae41..1f376cbf4 100644\n--- a/src/main/java/org/primefaces/component/datepicker/DatePickerRenderer.java\n+++ b/src/main/java/org/primefaces/component/datepicker/DatePickerRenderer.java\n\n@@ -54,36 +54,36 @@ public class DatePickerRenderer extends BaseCalendarRenderer {\n \n     @Override\n     public void encodeEnd(FacesContext context, UIComponent component) throws IOException {\n-        DatePicker datepicker = (DatePicker) component;\n+        DatePicker datePicker = (DatePicker) component;\n \n-        if (datepicker.getModel() instanceof LazyDateMetadataModel && ComponentUtils.isRequestSource(datepicker, context, \"viewChange\")) {\n-            encodeDateMetadata(context, datepicker);\n+        if (datePicker.getModel() instanceof LazyDateMetadataModel && ComponentUtils.isRequestSource(datePicker, context, \"viewChange\")) {\n+            encodeDateMetadata(context, datePicker);\n             return;\n         }\n \n-        String pattern = datepicker.getPattern() == null ? datepicker.calculatePattern() : datepicker.getPattern();\n+        String pattern = datePicker.getPattern() == null ? datePicker.calculatePattern() : datePicker.getPattern();\n \n-        if (datepicker.isShowTimeWithoutDefault() == null) {\n-            Class<?> type = datepicker.getTypeFromValueByValueExpression(context);\n+        if (datePicker.isShowTimeWithoutDefault() == null) {\n+            Class<?> type = datePicker.getTypeFromValueByValueExpression(context);\n \n             if (type != null) {\n-                datepicker.setShowTime(LocalDateTime.class.isAssignableFrom(type));\n+                datePicker.setShowTime(LocalDateTime.class.isAssignableFrom(type));\n             }\n             else {\n-                datepicker.setShowTime(CalendarUtils.hasTime(pattern));\n+                datePicker.setShowTime(CalendarUtils.hasTime(pattern));\n             }\n         }\n \n-        if (datepicker.isTimeOnlyWithoutDefault() == null) {\n-            Class<?> type = datepicker.getTypeFromValueByValueExpression(context);\n+        if (datePicker.isTimeOnlyWithoutDefault() == null) {\n+            Class<?> type = datePicker.getTypeFromValueByValueExpression(context);\n \n             if (type != null) {\n-                datepicker.setTimeOnly(LocalTime.class.isAssignableFrom(type));\n+                datePicker.setTimeOnly(LocalTime.class.isAssignableFrom(type));\n             }\n         }\n \n-        if (datepicker.isShowSecondsWithoutDefault() == null) {\n-            datepicker.setShowSeconds(pattern.contains(\"s\"));\n+        if (datePicker.isShowSecondsWithoutDefault() == null) {\n+            datePicker.setShowSeconds(pattern.contains(\"s\"));\n         }\n \n         super.encodeEnd(context, component);\n"}}, {"oid": "96916523fdcadd29ac71b269e806e52de55b1fd0", "url": "https://github.com/primefaces/primefaces/commit/96916523fdcadd29ac71b269e806e52de55b1fd0", "message": "Fix #6458: DatePicker defaults before super.encodeEnd", "committedDate": "2020-10-28T15:44:07Z", "type": "commit"}]}