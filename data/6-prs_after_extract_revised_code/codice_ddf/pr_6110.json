{"pr_number": 6110, "pr_title": "[2.19.x] DDF-UI-185 Add metacard tag configuration for enforcing access controls", "pr_createdAt": "2020-06-01T23:31:39Z", "pr_url": "https://github.com/codice/ddf/pull/6110", "timeline": [{"oid": "f3af171437a8cd72cab8203523324b422317ca5a", "url": "https://github.com/codice/ddf/commit/f3af171437a8cd72cab8203523324b422317ca5a", "message": "[2.19.x] DDF-UI-185 Add metacard tag configuration for enforcing access controls", "committedDate": "2020-06-01T22:37:18Z", "type": "commit"}, {"oid": "d3522c4436ba655372b69d050693a61bdd7333bf", "url": "https://github.com/codice/ddf/commit/d3522c4436ba655372b69d050693a61bdd7333bf", "message": "DDF-UI-185 Add file", "committedDate": "2020-06-01T22:38:01Z", "type": "commit"}, {"oid": "3ab13e361605c79ede83c9b3b042c7547a01d184", "url": "https://github.com/codice/ddf/commit/3ab13e361605c79ede83c9b3b042c7547a01d184", "message": "DDF-UI-185 fixes", "committedDate": "2020-06-01T23:23:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5NzQ0NQ==", "url": "https://github.com/codice/ddf/pull/6110#discussion_r437497445", "bodyText": "\u270f\ufe0f  you could do something like\nprivate final Predicate<Metacard> hasIntrigueTag = \n metacard ->\n    !metacard.getTags().retainAll(intrigueTags).isEmpty()\n\nthat way you could remove the this:: you added to the filter below on L161", "author": "cassandrabailey293", "createdAt": "2020-06-09T15:07:29Z", "path": "catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/security/accesscontrol/AccessControlAccessPlugin.java", "diffHunk": "@@ -90,11 +90,18 @@ private static boolean invert(boolean b) {\n                   .apply(newMetacard, Core.METACARD_OWNER)\n                   .contains(subjectSupplier.get()));\n \n-  private final Predicate<Metacard> hasIntrigueTag =\n-      metacard ->\n-          metacard.getTags().contains(WORKSPACE_TAG)\n-              || metacard.getTags().contains(QUERY_TEMPLATE_TAG)\n-              || metacard.getTags().contains(ATTRIBUTE_GROUP_TAG);\n+  public void setIntrigueTags(List<String> intrigueTags) {\n+    this.intrigueTags = intrigueTags;\n+  }\n+\n+  private boolean hasIntrigueTag(Metacard metacard) {", "originalCommit": "3ab13e361605c79ede83c9b3b042c7547a01d184", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "29b130eedec62c11f617f0aba8bd50eb93831a3c", "chunk": "diff --git a/catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/security/accesscontrol/AccessControlAccessPlugin.java b/catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/security/accesscontrol/AccessControlAccessPlugin.java\nindex 5d9fb9f9ba..fdb19837c4 100644\n--- a/catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/security/accesscontrol/AccessControlAccessPlugin.java\n+++ b/catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/security/accesscontrol/AccessControlAccessPlugin.java\n\n@@ -94,14 +95,8 @@ public void setIntrigueTags(List<String> intrigueTags) {\n     this.intrigueTags = intrigueTags;\n   }\n \n-  private boolean hasIntrigueTag(Metacard metacard) {\n-    for (String tag : intrigueTags) {\n-      if (metacard.getTags().contains(tag)) {\n-        return true;\n-      }\n-    }\n-    return false;\n-  }\n+  private final Predicate<Metacard> hasIntrigueTag =\n+      metacard -> !Collections.disjoint(metacard.getTags(), intrigueTags);\n \n   private boolean isAccessControlUpdated(Metacard prev, Metacard updated) {\n     return !isAnyObjectNull(prev, updated)\n"}}, {"oid": "29b130eedec62c11f617f0aba8bd50eb93831a3c", "url": "https://github.com/codice/ddf/commit/29b130eedec62c11f617f0aba8bd50eb93831a3c", "message": "DDF-UI-185 fix test and address comments", "committedDate": "2020-06-10T15:11:09Z", "type": "commit"}, {"oid": "600c1e4ce2a69e5eb9be9e9e3ffb8d6e3ac1407e", "url": "https://github.com/codice/ddf/commit/600c1e4ce2a69e5eb9be9e9e3ffb8d6e3ac1407e", "message": "DDF-UI-185 addressing comments", "committedDate": "2020-06-16T20:39:08Z", "type": "commit"}]}