{"pr_number": 6275, "pr_title": "DDF-6262 Fixes the issue of property replacement not working when creating a source", "pr_createdAt": "2020-09-01T21:02:47Z", "pr_url": "https://github.com/codice/ddf/pull/6275", "timeline": [{"oid": "afe28cdeabd83fa3140f7de5cf29363651b8b072", "url": "https://github.com/codice/ddf/commit/afe28cdeabd83fa3140f7de5cf29363651b8b072", "message": "DDF-6262 Fixes the issue of property replacement not working when creating a source", "committedDate": "2020-09-01T20:35:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ0ODA1MQ==", "url": "https://github.com/codice/ddf/pull/6275#discussion_r481448051", "bodyText": "So why does this need to be String vs URI? I tried to make it a URI to make the API a little tighter. Moving to String basically opens it wide. Would it be possible to keep the API as a URI and instead do uri.toString() in order to resolve the properties and then re set the URI?", "author": "stustison", "createdAt": "2020-09-01T21:41:13Z", "path": "platform/security/rest/security-rest-clientapi/src/main/java/org/codice/ddf/cxf/client/ClientBuilder.java", "diffHunk": "@@ -37,7 +37,7 @@\n    * @param endpointUrl\n    * @return\n    */\n-  ClientBuilder<T> endpoint(URI endpointUrl);\n+  ClientBuilder<T> endpoint(String endpointUrl);", "originalCommit": "afe28cdeabd83fa3140f7de5cf29363651b8b072", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ1MDQyNg==", "url": "https://github.com/codice/ddf/pull/6275#discussion_r481450426", "bodyText": "When we create a source, if we leave the URL with system properties in it, like:\n${org.codice.ddf.external.protocol}${org.codice.ddf.external.hostname}:${org.codice.ddf.external.port}${org.codice.ddf.external.context}${org.codice.ddf.system.rootContext}/csw\nDDF throws an exception because we try to change it to a URI.\nThe property resolver is in the client builder/factory so unless we move the property resolver to everyone that makes a call like that, we need to change the endpoint to be a String and do the property resolving step in the client builder.", "author": "blen-desta", "createdAt": "2020-09-01T21:46:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ0ODA1MQ=="}], "type": "inlineReview", "revised_code": null}]}