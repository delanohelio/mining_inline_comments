{"pr_number": 6095, "pr_title": "DDF-5900 removed the use of security-core-impl from all non-security bundles", "pr_createdAt": "2020-05-22T17:44:20Z", "pr_url": "https://github.com/codice/ddf/pull/6095", "timeline": [{"oid": "5437aef32e7d7d5220bfec34fdf4a9b88b3c384a", "url": "https://github.com/codice/ddf/commit/5437aef32e7d7d5220bfec34fdf4a9b88b3c384a", "message": "DDF-5900 removed the use of security-core-impl from all non-security bundles", "committedDate": "2020-05-22T18:30:16Z", "type": "forcePushed"}, {"oid": "570ea40bec86f093b252cd5863a828471d0c350a", "url": "https://github.com/codice/ddf/commit/570ea40bec86f093b252cd5863a828471d0c350a", "message": "DDF-5900 removed the use of security-core-impl from all non-security bundles", "committedDate": "2020-06-01T16:39:45Z", "type": "commit"}, {"oid": "570ea40bec86f093b252cd5863a828471d0c350a", "url": "https://github.com/codice/ddf/commit/570ea40bec86f093b252cd5863a828471d0c350a", "message": "DDF-5900 removed the use of security-core-impl from all non-security bundles", "committedDate": "2020-06-01T16:39:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM3ODEyMA==", "url": "https://github.com/codice/ddf/pull/6095#discussion_r433378120", "bodyText": "\u2753 Why remove the annotation? Is the response no longer nullable?", "author": "SmithJosh", "createdAt": "2020-06-01T17:25:20Z", "path": "catalog/core/catalog-core-solrcommands/src/main/java/org/codice/ddf/commands/solr/BackupCommand.java", "diffHunk": "@@ -148,7 +147,7 @@ private void performSolrCloudBackup() throws IOException {\n     }\n   }\n \n-  private void printResponse(@Nullable HttpResponse response) {\n+  private void printResponse(HttpResponse response) {", "originalCommit": "570ea40bec86f093b252cd5863a828471d0c350a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ2ODI5NQ==", "url": "https://github.com/codice/ddf/pull/6095#discussion_r433468295", "bodyText": "Because it was forcing a dependency on guava for an unnecessary annotation.", "author": "stustison", "createdAt": "2020-06-01T20:22:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM3ODEyMA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE4ODc2MA==", "url": "https://github.com/codice/ddf/pull/6095#discussion_r434188760", "bodyText": "\u270f\ufe0f These builder methods might be better as static methods on the interface.\nPro: when you want to call one of these builders, you don't have to inject a Permissions service into the java class. You just call the static interface method.\nCon: testing", "author": "bakejeyner", "createdAt": "2020-06-02T21:34:46Z", "path": "platform/security/core/security-core-services/src/main/java/ddf/security/permission/impl/PermissionsImpl.java", "diffHunk": "@@ -72,4 +78,27 @@ public PermissionsImpl() {}\n     }\n     return stringAttributes;\n   }\n+\n+  @Override\n+  public KeyValueCollectionPermission buildKeyValueCollectionPermission(\n+      String action, KeyValuePermission... permissions) {\n+    return new KeyValueCollectionPermissionImpl(action, permissions);\n+  }\n+\n+  @Override\n+  public KeyValueCollectionPermission buildKeyValueCollectionPermission(\n+      String action, Map<String, ? extends Collection<String>> map) {\n+    return new KeyValueCollectionPermissionImpl(action, map);\n+  }\n+\n+  @Override\n+  public KeyValueCollectionPermission buildKeyValueCollectionPermission(\n+      String action, Collection<KeyValuePermission> permissions) {\n+    return new KeyValueCollectionPermissionImpl(action, permissions);\n+  }\n+\n+  @Override\n+  public KeyValuePermission buildKeyValuePermission(String key, Set<String> values) {\n+    return new KeyValuePermissionImpl(key, values);\n+  }", "originalCommit": "570ea40bec86f093b252cd5863a828471d0c350a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE4OTU2MQ==", "url": "https://github.com/codice/ddf/pull/6095#discussion_r434189561", "bodyText": "Can't do a static method without embedding the bundle or directly referencing an impl of some sort via an import.", "author": "stustison", "createdAt": "2020-06-02T21:36:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE4ODc2MA=="}], "type": "inlineReview", "revised_code": null}]}