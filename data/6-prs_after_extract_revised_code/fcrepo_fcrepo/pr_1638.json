{"pr_number": 1638, "pr_title": "Add Repository Root type to Repository Root", "pr_createdAt": "2020-03-03T17:51:28Z", "pr_url": "https://github.com/fcrepo/fcrepo/pull/1638", "timeline": [{"oid": "ae35e517b1c4289ae01e831167e4a2a712f56a93", "url": "https://github.com/fcrepo/fcrepo/commit/ae35e517b1c4289ae01e831167e4a2a712f56a93", "message": "Add RepositoryRoot type to repository root", "committedDate": "2020-03-03T17:42:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk4ODUwMA==", "url": "https://github.com/fcrepo/fcrepo/pull/1638#discussion_r388988500", "bodyText": "Since repository initialization is a one-time event, we may not want to retain these two static class constants.\nSuggestion: move them into the initialize() method as local variables.", "author": "awoods", "createdAt": "2020-03-06T16:01:09Z", "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/RepositoryInitializer.java", "diffHunk": "@@ -54,6 +63,13 @@\n     @Inject\n     private FedoraToOCFLObjectIndexUtil fedoraToOCFLObjectIndexUtil;\n \n+    private static Stream<Triple> REPOSITORY_ROOT_TRIPLES = Stream.of(", "originalCommit": "ae35e517b1c4289ae01e831167e4a2a712f56a93", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c334c5a78851439b050d1b7cf6bd44f066318659", "chunk": "diff --git a/fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/RepositoryInitializer.java b/fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/RepositoryInitializer.java\nindex 4960eb1e99..e2ef9cad17 100644\n--- a/fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/RepositoryInitializer.java\n+++ b/fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/RepositoryInitializer.java\n\n@@ -63,13 +63,6 @@ public class RepositoryInitializer {\n     @Inject\n     private FedoraToOCFLObjectIndexUtil fedoraToOCFLObjectIndexUtil;\n \n-    private static Stream<Triple> REPOSITORY_ROOT_TRIPLES = Stream.of(\n-            new Triple(createURI(FEDORA_ID_PREFIX), RDF.type.asNode(), REPOSITORY_ROOT.asNode())\n-    );\n-\n-    private static RdfStream REPOSITORY_ROOT_STREAM = new DefaultRdfStream(createURI(FEDORA_ID_PREFIX),\n-            REPOSITORY_ROOT_TRIPLES);\n-\n     /**\n      * Initializes the repository\n      */\n"}}, {"oid": "c334c5a78851439b050d1b7cf6bd44f066318659", "url": "https://github.com/fcrepo/fcrepo/commit/c334c5a78851439b050d1b7cf6bd44f066318659", "message": "Make local variables instead", "committedDate": "2020-03-06T18:52:06Z", "type": "commit"}]}