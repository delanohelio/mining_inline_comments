{"pr_number": 1799, "pr_title": "Return RepositoryRoot as system type", "pr_createdAt": "2020-11-12T19:38:10Z", "pr_url": "https://github.com/fcrepo/fcrepo/pull/1799", "timeline": [{"oid": "6003ff6ea3a0ba2f1bb1f9b5bb955a661756d94a", "url": "https://github.com/fcrepo/fcrepo/commit/6003ff6ea3a0ba2f1bb1f9b5bb955a661756d94a", "message": "Return RepositoryRoot as system type", "committedDate": "2020-11-12T19:34:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM3NjY4Mw==", "url": "https://github.com/fcrepo/fcrepo/pull/1799#discussion_r522376683", "bodyText": "Rather than creating the URI every time, just create it once as a static constant", "author": "pwinckles", "createdAt": "2020-11-12T19:45:18Z", "path": "fcrepo-kernel-impl/src/main/java/org/fcrepo/kernel/impl/models/FedoraResourceImpl.java", "diffHunk": "@@ -250,6 +251,9 @@ public boolean hasType(final String type) {\n             // ldp:Resource is on all resources\n             types.add(RESOURCE_URI);\n             types.add(FEDORA_RESOURCE_URI);\n+            if (getFedoraId().isRepositoryRoot()) {\n+                types.add(create(REPOSITORY_ROOT.getURI()));", "originalCommit": "6003ff6ea3a0ba2f1bb1f9b5bb955a661756d94a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1ce4447325def2082ed8b7c8fa8919b04cb40234", "chunk": "diff --git a/fcrepo-kernel-impl/src/main/java/org/fcrepo/kernel/impl/models/FedoraResourceImpl.java b/fcrepo-kernel-impl/src/main/java/org/fcrepo/kernel/impl/models/FedoraResourceImpl.java\nindex d686345bb3..4f4ed4a678 100644\n--- a/fcrepo-kernel-impl/src/main/java/org/fcrepo/kernel/impl/models/FedoraResourceImpl.java\n+++ b/fcrepo-kernel-impl/src/main/java/org/fcrepo/kernel/impl/models/FedoraResourceImpl.java\n\n@@ -252,7 +253,7 @@ public class FedoraResourceImpl implements FedoraResource {\n             types.add(RESOURCE_URI);\n             types.add(FEDORA_RESOURCE_URI);\n             if (getFedoraId().isRepositoryRoot()) {\n-                types.add(create(REPOSITORY_ROOT.getURI()));\n+                types.add(REPOSITORY_ROOT_URI);\n             }\n             if (!forRdf) {\n                 // These types are not exposed as RDF triples.\n"}}, {"oid": "1ce4447325def2082ed8b7c8fa8919b04cb40234", "url": "https://github.com/fcrepo/fcrepo/commit/1ce4447325def2082ed8b7c8fa8919b04cb40234", "message": "Use static constant", "committedDate": "2020-11-12T20:05:34Z", "type": "commit"}]}