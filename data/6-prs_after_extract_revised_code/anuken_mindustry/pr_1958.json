{"pr_number": 1958, "pr_title": "[QOL] Clear Selection with Double Click", "pr_createdAt": "2020-05-01T15:51:28Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/1958", "timeline": [{"oid": "6ca8bed0a7ee5188ad11073e4d6be36d3fb4fc26", "url": "https://github.com/Anuken/Mindustry/commit/6ca8bed0a7ee5188ad11073e4d6be36d3fb4fc26", "message": "add onConfigureTileTapped method", "committedDate": "2020-05-01T15:48:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYxNDk4Mg==", "url": "https://github.com/Anuken/Mindustry/pull/1958#discussion_r418614982", "bodyText": "This can be more concise:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            tile.configure(null);\n          \n          \n            \n                            tile.configure(lastItem = null);", "author": "Anuken", "createdAt": "2020-05-01T16:18:40Z", "path": "core/src/mindustry/world/blocks/distribution/Sorter.java", "diffHunk": "@@ -143,6 +143,18 @@ public void buildConfiguration(Table table){\n             ItemSelection.buildTable(table, content.items(), () -> sortItem, item -> tile.configure(lastItem = item));\n         }\n \n+        @Override\n+        public boolean onConfigureTileTapped(Tilec other){\n+            if(this == other){\n+                lastItem = null;\n+                control.input.frag.config.hideConfig();\n+                tile.configure(null);", "originalCommit": "6ca8bed0a7ee5188ad11073e4d6be36d3fb4fc26", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYxODY2Ng==", "url": "https://github.com/Anuken/Mindustry/pull/1958#discussion_r418618666", "bodyText": "Dang. That's convenient", "author": "zatnas", "createdAt": "2020-05-01T16:27:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYxNDk4Mg=="}], "type": "inlineReview", "revised_code": {"commit": "fc446421bf7ae39f70c79c9f4d58a231f4be523a", "chunk": "diff --git a/core/src/mindustry/world/blocks/distribution/Sorter.java b/core/src/mindustry/world/blocks/distribution/Sorter.java\nindex d4463a479..f3d7b464f 100644\n--- a/core/src/mindustry/world/blocks/distribution/Sorter.java\n+++ b/core/src/mindustry/world/blocks/distribution/Sorter.java\n\n@@ -146,9 +146,8 @@ public class Sorter extends Block{\n         @Override\n         public boolean onConfigureTileTapped(Tilec other){\n             if(this == other){\n-                lastItem = null;\n                 control.input.frag.config.hideConfig();\n-                tile.configure(null);\n+                tile.configure(lastItem = null);\n                 return false;\n             }\n \n"}}, {"oid": "fc446421bf7ae39f70c79c9f4d58a231f4be523a", "url": "https://github.com/Anuken/Mindustry/commit/fc446421bf7ae39f70c79c9f4d58a231f4be523a", "message": "code cleanup", "committedDate": "2020-05-01T16:25:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYxOTMzMw==", "url": "https://github.com/Anuken/Mindustry/pull/1958#discussion_r418619333", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            lastItem = null;\n          \n          \n            \n                            control.input.frag.config.hideConfig();\n          \n          \n            \n                            tile.configure(null);\n          \n          \n            \n                            control.input.frag.config.hideConfig();\n          \n          \n            \n                            tile.configure(lastItem = null);", "author": "Quezler", "createdAt": "2020-05-01T16:28:41Z", "path": "core/src/mindustry/world/blocks/sandbox/ItemSource.java", "diffHunk": "@@ -79,6 +79,18 @@ public void buildConfiguration(Table table){\n             ItemSelection.buildTable(table, content.items(), () -> outputItem, item -> tile.configure(lastItem = item));\n         }\n \n+        @Override\n+        public boolean onConfigureTileTapped(Tilec other){\n+            if(this == other){\n+                lastItem = null;\n+                control.input.frag.config.hideConfig();\n+                tile.configure(null);", "originalCommit": "fc446421bf7ae39f70c79c9f4d58a231f4be523a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYxOTQ0OQ==", "url": "https://github.com/Anuken/Mindustry/pull/1958#discussion_r418619449", "bodyText": "you forgot one ^", "author": "Quezler", "createdAt": "2020-05-01T16:28:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYxOTMzMw=="}], "type": "inlineReview", "revised_code": {"commit": "fb996d79bedb912040e12bd3c68035b1a387c076", "chunk": "diff --git a/core/src/mindustry/world/blocks/sandbox/ItemSource.java b/core/src/mindustry/world/blocks/sandbox/ItemSource.java\nindex e5f159d2a..aad37d414 100644\n--- a/core/src/mindustry/world/blocks/sandbox/ItemSource.java\n+++ b/core/src/mindustry/world/blocks/sandbox/ItemSource.java\n\n@@ -82,9 +82,8 @@ public class ItemSource extends Block{\n         @Override\n         public boolean onConfigureTileTapped(Tilec other){\n             if(this == other){\n-                lastItem = null;\n                 control.input.frag.config.hideConfig();\n-                tile.configure(null);\n+                tile.configure(lastItem = null);\n                 return false;\n             }\n \n"}}, {"oid": "fb996d79bedb912040e12bd3c68035b1a387c076", "url": "https://github.com/Anuken/Mindustry/commit/fb996d79bedb912040e12bd3c68035b1a387c076", "message": "Update ItemSource.java", "committedDate": "2020-05-01T16:29:28Z", "type": "commit"}]}