{"pr_number": 3646, "pr_title": "Unit Payload spawning units on block removing/destruction", "pr_createdAt": "2020-11-28T18:08:10Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/3646", "timeline": [{"oid": "815a483d2c9513b25c98b0c55d8b16969fbabd40", "url": "https://github.com/Anuken/Mindustry/commit/815a483d2c9513b25c98b0c55d8b16969fbabd40", "message": "typo in Fires:\n\n/** Start a fire on the tile. If there already is a file there, refreshes its lifetime. */", "committedDate": "2020-11-28T14:49:39Z", "type": "commit"}, {"oid": "3b20c68a6f85028c1b5eb212763ba738e6021b92", "url": "https://github.com/Anuken/Mindustry/commit/3b20c68a6f85028c1b5eb212763ba738e6021b92", "message": "Merge branch 'master' of https://github.com/Anuken/Mindustry", "committedDate": "2020-11-28T16:53:04Z", "type": "commit"}, {"oid": "724a0018b82e740abd8dd1d61178465b9e1e4cdb", "url": "https://github.com/Anuken/Mindustry/commit/724a0018b82e740abd8dd1d61178465b9e1e4cdb", "message": "unit payload improvements", "committedDate": "2020-11-28T17:39:09Z", "type": "commit"}, {"oid": "6dc2486ce0660b498fe6603928480218daaf7782", "url": "https://github.com/Anuken/Mindustry/commit/6dc2486ce0660b498fe6603928480218daaf7782", "message": "oopsie", "committedDate": "2020-11-28T18:06:20Z", "type": "commit"}, {"oid": "ee3348d160d6d55df98618bd4b37a3861578a9fb", "url": "https://github.com/Anuken/Mindustry/commit/ee3348d160d6d55df98618bd4b37a3861578a9fb", "message": "oopsie x2", "committedDate": "2020-11-28T18:10:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA4OTg2Mw==", "url": "https://github.com/Anuken/Mindustry/pull/3646#discussion_r532089863", "bodyText": "formatting incorrect: no space after the if", "author": "Anuken", "createdAt": "2020-11-28T18:11:00Z", "path": "core/src/mindustry/world/blocks/distribution/PayloadConveyor.java", "diffHunk": "@@ -234,6 +234,18 @@ public void handlePayload(Building source, Payload payload){\n             updatePayload();\n         }\n \n+        @Override\n+        public void onDestroyed(){\n+            super.onDestroyed();\n+            if (item != null) item.dump();", "originalCommit": "ee3348d160d6d55df98618bd4b37a3861578a9fb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "699750762f0dc91dbbafdae6a0626a0661167d27", "chunk": "diff --git a/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java b/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\nindex 8de59475f..241cc2747 100644\n--- a/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\n+++ b/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\n\n@@ -234,12 +234,6 @@ public class PayloadConveyor extends Block{\n             updatePayload();\n         }\n \n-        @Override\n-        public void onDestroyed(){\n-            super.onDestroyed();\n-            if (item != null) item.dump();\n-        }\n-\n         @Override\n         public void onRemoved(){\n             super.onRemoved();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA5MDA1Mg==", "url": "https://github.com/Anuken/Mindustry/pull/3646#discussion_r532090052", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (item != null) item.dump();\n          \n          \n            \n                        if(item != null) item.dump();", "author": "Quezler", "createdAt": "2020-11-28T18:12:47Z", "path": "core/src/mindustry/world/blocks/distribution/PayloadConveyor.java", "diffHunk": "@@ -234,6 +234,18 @@ public void handlePayload(Building source, Payload payload){\n             updatePayload();\n         }\n \n+        @Override\n+        public void onDestroyed(){\n+            super.onDestroyed();\n+            if (item != null) item.dump();", "originalCommit": "ee3348d160d6d55df98618bd4b37a3861578a9fb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "699750762f0dc91dbbafdae6a0626a0661167d27", "chunk": "diff --git a/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java b/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\nindex 8de59475f..241cc2747 100644\n--- a/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\n+++ b/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\n\n@@ -234,12 +234,6 @@ public class PayloadConveyor extends Block{\n             updatePayload();\n         }\n \n-        @Override\n-        public void onDestroyed(){\n-            super.onDestroyed();\n-            if (item != null) item.dump();\n-        }\n-\n         @Override\n         public void onRemoved(){\n             super.onRemoved();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA5MDA2Mw==", "url": "https://github.com/Anuken/Mindustry/pull/3646#discussion_r532090063", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (item != null) item.dump();\n          \n          \n            \n                        if(item != null) item.dump();", "author": "Quezler", "createdAt": "2020-11-28T18:12:55Z", "path": "core/src/mindustry/world/blocks/distribution/PayloadConveyor.java", "diffHunk": "@@ -234,6 +234,18 @@ public void handlePayload(Building source, Payload payload){\n             updatePayload();\n         }\n \n+        @Override\n+        public void onDestroyed(){\n+            super.onDestroyed();\n+            if (item != null) item.dump();\n+        }\n+\n+        @Override\n+        public void onRemoved(){\n+            super.onRemoved();\n+            if (item != null) item.dump();", "originalCommit": "ee3348d160d6d55df98618bd4b37a3861578a9fb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "699750762f0dc91dbbafdae6a0626a0661167d27", "chunk": "diff --git a/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java b/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\nindex 8de59475f..241cc2747 100644\n--- a/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\n+++ b/core/src/mindustry/world/blocks/distribution/PayloadConveyor.java\n\n@@ -234,12 +234,6 @@ public class PayloadConveyor extends Block{\n             updatePayload();\n         }\n \n-        @Override\n-        public void onDestroyed(){\n-            super.onDestroyed();\n-            if (item != null) item.dump();\n-        }\n-\n         @Override\n         public void onRemoved(){\n             super.onRemoved();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA5MDA4Ng==", "url": "https://github.com/Anuken/Mindustry/pull/3646#discussion_r532090086", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (payload != null) payload.dump();\n          \n          \n            \n                        if(payload != null) payload.dump();", "author": "Quezler", "createdAt": "2020-11-28T18:13:05Z", "path": "core/src/mindustry/world/blocks/production/PayloadAcceptor.java", "diffHunk": "@@ -82,6 +82,18 @@ public Payload takePayload(){\n             return t;\n         }\n \n+        @Override\n+        public void onDestroyed(){\n+            super.onDestroyed();\n+            if (payload != null) payload.dump();", "originalCommit": "ee3348d160d6d55df98618bd4b37a3861578a9fb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "699750762f0dc91dbbafdae6a0626a0661167d27", "chunk": "diff --git a/core/src/mindustry/world/blocks/production/PayloadAcceptor.java b/core/src/mindustry/world/blocks/production/PayloadAcceptor.java\nindex d0f7cbf16..205437928 100644\n--- a/core/src/mindustry/world/blocks/production/PayloadAcceptor.java\n+++ b/core/src/mindustry/world/blocks/production/PayloadAcceptor.java\n\n@@ -82,12 +83,6 @@ public class PayloadAcceptor extends Block{\n             return t;\n         }\n \n-        @Override\n-        public void onDestroyed(){\n-            super.onDestroyed();\n-            if (payload != null) payload.dump();\n-        }\n-\n         @Override\n         public void onRemoved(){\n             super.onRemoved();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA5MDA5OA==", "url": "https://github.com/Anuken/Mindustry/pull/3646#discussion_r532090098", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (payload != null) payload.dump();\n          \n          \n            \n                        if(payload != null) payload.dump();", "author": "Quezler", "createdAt": "2020-11-28T18:13:12Z", "path": "core/src/mindustry/world/blocks/production/PayloadAcceptor.java", "diffHunk": "@@ -82,6 +82,18 @@ public Payload takePayload(){\n             return t;\n         }\n \n+        @Override\n+        public void onDestroyed(){\n+            super.onDestroyed();\n+            if (payload != null) payload.dump();\n+        }\n+\n+        @Override\n+        public void onRemoved(){\n+            super.onRemoved();\n+            if (payload != null) payload.dump();", "originalCommit": "ee3348d160d6d55df98618bd4b37a3861578a9fb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "699750762f0dc91dbbafdae6a0626a0661167d27", "chunk": "diff --git a/core/src/mindustry/world/blocks/production/PayloadAcceptor.java b/core/src/mindustry/world/blocks/production/PayloadAcceptor.java\nindex d0f7cbf16..205437928 100644\n--- a/core/src/mindustry/world/blocks/production/PayloadAcceptor.java\n+++ b/core/src/mindustry/world/blocks/production/PayloadAcceptor.java\n\n@@ -82,12 +83,6 @@ public class PayloadAcceptor extends Block{\n             return t;\n         }\n \n-        @Override\n-        public void onDestroyed(){\n-            super.onDestroyed();\n-            if (payload != null) payload.dump();\n-        }\n-\n         @Override\n         public void onRemoved(){\n             super.onRemoved();\n"}}, {"oid": "699750762f0dc91dbbafdae6a0626a0661167d27", "url": "https://github.com/Anuken/Mindustry/commit/699750762f0dc91dbbafdae6a0626a0661167d27", "message": "removing unnecessary stuff", "committedDate": "2020-11-28T18:38:50Z", "type": "commit"}, {"oid": "b0477394e6ac5c12896245712999d507f888f051", "url": "https://github.com/Anuken/Mindustry/commit/b0477394e6ac5c12896245712999d507f888f051", "message": "oopsie x3", "committedDate": "2020-11-28T18:45:42Z", "type": "commit"}, {"oid": "e6078bd4f6f0d949c8956bb9cbb882cd47bbc103", "url": "https://github.com/Anuken/Mindustry/commit/e6078bd4f6f0d949c8956bb9cbb882cd47bbc103", "message": "oopsie x4", "committedDate": "2020-11-28T18:49:59Z", "type": "commit"}]}