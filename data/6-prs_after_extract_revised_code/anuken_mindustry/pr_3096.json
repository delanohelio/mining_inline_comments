{"pr_number": 3096, "pr_title": "make ending direction follow the path", "pr_createdAt": "2020-10-24T20:01:08Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/3096", "timeline": [{"oid": "73a5af2e5e65ea57185bb18c05261120c466147f", "url": "https://github.com/Anuken/Mindustry/commit/73a5af2e5e65ea57185bb18c05261120c466147f", "message": "make ending direction follow the path", "committedDate": "2020-10-24T19:34:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTUwOTIxMw==", "url": "https://github.com/Anuken/Mindustry/pull/3096#discussion_r511509213", "bodyText": "incorrect formatting here and below, see the guidelines", "author": "Anuken", "createdAt": "2020-10-24T20:04:03Z", "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1213,7 +1213,14 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n             line.x = point.x;\n             line.y = point.y;\n             if(!overrideLineRotation || diagonal){\n-                line.rotation = next != null ? Tile.relativeTo(point.x, point.y, next.x, next.y) : baseRotation;\n+                if (next != null){", "originalCommit": "73a5af2e5e65ea57185bb18c05261120c466147f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTUwOTc3OQ==", "url": "https://github.com/Anuken/Mindustry/pull/3096#discussion_r511509779", "bodyText": "fixed", "author": "azureblue", "createdAt": "2020-10-24T20:10:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTUwOTIxMw=="}], "type": "inlineReview", "revised_code": {"commit": "a7c24d4bfd3755abc1d07f5891b8371398cb7b4c", "chunk": "diff --git a/core/src/mindustry/input/InputHandler.java b/core/src/mindustry/input/InputHandler.java\nindex 87695c48c..bf3cb34f3 100644\n--- a/core/src/mindustry/input/InputHandler.java\n+++ b/core/src/mindustry/input/InputHandler.java\n\n@@ -1213,14 +1213,14 @@ public abstract class InputHandler implements InputProcessor, GestureListener{\n             line.x = point.x;\n             line.y = point.y;\n             if(!overrideLineRotation || diagonal){\n-                if (next != null){\n+                if(next != null){\n                     line.rotation = Tile.relativeTo(point.x, point.y, next.x, next.y);\n-                }else if (block.conveyorPlacement && i > 0){\n+                }else if(block.conveyorPlacement && i > 0){\n                     Point2 prev = points.get(i - 1);\n                     line.rotation = Tile.relativeTo(prev.x, prev.y, point.x, point.y);\n                 }else{\n                     line.rotation = baseRotation;\n-                }                \n+                }\n             }else{\n                 line.rotation = rotation;\n             }\n"}}, {"oid": "a7c24d4bfd3755abc1d07f5891b8371398cb7b4c", "url": "https://github.com/Anuken/Mindustry/commit/a7c24d4bfd3755abc1d07f5891b8371398cb7b4c", "message": "fixing formatting", "committedDate": "2020-10-24T20:10:02Z", "type": "commit"}]}