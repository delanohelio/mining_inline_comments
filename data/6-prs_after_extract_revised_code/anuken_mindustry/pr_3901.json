{"pr_number": 3901, "pr_title": "Movement Lightning Ability Improvements", "pr_createdAt": "2020-12-10T01:45:46Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/3901", "timeline": [{"oid": "7b63e056acb5f1dba0abf9e0318b6246ed86e885", "url": "https://github.com/Anuken/Mindustry/commit/7b63e056acb5f1dba0abf9e0318b6246ed86e885", "message": "Movement Lightning Ability Improvements", "committedDate": "2020-12-10T01:34:44Z", "type": "commit"}, {"oid": "062ea923ecd7cc1331e5d49fabea42051dd925a2", "url": "https://github.com/Anuken/Mindustry/commit/062ea923ecd7cc1331e5d49fabea42051dd925a2", "message": "`Core.atlas.find` Might not always be avalable", "committedDate": "2020-12-10T02:16:59Z", "type": "commit"}, {"oid": "4aba11a5b0ed962163311fe29156577d40458f88", "url": "https://github.com/Anuken/Mindustry/commit/4aba11a5b0ed962163311fe29156577d40458f88", "message": "Default is null", "committedDate": "2020-12-10T05:12:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTgzNzc0NA==", "url": "https://github.com/Anuken/Mindustry/pull/3901#discussion_r559837744", "bodyText": "Just make this a String. Loading stuff in the constructor will lead to a headless crash.", "author": "Anuken", "createdAt": "2021-01-18T23:42:16Z", "path": "core/src/mindustry/entities/abilities/MoveLightningAbility.java", "diffHunk": "@@ -19,28 +22,69 @@\n     public float minSpeed = 0.8f, maxSpeed = 1.2f;\n     //Lightning color\n     public Color color = Color.valueOf(\"a9d8ff\");\n+    //Shifts where the lightning spawns along the Y axis\n+    public float offset = 0f;\n+    //Jittering heat sprite like the shield on v5 Javelin\n+    public TextureRegion heatRegion = Core.atlas.find(\"error\");", "originalCommit": "4aba11a5b0ed962163311fe29156577d40458f88", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDQyNDM0OQ==", "url": "https://github.com/Anuken/Mindustry/pull/3901#discussion_r560424349", "bodyText": "Yea I experienced this while working on Project Unity", "author": "MEEPofFaith", "createdAt": "2021-01-19T19:20:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTgzNzc0NA=="}], "type": "inlineReview", "revised_code": {"commit": "870f0aa07a8b9a0f0f8144423a28ee6209c1eed6", "chunk": "diff --git a/core/src/mindustry/entities/abilities/MoveLightningAbility.java b/core/src/mindustry/entities/abilities/MoveLightningAbility.java\nindex d1992aad7..d03f08b01 100644\n--- a/core/src/mindustry/entities/abilities/MoveLightningAbility.java\n+++ b/core/src/mindustry/entities/abilities/MoveLightningAbility.java\n\n@@ -25,14 +25,14 @@ public class MoveLightningAbility extends Ability{\n     //Shifts where the lightning spawns along the Y axis\n     public float offset = 0f;\n     //Jittering heat sprite like the shield on v5 Javelin\n-    public TextureRegion heatRegion = Core.atlas.find(\"error\");\n+    public String heatRegion = \"error\";\n     \n     public Effect shootEffect = Fx.sparkShoot;\n     public Sound shootSound = Sounds.spark;\n     \n     MoveLightningAbility(){}\n     \n-    public MoveLightningAbility(float damage, int length, float chance, float offset, float minSpeed, float maxSpeed, Color color, TextureRegion heatRegion){\n+    public MoveLightningAbility(float damage, int length, float chance, float offset, float minSpeed, float maxSpeed, Color color, String heatRegion){\n         this.damage = damage;\n         this.length = length;\n         this.chance = chance;\n"}}, {"oid": "870f0aa07a8b9a0f0f8144423a28ee6209c1eed6", "url": "https://github.com/Anuken/Mindustry/commit/870f0aa07a8b9a0f0f8144423a28ee6209c1eed6", "message": "Fix", "committedDate": "2021-01-20T00:16:12Z", "type": "commit"}, {"oid": "870f0aa07a8b9a0f0f8144423a28ee6209c1eed6", "url": "https://github.com/Anuken/Mindustry/commit/870f0aa07a8b9a0f0f8144423a28ee6209c1eed6", "message": "Fix", "committedDate": "2021-01-20T00:16:12Z", "type": "forcePushed"}]}