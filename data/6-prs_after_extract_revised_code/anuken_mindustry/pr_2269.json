{"pr_number": 2269, "pr_title": "add 'use strict' to mod scripts", "pr_createdAt": "2020-07-27T02:58:32Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/2269", "timeline": [{"oid": "3bf2e18e855eb8c59aad4d0eff29931222089ef6", "url": "https://github.com/Anuken/Mindustry/commit/3bf2e18e855eb8c59aad4d0eff29931222089ef6", "message": "add 'use strict' to mod scripts", "committedDate": "2020-07-27T02:55:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAyMzc3OQ==", "url": "https://github.com/Anuken/Mindustry/pull/2269#discussion_r461023779", "bodyText": "It really should be 'use strict';\\n", "author": "Shawak", "createdAt": "2020-07-27T16:42:14Z", "path": "core/src/mindustry/mod/Scripts.java", "diffHunk": "@@ -93,7 +93,7 @@ private boolean run(String script, String file, boolean wrap){\n                 context.evaluateString(scope, \"modName = \\\"\" + currentMod.name + \"\\\"\\nscriptName = \\\"\" + file + \"\\\"\", \"initscript.js\", 1, null);\n             }\n             context.evaluateString(scope,\n-            wrap ? \"(function(){\\n\" + script + \"\\n})();\" : script,\n+            wrap ? \"(function(){'use strict'\\n\" + script + \"\\n})();\" : script,", "originalCommit": "3bf2e18e855eb8c59aad4d0eff29931222089ef6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5MzA0NQ==", "url": "https://github.com/Anuken/Mindustry/pull/2269#discussion_r461093045", "bodyText": "you missed a semicolon", "author": "ILiekMelons", "createdAt": "2020-07-27T18:41:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAyMzc3OQ=="}], "type": "inlineReview", "revised_code": {"commit": "6c6640f6c612270dc645d9177f16f37d1cf2571b", "chunk": "diff --git a/core/src/mindustry/mod/Scripts.java b/core/src/mindustry/mod/Scripts.java\nindex 1b3feb13f..05aa9141d 100644\n--- a/core/src/mindustry/mod/Scripts.java\n+++ b/core/src/mindustry/mod/Scripts.java\n\n@@ -93,7 +93,7 @@ public class Scripts implements Disposable{\n                 context.evaluateString(scope, \"modName = \\\"\" + currentMod.name + \"\\\"\\nscriptName = \\\"\" + file + \"\\\"\", \"initscript.js\", 1, null);\n             }\n             context.evaluateString(scope,\n-            wrap ? \"(function(){'use strict'\\n\" + script + \"\\n})();\" : script,\n+            wrap ? \"(function(){'use strict';\\n\" + script + \"\\n})();\" : script,\n             file, 0, null);\n             return true;\n         }catch(Throwable t){\n"}}, {"oid": "6c6640f6c612270dc645d9177f16f37d1cf2571b", "url": "https://github.com/Anuken/Mindustry/commit/6c6640f6c612270dc645d9177f16f37d1cf2571b", "message": "semicolon", "committedDate": "2020-07-28T11:57:02Z", "type": "commit"}]}