{"pr_number": 3547, "pr_title": "Added a method to CompositeFuture to retrieve all failure causes", "pr_createdAt": "2020-08-31T16:19:14Z", "pr_url": "https://github.com/eclipse-vertx/vert.x/pull/3547", "timeline": [{"oid": "81934ce32cc11b6632993497d2aeb60855ca2637", "url": "https://github.com/eclipse-vertx/vert.x/commit/81934ce32cc11b6632993497d2aeb60855ca2637", "message": "Added a method to CompositeFuture", "committedDate": "2020-08-31T16:17:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI0MDQ2NQ==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3547#discussion_r480240465", "bodyText": "can you instead do like list() do that creates less objects", "author": "vietj", "createdAt": "2020-08-31T16:20:43Z", "path": "src/main/java/io/vertx/core/CompositeFuture.java", "diffHunk": "@@ -246,4 +248,14 @@ default CompositeFuture onFailure(Handler<Throwable> handler) {\n     }\n     return list;\n   }\n+\n+  /**\n+   * @return a list of all the eventual failure causes. If no future failed, returns a list of null values.\n+   */\n+  @GenIgnore\n+  default List<Throwable> causes() {", "originalCommit": "81934ce32cc11b6632993497d2aeb60855ca2637", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI0MTY4Mg==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3547#discussion_r480241682", "bodyText": "done", "author": "slinkydeveloper", "createdAt": "2020-08-31T16:22:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI0MDQ2NQ=="}], "type": "inlineReview", "revised_code": {"commit": "88c51a80dac65e97e7ce55d8c4d1a050a79958e3", "chunk": "diff --git a/src/main/java/io/vertx/core/CompositeFuture.java b/src/main/java/io/vertx/core/CompositeFuture.java\nindex 11238fdb3..727cd13f2 100644\n--- a/src/main/java/io/vertx/core/CompositeFuture.java\n+++ b/src/main/java/io/vertx/core/CompositeFuture.java\n\n@@ -254,8 +254,11 @@ public interface CompositeFuture extends Future<CompositeFuture> {\n    */\n   @GenIgnore\n   default List<Throwable> causes() {\n-    return IntStream.range(0, size())\n-      .mapToObj(this::cause)\n-      .collect(Collectors.toList());\n+    int size = size();\n+    ArrayList<Throwable> list = new ArrayList<>(size);\n+    for (int index = 0; index < size; index++) {\n+      list.add(cause(index));\n+    }\n+    return list;\n   }\n }\n"}}, {"oid": "88c51a80dac65e97e7ce55d8c4d1a050a79958e3", "url": "https://github.com/eclipse-vertx/vert.x/commit/88c51a80dac65e97e7ce55d8c4d1a050a79958e3", "message": "No streams :(", "committedDate": "2020-08-31T16:22:35Z", "type": "commit"}]}