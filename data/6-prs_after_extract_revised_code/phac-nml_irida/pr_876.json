{"pr_number": 876, "pr_title": "Announcements upgrade admin details page", "pr_createdAt": "2020-11-30T15:30:04Z", "pr_url": "https://github.com/phac-nml/irida/pull/876", "timeline": [{"oid": "78f09d65f542d1bed5b8d74a59ad5cc6c0e5d738", "url": "https://github.com/phac-nml/irida/commit/78f09d65f542d1bed5b8d74a59ad5cc6c0e5d738", "message": "trying to rewrite the announcements details page with ant design", "committedDate": "2020-12-01T21:01:45Z", "type": "commit"}, {"oid": "ae9489bb558ce9090aae91e43169d0f7ebfe5364", "url": "https://github.com/phac-nml/irida/commit/ae9489bb558ce9090aae91e43169d0f7ebfe5364", "message": "fixing not displaying the date if one does not exist", "committedDate": "2020-12-01T21:18:30Z", "type": "commit"}, {"oid": "9040ddfde950f64b24efc8b1096c919e21af58c4", "url": "https://github.com/phac-nml/irida/commit/9040ddfde950f64b24efc8b1096c919e21af58c4", "message": "fixing the 'No property status found for type User' error when sorting table column", "committedDate": "2020-12-02T16:15:09Z", "type": "commit"}, {"oid": "2d3260ee9ab22e3dde1d58acc15d77c6198cb690", "url": "https://github.com/phac-nml/irida/commit/2d3260ee9ab22e3dde1d58acc15d77c6198cb690", "message": "starting to add the edit form to the details drawer", "committedDate": "2020-12-02T21:03:28Z", "type": "commit"}, {"oid": "fd8942359c666f35d2e59e37b90787ac449fcd14", "url": "https://github.com/phac-nml/irida/commit/fd8942359c666f35d2e59e37b90787ac449fcd14", "message": "Merge branch 'announcements-upgrade-base' into announcements-upgrade-admin-details-page", "committedDate": "2020-12-02T21:11:50Z", "type": "commit"}, {"oid": "20ad2b717bfcc2961922be62cfd77f6dd6f21e60", "url": "https://github.com/phac-nml/irida/commit/20ad2b717bfcc2961922be62cfd77f6dd6f21e60", "message": "removing page wrapper from drawer, moving title, switching tabs", "committedDate": "2020-12-03T14:48:10Z", "type": "commit"}, {"oid": "a7241b27c05ce86325eabf3c6ca2ad61b8125e66", "url": "https://github.com/phac-nml/irida/commit/a7241b27c05ce86325eabf3c6ca2ad61b8125e66", "message": "removing status column from user read announcement table", "committedDate": "2020-12-03T15:08:24Z", "type": "commit"}, {"oid": "8821f3401e8d81f7d60dacd43d685805341536d2", "url": "https://github.com/phac-nml/irida/commit/8821f3401e8d81f7d60dacd43d685805341536d2", "message": "fixing user link in announcment table", "committedDate": "2020-12-03T15:50:47Z", "type": "commit"}, {"oid": "2f5ca9c61a3bc95a81aa2fdb157e353a895bd326", "url": "https://github.com/phac-nml/irida/commit/2f5ca9c61a3bc95a81aa2fdb157e353a895bd326", "message": "creating one announcement form and converting to drawer from modal", "committedDate": "2020-12-03T20:23:03Z", "type": "commit"}, {"oid": "4c8fd52725b3e72ab7301634f240fe865f666952", "url": "https://github.com/phac-nml/irida/commit/4c8fd52725b3e72ab7301634f240fe865f666952", "message": "adding i18n properties", "committedDate": "2020-12-03T20:32:14Z", "type": "commit"}, {"oid": "afefec82ccbecb650069163a14338c8615d18fa2", "url": "https://github.com/phac-nml/irida/commit/afefec82ccbecb650069163a14338c8615d18fa2", "message": "removing the delete button on the form as one exists on the announcements table already", "committedDate": "2020-12-03T22:24:47Z", "type": "commit"}, {"oid": "17e515b0f6a149f916203a7974a2ce11453dc6b1", "url": "https://github.com/phac-nml/irida/commit/17e515b0f6a149f916203a7974a2ce11453dc6b1", "message": "resetting the form after submission", "committedDate": "2020-12-04T12:51:07Z", "type": "commit"}, {"oid": "eb16823ef00df2dfd1d1fc163257ae65f1add843", "url": "https://github.com/phac-nml/irida/commit/eb16823ef00df2dfd1d1fc163257ae65f1add843", "message": "adding a useContext hook to pass the visibility state to show and hide the announcement form", "committedDate": "2020-12-07T17:02:16Z", "type": "commit"}, {"oid": "91dc19c195b8852a70d6acc25277c6742d909f82", "url": "https://github.com/phac-nml/irida/commit/91dc19c195b8852a70d6acc25277c6742d909f82", "message": "working on announcement tests", "committedDate": "2020-12-08T18:41:59Z", "type": "commit"}, {"oid": "2021ea8bb10d39d04ef7fbd35ab64a5da3603f0a", "url": "https://github.com/phac-nml/irida/commit/2021ea8bb10d39d04ef7fbd35ab64a5da3603f0a", "message": "removing unused datatable", "committedDate": "2020-12-09T16:26:26Z", "type": "commit"}, {"oid": "29bffb0e0f0d30241f15826bbb1e8308c226f8e6", "url": "https://github.com/phac-nml/irida/commit/29bffb0e0f0d30241f15826bbb1e8308c226f8e6", "message": "removing unused i18n property", "committedDate": "2020-12-09T16:27:47Z", "type": "commit"}, {"oid": "a3b3f0b03c0b19348a382ceac634b846eaf5e5a0", "url": "https://github.com/phac-nml/irida/commit/a3b3f0b03c0b19348a382ceac634b846eaf5e5a0", "message": "deleting unused html pages", "committedDate": "2020-12-09T17:11:00Z", "type": "commit"}, {"oid": "609644f492e85b505299988555de414a059142cf", "url": "https://github.com/phac-nml/irida/commit/609644f492e85b505299988555de414a059142cf", "message": "removing unused functionality", "committedDate": "2020-12-09T20:32:41Z", "type": "commit"}, {"oid": "26e0fb9b78eaa68c3518221da4deb194e4b3502f", "url": "https://github.com/phac-nml/irida/commit/26e0fb9b78eaa68c3518221da4deb194e4b3502f", "message": "changing drawer to modal", "committedDate": "2020-12-10T19:00:11Z", "type": "commit"}, {"oid": "19fa8c4310549c347b48d22daaee4c4eb3774c6b", "url": "https://github.com/phac-nml/irida/commit/19fa8c4310549c347b48d22daaee4c4eb3774c6b", "message": "hiding modal footer as we want to use the form buttons", "committedDate": "2020-12-11T14:11:17Z", "type": "commit"}, {"oid": "a869b5fa8f4823c77d5cecb5c3aad921e20f585e", "url": "https://github.com/phac-nml/irida/commit/a869b5fa8f4823c77d5cecb5c3aad921e20f585e", "message": "splitting the announcement details into their own modals", "committedDate": "2020-12-11T16:52:12Z", "type": "commit"}, {"oid": "57cbce4db1e7989508f6699abecbb9efb3345d1d", "url": "https://github.com/phac-nml/irida/commit/57cbce4db1e7989508f6699abecbb9efb3345d1d", "message": "Merge pull request #888 from phac-nml/announcements-upgrade-admin-details-page-version-modal\n\nAnnouncements upgrade admin details page version modal", "committedDate": "2020-12-11T18:14:18Z", "type": "commit"}, {"oid": "8ad6d6b8970fc120809ac092dadee20797acb563", "url": "https://github.com/phac-nml/irida/commit/8ad6d6b8970fc120809ac092dadee20797acb563", "message": "fixing tests", "committedDate": "2020-12-14T10:52:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMxMTI0Mw==", "url": "https://github.com/phac-nml/irida/pull/876#discussion_r542311243", "bodyText": "Can you remove this @ResponseBody annotation, that is only used on controllers, not services.  Actually, looking through this file, there is a bunch of annotations that should not be there.  The only one that should is the @Component.  Can you please remove all the @RequestBody and @ResponseBody annotations?", "author": "joshsadam", "createdAt": "2020-12-14T11:26:08Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIAnnouncementsService.java", "diffHunk": "@@ -97,23 +93,22 @@ public void deleteAnnouncement(@RequestBody AnnouncementRequest announcementRequ\n \t/**\n \t * Get user read status for current announcement\n \t * @param announcementID {@link Long} identifier for the {@link Announcement}\n-\t * @param params {@link DataTablesParams} parameters for current DataTable\n-\t * @return {@link DataTablesResponse} containing the list of users.\n+\t * @param tableRequest details about the current page of the table requested\n+\t * @return a {@link TableResponse} containing the list of users.\n \t */\n \tpublic @ResponseBody", "originalCommit": "8ad6d6b8970fc120809ac092dadee20797acb563", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQwODUxMA==", "url": "https://github.com/phac-nml/irida/pull/876#discussion_r542408510", "bodyText": "Done. Please see 2024268.", "author": "ksierks", "createdAt": "2020-12-14T14:05:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMxMTI0Mw=="}], "type": "inlineReview", "revised_code": {"commit": "2024268b62109feef1af7dd431a0ebf4f5cb0143", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIAnnouncementsService.java b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIAnnouncementsService.java\nindex 1f6c668c8d..62f96ba86d 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIAnnouncementsService.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIAnnouncementsService.java\n\n@@ -86,7 +85,7 @@ public class UIAnnouncementsService {\n \t *\n \t * @param announcementRequest - the announcement to delete\n \t */\n-\tpublic void deleteAnnouncement(@RequestBody AnnouncementRequest announcementRequest) {\n+\tpublic void deleteAnnouncement(AnnouncementRequest announcementRequest) {\n \t\tannouncementService.delete(announcementRequest.getId());\n \t}\n \n"}}, {"oid": "26eca8d1f134f68b83cd3a39cbeac6b9efc2cdcc", "url": "https://github.com/phac-nml/irida/commit/26eca8d1f134f68b83cd3a39cbeac6b9efc2cdcc", "message": "changing search on paged table for josh", "committedDate": "2020-12-14T11:28:59Z", "type": "commit"}, {"oid": "2024268b62109feef1af7dd431a0ebf4f5cb0143", "url": "https://github.com/phac-nml/irida/commit/2024268b62109feef1af7dd431a0ebf4f5cb0143", "message": "removing unnecessary annotations", "committedDate": "2020-12-14T13:24:59Z", "type": "commit"}, {"oid": "a324fb4d8bc12d89e765150fae3865c7c1aeed9b", "url": "https://github.com/phac-nml/irida/commit/a324fb4d8bc12d89e765150fae3865c7c1aeed9b", "message": "adding missing className", "committedDate": "2020-12-14T13:45:25Z", "type": "commit"}]}