{"pr_number": 576, "pr_title": "Metadata entry reformat", "pr_createdAt": "2020-01-22T16:50:29Z", "pr_url": "https://github.com/phac-nml/irida/pull/576", "timeline": [{"oid": "5404bd8ea49f7225f48f05b0ad96428aa47d2db5", "url": "https://github.com/phac-nml/irida/commit/5404bd8ea49f7225f48f05b0ad96428aa47d2db5", "message": "pulling some files from another branch. this changes the format of the metadata from a map on the sample to a list", "committedDate": "2019-12-23T15:43:54Z", "type": "commit"}, {"oid": "9d9f864bb88d977b94a47d1f7f5e617b0fc80eee", "url": "https://github.com/phac-nml/irida/commit/9d9f864bb88d977b94a47d1f7f5e617b0fc80eee", "message": "got rid of most uses of mergeMetadata with the map", "committedDate": "2019-12-23T18:28:54Z", "type": "commit"}, {"oid": "9203547ba1b0cf0cdda5f6fa47da35a6731a9235", "url": "https://github.com/phac-nml/irida/commit/9203547ba1b0cf0cdda5f6fa47da35a6731a9235", "message": "setting sample on entry before saving", "committedDate": "2019-12-23T20:44:20Z", "type": "commit"}, {"oid": "208eb25deeef5a2a05cc30888afb66823df8c181", "url": "https://github.com/phac-nml/irida/commit/208eb25deeef5a2a05cc30888afb66823df8c181", "message": "changing sample details page to use metadta set", "committedDate": "2019-12-23T21:38:19Z", "type": "commit"}, {"oid": "fab45a823bbc04eacbe2776f3f2de9435b15af77", "url": "https://github.com/phac-nml/irida/commit/fab45a823bbc04eacbe2776f3f2de9435b15af77", "message": "updating project sync service to use new metadata functions", "committedDate": "2019-12-23T21:39:53Z", "type": "commit"}, {"oid": "9cdf2cb8c707483cceb99b65ab2e79719adb59d3", "url": "https://github.com/phac-nml/irida/commit/9cdf2cb8c707483cceb99b65ab2e79719adb59d3", "message": "rid of all refs to the metadata map", "committedDate": "2019-12-24T14:48:21Z", "type": "commit"}, {"oid": "f6e6dfac9f5c2d4342d405080ae0105dd55ccb04", "url": "https://github.com/phac-nml/irida/commit/f6e6dfac9f5c2d4342d405080ae0105dd55ccb04", "message": "removed refs to metadata map from the services and updaters", "committedDate": "2019-12-24T16:16:32Z", "type": "commit"}, {"oid": "4ef68c5e799a46be5d0c233ecd86d7815c5fc7c8", "url": "https://github.com/phac-nml/irida/commit/4ef68c5e799a46be5d0c233ecd86d7815c5fc7c8", "message": "fixed doc build errors", "committedDate": "2019-12-24T16:47:47Z", "type": "commit"}, {"oid": "23e28c886db3874f7ee2793df60aa591d7fcc8da", "url": "https://github.com/phac-nml/irida/commit/23e28c886db3874f7ee2793df60aa591d7fcc8da", "message": "added mock to sample test to read sample", "committedDate": "2019-12-24T16:51:00Z", "type": "commit"}, {"oid": "7e07e39a88a2fcce5fcb880d75532ad155b738b5", "url": "https://github.com/phac-nml/irida/commit/7e07e39a88a2fcce5fcb880d75532ad155b738b5", "message": "fixed javadoc errors", "committedDate": "2019-12-30T15:45:02Z", "type": "commit"}, {"oid": "dade727e22831415533b781a5f82e4996d03dae6", "url": "https://github.com/phac-nml/irida/commit/dade727e22831415533b781a5f82e4996d03dae6", "message": "changing all testing entries to the new format", "committedDate": "2019-12-30T16:07:12Z", "type": "commit"}, {"oid": "eb1807fb0ebefe61f0d3bf2050bc075c4d27260d", "url": "https://github.com/phac-nml/irida/commit/eb1807fb0ebefe61f0d3bf2050bc075c4d27260d", "message": "removed unused import", "committedDate": "2019-12-30T16:41:58Z", "type": "commit"}, {"oid": "aa50330154e1a86ad719ba279b57079927ad1890", "url": "https://github.com/phac-nml/irida/commit/aa50330154e1a86ad719ba279b57079927ad1890", "message": "adding notnulls to metadataentry", "committedDate": "2019-12-30T19:12:42Z", "type": "commit"}, {"oid": "76afa7bc88858708bbd5210eb309f2a093ae55d0", "url": "https://github.com/phac-nml/irida/commit/76afa7bc88858708bbd5210eb309f2a093ae55d0", "message": "fixed integrity issues in test data", "committedDate": "2019-12-30T21:41:00Z", "type": "commit"}, {"oid": "448b7f126898933d11fde77d2bdc5a845372d457", "url": "https://github.com/phac-nml/irida/commit/448b7f126898933d11fde77d2bdc5a845372d457", "message": "updating metadata refactor with more audit records", "committedDate": "2020-01-03T19:53:50Z", "type": "commit"}, {"oid": "0e187ee11b1370ce660ec29a93654e5643c4a33b", "url": "https://github.com/phac-nml/irida/commit/0e187ee11b1370ce660ec29a93654e5643c4a33b", "message": "moved most sample update ops off the sample and into a service", "committedDate": "2020-01-06T17:40:27Z", "type": "commit"}, {"oid": "fa8f7e37d3569ee63d15674c301bc4c36f80b659", "url": "https://github.com/phac-nml/irida/commit/fa8f7e37d3569ee63d15674c301bc4c36f80b659", "message": "moving sample metadata saving ops to the service instead of on sample itself", "committedDate": "2020-01-07T19:38:55Z", "type": "commit"}, {"oid": "2853a69978505589eabf40701b46821823e5f7fc", "url": "https://github.com/phac-nml/irida/commit/2853a69978505589eabf40701b46821823e5f7fc", "message": "using the new objects for getting a sample's metadata", "committedDate": "2020-01-07T19:39:16Z", "type": "commit"}, {"oid": "55802c4983d913cf7d8c021d2c04ebbabd12d460", "url": "https://github.com/phac-nml/irida/commit/55802c4983d913cf7d8c021d2c04ebbabd12d460", "message": "moved merge metadata tests to sampleservice", "committedDate": "2020-01-08T16:30:35Z", "type": "commit"}, {"oid": "1be6aa5ee8d04575b45362e53b63c43f2a3ecc18", "url": "https://github.com/phac-nml/irida/commit/1be6aa5ee8d04575b45362e53b63c43f2a3ecc18", "message": "fixing mock errors with project sync test", "committedDate": "2020-01-08T16:56:43Z", "type": "commit"}, {"oid": "35874b27d9b795f54fd43601429f5de7f94f03fd", "url": "https://github.com/phac-nml/irida/commit/35874b27d9b795f54fd43601429f5de7f94f03fd", "message": "all unit tests working with new sample updates", "committedDate": "2020-01-08T17:42:23Z", "type": "commit"}, {"oid": "7922c2f8a4d356b48c5269e744feb191d0c12753", "url": "https://github.com/phac-nml/irida/commit/7922c2f8a4d356b48c5269e744feb191d0c12753", "message": "removed metadata from hashcode on sample to avoid lazyinitialization error", "committedDate": "2020-01-08T20:03:51Z", "type": "commit"}, {"oid": "1ddf975255186de78eeba4ed7e13ba4d9cdac14a", "url": "https://github.com/phac-nml/irida/commit/1ddf975255186de78eeba4ed7e13ba4d9cdac14a", "message": "updated javadoc errors", "committedDate": "2020-01-08T21:01:08Z", "type": "commit"}, {"oid": "d82663139a60818b8b62c9daab71bb9eeea3f03b", "url": "https://github.com/phac-nml/irida/commit/d82663139a60818b8b62c9daab71bb9eeea3f03b", "message": "updated liquibase with comments", "committedDate": "2020-01-09T21:23:21Z", "type": "commit"}, {"oid": "e746bec04762cf50a1d5da14bc03fee79b9c5578", "url": "https://github.com/phac-nml/irida/commit/e746bec04762cf50a1d5da14bc03fee79b9c5578", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-01-10T17:19:42Z", "type": "commit"}, {"oid": "48d3b8ca28f8cbfc51e78b84196b8ed8eb611fd7", "url": "https://github.com/phac-nml/irida/commit/48d3b8ca28f8cbfc51e78b84196b8ed8eb611fd7", "message": "removing unnecessary constructor", "committedDate": "2020-01-10T17:38:32Z", "type": "commit"}, {"oid": "a0f5f849a2cc21b46313c5c99b9cbef959971b69", "url": "https://github.com/phac-nml/irida/commit/a0f5f849a2cc21b46313c5c99b9cbef959971b69", "message": "removed commented out code", "committedDate": "2020-01-10T18:00:11Z", "type": "commit"}, {"oid": "ba7964a2d8bbbf12b647b7a54b0b35ff4e4e34a0", "url": "https://github.com/phac-nml/irida/commit/ba7964a2d8bbbf12b647b7a54b0b35ff4e4e34a0", "message": "removed unused import", "committedDate": "2020-01-10T19:02:31Z", "type": "commit"}, {"oid": "b7e223f46e49a350e013ec0770ffc8c76b2a8c6d", "url": "https://github.com/phac-nml/irida/commit/b7e223f46e49a350e013ec0770ffc8c76b2a8c6d", "message": "rolled sync sched task back to dev.  it was mistakenly pushed", "committedDate": "2020-01-14T15:41:03Z", "type": "commit"}, {"oid": "8bc24075f72b79f62cb324a551f7d9d0ac188874", "url": "https://github.com/phac-nml/irida/commit/8bc24075f72b79f62cb324a551f7d9d0ac188874", "message": "fixed formatting", "committedDate": "2020-01-16T21:17:54Z", "type": "commit"}, {"oid": "feaa883dc7ff8b33e58b37bdddd5a518e4b533cd", "url": "https://github.com/phac-nml/irida/commit/feaa883dc7ff8b33e58b37bdddd5a518e4b533cd", "message": "added docs for metadata upgrade", "committedDate": "2020-01-20T20:06:29Z", "type": "commit"}, {"oid": "7da32bf64f43bfc72a4e53088ce45db78e74ed5b", "url": "https://github.com/phac-nml/irida/commit/7da32bf64f43bfc72a4e53088ce45db78e74ed5b", "message": "added script to generate metadata mappings for backup", "committedDate": "2020-01-20T20:11:13Z", "type": "commit"}, {"oid": "21025871ee0ec941fc5c1bc9ef85d65d450327d4", "url": "https://github.com/phac-nml/irida/commit/21025871ee0ec941fc5c1bc9ef85d65d450327d4", "message": "added changelog entry for metadata updaes", "committedDate": "2020-01-20T20:12:57Z", "type": "commit"}, {"oid": "918df31c06629f17764c2eb8a771d307331ccc57", "url": "https://github.com/phac-nml/irida/commit/918df31c06629f17764c2eb8a771d307331ccc57", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-01-22T16:51:03Z", "type": "commit"}, {"oid": "e28ce62bf01dc38f961f0889ef325b4a76747d95", "url": "https://github.com/phac-nml/irida/commit/e28ce62bf01dc38f961f0889ef325b4a76747d95", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-01-22T21:08:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTcwMTI4Ng==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r369701286", "bodyText": "Check if orphanRemoval is needed.", "author": "joshsadam", "createdAt": "2020-01-22T17:32:53Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/model/sample/MetadataTemplateField.java", "diffHunk": "@@ -34,6 +30,9 @@\n \t@NotNull\n \tprivate String type;\n \n+\t@OneToMany(mappedBy = \"field\", orphanRemoval = true, cascade = CascadeType.ALL)", "originalCommit": "918df31c06629f17764c2eb8a771d307331ccc57", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDY3OTk3Nw==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r370679977", "bodyText": "Removed it in 49437e3.  Let the tests run to verify but it shouldn't be needed since we can't modify that set anyway.", "author": "tom114", "createdAt": "2020-01-24T15:04:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTcwMTI4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "49437e37e94e3e8577b3bcba059c2efcc6cffd83", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/model/sample/MetadataTemplateField.java b/src/main/java/ca/corefacility/bioinformatics/irida/model/sample/MetadataTemplateField.java\nindex 5f6d65bb84..1cbb08dc44 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/model/sample/MetadataTemplateField.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/model/sample/MetadataTemplateField.java\n\n@@ -30,7 +30,7 @@ public class MetadataTemplateField {\n \t@NotNull\n \tprivate String type;\n \n-\t@OneToMany(mappedBy = \"field\", orphanRemoval = true, cascade = CascadeType.ALL)\n+\t@OneToMany(mappedBy = \"field\", cascade = CascadeType.ALL)\n \tprivate List<MetadataEntry> metadataEntries;\n \n \tpublic MetadataTemplateField() {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM1MzM0MQ==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r370353341", "bodyText": "Can we update this method to be something like convertStringToMetadataMap or something?", "author": "joshsadam", "createdAt": "2020-01-23T21:04:49Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/MetadataTemplateServiceImpl.java", "diffHunk": "@@ -145,24 +143,32 @@ public MetadataTemplateField saveMetadataField(MetadataTemplateField field) {\n \t\treturn fieldRepository.findAllMetadataFieldsByLabelQuery(query);\n \t}\n \n+\t/**\n+\t * {@inheritDoc}\n+\t */\n \t@Override\n \t@Transactional\n \t@PreAuthorize(\"permitAll()\")\n-\tpublic Map<MetadataTemplateField, MetadataEntry> getMetadataMap(Map<String, MetadataEntry> metadataMap) {", "originalCommit": "e28ce62bf01dc38f961f0889ef325b4a76747d95", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDY3OTY2Ng==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r370679666", "bodyText": "Renamed in\n4c71547", "author": "tom114", "createdAt": "2020-01-24T15:03:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM1MzM0MQ=="}], "type": "inlineReview", "revised_code": {"commit": "4c7154750e1a8fd5c4e26cbe7594c1dee7c13bb1", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/MetadataTemplateServiceImpl.java b/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/MetadataTemplateServiceImpl.java\nindex 81570d87ed..0dd5b07bb6 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/MetadataTemplateServiceImpl.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/MetadataTemplateServiceImpl.java\n\n@@ -149,7 +149,7 @@ public class MetadataTemplateServiceImpl extends CRUDServiceImpl<Long, MetadataT\n \t@Override\n \t@Transactional\n \t@PreAuthorize(\"permitAll()\")\n-\tpublic Set<MetadataEntry> getMetadataSet(Map<String, MetadataEntry> metadataMap) {\n+\tpublic Set<MetadataEntry> convertMetadataStringsToSet(Map<String, MetadataEntry> metadataMap) {\n \t\tSet<MetadataEntry> metadata = new HashSet<>();\n \n \t\tmetadataMap.entrySet()\n"}}, {"oid": "87f6f5ef5ae5b19a580993f75925b68afab5821b", "url": "https://github.com/phac-nml/irida/commit/87f6f5ef5ae5b19a580993f75925b68afab5821b", "message": "reworded metadata doc", "committedDate": "2020-01-24T14:59:14Z", "type": "commit"}, {"oid": "4c7154750e1a8fd5c4e26cbe7594c1dee7c13bb1", "url": "https://github.com/phac-nml/irida/commit/4c7154750e1a8fd5c4e26cbe7594c1dee7c13bb1", "message": "renamed metadataset method", "committedDate": "2020-01-24T15:00:28Z", "type": "commit"}, {"oid": "49437e37e94e3e8577b3bcba059c2efcc6cffd83", "url": "https://github.com/phac-nml/irida/commit/49437e37e94e3e8577b3bcba059c2efcc6cffd83", "message": "removed orphanremoval from metadatafield since we can't modify that set anyway", "committedDate": "2020-01-24T15:01:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAzNTQ0NQ==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r371035445", "bodyText": "We are likely going to have to give people instructions on how to make these changes in all the IRIDA plugins as well. See my main comment in the general comments section.", "author": "apetkau", "createdAt": "2020-01-26T22:54:43Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/pipeline/results/updater/impl/BioHanselSampleUpdater.java", "diffHunk": "@@ -108,11 +105,11 @@ public void update(Collection<Sample> samples, AnalysisSubmission analysis) thro\n \t\t\t\t\t\t\t\t+ \"'. Please check the format of this file!\");\n \t\t\t\t\t}\n \t\t\t\t});\n-\t\t\t\tMap<MetadataTemplateField, MetadataEntry> metadataMap = metadataTemplateService.getMetadataMap(\n-\t\t\t\t\t\tstringEntries);\n \n-\t\t\t\tsample.mergeMetadata(metadataMap);\n-\t\t\t\tsampleService.updateFields(sample.getId(), ImmutableMap.of(\"metadata\", sample.getMetadata()));\n+\t\t\t\tSet<MetadataEntry> metadataSet = metadataTemplateService.convertMetadataStringsToSet(stringEntries);", "originalCommit": "49437e37e94e3e8577b3bcba059c2efcc6cffd83", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAzNzQ0Mg==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r371037442", "bodyText": "I suspect the findFirst() here causes issues where we can have many duplicated entries in our database for metadata fields. See comment in general comments.", "author": "apetkau", "createdAt": "2020-01-26T23:35:32Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/SampleServiceImpl.java", "diffHunk": "@@ -172,6 +180,76 @@ public Sample update(Sample object) {\n \t\treturn super.update(object);\n \t}\n \n+\t/**\n+\t * {@inheritDoc}\n+\t */\n+\t@PreAuthorize(\"hasPermission(#sample, 'canReadSample')\")\n+\t@Override\n+\tpublic Set<MetadataEntry> getMetadataForSample(Sample sample) {\n+\t\treturn metadataEntryRepository.getMetadataForSample(sample);\n+\t}\n+\n+\t/**\n+\t * {@inheritDoc}\n+\t */\n+\t@PreAuthorize(\"hasPermission(#s, 'canUpdateSample')\")\n+\t@Transactional\n+\tpublic Sample updateSampleMetadata(Sample s, Set<MetadataEntry> metadataToSet) {\n+\t\tSet<MetadataEntry> currentMetadata = getMetadataForSample(s);\n+\n+\t\tmetadataEntryRepository.deleteAll(currentMetadata);\n+\n+\t\tfor(MetadataEntry e : metadataToSet){\n+\t\t\te.setSample(s);\n+\t\t}\n+\n+\t\tmetadataEntryRepository.saveAll(metadataToSet);\n+\n+\t\ts = read(s.getId());\n+\n+\t\treturn s;\n+\t}\n+\n+\t/**\n+\t * {@inheritDoc}\n+\t */\n+\t@PreAuthorize(\"hasPermission(#s, 'canUpdateSample')\")\n+\t@Transactional\n+\tpublic Sample mergeSampleMetadata(Sample s, Set<MetadataEntry> metadataToAdd) {\n+\t\tSet<MetadataEntry> currentMetadata = getMetadataForSample(s);\n+\n+\t\t// loop through entry set and see if it already exists\n+\t\tfor (MetadataEntry newMetadataEntry : metadataToAdd) {\n+\t\t\tMetadataTemplateField field = newMetadataEntry.getField();\n+\t\t\tnewMetadataEntry.setSample(s);\n+\n+\t\t\tOptional<MetadataEntry> metadataEntryForField = currentMetadata.stream()\n+\t\t\t\t\t.filter(e -> e.getField()\n+\t\t\t\t\t\t\t.equals(field))\n+\t\t\t\t\t.findFirst();", "originalCommit": "49437e37e94e3e8577b3bcba059c2efcc6cffd83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcwMTU2Nw==", "url": "https://github.com/phac-nml/irida/pull/576#discussion_r478701567", "bodyText": "Added a fix in 000defa which deletes the old metadata entry if the types differ.  We're seeing this sort of thing in a bunch of places with JPA that even if we save a new collection without the old entity, it sometimes stays connected.  The result has generally been to actually delete the old entity before saving the new collection.  This appears to resolve the above issue number 2.", "author": "tom114", "createdAt": "2020-08-27T21:18:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAzNzQ0Mg=="}], "type": "inlineReview", "revised_code": {"commit": "000defa30f2d7a74ba0231c5f1170701b5da9f12", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/SampleServiceImpl.java b/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/SampleServiceImpl.java\nindex 48096086dd..cfa086007e 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/SampleServiceImpl.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/service/impl/sample/SampleServiceImpl.java\n\n@@ -238,6 +244,8 @@ public class SampleServiceImpl extends CRUDServiceImpl<Long, Sample> implements\n \t\t\t\t} else {\n \t\t\t\t\t// if they are different types, I need to replace the metadata entry instead of merging\n \t\t\t\t\tcurrentMetadata.remove(originalMetadataEntry);\n+\t\t\t\t\tmetadataEntryRepository.delete(originalMetadataEntry);\n+\n \t\t\t\t\tcurrentMetadata.add(newMetadataEntry);\n \t\t\t\t}\n \t\t\t} else {\n"}}, {"oid": "7baf0759bf4f77a4fe8ed685d76aaff562b46304", "url": "https://github.com/phac-nml/irida/commit/7baf0759bf4f77a4fe8ed685d76aaff562b46304", "message": "Doc updates to clarify some metadata issues.", "committedDate": "2020-01-27T16:25:19Z", "type": "commit"}, {"oid": "0ff7d554d945d6e108f1ca19c33f20f7024c21c4", "url": "https://github.com/phac-nml/irida/commit/0ff7d554d945d6e108f1ca19c33f20f7024c21c4", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-02-03T20:17:39Z", "type": "commit"}, {"oid": "e4b4be37e82f76d8ad49a28dd12fdf7e1ed2722a", "url": "https://github.com/phac-nml/irida/commit/e4b4be37e82f76d8ad49a28dd12fdf7e1ed2722a", "message": "moving metadata changeset to 20.05", "committedDate": "2020-02-03T20:19:12Z", "type": "commit"}, {"oid": "05d98666c64aec13defe7bc99fc6b71083272ca4", "url": "https://github.com/phac-nml/irida/commit/05d98666c64aec13defe7bc99fc6b71083272ca4", "message": "moved upgrade guide info to 20.05 in docs", "committedDate": "2020-02-03T21:11:45Z", "type": "commit"}, {"oid": "b7783205f13f9d70f5f5202125c9d136cfec70c0", "url": "https://github.com/phac-nml/irida/commit/b7783205f13f9d70f5f5202125c9d136cfec70c0", "message": "updated plugin version to 1.1", "committedDate": "2020-02-03T21:24:15Z", "type": "commit"}, {"oid": "45df28fad13ddfa8ae6b4c65f39e58058c3e20e0", "url": "https://github.com/phac-nml/irida/commit/45df28fad13ddfa8ae6b4c65f39e58058c3e20e0", "message": "added docs for updating your plugin", "committedDate": "2020-02-03T21:54:18Z", "type": "commit"}, {"oid": "6b937b61edcdcfc9030e3e7102106af520cdd491", "url": "https://github.com/phac-nml/irida/commit/6b937b61edcdcfc9030e3e7102106af520cdd491", "message": "liquibase changes file added", "committedDate": "2020-02-03T21:54:35Z", "type": "commit"}, {"oid": "ae1de4c5d9aafd65f0fbd3a757e78fc75e0f00cc", "url": "https://github.com/phac-nml/irida/commit/ae1de4c5d9aafd65f0fbd3a757e78fc75e0f00cc", "message": "fixed link to analysis updaters", "committedDate": "2020-02-04T15:32:26Z", "type": "commit"}, {"oid": "ef7d4102e7f170557ab02d835e3c7ae1abf2b2ef", "url": "https://github.com/phac-nml/irida/commit/ef7d4102e7f170557ab02d835e3c7ae1abf2b2ef", "message": "updated plugin framework version in docs", "committedDate": "2020-02-04T16:36:54Z", "type": "commit"}, {"oid": "998d29e18743fec3f8854c1f6262343496af363f", "url": "https://github.com/phac-nml/irida/commit/998d29e18743fec3f8854c1f6262343496af363f", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-05-17T02:20:49Z", "type": "commit"}, {"oid": "ead89451526a0bee57b6314a7b3864a838010148", "url": "https://github.com/phac-nml/irida/commit/ead89451526a0bee57b6314a7b3864a838010148", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-06-01T14:21:24Z", "type": "commit"}, {"oid": "9de975d6c166098cb7b4a6ffa5c1c3246d051f9a", "url": "https://github.com/phac-nml/irida/commit/9de975d6c166098cb7b4a6ffa5c1c3246d051f9a", "message": "moved emtadata refactor liquibase to 20.09", "committedDate": "2020-06-01T14:22:05Z", "type": "commit"}, {"oid": "ff03381a4ddeebbf363bbeeefd8a72d36fd1d08e", "url": "https://github.com/phac-nml/irida/commit/ff03381a4ddeebbf363bbeeefd8a72d36fd1d08e", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-06-01T15:02:52Z", "type": "commit"}, {"oid": "b71f4f66cddc0feee3226d65e6186db32a35e978", "url": "https://github.com/phac-nml/irida/commit/b71f4f66cddc0feee3226d65e6186db32a35e978", "message": "moving metadata refactor doc text up to 20.09", "committedDate": "2020-06-01T15:04:41Z", "type": "commit"}, {"oid": "5a43958050a87b6cd7135e08ba9a6a043108e988", "url": "https://github.com/phac-nml/irida/commit/5a43958050a87b6cd7135e08ba9a6a043108e988", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-06-01T15:06:23Z", "type": "commit"}, {"oid": "2edbfe9118c1da70bf7b8f334216a55c16c8c69c", "url": "https://github.com/phac-nml/irida/commit/2edbfe9118c1da70bf7b8f334216a55c16c8c69c", "message": "changed versions to 20.09 in upgrades doc", "committedDate": "2020-06-01T15:07:48Z", "type": "commit"}, {"oid": "e6cefee7817e5de9a0fb8556777f86b492283157", "url": "https://github.com/phac-nml/irida/commit/e6cefee7817e5de9a0fb8556777f86b492283157", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-06-01T15:08:03Z", "type": "commit"}, {"oid": "487067134f1f7bdef53150039ce1e3d72e8ef330", "url": "https://github.com/phac-nml/irida/commit/487067134f1f7bdef53150039ce1e3d72e8ef330", "message": "changed plugin version requirements to 20.09", "committedDate": "2020-06-01T15:13:36Z", "type": "commit"}, {"oid": "c123f4d8a1bb810e57b034495fa3ab1294c46e39", "url": "https://github.com/phac-nml/irida/commit/c123f4d8a1bb810e57b034495fa3ab1294c46e39", "message": "changing docs to point to 20.09 irida version", "committedDate": "2020-06-04T18:29:29Z", "type": "commit"}, {"oid": "97c70f03a9f244d38780e94030ac01e1009ec2c3", "url": "https://github.com/phac-nml/irida/commit/97c70f03a9f244d38780e94030ac01e1009ec2c3", "message": "added 20.09 liquibase changes to all changes", "committedDate": "2020-06-08T15:05:26Z", "type": "commit"}, {"oid": "39a2823113a1991c0e4dc3805c28d991a6466e57", "url": "https://github.com/phac-nml/irida/commit/39a2823113a1991c0e4dc3805c28d991a6466e57", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-06-29T15:06:50Z", "type": "commit"}, {"oid": "8708030ef326678b52b06fd629bbf44dfe4a23f8", "url": "https://github.com/phac-nml/irida/commit/8708030ef326678b52b06fd629bbf44dfe4a23f8", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-07-09T18:16:54Z", "type": "commit"}, {"oid": "137612d6c0216c413ff3e30271fe60fb5a68ad6d", "url": "https://github.com/phac-nml/irida/commit/137612d6c0216c413ff3e30271fe60fb5a68ad6d", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-08-27T20:17:35Z", "type": "commit"}, {"oid": "000defa30f2d7a74ba0231c5f1170701b5da9f12", "url": "https://github.com/phac-nml/irida/commit/000defa30f2d7a74ba0231c5f1170701b5da9f12", "message": "we must delete the old entry before saving the new collection.  if we\ndon't delete the old entity stays connected", "committedDate": "2020-08-27T21:16:55Z", "type": "commit"}, {"oid": "64f56c53f50a670d12b674c440fa7e449caafdec", "url": "https://github.com/phac-nml/irida/commit/64f56c53f50a670d12b674c440fa7e449caafdec", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-09-02T15:57:05Z", "type": "commit"}, {"oid": "7596036432e6e4b1a878e0ffcba0cbc51afa7824", "url": "https://github.com/phac-nml/irida/commit/7596036432e6e4b1a878e0ffcba0cbc51afa7824", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-11-02T21:12:02Z", "type": "commit"}, {"oid": "e71acc0b0059c7eb497e4b51d18d1baa4bde7144", "url": "https://github.com/phac-nml/irida/commit/e71acc0b0059c7eb497e4b51d18d1baa4bde7144", "message": "changed 20.09 upgrade docs for metadata to 21.01", "committedDate": "2020-11-02T21:15:35Z", "type": "commit"}, {"oid": "dcb988daf46e9acbfe2b0310bc328ab1e7bfef56", "url": "https://github.com/phac-nml/irida/commit/dcb988daf46e9acbfe2b0310bc328ab1e7bfef56", "message": "changed metadata refactor liquibase to 21.01", "committedDate": "2020-11-02T21:17:11Z", "type": "commit"}, {"oid": "8a61c25f51105ee1232031ad4c79627156a7dc04", "url": "https://github.com/phac-nml/irida/commit/8a61c25f51105ee1232031ad4c79627156a7dc04", "message": "removed incorrect liquibase mapping", "committedDate": "2020-11-02T21:27:09Z", "type": "commit"}, {"oid": "d8a8dca44089b7cc40cfa099e0bfd78dc40579f6", "url": "https://github.com/phac-nml/irida/commit/d8a8dca44089b7cc40cfa099e0bfd78dc40579f6", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-11-02T21:28:28Z", "type": "commit"}, {"oid": "eebe2143efae9f2e7c30eb3ffccd348162639580", "url": "https://github.com/phac-nml/irida/commit/eebe2143efae9f2e7c30eb3ffccd348162639580", "message": "missed metadata entry all changes file", "committedDate": "2020-11-03T14:28:07Z", "type": "commit"}, {"oid": "3744fd50b291259e6084899a72baa8952f9ab4de", "url": "https://github.com/phac-nml/irida/commit/3744fd50b291259e6084899a72baa8952f9ab4de", "message": "updated test to mock a sample update response", "committedDate": "2020-11-06T20:01:35Z", "type": "commit"}, {"oid": "647efcbbdbc25c864e8f716342940ace61481801", "url": "https://github.com/phac-nml/irida/commit/647efcbbdbc25c864e8f716342940ace61481801", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-11-06T21:24:39Z", "type": "commit"}, {"oid": "4a5053b4c750896bd223a1e8cbc42e0bc94ad519", "url": "https://github.com/phac-nml/irida/commit/4a5053b4c750896bd223a1e8cbc42e0bc94ad519", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-11-09T14:40:56Z", "type": "commit"}, {"oid": "2ca62fe0a618ee2817fb6d1f98811597d5ec70fd", "url": "https://github.com/phac-nml/irida/commit/2ca62fe0a618ee2817fb6d1f98811597d5ec70fd", "message": "updated plugin update versions to 21.01", "committedDate": "2020-11-09T15:14:11Z", "type": "commit"}, {"oid": "26635c234a6c4a3106fdd865dadfbfcf115ca720", "url": "https://github.com/phac-nml/irida/commit/26635c234a6c4a3106fdd865dadfbfcf115ca720", "message": "updated doc pipeline base to 21.01", "committedDate": "2020-11-09T15:21:10Z", "type": "commit"}, {"oid": "8b2d40511c2aaf83e56565b91b9f845ac6f2d2fb", "url": "https://github.com/phac-nml/irida/commit/8b2d40511c2aaf83e56565b91b9f845ac6f2d2fb", "message": "added info to install 21.01-SNAPSHOT version if working before release", "committedDate": "2020-11-09T17:08:02Z", "type": "commit"}, {"oid": "1fd4abe6e2bbbf11cc65861628cc4a59cac2d83a", "url": "https://github.com/phac-nml/irida/commit/1fd4abe6e2bbbf11cc65861628cc4a59cac2d83a", "message": "changed wording of a couple plugin system docs lines", "committedDate": "2020-11-27T21:19:30Z", "type": "commit"}, {"oid": "65b5c6c43d3028ab912920933f5ac28e120e05dc", "url": "https://github.com/phac-nml/irida/commit/65b5c6c43d3028ab912920933f5ac28e120e05dc", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-11-30T14:27:36Z", "type": "commit"}, {"oid": "383500536aa31ac0a1aed866dea33f9fdd8b33b5", "url": "https://github.com/phac-nml/irida/commit/383500536aa31ac0a1aed866dea33f9fdd8b33b5", "message": "Merge branch 'metadata-entry-reformat' into plugin-system-1.1", "committedDate": "2020-11-30T14:28:37Z", "type": "commit"}, {"oid": "fa050a6679d91d80e9417bdfc5721ec61fd2ebf6", "url": "https://github.com/phac-nml/irida/commit/fa050a6679d91d80e9417bdfc5721ec61fd2ebf6", "message": "Merge pull request #38 from tom114/plugin-system-1.1\n\nPlugin system 1.1", "committedDate": "2020-11-30T15:39:31Z", "type": "commit"}, {"oid": "d458bcacfc2000897a71efb7b349ae26998259cf", "url": "https://github.com/phac-nml/irida/commit/d458bcacfc2000897a71efb7b349ae26998259cf", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-11-30T17:50:25Z", "type": "commit"}, {"oid": "77161661d35cefac3b01e2604098551e56509a38", "url": "https://github.com/phac-nml/irida/commit/77161661d35cefac3b01e2604098551e56509a38", "message": "reworded some upgrade docs", "committedDate": "2020-12-01T16:54:31Z", "type": "commit"}, {"oid": "365e5f1f441e13723850e0b15ebd13d9b8c40f0e", "url": "https://github.com/phac-nml/irida/commit/365e5f1f441e13723850e0b15ebd13d9b8c40f0e", "message": "fixed the table rendering to display in the example output of the\nmetadata upgrade report", "committedDate": "2020-12-01T17:01:08Z", "type": "commit"}, {"oid": "6b81bcf1fe29e3397ed190be937243c1cbc4dc5a", "url": "https://github.com/phac-nml/irida/commit/6b81bcf1fe29e3397ed190be937243c1cbc4dc5a", "message": "fixed a couple docs entries to be more informative", "committedDate": "2020-12-17T13:49:49Z", "type": "commit"}, {"oid": "d9f0ac0d1ad32a35c729d0c94a03e993a5b3ed79", "url": "https://github.com/phac-nml/irida/commit/d9f0ac0d1ad32a35c729d0c94a03e993a5b3ed79", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-12-17T14:12:05Z", "type": "commit"}, {"oid": "7252d42b3503f9f0311cfdf7cd606e5e26200d1c", "url": "https://github.com/phac-nml/irida/commit/7252d42b3503f9f0311cfdf7cd606e5e26200d1c", "message": "fixed missed merge conflicts", "committedDate": "2020-12-17T14:21:07Z", "type": "commit"}, {"oid": "3d582700ff7f05b5204bdfc83dfe3e648a4adfec", "url": "https://github.com/phac-nml/irida/commit/3d582700ff7f05b5204bdfc83dfe3e648a4adfec", "message": "removed unused impots", "committedDate": "2020-12-17T20:32:58Z", "type": "commit"}, {"oid": "7cb27e61a71511ce17cc30418082fdab00aba6ac", "url": "https://github.com/phac-nml/irida/commit/7cb27e61a71511ce17cc30418082fdab00aba6ac", "message": "refactored sampledetails to have a map to match development", "committedDate": "2020-12-17T22:08:17Z", "type": "commit"}, {"oid": "e872e3e671db946c8189cf2b85e41e5fdd3694bf", "url": "https://github.com/phac-nml/irida/commit/e872e3e671db946c8189cf2b85e41e5fdd3694bf", "message": "added comment for sampledetails mapping method", "committedDate": "2020-12-21T14:54:19Z", "type": "commit"}, {"oid": "b2c670d7ef616b5759e755befdeee038b281e4d4", "url": "https://github.com/phac-nml/irida/commit/b2c670d7ef616b5759e755befdeee038b281e4d4", "message": "Merge branch 'development' into metadata-entry-reformat", "committedDate": "2020-12-29T14:58:47Z", "type": "commit"}]}