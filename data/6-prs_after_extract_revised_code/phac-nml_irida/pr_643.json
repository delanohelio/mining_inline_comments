{"pr_number": 643, "pr_title": "Project members updated to remove DataTables", "pr_createdAt": "2020-04-02T19:19:03Z", "pr_url": "https://github.com/phac-nml/irida/pull/643", "timeline": [{"oid": "fad2b30ba2964b1b1d139fe122f1a6bd5dcdc62e", "url": "https://github.com/phac-nml/irida/commit/fad2b30ba2964b1b1d139fe122f1a6bd5dcdc62e", "message": "Response returned need to set up table columns", "committedDate": "2020-03-25T14:04:04Z", "type": "commit"}, {"oid": "75b4faa3be72cd7ff95fbe807b54daef2230e325", "url": "https://github.com/phac-nml/irida/commit/75b4faa3be72cd7ff95fbe807b54daef2230e325", "message": "Merge branch 'development' into project-users-groups", "committedDate": "2020-03-30T16:53:35Z", "type": "commit"}, {"oid": "172851ec3bf6cd7d50c5405493a3e5a754f059c9", "url": "https://github.com/phac-nml/irida/commit/172851ec3bf6cd7d50c5405493a3e5a754f059c9", "message": "Updated to use proper request syntex", "committedDate": "2020-03-30T18:50:32Z", "type": "commit"}, {"oid": "60b57ad7cc9ac0dce92390fbba79fb3f841a2bba", "url": "https://github.com/phac-nml/irida/commit/60b57ad7cc9ac0dce92390fbba79fb3f841a2bba", "message": "Table updates and notifies when user removed from project", "committedDate": "2020-03-31T14:57:52Z", "type": "commit"}, {"oid": "da80db52418e88748496323fc8dcd5048d5ff791", "url": "https://github.com/phac-nml/irida/commit/da80db52418e88748496323fc8dcd5048d5ff791", "message": "\ud83d\udea7 Updated project user search query\n\nBefore it was only searching by username, now it is updated to also search by firstName and lastName", "committedDate": "2020-04-02T13:37:18Z", "type": "commit"}, {"oid": "dfb181456d8b8c7e51cf59ee3ceb919b4e486fb2", "url": "https://github.com/phac-nml/irida/commit/dfb181456d8b8c7e51cf59ee3ceb919b4e486fb2", "message": "Updated the layout so content lines up evenly.", "committedDate": "2020-04-02T14:22:11Z", "type": "commit"}, {"oid": "1fe383b4816ce76adb8a505cd050abfa341f0d03", "url": "https://github.com/phac-nml/irida/commit/1fe383b4816ce76adb8a505cd050abfa341f0d03", "message": "\ud83d\udee0\ufe0f Working change user role with notification", "committedDate": "2020-04-02T16:29:04Z", "type": "commit"}, {"oid": "9e0f783248276fcb809ac5a475fca575d21d65e2", "url": "https://github.com/phac-nml/irida/commit/9e0f783248276fcb809ac5a475fca575d21d65e2", "message": "\ud83d\udea7 Updating internationalization strings", "committedDate": "2020-04-02T17:43:46Z", "type": "commit"}, {"oid": "4d3270ca006d4e4c213a24118d19bcf23ffd52c8", "url": "https://github.com/phac-nml/irida/commit/4d3270ca006d4e4c213a24118d19bcf23ffd52c8", "message": "\ud83d\udee0\ufe0f Don't let the current user modify themselves", "committedDate": "2020-04-02T18:55:26Z", "type": "commit"}, {"oid": "35a025b96a37ecc31194ca115a6f82ca929a26c9", "url": "https://github.com/phac-nml/irida/commit/35a025b96a37ecc31194ca115a6f82ca929a26c9", "message": "\ud83d\udee0\ufe0f Redirect if a manager removed themselves from a project", "committedDate": "2020-04-02T19:04:14Z", "type": "commit"}, {"oid": "e64518c1f5e12412ea245649f8f2503c039b8f09", "url": "https://github.com/phac-nml/irida/commit/e64518c1f5e12412ea245649f8f2503c039b8f09", "message": "\ud83d\udea7 Removing dead code", "committedDate": "2020-04-02T19:16:45Z", "type": "commit"}, {"oid": "de7ca8dd2c854a4ea4235477f1d318d82b2613d4", "url": "https://github.com/phac-nml/irida/commit/de7ca8dd2c854a4ea4235477f1d318d82b2613d4", "message": "\ud83d\udea7 Get messages for errors from the server", "committedDate": "2020-04-03T18:55:08Z", "type": "commit"}, {"oid": "e89748f2626ce305066c957bdaca0e5250d13f31", "url": "https://github.com/phac-nml/irida/commit/e89748f2626ce305066c957bdaca0e5250d13f31", "message": "\ud83d\udea7 Refactored getting the error from the response when updating user\n\nProperly added the response to the response error instead of always loading it through the React internationalizations.\n\nNote that for Thymeleaf to use `'` on the server you need to double it `''`.", "committedDate": "2020-04-06T12:12:44Z", "type": "commit"}, {"oid": "dfede1579fda70c5cb640c543ca962f202f05cd4", "url": "https://github.com/phac-nml/irida/commit/dfede1579fda70c5cb640c543ca962f202f05cd4", "message": "Removed logging statement", "committedDate": "2020-04-06T12:49:24Z", "type": "commit"}, {"oid": "fe28657be2302f09b7fe9f42529ea80ea59f4835", "url": "https://github.com/phac-nml/irida/commit/fe28657be2302f09b7fe9f42529ea80ea59f4835", "message": "Working transition to edit screen", "committedDate": "2020-04-06T16:30:13Z", "type": "commit"}, {"oid": "c0529642b09d14e82030a98da26c7034febb97ad", "url": "https://github.com/phac-nml/irida/commit/c0529642b09d14e82030a98da26c7034febb97ad", "message": "Merge branch 'development' into project-members", "committedDate": "2020-04-07T10:40:55Z", "type": "commit"}, {"oid": "d8d9f5a0ffda560541dff4bc730e95c87242282b", "url": "https://github.com/phac-nml/irida/commit/d8d9f5a0ffda560541dff4bc730e95c87242282b", "message": "Updated yarn.lock", "committedDate": "2020-04-07T12:53:37Z", "type": "commit"}, {"oid": "240e478059bd7b2f747ca4bca6a07fc5eb5e28cf", "url": "https://github.com/phac-nml/irida/commit/240e478059bd7b2f747ca4bca6a07fc5eb5e28cf", "message": "\ud83d\udea7 Removed attempt at switching to a different area to add users", "committedDate": "2020-04-07T13:35:19Z", "type": "commit"}, {"oid": "39ebe0cbc19b96917abf528485846892af169c44", "url": "https://github.com/phac-nml/irida/commit/39ebe0cbc19b96917abf528485846892af169c44", "message": "\ud83d\udea7 Moved Add Member button to own file", "committedDate": "2020-04-07T14:14:59Z", "type": "commit"}, {"oid": "2796d9d73098b5c3b0af53dfdbf6d7140412dade", "url": "https://github.com/phac-nml/irida/commit/2796d9d73098b5c3b0af53dfdbf6d7140412dade", "message": "\ud83d\udea7 Work on modal to add member", "committedDate": "2020-04-07T17:53:49Z", "type": "commit"}, {"oid": "349c405077df393404483472683620a1fbf738cd", "url": "https://github.com/phac-nml/irida/commit/349c405077df393404483472683620a1fbf738cd", "message": "Merge branch 'development' into project-members", "committedDate": "2020-04-08T10:07:34Z", "type": "commit"}, {"oid": "a9484ed9de40bf40b00a60072b7c2ba71b944d27", "url": "https://github.com/phac-nml/irida/commit/a9484ed9de40bf40b00a60072b7c2ba71b944d27", "message": "\ud83d\udd28\ufe0f Remade add user using Ant Design", "committedDate": "2020-04-08T13:00:16Z", "type": "commit"}, {"oid": "36bc48a611ec2930ac8babf82337390e8d0304c7", "url": "https://github.com/phac-nml/irida/commit/36bc48a611ec2930ac8babf82337390e8d0304c7", "message": "\ud83d\udc7d\ufe0f Cleaning up translations", "committedDate": "2020-04-08T13:40:00Z", "type": "commit"}, {"oid": "69488b81aee9ba429addf36329bb4dc9fa197ee2", "url": "https://github.com/phac-nml/irida/commit/69488b81aee9ba429addf36329bb4dc9fa197ee2", "message": "Merge branch 'development' into project-members", "committedDate": "2020-04-08T14:22:26Z", "type": "commit"}, {"oid": "5ef1a976e5f7091ad9987df8cf9c18d377a4931e", "url": "https://github.com/phac-nml/irida/commit/5ef1a976e5f7091ad9987df8cf9c18d377a4931e", "message": "\ud83d\udc7d\ufe0f More internationalizations", "committedDate": "2020-04-08T15:20:32Z", "type": "commit"}, {"oid": "3c48731a1036fd284592059c0bd696449fda7821", "url": "https://github.com/phac-nml/irida/commit/3c48731a1036fd284592059c0bd696449fda7821", "message": "\ud83d\udd28\ufe0f Added focus to user select when modal opens", "committedDate": "2020-04-08T15:21:23Z", "type": "commit"}, {"oid": "d73dd7d36adc8f32affe027fc9e4b739be5721c3", "url": "https://github.com/phac-nml/irida/commit/d73dd7d36adc8f32affe027fc9e4b739be5721c3", "message": "\ud83d\udca1\ufe0f Add class level documentation to AddMemberButton", "committedDate": "2020-04-08T15:24:16Z", "type": "commit"}, {"oid": "81f5bccba78719ff9843a7bcfa2b53678bd8b132", "url": "https://github.com/phac-nml/irida/commit/81f5bccba78719ff9843a7bcfa2b53678bd8b132", "message": "\ud83d\udd28\ufe0f Made add members button a generic table button", "committedDate": "2020-04-08T15:57:42Z", "type": "commit"}, {"oid": "45b42c548fa5060abb9e05e2ce623af5a360f478", "url": "https://github.com/phac-nml/irida/commit/45b42c548fa5060abb9e05e2ce623af5a360f478", "message": "\ud83d\udd28\ufe0f Use a React context to store the project roles", "committedDate": "2020-04-08T18:57:39Z", "type": "commit"}, {"oid": "a0b03751a6a5db3f5140cc5bdde8bbd8c2f23d2f", "url": "https://github.com/phac-nml/irida/commit/a0b03751a6a5db3f5140cc5bdde8bbd8c2f23d2f", "message": "\ud83d\udca1\ufe0f Add class level docs to Role", "committedDate": "2020-04-08T18:59:52Z", "type": "commit"}, {"oid": "30ebffe894d1c15a0a4718ac606fb9febc0a3df7", "url": "https://github.com/phac-nml/irida/commit/30ebffe894d1c15a0a4718ac606fb9febc0a3df7", "message": "\ud83d\udd28\ufe0f Extracted functionality out to a service class", "committedDate": "2020-04-08T19:18:04Z", "type": "commit"}, {"oid": "86fa1844bb01950e65d7a32ec7097755c11a85a8", "url": "https://github.com/phac-nml/irida/commit/86fa1844bb01950e65d7a32ec7097755c11a85a8", "message": "\ud83d\udca1\ufe0f Updated source documentation", "committedDate": "2020-04-08T19:25:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgwOTA1OQ==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r405809059", "bodyText": "Looks like these final variables were added by the editor", "author": "deepsidhu85", "createdAt": "2020-04-08T20:55:06Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/ProjectSettingsAjaxController.java", "diffHunk": "@@ -32,9 +34,9 @@\n @Controller\n @RequestMapping(\"/ajax/projects/{projectId}/settings\")\n public class ProjectSettingsAjaxController {\n-\tprivate ProjectService projectService;\n-\tprivate UserService userService;\n-\tprivate ProjectOwnerPermission projectOwnerPermission;\n+\tprivate final ProjectService projectService;", "originalCommit": "81f5bccba78719ff9843a7bcfa2b53678bd8b132", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODcyMDk3NA==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r408720974", "bodyText": "I added those. Services are ok to be final since they are autowired by Spring and will not change during the life cycle.", "author": "joshsadam", "createdAt": "2020-04-15T09:53:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgwOTA1OQ=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgwOTMxOQ==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r405809319", "bodyText": "Add a comment to indicate what this is used for", "author": "deepsidhu85", "createdAt": "2020-04-08T20:55:38Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/dto/NewProjectMemberRequest.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.projects.settings.dto;\n+", "originalCommit": "81f5bccba78719ff9843a7bcfa2b53678bd8b132", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODcyMTA2Mw==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r408721063", "bodyText": "Done", "author": "joshsadam", "createdAt": "2020-04-15T09:53:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgwOTMxOQ=="}], "type": "inlineReview", "revised_code": {"commit": "c6ff2aff40a997cc21ff21ec6b8b95254cf35144", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/dto/NewProjectMemberRequest.java b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/dto/NewProjectMemberRequest.java\nindex b31fdf5db8..2363e3c760 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/dto/NewProjectMemberRequest.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/dto/NewProjectMemberRequest.java\n\n@@ -7,6 +7,11 @@ public class NewProjectMemberRequest {\n \tpublic NewProjectMemberRequest() {\n \t}\n \n+\tpublic NewProjectMemberRequest(Long id, String role) {\n+\t\tthis.id = id;\n+\t\tthis.role = role;\n+\t}\n+\n \tpublic Long getId() {\n \t\treturn id;\n \t}\n"}}, {"oid": "3526661bc6f3286093801d28358298b82e5a3740", "url": "https://github.com/phac-nml/irida/commit/3526661bc6f3286093801d28358298b82e5a3740", "message": "\ud83d\udd28\ufe0f Created an exception so that the ui could display to proper message", "committedDate": "2020-04-09T03:36:51Z", "type": "commit"}, {"oid": "7d5eb3cc74074b97ea9ee3259d85161f96b1fd60", "url": "https://github.com/phac-nml/irida/commit/7d5eb3cc74074b97ea9ee3259d85161f96b1fd60", "message": "\ud83d\udca1\ufe0f Updated source code documentation", "committedDate": "2020-04-09T10:03:42Z", "type": "commit"}, {"oid": "feb9e1291efc80f597e0eb5691ad18d621706fd2", "url": "https://github.com/phac-nml/irida/commit/feb9e1291efc80f597e0eb5691ad18d621706fd2", "message": "\ud83d\udca1\ufe0f Updated source documentation of jsx files", "committedDate": "2020-04-09T11:34:40Z", "type": "commit"}, {"oid": "aa1b88084b08b168f1b0a3acb297a03575a9c9b0", "url": "https://github.com/phac-nml/irida/commit/aa1b88084b08b168f1b0a3acb297a03575a9c9b0", "message": "\ud83d\udd28\ufe0f Fixed issue with `defaultValue` not working properly", "committedDate": "2020-04-09T11:44:48Z", "type": "commit"}, {"oid": "6ef2cadd95fb4f7f88905cbc4005fbf04769e841", "url": "https://github.com/phac-nml/irida/commit/6ef2cadd95fb4f7f88905cbc4005fbf04769e841", "message": "\ud83d\udca1\ufe0f More source code documentation", "committedDate": "2020-04-09T12:36:24Z", "type": "commit"}, {"oid": "f128f331e2d3c3be5d5fc4b539af48926110f2b9", "url": "https://github.com/phac-nml/irida/commit/f128f331e2d3c3be5d5fc4b539af48926110f2b9", "message": "\ud83d\udea8\ufe0f Beginning testing members page\n\nHaving an issue with adding a member, the ant select will not stay open.", "committedDate": "2020-04-09T16:41:55Z", "type": "commit"}, {"oid": "f285a15117f78af71acb2488a69caf1de1b6aa1a", "url": "https://github.com/phac-nml/irida/commit/f285a15117f78af71acb2488a69caf1de1b6aa1a", "message": "Merge branch 'development' into project-members", "committedDate": "2020-04-10T00:22:33Z", "type": "commit"}, {"oid": "d1bfe549e888742b1dd8feac2b474b2844e6f97c", "url": "https://github.com/phac-nml/irida/commit/d1bfe549e888742b1dd8feac2b474b2844e6f97c", "message": "\ud83d\udea8\ufe0f Added project members page tests.", "committedDate": "2020-04-14T12:37:28Z", "type": "commit"}, {"oid": "c6ff2aff40a997cc21ff21ec6b8b95254cf35144", "url": "https://github.com/phac-nml/irida/commit/c6ff2aff40a997cc21ff21ec6b8b95254cf35144", "message": "\ud83d\udea8\ufe0f Add tests for UIProjectMemberService", "committedDate": "2020-04-14T19:39:51Z", "type": "commit"}, {"oid": "16bc694e335fb52e67f2cd672ff09a7badbc6e50", "url": "https://github.com/phac-nml/irida/commit/16bc694e335fb52e67f2cd672ff09a7badbc6e50", "message": "\ud83d\udea8\ufe0f Removed unused response values", "committedDate": "2020-04-14T19:43:35Z", "type": "commit"}, {"oid": "346a900e4dbf32e74633e61aaa2b4fb8b93338b8", "url": "https://github.com/phac-nml/irida/commit/346a900e4dbf32e74633e61aaa2b4fb8b93338b8", "message": "TEst not used", "committedDate": "2020-04-14T19:49:14Z", "type": "commit"}, {"oid": "c1deced6ddbdf8c54f5221a260f65d979ba7ba9d", "url": "https://github.com/phac-nml/irida/commit/c1deced6ddbdf8c54f5221a260f65d979ba7ba9d", "message": "\ud83d\udca1\ufe0f Updated bad JavaDoc", "committedDate": "2020-04-15T09:42:10Z", "type": "commit"}, {"oid": "903d3fd50aee99c31fa2f660e23c97f846463627", "url": "https://github.com/phac-nml/irida/commit/903d3fd50aee99c31fa2f660e23c97f846463627", "message": "\ud83d\udca1\ufe0f Added JavaDoc for the NewProjectMemeber request", "committedDate": "2020-04-15T09:45:23Z", "type": "commit"}, {"oid": "df4aa7161533aad039df84a7a616a2c18812d7dd", "url": "https://github.com/phac-nml/irida/commit/df4aa7161533aad039df84a7a616a2c18812d7dd", "message": "\ud83d\udca1\ufe0f Fixed bad JavaDoc in ProjectMembersAjaxController", "committedDate": "2020-04-15T09:46:40Z", "type": "commit"}, {"oid": "f34b9683984e193ce7c748f92711e19832b5ed97", "url": "https://github.com/phac-nml/irida/commit/f34b9683984e193ce7c748f92711e19832b5ed97", "message": "\ud83d\udd25\ufe0f Removed unused imports in ProjectMembersController", "committedDate": "2020-04-15T09:47:37Z", "type": "commit"}, {"oid": "c7e072ff5633a04fe2fc2b2f9343185ff4c4cf2f", "url": "https://github.com/phac-nml/irida/commit/c7e072ff5633a04fe2fc2b2f9343185ff4c4cf2f", "message": "\ud83d\udd28\ufe0f Remove autowiring UserService into ProjectMembersController", "committedDate": "2020-04-15T09:49:34Z", "type": "commit"}, {"oid": "6e6eb18bd38aed4283d76b420d43bd9b363d3eef", "url": "https://github.com/phac-nml/irida/commit/6e6eb18bd38aed4283d76b420d43bd9b363d3eef", "message": "\ud83d\udcda\ufe0f Updated CHANGELOG", "committedDate": "2020-04-15T09:56:39Z", "type": "commit"}, {"oid": "47896acaac6ca84d0bdd5fc031d4d5794dc3478d", "url": "https://github.com/phac-nml/irida/commit/47896acaac6ca84d0bdd5fc031d4d5794dc3478d", "message": "\ud83d\udea8\ufe0f Fixed broken test with wrong constructor args", "committedDate": "2020-04-15T10:45:24Z", "type": "commit"}, {"oid": "a5c90caa212efd1a325799ede17c8697715b2ab1", "url": "https://github.com/phac-nml/irida/commit/a5c90caa212efd1a325799ede17c8697715b2ab1", "message": "\ud83d\udca1\ufe0f Added missing JavaDoc @return", "committedDate": "2020-04-15T11:45:30Z", "type": "commit"}, {"oid": "affbd112b9bae5c14413c2294560d1502d8b7c9d", "url": "https://github.com/phac-nml/irida/commit/affbd112b9bae5c14413c2294560d1502d8b7c9d", "message": "\ud83d\udca1\ufe0f Added missing exception doc", "committedDate": "2020-04-15T11:46:20Z", "type": "commit"}, {"oid": "59ccceaed2580352355d061b0ed7418e95e8a778", "url": "https://github.com/phac-nml/irida/commit/59ccceaed2580352355d061b0ed7418e95e8a778", "message": "\ud83d\udd28\ufe0f Removed unused import", "committedDate": "2020-04-15T12:46:40Z", "type": "commit"}, {"oid": "ed06546807f58652b6cb9a2923abf363a14f9f5e", "url": "https://github.com/phac-nml/irida/commit/ed06546807f58652b6cb9a2923abf363a14f9f5e", "message": "Merge branch 'development' into project-members", "committedDate": "2020-04-15T14:58:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTExNzEwMA==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r409117100", "bodyText": "Change manage to manager", "author": "deepsidhu85", "createdAt": "2020-04-15T20:34:22Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIProjectMembersService.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.services;\n+\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.stream.Collectors;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.context.MessageSource;\n+import org.springframework.data.domain.Page;\n+import org.springframework.stereotype.Component;\n+\n+import ca.corefacility.bioinformatics.irida.exceptions.ProjectWithoutOwnerException;\n+import ca.corefacility.bioinformatics.irida.model.enums.ProjectRole;\n+import ca.corefacility.bioinformatics.irida.model.joins.Join;\n+import ca.corefacility.bioinformatics.irida.model.joins.impl.ProjectUserJoin;\n+import ca.corefacility.bioinformatics.irida.model.project.Project;\n+import ca.corefacility.bioinformatics.irida.model.user.User;\n+import ca.corefacility.bioinformatics.irida.ria.web.exceptions.UIProjectWithoutOwnerException;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.projects.dto.ProjectMemberTableModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.projects.settings.dto.NewProjectMemberRequest;\n+import ca.corefacility.bioinformatics.irida.service.ProjectService;\n+import ca.corefacility.bioinformatics.irida.service.user.UserService;\n+\n+/**\n+ * Service class for the UI for handling project members actions.\n+ */\n+@Component\n+public class UIProjectMembersService {\n+\tprivate final ProjectService projectService;\n+\tprivate final UserService userService;\n+\tprivate final MessageSource messageSource;\n+\n+\t@Autowired\n+\tpublic UIProjectMembersService(ProjectService projectService, UserService userService, MessageSource messageSource) {\n+\t\tthis.projectService = projectService;\n+\t\tthis.userService = userService;\n+\t\tthis.messageSource = messageSource;\n+\t}\n+\n+\t/**\n+\t * Get a paged listing of project members passed on parameters set in the table request.\n+\t *\n+\t * @param projectId    - identifier for the current project\n+\t * @param tableRequest - details about the current page of the table\n+\t * @return sorted and filtered list of project members\n+\t */\n+\tpublic TableResponse<ProjectMemberTableModel> getProjectMembers(Long projectId, TableRequest tableRequest) {\n+\t\tProject project = projectService.read(projectId);\n+\t\tPage<Join<Project, User>> usersForProject = userService.searchUsersForProject(project, tableRequest.getSearch(),\n+\t\t\t\ttableRequest.getCurrent(), tableRequest.getPageSize(), tableRequest.getSort());\n+\t\tList<ProjectMemberTableModel> members = usersForProject.get()\n+\t\t\t\t.map(join -> {\n+\t\t\t\t\tProjectUserJoin projectUserJoin = (ProjectUserJoin) join;\n+\t\t\t\t\treturn new ProjectMemberTableModel(join.getObject(), projectUserJoin.getProjectRole()\n+\t\t\t\t\t\t\t.toString(), projectUserJoin.getCreatedDate());\n+\t\t\t\t})\n+\t\t\t\t.collect(Collectors.toList());\n+\t\treturn new TableResponse<>(members, usersForProject.getTotalElements());\n+\t}\n+\n+\t/**\n+\t * Remove a user from the project\n+\t *\n+\t * @param projectId - identifier for the current project\n+\t * @param userId    - identifier for the user to remove from the project\n+\t * @param locale    - of the currently logged in user\n+\t * @return Message to display to the user about the outcome of removing a user from the project.\n+\t * @throws UIProjectWithoutOwnerException if removing the user will leave the project without a manage", "originalCommit": "ed06546807f58652b6cb9a2923abf363a14f9f5e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQyMzMzNQ==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r409423335", "bodyText": "Fixed in 5b4a37e", "author": "joshsadam", "createdAt": "2020-04-16T09:43:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTExNzEwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY1MTk1NA==", "url": "https://github.com/phac-nml/irida/pull/643#discussion_r409651954", "bodyText": "Thanks", "author": "deepsidhu85", "createdAt": "2020-04-16T15:33:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTExNzEwMA=="}], "type": "inlineReview", "revised_code": {"commit": "5b4a37e24b443d99df6ef574ff99fe5368db3ebb", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIProjectMembersService.java b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIProjectMembersService.java\nindex 4e0cf03883..7e8371b11e 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIProjectMembersService.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIProjectMembersService.java\n\n@@ -67,7 +67,7 @@ public class UIProjectMembersService {\n \t * @param userId    - identifier for the user to remove from the project\n \t * @param locale    - of the currently logged in user\n \t * @return Message to display to the user about the outcome of removing a user from the project.\n-\t * @throws UIProjectWithoutOwnerException if removing the user will leave the project without a manage\n+\t * @throws UIProjectWithoutOwnerException if removing the user will leave the project without a manager\n \t */\n \tpublic String removeUserFromProject(Long projectId, Long userId, Locale locale) throws UIProjectWithoutOwnerException {\n \t\tProject project = projectService.read(projectId);\n"}}, {"oid": "5b4a37e24b443d99df6ef574ff99fe5368db3ebb", "url": "https://github.com/phac-nml/irida/commit/5b4a37e24b443d99df6ef574ff99fe5368db3ebb", "message": "\ud83d\udca1\ufe0f Fixed typos", "committedDate": "2020-04-16T09:41:52Z", "type": "commit"}, {"oid": "95c13778cb0ca582351456f047929c8924c19538", "url": "https://github.com/phac-nml/irida/commit/95c13778cb0ca582351456f047929c8924c19538", "message": "\ud83d\udd28\ufe0f Fixes issue with searching for users by different fields", "committedDate": "2020-04-16T10:04:13Z", "type": "commit"}]}