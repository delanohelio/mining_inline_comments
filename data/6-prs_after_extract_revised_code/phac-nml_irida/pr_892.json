{"pr_number": 892, "pr_title": "Announcements upgrade user dashboard", "pr_createdAt": "2020-12-16T14:54:41Z", "pr_url": "https://github.com/phac-nml/irida/pull/892", "timeline": [{"oid": "63b58036f89067f66cc4fbac106a954078ac0225", "url": "https://github.com/phac-nml/irida/commit/63b58036f89067f66cc4fbac106a954078ac0225", "message": "starting to render react on the dashboard", "committedDate": "2020-12-16T14:51:25Z", "type": "commit"}, {"oid": "35986bd62d55fe22b8f28890efcb2076301dccd0", "url": "https://github.com/phac-nml/irida/commit/35986bd62d55fe22b8f28890efcb2076301dccd0", "message": "forgot to import dashboard2.bundle.css into index.html", "committedDate": "2020-12-23T16:10:19Z", "type": "commit"}, {"oid": "d96607e541994cafe8cc572fe842a8e4cad02531", "url": "https://github.com/phac-nml/irida/commit/d96607e541994cafe8cc572fe842a8e4cad02531", "message": "renaming Dashboard.jsx to DashboardPage.jsx", "committedDate": "2020-12-23T16:22:35Z", "type": "commit"}, {"oid": "79458a90399f10879965c4ae7f800e8e6fb47d32", "url": "https://github.com/phac-nml/irida/commit/79458a90399f10879965c4ae7f800e8e6fb47d32", "message": "creating a list within a card for unread announcements on dashboard", "committedDate": "2020-12-23T18:01:41Z", "type": "commit"}, {"oid": "5a0d41fdbb9d8c0348992838c485e3ffff3f73f1", "url": "https://github.com/phac-nml/irida/commit/5a0d41fdbb9d8c0348992838c485e3ffff3f73f1", "message": "adding ajax method readAnnouncements", "committedDate": "2020-12-23T20:54:27Z", "type": "commit"}, {"oid": "bf24c08a928121cf88bb7b7bb779e683068ec09f", "url": "https://github.com/phac-nml/irida/commit/bf24c08a928121cf88bb7b7bb779e683068ec09f", "message": "splitting up read and unread message lists into their own tabs", "committedDate": "2020-12-24T14:41:48Z", "type": "commit"}, {"oid": "3b2df7134e67dddeca6162a264f02d8f8b273c3c", "url": "https://github.com/phac-nml/irida/commit/3b2df7134e67dddeca6162a264f02d8f8b273c3c", "message": "adding modals to display read and unread announcments details and starting to work on the mark as read button functionality", "committedDate": "2020-12-30T15:12:46Z", "type": "commit"}, {"oid": "8934ad3233742a10abbf1594023ade1ceb450d69", "url": "https://github.com/phac-nml/irida/commit/8934ad3233742a10abbf1594023ade1ceb450d69", "message": "removing ant descriptions", "committedDate": "2020-12-30T18:25:02Z", "type": "commit"}, {"oid": "a1fa03e2d58a4fae96652ada7a70d38d69da224a", "url": "https://github.com/phac-nml/irida/commit/a1fa03e2d58a4fae96652ada7a70d38d69da224a", "message": "sorting read and unread announcements", "committedDate": "2020-12-30T21:02:29Z", "type": "commit"}, {"oid": "f6c624c2a1d30e9581ffb8e7d7f95dc433f2f2a4", "url": "https://github.com/phac-nml/irida/commit/f6c624c2a1d30e9581ffb8e7d7f95dc433f2f2a4", "message": "calling 'mark as read' functionality when modal closes", "committedDate": "2021-01-04T17:25:01Z", "type": "commit"}, {"oid": "3e89b2be0a8de09b058160b11cf6a25d38e08c4a", "url": "https://github.com/phac-nml/irida/commit/3e89b2be0a8de09b058160b11cf6a25d38e08c4a", "message": "playing with list pagination", "committedDate": "2021-01-04T18:00:30Z", "type": "commit"}, {"oid": "77047603714e870d80b6e8244d45a02ca7cd428a", "url": "https://github.com/phac-nml/irida/commit/77047603714e870d80b6e8244d45a02ca7cd428a", "message": "adding pagination page size of 5", "committedDate": "2021-01-04T18:52:13Z", "type": "commit"}, {"oid": "87b32bf3f598ed9a2f64ad42949b69fc77fe141f", "url": "https://github.com/phac-nml/irida/commit/87b32bf3f598ed9a2f64ad42949b69fc77fe141f", "message": "playing with color", "committedDate": "2021-01-04T20:50:20Z", "type": "commit"}, {"oid": "5d688300cc45990dd4a16624dd66665e50f76069", "url": "https://github.com/phac-nml/irida/commit/5d688300cc45990dd4a16624dd66665e50f76069", "message": "removing card and rendering the dashbord within the bootstrap panel", "committedDate": "2021-01-05T15:52:40Z", "type": "commit"}, {"oid": "527182be8960898f6b7868039c5a69fd7ea4d269", "url": "https://github.com/phac-nml/irida/commit/527182be8960898f6b7868039c5a69fd7ea4d269", "message": "removing read announcements from dashboard", "committedDate": "2021-01-05T16:17:03Z", "type": "commit"}, {"oid": "bc9ecacd15056ec6495ab76941fc148fd341cda6", "url": "https://github.com/phac-nml/irida/commit/bc9ecacd15056ec6495ab76941fc148fd341cda6", "message": "creating a LinkButton component", "committedDate": "2021-01-05T17:05:57Z", "type": "commit"}, {"oid": "02131a255ed9aea92c8d2c11d621800dd499781a", "url": "https://github.com/phac-nml/irida/commit/02131a255ed9aea92c8d2c11d621800dd499781a", "message": "forgot to remove tabs const", "committedDate": "2021-01-05T17:08:53Z", "type": "commit"}, {"oid": "537ec3991ba7dc583d5f157bd6944f2a7debba69", "url": "https://github.com/phac-nml/irida/commit/537ec3991ba7dc583d5f157bd6944f2a7debba69", "message": "creating PriorityFlag component", "committedDate": "2021-01-05T19:21:48Z", "type": "commit"}, {"oid": "be9a31c1cc02aa0a08d0f1938c0327536d7479af", "url": "https://github.com/phac-nml/irida/commit/be9a31c1cc02aa0a08d0f1938c0327536d7479af", "message": "removing classes on dashboard-root div on index page", "committedDate": "2021-01-05T19:32:39Z", "type": "commit"}, {"oid": "580a43f85ad92c717be0716b224ff8bb13a25f11", "url": "https://github.com/phac-nml/irida/commit/580a43f85ad92c717be0716b224ff8bb13a25f11", "message": "fixing mark as read test", "committedDate": "2021-01-06T17:33:20Z", "type": "commit"}, {"oid": "c222f11517de800b7b4cca6bab4042b9c2e1e89d", "url": "https://github.com/phac-nml/irida/commit/c222f11517de800b7b4cca6bab4042b9c2e1e89d", "message": "resolving overflow text for long announcement titles", "committedDate": "2021-01-06T20:26:44Z", "type": "commit"}, {"oid": "21e0a3fe841212a8fef36a16c141f2b48145fba2", "url": "https://github.com/phac-nml/irida/commit/21e0a3fe841212a8fef36a16c141f2b48145fba2", "message": "adding Josh's implementation of ViewUnreadAnnouncement and updating mark as read test", "committedDate": "2021-01-06T21:26:14Z", "type": "commit"}, {"oid": "ed419fb43ac0e4dea0835c2fa2b078b1830f0fc4", "url": "https://github.com/phac-nml/irida/commit/ed419fb43ac0e4dea0835c2fa2b078b1830f0fc4", "message": "adding i18n", "committedDate": "2021-01-06T21:28:23Z", "type": "commit"}, {"oid": "8289eae205430e8fccfce1f604220a26e253ceda", "url": "https://github.com/phac-nml/irida/commit/8289eae205430e8fccfce1f604220a26e253ceda", "message": " removing commented out code", "committedDate": "2021-01-06T23:49:24Z", "type": "commit"}, {"oid": "c74c721758aa2f74939229fc7b6a3ff651d13ea4", "url": "https://github.com/phac-nml/irida/commit/c74c721758aa2f74939229fc7b6a3ff651d13ea4", "message": "using ant's Avatar", "committedDate": "2021-01-06T23:56:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzUwODQ3Ng==", "url": "https://github.com/phac-nml/irida/pull/892#discussion_r553508476", "bodyText": "Because this is a RestController you don't actually need to add` responsebody` it does not hurt, but not required. \u00a0Just an FYI.", "author": "joshsadam", "createdAt": "2021-01-07T18:33:11Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/announcements/AnnouncementAjaxController.java", "diffHunk": "@@ -39,6 +43,48 @@ public AnnouncementAjaxController(UIAnnouncementsService UIAnnouncementsService)\n \t\treturn UIAnnouncementsService.getAnnouncementsAdmin(tableRequest);\n \t}\n \n+\t/**\n+\t * Handle request for getting a list of read announcements for a user.\n+\t *\n+\t * @param principal the currently logged in user\n+\t * @return a {@link List} of unread {@link AnnouncementUserJoin}s for a user.\n+\t */\n+\t@RequestMapping(value = \"/user/read\")\n+\t@PreAuthorize(\"hasRole('ROLE_USER')\")\n+\t@ResponseBody", "originalCommit": "c74c721758aa2f74939229fc7b6a3ff651d13ea4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzUzMDQ0OA==", "url": "https://github.com/phac-nml/irida/pull/892#discussion_r553530448", "bodyText": "Ok, thanks.", "author": "ksierks", "createdAt": "2021-01-07T19:16:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzUwODQ3Ng=="}], "type": "inlineReview", "revised_code": null}, {"oid": "2a7aff71e32004d63d7bf2d680ce7448ba74b604", "url": "https://github.com/phac-nml/irida/commit/2a7aff71e32004d63d7bf2d680ce7448ba74b604", "message": "making modal scrollable for insanely long announcment content", "committedDate": "2021-01-07T19:40:04Z", "type": "commit"}, {"oid": "1aa2944c66af39e4c13aff6b33682b7e80ec8511", "url": "https://github.com/phac-nml/irida/commit/1aa2944c66af39e4c13aff6b33682b7e80ec8511", "message": "adding url to username in modal", "committedDate": "2021-01-07T21:02:43Z", "type": "commit"}, {"oid": "c4dade373f91e51b7f98139f151c469f32229d61", "url": "https://github.com/phac-nml/irida/commit/c4dade373f91e51b7f98139f151c469f32229d61", "message": "removing OutputWrapper from modal", "committedDate": "2021-01-07T21:04:26Z", "type": "commit"}, {"oid": "5630ea6461eef708f4cebab09395f057edb6ca71", "url": "https://github.com/phac-nml/irida/commit/5630ea6461eef708f4cebab09395f057edb6ca71", "message": "adding documentation", "committedDate": "2021-01-08T15:31:39Z", "type": "commit"}, {"oid": "fb639f3196300d47ecb44efdb476e478c70c2084", "url": "https://github.com/phac-nml/irida/commit/fb639f3196300d47ecb44efdb476e478c70c2084", "message": "revert user link on user name in modal", "committedDate": "2021-01-08T19:13:23Z", "type": "commit"}, {"oid": "d726b0bfed30bfb7e5945322235183b3e847f94a", "url": "https://github.com/phac-nml/irida/commit/d726b0bfed30bfb7e5945322235183b3e847f94a", "message": "Changing empty list message", "committedDate": "2021-01-11T15:28:10Z", "type": "commit"}, {"oid": "31d6a4791defd287cc4ce2e30ee3da47d04a19c9", "url": "https://github.com/phac-nml/irida/commit/31d6a4791defd287cc4ce2e30ee3da47d04a19c9", "message": "updating empty list message to use i18n", "committedDate": "2021-01-11T15:33:41Z", "type": "commit"}, {"oid": "79887000d134656e0a48d964632a611b8d842cf5", "url": "https://github.com/phac-nml/irida/commit/79887000d134656e0a48d964632a611b8d842cf5", "message": "adding client-side validation on title length", "committedDate": "2021-01-11T16:22:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTI2NDA1MA==", "url": "https://github.com/phac-nml/irida/pull/892#discussion_r555264050", "bodyText": "You can also use just By.className(\"t-announcement-item\") - again just an FYI of whats available", "author": "joshsadam", "createdAt": "2021-01-11T18:47:23Z", "path": "src/test/java/ca/corefacility/bioinformatics/irida/ria/integration/pages/announcements/AnnouncementDashboardPage.java", "diffHunk": "@@ -27,12 +27,15 @@ public void viewReadAnnouncements() {\n     }\n \n     public List<WebElement> getCurrentUnreadAnnouncements() {\n-        return driver.findElements(By.cssSelector(\".announcement-item\"));\n+        return driver.findElements(By.cssSelector(\".t-announcement-item\"));", "originalCommit": "79887000d134656e0a48d964632a611b8d842cf5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTM1NjYxOQ==", "url": "https://github.com/phac-nml/irida/pull/892#discussion_r555356619", "bodyText": "Thanks for letting me know!", "author": "ksierks", "createdAt": "2021-01-11T21:38:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTI2NDA1MA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "ab653aacce916ee31a3cef2c2d48ae97866f8212", "url": "https://github.com/phac-nml/irida/commit/ab653aacce916ee31a3cef2c2d48ae97866f8212", "message": "cleaning up", "committedDate": "2021-01-11T19:39:51Z", "type": "commit"}, {"oid": "b0799d1ec2fe1b6884300668a7da47cf32e46741", "url": "https://github.com/phac-nml/irida/commit/b0799d1ec2fe1b6884300668a7da47cf32e46741", "message": "cleaning up", "committedDate": "2021-01-11T19:48:23Z", "type": "commit"}, {"oid": "97ea7082c57aa57f303552bac452deb1d4defaa9", "url": "https://github.com/phac-nml/irida/commit/97ea7082c57aa57f303552bac452deb1d4defaa9", "message": "updating old comment", "committedDate": "2021-01-11T21:36:44Z", "type": "commit"}]}