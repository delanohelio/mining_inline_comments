{"pr_number": 608, "pr_title": "Analysis/ documentation", "pr_createdAt": "2020-02-21T22:18:36Z", "pr_url": "https://github.com/phac-nml/irida/pull/608", "timeline": [{"oid": "aa58aea4984ffb0140effb69859e285249bf2e39", "url": "https://github.com/phac-nml/irida/commit/aa58aea4984ffb0140effb69859e285249bf2e39", "message": "Updated documentation for sistr and bio hansel", "committedDate": "2020-02-20T20:48:12Z", "type": "commit"}, {"oid": "68db63d4814e7c7845726ff09a82af8a8fd52b09", "url": "https://github.com/phac-nml/irida/commit/68db63d4814e7c7845726ff09a82af8a8fd52b09", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-02-20T20:49:29Z", "type": "commit"}, {"oid": "8de6a15a11fc858e78b0be0d05d87d3e37595ee0", "url": "https://github.com/phac-nml/irida/commit/8de6a15a11fc858e78b0be0d05d87d3e37595ee0", "message": "Added documentation for snvphyl (a few things left to update as analyses are still running), refseq masher, mentalist, and bio_hansel. Started documentation for assembly. Updated Analysis.jsx to only display the 'Phylogentic Tree' view if there is an actual tree associated with the analysis otherwise the default view is the Output File Preview page.'", "committedDate": "2020-02-21T22:16:43Z", "type": "commit"}, {"oid": "6084916b6c55d1b7039f079ef70144ecef960a5b", "url": "https://github.com/phac-nml/irida/commit/6084916b6c55d1b7039f079ef70144ecef960a5b", "message": "Added new images, updated references to common files, and updated tutorials", "committedDate": "2020-02-25T18:49:06Z", "type": "commit"}, {"oid": "423ab41c3629dbd1da92b6acdccae69769173581", "url": "https://github.com/phac-nml/irida/commit/423ab41c3629dbd1da92b6acdccae69769173581", "message": "Updated default tree shape", "committedDate": "2020-02-25T18:49:37Z", "type": "commit"}, {"oid": "d989057c9a9e17d55bff47c5f81811f38c13a230", "url": "https://github.com/phac-nml/irida/commit/d989057c9a9e17d55bff47c5f81811f38c13a230", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-02-25T21:17:49Z", "type": "commit"}, {"oid": "13b8aff9c671fcb75e7cf2c53c891cee6754aaa2", "url": "https://github.com/phac-nml/irida/commit/13b8aff9c671fcb75e7cf2c53c891cee6754aaa2", "message": "Merged analysis base results and updated test", "committedDate": "2020-02-25T21:19:01Z", "type": "commit"}, {"oid": "06159fa32b7c6beb0f751fdbb8c0d0ea17cb03b3", "url": "https://github.com/phac-nml/irida/commit/06159fa32b7c6beb0f751fdbb8c0d0ea17cb03b3", "message": "Changed download all files button to a split button which has a dropdown from which a user can download individual files. This is necessary as the output file preview only displays text, tabular, and json files", "committedDate": "2020-02-26T20:28:42Z", "type": "commit"}, {"oid": "5c3094b40941c9e5254611f83a6014e314d64168", "url": "https://github.com/phac-nml/irida/commit/5c3094b40941c9e5254611f83a6014e314d64168", "message": "Added new screenshots, updated tutorials. Deleted old images no longer required", "committedDate": "2020-02-27T20:15:45Z", "type": "commit"}, {"oid": "f710851f5177ebca2480d28cf37bf5111596a6dc", "url": "https://github.com/phac-nml/irida/commit/f710851f5177ebca2480d28cf37bf5111596a6dc", "message": "Updated tutorials.", "committedDate": "2020-02-27T20:34:09Z", "type": "commit"}, {"oid": "40161e14966724f16b31e4478c9003a8d5f9dc46", "url": "https://github.com/phac-nml/irida/commit/40161e14966724f16b31e4478c9003a8d5f9dc46", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-02-28T18:47:18Z", "type": "commit"}, {"oid": "cb3af39d32b9f7d8c908a325e96ed82a748b3188", "url": "https://github.com/phac-nml/irida/commit/cb3af39d32b9f7d8c908a325e96ed82a748b3188", "message": "Updated tabular output table scroll to max-content", "committedDate": "2020-02-28T19:24:31Z", "type": "commit"}, {"oid": "3875311c217beb51005dedcdbe711536c23db1fd", "url": "https://github.com/phac-nml/irida/commit/3875311c217beb51005dedcdbe711536c23db1fd", "message": "Updated yarn.lock", "committedDate": "2020-02-28T19:47:08Z", "type": "commit"}, {"oid": "726de5333fc60855e9e2f0abfe52a4170822fda9", "url": "https://github.com/phac-nml/irida/commit/726de5333fc60855e9e2f0abfe52a4170822fda9", "message": "Updated tutorials with instructions of how to update an analysis name", "committedDate": "2020-03-01T19:31:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU3MDQwMQ==", "url": "https://github.com/phac-nml/irida/pull/608#discussion_r386570401", "bodyText": "Why aren't pdf and zip files blacklisted? They'll just show garbage won't they?", "author": "tom114", "createdAt": "2020-03-02T18:30:32Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisAjaxController.java", "diffHunk": "@@ -371,7 +371,7 @@ public ResponseDetails ajaxUpdateSubmission(@RequestBody AnalysisSubmissionInfo\n \t */\n \tprivate AnalysisOutputFileInfo getAnalysisOutputFileInfo(AnalysisSubmission submission, Analysis analysis,\n \t\t\tString outputName) {\n-\t\tfinal ImmutableSet<String> BLACKLIST_FILE_EXT = ImmutableSet.of(\"zip\", \"pdf\", \"html\", \"xlsx\");\n+\t\tfinal ImmutableSet<String> BLACKLIST_FILE_EXT = ImmutableSet.of(\"html\", \"xlsx\");", "originalCommit": "726de5333fc60855e9e2f0abfe52a4170822fda9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYzODU1NQ==", "url": "https://github.com/phac-nml/irida/pull/608#discussion_r386638555", "bodyText": "They are blacklisted in the view so no output preview is shown for those files. The same function is used to get the output files for downloading. If blacklisted here then those files aren't available to download in the view", "author": "deepsidhu85", "createdAt": "2020-03-02T20:42:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU3MDQwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ2NzkyMg==", "url": "https://github.com/phac-nml/irida/pull/608#discussion_r388467922", "bodyText": "Ok.  So does this mean that you can't download html or xlsx files?", "author": "tom114", "createdAt": "2020-03-05T18:05:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU3MDQwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgyODM5NQ==", "url": "https://github.com/phac-nml/irida/pull/608#discussion_r391828395", "bodyText": "Removed blacklist from server and moved to the view. So html and xlsx files can now be downloaded", "author": "deepsidhu85", "createdAt": "2020-03-12T18:57:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU3MDQwMQ=="}], "type": "inlineReview", "revised_code": {"commit": "0581d8bfc271338735e63cf8bd16569f55f97c93", "chunk": "diff --git a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisAjaxController.java b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisAjaxController.java\nindex ea4312ec4d..46fa6dd5ad 100644\n--- a/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisAjaxController.java\n+++ b/src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisAjaxController.java\n\n@@ -371,7 +381,6 @@ public class AnalysisAjaxController {\n \t */\n \tprivate AnalysisOutputFileInfo getAnalysisOutputFileInfo(AnalysisSubmission submission, Analysis analysis,\n \t\t\tString outputName) {\n-\t\tfinal ImmutableSet<String> BLACKLIST_FILE_EXT = ImmutableSet.of(\"html\", \"xlsx\");\n \t\t// set of file extensions for indicating whether the first line of the file should be read\n \t\tfinal ImmutableSet<String> FILE_EXT_READ_FIRST_LINE = ImmutableSet.of(\"tsv\", \"txt\", \"tabular\", \"csv\", \"tab\",\n \t\t\t\tTREE_EXT);\n"}}, {"oid": "9839e14f3bacbe29912bfb4ef0f8bc99fe404e7f", "url": "https://github.com/phac-nml/irida/commit/9839e14f3bacbe29912bfb4ef0f8bc99fe404e7f", "message": "Merged base branch and fixed merge conflict", "committedDate": "2020-03-02T20:34:22Z", "type": "commit"}, {"oid": "9972589acfa326b69fab310efc3ac3d6dc9693f1", "url": "https://github.com/phac-nml/irida/commit/9972589acfa326b69fab310efc3ac3d6dc9693f1", "message": "Updated text for the email option and updating an analysis name", "committedDate": "2020-03-02T20:45:38Z", "type": "commit"}, {"oid": "d56206aa1f4db32034213ddccb809110ce8dd8bc", "url": "https://github.com/phac-nml/irida/commit/d56206aa1f4db32034213ddccb809110ce8dd8bc", "message": "Added missing color from styles. Removed duplicate import", "committedDate": "2020-03-02T22:14:43Z", "type": "commit"}, {"oid": "501648e0afaf45b1739afb7446cbe550bc8c418d", "url": "https://github.com/phac-nml/irida/commit/501648e0afaf45b1739afb7446cbe550bc8c418d", "message": "Updated pipelines documentation", "committedDate": "2020-03-03T17:47:57Z", "type": "commit"}, {"oid": "0585c79612bfd91a12c3d3772ba8d55285e4a6a9", "url": "https://github.com/phac-nml/irida/commit/0585c79612bfd91a12c3d3772ba8d55285e4a6a9", "message": "Updated sistr page documentation", "committedDate": "2020-03-03T19:57:58Z", "type": "commit"}, {"oid": "71074906e21cf78cdfa80048f0453c74f4eb2680", "url": "https://github.com/phac-nml/irida/commit/71074906e21cf78cdfa80048f0453c74f4eb2680", "message": "Updated analysis-visualizations, admin, and sistr documentation", "committedDate": "2020-03-04T20:42:20Z", "type": "commit"}, {"oid": "af622777bc06dd90cf4ce54aacb3ef1e6b580f70", "url": "https://github.com/phac-nml/irida/commit/af622777bc06dd90cf4ce54aacb3ef1e6b580f70", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-04T20:45:34Z", "type": "commit"}, {"oid": "ed3e4ce9c356f46a0d41afaf11626a9b4cf2710e", "url": "https://github.com/phac-nml/irida/commit/ed3e4ce9c356f46a0d41afaf11626a9b4cf2710e", "message": "Added comments and changed function name to be more specific", "committedDate": "2020-03-04T21:29:28Z", "type": "commit"}, {"oid": "a38f47314f621e3ba78ac93175427b70871ceb3d", "url": "https://github.com/phac-nml/irida/commit/a38f47314f621e3ba78ac93175427b70871ceb3d", "message": "Merged base branch and fixed merge conflict", "committedDate": "2020-03-07T22:29:41Z", "type": "commit"}, {"oid": "d3c094758980ff90c943c91c00c9543d97c5492a", "url": "https://github.com/phac-nml/irida/commit/d3c094758980ff90c943c91c00c9543d97c5492a", "message": "Formatted code", "committedDate": "2020-03-07T22:34:46Z", "type": "commit"}, {"oid": "6150fad6e9464ca19cfaa59f7e5246a955394353", "url": "https://github.com/phac-nml/irida/commit/6150fad6e9464ca19cfaa59f7e5246a955394353", "message": "Formatted code", "committedDate": "2020-03-07T22:35:26Z", "type": "commit"}, {"oid": "0581d8bfc271338735e63cf8bd16569f55f97c93", "url": "https://github.com/phac-nml/irida/commit/0581d8bfc271338735e63cf8bd16569f55f97c93", "message": "Merged (analysis/_add-individual-file-download) branch which has the latest analysis/_base_results code changes and fixed merge conflicts", "committedDate": "2020-03-09T21:02:47Z", "type": "commit"}, {"oid": "b04114f43bae2fdf9b0646696bec49f2d420cc02", "url": "https://github.com/phac-nml/irida/commit/b04114f43bae2fdf9b0646696bec49f2d420cc02", "message": "Merge branch 'analysis/_add-individual-file-download' into analysis/_documentation", "committedDate": "2020-03-10T16:31:32Z", "type": "commit"}, {"oid": "df5d627b74e77fd7f670c8be82e22a9d0e196731", "url": "https://github.com/phac-nml/irida/commit/df5d627b74e77fd7f670c8be82e22a9d0e196731", "message": "Merged changes from base branch and fixed merge conflict", "committedDate": "2020-03-10T17:56:14Z", "type": "commit"}, {"oid": "061820fb4acb2fac3b319957bbad04840e162048", "url": "https://github.com/phac-nml/irida/commit/061820fb4acb2fac3b319957bbad04840e162048", "message": "Merged base branch and fixed merge conflicts:", "committedDate": "2020-03-10T20:24:59Z", "type": "commit"}, {"oid": "c05d2defdc729de883cba2a5476db3629f2837fc", "url": "https://github.com/phac-nml/irida/commit/c05d2defdc729de883cba2a5476db3629f2837fc", "message": "Merge branch 'analysis/_phylocanvas-react-functional-component' into analysis/_documentation", "committedDate": "2020-03-11T05:51:25Z", "type": "commit"}, {"oid": "9a899ca7d09f14a9eb19b2d5755b91d79c61e2ae", "url": "https://github.com/phac-nml/irida/commit/9a899ca7d09f14a9eb19b2d5755b91d79c61e2ae", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-11T15:11:00Z", "type": "commit"}, {"oid": "533ef32ac240cf6ba819534e890729aab7480aa3", "url": "https://github.com/phac-nml/irida/commit/533ef32ac240cf6ba819534e890729aab7480aa3", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-11T17:10:56Z", "type": "commit"}, {"oid": "6d265b032635f8e0f76f98eddb88a30e899bf36f", "url": "https://github.com/phac-nml/irida/commit/6d265b032635f8e0f76f98eddb88a30e899bf36f", "message": "Updated documentation.", "committedDate": "2020-03-11T21:42:40Z", "type": "commit"}, {"oid": "6b19d81bbed6991e502dc90566d3138f41d783e8", "url": "https://github.com/phac-nml/irida/commit/6b19d81bbed6991e502dc90566d3138f41d783e8", "message": "Merged base branch and fixed merge conflicts", "committedDate": "2020-03-16T18:04:08Z", "type": "commit"}, {"oid": "1e8212c3cd7cfde230b5f26249dbf8971837fbac", "url": "https://github.com/phac-nml/irida/commit/1e8212c3cd7cfde230b5f26249dbf8971837fbac", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-16T18:14:05Z", "type": "commit"}, {"oid": "3826a7d8b96b7c256cf46f77344912b6832a3fd1", "url": "https://github.com/phac-nml/irida/commit/3826a7d8b96b7c256cf46f77344912b6832a3fd1", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-18T14:40:09Z", "type": "commit"}, {"oid": "f86d93b34ab0907f6176cf0d2bbb021e2fbaf9f0", "url": "https://github.com/phac-nml/irida/commit/f86d93b34ab0907f6176cf0d2bbb021e2fbaf9f0", "message": "Updated analysis images which displayed the AnalysisSteps", "committedDate": "2020-03-18T15:43:53Z", "type": "commit"}, {"oid": "6300eaa94c95be89a43e3839810d716f223824f5", "url": "https://github.com/phac-nml/irida/commit/6300eaa94c95be89a43e3839810d716f223824f5", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-18T20:01:30Z", "type": "commit"}, {"oid": "205c2837d43e4fb43b539a86e5fe0a04bf34253c", "url": "https://github.com/phac-nml/irida/commit/205c2837d43e4fb43b539a86e5fe0a04bf34253c", "message": "Merge branch 'analysis/_base_results' into analysis/_documentation", "committedDate": "2020-03-18T20:02:18Z", "type": "commit"}, {"oid": "57065d13224ec849ba765968bf10659f29217363", "url": "https://github.com/phac-nml/irida/commit/57065d13224ec849ba765968bf10659f29217363", "message": "Updated text for previewing analysis output files, added missing image, removed image no longer required", "committedDate": "2020-03-19T18:34:37Z", "type": "commit"}]}