{"pr_number": 11669, "pr_title": "Improve UfsIOBench and HdfsValidationTool", "pr_createdAt": "2020-06-26T19:39:11Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11669", "timeline": [{"oid": "805fc49680372924e6fae4b88a94ac5c0aded933", "url": "https://github.com/Alluxio/alluxio/commit/805fc49680372924e6fae4b88a94ac5c0aded933", "message": "various improvements", "committedDate": "2020-06-26T19:35:48Z", "type": "commit"}, {"oid": "0e2ca940a1a49ff4435f09f104666e35799354ae", "url": "https://github.com/Alluxio/alluxio/commit/0e2ca940a1a49ff4435f09f104666e35799354ae", "message": "checkstyle", "committedDate": "2020-06-26T19:38:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM4NTU5MA==", "url": "https://github.com/Alluxio/alluxio/pull/11669#discussion_r446385590", "bodyText": "?? This validates if that is\nsounds a little unclear", "author": "LuQQiu", "createdAt": "2020-06-26T20:05:17Z", "path": "integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java", "diffHunk": "@@ -105,16 +105,19 @@ public ValidateEnv(String path, AlluxioConfiguration conf) {\n     mConf = conf;\n \n     // HDFS configuration validations\n-    registerTask(\"ufs.hdfs.config.correctness\", \"validate HDFS configuration files\",\n+    registerTask(\"ufs.hdfs.config.correctness\",\n+            \"This validates HDFS configuration files like core-site.xml and hdfs-site.xml.\",\n             new HdfsConfValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.parity\",\n-            \"validate HDFS-related configurations\",\n+            \"If the Hadoop config directory is specified, this validates if that is \"", "originalCommit": "0e2ca940a1a49ff4435f09f104666e35799354ae", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "03b08ec96ae3cd926e0be0c79d7965038a5c5f1b", "chunk": "diff --git a/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java b/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java\nindex e0e75cf731..561c4e78ee 100644\n--- a/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java\n+++ b/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java\n\n@@ -109,11 +109,12 @@ public final class ValidateEnv {\n             \"This validates HDFS configuration files like core-site.xml and hdfs-site.xml.\",\n             new HdfsConfValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.parity\",\n-            \"If the Hadoop config directory is specified, this validates if that is \"\n-                    + \"consistent with the HDFS configuration given to Alluxio.\",\n+            \"If a Hadoop config directory is specified, this compares the Hadoop config \"\n+                    + \"directory with the HDFS configuration paths given to Alluxio, \"\n+                    + \"and see if they are consistent.\",\n             new HdfsConfParityValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.proxyuser\",\n-            \"This validate proxy user configuration in HDFS for Alluxio. \"\n+            \"This validates proxy user configuration in HDFS for Alluxio. \"\n                     + \"This is needed to enable impersonation for Alluxio.\",\n             new HdfsProxyUserValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.version\",\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM4NTg3MQ==", "url": "https://github.com/Alluxio/alluxio/pull/11669#discussion_r446385871", "bodyText": "validates", "author": "LuQQiu", "createdAt": "2020-06-26T20:05:56Z", "path": "integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java", "diffHunk": "@@ -105,16 +105,19 @@ public ValidateEnv(String path, AlluxioConfiguration conf) {\n     mConf = conf;\n \n     // HDFS configuration validations\n-    registerTask(\"ufs.hdfs.config.correctness\", \"validate HDFS configuration files\",\n+    registerTask(\"ufs.hdfs.config.correctness\",\n+            \"This validates HDFS configuration files like core-site.xml and hdfs-site.xml.\",\n             new HdfsConfValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.parity\",\n-            \"validate HDFS-related configurations\",\n+            \"If the Hadoop config directory is specified, this validates if that is \"\n+                    + \"consistent with the HDFS configuration given to Alluxio.\",\n             new HdfsConfParityValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.proxyuser\",\n-            \"validate proxyuser configuration in hdfs for alluxio\",\n+            \"This validate proxy user configuration in HDFS for Alluxio. \"", "originalCommit": "0e2ca940a1a49ff4435f09f104666e35799354ae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM4ODk3Mg==", "url": "https://github.com/Alluxio/alluxio/pull/11669#discussion_r446388972", "bodyText": "Prefer to not use \"this\", or at least be clearer like \"this task validates\"", "author": "LuQQiu", "createdAt": "2020-06-26T20:13:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM4NTg3MQ=="}], "type": "inlineReview", "revised_code": {"commit": "03b08ec96ae3cd926e0be0c79d7965038a5c5f1b", "chunk": "diff --git a/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java b/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java\nindex e0e75cf731..561c4e78ee 100644\n--- a/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java\n+++ b/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java\n\n@@ -109,11 +109,12 @@ public final class ValidateEnv {\n             \"This validates HDFS configuration files like core-site.xml and hdfs-site.xml.\",\n             new HdfsConfValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.parity\",\n-            \"If the Hadoop config directory is specified, this validates if that is \"\n-                    + \"consistent with the HDFS configuration given to Alluxio.\",\n+            \"If a Hadoop config directory is specified, this compares the Hadoop config \"\n+                    + \"directory with the HDFS configuration paths given to Alluxio, \"\n+                    + \"and see if they are consistent.\",\n             new HdfsConfParityValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.proxyuser\",\n-            \"This validate proxy user configuration in HDFS for Alluxio. \"\n+            \"This validates proxy user configuration in HDFS for Alluxio. \"\n                     + \"This is needed to enable impersonation for Alluxio.\",\n             new HdfsProxyUserValidationTask(mPath, mConf), mCommonTasks);\n     registerTask(\"ufs.hdfs.config.version\",\n"}}, {"oid": "03b08ec96ae3cd926e0be0c79d7965038a5c5f1b", "url": "https://github.com/Alluxio/alluxio/commit/03b08ec96ae3cd926e0be0c79d7965038a5c5f1b", "message": "resolve comments", "committedDate": "2020-06-26T20:28:12Z", "type": "commit"}]}