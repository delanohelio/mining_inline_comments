{"pr_number": 11727, "pr_title": "Improve logging for catalog errors", "pr_createdAt": "2020-07-07T20:58:09Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11727", "timeline": [{"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf", "url": "https://github.com/Alluxio/alluxio/commit/162b61efcbbfd22c0df1fd82569df75013db9fdf", "message": "Improve logging for catalog errors", "committedDate": "2020-07-07T20:57:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDYwOA==", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451144608", "bodyText": "Are location and comment also need a non-null value? Glue doesn't require user to set values for these fields in the database?", "author": "HelloHorizon", "createdAt": "2020-07-07T21:09:12Z", "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -47,7 +49,11 @@ public DatabaseInfo(String location, String ownerName, PrincipalType ownerType,\n     mOwnerName = ownerName;\n     mOwnerType = ownerType;\n     mComment = comment;\n-    mParameters = params;", "originalCommit": "162b61efcbbfd22c0df1fd82569df75013db9fdf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NTQ1MQ==", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451155451", "bodyText": "Not sure, but those fields were already annotated to be @Nullable so I am assuming it is ok to be null.", "author": "gpang", "createdAt": "2020-07-07T21:31:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDYwOA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NzIxNw==", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451147217", "bodyText": "The glue UDB handles the NPE for parameters, do we want to check it again here?", "author": "HelloHorizon", "createdAt": "2020-07-07T21:14:28Z", "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -47,7 +49,11 @@ public DatabaseInfo(String location, String ownerName, PrincipalType ownerType,\n     mOwnerName = ownerName;\n     mOwnerType = ownerType;\n     mComment = comment;\n-    mParameters = params;\n+    if (params == null) {\n+      mParameters = Collections.emptyMap();\n+    } else {\n+      mParameters = params;\n+    }\n   }", "originalCommit": "162b61efcbbfd22c0df1fd82569df75013db9fdf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NTc3Mw==", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451155773", "bodyText": "The reason I put that here, was because this field was not classified as @Nullable, so I am enforcing that here.", "author": "gpang", "createdAt": "2020-07-07T21:32:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NzIxNw=="}], "type": "inlineReview", "revised_code": null}]}