{"pr_number": 12082, "pr_title": "Move copycat dependency to catalyst", "pr_createdAt": "2020-09-08T18:33:51Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12082", "timeline": [{"oid": "60f3e302409a572a255653eaf61afc65356a0497", "url": "https://github.com/Alluxio/alluxio/commit/60f3e302409a572a255653eaf61afc65356a0497", "message": "Move copycat dependency to catalyst", "committedDate": "2020-09-08T18:53:06Z", "type": "commit"}, {"oid": "60f3e302409a572a255653eaf61afc65356a0497", "url": "https://github.com/Alluxio/alluxio/commit/60f3e302409a572a255653eaf61afc65356a0497", "message": "Move copycat dependency to catalyst", "committedDate": "2020-09-08T18:53:06Z", "type": "forcePushed"}, {"oid": "9bcaff7c4e53216937c44e0470f572035ecab3e1", "url": "https://github.com/Alluxio/alluxio/commit/9bcaff7c4e53216937c44e0470f572035ecab3e1", "message": "Fix journal command", "committedDate": "2020-09-08T18:54:53Z", "type": "commit"}, {"oid": "005549ffb66c8d61e61d60c27abfd232cc5c0efd", "url": "https://github.com/Alluxio/alluxio/commit/005549ffb66c8d61e61d60c27abfd232cc5c0efd", "message": "Fix test", "committedDate": "2020-09-08T19:25:36Z", "type": "commit"}, {"oid": "cdea0f245a2522a9d6cf9055a461f54f206d99dd", "url": "https://github.com/Alluxio/alluxio/commit/cdea0f245a2522a9d6cf9055a461f54f206d99dd", "message": "Fix style", "committedDate": "2020-09-08T19:49:28Z", "type": "commit"}, {"oid": "d8f2f3e706e16341e35dd78f2061eb2907b5cefb", "url": "https://github.com/Alluxio/alluxio/commit/d8f2f3e706e16341e35dd78f2061eb2907b5cefb", "message": "Add comments", "committedDate": "2020-09-08T22:51:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDExNQ==", "url": "https://github.com/Alluxio/alluxio/pull/12082#discussion_r485240115", "bodyText": "Is there a way to warn user of the deprecation of this property?", "author": "bf8086", "createdAt": "2020-09-08T22:57:19Z", "path": "core/common/src/main/java/alluxio/conf/PropertyKey.java", "diffHunk": "@@ -1511,15 +1511,6 @@ public String toString() {\n           .setDefaultValue(19200)\n           .setScope(Scope.ALL)\n           .build();\n-  public static final PropertyKey MASTER_EMBEDDED_JOURNAL_STORAGE_LEVEL =", "originalCommit": "d8f2f3e706e16341e35dd78f2061eb2907b5cefb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MzMxMw==", "url": "https://github.com/Alluxio/alluxio/pull/12082#discussion_r485243313", "bodyText": "Oh yeah, i wll leave the property key there, i remember it's bunch processed during release", "author": "LuQQiu", "createdAt": "2020-09-08T23:07:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDExNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MzQ4Ng==", "url": "https://github.com/Alluxio/alluxio/pull/12082#discussion_r485243486", "bodyText": "Will add a @deprecated to the key", "author": "LuQQiu", "createdAt": "2020-09-08T23:08:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDExNQ=="}], "type": "inlineReview", "revised_code": {"commit": "175a6d82e790422f145a7f5038496f19280a66ee", "chunk": "diff --git a/core/common/src/main/java/alluxio/conf/PropertyKey.java b/core/common/src/main/java/alluxio/conf/PropertyKey.java\nindex bb6ca2ac90..70e1956803 100644\n--- a/core/common/src/main/java/alluxio/conf/PropertyKey.java\n+++ b/core/common/src/main/java/alluxio/conf/PropertyKey.java\n\n@@ -1511,6 +1511,19 @@ public final class PropertyKey implements Comparable<PropertyKey> {\n           .setDefaultValue(19200)\n           .setScope(Scope.ALL)\n           .build();\n+  /**\n+   * @deprecated storage level is used by copycat dependency which is removed\n+   */\n+  @Deprecated\n+  public static final PropertyKey MASTER_EMBEDDED_JOURNAL_STORAGE_LEVEL =\n+      new Builder(Name.MASTER_EMBEDDED_JOURNAL_STORAGE_LEVEL)\n+          .setDescription(\"The storage level for storing embedded journal logs. Use DISK for \"\n+              + \"maximum durability. Use MAPPED for better performance, but some risk of \"\n+              + \"losing state in case of power loss or host failure. Use MEMORY for \"\n+              + \"optimal performance, but no state persistence across cluster restarts.\")\n+          .setDefaultValue(\"DISK\")\n+          .setScope(Scope.MASTER)\n+          .build();\n   public static final PropertyKey MASTER_EMBEDDED_JOURNAL_SHUTDOWN_TIMEOUT =\n       new Builder(Name.MASTER_EMBEDDED_JOURNAL_SHUTDOWN_TIMEOUT)\n           .setDefaultValue(\"10sec\")\n"}}, {"oid": "175a6d82e790422f145a7f5038496f19280a66ee", "url": "https://github.com/Alluxio/alluxio/commit/175a6d82e790422f145a7f5038496f19280a66ee", "message": "Add back property key and add deprecate tag", "committedDate": "2020-09-08T23:15:37Z", "type": "commit"}]}