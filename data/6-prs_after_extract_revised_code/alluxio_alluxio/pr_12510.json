{"pr_number": 12510, "pr_title": "Support using IP as connect host", "pr_createdAt": "2020-11-16T07:08:36Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12510", "timeline": [{"oid": "89e476259fb988fe41afed534671063c39681cb0", "url": "https://github.com/Alluxio/alluxio/commit/89e476259fb988fe41afed534671063c39681cb0", "message": "When hostname & bind.host not specified, local hostname is chosen as the connect host of the service, which may cause an UnknownHostException when the LOCAL service hostname cannot be resolved by a REMOTE client. This problem can be avoided by specifying alluxio.<service_name>.hostname or alluxio.<service_name>.bind.host using an IP address. But it is really troublesome when deploying lots of nodes.\n\nAdd alluxio.service.use.ip to support using ip as the connect host when enable.", "committedDate": "2020-11-16T06:23:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzg5MTcyMw==", "url": "https://github.com/Alluxio/alluxio/pull/12510#discussion_r527891723", "bodyText": "name suggestion:\nalluxio.network.ip.address.used", "author": "apc999", "createdAt": "2020-11-20T18:22:44Z", "path": "core/common/src/main/java/alluxio/conf/PropertyKey.java", "diffHunk": "@@ -4770,6 +4779,7 @@ private static String javadocLink(String fullyQualifiedClassname) {\n     public static final String NETWORK_HOST_RESOLUTION_TIMEOUT_MS =\n         \"alluxio.network.host.resolution.timeout\";\n     public static final String SITE_CONF_DIR = \"alluxio.site.conf.dir\";\n+    public static final String SERVICE_USE_IP = \"alluxio.service.use.ip\";", "originalCommit": "89e476259fb988fe41afed534671063c39681cb0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ3MTU2Ng==", "url": "https://github.com/Alluxio/alluxio/pull/12510#discussion_r528471566", "bodyText": "Thanks for the name suggestion!", "author": "liupan664021", "createdAt": "2020-11-23T04:54:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzg5MTcyMw=="}], "type": "inlineReview", "revised_code": {"commit": "e5ce148909194f6f3a1b3537b37d793b02da5b1a", "chunk": "diff --git a/core/common/src/main/java/alluxio/conf/PropertyKey.java b/core/common/src/main/java/alluxio/conf/PropertyKey.java\nindex d7434b4ee3..ddf5326d89 100755\n--- a/core/common/src/main/java/alluxio/conf/PropertyKey.java\n+++ b/core/common/src/main/java/alluxio/conf/PropertyKey.java\n\n@@ -4778,8 +4778,8 @@ public final class PropertyKey implements Comparable<PropertyKey> {\n         \"alluxio.network.connection.shutdown.timeout\";\n     public static final String NETWORK_HOST_RESOLUTION_TIMEOUT_MS =\n         \"alluxio.network.host.resolution.timeout\";\n+    public static final String NETWORK_IP_ADDRESS_USED = \"alluxio.network.ip.address.used\";\n     public static final String SITE_CONF_DIR = \"alluxio.site.conf.dir\";\n-    public static final String SERVICE_USE_IP = \"alluxio.service.use.ip\";\n     public static final String TEST_MODE = \"alluxio.test.mode\";\n     public static final String TMP_DIRS = \"alluxio.tmp.dirs\";\n     public static final String USER_LOGS_DIR = \"alluxio.user.logs.dir\";\n"}}, {"oid": "e5ce148909194f6f3a1b3537b37d793b02da5b1a", "url": "https://github.com/Alluxio/alluxio/commit/e5ce148909194f6f3a1b3537b37d793b02da5b1a", "message": "Change the property name to \"alluxio.network.ip.address.used\"", "committedDate": "2020-11-23T04:45:50Z", "type": "commit"}]}