{"pr_number": 12500, "pr_title": "Fix prefix for version validation", "pr_createdAt": "2020-11-13T05:09:48Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12500", "timeline": [{"oid": "88746bde13cf9424f54f5b5c3c3b8d307e1a0739", "url": "https://github.com/Alluxio/alluxio/commit/88746bde13cf9424f54f5b5c3c3b8d307e1a0739", "message": "Fix prefix for version validation", "committedDate": "2020-11-13T05:09:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NjAzNw==", "url": "https://github.com/Alluxio/alluxio/pull/12500#discussion_r522676037", "bodyText": "nit: maybe break if you find a match?", "author": "jiacheliu3", "createdAt": "2020-11-13T06:18:45Z", "path": "integration/tools/validation/src/main/java/alluxio/cli/hdfs/HdfsVersionValidationTask.java", "diffHunk": "@@ -90,6 +92,11 @@ public ValidationTaskResult validateImpl(Map<String, String> optionMap)\n     }\n \n     String version = mConf.get(PropertyKey.UNDERFS_VERSION);\n+    for (String prefix : new String[] {CDH_PREFIX, HADOOP_PREFIX}) {\n+      if (version.startsWith(prefix)) {\n+        version = version.substring(prefix.length());", "originalCommit": "88746bde13cf9424f54f5b5c3c3b8d307e1a0739", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk1MTUwNQ==", "url": "https://github.com/Alluxio/alluxio/pull/12500#discussion_r522951505", "bodyText": "done", "author": "yuzhu", "createdAt": "2020-11-13T13:32:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NjAzNw=="}], "type": "inlineReview", "revised_code": {"commit": "8e67fa87a1079e8a978788e12a3d8898ce0aa9dc", "chunk": "diff --git a/integration/tools/validation/src/main/java/alluxio/cli/hdfs/HdfsVersionValidationTask.java b/integration/tools/validation/src/main/java/alluxio/cli/hdfs/HdfsVersionValidationTask.java\nindex 2da3b7ffa1..a867b3bb01 100644\n--- a/integration/tools/validation/src/main/java/alluxio/cli/hdfs/HdfsVersionValidationTask.java\n+++ b/integration/tools/validation/src/main/java/alluxio/cli/hdfs/HdfsVersionValidationTask.java\n\n@@ -95,6 +95,7 @@ public class HdfsVersionValidationTask extends AbstractValidationTask {\n     for (String prefix : new String[] {CDH_PREFIX, HADOOP_PREFIX}) {\n       if (version.startsWith(prefix)) {\n         version = version.substring(prefix.length());\n+        break;\n       }\n     }\n     if (hadoopVersion.contains(version)) {\n"}}, {"oid": "8e67fa87a1079e8a978788e12a3d8898ce0aa9dc", "url": "https://github.com/Alluxio/alluxio/commit/8e67fa87a1079e8a978788e12a3d8898ce0aa9dc", "message": "Address comments", "committedDate": "2020-11-13T13:32:30Z", "type": "commit"}]}