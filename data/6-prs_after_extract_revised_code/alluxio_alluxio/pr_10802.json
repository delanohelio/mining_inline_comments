{"pr_number": 10802, "pr_title": "Fix NPE in GetDatabase", "pr_createdAt": "2020-01-28T11:43:53Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/10802", "timeline": [{"oid": "00552d6990f0966004de470fdde576e194ec6fa3", "url": "https://github.com/Alluxio/alluxio/commit/00552d6990f0966004de470fdde576e194ec6fa3", "message": "fix a NPE in the server", "committedDate": "2020-01-28T11:26:32Z", "type": "commit"}, {"oid": "0bae833a0a76a5fcb1b04820d2cb14dd2ade5f6d", "url": "https://github.com/Alluxio/alluxio/commit/0bae833a0a76a5fcb1b04820d2cb14dd2ade5f6d", "message": "refactor code and make location optional as well", "committedDate": "2020-01-28T11:42:45Z", "type": "commit"}, {"oid": "de9a73d86f5bdb97bc631505102cc4684a502c4b", "url": "https://github.com/Alluxio/alluxio/commit/de9a73d86f5bdb97bc631505102cc4684a502c4b", "message": "Fix the tests", "committedDate": "2020-01-28T12:07:45Z", "type": "commit"}, {"oid": "4635f27a607eb006b131fdc38155db1baa4b36e8", "url": "https://github.com/Alluxio/alluxio/commit/4635f27a607eb006b131fdc38155db1baa4b36e8", "message": "fix typo", "committedDate": "2020-01-28T12:14:13Z", "type": "commit"}, {"oid": "f561179ddd74d90a017b9b1f0d322ff000fecc59", "url": "https://github.com/Alluxio/alluxio/commit/f561179ddd74d90a017b9b1f0d322ff000fecc59", "message": "add more optional fields", "committedDate": "2020-01-28T13:07:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTgwMDExOA==", "url": "https://github.com/Alluxio/alluxio/pull/10802#discussion_r371800118", "bodyText": "should the default values in the constructor continue to be \"\" and PrincipalType.USER? or should they be null? what is the difference between \"\" and null for mOwnerName?\nSImilar questions for the location and comment", "author": "ZacBlanco", "createdAt": "2020-01-28T13:27:28Z", "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -26,7 +26,9 @@\n public class DatabaseInfo {\n   @Nullable\n   private final String mLocation;\n+  @Nullable\n   private final String mOwnerName;\n+  @Nullable\n   private final PrincipalType mOwnerType;", "originalCommit": "f561179ddd74d90a017b9b1f0d322ff000fecc59", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b0b43891e57fa1250930dc5266fd3c2885d2afe7", "chunk": "diff --git a/table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java b/table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java\nindex 3d029084a2..981760ad0f 100644\n--- a/table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java\n+++ b/table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java\n\n@@ -34,17 +33,6 @@ public class DatabaseInfo {\n   private final String mComment;\n   private final Map<String, String> mParameters;\n \n-  /**\n-   * Construct a default databaseinfo class.\n-   */\n-  public DatabaseInfo() {\n-    mLocation = \"\";\n-    mOwnerName = \"\";\n-    mOwnerType = PrincipalType.USER;\n-    mComment = \"\";\n-    mParameters = ImmutableMap.of();\n-  }\n-\n   /**\n    * Full constructor for database info.\n    * @param location location\n"}}, {"oid": "b0b43891e57fa1250930dc5266fd3c2885d2afe7", "url": "https://github.com/Alluxio/alluxio/commit/b0b43891e57fa1250930dc5266fd3c2885d2afe7", "message": "remove default constructor for DatabaseInfo", "committedDate": "2020-01-28T13:34:11Z", "type": "commit"}]}