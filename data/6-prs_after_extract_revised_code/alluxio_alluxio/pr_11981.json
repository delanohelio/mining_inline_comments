{"pr_number": 11981, "pr_title": "Cleanup metrics for local cache", "pr_createdAt": "2020-08-13T17:50:45Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11981", "timeline": [{"oid": "02add64c59e771aae8353c03280150534d5e0320", "url": "https://github.com/Alluxio/alluxio/commit/02add64c59e771aae8353c03280150534d5e0320", "message": "Cleanup metrics for local cache", "committedDate": "2020-08-13T18:44:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI5MzU2Mg==", "url": "https://github.com/Alluxio/alluxio/pull/11981#discussion_r470293562", "bodyText": "white space missing", "author": "calvinjia", "createdAt": "2020-08-13T22:57:52Z", "path": "core/client/fs/src/main/java/alluxio/client/file/cache/LocalCacheManager.java", "diffHunk": "@@ -238,7 +241,10 @@ public boolean put(PageId pageId, byte[] page) {\n     try {\n       mAsyncCacheExecutor.submit(() -> {\n         try {\n-          putInternal(pageId, page);\n+          boolean ok = putInternal(pageId, page);\n+          if (!ok){", "originalCommit": "02add64c59e771aae8353c03280150534d5e0320", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDMwMjU1Ng==", "url": "https://github.com/Alluxio/alluxio/pull/11981#discussion_r470302556", "bodyText": "fixed", "author": "apc999", "createdAt": "2020-08-13T23:27:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI5MzU2Mg=="}], "type": "inlineReview", "revised_code": {"commit": "5478a99e4119da1f107b86005f31dd71dde995c3", "chunk": "diff --git a/core/client/fs/src/main/java/alluxio/client/file/cache/LocalCacheManager.java b/core/client/fs/src/main/java/alluxio/client/file/cache/LocalCacheManager.java\nindex 6c8f83af26..9db9006b1d 100644\n--- a/core/client/fs/src/main/java/alluxio/client/file/cache/LocalCacheManager.java\n+++ b/core/client/fs/src/main/java/alluxio/client/file/cache/LocalCacheManager.java\n\n@@ -242,7 +242,7 @@ public class LocalCacheManager implements CacheManager {\n       mAsyncCacheExecutor.submit(() -> {\n         try {\n           boolean ok = putInternal(pageId, page);\n-          if (!ok){\n+          if (!ok) {\n             Metrics.PUT_ERRORS.inc();\n           }\n         } finally {\n"}}, {"oid": "5478a99e4119da1f107b86005f31dd71dde995c3", "url": "https://github.com/Alluxio/alluxio/commit/5478a99e4119da1f107b86005f31dd71dde995c3", "message": "Cleanup metrics for local cache", "committedDate": "2020-08-13T23:27:31Z", "type": "commit"}, {"oid": "5478a99e4119da1f107b86005f31dd71dde995c3", "url": "https://github.com/Alluxio/alluxio/commit/5478a99e4119da1f107b86005f31dd71dde995c3", "message": "Cleanup metrics for local cache", "committedDate": "2020-08-13T23:27:31Z", "type": "forcePushed"}]}