{"pr_number": 3710, "pr_title": "[Bitstamp] Fix: getUserTransactions use correct method for currency pair null", "pr_createdAt": "2020-09-16T20:23:57Z", "pr_url": "https://github.com/knowm/XChange/pull/3710", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczODAyMA==", "url": "https://github.com/knowm/XChange/pull/3710#discussion_r491738020", "bodyText": "just one small remark\nprepare a String sortStr = sort == null ? null : sort.toString(); before the if", "author": "walec51", "createdAt": "2020-09-20T21:43:40Z", "path": "xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampTradeService.java", "diffHunk": "@@ -146,14 +155,22 @@ public UserTrades getTradeHistory(TradeHistoryParams params) throws IOException\n               .map(Long::parseLong)\n               .orElse(null);\n     }\n-    BitstampUserTransaction[] txs =\n-        getBitstampUserTransactions(\n-            limit,\n-            currencyPair,\n-            offset,\n-            sort == null ? null : sort.toString(),\n-            sinceTimestamp,\n-            sinceId);\n+    BitstampUserTransaction[] txs;\n+    if (currencyPair == null) {\n+      txs =\n+          getBitstampUserTransactions(\n+              limit, offset, sort == null ? null : sort.toString(), sinceTimestamp, sinceId);", "originalCommit": "de9e4ac8ce7228e084794a0bcba674c1e87e7e00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NDUxNA==", "url": "https://github.com/knowm/XChange/pull/3710#discussion_r491974514", "bodyText": "Sure, done.", "author": "milczarekIT", "createdAt": "2020-09-21T11:40:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczODAyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE1NDU3Mg==", "url": "https://github.com/knowm/XChange/pull/3710#discussion_r492154572", "bodyText": "thanks", "author": "walec51", "createdAt": "2020-09-21T15:31:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczODAyMA=="}], "type": "inlineReview", "revised_code": {"commit": "3ecad9eec7aeb95713983d79d24b9b9ca1e25933", "chunk": "diff --git a/xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampTradeService.java b/xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampTradeService.java\nindex d1f16afc37..48302ff3c8 100644\n--- a/xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampTradeService.java\n+++ b/xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampTradeService.java\n\n@@ -156,19 +156,11 @@ public class BitstampTradeService extends BitstampTradeServiceRaw implements Tra\n               .orElse(null);\n     }\n     BitstampUserTransaction[] txs;\n+    final String sort = order == null ? null : order.toString();\n     if (currencyPair == null) {\n-      txs =\n-          getBitstampUserTransactions(\n-              limit, offset, sort == null ? null : sort.toString(), sinceTimestamp, sinceId);\n+      txs = getBitstampUserTransactions(limit, offset, sort, sinceTimestamp, sinceId);\n     } else {\n-      txs =\n-          getBitstampUserTransactions(\n-              limit,\n-              currencyPair,\n-              offset,\n-              sort == null ? null : sort.toString(),\n-              sinceTimestamp,\n-              sinceId);\n+      txs = getBitstampUserTransactions(limit, currencyPair, offset, sort, sinceTimestamp, sinceId);\n     }\n \n     return BitstampAdapters.adaptTradeHistory(txs);\n"}}, {"oid": "3ecad9eec7aeb95713983d79d24b9b9ca1e25933", "url": "https://github.com/knowm/XChange/commit/3ecad9eec7aeb95713983d79d24b9b9ca1e25933", "message": "[Bitstamp] Fix: getUserTransactions use correct method for currency pair null\n[Bitstamp] sort/order before if", "committedDate": "2020-09-21T11:39:43Z", "type": "commit"}, {"oid": "3ecad9eec7aeb95713983d79d24b9b9ca1e25933", "url": "https://github.com/knowm/XChange/commit/3ecad9eec7aeb95713983d79d24b9b9ca1e25933", "message": "[Bitstamp] Fix: getUserTransactions use correct method for currency pair null\n[Bitstamp] sort/order before if", "committedDate": "2020-09-21T11:39:43Z", "type": "forcePushed"}]}