{"pr_number": 2802, "pr_title": "Checking for commonParams empty before add runtimeparams", "pr_createdAt": "2020-02-28T10:52:21Z", "pr_url": "https://github.com/wso2/carbon-identity-framework/pull/2802", "timeline": [{"oid": "c1a84476e39208c03b24c0547f0967147f680a42", "url": "https://github.com/wso2/carbon-identity-framework/commit/c1a84476e39208c03b24c0547f0967147f680a42", "message": "Check commonParams empty", "committedDate": "2020-02-28T10:46:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTYzNTEwMQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2802#discussion_r385635101", "bodyText": "Can you use MapUtils.isNotEmpty() here?", "author": "inthirakumaaran", "createdAt": "2020-02-28T11:03:40Z", "path": "components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java", "diffHunk": "@@ -269,7 +269,7 @@ protected String getUserStoreAppendedName(String userName) {\n         Map<String, String> runtimeParams = context.getAuthenticatorParams(getName());\n         Map<String, String> commonParams = context\n                 .getAuthenticatorParams(FrameworkConstants.JSAttributes.JS_COMMON_OPTIONS);\n-        if (commonParams != null) {\n+        if ((commonParams != null) && !(commonParams.isEmpty())) {", "originalCommit": "c1a84476e39208c03b24c0547f0967147f680a42", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "751b31b1eceb0af86832dc4872325b1c1b7e16d7", "chunk": "diff --git a/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java b/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\nindex 4bcd1337bb6..715a3aa0721 100644\n--- a/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\n+++ b/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\n\n@@ -269,7 +269,7 @@ public abstract class AbstractApplicationAuthenticator implements ApplicationAut\n         Map<String, String> runtimeParams = context.getAuthenticatorParams(getName());\n         Map<String, String> commonParams = context\n                 .getAuthenticatorParams(FrameworkConstants.JSAttributes.JS_COMMON_OPTIONS);\n-        if ((commonParams != null) && !(commonParams.isEmpty())) {\n+        if (MapUtils.isNotEmpty(commonParams)) {\n             if (runtimeParams != null) {\n                 commonParams.putAll(runtimeParams);\n             }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTYzNjAyMA==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2802#discussion_r385636020", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if ((commonParams != null) && !(commonParams.isEmpty())) {\n          \n          \n            \n                    if (MapUtils.isNotEmpty(commonParams)) {", "author": "inthirakumaaran", "createdAt": "2020-02-28T11:05:42Z", "path": "components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java", "diffHunk": "@@ -269,7 +269,7 @@ protected String getUserStoreAppendedName(String userName) {\n         Map<String, String> runtimeParams = context.getAuthenticatorParams(getName());\n         Map<String, String> commonParams = context\n                 .getAuthenticatorParams(FrameworkConstants.JSAttributes.JS_COMMON_OPTIONS);\n-        if (commonParams != null) {\n+        if ((commonParams != null) && !(commonParams.isEmpty())) {", "originalCommit": "c1a84476e39208c03b24c0547f0967147f680a42", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "751b31b1eceb0af86832dc4872325b1c1b7e16d7", "chunk": "diff --git a/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java b/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\nindex 4bcd1337bb6..715a3aa0721 100644\n--- a/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\n+++ b/components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\n\n@@ -269,7 +269,7 @@ public abstract class AbstractApplicationAuthenticator implements ApplicationAut\n         Map<String, String> runtimeParams = context.getAuthenticatorParams(getName());\n         Map<String, String> commonParams = context\n                 .getAuthenticatorParams(FrameworkConstants.JSAttributes.JS_COMMON_OPTIONS);\n-        if ((commonParams != null) && !(commonParams.isEmpty())) {\n+        if (MapUtils.isNotEmpty(commonParams)) {\n             if (runtimeParams != null) {\n                 commonParams.putAll(runtimeParams);\n             }\n"}}, {"oid": "751b31b1eceb0af86832dc4872325b1c1b7e16d7", "url": "https://github.com/wso2/carbon-identity-framework/commit/751b31b1eceb0af86832dc4872325b1c1b7e16d7", "message": "Update components/authentication-framework/org.wso2.carbon.identity.application.authentication.framework/src/main/java/org/wso2/carbon/identity/application/authentication/framework/AbstractApplicationAuthenticator.java\n\nCo-Authored-By: Inthirakumaaran <inthira.14@cse.mrt.ac.lk>", "committedDate": "2020-02-28T11:20:07Z", "type": "commit"}]}