{"pr_number": 2917, "pr_title": "Display custom inbound authenticators in management console.", "pr_createdAt": "2020-05-03T08:30:32Z", "pr_url": "https://github.com/wso2/carbon-identity-framework/pull/2917", "timeline": [{"oid": "09f94430f55f2e70a3d438feb8c071a8bfa7997b", "url": "https://github.com/wso2/carbon-identity-framework/commit/09f94430f55f2e70a3d438feb8c071a8bfa7997b", "message": "Fix for issue\n\nhttps://github.com/wso2/product-is/issues/8203", "committedDate": "2020-05-03T08:33:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIwNjgzNQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2917#discussion_r419206835", "bodyText": "we can use CollectionUtils.isNotEmpty(customInboundAuthenticatorConfigs) && CollectionUtils.isNotEmpty(inboundAuthenticationRequestConfigs) here and remove nested if", "author": "emswbandara", "createdAt": "2020-05-04T04:13:34Z", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt.ui/src/main/java/org/wso2/carbon/identity/application/mgt/ui/ApplicationBean.java", "diffHunk": "@@ -944,28 +945,32 @@ private boolean isCustomInboundAuthType(String authType) {\n     }\n \n     /**\n-     * Get all custom authenticators\n+     * Get all custom authenticators.\n      *\n      * @return Custom authenticators\n      */\n     public List<InboundAuthenticationRequestConfig> getInboundAuthenticators() {\n \n-        if (!CollectionUtils.isEmpty(inboundAuthenticationRequestConfigs)) {\n-            return inboundAuthenticationRequestConfigs;\n-        }\n-\n-        inboundAuthenticationRequestConfigs = new ArrayList<InboundAuthenticationRequestConfig>();\n-\n-        InboundAuthenticationRequestConfig[] authRequests = serviceProvider\n-                .getInboundAuthenticationConfig()\n-                .getInboundAuthenticationRequestConfigs();\n-\n-        if (authRequests != null) {\n-            for (InboundAuthenticationRequestConfig request : authRequests) {\n-                if (isCustomInboundAuthType(request.getInboundAuthType())) {\n-                    inboundAuthenticationRequestConfigs.add(request);\n+        if (customInboundAuthenticatorConfigs != null && customInboundAuthenticatorConfigs.size() > 0) {", "originalCommit": "09f94430f55f2e70a3d438feb8c071a8bfa7997b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIwOTAwNw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2917#discussion_r419209007", "bodyText": "If we remove the nested if condition and use a &&, we have to do the CollectionUtils.isNotEmpty(customInboundAuthenticatorConfigs)  check twice.", "author": "mevan-karu", "createdAt": "2020-05-04T04:27:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIwNjgzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIxMjQ5Mg==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2917#discussion_r419212492", "bodyText": "where do we check CollectionUtils.isNotEmpty(customInboundAuthenticatorConfigs)  for the second time? we can remove the second check", "author": "emswbandara", "createdAt": "2020-05-04T04:49:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIwNjgzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIyNjc0Mg==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2917#discussion_r419226742", "bodyText": "If we remove the nested if, we have to check twice.", "author": "mevan-karu", "createdAt": "2020-05-04T06:05:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIwNjgzNQ=="}], "type": "inlineReview", "revised_code": {"commit": "8c082b9de56fb1850729dd91e18a2b58d78a7fbb", "chunk": "diff --git a/components/application-mgt/org.wso2.carbon.identity.application.mgt.ui/src/main/java/org/wso2/carbon/identity/application/mgt/ui/ApplicationBean.java b/components/application-mgt/org.wso2.carbon.identity.application.mgt.ui/src/main/java/org/wso2/carbon/identity/application/mgt/ui/ApplicationBean.java\nindex 0e4ca83ef34..2ef551ce8c0 100644\n--- a/components/application-mgt/org.wso2.carbon.identity.application.mgt.ui/src/main/java/org/wso2/carbon/identity/application/mgt/ui/ApplicationBean.java\n+++ b/components/application-mgt/org.wso2.carbon.identity.application.mgt.ui/src/main/java/org/wso2/carbon/identity/application/mgt/ui/ApplicationBean.java\n\n@@ -951,8 +951,8 @@ public class ApplicationBean {\n      */\n     public List<InboundAuthenticationRequestConfig> getInboundAuthenticators() {\n \n-        if (customInboundAuthenticatorConfigs != null && customInboundAuthenticatorConfigs.size() > 0) {\n-            if (!CollectionUtils.isEmpty(inboundAuthenticationRequestConfigs)) {\n+        if (CollectionUtils.isNotEmpty(Collections.singleton(customInboundAuthenticatorConfigs))) {\n+            if (CollectionUtils.isNotEmpty(inboundAuthenticationRequestConfigs)) {\n                 return inboundAuthenticationRequestConfigs;\n             }\n             InboundAuthenticationRequestConfig[] authRequests = serviceProvider\n"}}, {"oid": "8c082b9de56fb1850729dd91e18a2b58d78a7fbb", "url": "https://github.com/wso2/carbon-identity-framework/commit/8c082b9de56fb1850729dd91e18a2b58d78a7fbb", "message": "Address review comments", "committedDate": "2020-05-04T07:29:57Z", "type": "forcePushed"}, {"oid": "c6e3d744e6ea9940c278e01488db606d434a25bb", "url": "https://github.com/wso2/carbon-identity-framework/commit/c6e3d744e6ea9940c278e01488db606d434a25bb", "message": "Fix for issue\n\nhttps://github.com/wso2/product-is/issues/8203", "committedDate": "2020-05-05T07:13:11Z", "type": "commit"}, {"oid": "715480f9c032a054eaff677139e656f76e902fb9", "url": "https://github.com/wso2/carbon-identity-framework/commit/715480f9c032a054eaff677139e656f76e902fb9", "message": "Address review comments", "committedDate": "2020-05-05T07:13:11Z", "type": "commit"}, {"oid": "715480f9c032a054eaff677139e656f76e902fb9", "url": "https://github.com/wso2/carbon-identity-framework/commit/715480f9c032a054eaff677139e656f76e902fb9", "message": "Address review comments", "committedDate": "2020-05-05T07:13:11Z", "type": "forcePushed"}]}