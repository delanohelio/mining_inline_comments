{"pr_number": 2779, "pr_title": "Add a method to check EmailUsernameEnable status", "pr_createdAt": "2020-02-23T13:48:33Z", "pr_url": "https://github.com/wso2/carbon-identity-framework/pull/2779", "timeline": [{"oid": "f5407902faa2d2eafe6f1ae0648a2e5915b1930b", "url": "https://github.com/wso2/carbon-identity-framework/commit/f5407902faa2d2eafe6f1ae0648a2e5915b1930b", "message": "Add EnableEmailUserName Boolean return method to IdentityUtil", "committedDate": "2020-02-23T06:02:45Z", "type": "commit"}, {"oid": "80059e948ea4c340884b215b9dcb7e7986eebf51", "url": "https://github.com/wso2/carbon-identity-framework/commit/80059e948ea4c340884b215b9dcb7e7986eebf51", "message": "Add .factorypath to .gitignore", "committedDate": "2020-02-23T06:02:45Z", "type": "commit"}, {"oid": "b9dc54bc24f1b7229f45d4f2cc5b3389e52ba39a", "url": "https://github.com/wso2/carbon-identity-framework/commit/b9dc54bc24f1b7229f45d4f2cc5b3389e52ba39a", "message": "Add some missing doc comments in IdentityUtil.java", "committedDate": "2020-02-23T06:08:31Z", "type": "commit"}, {"oid": "61689334504c604b2dd0870be80c1514d95f20f3", "url": "https://github.com/wso2/carbon-identity-framework/commit/61689334504c604b2dd0870be80c1514d95f20f3", "message": "Change to pull EnableEmailUserName from carbon.xml in IdentityUtil", "committedDate": "2020-02-23T13:33:16Z", "type": "commit"}, {"oid": "6616ab613867c2e0e048b7ddbfc9e7ed7ffa8601", "url": "https://github.com/wso2/carbon-identity-framework/commit/6616ab613867c2e0e048b7ddbfc9e7ed7ffa8601", "message": "Update IdentityUtil.java", "committedDate": "2020-02-24T15:50:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM2Mjc4MQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2779#discussion_r383362781", "bodyText": "add an empty line after the method declaration.", "author": "thanujalk", "createdAt": "2020-02-24T16:15:09Z", "path": "components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java", "diffHunk": "@@ -1059,6 +1070,19 @@ public static boolean isSelfSignUpEPAvailable() {\n         return false;\n     }\n \n+    /**\n+     * Returns whether the email based username is enabled or not.\n+     *\n+     * @return true if the EnableEmailUserName. False if it doesnt\n+     */\n+    public static boolean isEmailUsernameEnabled() {\n+        String enableEmailUsernameProperty = ServerConfiguration.getInstance().getFirstProperty(ENABLE_EMAIL_USERNAME);", "originalCommit": "6616ab613867c2e0e048b7ddbfc9e7ed7ffa8601", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY0ODI4NQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2779#discussion_r383648285", "bodyText": "Fixed in 6616ab6", "author": "jeradrutnam", "createdAt": "2020-02-25T04:05:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM2Mjc4MQ=="}], "type": "inlineReview", "revised_code": {"commit": "1700a907fb8dbfb0b3c0a908a8c62b3df2113266", "chunk": "diff --git a/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java b/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java\nindex 751ddbc24b7..bc9d6b7a099 100644\n--- a/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java\n+++ b/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java\n\n@@ -1063,11 +1061,9 @@ public class IdentityUtil {\n      * @return true if the EnableSelfSignUpEndpoint. False if it doesnt\n      */\n     public static boolean isSelfSignUpEPAvailable() {\n+\n         String enableSelfSignEPUpUrlProperty = getProperty(ENABLE_SELF_SIGN_UP_ENDPOINT);\n-        if (StringUtils.isNotBlank(enableSelfSignEPUpUrlProperty)) {\n-            return Boolean.parseBoolean(enableSelfSignEPUpUrlProperty);\n-        }\n-        return false;\n+        return Boolean.parseBoolean(enableSelfSignEPUpUrlProperty);\n     }\n \n     /**\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM2NTU5Mw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2779#discussion_r383365593", "bodyText": "Since parseBoolean logic is \"return ((s != null) && s.equalsIgnoreCase(\"true\"));\" this isNotBlank is redundent.", "author": "thanujalk", "createdAt": "2020-02-24T16:19:33Z", "path": "components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java", "diffHunk": "@@ -1059,6 +1070,19 @@ public static boolean isSelfSignUpEPAvailable() {\n         return false;\n     }\n \n+    /**\n+     * Returns whether the email based username is enabled or not.\n+     *\n+     * @return true if the EnableEmailUserName. False if it doesnt\n+     */\n+    public static boolean isEmailUsernameEnabled() {\n+        String enableEmailUsernameProperty = ServerConfiguration.getInstance().getFirstProperty(ENABLE_EMAIL_USERNAME);\n+        if (StringUtils.isNotBlank(enableEmailUsernameProperty)) {", "originalCommit": "6616ab613867c2e0e048b7ddbfc9e7ed7ffa8601", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY0ODIxNg==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2779#discussion_r383648216", "bodyText": "Fixed in 1700a90", "author": "jeradrutnam", "createdAt": "2020-02-25T04:05:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM2NTU5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "1700a907fb8dbfb0b3c0a908a8c62b3df2113266", "chunk": "diff --git a/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java b/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java\nindex 751ddbc24b7..bc9d6b7a099 100644\n--- a/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java\n+++ b/components/identity-core/org.wso2.carbon.identity.core/src/main/java/org/wso2/carbon/identity/core/util/IdentityUtil.java\n\n@@ -1063,11 +1061,9 @@ public class IdentityUtil {\n      * @return true if the EnableSelfSignUpEndpoint. False if it doesnt\n      */\n     public static boolean isSelfSignUpEPAvailable() {\n+\n         String enableSelfSignEPUpUrlProperty = getProperty(ENABLE_SELF_SIGN_UP_ENDPOINT);\n-        if (StringUtils.isNotBlank(enableSelfSignEPUpUrlProperty)) {\n-            return Boolean.parseBoolean(enableSelfSignEPUpUrlProperty);\n-        }\n-        return false;\n+        return Boolean.parseBoolean(enableSelfSignEPUpUrlProperty);\n     }\n \n     /**\n"}}, {"oid": "1700a907fb8dbfb0b3c0a908a8c62b3df2113266", "url": "https://github.com/wso2/carbon-identity-framework/commit/1700a907fb8dbfb0b3c0a908a8c62b3df2113266", "message": "Refactor few xml configurations read methods in IdentityUtil", "committedDate": "2020-02-25T04:03:35Z", "type": "commit"}]}