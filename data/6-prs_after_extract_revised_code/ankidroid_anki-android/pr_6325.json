{"pr_number": 6325, "pr_title": "Login  triggered when pressing enter #6322", "pr_createdAt": "2020-06-01T10:54:36Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6325", "timeline": [{"oid": "65c0f343752882f9dc72c3922e74674b5764e1b3", "url": "https://github.com/ankidroid/Anki-Android/commit/65c0f343752882f9dc72c3922e74674b5764e1b3", "message": "added mPassword onKeyListener", "committedDate": "2020-06-01T10:49:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE2ODQ2NQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6325#discussion_r433168465", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                case KeyEvent.KEYCODE_ENTER:\n          \n          \n            \n                                case KeyEvent.KEYCODE_ENTER:\n          \n          \n            \n                                case KeyEvent.KEYCODE_NUMPAD_ENTER:", "author": "david-allison-1", "createdAt": "2020-06-01T10:55:56Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java", "diffHunk": "@@ -151,6 +151,22 @@ private void initAllContentViews() {\n         mUsername = mLoginToMyAccountView.findViewById(R.id.username);\n         mPassword = mLoginToMyAccountView.findViewById(R.id.password);\n \n+        mPassword.setOnKeyListener((v, keyCode, event) -> {\n+            if (event.getAction() == KeyEvent.ACTION_DOWN)\n+            {\n+                switch (keyCode)\n+                {\n+                    case KeyEvent.KEYCODE_DPAD_CENTER:\n+                    case KeyEvent.KEYCODE_ENTER:", "originalCommit": "65c0f343752882f9dc72c3922e74674b5764e1b3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "aaf9bb67ec4cd382e3acf1e51a0c2664552a1206", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java b/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\nindex 072ee70a2..0c9b20cd5 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\n\n@@ -158,6 +158,7 @@ public class MyAccount extends AnkiActivity {\n                 {\n                     case KeyEvent.KEYCODE_DPAD_CENTER:\n                     case KeyEvent.KEYCODE_ENTER:\n+                    case KeyEvent.KEYCODE_NUMPAD_ENTER:\n                         login();\n                         return true;\n                     default:\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE3MzcyMA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6325#discussion_r433173720", "bodyText": "Just to note: our coding conventions would prefer One True Brace style. (Personally, I prefer Allman braces, but consistency rules):\n\n  \n    \n      Anki-Android/docs/code_conventions/AnkiDroid_code_conventions.html\n    \n    \n        Lines 1122 to 1140\n      in\n      edcdfe0\n    \n    \n    \n    \n\n        \n          \n           <td class=\"recom\"> \n        \n\n        \n          \n           36. 1TBS (One True Brace Style) must be used. That means:<br /> \n        \n\n        \n          \n           - Opening brace \"{\" appears at the end of the same line as the declaration statement. <br> \n        \n\n        \n          \n           - Ending brace \"}\" takes up an entire line by itself and it is intended at the same level that its correspondent opening statement. <br> \n        \n\n        \n          \n           - Braces are mandatory, even for single-statements or empty blocks. \n        \n\n        \n          \n           </tr> \n        \n\n        \n          \n            \n        \n\n        \n          \n           <tr> \n        \n\n        \n          \n           <td class=\"example\">class MyClass { \n        \n\n        \n          \n               int func() { \n        \n\n        \n          \n                   if (something) { \n        \n\n        \n          \n                       // ... \n        \n\n        \n          \n                   } else if (somethingElse) { \n        \n\n        \n          \n                       // ... \n        \n\n        \n          \n                   } else { \n        \n\n        \n          \n                       // ... \n        \n\n        \n          \n                   } \n        \n\n        \n          \n               } \n        \n\n        \n          \n           }", "author": "david-allison-1", "createdAt": "2020-06-01T11:08:22Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java", "diffHunk": "@@ -151,6 +151,22 @@ private void initAllContentViews() {\n         mUsername = mLoginToMyAccountView.findViewById(R.id.username);\n         mPassword = mLoginToMyAccountView.findViewById(R.id.password);\n \n+        mPassword.setOnKeyListener((v, keyCode, event) -> {\n+            if (event.getAction() == KeyEvent.ACTION_DOWN)", "originalCommit": "65c0f343752882f9dc72c3922e74674b5764e1b3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "aaf9bb67ec4cd382e3acf1e51a0c2664552a1206", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java b/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\nindex 072ee70a2..0c9b20cd5 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\n\n@@ -158,6 +158,7 @@ public class MyAccount extends AnkiActivity {\n                 {\n                     case KeyEvent.KEYCODE_DPAD_CENTER:\n                     case KeyEvent.KEYCODE_ENTER:\n+                    case KeyEvent.KEYCODE_NUMPAD_ENTER:\n                         login();\n                         return true;\n                     default:\n"}}, {"oid": "aaf9bb67ec4cd382e3acf1e51a0c2664552a1206", "url": "https://github.com/ankidroid/Anki-Android/commit/aaf9bb67ec4cd382e3acf1e51a0c2664552a1206", "message": "Update AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java\n\nCo-authored-by: david-allison-1 <62114487+david-allison-1@users.noreply.github.com>", "committedDate": "2020-06-01T13:28:56Z", "type": "commit"}, {"oid": "0c2c56b64221dc939abdfa1b1db8009a6817fc3f", "url": "https://github.com/ankidroid/Anki-Android/commit/0c2c56b64221dc939abdfa1b1db8009a6817fc3f", "message": "changed format to One True Brace Style", "committedDate": "2020-06-01T13:33:51Z", "type": "commit"}]}