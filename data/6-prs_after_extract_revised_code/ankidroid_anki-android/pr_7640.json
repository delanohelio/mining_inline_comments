{"pr_number": 7640, "pr_title": "Fix #7466: Round Doubles when displaying Deck Options", "pr_createdAt": "2020-11-09T18:57:55Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7640", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA0Nzg0MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7640#discussion_r520047840", "bodyText": "I just learned about this a few days ago, but I think you can use Locale.ROOT for locale-sensitive operations where you do not actually care about the locale? https://developer.android.com/reference/java/util/Locale#ROOT", "author": "mikehardy", "createdAt": "2020-11-09T19:02:55Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/DeckOptions.java", "diffHunk": "@@ -106,6 +107,7 @@ public DeckOptions getDeckOptions() {\n         }\n \n \n+        @SuppressLint(\"DefaultLocale\")", "originalCommit": "66f09d5fc40c0b06980d02471d1dae79a271b0ca", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4a536b456b3946b0c58cef1b37241efab1618cc1", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckOptions.java b/AnkiDroid/src/main/java/com/ichi2/anki/DeckOptions.java\nindex 531cd4a03..051e55e70 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckOptions.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckOptions.java\n\n@@ -106,8 +107,6 @@ public class DeckOptions extends AppCompatPreferenceActivity implements OnShared\n             return DeckOptions.this;\n         }\n \n-\n-        @SuppressLint(\"DefaultLocale\")\n         private void cacheValues() {\n             Timber.i(\"DeckOptions - CacheValues\");\n \n"}}, {"oid": "4a536b456b3946b0c58cef1b37241efab1618cc1", "url": "https://github.com/ankidroid/Anki-Android/commit/4a536b456b3946b0c58cef1b37241efab1618cc1", "message": "Changing Integer.toString() to String.format(\"%.0f\", ...) method when reading Double type deck options that are stored in JSON. This prevents displaying incorrect values to users by rounding them to nearest number. fix/7466", "committedDate": "2020-11-10T10:02:48Z", "type": "commit"}, {"oid": "49286c9867f22aca647f1a715cddd8aed1e63ba7", "url": "https://github.com/ankidroid/Anki-Android/commit/49286c9867f22aca647f1a715cddd8aed1e63ba7", "message": "Merge remote-tracking branch 'upstream/master' into rounding_deck_options", "committedDate": "2020-11-10T10:05:36Z", "type": "commit"}, {"oid": "49286c9867f22aca647f1a715cddd8aed1e63ba7", "url": "https://github.com/ankidroid/Anki-Android/commit/49286c9867f22aca647f1a715cddd8aed1e63ba7", "message": "Merge remote-tracking branch 'upstream/master' into rounding_deck_options", "committedDate": "2020-11-10T10:05:36Z", "type": "forcePushed"}, {"oid": "13384e37228ba4d123ecfcd52d04fcf017ef1b62", "url": "https://github.com/ankidroid/Anki-Android/commit/13384e37228ba4d123ecfcd52d04fcf017ef1b62", "message": "Remove unnecessary import.", "committedDate": "2020-11-10T10:24:06Z", "type": "commit"}]}