{"pr_number": 7439, "pr_title": "Fix App closing after pressing \"Back\" on changelog", "pr_createdAt": "2020-10-22T14:57:24Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7439", "timeline": [{"oid": "804c3f76fc826436a8c6fa45ea7eff36ac11f535", "url": "https://github.com/ankidroid/Anki-Android/commit/804c3f76fc826436a8c6fa45ea7eff36ac11f535", "message": "NF: Remove unused variables", "committedDate": "2020-10-22T14:54:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDIzMTkxOA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7439#discussion_r510231918", "bodyText": "This works without the code", "author": "david-allison-1", "createdAt": "2020-10-22T14:58:03Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Info.java", "diffHunk": "@@ -191,19 +191,6 @@ private void openMarketUrl() {\n         }\n     }\n \n-", "originalCommit": "9e30238c81750789582b9f592a20a7685fa092b0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1ae4bcabf767b018ac673e629c4f25c600dfa13f", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Info.java b/AnkiDroid/src/main/java/com/ichi2/anki/Info.java\nindex 0918057f9..a02d13071 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/Info.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/Info.java\n\n@@ -191,6 +191,19 @@ public class Info extends AnkiActivity {\n         }\n     }\n \n+\n+    @Override\n+    public boolean onKeyDown(int keyCode, KeyEvent event) {\n+        if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) {\n+            Timber.i(\"onBackPressed()\");\n+            setResult(RESULT_CANCELED);\n+            finishWithAnimation();\n+            return true;\n+        }\n+        return super.onKeyDown(keyCode, event);\n+    }\n+\n+\n     private void finishWithAnimation() {\n         finishWithAnimation(LEFT);\n     }\n"}}, {"oid": "1ae4bcabf767b018ac673e629c4f25c600dfa13f", "url": "https://github.com/ankidroid/Anki-Android/commit/1ae4bcabf767b018ac673e629c4f25c600dfa13f", "message": "Keep DeckPicker open after showing New Version Info\n\nFixes 7438", "committedDate": "2020-10-22T15:06:40Z", "type": "commit"}, {"oid": "1ae4bcabf767b018ac673e629c4f25c600dfa13f", "url": "https://github.com/ankidroid/Anki-Android/commit/1ae4bcabf767b018ac673e629c4f25c600dfa13f", "message": "Keep DeckPicker open after showing New Version Info\n\nFixes 7438", "committedDate": "2020-10-22T15:06:40Z", "type": "forcePushed"}]}