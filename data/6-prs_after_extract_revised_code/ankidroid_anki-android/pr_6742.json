{"pr_number": 6742, "pr_title": "NF: listener's onProgressUpdate take a single element", "pr_createdAt": "2020-07-25T10:15:21Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6742", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM5OTk4OA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6742#discussion_r460399988", "bodyText": "value", "author": "david-allison-1", "createdAt": "2020-07-25T12:24:41Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -573,8 +573,8 @@ public void onPreExecute() { /* do nothing */}\n \n \n         @Override\n-        public void onProgressUpdate(TaskData... values) {\n-            displayNext(values[0].getCard());\n+        public void onProgressUpdate(TaskData values) {", "originalCommit": "e0958632f736b688ec2e0d01b7747607e7230600", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "200134a6c4ca4b441feda8db528d1e650625ab07", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\nindex 47088390b3..cc5a8096bd 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n\n@@ -573,7 +573,7 @@ public abstract class AbstractFlashcardViewer extends NavigationDrawerActivity i\n \n \n         @Override\n-        public void onProgressUpdate(TaskData values) {\n+        public void onProgressUpdate(TaskData value) {\n             displayNext(values.getCard());\n         }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwMDAzNw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6742#discussion_r460400037", "bodyText": "value", "author": "david-allison-1", "createdAt": "2020-07-25T12:25:03Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java", "diffHunk": "@@ -2574,8 +2574,8 @@ public void onPostExecute(TaskData result) {\n \n \n         @Override\n-        public void onProgressUpdate(TaskData... values) {\n-            mProgressDialog.setContent(values[0].getString());\n+        public void onProgressUpdate(TaskData values) {\n+            mProgressDialog.setContent(values.getString());", "originalCommit": "e0958632f736b688ec2e0d01b7747607e7230600", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "200134a6c4ca4b441feda8db528d1e650625ab07", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java\nindex feb49b6dc3..24a5f6e5a2 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java\n\n@@ -2574,7 +2574,7 @@ public class DeckPicker extends NavigationDrawerActivity implements\n \n \n         @Override\n-        public void onProgressUpdate(TaskData values) {\n+        public void onProgressUpdate(TaskData value) {\n             mProgressDialog.setContent(values.getString());\n         }\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwMDA0MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6742#discussion_r460400040", "bodyText": "value", "author": "david-allison-1", "createdAt": "2020-07-25T12:25:08Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java", "diffHunk": "@@ -340,8 +340,8 @@ public void onPreExecute() {\n \n \n         @Override\n-        public void onProgressUpdate(TaskData... values) {\n-            mProgressDialog.setContent(values[0].getString());\n+        public void onProgressUpdate(TaskData values) {\n+            mProgressDialog.setContent(values.getString());", "originalCommit": "e0958632f736b688ec2e0d01b7747607e7230600", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "200134a6c4ca4b441feda8db528d1e650625ab07", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java\nindex feb49b6dc3..24a5f6e5a2 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java\n\n@@ -340,7 +340,7 @@ public class DeckPicker extends NavigationDrawerActivity implements\n \n \n         @Override\n-        public void onProgressUpdate(TaskData values) {\n+        public void onProgressUpdate(TaskData value) {\n             mProgressDialog.setContent(values.getString());\n         }\n     };\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwMDA1NQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6742#discussion_r460400055", "bodyText": "value", "author": "david-allison-1", "createdAt": "2020-07-25T12:25:15Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java", "diffHunk": "@@ -223,8 +223,8 @@ public void onPreExecute() {\n         }\n \n         @Override\n-        public void onProgressUpdate(TaskData... values) {\n-            int count = values[0].getInt();\n+        public void onProgressUpdate(TaskData values) {\n+            int count = values.getInt();", "originalCommit": "e0958632f736b688ec2e0d01b7747607e7230600", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "200134a6c4ca4b441feda8db528d1e650625ab07", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java\nindex 0f26c63395..151137c9ae 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java\n\n@@ -223,7 +223,7 @@ public class NoteEditor extends AnkiActivity {\n         }\n \n         @Override\n-        public void onProgressUpdate(TaskData values) {\n+        public void onProgressUpdate(TaskData value) {\n             int count = values.getInt();\n             if (count > 0) {\n                 mChanged = true;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwMDA3OA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6742#discussion_r460400078", "bodyText": "value", "author": "david-allison-1", "createdAt": "2020-07-25T12:25:21Z", "path": "AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java", "diffHunk": "@@ -1745,7 +1745,7 @@ public void doInBackgroundLoadCollectionComplete() {\n          * <p>\n          * The semantics of the update data depends on the task itself.\n          */\n-        public void onProgressUpdate(TaskData... values) {\n+        public void onProgressUpdate(TaskData values) {", "originalCommit": "e0958632f736b688ec2e0d01b7747607e7230600", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "200134a6c4ca4b441feda8db528d1e650625ab07", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java b/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\nindex 4b5808e5bd..214839572a 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\n\n@@ -1745,7 +1745,7 @@ public class CollectionTask extends BaseAsyncTask<TaskData, TaskData, TaskData>\n          * <p>\n          * The semantics of the update data depends on the task itself.\n          */\n-        public void onProgressUpdate(TaskData values) {\n+        public void onProgressUpdate(TaskData value) {\n             // most implementations do nothing with this, provide them a default implementation\n         }\n \n"}}, {"oid": "200134a6c4ca4b441feda8db528d1e650625ab07", "url": "https://github.com/ankidroid/Anki-Android/commit/200134a6c4ca4b441feda8db528d1e650625ab07", "message": "NF: listener's onProgressUpdate take a single element\n\nCurrently, it takes an array, and we never use it, we always use it's first element. It's even more confusing because\nthis first element is a task data which contains any type. Sometime it contains an array of object. I strongly believe\nit will make update slightly less confusing. At least for the few time when we actually use it", "committedDate": "2020-07-25T13:03:18Z", "type": "forcePushed"}, {"oid": "2c79bb1d2f7d26e34418c120f8f02c2a0d5cda17", "url": "https://github.com/ankidroid/Anki-Android/commit/2c79bb1d2f7d26e34418c120f8f02c2a0d5cda17", "message": "NF: listener's onProgressUpdate take a single element\n\nCurrently, it takes an array, and we never use it, we always use it's first element. It's even more confusing because\nthis first element is a task data which contains any type. Sometime it contains an array of object. I strongly believe\nit will make update slightly less confusing. At least for the few time when we actually use it", "committedDate": "2020-07-25T17:00:41Z", "type": "commit"}, {"oid": "2c79bb1d2f7d26e34418c120f8f02c2a0d5cda17", "url": "https://github.com/ankidroid/Anki-Android/commit/2c79bb1d2f7d26e34418c120f8f02c2a0d5cda17", "message": "NF: listener's onProgressUpdate take a single element\n\nCurrently, it takes an array, and we never use it, we always use it's first element. It's even more confusing because\nthis first element is a task data which contains any type. Sometime it contains an array of object. I strongly believe\nit will make update slightly less confusing. At least for the few time when we actually use it", "committedDate": "2020-07-25T17:00:41Z", "type": "forcePushed"}]}