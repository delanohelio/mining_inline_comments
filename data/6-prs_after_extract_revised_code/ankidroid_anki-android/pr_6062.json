{"pr_number": 6062, "pr_title": " Hide card template add/delete for cloze model ", "pr_createdAt": "2020-04-21T23:31:01Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6062", "timeline": [{"oid": "681e45b13f93e7cf97abca40d0279f33b035d44f", "url": "https://github.com/ankidroid/Anki-Android/commit/681e45b13f93e7cf97abca40d0279f33b035d44f", "message": "Hide card template add/delete for cloze model\n\nFixes #6015", "committedDate": "2020-04-21T23:39:46Z", "type": "forcePushed"}, {"oid": "62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "url": "https://github.com/ankidroid/Anki-Android/commit/62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "message": "Hide card template add/delete for cloze model\n\nFixes #6015", "committedDate": "2020-05-24T17:47:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1OTgxNw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6062#discussion_r429659817", "bodyText": "Use Consts.MODEL_CLOZE. Sadly can't make this a suggestion as it also needs an import", "author": "david-allison-1", "createdAt": "2020-05-24T17:53:19Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java", "diffHunk": "@@ -427,6 +427,13 @@ private void updateCss() {\n         @Override\n         public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n             inflater.inflate(R.menu.card_template_editor, menu);\n+\n+            if (mModel.getInt(\"type\") == 1) {", "originalCommit": "62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY2MDEyMQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6062#discussion_r429660121", "bodyText": "ah yes - saw the same thing \"magic constant\" and didn't know if it existed or not. Should have been less lazy and taken action on the thought", "author": "mikehardy", "createdAt": "2020-05-24T17:57:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1OTgxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY2MDIwMg==", "url": "https://github.com/ankidroid/Anki-Android/pull/6062#discussion_r429660202", "bodyText": "done! thanks", "author": "mikehardy", "createdAt": "2020-05-24T17:58:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1OTgxNw=="}], "type": "inlineReview", "revised_code": {"commit": "a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java b/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java\nindex e05b17673d..4a4e53d081 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java\n\n@@ -428,7 +429,7 @@ public class CardTemplateEditor extends AnkiActivity {\n         public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n             inflater.inflate(R.menu.card_template_editor, menu);\n \n-            if (mModel.getInt(\"type\") == 1) {\n+            if (mModel.getInt(\"type\") == Consts.MODEL_CLOZE) {\n                 Timber.d(\"Editing cloze model, disabling add/delete card template functionality\");\n                 menu.findItem(R.id.action_add).setVisible(false);\n                 menu.findItem(R.id.action_delete).setVisible(false);\n"}}, {"oid": "a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "url": "https://github.com/ankidroid/Anki-Android/commit/a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "message": "Hide card template add/delete for cloze model\n\nFixes #6015", "committedDate": "2020-05-24T17:58:32Z", "type": "commit"}, {"oid": "a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "url": "https://github.com/ankidroid/Anki-Android/commit/a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "message": "Hide card template add/delete for cloze model\n\nFixes #6015", "committedDate": "2020-05-24T17:58:32Z", "type": "forcePushed"}]}