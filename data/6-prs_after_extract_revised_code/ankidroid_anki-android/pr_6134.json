{"pr_number": 6134, "pr_title": "Using javascript function to reload current card inside ankidroid webview", "pr_createdAt": "2020-05-09T03:28:33Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6134", "timeline": [{"oid": "3a4a301da3dca4f6a44edef2193988bed15316ad", "url": "https://github.com/ankidroid/Anki-Android/commit/3a4a301da3dca4f6a44edef2193988bed15316ad", "message": "Add files via upload", "committedDate": "2020-03-14T09:50:07Z", "type": "commit"}, {"oid": "3e57c4ceca25bb1fec92ca743eaa98700966108f", "url": "https://github.com/ankidroid/Anki-Android/commit/3e57c4ceca25bb1fec92ca743eaa98700966108f", "message": "Update card.js", "committedDate": "2020-03-15T09:39:50Z", "type": "commit"}, {"oid": "e7e91bc09a085ffc129535442af8456f97f6dc80", "url": "https://github.com/ankidroid/Anki-Android/commit/e7e91bc09a085ffc129535442af8456f97f6dc80", "message": "Update AbstractFlashcardViewer.java", "committedDate": "2020-03-15T09:41:29Z", "type": "commit"}, {"oid": "366610142dc2b93fd4a54958878b9205a9d59f52", "url": "https://github.com/ankidroid/Anki-Android/commit/366610142dc2b93fd4a54958878b9205a9d59f52", "message": "Update AbstractFlashcardViewer.java", "committedDate": "2020-03-15T15:52:38Z", "type": "commit"}, {"oid": "7c5ec74a43504d5357e66dfec9b329a64c88c04f", "url": "https://github.com/ankidroid/Anki-Android/commit/7c5ec74a43504d5357e66dfec9b329a64c88c04f", "message": "Update card.js", "committedDate": "2020-03-15T15:55:06Z", "type": "commit"}, {"oid": "f8041a93bb3249736811d14659250d93a9c76ca4", "url": "https://github.com/ankidroid/Anki-Android/commit/f8041a93bb3249736811d14659250d93a9c76ca4", "message": "Update AbstractFlashcardViewer.java", "committedDate": "2020-03-15T18:25:09Z", "type": "commit"}, {"oid": "f0f9331b5e8d518d7cbad7ac48cb0443c9384559", "url": "https://github.com/ankidroid/Anki-Android/commit/f0f9331b5e8d518d7cbad7ac48cb0443c9384559", "message": "Update AbstractFlashcardViewer.java", "committedDate": "2020-03-15T18:36:30Z", "type": "commit"}, {"oid": "2f4df32f4fe9551691ebe4117059d301c55fd9b4", "url": "https://github.com/ankidroid/Anki-Android/commit/2f4df32f4fe9551691ebe4117059d301c55fd9b4", "message": "Merge branch 'master' of https://github.com/infinyte7/Anki-Android", "committedDate": "2020-03-15T18:36:57Z", "type": "commit"}, {"oid": "7bd146c9a8a58c5b01b73bae5400734b4e940f5b", "url": "https://github.com/ankidroid/Anki-Android/commit/7bd146c9a8a58c5b01b73bae5400734b4e940f5b", "message": "Merge pull request #1 from ankidroid/master\n\nUpdate Ankidroid forked repo - DONE", "committedDate": "2020-03-17T12:05:33Z", "type": "commit"}, {"oid": "38ccf485e82e8413146a979176eed3819481439d", "url": "https://github.com/ankidroid/Anki-Android/commit/38ccf485e82e8413146a979176eed3819481439d", "message": "Added localhost domain-config", "committedDate": "2020-04-01T06:36:27Z", "type": "commit"}, {"oid": "2b6bcf3dc2e58fa384cc9a55c701c7f942e115ca", "url": "https://github.com/ankidroid/Anki-Android/commit/2b6bcf3dc2e58fa384cc9a55c701c7f942e115ca", "message": "Merge pull request #2 from ankidroid/master\n\nUpdating Fork", "committedDate": "2020-05-07T11:39:18Z", "type": "commit"}, {"oid": "465b0a20c6a12b8cae48c4825dcad000aba38688", "url": "https://github.com/ankidroid/Anki-Android/commit/465b0a20c6a12b8cae48c4825dcad000aba38688", "message": "Anki", "committedDate": "2020-05-07T18:41:31Z", "type": "commit"}, {"oid": "30863ff6ccd14c27375a786629d48a0175b991b6", "url": "https://github.com/ankidroid/Anki-Android/commit/30863ff6ccd14c27375a786629d48a0175b991b6", "message": "Merge branch 'master' of https://github.com/infinyte7/Anki-Android", "committedDate": "2020-05-07T18:41:47Z", "type": "commit"}, {"oid": "7df6d450273f46b457b846f3a7daf7a19f61b52c", "url": "https://github.com/ankidroid/Anki-Android/commit/7df6d450273f46b457b846f3a7daf7a19f61b52c", "message": "Merge pull request #3 from ankidroid/master\n\nRevert \"don't put \"undo\" to color enabled\"", "committedDate": "2020-05-07T18:45:03Z", "type": "commit"}, {"oid": "e3045d9c618e2f3dc0cfe4f322b9b64d6de3498c", "url": "https://github.com/ankidroid/Anki-Android/commit/e3045d9c618e2f3dc0cfe4f322b9b64d6de3498c", "message": "Update", "committedDate": "2020-05-07T18:57:46Z", "type": "commit"}, {"oid": "955285abd863193bf0c70ab1436ba7d9ec70c770", "url": "https://github.com/ankidroid/Anki-Android/commit/955285abd863193bf0c70ab1436ba7d9ec70c770", "message": "Update Preferences.java", "committedDate": "2020-05-07T19:00:37Z", "type": "commit"}, {"oid": "a9ef4310bd195d21efbc9be8dd419cc4122a682a", "url": "https://github.com/ankidroid/Anki-Android/commit/a9ef4310bd195d21efbc9be8dd419cc4122a682a", "message": "Merge branch 'master' of https://github.com/infinyte7/Anki-Android", "committedDate": "2020-05-07T19:01:55Z", "type": "commit"}, {"oid": "91574092619fc3adc061e147930a4d565638d8ec", "url": "https://github.com/ankidroid/Anki-Android/commit/91574092619fc3adc061e147930a4d565638d8ec", "message": "Update preferences_appearance.xml", "committedDate": "2020-05-07T19:03:35Z", "type": "commit"}, {"oid": "46d7fc5616561e625e72ee3164edfd27a7c19669", "url": "https://github.com/ankidroid/Anki-Android/commit/46d7fc5616561e625e72ee3164edfd27a7c19669", "message": "update", "committedDate": "2020-05-07T19:36:11Z", "type": "commit"}, {"oid": "ae832792d6acce358da70329161103ba215cc98f", "url": "https://github.com/ankidroid/Anki-Android/commit/ae832792d6acce358da70329161103ba215cc98f", "message": "update", "committedDate": "2020-05-08T05:52:44Z", "type": "commit"}, {"oid": "25aac571d064bb849f01cfd59e895c2d8b13ce2c", "url": "https://github.com/ankidroid/Anki-Android/commit/25aac571d064bb849f01cfd59e895c2d8b13ce2c", "message": "Update DeckPicker.java", "committedDate": "2020-05-08T06:02:46Z", "type": "commit"}, {"oid": "333008cf0e4b7eaa73c02d013f12e24e096e835e", "url": "https://github.com/ankidroid/Anki-Android/commit/333008cf0e4b7eaa73c02d013f12e24e096e835e", "message": "Background Image", "committedDate": "2020-05-08T12:35:00Z", "type": "commit"}, {"oid": "5871b34b2f930a78e7146bdd4915eb5d2231e037", "url": "https://github.com/ankidroid/Anki-Android/commit/5871b34b2f930a78e7146bdd4915eb5d2231e037", "message": "Update DeckPicker.java", "committedDate": "2020-05-08T12:38:11Z", "type": "commit"}, {"oid": "47a1c6f60e968142e6365f8438da3b7855d0234c", "url": "https://github.com/ankidroid/Anki-Android/commit/47a1c6f60e968142e6365f8438da3b7855d0234c", "message": "Update Preferences.java", "committedDate": "2020-05-08T12:44:09Z", "type": "commit"}, {"oid": "829d14f4ae422a1a45a04980735caf75147a153a", "url": "https://github.com/ankidroid/Anki-Android/commit/829d14f4ae422a1a45a04980735caf75147a153a", "message": "Update DeckPicker.java", "committedDate": "2020-05-08T12:48:30Z", "type": "commit"}, {"oid": "5e7d40de9633ad992bdc271f68857515ec934d2b", "url": "https://github.com/ankidroid/Anki-Android/commit/5e7d40de9633ad992bdc271f68857515ec934d2b", "message": "Update 03-dialogs.xml\n\nPrefrences.java\n03-dialogs.xml\nUpdated", "committedDate": "2020-05-08T13:00:59Z", "type": "commit"}, {"oid": "f5a04d4e6144e98ebbae8fa816752aa0f0231ac4", "url": "https://github.com/ankidroid/Anki-Android/commit/f5a04d4e6144e98ebbae8fa816752aa0f0231ac4", "message": "Update Preferences.java", "committedDate": "2020-05-08T13:07:57Z", "type": "commit"}, {"oid": "60a4ff0790aff50a34b21fb2ea498854e55574c3", "url": "https://github.com/ankidroid/Anki-Android/commit/60a4ff0790aff50a34b21fb2ea498854e55574c3", "message": "Update Preferences.java", "committedDate": "2020-05-08T13:58:32Z", "type": "commit"}, {"oid": "da2b5be89e7f7f60d0a00e76ea02d21aa9b37643", "url": "https://github.com/ankidroid/Anki-Android/commit/da2b5be89e7f7f60d0a00e76ea02d21aa9b37643", "message": "reload card.html", "committedDate": "2020-05-09T03:11:32Z", "type": "commit"}, {"oid": "c627134ec0078849cfcfe04d24c439be0eae5f32", "url": "https://github.com/ankidroid/Anki-Android/commit/c627134ec0078849cfcfe04d24c439be0eae5f32", "message": "Update DeckPicker.java", "committedDate": "2020-05-09T03:42:22Z", "type": "commit"}, {"oid": "519b21c6e7eb00a4777bc373718aefd864389dfa", "url": "https://github.com/ankidroid/Anki-Android/commit/519b21c6e7eb00a4777bc373718aefd864389dfa", "message": "Update Preferences.java", "committedDate": "2020-05-09T03:43:16Z", "type": "commit"}, {"oid": "568a8721f550269aeb1af765e8260f3f16ef2667", "url": "https://github.com/ankidroid/Anki-Android/commit/568a8721f550269aeb1af765e8260f3f16ef2667", "message": "Update 03-dialogs.xml", "committedDate": "2020-05-09T03:44:27Z", "type": "commit"}, {"oid": "2ff71fcf4690b0436f1b779ec0120b68db0a8a99", "url": "https://github.com/ankidroid/Anki-Android/commit/2ff71fcf4690b0436f1b779ec0120b68db0a8a99", "message": "Update preferences_appearance.xml", "committedDate": "2020-05-09T03:46:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjU1Njk3Mw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6134#discussion_r422556973", "bodyText": "Nice to have: Would be nice to move this inside getSignalFromUrl so we can better test this at a later date", "author": "david-allison-1", "createdAt": "2020-05-09T23:00:27Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -2831,6 +2831,11 @@ private boolean filterUrl(String url) {\n                 mFlipCardLayout.performClick();\n                 return true;\n             }\n+            // card.html reload\n+            if (url.startsWith(\"signal:reload_card_html\")) {\n+                redrawCard();\n+                return true;\n+            }\n             int signalOrdinal = WebViewSignalParserUtils.getSignalFromUrl(url);", "originalCommit": "2ff71fcf4690b0436f1b779ec0120b68db0a8a99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjU1OTQ5Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/6134#discussion_r422559492", "bodyText": "I have tried this\ncase \"signal:reload_card_html\": redrawCard();   break;  // card.html reload\nBut compiler is suggesting to change function redrawCard definition to static.\nThen it show suggest to changes these function to static\nhasLoadedCardContent()\nfillFlashcard()", "author": "infinyte7", "createdAt": "2020-05-09T23:28:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjU1Njk3Mw=="}], "type": "inlineReview", "revised_code": null}]}