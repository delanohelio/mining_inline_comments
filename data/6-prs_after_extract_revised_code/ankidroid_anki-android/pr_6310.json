{"pr_number": 6310, "pr_title": "Reset in test", "pr_createdAt": "2020-05-30T18:46:38Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6310", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODI2NQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6310#discussion_r432878265", "bodyText": "Could this be named along the lines of: getFirstCardFromScheduler", "author": "david-allison-1", "createdAt": "2020-05-30T18:50:47Z", "path": "AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/ContentProviderTest.java", "diffHunk": "@@ -784,16 +780,19 @@ public void testSetSelectedDeck(){\n         assertEquals(\"Check that the selected deck has been correctly set\", deckId, col.getDecks().selected());\n     }\n \n+    private Card prepare(Collection col) {", "originalCommit": "86f2ed597d65c6e19f76eee32d9efcc586447099", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3OTA0Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6310#discussion_r432879047", "bodyText": "Done", "author": "Arthur-Milchior", "createdAt": "2020-05-30T19:02:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODI2NQ=="}], "type": "inlineReview", "revised_code": {"commit": "ee9ea165f49bd23071a941dc4c62a2e92e9e0586", "chunk": "diff --git a/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/ContentProviderTest.java b/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/ContentProviderTest.java\nindex 89ca06263..fd7bfa1f2 100644\n--- a/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/ContentProviderTest.java\n+++ b/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/ContentProviderTest.java\n\n@@ -780,19 +780,15 @@ public class ContentProviderTest {\n         assertEquals(\"Check that the selected deck has been correctly set\", deckId, col.getDecks().selected());\n     }\n \n-    private Card prepare(Collection col) {\n-        long deckId = mTestDeckIds[0];\n-        col.getDecks().select(deckId);\n-        col.getSched().reset();\n-        return col.getSched().getCard();\n-    }\n     /**\n      * Test giving the answer for a reviewed card\n      */\n     @Test\n     public void testAnswerCard(){\n         Collection col = getCol();\n-        Card card = prepare(col);\n+        long deckId = mTestDeckIds[0];\n+        col.getDecks().select(deckId);\n+        Card card = col.getSched().getCard();\n         long cardId = card.getId();\n \n         // the card starts out being new\n"}}, {"oid": "ee9ea165f49bd23071a941dc4c62a2e92e9e0586", "url": "https://github.com/ankidroid/Anki-Android/commit/ee9ea165f49bd23071a941dc4c62a2e92e9e0586", "message": "NF: declare and initialize simultaneously", "committedDate": "2020-05-30T18:57:10Z", "type": "commit"}, {"oid": "275e7fd8028e3796cb48d3d7bdc8c03aae9554c4", "url": "https://github.com/ankidroid/Anki-Android/commit/275e7fd8028e3796cb48d3d7bdc8c03aae9554c4", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code", "committedDate": "2020-05-30T18:57:10Z", "type": "forcePushed"}, {"oid": "b47ddc0d3b14adb57de297583c5ed5e4a1d93465", "url": "https://github.com/ankidroid/Anki-Android/commit/b47ddc0d3b14adb57de297583c5ed5e4a1d93465", "message": "NF: Factorize content provider test", "committedDate": "2020-05-30T19:02:02Z", "type": "commit"}, {"oid": "e8b30f71500986bff21529dd216e4f1d25495373", "url": "https://github.com/ankidroid/Anki-Android/commit/e8b30f71500986bff21529dd216e4f1d25495373", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code", "committedDate": "2020-05-30T19:02:03Z", "type": "commit"}, {"oid": "e8b30f71500986bff21529dd216e4f1d25495373", "url": "https://github.com/ankidroid/Anki-Android/commit/e8b30f71500986bff21529dd216e4f1d25495373", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code", "committedDate": "2020-05-30T19:02:03Z", "type": "forcePushed"}]}