{"pr_number": 6497, "pr_title": "Note editor cloze more available", "pr_createdAt": "2020-06-18T19:38:12Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6497", "timeline": [{"oid": "51c8aa9763669686ed680b6195bfaa0de93e768c", "url": "https://github.com/ankidroid/Anki-Android/commit/51c8aa9763669686ed680b6195bfaa0de93e768c", "message": "NF: extract method NoteEditor.convertSelectedTextToCloze", "committedDate": "2020-06-18T18:38:07Z", "type": "commit"}, {"oid": "ae19bbad1da7c4cc03809cbc1ae1cf3f1958bff8", "url": "https://github.com/ankidroid/Anki-Android/commit/ae19bbad1da7c4cc03809cbc1ae1cf3f1958bff8", "message": "NF: convert note editor cloze insertion to String.format()", "committedDate": "2020-06-18T18:42:10Z", "type": "commit"}, {"oid": "1fa2c98d53afc292e35dcc931477564fca56c4a6", "url": "https://github.com/ankidroid/Anki-Android/commit/1fa2c98d53afc292e35dcc931477564fca56c4a6", "message": "Add cloze deletion to paperclip menu in note edit\n\nThis should make cloze deletion a bit more discoverable in general,\nplus it fixes #6494 where it was not available at all on Xiami devices", "committedDate": "2020-06-18T19:30:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ2MTI5OQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6497#discussion_r442461299", "bodyText": "This is mostly pointless but it killed an i18n lint warning without disabling the warning \ud83e\udd37", "author": "mikehardy", "createdAt": "2020-06-18T19:42:04Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java", "diffHunk": "@@ -1816,7 +1816,7 @@ private void convertSelectedTextToCloze(FieldEditText textBox) {\n         String clozeOpenBracket = \"{{c\" + (nextClozeIndex) + \"::\";\n \n         // Update text field with updated text and selection\n-        textBox.setText(beforeText + clozeOpenBracket + selectedText + \"}}\" + afterText);\n+        textBox.setText(String.format(\"%s%s%s}}%s\", beforeText, clozeOpenBracket, selectedText, afterText));", "originalCommit": "ae19bbad1da7c4cc03809cbc1ae1cf3f1958bff8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}