{"pr_number": 7164, "pr_title": "NF: undo message is more specific", "pr_createdAt": "2020-09-19T20:15:02Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7164", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyMDUzNg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7164#discussion_r491520536", "bodyText": "Could you document what hasUnmarked means?", "author": "david-allison-1", "createdAt": "2020-09-19T20:41:24Z", "path": "AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java", "diffHunk": "@@ -884,8 +884,8 @@ public UndoChangeDeckMulti(Card[] cards, long[] originalDids) {\n         private final List<Note> originalUnmarked;\n \n \n-        public UndoMarkNoteMulti(List<Note> originalMarked, List<Note> originalUnmarked) {\n-            super(Collection.DismissType.MARK_NOTE_MULTI);\n+        public UndoMarkNoteMulti(List<Note> originalMarked, List<Note> originalUnmarked, boolean hasUnmarked) {", "originalCommit": "535ac19a83e0e8ac37c66303200fe8f742bc3161", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyOTI1Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7164#discussion_r491529257", "bodyText": "Done", "author": "Arthur-Milchior", "createdAt": "2020-09-19T20:58:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyMDUzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUzMDkxMw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7164#discussion_r491530913", "bodyText": "Pushed? I don't see it", "author": "david-allison-1", "createdAt": "2020-09-19T21:01:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyMDUzNg=="}], "type": "inlineReview", "revised_code": {"commit": "5838bad1216247ead41031b869d9ef0d55495333", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java b/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\nindex a9be4904b..ce430965c 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\n\n@@ -883,7 +885,8 @@ public class CollectionTask extends BaseAsyncTask<TaskData, TaskData, TaskData>\n         private final List<Note> originalMarked;\n         private final List<Note> originalUnmarked;\n \n-\n+        /** @param hasUnmarked whether there were any unmarked card (in which card the action was \"mark\",\n+         *                      otherwise the action was \"Unmark\")  */\n         public UndoMarkNoteMulti(List<Note> originalMarked, List<Note> originalUnmarked, boolean hasUnmarked) {\n             super((hasUnmarked) ? Collection.DismissType.MARK_NOTE_MULTI : Collection.DismissType.UNMARK_NOTE_MULTI);\n             this.originalMarked = originalMarked;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyMDc1Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7164#discussion_r491520752", "bodyText": "ditto - quick comment on meaning of hasUnsuspended", "author": "david-allison-1", "createdAt": "2020-09-19T20:41:46Z", "path": "AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java", "diffHunk": "@@ -780,9 +780,9 @@ private TaskData doInBackgroundDismissNote(TaskData param) {\n         private final Card[] cards;\n         private final boolean[] originalSuspended;\n \n-\n-        public UndoSuspendCardMulti(Card[] cards, boolean[] originalSuspended) {\n-            super(Collection.DismissType.SUSPEND_CARD_MULTI);\n+        public UndoSuspendCardMulti(Card[] cards, boolean[] originalSuspended,", "originalCommit": "535ac19a83e0e8ac37c66303200fe8f742bc3161", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyOTQxMw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7164#discussion_r491529413", "bodyText": "Done\nI kept the same name for the argument and for the parameter", "author": "Arthur-Milchior", "createdAt": "2020-09-19T20:58:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTUyMDc1Mg=="}], "type": "inlineReview", "revised_code": {"commit": "5838bad1216247ead41031b869d9ef0d55495333", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java b/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\nindex a9be4904b..ce430965c 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/async/CollectionTask.java\n\n@@ -780,6 +780,8 @@ public class CollectionTask extends BaseAsyncTask<TaskData, TaskData, TaskData>\n         private final Card[] cards;\n         private final boolean[] originalSuspended;\n \n+        /** @param hasUnsuspended  whether there were any unsuspended card (in which card the action was \"Suspend\",\n+         *                          otherwise the action was \"Unsuspend\")  */\n         public UndoSuspendCardMulti(Card[] cards, boolean[] originalSuspended,\n                                     boolean hasUnsuspended) {\n             super((hasUnsuspended) ? Collection.DismissType.SUSPEND_CARD_MULTI: Collection.DismissType.UNSUSPEND_CARD_MULTI);\n"}}, {"oid": "d2162046b0250382579a2cea801e4f2af5a188be", "url": "https://github.com/ankidroid/Anki-Android/commit/d2162046b0250382579a2cea801e4f2af5a188be", "message": "NF: undo message is more specific\n\nIt allows to know whether we will undo a suspend or an unsuspend. And similarly for marking", "committedDate": "2020-09-19T20:45:02Z", "type": "forcePushed"}, {"oid": "5838bad1216247ead41031b869d9ef0d55495333", "url": "https://github.com/ankidroid/Anki-Android/commit/5838bad1216247ead41031b869d9ef0d55495333", "message": "NF: undo message is more specific\n\nIt allows to know whether we will undo a suspend or an unsuspend. And similarly for marking", "committedDate": "2020-09-19T20:58:32Z", "type": "commit"}, {"oid": "5838bad1216247ead41031b869d9ef0d55495333", "url": "https://github.com/ankidroid/Anki-Android/commit/5838bad1216247ead41031b869d9ef0d55495333", "message": "NF: undo message is more specific\n\nIt allows to know whether we will undo a suspend or an unsuspend. And similarly for marking", "committedDate": "2020-09-19T20:58:32Z", "type": "forcePushed"}]}