{"pr_number": 5928, "pr_title": "Cache name normalization", "pr_createdAt": "2020-04-04T22:47:21Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/5928", "timeline": [{"oid": "2acb1388299e69de2069d60d3d40f75b5ee883bb", "url": "https://github.com/ankidroid/Anki-Android/commit/2acb1388299e69de2069d60d3d40f75b5ee883bb", "message": "Cache name normalization\n\nProfiling Ankidroid, I realized that ankidroid spent 12 seconds on\nstartup in the method normalize. That's far too much. I actually have\ntrouble believing the profiler here. (More precisely it mostly spent\ntime in \"toLowerCase\")\n\nAnyway, I added this simple caching method, so that it becomes far\nquicker. After all, caching is not context dependant, it always give\nthe same output to the same input, so we never have any need to empty\nthe cache, so that's perfect here", "committedDate": "2020-04-07T00:04:54Z", "type": "forcePushed"}, {"oid": "6254b0235910593d33e40780e56e75fb73056047", "url": "https://github.com/ankidroid/Anki-Android/commit/6254b0235910593d33e40780e56e75fb73056047", "message": "Cache name normalization\n\nProfiling Ankidroid, I realized that ankidroid spent 12 seconds on\nstartup in the method normalize. That's far too much. I actually have\ntrouble believing the profiler here. (More precisely it mostly spent\ntime in \"toLowerCase\")\n\nAnyway, I added this simple caching method, so that it becomes far\nquicker. After all, caching is not context dependant, it always give\nthe same output to the same input, so we never have any need to empty\nthe cache, so that's perfect here", "committedDate": "2020-04-09T12:39:22Z", "type": "commit"}, {"oid": "6254b0235910593d33e40780e56e75fb73056047", "url": "https://github.com/ankidroid/Anki-Android/commit/6254b0235910593d33e40780e56e75fb73056047", "message": "Cache name normalization\n\nProfiling Ankidroid, I realized that ankidroid spent 12 seconds on\nstartup in the method normalize. That's far too much. I actually have\ntrouble believing the profiler here. (More precisely it mostly spent\ntime in \"toLowerCase\")\n\nAnyway, I added this simple caching method, so that it becomes far\nquicker. After all, caching is not context dependant, it always give\nthe same output to the same input, so we never have any need to empty\nthe cache, so that's perfect here", "committedDate": "2020-04-09T12:39:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3ODUyMA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5928#discussion_r406178520", "bodyText": "Issue found: Fields should be declared at the top of the class, before any method declarations, constructors, initializers or inner classes.", "author": "timrae", "createdAt": "2020-04-09T12:47:15Z", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -1007,10 +1007,12 @@ public boolean isDyn(long did) {\n      * utils methods\n      * **************************************\n      */\n+    private static HashMap<String, String> normalized = new HashMap<String, String>();", "originalCommit": "6254b0235910593d33e40780e56e75fb73056047", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}