{"pr_number": 5733, "pr_title": "Added review options related to the automatic showing of answer specific to a group of decks", "pr_createdAt": "2020-02-01T15:16:36Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/5733", "timeline": [{"oid": "3bed58fa34cc4de9a34a9be3df36da70b5397b72", "url": "https://github.com/ankidroid/Anki-Android/commit/3bed58fa34cc4de9a34a9be3df36da70b5397b72", "message": "Added review options related to the automatic showing of answer specific to a group of decks", "committedDate": "2020-02-01T14:48:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMTM0Ng==", "url": "https://github.com/ankidroid/Anki-Android/pull/5733#discussion_r373801346", "bodyText": "I am going to assume (without actually knowing) that the number 20 was chosen on purpose, and in any case it was 20 before, if it stayed at 20 then your change adds a feature without changing current experience for people, and that has value. I think it's in about 3 places, could you change all the 6's to 20s to match current default setting?", "author": "mikehardy", "createdAt": "2020-02-01T20:42:07Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1715,8 +1728,8 @@ protected SharedPreferences restorePreferences() {\n         mRelativeButtonSize = preferences.getInt(\"answerButtonSize\", 100);\n         mSpeakText = preferences.getBoolean(\"tts\", false);\n         mPrefUseTimer = preferences.getBoolean(\"timeoutAnswer\", false);\n-        mWaitAnswerSecond = preferences.getInt(\"timeoutAnswerSeconds\", 20);\n-        mWaitQuestionSecond = preferences.getInt(\"timeoutQuestionSeconds\", 60);\n+        mPrefWaitAnswerSecond = preferences.getInt(\"timeoutAnswerSeconds\", 6);", "originalCommit": "3bed58fa34cc4de9a34a9be3df36da70b5397b72", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "7b86ec777a26531d1bfe874189e761f8fda22952", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\nindex 759c5297b8..a88903aa8e 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n\n@@ -1728,7 +1728,7 @@ public abstract class AbstractFlashcardViewer extends NavigationDrawerActivity {\n         mRelativeButtonSize = preferences.getInt(\"answerButtonSize\", 100);\n         mSpeakText = preferences.getBoolean(\"tts\", false);\n         mPrefUseTimer = preferences.getBoolean(\"timeoutAnswer\", false);\n-        mPrefWaitAnswerSecond = preferences.getInt(\"timeoutAnswerSeconds\", 6);\n+        mPrefWaitAnswerSecond = preferences.getInt(\"timeoutAnswerSeconds\", 20);\n         mPrefWaitQuestionSecond = preferences.getInt(\"timeoutQuestionSeconds\", 60);\n         mScrollingButtons = preferences.getBoolean(\"scrolling_buttons\", false);\n         mDoubleScrolling = preferences.getBoolean(\"double_scrolling\", false);\n"}}, {"oid": "7b86ec777a26531d1bfe874189e761f8fda22952", "url": "https://github.com/ankidroid/Anki-Android/commit/7b86ec777a26531d1bfe874189e761f8fda22952", "message": "Option string moved to xml translations file\nChanged the default value to 20 for all of the timeoutAnswer related variables", "committedDate": "2020-02-01T22:41:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1MTQxOQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5733#discussion_r373851419", "bodyText": "down to just whitespace things now, not sure why this did not trigger our codacy rules - I'll check that separately\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (mOptUseGeneralTimerSettings){\n          \n          \n            \n                    if (mOptUseGeneralTimerSettings) {", "author": "mikehardy", "createdAt": "2020-02-02T14:46:28Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1945,8 +1966,19 @@ protected void displayCardQuestion() {\n         updateCard(displayString);\n         hideEaseButtons();\n \n+        // Check if it should use the general 'Timeout settings' or the ones specific to this deck\n+        if (mOptUseGeneralTimerSettings){", "originalCommit": "7b86ec777a26531d1bfe874189e761f8fda22952", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "445b368e15da37f4b2b17fa53730d6e7a4e0c968", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\nindex a88903aa8e..3e61459a3a 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n\n@@ -1967,11 +1967,11 @@ public abstract class AbstractFlashcardViewer extends NavigationDrawerActivity {\n         hideEaseButtons();\n \n         // Check if it should use the general 'Timeout settings' or the ones specific to this deck\n-        if (mOptUseGeneralTimerSettings){\n+        if (mOptUseGeneralTimerSettings) {\n             mUseTimer = mPrefUseTimer;\n             mWaitAnswerSecond = mPrefWaitAnswerSecond;\n             mWaitQuestionSecond = mPrefWaitQuestionSecond;\n-        }else{\n+        } else {\n             mUseTimer = mOptUseTimer;\n             mWaitAnswerSecond = mOptWaitAnswerSecond;\n             mWaitQuestionSecond = mOptWaitQuestionSecond;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1MTQ0OQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5733#discussion_r373851449", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }else{\n          \n          \n            \n                    } else {", "author": "mikehardy", "createdAt": "2020-02-02T14:46:40Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1945,8 +1966,19 @@ protected void displayCardQuestion() {\n         updateCard(displayString);\n         hideEaseButtons();\n \n+        // Check if it should use the general 'Timeout settings' or the ones specific to this deck\n+        if (mOptUseGeneralTimerSettings){\n+            mUseTimer = mPrefUseTimer;\n+            mWaitAnswerSecond = mPrefWaitAnswerSecond;\n+            mWaitQuestionSecond = mPrefWaitQuestionSecond;\n+        }else{", "originalCommit": "7b86ec777a26531d1bfe874189e761f8fda22952", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "445b368e15da37f4b2b17fa53730d6e7a4e0c968", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\nindex a88903aa8e..3e61459a3a 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n\n@@ -1967,11 +1967,11 @@ public abstract class AbstractFlashcardViewer extends NavigationDrawerActivity {\n         hideEaseButtons();\n \n         // Check if it should use the general 'Timeout settings' or the ones specific to this deck\n-        if (mOptUseGeneralTimerSettings){\n+        if (mOptUseGeneralTimerSettings) {\n             mUseTimer = mPrefUseTimer;\n             mWaitAnswerSecond = mPrefWaitAnswerSecond;\n             mWaitQuestionSecond = mPrefWaitQuestionSecond;\n-        }else{\n+        } else {\n             mUseTimer = mOptUseTimer;\n             mWaitAnswerSecond = mOptWaitAnswerSecond;\n             mWaitQuestionSecond = mOptWaitQuestionSecond;\n"}}, {"oid": "445b368e15da37f4b2b17fa53730d6e7a4e0c968", "url": "https://github.com/ankidroid/Anki-Android/commit/445b368e15da37f4b2b17fa53730d6e7a4e0c968", "message": "Fixed code style\nRemoved ignore missing translations\nRemoved portuguese translations for timeout", "committedDate": "2020-02-02T15:39:26Z", "type": "commit"}, {"oid": "7d39a7780d9bd621d98370abedbf76baf2480a83", "url": "https://github.com/ankidroid/Anki-Android/commit/7d39a7780d9bd621d98370abedbf76baf2480a83", "message": "Changed use general settings option title\n\nCo-Authored-By: Mike Hardy <github@mikehardy.net>", "committedDate": "2020-02-02T19:02:48Z", "type": "commit"}]}