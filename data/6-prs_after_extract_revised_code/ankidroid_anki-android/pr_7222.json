{"pr_number": 7222, "pr_title": "NF: add braces on empty if", "pr_createdAt": "2020-09-21T04:29:59Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7222", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5OTQ3Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r491999477", "bodyText": "best to leave an empty line to match the style guide - probably with a comment that it's explicitly ignored,", "author": "david-allison-1", "createdAt": "2020-09-21T12:20:54Z", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java", "diffHunk": "@@ -211,8 +211,7 @@ else if (c == dialect.mDelimiter) {\n \n             case IN_QUOTED_FIELD:\n                 /* in quoted field */\n-                if (c == '\\0')\n-                    ;\n+                if (c == '\\0') {}", "originalCommit": "fa300a5f5917eb6419efc4ff719e84fe69e4cd24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5OTg1Ng==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r491999856", "bodyText": "Since the code is ported from C, disabling the warning on the class may be the way to go.", "author": "david-allison-1", "createdAt": "2020-09-21T12:21:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5OTQ3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA3MDQ3Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r492070472", "bodyText": "Since the code is ported from C, disabling the warning on the class may be the way to go.\n\n@Arthur-Milchior - I actually like this solution, just suppress the warning on the class for ported code, it's more useful with ports to maintain upstream style for port-comparison over time vs picking lint IMHO", "author": "mikehardy", "createdAt": "2020-09-21T14:03:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5OTQ3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5NDc5MQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r492394791", "bodyText": "Fine by me. i didn't know there was a reason for not respecting usual style", "author": "Arthur-Milchior", "createdAt": "2020-09-21T23:06:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5OTQ3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5NTg0Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r492395842", "bodyText": "done", "author": "Arthur-Milchior", "createdAt": "2020-09-21T23:09:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5OTQ3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "1e9f8e6512132e707503b763715431da5b8a88b0", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java b/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java\nindex f5da1f2224..440caf2ce4 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java\n\n@@ -211,7 +212,8 @@ public class CsvReaderIterator implements Iterator<List<String>> {\n \n             case IN_QUOTED_FIELD:\n                 /* in quoted field */\n-                if (c == '\\0') {}\n+                if (c == '\\0') //noinspection ControlFlowStatementWithoutBraces\n+                    ;\n                 else if (c == dialect.mEscapechar) {\n                     /* Possible escape character */\n                     this.state = ESCAPE_IN_QUOTED_FIELD;\n"}}, {"oid": "1e9f8e6512132e707503b763715431da5b8a88b0", "url": "https://github.com/ankidroid/Anki-Android/commit/1e9f8e6512132e707503b763715431da5b8a88b0", "message": "NF: no inspection for ControlFlowStatementWithoutBraces\n\nbecause we are porting C-code", "committedDate": "2020-09-21T23:09:14Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5NjM0NA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r492396344", "bodyText": "Can you disable the warning on the class, rather than each individual line to reduce line noise\n@SuppressWarnings(\"ControlFlowStatementWithoutBraces\")\npublic class CsvReaderIterator implements Iterator<List<String>> {", "author": "david-allison-1", "createdAt": "2020-09-21T23:11:06Z", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java", "diffHunk": "@@ -211,7 +212,7 @@ else if (c == dialect.mDelimiter) {\n \n             case IN_QUOTED_FIELD:\n                 /* in quoted field */\n-                if (c == '\\0')\n+                if (c == '\\0') //noinspection ControlFlowStatementWithoutBraces", "originalCommit": "1e9f8e6512132e707503b763715431da5b8a88b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5OTU4Mw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7222#discussion_r492399583", "bodyText": "Done on the method, since the problem is at the method level.", "author": "Arthur-Milchior", "createdAt": "2020-09-21T23:21:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5NjM0NA=="}], "type": "inlineReview", "revised_code": {"commit": "cfb6361ee32348f1ab0a4da0247b0f49e1d651e9", "chunk": "diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java b/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java\nindex 440caf2ce4..3a891a504c 100644\n--- a/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java\n+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/importer/python/CsvReaderIterator.java\n\n@@ -212,7 +213,7 @@ public class CsvReaderIterator implements Iterator<List<String>> {\n \n             case IN_QUOTED_FIELD:\n                 /* in quoted field */\n-                if (c == '\\0') //noinspection ControlFlowStatementWithoutBraces\n+                if (c == '\\0')\n                     ;\n                 else if (c == dialect.mEscapechar) {\n                     /* Possible escape character */\n"}}, {"oid": "cfb6361ee32348f1ab0a4da0247b0f49e1d651e9", "url": "https://github.com/ankidroid/Anki-Android/commit/cfb6361ee32348f1ab0a4da0247b0f49e1d651e9", "message": "NF: no inspection for ControlFlowStatementWithoutBraces\n\nbecause we are porting C-code", "committedDate": "2020-09-21T23:19:28Z", "type": "commit"}, {"oid": "cfb6361ee32348f1ab0a4da0247b0f49e1d651e9", "url": "https://github.com/ankidroid/Anki-Android/commit/cfb6361ee32348f1ab0a4da0247b0f49e1d651e9", "message": "NF: no inspection for ControlFlowStatementWithoutBraces\n\nbecause we are porting C-code", "committedDate": "2020-09-21T23:19:28Z", "type": "forcePushed"}]}