{"pr_number": 5784, "pr_title": "Emit server metric when retry attempts exceeded", "pr_createdAt": "2020-07-31T17:58:46Z", "pr_url": "https://github.com/apache/pinot/pull/5784", "timeline": [{"oid": "743e28f9d6a8ee618bf8b3b3b3740820bc985f3f", "url": "https://github.com/apache/pinot/commit/743e28f9d6a8ee618bf8b3b3b3740820bc985f3f", "message": "Emit server metric when retry attempts exceeded", "committedDate": "2020-07-31T17:57:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1NTg2Nw==", "url": "https://github.com/apache/pinot/pull/5784#discussion_r463755867", "bodyText": "can you pick a better name", "author": "kishoreg", "createdAt": "2020-07-31T18:06:44Z", "path": "pinot-common/src/main/java/org/apache/pinot/common/metrics/ServerMeter.java", "diffHunk": "@@ -62,6 +62,7 @@\n   RELOAD_FAILURES(\"segments\", false),\n   REFRESH_FAILURES(\"segments\", false),\n   UNTAR_FAILURES(\"segments\", false),\n+  RETRY_EXCEEDED_FAILURES(\"segments\", false),", "originalCommit": "743e28f9d6a8ee618bf8b3b3b3740820bc985f3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc2Mjk5MQ==", "url": "https://github.com/apache/pinot/pull/5784#discussion_r463762991", "bodyText": "Renamed to DOWNLOAD_SEGMENT_RETRY_EXCEEDED_FAILURES. Feel free to suggest any better name. \ud83d\ude09", "author": "jackjlli", "createdAt": "2020-07-31T18:22:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1NTg2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg4Nzk4OA==", "url": "https://github.com/apache/pinot/pull/5784#discussion_r463887988", "bodyText": "How about SEGMENT_DOWNLOAD_FAILURE?", "author": "mayankshriv", "createdAt": "2020-07-31T23:40:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1NTg2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "67c7caedc53f0e00c8b69e129e22da598bbfe34b", "chunk": "diff --git a/pinot-common/src/main/java/org/apache/pinot/common/metrics/ServerMeter.java b/pinot-common/src/main/java/org/apache/pinot/common/metrics/ServerMeter.java\nindex 06ea32f7ea..fbdc73e6c1 100644\n--- a/pinot-common/src/main/java/org/apache/pinot/common/metrics/ServerMeter.java\n+++ b/pinot-common/src/main/java/org/apache/pinot/common/metrics/ServerMeter.java\n\n@@ -62,7 +62,7 @@ public enum ServerMeter implements AbstractMetrics.Meter {\n   RELOAD_FAILURES(\"segments\", false),\n   REFRESH_FAILURES(\"segments\", false),\n   UNTAR_FAILURES(\"segments\", false),\n-  RETRY_EXCEEDED_FAILURES(\"segments\", false),\n+  SEGMENT_DOWNLOAD_FAILURES(\"segments\", false),\n \n   // Netty connection metrics\n   NETTY_CONNECTION_BYTES_RECEIVED(\"nettyConnection\", true),\n"}}, {"oid": "67c7caedc53f0e00c8b69e129e22da598bbfe34b", "url": "https://github.com/apache/pinot/commit/67c7caedc53f0e00c8b69e129e22da598bbfe34b", "message": "Address comment", "committedDate": "2020-07-31T23:52:21Z", "type": "commit"}, {"oid": "67c7caedc53f0e00c8b69e129e22da598bbfe34b", "url": "https://github.com/apache/pinot/commit/67c7caedc53f0e00c8b69e129e22da598bbfe34b", "message": "Address comment", "committedDate": "2020-07-31T23:52:21Z", "type": "forcePushed"}]}