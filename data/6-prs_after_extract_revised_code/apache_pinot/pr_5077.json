{"pr_number": 5077, "pr_title": "Reduce the non-determinism in Lucene integration test", "pr_createdAt": "2020-02-18T04:04:18Z", "pr_url": "https://github.com/apache/pinot/pull/5077", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ0NzI5Nw==", "url": "https://github.com/apache/pinot/pull/5077#discussion_r380447297", "bodyText": "This was by mistake. Removing it", "author": "siddharthteotia", "createdAt": "2020-02-18T04:13:38Z", "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/LuceneRealtimeClusterIntegrationTest.java", "diffHunk": "@@ -177,11 +177,13 @@ public void testTextSearchCountQuery() throws Exception {\n       TextNode textNode = (TextNode)pinotResponse.get(\"aggregationResults\").get(0).get(\"value\");\n       int result = Integer.valueOf(textNode.textValue());\n       // TODO: see if this can be made more deterministic\n+      System.out.println(\"query: \" + i + \" result: \" + result);", "originalCommit": "75994c80771cd77fea6bb548fd342dcd08edf2bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ0NzcyNQ==", "url": "https://github.com/apache/pinot/pull/5077#discussion_r380447725", "bodyText": "Done", "author": "siddharthteotia", "createdAt": "2020-02-18T04:15:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ0NzI5Nw=="}], "type": "inlineReview", "revised_code": {"commit": "a6fe4e6c63fd6660fba39f39453de5287879f1a9", "chunk": "diff --git a/pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/LuceneRealtimeClusterIntegrationTest.java b/pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/LuceneRealtimeClusterIntegrationTest.java\nindex e4e61d0759..4d79095fe4 100644\n--- a/pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/LuceneRealtimeClusterIntegrationTest.java\n+++ b/pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/LuceneRealtimeClusterIntegrationTest.java\n\n@@ -177,7 +177,6 @@ public class LuceneRealtimeClusterIntegrationTest extends BaseClusterIntegration\n       TextNode textNode = (TextNode)pinotResponse.get(\"aggregationResults\").get(0).get(\"value\");\n       int result = Integer.valueOf(textNode.textValue());\n       // TODO: see if this can be made more deterministic\n-      System.out.println(\"query: \" + i + \" result: \" + result);\n       if (i >= 300) {\n         Assert.assertTrue(result > 0);\n         Assert.assertTrue(result >= prevResult);\n"}}, {"oid": "a6fe4e6c63fd6660fba39f39453de5287879f1a9", "url": "https://github.com/apache/pinot/commit/a6fe4e6c63fd6660fba39f39453de5287879f1a9", "message": "Reduce the non-determinism in lucene integration test", "committedDate": "2020-02-18T04:15:18Z", "type": "commit"}, {"oid": "a6fe4e6c63fd6660fba39f39453de5287879f1a9", "url": "https://github.com/apache/pinot/commit/a6fe4e6c63fd6660fba39f39453de5287879f1a9", "message": "Reduce the non-determinism in lucene integration test", "committedDate": "2020-02-18T04:15:18Z", "type": "forcePushed"}]}