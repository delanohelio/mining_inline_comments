{"pr_number": 5338, "pr_title": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig", "pr_createdAt": "2020-05-06T00:33:31Z", "pr_url": "https://github.com/apache/pinot/pull/5338", "timeline": [{"oid": "d3ac616642c891a450af396f22c463a859a6beb7", "url": "https://github.com/apache/pinot/commit/d3ac616642c891a450af396f22c463a859a6beb7", "message": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig\n\nThis is one step of cleaning up the SegmentGeneratorConfig. The end state we should always construct SegmentGeneratorConfig with table config and schema", "committedDate": "2020-05-06T00:37:46Z", "type": "commit"}, {"oid": "d3ac616642c891a450af396f22c463a859a6beb7", "url": "https://github.com/apache/pinot/commit/d3ac616642c891a450af396f22c463a859a6beb7", "message": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig\n\nThis is one step of cleaning up the SegmentGeneratorConfig. The end state we should always construct SegmentGeneratorConfig with table config and schema", "committedDate": "2020-05-06T00:37:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk5MTE5Mg==", "url": "https://github.com/apache/pinot/pull/5338#discussion_r420991192", "bodyText": "I was wondering why you removed ReaderConfig, then saw that file format is hardcoded to JSON.\nNot related to your PR, but shouldn't  _segmentConfig.setFormat(FileFormat.JSON); be done in the JSONPinotOutputFormat implementation?", "author": "npawar", "createdAt": "2020-05-06T18:08:52Z", "path": "pinot-plugins/pinot-batch-ingestion/v0_deprecated/pinot-hadoop/src/main/java/org/apache/pinot/hadoop/io/PinotOutputFormat.java", "diffHunk": "@@ -171,12 +160,10 @@ private void initSegmentConfig(JobContext context)\n       throws IOException {\n     _segmentConfig.setFormat(FileFormat.JSON);", "originalCommit": "d3ac616642c891a450af396f22c463a859a6beb7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAxNzYzOA==", "url": "https://github.com/apache/pinot/pull/5338#discussion_r421017638", "bodyText": "This class has multiple things missing. Will clean them up in the following PRs. Next step is to clean up all the empty constructors.", "author": "Jackie-Jiang", "createdAt": "2020-05-06T18:52:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk5MTE5Mg=="}], "type": "inlineReview", "revised_code": null}]}