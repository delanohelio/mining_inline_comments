{"pr_number": 6299, "pr_title": "Adding custom metadata props into both segment metadata properties file and zk metadata record", "pr_createdAt": "2020-11-30T01:58:34Z", "pr_url": "https://github.com/apache/pinot/pull/6299", "timeline": [{"oid": "8410221614a7f6439f4004a8139d0425e197b96d", "url": "https://github.com/apache/pinot/commit/8410221614a7f6439f4004a8139d0425e197b96d", "message": "Adding custom metadata props into both segment metadata properties file and zk metadata record", "committedDate": "2020-11-30T06:59:29Z", "type": "forcePushed"}, {"oid": "a05ccdda2a384cdd76a13260f7d4cba2e8347728", "url": "https://github.com/apache/pinot/commit/a05ccdda2a384cdd76a13260f7d4cba2e8347728", "message": "Adding custom metadata props into both segment metadata properties file and zk metadata record", "committedDate": "2020-11-30T07:10:20Z", "type": "forcePushed"}, {"oid": "2b0df65d0019c61c0fb9b04b61ba02cc504bafef", "url": "https://github.com/apache/pinot/commit/2b0df65d0019c61c0fb9b04b61ba02cc504bafef", "message": "Adding custom metadata props into both segment metadata properties file and zk metadata record", "committedDate": "2020-11-30T08:52:31Z", "type": "forcePushed"}, {"oid": "1e8393f1111bdc07bf56236a3c27188c6ae0ed74", "url": "https://github.com/apache/pinot/commit/1e8393f1111bdc07bf56236a3c27188c6ae0ed74", "message": "Adding custom metadata props into both segment metadata properties file and zk metadata record", "committedDate": "2020-11-30T22:07:15Z", "type": "commit"}, {"oid": "1e8393f1111bdc07bf56236a3c27188c6ae0ed74", "url": "https://github.com/apache/pinot/commit/1e8393f1111bdc07bf56236a3c27188c6ae0ed74", "message": "Adding custom metadata props into both segment metadata properties file and zk metadata record", "committedDate": "2020-11-30T22:07:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk5MTY1MQ==", "url": "https://github.com/apache/pinot/pull/6299#discussion_r532991651", "bodyText": "Use constant", "author": "Jackie-Jiang", "createdAt": "2020-12-01T00:25:05Z", "path": "pinot-core/src/main/java/org/apache/pinot/core/segment/index/metadata/SegmentMetadataImpl.java", "diffHunk": "@@ -531,6 +553,12 @@ public JsonNode toJson(@Nullable Set<String> columnFilter) {\n     segmentMetadata.put(\"creatorName\", _creatorName);\n     segmentMetadata.put(\"paddingCharacter\", String.valueOf(_paddingCharacter));\n \n+    ObjectNode customConfigs = JsonUtils.newObjectNode();\n+    for (String key : _customMap.keySet()) {\n+      customConfigs.put(key, _customMap.get(key));\n+    }\n+    segmentMetadata.set(\"custom\", customConfigs);", "originalCommit": "1e8393f1111bdc07bf56236a3c27188c6ae0ed74", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAzMjM2MQ==", "url": "https://github.com/apache/pinot/pull/6299#discussion_r533032361", "bodyText": "here I kind of following the convention that all the previous field names are in strings.", "author": "xiangfu0", "createdAt": "2020-12-01T02:29:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk5MTY1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA1NzI2MA==", "url": "https://github.com/apache/pinot/pull/6299#discussion_r533057260", "bodyText": "And this is only used by the rest api", "author": "xiangfu0", "createdAt": "2020-12-01T03:56:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk5MTY1MQ=="}], "type": "inlineReview", "revised_code": null}]}