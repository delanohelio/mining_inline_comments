{"pr_number": 5217, "pr_title": "Add tests for VALUEIN", "pr_createdAt": "2020-04-07T08:59:42Z", "pr_url": "https://github.com/apache/pinot/pull/5217", "timeline": [{"oid": "00078951aad7f2f24947c2dfbbe411b658f48a83", "url": "https://github.com/apache/pinot/commit/00078951aad7f2f24947c2dfbbe411b658f48a83", "message": "Add Calcite SQL parser tests for native Pinot\nfunctions, transform functions, valuein etc\n\nAlso, add tests for resuult comparison for\nVALUEIN between PQL and SQL with/without ORDER BY", "committedDate": "2020-04-07T08:56:07Z", "type": "commit"}, {"oid": "ad52afa8294efc5715b5b9ffee22fcba2b689bd7", "url": "https://github.com/apache/pinot/commit/ad52afa8294efc5715b5b9ffee22fcba2b689bd7", "message": "Address review comments. Add more tests", "committedDate": "2020-04-07T19:54:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEyNzgyMA==", "url": "https://github.com/apache/pinot/pull/5217#discussion_r405127820", "bodyText": "It will be useful to have these numbers defined as key1, key2, value1, value2 ,etc. WIll make it easier to extend the test if we want to.", "author": "mcvsubbu", "createdAt": "2020-04-07T21:36:08Z", "path": "pinot-core/src/test/java/org/apache/pinot/queries/InterSegmentAggregationMultiValueQueriesTest.java", "diffHunk": "@@ -57,6 +60,82 @@ public void testCountMV() {\n     brokerResponse = getBrokerResponseForPqlQuery(query + MV_GROUP_BY);\n     QueriesTestUtils\n         .testInterSegmentAggregationResult(brokerResponse, 400000L, 0L, 800000L, 400000L, new String[]{\"199896\"});\n+\n+    query = \"SELECT COUNTMV(column6) FROM testTable GROUP BY VALUEIN(column7, 363, 469, 246, 100000)\";\n+    brokerResponse = getBrokerResponseForPqlQuery(query);\n+    List<String[]> groupKeys = new ArrayList<>();\n+    groupKeys.add(new String[]{\"363\"});", "originalCommit": "ad52afa8294efc5715b5b9ffee22fcba2b689bd7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}