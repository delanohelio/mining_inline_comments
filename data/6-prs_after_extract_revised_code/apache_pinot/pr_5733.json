{"pr_number": 5733, "pr_title": "[TE] deprecate the yaml/list endpoint", "pr_createdAt": "2020-07-22T22:08:38Z", "pr_url": "https://github.com/apache/pinot/pull/5733", "timeline": [{"oid": "aead9bae2a73dae91e0a73397e397cf8bd7c197e", "url": "https://github.com/apache/pinot/commit/aead9bae2a73dae91e0a73397e397cf8bd7c197e", "message": "[TE] deprecate the yaml/list endpoint", "committedDate": "2020-07-22T22:04:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExNDE3Mg==", "url": "https://github.com/apache/pinot/pull/5733#discussion_r459114172", "bodyText": "can you update the java-doc of this helper method as well!", "author": "akshayrai", "createdAt": "2020-07-22T22:15:09Z", "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java", "diffHunk": "@@ -1067,14 +1067,14 @@ private boolean filterConfigsBy(Map<String, Object> detectionConfig, String data\n     List<Map<String, Object>> yamls;\n     if (dataset == null && metric == null) {\n       yamls = this.detectionConfigDAO\n-          .findAll()\n+          .list(100, 0)", "originalCommit": "aead9bae2a73dae91e0a73397e397cf8bd7c197e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExOTg2Mw==", "url": "https://github.com/apache/pinot/pull/5733#discussion_r459119863", "bodyText": "Thanks. updated", "author": "jihaozh", "createdAt": "2020-07-22T22:29:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExNDE3Mg=="}], "type": "inlineReview", "revised_code": {"commit": "fc4de851c7dd4e71fda24423c5a1d826e48dd98b", "chunk": "diff --git a/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java b/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java\nindex 7910bc068d..185d388933 100644\n--- a/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java\n+++ b/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java\n\n@@ -1059,10 +1059,13 @@ public class YamlResource {\n    * Query all detection yaml configurations and optionally filter, then format as JSON and enhance with\n    * detection config id, isActive, and createdBy information\n    *\n+   * NOTE: it is limited to list and filter the most recent 100 alerts only due to possible OOM issues.\n+   *\n    * @param dataset The dataset param passed by the client in the REST API call.\n    * @param metric The metric param passed by the client in the REST API call.\n    * @return the yaml configuration converted in to JSON, with enhanced information from detection config DTO.\n    */\n+  @Deprecated\n   private List<Map<String, Object>> queryDetectionConfigurations(String dataset, String metric) {\n     List<Map<String, Object>> yamls;\n     if (dataset == null && metric == null) {\n"}}, {"oid": "fc4de851c7dd4e71fda24423c5a1d826e48dd98b", "url": "https://github.com/apache/pinot/commit/fc4de851c7dd4e71fda24423c5a1d826e48dd98b", "message": "address comments", "committedDate": "2020-07-22T22:27:40Z", "type": "commit"}]}