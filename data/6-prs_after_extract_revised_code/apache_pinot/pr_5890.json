{"pr_number": 5890, "pr_title": "Fix gcsFS copyToLocal to precreate local destination directory", "pr_createdAt": "2020-08-18T09:38:50Z", "pr_url": "https://github.com/apache/pinot/pull/5890", "timeline": [{"oid": "e836b07579198d6511573ca737daae9aee0f26e5", "url": "https://github.com/apache/pinot/commit/e836b07579198d6511573ca737daae9aee0f26e5", "message": "Fix gcsFS copyToLocal to precreate local destination directory", "committedDate": "2020-08-18T09:34:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MjYzMg==", "url": "https://github.com/apache/pinot/pull/5890#discussion_r472362632", "bodyText": "should we check the existence before creating? will forceMkdir throw an exception if the directory exists?", "author": "kishoreg", "createdAt": "2020-08-18T17:27:34Z", "path": "pinot-plugins/pinot-file-system/pinot-gcs/src/main/java/org/apache/pinot/plugin/filesystem/GcsPinotFS.java", "diffHunk": "@@ -325,6 +326,7 @@ public long length(URI fileUri) throws IOException {\n   @Override\n   public void copyToLocalFile(URI srcUri, File dstFile) throws Exception {\n     LOGGER.info(\"Copy {} to local {}\", srcUri, dstFile.getAbsolutePath());\n+    FileUtils.forceMkdir(dstFile.getParentFile());", "originalCommit": "e836b07579198d6511573ca737daae9aee0f26e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM5NTA0Ng==", "url": "https://github.com/apache/pinot/pull/5890#discussion_r472395046", "bodyText": "No. This util is idempotent. Doesn't throw any exception even if directory exists.", "author": "laxmanchekka", "createdAt": "2020-08-18T18:23:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MjYzMg=="}], "type": "inlineReview", "revised_code": null}]}