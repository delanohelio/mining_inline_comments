{"pr_number": 6269, "pr_title": "[TE] fix changing createdTime of anomalies", "pr_createdAt": "2020-11-17T01:57:20Z", "pr_url": "https://github.com/apache/pinot/pull/6269", "timeline": [{"oid": "5206c5bfe05b04cff942cb3692c60db4f2f9001a", "url": "https://github.com/apache/pinot/commit/5206c5bfe05b04cff942cb3692c60db4f2f9001a", "message": "[TE] fix changing createdTime of anomalies", "committedDate": "2020-11-17T01:51:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ1MDE3Mw==", "url": "https://github.com/apache/pinot/pull/6269#discussion_r525450173", "bodyText": "typo: order anomalies from earliest created time...", "author": "Ruoyingw", "createdAt": "2020-11-17T19:47:40Z", "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/algorithm/MergeWrapper.java", "diffHunk": "@@ -66,12 +66,12 @@\n   protected static final Comparator<MergedAnomalyResultDTO> COMPARATOR = new Comparator<MergedAnomalyResultDTO>() {\n     @Override\n     public int compare(MergedAnomalyResultDTO o1, MergedAnomalyResultDTO o2) {\n-      // earlier for start time\n+      // first order anomalies from earliest startTime to latest\n       int res = Long.compare(o1.getStartTime(), o2.getStartTime());\n       if (res != 0) return res;\n \n-      // later for end time\n-      res = Long.compare(o2.getEndTime(), o1.getEndTime());\n+      // order anomalies from earliest startTime to latest, if startTime are the same", "originalCommit": "5206c5bfe05b04cff942cb3692c60db4f2f9001a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTUzODE3Ng==", "url": "https://github.com/apache/pinot/pull/6269#discussion_r525538176", "bodyText": "Good catch, thx!", "author": "vincentchenjl", "createdAt": "2020-11-17T21:32:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ1MDE3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "8a9a30c2e150ea383325ca6ed5b155b064affbc1", "chunk": "diff --git a/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/algorithm/MergeWrapper.java b/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/algorithm/MergeWrapper.java\nindex 51a6afebd0..c254b2d9e7 100644\n--- a/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/algorithm/MergeWrapper.java\n+++ b/thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/algorithm/MergeWrapper.java\n\n@@ -70,7 +70,7 @@ public class MergeWrapper extends DetectionPipeline {\n       int res = Long.compare(o1.getStartTime(), o2.getStartTime());\n       if (res != 0) return res;\n \n-      // order anomalies from earliest startTime to latest, if startTime are the same\n+      // order anomalies from earliest createdTime to latest, if startTime are the same\n       res = Long.compare(o1.getCreatedTime(), o2.getCreatedTime());\n       if (res != 0) return res;\n \n"}}, {"oid": "8a9a30c2e150ea383325ca6ed5b155b064affbc1", "url": "https://github.com/apache/pinot/commit/8a9a30c2e150ea383325ca6ed5b155b064affbc1", "message": "minor change", "committedDate": "2020-11-19T02:03:20Z", "type": "commit"}, {"oid": "aa6301b932c3e3e992b15b27eb7b6bc12c6eaa7f", "url": "https://github.com/apache/pinot/commit/aa6301b932c3e3e992b15b27eb7b6bc12c6eaa7f", "message": "[TE] remove unnecessary url decoding from PinotDataSourceResource", "committedDate": "2020-11-19T23:39:12Z", "type": "commit"}, {"oid": "3b1d69ba7bc6e71a0ac7757f005c461941f64ee6", "url": "https://github.com/apache/pinot/commit/3b1d69ba7bc6e71a0ac7757f005c461941f64ee6", "message": "minor change", "committedDate": "2020-11-20T01:14:45Z", "type": "commit"}]}