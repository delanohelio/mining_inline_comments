{"pr_number": 6251, "pr_title": "Make default operator for multi-term and phrase text search queries configurable", "pr_createdAt": "2020-11-10T02:35:41Z", "pr_url": "https://github.com/apache/pinot/pull/6251", "timeline": [{"oid": "c890a1ece16d4ec15ea852c3b698b5a116bd8503", "url": "https://github.com/apache/pinot/commit/c890a1ece16d4ec15ea852c3b698b5a116bd8503", "message": "Make default operator for multi-term and phrase text\nindex queries configurable", "committedDate": "2020-11-10T02:31:22Z", "type": "commit"}, {"oid": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262", "url": "https://github.com/apache/pinot/commit/ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262", "message": "cleanup", "committedDate": "2020-11-10T02:37:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI1MTU0Mw==", "url": "https://github.com/apache/pinot/pull/6251#discussion_r520251543", "bodyText": "Could you add some tests which uses OR operator? If there is some cases like that, can we add some comments on that and mention the test with AND in this test class?", "author": "jackjlli", "createdAt": "2020-11-10T02:47:44Z", "path": "pinot-core/src/test/java/org/apache/pinot/queries/TextSearchQueriesTest.java", "diffHunk": "@@ -569,10 +591,16 @@ public void testTextSearch() throws Exception {\n \n     query = \"SELECT INT_COL, SKILLS_TEXT_COL FROM MyTable WHERE TEXT_MATCH(SKILLS_TEXT_COL, '\\\"distributed systems\\\" Java C++') LIMIT 50000\";\n     testTextSearchSelectQueryHelper(query, expected.size(), false, expected);\n-\n     query = \"SELECT COUNT(*) FROM MyTable WHERE TEXT_MATCH(SKILLS_TEXT_COL, '\\\"distributed systems\\\" Java C++') LIMIT 50000\";\n     testTextSearchAggregationQueryHelper(query, expected.size());\n \n+    // test for the index configured to use AND as the default\n+    // conjunction operator\n+    query = \"SELECT INT_COL, SKILLS_TEXT_COL FROM MyTable WHERE TEXT_MATCH(SKILLS_TEXT_COL_1, '\\\"distributed systems\\\" OR Java OR C++') LIMIT 50000\";", "originalCommit": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI1MjU3NQ==", "url": "https://github.com/apache/pinot/pull/6251#discussion_r520252575", "bodyText": "There are plenty of existing tests that use both and (explicitly) and or (both implicitly and explicitly).\nIn addition, I have added new tests to test the behavior when the config is set to true. In this case also, I have added tests for both and and or implicitly and explicitly", "author": "siddharthteotia", "createdAt": "2020-11-10T02:50:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI1MTU0Mw=="}], "type": "inlineReview", "revised_code": null}]}