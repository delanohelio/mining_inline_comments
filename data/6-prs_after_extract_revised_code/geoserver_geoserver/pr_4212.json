{"pr_number": 4212, "pr_title": "[GEOT-6551] SLD 1.1 doesn't support namespaces in OGC PropertyName", "pr_createdAt": "2020-04-27T21:51:34Z", "pr_url": "https://github.com/geoserver/geoserver/pull/4212", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3NTM0MQ==", "url": "https://github.com/geoserver/geoserver/pull/4212#discussion_r417375341", "bodyText": "The base class has the namespace support, use it instead of duplicating it. I've added a suggestion to make that field protected in the GeoTools PR.", "author": "aaime", "createdAt": "2020-04-29T14:48:15Z", "path": "src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java", "diffHunk": "@@ -31,8 +31,8 @@\n     NamespaceSupport namespaceSupport;\n \n     public PropertyNameTypeBinding(\n-            FilterFactory filterFactory, NamespaceSupport namespaceSupport, Catalog catalog) {\n-        super(filterFactory);\n+            FilterFactory2 filterFactory, NamespaceSupport namespaceSupport, Catalog catalog) {\n+        super(filterFactory, namespaceSupport);\n         this.namespaceSupport = namespaceSupport;", "originalCommit": "06e57b6e367bdd10b5b6fbb8ccd7acdb5666e454", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI4NDc2OQ==", "url": "https://github.com/geoserver/geoserver/pull/4212#discussion_r418284769", "bodyText": "Done", "author": "NielsCharlier", "createdAt": "2020-04-30T20:57:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3NTM0MQ=="}], "type": "inlineReview", "revised_code": {"commit": "669193c8740315ee8678a816b338b075da29d50a", "chunk": "diff --git a/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java b/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java\nindex d0f0f69f87..9b2439f446 100644\n--- a/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java\n+++ b/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java\n\n@@ -27,9 +26,6 @@ public class PropertyNameTypeBinding extends OGCPropertyNameTypeBinding {\n     /** the geoserver catalog */\n     Catalog catalog;\n \n-    /** parser namespace mappings */\n-    NamespaceSupport namespaceSupport;\n-\n     public PropertyNameTypeBinding(\n             FilterFactory2 filterFactory, NamespaceSupport namespaceSupport, Catalog catalog) {\n         super(filterFactory, namespaceSupport);\n"}}, {"oid": "669193c8740315ee8678a816b338b075da29d50a", "url": "https://github.com/geoserver/geoserver/commit/669193c8740315ee8678a816b338b075da29d50a", "message": "[GEOT-6551] SLD 1.1 doesn't support namespaces in OGC PropertyName", "committedDate": "2020-04-30T20:56:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI4NTcwNQ==", "url": "https://github.com/geoserver/geoserver/pull/4212#discussion_r418285705", "bodyText": "Is this just me, or this assignement became useless?\n        this.namespaceSupport = namespaceSupport;", "author": "aaime", "createdAt": "2020-04-30T20:59:40Z", "path": "src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java", "diffHunk": "@@ -27,12 +26,9 @@\n     /** the geoserver catalog */\n     Catalog catalog;\n \n-    /** parser namespace mappings */\n-    NamespaceSupport namespaceSupport;\n-\n     public PropertyNameTypeBinding(\n-            FilterFactory filterFactory, NamespaceSupport namespaceSupport, Catalog catalog) {\n-        super(filterFactory);\n+            FilterFactory2 filterFactory, NamespaceSupport namespaceSupport, Catalog catalog) {\n+        super(filterFactory, namespaceSupport);\n         this.namespaceSupport = namespaceSupport;", "originalCommit": "669193c8740315ee8678a816b338b075da29d50a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI4NjI0NQ==", "url": "https://github.com/geoserver/geoserver/pull/4212#discussion_r418286245", "bodyText": "yes, that is true.", "author": "NielsCharlier", "createdAt": "2020-04-30T21:00:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI4NTcwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "fd3944b91a0ac12d7f46b5dbc0956968a12dcd22", "chunk": "diff --git a/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java b/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java\nindex 9b2439f446..678ae1f071 100644\n--- a/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java\n+++ b/src/wfs/src/main/java/org/geoserver/wfs/xml/filter/v1_1/PropertyNameTypeBinding.java\n\n@@ -29,7 +29,6 @@ public class PropertyNameTypeBinding extends OGCPropertyNameTypeBinding {\n     public PropertyNameTypeBinding(\n             FilterFactory2 filterFactory, NamespaceSupport namespaceSupport, Catalog catalog) {\n         super(filterFactory, namespaceSupport);\n-        this.namespaceSupport = namespaceSupport;\n         this.catalog = catalog;\n     }\n \n"}}, {"oid": "fd3944b91a0ac12d7f46b5dbc0956968a12dcd22", "url": "https://github.com/geoserver/geoserver/commit/fd3944b91a0ac12d7f46b5dbc0956968a12dcd22", "message": "[GEOT-6551] SLD 1.1 doesn't support namespaces in OGC PropertyName", "committedDate": "2020-04-30T21:00:22Z", "type": "commit"}, {"oid": "fd3944b91a0ac12d7f46b5dbc0956968a12dcd22", "url": "https://github.com/geoserver/geoserver/commit/fd3944b91a0ac12d7f46b5dbc0956968a12dcd22", "message": "[GEOT-6551] SLD 1.1 doesn't support namespaces in OGC PropertyName", "committedDate": "2020-04-30T21:00:22Z", "type": "forcePushed"}]}