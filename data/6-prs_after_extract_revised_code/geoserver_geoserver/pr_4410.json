{"pr_number": 4410, "pr_title": "[GEOS-9693] Fix qa errors on GSR plugin", "pr_createdAt": "2020-07-13T10:48:29Z", "pr_url": "https://github.com/geoserver/geoserver/pull/4410", "timeline": [{"oid": "51341b52197138ea1722f9ff95050f3db42798e8", "url": "https://github.com/geoserver/geoserver/commit/51341b52197138ea1722f9ff95050f3db42798e8", "message": "[GEOS-9693] Fix qa errors on GSR plugin", "committedDate": "2020-07-13T10:47:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzcxMzUzMw==", "url": "https://github.com/geoserver/geoserver/pull/4410#discussion_r453713533", "bodyText": "Please don't leave commented out code...", "author": "aaime", "createdAt": "2020-07-13T14:59:42Z", "path": "src/community/gsr/src/main/java/org/geoserver/gsr/model/map/LegendEntry.java", "diffHunk": "@@ -59,9 +57,9 @@ private static String encodeImageSymbol(Symbol symbol) {\n                 canvas.setColor(strokeColor);\n                 canvas.setStroke(stroke);\n                 canvas.draw(shape);\n-            } else if (symbol instanceof PictureMarkerSymbol) {\n+                // } else if (symbol instanceof PictureMarkerSymbol) {", "originalCommit": "51341b52197138ea1722f9ff95050f3db42798e8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "65a36b77c7da708ca2793880ee6934d831d84cb7", "chunk": "diff --git a/src/community/gsr/src/main/java/org/geoserver/gsr/model/map/LegendEntry.java b/src/community/gsr/src/main/java/org/geoserver/gsr/model/map/LegendEntry.java\nindex 12f19a9984..22b1947bce 100644\n--- a/src/community/gsr/src/main/java/org/geoserver/gsr/model/map/LegendEntry.java\n+++ b/src/community/gsr/src/main/java/org/geoserver/gsr/model/map/LegendEntry.java\n\n@@ -57,9 +57,7 @@ class LegendEntry {\n                 canvas.setColor(strokeColor);\n                 canvas.setStroke(stroke);\n                 canvas.draw(shape);\n-                // } else if (symbol instanceof PictureMarkerSymbol) {\n                 // TODO: Implement image preview\n-                // } else if (symbol instanceof TextSymbol) {\n                 // TODO: Implement font preview\n             } else if (symbol instanceof SimpleFillSymbol) {\n                 SimpleFillSymbol simpleFillSymbol = (SimpleFillSymbol) symbol;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzcxMzk5Mg==", "url": "https://github.com/geoserver/geoserver/pull/4410#discussion_r453713992", "bodyText": "Hmm... no way to avoid using deprecated calls?", "author": "aaime", "createdAt": "2020-07-13T15:00:16Z", "path": "src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/AbstractGeometryEncoder.java", "diffHunk": "@@ -52,6 +52,7 @@\n  *\n  * @param <T> The coordinate type. Must be a {@link Number}.\n  */\n+@SuppressWarnings(\"deprecation\")", "originalCommit": "51341b52197138ea1722f9ff95050f3db42798e8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "65a36b77c7da708ca2793880ee6934d831d84cb7", "chunk": "diff --git a/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/AbstractGeometryEncoder.java b/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/AbstractGeometryEncoder.java\nindex 20626635d8..ee14537dda 100644\n--- a/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/AbstractGeometryEncoder.java\n+++ b/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/AbstractGeometryEncoder.java\n\n@@ -52,7 +52,6 @@ import org.locationtech.jts.operation.polygonize.Polygonizer;\n  *\n  * @param <T> The coordinate type. Must be a {@link Number}.\n  */\n-@SuppressWarnings(\"deprecation\")\n public abstract class AbstractGeometryEncoder<T extends Number> implements Converter {\n \n     @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzcxNDEzMA==", "url": "https://github.com/geoserver/geoserver/pull/4410#discussion_r453714130", "bodyText": "Just remove the method.", "author": "aaime", "createdAt": "2020-07-13T15:00:30Z", "path": "src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/SpatialReferenceEncoder.java", "diffHunk": "@@ -107,7 +107,8 @@ public static CoordinateReferenceSystem coordinateReferenceSystemFromSpatialRefe\n                 \"Could not determine coordinate reference system from spatial reference: \" + sr);\n     }\n \n-    private static CoordinateReferenceSystem interpret(String wkid) throws FactoryException {\n+    // unused private method commented", "originalCommit": "51341b52197138ea1722f9ff95050f3db42798e8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "65a36b77c7da708ca2793880ee6934d831d84cb7", "chunk": "diff --git a/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/SpatialReferenceEncoder.java b/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/SpatialReferenceEncoder.java\nindex 725920793b..0ce01e3894 100644\n--- a/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/SpatialReferenceEncoder.java\n+++ b/src/community/gsr/src/main/java/org/geoserver/gsr/translate/geometry/SpatialReferenceEncoder.java\n\n@@ -106,17 +106,4 @@ public class SpatialReferenceEncoder {\n         throw new IllegalArgumentException(\n                 \"Could not determine coordinate reference system from spatial reference: \" + sr);\n     }\n-\n-    // unused private method commented\n-    /*private static CoordinateReferenceSystem interpret(String wkid) throws FactoryException {\n-        String withEPSGPrefix;\n-        try {\n-            Integer asInteger = Integer.valueOf(wkid);\n-            withEPSGPrefix = \"EPSG:\" + asInteger;\n-        } catch (NumberFormatException e) {\n-            withEPSGPrefix = \"EPSG:\" + wkid;\n-        }\n-\n-        return CRS.decode(withEPSGPrefix);\n-    }*/\n }\n"}}, {"oid": "65a36b77c7da708ca2793880ee6934d831d84cb7", "url": "https://github.com/geoserver/geoserver/commit/65a36b77c7da708ca2793880ee6934d831d84cb7", "message": "reviewer's feedback applied + provides two more qa fixes", "committedDate": "2020-07-20T13:58:11Z", "type": "commit"}]}