{"pr_number": 1832, "pr_title": "Escape single line comments", "pr_createdAt": "2020-03-26T03:08:48Z", "pr_url": "https://github.com/graphql-java/graphql-java/pull/1832", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM1ODU1Mw==", "url": "https://github.com/graphql-java/graphql-java/pull/1832#discussion_r398358553", "bodyText": "I am sure we have a JSON string encoder somewhere in the code base\nNot sure off hand but I recall we do.", "author": "bbakerman", "createdAt": "2020-03-26T07:17:32Z", "path": "src/main/java/graphql/schema/idl/SchemaPrinter.java", "diffHunk": "@@ -874,7 +875,9 @@ private void printMultiLineDescription(PrintWriter out, String prefix, List<Stri\n     }\n \n     private void printSingleLineDescription(PrintWriter out, String prefix, String s) {\n-        out.printf(\"%s\\\"%s\\\"\\n\", prefix, s);\n+        // See: https://github.com/graphql/graphql-spec/issues/148\n+        String comment = StringEscapeUtils.escapeJson(s);", "originalCommit": "d413b613082ffe8ec7706b557a5cde0afa693faa", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f83718fd3d4ea433eb61f01830230fbbe41983a6", "chunk": "diff --git a/src/main/java/graphql/schema/idl/SchemaPrinter.java b/src/main/java/graphql/schema/idl/SchemaPrinter.java\nindex 91eb4735..56ec6901 100644\n--- a/src/main/java/graphql/schema/idl/SchemaPrinter.java\n+++ b/src/main/java/graphql/schema/idl/SchemaPrinter.java\n\n@@ -876,8 +876,8 @@ public class SchemaPrinter {\n \n     private void printSingleLineDescription(PrintWriter out, String prefix, String s) {\n         // See: https://github.com/graphql/graphql-spec/issues/148\n-        String comment = StringEscapeUtils.escapeJson(s);\n-        out.printf(\"%s\\\"%s\\\"\\n\", prefix, comment);\n+        String desc = escapeJsonString(s);\n+        out.printf(\"%s\\\"%s\\\"\\n\", prefix, desc);\n     }\n \n     private boolean hasDescription(Object descriptionHolder) {\n"}}, {"oid": "f83718fd3d4ea433eb61f01830230fbbe41983a6", "url": "https://github.com/graphql-java/graphql-java/commit/f83718fd3d4ea433eb61f01830230fbbe41983a6", "message": "Escape single line comments", "committedDate": "2020-03-26T21:37:38Z", "type": "commit"}, {"oid": "f83718fd3d4ea433eb61f01830230fbbe41983a6", "url": "https://github.com/graphql-java/graphql-java/commit/f83718fd3d4ea433eb61f01830230fbbe41983a6", "message": "Escape single line comments", "committedDate": "2020-03-26T21:37:38Z", "type": "forcePushed"}]}