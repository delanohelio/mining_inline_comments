{"pr_number": 1305, "pr_title": "Change log level jsonrpc4j", "pr_createdAt": "2020-09-09T19:41:44Z", "pr_url": "https://github.com/rsksmart/rskj/pull/1305", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg3ODk4OA==", "url": "https://github.com/rsksmart/rskj/pull/1305#discussion_r485878988", "bodyText": "Any reason to this change?", "author": "ajlopezrsk", "createdAt": "2020-09-09T19:50:51Z", "path": "rskj-core/src/main/java/co/rsk/rpc/netty/JsonRpcWeb3ServerHandler.java", "diffHunk": "@@ -59,9 +59,8 @@ protected void channelRead0(ChannelHandlerContext ctx, ByteBufHolder request) th\n         int responseCode;\n         try (ByteBufOutputStream os = new ByteBufOutputStream(responseContent);\n              ByteBufInputStream is = new ByteBufInputStream(request.content().retain())){\n-\n             responseCode = jsonRpcServer.handleRequest(is, os);\n-        } catch (Exception e) {\n+        } catch (Throwable e) {", "originalCommit": "695f701a8d77f5d58afd26d152e45842e07fa67b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkxMDI2MQ==", "url": "https://github.com/rsksmart/rskj/pull/1305#discussion_r485910261", "bodyText": "To catch stackoverflow... but i was thinking that maybe has no sense.", "author": "patogallaiovlabs", "createdAt": "2020-09-09T20:43:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg3ODk4OA=="}], "type": "inlineReview", "revised_code": {"commit": "d9a2c0b561e7d1947d0e4eb447aa4db048e5cd85", "chunk": "diff --git a/rskj-core/src/main/java/co/rsk/rpc/netty/JsonRpcWeb3ServerHandler.java b/rskj-core/src/main/java/co/rsk/rpc/netty/JsonRpcWeb3ServerHandler.java\nindex d1d5c99a7..424d0a981 100644\n--- a/rskj-core/src/main/java/co/rsk/rpc/netty/JsonRpcWeb3ServerHandler.java\n+++ b/rskj-core/src/main/java/co/rsk/rpc/netty/JsonRpcWeb3ServerHandler.java\n\n@@ -59,8 +59,9 @@ public class JsonRpcWeb3ServerHandler extends SimpleChannelInboundHandler<ByteBu\n         int responseCode;\n         try (ByteBufOutputStream os = new ByteBufOutputStream(responseContent);\n              ByteBufInputStream is = new ByteBufInputStream(request.content().retain())){\n+            \n             responseCode = jsonRpcServer.handleRequest(is, os);\n-        } catch (Throwable e) {\n+        } catch (Exception e) {\n             String unexpectedErrorMsg = \"Unexpected error\";\n             LOGGER.error(unexpectedErrorMsg, e);\n             int errorCode = ErrorResolver.JsonError.CUSTOM_SERVER_ERROR_LOWER;\n"}}, {"oid": "d9a2c0b561e7d1947d0e4eb447aa4db048e5cd85", "url": "https://github.com/rsksmart/rskj/commit/d9a2c0b561e7d1947d0e4eb447aa4db048e5cd85", "message": "revert catch", "committedDate": "2020-09-09T20:52:08Z", "type": "forcePushed"}, {"oid": "69d8cdd1a67faba2d7c0c788e79f9805be23f238", "url": "https://github.com/rsksmart/rskj/commit/69d8cdd1a67faba2d7c0c788e79f9805be23f238", "message": "revert catch", "committedDate": "2020-09-10T16:37:51Z", "type": "forcePushed"}, {"oid": "c9fa09d3f5a709c4bfd32582d2f96e885a044f1d", "url": "https://github.com/rsksmart/rskj/commit/c9fa09d3f5a709c4bfd32582d2f96e885a044f1d", "message": "Change log level, no need to log so deep", "committedDate": "2020-09-11T17:22:14Z", "type": "commit"}, {"oid": "d4aae7bac6fbbb64c5036a8da4240f5b91f668d5", "url": "https://github.com/rsksmart/rskj/commit/d4aae7bac6fbbb64c5036a8da4240f5b91f668d5", "message": "remove ON from logback", "committedDate": "2020-09-11T17:22:14Z", "type": "forcePushed"}, {"oid": "1078c784e9f3969d2dfac03d01475384a53fe6e4", "url": "https://github.com/rsksmart/rskj/commit/1078c784e9f3969d2dfac03d01475384a53fe6e4", "message": "revert catch\n\nremove ON from logback", "committedDate": "2020-09-14T20:27:27Z", "type": "commit"}, {"oid": "1078c784e9f3969d2dfac03d01475384a53fe6e4", "url": "https://github.com/rsksmart/rskj/commit/1078c784e9f3969d2dfac03d01475384a53fe6e4", "message": "revert catch\n\nremove ON from logback", "committedDate": "2020-09-14T20:27:27Z", "type": "forcePushed"}]}