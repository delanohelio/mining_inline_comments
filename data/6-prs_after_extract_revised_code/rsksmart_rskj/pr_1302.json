{"pr_number": 1302, "pr_title": "Subroutines in EVM", "pr_createdAt": "2020-09-07T14:53:03Z", "pr_url": "https://github.com/rsksmart/rskj/pull/1302", "timeline": [{"oid": "bf9bfce2e5d7450f5e7cc18465fe4de9c9ba0d60", "url": "https://github.com/rsksmart/rskj/commit/bf9bfce2e5d7450f5e7cc18465fe4de9c9ba0d60", "message": "Assigning RSK 172", "committedDate": "2020-09-07T16:33:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwMTA0OQ==", "url": "https://github.com/rsksmart/rskj/pull/1302#discussion_r485801049", "bodyText": "Shouldn't be 1023?", "author": "donequis", "createdAt": "2020-09-09T17:40:04Z", "path": "rskj-core/src/main/java/org/ethereum/vm/VM.java", "diffHunk": "@@ -88,6 +88,8 @@\n     private static final String logString = \"{}    Op: [{}]  Gas: [{}] Deep: [{}]  Hint: [{}]\";\n     private static final boolean computeGas = true; // for performance comp\n \n+    private static final int MAX_RETURN_STACK_SIZE = 1024;", "originalCommit": "6a67e7acf5b4b56a466c6969d4392de29029b690", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg2NTU4NA==", "url": "https://github.com/rsksmart/rskj/pull/1302#discussion_r485865584", "bodyText": "Fixed", "author": "ajlopezrsk", "createdAt": "2020-09-09T19:35:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwMTA0OQ=="}], "type": "inlineReview", "revised_code": {"commit": "6ef5c4aa3b73e1c8942bea846a7b549a26e71467", "chunk": "diff --git a/rskj-core/src/main/java/org/ethereum/vm/VM.java b/rskj-core/src/main/java/org/ethereum/vm/VM.java\nindex cf80f51b5..afa6a0f7d 100644\n--- a/rskj-core/src/main/java/org/ethereum/vm/VM.java\n+++ b/rskj-core/src/main/java/org/ethereum/vm/VM.java\n\n@@ -88,7 +88,7 @@ public class VM {\n     private static final String logString = \"{}    Op: [{}]  Gas: [{}] Deep: [{}]  Hint: [{}]\";\n     private static final boolean computeGas = true; // for performance comp\n \n-    private static final int MAX_RETURN_STACK_SIZE = 1024;\n+    private static final int MAX_RETURN_STACK_SIZE = 1023;\n \n     /* Keeps track of the number of steps performed in this VM */\n     private int vmCounter = 0;\n"}}, {"oid": "6ef5c4aa3b73e1c8942bea846a7b549a26e71467", "url": "https://github.com/rsksmart/rskj/commit/6ef5c4aa3b73e1c8942bea846a7b549a26e71467", "message": "VM return stack max size is 1023", "committedDate": "2020-09-10T16:32:48Z", "type": "forcePushed"}, {"oid": "222b059881fd2aba51a511a1d1043758a911f5f6", "url": "https://github.com/rsksmart/rskj/commit/222b059881fd2aba51a511a1d1043758a911f5f6", "message": "VM return stack max size is 1023", "committedDate": "2020-09-14T21:08:29Z", "type": "forcePushed"}, {"oid": "60f137addd3395cfaace2f7f9179db3121476b94", "url": "https://github.com/rsksmart/rskj/commit/60f137addd3395cfaace2f7f9179db3121476b94", "message": "New opcodes", "committedDate": "2020-09-17T13:04:18Z", "type": "commit"}, {"oid": "e741f8232758f6be3d7b8253dad1b7d96f264798", "url": "https://github.com/rsksmart/rskj/commit/e741f8232758f6be3d7b8253dad1b7d96f264798", "message": "New opcodes first implementation; execute subroutine; execute two levels of subroutines", "committedDate": "2020-09-17T13:07:25Z", "type": "commit"}, {"oid": "e9a9e3394181ffbc9a505a391cf8a308d3139786", "url": "https://github.com/rsksmart/rskj/commit/e9a9e3394181ffbc9a505a391cf8a308d3139786", "message": "Subroutines failing cases", "committedDate": "2020-09-17T13:08:19Z", "type": "commit"}, {"oid": "43ac3889ca8651d007e7f25cc84d68c5298d2436", "url": "https://github.com/rsksmart/rskj/commit/43ac3889ca8651d007e7f25cc84d68c5298d2436", "message": "BEGINSUB set in Program", "committedDate": "2020-09-17T13:08:19Z", "type": "commit"}, {"oid": "3d44faa2368f8205823095140fc40064f1ef3c57", "url": "https://github.com/rsksmart/rskj/commit/3d44faa2368f8205823095140fc40064f1ef3c57", "message": "Activation EIP2315", "committedDate": "2020-09-17T13:11:48Z", "type": "commit"}, {"oid": "593c6d34d85cfd26ecd843e34287ebb29cb8e2ea", "url": "https://github.com/rsksmart/rskj/commit/593c6d34d85cfd26ecd843e34287ebb29cb8e2ea", "message": "Assigning RSK 172", "committedDate": "2020-09-17T13:13:50Z", "type": "commit"}, {"oid": "3a42c1968914f79ed88d9ae7039e2dfb33e32705", "url": "https://github.com/rsksmart/rskj/commit/3a42c1968914f79ed88d9ae7039e2dfb33e32705", "message": "Additional test invalid JUMPSUB when data stack is empty", "committedDate": "2020-09-17T13:14:10Z", "type": "commit"}, {"oid": "504687e735e8ac9f1a8c30a975b7232ba3a43db9", "url": "https://github.com/rsksmart/rskj/commit/504687e735e8ac9f1a8c30a975b7232ba3a43db9", "message": "VM return stack max size", "committedDate": "2020-09-17T13:14:10Z", "type": "commit"}, {"oid": "012d2492280809408c59a0ea56be6933a8f77b7e", "url": "https://github.com/rsksmart/rskj/commit/012d2492280809408c59a0ea56be6933a8f77b7e", "message": "VM return stack max size is 1023", "committedDate": "2020-09-17T13:14:10Z", "type": "commit"}, {"oid": "012d2492280809408c59a0ea56be6933a8f77b7e", "url": "https://github.com/rsksmart/rskj/commit/012d2492280809408c59a0ea56be6933a8f77b7e", "message": "VM return stack max size is 1023", "committedDate": "2020-09-17T13:14:10Z", "type": "forcePushed"}]}