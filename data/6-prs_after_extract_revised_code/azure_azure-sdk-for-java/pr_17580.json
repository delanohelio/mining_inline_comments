{"pr_number": 17580, "pr_title": "ApiView feedback", "pr_createdAt": "2020-11-13T21:36:12Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17580", "timeline": [{"oid": "5d0d42d0efac97213ecab3e3c0db3601e2e51096", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5d0d42d0efac97213ecab3e3c0db3601e2e51096", "message": "ApiView feedback", "committedDate": "2020-11-13T21:22:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0NjAwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17580#discussion_r523246008", "bodyText": "Is ignoring safe? Or is this just so that we don't break people in the future?", "author": "gapra-msft", "createdAt": "2020-11-13T21:38:57Z", "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/implementation/util/ModelHelper.java", "diffHunk": "@@ -73,10 +74,35 @@ public static ShareProperties populateShareProperties(SharePropertiesInternal sh\n         properties.setLeaseStatus(sharePropertiesInternal.getLeaseStatus());\n         properties.setLeaseState(sharePropertiesInternal.getLeaseState());\n         properties.setLeaseDuration(sharePropertiesInternal.getLeaseDuration());\n-        properties.setEnabledProtocols(ShareEnabledProtocols.parse(sharePropertiesInternal.getEnabledProtocols()));\n+        properties.setProtocols(parseShareProtocols(sharePropertiesInternal.getEnabledProtocols()));\n         properties.setRootSquash(sharePropertiesInternal.getRootSquash());\n         properties.setMetadata(sharePropertiesInternal.getMetadata());\n \n         return properties;\n     }\n+\n+    /**\n+     * Parses a {@code String} into a {@code ShareProtocols}. Unrecognized protocols will be ignored.", "originalCommit": "5d0d42d0efac97213ecab3e3c0db3601e2e51096", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0Njc4MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17580#discussion_r523246781", "bodyText": "This is following .NET's implementation. I believe it is future proofing for when the service starts sending other things, and this is only meant to be used internally, so I think it's ok.", "author": "rickle-msft", "createdAt": "2020-11-13T21:40:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0NjAwOA=="}], "type": "inlineReview", "revised_code": {"commit": "31d4c016d621fd6f1db1ac79d4829a55cde140fe", "chunk": "diff --git a/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/implementation/util/ModelHelper.java b/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/implementation/util/ModelHelper.java\nindex b6b4a54b467..05c303dd025 100644\n--- a/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/implementation/util/ModelHelper.java\n+++ b/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/implementation/util/ModelHelper.java\n\n@@ -94,13 +94,15 @@ public class ModelHelper {\n \n         ShareProtocols protocols = new ShareProtocols();\n         for (String s : str.split(\",\")) {\n-            switch(s) {\n+            switch (s) {\n                 case Constants.HeaderConstants.SMB_PROTOCOL:\n                     protocols.setSmbEnabled(true);\n                     break;\n                 case Constants.HeaderConstants.NFS_PROTOCOL:\n                     protocols.setNfsEnabled(true);\n                     break;\n+                default:\n+                    // Ignore unknown options\n             }\n         }\n         return protocols;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0NjY1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17580#discussion_r523246654", "bodyText": "Should this be smbEnabled? Just to follow true Fluent?", "author": "gapra-msft", "createdAt": "2020-11-13T21:40:21Z", "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/models/ShareProtocols.java", "diffHunk": "@@ -9,8 +9,8 @@\n /**\n  * Represents protocols that can be set on a share.\n  */\n-public class ShareEnabledProtocols {\n-    private final ClientLogger logger = new ClientLogger(ShareEnabledProtocols.class);\n+public class ShareProtocols {\n+    private final ClientLogger logger = new ClientLogger(ShareProtocols.class);\n \n     private boolean smb;", "originalCommit": "5d0d42d0efac97213ecab3e3c0db3601e2e51096", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0NzI2Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17580#discussion_r523247266", "bodyText": "Fixed", "author": "rickle-msft", "createdAt": "2020-11-13T21:41:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0NjY1NA=="}], "type": "inlineReview", "revised_code": {"commit": "6c77114db8980ad4930776e530099e430be38476", "chunk": "diff --git a/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/models/ShareProtocols.java b/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/models/ShareProtocols.java\nindex 854d35ec0ec..785bedeec8f 100644\n--- a/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/models/ShareProtocols.java\n+++ b/sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/models/ShareProtocols.java\n\n@@ -12,22 +12,22 @@ import com.azure.storage.common.implementation.Constants;\n public class ShareProtocols {\n     private final ClientLogger logger = new ClientLogger(ShareProtocols.class);\n \n-    private boolean smb;\n+    private boolean smbEnabled;\n \n-    private boolean nfs;\n+    private boolean nfsEnabled;\n \n     /**\n      * @return Enable SMB\n      */\n     public boolean isSmbEnabled() {\n-        return smb;\n+        return smbEnabled;\n     }\n \n     /**\n      * @return Enable NFS\n      */\n     public boolean isNfsEnabled() {\n-        return nfs;\n+        return nfsEnabled;\n     }\n \n     /**\n"}}, {"oid": "6c77114db8980ad4930776e530099e430be38476", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6c77114db8980ad4930776e530099e430be38476", "message": "Minor rename", "committedDate": "2020-11-13T21:41:47Z", "type": "commit"}, {"oid": "e118a9aaebfd1bf23ca1ab3b47b50d8fe74160c0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e118a9aaebfd1bf23ca1ab3b47b50d8fe74160c0", "message": "New recordings", "committedDate": "2020-11-13T23:09:32Z", "type": "commit"}, {"oid": "31d4c016d621fd6f1db1ac79d4829a55cde140fe", "url": "https://github.com/Azure/azure-sdk-for-java/commit/31d4c016d621fd6f1db1ac79d4829a55cde140fe", "message": "CI issues", "committedDate": "2020-11-14T00:17:43Z", "type": "commit"}]}