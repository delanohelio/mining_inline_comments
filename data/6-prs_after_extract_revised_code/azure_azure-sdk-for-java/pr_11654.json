{"pr_number": 11654, "pr_title": "Hide DataType and all Index types", "pr_createdAt": "2020-06-01T23:47:22Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11654", "timeline": [{"oid": "731c29ecabc07c0cb3488bf272744f49d3e9b7e0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/731c29ecabc07c0cb3488bf272744f49d3e9b7e0", "message": "Hide DataType and all Index types", "committedDate": "2020-06-01T23:39:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1ODMxMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11654#discussion_r433558310", "bodyText": "We should change this. Since this is in examples module, we should not use *BridgeInternal classes here.\nAlso please check if you have not un-intentionally made this change in other public surface area (examples sub-module)", "author": "kushagraThapar", "createdAt": "2020-06-02T00:31:19Z", "path": "sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java", "diffHunk": "@@ -380,7 +381,7 @@ private DocumentCollection getMultiPartitionCollectionDefinition() {\n         List<Index> indexes = new ArrayList<>();\n         indexes.add(Index.range(DataType.STRING, -1));\n         indexes.add(Index.range(DataType.NUMBER, -1));\n-        includedPath.setIndexes(indexes);\n+        ModelBridgeInternal.setIncludedPathIndexes(includedPath, indexes);", "originalCommit": "731c29ecabc07c0cb3488bf272744f49d3e9b7e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU2MTAwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11654#discussion_r433561002", "bodyText": "hmm, I need to change it because I hide the setIndexes method of IncludedPath, should I keep it public? Checked the .net SDK, the setter and getter are both internal. So I changed the setIndexes method to package private", "author": "xinlian12", "createdAt": "2020-06-02T00:42:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1ODMxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU2MjYyMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11654#discussion_r433562623", "bodyText": "chatted offline, make sense that do not call this new method here, since it is not accessible publicly. Will remove.", "author": "xinlian12", "createdAt": "2020-06-02T00:48:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1ODMxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU2NzYzNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11654#discussion_r433567637", "bodyText": "Removed from all tests.", "author": "xinlian12", "createdAt": "2020-06-02T01:09:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1ODMxMA=="}], "type": "inlineReview", "revised_code": {"commit": "8f429bcdcf8b82b95a3a9b4c2a5caf4e6a55bb21", "chunk": "diff --git a/sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java b/sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java\nindex c0e37162781..c3d4769fd14 100644\n--- a/sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java\n+++ b/sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java\n\n@@ -378,10 +375,6 @@ public class CollectionCRUDAsyncAPITest extends DocumentClientTest {\n         IndexingPolicy indexingPolicy = new IndexingPolicy();\n         List<IncludedPath> includedPaths = new ArrayList<>();\n         IncludedPath includedPath = new IncludedPath(\"/*\");\n-        List<Index> indexes = new ArrayList<>();\n-        indexes.add(Index.range(DataType.STRING, -1));\n-        indexes.add(Index.range(DataType.NUMBER, -1));\n-        ModelBridgeInternal.setIncludedPathIndexes(includedPath, indexes);\n         includedPaths.add(includedPath);\n         indexingPolicy.setIncludedPaths(includedPaths);\n         collectionDefinition.setIndexingPolicy(indexingPolicy);\n"}}, {"oid": "8f429bcdcf8b82b95a3a9b4c2a5caf4e6a55bb21", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8f429bcdcf8b82b95a3a9b4c2a5caf4e6a55bb21", "message": "resolve comments", "committedDate": "2020-06-02T01:07:09Z", "type": "commit"}]}