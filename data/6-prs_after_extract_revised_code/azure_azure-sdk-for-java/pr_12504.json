{"pr_number": 12504, "pr_title": "Azure Search Fixes", "pr_createdAt": "2020-06-25T01:55:32Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12504", "timeline": [{"oid": "128311eb537c6ba171ef9f7288770b6911c3da84", "url": "https://github.com/Azure/azure-sdk-for-java/commit/128311eb537c6ba171ef9f7288770b6911c3da84", "message": "Add IndexDocumentsOptions, moved other option models into new options package, removed implementation from public API, and move field builder code into samples", "committedDate": "2020-06-25T01:52:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTI2ODA0Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12504#discussion_r445268043", "bodyText": "We have several other options in indexes.\nDo we only put seachClient related options in option bag?", "author": "sima-zhu", "createdAt": "2020-06-25T02:06:39Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/package-info.java", "diffHunk": "@@ -0,0 +1,7 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+/**\n+ * Package containing the classes which serve as options to APIs.\n+ */\n+package com.azure.search.documents.options;", "originalCommit": "128311eb537c6ba171ef9f7288770b6911c3da84", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5ODcyMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12504#discussion_r445698723", "bodyText": "Moving classes back to original location as they don't fit the guideline for option bags.", "author": "alzimmermsft", "createdAt": "2020-06-25T16:49:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTI2ODA0Mw=="}], "type": "inlineReview", "revised_code": {"commit": "39bdac7ae11ced4172c56e1f11ecbc36c8074977", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/package-info.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/package-info.java\ndeleted file mode 100644\nindex 505cae0bf6a..00000000000\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/package-info.java\n+++ /dev/null\n\n@@ -1,7 +0,0 @@\n-// Copyright (c) Microsoft Corporation. All rights reserved.\n-// Licensed under the MIT License.\n-\n-/**\n- * Package containing the classes which serve as options to APIs.\n- */\n-package com.azure.search.documents.options;\n"}}, {"oid": "39bdac7ae11ced4172c56e1f11ecbc36c8074977", "url": "https://github.com/Azure/azure-sdk-for-java/commit/39bdac7ae11ced4172c56e1f11ecbc36c8074977", "message": "Updated paged response constructors, moved options classes back into models", "committedDate": "2020-06-25T17:06:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxMjQ4MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12504#discussion_r445712480", "bodyText": "Should the default be true?", "author": "srnagar", "createdAt": "2020-06-25T17:12:37Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/IndexDocumentsOptions.java", "diffHunk": "@@ -0,0 +1,34 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents.options;\n+\n+import com.azure.core.annotation.Fluent;\n+\n+/**\n+ * Options for document index operations.\n+ */\n+@Fluent\n+public class IndexDocumentsOptions {\n+    private boolean throwOnAnyError = false;", "originalCommit": "128311eb537c6ba171ef9f7288770b6911c3da84", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxOTM1MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12504#discussion_r445719350", "bodyText": ".NET is using false by default. https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/search/Azure.Search.Documents/src/Options/IndexDocumentsOptions.cs#L19\n@tg-msft @heaths could explain the reasoning better.", "author": "alzimmermsft", "createdAt": "2020-06-25T17:25:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxMjQ4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyMDgwNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12504#discussion_r445720804", "bodyText": "Personally prefer to take true, as we have retry helper inside of IndexBatchException.", "author": "sima-zhu", "createdAt": "2020-06-25T17:27:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxMjQ4MA=="}], "type": "inlineReview", "revised_code": {"commit": "4d41420d299e7c8cf27c31b963d3060849f5b571", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/IndexDocumentsOptions.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/models/IndexDocumentsOptions.java\nsimilarity index 83%\nrename from sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/IndexDocumentsOptions.java\nrename to sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/models/IndexDocumentsOptions.java\nindex f2cfe6d1705..622f370f042 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/options/IndexDocumentsOptions.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/models/IndexDocumentsOptions.java\n\n@@ -1,7 +1,7 @@\n // Copyright (c) Microsoft Corporation. All rights reserved.\n // Licensed under the MIT License.\n \n-package com.azure.search.documents.options;\n+package com.azure.search.documents.models;\n \n import com.azure.core.annotation.Fluent;\n \n"}}, {"oid": "4d41420d299e7c8cf27c31b963d3060849f5b571", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4d41420d299e7c8cf27c31b963d3060849f5b571", "message": "Update IndexDocumentsOptions to default throwOnAnyError to true", "committedDate": "2020-06-25T17:59:12Z", "type": "commit"}]}