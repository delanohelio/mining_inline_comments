{"pr_number": 8557, "pr_title": "api reviews addressed", "pr_createdAt": "2020-02-28T02:10:57Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/8557", "timeline": [{"oid": "c02ad7edfddfa12473890e11a66b92a3ad4b0613", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c02ad7edfddfa12473890e11a66b92a3ad4b0613", "message": "address comments so far", "committedDate": "2020-02-27T23:31:29Z", "type": "commit"}, {"oid": "215b61fccaa3f0823d4cfa5aff751bc223ab2e54", "url": "https://github.com/Azure/azure-sdk-for-java/commit/215b61fccaa3f0823d4cfa5aff751bc223ab2e54", "message": "review comments", "committedDate": "2020-02-28T00:26:21Z", "type": "commit"}, {"oid": "e7c02f7022d752d38244f5956292ded158b2b927", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e7c02f7022d752d38244f5956292ded158b2b927", "message": "addressed code review", "committedDate": "2020-02-28T00:28:38Z", "type": "commit"}, {"oid": "2972201bce3b9c07eea71ce3717ed37f0d500b50", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2972201bce3b9c07eea71ce3717ed37f0d500b50", "message": "addressed api reviews", "committedDate": "2020-02-28T00:38:45Z", "type": "commit"}, {"oid": "242923bd616d4734e4ceb7d8b949a9f20d448fdd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/242923bd616d4734e4ceb7d8b949a9f20d448fdd", "message": "retryOptions -> throttlingRetryOptions", "committedDate": "2020-02-28T00:40:51Z", "type": "commit"}, {"oid": "c1a6f72483f0174668d0c981f21f25f09535bd4d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c1a6f72483f0174668d0c981f21f25f09535bd4d", "message": "tokenResolver renamed as per api review comments", "committedDate": "2020-02-28T00:44:47Z", "type": "commit"}, {"oid": "df4d89801d774e3a216df9b547908475244142d0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/df4d89801d774e3a216df9b547908475244142d0", "message": "Merge branch 'master' into users/moderakh/trival-api-reviews-addressed", "committedDate": "2020-02-28T04:41:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU1OTc4NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385559785", "bodyText": "Indenttaion", "author": "kirankumarkolli", "createdAt": "2020-02-28T08:17:37Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/AsyncDocumentClient.java", "diffHunk": "@@ -195,7 +196,7 @@ public AsyncDocumentClient build() {\n                                                                    connectionPolicy,\n                                                                    desiredConsistencyLevel,\n                                                                    configs,\n-                                                                   tokenResolver,\n+                cosmosAuthorizationTokenResolver,", "originalCommit": "df4d89801d774e3a216df9b547908475244142d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTgwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385561808", "bodyText": "will fix. thanks. result of intellji auto rename.", "author": "moderakh", "createdAt": "2020-02-28T08:23:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU1OTc4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU4NDkzMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385584933", "bodyText": "addressed.", "author": "moderakh", "createdAt": "2020-02-28T09:18:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU1OTc4NQ=="}], "type": "inlineReview", "revised_code": {"commit": "6aa98a5519b9c5618f8c59b1e9d2533231f854e2", "chunk": "diff --git a/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/AsyncDocumentClient.java b/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/AsyncDocumentClient.java\nindex a6cc99faa48..99a6f39da26 100644\n--- a/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/AsyncDocumentClient.java\n+++ b/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/AsyncDocumentClient.java\n\n@@ -196,7 +196,7 @@ public interface AsyncDocumentClient {\n                                                                    connectionPolicy,\n                                                                    desiredConsistencyLevel,\n                                                                    configs,\n-                cosmosAuthorizationTokenResolver,\n+                                                                   cosmosAuthorizationTokenResolver,\n                                                                    cosmosKeyCredential,\n                                                                    sessionCapturingOverride,\n                                                                    transportClientSharing);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MDE2Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385560163", "bodyText": "undo?", "author": "kirankumarkolli", "createdAt": "2020-02-28T08:18:41Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentServiceResponse.java", "diffHunk": "@@ -3,6 +3,7 @@\n \n package com.azure.cosmos.implementation;\n \n+import com.azure.cosmos.Permission;", "originalCommit": "df4d89801d774e3a216df9b547908475244142d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTIyNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385561226", "bodyText": "this is required. as permission is moved from one package to another and hence not accessible in the old package.", "author": "moderakh", "createdAt": "2020-02-28T08:21:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MDE2Mw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MDU5Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385560593", "bodyText": "Isn't it supposed to be  getUniqueKeys?", "author": "kirankumarkolli", "createdAt": "2020-02-28T08:19:49Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/UniqueKeyPolicy.java", "diffHunk": "@@ -34,7 +34,7 @@ public UniqueKeyPolicy() {\n      *\n      * @return the unique keys.\n      */\n-    public Collection<UniqueKey> uniqueKeys() {\n+    public List<UniqueKey> setUniqueKeys() {", "originalCommit": "df4d89801d774e3a216df9b547908475244142d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTM3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385561378", "bodyText": "correct. intelliji refactoring messed up. thanks for catching will fix.", "author": "moderakh", "createdAt": "2020-02-28T08:21:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MDU5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU4NTAwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385585002", "bodyText": "addressed.", "author": "moderakh", "createdAt": "2020-02-28T09:18:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MDU5Mw=="}], "type": "inlineReview", "revised_code": {"commit": "6aa98a5519b9c5618f8c59b1e9d2533231f854e2", "chunk": "diff --git a/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/UniqueKeyPolicy.java b/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/UniqueKeyPolicy.java\nindex 38466bb219c..f0793c26712 100644\n--- a/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/UniqueKeyPolicy.java\n+++ b/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/UniqueKeyPolicy.java\n\n@@ -34,7 +34,7 @@ public class UniqueKeyPolicy extends JsonSerializable {\n      *\n      * @return the unique keys.\n      */\n-    public List<UniqueKey> setUniqueKeys() {\n+    public List<UniqueKey> getUniqueKeys() {\n         if (this.uniqueKeys == null) {\n             this.uniqueKeys = super.getList(Constants.Properties.UNIQUE_KEYS, UniqueKey.class);\n             if (this.uniqueKeys == null) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTQyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385561425", "bodyText": "Is it a first class API (in public namespace)? Or will it be internal for now and later we will revisit on how to make it first class?", "author": "kirankumarkolli", "createdAt": "2020-02-28T08:22:01Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/ItemOperations.java", "diffHunk": "@@ -11,7 +11,7 @@\n /**\n  * Note: although this class is public it is not part of our public API and may change in future.\n  */\n-public class ItemOperations {\n+final public class ItemOperations {", "originalCommit": "df4d89801d774e3a216df9b547908475244142d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTczMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385561730", "bodyText": "we will move it to implementation package.", "author": "moderakh", "createdAt": "2020-02-28T08:22:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTQyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU4NTA4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8557#discussion_r385585088", "bodyText": "moved to implementation.", "author": "moderakh", "createdAt": "2020-02-28T09:18:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTQyNQ=="}], "type": "inlineReview", "revised_code": {"commit": "6aa98a5519b9c5618f8c59b1e9d2533231f854e2", "chunk": "diff --git a/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/ItemOperations.java b/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/ItemOperations.java\nsimilarity index 71%\nrename from sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/ItemOperations.java\nrename to sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/ItemOperations.java\nindex e3566f8dc65..17b47a16c7d 100644\n--- a/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/ItemOperations.java\n+++ b/sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/ItemOperations.java\n\n@@ -1,20 +1,24 @@\n // Copyright (c) Microsoft Corporation. All rights reserved.\n // Licensed under the MIT License.\n \n-package com.azure.cosmos;\n+package com.azure.cosmos.implementation;\n \n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.CosmosAsyncContainer;\n+import com.azure.cosmos.CosmosBridgeInternal;\n+import com.azure.cosmos.CosmosContainer;\n+import com.azure.cosmos.FeedOptions;\n+import com.azure.cosmos.FeedResponse;\n+import com.azure.cosmos.PartitionKey;\n import org.apache.commons.lang3.tuple.Pair;\n import reactor.core.publisher.Mono;\n \n import java.util.List;\n \n-/**\n- * Note: although this class is public it is not part of our public API and may change in future.\n- */\n final public class ItemOperations {\n \n     /**\n-     * Note: although this method is public, it is not part of public API and may change in future.\n+     * Note: although this method is public, this API may change in future.\n      * <p>\n      * Reads many documents.\n      *\n"}}, {"oid": "6aa98a5519b9c5618f8c59b1e9d2533231f854e2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6aa98a5519b9c5618f8c59b1e9d2533231f854e2", "message": "addressed code review comments", "committedDate": "2020-02-28T08:43:09Z", "type": "commit"}]}