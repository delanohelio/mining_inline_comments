{"pr_number": 8116, "pr_title": "Address service team's feedback on samples", "pr_createdAt": "2020-02-11T23:32:25Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/8116", "timeline": [{"oid": "8052688da8116c921e468704d48bfc6e18ea3b3c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8052688da8116c921e468704d48bfc6e18ea3b3c", "message": "change netty dependency version", "committedDate": "2020-02-11T23:30:14Z", "type": "commit"}, {"oid": "88cb5d535919e3f6849e4652be4cebf3fb42efa1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/88cb5d535919e3f6849e4652be4cebf3fb42efa1", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java into TA-netty-core-dependency-changes", "committedDate": "2020-02-12T01:17:54Z", "type": "commit"}, {"oid": "8cd789720f92475e8c7b53974c22928712a862b4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8cd789720f92475e8c7b53974c22928712a862b4", "message": "update type", "committedDate": "2020-02-12T01:41:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwODc3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8116#discussion_r378008779", "bodyText": "Revert the keys and endpoint information from here", "author": "samvaity", "createdAt": "2020-02-12T02:22:35Z", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/AnalyzeSentimentBatchDocuments.java", "diffHunk": "@@ -30,11 +30,11 @@\n     public static void main(String[] args) {\n         // Instantiate a client that will be used to call the service.\n         TextAnalyticsClient client = new TextAnalyticsClientBuilder()\n-            .apiKey(new TextAnalyticsApiKeyCredential(\"{api_key}\"))\n-            .endpoint(\"{endpoint}\")\n+            .apiKey(new TextAnalyticsApiKeyCredential(\"b2f8b7b697c348dcb0e30055d49f3d0f\"))", "originalCommit": "8cd789720f92475e8c7b53974c22928712a862b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAxMjY1Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8116#discussion_r378012653", "bodyText": "Yup. Found this when reviewed. Thanks for pointing this out", "author": "mssfang", "createdAt": "2020-02-12T02:39:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwODc3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAxOTkwMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8116#discussion_r378019901", "bodyText": "we need to rotate that key too", "author": "maririos", "createdAt": "2020-02-12T03:10:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwODc3OQ=="}], "type": "inlineReview", "revised_code": {"commit": "9e3ccfb7cfc215c3453721c6953593067cc13798", "chunk": "diff --git a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/AnalyzeSentimentBatchDocuments.java b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/AnalyzeSentimentBatchDocuments.java\nindex f1fb7b752b5..0f8d7706266 100644\n--- a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/AnalyzeSentimentBatchDocuments.java\n+++ b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/AnalyzeSentimentBatchDocuments.java\n\n@@ -30,8 +30,8 @@ public class AnalyzeSentimentBatchDocuments {\n     public static void main(String[] args) {\n         // Instantiate a client that will be used to call the service.\n         TextAnalyticsClient client = new TextAnalyticsClientBuilder()\n-            .apiKey(new TextAnalyticsApiKeyCredential(\"b2f8b7b697c348dcb0e30055d49f3d0f\"))\n-            .endpoint(\"https://javatextanalyticstestresources.cognitiveservices.azure.com/\")\n+            .apiKey(new TextAnalyticsApiKeyCredential(\"{api_key}\"))\n+            .endpoint(\"{endpoint}\")\n             .buildClient();\n \n         // The texts that need be analyzed.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwOTIzOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8116#discussion_r378009238", "bodyText": "The text that needs to be analyzed.", "author": "samvaity", "createdAt": "2020-02-12T02:24:29Z", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiAsync.java", "diffHunk": "@@ -24,12 +24,12 @@ public static void main(String[] args) {\n             .endpoint(\"{endpoint}\")\n             .buildAsyncClient();\n \n-        // The text that need be analysed.\n+        // The text that need be analyzed.", "originalCommit": "8cd789720f92475e8c7b53974c22928712a862b4", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2148d894c65e5e587ffdae20e3793ca684d4689e", "chunk": "diff --git a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiAsync.java b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiAsync.java\nindex ac73a3e5351..7686c05f43c 100644\n--- a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiAsync.java\n+++ b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiAsync.java\n\n@@ -24,7 +24,7 @@ public class RecognizePiiAsync {\n             .endpoint(\"{endpoint}\")\n             .buildAsyncClient();\n \n-        // The text that need be analyzed.\n+        // The text that needs be analyzed.\n         String text = \"My SSN is 555-55-5555\";\n \n         client.recognizePiiEntities(text).subscribe(\n"}}, {"oid": "9e3ccfb7cfc215c3453721c6953593067cc13798", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9e3ccfb7cfc215c3453721c6953593067cc13798", "message": "fixed another two issues", "committedDate": "2020-02-12T02:36:14Z", "type": "commit"}, {"oid": "2148d894c65e5e587ffdae20e3793ca684d4689e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2148d894c65e5e587ffdae20e3793ca684d4689e", "message": "wording", "committedDate": "2020-02-12T02:41:53Z", "type": "commit"}, {"oid": "db1cf9fefb29f1c02ee4fb5fd83fcd6a5ce31da3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/db1cf9fefb29f1c02ee4fb5fd83fcd6a5ce31da3", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java into TA-netty-core-dependency-changes", "committedDate": "2020-02-12T02:43:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODA4MTE4NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8116#discussion_r378081184", "bodyText": "We can consider removing these from the example. It makes the example look very lengthy.", "author": "samvaity", "createdAt": "2020-02-12T07:38:41Z", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java", "diffHunk": "@@ -108,8 +109,19 @@ public void recognizePiiEntity() {\n     public void recognizeLinkedEntity() {\n         String text = \"Old Faithful is a geyser at Yellowstone Park.\";\n         for (LinkedEntity linkedEntity : textAnalyticsClient.recognizeLinkedEntities(text)) {\n-            System.out.printf(\"Recognized linked entity: %s, url: %s, data source: %s.%n\",\n-                linkedEntity.getName(), linkedEntity.getUrl(), linkedEntity.getDataSource());\n+            System.out.println(\"Linked Entities:\");\n+            System.out.printf(\"Name: %s, ID: %s, URL: %s, data source: %s.%n\",\n+                linkedEntity.getName(),\n+                linkedEntity.getId(),\n+                linkedEntity.getUrl(),\n+                linkedEntity.getDataSource());\n+            for (LinkedEntityMatch linkedEntityMatch : linkedEntity.getLinkedEntityMatches()) {\n+                System.out.printf(\"Text: %s, offset: %s, length: %s, score: %.2f.%n\",\n+                    linkedEntityMatch.getText(),\n+                    linkedEntityMatch.getOffset(),", "originalCommit": "db1cf9fefb29f1c02ee4fb5fd83fcd6a5ce31da3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "63025316366e86cb878f1c36feba64a1acc00811", "chunk": "diff --git a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java\nindex 712267f9f35..7d0233f56a6 100644\n--- a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java\n+++ b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java\n\n@@ -111,16 +111,10 @@ public class ReadmeSamples {\n         for (LinkedEntity linkedEntity : textAnalyticsClient.recognizeLinkedEntities(text)) {\n             System.out.println(\"Linked Entities:\");\n             System.out.printf(\"Name: %s, ID: %s, URL: %s, data source: %s.%n\",\n-                linkedEntity.getName(),\n-                linkedEntity.getId(),\n-                linkedEntity.getUrl(),\n-                linkedEntity.getDataSource());\n+                linkedEntity.getName(), linkedEntity.getId(), linkedEntity.getUrl(), linkedEntity.getDataSource());\n             for (LinkedEntityMatch linkedEntityMatch : linkedEntity.getLinkedEntityMatches()) {\n-                System.out.printf(\"Text: %s, offset: %s, length: %s, score: %.2f.%n\",\n-                    linkedEntityMatch.getText(),\n-                    linkedEntityMatch.getOffset(),\n-                    linkedEntityMatch.getLength(),\n-                    linkedEntityMatch.getScore());\n+                System.out.printf(\"Text: %s, offset: %s, length: %s, score: %.2f.%n\", linkedEntityMatch.getText(),\n+                    linkedEntityMatch.getOffset(), linkedEntityMatch.getLength(), linkedEntityMatch.getScore());\n             }\n         }\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODA4MTY3Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8116#discussion_r378081672", "bodyText": "nit: Extracted phrases, may be to match what with the rest.", "author": "samvaity", "createdAt": "2020-02-12T07:40:09Z", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RotateApiKeyAsync.java", "diffHunk": "@@ -35,8 +35,9 @@ public static void main(String[] args) {\n         // Update the API key\n         credential.updateCredential(\"{valid_api_key}\");\n \n+        System.out.println(\"Recognized phrases:\");", "originalCommit": "db1cf9fefb29f1c02ee4fb5fd83fcd6a5ce31da3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "63025316366e86cb878f1c36feba64a1acc00811", "chunk": "diff --git a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RotateApiKeyAsync.java b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RotateApiKeyAsync.java\nindex dd5af000a28..810ef335013 100644\n--- a/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RotateApiKeyAsync.java\n+++ b/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RotateApiKeyAsync.java\n\n@@ -27,15 +27,16 @@ public class RotateApiKeyAsync {\n         // The text that needs be analyzed.\n         String text = \"My cat might need to see a veterinarian.\";\n \n+        System.out.println(\"Extracted phrases:\");\n         client.extractKeyPhrases(text).subscribe(\n-            keyPhrase -> System.out.printf(\"Recognized phrases: %s.%n\", keyPhrase),\n+            keyPhrase -> System.out.printf(\"%s.%n\", keyPhrase),\n             error -> System.err.println(\"There was an error extracting key phrases of the text.\" + error),\n             () -> System.out.println(\"Key phrases extracted.\"));\n \n         // Update the API key\n         credential.updateCredential(\"{valid_api_key}\");\n \n-        System.out.println(\"Recognized phrases:\");\n+        System.out.println(\"Extracted phrases:\");\n         client.extractKeyPhrases(text).subscribe(\n             keyPhrase -> System.out.printf(\"%s.%n\", keyPhrase),\n             error -> System.err.println(\"There was an error extracting key phrases of the text.\" + error),\n"}}, {"oid": "63025316366e86cb878f1c36feba64a1acc00811", "url": "https://github.com/Azure/azure-sdk-for-java/commit/63025316366e86cb878f1c36feba64a1acc00811", "message": "addres more feedbacks", "committedDate": "2020-02-12T17:40:53Z", "type": "commit"}]}