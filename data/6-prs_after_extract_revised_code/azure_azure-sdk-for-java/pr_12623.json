{"pr_number": 12623, "pr_title": "JavaDoc code snippets update for all builders and sync Clients", "pr_createdAt": "2020-06-29T21:12:33Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12623", "timeline": [{"oid": "30ce7a8df38cc39b05d1f972518898ee81d42135", "url": "https://github.com/Azure/azure-sdk-for-java/commit/30ce7a8df38cc39b05d1f972518898ee81d42135", "message": "Added code snippets to builders", "committedDate": "2020-06-29T21:43:27Z", "type": "commit"}, {"oid": "30ce7a8df38cc39b05d1f972518898ee81d42135", "url": "https://github.com/Azure/azure-sdk-for-java/commit/30ce7a8df38cc39b05d1f972518898ee81d42135", "message": "Added code snippets to builders", "committedDate": "2020-06-29T21:43:27Z", "type": "forcePushed"}, {"oid": "03fb89ff4088d39ad6828b00bcfa9fb5d4492c3b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/03fb89ff4088d39ad6828b00bcfa9fb5d4492c3b", "message": "Get sort of the documents", "committedDate": "2020-06-29T21:46:12Z", "type": "commit"}, {"oid": "8272928363991c441b250a9e940565945084f303", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8272928363991c441b250a9e940565945084f303", "message": "Added more tests", "committedDate": "2020-06-29T21:47:11Z", "type": "commit"}, {"oid": "22e6815af6dd13e7cff3cf120978dd6a77a81426", "url": "https://github.com/Azure/azure-sdk-for-java/commit/22e6815af6dd13e7cff3cf120978dd6a77a81426", "message": "more fix", "committedDate": "2020-06-29T21:59:20Z", "type": "commit"}, {"oid": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "message": "Fixed linting", "committedDate": "2020-06-29T22:14:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTUxNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447305516", "bodyText": "Does the pipeline actually give an authenticated way to communicate with the service? A properly configured pipeline would but a pipeline doesn't guarantee that.", "author": "alzimmermsft", "createdAt": "2020-06-29T22:56:45Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java", "diffHunk": "@@ -37,12 +37,30 @@\n  * buildClient} and {@link #buildAsyncClient() buildAsyncClient} respectively to construct an instance of the desired\n  * client.\n  * <p>\n- * The following information must be provided to successfully create a client.\n- * <ul>\n- *     <li>{@link #endpoint(String)}</li>\n- *     <li>{@link #indexName(String)}</li>\n- *     <li>{@link #credential(AzureKeyCredential)} or {@link #pipeline(HttpPipeline)}</li>\n- * </ul>\n+ * The client needs the service endpoint of the Azure Cognitive Search to access the resource service.\n+ * {@link #credential(AzureKeyCredential)} gives the builder access credential.\n+ * </p>\n+ *\n+ * <p><strong>Instantiating an asynchronous Search Client</strong></p>\n+ *\n+ * {@codesnippet com.azure.search.documents.SearchAsyncClient.instantiation}\n+ *\n+ * <p><strong>Instantiating a synchronous Search Client</strong></p>\n+ *\n+ * {@codesnippet com.azure.search.documents.SearchClient.instantiation}\n+ *\n+ * <p>\n+ * Another way to construct the client is using a {@link HttpPipeline}. The pipeline gives the client an\n+ * authenticated way to communicate with the service. Set the pipeline with {@link #pipeline(HttpPipeline) this} and", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxNTYyMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447315622", "bodyText": "This is all across SDKs (appconfiguration, formrecognizer). Might be good to show how to use auth policy in pipeline.", "author": "sima-zhu", "createdAt": "2020-06-29T23:27:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTUxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyMzQ2OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447323468", "bodyText": "After a second thought, it seems redundant to show users how to use pipeline in builder as it is parallel to other APIs.", "author": "sima-zhu", "createdAt": "2020-06-29T23:50:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTUxNg=="}], "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\nindex 4ed0db1fcae..d61ab65fa74 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\n\n@@ -49,16 +49,6 @@ import java.util.Objects;\n  *\n  * {@codesnippet com.azure.search.documents.SearchClient.instantiation}\n  *\n- * <p>\n- * Another way to construct the client is using a {@link HttpPipeline}. The pipeline gives the client an\n- * authenticated way to communicate with the service. Set the pipeline with {@link #pipeline(HttpPipeline) this} and\n- * set the service endpoint with {@link #endpoint(String) this}. Using a\n- * pipeline requires additional setup but allows for finer control on how the {@link SearchClient} and\n- * {@link SearchAsyncClient} is built.\n- * </p>\n- *\n- * {@codesnippet com.azure.search.documents.SearchClient.pipeline.instantiation}\n- *\n  * @see SearchClient\n  * @see SearchAsyncClient\n  */\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTg0Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447305846", "bodyText": "Before we were stating all the required configuration here, now we are sort of alluding to it. Should we make this more explicit on what is needed?", "author": "alzimmermsft", "createdAt": "2020-06-29T22:57:39Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java", "diffHunk": "@@ -37,12 +37,30 @@\n  * buildClient} and {@link #buildAsyncClient() buildAsyncClient} respectively to construct an instance of the desired\n  * client.\n  * <p>\n- * The following information must be provided to successfully create a client.\n- * <ul>\n- *     <li>{@link #endpoint(String)}</li>\n- *     <li>{@link #indexName(String)}</li>\n- *     <li>{@link #credential(AzureKeyCredential)} or {@link #pipeline(HttpPipeline)}</li>\n- * </ul>\n+ * The client needs the service endpoint of the Azure Cognitive Search to access the resource service.\n+ * {@link #credential(AzureKeyCredential)} gives the builder access credential.", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxOTAwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447319002", "bodyText": "Do you mean to list all API here? Is it too many info?\nUsers are able to check what APIs are available, right? I think we just list what APIs are required to make it work quickly.", "author": "sima-zhu", "createdAt": "2020-06-29T23:37:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg3OTU2Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447879566", "bodyText": "I was just think to state more explicitly that an endpoint, index, and credential are required. This is just missing the bit about needing an index.", "author": "alzimmermsft", "createdAt": "2020-06-30T18:03:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg4MTk2MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447881961", "bodyText": "Will do.", "author": "sima-zhu", "createdAt": "2020-06-30T18:07:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNTg0Ng=="}], "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\nindex 4ed0db1fcae..d61ab65fa74 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\n\n@@ -49,16 +49,6 @@ import java.util.Objects;\n  *\n  * {@codesnippet com.azure.search.documents.SearchClient.instantiation}\n  *\n- * <p>\n- * Another way to construct the client is using a {@link HttpPipeline}. The pipeline gives the client an\n- * authenticated way to communicate with the service. Set the pipeline with {@link #pipeline(HttpPipeline) this} and\n- * set the service endpoint with {@link #endpoint(String) this}. Using a\n- * pipeline requires additional setup but allows for finer control on how the {@link SearchClient} and\n- * {@link SearchAsyncClient} is built.\n- * </p>\n- *\n- * {@codesnippet com.azure.search.documents.SearchClient.pipeline.instantiation}\n- *\n  * @see SearchClient\n  * @see SearchAsyncClient\n  */\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNjE3Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447306172", "bodyText": "Comments in this class apply to the other builders as well.", "author": "alzimmermsft", "createdAt": "2020-06-29T22:58:29Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java", "diffHunk": "@@ -37,12 +37,30 @@\n  * buildClient} and {@link #buildAsyncClient() buildAsyncClient} respectively to construct an instance of the desired\n  * client.\n  * <p>\n- * The following information must be provided to successfully create a client.\n- * <ul>\n- *     <li>{@link #endpoint(String)}</li>\n- *     <li>{@link #indexName(String)}</li>\n- *     <li>{@link #credential(AzureKeyCredential)} or {@link #pipeline(HttpPipeline)}</li>\n- * </ul>\n+ * The client needs the service endpoint of the Azure Cognitive Search to access the resource service.\n+ * {@link #credential(AzureKeyCredential)} gives the builder access credential.\n+ * </p>\n+ *\n+ * <p><strong>Instantiating an asynchronous Search Client</strong></p>\n+ *\n+ * {@codesnippet com.azure.search.documents.SearchAsyncClient.instantiation}\n+ *\n+ * <p><strong>Instantiating a synchronous Search Client</strong></p>\n+ *\n+ * {@codesnippet com.azure.search.documents.SearchClient.instantiation}\n+ *\n+ * <p>\n+ * Another way to construct the client is using a {@link HttpPipeline}. The pipeline gives the client an\n+ * authenticated way to communicate with the service. Set the pipeline with {@link #pipeline(HttpPipeline) this} and\n+ * set the service endpoint with {@link #endpoint(String) this}. Using a\n+ * pipeline requires additional setup but allows for finer control on how the {@link SearchClient} and\n+ * {@link SearchAsyncClient} is built.\n+ * </p>\n+ *\n+ * {@codesnippet com.azure.search.documents.SearchClient.pipeline.instantiation}", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\nindex 4ed0db1fcae..d61ab65fa74 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchClientBuilder.java\n\n@@ -49,16 +49,6 @@ import java.util.Objects;\n  *\n  * {@codesnippet com.azure.search.documents.SearchClient.instantiation}\n  *\n- * <p>\n- * Another way to construct the client is using a {@link HttpPipeline}. The pipeline gives the client an\n- * authenticated way to communicate with the service. Set the pipeline with {@link #pipeline(HttpPipeline) this} and\n- * set the service endpoint with {@link #endpoint(String) this}. Using a\n- * pipeline requires additional setup but allows for finer control on how the {@link SearchClient} and\n- * {@link SearchAsyncClient} is built.\n- * </p>\n- *\n- * {@codesnippet com.azure.search.documents.SearchClient.pipeline.instantiation}\n- *\n  * @see SearchClient\n  * @see SearchAsyncClient\n  */\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNjM3Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447306377", "bodyText": "Is this needed?", "author": "alzimmermsft", "createdAt": "2020-06-29T22:59:08Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+\n+public class SearchAsyncClientJavaDocCodeSnippets {\n+    private SearchAsyncClient searchAsyncClient = new SearchClientBuilder().buildAsyncClient();", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwOTA3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447309075", "bodyText": "It is needed for other API code snippets.", "author": "sima-zhu", "createdAt": "2020-06-29T23:07:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNjM3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java\nindex 26212f4a4e6..6de21bfa1b3 100644\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java\n+++ b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java\n\n@@ -16,6 +16,7 @@ public class SearchAsyncClientJavaDocCodeSnippets {\n         SearchAsyncClient searchAsyncClient = new SearchClientBuilder()\n             .credential(new AzureKeyCredential(\"{key}\"))\n             .endpoint(\"{endpoint}\")\n+            .indexName(\"{indexName}\")\n             .buildAsyncClient();\n         // END: com.azure.search.documents.SearchAsyncClient.instantiation\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNjQ2Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447306462", "bodyText": "Doesn't the SearchClient need an indexName?", "author": "alzimmermsft", "createdAt": "2020-06-29T22:59:25Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+\n+public class SearchAsyncClientJavaDocCodeSnippets {\n+    private SearchAsyncClient searchAsyncClient = new SearchClientBuilder().buildAsyncClient();\n+\n+    /**\n+     * Code snippet for creating a {@link SearchAsyncClient}.\n+     */\n+    public void createSearchAsyncClientFromBuilder() {\n+        // BEGIN: com.azure.search.documents.SearchAsyncClient.instantiation\n+        SearchAsyncClient searchAsyncClient = new SearchClientBuilder()\n+            .credential(new AzureKeyCredential(\"{key}\"))\n+            .endpoint(\"{endpoint}\")", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java\nindex 26212f4a4e6..6de21bfa1b3 100644\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java\n+++ b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchAsyncClientJavaDocCodeSnippets.java\n\n@@ -16,6 +16,7 @@ public class SearchAsyncClientJavaDocCodeSnippets {\n         SearchAsyncClient searchAsyncClient = new SearchClientBuilder()\n             .credential(new AzureKeyCredential(\"{key}\"))\n             .endpoint(\"{endpoint}\")\n+            .indexName(\"{indexName}\")\n             .buildAsyncClient();\n         // END: com.azure.search.documents.SearchAsyncClient.instantiation\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNjk4Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447306983", "bodyText": "Should this be SeachClientBuilderJavaDocCodeSnippets?", "author": "alzimmermsft", "createdAt": "2020-06-29T23:00:51Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,41 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+\n+public class SearchClientJavaDocCodeSnippets {", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwOTM3Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447309377", "bodyText": "This is first part of the code snippet. I am planning to put SearchClient API code snippets in the same file.", "author": "sima-zhu", "createdAt": "2020-06-29T23:08:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNjk4Mw=="}], "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\nindex 6d9464731a5..897194c4835 100644\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n+++ b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n\n@@ -4,8 +4,6 @@\n package com.azure.search.documents;\n \n import com.azure.core.credential.AzureKeyCredential;\n-import com.azure.core.http.HttpPipeline;\n-import com.azure.core.http.HttpPipelineBuilder;\n \n public class SearchClientJavaDocCodeSnippets {\n     private SearchClient searchClient = new SearchClientBuilder().buildClient();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNzAyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447307024", "bodyText": "Is this needed?", "author": "alzimmermsft", "createdAt": "2020-06-29T23:01:00Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,41 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+\n+public class SearchClientJavaDocCodeSnippets {\n+    private SearchClient searchClient = new SearchClientBuilder().buildClient();", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxOTE1Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447319157", "bodyText": "Same", "author": "sima-zhu", "createdAt": "2020-06-29T23:37:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNzAyNA=="}], "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\nindex 6d9464731a5..897194c4835 100644\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n+++ b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n\n@@ -4,8 +4,6 @@\n package com.azure.search.documents;\n \n import com.azure.core.credential.AzureKeyCredential;\n-import com.azure.core.http.HttpPipeline;\n-import com.azure.core.http.HttpPipelineBuilder;\n \n public class SearchClientJavaDocCodeSnippets {\n     private SearchClient searchClient = new SearchClientBuilder().buildClient();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNzM2NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447307364", "bodyText": "Should we show this adding the credential policy? When using an HttpPipeline in the builder we don't add the credential information into the pipeline.", "author": "alzimmermsft", "createdAt": "2020-06-29T23:02:06Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,41 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+\n+public class SearchClientJavaDocCodeSnippets {\n+    private SearchClient searchClient = new SearchClientBuilder().buildClient();\n+\n+    /**\n+     * Code snippet for creating a {@link SearchClient}.\n+     */\n+    public void createSearchClientFromBuilder() {\n+        // BEGIN: com.azure.search.documents.SearchClient.instantiation\n+        SearchClient searchClient = new SearchClientBuilder()\n+            .credential(new AzureKeyCredential(\"{key}\"))\n+            .endpoint(\"{endpoint}\")\n+            .buildClient();\n+        // END: com.azure.search.documents.SearchClient.instantiation\n+    }\n+\n+    /**\n+     * Code snippet for creating a {@link SearchClient} with pipeline.\n+     */\n+    public void createSearchClientWithPipeline() {\n+        // BEGIN: com.azure.search.documents.SearchClient.pipeline.instantiation\n+        HttpPipeline pipeline = new HttpPipelineBuilder()\n+            .policies(/* add policies */)", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\nindex 6d9464731a5..897194c4835 100644\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n+++ b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n\n@@ -4,8 +4,6 @@\n package com.azure.search.documents;\n \n import com.azure.core.credential.AzureKeyCredential;\n-import com.azure.core.http.HttpPipeline;\n-import com.azure.core.http.HttpPipelineBuilder;\n \n public class SearchClientJavaDocCodeSnippets {\n     private SearchClient searchClient = new SearchClientBuilder().buildClient();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMwNzUwNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447307504", "bodyText": "credential isn't required, or used, when setting pipeline in the builder.", "author": "alzimmermsft", "createdAt": "2020-06-29T23:02:32Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,41 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+\n+public class SearchClientJavaDocCodeSnippets {\n+    private SearchClient searchClient = new SearchClientBuilder().buildClient();\n+\n+    /**\n+     * Code snippet for creating a {@link SearchClient}.\n+     */\n+    public void createSearchClientFromBuilder() {\n+        // BEGIN: com.azure.search.documents.SearchClient.instantiation\n+        SearchClient searchClient = new SearchClientBuilder()\n+            .credential(new AzureKeyCredential(\"{key}\"))\n+            .endpoint(\"{endpoint}\")\n+            .buildClient();\n+        // END: com.azure.search.documents.SearchClient.instantiation\n+    }\n+\n+    /**\n+     * Code snippet for creating a {@link SearchClient} with pipeline.\n+     */\n+    public void createSearchClientWithPipeline() {\n+        // BEGIN: com.azure.search.documents.SearchClient.pipeline.instantiation\n+        HttpPipeline pipeline = new HttpPipelineBuilder()\n+            .policies(/* add policies */)\n+            .build();\n+\n+        SearchClient searchClient = new SearchClientBuilder()\n+            .credential(new AzureKeyCredential(\"{key}\"))", "originalCommit": "680cfb6a3684a07671b1d694fe1f9bcfa336b2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\nindex 6d9464731a5..897194c4835 100644\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n+++ b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/SearchClientJavaDocCodeSnippets.java\n\n@@ -4,8 +4,6 @@\n package com.azure.search.documents;\n \n import com.azure.core.credential.AzureKeyCredential;\n-import com.azure.core.http.HttpPipeline;\n-import com.azure.core.http.HttpPipelineBuilder;\n \n public class SearchClientJavaDocCodeSnippets {\n     private SearchClient searchClient = new SearchClientBuilder().buildClient();\n"}}, {"oid": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8a8c0ef1c7026658e8fb060361804c3f72e820ed", "message": "Remove pipeline statement from builder code snippets", "committedDate": "2020-06-29T23:53:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzkwODA5Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447908097", "bodyText": "One thing I have noticed is that our src/samples directory containing a lot of *JavaDocCodeSnippets files making it very hard for the user to find real samples in the directory. Should we consolidate all javadoc codesnippets into a single Java file? This is mostly used by us and putting them all together might not be too bad.\nThis allows all the real sample java files to be easily discoverable for the user with just 1 java file for codesnippets that they can ignore.\nAnother option is to have a separate directory src/codesnippets.\nThoughts?", "author": "srnagar", "createdAt": "2020-06-30T18:52:52Z", "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/indexes/SearchIndexerAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.", "originalCommit": "8a8c0ef1c7026658e8fb060361804c3f72e820ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk4MTAxMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12623#discussion_r447981013", "bodyText": "Proceed with put all in one file.", "author": "sima-zhu", "createdAt": "2020-06-30T21:10:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzkwODA5Nw=="}], "type": "inlineReview", "revised_code": {"commit": "21e5e02c633550a2f776ef19bb7caa8bedfcaa78", "chunk": "diff --git a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/indexes/SearchIndexerAsyncClientJavaDocCodeSnippets.java b/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/indexes/SearchIndexerAsyncClientJavaDocCodeSnippets.java\ndeleted file mode 100644\nindex 1e8f1452a29..00000000000\n--- a/sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/indexes/SearchIndexerAsyncClientJavaDocCodeSnippets.java\n+++ /dev/null\n\n@@ -1,22 +0,0 @@\n-// Copyright (c) Microsoft Corporation. All rights reserved.\n-// Licensed under the MIT License.\n-\n-package com.azure.search.documents.indexes;\n-\n-import com.azure.core.credential.AzureKeyCredential;\n-\n-public class SearchIndexerAsyncClientJavaDocCodeSnippets {\n-    private SearchIndexerAsyncClient searchIndexerAsyncClient = new SearchIndexerClientBuilder().buildAsyncClient();\n-\n-    /**\n-     * Code snippet for creating a {@link SearchIndexerAsyncClient}.\n-     */\n-    public void createSearchIndexerAsyncClientFromBuilder() {\n-        // BEGIN: com.azure.search.documents.SearchIndexerAsyncClient.instantiation\n-        SearchIndexerAsyncClient searchIndexerAsyncClient = new SearchIndexerClientBuilder()\n-            .credential(new AzureKeyCredential(\"{key}\"))\n-            .endpoint(\"{endpoint}\")\n-            .buildAsyncClient();\n-        // END: com.azure.search.documents.SearchIndexerAsyncClient.instantiation\n-    }\n-}\n"}}, {"oid": "21e5e02c633550a2f776ef19bb7caa8bedfcaa78", "url": "https://github.com/Azure/azure-sdk-for-java/commit/21e5e02c633550a2f776ef19bb7caa8bedfcaa78", "message": "Addressed comments and adding more readmes", "committedDate": "2020-06-30T20:54:15Z", "type": "commit"}, {"oid": "4b0d0e901e4264cbb7878bb300528a43229fea3b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4b0d0e901e4264cbb7878bb300528a43229fea3b", "message": "Fixed doc error", "committedDate": "2020-06-30T21:16:41Z", "type": "commit"}, {"oid": "50881347fb606ec33cf975c205a1b3146c088830", "url": "https://github.com/Azure/azure-sdk-for-java/commit/50881347fb606ec33cf975c205a1b3146c088830", "message": "one third of indexer", "committedDate": "2020-06-30T22:16:07Z", "type": "commit"}, {"oid": "ec823a4620e100f17860ffc38bf8393d7419c08f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ec823a4620e100f17860ffc38bf8393d7419c08f", "message": "Finish search indexer client", "committedDate": "2020-07-01T04:24:24Z", "type": "commit"}, {"oid": "493d76d39b307e15453092d86f88a63916353eb2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/493d76d39b307e15453092d86f88a63916353eb2", "message": "Finish sync clients.", "committedDate": "2020-07-01T07:05:29Z", "type": "commit"}]}