{"pr_number": 10565, "pr_title": "support configured http client inherited by various clients", "pr_createdAt": "2020-04-28T07:01:54Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/10565", "timeline": [{"oid": "9e8f14913ad0f70dea675d220e111b48338c8cbf", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9e8f14913ad0f70dea675d220e111b48338c8cbf", "message": "support configured http client inherited by various clients", "committedDate": "2020-04-28T06:59:39Z", "type": "commit"}, {"oid": "2ac50500c3116d9d2c7822c9675f2a4fc6cb8dd1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2ac50500c3116d9d2c7822c9675f2a4fc6cb8dd1", "message": "update TestBase", "committedDate": "2020-04-28T09:52:56Z", "type": "commit"}, {"oid": "fbf3826183ade172398d39260eb1237d7173f077", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fbf3826183ade172398d39260eb1237d7173f077", "message": "Merge branch 'master' into config-client", "committedDate": "2020-04-28T09:54:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAzOTYxNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10565#discussion_r417039614", "bodyText": "It seems useless to add this parameter in sample.", "author": "ChenTanyi", "createdAt": "2020-04-29T02:54:15Z", "path": "sdk/management/samples/src/main/java/com/azure/management/cosmosdb/samples/CreateCosmosDBWithEventualConsistency.java", "diffHunk": "@@ -37,9 +37,10 @@\n     /**\n      * Main function which runs the actual sample.\n      * @param azure instance of the azure client\n+     * @param connectionPolicy connection policy used for cosmos client\n      * @return true if sample runs successfully\n      */\n-    public static boolean runSample(Azure azure) {\n+    public static boolean runSample(Azure azure, ConnectionPolicy connectionPolicy) {", "originalCommit": "9e8f14913ad0f70dea675d220e111b48338c8cbf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA0MTc5Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10565#discussion_r417041792", "bodyText": "As sample, we should provide this just in case the user requires to set proxy settings. At least, they will know CosmosClient need additional settings if they follow the sample and work with mgmt SDK & CosmosClient for their project.", "author": "xseeseesee", "createdAt": "2020-04-29T03:03:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAzOTYxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA0NjUxNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10565#discussion_r417046514", "bodyText": "But it is a sample, it is not the API. I think sample should not expose parameter if not necessary. Sample just provides minimal scripts to run, it is not to help user distinguish every parameter. Otherwise, I think lots of parameters should be exposed.\nLike, container registry will need to create docker client. if in such situation, we need to expose docker proxy settings, docker tls settings and so on to user.", "author": "ChenTanyi", "createdAt": "2020-04-29T03:24:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAzOTYxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA4ODcyMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10565#discussion_r417088723", "bodyText": "What is in that connectionPolicy?\nAlternatively you can provide an overload runSample(Azure azure) with default connectionPolicy, if this one is not very important for user.", "author": "weidongxu-microsoft", "createdAt": "2020-04-29T06:18:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAzOTYxNA=="}], "type": "inlineReview", "revised_code": {"commit": "a50482af2c8274b1a5be40e7bee500dc9cdc15ff", "chunk": "diff --git a/sdk/management/samples/src/main/java/com/azure/management/cosmosdb/samples/CreateCosmosDBWithEventualConsistency.java b/sdk/management/samples/src/main/java/com/azure/management/cosmosdb/samples/CreateCosmosDBWithEventualConsistency.java\nindex 5061e5dbaa3..3c30c1e490c 100644\n--- a/sdk/management/samples/src/main/java/com/azure/management/cosmosdb/samples/CreateCosmosDBWithEventualConsistency.java\n+++ b/sdk/management/samples/src/main/java/com/azure/management/cosmosdb/samples/CreateCosmosDBWithEventualConsistency.java\n\n@@ -37,10 +37,9 @@ public final class CreateCosmosDBWithEventualConsistency {\n     /**\n      * Main function which runs the actual sample.\n      * @param azure instance of the azure client\n-     * @param connectionPolicy connection policy used for cosmos client\n      * @return true if sample runs successfully\n      */\n-    public static boolean runSample(Azure azure, ConnectionPolicy connectionPolicy) {\n+    public static boolean runSample(Azure azure) {\n         final String docDBName = azure.sdkContext().randomResourceName(\"docDb\", 10);\n         final String rgName = azure.sdkContext().randomResourceName(\"rgNEMV\", 24);\n \n"}}, {"oid": "a50482af2c8274b1a5be40e7bee500dc9cdc15ff", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a50482af2c8274b1a5be40e7bee500dc9cdc15ff", "message": "update samples", "committedDate": "2020-04-29T08:18:27Z", "type": "commit"}, {"oid": "3edd8a3c5972d03003047b8e38eedbdceb46fedb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3edd8a3c5972d03003047b8e38eedbdceb46fedb", "message": "Merge branch 'master' into config-client", "committedDate": "2020-04-29T08:29:35Z", "type": "commit"}, {"oid": "ecb87288b243ad46f30b0bc6cd2daf5ccd1c0f03", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ecb87288b243ad46f30b0bc6cd2daf5ccd1c0f03", "message": "fix redirect issue from curl getString", "committedDate": "2020-04-29T09:44:04Z", "type": "commit"}, {"oid": "0bca8443ee1e1ab34b510679a872f6abca8288c7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0bca8443ee1e1ab34b510679a872f6abca8288c7", "message": "fix redirect issue from curl getString in app service tests", "committedDate": "2020-04-29T09:45:38Z", "type": "commit"}, {"oid": "3c9b6ae8419aca2e2048c6b1c5e53d41ee05848d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3c9b6ae8419aca2e2048c6b1c5e53d41ee05848d", "message": "clean code", "committedDate": "2020-04-29T09:47:23Z", "type": "commit"}]}