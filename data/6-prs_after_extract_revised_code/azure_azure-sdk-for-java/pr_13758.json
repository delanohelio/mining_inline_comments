{"pr_number": 13758, "pr_title": "Change ObjectSerializer.serialize to Void", "pr_createdAt": "2020-08-03T22:29:36Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/13758", "timeline": [{"oid": "8454ad55671e96571b2d8beae7ea8dc53f1b85d9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8454ad55671e96571b2d8beae7ea8dc53f1b85d9", "message": "ObjectSerializer serialize is now void instead of returning the passed OutputStream", "committedDate": "2020-08-03T22:27:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwNTE0MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13758#discussion_r464705140", "bodyText": "I was wondering if the comment in arch board was applicable for async and sync or just sync? Since the point you make about async is still valid when chaining async operators to have the reference to OutputStream.", "author": "srnagar", "createdAt": "2020-08-03T22:59:56Z", "path": "sdk/core/azure-core-experimental/src/main/java/com/azure/core/experimental/serializer/JsonSerializer.java", "diffHunk": "@@ -38,20 +38,17 @@\n      *\n      * @param stream {@link OutputStream} where the JSON tree will be written.\n      * @param jsonNode The JSON tree.\n-     * @param <S> Type of the output stream.\n-     * @return The stream where the JSON tree was written.\n      */\n-    <S extends OutputStream> S serializeTree(S stream, JsonNode jsonNode);\n+    void serializeTree(OutputStream stream, JsonNode jsonNode);\n \n     /**\n      * Writes a JSON tree into a stream.\n      *\n      * @param stream {@link OutputStream} where the JSON tree will be written.\n      * @param jsonNode The JSON tree.\n-     * @param <S> Type of the output stream.\n-     * @return The stream where the JSON tree was written.\n+     * @return Reactive stream that will indicate operation completion.\n      */\n-    <S extends OutputStream> Mono<S> serializeTreeAsync(S stream, JsonNode jsonNode);\n+    Mono<Void> serializeTreeAsync(OutputStream stream, JsonNode jsonNode);", "originalCommit": "8454ad55671e96571b2d8beae7ea8dc53f1b85d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxMzg1Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13758#discussion_r464713856", "bodyText": "I think it is better to have sync and async return equivalent return types. Having serialize being void is fine as the OutputStream can be passed or newed before calling the API and then returned later.", "author": "alzimmermsft", "createdAt": "2020-08-03T23:28:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwNTE0MA=="}], "type": "inlineReview", "revised_code": null}]}