{"pr_number": 12497, "pr_title": "Update swagger and upgrade to autorest v4", "pr_createdAt": "2020-06-24T19:45:59Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12497", "timeline": [{"oid": "ea040ac68f1cb61c352117dd9cca3c99afb94218", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ea040ac68f1cb61c352117dd9cca3c99afb94218", "message": "Added typed constructors and upgrade to autorest v4", "committedDate": "2020-06-24T18:23:45Z", "type": "commit"}, {"oid": "248040114fb85618d3c8ccbcbaed9a13a98e9673", "url": "https://github.com/Azure/azure-sdk-for-java/commit/248040114fb85618d3c8ccbcbaed9a13a98e9673", "message": "merge from master", "committedDate": "2020-06-24T18:25:10Z", "type": "commit"}, {"oid": "215f7f0bac5d9beafbf97a3a27df27d75d146b0d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/215f7f0bac5d9beafbf97a3a27df27d75d146b0d", "message": "Refresh the json data", "committedDate": "2020-06-24T19:44:46Z", "type": "commit"}, {"oid": "d4491ea25e93beaba7eae8df6a080c122d7cfb9a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4491ea25e93beaba7eae8df6a080c122d7cfb9a", "message": "Clean up", "committedDate": "2020-06-25T17:24:05Z", "type": "commit"}, {"oid": "d4491ea25e93beaba7eae8df6a080c122d7cfb9a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4491ea25e93beaba7eae8df6a080c122d7cfb9a", "message": "Clean up", "committedDate": "2020-06-25T17:24:05Z", "type": "forcePushed"}, {"oid": "cf5d1f05a255dc222ebeb90a550a8506a5ebb3bf", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cf5d1f05a255dc222ebeb90a550a8506a5ebb3bf", "message": "Rollout all playback jsons", "committedDate": "2020-06-25T17:35:47Z", "type": "commit"}, {"oid": "1492e684a0571c45fc517700ef670de65366ef06", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1492e684a0571c45fc517700ef670de65366ef06", "message": "Fixed linting", "committedDate": "2020-06-25T18:02:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxNTQ3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445715475", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                V2020_06_30(\"2019-06-30\");\n          \n          \n            \n                V2020_06_30(\"2020-06-30\");", "author": "alzimmermsft", "createdAt": "2020-06-25T17:18:05Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchServiceVersion.java", "diffHunk": "@@ -9,7 +9,7 @@\n  * The versions of Azure Search supported by this client library.\n  */\n public enum SearchServiceVersion implements ServiceVersion {\n-    V2019_05_06_Preview(\"2019-05-06-Preview\");\n+    V2020_06_30(\"2019-06-30\");", "originalCommit": "6f6b048ceadb96a28b92265ac37fb1bcf096d314", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d4491ea25e93beaba7eae8df6a080c122d7cfb9a", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchServiceVersion.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchServiceVersion.java\nindex dfc79b81737..0751e21c93a 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchServiceVersion.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchServiceVersion.java\n\n@@ -9,7 +9,7 @@ import com.azure.core.util.ServiceVersion;\n  * The versions of Azure Search supported by this client library.\n  */\n public enum SearchServiceVersion implements ServiceVersion {\n-    V2020_06_30(\"2019-06-30\");\n+    V2020_06_30(\"2020-06-30\");\n \n     private final String version;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc0NTcwNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445745707", "bodyText": "Any reason API version change was removed?", "author": "alzimmermsft", "createdAt": "2020-06-25T18:11:10Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexAsyncClient.java", "diffHunk": "@@ -77,11 +75,11 @@\n         this.serviceVersion = serviceVersion;\n         this.httpPipeline = httpPipeline;\n \n-        this.restClient = new SearchServiceRestClientBuilder()\n+        this.restClient = new SearchServiceClientImplBuilder()\n             .endpoint(endpoint)\n-            .apiVersion(serviceVersion.getVersion())\n+          //  .apiVersion(serviceVersion.getVersion())", "originalCommit": "1492e684a0571c45fc517700ef670de65366ef06", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc1Nzc0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445757742", "bodyText": "Disregard, didn't realize new codegen prevent this from being set.", "author": "alzimmermsft", "createdAt": "2020-06-25T18:33:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc0NTcwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc2Nzk4NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445767985", "bodyText": "This is what autorest v4 is intended to do. They currently agreed to only support one API version. Autorest team will follow up on this. Not API change, so just remove here", "author": "sima-zhu", "createdAt": "2020-06-25T18:47:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc0NTcwNw=="}], "type": "inlineReview", "revised_code": {"commit": "35b2c9afe0b7cc4609b3e8e061c242c7148e4bdb", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexAsyncClient.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexAsyncClient.java\nindex 34f3754b27f..e732a97620e 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexAsyncClient.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexAsyncClient.java\n\n@@ -77,7 +77,6 @@ public final class SearchIndexAsyncClient {\n \n         this.restClient = new SearchServiceClientImplBuilder()\n             .endpoint(endpoint)\n-          //  .apiVersion(serviceVersion.getVersion())\n             .pipeline(httpPipeline)\n             .buildClient();\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc0NTk2NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445745964", "bodyText": "Same question", "author": "alzimmermsft", "createdAt": "2020-06-25T18:11:39Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexerAsyncClient.java", "diffHunk": "@@ -71,11 +70,11 @@\n         this.serviceVersion = serviceVersion;\n         this.httpPipeline = httpPipeline;\n \n-        this.restClient = new SearchServiceRestClientBuilder()\n+        this.restClient = new SearchServiceClientImplBuilder()\n             .endpoint(endpoint)\n-            .apiVersion(serviceVersion.getVersion())\n+          //  .apiVersion(serviceVersion.getVersion())", "originalCommit": "1492e684a0571c45fc517700ef670de65366ef06", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc1Nzc3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445757779", "bodyText": "Disregard, didn't realize new codegen prevent this from being set.", "author": "alzimmermsft", "createdAt": "2020-06-25T18:33:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc0NTk2NA=="}], "type": "inlineReview", "revised_code": {"commit": "35b2c9afe0b7cc4609b3e8e061c242c7148e4bdb", "chunk": "diff --git a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexerAsyncClient.java b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexerAsyncClient.java\nindex 9873ed63476..f4105127c68 100644\n--- a/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexerAsyncClient.java\n+++ b/sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/SearchIndexerAsyncClient.java\n\n@@ -72,7 +72,6 @@ public class SearchIndexerAsyncClient {\n \n         this.restClient = new SearchServiceClientImplBuilder()\n             .endpoint(endpoint)\n-          //  .apiVersion(serviceVersion.getVersion())\n             .pipeline(httpPipeline)\n             .buildClient();\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc1NTcxMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445755712", "bodyText": "We'll want to make note of this as a breaking change in the CHANGELOG.", "author": "alzimmermsft", "createdAt": "2020-06-25T18:29:25Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/models/PathHierarchyTokenizer.java", "diffHunk": "@@ -64,7 +64,7 @@ public String getDelimiter() {\n      * @param delimiter the delimiter value to set.\n      * @return the PathHierarchyTokenizerV2 object itself.\n      */\n-    public PathHierarchyTokenizer setDelimiter(String delimiter) {\n+    public PathHierarchyTokenizer setDelimiter(Character delimiter) {", "originalCommit": "1492e684a0571c45fc517700ef670de65366ef06", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc1NTg5NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445755895", "bodyText": "We'll want to make note of this as a breaking change in the CHANGELOG.", "author": "alzimmermsft", "createdAt": "2020-06-25T18:29:47Z", "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/indexes/models/SearchIndexerLimits.java", "diffHunk": "@@ -49,7 +49,7 @@ public Duration getMaxRunTime() {\n      *\n      * @return the maxDocumentExtractionSize value.\n      */\n-    public Double getMaxDocumentExtractionSize() {\n+    public Long getMaxDocumentExtractionSize() {", "originalCommit": "1492e684a0571c45fc517700ef670de65366ef06", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc2NjUxMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12497#discussion_r445766511", "bodyText": "Talked offline. This is autorest v4 changes instead of swagger.", "author": "sima-zhu", "createdAt": "2020-06-25T18:45:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTc1NTg5NQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "0b3b14cf437d974ddb629b9a578ccffda0b4d16b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b3b14cf437d974ddb629b9a578ccffda0b4d16b", "message": "Merge conflicts", "committedDate": "2020-06-25T18:44:07Z", "type": "commit"}, {"oid": "35b2c9afe0b7cc4609b3e8e061c242c7148e4bdb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/35b2c9afe0b7cc4609b3e8e061c242c7148e4bdb", "message": "Remove comments", "committedDate": "2020-06-25T18:47:46Z", "type": "commit"}, {"oid": "f7fc5d07af74dea6028603397e7fb8e746051ef2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7fc5d07af74dea6028603397e7fb8e746051ef2", "message": "Make changes to tests", "committedDate": "2020-06-26T00:58:17Z", "type": "commit"}, {"oid": "e9c19cd89c1f0ff91b6494b84bfb89f0a793fb9e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e9c19cd89c1f0ff91b6494b84bfb89f0a793fb9e", "message": "Update the version to 11.0.0", "committedDate": "2020-06-26T00:59:31Z", "type": "commit"}, {"oid": "c09655e01c6eff633beb652fbc855f5727a10a8e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c09655e01c6eff633beb652fbc855f5727a10a8e", "message": "Merge conflicts", "committedDate": "2020-06-26T01:01:12Z", "type": "commit"}, {"oid": "43e2da580924ab6c729a8aaa3ea116c0ea005ef1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/43e2da580924ab6c729a8aaa3ea116c0ea005ef1", "message": "Changed the version all over the places", "committedDate": "2020-06-26T01:31:49Z", "type": "commit"}]}