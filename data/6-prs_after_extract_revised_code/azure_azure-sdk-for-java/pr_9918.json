{"pr_number": 9918, "pr_title": "Make ActiveTokenManager tests more reliable.", "pr_createdAt": "2020-04-07T17:45:29Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/9918", "timeline": [{"oid": "3eddc0bae4ef944e378bcfb1729fa934a5ec6452", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3eddc0bae4ef944e378bcfb1729fa934a5ec6452", "message": "Fixing tests.", "committedDate": "2020-04-07T17:41:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAwNzM2Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9918#discussion_r405007366", "bodyText": "Does setting the default timeout change the timeout for all tests running outside this class too?", "author": "srnagar", "createdAt": "2020-04-07T18:02:00Z", "path": "sdk/core/azure-core-amqp/src/test/java/com/azure/core/amqp/implementation/ActiveClientTokenManagerTest.java", "diffHunk": "@@ -22,18 +24,29 @@\n import java.time.Duration;\n import java.time.OffsetDateTime;\n import java.time.ZoneOffset;\n+import java.util.concurrent.atomic.AtomicInteger;\n \n import static org.mockito.ArgumentMatchers.any;\n import static org.mockito.Mockito.when;\n \n class ActiveClientTokenManagerTest {\n     private static final String AUDIENCE = \"an-audience-test\";\n     private static final String SCOPES = \"scopes-test\";\n-    private static final Duration TIMEOUT = Duration.ofSeconds(4);\n+    private static final Duration DEFAULT_DURATION = Duration.ofSeconds(20);\n \n     @Mock\n     private ClaimsBasedSecurityNode cbsNode;\n \n+    @BeforeAll\n+    static void beforeAll() {\n+        StepVerifier.setDefaultTimeout(Duration.ofSeconds(30));", "originalCommit": "3eddc0bae4ef944e378bcfb1729fa934a5ec6452", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAwNzkzNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9918#discussion_r405007935", "bodyText": "No. I have an AfterAll notation to reset the timeout.", "author": "conniey", "createdAt": "2020-04-07T18:02:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAwNzM2Ng=="}], "type": "inlineReview", "revised_code": null}, {"oid": "4b300896d2f25b020a26c5b7db810f4403f1976c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4b300896d2f25b020a26c5b7db810f4403f1976c", "message": "Fixing checkstyle", "committedDate": "2020-04-07T18:48:12Z", "type": "commit"}]}