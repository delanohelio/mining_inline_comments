{"pr_number": 15232, "pr_title": "Accept object as payload for telemetry APIs", "pr_createdAt": "2020-09-15T20:34:37Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/15232", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAwOTYzMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15232#discussion_r489009632", "bodyText": "If we are going to accept raw json strings and send them as-is over the wire, you will need to document that in the javadocs. I don't think users will figure that out otherwise", "author": "timtay-microsoft", "createdAt": "2020-09-15T22:02:20Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -1339,7 +1339,7 @@ public DigitalTwinsServiceVersion getServiceVersion() {\n      * @return An empty mono.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Mono<Void> publishTelemetry(String digitalTwinId, String payload) {\n+    public Mono<Void> publishTelemetry(String digitalTwinId, Object payload) {", "originalCommit": "58d2b958798f35b30f8ec911914d586d1a5be526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTA0MTEyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15232#discussion_r489041124", "bodyText": "+1 to this.", "author": "abhipsaMisra", "createdAt": "2020-09-15T22:42:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAwOTYzMg=="}], "type": "inlineReview", "revised_code": {"commit": "986e7565ad79b016d91bb740fdc30e81f75ab846", "chunk": "diff --git a/sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java b/sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java\nindex 139b0df2863..a4e2240e48a 100644\n--- a/sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java\n+++ b/sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java\n\n@@ -1335,7 +1335,7 @@ public final class DigitalTwinsAsyncClient {\n      * The result is then consumed by one or many destination endpoints (subscribers) defined under {@link EventRoute}\n      * These event routes need to be set before publishing a telemetry message, in order for the telemetry message to be consumed.\n      * @param digitalTwinId The Id of the digital twin.\n-     * @param payload The application/json telemetry payload to be sent.\n+     * @param payload The application/json telemetry payload to be sent. payload can be a raw json string or a strongly typed object like a Dictionary.\n      * @return An empty mono.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n"}}, {"oid": "4e3d50ea95092317cc4c406f059b9eb2d1729e74", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4e3d50ea95092317cc4c406f059b9eb2d1729e74", "message": "Accept object as payload", "committedDate": "2020-09-16T00:11:13Z", "type": "commit"}, {"oid": "d030cf7388f71b1aa94ec89922a682578c93b26f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d030cf7388f71b1aa94ec89922a682578c93b26f", "message": "Update publishTelemetryLifecycleTest.json", "committedDate": "2020-09-16T00:11:13Z", "type": "commit"}, {"oid": "d030cf7388f71b1aa94ec89922a682578c93b26f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d030cf7388f71b1aa94ec89922a682578c93b26f", "message": "Update publishTelemetryLifecycleTest.json", "committedDate": "2020-09-16T00:11:13Z", "type": "forcePushed"}, {"oid": "986e7565ad79b016d91bb740fdc30e81f75ab846", "url": "https://github.com/Azure/azure-sdk-for-java/commit/986e7565ad79b016d91bb740fdc30e81f75ab846", "message": "Update javadocs", "committedDate": "2020-09-16T00:17:17Z", "type": "commit"}]}