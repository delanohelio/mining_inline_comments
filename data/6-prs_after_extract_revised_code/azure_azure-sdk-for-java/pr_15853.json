{"pr_number": 15853, "pr_title": "Samples and Readme update for Administration package", "pr_createdAt": "2020-10-01T02:04:21Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/15853", "timeline": [{"oid": "46a28aff82d0f31772e3533ced5af45c509c3591", "url": "https://github.com/Azure/azure-sdk-for-java/commit/46a28aff82d0f31772e3533ced5af45c509c3591", "message": "More samples and readme changes", "committedDate": "2020-10-01T02:00:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3MzY3Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15853#discussion_r498373672", "bodyText": "You can remove this line. This target id was accidentally added to the request object exposed to the user.", "author": "whisper6284", "createdAt": "2020-10-01T16:29:55Z", "path": "sdk/communication/azure-communication-administration/src/samples/java/com/azure/communication/administration/ReadmeSamples.java", "diffHunk": "@@ -331,4 +336,75 @@ public AreaCodes getAreaCodes() {\n         }\n         return null;\n     }\n+\n+    /**\n+     * Sample code to create a phone number search\n+     *\n+     * @return PhoneNumberSearch for the phone plan\n+     */\n+    public PhoneNumberSearch createPhoneNumberSearch() {\n+        String phonePlanId = \"PHONE_PLAN_ID\";\n+\n+        List<String> phonePlanIds = new ArrayList<>();\n+        phonePlanIds.add(phonePlanId);\n+\n+        CreateSearchOptions createSearchOptions = new CreateSearchOptions();\n+        createSearchOptions\n+            .setAreaCode(\"AREA_CODE_FOR_SEARCH\")\n+            .setDescription(\"DESCRIPTION_FOR_SEARCH\")\n+            .setDisplayName(\"NAME_FOR_SEARCH\")\n+            .setPhonePlanIds(phonePlanIds)\n+            .setQuantity(2);\n+\n+        try {\n+            PhoneNumberClient phoneNumberClient = createPhoneNumberClient();\n+            CreateSearchResponse createSearchResponse = phoneNumberClient.createSearch(createSearchOptions);\n+\n+            System.out.println(\"SearchId: \" + createSearchResponse.getSearchId());\n+            PhoneNumberSearch phoneNumberSearch = phoneNumberClient.getSearchById(createSearchResponse.getSearchId());\n+\n+            for (String phoneNumber\n+                 : phoneNumberSearch.getPhoneNumbers()) {\n+                System.out.println(\"Phone Number: \" + phoneNumber);\n+            }\n+\n+            return phoneNumberSearch;\n+\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+        return null;\n+    }\n+\n+    /**\n+     * Sample code to purchase a phone number search\n+     */\n+    public void purchasePhoneNumberSearch() {\n+        String phoneNumberSearchId = \"SEARCH_ID_TO_PURCHASE\";\n+\n+        try {\n+            PhoneNumberClient phoneNumberClient = createPhoneNumberClient();\n+            phoneNumberClient.purchaseSearch(phoneNumberSearchId);\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    /**\n+     * Sample code to configure a phone number\n+     */\n+    public void configurePhoneNumber() {\n+        PhoneNumber phoneNumber = new PhoneNumber(\"PHONENUMBER_TO_CONFIGURE\");\n+        PstnConfiguration pstnConfiguration = new PstnConfiguration();\n+        pstnConfiguration.setApplicationId(\"APPLICATION_ID\");\n+        pstnConfiguration.setAzurePstnTargetId(\"AZURE_PSTN_TARGET_ID\");", "originalCommit": "46a28aff82d0f31772e3533ced5af45c509c3591", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5MjQxNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15853#discussion_r498392417", "bodyText": "Sure", "author": "ankitarorabit", "createdAt": "2020-10-01T17:03:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3MzY3Mg=="}], "type": "inlineReview", "revised_code": {"commit": "fae0f1dfa93b738fb7e161d2b715ace124c69e40", "chunk": "diff --git a/sdk/communication/azure-communication-administration/src/samples/java/com/azure/communication/administration/ReadmeSamples.java b/sdk/communication/azure-communication-administration/src/samples/java/com/azure/communication/administration/ReadmeSamples.java\nindex 01b6d6dc41e..8d15cc8aff8 100644\n--- a/sdk/communication/azure-communication-administration/src/samples/java/com/azure/communication/administration/ReadmeSamples.java\n+++ b/sdk/communication/azure-communication-administration/src/samples/java/com/azure/communication/administration/ReadmeSamples.java\n\n@@ -397,7 +397,6 @@ public class ReadmeSamples {\n         PhoneNumber phoneNumber = new PhoneNumber(\"PHONENUMBER_TO_CONFIGURE\");\n         PstnConfiguration pstnConfiguration = new PstnConfiguration();\n         pstnConfiguration.setApplicationId(\"APPLICATION_ID\");\n-        pstnConfiguration.setAzurePstnTargetId(\"AZURE_PSTN_TARGET_ID\");\n         pstnConfiguration.setCallbackUrl(\"CALLBACK_URL\");\n \n         try {\n"}}, {"oid": "0c7804347be7a82dba5417a068dd74cdd0ee2a58", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0c7804347be7a82dba5417a068dd74cdd0ee2a58", "message": "PR comments", "committedDate": "2020-10-01T16:37:04Z", "type": "commit"}, {"oid": "fae0f1dfa93b738fb7e161d2b715ace124c69e40", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fae0f1dfa93b738fb7e161d2b715ace124c69e40", "message": "build failure", "committedDate": "2020-10-01T17:05:59Z", "type": "commit"}, {"oid": "32457eb64bb3f91765dfe6205ca7a8257d6bed5e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/32457eb64bb3f91765dfe6205ca7a8257d6bed5e", "message": "fix indentation", "committedDate": "2020-10-01T17:21:24Z", "type": "commit"}]}