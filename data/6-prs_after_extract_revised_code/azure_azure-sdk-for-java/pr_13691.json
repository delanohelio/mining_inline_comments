{"pr_number": 13691, "pr_title": "Fix spotbugs in identity tests and samples.", "pr_createdAt": "2020-07-31T20:09:00Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/13691", "timeline": [{"oid": "d59069b0c7278a9cd019a5712f5f8270dbd519d3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d59069b0c7278a9cd019a5712f5f8270dbd519d3", "message": "Fix spotbugs in identity tests and samples.", "committedDate": "2020-07-31T20:07:29Z", "type": "commit"}, {"oid": "d5086d0acf2144a1a356218be66a78a400613868", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d5086d0acf2144a1a356218be66a78a400613868", "message": "update test", "committedDate": "2020-07-31T20:37:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MDkzNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13691#discussion_r463870934", "bodyText": "Are tokens guaranteed to be ASCII only? If not it may be better to use StandardCharset.UTF_8 here as the defaultCharset is specific to the machine. Linux and Mac will default UTF-8 while Windows defaults CP1252.", "author": "alzimmermsft", "createdAt": "2020-07-31T22:22:40Z", "path": "sdk/identity/azure-identity/src/test/java/com/azure/identity/implementation/IdentityClientTests.java", "diffHunk": "@@ -454,7 +455,7 @@ private void mockForMSICodeFlow(String tokenJson) throws Exception {\n         PowerMockito.doNothing().when(huc).setRequestMethod(anyString());\n         PowerMockito.doNothing().when(huc).setRequestMethod(anyString());\n         PowerMockito.doNothing().when(huc).setRequestMethod(anyString());\n-        InputStream inputStream = new ByteArrayInputStream(tokenJson.getBytes());\n+        InputStream inputStream = new ByteArrayInputStream(tokenJson.getBytes(Charset.defaultCharset()));", "originalCommit": "d5086d0acf2144a1a356218be66a78a400613868", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU1MzA0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13691#discussion_r464553041", "bodyText": "yeah, ASCII covers tokens char range.\nThis is test code. So, if any failures are ever encountered, it'd interesting to look at and we can fix it.", "author": "g2vinay", "createdAt": "2020-08-03T17:23:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MDkzNA=="}], "type": "inlineReview", "revised_code": null}]}