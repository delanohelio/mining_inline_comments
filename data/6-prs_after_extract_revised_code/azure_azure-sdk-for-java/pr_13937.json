{"pr_number": 13937, "pr_title": "Add support for per API configurable options", "pr_createdAt": "2020-08-10T17:19:40Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/13937", "timeline": [{"oid": "f1a128191089d43f8dc109102aa8604fab5fae09", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f1a128191089d43f8dc109102aa8604fab5fae09", "message": "update changelog", "committedDate": "2020-08-10T17:30:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA4NzU0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13937#discussion_r468087541", "bodyText": "nit\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom form.\n          \n          \n            \n                 * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom forms.", "author": "kristapratico", "createdAt": "2020-08-10T18:10:58Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -103,12 +105,12 @@\n      * error message indicating absence of cancellation support.</p>\n      *\n      * <p><strong>Code sample</strong></p>\n-     * {@codesnippet com.azure.ai.formrecognizer.FormRecognizerAsyncClient.beginRecognizeCustomFormsFromUrl#string-string-recognizeOptions}\n+     * {@codesnippet com.azure.ai.formrecognizer.FormRecognizerAsyncClient.beginRecognizeCustomFormsFromUrl#string-string-BeginRecognizeCustomFormOptions}\n      *\n      * @param modelId The UUID string format custom trained model Id to be used.\n      * @param formUrl The source URL to the input form.\n-     * @param recognizeOptions The additional configurable {@link RecognizeOptions options} that may be passed when\n-     * recognizing custom form.\n+     * @param beginRecognizeCustomFormOptions The additional configurable\n+     * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom form.", "originalCommit": "f1a128191089d43f8dc109102aa8604fab5fae09", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e5b2603b89ba3d9161ce4257e93d41854810aaf2", "chunk": "diff --git a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\nindex a20228479eb..f1a1debc8d9 100644\n--- a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\n+++ b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\n\n@@ -110,7 +110,7 @@ public final class FormRecognizerAsyncClient {\n      * @param modelId The UUID string format custom trained model Id to be used.\n      * @param formUrl The source URL to the input form.\n      * @param beginRecognizeCustomFormOptions The additional configurable\n-     * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom form.\n+     * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom forms.\n      *\n      * @return A {@link PollerFlux} that polls the recognize custom form operation until it has completed, has failed,\n      * or has been cancelled. The completed operation returns a List of {@link RecognizedForm}.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA4OTAyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13937#discussion_r468089025", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * {@link BeginRecognizeCustomFormOptions options} that may be passed whens recognizing custom form.\n          \n          \n            \n                 * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom form.", "author": "kristapratico", "createdAt": "2020-08-10T18:13:53Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClient.java", "diffHunk": "@@ -131,13 +134,13 @@\n      * error message indicating absence of cancellation support.</p>\n      *\n      * <p><strong>Code sample</strong></p>\n-     * {@codesnippet com.azure.ai.formrecognizer.FormRecognizerClient.beginRecognizeCustomForms#string-InputStream-long-recognizeOptions-Context}\n+     * {@codesnippet com.azure.ai.formrecognizer.FormRecognizerClient.beginRecognizeCustomForms#string-InputStream-long-BeginRecognizeCustomFormOptions-Context}\n      *\n      * @param modelId The UUID string format custom trained model Id to be used.\n      * @param form The data of the form to recognize form information from.\n      * @param length The exact length of the data.\n-     * @param recognizeOptions The additional configurable {@link RecognizeOptions options} that may be passed when\n-     * recognizing custom form.\n+     * @param beginRecognizeCustomFormOptions The additional configurable\n+     * {@link BeginRecognizeCustomFormOptions options} that may be passed whens recognizing custom form.", "originalCommit": "f1a128191089d43f8dc109102aa8604fab5fae09", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e5b2603b89ba3d9161ce4257e93d41854810aaf2", "chunk": "diff --git a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClient.java b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClient.java\nindex 9667bedaf1d..b28bf67bb77 100644\n--- a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClient.java\n+++ b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClient.java\n\n@@ -140,7 +140,7 @@ public final class FormRecognizerClient {\n      * @param form The data of the form to recognize form information from.\n      * @param length The exact length of the data.\n      * @param beginRecognizeCustomFormOptions The additional configurable\n-     * {@link BeginRecognizeCustomFormOptions options} that may be passed whens recognizing custom form.\n+     * {@link BeginRecognizeCustomFormOptions options} that may be passed when recognizing custom forms.\n      * @param context Additional context that is passed through the HTTP pipeline during the service call.\n      *\n      * @return A {@link SyncPoller} that polls the recognize custom form operation until it has completed,\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODEzNjgwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13937#discussion_r468136802", "bodyText": "Make all these methods static or all of them non-static.", "author": "srnagar", "createdAt": "2020-08-10T19:37:38Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -644,7 +652,18 @@\n         return Mono.just(new PollResponse<>(status, operationResultPollResponse.getValue()));\n     }\n \n-    private static RecognizeOptions getRecognizeOptionsProperties(RecognizeOptions userProvidedOptions) {\n-        return userProvidedOptions == null ? new RecognizeOptions() : userProvidedOptions;\n+    private static BeginRecognizeCustomFormOptions\n+        getBeginRecognizeCustomFormOptions(BeginRecognizeCustomFormOptions userProvidedOptions) {\n+        return userProvidedOptions == null ? new BeginRecognizeCustomFormOptions() : userProvidedOptions;\n+    }\n+\n+    private BeginRecognizeContentOptions\n+        getBeginRecognizeContentOptions(BeginRecognizeContentOptions userProvidedOptions) {\n+        return userProvidedOptions == null ? new BeginRecognizeContentOptions() : userProvidedOptions;\n+    }\n+\n+    private BeginRecognizeReceiptOptions\n+        getBeginRecognizeReceiptOptions(BeginRecognizeReceiptOptions userProvidedOptions) {\n+        return userProvidedOptions == null ? new BeginRecognizeReceiptOptions() : userProvidedOptions;", "originalCommit": "7743ab6f84293ddc4afd444fa75b21ed3973bb7e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "12d5e1a0fa3b19530dce0f82a53a673914bbde67", "chunk": "diff --git a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\nindex f1a1debc8d9..60c3de68f63 100644\n--- a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\n+++ b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\n\n@@ -652,18 +652,18 @@ public final class FormRecognizerAsyncClient {\n         return Mono.just(new PollResponse<>(status, operationResultPollResponse.getValue()));\n     }\n \n-    private static BeginRecognizeCustomFormOptions\n-        getBeginRecognizeCustomFormOptions(BeginRecognizeCustomFormOptions userProvidedOptions) {\n-        return userProvidedOptions == null ? new BeginRecognizeCustomFormOptions() : userProvidedOptions;\n+    private static RecognizeCustomFormOptions\n+        getRecognizeCustomFormOptions(RecognizeCustomFormOptions userProvidedOptions) {\n+        return userProvidedOptions == null ? new RecognizeCustomFormOptions() : userProvidedOptions;\n     }\n \n-    private BeginRecognizeContentOptions\n-        getBeginRecognizeContentOptions(BeginRecognizeContentOptions userProvidedOptions) {\n-        return userProvidedOptions == null ? new BeginRecognizeContentOptions() : userProvidedOptions;\n+    private RecognizeContentOptions\n+        getRecognizeContentOptions(RecognizeContentOptions userProvidedOptions) {\n+        return userProvidedOptions == null ? new RecognizeContentOptions() : userProvidedOptions;\n     }\n \n-    private BeginRecognizeReceiptOptions\n-        getBeginRecognizeReceiptOptions(BeginRecognizeReceiptOptions userProvidedOptions) {\n-        return userProvidedOptions == null ? new BeginRecognizeReceiptOptions() : userProvidedOptions;\n+    private RecognizeReceiptOptions\n+        getRecognizeReceiptOptions(RecognizeReceiptOptions userProvidedOptions) {\n+        return userProvidedOptions == null ? new RecognizeReceiptOptions() : userProvidedOptions;\n     }\n }\n"}}, {"oid": "c9cbdde861512af6c5ed8c9ec46792806dea045a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c9cbdde861512af6c5ed8c9ec46792806dea045a", "message": "options design update", "committedDate": "2020-08-11T19:28:46Z", "type": "commit"}, {"oid": "7a868b738a3d43f86a18b87a6edbc53cafd0ce07", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7a868b738a3d43f86a18b87a6edbc53cafd0ce07", "message": "update changelog", "committedDate": "2020-08-11T19:28:48Z", "type": "commit"}, {"oid": "e5b2603b89ba3d9161ce4257e93d41854810aaf2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e5b2603b89ba3d9161ce4257e93d41854810aaf2", "message": "review comments", "committedDate": "2020-08-11T19:28:50Z", "type": "commit"}, {"oid": "12d5e1a0fa3b19530dce0f82a53a673914bbde67", "url": "https://github.com/Azure/azure-sdk-for-java/commit/12d5e1a0fa3b19530dce0f82a53a673914bbde67", "message": "update for trainingOptions and renames", "committedDate": "2020-08-11T19:28:52Z", "type": "commit"}, {"oid": "bc356cbd1c0a27e7ea8f20cf5174aee0cea2016d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bc356cbd1c0a27e7ea8f20cf5174aee0cea2016d", "message": "Make methods static", "committedDate": "2020-08-11T19:28:54Z", "type": "commit"}, {"oid": "52076d6e05bf141a072bf3e1c8e770b7f212473a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/52076d6e05bf141a072bf3e1c8e770b7f212473a", "message": "naming consistency", "committedDate": "2020-08-11T19:28:55Z", "type": "commit"}, {"oid": "064de05d4611bee32c93100bb40caaf50926c90f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/064de05d4611bee32c93100bb40caaf50926c90f", "message": "update samples issue", "committedDate": "2020-08-11T19:28:56Z", "type": "commit"}, {"oid": "546fc64cafe500e283d3d8482d233f9cab30f0bd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/546fc64cafe500e283d3d8482d233f9cab30f0bd", "message": "add package version change info in changelog", "committedDate": "2020-08-11T19:28:58Z", "type": "commit"}, {"oid": "ad8b0b59566d7098f2189576e918d88d643e5b88", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ad8b0b59566d7098f2189576e918d88d643e5b88", "message": "models renaming", "committedDate": "2020-08-11T19:28:59Z", "type": "commit"}, {"oid": "d804ac6c51923884a3dbf935c17e8f132ae679f0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d804ac6c51923884a3dbf935c17e8f132ae679f0", "message": "update readme", "committedDate": "2020-08-11T19:29:01Z", "type": "commit"}, {"oid": "83b0f16f3b13731597be7cc5fe55f9e5b12f6481", "url": "https://github.com/Azure/azure-sdk-for-java/commit/83b0f16f3b13731597be7cc5fe55f9e5b12f6481", "message": "update checkstyle issues", "committedDate": "2020-08-11T19:29:02Z", "type": "commit"}, {"oid": "b3a2fc58cb06ec3cf2fdbf45005aa2606f1a551a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b3a2fc58cb06ec3cf2fdbf45005aa2606f1a551a", "message": "fixing formatting issues", "committedDate": "2020-08-11T19:29:04Z", "type": "commit"}, {"oid": "b3a2fc58cb06ec3cf2fdbf45005aa2606f1a551a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b3a2fc58cb06ec3cf2fdbf45005aa2606f1a551a", "message": "fixing formatting issues", "committedDate": "2020-08-11T19:29:04Z", "type": "forcePushed"}, {"oid": "9817be07b45f7f48241af4687476c8a2f7a80db8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9817be07b45f7f48241af4687476c8a2f7a80db8", "message": "final checkstyle update", "committedDate": "2020-08-11T19:55:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODgzNDM3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13937#discussion_r468834378", "bodyText": "Make this final.", "author": "srnagar", "createdAt": "2020-08-11T20:07:18Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java", "diffHunk": "@@ -0,0 +1,63 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.formrecognizer.training.models;\n+\n+import com.azure.core.annotation.Fluent;\n+\n+import java.time.Duration;\n+\n+/**\n+ * Options that may be passed when using training APIs on Form Training client.\n+ */\n+@Fluent\n+public class TrainingOptions {", "originalCommit": "9817be07b45f7f48241af4687476c8a2f7a80db8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODgzOTM3Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13937#discussion_r468839376", "bodyText": "this class is extendable.  is that correct @samvaity", "author": "mssfang", "createdAt": "2020-08-11T20:17:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODgzNDM3OA=="}], "type": "inlineReview", "revised_code": {"commit": "23e38c2342c96dce3ce36e2b6aceb4e57c0b2ed1", "chunk": "diff --git a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java\nindex a600957d692..01b17a16f85 100644\n--- a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java\n+++ b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java\n\n@@ -11,9 +11,9 @@ import java.time.Duration;\n  * Options that may be passed when using training APIs on Form Training client.\n  */\n @Fluent\n-public class TrainingOptions {\n-    private Duration pollInterval = DEFAULT_POLL_INTERVAL;\n+public final class TrainingOptions {\n     private static final Duration DEFAULT_POLL_INTERVAL = Duration.ofSeconds(5);\n+    private Duration pollInterval = DEFAULT_POLL_INTERVAL;\n     private TrainingFileFilter trainingFileFilter;\n \n     /**\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODgzNDUyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13937#discussion_r468834529", "bodyText": "Move all static constants to the top of the class.", "author": "srnagar", "createdAt": "2020-08-11T20:07:34Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java", "diffHunk": "@@ -0,0 +1,63 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.formrecognizer.training.models;\n+\n+import com.azure.core.annotation.Fluent;\n+\n+import java.time.Duration;\n+\n+/**\n+ * Options that may be passed when using training APIs on Form Training client.\n+ */\n+@Fluent\n+public class TrainingOptions {\n+    private Duration pollInterval = DEFAULT_POLL_INTERVAL;\n+    private static final Duration DEFAULT_POLL_INTERVAL = Duration.ofSeconds(5);", "originalCommit": "9817be07b45f7f48241af4687476c8a2f7a80db8", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "23e38c2342c96dce3ce36e2b6aceb4e57c0b2ed1", "chunk": "diff --git a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java\nindex a600957d692..01b17a16f85 100644\n--- a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java\n+++ b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/models/TrainingOptions.java\n\n@@ -11,9 +11,9 @@ import java.time.Duration;\n  * Options that may be passed when using training APIs on Form Training client.\n  */\n @Fluent\n-public class TrainingOptions {\n-    private Duration pollInterval = DEFAULT_POLL_INTERVAL;\n+public final class TrainingOptions {\n     private static final Duration DEFAULT_POLL_INTERVAL = Duration.ofSeconds(5);\n+    private Duration pollInterval = DEFAULT_POLL_INTERVAL;\n     private TrainingFileFilter trainingFileFilter;\n \n     /**\n"}}, {"oid": "23e38c2342c96dce3ce36e2b6aceb4e57c0b2ed1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/23e38c2342c96dce3ce36e2b6aceb4e57c0b2ed1", "message": "review comments", "committedDate": "2020-08-11T20:14:31Z", "type": "commit"}]}