{"pr_number": 16896, "pr_title": "Remove DigitalTwins Writable property, rewrite Basic classes to match .NET", "pr_createdAt": "2020-10-27T21:48:44Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16896", "timeline": [{"oid": "7cc1566350d3e147ce689c6e0e041904a02397eb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7cc1566350d3e147ce689c6e0e041904a02397eb", "message": "Remove DigitalTwins Writable property, rewrite Basic classes to match .NET", "committedDate": "2020-10-27T21:47:12Z", "type": "commit"}, {"oid": "868579b411bec5707615419b1a834abd9565b5a2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/868579b411bec5707615419b1a834abd9565b5a2", "message": "fixup", "committedDate": "2020-10-27T21:50:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA1NDQxMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16896#discussion_r513054412", "bodyText": "This field wasn't used anywhere, so I deleted it", "author": "timtay-microsoft", "createdAt": "2020-10-27T21:51:07Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/samples/java/com/azure/digitaltwins/core/ComponentSyncSamples.java", "diffHunk": "@@ -85,20 +85,18 @@ public static void runComponentSample() throws JsonProcessingException {\n         // Create digital twin with component payload using the BasicDigitalTwin serialization helper.\n         BasicDigitalTwin basicTwin = new BasicDigitalTwin(basicDigitalTwinId)\n             .setMetadata(\n-                new DigitalTwinMetadata()\n+                new BasicDigitalTwinMetadata()\n                     .setModelId(modelId)\n             )\n-            .addProperty(\"Prop1\", \"Value1\")\n-            .addProperty(\"Prop2\", 987)\n-            .addProperty(\n+            .addToContents(\"Prop1\", \"Value1\")\n+            .addToContents(\"Prop2\", 987)\n+            .addToContents(\n                 \"Component1\",\n-                new ModelProperties()\n-                    .addProperty(\"ComponentProp1\", \"Component value 1\")\n-                    .addProperty(\"ComponentProp2\", 123)\n+                new BasicDigitalTwinComponent()\n+                    .addToContents(\"ComponentProp1\", \"Component value 1\")\n+                    .addToContents(\"ComponentProp2\", 123)\n             );\n \n-        String basicDigitalTwinPayload = mapper.writeValueAsString(basicTwin);", "originalCommit": "868579b411bec5707615419b1a834abd9565b5a2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA1NjcyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16896#discussion_r513056729", "bodyText": "I know we decided to use lastUpdatedOn, I just wanted to say I think lastUpdatedTime might have been a better property name. goodbye", "author": "azabbasi", "createdAt": "2020-10-27T21:56:07Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/BasicDigitalTwinPropertyMetadata.java", "diffHunk": "@@ -0,0 +1,34 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.digitaltwins.core.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+import java.time.OffsetDateTime;\n+\n+/**\n+ * Contains metadata about changes on properties on a digital twin or component.\n+ */\n+public class BasicDigitalTwinPropertyMetadata {\n+    @JsonProperty(value = DigitalTwinsJsonPropertyNames.METADATA_PROPERTY_LAST_UPDATE_TIME, required = true)\n+    private OffsetDateTime lastUpdatedOn;", "originalCommit": "868579b411bec5707615419b1a834abd9565b5a2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA1ODc0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16896#discussion_r513058741", "bodyText": "Sadly this is the name the service choose, so I'm not looking to change it.\nScratch that, the service went with \"lastUpdateTime\" but Azure SDK team prefers we name like the above. We already renamed the digital twins model data class' date time field like this, so it should pass review", "author": "timtay-microsoft", "createdAt": "2020-10-27T22:00:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA1NjcyOQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "54cc263fd88ca5c5ae14959c948b58c9aa6a513c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/54cc263fd88ca5c5ae14959c948b58c9aa6a513c", "message": "add sample code for basic digital twin component", "committedDate": "2020-10-27T21:59:45Z", "type": "commit"}, {"oid": "8ffc5582dc6ea46eb8c1dd5097ef65ba161f7d80", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8ffc5582dc6ea46eb8c1dd5097ef65ba161f7d80", "message": "fixup", "committedDate": "2020-10-27T22:12:12Z", "type": "commit"}, {"oid": "0cbdadde353a1149ebe9679c9bf643ad8aaa94d5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0cbdadde353a1149ebe9679c9bf643ad8aaa94d5", "message": "fixup", "committedDate": "2020-10-27T22:16:06Z", "type": "commit"}]}