{"pr_number": 7488, "pr_title": "Improve test coverage for OpenTelemetry tracing library", "pr_createdAt": "2020-01-16T02:14:29Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/7488", "timeline": [{"oid": "add9f54fe3e53899526afafcb21b441bca12ed72", "url": "https://github.com/Azure/azure-sdk-for-java/commit/add9f54fe3e53899526afafcb21b441bca12ed72", "message": "Add policy tests", "committedDate": "2020-01-16T02:15:02Z", "type": "commit"}, {"oid": "add9f54fe3e53899526afafcb21b441bca12ed72", "url": "https://github.com/Azure/azure-sdk-for-java/commit/add9f54fe3e53899526afafcb21b441bca12ed72", "message": "Add policy tests", "committedDate": "2020-01-16T02:15:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU1MjU2Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7488#discussion_r367552562", "bodyText": "Is this class worth taking a test dependency on Azure Core Test?", "author": "alzimmermsft", "createdAt": "2020-01-16T17:28:45Z", "path": "sdk/core/azure-core-tracing-opentelemetry/src/test/java/com/azure/core/tracing/opentelemetry/OpenTelemetryHttpPolicyTests.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.tracing.opentelemetry;\n+\n+import com.azure.core.annotation.ExpectedResponses;\n+import com.azure.core.annotation.Get;\n+import com.azure.core.annotation.Host;\n+import com.azure.core.annotation.ServiceInterface;\n+import com.azure.core.http.HttpClient;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+import com.azure.core.http.policy.HttpPipelinePolicy;\n+import com.azure.core.http.policy.HttpPolicyProviders;\n+import com.azure.core.http.rest.RestProxy;\n+import com.azure.core.test.implementation.entities.HttpBinJSON;", "originalCommit": "add9f54fe3e53899526afafcb21b441bca12ed72", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU1Mjg5Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7488#discussion_r367552893", "bodyText": "Especially given it is only used as a response type for a testing interface.", "author": "alzimmermsft", "createdAt": "2020-01-16T17:29:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU1MjU2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMjAwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7488#discussion_r367602008", "bodyText": "Removed Azure Core test dependency.", "author": "samvaity", "createdAt": "2020-01-16T19:17:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU1MjU2Mg=="}], "type": "inlineReview", "revised_code": {"commit": "71839aa4ffd1e6cf5cc35bd3426fe1ee410b9be0", "chunk": "diff --git a/sdk/core/azure-core-tracing-opentelemetry/src/test/java/com/azure/core/tracing/opentelemetry/OpenTelemetryHttpPolicyTests.java b/sdk/core/azure-core-tracing-opentelemetry/src/test/java/com/azure/core/tracing/opentelemetry/OpenTelemetryHttpPolicyTests.java\nindex c86b996f5d5..22ff4180888 100644\n--- a/sdk/core/azure-core-tracing-opentelemetry/src/test/java/com/azure/core/tracing/opentelemetry/OpenTelemetryHttpPolicyTests.java\n+++ b/sdk/core/azure-core-tracing-opentelemetry/src/test/java/com/azure/core/tracing/opentelemetry/OpenTelemetryHttpPolicyTests.java\n\n@@ -13,9 +13,9 @@ import com.azure.core.http.HttpPipelineBuilder;\n import com.azure.core.http.policy.HttpPipelinePolicy;\n import com.azure.core.http.policy.HttpPolicyProviders;\n import com.azure.core.http.rest.RestProxy;\n-import com.azure.core.test.implementation.entities.HttpBinJSON;\n import com.azure.core.tracing.opentelemetry.implementation.AmqpPropagationFormatUtil;\n import com.azure.core.util.Context;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n import io.opentelemetry.OpenTelemetry;\n import io.opentelemetry.trace.Span;\n import io.opentelemetry.trace.SpanContext;\n"}}, {"oid": "71839aa4ffd1e6cf5cc35bd3426fe1ee410b9be0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/71839aa4ffd1e6cf5cc35bd3426fe1ee410b9be0", "message": "remove core-test dependencies", "committedDate": "2020-01-16T19:16:39Z", "type": "commit"}, {"oid": "496fe51e819f79b1cc6012b989671007fc623e85", "url": "https://github.com/Azure/azure-sdk-for-java/commit/496fe51e819f79b1cc6012b989671007fc623e85", "message": "update netty version", "committedDate": "2020-01-17T01:24:32Z", "type": "commit"}]}