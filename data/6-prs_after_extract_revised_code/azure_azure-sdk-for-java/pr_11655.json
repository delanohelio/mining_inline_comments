{"pr_number": 11655, "pr_title": "Return LocalTime for valueTime in Form Recognizer", "pr_createdAt": "2020-06-02T00:58:38Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11655", "timeline": [{"oid": "a4eb756ff2c9dbe7732504f731fcc91eff7e4bfc", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a4eb756ff2c9dbe7732504f731fcc91eff7e4bfc", "message": "update return type to localTime", "committedDate": "2020-06-02T00:54:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzODEyNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11655#discussion_r433938126", "bodyText": "if getValueTime() returns null will this still work? I've seen inputs where the time was extracted from the receipt as not a real time, e.g. '36:54:47 PM', and then although the field type is set to \"time\" it returns null for valueTime.", "author": "kristapratico", "createdAt": "2020-06-02T14:52:30Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/Transforms.java", "diffHunk": "@@ -265,7 +267,8 @@ private Transforms() {\n                 break;\n             case TIME:\n                 value = new FormField<>(setDefaultConfidenceValue(fieldValue.getConfidence()), labelText,\n-                    key, fieldValue.getValueTime(), valueText);\n+                    key, LocalTime.parse(fieldValue.getValueTime(), DateTimeFormatter.ofPattern(\"HH:mm:ss\")),", "originalCommit": "a4eb756ff2c9dbe7732504f731fcc91eff7e4bfc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAzMDEzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11655#discussion_r434030136", "bodyText": "How will that scenario look in the swagger? do you have an example?", "author": "maririos", "createdAt": "2020-06-02T16:56:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzODEyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA0NjU3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11655#discussion_r434046575", "bodyText": "Will send to you guys in chat since the example is a personal receipt", "author": "kristapratico", "createdAt": "2020-06-02T17:24:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzODEyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA1MzM5Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11655#discussion_r434053393", "bodyText": "Updated to add a null check before parsing, thanks Krista!", "author": "samvaity", "createdAt": "2020-06-02T17:35:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzODEyNg=="}], "type": "inlineReview", "revised_code": {"commit": "24a3d59410f89cd2b4dd418357fbb3340d86be29", "chunk": "diff --git a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/Transforms.java b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/Transforms.java\nindex c8a8373755e..1ba4f89eb9d 100644\n--- a/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/Transforms.java\n+++ b/sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/Transforms.java\n\n@@ -267,7 +267,9 @@ final class Transforms {\n                 break;\n             case TIME:\n                 value = new FormField<>(setDefaultConfidenceValue(fieldValue.getConfidence()), labelText,\n-                    key, LocalTime.parse(fieldValue.getValueTime(), DateTimeFormatter.ofPattern(\"HH:mm:ss\")),\n+                    key, fieldValue.getValueTime() == null\n+                    ? null\n+                    : LocalTime.parse(fieldValue.getValueTime(), DateTimeFormatter.ofPattern(\"HH:mm:ss\")),\n                     valueText);\n                 break;\n             case DATE:\n"}}, {"oid": "24a3d59410f89cd2b4dd418357fbb3340d86be29", "url": "https://github.com/Azure/azure-sdk-for-java/commit/24a3d59410f89cd2b4dd418357fbb3340d86be29", "message": "update to handle NPE", "committedDate": "2020-06-02T17:34:23Z", "type": "commit"}]}