{"pr_number": 16129, "pr_title": "modify timer as static", "pr_createdAt": "2020-10-10T01:32:58Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16129", "timeline": [{"oid": "57cd6eb1240cd4c68e9099d7bc76f076ef258a62", "url": "https://github.com/Azure/azure-sdk-for-java/commit/57cd6eb1240cd4c68e9099d7bc76f076ef258a62", "message": "modify timer as static", "committedDate": "2020-10-10T01:18:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyOTQ0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16129#discussion_r502729442", "bodyText": "private static final Timer TIMER = new Timer();", "author": "chenrujun", "createdAt": "2020-10-10T01:38:59Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java", "diffHunk": "@@ -51,6 +51,11 @@\n      */\n     private final List<String> secretKeys;\n \n+    /**\n+     * Stores the timer object to schedule refresh task.\n+     */\n+    private static Timer timer = new Timer();", "originalCommit": "57cd6eb1240cd4c68e9099d7bc76f076ef258a62", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "55eefb6052f2205f8055a63beec2fb57d80c97b9", "chunk": "diff --git a/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java b/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java\nindex a06a0d5e15c..e0daa5d2b5f 100644\n--- a/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java\n+++ b/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java\n\n@@ -54,7 +54,7 @@ public class KeyVaultOperation {\n     /**\n      * Stores the timer object to schedule refresh task.\n      */\n-    private static Timer timer = new Timer();\n+    private static final Timer TIMER = new Timer();\n \n     /**\n      * Constructor.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyOTU5Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16129#discussion_r502729592", "bodyText": "Delete this., because TIMER is not bind to this.", "author": "chenrujun", "createdAt": "2020-10-10T01:40:07Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java", "diffHunk": "@@ -73,14 +78,13 @@ public KeyVaultOperation(\n         refreshProperties();\n \n         if (refreshInMillis > 0) {\n-            final Timer timer = new Timer();\n             final TimerTask task = new TimerTask() {\n                 @Override\n                 public void run() {\n                     refreshProperties();\n                 }\n             };\n-            timer.scheduleAtFixedRate(task, refreshInMillis, refreshInMillis);\n+            this.timer.scheduleAtFixedRate(task, refreshInMillis, refreshInMillis);", "originalCommit": "57cd6eb1240cd4c68e9099d7bc76f076ef258a62", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "55eefb6052f2205f8055a63beec2fb57d80c97b9", "chunk": "diff --git a/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java b/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java\nindex a06a0d5e15c..e0daa5d2b5f 100644\n--- a/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java\n+++ b/sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/keyvault/spring/KeyVaultOperation.java\n\n@@ -84,7 +84,7 @@ public class KeyVaultOperation {\n                     refreshProperties();\n                 }\n             };\n-            this.timer.scheduleAtFixedRate(task, refreshInMillis, refreshInMillis);\n+            TIMER.scheduleAtFixedRate(task, refreshInMillis, refreshInMillis);\n         }\n     }\n \n"}}, {"oid": "55eefb6052f2205f8055a63beec2fb57d80c97b9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/55eefb6052f2205f8055a63beec2fb57d80c97b9", "message": "modify timer as final", "committedDate": "2020-10-10T02:12:43Z", "type": "commit"}]}