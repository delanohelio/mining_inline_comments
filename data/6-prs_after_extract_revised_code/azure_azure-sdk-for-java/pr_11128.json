{"pr_number": 11128, "pr_title": "mgmt storage update etag support", "pr_createdAt": "2020-05-13T05:54:16Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11128", "timeline": [{"oid": "ca43622a15ea2b9494064c0c701d47bd4f96ccfb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ca43622a15ea2b9494064c0c701d47bd4f96ccfb", "message": "mgmt storage update etag support", "committedDate": "2020-05-13T05:49:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMTQ0OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11128#discussion_r424221449", "bodyText": "Is it deadlock in this recursive function?", "author": "ChenTanyi", "createdAt": "2020-05-13T07:17:00Z", "path": "sdk/storage/mgmt/src/main/java/com/azure/management/storage/implementation/BlobContainersImpl.java", "diffHunk": "@@ -109,10 +101,19 @@ private ImmutabilityPolicyImpl wrapImmutabilityPolicyModel(ImmutabilityPolicyInn\n             .map(this::wrapImmutabilityPolicyModel);\n     }\n \n+    @Override\n+    public Mono<ImmutabilityPolicy> getImmutabilityPolicyAsync(\n+        String resourceGroupName, String accountName, String containerName, String eTagValue) {\n+        BlobContainersInner client = this.inner();\n+        return client\n+            .getImmutabilityPolicyAsync(resourceGroupName, accountName, containerName, eTagValue)\n+            .map(this::wrapImmutabilityPolicyModel);\n+    }\n+\n     @Override\n     public Mono<ImmutabilityPolicyInner> deleteImmutabilityPolicyAsync(\n         String resourceGroupName, String accountName, String containerName) {\n-        return deleteImmutabilityPolicyAsync(resourceGroupName, accountName, containerName, null);\n+        return deleteImmutabilityPolicyAsync(resourceGroupName, accountName, containerName);", "originalCommit": "ca43622a15ea2b9494064c0c701d47bd4f96ccfb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "538054db0b8eebfe318a9300d3a4f97edb928942", "chunk": "diff --git a/sdk/storage/mgmt/src/main/java/com/azure/management/storage/implementation/BlobContainersImpl.java b/sdk/storage/mgmt/src/main/java/com/azure/management/storage/implementation/BlobContainersImpl.java\nindex e4fca8164b3..f7434069cc4 100644\n--- a/sdk/storage/mgmt/src/main/java/com/azure/management/storage/implementation/BlobContainersImpl.java\n+++ b/sdk/storage/mgmt/src/main/java/com/azure/management/storage/implementation/BlobContainersImpl.java\n\n@@ -95,10 +95,7 @@ class BlobContainersImpl extends WrapperImpl<BlobContainersInner> implements Blo\n     @Override\n     public Mono<ImmutabilityPolicy> getImmutabilityPolicyAsync(\n         String resourceGroupName, String accountName, String containerName) {\n-        BlobContainersInner client = this.inner();\n-        return client\n-            .getImmutabilityPolicyAsync(resourceGroupName, accountName, containerName)\n-            .map(this::wrapImmutabilityPolicyModel);\n+        return getImmutabilityPolicyAsync(resourceGroupName, accountName, containerName, null);\n     }\n \n     @Override\n"}}, {"oid": "538054db0b8eebfe318a9300d3a4f97edb928942", "url": "https://github.com/Azure/azure-sdk-for-java/commit/538054db0b8eebfe318a9300d3a4f97edb928942", "message": "fix BlobContainers interface and impls", "committedDate": "2020-05-13T07:43:35Z", "type": "commit"}]}