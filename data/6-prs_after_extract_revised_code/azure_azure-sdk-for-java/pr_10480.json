{"pr_number": 10480, "pr_title": "mgmt: Deprecate getAccessProfile in aks and change some api", "pr_createdAt": "2020-04-24T05:08:23Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/10480", "timeline": [{"oid": "57090d065ad98f385599179ce07ccf3663a22e17", "url": "https://github.com/Azure/azure-sdk-for-java/commit/57090d065ad98f385599179ce07ccf3663a22e17", "message": "feat: Deprecate getAccessProfile and change api in aks", "committedDate": "2020-04-24T02:53:23Z", "type": "commit"}, {"oid": "82b84488955111a681e67e65ae1b7b2292f640b2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/82b84488955111a681e67e65ae1b7b2292f640b2", "message": "api change and fix in kubernentes cluster", "committedDate": "2020-04-24T03:13:43Z", "type": "commit"}, {"oid": "950979775a6327fe6563fb81d71ca189a47e2fc9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/950979775a6327fe6563fb81d71ca189a47e2fc9", "message": "feat: update session records", "committedDate": "2020-04-24T04:56:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414298501", "bodyText": "Just adminKubeConfigs?", "author": "weidongxu-microsoft", "createdAt": "2020-04-24T05:13:54Z", "path": "sdk/containerservice/mgmt/src/main/java/com/azure/management/containerservice/KubernetesCluster.java", "diffHunk": "@@ -40,6 +42,12 @@\n     /** @return the Kubernetes configuration file content with user-level privileges to the cluster */\n     byte[] userKubeConfigContent();\n \n+    /** @return the Kubernetes credentials with administrative privileges to the cluster */\n+    List<CredentialResult> listadminKubeConfigs();", "originalCommit": "950979775a6327fe6563fb81d71ca189a47e2fc9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMwMTM5OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414301399", "bodyText": "Is it confused with above one adminKubeConfigContent?", "author": "ChenTanyi", "createdAt": "2020-04-24T05:22:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMwMzUwMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414303501", "bodyText": "Better to have a name which matches the functionality. User your expertise :-)\nPersonally I prefer full name like adminKubernetesConfigures or adminKubernetesConfigureCredentials (return type is CredentialResult, so it is config or credential?)", "author": "weidongxu-microsoft", "createdAt": "2020-04-24T05:28:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMwODM1OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414308358", "bodyText": "Maybe KubeConfig is better than KubernetesConfigurate since the default file name is kube.config. So I think the final name could be adminKubeConfigCredentials?", "author": "ChenTanyi", "createdAt": "2020-04-24T05:42:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMxMjgxNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414312814", "bodyText": "I am still not sure whether it is credential or config...\nIf it is credential, this name should be fine. If it is config, maybe we can name it adminKubeConfigList?\nCredentialResult\n\n    /**\n     * The name of the credential.\n     */\n    @JsonProperty(value = \"name\", access = JsonProperty.Access.WRITE_ONLY)\n    private String name;\n\n    /**\n     * Base64-encoded Kubernetes configuration file.\n     */\n    @JsonProperty(value = \"value\", access = JsonProperty.Access.WRITE_ONLY)\n    private byte[] value;", "author": "weidongxu-microsoft", "createdAt": "2020-04-24T05:53:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMxNDQ2Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414314463", "bodyText": "In kubernetes, the cluster credential is stored in a config file named kube.config, which will be read by kubectl. This is what the value is. I'm not sure it is said as credential or config.", "author": "ChenTanyi", "createdAt": "2020-04-24T05:58:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMxODU5MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10480#discussion_r414318591", "bodyText": "Finally, I think naming to KubeConfigs is better.", "author": "ChenTanyi", "createdAt": "2020-04-24T06:08:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDI5ODUwMQ=="}], "type": "inlineReview", "revised_code": {"commit": "9516ff37a26288c4ec3a2ce3e844e5d66179ba41", "chunk": "diff --git a/sdk/containerservice/mgmt/src/main/java/com/azure/management/containerservice/KubernetesCluster.java b/sdk/containerservice/mgmt/src/main/java/com/azure/management/containerservice/KubernetesCluster.java\nindex da2979d66a2..71aa845abb1 100644\n--- a/sdk/containerservice/mgmt/src/main/java/com/azure/management/containerservice/KubernetesCluster.java\n+++ b/sdk/containerservice/mgmt/src/main/java/com/azure/management/containerservice/KubernetesCluster.java\n\n@@ -43,10 +43,10 @@ public interface KubernetesCluster\n     byte[] userKubeConfigContent();\n \n     /** @return the Kubernetes credentials with administrative privileges to the cluster */\n-    List<CredentialResult> listadminKubeConfigs();\n+    List<CredentialResult> adminKubeConfigList();\n \n     /** @return the Kubernetes credentials with user-level privileges to the cluster */\n-    List<CredentialResult> listuserKubeConfigs();\n+    List<CredentialResult> userKubeConfigList();\n \n     /** @return the service principal client ID */\n     String servicePrincipalClientId();\n"}}, {"oid": "9516ff37a26288c4ec3a2ce3e844e5d66179ba41", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9516ff37a26288c4ec3a2ce3e844e5d66179ba41", "message": "fix: change listKubeConfigs to kubeConfigList", "committedDate": "2020-04-24T06:03:49Z", "type": "commit"}, {"oid": "9b647504140ce3e54a51e1e213feb05bc771e15c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9b647504140ce3e54a51e1e213feb05bc771e15c", "message": "fix: change kubeConfigList to kubeConfigs", "committedDate": "2020-04-24T06:07:16Z", "type": "commit"}]}