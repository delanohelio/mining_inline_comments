{"pr_number": 6826, "pr_title": "Merge Stitch and Realm SDKs - 2: add task framework from Stitch", "pr_createdAt": "2020-05-01T16:55:25Z", "pr_url": "https://github.com/realm/realm-java/pull/6826", "timeline": [{"oid": "4311dbfe5ddc7ef7d0c22e256a9a6f0093c3c265", "url": "https://github.com/realm/realm-java/commit/4311dbfe5ddc7ef7d0c22e256a9a6f0093c3c265", "message": "First iteration: added GMS library (possibly temporarily) to avoid introducing immediate breaking changes in how we process asynchronous operations with AsyncRealmTask. All original Stitch interfaces and proxies have been discarded in favour of Java classes (although this approach might be changed). Some interfaces connected to the collection's iterables have been omitted as it is unclear whether they will be needed or not for the time being.", "committedDate": "2020-04-16T12:48:37Z", "type": "commit"}, {"oid": "12a6ea4ce101c9448d84ec1793f93457cf22a48a", "url": "https://github.com/realm/realm-java/commit/12a6ea4ce101c9448d84ec1793f93457cf22a48a", "message": "Added licences to class headers plus a bit of cleanup", "committedDate": "2020-04-17T11:20:56Z", "type": "commit"}, {"oid": "9d69273176733c69855147230e841597a5e33ee1", "url": "https://github.com/realm/realm-java/commit/9d69273176733c69855147230e841597a5e33ee1", "message": "Added latest API methods and necessary classes", "committedDate": "2020-04-17T13:35:47Z", "type": "commit"}, {"oid": "11dcd85ade762ec524a4adf5cb7ffd22f1c8ae0b", "url": "https://github.com/realm/realm-java/commit/11dcd85ade762ec524a4adf5cb7ffd22f1c8ae0b", "message": "Added remote mongo client and remote database, their respective Os files and part of the native logic", "committedDate": "2020-04-24T12:24:06Z", "type": "commit"}, {"oid": "c6c92e992267d693e9916e7a82c886f2eac4bf6b", "url": "https://github.com/realm/realm-java/commit/c6c92e992267d693e9916e7a82c886f2eac4bf6b", "message": "Moved JNI callbacks outside RealmApp and added more remote collection classes", "committedDate": "2020-04-27T13:27:41Z", "type": "commit"}, {"oid": "f09c10397bd271a6b9e757ae5e2074c313f88ef3", "url": "https://github.com/realm/realm-java/commit/f09c10397bd271a6b9e757ae5e2074c313f88ef3", "message": "Updated object store branch to v10 and fixed wrong use of count call", "committedDate": "2020-04-27T14:33:15Z", "type": "commit"}, {"oid": "a3988dee91afd1aea6d692d768b691265c3d41d2", "url": "https://github.com/realm/realm-java/commit/a3988dee91afd1aea6d692d768b691265c3d41d2", "message": "Merge branch 'el/remote-mongodb-client' into el/remote-mongodb-client-scaffold\n\n# Conflicts:\n#\trealm/realm-library/src/main/cpp/object-store\n#\trealm/realm-library/src/objectServer/java/io/realm/RealmApp.java", "committedDate": "2020-04-28T09:58:09Z", "type": "commit"}, {"oid": "c3936bf7734d617ae9f313d360b6af9a4f7d5e1d", "url": "https://github.com/realm/realm-java/commit/c3936bf7734d617ae9f313d360b6af9a4f7d5e1d", "message": "Cleanup", "committedDate": "2020-04-28T10:04:46Z", "type": "commit"}, {"oid": "a10c2ee24b1e4868c44c4a7d130f2d300c60cc68", "url": "https://github.com/realm/realm-java/commit/a10c2ee24b1e4868c44c4a7d130f2d300c60cc68", "message": "Added task-related classes from Stitch", "committedDate": "2020-04-28T14:09:45Z", "type": "commit"}, {"oid": "0d1b58cc5c0c067b2c1afb0331b6633ff11b8593", "url": "https://github.com/realm/realm-java/commit/0d1b58cc5c0c067b2c1afb0331b6633ff11b8593", "message": "Fixed wrong finalizer methods and cleanup to interop files", "committedDate": "2020-05-01T12:17:52Z", "type": "commit"}, {"oid": "ecc7963da89e24dd128f4723b144a7a0a4aa2f0f", "url": "https://github.com/realm/realm-java/commit/ecc7963da89e24dd128f4723b144a7a0a4aa2f0f", "message": "Merge branch 'el/remote-mongodb-client-scaffold' into el/remote-mongodb-client-gms-tasks", "committedDate": "2020-05-01T12:30:03Z", "type": "commit"}, {"oid": "55416d01adab692b3c258c8555cf2dd1d4435815", "url": "https://github.com/realm/realm-java/commit/55416d01adab692b3c258c8555cf2dd1d4435815", "message": "Moved classes", "committedDate": "2020-05-01T16:19:57Z", "type": "commit"}, {"oid": "df8f51161bc9b2a13bf70c3d07392c1e7086fdb6", "url": "https://github.com/realm/realm-java/commit/df8f51161bc9b2a13bf70c3d07392c1e7086fdb6", "message": "Merge branch 'v10' into el/remote-mongodb-client-gms-tasks\n\n# Conflicts:\n#\trealm/realm-library/build.gradle\n#\trealm/realm-library/src/main/cpp/io_realm_internal_objectstore_OsRemoteMongoClient.cpp\n#\trealm/realm-library/src/main/cpp/io_realm_internal_objectstore_OsRemoteMongoCollection.cpp\n#\trealm/realm-library/src/main/cpp/io_realm_internal_objectstore_OsRemoteMongoDatabase.cpp\n#\trealm/realm-library/src/main/cpp/object-store\n#\trealm/realm-library/src/objectServer/java/io/realm/RealmUser.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/common/AsyncAdapter.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/common/Callback.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/common/CallbackAsyncAdapter.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/jni/OsJNIVoidResultCallback.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/objectstore/OsRemoteMongoClient.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/objectstore/OsRemoteMongoCollection.java\n#\trealm/realm-library/src/objectServer/java/io/realm/internal/objectstore/OsRemoteMongoDatabase.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/MongoNamespace.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/RealmMongoDBCollection.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/RealmMongoDBDatabase.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/RealmMongoDBService.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/RemoteMongoClient.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/RemoteMongoCollection.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/RemoteMongoDatabase.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/remote/RemoteDeleteResult.java\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/remote/aggregate/RemoteAggregateIterable.java", "committedDate": "2020-05-01T16:31:00Z", "type": "commit"}, {"oid": "ae9950ea40c4850eb94c2ab104f37a783977f3b1", "url": "https://github.com/realm/realm-java/commit/ae9950ea40c4850eb94c2ab104f37a783977f3b1", "message": "Updated OS pointer", "committedDate": "2020-05-01T16:43:21Z", "type": "commit"}, {"oid": "7695d14936b5bcb8f7b24ac465554042bed9f3ae", "url": "https://github.com/realm/realm-java/commit/7695d14936b5bcb8f7b24ac465554042bed9f3ae", "message": "Removed duplicate entries in CMakeLists", "committedDate": "2020-05-01T16:53:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM3NzQ1MQ==", "url": "https://github.com/realm/realm-java/pull/6826#discussion_r419377451", "bodyText": "Instead of using @Nonnull you should use the package level annotations. Ideally non-null is the default and @nullable the exception.", "author": "cmelchior", "createdAt": "2020-05-04T11:45:22Z", "path": "realm/realm-library/src/objectServer/java/io/realm/internal/common/Callback.java", "diffHunk": "@@ -0,0 +1,23 @@\n+/*\n+ * Copyright 2020 Realm Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.realm.internal.common;\n+\n+import javax.annotation.Nonnull;\n+\n+public interface Callback<T, U> {\n+    void onComplete(@Nonnull OperationResult<T, U> result);", "originalCommit": "7695d14936b5bcb8f7b24ac465554042bed9f3ae", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "d47441a087d4264f632b57613eb22190e53a0149", "url": "https://github.com/realm/realm-java/commit/d47441a087d4264f632b57613eb22190e53a0149", "message": "Merge branch 'v10' into el/remote-mongodb-client-gms-tasks", "committedDate": "2020-05-04T12:35:18Z", "type": "commit"}, {"oid": "417b7cbe0e7c36ae2a89413b2d7aecb1c3521979", "url": "https://github.com/realm/realm-java/commit/417b7cbe0e7c36ae2a89413b2d7aecb1c3521979", "message": "added suppresswarnings for ignored futures - issue inherited from Stitch's task framework - test to see if Jenkins swallows it", "committedDate": "2020-05-04T16:49:31Z", "type": "commit"}]}