{"pr_number": 1491, "pr_title": "Fix Lint Warnings", "pr_createdAt": "2020-09-09T18:44:01Z", "pr_url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491", "timeline": [{"oid": "66487d28febdd61381b8860aee4240b858a772de", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/66487d28febdd61381b8860aee4240b858a772de", "message": "Fix warnings in hello sdl android", "committedDate": "2020-09-09T15:59:00Z", "type": "commit"}, {"oid": "1b96362307b87079aa5ff7f27178a28cbc234de2", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/1b96362307b87079aa5ff7f27178a28cbc234de2", "message": "Fix warnings in hello sdl java", "committedDate": "2020-09-09T17:38:28Z", "type": "commit"}, {"oid": "0948fc68c53621082baedbacef976e0bf211a9df", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/0948fc68c53621082baedbacef976e0bf211a9df", "message": "Merge branch 'develop' into feature/fix_lint_warnings", "committedDate": "2020-09-09T18:10:49Z", "type": "commit"}, {"oid": "ad99dd774d1726a2b5f0901cf82b8ed62fb027e4", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ad99dd774d1726a2b5f0901cf82b8ed62fb027e4", "message": "Fix warnings in managers part 1", "committedDate": "2020-09-09T21:14:52Z", "type": "commit"}, {"oid": "fd96983377fad92eefa3818fd24c58aee0b6180c", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/fd96983377fad92eefa3818fd24c58aee0b6180c", "message": "Fix warnings in managers part 2", "committedDate": "2020-09-10T14:28:14Z", "type": "commit"}, {"oid": "b605d96968ee091b52d6f7b4cc27a1f6a8379216", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/b605d96968ee091b52d6f7b4cc27a1f6a8379216", "message": "Fix warnings in encoder", "committedDate": "2020-09-10T14:38:43Z", "type": "commit"}, {"oid": "15197f1bedba34c2fa580a0e31812c304934d08a", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/15197f1bedba34c2fa580a0e31812c304934d08a", "message": "Fix warnings in marshal", "committedDate": "2020-09-10T14:41:39Z", "type": "commit"}, {"oid": "973dcb3b04e4fbc84524217f94b1fb8a287030a0", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/973dcb3b04e4fbc84524217f94b1fb8a287030a0", "message": "Fix warnings in protocol", "committedDate": "2020-09-10T14:53:53Z", "type": "commit"}, {"oid": "a2e9125653d272cd6926bf74137cf18372343bc1", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a2e9125653d272cd6926bf74137cf18372343bc1", "message": "Fix warnings in protocol part 2", "committedDate": "2020-09-10T14:58:35Z", "type": "commit"}, {"oid": "45edbcd610015e2030159a2739a5674e0f2d9b93", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/45edbcd610015e2030159a2739a5674e0f2d9b93", "message": "Remove unnecessary modifiers from interfaces", "committedDate": "2020-09-10T15:03:23Z", "type": "commit"}, {"oid": "024bc3cefbf00c4e261ddebfd0e2f3af17571768", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/024bc3cefbf00c4e261ddebfd0e2f3af17571768", "message": "Fix unit tests", "committedDate": "2020-09-10T15:19:08Z", "type": "commit"}, {"oid": "8346d2a24988441298cafcc5e3fa0d5f954f0b21", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/8346d2a24988441298cafcc5e3fa0d5f954f0b21", "message": "Fix warnings in proxy", "committedDate": "2020-09-10T16:18:57Z", "type": "commit"}, {"oid": "41b3f274fa70d701747c7d0293cdf64a333bfb29", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/41b3f274fa70d701747c7d0293cdf64a333bfb29", "message": "Remove SuppressWarnings from RPCs", "committedDate": "2020-09-10T16:23:24Z", "type": "commit"}, {"oid": "bd3be0702931a6b440612795fc8c73c052a9acbb", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/bd3be0702931a6b440612795fc8c73c052a9acbb", "message": "Fix warnings in rpcs", "committedDate": "2020-09-10T18:23:58Z", "type": "commit"}, {"oid": "f2ca3db47bb8b4381f3086db44dc0f7f82ae5183", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/f2ca3db47bb8b4381f3086db44dc0f7f82ae5183", "message": "Fix warnings in SdlConnection", "committedDate": "2020-09-10T19:06:04Z", "type": "commit"}, {"oid": "23ccf0727010c9564465591078db1ba15523d320", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/23ccf0727010c9564465591078db1ba15523d320", "message": "Fix warnings in security", "committedDate": "2020-09-10T19:31:45Z", "type": "commit"}, {"oid": "8b400336c1e4a43ad38b5bb413be424efc1ff411", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/8b400336c1e4a43ad38b5bb413be424efc1ff411", "message": "Fix warnings in streaming", "committedDate": "2020-09-10T19:35:03Z", "type": "commit"}, {"oid": "ddd9516a4b29ebf3d7af37584db63ac14f149ec8", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ddd9516a4b29ebf3d7af37584db63ac14f149ec8", "message": "Fix unit tests", "committedDate": "2020-09-10T19:42:11Z", "type": "commit"}, {"oid": "a0c47ddd1ac12ec3d1932fcfd65766afd6d039fb", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a0c47ddd1ac12ec3d1932fcfd65766afd6d039fb", "message": "Fix warnings in trace", "committedDate": "2020-09-10T20:17:08Z", "type": "commit"}, {"oid": "b861d8944c6f2662db86cffcf75cf0ad7df48837", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/b861d8944c6f2662db86cffcf75cf0ad7df48837", "message": "fix warnings in util", "committedDate": "2020-09-10T20:42:15Z", "type": "commit"}, {"oid": "288207f3be59817b8a9244c9fc2dae22dc1d32a4", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/288207f3be59817b8a9244c9fc2dae22dc1d32a4", "message": "fix warnings in transport part1", "committedDate": "2020-09-10T20:54:41Z", "type": "commit"}, {"oid": "2e3f8f94c1828c7f8f4858cde480e24d18d72c6c", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/2e3f8f94c1828c7f8f4858cde480e24d18d72c6c", "message": "fix warnings in transport part2", "committedDate": "2020-09-10T21:21:10Z", "type": "commit"}, {"oid": "23736c374a31a33406d45e4002b694a120661f62", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/23736c374a31a33406d45e4002b694a120661f62", "message": "fix warnings in transport part3", "committedDate": "2020-09-10T21:32:07Z", "type": "commit"}, {"oid": "be86b886367ddd224ecb2b92ca4e7060c7361fec", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/be86b886367ddd224ecb2b92ca4e7060c7361fec", "message": "Merge branch 'develop' into feature/fix_lint_warnings", "committedDate": "2020-09-11T15:52:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODExMTM0NQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r488111345", "bodyText": "We specifically want to wait for this commit to happen; apply will return immediately.", "author": "joeygrover", "createdAt": "2020-09-14T17:42:44Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/SdlDeviceListener.java", "diffHunk": "@@ -197,7 +197,7 @@ public static void setSDLConnectedStatus(Context context, String address, boolea\n                 }\n                 SharedPreferences.Editor editor = preferences.edit();\n                 editor.putBoolean(address, hasSDLConnected);\n-                editor.commit();\n+                editor.apply();", "originalCommit": "be86b886367ddd224ecb2b92ca4e7060c7361fec", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b8eddc6009f037756002ebe5da116abd3c426acd", "chunk": "diff --git a/android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/SdlDeviceListener.java b/android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/SdlDeviceListener.java\nindex 05753a6ef..1ca1f8d97 100644\n--- a/android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/SdlDeviceListener.java\n+++ b/android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/SdlDeviceListener.java\n\n@@ -197,7 +197,7 @@ public class SdlDeviceListener {\n                 }\n                 SharedPreferences.Editor editor = preferences.edit();\n                 editor.putBoolean(address, hasSDLConnected);\n-                editor.apply();\n+                editor.commit();\n             }\n         }\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk3ODk2NQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r487978965", "bodyText": "Is this check needed because iconDir will never be null", "author": "RHenigan", "createdAt": "2020-09-14T14:31:49Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/lockscreen/LockScreenDeviceIconManager.java", "diffHunk": "@@ -206,9 +206,11 @@ private String getMD5HashFromIconUrl(String iconUrl) {\n      */\n     private void clearIconDirectory() {\n         File iconDir = new File(context.getCacheDir() + \"/\" + STORED_ICON_DIRECTORY_PATH);\n-        if (iconDir.listFiles() != null) {\n+        if (iconDir != null && iconDir.listFiles() != null) {", "originalCommit": "be86b886367ddd224ecb2b92ca4e7060c7361fec", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3ea5dcc98a15e1cc1b273a7526b91e1ac90d1d4b", "chunk": "diff --git a/android/sdl_android/src/main/java/com/smartdevicelink/managers/lockscreen/LockScreenDeviceIconManager.java b/android/sdl_android/src/main/java/com/smartdevicelink/managers/lockscreen/LockScreenDeviceIconManager.java\nindex bd8b6199a..603435800 100644\n--- a/android/sdl_android/src/main/java/com/smartdevicelink/managers/lockscreen/LockScreenDeviceIconManager.java\n+++ b/android/sdl_android/src/main/java/com/smartdevicelink/managers/lockscreen/LockScreenDeviceIconManager.java\n\n@@ -206,7 +206,7 @@ class LockScreenDeviceIconManager {\n      */\n     private void clearIconDirectory() {\n         File iconDir = new File(context.getCacheDir() + \"/\" + STORED_ICON_DIRECTORY_PATH);\n-        if (iconDir != null && iconDir.listFiles() != null) {\n+        if (iconDir.listFiles() != null) {\n             for (File child : iconDir.listFiles()) {\n                 if (child != null) {\n                     child.delete();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk5MjY2NQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r487992665", "bodyText": "Should this just be removed its an empty comment block after the Copyright", "author": "RHenigan", "createdAt": "2020-09-14T14:49:50Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/trace/TraceDeviceInfo.java", "diffHunk": "@@ -29,8 +29,8 @@\n  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n  * POSSIBILITY OF SUCH DAMAGE.\r\n  */\r\n-/**\r\n- * \r\n+/*\r\n+\r", "originalCommit": "be86b886367ddd224ecb2b92ca4e7060c7361fec", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3ea5dcc98a15e1cc1b273a7526b91e1ac90d1d4b", "chunk": "diff --git a/android/sdl_android/src/main/java/com/smartdevicelink/trace/TraceDeviceInfo.java b/android/sdl_android/src/main/java/com/smartdevicelink/trace/TraceDeviceInfo.java\nindex f818695c6..5f2452125 100644\n--- a/android/sdl_android/src/main/java/com/smartdevicelink/trace/TraceDeviceInfo.java\n+++ b/android/sdl_android/src/main/java/com/smartdevicelink/trace/TraceDeviceInfo.java\n\n@@ -28,9 +28,6 @@\n  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n  * POSSIBILITY OF SUCH DAMAGE.\n- */\n-/*\n-\n  */\n package com.smartdevicelink.trace;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE0MzE3MA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r488143170", "bodyText": "This Change gives me a warning in android studio\n\"Multi-catch with these reflection exceptions requires API level 19 (current min is 16) because they get compiled to the common but new super type ReflectiveOperationException. As a workaround either create individual catch statements, or catch Exception.\"\nCurrently we set the min as JellyBean not KitKat", "author": "RHenigan", "createdAt": "2020-09-14T18:39:28Z", "path": "base/src/main/java/com/smartdevicelink/proxy/RPCStruct.java", "diffHunk": "@@ -336,9 +336,7 @@ protected Object getValueForString(Class tClass, String s){\n \t\tif(valueForString != null){\r\n \t\t\ttry {\r\n \t\t\t\treturn valueForString.invoke(null, (String) s);\r\n-\t\t\t} catch (IllegalAccessException e) {\r\n-\t\t\t\te.printStackTrace();\r\n-\t\t\t} catch (InvocationTargetException e) {\r\n+\t\t\t} catch (IllegalAccessException | InvocationTargetException e) {\r", "originalCommit": "be86b886367ddd224ecb2b92ca4e7060c7361fec", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3ea5dcc98a15e1cc1b273a7526b91e1ac90d1d4b", "chunk": "diff --git a/base/src/main/java/com/smartdevicelink/proxy/RPCStruct.java b/base/src/main/java/com/smartdevicelink/proxy/RPCStruct.java\nindex c8a0443d7..e7d915b1e 100644\n--- a/base/src/main/java/com/smartdevicelink/proxy/RPCStruct.java\n+++ b/base/src/main/java/com/smartdevicelink/proxy/RPCStruct.java\n\n@@ -336,7 +336,9 @@ public class RPCStruct {\n \t\tif(valueForString != null){\n \t\t\ttry {\n \t\t\t\treturn valueForString.invoke(null, (String) s);\n-\t\t\t} catch (IllegalAccessException | InvocationTargetException e) {\n+\t\t\t} catch (IllegalAccessException e) {\n+\t\t\t\te.printStackTrace();\n+\t\t\t} catch (InvocationTargetException e) {\n \t\t\t\te.printStackTrace();\n \t\t\t}\n \t\t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE2Njc3Mw==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r488166773", "bodyText": "Why was this removed?", "author": "RHenigan", "createdAt": "2020-09-14T19:22:17Z", "path": "base/src/main/java/com/smartdevicelink/transport/SiphonServer.java", "diffHunk": "@@ -234,14 +234,11 @@ private static Boolean sendSiphonData(SiphonDataType direction, byte[] msgBytes,\n \t\tbyte siphonDataTypeIndicator = 0x00;\r\n \t\t\r\n \t\tlong currentDateTime = System.currentTimeMillis();\r\n-\t\tInteger deltaTimeMills = null;\r\n+\t\tInteger deltaTimeMills;\r\n \t\t\t\r\n \t\tdeltaTimeMills = (int)(currentDateTime - m_startTimeStamp);\r\n \t\t\r\n \t\tswitch(direction) {\r\n-\t\t\tcase fromSdl:\r\n-\t\t\t\tsiphonDataTypeIndicator = 0x00;\r\n-\t\t\t\tbreak;\r", "originalCommit": "be86b886367ddd224ecb2b92ca4e7060c7361fec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5MDE3OQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r488190179", "bodyText": "Because it is covered in the default entry. But I will add it back if you think it makes it less readable.", "author": "bilal-alsharifi", "createdAt": "2020-09-14T20:07:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE2Njc3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5NDk1Ng==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1491#discussion_r488194956", "bodyText": "I think it is fine to leave it out", "author": "RHenigan", "createdAt": "2020-09-14T20:17:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE2Njc3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "3ea5dcc98a15e1cc1b273a7526b91e1ac90d1d4b", "chunk": "diff --git a/base/src/main/java/com/smartdevicelink/transport/SiphonServer.java b/base/src/main/java/com/smartdevicelink/transport/SiphonServer.java\nindex 25b0e940c..3648bd8fc 100644\n--- a/base/src/main/java/com/smartdevicelink/transport/SiphonServer.java\n+++ b/base/src/main/java/com/smartdevicelink/transport/SiphonServer.java\n\n@@ -239,6 +239,9 @@ public class SiphonServer {\n \t\tdeltaTimeMills = (int)(currentDateTime - m_startTimeStamp);\n \t\t\n \t\tswitch(direction) {\n+\t\t\tcase fromSdl:\n+\t\t\t\tsiphonDataTypeIndicator = 0x00;\n+\t\t\t\tbreak;\n \t\t\tcase fromApp:\n \t\t\t\tsiphonDataTypeIndicator = 0x01;\n \t\t\t\tbreak;\n"}}, {"oid": "b8eddc6009f037756002ebe5da116abd3c426acd", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/b8eddc6009f037756002ebe5da116abd3c426acd", "message": "Change commit() back to apply()", "committedDate": "2020-09-14T20:15:17Z", "type": "commit"}, {"oid": "68d4435105bd08756e938a5aaead65ad76d4e0f7", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/68d4435105bd08756e938a5aaead65ad76d4e0f7", "message": "Change commit() back to apply()", "committedDate": "2020-09-14T20:16:02Z", "type": "commit"}, {"oid": "3ea5dcc98a15e1cc1b273a7526b91e1ac90d1d4b", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/3ea5dcc98a15e1cc1b273a7526b91e1ac90d1d4b", "message": "Make requested review changes", "committedDate": "2020-09-14T20:22:31Z", "type": "commit"}]}