{"pr_number": 1307, "pr_title": "Add Override Equals method to softButtonObject", "pr_createdAt": "2020-03-12T18:25:43Z", "pr_url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307", "timeline": [{"oid": "0a72eb7ff10ef50e907d52b08e7f9e01f4837992", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/0a72eb7ff10ef50e907d52b08e7f9e01f4837992", "message": "Added custom equals and hashcode method to SdlFile", "committedDate": "2020-03-12T14:34:08Z", "type": "commit"}, {"oid": "03d8ca66cc939247d6bedacff99a8ae9f6489a73", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/03d8ca66cc939247d6bedacff99a8ae9f6489a73", "message": "Added custom equals and hashcode method to sdlfile in JavaSE", "committedDate": "2020-03-12T14:35:14Z", "type": "commit"}, {"oid": "43c4d037b96b1900f937d9f5fc02176266aed34d", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/43c4d037b96b1900f937d9f5fc02176266aed34d", "message": "Added custom equals and hashcode method to SoftbuttonObject", "committedDate": "2020-03-12T14:36:17Z", "type": "commit"}, {"oid": "37524ed4976d0cafa1942f23dbcae8df43926915", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/37524ed4976d0cafa1942f23dbcae8df43926915", "message": "Added custom equals method and hashcode object to softButtonState", "committedDate": "2020-03-12T14:41:25Z", "type": "commit"}, {"oid": "88ed79d619eed87fcb70f368e4cf9baa3d055ef9", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/88ed79d619eed87fcb70f368e4cf9baa3d055ef9", "message": "Unit Test For softbuttonState", "committedDate": "2020-03-12T14:44:46Z", "type": "commit"}, {"oid": "82986241b049fd26adfc7adf976d8e806c9571d1", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/82986241b049fd26adfc7adf976d8e806c9571d1", "message": "Added unit test for SoftButtonObject", "committedDate": "2020-03-12T14:48:19Z", "type": "commit"}, {"oid": "eeb2ff532bfb6f7d8525b7f4e3cb219a2e3a244e", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/eeb2ff532bfb6f7d8525b7f4e3cb219a2e3a244e", "message": "Added unit test for SdlFile", "committedDate": "2020-03-12T14:49:41Z", "type": "commit"}, {"oid": "9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "message": "Removed test because we removed check from equals method for eventListeners", "committedDate": "2020-03-12T18:01:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg2MDIzOQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307#discussion_r391860239", "bodyText": "No need to check primitives for null:\n@Override\npublic int hashCode() {\n    int result = 1;\n    result += ((getName() == null) ? 0 : Integer.rotateLeft(getName().hashCode(), 1));\n    result += ((getUri() == null) ? 0 : Integer.rotateLeft(getUri().hashCode(), 2));\n    result += ((getFileData() == null) ? 0 : Integer.rotateLeft(getFileData().hashCode(), 3));\n    result += ((getType() == null) ? 0 : Integer.rotateLeft(getType().hashCode(), 4));\n    result += Integer.rotateLeft(Boolean.valueOf(isStaticIcon()).hashCode(), 5);\n    result += Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6);\n    result += Integer.rotateLeft(Integer.valueOf(getResourceId()).hashCode(), 7);\n    return result;\n}", "author": "bilal-alsharifi", "createdAt": "2020-03-12T20:00:25Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java", "diffHunk": "@@ -237,4 +237,37 @@ public boolean getOverwrite() {\n     public void setOverwrite(boolean overwrite) {\n         this.overwrite = overwrite;\n     }\n+\n+    /**\n+     * Used to compile hashcode for SdlFile for use to compare in overridden equals method\n+     * @return Custom hashcode of SdlFile variables\n+     */\n+    @Override\n+    public int hashCode() {", "originalCommit": "9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8642a76d69bba2bbf693583f0d122e6669e06130", "chunk": "diff --git a/android/sdl_android/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java b/android/sdl_android/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\nindex 125a9df87..f028119c3 100644\n--- a/android/sdl_android/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\n+++ b/android/sdl_android/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\n\n@@ -249,9 +249,9 @@ public class SdlFile{\n         result += ((getUri() == null) ? 0 : Integer.rotateLeft(getUri().hashCode(), 2));\n         result += ((getFileData() == null) ? 0 : Integer.rotateLeft(getFileData().hashCode(), 3));\n         result += ((getType() == null) ? 0 : Integer.rotateLeft(getType().hashCode(), 4));\n-        result += ((Boolean.valueOf(isStaticIcon) == null) ? 0 : Integer.rotateLeft(Boolean.valueOf(isStaticIcon).hashCode(), 5));\n-        result += ((Boolean.valueOf(isPersistent()) == null) ? 0 : Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6));\n-        result += ((Integer.valueOf(getResourceId()) == null) ? 0 : Integer.rotateLeft(Integer.valueOf(getResourceId()).hashCode(), 7));\n+        result += Integer.rotateLeft(Boolean.valueOf(isStaticIcon()).hashCode(), 5);\n+        result += Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6);\n+        result += Integer.rotateLeft(Integer.valueOf(getResourceId()).hashCode(), 7);\n         return result;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg2MjE1OA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307#discussion_r391862158", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void testSoftButtonEquals() {\n          \n          \n            \n                public void testSoftButtonObjectEquals() {\n          \n      \n    \n    \n  \n\nSoftButton and SoftButtonObjects are two different classes", "author": "bilal-alsharifi", "createdAt": "2020-03-12T20:02:50Z", "path": "android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/screen/SoftButtonManagerTests.java", "diffHunk": "@@ -305,4 +308,101 @@ public void testAssigningIdsToSoftButtonObjects() {\n         assertEquals(\"SoftButtonObject id doesn't match the expected value\", 100, sbo4.getButtonId());\n         assertEquals(\"SoftButtonObject id doesn't match the expected value\", 103, sbo5.getButtonId());\n     }\n+\n+    /**\n+     * Test custom overridden softButtonObject equals method\n+     */\n+    public void testSoftButtonEquals() {", "originalCommit": "9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "edd482b5418b085446b5c1b546d9b881a4afad10", "chunk": "diff --git a/android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/screen/SoftButtonManagerTests.java b/android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/screen/SoftButtonManagerTests.java\nindex 94c7458e0..93688f570 100644\n--- a/android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/screen/SoftButtonManagerTests.java\n+++ b/android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/screen/SoftButtonManagerTests.java\n\n@@ -312,7 +312,7 @@ public class SoftButtonManagerTests extends AndroidTestCase2 {\n     /**\n      * Test custom overridden softButtonObject equals method\n      */\n-    public void testSoftButtonEquals() {\n+    public void testSoftButtonObjectEquals() {\n         SoftButtonObject softButtonObject1;\n         SoftButtonObject softButtonObject2;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg2NTk1OQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307#discussion_r391865959", "bodyText": "buttonId should be compared too", "author": "bilal-alsharifi", "createdAt": "2020-03-12T20:07:27Z", "path": "base/src/main/java/com/smartdevicelink/managers/screen/SoftButtonObject.java", "diffHunk": "@@ -309,4 +309,35 @@ public void setOnEventListener(OnEventListener onEventListener) {\n          */\n         void onUpdate();\n     }\n+\n+    /**\n+     * Used to compile hashcode for SoftButtonsObjects for use to compare in equals method\n+     * @return Custom hashcode of SoftButtonObjects variables\n+     */\n+    @Override\n+    public int hashCode() {", "originalCommit": "9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "67b2ef63aedfb10437685e11186b0ac90963c390", "chunk": "diff --git a/base/src/main/java/com/smartdevicelink/managers/screen/SoftButtonObject.java b/base/src/main/java/com/smartdevicelink/managers/screen/SoftButtonObject.java\nindex 16a4c36af..76eb98b1e 100644\n--- a/base/src/main/java/com/smartdevicelink/managers/screen/SoftButtonObject.java\n+++ b/base/src/main/java/com/smartdevicelink/managers/screen/SoftButtonObject.java\n\n@@ -319,8 +319,9 @@ public class SoftButtonObject {\n         int result = 1;\n         result += ((getName() == null) ? 0 : Integer.rotateLeft(getName().hashCode(), 1));\n         result += ((getCurrentStateName() == null) ? 0 : Integer.rotateLeft(getCurrentStateName().hashCode(), 2));\n+        result += Integer.rotateLeft(Integer.valueOf(getButtonId()).hashCode(), 3);\n         for (int i = 0; i < this.states.size(); i++) {\n-            result += ((getStates().get(i) == null) ? 0 : Integer.rotateLeft(getStates().get(i).hashCode(), i + 2));\n+            result += ((getStates().get(i) == null) ? 0 : Integer.rotateLeft(getStates().get(i).hashCode(), i + 4));\n         }\n         return result;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg2OTQ2MQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307#discussion_r391869461", "bodyText": "primitives don't need to be checked for null:\n@Override\npublic int hashCode() {\n    int result = 1;\n    result += ((getName() == null) ? 0 : Integer.rotateLeft(getName().hashCode(), 1));\n    result += ((getFilePath() == null) ? 0 : Integer.rotateLeft(getFilePath().hashCode(), 2));\n    result += ((getFileData() == null) ? 0 : Integer.rotateLeft(getFileData().hashCode(), 3));\n    result += ((getType() == null) ? 0 : Integer.rotateLeft(getType().hashCode(), 4));\n    result += Integer.rotateLeft(Boolean.valueOf(isStaticIcon()).hashCode(), 5);\n    result += Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6);\n    return result;\n}", "author": "bilal-alsharifi", "createdAt": "2020-03-12T20:12:52Z", "path": "javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java", "diffHunk": "@@ -203,4 +203,36 @@ public boolean getOverwrite() {\n     public void setOverwrite(boolean overwrite) {\n         this.overwrite = overwrite;\n     }\n+\n+    /**\n+     * Used to compile hashcode for SdlFile for use to compare in equals method\n+     * @return Custom hashcode of SdlFile variables\n+     */\n+    @Override\n+    public int hashCode() {", "originalCommit": "9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2f0020dd6ae110deb46c534f0463f0d0043abb3b", "chunk": "diff --git a/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java b/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\nindex 89f8d1f23..d3a8c1342 100644\n--- a/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\n+++ b/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\n\n@@ -215,8 +215,8 @@ public class SdlFile{\n         result += ((getFilePath() == null) ? 0 : Integer.rotateLeft(getFilePath().hashCode(), 2));\n         result += ((getFileData() == null) ? 0 : Integer.rotateLeft(getFileData().hashCode(), 3));\n         result += ((getType() == null) ? 0 : Integer.rotateLeft(getType().hashCode(), 4));\n-        result += ((Boolean.valueOf(isStaticIcon) == null) ? 0 : Integer.rotateLeft(Boolean.valueOf(isStaticIcon).hashCode(), 5));\n-        result += ((Boolean.valueOf(isPersistent()) == null) ? 0 : Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6));\n+        result += Integer.rotateLeft(Boolean.valueOf(isStaticIcon()).hashCode(), 5);\n+        result += Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6);\n         return result;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg3MDIyOA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307#discussion_r391870228", "bodyText": "Since SdlFile has an equals() method now, we can use it in MenuCell & ChoiceCell's hashCode().", "author": "bilal-alsharifi", "createdAt": "2020-03-12T20:14:28Z", "path": "javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java", "diffHunk": "@@ -203,4 +203,36 @@ public boolean getOverwrite() {\n     public void setOverwrite(boolean overwrite) {\n         this.overwrite = overwrite;\n     }\n+\n+    /**\n+     * Used to compile hashcode for SdlFile for use to compare in equals method", "originalCommit": "9e03c8f16f04f088ca3904db9fa9cb78d479b1ce", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2f0020dd6ae110deb46c534f0463f0d0043abb3b", "chunk": "diff --git a/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java b/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\nindex 89f8d1f23..d3a8c1342 100644\n--- a/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\n+++ b/javaSE/src/main/java/com/smartdevicelink/managers/file/filetypes/SdlFile.java\n\n@@ -215,8 +215,8 @@ public class SdlFile{\n         result += ((getFilePath() == null) ? 0 : Integer.rotateLeft(getFilePath().hashCode(), 2));\n         result += ((getFileData() == null) ? 0 : Integer.rotateLeft(getFileData().hashCode(), 3));\n         result += ((getType() == null) ? 0 : Integer.rotateLeft(getType().hashCode(), 4));\n-        result += ((Boolean.valueOf(isStaticIcon) == null) ? 0 : Integer.rotateLeft(Boolean.valueOf(isStaticIcon).hashCode(), 5));\n-        result += ((Boolean.valueOf(isPersistent()) == null) ? 0 : Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6));\n+        result += Integer.rotateLeft(Boolean.valueOf(isStaticIcon()).hashCode(), 5);\n+        result += Integer.rotateLeft(Boolean.valueOf(isPersistent()).hashCode(), 6);\n         return result;\n     }\n \n"}}, {"oid": "8642a76d69bba2bbf693583f0d122e6669e06130", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/8642a76d69bba2bbf693583f0d122e6669e06130", "message": "Removing check primitive vars for null in SdlFile in android project", "committedDate": "2020-03-13T14:17:31Z", "type": "commit"}, {"oid": "67b2ef63aedfb10437685e11186b0ac90963c390", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/67b2ef63aedfb10437685e11186b0ac90963c390", "message": "Added comparing ButtonID in SoftButtonObject", "committedDate": "2020-03-13T14:26:39Z", "type": "commit"}, {"oid": "2f0020dd6ae110deb46c534f0463f0d0043abb3b", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/2f0020dd6ae110deb46c534f0463f0d0043abb3b", "message": "Removed null check for primitive types in SdlFile in JavaSE", "committedDate": "2020-03-13T14:33:15Z", "type": "commit"}, {"oid": "edd482b5418b085446b5c1b546d9b881a4afad10", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/edd482b5418b085446b5c1b546d9b881a4afad10", "message": "Fixed naming of test in softButtonManagerTest", "committedDate": "2020-03-13T14:34:13Z", "type": "commit"}, {"oid": "182196a13aa22229d8903bb63397130601cbf683", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/182196a13aa22229d8903bb63397130601cbf683", "message": "Added use of custom Hashcodes created for SdlFile in MenuCell and ChoicCell", "committedDate": "2020-03-13T14:58:38Z", "type": "commit"}, {"oid": "d0ab2b725be1556eee326b89a8788a9768971ab0", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/d0ab2b725be1556eee326b89a8788a9768971ab0", "message": "Added Null check for artwork", "committedDate": "2020-03-13T18:01:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIwNjg0MA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1307#discussion_r395206840", "bodyText": "The getSecondaryArtwork() line also needs to be updated", "author": "bilal-alsharifi", "createdAt": "2020-03-19T17:41:09Z", "path": "base/src/main/java/com/smartdevicelink/managers/screen/choiceset/ChoiceCell.java", "diffHunk": "@@ -224,7 +224,7 @@ public int hashCode() {\n         result += ((getText() == null) ? 0 : Integer.rotateLeft(getText().hashCode(), 1));\n         result += ((getSecondaryText() == null) ? 0 : Integer.rotateLeft(getSecondaryText().hashCode(), 2));\n         result += ((getTertiaryText() == null) ? 0 : Integer.rotateLeft(getTertiaryText().hashCode(), 3));\n-        result += ((getArtwork() == null || getArtwork().getName() == null) ? 0 : Integer.rotateLeft(getArtwork().getName().hashCode(), 4));\n+        result += ((getArtwork() == null) ? 0 : Integer.rotateLeft(getArtwork().hashCode(), 4));\n         result += ((getSecondaryArtwork() == null || getSecondaryArtwork().getName() == null) ? 0 : Integer.rotateLeft(getSecondaryArtwork().getName().hashCode(), 5));", "originalCommit": "d0ab2b725be1556eee326b89a8788a9768971ab0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6ff36acc1ce9228709d57cf77eef9f4a9c698319", "chunk": "diff --git a/base/src/main/java/com/smartdevicelink/managers/screen/choiceset/ChoiceCell.java b/base/src/main/java/com/smartdevicelink/managers/screen/choiceset/ChoiceCell.java\nindex 3d0e7e49d..eb8533cd0 100644\n--- a/base/src/main/java/com/smartdevicelink/managers/screen/choiceset/ChoiceCell.java\n+++ b/base/src/main/java/com/smartdevicelink/managers/screen/choiceset/ChoiceCell.java\n\n@@ -225,7 +225,7 @@ public class ChoiceCell {\n         result += ((getSecondaryText() == null) ? 0 : Integer.rotateLeft(getSecondaryText().hashCode(), 2));\n         result += ((getTertiaryText() == null) ? 0 : Integer.rotateLeft(getTertiaryText().hashCode(), 3));\n         result += ((getArtwork() == null) ? 0 : Integer.rotateLeft(getArtwork().hashCode(), 4));\n-        result += ((getSecondaryArtwork() == null || getSecondaryArtwork().getName() == null) ? 0 : Integer.rotateLeft(getSecondaryArtwork().getName().hashCode(), 5));\n+        result += ((getSecondaryArtwork() == null) ? 0 : Integer.rotateLeft(getSecondaryArtwork().hashCode(), 5));\n         result += ((getVoiceCommands() == null) ? 0 : Integer.rotateLeft(getVoiceCommands().hashCode(), 6));\n         return result;\n     }\n"}}, {"oid": "6ff36acc1ce9228709d57cf77eef9f4a9c698319", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/6ff36acc1ce9228709d57cf77eef9f4a9c698319", "message": "Update ChoiceCell.hashCode() to use SdlFile.hashCode()", "committedDate": "2020-03-19T17:57:55Z", "type": "commit"}]}