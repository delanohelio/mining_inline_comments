{"pr_number": 1787, "pr_title": "AWS: fix errorprone warnings in S3URI", "pr_createdAt": "2020-11-19T01:38:04Z", "pr_url": "https://github.com/apache/iceberg/pull/1787", "timeline": [{"oid": "b43dbbe85d9c906382da52cf0231183f1ec9eb5e", "url": "https://github.com/apache/iceberg/commit/b43dbbe85d9c906382da52cf0231183f1ec9eb5e", "message": "fix errorprone warnings in S3URI", "committedDate": "2020-11-19T00:41:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5OTEwMw==", "url": "https://github.com/apache/iceberg/pull/1787#discussion_r527399103", "bodyText": "The recommendation for these is to go with\n/**\n * Return s3 bucket\n */\nSo you still have a one liner, but it's the summary only", "author": "RussellSpitzer", "createdAt": "2020-11-20T05:02:44Z", "path": "aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java", "diffHunk": "@@ -70,19 +70,21 @@\n \n     // Strip query and fragment if they exist\n     String path = authoritySplit[1];\n-    path = path.split(QUERY_DELIM)[0];\n-    path = path.split(FRAGMENT_DELIM)[0];\n+    path = path.split(QUERY_DELIM, -1)[0];\n+    path = path.split(FRAGMENT_DELIM, -1)[0];\n     this.key = path;\n   }\n \n   /**\n+   * S3 bucket name", "originalCommit": "b43dbbe85d9c906382da52cf0231183f1ec9eb5e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5OTM2OA==", "url": "https://github.com/apache/iceberg/pull/1787#discussion_r527399368", "bodyText": "Example from elsewhere int he codebase\n  /**\n   * Returns the id of the field that the metrics within this class are associated with.\n   */\n  public int id() {\n    return id;\n  }", "author": "RussellSpitzer", "createdAt": "2020-11-20T05:03:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5OTEwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQxMDk5Mg==", "url": "https://github.com/apache/iceberg/pull/1787#discussion_r527410992", "bodyText": "Thanks for the reference, updated!", "author": "jackye1995", "createdAt": "2020-11-20T05:29:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5OTEwMw=="}], "type": "inlineReview", "revised_code": {"commit": "18007eccbb50f0946c2c110a46e58a28d5fda8af", "chunk": "diff --git a/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java b/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java\nindex 04b4db071..04cf168ec 100644\n--- a/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java\n+++ b/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java\n\n@@ -76,23 +76,21 @@ class S3URI {\n   }\n \n   /**\n-   * S3 bucket name\n-   * @return S3 bucket\n+   * Returns S3 bucket name.\n    */\n   public String bucket() {\n     return bucket;\n   }\n \n   /**\n-   * S3 object key name\n-   * @return S3 key\n+   * Returns S3 object key name.\n    */\n   public String key() {\n     return key;\n   }\n \n-  /*\n-   * @return original, unmodified location\n+  /**\n+   * Returns original, unmodified S3 URI location.\n    */\n   public String location() {\n     return location;\n"}}, {"oid": "18007eccbb50f0946c2c110a46e58a28d5fda8af", "url": "https://github.com/apache/iceberg/commit/18007eccbb50f0946c2c110a46e58a28d5fda8af", "message": "update doc string", "committedDate": "2020-11-20T05:27:11Z", "type": "commit"}]}