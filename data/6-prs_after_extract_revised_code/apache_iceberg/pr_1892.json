{"pr_number": 1892, "pr_title": "API: move NaN validation from Expressions to Literals", "pr_createdAt": "2020-12-08T22:44:36Z", "pr_url": "https://github.com/apache/iceberg/pull/1892", "timeline": [{"oid": "77c72667348fbfc2cd633cbb586ff35536b125b5", "url": "https://github.com/apache/iceberg/commit/77c72667348fbfc2cd633cbb586ff35536b125b5", "message": "API: move NaN validation from Expressions to Literals", "committedDate": "2020-12-08T22:42:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg4OTQwNg==", "url": "https://github.com/apache/iceberg/pull/1892#discussion_r538889406", "bodyText": "Looks like the verb is missing. It should be \"Cannot create expression literal from NaN\".", "author": "rdblue", "createdAt": "2020-12-08T23:32:19Z", "path": "api/src/main/java/org/apache/iceberg/expressions/Literals.java", "diffHunk": "@@ -57,6 +58,7 @@ private Literals() {\n   @SuppressWarnings(\"unchecked\")\n   static <T> Literal<T> from(T value) {\n     Preconditions.checkNotNull(value, \"Cannot create expression literal from null\");\n+    Preconditions.checkArgument(!NaNUtil.isNaN(value), \"Cannot expression literal from NaN\");", "originalCommit": "77c72667348fbfc2cd633cbb586ff35536b125b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY5MjEyNQ==", "url": "https://github.com/apache/iceberg/pull/1892#discussion_r539692125", "bodyText": "Yes, sorry should have double checked... I include the fix of this in #1857 since I think they are kind of related, but please let me know if you want a separate PR for that!", "author": "yyanyy", "createdAt": "2020-12-09T22:21:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg4OTQwNg=="}], "type": "inlineReview", "revised_code": null}]}