{"pr_number": 17323, "pr_title": "Added a enum class for the metrics", "pr_createdAt": "2020-08-07T21:24:58Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17323", "timeline": [{"oid": "5fa72419a6e7d80d1827d8b95bc9cd3f8296e387", "url": "https://github.com/hazelcast/hazelcast/commit/5fa72419a6e7d80d1827d8b95bc9cd3f8296e387", "message": "Added a enum class for the metrics", "committedDate": "2020-08-07T21:22:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzczODczNg==", "url": "https://github.com/hazelcast/hazelcast/pull/17323#discussion_r467738736", "bodyText": "It would be much better to just call addParam(key.getRequestParameterName(), value); and delete the rest of this new method.", "author": "erosb", "createdAt": "2020-08-10T07:52:23Z", "path": "hazelcast/src/main/java/com/hazelcast/internal/util/phonehome/PhoneHomeParameterCreator.java", "diffHunk": "@@ -41,6 +41,24 @@ public PhoneHomeParameterCreator() {\n         return parameters;\n     }\n \n+    public void addParam(PhoneHomeMetrics key, String value) {", "originalCommit": "5fa72419a6e7d80d1827d8b95bc9cd3f8296e387", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ee7e168057a9b018db44bb8efdbaa570fb935421", "chunk": "diff --git a/hazelcast/src/main/java/com/hazelcast/internal/util/phonehome/PhoneHomeParameterCreator.java b/hazelcast/src/main/java/com/hazelcast/internal/util/phonehome/PhoneHomeParameterCreator.java\nindex ee54d9b0506..ad00f6b5e6b 100644\n--- a/hazelcast/src/main/java/com/hazelcast/internal/util/phonehome/PhoneHomeParameterCreator.java\n+++ b/hazelcast/src/main/java/com/hazelcast/internal/util/phonehome/PhoneHomeParameterCreator.java\n\n@@ -41,24 +41,6 @@ public class PhoneHomeParameterCreator {\n         return parameters;\n     }\n \n-    public void addParam(PhoneHomeMetrics key, String value) {\n-\n-        if (parameters.containsKey(key.getRequestParameterName())) {\n-            throw new IllegalArgumentException(\"Parameter \" + key + \" is already added\");\n-        }\n-\n-        if (hasParameterBefore) {\n-            builder.append(\"&\");\n-        } else {\n-            hasParameterBefore = true;\n-        }\n-        try {\n-            builder.append(key.getRequestParameterName()).append(\"=\").append(URLEncoder.encode(value, \"UTF-8\"));\n-        } catch (UnsupportedEncodingException e) {\n-            throw rethrow(e);\n-        }\n-        parameters.put(key.getRequestParameterName(), value);\n-    }\n     public void addParam(String key, String value) {\n \n         if (parameters.containsKey(key)) {\n"}}, {"oid": "ee7e168057a9b018db44bb8efdbaa570fb935421", "url": "https://github.com/hazelcast/hazelcast/commit/ee7e168057a9b018db44bb8efdbaa570fb935421", "message": "Duplicate code elimination", "committedDate": "2020-08-10T08:02:48Z", "type": "commit"}]}