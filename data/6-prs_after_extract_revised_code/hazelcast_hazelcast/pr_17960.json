{"pr_number": 17960, "pr_title": "Make the serialization compatibility binary file a lot smaller", "pr_createdAt": "2020-12-10T09:57:33Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17960", "timeline": [{"oid": "03a09fd5e1477e2abecd145bf408082e560b4881", "url": "https://github.com/hazelcast/hazelcast/commit/03a09fd5e1477e2abecd145bf408082e560b4881", "message": "Make the serialization compatibility binary file a lot smaller\n\nThis binary file was huge(+70MB) because we were using a very big\nstring as part of the other reference objects (predicates, lists etc.).\n\nThis is totally unnecessary, we could have a smaller string with\nvariable length characters to make sure that everything is\nworking as intended.\n\nNote that, we are still testing serializing/deserializing that\nbig string(check the `allTestObjects`).\n\nBefore this change the size of the file was\n70,7 MB (70.694.501 bytes), now it is down to\n510,3 kB (510.327 bytes).", "committedDate": "2020-12-10T09:55:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEwODYwOA==", "url": "https://github.com/hazelcast/hazelcast/pull/17960#discussion_r540108608", "bodyText": "I like the \u041f\u0440\u0438\u0432\u0435\u0301\u0442 part \ud83d\ude0a", "author": "puzpuzpuz", "createdAt": "2020-12-10T11:55:04Z", "path": "hazelcast/src/test/java/com/hazelcast/nio/serialization/compatibility/ReferenceObjects.java", "diffHunk": "@@ -95,6 +95,7 @@\n     static String aString;\n     static String anSqlString = \"this > 5 AND this < 100\";\n     static UUID aUUID = new UUID(aLong, anInt);\n+    static String aSmallString = \"\ud83d\ude0a Hello \u041f\u0440\u0438\u0432\u0435\u0301\u0442 \u0928\u092e\u0938\u094d\u0924\u0947 \u05e9\u05b8\u05c1\u05dc\u05d5\u05b9\u05dd\";", "originalCommit": "03a09fd5e1477e2abecd145bf408082e560b4881", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}