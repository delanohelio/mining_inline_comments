{"pr_number": 1257, "pr_title": "Fix #1254 Option to specify filePath on FxfWrapperPipe", "pr_createdAt": "2020-11-11T14:26:44Z", "pr_url": "https://github.com/ibissource/iaf/pull/1257", "timeline": [{"oid": "0f2e070c0c80fdf2fc0752435f3fba1cdc750918", "url": "https://github.com/ibissource/iaf/commit/0f2e070c0c80fdf2fc0752435f3fba1cdc750918", "message": "Fix #1254 Open to specify filePath on FxfWrapperPipe", "committedDate": "2020-11-11T14:26:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5OTY3OQ==", "url": "https://github.com/ibissource/iaf/pull/1257#discussion_r521999679", "bodyText": "Moeten we dit nu filePath noemen? volgens mij heet het bij filesystems rootFolder, bij de filepipe directory en nu weer iets anders?", "author": "nielsm5", "createdAt": "2020-11-12T10:28:36Z", "path": "core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java", "diffHunk": "@@ -240,21 +244,27 @@ private int retrieveStartTransferVersion() {\n \t\treturn 0;\n \t}\n \n+\tpublic void setFlowId(String flowId) {\n+\t\tthis.flowId = flowId;\n+\t}\n \tpublic String getFlowId() {\n \t\treturn flowId;\n \t}\n \n-\tpublic void setFlowId(String flowId) {\n-\t\tthis.flowId = flowId;\n+\tpublic void setFilePath(String filePath) {", "originalCommit": "0f2e070c0c80fdf2fc0752435f3fba1cdc750918", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "94adc88cb5624cce0af6bd7f3bdc306a33058911", "chunk": "diff --git a/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java b/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java\nindex 483acb49b..da6a6dca7 100644\n--- a/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java\n+++ b/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java\n\n@@ -244,6 +240,7 @@ public class FxfWrapperPipe extends EsbSoapWrapperPipe {\n \t\treturn 0;\n \t}\n \n+\t@IbisDoc({\"1\", \"specifies the output folder if transformFilename=<code>false</code> and direction=wrap\", \"\"})\n \tpublic void setFlowId(String flowId) {\n \t\tthis.flowId = flowId;\n \t}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5OTk0Ng==", "url": "https://github.com/ibissource/iaf/pull/1257#discussion_r521999946", "bodyText": "(Kan eventueel ook in de setter)", "author": "nielsm5", "createdAt": "2020-11-12T10:29:00Z", "path": "core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java", "diffHunk": "@@ -129,6 +130,9 @@ public void configure() throws ConfigurationException {\n \t\t\ttransferFlowIdTp = XmlUtils.getXPathTransformerPool(null, \"/OnCompletedTransferNotify_Action/TransferFlowId\", \"text\", false, getParameterList());\n \t\t\tclientFilenameTp = XmlUtils.getXPathTransformerPool(null, \"/OnCompletedTransferNotify_Action/ClientFilename\", \"text\", false, getParameterList());\n \t\t}\n+\t\tif (StringUtils.isNotEmpty(getFilePath()) && !getFilePath().endsWith(\"/\")) {\n+\t\t\tsetFilePath(getFilePath()+\"/\");\n+\t\t}", "originalCommit": "0f2e070c0c80fdf2fc0752435f3fba1cdc750918", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "94adc88cb5624cce0af6bd7f3bdc306a33058911", "chunk": "diff --git a/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java b/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java\nindex 483acb49b..da6a6dca7 100644\n--- a/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java\n+++ b/core/src/main/java/nl/nn/adapterframework/extensions/fxf/FxfWrapperPipe.java\n\n@@ -130,12 +130,11 @@ public class FxfWrapperPipe extends EsbSoapWrapperPipe {\n \t\t\ttransferFlowIdTp = XmlUtils.getXPathTransformerPool(null, \"/OnCompletedTransferNotify_Action/TransferFlowId\", \"text\", false, getParameterList());\n \t\t\tclientFilenameTp = XmlUtils.getXPathTransformerPool(null, \"/OnCompletedTransferNotify_Action/ClientFilename\", \"text\", false, getParameterList());\n \t\t}\n-\t\tif (StringUtils.isNotEmpty(getFilePath()) && !getFilePath().endsWith(\"/\")) {\n-\t\t\tsetFilePath(getFilePath()+\"/\");\n+\t\tif (StringUtils.isNotEmpty(getFlowOutFolder()) && !getFlowOutFolder().endsWith(\"/\")) {\n+\t\t\tsetFlowOutFolder(getFlowOutFolder()+\"/\");\n \t\t}\n \t\tif (!getFxfVersion().equals(\"3.1\") && !getFxfVersion().equals(\"3.2\")) {\n-\t\t\tthrow new ConfigurationException(\"illegal value for fxfVersion [\"\n-\t\t\t\t\t+ getFxfVersion() + \"], must be '3.1' or '3.2'\");\n+\t\t\tthrow new ConfigurationException(\"illegal value for fxfVersion [\" + getFxfVersion() + \"], must be '3.1' or '3.2'\");\n \t\t}\n \t}\n \n"}}, {"oid": "94adc88cb5624cce0af6bd7f3bdc306a33058911", "url": "https://github.com/ibissource/iaf/commit/94adc88cb5624cce0af6bd7f3bdc306a33058911", "message": "rename filePath to flowOutFolder", "committedDate": "2020-11-19T10:59:37Z", "type": "commit"}, {"oid": "7942d763a8d7286a1c8c99677cbaaa6408e2663e", "url": "https://github.com/ibissource/iaf/commit/7942d763a8d7286a1c8c99677cbaaa6408e2663e", "message": "update ibisdoc", "committedDate": "2020-11-19T13:54:18Z", "type": "commit"}]}