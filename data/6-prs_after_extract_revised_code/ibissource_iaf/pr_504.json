{"pr_number": 504, "pr_title": "Add content-type to get/delete methods", "pr_createdAt": "2020-03-16T14:16:00Z", "pr_url": "https://github.com/ibissource/iaf/pull/504", "timeline": [{"oid": "e3eed6f2362fb16992c2319ceb8fa50e2a0060d0", "url": "https://github.com/ibissource/iaf/commit/e3eed6f2362fb16992c2319ceb8fa50e2a0060d0", "message": "Add content-type to get/delete methods", "committedDate": "2020-03-16T14:15:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5MTk3MA==", "url": "https://github.com/ibissource/iaf/pull/504#discussion_r393491970", "bodyText": "Maar wat voegt het hebben van mimeType nou toe? setContentType doet nu hetzelfde als setMimeType.\nHet is ook niet dat het er duidelijker op wordt, toch?\nJe moet of een zinnig verschil maken, of \u00e9\u00e9n van de twee deprecieren.\nMijn voorkeur heeft:\n\nvariabele contentType hernoemen naar fullContentType\nvariabele mimeType hernoemen naar contentType\nsetMimeType() vewijderen", "author": "gvanbrakel", "createdAt": "2020-03-17T07:44:30Z", "path": "core/src/main/java/nl/nn/adapterframework/http/HttpSenderBase.java", "diffHunk": "@@ -775,15 +774,24 @@ public String getMethodType() {\n \t\treturn methodType.toUpperCase();\n \t}\n \n-\t@IbisDoc({\"4\", \"content-type of the request, only for POST and PUT methods\", \"text/html\"})\n+\t@Deprecated\n+\t/**\n+\t * This is a superset of mimetype + charset + optional payload metadata.\n+\t */\n+\t@IbisDoc({\"4\", \"superset of mimetype + charset\", \"automatically determined\"})\n \tpublic void setContentType(String string) {\n+\t\tsetMimeType(string);", "originalCommit": "e3eed6f2362fb16992c2319ceb8fa50e2a0060d0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "24295e1b280423eb545107a996408e6151524161", "chunk": "diff --git a/core/src/main/java/nl/nn/adapterframework/http/HttpSenderBase.java b/core/src/main/java/nl/nn/adapterframework/http/HttpSenderBase.java\nindex 62c03d8d9..5e145e42a 100644\n--- a/core/src/main/java/nl/nn/adapterframework/http/HttpSenderBase.java\n+++ b/core/src/main/java/nl/nn/adapterframework/http/HttpSenderBase.java\n\n@@ -774,21 +774,18 @@ public abstract class HttpSenderBase extends SenderWithParametersBase implements\n \t\treturn methodType.toUpperCase();\n \t}\n \n-\t@Deprecated\n \t/**\n \t * This is a superset of mimetype + charset + optional payload metadata.\n \t */\n-\t@IbisDoc({\"4\", \"superset of mimetype + charset\", \"automatically determined\"})\n+\t@IbisDoc({\"4\", \"content-type (superset of mimetype + charset) of the request, for POST and PUT methods\", \"text/html\"})\n \tpublic void setContentType(String string) {\n-\t\tsetMimeType(string);\n+\t\tcontentType = string;\n \t}\n-\n-\t@IbisDoc({\"5\", \"mimetype of the request. Typically only used on PUT and POST requests.\", \"text/html\"})\n-\tpublic void setMimeType(String string) {\n-\t\tmimeType = string;\n+\tpublic String getContentType() {\n+\t\treturn contentType;\n \t}\n \tpublic ContentType getFullContentType() {\n-\t\treturn contentType;\n+\t\treturn fullContentType;\n \t}\n \n \t@IbisDoc({\"6\", \"charset of the request. Typically only used on PUT and POST requests.\", \"UTF-8\"})\n"}}, {"oid": "24295e1b280423eb545107a996408e6151524161", "url": "https://github.com/ibissource/iaf/commit/24295e1b280423eb545107a996408e6151524161", "message": "No contentType unless explicitly set", "committedDate": "2020-03-17T10:02:25Z", "type": "commit"}]}