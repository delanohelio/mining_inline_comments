{"pr_number": 601, "pr_title": "Add method copyFile() to IBasicFileSystem", "pr_createdAt": "2020-04-10T15:22:22Z", "pr_url": "https://github.com/ibissource/iaf/pull/601", "timeline": [{"oid": "694f1b25a7664bab4f8cd4c4571f45b134148719", "url": "https://github.com/ibissource/iaf/commit/694f1b25a7664bab4f8cd4c4571f45b134148719", "message": "Add method copyFile() to IBasicFileSystem\n\n- Implement copyFile() method in all known FileSystems, except for ftp\n- Add action '\u00e7opy' to FileSystemActor (and FileSystemPipe and -Sender)\n- Add attribute 'logFolder' to FileSystemListener", "committedDate": "2020-04-10T15:21:14Z", "type": "commit"}, {"oid": "0830bb1d8daac31864886c46cbcdb9b5e5eb635a", "url": "https://github.com/ibissource/iaf/commit/0830bb1d8daac31864886c46cbcdb9b5e5eb635a", "message": "Fix DirectoryListenerTest", "committedDate": "2020-04-10T15:47:35Z", "type": "commit"}, {"oid": "29c16275749ad9ee0d871d10f1c144d567f6b0e6", "url": "https://github.com/ibissource/iaf/commit/29c16275749ad9ee0d871d10f1c144d567f6b0e6", "message": "Fix Codacy issues", "committedDate": "2020-04-10T16:00:33Z", "type": "commit"}, {"oid": "87d97c12b81cdfaf24efceaf8e9f7d80354a903d", "url": "https://github.com/ibissource/iaf/commit/87d97c12b81cdfaf24efceaf8e9f7d80354a903d", "message": "Add attribute destination to FileSystemActor, -Sender and -Pipe", "committedDate": "2020-04-14T06:53:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODAyNDM4MA==", "url": "https://github.com/ibissource/iaf/pull/601#discussion_r408024380", "bodyText": "Wat als deze leeg is? Kan je niet beter NULL teruggeven?", "author": "nielsm5", "createdAt": "2020-04-14T10:14:41Z", "path": "core/src/main/java/nl/nn/adapterframework/filesystem/FileSystemActor.java", "diffHunk": "@@ -227,6 +231,16 @@ private String determineFilename(Message input, ParameterValueList pvl) throws F\n \t\t}\n \t}\n \n+\tprivate String determineDestination(ParameterValueList pvl) {\n+\t\tif (StringUtils.isNotEmpty(getDestination())) {\n+\t\t\treturn getDestination();\n+\t\t}\n+\t\tif (pvl!=null && pvl.containsKey(PARAMETER_DESTINATION)) {\n+\t\t\treturn pvl.getParameterValue(PARAMETER_DESTINATION).asStringValue(\"\");", "originalCommit": "87d97c12b81cdfaf24efceaf8e9f7d80354a903d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4c942f77826574fe45a691df08b13723ec114827", "chunk": "diff --git a/core/src/main/java/nl/nn/adapterframework/filesystem/FileSystemActor.java b/core/src/main/java/nl/nn/adapterframework/filesystem/FileSystemActor.java\nindex aaa83cfc3..a2659e953 100644\n--- a/core/src/main/java/nl/nn/adapterframework/filesystem/FileSystemActor.java\n+++ b/core/src/main/java/nl/nn/adapterframework/filesystem/FileSystemActor.java\n\n@@ -236,7 +236,7 @@ public class FileSystemActor<F, FS extends IBasicFileSystem<F>> implements IOutp\n \t\t\treturn getDestination();\n \t\t}\n \t\tif (pvl!=null && pvl.containsKey(PARAMETER_DESTINATION)) {\n-\t\t\treturn pvl.getParameterValue(PARAMETER_DESTINATION).asStringValue(\"\");\n+\t\t\treturn pvl.getParameterValue(PARAMETER_DESTINATION).asStringValue(null);\n \t\t}\n \t\treturn null;\n \t}\n"}}, {"oid": "4c942f77826574fe45a691df08b13723ec114827", "url": "https://github.com/ibissource/iaf/commit/4c942f77826574fe45a691df08b13723ec114827", "message": "return null if ParameterValue not found in FileSystemActor", "committedDate": "2020-04-15T12:42:54Z", "type": "commit"}]}