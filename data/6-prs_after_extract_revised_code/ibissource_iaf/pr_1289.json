{"pr_number": 1289, "pr_title": "improve XSD generation compatibility", "pr_createdAt": "2020-11-24T15:59:42Z", "pr_url": "https://github.com/ibissource/iaf/pull/1289", "timeline": [{"oid": "ce913f1e91752ebb897e1206c7f4356a1223aa36", "url": "https://github.com/ibissource/iaf/commit/ce913f1e91752ebb897e1206c7f4356a1223aa36", "message": "improve XSD generation compatibility", "committedDate": "2020-11-24T15:58:54Z", "type": "commit"}, {"oid": "9474bb0bb05b3b445cdf4ebdc933edf392d30d5c", "url": "https://github.com/ibissource/iaf/commit/9474bb0bb05b3b445cdf4ebdc933edf392d30d5c", "message": "Fix Ibisdoc issue", "committedDate": "2020-11-24T16:36:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTczODYwMw==", "url": "https://github.com/ibissource/iaf/pull/1289#discussion_r529738603", "bodyText": "Eigenlijk voor het mooi, moet je de implementatie van de functie dan verplaatsen.", "author": "nielsm5", "createdAt": "2020-11-24T17:07:26Z", "path": "core/src/main/java/nl/nn/adapterframework/senders/SenderSeries.java", "diffHunk": "@@ -128,13 +122,17 @@ public void setSynchronous(boolean value) {\n \t}\n \n \t@Override\n+\t@Deprecated // replaced by registerSender, to allow for multiple senders in XSD. \n \tpublic void setSender(ISender sender) {\n \t\tsenderList.add(sender);\n \t\tsetSynchronous(sender.isSynchronous()); // set synchronous to isSynchronous of the last Sender added\n \t\tstatisticsMap.put(sender, new StatisticsKeeper(\"-> \"+ClassUtils.nameOf(sender)));\n \t}\n-\tprotected Iterator<ISender> getSenderIterator() {\n-\t\treturn senderList.iterator();\n+\tpublic void registerSender(ISender sender) {\n+\t\tsetSender(sender);\n+\t}", "originalCommit": "9474bb0bb05b3b445cdf4ebdc933edf392d30d5c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "aa436815cbfa40c7257b293a992dde7180d14ae1", "chunk": "diff --git a/core/src/main/java/nl/nn/adapterframework/senders/SenderSeries.java b/core/src/main/java/nl/nn/adapterframework/senders/SenderSeries.java\nindex 83595ff74..8593aa323 100644\n--- a/core/src/main/java/nl/nn/adapterframework/senders/SenderSeries.java\n+++ b/core/src/main/java/nl/nn/adapterframework/senders/SenderSeries.java\n\n@@ -123,14 +123,15 @@ public class SenderSeries extends SenderWrapperBase {\n \n \t@Override\n \t@Deprecated // replaced by registerSender, to allow for multiple senders in XSD. \n-\tpublic void setSender(ISender sender) {\n+\tpublic final void setSender(ISender sender) {\n+\t\tregisterSender(sender);\n+\t}\n+\tpublic void registerSender(ISender sender) {\n \t\tsenderList.add(sender);\n \t\tsetSynchronous(sender.isSynchronous()); // set synchronous to isSynchronous of the last Sender added\n \t\tstatisticsMap.put(sender, new StatisticsKeeper(\"-> \"+ClassUtils.nameOf(sender)));\n \t}\n-\tpublic void registerSender(ISender sender) {\n-\t\tsetSender(sender);\n-\t}\n+\t\n \tprotected Iterable<ISender> getSenders() {\n \t\treturn senderList;\n \t}\n"}}, {"oid": "aa436815cbfa40c7257b293a992dde7180d14ae1", "url": "https://github.com/ibissource/iaf/commit/aa436815cbfa40c7257b293a992dde7180d14ae1", "message": "move implementation of setSender() to registerSender()", "committedDate": "2020-11-25T07:37:48Z", "type": "commit"}]}