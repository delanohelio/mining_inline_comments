{"pr_number": 1347, "pr_title": "Enable to capture contents of streamed messages", "pr_createdAt": "2020-12-18T08:11:27Z", "pr_url": "https://github.com/ibissource/iaf/pull/1347", "timeline": [{"oid": "121346c10dede19c99478884ca5785df7f90d20d", "url": "https://github.com/ibissource/iaf/commit/121346c10dede19c99478884ca5785df7f90d20d", "message": "Enable to capture contents of streamed messages", "committedDate": "2020-12-18T08:11:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY4MDYxMQ==", "url": "https://github.com/ibissource/iaf/pull/1347#discussion_r545680611", "bodyText": "isRepeatable()", "author": "nielsm5", "createdAt": "2020-12-18T09:01:08Z", "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "diffHunk": "@@ -145,11 +150,13 @@ public Object asObject() {\n \t}\n \n \tpublic boolean isBinary() {\n-\t\tif (request == null) {\n-\t\t\treturn false;\n-\t\t}\n-\t\treturn request instanceof InputStream || request instanceof URL || request instanceof File || request instanceof byte[];\n+\t\treturn request instanceof InputStream || request instanceof URL || request instanceof File || request instanceof Path || request instanceof byte[];\n+\t}\n+\t\n+\tpublic boolean isRepeatedlyReadable() {", "originalCommit": "121346c10dede19c99478884ca5785df7f90d20d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b282fe02f76f1eb24238ebdbc663802d2897a615", "chunk": "diff --git a/core/src/main/java/nl/nn/adapterframework/stream/Message.java b/core/src/main/java/nl/nn/adapterframework/stream/Message.java\nindex 6425e7966..e3461dfd1 100644\n--- a/core/src/main/java/nl/nn/adapterframework/stream/Message.java\n+++ b/core/src/main/java/nl/nn/adapterframework/stream/Message.java\n\n@@ -153,7 +154,7 @@ public class Message implements Serializable {\n \t\treturn request instanceof InputStream || request instanceof URL || request instanceof File || request instanceof Path || request instanceof byte[];\n \t}\n \t\n-\tpublic boolean isRepeatedlyReadable() {\n+\tpublic boolean isRepeatable() {\n \t\treturn request instanceof String || request instanceof URL || request instanceof File || request instanceof Path || request instanceof byte[];\n \t}\n \t\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY4MjY0Mg==", "url": "https://github.com/ibissource/iaf/pull/1347#discussion_r545682642", "bodyText": "\ud83d\udc4d", "author": "nielsm5", "createdAt": "2020-12-18T09:03:41Z", "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "diffHunk": "@@ -164,7 +171,7 @@ public Reader asReader(String defaultCharset) throws IOException {\n \t\t\tlog.debug(\"returning Reader as Reader\");\n \t\t\treturn (Reader) request;\n \t\t}\n-\t\tif (request instanceof InputStream || request instanceof URL || request instanceof File || request instanceof Path || request instanceof byte[]) {\n+\t\tif (isBinary()) {", "originalCommit": "121346c10dede19c99478884ca5785df7f90d20d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "555094358b2618149b0f97fa7b454b1806a6e6b9", "url": "https://github.com/ibissource/iaf/commit/555094358b2618149b0f97fa7b454b1806a6e6b9", "message": "integrate with debugger", "committedDate": "2020-12-18T15:18:22Z", "type": "commit"}, {"oid": "22cc8415717d63414d72d791e3aaa6b7e410dff1", "url": "https://github.com/ibissource/iaf/commit/22cc8415717d63414d72d791e3aaa6b7e410dff1", "message": "remove some debug info", "committedDate": "2020-12-18T15:59:22Z", "type": "commit"}, {"oid": "b282fe02f76f1eb24238ebdbc663802d2897a615", "url": "https://github.com/ibissource/iaf/commit/b282fe02f76f1eb24238ebdbc663802d2897a615", "message": "Fix issue", "committedDate": "2020-12-21T07:23:01Z", "type": "commit"}, {"oid": "d011febfec9c76d972c5522a784ae3d4570213eb", "url": "https://github.com/ibissource/iaf/commit/d011febfec9c76d972c5522a784ae3d4570213eb", "message": "Pass Writer to captureStream", "committedDate": "2020-12-21T11:05:40Z", "type": "commit"}, {"oid": "0b99f93ce8638dabdbd4b1f48b96730191c224eb", "url": "https://github.com/ibissource/iaf/commit/0b99f93ce8638dabdbd4b1f48b96730191c224eb", "message": "capture files too", "committedDate": "2020-12-21T12:06:34Z", "type": "commit"}]}