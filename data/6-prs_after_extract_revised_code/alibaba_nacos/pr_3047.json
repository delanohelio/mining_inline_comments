{"pr_number": 3047, "pr_title": "[ISSUE #2810] don't send beat when standalone model", "pr_createdAt": "2020-06-12T08:12:39Z", "pr_url": "https://github.com/alibaba/nacos/pull/3047", "timeline": [{"oid": "c8da7fc10abf15ab48b155cf8b8f9a77208b3398", "url": "https://github.com/alibaba/nacos/commit/c8da7fc10abf15ab48b155cf8b8f9a77208b3398", "message": "don't send beat when standalone model", "committedDate": "2020-06-12T08:10:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUzMTEyMQ==", "url": "https://github.com/alibaba/nacos/pull/3047#discussion_r440531121", "bodyText": "There should be one blank between ) and { please", "author": "KomachiSion", "createdAt": "2020-06-16T01:15:10Z", "path": "naming/src/main/java/com/alibaba/nacos/naming/consistency/persistent/raft/RaftCore.java", "diffHunk": "@@ -484,10 +484,9 @@ public void run() {\n \n         public void sendBeat() throws IOException, InterruptedException {\n             RaftPeer local = peers.local();\n-            if (local.state != RaftPeer.State.LEADER && !ApplicationUtils.getStandaloneMode()) {\n+            if (ApplicationUtils.getStandaloneMode() || local.state != RaftPeer.State.LEADER){", "originalCommit": "c8da7fc10abf15ab48b155cf8b8f9a77208b3398", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "cd3fd9afaee878d7d8835075bb4a83b791aed18b", "chunk": "diff --git a/naming/src/main/java/com/alibaba/nacos/naming/consistency/persistent/raft/RaftCore.java b/naming/src/main/java/com/alibaba/nacos/naming/consistency/persistent/raft/RaftCore.java\nindex 6b6a3fa57..f8e052565 100644\n--- a/naming/src/main/java/com/alibaba/nacos/naming/consistency/persistent/raft/RaftCore.java\n+++ b/naming/src/main/java/com/alibaba/nacos/naming/consistency/persistent/raft/RaftCore.java\n\n@@ -484,7 +484,7 @@ public class RaftCore {\n \n         public void sendBeat() throws IOException, InterruptedException {\n             RaftPeer local = peers.local();\n-            if (ApplicationUtils.getStandaloneMode() || local.state != RaftPeer.State.LEADER){\n+            if (ApplicationUtils.getStandaloneMode() || local.state != RaftPeer.State.LEADER) {\n                 return;\n             }\n             if (Loggers.RAFT.isDebugEnabled()) {\n"}}, {"oid": "cd3fd9afaee878d7d8835075bb4a83b791aed18b", "url": "https://github.com/alibaba/nacos/commit/cd3fd9afaee878d7d8835075bb4a83b791aed18b", "message": "format the code.", "committedDate": "2020-06-16T01:35:01Z", "type": "commit"}]}