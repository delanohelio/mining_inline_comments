{"pr_number": 3765, "pr_title": "[ISSUE #3658] Some enhance refactor for naming distro", "pr_createdAt": "2020-09-07T02:38:30Z", "pr_url": "https://github.com/alibaba/nacos/pull/3765", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIxMTEzNw==", "url": "https://github.com/alibaba/nacos/pull/3765#discussion_r484211137", "bodyText": "nice\u3002\u8fd9\u5757\u88ab\u79fb\u8d70\u4e86\ud83d\ude01", "author": "horizonzy", "createdAt": "2020-09-07T06:38:12Z", "path": "naming/src/main/java/com/alibaba/nacos/naming/consistency/ephemeral/distro/DistroConsistencyServiceImpl.java", "diffHunk": "@@ -102,20 +95,6 @@ public DistroConsistencyServiceImpl(DistroMapper distroMapper, DataStore dataSto\n         this.switchDomain = switchDomain;\n         this.globalConfig = globalConfig;\n         this.distroProtocol = distroProtocol;\n-        registerDistroComponent();\n-    }\n-    \n-    private void registerDistroComponent() {", "originalCommit": "d061a3437b6616e729e4c2f7d4c1b6011170f289", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQ4ODkwMg==", "url": "https://github.com/alibaba/nacos/pull/3765#discussion_r484488902", "bodyText": "\u8fd9\u91cc\u6216\u8bb8\u770b\u770b\u80fd\u4e0d\u80fd\u53bb\u6389null\u8fd9\u4e2a\u4e1c\u897f", "author": "chuntaojun", "createdAt": "2020-09-07T15:17:46Z", "path": "naming/src/main/java/com/alibaba/nacos/naming/consistency/ephemeral/distro/DistroHttpData.java", "diffHunk": "@@ -33,8 +33,8 @@\n     \n     private Object deserializedContent;\n     \n-    public DistroHttpData(DistroKey distroKey, byte[] content, Object deserializedContent) {\n-        super(distroKey, content);\n+    public DistroHttpData(DistroKey distroKey, Object deserializedContent) {\n+        super(distroKey, null);", "originalCommit": "d061a3437b6616e729e4c2f7d4c1b6011170f289", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDYxNzg0OQ==", "url": "https://github.com/alibaba/nacos/pull/3765#discussion_r484617849", "bodyText": "done", "author": "KomachiSion", "createdAt": "2020-09-08T02:32:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQ4ODkwMg=="}], "type": "inlineReview", "revised_code": {"commit": "4df0ee8861aef2f61b31b39a2d1706df54a0237a", "chunk": "diff --git a/naming/src/main/java/com/alibaba/nacos/naming/consistency/ephemeral/distro/DistroHttpData.java b/naming/src/main/java/com/alibaba/nacos/naming/consistency/ephemeral/distro/DistroHttpData.java\nindex f268e1722..314770313 100644\n--- a/naming/src/main/java/com/alibaba/nacos/naming/consistency/ephemeral/distro/DistroHttpData.java\n+++ b/naming/src/main/java/com/alibaba/nacos/naming/consistency/ephemeral/distro/DistroHttpData.java\n\n@@ -34,7 +34,7 @@ public class DistroHttpData extends DistroData {\n     private Object deserializedContent;\n     \n     public DistroHttpData(DistroKey distroKey, Object deserializedContent) {\n-        super(distroKey, null);\n+        setDistroKey(distroKey);\n         this.deserializedContent = deserializedContent;\n     }\n     \n"}}, {"oid": "7a51c789664feea767a65c77371131f57399a709", "url": "https://github.com/alibaba/nacos/commit/7a51c789664feea767a65c77371131f57399a709", "message": "Some enhance refactor for naming distro", "committedDate": "2020-09-08T02:30:06Z", "type": "commit"}, {"oid": "4df0ee8861aef2f61b31b39a2d1706df54a0237a", "url": "https://github.com/alibaba/nacos/commit/4df0ee8861aef2f61b31b39a2d1706df54a0237a", "message": "Remove null code", "committedDate": "2020-09-08T02:32:23Z", "type": "commit"}, {"oid": "4df0ee8861aef2f61b31b39a2d1706df54a0237a", "url": "https://github.com/alibaba/nacos/commit/4df0ee8861aef2f61b31b39a2d1706df54a0237a", "message": "Remove null code", "committedDate": "2020-09-08T02:32:23Z", "type": "forcePushed"}]}