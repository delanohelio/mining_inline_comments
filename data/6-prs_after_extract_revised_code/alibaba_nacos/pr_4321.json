{"pr_number": 4321, "pr_title": "[ISSUE #4320] Fixing the Naming consistency module could not start in cluster mode", "pr_createdAt": "2020-11-24T11:43:48Z", "pr_url": "https://github.com/alibaba/nacos/pull/4321", "timeline": [{"oid": "63ac93b95eba7c641cffecdb1e9684d0621fcfed", "url": "https://github.com/alibaba/nacos/commit/63ac93b95eba7c641cffecdb1e9684d0621fcfed", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-08-21T05:27:16Z", "type": "commit"}, {"oid": "b39970a0e107371db0250992031dee9f1d040265", "url": "https://github.com/alibaba/nacos/commit/b39970a0e107371db0250992031dee9f1d040265", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-09-11T05:33:03Z", "type": "commit"}, {"oid": "9aaea7f2a01b299ffa27d9b84a115ed39748754a", "url": "https://github.com/alibaba/nacos/commit/9aaea7f2a01b299ffa27d9b84a115ed39748754a", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-09-17T14:42:57Z", "type": "commit"}, {"oid": "0ee59bb8f5f72c42cdb7f9920883b00e3fdce1f4", "url": "https://github.com/alibaba/nacos/commit/0ee59bb8f5f72c42cdb7f9920883b00e3fdce1f4", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-10-06T15:04:50Z", "type": "commit"}, {"oid": "756a0cc61103be0c9f0c1113cc8f359c8a0fa895", "url": "https://github.com/alibaba/nacos/commit/756a0cc61103be0c9f0c1113cc8f359c8a0fa895", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-10-13T12:55:17Z", "type": "commit"}, {"oid": "2f93d35340c7a5744599ceb85450f02de69245a4", "url": "https://github.com/alibaba/nacos/commit/2f93d35340c7a5744599ceb85450f02de69245a4", "message": "Merge branch 'new_develop' of https://github.com/chuntaojun/nacos into new_develop", "committedDate": "2020-10-13T12:56:11Z", "type": "commit"}, {"oid": "ba36469b4f6312835a04241cf1f6788257ce2989", "url": "https://github.com/alibaba/nacos/commit/ba36469b4f6312835a04241cf1f6788257ce2989", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-10-19T11:55:54Z", "type": "commit"}, {"oid": "c6dd4c409520b4b98f9970dfbca1d496bd5dbe83", "url": "https://github.com/alibaba/nacos/commit/c6dd4c409520b4b98f9970dfbca1d496bd5dbe83", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-10-29T16:34:56Z", "type": "commit"}, {"oid": "1d514cd960d5b84684cbf34cda2c2db3226ee9a6", "url": "https://github.com/alibaba/nacos/commit/1d514cd960d5b84684cbf34cda2c2db3226ee9a6", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-01T10:08:07Z", "type": "commit"}, {"oid": "1e36b81edf7a16ec7a4f1adbaa8f8843f41cd60e", "url": "https://github.com/alibaba/nacos/commit/1e36b81edf7a16ec7a4f1adbaa8f8843f41cd60e", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-07T12:08:18Z", "type": "commit"}, {"oid": "fcd4e22da02e644aa1e058fb7b07550b8ca81abe", "url": "https://github.com/alibaba/nacos/commit/fcd4e22da02e644aa1e058fb7b07550b8ca81abe", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-10T06:29:22Z", "type": "commit"}, {"oid": "85ee079664592432fdd969a155f6873cf80d6b26", "url": "https://github.com/alibaba/nacos/commit/85ee079664592432fdd969a155f6873cf80d6b26", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-14T12:06:23Z", "type": "commit"}, {"oid": "6738713cae84368cde3bd1f3642b006ab238277e", "url": "https://github.com/alibaba/nacos/commit/6738713cae84368cde3bd1f3642b006ab238277e", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-18T03:34:51Z", "type": "commit"}, {"oid": "6e9b647e485936cfb8aaf92780f47920a228bf65", "url": "https://github.com/alibaba/nacos/commit/6e9b647e485936cfb8aaf92780f47920a228bf65", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-20T19:32:15Z", "type": "commit"}, {"oid": "ceb20c1a854fedeb0e278ce6a0ef07b62c7fadbf", "url": "https://github.com/alibaba/nacos/commit/ceb20c1a854fedeb0e278ce6a0ef07b62c7fadbf", "message": "refactor: refactor issue #4291", "committedDate": "2020-11-20T20:44:57Z", "type": "commit"}, {"oid": "55b0c92d9d6133e3a4439d145aa36af49a4a25cb", "url": "https://github.com/alibaba/nacos/commit/55b0c92d9d6133e3a4439d145aa36af49a4a25cb", "message": "Merge branch 'develop' of https://github.com/alibaba/nacos into new_develop", "committedDate": "2020-11-24T10:15:14Z", "type": "commit"}, {"oid": "2fce320d36fae13f67efadc45d101fb694877423", "url": "https://github.com/alibaba/nacos/commit/2fce320d36fae13f67efadc45d101fb694877423", "message": "fix: fixing the Naming consistency module could not start in cluster mode", "committedDate": "2020-11-24T11:42:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2NTY2MA==", "url": "https://github.com/alibaba/nacos/pull/4321#discussion_r529665660", "bodyText": "Why is there a magic number here\uff1f", "author": "paderlol", "createdAt": "2020-11-24T15:49:41Z", "path": "naming/src/main/java/com/alibaba/nacos/naming/consistency/persistent/impl/BasePersistentServiceProcessor.java", "diffHunk": "@@ -121,11 +121,10 @@ public BasePersistentServiceProcessor(final ClusterVersionJudgement judgement) t\n                 throw new NacosRuntimeException(ex.getErrCode(), ex.getErrMsg());\n             }\n         });\n-        afterConstruct();\n     }\n     \n     @SuppressWarnings(\"unchecked\")\n-    protected void afterConstruct() {\n+    public void afterConstruct() {\n         NotifyCenter.registerToPublisher(ValueChangeEvent.class, 16384);", "originalCommit": "2fce320d36fae13f67efadc45d101fb694877423", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDA3ODI2NA==", "url": "https://github.com/alibaba/nacos/pull/4321#discussion_r530078264", "bodyText": "This is the queue length for cached events", "author": "chuntaojun", "createdAt": "2020-11-25T03:05:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2NTY2MA=="}], "type": "inlineReview", "revised_code": null}]}