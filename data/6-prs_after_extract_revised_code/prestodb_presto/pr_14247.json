{"pr_number": 14247, "pr_title": "Add toString() to SimpleArrayAllocator", "pr_createdAt": "2020-03-14T00:40:11Z", "pr_url": "https://github.com/prestodb/presto/pull/14247", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYzNTI3Ng==", "url": "https://github.com/prestodb/presto/pull/14247#discussion_r392635276", "bodyText": "@yingsu00 use toStringHelper", "author": "mbasmanova", "createdAt": "2020-03-15T02:23:12Z", "path": "presto-main/src/main/java/com/facebook/presto/operator/SimpleArrayAllocator.java", "diffHunk": "@@ -96,4 +96,14 @@ public long getEstimatedSizeInBytes()\n     {\n         return estimatedSizeInBytes;\n     }\n+\n+    @Override\n+    public String toString()\n+    {\n+        StringBuilder sb = new StringBuilder(getClass().getSimpleName()).append(\"{\");", "originalCommit": "2e2511f0598e76ee786674bc579095654981d9cd", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "923639c4998270bf09f1c89ff8541ec8120fc70b", "chunk": "diff --git a/presto-main/src/main/java/com/facebook/presto/operator/SimpleArrayAllocator.java b/presto-main/src/main/java/com/facebook/presto/operator/SimpleArrayAllocator.java\nindex 5de685ed04..010bb270f4 100644\n--- a/presto-main/src/main/java/com/facebook/presto/operator/SimpleArrayAllocator.java\n+++ b/presto-main/src/main/java/com/facebook/presto/operator/SimpleArrayAllocator.java\n\n@@ -100,10 +101,10 @@ public class SimpleArrayAllocator\n     @Override\n     public String toString()\n     {\n-        StringBuilder sb = new StringBuilder(getClass().getSimpleName()).append(\"{\");\n-        sb.append(\"intArraysSize=\").append(intArrays.size()).append(\",\");\n-        sb.append(\"borrowedIntArraysSize=\").append(borrowedIntArrays.size()).append(\",\");\n-        sb.append(\"estimatedSizeInBytes=\").append(estimatedSizeInBytes).append(\"}\");\n-        return sb.toString();\n+        return toStringHelper(this)\n+                .add(\"intArraysSize\", intArrays.size())\n+                .add(\"borrowedIntArraysSize\", borrowedIntArrays.size())\n+                .add(\"estimatedSizeInBytes\", estimatedSizeInBytes)\n+                .toString();\n     }\n }\n"}}, {"oid": "923639c4998270bf09f1c89ff8541ec8120fc70b", "url": "https://github.com/prestodb/presto/commit/923639c4998270bf09f1c89ff8541ec8120fc70b", "message": "Add toString() to SimpleArrayAllocator", "committedDate": "2020-03-16T02:24:35Z", "type": "commit"}, {"oid": "923639c4998270bf09f1c89ff8541ec8120fc70b", "url": "https://github.com/prestodb/presto/commit/923639c4998270bf09f1c89ff8541ec8120fc70b", "message": "Add toString() to SimpleArrayAllocator", "committedDate": "2020-03-16T02:24:35Z", "type": "forcePushed"}]}