{"pr_number": 14633, "pr_title": "Add alluxio config validation flag", "pr_createdAt": "2020-06-11T00:27:01Z", "pr_url": "https://github.com/prestodb/presto/pull/14633", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ3ODU3Mg==", "url": "https://github.com/prestodb/presto/pull/14633#discussion_r438478572", "bodyText": "Just realized the there are a lot of \"dots\" in the config names. A dot usually means a subdomain. Use \"cache.alluxio.config-validation-enabled\". Same for other configs.", "author": "highker", "createdAt": "2020-06-11T00:29:52Z", "path": "presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java", "diffHunk": "@@ -87,4 +88,17 @@ public AlluxioCacheConfig setMaxCacheSize(DataSize maxCacheSize)\n         this.maxCacheSize = maxCacheSize;\n         return this;\n     }\n+\n+    @Config(\"cache.alluxio.config.validation.enabled\")", "originalCommit": "91429c712eed2a7d9d1a81ed21601c31504c84bc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "12963ed1fac1cb2e429bcfece6a31b70d8bcea49", "chunk": "diff --git a/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java b/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java\nindex 0752411f1a..681fd58c36 100644\n--- a/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java\n+++ b/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java\n\n@@ -82,15 +86,15 @@ public class AlluxioCacheConfig\n     }\n \n     @Config(\"cache.alluxio.max-cache-size\")\n-    @ConfigDescription(\"The maximum cache size\")\n+    @ConfigDescription(\"The maximum cache size available for alluxio cache\")\n     public AlluxioCacheConfig setMaxCacheSize(DataSize maxCacheSize)\n     {\n         this.maxCacheSize = maxCacheSize;\n         return this;\n     }\n \n-    @Config(\"cache.alluxio.config.validation.enabled\")\n-    @ConfigDescription(\"The cache config validation enabled\")\n+    @Config(\"cache.alluxio.config-validation-enabled\")\n+    @ConfigDescription(\"If the alluxio caching should validate the provided configuration\")\n     public AlluxioCacheConfig setConfigValidationEnabled(boolean configValidationEnabled)\n     {\n         this.configValidationEnabled = configValidationEnabled;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ3ODcwMQ==", "url": "https://github.com/prestodb/presto/pull/14633#discussion_r438478701", "bodyText": "Can we elaborate a bit more?", "author": "highker", "createdAt": "2020-06-11T00:30:16Z", "path": "presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java", "diffHunk": "@@ -87,4 +88,17 @@ public AlluxioCacheConfig setMaxCacheSize(DataSize maxCacheSize)\n         this.maxCacheSize = maxCacheSize;\n         return this;\n     }\n+\n+    @Config(\"cache.alluxio.config.validation.enabled\")\n+    @ConfigDescription(\"The cache config validation enabled\")", "originalCommit": "91429c712eed2a7d9d1a81ed21601c31504c84bc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "12963ed1fac1cb2e429bcfece6a31b70d8bcea49", "chunk": "diff --git a/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java b/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java\nindex 0752411f1a..681fd58c36 100644\n--- a/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java\n+++ b/presto-cache/src/main/java/com/facebook/presto/cache/alluxio/AlluxioCacheConfig.java\n\n@@ -82,15 +86,15 @@ public class AlluxioCacheConfig\n     }\n \n     @Config(\"cache.alluxio.max-cache-size\")\n-    @ConfigDescription(\"The maximum cache size\")\n+    @ConfigDescription(\"The maximum cache size available for alluxio cache\")\n     public AlluxioCacheConfig setMaxCacheSize(DataSize maxCacheSize)\n     {\n         this.maxCacheSize = maxCacheSize;\n         return this;\n     }\n \n-    @Config(\"cache.alluxio.config.validation.enabled\")\n-    @ConfigDescription(\"The cache config validation enabled\")\n+    @Config(\"cache.alluxio.config-validation-enabled\")\n+    @ConfigDescription(\"If the alluxio caching should validate the provided configuration\")\n     public AlluxioCacheConfig setConfigValidationEnabled(boolean configValidationEnabled)\n     {\n         this.configValidationEnabled = configValidationEnabled;\n"}}, {"oid": "12963ed1fac1cb2e429bcfece6a31b70d8bcea49", "url": "https://github.com/prestodb/presto/commit/12963ed1fac1cb2e429bcfece6a31b70d8bcea49", "message": "Add alluxio config validation flag\n\nAdding alluxio config validation flag, it can be used to disable the\ncache configuration validation. Cache configuration validation is\ncostly operation.", "committedDate": "2020-06-11T01:01:37Z", "type": "commit"}, {"oid": "12963ed1fac1cb2e429bcfece6a31b70d8bcea49", "url": "https://github.com/prestodb/presto/commit/12963ed1fac1cb2e429bcfece6a31b70d8bcea49", "message": "Add alluxio config validation flag\n\nAdding alluxio config validation flag, it can be used to disable the\ncache configuration validation. Cache configuration validation is\ncostly operation.", "committedDate": "2020-06-11T01:01:37Z", "type": "forcePushed"}]}