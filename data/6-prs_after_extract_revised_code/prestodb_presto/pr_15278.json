{"pr_number": 15278, "pr_title": "Rename PartitionVersionFetcher to PartitionMutator", "pr_createdAt": "2020-10-07T02:23:25Z", "pr_url": "https://github.com/prestodb/presto/pull/15278", "timeline": [{"oid": "023a01024ac4c7be381f0a9d082a0c18188f1d99", "url": "https://github.com/prestodb/presto/commit/023a01024ac4c7be381f0a9d082a0c18188f1d99", "message": "Rename PartitionVersionFetcher to PartitionMutator", "committedDate": "2020-10-07T02:23:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NTkwOA==", "url": "https://github.com/prestodb/presto/pull/15278#discussion_r501155908", "bodyText": "Might as well remove the comment above since now it is becoming generic.", "author": "shixuan-fan", "createdAt": "2020-10-07T16:39:03Z", "path": "presto-hive-metastore/src/main/java/com/facebook/presto/hive/metastore/thrift/ThriftMetastoreUtil.java", "diffHunk": "@@ -467,7 +467,7 @@ public static Partition fromMetastoreApiPartition(org.apache.hadoop.hive.metasto\n                 .setParameters(partition.getParameters());\n \n         // set the partition version if available\n-        partitionVersionFetcher.getPartitionVersion(partition).ifPresent(partitionBuilder::setPartitionVersion);\n+        partitionMutator.mutate(partitionBuilder, partition);", "originalCommit": "023a01024ac4c7be381f0a9d082a0c18188f1d99", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0be03d1c78ecf0fabe21645345d1ba9c897d952e", "chunk": "diff --git a/presto-hive-metastore/src/main/java/com/facebook/presto/hive/metastore/thrift/ThriftMetastoreUtil.java b/presto-hive-metastore/src/main/java/com/facebook/presto/hive/metastore/thrift/ThriftMetastoreUtil.java\nindex e660efb206..2bc2ea0d5c 100644\n--- a/presto-hive-metastore/src/main/java/com/facebook/presto/hive/metastore/thrift/ThriftMetastoreUtil.java\n+++ b/presto-hive-metastore/src/main/java/com/facebook/presto/hive/metastore/thrift/ThriftMetastoreUtil.java\n\n@@ -466,7 +466,7 @@ public final class ThriftMetastoreUtil\n                         .collect(toList()))\n                 .setParameters(partition.getParameters());\n \n-        // set the partition version if available\n+        // mutate apache partition to Presto partition\n         partitionMutator.mutate(partitionBuilder, partition);\n \n         fromMetastoreApiStorageDescriptor(storageDescriptor, partitionBuilder.getStorageBuilder(), format(\"%s.%s\", partition.getTableName(), partition.getValues()));\n"}}, {"oid": "0be03d1c78ecf0fabe21645345d1ba9c897d952e", "url": "https://github.com/prestodb/presto/commit/0be03d1c78ecf0fabe21645345d1ba9c897d952e", "message": "Rename PartitionVersionFetcher to PartitionMutator", "committedDate": "2020-10-07T17:30:18Z", "type": "commit"}, {"oid": "0be03d1c78ecf0fabe21645345d1ba9c897d952e", "url": "https://github.com/prestodb/presto/commit/0be03d1c78ecf0fabe21645345d1ba9c897d952e", "message": "Rename PartitionVersionFetcher to PartitionMutator", "committedDate": "2020-10-07T17:30:18Z", "type": "forcePushed"}]}