{"pr_number": 14422, "pr_title": " Clean up PlanOptimizerProvider while dropping connector", "pr_createdAt": "2020-04-21T08:02:00Z", "pr_url": "https://github.com/prestodb/presto/pull/14422", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMyMjUzMw==", "url": "https://github.com/prestodb/presto/pull/14422#discussion_r412322533", "bodyText": "nit: removePlanOptimizerProvider", "author": "highker", "createdAt": "2020-04-21T16:50:56Z", "path": "presto-main/src/main/java/com/facebook/presto/sql/planner/ConnectorPlanOptimizerManager.java", "diffHunk": "@@ -45,6 +45,12 @@ public void addPlanOptimizerProvider(ConnectorId connectorId, ConnectorPlanOptim\n                 \"ConnectorPlanOptimizerProvider for connector '%s' is already registered\", connectorId);\n     }\n \n+    public void dropPlanOptimizerProvider(ConnectorId connectorId)", "originalCommit": "c715220e207ec2a11fe2866328c0b106da95c550", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjYwNTc3OA==", "url": "https://github.com/prestodb/presto/pull/14422#discussion_r412605778", "bodyText": "nit: removePlanOptimizerProvider \n\nThanks for sugesting this!", "author": "liyubin117", "createdAt": "2020-04-22T01:38:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMyMjUzMw=="}], "type": "inlineReview", "revised_code": {"commit": "fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "chunk": "diff --git a/presto-main/src/main/java/com/facebook/presto/sql/planner/ConnectorPlanOptimizerManager.java b/presto-main/src/main/java/com/facebook/presto/sql/planner/ConnectorPlanOptimizerManager.java\nindex bf68b0ac27..7dfb48014d 100644\n--- a/presto-main/src/main/java/com/facebook/presto/sql/planner/ConnectorPlanOptimizerManager.java\n+++ b/presto-main/src/main/java/com/facebook/presto/sql/planner/ConnectorPlanOptimizerManager.java\n\n@@ -45,7 +45,7 @@ public class ConnectorPlanOptimizerManager\n                 \"ConnectorPlanOptimizerProvider for connector '%s' is already registered\", connectorId);\n     }\n \n-    public void dropPlanOptimizerProvider(ConnectorId connectorId)\n+    public void removePlanOptimizerProvider(ConnectorId connectorId)\n     {\n         requireNonNull(connectorId, \"connectorId is null\");\n         planOptimizerProviders.remove(connectorId);\n"}}, {"oid": "fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "url": "https://github.com/prestodb/presto/commit/fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "message": "Clean up PlanOptimizerProvider while dropping connector", "committedDate": "2020-04-22T01:34:50Z", "type": "commit"}, {"oid": "fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "url": "https://github.com/prestodb/presto/commit/fa4d2e148d1a4754aeb6880deac0f546dc8b7a04", "message": "Clean up PlanOptimizerProvider while dropping connector", "committedDate": "2020-04-22T01:34:50Z", "type": "forcePushed"}]}