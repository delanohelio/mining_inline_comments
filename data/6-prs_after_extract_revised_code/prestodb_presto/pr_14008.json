{"pr_number": 14008, "pr_title": "Fix EmptyTableLayout predicate to be none", "pr_createdAt": "2020-01-24T02:59:20Z", "pr_url": "https://github.com/prestodb/presto/pull/14008", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDUxNjU0NQ==", "url": "https://github.com/prestodb/presto/pull/14008#discussion_r370516545", "bodyText": "nit: consider inlining for ease of reading (to not require the reader to jump to makeEmptyTableLayout to understand what it is)", "author": "mbasmanova", "createdAt": "2020-01-24T08:26:02Z", "path": "presto-hive/src/main/java/com/facebook/presto/hive/HiveMetadata.java", "diffHunk": "@@ -2782,4 +2781,16 @@ public static SchemaTableName getSourceTableNameForPartitionsTable(SchemaTableNa\n                 tableName.getSchemaName(),\n                 tableName.getTableName().substring(0, tableName.getTableName().length() - PARTITIONS_TABLE_SUFFIX.length()));\n     }\n+\n+    private static ConnectorTableLayout makeEmptyTableLayout()", "originalCommit": "755dca992e4f3defdaaec60e195da26fbe34c96f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "07368b508384061fcc421726c30be2284b1d37f4", "chunk": "diff --git a/presto-hive/src/main/java/com/facebook/presto/hive/HiveMetadata.java b/presto-hive/src/main/java/com/facebook/presto/hive/HiveMetadata.java\nindex a7a3dd5a3f..5eddde3bfc 100644\n--- a/presto-hive/src/main/java/com/facebook/presto/hive/HiveMetadata.java\n+++ b/presto-hive/src/main/java/com/facebook/presto/hive/HiveMetadata.java\n\n@@ -2781,16 +2788,4 @@ public class HiveMetadata\n                 tableName.getSchemaName(),\n                 tableName.getTableName().substring(0, tableName.getTableName().length() - PARTITIONS_TABLE_SUFFIX.length()));\n     }\n-\n-    private static ConnectorTableLayout makeEmptyTableLayout()\n-    {\n-        return new ConnectorTableLayout(\n-                new ConnectorTableLayoutHandle() {},\n-                Optional.empty(),\n-                TupleDomain.none(),\n-                Optional.empty(),\n-                Optional.empty(),\n-                Optional.empty(),\n-                emptyList());\n-    }\n }\n"}}, {"oid": "07368b508384061fcc421726c30be2284b1d37f4", "url": "https://github.com/prestodb/presto/commit/07368b508384061fcc421726c30be2284b1d37f4", "message": "Set predicate in EMPTY_TABLE_LAYOUT to none", "committedDate": "2020-01-24T08:51:30Z", "type": "commit"}, {"oid": "07368b508384061fcc421726c30be2284b1d37f4", "url": "https://github.com/prestodb/presto/commit/07368b508384061fcc421726c30be2284b1d37f4", "message": "Set predicate in EMPTY_TABLE_LAYOUT to none", "committedDate": "2020-01-24T08:51:30Z", "type": "forcePushed"}]}