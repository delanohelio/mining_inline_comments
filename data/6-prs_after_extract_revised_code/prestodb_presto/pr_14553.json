{"pr_number": 14553, "pr_title": "Make TaskStatus Leaner", "pr_createdAt": "2020-05-19T01:54:59Z", "pr_url": "https://github.com/prestodb/presto/pull/14553", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3MTczNw==", "url": "https://github.com/prestodb/presto/pull/14553#discussion_r428371737", "bodyText": "nit: wrap it", "author": "arhimondr", "createdAt": "2020-05-20T23:53:56Z", "path": "presto-main/src/main/java/com/facebook/presto/execution/TaskInfo.java", "diffHunk": "@@ -45,13 +46,15 @@\n     private final boolean needsPlan;\n \n     @JsonCreator\n-    public TaskInfo(@JsonProperty(\"taskStatus\") TaskStatus taskStatus,\n+    public TaskInfo(@JsonProperty(\"taskId\") TaskId taskId,", "originalCommit": "7a324af0d9306224f2da60625c0db06b56a2d46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d3351f44b91082c023665ce9a3f9bba1a2a9263c", "chunk": "diff --git a/presto-main/src/main/java/com/facebook/presto/execution/TaskInfo.java b/presto-main/src/main/java/com/facebook/presto/execution/TaskInfo.java\nindex c42ff319e7..8e812398d0 100644\n--- a/presto-main/src/main/java/com/facebook/presto/execution/TaskInfo.java\n+++ b/presto-main/src/main/java/com/facebook/presto/execution/TaskInfo.java\n\n@@ -46,7 +46,8 @@ public class TaskInfo\n     private final boolean needsPlan;\n \n     @JsonCreator\n-    public TaskInfo(@JsonProperty(\"taskId\") TaskId taskId,\n+    public TaskInfo(\n+            @JsonProperty(\"taskId\") TaskId taskId,\n             @JsonProperty(\"taskStatus\") TaskStatus taskStatus,\n             @JsonProperty(\"lastHeartbeat\") DateTime lastHeartbeat,\n             @JsonProperty(\"outputBuffers\") OutputBufferInfo outputBuffers,\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3MTg3Mg==", "url": "https://github.com/prestodb/presto/pull/14553#discussion_r428371872", "bodyText": "Is it possible to get rid of this as well?", "author": "arhimondr", "createdAt": "2020-05-20T23:54:22Z", "path": "presto-main/src/main/java/com/facebook/presto/execution/TaskStatus.java", "diffHunk": "@@ -51,12 +47,10 @@\n      */\n     private static final long MAX_VERSION = Long.MAX_VALUE;\n \n-    private final TaskId taskId;\n     private final String taskInstanceId;\n     private final long version;\n     private final TaskState state;\n     private final URI self;", "originalCommit": "7a324af0d9306224f2da60625c0db06b56a2d46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3MTk0Ng==", "url": "https://github.com/prestodb/presto/pull/14553#discussion_r428371946", "bodyText": "Ideally it would be nice to serialize this enum as integer (ordinally)", "author": "arhimondr", "createdAt": "2020-05-20T23:54:40Z", "path": "presto-main/src/main/java/com/facebook/presto/execution/TaskStatus.java", "diffHunk": "@@ -51,12 +47,10 @@\n      */\n     private static final long MAX_VERSION = Long.MAX_VALUE;\n \n-    private final TaskId taskId;\n     private final String taskInstanceId;\n     private final long version;\n     private final TaskState state;", "originalCommit": "7a324af0d9306224f2da60625c0db06b56a2d46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3MjAzMQ==", "url": "https://github.com/prestodb/presto/pull/14553#discussion_r428372031", "bodyText": "This is the UUID, could we represent it as 2 longs?", "author": "arhimondr", "createdAt": "2020-05-20T23:54:56Z", "path": "presto-main/src/main/java/com/facebook/presto/execution/TaskStatus.java", "diffHunk": "@@ -51,12 +47,10 @@\n      */\n     private static final long MAX_VERSION = Long.MAX_VALUE;\n \n-    private final TaskId taskId;\n     private final String taskInstanceId;", "originalCommit": "7a324af0d9306224f2da60625c0db06b56a2d46e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "d3351f44b91082c023665ce9a3f9bba1a2a9263c", "url": "https://github.com/prestodb/presto/commit/d3351f44b91082c023665ce9a3f9bba1a2a9263c", "message": "Make TaskStatus Leaner", "committedDate": "2020-06-02T23:43:08Z", "type": "commit"}, {"oid": "d3351f44b91082c023665ce9a3f9bba1a2a9263c", "url": "https://github.com/prestodb/presto/commit/d3351f44b91082c023665ce9a3f9bba1a2a9263c", "message": "Make TaskStatus Leaner", "committedDate": "2020-06-02T23:43:08Z", "type": "forcePushed"}]}