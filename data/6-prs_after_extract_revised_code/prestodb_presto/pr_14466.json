{"pr_number": 14466, "pr_title": "Fix getBlockView to use positionCount instead of outputPositionCount", "pr_createdAt": "2020-05-02T01:27:11Z", "pr_url": "https://github.com/prestodb/presto/pull/14466", "timeline": [{"oid": "f656453c7771995f25a6b118a6ea2d8a1e330c8e", "url": "https://github.com/prestodb/presto/commit/f656453c7771995f25a6b118a6ea2d8a1e330c8e", "message": "Fix getBlockView to use positionCount instead of outputPositionCount", "committedDate": "2020-05-03T08:07:01Z", "type": "forcePushed"}, {"oid": "32d77a3c5559ec413cc830aba12031fe388323c9", "url": "https://github.com/prestodb/presto/commit/32d77a3c5559ec413cc830aba12031fe388323c9", "message": "Fix getBlockView to use positionCount instead of outputPositionCount", "committedDate": "2020-05-03T08:12:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM4NzYzNQ==", "url": "https://github.com/prestodb/presto/pull/14466#discussion_r419387635", "bodyText": "nit: a -> orderkey", "author": "mbasmanova", "createdAt": "2020-05-04T12:07:11Z", "path": "presto-hive/src/test/java/com/facebook/presto/hive/TestHivePushdownFilterQueries.java", "diffHunk": "@@ -670,7 +670,7 @@ public void testAllNullsInStruct()\n     {\n         List<String> types = ImmutableList.of(BOOLEAN, TINYINT, SMALLINT, INTEGER, BIGINT, DOUBLE, REAL, VARCHAR, DATE);\n \n-        String query = String.format(\"SELECT orderkey, CAST(ROW(%s, 1) AS ROW(%s, a INTEGER)) as struct FROM orders\",\n+        String query = String.format(\"SELECT orderkey, CAST(ROW(%s, orderkey) AS ROW(%s, a INTEGER)) as struct FROM orders\",", "originalCommit": "32d77a3c5559ec413cc830aba12031fe388323c9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d7486e1f2a91ac9567e4f4ce49e744ed136f8e41", "chunk": "diff --git a/presto-hive/src/test/java/com/facebook/presto/hive/TestHivePushdownFilterQueries.java b/presto-hive/src/test/java/com/facebook/presto/hive/TestHivePushdownFilterQueries.java\nindex d7a1da1ec1..768a7bcc6c 100644\n--- a/presto-hive/src/test/java/com/facebook/presto/hive/TestHivePushdownFilterQueries.java\n+++ b/presto-hive/src/test/java/com/facebook/presto/hive/TestHivePushdownFilterQueries.java\n\n@@ -670,7 +670,7 @@ public class TestHivePushdownFilterQueries\n     {\n         List<String> types = ImmutableList.of(BOOLEAN, TINYINT, SMALLINT, INTEGER, BIGINT, DOUBLE, REAL, VARCHAR, DATE);\n \n-        String query = String.format(\"SELECT orderkey, CAST(ROW(%s, orderkey) AS ROW(%s, a INTEGER)) as struct FROM orders\",\n+        String query = String.format(\"SELECT orderkey, CAST(ROW(%s, orderkey) AS ROW(%s, orderkey INTEGER)) as struct FROM orders\",\n                 types.stream()\n                         .map(type -> \"null\")\n                         .collect(joining(\", \")),\n"}}, {"oid": "d7486e1f2a91ac9567e4f4ce49e744ed136f8e41", "url": "https://github.com/prestodb/presto/commit/d7486e1f2a91ac9567e4f4ce49e744ed136f8e41", "message": "Fix getBlockView to use positionCount instead of outputPositionCount", "committedDate": "2020-05-05T00:03:31Z", "type": "commit"}, {"oid": "d7486e1f2a91ac9567e4f4ce49e744ed136f8e41", "url": "https://github.com/prestodb/presto/commit/d7486e1f2a91ac9567e4f4ce49e744ed136f8e41", "message": "Fix getBlockView to use positionCount instead of outputPositionCount", "committedDate": "2020-05-05T00:03:31Z", "type": "forcePushed"}]}