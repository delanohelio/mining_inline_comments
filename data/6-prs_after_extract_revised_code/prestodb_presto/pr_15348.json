{"pr_number": 15348, "pr_title": "Support access control for Presto-on-Spark", "pr_createdAt": "2020-10-23T17:37:59Z", "pr_url": "https://github.com/prestodb/presto/pull/15348", "timeline": [{"oid": "24653790ac51f61f9a15d880339228e226ec4194", "url": "https://github.com/prestodb/presto/commit/24653790ac51f61f9a15d880339228e226ec4194", "message": "Refactor AccessControlManager to load properties map", "committedDate": "2020-10-23T15:02:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1NTU0NA==", "url": "https://github.com/prestodb/presto/pull/15348#discussion_r511155544", "bodyText": "Nice! We no longer need this ugly accessControlModuleOverride.\nCC: @wenleix", "author": "arhimondr", "createdAt": "2020-10-23T21:06:44Z", "path": "presto-spark-base/src/main/java/com/facebook/presto/spark/PrestoSparkInjectorFactory.java", "diffHunk": "@@ -48,45 +48,27 @@\n     private final Map<String, String> configProperties;\n     private final Map<String, Map<String, String>> catalogProperties;\n     private final Optional<Map<String, String>> eventListenerProperties;\n+    private final Optional<Map<String, String>> accessControlProperties;", "originalCommit": "489cb404551b2f809ec161c101d1e3db7245b72c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "12e54644f41205ab2c74ba8d7444c6b95edeb12c", "chunk": "diff --git a/presto-spark-base/src/main/java/com/facebook/presto/spark/PrestoSparkInjectorFactory.java b/presto-spark-base/src/main/java/com/facebook/presto/spark/PrestoSparkInjectorFactory.java\nindex 4ecc771f07..de85218957 100644\n--- a/presto-spark-base/src/main/java/com/facebook/presto/spark/PrestoSparkInjectorFactory.java\n+++ b/presto-spark-base/src/main/java/com/facebook/presto/spark/PrestoSparkInjectorFactory.java\n\n@@ -51,6 +51,7 @@ public class PrestoSparkInjectorFactory\n     private final Optional<Map<String, String>> accessControlProperties;\n     private final SqlParserOptions sqlParserOptions;\n     private final List<Module> additionalModules;\n+    private final Module accessControlModule;\n \n     public PrestoSparkInjectorFactory(\n             SparkProcessType sparkProcessType,\n"}}, {"oid": "12e54644f41205ab2c74ba8d7444c6b95edeb12c", "url": "https://github.com/prestodb/presto/commit/12e54644f41205ab2c74ba8d7444c6b95edeb12c", "message": "Support access control for Presto-on-Spark", "committedDate": "2020-10-23T23:22:39Z", "type": "forcePushed"}, {"oid": "f5c752fe709b1dbf1ea5c2b045d925b9099813d3", "url": "https://github.com/prestodb/presto/commit/f5c752fe709b1dbf1ea5c2b045d925b9099813d3", "message": "Support access control for Presto-on-Spark", "committedDate": "2020-10-24T02:37:42Z", "type": "forcePushed"}, {"oid": "1f88e46f085200625814f8c7f30a5fb923d2ac13", "url": "https://github.com/prestodb/presto/commit/1f88e46f085200625814f8c7f30a5fb923d2ac13", "message": "Support access control for Presto-on-Spark", "committedDate": "2020-10-24T03:38:44Z", "type": "commit"}, {"oid": "1f88e46f085200625814f8c7f30a5fb923d2ac13", "url": "https://github.com/prestodb/presto/commit/1f88e46f085200625814f8c7f30a5fb923d2ac13", "message": "Support access control for Presto-on-Spark", "committedDate": "2020-10-24T03:38:44Z", "type": "forcePushed"}]}