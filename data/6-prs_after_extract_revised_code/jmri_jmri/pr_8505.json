{"pr_number": 8505, "pr_title": "XNetTurnout range check;don't suppress invalid;report motion complete", "pr_createdAt": "2020-05-08T05:43:29Z", "pr_url": "https://github.com/JMRI/JMRI/pull/8505", "timeline": [{"oid": "a99f9ba8bed42e9a33468310e9e90a723b34f4a0", "url": "https://github.com/JMRI/JMRI/commit/a99f9ba8bed42e9a33468310e9e90a723b34f4a0", "message": "XNetTurnout range check;don't suppress invalid;report motion complete", "committedDate": "2020-05-08T05:36:59Z", "type": "commit"}, {"oid": "3f677c2985de49f280c6b20957d59896650f4a8f", "url": "https://github.com/JMRI/JMRI/commit/3f677c2985de49f280c6b20957d59896650f4a8f", "message": "Remove extra line noted by spotbugs.", "committedDate": "2020-05-08T06:29:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE0NTUzMA==", "url": "https://github.com/JMRI/JMRI/pull/8505#discussion_r422145530", "bodyText": "Thanks for the correction.", "author": "svatoun", "createdAt": "2020-05-08T13:33:55Z", "path": "java/src/jmri/jmrix/lenz/XNetReply.java", "diffHunk": "@@ -715,10 +715,6 @@ public boolean onTurnoutFeedback(int accessoryNumber, Function<FeedbackItem, Boo\n             return Optional.empty();\n         }\n         FeedbackItem item = new FeedbackItem(this, accessoryNumber, r);\n-        if (item.getAccessoryStatus() > 2) {", "originalCommit": "3f677c2985de49f280c6b20957d59896650f4a8f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE1NDgwNg==", "url": "https://github.com/JMRI/JMRI/pull/8505#discussion_r422154806", "bodyText": "Still a question: is this combination sent while the turnout w/feedback is still moving - none of the end switches report turnout's position ?", "author": "svatoun", "createdAt": "2020-05-08T13:51:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE0NTUzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjI2NTk5MA==", "url": "https://github.com/JMRI/JMRI/pull/8505#discussion_r422265990", "bodyText": "For turnouts with feedback, If the turnout is reported as still moving, the motion complete bit will be 0.  Turnouts without feedback always set the motion complete bit to 1.\nThe invalid combination may never actually be sent, but it is defined in the XpressNet manual as being \"invalid\".  Operationally, XNetTurnout objects treat both the 00 case and 11 case the same, but the XpressNet monitor treats them differently.  I caught this while refactoring the Monitor code to use the Feedback items.", "author": "pabender", "createdAt": "2020-05-08T17:19:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE0NTUzMA=="}], "type": "inlineReview", "revised_code": null}]}