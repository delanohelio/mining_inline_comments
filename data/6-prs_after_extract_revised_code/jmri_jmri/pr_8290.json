{"pr_number": 8290, "pr_title": "Show directories when searching for script files", "pr_createdAt": "2020-03-30T03:21:12Z", "pr_url": "https://github.com/JMRI/JMRI/pull/8290", "timeline": [{"oid": "a01aa6bbc166cb334a780cb611a8eedbe4ec0588", "url": "https://github.com/JMRI/JMRI/commit/a01aa6bbc166cb334a780cb611a8eedbe4ec0588", "message": "Show directories when searching for script files", "committedDate": "2020-03-30T03:20:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA2NjAxMA==", "url": "https://github.com/JMRI/JMRI/pull/8290#discussion_r400066010", "bodyText": "Does PyhtonScriptFiles need to be a key for Bundle.getMessage?", "author": "rhwood", "createdAt": "2020-03-30T09:54:17Z", "path": "java/src/jmri/jmrit/operations/trains/tools/TrainsScriptFrame.java", "diffHunk": "@@ -203,12 +199,13 @@ public void buttonActionRemoveShutDownScript(java.awt.event.ActionEvent ae) {\n      * We always use the same file chooser in this class, so that the user's\n      * last-accessed directory remains available.\n      */\n-    JFileChooser fc = jmri.jmrit.XmlFile.userFileChooser(Bundle.getMessage(\"PythonScriptFiles\"), \"py\"); // NOI18N\n+    JFileChooser fc = new JFileChooser(FileUtil.getUserFilesPath());\n \n     private File selectFile() {\n         if (fc == null) {\n             log.error(\"Could not find user directory\");\n         } else {\n+            fc.setFileFilter(new FileNameExtensionFilter(\"PythonScriptFiles\", \"py\")); // NOI18N", "originalCommit": "a01aa6bbc166cb334a780cb611a8eedbe4ec0588", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ff3a8238e4e6cac58c173a143ee7c499e1acf001", "chunk": "diff --git a/java/src/jmri/jmrit/operations/trains/tools/TrainsScriptFrame.java b/java/src/jmri/jmrit/operations/trains/tools/TrainsScriptFrame.java\nindex 6e049c0d1a..356a232e50 100644\n--- a/java/src/jmri/jmrit/operations/trains/tools/TrainsScriptFrame.java\n+++ b/java/src/jmri/jmrit/operations/trains/tools/TrainsScriptFrame.java\n\n@@ -205,7 +205,7 @@ public class TrainsScriptFrame extends OperationsFrame {\n         if (fc == null) {\n             log.error(\"Could not find user directory\");\n         } else {\n-            fc.setFileFilter(new FileNameExtensionFilter(\"PythonScriptFiles\", \"py\")); // NOI18N\n+            fc.setFileFilter(new FileNameExtensionFilter(Bundle.getMessage(\"PythonScriptFiles\"), \"py\")); // NOI18N\n             fc.setDialogTitle(Bundle.getMessage(\"FindDesiredScriptFile\"));\n             // when reusing the chooser, make sure new files are included\n             fc.rescanCurrentDirectory();\n"}}, {"oid": "ff3a8238e4e6cac58c173a143ee7c499e1acf001", "url": "https://github.com/JMRI/JMRI/commit/ff3a8238e4e6cac58c173a143ee7c499e1acf001", "message": "Fix message key", "committedDate": "2020-03-30T12:00:15Z", "type": "commit"}]}