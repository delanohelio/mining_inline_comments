{"pr_number": 9093, "pr_title": "CPE as Web Server panel", "pr_createdAt": "2020-10-21T21:35:22Z", "pr_url": "https://github.com/JMRI/JMRI/pull/9093", "timeline": [{"oid": "ee90265a2d866472c45add7a3c35d68c5fd7add1", "url": "https://github.com/JMRI/JMRI/commit/ee90265a2d866472c45add7a3c35d68c5fd7add1", "message": "show OBlock occupancy state in Web Server CPE", "committedDate": "2020-10-16T22:04:04Z", "type": "commit"}, {"oid": "6a20293a49e460f404a32736455fe1c114d7a341", "url": "https://github.com/JMRI/JMRI/commit/6a20293a49e460f404a32736455fe1c114d7a341", "message": "add element errorsensor to schema", "committedDate": "2020-10-17T09:49:33Z", "type": "commit"}, {"oid": "1b45b924fa1e8ae390a4103487af32cf69696859", "url": "https://github.com/JMRI/JMRI/commit/1b45b924fa1e8ae390a4103487af32cf69696859", "message": "oblocks info via servlet, revert schema", "committedDate": "2020-10-17T13:32:40Z", "type": "commit"}, {"oid": "cb1c2fe7172a57a100771b07d4790d92604d077c", "url": "https://github.com/JMRI/JMRI/commit/cb1c2fe7172a57a100771b07d4790d92604d077c", "message": "add oblock json type", "committedDate": "2020-10-17T19:41:00Z", "type": "commit"}, {"oid": "02cff300a60c6af806f9e233270a27d6efab6925", "url": "https://github.com/JMRI/JMRI/commit/02cff300a60c6af806f9e233270a27d6efab6925", "message": "link oblocks to web by server.json", "committedDate": "2020-10-18T22:12:56Z", "type": "commit"}, {"oid": "1e3fea2fe82c218ff543bc53b80ffb78fd65759e", "url": "https://github.com/JMRI/JMRI/commit/1e3fea2fe82c218ff543bc53b80ffb78fd65759e", "message": "handle oblocks web via array", "committedDate": "2020-10-20T09:00:40Z", "type": "commit"}, {"oid": "527fb6e61571f1cd7061b71ad5d01c513abcf690", "url": "https://github.com/JMRI/JMRI/commit/527fb6e61571f1cd7061b71ad5d01c513abcf690", "message": "combined icons and oblock json status", "committedDate": "2020-10-20T17:58:01Z", "type": "commit"}, {"oid": "03c76676e526022468c2e675cfe242ef319dd4f0", "url": "https://github.com/JMRI/JMRI/commit/03c76676e526022468c2e675cfe242ef319dd4f0", "message": "fix LE canvas hop", "committedDate": "2020-10-20T18:28:26Z", "type": "commit"}, {"oid": "12431c75db633fb1bcc43690b4e7a4857187a74f", "url": "https://github.com/JMRI/JMRI/commit/12431c75db633fb1bcc43690b4e7a4857187a74f", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into eb-oblocks-web", "committedDate": "2020-10-20T19:09:02Z", "type": "commit"}, {"oid": "59d000954294e5a238ec0d33cd3f6dce2a6d397e", "url": "https://github.com/JMRI/JMRI/commit/59d000954294e5a238ec0d33cd3f6dce2a6d397e", "message": "remove unused widget icon paths", "committedDate": "2020-10-20T20:36:19Z", "type": "commit"}, {"oid": "c5b351aeb13d9312cd227f49a98a13f02b996b32", "url": "https://github.com/JMRI/JMRI/commit/c5b351aeb13d9312cd227f49a98a13f02b996b32", "message": "servlet tests", "committedDate": "2020-10-21T12:28:57Z", "type": "commit"}, {"oid": "6862b2d9409d25c0e1051544581b9b8adaf7647e", "url": "https://github.com/JMRI/JMRI/commit/6862b2d9409d25c0e1051544581b9b8adaf7647e", "message": "Json tests, release notes", "committedDate": "2020-10-21T17:33:46Z", "type": "commit"}, {"oid": "859ee25676606fb5e60499d3e6515593c7f8ea2e", "url": "https://github.com/JMRI/JMRI/commit/859ee25676606fb5e60499d3e6515593c7f8ea2e", "message": "clean up logging, web CPE tooltip", "committedDate": "2020-10-21T21:29:02Z", "type": "commit"}, {"oid": "1bb11c92d11571830389943ad8ef030e59118a10", "url": "https://github.com/JMRI/JMRI/commit/1bb11c92d11571830389943ad8ef030e59118a10", "message": "improve json schema", "committedDate": "2020-10-22T13:34:40Z", "type": "commit"}, {"oid": "9b20f88a14096287673988b1178acc633a2dc24a", "url": "https://github.com/JMRI/JMRI/commit/9b20f88a14096287673988b1178acc633a2dc24a", "message": "fix js data type, add hint in web .js files", "committedDate": "2020-10-22T19:03:15Z", "type": "commit"}, {"oid": "fcf88ee018c6b4b90f04038232acda9e6993807d", "url": "https://github.com/JMRI/JMRI/commit/fcf88ee018c6b4b90f04038232acda9e6993807d", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into eb-oblocks-web\n\n\u0001 Conflicts:\n\u0001\thelp/en/releasenotes/current-draft-note.shtml", "committedDate": "2020-10-22T19:13:48Z", "type": "commit"}, {"oid": "2335ca94344392eea9522e95d0c6eb22f166a7ec", "url": "https://github.com/JMRI/JMRI/commit/2335ca94344392eea9522e95d0c6eb22f166a7ec", "message": "Merge branch 'master' into eb-oblocks-web", "committedDate": "2020-10-22T20:59:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ2NjMyOQ==", "url": "https://github.com/JMRI/JMRI/pull/9093#discussion_r510466329", "bodyText": "I think it would be good if these constants started with the bean type they are related to. For example OBLOCK_TRACK_ERROR and TURNOUT_THROWN. When more and more constants are added, it gets more difficult to know what the constants are there for.\nBut this is no reason to hold this PR. This can be updated later in another PR.", "author": "danielb987", "createdAt": "2020-10-22T21:24:07Z", "path": "java/src/jmri/server/json/JSON.java", "diffHunk": "@@ -766,6 +766,25 @@\n      * {@value #THROWN}\n      */\n     public static final int THROWN = 0x04;\n+\n+    /* OBlock status */\n+    /**\n+     * {@value #ALLOCATED}\n+     */\n+    public static final int ALLOCATED = 0x10;\n+    /**\n+     * {@value #RUNNING}\n+     */\n+    public static final int RUNNING = 0x20;\n+    /**\n+     * {@value #OUT_OF_SERVICE}\n+     */\n+    public static final int OUT_OF_SERVICE = 0x30;\n+    /**\n+     * {@value #TRACK_ERROR}\n+     */\n+    public static final int TRACK_ERROR = 0x40;", "originalCommit": "2335ca94344392eea9522e95d0c6eb22f166a7ec", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "b5f1ecabc03456e2d93e643f8f3d7fee0271c893", "url": "https://github.com/JMRI/JMRI/commit/b5f1ecabc03456e2d93e643f8f3d7fee0271c893", "message": "bypass Ostate for other types", "committedDate": "2020-10-23T10:22:08Z", "type": "commit"}, {"oid": "7b761e4ad44d7aee0f9aa86279f4523315dc9486", "url": "https://github.com/JMRI/JMRI/commit/7b761e4ad44d7aee0f9aa86279f4523315dc9486", "message": "Merge remote-tracking branch 'origin/eb-oblocks-web' into eb-oblocks-web", "committedDate": "2020-10-23T10:22:33Z", "type": "commit"}]}