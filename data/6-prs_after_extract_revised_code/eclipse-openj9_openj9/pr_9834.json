{"pr_number": 9834, "pr_title": "Improve ProcessorUsage exception messages again", "pr_createdAt": "2020-06-09T14:00:10Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9834", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ1NDc4OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9834#discussion_r437454789", "bodyText": "Perhaps a better message would be 'online(N) not in [0,1]'?", "author": "keithc-ca", "createdAt": "2020-06-09T14:12:37Z", "path": "jcl/src/jdk.management/share/classes/com/ibm/lang/management/ProcessorUsage.java", "diffHunk": "@@ -99,7 +99,7 @@ private ProcessorUsage(long user, long system, long idle, long wait,\n \t\t\tthrow new IllegalArgumentException(\"id(\" + id + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$\n \t\t}\n \t\tif ((online < 0) || (online > 1)) {\n-\t\t\tthrow new IllegalArgumentException(\"online(\" + online + \") < 0) || online > 1\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"online(\" + online + \") < 0 || online > 1\"); //$NON-NLS-1$ //$NON-NLS-2$", "originalCommit": "3ba2f821c4f48b57a2964d8aecd96c9770bb9315", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzczNDQzMQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9834#discussion_r437734431", "bodyText": "Updated.", "author": "pshipton", "createdAt": "2020-06-09T21:31:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ1NDc4OQ=="}], "type": "inlineReview", "revised_code": {"commit": "70fc6a2e113ca013942a296ee0d867aef3552329", "chunk": "diff --git a/jcl/src/jdk.management/share/classes/com/ibm/lang/management/ProcessorUsage.java b/jcl/src/jdk.management/share/classes/com/ibm/lang/management/ProcessorUsage.java\nindex 5b66da894..345d1d532 100644\n--- a/jcl/src/jdk.management/share/classes/com/ibm/lang/management/ProcessorUsage.java\n+++ b/jcl/src/jdk.management/share/classes/com/ibm/lang/management/ProcessorUsage.java\n\n@@ -81,31 +81,31 @@ public class ProcessorUsage {\n \t\t\t       long busy, int id, int online, long timestamp) throws IllegalArgumentException {\n \t\tsuper();\n \t\tif (user < -1) {\n-\t\t\tthrow new IllegalArgumentException(\"user(\" + user + \") < -1: \"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), user(\" + user + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif (system < -1) {\n-\t\t\tthrow new IllegalArgumentException(\"system(\" + system + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), system(\" + system + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif (idle < -1) {\n-\t\t\tthrow new IllegalArgumentException(\"idle(\" + idle + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), idle(\" + idle + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif (wait < -1) {\n-\t\t\tthrow new IllegalArgumentException(\"wait(\" + wait + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), wait(\" + wait + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif (busy < -1) {\n-\t\t\tthrow new IllegalArgumentException(\"busy(\" + busy + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), busy(\" + busy + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif (id < -1) {\n \t\t\tthrow new IllegalArgumentException(\"id(\" + id + \") < -1\"); //$NON-NLS-1$ //$NON-NLS-2$\n \t\t}\n \t\tif ((online < 0) || (online > 1)) {\n-\t\t\tthrow new IllegalArgumentException(\"online(\" + online + \") < 0 || online > 1\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), online(\" + online + \") not in [0,1]\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif (timestamp < 0) {\n-\t\t\tthrow new IllegalArgumentException(\"timestamp(\" + timestamp + \") < 0\"); //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), timestamp(\" + timestamp + \") < 0\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tif ((user >= 0) && (system >= 0) && (wait >= 0) && (busy >= 0) && (busy < (user + system + wait))) {\n-\t\t\tthrow new IllegalArgumentException(\"busy(\" + busy + \") < user(\" + user + //$NON-NLS-1$ //$NON-NLS-2$\n+\t\t\tthrow new IllegalArgumentException(\"For id(\" + id + \"), busy(\" + busy + \") < user(\" + user + //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t\t\t\") + system(\" + system + \") + wait(\" + wait + \")\"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n \t\t}\n \t\tthis.user = user;\n"}}, {"oid": "70fc6a2e113ca013942a296ee0d867aef3552329", "url": "https://github.com/eclipse-openj9/openj9/commit/70fc6a2e113ca013942a296ee0d867aef3552329", "message": "Improve ProcessorUsage exception messages again\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-06-09T21:29:47Z", "type": "commit"}, {"oid": "70fc6a2e113ca013942a296ee0d867aef3552329", "url": "https://github.com/eclipse-openj9/openj9/commit/70fc6a2e113ca013942a296ee0d867aef3552329", "message": "Improve ProcessorUsage exception messages again\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-06-09T21:29:47Z", "type": "forcePushed"}]}