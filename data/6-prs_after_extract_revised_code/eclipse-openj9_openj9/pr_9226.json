{"pr_number": 9226, "pr_title": "Fix enum reflection test for jdk15+", "pr_createdAt": "2020-04-13T17:35:01Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9226", "timeline": [{"oid": "77af6ac2ace52504d503c675f56278b93240c436", "url": "https://github.com/eclipse-openj9/openj9/commit/77af6ac2ace52504d503c675f56278b93240c436", "message": "Fix enum reflection test for jdk15+\n\nEnum classes have a third synthetic method in jdk15+, `$values()`.\nAlso fixed some mistakes in the enum test.\n\nFixes #9216\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-04-13T17:39:07Z", "type": "commit"}, {"oid": "77af6ac2ace52504d503c675f56278b93240c436", "url": "https://github.com/eclipse-openj9/openj9/commit/77af6ac2ace52504d503c675f56278b93240c436", "message": "Fix enum reflection test for jdk15+\n\nEnum classes have a third synthetic method in jdk15+, `$values()`.\nAlso fixed some mistakes in the enum test.\n\nFixes #9216\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-04-13T17:39:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYzNDQyNg==", "url": "https://github.com/eclipse-openj9/openj9/pull/9226#discussion_r407634426", "bodyText": "why ACC_DEFAULT instead of ACC_MANDATED?", "author": "DanHeidinga", "createdAt": "2020-04-13T18:23:33Z", "path": "test/functional/Java8andUp/src/org/openj9/test/java/lang/reflect/Test_Executable.java", "diffHunk": "@@ -351,10 +359,21 @@ public void test_getParameters() {\n \t\t\t}\n \n \t\t\tcheckDeclaringExecutable(parameters[0], methods[1]);\n-\t\t\tcheckParameterName(methods[1], parameters[0], \"name\");\n-\t\t\tcheckParameterModifiers(methods[1], parameters[0], ACC_MANDATED);\n+\t\t\tcheckParameterName(methods[1], parameters[0], \"arg0\");\n+\t\t\tcheckParameterModifiers(methods[1], parameters[0], ACC_DEFAULT);", "originalCommit": "77af6ac2ace52504d503c675f56278b93240c436", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODM1Mjk4OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9226#discussion_r408352988", "bodyText": "@DanHeidinga When the code is compiled without -parameters, getModifiers() on the parameters returns 0. See the other tests without -parameters. The only reason it worked with ACC_MANDATED before is because the \"without parameters\" test was using the wrong \"with parameters\" class.", "author": "pshipton", "createdAt": "2020-04-14T18:37:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYzNDQyNg=="}], "type": "inlineReview", "revised_code": null}]}