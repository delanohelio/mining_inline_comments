{"pr_number": 6881, "pr_title": "[satel] Add null checks to all binding classes", "pr_createdAt": "2020-01-20T19:44:59Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/6881", "timeline": [{"oid": "eb81fd543549ce157043426c8eaaeb806e2cefa9", "url": "https://github.com/openhab/openhab-addons/commit/eb81fd543549ce157043426c8eaaeb806e2cefa9", "message": "[satel] Add null checks to all binding classes\n\nSigned-off-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>", "committedDate": "2020-01-20T17:56:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODcxOTY3NA==", "url": "https://github.com/openhab/openhab-addons/pull/6881#discussion_r368719674", "bodyText": "I think the code will look less ugly if you just inline the call to getResponse in places where there is only one occurrence, especially with the final added it gets very verbose.", "author": "martinvw", "createdAt": "2020-01-20T20:43:09Z", "path": "bundles/org.openhab.binding.satel/src/main/java/org/openhab/binding/satel/internal/command/IntegraStatusCommand.java", "diffHunk": "@@ -52,13 +55,15 @@ public LocalDateTime getIntegraTime() {\n      * @return first status byte\n      */\n     public byte getStatusByte1() {\n+        final SatelMessage response = getResponse();", "originalCommit": "eb81fd543549ce157043426c8eaaeb806e2cefa9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTI3OQ==", "url": "https://github.com/openhab/openhab-addons/pull/6881#discussion_r369169279", "bodyText": "Done.", "author": "druciak", "createdAt": "2020-01-21T18:29:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODcxOTY3NA=="}], "type": "inlineReview", "revised_code": {"commit": "5abbd1485da46f253e1158b3c9469537c0882db5", "chunk": "diff --git a/bundles/org.openhab.binding.satel/src/main/java/org/openhab/binding/satel/internal/command/IntegraStatusCommand.java b/bundles/org.openhab.binding.satel/src/main/java/org/openhab/binding/satel/internal/command/IntegraStatusCommand.java\nindex 19b8ef6057..6db86870cb 100644\n--- a/bundles/org.openhab.binding.satel/src/main/java/org/openhab/binding/satel/internal/command/IntegraStatusCommand.java\n+++ b/bundles/org.openhab.binding.satel/src/main/java/org/openhab/binding/satel/internal/command/IntegraStatusCommand.java\n\n@@ -45,26 +45,23 @@ public class IntegraStatusCommand extends SatelCommandBase {\n      */\n     public LocalDateTime getIntegraTime() {\n         // parse current date and time\n-        final SatelMessage response = getResponse();\n-        return LocalDateTime.of(bcdToInt(response.getPayload(), 0, 2), bcdToInt(response.getPayload(), 2, 1),\n-                bcdToInt(response.getPayload(), 3, 1), bcdToInt(response.getPayload(), 4, 1),\n-                bcdToInt(response.getPayload(), 5, 1), bcdToInt(response.getPayload(), 6, 1));\n+        final byte[] payload = getResponse().getPayload();\n+        return LocalDateTime.of(bcdToInt(payload, 0, 2), bcdToInt(payload, 2, 1), bcdToInt(payload, 3, 1),\n+                bcdToInt(payload, 4, 1), bcdToInt(payload, 5, 1), bcdToInt(payload, 6, 1));\n     }\n \n     /**\n      * @return first status byte\n      */\n     public byte getStatusByte1() {\n-        final SatelMessage response = getResponse();\n-        return response.getPayload()[7];\n+        return getResponse().getPayload()[7];\n     }\n \n     /**\n      * @return second status byte\n      */\n     public byte getStatusByte2() {\n-        final SatelMessage response = getResponse();\n-        return response.getPayload()[8];\n+        return getResponse().getPayload()[8];\n     }\n \n     @Override\n"}}, {"oid": "5abbd1485da46f253e1158b3c9469537c0882db5", "url": "https://github.com/openhab/openhab-addons/commit/5abbd1485da46f253e1158b3c9469537c0882db5", "message": "review fixes\n\nSigned-off-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>", "committedDate": "2020-01-21T18:30:26Z", "type": "commit"}, {"oid": "5abbd1485da46f253e1158b3c9469537c0882db5", "url": "https://github.com/openhab/openhab-addons/commit/5abbd1485da46f253e1158b3c9469537c0882db5", "message": "review fixes\n\nSigned-off-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>", "committedDate": "2020-01-21T18:30:26Z", "type": "forcePushed"}]}