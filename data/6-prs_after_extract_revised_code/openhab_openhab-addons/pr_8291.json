{"pr_number": 8291, "pr_title": "[lcn] Make requesting module serial numbers more reliable", "pr_createdAt": "2020-08-13T15:14:13Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8291", "timeline": [{"oid": "8e3d5efc5f8c453225d2d0bef02fea291bced04b", "url": "https://github.com/openhab/openhab-addons/commit/8e3d5efc5f8c453225d2d0bef02fea291bced04b", "message": "[lcn] Make requesting module serial numbers more reliable\n\nThe previous implementation sent serial number requests without throttling and without retrying, which lead to unresolved serial numbers. This occurs if more than a couple of modules have no serial number property set, yet.\n\nSigned-off-by: Fabian Wolter <github@fabian-wolter.de>", "committedDate": "2020-08-13T15:08:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA2NTg1NA==", "url": "https://github.com/openhab/openhab-addons/pull/8291#discussion_r470065854", "bodyText": "Looks as if you are not yet aware of Thing.PROPERTY_SERIAL_NUMBER which should definitely be used here!", "author": "kaikreuzer", "createdAt": "2020-08-13T16:11:38Z", "path": "bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnBindingConstants.java", "diffHunk": "@@ -25,6 +25,8 @@\n public class LcnBindingConstants {\n     /** The scope name of this binding */\n     public static final String BINDING_ID = \"lcn\";\n+    /** Name of the module's serial number property */\n+    public static final String SERIAL_NUMBER_PROPERTY = \"serialNumber\";", "originalCommit": "8e3d5efc5f8c453225d2d0bef02fea291bced04b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDIwMjg0NA==", "url": "https://github.com/openhab/openhab-addons/pull/8291#discussion_r470202844", "bodyText": "Indeed, great! Fixed.", "author": "fwolter", "createdAt": "2020-08-13T19:40:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA2NTg1NA=="}], "type": "inlineReview", "revised_code": {"commit": "6d0794f6ec9023f6992a6dd6121e6822704b6e54", "chunk": "diff --git a/bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnBindingConstants.java b/bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnBindingConstants.java\nindex e25aee1e8b..39c7d2b4ba 100644\n--- a/bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnBindingConstants.java\n+++ b/bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnBindingConstants.java\n\n@@ -25,8 +25,6 @@ import org.eclipse.smarthome.core.thing.ThingTypeUID;\n public class LcnBindingConstants {\n     /** The scope name of this binding */\n     public static final String BINDING_ID = \"lcn\";\n-    /** Name of the module's serial number property */\n-    public static final String SERIAL_NUMBER_PROPERTY = \"serialNumber\";\n     /**\n      * Firmware version of the measurement processing since 2013. It has more variables and thresholds and event-based\n      * variable updates.\n"}}, {"oid": "6d0794f6ec9023f6992a6dd6121e6822704b6e54", "url": "https://github.com/openhab/openhab-addons/commit/6d0794f6ec9023f6992a6dd6121e6822704b6e54", "message": "Use Thing.PROPERTY_SERIAL_NUMBER instead of custom constant\n\nSigned-off-by: Fabian Wolter <github@fabian-wolter.de>", "committedDate": "2020-08-13T19:39:34Z", "type": "commit"}]}