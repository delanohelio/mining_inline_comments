{"pr_number": 8838, "pr_title": "[miio] delay refresh to avoid devices not ready yet", "pr_createdAt": "2020-10-22T19:11:18Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8838", "timeline": [{"oid": "285f4c8b0467a3357c9c7eabc2886cafdc9200c3", "url": "https://github.com/openhab/openhab-addons/commit/285f4c8b0467a3357c9c7eabc2886cafdc9200c3", "message": "[miio] delay refresh to avoid devices not ready yet\n\nDelay refresh after command is send as some devices are not ready yet\nwith the execution and will report wrong status.\nThis is confusing to the users.\n\nRelated forum topic:\nhttps://community.openhab.org/t/xiaomi-mi-air-purifier-xiaomi-mi-io/34840/300\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-10-22T19:09:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ5Mzk0Mg==", "url": "https://github.com/openhab/openhab-addons/pull/8838#discussion_r510493942", "bodyText": "I thought this was already removed in a prior PR...\nEither way this change doesn't belong in this PR.", "author": "cpmeister", "createdAt": "2020-10-22T22:29:02Z", "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/MiIoDevices.java", "diffHunk": "@@ -91,7 +91,6 @@\n     MRBOND_AIRER_M1PRO(\"mrbond.airer.m1pro\", \"Mr Bond M1 Pro Smart Clothes Dryer\", THING_TYPE_BASIC),\n     MRBOND_AIRER_M1S(\"mrbond.airer.m1s\", \"Mr Bond M1 Smart Clothes Dryer\", THING_TYPE_BASIC),\n     MRBOND_AIRER_M1SUPER(\"mrbond.airer.m1super\", \"Mr Bond M1 Super Smart Clothes Dryer\", THING_TYPE_BASIC),\n-    PHILIPS_R1(\"philips.light.sread1\", \"Xiaomi Philips Eyecare Smart Lamp 2\", THING_TYPE_BASIC),\n     PHILIPS_SR1(\"philips.light.sread1\", \"Xiaomi Philips Eyecare Smart Lamp 2\", THING_TYPE_BASIC),", "originalCommit": "285f4c8b0467a3357c9c7eabc2886cafdc9200c3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fef6a4e6f7ea9f81a1bb5346fc93492f5d9e0cd0", "chunk": "diff --git a/bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/MiIoDevices.java b/bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/MiIoDevices.java\nindex ca2d1d9c77..3755b31c6f 100644\n--- a/bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/MiIoDevices.java\n+++ b/bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/MiIoDevices.java\n\n@@ -91,6 +91,7 @@ public enum MiIoDevices {\n     MRBOND_AIRER_M1PRO(\"mrbond.airer.m1pro\", \"Mr Bond M1 Pro Smart Clothes Dryer\", THING_TYPE_BASIC),\n     MRBOND_AIRER_M1S(\"mrbond.airer.m1s\", \"Mr Bond M1 Smart Clothes Dryer\", THING_TYPE_BASIC),\n     MRBOND_AIRER_M1SUPER(\"mrbond.airer.m1super\", \"Mr Bond M1 Super Smart Clothes Dryer\", THING_TYPE_BASIC),\n+    PHILIPS_R1(\"philips.light.sread1\", \"Xiaomi Philips Eyecare Smart Lamp 2\", THING_TYPE_BASIC),\n     PHILIPS_SR1(\"philips.light.sread1\", \"Xiaomi Philips Eyecare Smart Lamp 2\", THING_TYPE_BASIC),\n     PHILIPS_SR2(\"philips.light.sread2\", \"Xiaomi Philips Eyecare Smart Lamp 2\", THING_TYPE_BASIC),\n     PHILIPS_C(\"philips.light.ceiling\", \"Xiaomi Philips LED Ceiling Lamp\", THING_TYPE_BASIC),\n"}}, {"oid": "fef6a4e6f7ea9f81a1bb5346fc93492f5d9e0cd0", "url": "https://github.com/openhab/openhab-addons/commit/fef6a4e6f7ea9f81a1bb5346fc93492f5d9e0cd0", "message": "[miio] remove change from PR", "committedDate": "2020-10-23T18:53:03Z", "type": "commit"}]}