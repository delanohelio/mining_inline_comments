{"pr_number": 8261, "pr_title": "[alarmdecoder] allow keypad messages with !KPM:", "pr_createdAt": "2020-08-05T17:24:57Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8261", "timeline": [{"oid": "bf86ca8d5f3e99a8359b56daf1e8cd717aa8d374", "url": "https://github.com/openhab/openhab-addons/commit/bf86ca8d5f3e99a8359b56daf1e8cd717aa8d374", "message": "[alarmdecoder] allow keypad messages with !KPM:\n\nSigned-off-by: ddempsey3 <24881248+ddempsey3@users.noreply.github.com>", "committedDate": "2020-08-05T17:29:03Z", "type": "commit"}, {"oid": "bf86ca8d5f3e99a8359b56daf1e8cd717aa8d374", "url": "https://github.com/openhab/openhab-addons/commit/bf86ca8d5f3e99a8359b56daf1e8cd717aa8d374", "message": "[alarmdecoder] allow keypad messages with !KPM:\n\nSigned-off-by: ddempsey3 <24881248+ddempsey3@users.noreply.github.com>", "committedDate": "2020-08-05T17:29:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY5NzYzMA==", "url": "https://github.com/openhab/openhab-addons/pull/8261#discussion_r466697630", "bodyText": "I can't say for sure that the keypad message string will never include a \":\" character, so doing a split on \":\" could potentially cause a problem at some point. It may be better to use something like message.replace(\"!KPM:\", \"\").", "author": "bobadair", "createdAt": "2020-08-06T21:31:51Z", "path": "bundles/org.openhab.binding.alarmdecoder/src/main/java/org/openhab/binding/alarmdecoder/internal/protocol/KeypadMessage.java", "diffHunk": "@@ -56,7 +56,8 @@\n \n     public KeypadMessage(String message) throws IllegalArgumentException {\n         super(message);\n-        List<String> parts = splitMsg(message);\n+        String topLevel[] = message.split(\":\");", "originalCommit": "bf86ca8d5f3e99a8359b56daf1e8cd717aa8d374", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI3NzE2NA==", "url": "https://github.com/openhab/openhab-addons/pull/8261#discussion_r467277164", "bodyText": "Sure thing, will change!!", "author": "ddempsey3", "createdAt": "2020-08-07T21:25:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY5NzYzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg4NTcyNg==", "url": "https://github.com/openhab/openhab-addons/pull/8261#discussion_r475885726", "bodyText": "@bobadair Done!", "author": "ddempsey3", "createdAt": "2020-08-24T20:49:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY5NzYzMA=="}], "type": "inlineReview", "revised_code": {"commit": "b2d47b14e63273bf86b8fedcaf43417fb01d438d", "chunk": "diff --git a/bundles/org.openhab.binding.alarmdecoder/src/main/java/org/openhab/binding/alarmdecoder/internal/protocol/KeypadMessage.java b/bundles/org.openhab.binding.alarmdecoder/src/main/java/org/openhab/binding/alarmdecoder/internal/protocol/KeypadMessage.java\nindex 74c586acc5..f8e20de0ef 100644\n--- a/bundles/org.openhab.binding.alarmdecoder/src/main/java/org/openhab/binding/alarmdecoder/internal/protocol/KeypadMessage.java\n+++ b/bundles/org.openhab.binding.alarmdecoder/src/main/java/org/openhab/binding/alarmdecoder/internal/protocol/KeypadMessage.java\n\n@@ -56,8 +56,7 @@ public class KeypadMessage extends ADMessage {\n \n     public KeypadMessage(String message) throws IllegalArgumentException {\n         super(message);\n-        String topLevel[] = message.split(\":\");\n-        List<String> parts = splitMsg(topLevel[(topLevel.length - 1)]);\n+        List<String> parts = splitMsg(message.replace(\"!KPM:\", \"\"));\n \n         if (parts.size() != 4) {\n             throw new IllegalArgumentException(\"Invalid number of parts in keypad message\");\n"}}, {"oid": "b2d47b14e63273bf86b8fedcaf43417fb01d438d", "url": "https://github.com/openhab/openhab-addons/commit/b2d47b14e63273bf86b8fedcaf43417fb01d438d", "message": "[alarmdecoder] review comments for !KPM messages\n\nSigned-off-by: ddempsey3 <24881248+ddempsey3@users.noreply.github.com>", "committedDate": "2020-08-24T20:47:46Z", "type": "commit"}, {"oid": "b2d47b14e63273bf86b8fedcaf43417fb01d438d", "url": "https://github.com/openhab/openhab-addons/commit/b2d47b14e63273bf86b8fedcaf43417fb01d438d", "message": "[alarmdecoder] review comments for !KPM messages\n\nSigned-off-by: ddempsey3 <24881248+ddempsey3@users.noreply.github.com>", "committedDate": "2020-08-24T20:47:46Z", "type": "forcePushed"}]}