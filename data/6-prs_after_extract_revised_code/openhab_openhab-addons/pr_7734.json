{"pr_number": 7734, "pr_title": "[plugwise] Removed dependency on 'org.apache.commons.io.IOUtils'", "pr_createdAt": "2020-05-22T10:25:55Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7734", "timeline": [{"oid": "3f049957cc8950c81f611558e86ec493043e301c", "url": "https://github.com/openhab/openhab-addons/commit/3f049957cc8950c81f611558e86ec493043e301c", "message": "[plugwise] Removed dependency on 'org.apache.commons.io.IOUtils'\n\nRelative to #7722\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-25T15:34:52Z", "type": "commit"}, {"oid": "3f049957cc8950c81f611558e86ec493043e301c", "url": "https://github.com/openhab/openhab-addons/commit/3f049957cc8950c81f611558e86ec493043e301c", "message": "[plugwise] Removed dependency on 'org.apache.commons.io.IOUtils'\n\nRelative to #7722\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-25T15:34:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk5OTg0MQ==", "url": "https://github.com/openhab/openhab-addons/pull/7734#discussion_r429999841", "bodyText": "I would suggest to assign a local variable here", "author": "J-N-K", "createdAt": "2020-05-25T15:53:17Z", "path": "bundles/org.openhab.binding.plugwise/src/main/java/org/openhab/binding/plugwise/internal/PlugwiseCommunicationContext.java", "diffHunk": "@@ -97,8 +96,20 @@ public void closeSerialPort() {\n         SerialPort localSerialPort = serialPort;\n         if (localSerialPort != null) {\n             try {\n-                IOUtils.closeQuietly(localSerialPort.getInputStream());\n-                IOUtils.closeQuietly(localSerialPort.getOutputStream());\n+                if (localSerialPort.getInputStream() != null) {", "originalCommit": "3f049957cc8950c81f611558e86ec493043e301c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAwNTE0MA==", "url": "https://github.com/openhab/openhab-addons/pull/7734#discussion_r430005140", "bodyText": "Done", "author": "lolodomo", "createdAt": "2020-05-25T16:08:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk5OTg0MQ=="}], "type": "inlineReview", "revised_code": {"commit": "0702c7d92b51dde73f1973d93e650bf71affe8b4", "chunk": "diff --git a/bundles/org.openhab.binding.plugwise/src/main/java/org/openhab/binding/plugwise/internal/PlugwiseCommunicationContext.java b/bundles/org.openhab.binding.plugwise/src/main/java/org/openhab/binding/plugwise/internal/PlugwiseCommunicationContext.java\nindex f82fa9b359..5aa94adb93 100644\n--- a/bundles/org.openhab.binding.plugwise/src/main/java/org/openhab/binding/plugwise/internal/PlugwiseCommunicationContext.java\n+++ b/bundles/org.openhab.binding.plugwise/src/main/java/org/openhab/binding/plugwise/internal/PlugwiseCommunicationContext.java\n\n@@ -96,16 +98,18 @@ public class PlugwiseCommunicationContext {\n         SerialPort localSerialPort = serialPort;\n         if (localSerialPort != null) {\n             try {\n-                if (localSerialPort.getInputStream() != null) {\n+                InputStream inputStream = localSerialPort.getInputStream();\n+                if (inputStream != null) {\n                     try {\n-                        localSerialPort.getInputStream().close();\n+                        inputStream.close();\n                     } catch (IOException e) {\n                         logger.debug(\"Error while closing the input stream: {}\", e.getMessage());\n                     }\n                 }\n-                if (localSerialPort.getOutputStream() != null) {\n+                OutputStream outputStream = localSerialPort.getOutputStream();\n+                if (outputStream != null) {\n                     try {\n-                        localSerialPort.getOutputStream().close();\n+                        outputStream.close();\n                     } catch (IOException e) {\n                         logger.debug(\"Error while closing the output stream: {}\", e.getMessage());\n                     }\n"}}, {"oid": "0702c7d92b51dde73f1973d93e650bf71affe8b4", "url": "https://github.com/openhab/openhab-addons/commit/0702c7d92b51dde73f1973d93e650bf71affe8b4", "message": "Local variables\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-25T16:07:33Z", "type": "commit"}]}