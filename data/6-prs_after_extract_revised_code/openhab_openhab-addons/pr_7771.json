{"pr_number": 7771, "pr_title": "[lgwebos] Mask access key", "pr_createdAt": "2020-05-24T12:15:01Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7771", "timeline": [{"oid": "982c68ccad3949fa44a5371023eed34b15495d8b", "url": "https://github.com/openhab/openhab-addons/commit/982c68ccad3949fa44a5371023eed34b15495d8b", "message": "[lgwebos] Mask access key\n\nFix #7758\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-24T12:29:40Z", "type": "forcePushed"}, {"oid": "d5f927ba29bc4c5eecdc7e71d45ff7b4ee58a4ef", "url": "https://github.com/openhab/openhab-addons/commit/d5f927ba29bc4c5eecdc7e71d45ff7b4ee58a4ef", "message": "[lgwebos] Mask access key\n\nFix #7758\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-24T12:50:21Z", "type": "forcePushed"}, {"oid": "8b205ff38cbda494dc2da841b188f31add269aa1", "url": "https://github.com/openhab/openhab-addons/commit/8b205ff38cbda494dc2da841b188f31add269aa1", "message": "[lgwebos] Mask access key\n\nFix #7758\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-24T13:01:28Z", "type": "forcePushed"}, {"oid": "7c4b8144e16ab3b838b13029009a03c81a69141f", "url": "https://github.com/openhab/openhab-addons/commit/7c4b8144e16ab3b838b13029009a03c81a69141f", "message": "[lgwebos] Mask access key\n\nFix #7758\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-24T13:17:03Z", "type": "commit"}, {"oid": "7c4b8144e16ab3b838b13029009a03c81a69141f", "url": "https://github.com/openhab/openhab-addons/commit/7c4b8144e16ab3b838b13029009a03c81a69141f", "message": "[lgwebos] Mask access key\n\nFix #7758\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-24T13:17:03Z", "type": "forcePushed"}, {"oid": "94175c62a0ba96559f984e7cb21b98f91ddf1654", "url": "https://github.com/openhab/openhab-addons/commit/94175c62a0ba96559f984e7cb21b98f91ddf1654", "message": "Mark the access key as a password in the thing configuration\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-25T11:55:05Z", "type": "commit"}, {"oid": "94175c62a0ba96559f984e7cb21b98f91ddf1654", "url": "https://github.com/openhab/openhab-addons/commit/94175c62a0ba96559f984e7cb21b98f91ddf1654", "message": "Mark the access key as a password in the thing configuration\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>", "committedDate": "2020-05-25T11:55:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ4NTE1Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7771#discussion_r430485152", "bodyText": "If the key is sensitive information, please do not log it at all. Maybe log the number of characters.", "author": "J-N-K", "createdAt": "2020-05-26T15:07:10Z", "path": "bundles/org.openhab.binding.lgwebos/src/main/java/org/openhab/binding/lgwebos/internal/handler/LGWebOSHandler.java", "diffHunk": "@@ -256,7 +256,7 @@ public String getKey() {\n     @Override\n     public void storeKey(@Nullable String key) {\n         if (!getKey().equals(key)) {\n-            logger.debug(\"store new key\");\n+            logger.info(\"Store {} as access Key in the thing configuration\", key);", "originalCommit": "94175c62a0ba96559f984e7cb21b98f91ddf1654", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYwNTkxNw==", "url": "https://github.com/openhab/openhab-addons/pull/7771#discussion_r430605917", "bodyText": "We need to give a chance to the user to get the value of the access key. The user will need it to set up his thing in a config file.\nPlease note that this log will appear only when the access key is not yet defined in the thing configuration, that means when first setting up the thing. As soon as the access key is set in the thing configuration, this code will no more be reached and so the access key will no more be logged.\nThis is done like that in few other bindings, when the key is a required configuration setting which is provided by the device at paring time (hue or freebox bindings for example).\nOne alternative would be to not log the access key as this place and make the access key configuration setting ALWAYS visible in Paper UI. I think it would be less secure than the solution I propose.", "author": "lolodomo", "createdAt": "2020-05-26T18:03:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ4NTE1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYyNTkwMw==", "url": "https://github.com/openhab/openhab-addons/pull/7771#discussion_r430625903", "bodyText": "Agreed. We can leave it like that. I would prefer a different strategy, e.g. a console command that can print the current access key from memory. That way we could prevent logging at all. But that is out of scope of this PR.", "author": "J-N-K", "createdAt": "2020-05-26T18:37:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ4NTE1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMzQ1Ng==", "url": "https://github.com/openhab/openhab-addons/pull/7771#discussion_r430633456", "bodyText": "I agree with you, the console command is a good idea. I will add this feature.", "author": "lolodomo", "createdAt": "2020-05-26T18:51:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ4NTE1Mg=="}], "type": "inlineReview", "revised_code": null}]}