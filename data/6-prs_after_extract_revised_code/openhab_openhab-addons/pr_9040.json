{"pr_number": 9040, "pr_title": "[avmfritz] Avoid a hidden NPE when getIdentifier() of an uninitialized ThingHandler is called", "pr_createdAt": "2020-11-15T19:17:00Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9040", "timeline": [{"oid": "4d30ca892a66efcef680e89c6d33cb95929604f6", "url": "https://github.com/openhab/openhab-addons/commit/4d30ca892a66efcef680e89c6d33cb95929604f6", "message": "Avoid a hidden NPE when getIdentifier() of an uninitialized ThingHandler is colled\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-11-15T12:27:05Z", "type": "commit"}, {"oid": "e3115704f0818d9fb804c4893fb43ebd883cda42", "url": "https://github.com/openhab/openhab-addons/commit/e3115704f0818d9fb804c4893fb43ebd883cda42", "message": "Fixed Powerline546EHandler\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-11-15T19:16:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMjA3NA==", "url": "https://github.com/openhab/openhab-addons/pull/9040#discussion_r523812074", "bodyText": "Is this line expected to be here?", "author": "kaikreuzer", "createdAt": "2020-11-15T20:52:41Z", "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/handler/AVMFritzBaseBridgeHandler.java", "diffHunk": "@@ -270,11 +269,10 @@ public void onDeviceListAdded(List<AVMFritzBaseModel> deviceList) {\n                 .collect(Collectors.toMap(it -> it.getIdentifier(), Function.identity()));\n         getThing().getThings().forEach(childThing -> {\n             final AVMFritzBaseThingHandler childHandler = (AVMFritzBaseThingHandler) childThing.getHandler();\n+            // if (childHandler != null && ThingHandlerHelper.isHandlerInitialized(childHandler)) {", "originalCommit": "e3115704f0818d9fb804c4893fb43ebd883cda42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzkyNTE3OQ==", "url": "https://github.com/openhab/openhab-addons/pull/9040#discussion_r523925179", "bodyText": "No, that was my backup plan ... removed.", "author": "cweitkamp", "createdAt": "2020-11-16T06:43:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMjA3NA=="}], "type": "inlineReview", "revised_code": {"commit": "d6bdcfd0d46c4e340f6807624d9aad9a0421a258", "chunk": "diff --git a/bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/handler/AVMFritzBaseBridgeHandler.java b/bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/handler/AVMFritzBaseBridgeHandler.java\nindex 0b1f53f6b6..1639a24d54 100644\n--- a/bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/handler/AVMFritzBaseBridgeHandler.java\n+++ b/bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/handler/AVMFritzBaseBridgeHandler.java\n\n@@ -269,7 +269,6 @@ public abstract class AVMFritzBaseBridgeHandler extends BaseBridgeHandler {\n                 .collect(Collectors.toMap(it -> it.getIdentifier(), Function.identity()));\n         getThing().getThings().forEach(childThing -> {\n             final AVMFritzBaseThingHandler childHandler = (AVMFritzBaseThingHandler) childThing.getHandler();\n-            // if (childHandler != null && ThingHandlerHelper.isHandlerInitialized(childHandler)) {\n             if (childHandler != null) {\n                 final AVMFritzBaseModel device = deviceIdentifierMap.get(childHandler.getIdentifier());\n                 if (device != null) {\n"}}, {"oid": "d6bdcfd0d46c4e340f6807624d9aad9a0421a258", "url": "https://github.com/openhab/openhab-addons/commit/d6bdcfd0d46c4e340f6807624d9aad9a0421a258", "message": "Removed comment\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-11-16T06:43:23Z", "type": "commit"}]}