{"pr_number": 8976, "pr_title": "[fmiweather] Discovery: advertising all discovered thing types", "pr_createdAt": "2020-11-07T09:39:03Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8976", "timeline": [{"oid": "c528a5a8940a9f640a5341e51d0bc71672593c29", "url": "https://github.com/openhab/openhab-addons/commit/c528a5a8940a9f640a5341e51d0bc71672593c29", "message": "[fmiweather] Discovery: advertising all discovered thing types\n\nSigned-off-by: Sami Salonen <ssalonen@gmail.com>", "committedDate": "2020-11-07T09:37:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE1OTkyMA==", "url": "https://github.com/openhab/openhab-addons/pull/8976#discussion_r519159920", "bodyText": "Or even shorter when using the Java 9 Set.of(...) methods ...", "author": "cweitkamp", "createdAt": "2020-11-07T09:57:31Z", "path": "bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java", "diffHunk": "@@ -58,7 +60,8 @@\n public class FMIWeatherDiscoveryService extends AbstractDiscoveryService {\n     private final Logger logger = LoggerFactory.getLogger(FMIWeatherDiscoveryService.class);\n \n-    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = Collections.singleton(THING_TYPE_OBSERVATION);\n+    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = new HashSet<>(", "originalCommit": "c528a5a8940a9f640a5341e51d0bc71672593c29", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1d50455e92a22587399b6aabb662420cce1be76f", "chunk": "diff --git a/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java b/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java\nindex 8ee75e3673..a50b145126 100644\n--- a/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java\n+++ b/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java\n\n@@ -60,8 +58,7 @@ import org.slf4j.LoggerFactory;\n public class FMIWeatherDiscoveryService extends AbstractDiscoveryService {\n     private final Logger logger = LoggerFactory.getLogger(FMIWeatherDiscoveryService.class);\n \n-    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = new HashSet<>(\n-            Arrays.asList(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST));\n+    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = Set.of(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST);\n     private static final long STATIONS_CACHE_MILLIS = TimeUnit.HOURS.toMillis(12);\n     private static final int STATIONS_TIMEOUT_MILLIS = (int) TimeUnit.SECONDS.toMillis(10);\n     private static final int DISCOVER_TIMEOUT_SECONDS = 5;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE2NzY5Mg==", "url": "https://github.com/openhab/openhab-addons/pull/8976#discussion_r519167692", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = new HashSet<>(\n          \n          \n            \n                        Arrays.asList(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST));\n          \n          \n            \n                private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = Set.of(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST);", "author": "cweitkamp", "createdAt": "2020-11-07T11:29:32Z", "path": "bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java", "diffHunk": "@@ -58,7 +60,8 @@\n public class FMIWeatherDiscoveryService extends AbstractDiscoveryService {\n     private final Logger logger = LoggerFactory.getLogger(FMIWeatherDiscoveryService.class);\n \n-    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = Collections.singleton(THING_TYPE_OBSERVATION);\n+    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = new HashSet<>(\n+            Arrays.asList(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST));", "originalCommit": "c528a5a8940a9f640a5341e51d0bc71672593c29", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "1d50455e92a22587399b6aabb662420cce1be76f", "chunk": "diff --git a/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java b/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java\nindex 8ee75e3673..a50b145126 100644\n--- a/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java\n+++ b/bundles/org.openhab.binding.fmiweather/src/main/java/org/openhab/binding/fmiweather/internal/discovery/FMIWeatherDiscoveryService.java\n\n@@ -60,8 +58,7 @@ import org.slf4j.LoggerFactory;\n public class FMIWeatherDiscoveryService extends AbstractDiscoveryService {\n     private final Logger logger = LoggerFactory.getLogger(FMIWeatherDiscoveryService.class);\n \n-    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = new HashSet<>(\n-            Arrays.asList(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST));\n+    private static final Set<ThingTypeUID> SUPPORTED_THING_TYPES = Set.of(THING_TYPE_OBSERVATION, THING_TYPE_FORECAST);\n     private static final long STATIONS_CACHE_MILLIS = TimeUnit.HOURS.toMillis(12);\n     private static final int STATIONS_TIMEOUT_MILLIS = (int) TimeUnit.SECONDS.toMillis(10);\n     private static final int DISCOVER_TIMEOUT_SECONDS = 5;\n"}}, {"oid": "cdfa7dcfb903500e82da657dcc94c87b92884950", "url": "https://github.com/openhab/openhab-addons/commit/cdfa7dcfb903500e82da657dcc94c87b92884950", "message": "[fmiweather] CitiesOfFinland using Set.of\n\nSigned-off-by: Sami Salonen <ssalonen@gmail.com>", "committedDate": "2020-11-07T12:04:04Z", "type": "commit"}, {"oid": "1d50455e92a22587399b6aabb662420cce1be76f", "url": "https://github.com/openhab/openhab-addons/commit/1d50455e92a22587399b6aabb662420cce1be76f", "message": "[fmiweather] using Set.of\n\nSigned-off-by: Sami Salonen <ssalonen@gmail.com>", "committedDate": "2020-11-07T12:04:22Z", "type": "commit"}]}