{"pr_number": 6907, "pr_title": "[feed] Fix Null Pointer Exceptions and reduce log spam", "pr_createdAt": "2020-01-26T15:57:46Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/6907", "timeline": [{"oid": "d3be1fbdd207872d6db1830ec4411722e26000d5", "url": "https://github.com/openhab/openhab-addons/commit/d3be1fbdd207872d6db1830ec4411722e26000d5", "message": "Fixes for #6906\n\nSigned-off-by: 9037568 <namraccr@gmail.com>", "committedDate": "2020-01-26T15:50:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNDcyNg==", "url": "https://github.com/openhab/openhab-addons/pull/6907#discussion_r371014726", "bodyText": "Please apply the formatter", "author": "J-N-K", "createdAt": "2020-01-26T17:04:58Z", "path": "bundles/org.openhab.binding.feed/src/main/java/org/openhab/binding/feed/internal/handler/FeedHandler.java", "diffHunk": "@@ -124,33 +125,48 @@ private void publishChannelIfLinked(ChannelUID channelUID) {\n \n         if (currentFeedState == null) {\n             // This will happen if the binding could not download data from the server\n-            logger.info(\"Cannot update channel with ID {}; no data has been downloaded from the server!\", channelID);\n+            logger.trace(\"Cannot update channel with ID {}; no data has been downloaded from the server!\", channelID);\n             return;\n         }\n \n         if (!isLinked(channelUID)) {\n+            logger.trace(\"Cannot update channel with ID {}; not linked!\", channelID);\n             return;\n         }\n \n         State state = null;\n+        SyndEntry latestEntry = getLatestEntry(currentFeedState);\n+\n         switch (channelID) {\n             case CHANNEL_LATEST_TITLE:\n-                String title = getLatestEntry(currentFeedState).getTitle();\n-                state = new StringType(getValueSafely(title));\n+                if (latestEntry == null || latestEntry.getTitle() == null) {\n+                    state = UnDefType.UNDEF;\n+                }\n+                else {", "originalCommit": "d3be1fbdd207872d6db1830ec4411722e26000d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyMjk0Mw==", "url": "https://github.com/openhab/openhab-addons/pull/6907#discussion_r371022943", "bodyText": "Done", "author": "9037568", "createdAt": "2020-01-26T19:18:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNDcyNg=="}], "type": "inlineReview", "revised_code": {"commit": "0a0f1ff5a9cd93e33ce799dc1c364c31c6836481", "chunk": "diff --git a/bundles/org.openhab.binding.feed/src/main/java/org/openhab/binding/feed/internal/handler/FeedHandler.java b/bundles/org.openhab.binding.feed/src/main/java/org/openhab/binding/feed/internal/handler/FeedHandler.java\nindex 98c3255ebe..455ae6a940 100644\n--- a/bundles/org.openhab.binding.feed/src/main/java/org/openhab/binding/feed/internal/handler/FeedHandler.java\n+++ b/bundles/org.openhab.binding.feed/src/main/java/org/openhab/binding/feed/internal/handler/FeedHandler.java\n\n@@ -141,8 +141,7 @@ public class FeedHandler extends BaseThingHandler {\n             case CHANNEL_LATEST_TITLE:\n                 if (latestEntry == null || latestEntry.getTitle() == null) {\n                     state = UnDefType.UNDEF;\n-                }\n-                else {\n+                } else {\n                     String title = latestEntry.getTitle();\n                     state = new StringType(getValueSafely(title));\n                 }\n"}}, {"oid": "0a0f1ff5a9cd93e33ce799dc1c364c31c6836481", "url": "https://github.com/openhab/openhab-addons/commit/0a0f1ff5a9cd93e33ce799dc1c364c31c6836481", "message": "Apply formatter\n\nSigned-off-by: 9037568 <namraccr@gmail.com>", "committedDate": "2020-01-26T19:17:48Z", "type": "commit"}]}