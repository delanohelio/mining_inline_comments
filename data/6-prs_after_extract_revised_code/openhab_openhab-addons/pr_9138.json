{"pr_number": 9138, "pr_title": "[dwdunwetter] Removed dependency on org.apache.commons", "pr_createdAt": "2020-11-26T19:27:49Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9138", "timeline": [{"oid": "7c91cffe00a204462d93dae782a0dbd2c3e26d61", "url": "https://github.com/openhab/openhab-addons/commit/7c91cffe00a204462d93dae782a0dbd2c3e26d61", "message": "Removed dependency on org.apache.commons\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-11-26T19:06:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI0MzE4MQ==", "url": "https://github.com/openhab/openhab-addons/pull/9138#discussion_r531243181", "bodyText": "If they are both null then you should return 0.", "author": "cpmeister", "createdAt": "2020-11-26T22:35:44Z", "path": "bundles/org.openhab.binding.dwdunwetter/src/main/java/org/openhab/binding/dwdunwetter/internal/data/SeverityComparator.java", "diffHunk": "@@ -30,7 +28,12 @@ public int compare(DwdWarningData o1, DwdWarningData o2) {\n \n         int result = Integer.compare(o1.getSeverity().getOrder(), o2.getSeverity().getOrder());\n         if (result == 0) {\n-            result = ObjectUtils.compare(o1.getOnset(), o2.getOnset());\n+            if (o1.getOnset() == null) {\n+                return -1;\n+            } else if (o2.getOnset() == null) {\n+                return 1;\n+            }", "originalCommit": "7c91cffe00a204462d93dae782a0dbd2c3e26d61", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxNjY2Nw==", "url": "https://github.com/openhab/openhab-addons/pull/9138#discussion_r531616667", "bodyText": "We should return 0 if the reference comparison between both is equal ... \ud83d\ude09", "author": "cweitkamp", "createdAt": "2020-11-27T13:56:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI0MzE4MQ=="}], "type": "inlineReview", "revised_code": {"commit": "a9c220316124fa162a2f19bfec9ca8df9a51728d", "chunk": "diff --git a/bundles/org.openhab.binding.dwdunwetter/src/main/java/org/openhab/binding/dwdunwetter/internal/data/SeverityComparator.java b/bundles/org.openhab.binding.dwdunwetter/src/main/java/org/openhab/binding/dwdunwetter/internal/data/SeverityComparator.java\nindex 111905368e..4c9854f1a6 100644\n--- a/bundles/org.openhab.binding.dwdunwetter/src/main/java/org/openhab/binding/dwdunwetter/internal/data/SeverityComparator.java\n+++ b/bundles/org.openhab.binding.dwdunwetter/src/main/java/org/openhab/binding/dwdunwetter/internal/data/SeverityComparator.java\n\n@@ -28,7 +28,9 @@ public class SeverityComparator implements Comparator<DwdWarningData> {\n \n         int result = Integer.compare(o1.getSeverity().getOrder(), o2.getSeverity().getOrder());\n         if (result == 0) {\n-            if (o1.getOnset() == null) {\n+            if (o1.getOnset() == o2.getOnset()) {\n+                return 0;\n+            } else if (o1.getOnset() == null) {\n                 return -1;\n             } else if (o2.getOnset() == null) {\n                 return 1;\n"}}, {"oid": "a9c220316124fa162a2f19bfec9ca8df9a51728d", "url": "https://github.com/openhab/openhab-addons/commit/a9c220316124fa162a2f19bfec9ca8df9a51728d", "message": "Incorporated comments from review\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-11-27T13:56:14Z", "type": "commit"}]}