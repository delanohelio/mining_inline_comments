{"pr_number": 6977, "pr_title": "[tradfri] Added basic support for IKEA blinds FYRTUR and KADRILJ", "pr_createdAt": "2020-02-08T13:08:11Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/6977", "timeline": [{"oid": "475d4a980196528037aef6e54eea0c93d491024d", "url": "https://github.com/openhab/openhab-addons/commit/475d4a980196528037aef6e54eea0c93d491024d", "message": "Adds basic support for IKEA smart blinds FYRTUR and KADRILJ\n\n* adds the \"blind\" thing and associated data\n* temporarily assigned zigbee id \"0999\", needs review\n\nSigned-off-by: Manuel Raffel <manidu@outlook.com>", "committedDate": "2020-02-06T15:55:34Z", "type": "commit"}, {"oid": "37f0d7b482c222bcf3fd149dfb4b20c1403c6be1", "url": "https://github.com/openhab/openhab-addons/commit/37f0d7b482c222bcf3fd149dfb4b20c1403c6be1", "message": "Restores ISO 8859-1 encoding of .properties file\n\nSigned-off-by: Manuel Raffel <manidu@outlook.com>", "committedDate": "2020-02-06T15:55:35Z", "type": "commit"}, {"oid": "f77a13183a73e9d46e7e528173855b7f3071c909", "url": "https://github.com/openhab/openhab-addons/commit/f77a13183a73e9d46e7e528173855b7f3071c909", "message": "- Incorporated review comments\n- Added discovery\n- Added check for percent values\n- Aplied formatter\n- Fixed unit tests\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-02-06T15:55:35Z", "type": "commit"}, {"oid": "95369d827c6556488ee8479f0a45d840b75b2af2", "url": "https://github.com/openhab/openhab-addons/commit/95369d827c6556488ee8479f0a45d840b75b2af2", "message": "Added repeater\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-02-06T15:55:35Z", "type": "commit"}, {"oid": "be91e0d803135048e798ea522ff757c49bd2876d", "url": "https://github.com/openhab/openhab-addons/commit/be91e0d803135048e798ea522ff757c49bd2876d", "message": "Added TRADFRI open/close remote\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-02-06T20:01:30Z", "type": "commit"}, {"oid": "7f86b4406a0aeebe7509614bd46d9c4bd5469c8e", "url": "https://github.com/openhab/openhab-addons/commit/7f86b4406a0aeebe7509614bd46d9c4bd5469c8e", "message": "Refactoring of discovery service\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-02-08T11:06:32Z", "type": "commit"}, {"oid": "21428558200a350f8e97b893038f0fdfb50a0cfe", "url": "https://github.com/openhab/openhab-addons/commit/21428558200a350f8e97b893038f0fdfb50a0cfe", "message": "Added handling for STOP command\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-02-08T13:05:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU2NTg5Mg==", "url": "https://github.com/openhab/openhab-addons/pull/6977#discussion_r377565892", "bodyText": "Why not use a Set here?", "author": "J-N-K", "createdAt": "2020-02-11T11:00:51Z", "path": "bundles/org.openhab.binding.tradfri/src/main/java/org/openhab/binding/tradfri/internal/discovery/TradfriDiscoveryService.java", "diffHunk": "@@ -43,26 +48,28 @@\n  * @author Kai Kreuzer - Initial contribution\n  * @author Christoph Weitkamp - Added support for remote controller and motion sensor devices (read-only battery level)\n  * @author Andre Fuechsel - fixed the results removal\n+ * @author Manuel Raffel - Added support for blinds\n  */\n @NonNullByDefault\n-public class TradfriDiscoveryService extends AbstractDiscoveryService implements DeviceUpdateListener {\n+public class TradfriDiscoveryService extends AbstractDiscoveryService\n+        implements DeviceUpdateListener, DiscoveryService, ThingHandlerService {\n     private final Logger logger = LoggerFactory.getLogger(TradfriDiscoveryService.class);\n \n-    private final TradfriGatewayHandler handler;\n+    private @Nullable TradfriGatewayHandler handler;\n \n     private static final String REMOTE_CONTROLLER_MODEL = \"TRADFRI remote control\";\n \n-    private static final String[] COLOR_TEMP_MODELS = new String[] { \"TRADFRI bulb E27 WS opal 980lm\",\n-            \"TRADFRI bulb E27 WS clear 950lm\", \"TRADFRI bulb GU10 WS 400lm\", \"TRADFRI bulb E14 WS opal 400lm\",\n-            \"FLOALT panel WS 30x30\", \"FLOALT panel WS 60x60\", \"FLOALT panel WS 30x90\",\n-            \"TRADFRI bulb E12 WS opal 400lm\" };\n+    private static final List<String> COLOR_TEMP_MODELS = Collections", "originalCommit": "21428558200a350f8e97b893038f0fdfb50a0cfe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYwNDU3MQ==", "url": "https://github.com/openhab/openhab-addons/pull/6977#discussion_r377604571", "bodyText": "Yes, good point. Why not use a Set here. I changed it.", "author": "cweitkamp", "createdAt": "2020-02-11T12:29:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU2NTg5Mg=="}], "type": "inlineReview", "revised_code": {"commit": "92f78391ca494f9e5c270bf31b041046125e94ef", "chunk": "diff --git a/bundles/org.openhab.binding.tradfri/src/main/java/org/openhab/binding/tradfri/internal/discovery/TradfriDiscoveryService.java b/bundles/org.openhab.binding.tradfri/src/main/java/org/openhab/binding/tradfri/internal/discovery/TradfriDiscoveryService.java\nindex 75d0b70fb7..a299d11dfb 100644\n--- a/bundles/org.openhab.binding.tradfri/src/main/java/org/openhab/binding/tradfri/internal/discovery/TradfriDiscoveryService.java\n+++ b/bundles/org.openhab.binding.tradfri/src/main/java/org/openhab/binding/tradfri/internal/discovery/TradfriDiscoveryService.java\n\n@@ -59,12 +59,12 @@ public class TradfriDiscoveryService extends AbstractDiscoveryService\n \n     private static final String REMOTE_CONTROLLER_MODEL = \"TRADFRI remote control\";\n \n-    private static final List<String> COLOR_TEMP_MODELS = Collections\n-            .unmodifiableList(Stream\n+    private static final Set<String> COLOR_TEMP_MODELS = Collections\n+            .unmodifiableSet(Stream\n                     .of(\"TRADFRI bulb E27 WS opal 980lm\", \"TRADFRI bulb E27 WS clear 950lm\",\n                             \"TRADFRI bulb GU10 WS 400lm\", \"TRADFRI bulb E14 WS opal 400lm\", \"FLOALT panel WS 30x30\",\n                             \"FLOALT panel WS 60x60\", \"FLOALT panel WS 30x90\", \"TRADFRI bulb E12 WS opal 400lm\")\n-                    .collect(Collectors.toList()));\n+                    .collect(Collectors.toSet()));\n \n     private static final String[] COLOR_MODEL_IDENTIFIER_HINTS = new String[] { \"CWS\", \" C/WS \" };\n \n"}}, {"oid": "92f78391ca494f9e5c270bf31b041046125e94ef", "url": "https://github.com/openhab/openhab-addons/commit/92f78391ca494f9e5c270bf31b041046125e94ef", "message": "Incorporated changes from review\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-02-11T12:28:00Z", "type": "commit"}]}