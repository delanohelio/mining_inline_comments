{"pr_number": 8221, "pr_title": "[tankerkoenig] Refactoring of Tankerk\u00f6nig Binding", "pr_createdAt": "2020-07-29T12:27:26Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8221", "timeline": [{"oid": "cd3acdfe5b90797d55f1db252ab07fa71cca072d", "url": "https://github.com/openhab/openhab-addons/commit/cd3acdfe5b90797d55f1db252ab07fa71cca072d", "message": "Refactoring of Tankerk\u00f6nig Binding\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-07-29T12:25:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ0MzMxMg==", "url": "https://github.com/openhab/openhab-addons/pull/8221#discussion_r462443312", "bodyText": "Why not making it static?", "author": "fwolter", "createdAt": "2020-07-29T16:50:50Z", "path": "bundles/org.openhab.binding.tankerkoenig/src/main/java/org/openhab/binding/tankerkoenig/internal/handler/StationHandler.java", "diffHunk": "@@ -126,19 +126,20 @@ public void bridgeStatusChanged(ThingStatusInfo bridgeStatusInfo) {\n      */\n     public void updateData(LittleStation station) {\n         logger.debug(\"Update Tankerkoenig data '{}'\", getThing().getUID());\n-        if (StringUtils.containsOnly(station.getDiesel(), \"01234567890.\")) {\n+        final Pattern pattern = Pattern.compile(\"\\\\d+(\\\\.\\\\d+)?\");", "originalCommit": "cd3acdfe5b90797d55f1db252ab07fa71cca072d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ5NzEzNA==", "url": "https://github.com/openhab/openhab-addons/pull/8221#discussion_r462497134", "bodyText": "Of course. Done.", "author": "cweitkamp", "createdAt": "2020-07-29T18:20:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ0MzMxMg=="}], "type": "inlineReview", "revised_code": {"commit": "ae1aaf9e94ecb0a005b42f12834dc5b58447fc3a", "chunk": "diff --git a/bundles/org.openhab.binding.tankerkoenig/src/main/java/org/openhab/binding/tankerkoenig/internal/handler/StationHandler.java b/bundles/org.openhab.binding.tankerkoenig/src/main/java/org/openhab/binding/tankerkoenig/internal/handler/StationHandler.java\nindex 718a3a4408..a3c998ca8e 100644\n--- a/bundles/org.openhab.binding.tankerkoenig/src/main/java/org/openhab/binding/tankerkoenig/internal/handler/StationHandler.java\n+++ b/bundles/org.openhab.binding.tankerkoenig/src/main/java/org/openhab/binding/tankerkoenig/internal/handler/StationHandler.java\n\n@@ -126,20 +128,19 @@ public class StationHandler extends BaseThingHandler {\n      */\n     public void updateData(LittleStation station) {\n         logger.debug(\"Update Tankerkoenig data '{}'\", getThing().getUID());\n-        final Pattern pattern = Pattern.compile(\"\\\\d+(\\\\.\\\\d+)?\");\n-        if (pattern.matcher(station.getDiesel()).matches()) {\n+        if (IS_NUMERIC_PATTERN.matcher(station.getDiesel()).matches()) {\n             DecimalType diesel = new DecimalType(station.getDiesel());\n             updateState(CHANNEL_DIESEL, diesel);\n         } else {\n             updateState(CHANNEL_DIESEL, UnDefType.UNDEF);\n         }\n-        if (pattern.matcher(station.getE10()).matches()) {\n+        if (IS_NUMERIC_PATTERN.matcher(station.getE10()).matches()) {\n             DecimalType e10 = new DecimalType(station.getE10());\n             updateState(CHANNEL_E10, e10);\n         } else {\n             updateState(CHANNEL_E10, UnDefType.UNDEF);\n         }\n-        if (pattern.matcher(station.getE5()).matches()) {\n+        if (IS_NUMERIC_PATTERN.matcher(station.getE5()).matches()) {\n             DecimalType e5 = new DecimalType(station.getE5());\n             updateState(CHANNEL_E5, e5);\n         } else {\n"}}, {"oid": "ae1aaf9e94ecb0a005b42f12834dc5b58447fc3a", "url": "https://github.com/openhab/openhab-addons/commit/ae1aaf9e94ecb0a005b42f12834dc5b58447fc3a", "message": "Incorporated review feedback\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>", "committedDate": "2020-07-29T18:10:39Z", "type": "commit"}]}