{"pr_number": 604, "pr_title": "XRDDEV-1186 Service desc refresh bug", "pr_createdAt": "2020-07-17T07:26:18Z", "pr_url": "https://github.com/nordic-institute/X-Road/pull/604", "timeline": [{"oid": "ff7342a6ca2eb75c952a3663a3cb4983ec822ef8", "url": "https://github.com/nordic-institute/X-Road/commit/ff7342a6ca2eb75c952a3663a3cb4983ec822ef8", "message": "XRDDEV-1186 Check old endpoints before refresh", "committedDate": "2020-07-14T15:53:32Z", "type": "commit"}, {"oid": "71b8842658e0884eb9ec30a2371540a59071001d", "url": "https://github.com/nordic-institute/X-Road/commit/71b8842658e0884eb9ec30a2371540a59071001d", "message": "XRDDEV-1186 Only related collections get mutated", "committedDate": "2020-07-16T11:43:46Z", "type": "commit"}, {"oid": "5a1fc9a6c4a5866bed25d240017b67e70a540492", "url": "https://github.com/nordic-institute/X-Road/commit/5a1fc9a6c4a5866bed25d240017b67e70a540492", "message": "Merge branch 'develop' into XRDDEV-1186-service-desc-refresh-bug", "committedDate": "2020-07-17T07:18:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjgzNzE4OQ==", "url": "https://github.com/nordic-institute/X-Road/pull/604#discussion_r462837189", "bodyText": "parseOpenApi3ToServiceDescription is really quite complex, it would be really great to make it simpler somehow. Could it be split into smaller parts, etc? Now it feels like a risky part that could lead to some bugs.\nThe fact that you can mix generated and non-generated endpoints makes it kind of unavoidable that the aggregate implementation will be complex, unfortunately.\nIt would have been good to add a test for the failing case (before fixing it)", "author": "jansu76", "createdAt": "2020-07-30T08:31:33Z", "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/ServiceDescriptionService.java", "diffHunk": "@@ -772,7 +774,7 @@ public ServiceDescriptionType updateOpenApi3ServiceDescription(Long id, String u\n      * @param ignoreWarnings\n      * @param serviceDescription\n      * @throws OpenApiParser.ParsingException if there are errors in the openapi3 description document\n-     * @throws UnhandledWarningsException     if ignoreWarnings is false and parser returns warnings from openapi\n+     * @throws UnhandledWarningsException if ignoreWarnings is false and parser returns warnings from openapi\n      */\n     private void parseOpenApi3ToServiceDescription(String url, String serviceCode, boolean ignoreWarnings,", "originalCommit": "5a1fc9a6c4a5866bed25d240017b67e70a540492", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}