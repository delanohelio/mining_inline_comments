{"pr_number": 422, "pr_title": "XRDDEV-673 and 878 LocalGroup bugs", "pr_createdAt": "2020-03-19T15:07:12Z", "pr_url": "https://github.com/nordic-institute/X-Road/pull/422", "timeline": [{"oid": "65af64a6bce8812c87c21eb1a6ef891634de26d9", "url": "https://github.com/nordic-institute/X-Road/commit/65af64a6bce8812c87c21eb1a6ef891634de26d9", "message": "XRDDEV-673 Fix add local group bug\n\n* new api model for adding a LocalGroup", "committedDate": "2020-03-18T11:32:01Z", "type": "commit"}, {"oid": "380f4df444e50ccc74da893b3987b431a5149c44", "url": "https://github.com/nordic-institute/X-Road/commit/380f4df444e50ccc74da893b3987b431a5149c44", "message": "XRDDEV-673 Fix add local group test", "committedDate": "2020-03-18T11:35:41Z", "type": "commit"}, {"oid": "64d3bd263a8aad786e9b38fb8018eb64a578d8c3", "url": "https://github.com/nordic-institute/X-Road/commit/64d3bd263a8aad786e9b38fb8018eb64a578d8c3", "message": "XRDDEV-878 Fix local group bugs\n\n* better API operation names and documentation\n* fix error when adding rights for other clients localgroup (well throw better exception)\n* add test for the latter\n* change updating local group desc to patch with request body\n* delete group member graceful exception", "committedDate": "2020-03-19T15:03:43Z", "type": "commit"}, {"oid": "43a8d51dd4125a30e3e4e25446b5892c5e913a1c", "url": "https://github.com/nordic-institute/X-Road/commit/43a8d51dd4125a30e3e4e25446b5892c5e913a1c", "message": "Merge branch 'develop' into XRDDEV-673-878-localgroup-bugs", "committedDate": "2020-03-19T15:04:37Z", "type": "commit"}, {"oid": "57d0d43b779bfa2b2d37c991cfd241662cf416ba", "url": "https://github.com/nordic-institute/X-Road/commit/57d0d43b779bfa2b2d37c991cfd241662cf416ba", "message": "XRDDEV-878 Fix local group bugs // sonar fix", "committedDate": "2020-03-20T07:46:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE5OTY5Mg==", "url": "https://github.com/nordic-institute/X-Road/pull/422#discussion_r400199692", "bodyText": "Lets add the missing @throws LocalGroupNotFoundException to javadoc.", "author": "TJaakkola", "createdAt": "2020-03-30T13:41:04Z", "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java", "diffHunk": "@@ -222,7 +222,7 @@ public void deleteSoapServiceAccessRights(ClientId clientId, String fullServiceC\n      */\n     private List<AccessRightHolderDto> addSoapServiceAccessRights(ClientId clientId, String fullServiceCode,", "originalCommit": "57d0d43b779bfa2b2d37c991cfd241662cf416ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwMDc1MA==", "url": "https://github.com/nordic-institute/X-Road/pull/422#discussion_r400200750", "bodyText": "Also DuplicateAccessRightException is missing. Perhaps add that too.", "author": "TJaakkola", "createdAt": "2020-03-30T13:42:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE5OTY5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQwNjc0NQ==", "url": "https://github.com/nordic-institute/X-Road/pull/422#discussion_r401406745", "bodyText": "Added both of them", "author": "carohauta", "createdAt": "2020-04-01T07:25:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE5OTY5Mg=="}], "type": "inlineReview", "revised_code": {"commit": "5652c8917ebee24f6a6f68751e906ee954ed1a0b", "chunk": "diff --git a/src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java b/src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java\nindex 9ecf3f7c3..02d1d7121 100644\n--- a/src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java\n+++ b/src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java\n\n@@ -218,7 +218,9 @@ public class AccessRightService {\n      * @return List of {@link AccessRightHolderDto AccessRightHolderDtos}\n      * @throws ClientNotFoundException\n      * @throws ServiceNotFoundException\n+     * @throws DuplicateAccessRightException\n      * @throws EndpointNotFoundException\n+     * @throws LocalGroupNotFoundException\n      */\n     private List<AccessRightHolderDto> addSoapServiceAccessRights(ClientId clientId, String fullServiceCode,\n             Set<XRoadId> subjectIds) throws ClientNotFoundException, ServiceNotFoundException,\n"}}, {"oid": "5652c8917ebee24f6a6f68751e906ee954ed1a0b", "url": "https://github.com/nordic-institute/X-Road/commit/5652c8917ebee24f6a6f68751e906ee954ed1a0b", "message": "XRDDEV-878 Fix local group bugs // PR fix 1\n\n* add missing javadoc rows", "committedDate": "2020-04-01T07:24:39Z", "type": "commit"}, {"oid": "1df882450e7389aa6b8247404ca77a5bd8058315", "url": "https://github.com/nordic-institute/X-Road/commit/1df882450e7389aa6b8247404ca77a5bd8058315", "message": "Merge branch 'develop' into XRDDEV-673-878-localgroup-bugs\n\n# Conflicts:\n#\tsrc/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java\n#\tsrc/proxy-ui-api/src/main/resources/openapi-definition.yaml", "committedDate": "2020-04-08T11:34:50Z", "type": "commit"}, {"oid": "4620f35502f3b01a530abcf4a7418c19ce927ca1", "url": "https://github.com/nordic-institute/X-Road/commit/4620f35502f3b01a530abcf4a7418c19ce927ca1", "message": "Merge branch 'develop' into 'XRDDEV-673-878-localgroup-bugs'", "committedDate": "2020-04-08T12:26:26Z", "type": "commit"}, {"oid": "c1a052c11418c846c64c0538272ba1ade9517707", "url": "https://github.com/nordic-institute/X-Road/commit/c1a052c11418c846c64c0538272ba1ade9517707", "message": "XRDDEV-673-878 Fix tests", "committedDate": "2020-04-08T13:06:32Z", "type": "commit"}]}