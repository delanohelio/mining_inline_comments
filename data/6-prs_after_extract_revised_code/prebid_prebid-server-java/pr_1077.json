{"pr_number": 1077, "pr_title": "Telaria bidder review", "pr_createdAt": "2020-12-16T14:20:06Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/1077", "timeline": [{"oid": "d729fe03723a3c99713fe7003881dd8a530190d9", "url": "https://github.com/prebid/prebid-server-java/commit/d729fe03723a3c99713fe7003881dd8a530190d9", "message": "Telaria bidder review", "committedDate": "2020-12-16T14:19:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTQ0OTUxMQ==", "url": "https://github.com/prebid/prebid-server-java/pull/1077#discussion_r569449511", "bodyText": "Pls flip arguments so site will be the first since we name the method modifySite(..)\nAlso, pls check similar in modifyApp, createPublisher, etc.", "author": "rpanchyk", "createdAt": "2021-02-03T14:18:20Z", "path": "src/main/java/org/prebid/server/bidder/telaria/TelariaBidder.java", "diffHunk": "@@ -148,24 +130,33 @@ private ExtImpTelaria parseImpExt(Imp imp) {\n         }\n     }\n \n-    private Site modifySite(String seatCode, Site site) {\n+    private Imp updateImp(Imp imp, ExtImpTelaria extImp, String publisherId) {\n+        if (StringUtils.isBlank(extImp.getSeatCode())) {\n+            throw new PreBidException(\"Telaria: Seat Code required\");\n+        }\n+        return imp.toBuilder()\n+                .tagid(extImp.getAdCode())\n+                .ext(mapper.mapper().valueToTree(ExtImpOutTelaria.of(imp.getTagid(), publisherId)))\n+                .build();\n+    }\n+\n+    private static Site modifySite(String seatCode, Site site) {", "originalCommit": "d729fe03723a3c99713fe7003881dd8a530190d9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bcd14b5cdd027a191597815461e0eba3ca096359", "chunk": "diff --git a/src/main/java/org/prebid/server/bidder/telaria/TelariaBidder.java b/src/main/java/org/prebid/server/bidder/telaria/TelariaBidder.java\nindex e38e6d92..e1b2cc38 100644\n--- a/src/main/java/org/prebid/server/bidder/telaria/TelariaBidder.java\n+++ b/src/main/java/org/prebid/server/bidder/telaria/TelariaBidder.java\n\n@@ -140,15 +140,15 @@ public class TelariaBidder implements Bidder<BidRequest> {\n                 .build();\n     }\n \n-    private static Site modifySite(String seatCode, Site site) {\n-        return site.toBuilder().publisher(createPublisher(seatCode, site.getPublisher())).build();\n+    private static Site modifySite(Site site, String seatCode) {\n+        return site.toBuilder().publisher(createPublisher(site.getPublisher(), seatCode)).build();\n     }\n \n-    private static App modifyApp(String seatCode, App app) {\n-        return app.toBuilder().publisher(createPublisher(seatCode, app.getPublisher())).build();\n+    private static App modifyApp(App app, String seatCode) {\n+        return app.toBuilder().publisher(createPublisher(app.getPublisher(), seatCode)).build();\n     }\n \n-    private static Publisher createPublisher(String seatCode, Publisher publisher) {\n+    private static Publisher createPublisher(Publisher publisher, String seatCode) {\n         return publisher != null\n                 ? publisher.toBuilder().id(seatCode).build()\n                 : Publisher.builder().id(seatCode).build();\n"}}, {"oid": "bcd14b5cdd027a191597815461e0eba3ca096359", "url": "https://github.com/prebid/prebid-server-java/commit/bcd14b5cdd027a191597815461e0eba3ca096359", "message": "Fixes after review", "committedDate": "2021-02-10T08:40:16Z", "type": "commit"}]}