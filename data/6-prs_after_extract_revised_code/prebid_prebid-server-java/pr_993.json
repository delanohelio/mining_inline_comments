{"pr_number": 993, "pr_title": "Fix null parameter in conversion error message.", "pr_createdAt": "2020-11-03T13:57:46Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/993", "timeline": [{"oid": "eba48dc7e1f88c76ef78319c3b3918387b676be7", "url": "https://github.com/prebid/prebid-server-java/commit/eba48dc7e1f88c76ef78319c3b3918387b676be7", "message": "Fix null parameter in conversion error message.", "committedDate": "2020-11-03T13:57:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY4NTU4Mg==", "url": "https://github.com/prebid/prebid-server-java/pull/993#discussion_r516685582", "bodyText": "Pls fix typo in covert.", "author": "rpanchyk", "createdAt": "2020-11-03T13:59:51Z", "path": "src/main/java/org/prebid/server/currency/CurrencyConversionService.java", "diffHunk": "@@ -172,7 +172,8 @@ public BigDecimal convertCurrency(BigDecimal price, Map<String, Map<String, BigD\n                 adServerCurrency, effectiveBidCurrency);\n \n         if (conversionRate == null) {\n-            throw new PreBidException(\"no currency conversion available\");\n+            throw new PreBidException(String.format(\"Unable to covert bid currency %s to desired ad server currency %s\",", "originalCommit": "eba48dc7e1f88c76ef78319c3b3918387b676be7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2beed48672e5f91fcd6be6354f35e5accff9e97b", "chunk": "diff --git a/src/main/java/org/prebid/server/currency/CurrencyConversionService.java b/src/main/java/org/prebid/server/currency/CurrencyConversionService.java\nindex a2d66ad8c..8645c86d4 100644\n--- a/src/main/java/org/prebid/server/currency/CurrencyConversionService.java\n+++ b/src/main/java/org/prebid/server/currency/CurrencyConversionService.java\n\n@@ -172,8 +172,9 @@ public class CurrencyConversionService implements Initializable {\n                 adServerCurrency, effectiveBidCurrency);\n \n         if (conversionRate == null) {\n-            throw new PreBidException(String.format(\"Unable to covert bid currency %s to desired ad server currency %s\",\n-                    effectiveBidCurrency, adServerCurrency));\n+            throw new PreBidException(\n+                    String.format(\"Unable to convert bid currency %s to desired ad server currency %s\",\n+                            effectiveBidCurrency, adServerCurrency));\n         }\n \n         return price.divide(conversionRate, DEFAULT_PRICE_PRECISION, RoundingMode.HALF_EVEN);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY4NTg5Mg==", "url": "https://github.com/prebid/prebid-server-java/pull/993#discussion_r516685892", "bodyText": "i'd say it is not strongly desired for constants in unit-tests.\nit is ok to duplicate messages.", "author": "rpanchyk", "createdAt": "2020-11-03T14:00:16Z", "path": "src/test/java/org/prebid/server/auction/ExchangeServiceTest.java", "diffHunk": "@@ -129,6 +129,12 @@\n \n public class ExchangeServiceTest extends VertxTest {\n \n+    private static final String CUR2_CONVERSION_ERROR =", "originalCommit": "eba48dc7e1f88c76ef78319c3b3918387b676be7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2beed48672e5f91fcd6be6354f35e5accff9e97b", "chunk": "diff --git a/src/test/java/org/prebid/server/auction/ExchangeServiceTest.java b/src/test/java/org/prebid/server/auction/ExchangeServiceTest.java\nindex af2baa8f1..47aa56843 100644\n--- a/src/test/java/org/prebid/server/auction/ExchangeServiceTest.java\n+++ b/src/test/java/org/prebid/server/auction/ExchangeServiceTest.java\n\n@@ -129,12 +129,6 @@ import static org.prebid.server.proto.openrtb.ext.response.BidType.banner;\n \n public class ExchangeServiceTest extends VertxTest {\n \n-    private static final String CUR2_CONVERSION_ERROR =\n-            \"Unable to covert bid currency CUR2 to desired ad server currency USD\";\n-    private static final String CURRENCY_CONVERSION_ERROR =\n-            \"Unable to covert bid currency CUR to desired ad server currency USD\";\n-    private static final String CURRENCY_CONVERSION_TO_BAD_ERROR =\n-            \"Unable to covert bid currency CUR to desired ad server currency BAD\";\n     @Rule\n     public final MockitoRule mockitoRule = MockitoJUnit.rule();\n \n"}}, {"oid": "2beed48672e5f91fcd6be6354f35e5accff9e97b", "url": "https://github.com/prebid/prebid-server-java/commit/2beed48672e5f91fcd6be6354f35e5accff9e97b", "message": "Fixes after review.", "committedDate": "2020-11-03T14:09:03Z", "type": "commit"}]}