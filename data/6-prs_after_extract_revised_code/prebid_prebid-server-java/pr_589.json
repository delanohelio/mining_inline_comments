{"pr_number": 589, "pr_title": "Reduce stacktrace of VendorListService", "pr_createdAt": "2020-01-16T13:13:42Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/589", "timeline": [{"oid": "21866a6fe3db6c27a7c776c32491620056fb31dd", "url": "https://github.com/prebid/prebid-server-java/commit/21866a6fe3db6c27a7c776c32491620056fb31dd", "message": "Reduce stacktrace of VendorListService", "committedDate": "2020-01-16T13:05:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQxODM4OA==", "url": "https://github.com/prebid/prebid-server-java/pull/589#discussion_r367418388", "bodyText": "i'd like to see more details when error occurred.\nAlso, pls look at PR #574 which adds INFO error level logging.", "author": "rpanchyk", "createdAt": "2020-01-16T13:33:31Z", "path": "src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java", "diffHunk": "@@ -286,7 +286,7 @@ private static boolean isValid(VendorList vendorList) {\n      * Handles errors occurred while HTTP request or response processing.\n      */\n     private static Future<Void> failResponse(Throwable exception, int version) {\n-        logger.warn(\"Error fetching vendor list via HTTP for version {0}\", exception, version);\n+        logger.warn(\"Error fetching vendor list via HTTP for version {0}\", version);", "originalCommit": "21866a6fe3db6c27a7c776c32491620056fb31dd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQyNTM0Ng==", "url": "https://github.com/prebid/prebid-server-java/pull/589#discussion_r367425346", "bodyText": "Ok", "author": "AndriyPavlyuk", "createdAt": "2020-01-16T13:47:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQxODM4OA=="}], "type": "inlineReview", "revised_code": {"commit": "a451bd808456ed2828c2186fab8f7b06cf853d73", "chunk": "diff --git a/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java b/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java\nindex 20d916a3f..1ed7bae41 100644\n--- a/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java\n+++ b/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java\n\n@@ -286,7 +286,9 @@ public class VendorListService {\n      * Handles errors occurred while HTTP request or response processing.\n      */\n     private static Future<Void> failResponse(Throwable exception, int version) {\n-        logger.warn(\"Error fetching vendor list via HTTP for version {0}\", version);\n+        logger.warn(\"Error fetching vendor list via HTTP for version {0} with message: {1}\",\n+                version, exception.getMessage());\n+        logger.info(\"Error fetching vendor list via HTTP {0}\", version, exception);\n         return Future.failedFuture(exception);\n     }\n \n"}}, {"oid": "a451bd808456ed2828c2186fab8f7b06cf853d73", "url": "https://github.com/prebid/prebid-server-java/commit/a451bd808456ed2828c2186fab8f7b06cf853d73", "message": "Add Info level of logging", "committedDate": "2020-01-16T14:32:52Z", "type": "commit"}, {"oid": "1b0ba05e231a5762277b034a7b9c975a55a90868", "url": "https://github.com/prebid/prebid-server-java/commit/1b0ba05e231a5762277b034a7b9c975a55a90868", "message": "Add debug level of logging", "committedDate": "2020-01-16T15:11:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ4MjI5NQ==", "url": "https://github.com/prebid/prebid-server-java/pull/589#discussion_r367482295", "bodyText": "Seems you've wrong sequence of version, exception arguments order.", "author": "rpanchyk", "createdAt": "2020-01-16T15:28:03Z", "path": "src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java", "diffHunk": "@@ -286,7 +286,9 @@ private static boolean isValid(VendorList vendorList) {\n      * Handles errors occurred while HTTP request or response processing.\n      */\n     private static Future<Void> failResponse(Throwable exception, int version) {\n-        logger.warn(\"Error fetching vendor list via HTTP for version {0}\", exception, version);\n+        logger.warn(\"Error fetching vendor list via HTTP for version {0} with message: {1}\",\n+                version, exception.getMessage());\n+        logger.debug(\"Error fetching vendor list via HTTP {0}\", version, exception);", "originalCommit": "1b0ba05e231a5762277b034a7b9c975a55a90868", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ5Nzc0MA==", "url": "https://github.com/prebid/prebid-server-java/pull/589#discussion_r367497740", "bodyText": "I'll change it.", "author": "AndriyPavlyuk", "createdAt": "2020-01-16T15:53:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ4MjI5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "89b1feb63b1c3c00edc08de3a2658996f99b5102", "chunk": "diff --git a/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java b/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java\nindex dec66cd2d..f1ce45029 100644\n--- a/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java\n+++ b/src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java\n\n@@ -286,9 +286,9 @@ public class VendorListService {\n      * Handles errors occurred while HTTP request or response processing.\n      */\n     private static Future<Void> failResponse(Throwable exception, int version) {\n-        logger.warn(\"Error fetching vendor list via HTTP for version {0} with message: {1}\",\n-                version, exception.getMessage());\n-        logger.debug(\"Error fetching vendor list via HTTP {0}\", version, exception);\n+        logger.warn(\"Error fetching vendor list via HTTP for version {1} with message: {0}\",\n+                exception.getMessage(), version);\n+        logger.debug(\"Error fetching vendor list via HTTP for version {0}\", exception, version);\n         return Future.failedFuture(exception);\n     }\n \n"}}, {"oid": "89b1feb63b1c3c00edc08de3a2658996f99b5102", "url": "https://github.com/prebid/prebid-server-java/commit/89b1feb63b1c3c00edc08de3a2658996f99b5102", "message": "Change oder of version and exception arguments", "committedDate": "2020-01-16T16:11:02Z", "type": "commit"}, {"oid": "885046f8c8bc1c1160e684e9873e4e77079093db", "url": "https://github.com/prebid/prebid-server-java/commit/885046f8c8bc1c1160e684e9873e4e77079093db", "message": "Put version then exception argument", "committedDate": "2020-01-16T16:32:26Z", "type": "commit"}]}