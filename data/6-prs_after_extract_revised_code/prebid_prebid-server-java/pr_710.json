{"pr_number": 710, "pr_title": "Check asset types in BidResponse", "pr_createdAt": "2020-05-06T14:35:12Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/710", "timeline": [{"oid": "cb3c6d895c7addeb9341df2cc74e4be0354242e2", "url": "https://github.com/prebid/prebid-server-java/commit/cb3c6d895c7addeb9341df2cc74e4be0354242e2", "message": "Catch exception if type is empty", "committedDate": "2020-05-06T14:28:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA4MzQ3Ng==", "url": "https://github.com/prebid/prebid-server-java/pull/710#discussion_r422083476", "bodyText": "does this catch really required ?", "author": "DGarbar", "createdAt": "2020-05-08T11:07:01Z", "path": "src/main/java/org/prebid/server/auction/BidResponseCreator.java", "diffHunk": "@@ -693,7 +693,11 @@ private void addNativeMarkup(Bid bid, List<Imp> imps) {\n                 throw new PreBidException(e.getMessage());\n             }\n \n-            responseAssets.forEach(asset -> setAssetTypes(asset, nativeRequest.getAssets()));\n+            try {\n+                responseAssets.forEach(asset -> setAssetTypes(asset, nativeRequest.getAssets()));\n+            } catch (PreBidException e) {\n+                throw new PreBidException(e.getMessage());\n+            }", "originalCommit": "cb3c6d895c7addeb9341df2cc74e4be0354242e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3919c80e485a3d035c3c621ebcafd4e77cad5265", "chunk": "diff --git a/src/main/java/org/prebid/server/auction/BidResponseCreator.java b/src/main/java/org/prebid/server/auction/BidResponseCreator.java\nindex 4d8ffa589..0eef35674 100644\n--- a/src/main/java/org/prebid/server/auction/BidResponseCreator.java\n+++ b/src/main/java/org/prebid/server/auction/BidResponseCreator.java\n\n@@ -693,11 +693,7 @@ public class BidResponseCreator {\n                 throw new PreBidException(e.getMessage());\n             }\n \n-            try {\n-                responseAssets.forEach(asset -> setAssetTypes(asset, nativeRequest.getAssets()));\n-            } catch (PreBidException e) {\n-                throw new PreBidException(e.getMessage());\n-            }\n+            responseAssets.forEach(asset -> setAssetTypes(asset, nativeRequest.getAssets()));\n             bid.setAdm(mapper.encode(nativeMarkup));\n         }\n     }\n"}}, {"oid": "3919c80e485a3d035c3c621ebcafd4e77cad5265", "url": "https://github.com/prebid/prebid-server-java/commit/3919c80e485a3d035c3c621ebcafd4e77cad5265", "message": "Add tests to check Assets", "committedDate": "2020-05-13T18:35:15Z", "type": "commit"}, {"oid": "3cc9bceff8d14982d3eb0d2881654ed694f2f3f7", "url": "https://github.com/prebid/prebid-server-java/commit/3cc9bceff8d14982d3eb0d2881654ed694f2f3f7", "message": "Merge branch 'master' into add-check-for-asset-types", "committedDate": "2020-06-25T14:18:03Z", "type": "commit"}, {"oid": "027fd565bb5cc785cd94b0cfa354ca236e3c00dd", "url": "https://github.com/prebid/prebid-server-java/commit/027fd565bb5cc785cd94b0cfa354ca236e3c00dd", "message": "Merge branch 'master' into add-check-for-asset-types", "committedDate": "2020-08-03T13:28:25Z", "type": "commit"}, {"oid": "b19b5a49b17d733417e1e84ae4909727ecbb3257", "url": "https://github.com/prebid/prebid-server-java/commit/b19b5a49b17d733417e1e84ae4909727ecbb3257", "message": "Fix after merge", "committedDate": "2020-08-03T13:33:38Z", "type": "commit"}]}