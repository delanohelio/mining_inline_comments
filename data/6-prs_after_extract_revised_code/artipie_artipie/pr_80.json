{"pr_number": 80, "pr_title": "add custom repo config support", "pr_createdAt": "2020-04-17T14:17:21Z", "pr_url": "https://github.com/artipie/artipie/pull/80", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg3NzA2OQ==", "url": "https://github.com/artipie/artipie/pull/80#discussion_r410877069", "bodyText": "@brastak we should add  a non null check Objects.requireNonNull like we have for repo() method", "author": "Vatavuk", "createdAt": "2020-04-19T10:53:32Z", "path": "src/main/java/com/artipie/RepoConfig.java", "diffHunk": "@@ -88,6 +88,14 @@ public RepoConfig(final Publisher<ByteBuffer> content) {\n             .thenApply(YamlStorageSettings::storage);\n     }\n \n+    /**\n+     * Custom repository configuration.\n+     * @return Async custom repository config\n+     */\n+    public CompletionStage<YamlMapping> custom() {", "originalCommit": "7857bbc8968e34ee985b48f9f29fbaed9b827900", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ1MDE0NA==", "url": "https://github.com/artipie/artipie/pull/80#discussion_r411450144", "bodyText": "@Vatavuk I did the other thing - I have changed signature to return Optional, because of these section is not required", "author": "brastak", "createdAt": "2020-04-20T15:01:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg3NzA2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "cca25f23870eeeaac820e787a6f2aa5dc9f1ac48", "chunk": "diff --git a/src/main/java/com/artipie/RepoConfig.java b/src/main/java/com/artipie/RepoConfig.java\nindex 7b2a470..f6160a3 100644\n--- a/src/main/java/com/artipie/RepoConfig.java\n+++ b/src/main/java/com/artipie/RepoConfig.java\n\n@@ -84,7 +92,7 @@ public final class RepoConfig {\n     public CompletionStage<Storage> storage() {\n         return this.repo()\n             .thenApply(map -> map.yamlMapping(\"storage\"))\n-            .thenApply(YamlStorageSettings::new)\n+            .thenApply((YamlMapping mapping) -> new YamlStorageSettings(mapping, this.vertx))\n             .thenApply(YamlStorageSettings::storage);\n     }\n \n"}}, {"oid": "cca25f23870eeeaac820e787a6f2aa5dc9f1ac48", "url": "https://github.com/artipie/artipie/commit/cca25f23870eeeaac820e787a6f2aa5dc9f1ac48", "message": "add custom repo config support", "committedDate": "2020-04-20T14:44:19Z", "type": "commit"}, {"oid": "10eb16de59bf9077be28196da8703e3b22961bd2", "url": "https://github.com/artipie/artipie/commit/10eb16de59bf9077be28196da8703e3b22961bd2", "message": "change custom() method signature to return Optional<> (PR comments)", "committedDate": "2020-04-20T14:44:19Z", "type": "commit"}, {"oid": "dba84674f1709043ce7f08f4612028969184587d", "url": "https://github.com/artipie/artipie/commit/dba84674f1709043ce7f08f4612028969184587d", "message": "merge from upstream", "committedDate": "2020-04-20T14:54:28Z", "type": "commit"}, {"oid": "35738416ead20b82da470a25cea448d3506ed237", "url": "https://github.com/artipie/artipie/commit/35738416ead20b82da470a25cea448d3506ed237", "message": "change custom props name to settings (PR comment)", "committedDate": "2020-04-22T07:39:51Z", "type": "commit"}]}