{"pr_number": 815, "pr_title": "#804 - Add setting for repo configs location", "pr_createdAt": "2020-12-18T09:13:50Z", "pr_url": "https://github.com/artipie/artipie/pull/815", "timeline": [{"oid": "e7245c8c0c3f3ab119085bd0c8002eedf2251ec3", "url": "https://github.com/artipie/artipie/commit/e7245c8c0c3f3ab119085bd0c8002eedf2251ec3", "message": "#804 - Add setting for repo configs location", "committedDate": "2020-12-18T08:55:03Z", "type": "commit"}, {"oid": "8cbcbf22a7670006a6072f545e4388d15edfc83d", "url": "https://github.com/artipie/artipie/commit/8cbcbf22a7670006a6072f545e4388d15edfc83d", "message": "#804 - test corrected", "committedDate": "2020-12-18T09:15:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc0NDA4NQ==", "url": "https://github.com/artipie/artipie/pull/815#discussion_r545744085", "bodyText": "@olenagerasimova it seems that in every case Key returned by this method is composed with storage() method result to produce a SubStorage. That makes me think it would be better to return Storage here and put SubStorage creation inside", "author": "olegmoz", "createdAt": "2020-12-18T10:34:00Z", "path": "src/main/java/com/artipie/Settings.java", "diffHunk": "@@ -65,6 +67,13 @@\n      */\n     YamlMapping meta();\n \n+    /**\n+     * Repo configs storage key, or, in file system storage terms, subdirectory where repo\n+     * configs are located relatively to the storage.\n+     * @return Repo configs key\n+     */\n+    Optional<Key> repoConfigs();", "originalCommit": "8cbcbf22a7670006a6072f545e4388d15edfc83d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0099e1cd09f886e9f601098b315dc677f2c67912", "chunk": "diff --git a/src/main/java/com/artipie/Settings.java b/src/main/java/com/artipie/Settings.java\nindex ada4141..4d9fcaf 100644\n--- a/src/main/java/com/artipie/Settings.java\n+++ b/src/main/java/com/artipie/Settings.java\n\n@@ -68,11 +66,11 @@ public interface Settings {\n     YamlMapping meta();\n \n     /**\n-     * Repo configs storage key, or, in file system storage terms, subdirectory where repo\n+     * Repo configs storage, or, in file system storage terms, subdirectory where repo\n      * configs are located relatively to the storage.\n-     * @return Repo configs key\n+     * @return Repo configs storage\n      */\n-    Optional<Key> repoConfigs();\n+    Storage repoConfigsStorage();\n \n     /**\n      * Artipie credentials.\n"}}, {"oid": "0099e1cd09f886e9f601098b315dc677f2c67912", "url": "https://github.com/artipie/artipie/commit/0099e1cd09f886e9f601098b315dc677f2c67912", "message": "#804 - CR", "committedDate": "2020-12-18T11:07:22Z", "type": "commit"}, {"oid": "9a5b4ad3129380c3b890ca3f66a30603c0c55f31", "url": "https://github.com/artipie/artipie/commit/9a5b4ad3129380c3b890ca3f66a30603c0c55f31", "message": "Merge branch 'master' into 804-repo-configs-location", "committedDate": "2020-12-18T11:20:59Z", "type": "commit"}]}