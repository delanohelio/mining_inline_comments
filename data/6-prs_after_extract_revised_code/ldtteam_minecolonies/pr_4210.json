{"pr_number": 4210, "pr_title": "Fix/#4190", "pr_createdAt": "2020-01-06T20:07:17Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/4210", "timeline": [{"oid": "36a443ddc52c61a4c8b5683ba5baa81a6244b3b1", "url": "https://github.com/ldtteam/minecolonies/commit/36a443ddc52c61a4c8b5683ba5baa81a6244b3b1", "message": "update warehouse on dman insert #4160", "committedDate": "2020-01-06T17:51:58Z", "type": "commit"}, {"oid": "d562c6d5fcec196477ab1db48180ca322b43bc32", "url": "https://github.com/ldtteam/minecolonies/commit/d562c6d5fcec196477ab1db48180ca322b43bc32", "message": "fix transfer issues", "committedDate": "2020-01-06T20:05:22Z", "type": "commit"}, {"oid": "f84c3a45efadbca5e4de42a38ade67ededb82218", "url": "https://github.com/ldtteam/minecolonies/commit/f84c3a45efadbca5e4de42a38ade67ededb82218", "message": "Merge remote-tracking branch 'origin/version/1.14' into fix/#4190", "committedDate": "2020-01-06T20:05:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363587581", "bodyText": "I feel like it might fix more bugs if we simply actually create multiple stacks with proper stack sizes instead of our NBT hacky thing", "author": "Asherslab", "createdAt": "2020-01-07T04:30:38Z", "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutBuilder.java", "diffHunk": "@@ -242,8 +242,8 @@ private void transferItems(@NotNull final Button button)\n         {\n             // The itemStack size should not be greater than itemStack.getMaxStackSize, We send 1 instead\n             // and use quantity for the size\n-            @NotNull final ItemStack itemStack = new ItemStack(res.getItem(), 1);\n-            itemStack.setTag(res.getItemStack().getTag());\n+            @NotNull final ItemStack itemStack = res.getItemStack().copy();\n+            itemStack.setCount(1);", "originalCommit": "f84c3a45efadbca5e4de42a38ade67ededb82218", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzODU0NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363638544", "bodyText": "That's what I did in this PR =P I removed the NBT hacky thing and just copyed the stack and adjusted the size.", "author": "Raycoms", "createdAt": "2020-01-07T08:33:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzOTgyMg==", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363639822", "bodyText": "yeah but you're setting it to 1, it'd never go over?", "author": "Asherslab", "createdAt": "2020-01-07T08:37:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY0MDE3OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363640178", "bodyText": "Yeah we send the amount extra.", "author": "Raycoms", "createdAt": "2020-01-07T08:38:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzgyNjg1Mg==", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363826852", "bodyText": "..... I am not sure this is the right approach here.....", "author": "OrionDevelopment", "createdAt": "2020-01-07T16:15:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg3ODQ3OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363878478", "bodyText": "It's because we sometimes send more than the max stacksize, we have to send the amount and the stack we want to send separate.", "author": "Raycoms", "createdAt": "2020-01-07T18:08:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "45c4d77ae11588cf01d93929219dee382b7facc7", "url": "https://github.com/ldtteam/minecolonies/commit/45c4d77ae11588cf01d93929219dee382b7facc7", "message": "Restructure sleeping AI", "committedDate": "2020-01-07T13:11:56Z", "type": "commit"}, {"oid": "d4211ef5ff53bb678eb5a84504a228c24a79dca8", "url": "https://github.com/ldtteam/minecolonies/commit/d4211ef5ff53bb678eb5a84504a228c24a79dca8", "message": "join sleep AIs together", "committedDate": "2020-01-07T13:58:31Z", "type": "commit"}]}