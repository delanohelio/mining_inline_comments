{"pr_number": 5386, "pr_title": "Adjustable Field Size", "pr_createdAt": "2020-07-14T12:20:21Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/5386", "timeline": [{"oid": "d0ee498335eca552fe2d282985b2192d3df58ffe", "url": "https://github.com/ldtteam/minecolonies/commit/d0ee498335eca552fe2d282985b2192d3df58ffe", "message": "Add field size buttons\n\nCorrect spelling mistake in class name AbstractScarescrowTileEntity\nAdd Custom widgets for size buttons", "committedDate": "2020-07-08T03:31:58Z", "type": "commit"}, {"oid": "01618885418ab1794aa58d1a0acf24c857c32637", "url": "https://github.com/ldtteam/minecolonies/commit/01618885418ab1794aa58d1a0acf24c857c32637", "message": "Fix farmer AI to include changes\n\nAdds a new method for finding the next available block that considers the field plot size\nFixes the server syncing with the buttons in WindowField", "committedDate": "2020-07-14T04:13:57Z", "type": "commit"}, {"oid": "0be5e6824064a53d372f7f0932e8ff1890040bce", "url": "https://github.com/ldtteam/minecolonies/commit/0be5e6824064a53d372f7f0932e8ff1890040bce", "message": "Add localized tooltips for scarecrow size buttons\n\nShow the direction of the button in a tooltip\nAnd the relative direction from the player", "committedDate": "2020-07-14T06:34:45Z", "type": "commit"}, {"oid": "e6703a160dca99f1454745aa2c74fbdd790cbf2b", "url": "https://github.com/ldtteam/minecolonies/commit/e6703a160dca99f1454745aa2c74fbdd790cbf2b", "message": "Localize and clean up\n\nAdds new I18n keys according to the correct convention\nRemoves pointless name variable and associated getters in ScarecrowTileEntity\nAdd some JavaDocs", "committedDate": "2020-07-14T11:52:42Z", "type": "commit"}, {"oid": "f6df70e1fdff5a67e638a55d96ffc47e4e277a5d", "url": "https://github.com/ldtteam/minecolonies/commit/f6df70e1fdff5a67e638a55d96ffc47e4e277a5d", "message": "Clean up imports", "committedDate": "2020-07-14T11:57:43Z", "type": "commit"}, {"oid": "d5758f9e6cce1ab0a8d151231b265c9394977652", "url": "https://github.com/ldtteam/minecolonies/commit/d5758f9e6cce1ab0a8d151231b265c9394977652", "message": "Merge branch 'version/1.15' into feature/field", "committedDate": "2020-07-14T13:20:42Z", "type": "commit"}, {"oid": "1ca596db2c85defcbbaea41f31d3af078dd40bb3", "url": "https://github.com/ldtteam/minecolonies/commit/1ca596db2c85defcbbaea41f31d3af078dd40bb3", "message": "Add MOD_ID to translation keys", "committedDate": "2020-07-14T13:53:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg4NTUzOQ==", "url": "https://github.com/ldtteam/minecolonies/pull/5386#discussion_r455885539", "bodyText": "javadoc", "author": "someaddons", "createdAt": "2020-07-16T15:44:08Z", "path": "src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java", "diffHunk": "@@ -40,7 +55,9 @@\n     /**\n      * Tile entity of the scarecrow.\n      */\n-    private final AbstractScarescrowTileEntity tileEntity;\n+    private final AbstractScarecrowTileEntity tileEntity;\n+\n+    private final int[] radii = new int[4];", "originalCommit": "d5758f9e6cce1ab0a8d151231b265c9394977652", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "75fb60184d3cfb93f5392c5350ddb4a667718415", "chunk": "diff --git a/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java b/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\nindex 063937a0e..c87b3a3be 100755\n--- a/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\n+++ b/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\n\n@@ -52,11 +52,20 @@ public class WindowField extends ContainerScreen<ContainerField>\n      */\n     private static final int TEXT_COLOR = 0x404040;\n \n+    /**\n+     * The width and height of the DirectionalButtons (they're square)\n+     */\n+    private static final int BUTTON_SIDE_LENGTH = 24;\n+\n     /**\n      * Tile entity of the scarecrow.\n      */\n     private final AbstractScarecrowTileEntity tileEntity;\n \n+    /**\n+     * The values to render on each directional button, indicating the size of the field\n+     * S, W, N, E.\n+     */\n     private final int[] radii = new int[4];\n \n     /**\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg4NjQ2Mw==", "url": "https://github.com/ldtteam/minecolonies/pull/5386#discussion_r455886463", "bodyText": "make a constant for this", "author": "someaddons", "createdAt": "2020-07-16T15:45:26Z", "path": "src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java", "diffHunk": "@@ -53,18 +70,66 @@ public WindowField(final ContainerField container, final PlayerInventory playerI\n     {\n         super(container, playerInventory, iTextComponent);\n         this.tileEntity = container.getTileEntity();\n+\n+\n+    }\n+\n+    @Override\n+    protected void init ()\n+    {\n+        super.init();\n+\n+        final int offset = 24;", "originalCommit": "d5758f9e6cce1ab0a8d151231b265c9394977652", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "75fb60184d3cfb93f5392c5350ddb4a667718415", "chunk": "diff --git a/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java b/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\nindex 063937a0e..c87b3a3be 100755\n--- a/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\n+++ b/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\n\n@@ -70,8 +79,6 @@ public class WindowField extends ContainerScreen<ContainerField>\n     {\n         super(container, playerInventory, iTextComponent);\n         this.tileEntity = container.getTileEntity();\n-\n-\n     }\n \n     @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg4NzE4Mw==", "url": "https://github.com/ldtteam/minecolonies/pull/5386#discussion_r455887183", "bodyText": "javadoc", "author": "someaddons", "createdAt": "2020-07-16T15:46:28Z", "path": "src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java", "diffHunk": "@@ -91,4 +156,118 @@ public void render(int x, int y, float z)\n         super.render(x, y, z);\n         this.renderHoveredToolTip(x, y);\n     }\n+\n+    protected class DirectionalButton extends Button", "originalCommit": "d5758f9e6cce1ab0a8d151231b265c9394977652", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "75fb60184d3cfb93f5392c5350ddb4a667718415", "chunk": "diff --git a/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java b/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\nindex 063937a0e..c87b3a3be 100755\n--- a/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\n+++ b/src/main/java/com/minecolonies/coremod/client/gui/containers/WindowField.java\n\n@@ -157,16 +164,32 @@ public class WindowField extends ContainerScreen<ContainerField>\n         this.renderHoveredToolTip(x, y);\n     }\n \n+    /**\n+     * Buttons with a direction. Textures are assigned based on direction specified.\n+     */\n     protected class DirectionalButton extends Button\n     {\n         public Direction direction;\n         public int textureX = 176;\n         public int textureY = 0;\n+\n+        /**\n+         * The arrangement of the button's direction textures in the image.\n+         */\n         public int columns = 2;\n \n-        public DirectionalButton(int widthIn, int heightIn, int width, int height, String text, Direction direction)\n+        /**\n+         * Construct a directional button. Arguments based on a basic Button widget\n+         * @param x the x position from screen top left\n+         * @param y the y position from screen top left\n+         * @param width the width of the button in the gui\n+         * @param height the height of the button in the gui\n+         * @param text the label on the button\n+         * @param direction the direction this button faces. Adjusts texture coordinates.\n+         */\n+        public DirectionalButton(int x, int y, int width, int height, String text, Direction direction)\n         {\n-            super(widthIn, heightIn, width, height, text, button -> {});\n+            super(x, y, width, height, text, button -> {});\n             this.direction = direction;\n         }\n \n"}}, {"oid": "75fb60184d3cfb93f5392c5350ddb4a667718415", "url": "https://github.com/ldtteam/minecolonies/commit/75fb60184d3cfb93f5392c5350ddb4a667718415", "message": "Add docs and append translation keys\n\nMove translation keys from amidst the file to the end.\nMake a static constant for button width", "committedDate": "2020-07-17T07:30:08Z", "type": "commit"}, {"oid": "65a8b5c646483cc96528f9b43db8603d08e2090a", "url": "https://github.com/ldtteam/minecolonies/commit/65a8b5c646483cc96528f9b43db8603d08e2090a", "message": "Revert translation keys\n\nIntroduce the formal mod id back into the scarecrow translation keys", "committedDate": "2020-07-17T07:36:50Z", "type": "commit"}, {"oid": "90905426e2b083de0010ae1b4350f5414c069158", "url": "https://github.com/ldtteam/minecolonies/commit/90905426e2b083de0010ae1b4350f5414c069158", "message": "Fix tooltip relative directions", "committedDate": "2020-07-17T07:57:41Z", "type": "commit"}, {"oid": "3d3b8885bd6cad66c82783bad80780478fca5f47", "url": "https://github.com/ldtteam/minecolonies/commit/3d3b8885bd6cad66c82783bad80780478fca5f47", "message": "Merge branch 'feature/field' of https://github.com/ShadowProtocol/minecolonies into feature/field\n\n\u0001 Conflicts:\n\u0001\tsrc/main/resources/assets/minecolonies/lang/en_us.json", "committedDate": "2020-07-17T08:13:53Z", "type": "commit"}]}