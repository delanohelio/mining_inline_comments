{"pr_number": 4537, "pr_title": "fix #3116", "pr_createdAt": "2020-03-30T17:33:16Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/4537", "timeline": [{"oid": "75a381a937aff65b92c1c039c2d67e2dcea50468", "url": "https://github.com/ldtteam/minecolonies/commit/75a381a937aff65b92c1c039c2d67e2dcea50468", "message": "fix #3116", "committedDate": "2020-03-30T17:32:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDQxNzM2MQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4537#discussion_r400417361", "bodyText": "Please add in a safety check that checks if serving the first citizen is actually usefull.", "author": "OrionDevelopment", "createdAt": "2020-03-30T18:50:29Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/cook/EntityAIWorkCook.java", "diffHunk": "@@ -174,6 +174,19 @@ private IAIState serveFoodToCitizen()\n \n         if (InventoryUtils.isItemHandlerFull(handler))\n         {\n+            if (!citizenToServe.isEmpty())\n+            {\n+                final int foodSlot = InventoryUtils.findFirstSlotInItemHandlerWith(worker.getInventoryCitizen(), ItemStackUtils.CAN_EAT);\n+                if (foodSlot != -1)\n+                {\n+                    final ItemStack stack = worker.getInventoryCitizen().extractItem(foodSlot, 1, false);", "originalCommit": "75a381a937aff65b92c1c039c2d67e2dcea50468", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDQyMDUxMA==", "url": "https://github.com/ldtteam/minecolonies/pull/4537#discussion_r400420510", "bodyText": "What do you mean?", "author": "Raycoms", "createdAt": "2020-03-30T18:55:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDQxNzM2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcyNzA0MQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4537#discussion_r400727041", "bodyText": "I mean, please check if it is useful to feed the first citizen\nOr if it is more useful to feed another citizen with that piece of meal.", "author": "OrionDevelopment", "createdAt": "2020-03-31T08:20:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDQxNzM2MQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "104ba2c5dd2956415b86e15c37058e4d9c7df140", "url": "https://github.com/ldtteam/minecolonies/commit/104ba2c5dd2956415b86e15c37058e4d9c7df140", "message": "Merge branch 'version/1.15' into fix/#3116", "committedDate": "2020-03-31T08:43:19Z", "type": "commit"}, {"oid": "1e86405124d2272f128ef260cd93f8c7d0ea0f6d", "url": "https://github.com/ldtteam/minecolonies/commit/1e86405124d2272f128ef260cd93f8c7d0ea0f6d", "message": "add comparator", "committedDate": "2020-03-31T09:00:09Z", "type": "commit"}, {"oid": "b4897a88b86717f260de73ac4d636679f9f425de", "url": "https://github.com/ldtteam/minecolonies/commit/b4897a88b86717f260de73ac4d636679f9f425de", "message": "Merge remote-tracking branch 'origin/fix/#3116' into fix/#3116", "committedDate": "2020-03-31T09:00:21Z", "type": "commit"}]}