{"pr_number": 646, "pr_title": "CLDR-13918 Switching file/path operations to using normalized rather than canonical paths.", "pr_createdAt": "2020-08-19T16:20:13Z", "pr_url": "https://github.com/unicode-org/cldr/pull/646", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzE1MzI2MA==", "url": "https://github.com/unicode-org/cldr/pull/646#discussion_r473153260", "bodyText": "No IOException possible using new utilities file.\nHere and a few other places in this PR.", "author": "hagbard", "createdAt": "2020-08-19T16:21:13Z", "path": "tools/java/org/unicode/cldr/tool/SearchCLDR.java", "diffHunk": "@@ -364,16 +365,12 @@ public static void main(String[] args) {\n         File[] newDirs = new File[sourceDirs.length];\n         int item = 0;\n         for (File s : sourceDirs) {\n-            try {\n-                String path = s.getCanonicalPath();\n-                int baseLoc = path.lastIndexOf(\"/cldr/\");\n-                if (baseLoc < 0) {\n-                    throw new ICUUncheckedIOException(\"source doesn't contain /cldr/\");\n-                }\n-                newDirs[item++] = new File(base, path.substring(baseLoc + 5));\n-            } catch (IOException e) {", "originalCommit": "a941a71d1de83afee97e4837dbfe3f67ae5a363d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzE1NDM0Mw==", "url": "https://github.com/unicode-org/cldr/pull/646#discussion_r473154343", "bodyText": "No longer reachable/applicable since failure cannot occur.", "author": "hagbard", "createdAt": "2020-08-19T16:22:12Z", "path": "tools/java/org/unicode/cldr/util/LDMLUtilities.java", "diffHunk": "@@ -1962,15 +1962,7 @@ public static String filenameToURL(String filename) {\n         }\n \n         File f = new File(filename);\n-        String tmp = null;\n-        try {\n-            // This normally gives a better path\n-            tmp = f.getCanonicalPath();\n-        } catch (IOException ioe) {\n-            // But this can be used as a backup, for cases\n-            // where the file does not exist, etc.\n-            tmp = f.getAbsolutePath();", "originalCommit": "a941a71d1de83afee97e4837dbfe3f67ae5a363d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "fda815a100a6ddde3e86b79dcb5ea3ed76f658b0", "url": "https://github.com/unicode-org/cldr/commit/fda815a100a6ddde3e86b79dcb5ea3ed76f658b0", "message": "CLDR-13918 Switching file/path operations to using normalized rather than canonical paths.\n\nSee #646", "committedDate": "2020-08-21T00:34:27Z", "type": "commit"}, {"oid": "fda815a100a6ddde3e86b79dcb5ea3ed76f658b0", "url": "https://github.com/unicode-org/cldr/commit/fda815a100a6ddde3e86b79dcb5ea3ed76f658b0", "message": "CLDR-13918 Switching file/path operations to using normalized rather than canonical paths.\n\nSee #646", "committedDate": "2020-08-21T00:34:27Z", "type": "forcePushed"}]}