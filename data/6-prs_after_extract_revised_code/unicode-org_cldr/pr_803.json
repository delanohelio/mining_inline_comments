{"pr_number": 803, "pr_title": "CLDR-14175 JSON: threaded conversion, improve coverage", "pr_createdAt": "2020-10-20T21:49:41Z", "pr_url": "https://github.com/unicode-org/cldr/pull/803", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MTU4NQ==", "url": "https://github.com/unicode-org/cldr/pull/803#discussion_r508861585", "bodyText": "instead of a matcher, cache a frozen Pattern.", "author": "srl295", "createdAt": "2020-10-20T21:50:12Z", "path": "tools/java/org/unicode/cldr/json/Ldml2JsonConverter.java", "diffHunk": "@@ -140,7 +141,7 @@ public static void main(String[] args) throws Exception {\n \n     private class JSONSection implements Comparable<JSONSection> {\n         public String section;\n-        public Matcher matcher;\n+        public Pattern pattern;", "originalCommit": "a9bac3b440d47d8c5d4674e8dedb1cecf2340394", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjI4MQ==", "url": "https://github.com/unicode-org/cldr/pull/803#discussion_r508862281", "bodyText": "puts out a little status indicator as to how many locales have been read.\n     [java] <[3/788]:\tReading main/fr_GN\n     [java] <[4/788]:\tReading main/cy\n     [java] ?[4/788]:\t/Users/srl/src/cldr-json/git//cldr-localenames-full/main/lrc-IQ - 282 item(s) to write.", "author": "srl295", "createdAt": "2020-10-20T21:51:40Z", "path": "tools/java/org/unicode/cldr/json/Ldml2JsonConverter.java", "diffHunk": "@@ -1185,6 +1200,14 @@ private int findFirstDiffNodeIndex(ArrayList<CldrNode> nodesForLastItem,\n         return i;\n     }\n \n+    private final String progressPrefix(AtomicInteger readCount, int totalCount) {\n+        return progressPrefix(readCount.get(), totalCount);\n+    }\n+\n+    private final String progressPrefix(int readCount, int totalCount) {\n+        return String.format(\"[%d/%d]:\\t\", readCount, totalCount);\n+    }", "originalCommit": "a9bac3b440d47d8c5d4674e8dedb1cecf2340394", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjUxNg==", "url": "https://github.com/unicode-org/cldr/pull/803#discussion_r508862516", "bodyText": "this is the JSON addition", "author": "srl295", "createdAt": "2020-10-20T21:52:09Z", "path": "tools/java/org/unicode/cldr/json/LdmlConvertRules.java", "diffHunk": "@@ -60,7 +60,11 @@\n         \"pluralRanges:pluralRange:start\",\n         \"pluralRanges:pluralRange:end\",\n         \"pluralRules:pluralRule:count\",\n-        \"languageMatches:languageMatch:desired\");\n+        \"languageMatches:languageMatch:desired\",\n+        \"typographicNames:axisName:type\",\n+        \"typographicNames:styleName:type\",\n+        \"typographicNames:styleName:subtype\",\n+        \"typographicNames:styleName:alt\");\n ", "originalCommit": "a9bac3b440d47d8c5d4674e8dedb1cecf2340394", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "061caa6656321f88908c6155acb950893de75f1c", "chunk": "diff --git a/tools/java/org/unicode/cldr/json/LdmlConvertRules.java b/tools/java/org/unicode/cldr/json/LdmlConvertRules.java\nindex 2a6d984334..7e5ddded13 100644\n--- a/tools/java/org/unicode/cldr/json/LdmlConvertRules.java\n+++ b/tools/java/org/unicode/cldr/json/LdmlConvertRules.java\n\n@@ -61,10 +62,8 @@ class LdmlConvertRules {\n         \"pluralRanges:pluralRange:end\",\n         \"pluralRules:pluralRule:count\",\n         \"languageMatches:languageMatch:desired\",\n-        \"typographicNames:axisName:type\",\n-        \"typographicNames:styleName:type\",\n-        \"typographicNames:styleName:subtype\",\n-        \"typographicNames:styleName:alt\");\n+        \"styleNames:styleName:subtype\",\n+        \"styleNames:styleName:alt\");\n \n     /**\n      * The set of attributes that should become part of the name in form of\n"}}, {"oid": "061caa6656321f88908c6155acb950893de75f1c", "url": "https://github.com/unicode-org/cldr/commit/061caa6656321f88908c6155acb950893de75f1c", "message": "CLDR-14175 threaded JSON conversion\n\n- also correct missing additional data items such as characterLabels and typographic\n- new files: misc/typographic.json, misc/characterLabels.json", "committedDate": "2020-10-21T18:30:21Z", "type": "commit"}, {"oid": "061caa6656321f88908c6155acb950893de75f1c", "url": "https://github.com/unicode-org/cldr/commit/061caa6656321f88908c6155acb950893de75f1c", "message": "CLDR-14175 threaded JSON conversion\n\n- also correct missing additional data items such as characterLabels and typographic\n- new files: misc/typographic.json, misc/characterLabels.json", "committedDate": "2020-10-21T18:30:21Z", "type": "forcePushed"}]}