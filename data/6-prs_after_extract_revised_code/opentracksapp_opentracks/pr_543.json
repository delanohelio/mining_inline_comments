{"pr_number": 543, "pr_title": "Viewpager2 zoom", "pr_createdAt": "2020-12-05T21:46:24Z", "pr_url": "https://github.com/OpenTracksApp/OpenTracks/pull/543", "timeline": [{"oid": "94385e539f4af92ef1d121eae25895ce17bec210", "url": "https://github.com/OpenTracksApp/OpenTracks/commit/94385e539f4af92ef1d121eae25895ce17bec210", "message": "ViewPager migrate to ViewPager2. Fixes #522.\nSwiping between tabs work. Fixes #105.", "committedDate": "2020-11-28T18:38:50Z", "type": "commit"}, {"oid": "7a22d13b7fcb3cbd6153eb02d7adae028a981f3f", "url": "https://github.com/OpenTracksApp/OpenTracks/commit/7a22d13b7fcb3cbd6153eb02d7adae028a981f3f", "message": "ChartView let's parent handle TouchEvents if not zoomed.", "committedDate": "2020-12-05T21:34:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzAzMDY2NQ==", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/543#discussion_r537030665", "bodyText": "In that way only can swip if there are not zoom.\nIf you prefer that behaviour, what would you think add double tap to zoom out?", "author": "rgmf", "createdAt": "2020-12-06T12:40:47Z", "path": "src/main/java/de/dennisguse/opentracks/chart/ChartView.java", "diffHunk": "@@ -527,6 +542,10 @@ public void computeScroll() {\n     public boolean onTouchEvent(MotionEvent event) {\n         boolean isZoom = detectorZoom.onTouchEvent(event);\n         boolean isScrollTab = detectorScrollFlingTab.onTouchEvent(event);\n+\n+        // ChartView handles zoom gestures (more than one pointer) and all gestures when zoomed itself\n+        requestDisallowInterceptTouchEventInParent(event.getPointerCount() != 1 || zoomLevel != MIN_ZOOM_LEVEL);", "originalCommit": "7a22d13b7fcb3cbd6153eb02d7adae028a981f3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzEyNTYyNQ==", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/543#discussion_r537125625", "bodyText": "Why not :)", "author": "dennisguse", "createdAt": "2020-12-06T21:18:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzAzMDY2NQ=="}], "type": "inlineReview", "revised_code": null}]}