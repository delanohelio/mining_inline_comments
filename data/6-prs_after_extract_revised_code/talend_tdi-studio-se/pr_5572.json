{"pr_number": 5572, "pr_title": "feat(TUP-25346):tELTTeradataOutput - aliases are mandatory for calculated columns", "pr_createdAt": "2020-11-27T09:45:29Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/5572", "timeline": [{"oid": "8a13dc1013f6f19ee6dadc99c8dbe9d833df45cc", "url": "https://github.com/Talend/tdi-studio-se/commit/8a13dc1013f6f19ee6dadc99c8dbe9d833df45cc", "message": "feat(TUP-25346):tELTTeradataOutput - aliases are mandatory for\ncalculated columns", "committedDate": "2020-11-27T09:01:01Z", "type": "commit"}, {"oid": "73c07c58f664fec326d58a536306040279aa4388", "url": "https://github.com/Talend/tdi-studio-se/commit/73c07c58f664fec326d58a536306040279aa4388", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into hcyi/TUP-25346_7.3", "committedDate": "2020-11-27T09:03:46Z", "type": "commit"}, {"oid": "3ec341267e5a9881b832840f163a384b8a046c91", "url": "https://github.com/Talend/tdi-studio-se/commit/3ec341267e5a9881b832840f163a384b8a046c91", "message": "feat(TUP-25346):add junits for calculated columns.", "committedDate": "2020-11-30T11:17:09Z", "type": "commit"}, {"oid": "95dc78efdf1828462e3b2361b3d6b4cd9e7f9d82", "url": "https://github.com/Talend/tdi-studio-se/commit/95dc78efdf1828462e3b2361b3d6b4cd9e7f9d82", "message": "feat(TUP-25346):NEW RULE for if output column name is different than\noutput db column.", "committedDate": "2020-12-07T02:14:14Z", "type": "commit"}, {"oid": "d386781ccbedca1841a5bae06fe0c6ef8ed59ebe", "url": "https://github.com/Talend/tdi-studio-se/commit/d386781ccbedca1841a5bae06fe0c6ef8ed59ebe", "message": "fix(TUP-29598):[BUG] The \"property setting\" setting is missing after\nmigrating data(TUP-25346)", "committedDate": "2020-12-07T07:59:11Z", "type": "commit"}, {"oid": "70cd0cdf3a1fadb9e309eb46a2d207946a366956", "url": "https://github.com/Talend/tdi-studio-se/commit/70cd0cdf3a1fadb9e309eb46a2d207946a366956", "message": "feat(TUP-25346):NEW RULE if checked the alias option\u3002", "committedDate": "2020-12-08T03:12:31Z", "type": "commit"}, {"oid": "372fa17906b21ac0a7b76d060fe10eb587925169", "url": "https://github.com/Talend/tdi-studio-se/commit/372fa17906b21ac0a7b76d060fe10eb587925169", "message": "fix(TUP-29636):[BUG] Studio does not support SQL scripts with alias when\nexecute update database(TUP-25346)", "committedDate": "2020-12-08T09:53:07Z", "type": "commit"}, {"oid": "e06c1c29f7e2ff6bfd55f33272b9c2adfd18cdc6", "url": "https://github.com/Talend/tdi-studio-se/commit/e06c1c29f7e2ff6bfd55f33272b9c2adfd18cdc6", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into\nhcyi/TUP-25346_7.3", "committedDate": "2020-12-08T09:58:49Z", "type": "commit"}, {"oid": "95e72106479d74880099f7095a176fd0f6f5cd8d", "url": "https://github.com/Talend/tdi-studio-se/commit/95e72106479d74880099f7095a176fd0f6f5cd8d", "message": "feat(TUP-25346):change the junits since NEW RULE if checked the alias\noption.", "committedDate": "2020-12-08T10:26:41Z", "type": "commit"}, {"oid": "240371cd0323067e15d67d43dc659a3b75015f98", "url": "https://github.com/Talend/tdi-studio-se/commit/240371cd0323067e15d67d43dc659a3b75015f98", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into\nhcyi/TUP-25346_7.3", "committedDate": "2020-12-09T01:51:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTA1MDI2Mw==", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#discussion_r539050263", "bodyText": "The alias feature is done only for teradata  , why you add junit for MSSQL ,MYSQL with alias support ?", "author": "wchen-talend", "createdAt": "2020-12-09T06:46:53Z", "path": "test/plugins/org.talend.designer.dbmap.test/src/org/talend/designer/dbmap/language/mssql/MssqlGenerationManagerTest.java", "diffHunk": "@@ -1110,4 +1109,38 @@ public void testELTMapCrossJoin() {\n                 + \"\\nWHERE\" + \"\\n  B.id = A.id\\n  AND  C.id = B.id\\\"\";\r\n         assertEquals(expectedQuery, query);\r\n     }\r\n+\r\n+    @Test\r\n+    public void testBuildSqlSelectWithColumnsAliasIfChecked() {\r", "originalCommit": "240371cd0323067e15d67d43dc659a3b75015f98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE0ODM5MA==", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#discussion_r539148390", "bodyText": "removed", "author": "hcyi", "createdAt": "2020-12-09T09:32:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTA1MDI2Mw=="}], "type": "inlineReview", "revised_code": {"commit": "f24e86889c42bdc34f5ecf243b191c94cd35262f", "chunk": "diff --git a/test/plugins/org.talend.designer.dbmap.test/src/org/talend/designer/dbmap/language/mssql/MssqlGenerationManagerTest.java b/test/plugins/org.talend.designer.dbmap.test/src/org/talend/designer/dbmap/language/mssql/MssqlGenerationManagerTest.java\nindex 56bbc732f4..8caaf10092 100644\n--- a/test/plugins/org.talend.designer.dbmap.test/src/org/talend/designer/dbmap/language/mssql/MssqlGenerationManagerTest.java\n+++ b/test/plugins/org.talend.designer.dbmap.test/src/org/talend/designer/dbmap/language/mssql/MssqlGenerationManagerTest.java\n\n@@ -1109,38 +1109,4 @@ public class MssqlGenerationManagerTest extends DbGenerationManagerTestHelper {\n                 + \"\\nWHERE\" + \"\\n  B.id = A.id\\n  AND  C.id = B.id\\\"\";\n         assertEquals(expectedQuery, query);\n     }\n-\n-    @Test\n-    public void testBuildSqlSelectWithColumnsAliasIfChecked() {\n-        // Only support teradata columns alias now, others not add it .\n-        MssqlGenerationManager manager = new MssqlGenerationManager();\n-        manager.setUseAliasInOutputTable(true);\n-        String schema = \"\";\n-        String main_table = \"main_table\";\n-        String main_alias = \"\";\n-        String lookup_table = \"lookup_table\";\n-        String lookup_alias = \"\";\n-        init4ColumnAlias(schema, main_table, main_alias, lookup_table, lookup_alias);\n-        String expectedQuery = \"\\\"SELECT\\n\"\n-                + \"main_table.id AS id, main_table.name_alias AS name, main_table.age_alias AS age, lookup_table.score AS score\\n\"\n-                + \"FROM\\n\" + \" main_table , lookup_table\\\"\";\n-        String query = manager.buildSqlSelect(dbMapComponent, \"grade\");\n-        assertEquals(expectedQuery, query);\n-    }\n-\n-    @Test\n-    public void testBuildSqlSelectWithColumnsAliasIfunChecked() {\n-        MssqlGenerationManager manager = new MssqlGenerationManager();\n-        manager.setUseAliasInOutputTable(false);\n-        String schema = \"\";\n-        String main_table = \"main_table\";\n-        String main_alias = \"\";\n-        String lookup_table = \"lookup_table\";\n-        String lookup_alias = \"\";\n-        init4ColumnAlias(schema, main_table, main_alias, lookup_table, lookup_alias);\n-        String expectedQuery = \"\\\"SELECT\\n\" + \"main_table.id, main_table.name_alias, main_table.age_alias, lookup_table.score\\n\"\n-                + \"FROM\\n\" + \" main_table , lookup_table\\\"\";\n-        String query = manager.buildSqlSelect(dbMapComponent, \"grade\");\n-        assertEquals(expectedQuery, query);\n-    }\n }\n"}}, {"oid": "f24e86889c42bdc34f5ecf243b191c94cd35262f", "url": "https://github.com/Talend/tdi-studio-se/commit/f24e86889c42bdc34f5ecf243b191c94cd35262f", "message": "feat(TUP-25346):remove some junits since no need.", "committedDate": "2020-12-09T07:15:18Z", "type": "commit"}, {"oid": "4e3b76eacb2d63132b1c8aadb87602293215584e", "url": "https://github.com/Talend/tdi-studio-se/commit/4e3b76eacb2d63132b1c8aadb87602293215584e", "message": "feat(TUP-25346):format the code", "committedDate": "2020-12-09T09:23:52Z", "type": "commit"}, {"oid": "5c53b4c2fb2c802c4c80cfe66912ca1661037d65", "url": "https://github.com/Talend/tdi-studio-se/commit/5c53b4c2fb2c802c4c80cfe66912ca1661037d65", "message": "feat(TUP-25346):format the code", "committedDate": "2020-12-09T09:34:47Z", "type": "commit"}]}