{"pr_number": 5283, "pr_title": "disable restoring brightness if brightness gesture is disabled", "pr_createdAt": "2020-12-26T17:53:20Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/5283", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTM2Nzk0NA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5283#discussion_r549367944", "bodyText": "you can replace getContext() with activity here", "author": "Redirion", "createdAt": "2020-12-28T14:31:19Z", "path": "app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java", "diffHunk": "@@ -2048,6 +2048,10 @@ private void setupBrightness() {\n             // Apply system brightness when the player is not in fullscreen\n             restoreDefaultBrightness();\n         } else {\n+            // Do not restore if user has disabled brightness gesture\n+            if (!PlayerHelper.isBrightnessGestureEnabled(getContext())) {", "originalCommit": "a6344126a682a0377ad736d2be26fdf0cadb9e07", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d45ce19b04f175cbb2fd22fd01636e5e2bdb5ca9", "chunk": "diff --git a/app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java b/app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java\nindex f951637ba..0da79d4c2 100644\n--- a/app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java\n+++ b/app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java\n\n@@ -2049,7 +2049,7 @@ public final class VideoDetailFragment\n             restoreDefaultBrightness();\n         } else {\n             // Do not restore if user has disabled brightness gesture\n-            if (!PlayerHelper.isBrightnessGestureEnabled(getContext())) {\n+            if (!PlayerHelper.isBrightnessGestureEnabled(activity)) {\n                 return;\n             }\n             // Restore already saved brightness level\n"}}, {"oid": "d45ce19b04f175cbb2fd22fd01636e5e2bdb5ca9", "url": "https://github.com/TeamNewPipe/NewPipe/commit/d45ce19b04f175cbb2fd22fd01636e5e2bdb5ca9", "message": "Fix #4481", "committedDate": "2020-12-28T14:46:10Z", "type": "commit"}]}