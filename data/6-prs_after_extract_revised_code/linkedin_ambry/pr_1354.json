{"pr_number": 1354, "pr_title": "Dont return bytes on simple blob when getChunkIdsOnly is true", "pr_createdAt": "2020-01-09T00:06:08Z", "pr_url": "https://github.com/linkedin/ambry/pull/1354", "timeline": [{"oid": "df6f2f26921f1031d921a42a4a384d5d0294dfe8", "url": "https://github.com/linkedin/ambry/commit/df6f2f26921f1031d921a42a4a384d5d0294dfe8", "message": "Dont return bytes on simple blob when getChunkIdsOnly is true", "committedDate": "2020-01-09T00:04:52Z", "type": "commit"}, {"oid": "10848315d47b9defb03096863b46cd964df891cb", "url": "https://github.com/linkedin/ambry/commit/10848315d47b9defb03096863b46cd964df891cb", "message": "Add test", "committedDate": "2020-01-09T00:50:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUxODg1OQ==", "url": "https://github.com/linkedin/ambry/pull/1354#discussion_r364518859", "bodyText": "Thanks for adding this test. Is there a test case getChunkIdsOnly with composite blobs anywhere? If not, it may be worth adding", "author": "cgtz", "createdAt": "2020-01-09T01:08:06Z", "path": "ambry-router/src/test/java/com.github.ambry.router/GetBlobOperationTest.java", "diffHunk": "@@ -363,6 +363,19 @@ public void testSimpleBlobRawMode() throws Exception {\n     }\n   }\n \n+  /**\n+   * Test gets of simple blob with getChunkIdsOnly being true.\n+   */\n+  @Test\n+  public void testSimpleBlobGetChunkIdsOnly() throws Exception {\n+    blobSize = maxChunkSize;\n+    doPut();\n+    options =\n+        new GetBlobOptionsInternal(new GetBlobOptionsBuilder().operationType(GetBlobOptions.OperationType.All).build(),\n+            true, routerMetrics.ageAtGet);\n+    getAndAssertSuccess();\n+  }", "originalCommit": "10848315d47b9defb03096863b46cd964df891cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUxOTg2MQ==", "url": "https://github.com/linkedin/ambry/pull/1354#discussion_r364519861", "bodyText": "added.", "author": "justinlin-linkedin", "createdAt": "2020-01-09T01:12:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUxODg1OQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "07b05cf15fe6eba5c4787739b52c1540c8a9fe5d", "url": "https://github.com/linkedin/ambry/commit/07b05cf15fe6eba5c4787739b52c1540c8a9fe5d", "message": "Add more tests", "committedDate": "2020-01-09T01:12:11Z", "type": "commit"}]}