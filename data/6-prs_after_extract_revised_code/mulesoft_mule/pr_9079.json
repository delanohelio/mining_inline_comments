{"pr_number": 9079, "pr_title": "MULE-17863: Avoid file leak in TlsConfiguration", "pr_createdAt": "2020-07-20T15:54:45Z", "pr_url": "https://github.com/mulesoft/mule/pull/9079", "timeline": [{"oid": "74a8ea4a94b6c3c9a5ba93727ab3dbe6330df50a", "url": "https://github.com/mulesoft/mule/commit/74a8ea4a94b6c3c9a5ba93727ab3dbe6330df50a", "message": "MULE-17863: Avoid file leak in TlsConfiguration", "committedDate": "2020-07-20T15:52:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzUyMTUyNg==", "url": "https://github.com/mulesoft/mule/pull/9079#discussion_r457521526", "bodyText": "Add new-line before {", "author": "eze210", "createdAt": "2020-07-20T16:00:36Z", "path": "core/src/main/java/org/mule/api/security/tls/TlsConfiguration.java", "diffHunk": "@@ -324,7 +325,7 @@ protected KeyStore loadKeyStore() throws GeneralSecurityException, IOException\n     {\n         KeyStore tempKeyStore = KeyStore.getInstance(keystoreType);\n \n-        InputStream is = IOUtils.getResourceAsStream(keyStoreName, getClass());\n+       try(InputStream is = IOUtils.getResourceAsStream(keyStoreName, getClass())) {", "originalCommit": "74a8ea4a94b6c3c9a5ba93727ab3dbe6330df50a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "10bd25ee350e7cf4db9470b29914bb0a4af30cd8", "chunk": "diff --git a/core/src/main/java/org/mule/api/security/tls/TlsConfiguration.java b/core/src/main/java/org/mule/api/security/tls/TlsConfiguration.java\nindex 5b0bbfbde09..536dcaff2e2 100644\n--- a/core/src/main/java/org/mule/api/security/tls/TlsConfiguration.java\n+++ b/core/src/main/java/org/mule/api/security/tls/TlsConfiguration.java\n\n@@ -325,16 +325,17 @@ public final class TlsConfiguration\n     {\n         KeyStore tempKeyStore = KeyStore.getInstance(keystoreType);\n \n-       try(InputStream is = IOUtils.getResourceAsStream(keyStoreName, getClass())) {\n-        if (null == is)\n+        try (InputStream is = IOUtils.getResourceAsStream(keyStoreName, getClass()))\n         {\n-            throw new FileNotFoundException(\n-                    cannotLoadFromClasspath(\"Keystore: \" + keyStoreName).getMessage());\n-        }\n+            if (null == is)\n+            {\n+                throw new FileNotFoundException(\n+                        cannotLoadFromClasspath(\"Keystore: \" + keyStoreName).getMessage());\n+            }\n \n-        tempKeyStore.load(is, keyStorePassword.toCharArray());\n-        return tempKeyStore;\n-       }\n+            tempKeyStore.load(is, keyStorePassword.toCharArray());\n+            return tempKeyStore;\n+        }\n     }\n \n     protected void checkKeyStoreContainsAlias(KeyStore keyStore) throws KeyStoreException\n"}}, {"oid": "10bd25ee350e7cf4db9470b29914bb0a4af30cd8", "url": "https://github.com/mulesoft/mule/commit/10bd25ee350e7cf4db9470b29914bb0a4af30cd8", "message": "Formatting.", "committedDate": "2020-07-20T16:01:03Z", "type": "commit"}]}