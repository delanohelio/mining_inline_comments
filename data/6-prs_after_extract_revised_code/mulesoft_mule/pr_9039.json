{"pr_number": 9039, "pr_title": "MULE-18543: ComponentAst parameter provide a way to know if value com\u2026", "pr_createdAt": "2020-07-11T22:33:06Z", "pr_url": "https://github.com/mulesoft/mule/pull/9039", "timeline": [{"oid": "30679ba0601410862546657d27d71574f7d39986", "url": "https://github.com/mulesoft/mule/commit/30679ba0601410862546657d27d71574f7d39986", "message": "MULE-18543: ComponentAst parameter provide a way to know if value comes from a default value or DSL", "committedDate": "2020-07-11T21:44:25Z", "type": "commit"}, {"oid": "4c3780f6a15f21d4d650a4ff00bab95f2d96545a", "url": "https://github.com/mulesoft/mule/commit/4c3780f6a15f21d4d650a4ff00bab95f2d96545a", "message": "MULE-18543: rename test case", "committedDate": "2020-07-13T17:08:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgxNzM3Mw==", "url": "https://github.com/mulesoft/mule/pull/9039#discussion_r453817373", "bodyText": "I'm pretty sure this is also being done when value is set: getModel().getDefaultValue()\nWouldn't be better to set the isDefault=true when the value was set and populated from the getModel().getDefaultValue()? Or maybe I'm wrong and the default value already comes from the XSD.", "author": "gsfernandes", "createdAt": "2020-07-13T17:37:29Z", "path": "modules/spring-config/src/main/java/org/mule/runtime/config/internal/model/DefaultComponentParameterAst.java", "diffHunk": "@@ -173,4 +173,14 @@ public ParameterModel getModel() {\n     return ofNullable(metadata);\n   }\n \n+  @Override\n+  public boolean isDefault() {\n+    return ofNullable(getRawValue()).map(v -> {\n+      if (getModel() != null && getModel().getDefaultValue() != null) {", "originalCommit": "4c3780f6a15f21d4d650a4ff00bab95f2d96545a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgxODc1Nw==", "url": "https://github.com/mulesoft/mule/pull/9039#discussion_r453818757", "bodyText": "If the default value comes from the XSD we should leave this logic here to be based on the model definition.", "author": "gsfernandes", "createdAt": "2020-07-13T17:40:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgxNzM3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "7031220dcd2c0a78f871191f5aa102c132fba710", "chunk": "diff --git a/modules/spring-config/src/main/java/org/mule/runtime/config/internal/model/DefaultComponentParameterAst.java b/modules/spring-config/src/main/java/org/mule/runtime/config/internal/model/DefaultComponentParameterAst.java\nindex a08733db3b0..092dcebd438 100644\n--- a/modules/spring-config/src/main/java/org/mule/runtime/config/internal/model/DefaultComponentParameterAst.java\n+++ b/modules/spring-config/src/main/java/org/mule/runtime/config/internal/model/DefaultComponentParameterAst.java\n\n@@ -174,7 +174,7 @@ public class DefaultComponentParameterAst implements ComponentParameterAst {\n   }\n \n   @Override\n-  public boolean isDefault() {\n+  public boolean isDefaultValue() {\n     return ofNullable(getRawValue()).map(v -> {\n       if (getModel() != null && getModel().getDefaultValue() != null) {\n         return v.equals(getModel().getDefaultValue());\n"}}, {"oid": "7031220dcd2c0a78f871191f5aa102c132fba710", "url": "https://github.com/mulesoft/mule/commit/7031220dcd2c0a78f871191f5aa102c132fba710", "message": "MULE-18543: review", "committedDate": "2020-07-14T01:11:59Z", "type": "commit"}]}