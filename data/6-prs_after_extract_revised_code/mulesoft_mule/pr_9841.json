{"pr_number": 9841, "pr_title": "MULE-19042: fix until successful on async events", "pr_createdAt": "2020-12-11T15:42:20Z", "pr_url": "https://github.com/mulesoft/mule/pull/9841", "timeline": [{"oid": "90c3c207de7d476b6a5eebcc6026b84231127cf8", "url": "https://github.com/mulesoft/mule/commit/90c3c207de7d476b6a5eebcc6026b84231127cf8", "message": "MULE-19042: fix until successful on async events", "committedDate": "2020-12-11T15:39:02Z", "type": "commit"}, {"oid": "d300cb364343f08a22797f7ff67b6602c74639f5", "url": "https://github.com/mulesoft/mule/commit/d300cb364343f08a22797f7ff67b6602c74639f5", "message": "fix until successful", "committedDate": "2020-12-11T15:41:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA0MzAxMQ==", "url": "https://github.com/mulesoft/mule/pull/9841#discussion_r541043011", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static MuleEvent copyAndSetSynchronicity(MuleEvent event, boolean synchronous)\n          \n          \n            \n                public static MuleEvent copyAndWithSynchronicity(MuleEvent event, boolean synchronous)", "author": "mbuchwald", "createdAt": "2020-12-11T15:49:11Z", "path": "core/src/main/java/org/mule/DefaultMuleEvent.java", "diffHunk": "@@ -1174,6 +1174,32 @@ public static MuleEvent copy(MuleEvent event)\n         return eventCopy;\n     }\n \n+    /**\n+     * This method does a complete deep copy of the event and set the Synchronicity.\n+     *\n+     * This method should be used whenever the event is going to be executed\n+     * in a different context and changes to that event must not effect the source event.\n+     *\n+     * @param event the event that must be copied\n+     * @return the copied event\n+     */\n+    public static MuleEvent copyAndSetSynchronicity(MuleEvent event, boolean synchronous)", "originalCommit": "d300cb364343f08a22797f7ff67b6602c74639f5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "44333085af130eaa203c77dc42e466070abc1a25", "chunk": "diff --git a/core/src/main/java/org/mule/DefaultMuleEvent.java b/core/src/main/java/org/mule/DefaultMuleEvent.java\nindex 665f047216e..87918fb9a6b 100644\n--- a/core/src/main/java/org/mule/DefaultMuleEvent.java\n+++ b/core/src/main/java/org/mule/DefaultMuleEvent.java\n\n@@ -1183,7 +1183,7 @@ public class DefaultMuleEvent implements MuleEvent, ThreadSafeAccess, Deserializ\n      * @param event the event that must be copied\n      * @return the copied event\n      */\n-    public static MuleEvent copyAndSetSynchronicity(MuleEvent event, boolean synchronous)\n+    public static MuleEvent copyWithSynchronicity(MuleEvent event, boolean synchronous)\n     {\n         MuleMessage messageCopy = (MuleMessage) ((ThreadSafeAccess) event.getMessage()).newThreadCopy();\n         DefaultMuleEvent eventCopy = new DefaultMuleEvent(messageCopy, event, new DefaultMuleSession(\n"}}, {"oid": "44333085af130eaa203c77dc42e466070abc1a25", "url": "https://github.com/mulesoft/mule/commit/44333085af130eaa203c77dc42e466070abc1a25", "message": "rename method", "committedDate": "2020-12-11T15:53:52Z", "type": "commit"}]}