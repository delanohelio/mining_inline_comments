{"pr_number": 2551, "pr_title": "wappalyzer: Add technology descriptions to tooltip/API output", "pr_createdAt": "2020-09-28T03:36:21Z", "pr_url": "https://github.com/zaproxy/zap-extensions/pull/2551", "timeline": [{"oid": "c41ae648ec13f65590b42a94f4e343b0283c7219", "url": "https://github.com/zaproxy/zap-extensions/commit/c41ae648ec13f65590b42a94f4e343b0283c7219", "message": "Add technology descriptions to tooltip/API output\n\n- Application > Add description field, getter and setter.\n- TechPanel > Add handling for getting the tooltip based on the\ndescription.\n- WappalyzerAPI > Include the description in detailed API output.\n- WappalyzerJsonParser > Set the description when available.\n- CHANGELOG > Add a change note.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-09-28T03:41:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY3NDIwMA==", "url": "https://github.com/zaproxy/zap-extensions/pull/2551#discussion_r495674200", "bodyText": "If empty string is returned then a weird blank box is shown (in dark mode anyway).", "author": "kingthorin", "createdAt": "2020-09-28T03:42:17Z", "path": "addOns/wappalyzer/src/main/java/org/zaproxy/zap/extension/wappalyzer/TechPanel.java", "diffHunk": "@@ -174,7 +175,24 @@ private JScrollPane getJScrollPane() {\n \n     protected JXTable getTechTable() {\n         if (techTable == null) {\n-            techTable = new JXTable(techModel);\n+            techTable =\n+                    new JXTable(techModel) {\n+                        private static final long serialVersionUID = -5249686560976842645L;\n+\n+                        @Override\n+                        public String getToolTipText(MouseEvent e) {\n+                            String tip = \"\";\n+                            int rowIndex = rowAtPoint(e.getPoint());\n+\n+                            try {\n+                                tip = techModel.getApp(rowIndex).getDescription();\n+                            } catch (RuntimeException e1) {\n+                                // Ignore\n+                            }\n+\n+                            return tip.isEmpty() ? null : tip;", "originalCommit": "c41ae648ec13f65590b42a94f4e343b0283c7219", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0242656846ace13de7fba5d83a93e72303821f03", "chunk": "diff --git a/addOns/wappalyzer/src/main/java/org/zaproxy/zap/extension/wappalyzer/TechPanel.java b/addOns/wappalyzer/src/main/java/org/zaproxy/zap/extension/wappalyzer/TechPanel.java\nindex 936ca145c..93ac70c91 100644\n--- a/addOns/wappalyzer/src/main/java/org/zaproxy/zap/extension/wappalyzer/TechPanel.java\n+++ b/addOns/wappalyzer/src/main/java/org/zaproxy/zap/extension/wappalyzer/TechPanel.java\n\n@@ -184,10 +184,11 @@ public class TechPanel extends AbstractPanel {\n                             String tip = \"\";\n                             int rowIndex = rowAtPoint(e.getPoint());\n \n-                            try {\n-                                tip = techModel.getApp(rowIndex).getDescription();\n-                            } catch (RuntimeException e1) {\n-                                // Ignore\n+                            if (rowIndex != -1) {\n+                                tip =\n+                                        techModel\n+                                                .getApp(convertRowIndexToModel(rowIndex))\n+                                                .getDescription();\n                             }\n \n                             return tip.isEmpty() ? null : tip;\n"}}, {"oid": "0242656846ace13de7fba5d83a93e72303821f03", "url": "https://github.com/zaproxy/zap-extensions/commit/0242656846ace13de7fba5d83a93e72303821f03", "message": "Add technology descriptions to tooltip/API output\n\n- Application > Add description field, getter and setter.\n- TechPanel > Add handling for getting the tooltip based on the\ndescription.\n- WappalyzerAPI > Include the description in detailed API output.\n- WappalyzerJsonParser > Set the description when available.\n- CHANGELOG > Add a change note.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-09-28T13:59:07Z", "type": "commit"}, {"oid": "0242656846ace13de7fba5d83a93e72303821f03", "url": "https://github.com/zaproxy/zap-extensions/commit/0242656846ace13de7fba5d83a93e72303821f03", "message": "Add technology descriptions to tooltip/API output\n\n- Application > Add description field, getter and setter.\n- TechPanel > Add handling for getting the tooltip based on the\ndescription.\n- WappalyzerAPI > Include the description in detailed API output.\n- WappalyzerJsonParser > Set the description when available.\n- CHANGELOG > Add a change note.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-09-28T13:59:07Z", "type": "forcePushed"}, {"oid": "7ca8f52b9b554dba7ba62e247cd4ea5073105ba7", "url": "https://github.com/zaproxy/zap-extensions/commit/7ca8f52b9b554dba7ba62e247cd4ea5073105ba7", "message": "Add WappalyzerJsonParser UnitTest\n\n- apps.json > A stripped down version of the input file with a single\nentry to facilitate testing.\n- WappalyzerJsonParser > Add new utility method for parsing a file with\nagiven path.\n- WappalyzerJsonParserUnitTest > The new UnitTest class.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-09-28T15:09:27Z", "type": "forcePushed"}, {"oid": "c60a67e86714e1244ee50e75f36c84ab49c16809", "url": "https://github.com/zaproxy/zap-extensions/commit/c60a67e86714e1244ee50e75f36c84ab49c16809", "message": "Add WappalyzerJsonParser UnitTest\n\n- apps.json > A stripped down version of the input file with a single\nentry to facilitate testing.\n- WappalyzerJsonParser > Add new utility method for parsing a file with\nagiven path.\n- WappalyzerJsonParserUnitTest > The new UnitTest class.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-09-28T15:11:25Z", "type": "commit"}, {"oid": "c60a67e86714e1244ee50e75f36c84ab49c16809", "url": "https://github.com/zaproxy/zap-extensions/commit/c60a67e86714e1244ee50e75f36c84ab49c16809", "message": "Add WappalyzerJsonParser UnitTest\n\n- apps.json > A stripped down version of the input file with a single\nentry to facilitate testing.\n- WappalyzerJsonParser > Add new utility method for parsing a file with\nagiven path.\n- WappalyzerJsonParserUnitTest > The new UnitTest class.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-09-28T15:11:25Z", "type": "forcePushed"}]}