{"pr_number": 26072, "pr_title": "Add an API to retrieve position info from the public symbol API", "pr_createdAt": "2020-09-24T10:29:52Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26072", "timeline": [{"oid": "ddcad680afac51e31f7a0fe448caaf03b6c0e731", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ddcad680afac51e31f7a0fe448caaf03b6c0e731", "message": "Add a method to access the position from the public symbol API", "committedDate": "2020-09-24T17:20:31Z", "type": "commit"}, {"oid": "2fbe94c4ea25bd8344e0f915bf0e9f6cb8dcbe5b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2fbe94c4ea25bd8344e0f915bf0e9f6cb8dcbe5b", "message": "Add test cases for symbol positions", "committedDate": "2020-09-24T17:20:35Z", "type": "commit"}, {"oid": "48042f0ef10066bd344c14e6ed4069912f0e702c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/48042f0ef10066bd344c14e6ed4069912f0e702c", "message": "Fix null pointer dereferencing issue", "committedDate": "2020-09-24T17:20:35Z", "type": "commit"}, {"oid": "48042f0ef10066bd344c14e6ed4069912f0e702c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/48042f0ef10066bd344c14e6ed4069912f0e702c", "message": "Fix null pointer dereferencing issue", "committedDate": "2020-09-24T17:20:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUxMTc2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26072#discussion_r494511761", "bodyText": "Went with position() for this since this is the term we are used to in the compiler. Should this be changed to something else? location() for example?", "author": "pubudu91", "createdAt": "2020-09-24T18:06:15Z", "path": "compiler/ballerina-compiler-api/src/main/java/org/ballerina/compiler/api/symbols/Symbol.java", "diffHunk": "@@ -44,17 +45,25 @@\n \n     /**\n      * Get the Symbol Kind.\n-     * \n+     *\n      * @return {@link SymbolKind} of the symbol\n      */\n     SymbolKind kind();\n \n     /**\n      * Get the Documentation attachment bound to the symbol.\n-     * \n+     *\n      * @return {@link Optional} doc attachment\n      */\n     Optional<Documentation> docAttachment();\n \n+    /**\n+     * This retrieves position information of the symbol in the source code. The position given here is the location of\n+     * the definition of the symbol.\n+     *\n+     * @return The position information of the symbol\n+     */\n+    Location position();", "originalCommit": "48042f0ef10066bd344c14e6ed4069912f0e702c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDcwNTY1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26072#discussion_r494705654", "bodyText": "What if we change the model name Position? Either way I would +1 for Position position() or Location location()", "author": "nadeeshaan", "createdAt": "2020-09-25T02:05:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUxMTc2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDczMDUxOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26072#discussion_r494730518", "bodyText": "+1 for location().\nWe use the same in the syntax tree as well.", "author": "SupunS", "createdAt": "2020-09-25T03:44:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUxMTc2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "c3cdf55ba4a8f187fa8204ca9c17ffebd3473757", "chunk": "diff --git a/compiler/ballerina-compiler-api/src/main/java/org/ballerina/compiler/api/symbols/Symbol.java b/compiler/ballerina-compiler-api/src/main/java/org/ballerina/compiler/api/symbols/Symbol.java\nindex 0784de34fda..1c715796efa 100644\n--- a/compiler/ballerina-compiler-api/src/main/java/org/ballerina/compiler/api/symbols/Symbol.java\n+++ b/compiler/ballerina-compiler-api/src/main/java/org/ballerina/compiler/api/symbols/Symbol.java\n\n@@ -63,7 +63,7 @@ public interface Symbol {\n      *\n      * @return The position information of the symbol\n      */\n-    Location position();\n+    Location location();\n \n     // TODO: Add the annotation attachment API\n }\n"}}, {"oid": "384602d3e7b96488ae8c050c82fe73098ee69e92", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/384602d3e7b96488ae8c050c82fe73098ee69e92", "message": "Fix symbol positions for type narrowed symbols", "committedDate": "2020-09-25T03:13:15Z", "type": "commit"}, {"oid": "c437382ec3deed4254cd5c6d6ed27782fbb96474", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c437382ec3deed4254cd5c6d6ed27782fbb96474", "message": "Add tests for type narrowed symbol positions", "committedDate": "2020-09-25T03:13:48Z", "type": "commit"}, {"oid": "c3cdf55ba4a8f187fa8204ca9c17ffebd3473757", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c3cdf55ba4a8f187fa8204ca9c17ffebd3473757", "message": "Rename position() -> location()", "committedDate": "2020-09-25T08:22:17Z", "type": "commit"}]}