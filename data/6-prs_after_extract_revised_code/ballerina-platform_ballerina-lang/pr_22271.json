{"pr_number": 22271, "pr_title": "[master] Add deprecation support", "pr_createdAt": "2020-03-27T11:02:50Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22271", "timeline": [{"oid": "f090c3b93f5b6c36acc283dc38dc2b5119df12d0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f090c3b93f5b6c36acc283dc38dc2b5119df12d0", "message": "Import the changes from 1.2.x branch", "committedDate": "2020-04-01T09:55:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA0OTkxNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22271#discussion_r402049917", "bodyText": "Please undo this change.", "author": "MaryamZi", "createdAt": "2020-04-02T04:50:32Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserListener.java", "diffHunk": "@@ -1,4 +1,4 @@\n-// Generated from BallerinaParser.g4 by ANTLR 4.5.3\n+// Generated from /home/kavindu/WSO2-GIT/test/ballerina-lang/compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4 by ANTLR 4.5.3", "originalCommit": "7a033a4b332e7af460eca6ce19041067332fa71d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA2OTg0Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22271#discussion_r402069847", "bodyText": "Done", "author": "KavinduZoysa", "createdAt": "2020-04-02T06:03:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA0OTkxNw=="}], "type": "inlineReview", "revised_code": {"commit": "bcd1e604c7fb3c3932106065c9cb0a2441894a39", "chunk": "diff --git a/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserListener.java b/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserListener.java\nindex fc0b425c374..36bfeca5b02 100644\n--- a/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserListener.java\n+++ b/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserListener.java\n\n@@ -1,4 +1,4 @@\n-// Generated from /home/kavindu/WSO2-GIT/test/ballerina-lang/compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4 by ANTLR 4.5.3\n+// Generated from BallerinaParser.g4 by ANTLR 4.5.3\n package org.wso2.ballerinalang.compiler.parser.antlr4;\n import org.antlr.v4.runtime.tree.ParseTreeListener;\n \n"}}, {"oid": "bcd1e604c7fb3c3932106065c9cb0a2441894a39", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bcd1e604c7fb3c3932106065c9cb0a2441894a39", "message": "Sync with 1.2.x", "committedDate": "2020-04-02T06:02:14Z", "type": "forcePushed"}, {"oid": "ea5292bf0b621718d29cfe406f2ec7611f751a4d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ea5292bf0b621718d29cfe406f2ec7611f751a4d", "message": "Add tests to validate the annotations expression", "committedDate": "2020-04-02T19:37:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU2NzI1Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22271#discussion_r402567257", "bodyText": "Shall we call this AnnotationExpressionCodeAnalysisNegative.java and similarly the .bal file annot_attachment_expression_code_analysis_negative.bal?", "author": "MaryamZi", "createdAt": "2020-04-02T19:43:22Z", "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/annotations/AnnotationExpressionNegative.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*", "originalCommit": "ea5292bf0b621718d29cfe406f2ec7611f751a4d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNzc5Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22271#discussion_r402727796", "bodyText": "Done", "author": "KavinduZoysa", "createdAt": "2020-04-03T04:16:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU2NzI1Nw=="}], "type": "inlineReview", "revised_code": {"commit": "516dedf2c4e79b27ab1e9b1237584e5d0ba13b20", "chunk": "diff --git a/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/annotations/AnnotationExpressionNegative.java b/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/annotations/AnnotationExpressionNegative.java\ndeleted file mode 100644\nindex 2fd77996e5c..00000000000\n--- a/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/annotations/AnnotationExpressionNegative.java\n+++ /dev/null\n\n@@ -1,48 +0,0 @@\n-/*\n- *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n- *\n- *  WSO2 Inc. licenses this file to you under the Apache License,\n- *  Version 2.0 (the \"License\"); you may not use this file except\n- *  in compliance with the License.\n- *  You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- *  Unless required by applicable law or agreed to in writing,\n- *  software distributed under the License is distributed on an\n- *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- *  KIND, either express or implied.  See the License for the\n- *  specific language governing permissions and limitations\n- *  under the License.\n- */\n-\n-package org.ballerinalang.test.annotations;\n-\n-import org.ballerinalang.test.util.BAssertUtil;\n-import org.ballerinalang.test.util.BCompileUtil;\n-import org.ballerinalang.test.util.CompileResult;\n-import org.testng.Assert;\n-import org.testng.annotations.BeforeClass;\n-import org.testng.annotations.Test;\n-\n-public class AnnotationExpressionNegative {\n-    private CompileResult compileResult;\n-\n-    @BeforeClass\n-    public void setup() {\n-        compileResult = BCompileUtil.compile(\"test-src/annotations/annot_attachment_expression_negative.bal\");\n-        Assert.assertEquals(compileResult.getErrorCount(), 4);\n-    }\n-\n-    @Test(description = \"Validate the annotations attachment the expression\")\n-    public void testAttachmentExpression() {\n-        int i = 0;\n-        BAssertUtil.validateError(compileResult, i++, \"invalid key 'i': identifiers cannot be used as rest field \" +\n-                \"keys, expected a string literal or an expression\", 10, 5);\n-        BAssertUtil.validateError(compileResult, i++, \"'null' literal is only supported for 'json'\", 24, 9);\n-        BAssertUtil.validateError(compileResult, i++, \"invalid usage of record literal: duplicate key 'i' via spread \" +\n-                \"operator '...fl'\", 48, 8);\n-        BAssertUtil.validateError(compileResult, i, \"invalid usage of record literal: duplicate key 's'\", 49, 5);\n-    }\n-\n-}\n"}}, {"oid": "516dedf2c4e79b27ab1e9b1237584e5d0ba13b20", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/516dedf2c4e79b27ab1e9b1237584e5d0ba13b20", "message": "Change grammer to add deprecated param doc", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "d68973727541ca5eb8b6cba1a8d424d4bca35140", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d68973727541ca5eb8b6cba1a8d424d4bca35140", "message": "Support deprecation for params, fields and annotations", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "40eccc2a74ff0c5be65fa6e968f0041886465417", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/40eccc2a74ff0c5be65fa6e968f0041886465417", "message": "Add tests", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "5e8dba67a81828f299edfa9738a18e99a27af4a3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5e8dba67a81828f299edfa9738a18e99a27af4a3", "message": "Support for rest param", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "0f608ac0ef099bba604f0f72b9d0d410d5bc7351", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0f608ac0ef099bba604f0f72b9d0d410d5bc7351", "message": "Add unit tests for rest params", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "c6769e1f2de38f7955f0edc9a1fa9cf4582de0d7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c6769e1f2de38f7955f0edc9a1fa9cf4582de0d7", "message": "Fix checkstyle", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "76903751ac4a0a2c552774a4305727645c507e48", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/76903751ac4a0a2c552774a4305727645c507e48", "message": "Fix failure unit tests", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "d171aabcd38fb72428fc080b63eb3a20ee42d39a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d171aabcd38fb72428fc080b63eb3a20ee42d39a", "message": "Import the changes from 1.2.x branch", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "d0b76bb5758658243d8aace8e66450aa9664e5dc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d0b76bb5758658243d8aace8e66450aa9664e5dc", "message": "Fix failure tests", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "a3c519575071786ac21207c6de391377ddb67a0c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a3c519575071786ac21207c6de391377ddb67a0c", "message": "Sync with 1.2.x", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "6cd8b79b24d899f19ee6e3da24f5a5b45eeb2a80", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6cd8b79b24d899f19ee6e3da24f5a5b45eeb2a80", "message": "Add tests to validate the annotations expression", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "9c412a3e5a7d4a5b0f5469ea6c461d85226fc80f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9c412a3e5a7d4a5b0f5469ea6c461d85226fc80f", "message": "Rename the class", "committedDate": "2020-04-03T06:18:58Z", "type": "commit"}, {"oid": "ee34eab78310b68c20a552db0e188869fa350a86", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ee34eab78310b68c20a552db0e188869fa350a86", "message": "Fix failure tests", "committedDate": "2020-04-03T06:29:45Z", "type": "commit"}, {"oid": "ee34eab78310b68c20a552db0e188869fa350a86", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ee34eab78310b68c20a552db0e188869fa350a86", "message": "Fix failure tests", "committedDate": "2020-04-03T06:29:45Z", "type": "forcePushed"}]}