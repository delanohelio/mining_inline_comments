{"pr_number": 26383, "pr_title": "Fix qualfiers and object constructor indentations", "pr_createdAt": "2020-10-16T08:36:44Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26383", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjE4MDMxNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26383#discussion_r506180317", "bodyText": "Is this if block intentional?", "author": "IrushiL", "createdAt": "2020-10-16T08:44:08Z", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3746,16 +3746,20 @@ public Token transform(Token token) {\n         for (int index = 0; index < size; index++) {\n             T oldNode = nodeList.get(index);\n             T newNode;\n-            boolean prevPreserveNL = env.preserveNewlines;\n-            env.preserveNewlines = preserveNL;\n-            if (index == size - 1) {\n-                // This is the last item of the list. Trailing WS and NL for the last item on the list\n-                // should be the WS and NL of the entire list\n-                newNode = formatNode(oldNode, listTrailingWS, listTrailingNL);\n+            if (preserveNL) {\n+                boolean prevPreserveNL = env.preserveNewlines;\n+                env.preserveNewlines = preserveNL;\n+                newNode = formatListItem(itemTrailingWS, itemTrailingNL, listTrailingWS, listTrailingNL, size, index,\n+                        oldNode);\n+\n+                if (preserveNL) {\n+                    env.preserveNewlines = prevPreserveNL;\n+                }", "originalCommit": "12f1d21e38597820fd31b27064a682eb8fd8815a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3a97064d7a3c98a086263585b4cad40daf906919", "chunk": "diff --git a/misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java b/misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java\nindex 5e10374595a..5b9ada46d9f 100644\n--- a/misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java\n+++ b/misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java\n\n@@ -3751,12 +3751,9 @@ public class NewFormattingTreeModifier extends TreeModifier {\n                 env.preserveNewlines = preserveNL;\n                 newNode = formatListItem(itemTrailingWS, itemTrailingNL, listTrailingWS, listTrailingNL, size, index,\n                         oldNode);\n-\n-                if (preserveNL) {\n-                    env.preserveNewlines = prevPreserveNL;\n-                }\n+                env.preserveNewlines = prevPreserveNL;\n             } else {\n-                // If preserve newlines false, then honour what is coming from the environment.\n+                // If preserve newlines is false, then honour what is coming from the environment.\n                 newNode = formatListItem(itemTrailingWS, itemTrailingNL, listTrailingWS, listTrailingNL, size, index,\n                         oldNode);\n             }\n"}}, {"oid": "3a97064d7a3c98a086263585b4cad40daf906919", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3a97064d7a3c98a086263585b4cad40daf906919", "message": "Fix qualfiers and object constructor indentations", "committedDate": "2020-10-16T09:07:35Z", "type": "commit"}, {"oid": "3a97064d7a3c98a086263585b4cad40daf906919", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3a97064d7a3c98a086263585b4cad40daf906919", "message": "Fix qualfiers and object constructor indentations", "committedDate": "2020-10-16T09:07:35Z", "type": "forcePushed"}]}