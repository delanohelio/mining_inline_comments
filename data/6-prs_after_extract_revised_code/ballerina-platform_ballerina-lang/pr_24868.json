{"pr_number": 24868, "pr_title": "Enable JBallerinaUnitTests", "pr_createdAt": "2020-07-21T11:08:12Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/24868", "timeline": [{"oid": "0be0516d2bf6084aa616d41be93db78e1b284c3e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0be0516d2bf6084aa616d41be93db78e1b284c3e", "message": "Enable JBallerinaUnitTest", "committedDate": "2020-07-21T11:05:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc0NDYwMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24868#discussion_r458744603", "bodyText": "@m36dot aren't the old positions correct?\nIn L34 we have the error in details,\nprivate static final String INVALID_RESOURCE_PARAMETERS =\n            \"invalid resource parameter(s): cannot specify > 2 parameters without specifying path config and/or body \" +\n                    \"config in the resource annotation\";\n\nSo I feel position should be the position of annotation. Not function def start.\nI fixed this to get annotation positions.", "author": "lochana-chathura", "createdAt": "2020-07-22T12:10:32Z", "path": "stdlib/http/src/test/java/org/ballerinalang/stdlib/services/configuration/ResourceConfigPathTest.java", "diffHunk": "@@ -61,14 +61,14 @@ public void testPathParamAndSignatureParamMatch() {\n                 .compile(\"test-src/services/configuration/resource-arg--pathparam-match.bal\");\n         Diagnostic[] diag = compileResult.getDiagnostics();\n         Assert.assertEquals(diag.length, 8);\n-        assertResponse(diag[0], INVALID_RESOURCE_PARAMETERS, 10);\n-        assertResponse(diag[1], INVALID_RESOURCE_PARAMETERS, 18);\n-        assertResponse(diag[2], INVALID_RESOURCE_PARAMETERS, 43);\n-        assertResponse(diag[3], \"Empty data binding param value\", 46);\n+        assertResponse(diag[0], INVALID_RESOURCE_PARAMETERS, 14);\n+        assertResponse(diag[1], INVALID_RESOURCE_PARAMETERS, 22);\n+        assertResponse(diag[2], \"Empty data binding param value\", 46);\n+        assertResponse(diag[3], INVALID_RESOURCE_PARAMETERS, 48);\n         assertResponse(diag[4], \"Invalid data binding param in the signature : expected 'naMe', but found 'name'\", 55);\n-        assertResponse(diag[5], INVALID_RESOURCE_PARAMETERS, 61);\n-        assertResponse(diag[6], \"Invalid data binding param in the signature : expected 'naMe', but found 'name'\", 63);\n-        assertResponse(diag[7], INVALID_RESOURCE_PARAMETERS, 69);\n+        assertResponse(diag[5], \"Invalid data binding param in the signature : expected 'naMe', but found 'name'\", 63);\n+        assertResponse(diag[6], INVALID_RESOURCE_PARAMETERS, 65);\n+        assertResponse(diag[7], INVALID_RESOURCE_PARAMETERS, 73);", "originalCommit": "0be0516d2bf6084aa616d41be93db78e1b284c3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1NDk2MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24868#discussion_r458754960", "bodyText": "@SupunS what do you think about this?", "author": "m36dot", "createdAt": "2020-07-22T12:29:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc0NDYwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkyMzY3OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24868#discussion_r458923679", "bodyText": "Hmm interesting case. Yea looks like the old positions are correct. But also, using the position of function-keyword as the position of the func itself also seems to be correct. :)\nI think we should first check which diag-position is being used to log the error.\nIf they are logging an error related to the annotation, but uses the pos of the function, then may be we should fix it there.", "author": "SupunS", "createdAt": "2020-07-22T16:28:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc0NDYwMw=="}], "type": "inlineReview", "revised_code": null}]}