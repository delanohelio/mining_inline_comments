{"pr_number": 25135, "pr_title": "Fix signature Help shows the first parameter for the langlib functions", "pr_createdAt": "2020-08-04T16:15:35Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25135", "timeline": [{"oid": "a29a34a03a29d20396b57176492e97742c7c7b15", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a29a34a03a29d20396b57176492e97742c7c7b15", "message": "Skip first param for lang-libs\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-05T08:18:22Z", "type": "commit"}, {"oid": "53fe586d7ab29a556f68d8d7310507e8b6c562fc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/53fe586d7ab29a556f68d8d7310507e8b6c562fc", "message": "Add signature-help test for langlibs\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-05T08:19:02Z", "type": "commit"}, {"oid": "53fe586d7ab29a556f68d8d7310507e8b6c562fc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/53fe586d7ab29a556f68d8d7310507e8b6c562fc", "message": "Add signature-help test for langlibs\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-05T08:19:02Z", "type": "forcePushed"}, {"oid": "779bc10ad8c80debb6b4e65ea7a60df8688a1fa3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/779bc10ad8c80debb6b4e65ea7a60df8688a1fa3", "message": "Fix broken test cases\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-06T04:35:03Z", "type": "commit"}, {"oid": "0541b6ccf97bdd26fb1350ab90e7f353a579ce69", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0541b6ccf97bdd26fb1350ab90e7f353a579ce69", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into fix-21740", "committedDate": "2020-08-07T19:36:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY3NDUzNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25135#discussion_r467674537", "bodyText": "This will capture all the langlib function symbols. I think here we need to capture the following case as well, where we need to show the hint for the first parameter, shall we cover that particular case well?\nvar s = 'int:abs(<cursor>)", "author": "nadeeshaan", "createdAt": "2020-08-10T03:37:38Z", "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/signature/SignatureHelpUtil.java", "diffHunk": "@@ -424,8 +424,14 @@ private static SignatureInfoModel getSignatureInfoModel(BInvokableSymbol bInvoka\n         if (restParam != null) {\n             parameters.add(new Parameter(restParam.name.value, restParam.type, false, true));\n         }\n+        boolean isLangLib = CommonUtil.isLangLibSymbol(bInvokableSymbol);", "originalCommit": "0541b6ccf97bdd26fb1350ab90e7f353a579ce69", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY5MTQ4Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25135#discussion_r467691487", "bodyText": "+1, this was not covered. will work on it", "author": "rasika", "createdAt": "2020-08-10T05:17:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY3NDUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg0NDA1Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25135#discussion_r467844057", "bodyText": "Fixed with 502b663", "author": "rasika", "createdAt": "2020-08-10T11:34:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY3NDUzNw=="}], "type": "inlineReview", "revised_code": {"commit": "502b66345968d62f46b0686111873439e41f57e2", "chunk": "diff --git a/language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/signature/SignatureHelpUtil.java b/language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/signature/SignatureHelpUtil.java\nindex fccc6dfae61..6102f07a04d 100644\n--- a/language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/signature/SignatureHelpUtil.java\n+++ b/language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/signature/SignatureHelpUtil.java\n\n@@ -424,10 +423,10 @@ public class SignatureHelpUtil {\n         if (restParam != null) {\n             parameters.add(new Parameter(restParam.name.value, restParam.type, false, true));\n         }\n-        boolean isLangLib = CommonUtil.isLangLibSymbol(bInvokableSymbol);\n+        boolean skipFirstParam = isMethodCall && CommonUtil.isLangLibSymbol(bInvokableSymbol);\n         // Create a list of param info models\n         for (int i = 0; i < parameters.size(); i++) {\n-            if (i == 0 && isLangLib) {\n+            if (i == 0 && skipFirstParam) {\n                 // If langlib, skip first param\n                 continue;\n             }\n"}}, {"oid": "502b66345968d62f46b0686111873439e41f57e2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/502b66345968d62f46b0686111873439e41f57e2", "message": "Fix signature help not appear in direct lang-lib invocations\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-10T11:29:04Z", "type": "commit"}]}