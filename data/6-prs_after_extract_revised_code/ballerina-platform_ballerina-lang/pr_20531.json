{"pr_number": 20531, "pr_title": "Support using type `byte` as `json`", "pr_createdAt": "2020-01-06T14:40:40Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/20531", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA2MDc2MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20531#discussion_r364060760", "bodyText": "Instead of removing this and the tests in https://github.com/ballerina-platform/ballerina-lang/pull/20531/files#diff-17ddc3514c16ada932b765cb849594b1L228, shall we change the tests to use some other non-JSON compatible field?", "author": "MaryamZi", "createdAt": "2020-01-08T04:35:52Z", "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/expressions/conversion/NativeConversionNegativeTest.java", "diffHunk": "@@ -87,14 +87,6 @@ public void testTupleConversionFail() {\n                 + \"T2]'\");\n     }\n \n-    @Test(description = \"Test converting an unsupported array to json\")", "originalCommit": "b54bce93d3e6eaebe9f988dd17dad3d3bfc59047", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA3OTExOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20531#discussion_r364079118", "bodyText": "Fixed with 091f20e", "author": "irshadnilam", "createdAt": "2020-01-08T06:24:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA2MDc2MA=="}], "type": "inlineReview", "revised_code": {"commit": "b69fd1a7da5f850e7fedbeef86b809e44a74d754", "chunk": "diff --git a/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/expressions/conversion/NativeConversionNegativeTest.java b/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/expressions/conversion/NativeConversionNegativeTest.java\nindex d6a88dbd7b8..e917a88bbc3 100644\n--- a/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/expressions/conversion/NativeConversionNegativeTest.java\n+++ b/tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/expressions/conversion/NativeConversionNegativeTest.java\n\n@@ -87,6 +87,14 @@ public class NativeConversionNegativeTest {\n                 + \"T2]'\");\n     }\n \n+    @Test(description = \"Test converting an unsupported array to json\")\n+    public void testArrayToJsonFail() {\n+        BValue[] returns = BRunUtil.invoke(negativeResult, \"testArrayToJsonFail\");\n+        Assert.assertTrue(returns[0] instanceof BError);\n+        String errorMsg = ((BMap<String, BValue>) ((BError) returns[0]).getDetails()).get(\"message\").stringValue();\n+        Assert.assertEquals(errorMsg, \"'TX[]' value cannot be converted to 'json'\");\n+    }\n+\n     @Test(description = \"Test passing tainted value with convert\")\n     public void testTaintedValue() {\n         Assert.assertEquals(taintCheckResult.getErrorCount(), 1);\n"}}, {"oid": "b69fd1a7da5f850e7fedbeef86b809e44a74d754", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b69fd1a7da5f850e7fedbeef86b809e44a74d754", "message": "Support using type `byte` as `json`", "committedDate": "2020-01-08T06:17:11Z", "type": "commit"}, {"oid": "f15d4cd8a52daa06990b4b64e2112785ea3cdea7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f15d4cd8a52daa06990b4b64e2112785ea3cdea7", "message": "Add more tests on using byte as json", "committedDate": "2020-01-08T06:22:47Z", "type": "commit"}, {"oid": "091f20ee401e21f690630dd8cf20c16f1e9a1b11", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/091f20ee401e21f690630dd8cf20c16f1e9a1b11", "message": "Fix conversion tests that no longer valid", "committedDate": "2020-01-08T06:22:53Z", "type": "commit"}]}