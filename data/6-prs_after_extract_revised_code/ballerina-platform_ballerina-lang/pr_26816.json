{"pr_number": 26816, "pr_title": "Fix jballerina unit tests", "pr_createdAt": "2020-11-09T05:31:21Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26816", "timeline": [{"oid": "9aec54f2c6a9a949d7d40a2823d024391cfa0690", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9aec54f2c6a9a949d7d40a2823d024391cfa0690", "message": "Enable `ObjectFieldDefaultValueTest` tests", "committedDate": "2020-11-09T05:02:31Z", "type": "commit"}, {"oid": "7f7f3b053d2ae3ae4d27cbcc4cc2eef39645720f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7f7f3b053d2ae3ae4d27cbcc4cc2eef39645720f", "message": "Enable `DeprecatedAnnotationTest` tests", "committedDate": "2020-11-09T05:11:20Z", "type": "commit"}, {"oid": "d875d123db744ab4e8d84a332a746207852621ff", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d875d123db744ab4e8d84a332a746207852621ff", "message": "Enable `FieldLevelDocsTest` tests", "committedDate": "2020-11-09T05:18:30Z", "type": "commit"}, {"oid": "a6a0d9c769e7b85268488608d0706948ace08423", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a6a0d9c769e7b85268488608d0706948ace08423", "message": "Enable `MultilineDocsTest` tests", "committedDate": "2020-11-09T05:23:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU2MjczMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26816#discussion_r519562730", "bodyText": "Need space after if. Exclude -x check and see as it might show this error.", "author": "hemikak", "createdAt": "2020-11-09T05:38:02Z", "path": "misc/docerina/src/main/java/org/ballerinalang/docgen/docs/BallerinaDocGenerator.java", "diffHunk": "@@ -694,7 +694,11 @@ private static Path getModuleDocPath(Path absolutePkgPath) throws IOException {\n     }\n \n     private static Path getAbsoluteModulePath(String sourceRoot, Path modulePath) {\n-        return Paths.get(sourceRoot).resolve(ProjectDirConstants.SOURCE_DIR_NAME)\n+        Path sourcePath = Paths.get(sourceRoot);\n+        if(sourcePath.endsWith(modulePath)) {", "originalCommit": "a6a0d9c769e7b85268488608d0706948ace08423", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU3Mzk5MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26816#discussion_r519573991", "bodyText": "Fixed.", "author": "chiranSachintha", "createdAt": "2020-11-09T06:21:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU2MjczMA=="}], "type": "inlineReview", "revised_code": {"commit": "19662c7dc94b861633363e7c882744be9e9c1f47", "chunk": "diff --git a/misc/docerina/src/main/java/org/ballerinalang/docgen/docs/BallerinaDocGenerator.java b/misc/docerina/src/main/java/org/ballerinalang/docgen/docs/BallerinaDocGenerator.java\nindex 4937eaeb776..a5b45c2e041 100644\n--- a/misc/docerina/src/main/java/org/ballerinalang/docgen/docs/BallerinaDocGenerator.java\n+++ b/misc/docerina/src/main/java/org/ballerinalang/docgen/docs/BallerinaDocGenerator.java\n\n@@ -695,10 +695,9 @@ public class BallerinaDocGenerator {\n \n     private static Path getAbsoluteModulePath(String sourceRoot, Path modulePath) {\n         Path sourcePath = Paths.get(sourceRoot);\n-        if(sourcePath.endsWith(modulePath)) {\n+        if (sourcePath.endsWith(modulePath)) {\n             return Paths.get(sourceRoot);\n         }\n-        return sourcePath.resolve(ProjectDirConstants.MODULES_ROOT)\n-                               .resolve(modulePath);\n+        return sourcePath.resolve(ProjectDirConstants.MODULES_ROOT).resolve(modulePath);\n     }\n }\n"}}, {"oid": "19662c7dc94b861633363e7c882744be9e9c1f47", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/19662c7dc94b861633363e7c882744be9e9c1f47", "message": "Fix review suggestions", "committedDate": "2020-11-09T06:20:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU3NTc2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26816#discussion_r519575767", "bodyText": "@shehan360 , Could you check this code block ?", "author": "hemikak", "createdAt": "2020-11-09T06:27:21Z", "path": "misc/docerina/src/main/java/org/ballerinalang/docgen/docs/BallerinaDocGenerator.java", "diffHunk": "@@ -694,7 +694,10 @@ private static Path getModuleDocPath(Path absolutePkgPath) throws IOException {\n     }\n \n     private static Path getAbsoluteModulePath(String sourceRoot, Path modulePath) {\n-        return Paths.get(sourceRoot).resolve(ProjectDirConstants.SOURCE_DIR_NAME)\n-                               .resolve(modulePath);\n+        Path sourcePath = Paths.get(sourceRoot);\n+        if (sourcePath.endsWith(modulePath)) {\n+            return Paths.get(sourceRoot);\n+        }\n+        return sourcePath.resolve(ProjectDirConstants.MODULES_ROOT).resolve(modulePath);", "originalCommit": "19662c7dc94b861633363e7c882744be9e9c1f47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzNjA2OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26816#discussion_r519636068", "bodyText": "Seems okay", "author": "shehan360", "createdAt": "2020-11-09T08:42:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU3NTc2Nw=="}], "type": "inlineReview", "revised_code": null}, {"oid": "b4d6b11b5807f5b1e7a0b7ba0b1efcec508bb951", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b4d6b11b5807f5b1e7a0b7ba0b1efcec508bb951", "message": "Enable `TopLevelNodesTest` tests", "committedDate": "2020-11-09T06:46:36Z", "type": "commit"}, {"oid": "2ab031126ee99cffca0f8627cbcb3c5150670064", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2ab031126ee99cffca0f8627cbcb3c5150670064", "message": "Merge branch 'prj_api_module_refactor' of https://github.com/ballerina-platform/ballerina-lang into jballerina-unit-test-fixes-2\n\n\u0001 Conflicts:\n\u0001\ttests/jballerina-unit-test/src/test/resources/testng.xml", "committedDate": "2020-11-10T06:18:52Z", "type": "commit"}, {"oid": "35adc344ea33f5d7184b6f409f89f52b9c31838b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/35adc344ea33f5d7184b6f409f89f52b9c31838b", "message": "Resolve conflicts", "committedDate": "2020-11-10T06:25:44Z", "type": "commit"}]}