{"pr_number": 25945, "pr_title": "Correct TextRange and LineRange information in diagnostic location", "pr_createdAt": "2020-09-18T14:53:49Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25945", "timeline": [{"oid": "b6a7a9c232ab3238bab0b16cc762cd0895d04a5c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b6a7a9c232ab3238bab0b16cc762cd0895d04a5c", "message": "Correct TextRange and LineRange information in diagnostic location and its usages", "committedDate": "2020-09-18T15:08:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3OTkwOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25945#discussion_r491079908", "bodyText": "Is it ok to hard code this? In the compiler we don't have this information. But the syntax errors may have this information right? Or is it using something else?", "author": "pubudu91", "createdAt": "2020-09-18T17:03:52Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/diagnostic/BLangDiagnosticLocation.java", "diffHunk": "@@ -35,8 +35,9 @@\n     private TextRange textRange;\n \n     public BLangDiagnosticLocation(String filePath, int startLine, int endLine, int startColumn, int endColumn) {\n-        this.lineRange = LineRange.from(filePath, LinePosition.from(startLine, 0), LinePosition.from(endLine, 0));\n-        this.textRange = TextRange.from(startColumn, endColumn - startColumn);\n+        this.lineRange = LineRange.from(filePath, LinePosition.from(startLine, startColumn),\n+                LinePosition.from(endLine, endColumn));\n+        this.textRange = TextRange.from(0, 0);", "originalCommit": "176d9307d46d584c6f8da2ef1cae481eff5fc580", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA5ODUxNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25945#discussion_r491098515", "bodyText": "It uses different component ( io.ballerinalang.compiler.syntax.tree.Node) to create the text range and parse it when creating SyntaxDiagnostic. hardcoding to \"0\" is done only for now. Will have to change the behaviour later.", "author": "dulajdilshan", "createdAt": "2020-09-18T17:42:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3OTkwOA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "dcbab27bc33b5a25961bff3e6b613fecca5c0bf7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dcbab27bc33b5a25961bff3e6b613fecca5c0bf7", "message": "Correct TextRange and LineRange information in diagnostic location and its usages", "committedDate": "2020-09-20T14:46:37Z", "type": "commit"}, {"oid": "ece15c8ae782f243891d8f7fe53bdaf3cb306c01", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ece15c8ae782f243891d8f7fe53bdaf3cb306c01", "message": "Correct checkstyle issues", "committedDate": "2020-09-20T14:46:37Z", "type": "commit"}, {"oid": "cc2d3a534694e22f5e735a3d56fbd5c899a55289", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc2d3a534694e22f5e735a3d56fbd5c899a55289", "message": "Fix ballerina-compiler-api test failures", "committedDate": "2020-09-20T14:46:37Z", "type": "commit"}, {"oid": "cc2d3a534694e22f5e735a3d56fbd5c899a55289", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc2d3a534694e22f5e735a3d56fbd5c899a55289", "message": "Fix ballerina-compiler-api test failures", "committedDate": "2020-09-20T14:46:37Z", "type": "forcePushed"}]}