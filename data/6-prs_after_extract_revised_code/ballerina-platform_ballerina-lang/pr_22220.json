{"pr_number": 22220, "pr_title": "Add panic statement support", "pr_createdAt": "2020-03-26T08:44:15Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMjk0NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398402945", "bodyText": "Not formatted correctly.", "author": "hasithaa", "createdAt": "2020-03-26T08:49:01Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java", "diffHunk": "@@ -546,6 +546,8 @@ private STToken processIdentifierOrKeyword() {\n                 return getSyntaxToken(SyntaxKind.ELSE_KEYWORD);\n             case LexerTerminals.WHILE:\n                 return getSyntaxToken(SyntaxKind.WHILE_KEYWORD);\n+\t\t\tcase LexerTerminals.PANIC:", "originalCommit": "bfdf3002812d45422cd42acb6d20e60cc23a66fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwNTQzNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398405435", "bodyText": "sorry, my editor used tabs,so it looked fine in mine, I ll fix this.", "author": "m36dot", "createdAt": "2020-03-26T08:53:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMjk0NQ=="}], "type": "inlineReview", "revised_code": {"commit": "ea49530ae3dba1ea3ee6ca692a2895e745b8fde3", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java\nindex 22c4ea138d1..ac0f5beb700 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java\n\n@@ -546,7 +546,7 @@ public class BallerinaLexer {\n                 return getSyntaxToken(SyntaxKind.ELSE_KEYWORD);\n             case LexerTerminals.WHILE:\n                 return getSyntaxToken(SyntaxKind.WHILE_KEYWORD);\n-\t\t\tcase LexerTerminals.PANIC:\n+            case LexerTerminals.PANIC:\n                 return getSyntaxToken(SyntaxKind.PANIC_KEYWORD);\n             case LexerTerminals.TRUE:\n                 return getSyntaxToken(SyntaxKind.TRUE_KEYWORD);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMzA4OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398403089", "bodyText": "Not formatted correctly.", "author": "hasithaa", "createdAt": "2020-03-26T08:49:13Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -158,6 +158,8 @@ public STNode resumeParsing(ParserRuleContext context, STNode... parsedNodes) {\n                 return parseElseBody();\n             case WHILE_KEYWORD:\n                 return parseWhileKeyword();\n+\t\t\tcase PANIC_KEYWORD:", "originalCommit": "bfdf3002812d45422cd42acb6d20e60cc23a66fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMzI3Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398403273", "bodyText": "Please check for other files.", "author": "hasithaa", "createdAt": "2020-03-26T08:49:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMzA4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQzNDg3NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398434875", "bodyText": "will do :)", "author": "m36dot", "createdAt": "2020-03-26T09:40:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMzA4OQ=="}], "type": "inlineReview", "revised_code": {"commit": "ea49530ae3dba1ea3ee6ca692a2895e745b8fde3", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\nindex ffdfd8ded3e..c36b398a4f7 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n\n@@ -158,7 +158,7 @@ public class BallerinaParser {\n                 return parseElseBody();\n             case WHILE_KEYWORD:\n                 return parseWhileKeyword();\n-\t\t\tcase PANIC_KEYWORD:\n+            case PANIC_KEYWORD:\n                 return parsePanicKeyword();\n             case BOOLEAN_LITERAL:\n                 return parseBooleanLiteral();\n"}}, {"oid": "ea49530ae3dba1ea3ee6ca692a2895e745b8fde3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ea49530ae3dba1ea3ee6ca692a2895e745b8fde3", "message": "Added panic statement support to incremental parser", "committedDate": "2020-03-26T09:12:39Z", "type": "forcePushed"}, {"oid": "6841085aa5145dcb3c5db21a38dc50a7b80a373d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6841085aa5145dcb3c5db21a38dc50a7b80a373d", "message": "Added panic statement support to incremental parser", "committedDate": "2020-03-26T09:22:34Z", "type": "commit"}, {"oid": "6841085aa5145dcb3c5db21a38dc50a7b80a373d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6841085aa5145dcb3c5db21a38dc50a7b80a373d", "message": "Added panic statement support to incremental parser", "committedDate": "2020-03-26T09:22:34Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQxMzcyMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398413722", "bodyText": "Not properly formatted", "author": "SupunS", "createdAt": "2020-03-26T09:07:01Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -2833,6 +2837,35 @@ private STNode parseWhileKeyword() {\n         }\n     }\n \n+\t/**", "originalCommit": "a3f8515cd322cc48fb05bf4eef8103004c2e8e04", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6841085aa5145dcb3c5db21a38dc50a7b80a373d", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\nindex c36b398a4f7..6e83992eb49 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n\n@@ -2837,7 +2837,7 @@ public class BallerinaParser {\n         }\n     }\n \n-\t/**\n+    /**\n      * Parse panic statement.\n      * <code>panic-stmt := panic expression ;</code>\n      * \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQxMzk5OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398413999", "bodyText": "Shall we add all the new changes at the bottom? Applicable to all places?", "author": "SupunS", "createdAt": "2020-03-26T09:07:29Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -2833,6 +2837,35 @@ private STNode parseWhileKeyword() {\n         }\n     }\n \n+\t/**\n+     * Parse panic statement.\n+     * <code>panic-stmt := panic expression ;</code>\n+     * \n+     * @return Panic statement\n+     */\n+    private STNode parsePanicStatement() {\n+        startContext(ParserRuleContext.PANIC_KEYWORD);\n+        STNode panicKeyword = parsePanicKeyword();\n+        STNode expression = parseExpression();\n+        STNode semicolon = parseSemicolon();\n+        endContext();\n+        return STNodeFactory.createPanicStatement(panicKeyword, expression, semicolon);\n+    }\n+\n+    /**\n+     * Parse while-keyword.\n+     * \n+     * @return While-keyword node\n+     */\n+    private STNode parsePanicKeyword() {\n+        STToken token = peek();\n+        if (token.kind == SyntaxKind.PANIC_KEYWORD) {\n+            return consume();\n+        } else {\n+            Solution sol = recover(token, ParserRuleContext.PANIC_KEYWORD);\n+            return sol.recoveredNode;\n+        }\n+    }", "originalCommit": "a3f8515cd322cc48fb05bf4eef8103004c2e8e04", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6841085aa5145dcb3c5db21a38dc50a7b80a373d", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\nindex c36b398a4f7..6e83992eb49 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n\n@@ -2837,7 +2837,7 @@ public class BallerinaParser {\n         }\n     }\n \n-\t/**\n+    /**\n      * Parse panic statement.\n      * <code>panic-stmt := panic expression ;</code>\n      * \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQxNDM3Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398414377", "bodyText": "Shall we add the new changes at the bottom of the block/group, as a practice?\nApplicable for other files as well.", "author": "SupunS", "createdAt": "2020-03-26T09:08:09Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java", "diffHunk": "@@ -546,6 +546,8 @@ private STToken processIdentifierOrKeyword() {\n                 return getSyntaxToken(SyntaxKind.ELSE_KEYWORD);\n             case LexerTerminals.WHILE:\n                 return getSyntaxToken(SyntaxKind.WHILE_KEYWORD);\n+            case LexerTerminals.PANIC:\n+                return getSyntaxToken(SyntaxKind.PANIC_KEYWORD);", "originalCommit": "a3f8515cd322cc48fb05bf4eef8103004c2e8e04", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e8979f480d088dffad8d5c1f42a54091c753b160", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java\nindex ac0f5beb700..800b3b81634 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaLexer.java\n\n@@ -546,8 +546,6 @@ public class BallerinaLexer {\n                 return getSyntaxToken(SyntaxKind.ELSE_KEYWORD);\n             case LexerTerminals.WHILE:\n                 return getSyntaxToken(SyntaxKind.WHILE_KEYWORD);\n-            case LexerTerminals.PANIC:\n-                return getSyntaxToken(SyntaxKind.PANIC_KEYWORD);\n             case LexerTerminals.TRUE:\n                 return getSyntaxToken(SyntaxKind.TRUE_KEYWORD);\n             case LexerTerminals.FALSE:\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQxNTY5Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398415692", "bodyText": "Shall we create the public node as well?", "author": "SupunS", "createdAt": "2020-03-26T09:10:24Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/STPanicStatement.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package io.ballerinalang.compiler.internal.parser.tree;\n+\n+import io.ballerinalang.compiler.syntax.tree.Node;\n+import io.ballerinalang.compiler.syntax.tree.NonTerminalNode;\n+\n+public class STPanicStatement extends STStatement {\n+\n+    public final STNode panicKeyword;\n+    public final STNode expression;\n+    public final STNode semicolonToken;\n+\n+    STPanicStatement(STNode panicKeyword,\n+                     STNode expression,\n+                     STNode semicolonToken) {\n+        super(SyntaxKind.PANIC_KEYWORD);\n+        this.panicKeyword = panicKeyword;\n+        this.expression = expression;\n+        this.semicolonToken = semicolonToken;\n+\n+        this.bucketCount = 3;\n+        this.childBuckets = new STNode[this.bucketCount];\n+        this.addChildNode(panicKeyword, 0);\n+        this.addChildNode(expression, 1);\n+        this.addChildNode(semicolonToken, 2);\n+    }\n+\n+    @Override\n+    public Node createFacade(int position, NonTerminalNode parent) {\n+        return null;", "originalCommit": "a3f8515cd322cc48fb05bf4eef8103004c2e8e04", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e8979f480d088dffad8d5c1f42a54091c753b160", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/STPanicStatement.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/STPanicStatement.java\nindex 0615d8c97cf..dc7cf358624 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/STPanicStatement.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/STPanicStatement.java\n\n@@ -17,6 +17,7 @@\n  */\n package io.ballerinalang.compiler.internal.parser.tree;\n \n+import io.ballerinalang.compiler.syntax.tree.PanicStatement;\n import io.ballerinalang.compiler.syntax.tree.Node;\n import io.ballerinalang.compiler.syntax.tree.NonTerminalNode;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQxNTk3NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398415975", "bodyText": "Incorrect indentation. Use 4-spaces for indentation.\nPlease fix in all places.", "author": "SupunS", "createdAt": "2020-03-26T09:10:52Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/SyntaxKind.java", "diffHunk": "@@ -48,6 +48,7 @@\n     WHILE_KEYWORD(207, \"while\"),\n     CHECK_KEYWORD(208, \"check\"),\n     CHECKPANIC_KEYWORD(209, \"checkpanic\"),\n+\tPANIC_KEYWORD(210, \"panic\"),", "originalCommit": "a3f8515cd322cc48fb05bf4eef8103004c2e8e04", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6841085aa5145dcb3c5db21a38dc50a7b80a373d", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/SyntaxKind.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/SyntaxKind.java\nindex 83e31d1af40..0f94c3150d3 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/SyntaxKind.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/tree/SyntaxKind.java\n\n@@ -48,7 +48,7 @@ public enum SyntaxKind {\n     WHILE_KEYWORD(207, \"while\"),\n     CHECK_KEYWORD(208, \"check\"),\n     CHECKPANIC_KEYWORD(209, \"checkpanic\"),\n-\tPANIC_KEYWORD(210, \"panic\"),\n+    PANIC_KEYWORD(210, \"panic\"),\n \n     // Separators\n     OPEN_BRACE_TOKEN(500, \"{\"),\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQyMzAxNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398423016", "bodyText": "This parser context used here seems not correct.\nPlease have a look at parseCallStatementWithCheck() and/or parseAssignmentStmt() for an example.", "author": "SupunS", "createdAt": "2020-03-26T09:22:09Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -2833,6 +2837,35 @@ private STNode parseWhileKeyword() {\n         }\n     }\n \n+\t/**\n+     * Parse panic statement.\n+     * <code>panic-stmt := panic expression ;</code>\n+     * \n+     * @return Panic statement\n+     */\n+    private STNode parsePanicStatement() {\n+        startContext(ParserRuleContext.PANIC_KEYWORD);", "originalCommit": "ea49530ae3dba1ea3ee6ca692a2895e745b8fde3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQ4NTM0Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r398485342", "bodyText": "thanks for pointing this out, I will look in to that.", "author": "m36dot", "createdAt": "2020-03-26T11:02:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQyMzAxNg=="}], "type": "inlineReview", "revised_code": {"commit": "6841085aa5145dcb3c5db21a38dc50a7b80a373d", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\nindex c36b398a4f7..6e83992eb49 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n\n@@ -2837,7 +2837,7 @@ public class BallerinaParser {\n         }\n     }\n \n-\t/**\n+    /**\n      * Parse panic statement.\n      * <code>panic-stmt := panic expression ;</code>\n      * \n"}}, {"oid": "e8979f480d088dffad8d5c1f42a54091c753b160", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e8979f480d088dffad8d5c1f42a54091c753b160", "message": "added recovery and public node", "committedDate": "2020-03-30T05:40:46Z", "type": "commit"}, {"oid": "600d51ac03f126146c9ed4a1b7d34fb53b74fb42", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/600d51ac03f126146c9ed4a1b7d34fb53b74fb42", "message": "Merge branch 'incremental-parser' of https://github.com/ballerina-platform/ballerina-lang into incremental-parser", "committedDate": "2020-03-30T05:41:23Z", "type": "commit"}, {"oid": "89138f597148c75c14fc2908ebcc2d86bee00817", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/89138f597148c75c14fc2908ebcc2d86bee00817", "message": "Added apply and transfornm implementation", "committedDate": "2020-03-30T06:03:03Z", "type": "commit"}, {"oid": "fbe9ff007a822dca6d16c92e66d7dba879185ee5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fbe9ff007a822dca6d16c92e66d7dba879185ee5", "message": "Added visitor and tranform methods for panicstatement", "committedDate": "2020-03-30T06:08:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk4MjMyMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r399982321", "bodyText": "shouldn't this be createToken(0);?", "author": "SupunS", "createdAt": "2020-03-30T07:35:07Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java", "diffHunk": "@@ -0,0 +1,81 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package io.ballerinalang.compiler.syntax.tree;\n+\n+import io.ballerinalang.compiler.internal.parser.tree.STNode;\n+\n+public class PanicStatement extends Statement {\n+    private Node panicKeyword;\n+    private Node expression;\n+    private Token semicolonToken;\n+\n+    public PanicStatement(STNode node, int position, NonTerminalNode parent) {\n+        super(node, position, parent);\n+    }\n+\n+    public Node panicKeyword() {\n+        if (panicKeyword != null) {\n+            return panicKeyword;\n+        }\n+\n+        panicKeyword = node.childInBucket(0).createFacade(getChildPosition(0), this);", "originalCommit": "3ba9c993d0f1e124811152f1d42d04e4b39a5fa2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2NjAzMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r400166033", "bodyText": "yes, I ll fix that", "author": "m36dot", "createdAt": "2020-03-30T12:52:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk4MjMyMQ=="}], "type": "inlineReview", "revised_code": {"commit": "09b96d1dc36064a87a72baa1f99bc7f5f9de91f7", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java\nindex 7b241376170..deae908e596 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java\n\n@@ -20,7 +20,7 @@ package io.ballerinalang.compiler.syntax.tree;\n import io.ballerinalang.compiler.internal.parser.tree.STNode;\n \n public class PanicStatement extends Statement {\n-    private Node panicKeyword;\n+    private Token panicKeyword;\n     private Node expression;\n     private Token semicolonToken;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk4MjU5OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r399982599", "bodyText": "Incorrect doc comment", "author": "SupunS", "createdAt": "2020-03-30T07:35:39Z", "path": "compiler/ballerina-parser/src/test/java/io/ballerinalang/compiler/parser/test/syntax/statements/PanicStatementTest.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package io.ballerinalang.compiler.parser.test.syntax.statements;\n+\n+import org.testng.annotations.Test;\n+\n+/**\n+ * Test parsing variable declaration statements.", "originalCommit": "3ba9c993d0f1e124811152f1d42d04e4b39a5fa2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2NjE4Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r400166187", "bodyText": "I ll change that as well", "author": "m36dot", "createdAt": "2020-03-30T12:52:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk4MjU5OQ=="}], "type": "inlineReview", "revised_code": {"commit": "c35e5f9d23005729b6f6276e7d22f0aba3ae74f2", "chunk": "diff --git a/compiler/ballerina-parser/src/test/java/io/ballerinalang/compiler/parser/test/syntax/statements/PanicStatementTest.java b/compiler/ballerina-parser/src/test/java/io/ballerinalang/compiler/parser/test/syntax/statements/PanicStatementTest.java\ndeleted file mode 100644\nindex 8f105573a3e..00000000000\n--- a/compiler/ballerina-parser/src/test/java/io/ballerinalang/compiler/parser/test/syntax/statements/PanicStatementTest.java\n+++ /dev/null\n\n@@ -1,55 +0,0 @@\n-/*\n- * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n- *\n- * WSO2 Inc. licenses this file to you under the Apache License,\n- * Version 2.0 (the \"License\"); you may not use this file except\n- * in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package io.ballerinalang.compiler.parser.test.syntax.statements;\n-\n-import org.testng.annotations.Test;\n-\n-/**\n- * Test parsing variable declaration statements.\n- */\n-public class PanicStatementTest extends AbstractStatementTest {\n-\n-    // Valid source tests\n-\n-    @Test\n-    public void testPanicStatementWithInt() {\n-        test(\"panic 5;\", \"panic-stmt/panic_stmt_assert_1.json\");\n-    }\n-    \n-    @Test\n-    public void testPanicStatementWithBoolean() {\n-        test(\"panic true;\", \"panic-stmt/panic_stmt_assert_2.json\");\n-    }\n-\n-    // Recovery tests\n-\n-    @Test\n-    public void testPanicStatementWithMissingSemicolon() {\n-        test(\"panic 5\", \"panic-stmt/panic_stmt_assert_3.json\");\n-    }\n-\n-    @Test\n-    public void testPanicStatementWithMissingExpression() {\n-        test(\"panic ;\", \"panic-stmt/panic_stmt_assert_4.json\");\n-    }\n-\n-    @Test\n-    public void testPanicStatementWithMissingExpressionandSemiColon() {\n-        test(\"panic\", \"panic-stmt/panic_stmt_assert_5.json\");\n-    }\n-}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5Mzc2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r399993761", "bodyText": "Incorrect doc comment", "author": "SupunS", "createdAt": "2020-03-30T07:56:23Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -2833,6 +2837,35 @@ private STNode parseWhileKeyword() {\n         }\n     }\n \n+    /**\n+     * Parse panic statement.\n+     * <code>panic-stmt := panic expression ;</code>\n+     * \n+     * @return Panic statement\n+     */\n+    private STNode parsePanicStatement() {\n+        startContext(ParserRuleContext.PANIC_STMT);\n+        STNode panicKeyword = parsePanicKeyword();\n+        STNode expression = parseExpression();\n+        STNode semicolon = parseSemicolon();\n+        endContext();\n+        return STNodeFactory.createPanicStatement(panicKeyword, expression, semicolon);\n+    }\n+\n+    /**\n+     * Parse while-keyword.", "originalCommit": "3ba9c993d0f1e124811152f1d42d04e4b39a5fa2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2NjY1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r400166654", "bodyText": "I ll change the comments", "author": "m36dot", "createdAt": "2020-03-30T12:53:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5Mzc2MQ=="}], "type": "inlineReview", "revised_code": {"commit": "09b96d1dc36064a87a72baa1f99bc7f5f9de91f7", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\nindex 0fa3b584d0f..891f3229cb4 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java\n\n@@ -2853,9 +2853,9 @@ public class BallerinaParser {\n     }\n \n     /**\n-     * Parse while-keyword.\n+     * Parse panic-keyword.\n      * \n-     * @return While-keyword node\n+     * @return Panic-keyword node\n      */\n     private STNode parsePanicKeyword() {\n         STToken token = peek();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0NDM2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22220#discussion_r400644367", "bodyText": "Additional semicolon", "author": "SupunS", "createdAt": "2020-03-31T05:01:00Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package io.ballerinalang.compiler.syntax.tree;\n+\n+import io.ballerinalang.compiler.internal.parser.tree.STNode;\n+\n+public class PanicStatement extends Statement {\n+    private Token panicKeyword;\n+    private Node expression;\n+    private Token semicolonToken;\n+\n+    public PanicStatement(STNode node, int position, NonTerminalNode parent) {\n+        super(node, position, parent);\n+    }\n+\n+    public Token panicKeyword() {\n+        if (panicKeyword != null) {\n+            return panicKeyword;\n+        }\n+\n+        panicKeyword = createToken(0);;", "originalCommit": "c442f834db5cd40398a958eb3ed5705bd9d5dd2f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c35e5f9d23005729b6f6276e7d22f0aba3ae74f2", "chunk": "diff --git a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java\nindex 2eb40abb8f4..7b241376170 100644\n--- a/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java\n+++ b/compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/PanicStatement.java\n\n@@ -20,7 +20,7 @@ package io.ballerinalang.compiler.syntax.tree;\n import io.ballerinalang.compiler.internal.parser.tree.STNode;\n \n public class PanicStatement extends Statement {\n-    private Token panicKeyword;\n+    private Node panicKeyword;\n     private Node expression;\n     private Token semicolonToken;\n \n"}}, {"oid": "c35e5f9d23005729b6f6276e7d22f0aba3ae74f2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c35e5f9d23005729b6f6276e7d22f0aba3ae74f2", "message": "Fix typo in STPanicStatment", "committedDate": "2020-03-31T06:35:57Z", "type": "commit"}, {"oid": "09b96d1dc36064a87a72baa1f99bc7f5f9de91f7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/09b96d1dc36064a87a72baa1f99bc7f5f9de91f7", "message": "Fix checkstyle and changed panickeyword from node to token", "committedDate": "2020-03-31T06:36:37Z", "type": "commit"}, {"oid": "ba3804dce62f6f3eb9a0d9fdc548e86365f54101", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ba3804dce62f6f3eb9a0d9fdc548e86365f54101", "message": "Add tests for panicStatement", "committedDate": "2020-03-31T06:36:38Z", "type": "commit"}, {"oid": "9fc4ef0808784f1b0e7c8e1c27850853cbc8c18a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9fc4ef0808784f1b0e7c8e1c27850853cbc8c18a", "message": "Fix typo in comments", "committedDate": "2020-03-31T06:36:37Z", "type": "commit"}, {"oid": "09b96d1dc36064a87a72baa1f99bc7f5f9de91f7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/09b96d1dc36064a87a72baa1f99bc7f5f9de91f7", "message": "Fix checkstyle and changed panickeyword from node to token", "committedDate": "2020-03-31T06:36:37Z", "type": "forcePushed"}]}