{"pr_number": 27208, "pr_title": "Add first get local versions in remote repo 'getPackageVersions'", "pr_createdAt": "2020-11-27T07:27:18Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/27208", "timeline": [{"oid": "177bd76fb423edcd174bb7a68281ec8e53d0bb19", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/177bd76fb423edcd174bb7a68281ec8e53d0bb19", "message": "Add first get local versions in remote repo get pkg versions", "committedDate": "2020-11-27T07:25:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ1NzY2OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27208#discussion_r531457668", "bodyText": "Since this is a list, can we get duplicate versions?", "author": "sameerajayasoma", "createdAt": "2020-11-27T08:47:15Z", "path": "compiler/ballerina-lang/src/main/java/io/ballerina/projects/internal/repositories/RemotePackageRepository.java", "diffHunk": "@@ -101,12 +101,14 @@ public static RemotePackageRepository from(Environment environment, Path cacheDi\n         String orgName = resolutionRequest.orgName().value();\n         String packageName = resolutionRequest.packageName().value();\n \n-        //If environment is offline we return the local versions\n+        // First, Get local versions\n+        List<PackageVersion> packageVersions = new ArrayList<>(fileSystemRepo.getPackageVersions(resolutionRequest));", "originalCommit": "177bd76fb423edcd174bb7a68281ec8e53d0bb19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ1ODQwMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27208#discussion_r531458401", "bodyText": "I think yes, Will fix soon", "author": "pramodya1994", "createdAt": "2020-11-27T08:48:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ1NzY2OA=="}], "type": "inlineReview", "revised_code": {"commit": "8cfb9c4abdda39eb88846ff053fc32a49df0687a", "chunk": "diff --git a/compiler/ballerina-lang/src/main/java/io/ballerina/projects/internal/repositories/RemotePackageRepository.java b/compiler/ballerina-lang/src/main/java/io/ballerina/projects/internal/repositories/RemotePackageRepository.java\nindex 491238a5e3b..a3c45ca2d4a 100644\n--- a/compiler/ballerina-lang/src/main/java/io/ballerina/projects/internal/repositories/RemotePackageRepository.java\n+++ b/compiler/ballerina-lang/src/main/java/io/ballerina/projects/internal/repositories/RemotePackageRepository.java\n\n@@ -102,11 +104,11 @@ public class RemotePackageRepository implements PackageRepository {\n         String packageName = resolutionRequest.packageName().value();\n \n         // First, Get local versions\n-        List<PackageVersion> packageVersions = new ArrayList<>(fileSystemRepo.getPackageVersions(resolutionRequest));\n+        Set<PackageVersion> packageVersions = new HashSet<>(fileSystemRepo.getPackageVersions(resolutionRequest));\n \n         // If environment is offline we return the local versions\n         if (isOffline) {\n-            return packageVersions;\n+            return new ArrayList<>(packageVersions);\n         }\n \n         try {\n"}}, {"oid": "8cfb9c4abdda39eb88846ff053fc32a49df0687a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cfb9c4abdda39eb88846ff053fc32a49df0687a", "message": "Resolve PR comments", "committedDate": "2020-11-27T09:16:18Z", "type": "commit"}, {"oid": "8cfb9c4abdda39eb88846ff053fc32a49df0687a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cfb9c4abdda39eb88846ff053fc32a49df0687a", "message": "Resolve PR comments", "committedDate": "2020-11-27T09:16:18Z", "type": "forcePushed"}]}