{"pr_number": 26418, "pr_title": "[Formatter] Fix bugs and incorrect formatting in parser test sources", "pr_createdAt": "2020-10-20T01:59:57Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26418", "timeline": [{"oid": "a89b124d21426521fcbbfb0d848d645e1c67e73c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a89b124d21426521fcbbfb0d848d645e1c67e73c", "message": "Fix the RemoteMethodCallActionNode", "committedDate": "2020-10-19T05:23:40Z", "type": "commit"}, {"oid": "83b9155a655b500582a4275235bc98657b2048ff", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/83b9155a655b500582a4275235bc98657b2048ff", "message": "Fix some formatting issues", "committedDate": "2020-10-19T08:39:41Z", "type": "commit"}, {"oid": "d69f5fe21416b6501342e1009258d89dca67b692", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d69f5fe21416b6501342e1009258d89dca67b692", "message": "Fix preserve lines in workers", "committedDate": "2020-10-19T09:42:38Z", "type": "commit"}, {"oid": "814342d638db5b0ffd32d4f1e921ce42f1c8b095", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/814342d638db5b0ffd32d4f1e921ce42f1c8b095", "message": "Fix formatting issues and modify the parser tests class", "committedDate": "2020-10-20T01:34:07Z", "type": "commit"}, {"oid": "4df21033516b30782b61f64f58c8d27d4c31d387", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4df21033516b30782b61f64f58c8d27d4c31d387", "message": "Fix the formatting in parser test assert files", "committedDate": "2020-10-20T01:41:08Z", "type": "commit"}, {"oid": "c2feb203bc4bf23f8b9566e07940fc22ad40cc94", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2feb203bc4bf23f8b9566e07940fc22ad40cc94", "message": "Update the json files", "committedDate": "2020-10-20T01:53:56Z", "type": "commit"}, {"oid": "cbfec4f6e4f5a1adab32b8d6603dca5fb9ffd8b5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cbfec4f6e4f5a1adab32b8d6603dca5fb9ffd8b5", "message": "Remove an unintended change", "committedDate": "2020-10-20T01:55:08Z", "type": "commit"}, {"oid": "2cf77a30f5e878e9e958d82a82f54762e5cd6bd8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2cf77a30f5e878e9e958d82a82f54762e5cd6bd8", "message": "Enable the parser test cases", "committedDate": "2020-10-20T02:18:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3NDk5Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26418#discussion_r508174993", "bodyText": "is this intentionally commented?", "author": "nadeeshaan", "createdAt": "2020-10-20T02:44:34Z", "path": "misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java", "diffHunk": "@@ -33,6 +37,63 @@ public void test(String fileName, String path) throws IOException {\n         super.testParserResources(path);\n     }\n \n+//    // Uncomment to run a subset of test cases.", "originalCommit": "2cf77a30f5e878e9e958d82a82f54762e5cd6bd8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3NTc4NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26418#discussion_r508175785", "bodyText": "Yes, this is to make the testing of subsets easier.", "author": "IrushiL", "createdAt": "2020-10-20T02:47:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3NDk5Mw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3NTIwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26418#discussion_r508175205", "bodyText": "try to return an optional, instead of null", "author": "nadeeshaan", "createdAt": "2020-10-20T02:45:15Z", "path": "misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java", "diffHunk": "@@ -43,4 +104,14 @@ public void test(String fileName, String path) throws IOException {\n     public String getTestResourceDir() {\n         return Paths.get(\"parser-tests\").toString();\n     }\n+\n+    private String getFilePath(String fileName, String directoryPath) {", "originalCommit": "2cf77a30f5e878e9e958d82a82f54762e5cd6bd8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3Njg2Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26418#discussion_r508176866", "bodyText": "Done", "author": "IrushiL", "createdAt": "2020-10-20T02:51:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3NTIwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "ee4c01d358e9d075346894367daedc3d588b4552", "chunk": "diff --git a/misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java b/misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java\nindex 9f5c72a388f..a3a2d28b1bb 100644\n--- a/misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java\n+++ b/misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java\n\n@@ -105,13 +106,13 @@ public class ParserTestFormatter extends FormatterTest {\n         return Paths.get(\"parser-tests\").toString();\n     }\n \n-    private String getFilePath(String fileName, String directoryPath) {\n+    private Optional<String> getFilePath(String fileName, String directoryPath) {\n         try {\n-            return Files.walk(Paths.get(directoryPath))\n+            return Optional.ofNullable(Files.walk(Paths.get(directoryPath))\n                     .filter(f -> f.getFileName().toString().equals(fileName))\n-                    .collect(Collectors.toList()).get(0).toString();\n+                    .collect(Collectors.toList()).get(0).toString());\n         } catch (IOException e) {\n-            return null;\n+            return Optional.empty();\n         }\n     }\n }\n"}}, {"oid": "ee4c01d358e9d075346894367daedc3d588b4552", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ee4c01d358e9d075346894367daedc3d588b4552", "message": "Fix a review comment", "committedDate": "2020-10-20T02:50:53Z", "type": "commit"}]}