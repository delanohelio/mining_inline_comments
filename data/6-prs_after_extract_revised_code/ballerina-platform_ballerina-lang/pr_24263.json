{"pr_number": 24263, "pr_title": "Fix transactional function node in the incremental-parser", "pr_createdAt": "2020-06-17T12:27:00Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/24263", "timeline": [{"oid": "6af973db11eb18e03f0dfece7f855088ca2b4047", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6af973db11eb18e03f0dfece7f855088ca2b4047", "message": "Fix transactional function", "committedDate": "2020-06-17T12:24:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTUwODM3OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24263#discussion_r441508378", "bodyText": "can use Optional.empty()", "author": "SupunS", "createdAt": "2020-06-17T12:32:09Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -531,7 +532,8 @@ public BLangNode transform(ImportDeclarationNode importDeclaration) {\n     @Override\n     public BLangNode transform(MethodDeclarationNode methodDeclarationNode) {\n         BLangFunction bLFunction = createFunctionNode(methodDeclarationNode.methodName(),\n-                methodDeclarationNode.visibilityQualifier(), methodDeclarationNode.methodSignature(), null);\n+                methodDeclarationNode.visibilityQualifier(), methodDeclarationNode.methodSignature(), null,\n+                Optional.ofNullable(null));", "originalCommit": "6af973db11eb18e03f0dfece7f855088ca2b4047", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b7410e64bec0f46665e3194712d241684430c8a9", "chunk": "diff --git a/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java b/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java\nindex ae8ed1629f6..2754373c8ef 100644\n--- a/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java\n+++ b/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java\n\n@@ -533,7 +533,7 @@ public class BLangNodeTransformer extends NodeTransformer<BLangNode> {\n     public BLangNode transform(MethodDeclarationNode methodDeclarationNode) {\n         BLangFunction bLFunction = createFunctionNode(methodDeclarationNode.methodName(),\n                 methodDeclarationNode.visibilityQualifier(), methodDeclarationNode.methodSignature(), null,\n-                Optional.ofNullable(null));\n+                Optional.empty());\n \n         bLFunction.annAttachments = applyAll(methodDeclarationNode.metadata().annotations());\n         bLFunction.pos = getPosition(methodDeclarationNode);\n"}}, {"oid": "b7410e64bec0f46665e3194712d241684430c8a9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7410e64bec0f46665e3194712d241684430c8a9", "message": "Fix review suggestions", "committedDate": "2020-06-17T14:58:09Z", "type": "commit"}]}