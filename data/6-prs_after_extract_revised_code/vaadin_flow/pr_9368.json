{"pr_number": 9368, "pr_title": "fix: support Range requests with either start or end byte index omitted", "pr_createdAt": "2020-11-10T17:10:46Z", "pr_url": "https://github.com/vaadin/flow/pull/9368", "timeline": [{"oid": "745baf54f2817d24c9406edf16a8ba6aa3abbe4e", "url": "https://github.com/vaadin/flow/commit/745baf54f2817d24c9406edf16a8ba6aa3abbe4e", "message": "fix: support Range requests with either start or end byte index omitted", "committedDate": "2020-11-10T17:18:10Z", "type": "commit"}, {"oid": "745baf54f2817d24c9406edf16a8ba6aa3abbe4e", "url": "https://github.com/vaadin/flow/commit/745baf54f2817d24c9406edf16a8ba6aa3abbe4e", "message": "fix: support Range requests with either start or end byte index omitted", "committedDate": "2020-11-10T17:18:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTE1OTAwOQ==", "url": "https://github.com/vaadin/flow/pull/9368#discussion_r521159009", "bodyText": "Seems this code branch is not tested ?", "author": "denis-anisimov", "createdAt": "2020-11-11T07:10:13Z", "path": "flow-server/src/main/java/com/vaadin/flow/internal/ResponseWriter.java", "diffHunk": "@@ -198,8 +198,16 @@ private void writeRangeContents(String range, HttpServletResponse response,\n \n         List<Pair<Long, Long>> ranges = new ArrayList<>();\n         while (rangeMatcher.find()) {\n-            final long start = Long.parseLong(rangeMatcher.group(1));\n-            final long end = Long.parseLong(rangeMatcher.group(2));\n+            String startGroup = rangeMatcher.group(1);\n+            String endGroup = rangeMatcher.group(2);\n+            if (startGroup.isEmpty() && endGroup.isEmpty()) {\n+                response.setContentLengthLong(0L);\n+                response.setStatus(416); // Range Not Satisfiable", "originalCommit": "745baf54f2817d24c9406edf16a8ba6aa3abbe4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTE2MjgyNA==", "url": "https://github.com/vaadin/flow/pull/9368#discussion_r521162824", "bodyText": "Done.", "author": "joheriks", "createdAt": "2020-11-11T07:20:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTE1OTAwOQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "a3302eca2afc5fd50f0e89fb7600daa03d1e27d6", "url": "https://github.com/vaadin/flow/commit/a3302eca2afc5fd50f0e89fb7600daa03d1e27d6", "message": "Added test for `Range: -`", "committedDate": "2020-11-11T07:19:32Z", "type": "commit"}]}