{"pr_number": 8439, "pr_title": "Cherry picks 3.0", "pr_createdAt": "2020-05-28T05:05:51Z", "pr_url": "https://github.com/vaadin/flow/pull/8439", "timeline": [{"oid": "5f838cc54f917478aeb4d950dec3a4097e92784a", "url": "https://github.com/vaadin/flow/commit/5f838cc54f917478aeb4d950dec3a4097e92784a", "message": "Store vaadin hash to node_modules (#8282)\n\nTo notice outside changes to package.json\nbetter we add the hash to node_modules\nso we can cross check the value.\n\nFixes #8182", "committedDate": "2020-05-11T12:00:29Z", "type": "commit"}, {"oid": "13e3603cc7d869ce938904b6be917eea4b72eb09", "url": "https://github.com/vaadin/flow/commit/13e3603cc7d869ce938904b6be917eea4b72eb09", "message": "fix: check for TypeVariable in the ExplicitNullableTypeChecker (#8316)", "committedDate": "2020-05-14T10:20:22Z", "type": "commit"}, {"oid": "b58368060e9eea55a7853d7e63ba6a4cea9508f9", "url": "https://github.com/vaadin/flow/commit/b58368060e9eea55a7853d7e63ba6a4cea9508f9", "message": "Update chrome version to 83 (#8417)", "committedDate": "2020-05-28T05:02:40Z", "type": "commit"}, {"oid": "9edfa38dc344f71a862241a8c95b7c776f26d8cb", "url": "https://github.com/vaadin/flow/commit/9edfa38dc344f71a862241a8c95b7c776f26d8cb", "message": "Remove vaadin home test as it's not applicable for 3.0", "committedDate": "2020-05-28T05:46:29Z", "type": "commit"}, {"oid": "d88d91f42f52d95d3cdcb4c57e2ab7bfc2d46f00", "url": "https://github.com/vaadin/flow/commit/d88d91f42f52d95d3cdcb4c57e2ab7bfc2d46f00", "message": "Close UI after refreshing the page in PreserveOnRefresh case and mark it\n(#8365)\n\nFixes #8286\n\n\n# Conflicts:\n#\tflow-server/src/main/java/com/vaadin/flow/router/internal/AbstractNavigationStateRenderer.java", "committedDate": "2020-05-28T08:10:01Z", "type": "commit"}, {"oid": "a8536969ae8b8d2f17ed08cc7288bcceac0f5bec", "url": "https://github.com/vaadin/flow/commit/a8536969ae8b8d2f17ed08cc7288bcceac0f5bec", "message": "Close client app on change location (#8334)\n\nFixes #8177", "committedDate": "2020-05-28T08:10:16Z", "type": "commit"}, {"oid": "5da47490ba626feb6b247ec7615d292ab5d56b54", "url": "https://github.com/vaadin/flow/commit/5da47490ba626feb6b247ec7615d292ab5d56b54", "message": "Correct Javadocs for adding JS and Stylesheets programatically. (#8392)\n\n* Correct Javadocs for adding JS and Stylesheets programatically.\r\n\r\nFixes #8320", "committedDate": "2020-05-28T08:10:21Z", "type": "commit"}, {"oid": "53343a712a470e72074756677864867560ebc470", "url": "https://github.com/vaadin/flow/commit/53343a712a470e72074756677864867560ebc470", "message": "Listen detach events on \"listenOn\" components in shortcut registration\n(#8391)\n\nFixes #8247\n# Conflicts:\n#\tflow-server/src/test/java/com/vaadin/flow/component/ShortcutRegistrationTest.java", "committedDate": "2020-05-28T08:11:41Z", "type": "commit"}, {"oid": "ac36fa13a3e671ad2fadf1520192944f11a86ca0", "url": "https://github.com/vaadin/flow/commit/ac36fa13a3e671ad2fadf1520192944f11a86ca0", "message": "Don't override initial value of hidden HTML Element attribute. (#8419)\n\nFixes #8100", "committedDate": "2020-05-28T08:11:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTcwMjY1OQ==", "url": "https://github.com/vaadin/flow/pull/8439#discussion_r431702659", "bodyText": "Reduce the number of conditional operators (4) used in the expression (maximum allowed 3).", "author": "vaadin-bot", "createdAt": "2020-05-28T09:27:48Z", "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskRunNpmInstall.java", "diffHunk": "@@ -131,9 +177,32 @@ private boolean shouldRunNpmInstall() {\n                     .listFiles(\n                             (dir, name) -> !ignoredNodeFolders.contains(name));\n             assert installedPackages != null;\n-            return installedPackages.length == 0\n-                    || (installedPackages.length == 1 && FLOW_NPM_PACKAGE_NAME\n-                            .startsWith(installedPackages[0].getName()));\n+            return installedPackages.length == 0 || (", "originalCommit": "ac36fa13a3e671ad2fadf1520192944f11a86ca0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTcwMjY2Nw==", "url": "https://github.com/vaadin/flow/pull/8439#discussion_r431702667", "bodyText": "Reduce this lambda expression number of lines from 21 to at most 20.", "author": "vaadin-bot", "createdAt": "2020-05-28T09:27:49Z", "path": "flow-server/src/main/java/com/vaadin/flow/component/ShortcutRegistration.java", "diffHunk": "@@ -68,18 +69,41 @@\n \n     private ShortcutEventListener eventListener;\n \n+    private List<Registration> registrations = new ArrayList<>();\n+\n     // beforeClientResponse callback\n     private final SerializableConsumer<ExecutionContext>\n             beforeClientResponseConsumer = executionContext -> {", "originalCommit": "ac36fa13a3e671ad2fadf1520192944f11a86ca0", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "a321ebe56fc37ed701de62ce1da1f6a471261a7a", "url": "https://github.com/vaadin/flow/commit/a321ebe56fc37ed701de62ce1da1f6a471261a7a", "message": "Removing deprecated parameter from DataNode constructor (#8325)\n\nIf you use container (such as the latest Wilfdly) which forces to use significantly newer version of Jsoup than Vaadin depends to, this can cause a problem as deprecated method as been removed.", "committedDate": "2020-06-01T08:41:57Z", "type": "commit"}, {"oid": "eef5b7d9f9e1e19ee1da128bd604021d279c56c4", "url": "https://github.com/vaadin/flow/commit/eef5b7d9f9e1e19ee1da128bd604021d279c56c4", "message": "Fix Javadoc typo in NavigationTargetFilter (#8467)", "committedDate": "2020-06-01T09:14:48Z", "type": "commit"}]}