{"pr_number": 8804, "pr_title": "Overload EmailValidator to accept an empty value", "pr_createdAt": "2020-07-31T12:14:37Z", "pr_url": "https://github.com/vaadin/flow/pull/8804", "timeline": [{"oid": "5a94a6968a71b2512e001d0ff30a37e3ed492cdb", "url": "https://github.com/vaadin/flow/commit/5a94a6968a71b2512e001d0ff30a37e3ed492cdb", "message": "Overload EmailValidator to accept an empty value\n\nFixes #7899", "committedDate": "2020-07-31T11:23:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk3MDQxNA==", "url": "https://github.com/vaadin/flow/pull/8804#discussion_r464970414", "bodyText": "I would suggest to add a note that this constructor creates a validator with not allowed empty string and point the users to a new constructor if they do want to pass an empty strings.", "author": "mshabarov", "createdAt": "2020-08-04T11:02:37Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/validator/EmailValidator.java", "diffHunk": "@@ -31,6 +31,8 @@\n             + \"\\\\.\" + \"[a-zA-Z0-9-]{2,}\" // tld\n             + \"$\";\n \n+    private final boolean allowEmptyValue;\n+\n     /**\n      * Creates a validator for checking that a string is a syntactically valid", "originalCommit": "5a94a6968a71b2512e001d0ff30a37e3ed492cdb", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c614493b5c4c3e7e81f4f4a95a60e3c0b1ac0281", "chunk": "diff --git a/flow-data/src/main/java/com/vaadin/flow/data/validator/EmailValidator.java b/flow-data/src/main/java/com/vaadin/flow/data/validator/EmailValidator.java\nindex d60d864269..63ba5907e9 100644\n--- a/flow-data/src/main/java/com/vaadin/flow/data/validator/EmailValidator.java\n+++ b/flow-data/src/main/java/com/vaadin/flow/data/validator/EmailValidator.java\n\n@@ -36,9 +36,15 @@ public class EmailValidator extends RegexpValidator {\n     /**\n      * Creates a validator for checking that a string is a syntactically valid\n      * e-mail address.\n+     * <p>\n+     * This constructor creates a validator which doesn't accept an empty string\n+     * as a valid e-mail address. Use {@link #EmailValidator(String, boolean)}\n+     * constructor with {@code true} as a value for the second argument to\n+     * create a validator which accepts an empty string.\n      *\n      * @param errorMessage\n      *            the message to display in case the value does not validate.\n+     * @see #EmailValidator(String, boolean)\n      */\n     public EmailValidator(String errorMessage) {\n         this(errorMessage, false);\n"}}, {"oid": "c614493b5c4c3e7e81f4f4a95a60e3c0b1ac0281", "url": "https://github.com/vaadin/flow/commit/c614493b5c4c3e7e81f4f4a95a60e3c0b1ac0281", "message": "Mention overloaded CTOR and its behavior in the existing CTOR", "committedDate": "2020-08-04T11:52:47Z", "type": "commit"}]}