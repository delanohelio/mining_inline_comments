{"pr_number": 3073, "pr_title": "Switch to JDK 14 for releasing and CI build", "pr_createdAt": "2020-09-19T15:31:08Z", "pr_url": "https://github.com/line/armeria/pull/3073", "timeline": [{"oid": "0614e3656cc4c3ef7f9b952c6d1d71d8501a0b19", "url": "https://github.com/line/armeria/commit/0614e3656cc4c3ef7f9b952c6d1d71d8501a0b19", "message": "[WIP] Switch to JDK 15 for releasing and CI build", "committedDate": "2020-09-19T15:30:02Z", "type": "commit"}, {"oid": "ac6a28711f0db1aa11eef54e43bd0e6ed0dc9e4e", "url": "https://github.com/line/armeria/commit/ac6a28711f0db1aa11eef54e43bd0e6ed0dc9e4e", "message": "Fix javadocs", "committedDate": "2020-09-19T16:20:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU5NjkwOA==", "url": "https://github.com/line/armeria/pull/3073#discussion_r491596908", "bodyText": "is JDK 15 strict about h3 without h2?", "author": "codefromthecrypt", "createdAt": "2020-09-19T23:15:47Z", "path": "bucket4j/src/main/java/com/linecorp/armeria/server/throttling/bucket4j/TokenBucket.java", "diffHunk": "@@ -78,7 +78,7 @@ public static TokenBucket of(long limit, Duration period) {\n      * Defines throttling configuration comprised of zero or more bandwidth limits in accordance to\n      * token-bucket algorithm.\n      *\n-     * <h3>Multiple bandwidths:</h3>\n+     * <h2>Multiple bandwidths:</h2>", "originalCommit": "ac6a28711f0db1aa11eef54e43bd0e6ed0dc9e4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTYzNjI5MQ==", "url": "https://github.com/line/armeria/pull/3073#discussion_r491636291", "bodyText": "Yes, the build fails if headings are used without the order.", "author": "minwoox", "createdAt": "2020-09-20T00:38:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU5NjkwOA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY5NjA2OQ==", "url": "https://github.com/line/armeria/pull/3073#discussion_r491696069", "bodyText": "Herf time!", "author": "trustin", "createdAt": "2020-09-20T14:19:30Z", "path": "core/src/main/java/com/linecorp/armeria/client/ClientFactoryBuilder.java", "diffHunk": "@@ -433,7 +433,7 @@ public ClientFactoryBuilder idleTimeoutMillis(long idleTimeoutMillis) {\n      * Sets the PING interval in milliseconds.\n      * When neither read nor write was performed for the given {@code pingIntervalMillis},\n      * a <a href=\"https://httpwg.org/specs/rfc7540.html#PING\">PING</a> frame is sent for HTTP/2 or\n-     * an <a herf=\"https://tools.ietf.org/html/rfc7231#section-4.3.7\">OPTIONS</a> request with an asterisk (\"*\")", "originalCommit": "ac6a28711f0db1aa11eef54e43bd0e6ed0dc9e4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc3Nzc2OQ==", "url": "https://github.com/line/armeria/pull/3073#discussion_r491777769", "bodyText": "\ud83d\ude31", "author": "ikhoon", "createdAt": "2020-09-21T03:21:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY5NjA2OQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "814df3e25c684353e046e928f650562e357fcc5d", "url": "https://github.com/line/armeria/commit/814df3e25c684353e046e928f650562e357fcc5d", "message": "Fix javadoc", "committedDate": "2020-09-21T00:42:29Z", "type": "commit"}, {"oid": "1a3de542597e50e1315c25c84951cc15c1794062", "url": "https://github.com/line/armeria/commit/1a3de542597e50e1315c25c84951cc15c1794062", "message": "Use 14", "committedDate": "2020-09-21T02:41:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc3NjYwMQ==", "url": "https://github.com/line/armeria/pull/3073#discussion_r491776601", "bodyText": "This class is copied to boot2-webflux-autoconfigure and it cannot connect to the class there.\nLet me figure out what I can do. \ud83e\udd14", "author": "minwoox", "createdAt": "2020-09-21T03:13:35Z", "path": "spring/boot2-autoconfigure/src/main/java/com/linecorp/armeria/spring/DocServiceConfigurator.java", "diffHunk": "@@ -25,7 +25,7 @@\n import com.linecorp.armeria.server.docs.DocServiceBuilder;\n \n /**\n- * Configures a {@link DocService} built by {@link ArmeriaAutoConfiguration}.\n+ * Configures a {@link DocService} built by Armeria auto configuration.", "originalCommit": "ac6a28711f0db1aa11eef54e43bd0e6ed0dc9e4e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9aa650505d67fc2c47233e19449e744086424976", "chunk": "diff --git a/spring/boot2-autoconfigure/src/main/java/com/linecorp/armeria/spring/DocServiceConfigurator.java b/spring/boot2-autoconfigure/src/main/java/com/linecorp/armeria/spring/DocServiceConfigurator.java\nindex befe94c2ae..0145d95d6e 100644\n--- a/spring/boot2-autoconfigure/src/main/java/com/linecorp/armeria/spring/DocServiceConfigurator.java\n+++ b/spring/boot2-autoconfigure/src/main/java/com/linecorp/armeria/spring/DocServiceConfigurator.java\n\n@@ -21,11 +21,10 @@ import org.springframework.core.Ordered;\n import org.springframework.core.annotation.AnnotationAwareOrderComparator;\n import org.springframework.core.annotation.Order;\n \n-import com.linecorp.armeria.server.docs.DocService;\n import com.linecorp.armeria.server.docs.DocServiceBuilder;\n \n /**\n- * Configures a {@link DocService} built by Armeria auto configuration.\n+ * Configures a {@code DocService} built by Armeria auto configuration.\n  */\n @FunctionalInterface\n public interface DocServiceConfigurator extends Ordered {\n"}}, {"oid": "9aa650505d67fc2c47233e19449e744086424976", "url": "https://github.com/line/armeria/commit/9aa650505d67fc2c47233e19449e744086424976", "message": "Address the comment by @KarboniteKream", "committedDate": "2020-09-21T03:52:10Z", "type": "commit"}]}