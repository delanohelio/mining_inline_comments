{"pr_number": 2857, "pr_title": "Parameterize `PooledHttpStreamMessage`", "pr_createdAt": "2020-06-30T14:07:03Z", "pr_url": "https://github.com/line/armeria/pull/2857", "timeline": [{"oid": "76209bb9ce4dca7c59bf2240b0fdb8385727817b", "url": "https://github.com/line/armeria/commit/76209bb9ce4dca7c59bf2240b0fdb8385727817b", "message": "Parameterize `PooledHttpStreamMessage`\n\nMotivation:\n\n`PooledHttpStreamMessage` extends `StreamMessage<HttpObject>` currently.\nHowever, we could parameterize `PooledHttpStreamMessage` so we can\ndeclare a pooled `StreamMessage` of other element type than\n`HttpObject`.\n\nModifications:\n\n- Rename `PooledHttpStreamMessage` to `PooledStreamMessage`.\n- Add a type parameter to `PooledStreamMessage`.\n\nResult:\n\n- Symmetric API design\n  - We have `PooledStreamMessage` like we have `StreamMessage`.\n  - We don't have `PooledHttpStreamMessage` like we don't have\n    `HttpStreamMessage`.", "committedDate": "2020-06-30T14:02:56Z", "type": "commit"}, {"oid": "130e9b3e3e4bbde6bf5b344dcce0f74dc09fec55", "url": "https://github.com/line/armeria/commit/130e9b3e3e4bbde6bf5b344dcce0f74dc09fec55", "message": "Something's wrong with IDEA", "committedDate": "2020-06-30T14:09:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcxNTUzMA==", "url": "https://github.com/line/armeria/pull/2857#discussion_r447715530", "bodyText": "Removed this section because it's not valid anymore and it's documented well already elsewhere.", "author": "trustin", "createdAt": "2020-06-30T14:13:09Z", "path": "core/src/main/java/com/linecorp/armeria/common/stream/StreamMessage.java", "diffHunk": "@@ -70,10 +70,6 @@\n  * respective unpooled versions that never leak, so that the {@link Subscriber} does not need to worry about\n  * leaks.\n  *\n- * <p>If a {@link Subscriber} does not want a {@link StreamMessage} to make a copy of a {@link ByteBufHolder},\n- * specify {@link SubscriptionOption#WITH_POOLED_OBJECTS} when you subscribe. Note that the {@link Subscriber}\n- * is responsible for releasing the objects given with {@link Subscriber#onNext(Object)}.", "originalCommit": "130e9b3e3e4bbde6bf5b344dcce0f74dc09fec55", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}