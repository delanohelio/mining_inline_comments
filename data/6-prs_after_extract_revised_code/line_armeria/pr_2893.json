{"pr_number": 2893, "pr_title": "Ignore userInfo when parsing Endpoint", "pr_createdAt": "2020-07-13T12:36:31Z", "pr_url": "https://github.com/line/armeria/pull/2893", "timeline": [{"oid": "6523254075c41d3c0defd5f6ef66468e7c21863c", "url": "https://github.com/line/armeria/commit/6523254075c41d3c0defd5f6ef66468e7c21863c", "message": "Ignore userInfo when parsing Endpoint", "committedDate": "2020-07-13T12:34:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzcyMjY4OA==", "url": "https://github.com/line/armeria/pull/2893#discussion_r453722688", "bodyText": "How about simplifying for brevity?\n<li>{@code \"<host>:<port>\"} for a host endpoint (The userinfo part will be ignored.)</li>", "author": "trustin", "createdAt": "2020-07-13T15:12:21Z", "path": "core/src/main/java/com/linecorp/armeria/client/Endpoint.java", "diffHunk": "@@ -74,14 +74,15 @@\n      * Parse the authority part of a URI. The authority part may have one of the following formats:\n      * <ul>\n      *   <li>{@code \"<host>:<port>\"} for a host endpoint</li>\n+     *   <li>{@code \"<userinfo>@<host>:<port>\"} for a host endpoint and userinfo is ignored</li>", "originalCommit": "6523254075c41d3c0defd5f6ef66468e7c21863c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0686fba05e1d9ed11f5e0d4379d92884b7057025", "chunk": "diff --git a/core/src/main/java/com/linecorp/armeria/client/Endpoint.java b/core/src/main/java/com/linecorp/armeria/client/Endpoint.java\nindex 6c07aac888..214b4143bf 100644\n--- a/core/src/main/java/com/linecorp/armeria/client/Endpoint.java\n+++ b/core/src/main/java/com/linecorp/armeria/client/Endpoint.java\n\n@@ -73,8 +73,7 @@ public final class Endpoint implements Comparable<Endpoint>, EndpointGroup {\n     /**\n      * Parse the authority part of a URI. The authority part may have one of the following formats:\n      * <ul>\n-     *   <li>{@code \"<host>:<port>\"} for a host endpoint</li>\n-     *   <li>{@code \"<userinfo>@<host>:<port>\"} for a host endpoint and userinfo is ignored</li>\n+     *   <li>{@code \"<host>:<port>\"} for a host endpoint (The userinfo part will be ignored.)</li>\n      *   <li>{@code \"<host>\"} for a host endpoint with no port number specified</li>\n      * </ul>\n      * An IPv4 or IPv6 address can be specified in lieu of a host name, e.g. {@code \"127.0.0.1:8080\"} and\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzcyNDIwMg==", "url": "https://github.com/line/armeria/pull/2893#discussion_r453724202", "bodyText": "How about removeUserInfo?", "author": "trustin", "createdAt": "2020-07-13T15:14:27Z", "path": "core/src/main/java/com/linecorp/armeria/client/Endpoint.java", "diffHunk": "@@ -131,6 +132,14 @@ private static Endpoint create(String host, int port) {\n                             null, port, DEFAULT_WEIGHT, HostType.HOSTNAME_ONLY);\n     }\n \n+    private static String ignoreUserInfo(String authority) {", "originalCommit": "6523254075c41d3c0defd5f6ef66468e7c21863c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c2bbeb38cf45a06c3d54a5a47ad3a738e2eb0a32", "chunk": "diff --git a/core/src/main/java/com/linecorp/armeria/client/Endpoint.java b/core/src/main/java/com/linecorp/armeria/client/Endpoint.java\nindex 6c07aac888..f2542e61e5 100644\n--- a/core/src/main/java/com/linecorp/armeria/client/Endpoint.java\n+++ b/core/src/main/java/com/linecorp/armeria/client/Endpoint.java\n\n@@ -132,7 +131,7 @@ public final class Endpoint implements Comparable<Endpoint>, EndpointGroup {\n                             null, port, DEFAULT_WEIGHT, HostType.HOSTNAME_ONLY);\n     }\n \n-    private static String ignoreUserInfo(String authority) {\n+    private static String removeUserInfo(String authority) {\n         final int indexOfDelimiter = authority.lastIndexOf(\"@\");\n         if (indexOfDelimiter == -1) {\n             return authority;\n"}}, {"oid": "0686fba05e1d9ed11f5e0d4379d92884b7057025", "url": "https://github.com/line/armeria/commit/0686fba05e1d9ed11f5e0d4379d92884b7057025", "message": "Simplify javadoc", "committedDate": "2020-07-13T15:30:16Z", "type": "commit"}, {"oid": "c2bbeb38cf45a06c3d54a5a47ad3a738e2eb0a32", "url": "https://github.com/line/armeria/commit/c2bbeb38cf45a06c3d54a5a47ad3a738e2eb0a32", "message": "Rename ignoreUserInfo to removeUserInfo", "committedDate": "2020-07-13T15:31:33Z", "type": "commit"}]}