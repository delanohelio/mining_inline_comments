{"pr_number": 2172, "pr_title": "Install kickstart package only in case of traditional systems", "pr_createdAt": "2020-04-28T11:26:10Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2172", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY3MzAwNw==", "url": "https://github.com/uyuni-project/uyuni/pull/2172#discussion_r416673007", "bodyText": "nitpick: maybe we should change the debug logging 2 lines above as well.", "author": "mcalmer", "createdAt": "2020-04-28T14:45:06Z", "path": "java/code/src/com/redhat/rhn/manager/kickstart/KickstartScheduleCommand.java", "diffHunk": "@@ -1115,7 +1114,7 @@ public ValidatorError validateKickstartPackage() {\n         for (Long chnnelId : channelIds) {\n             log.debug(\"    Checking on:\" + chnnelId + \" for: \" + getKickstartPackageNames());\n             List<Map<String, Object>> packages = ChannelManager.listLatestPackagesEqual(\n-                    chnnelId, getKickstartPackageNames());\n+                    chnnelId, this.ksdata.getKickstartPackageNameForTraditional());", "originalCommit": "ca71f0ec061afbd4f016cce85eaf38c5e0cf4b5b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2f1335fb47a7f5a7acfa8e535b46b1b207441bb7", "chunk": "diff --git a/java/code/src/com/redhat/rhn/manager/kickstart/KickstartScheduleCommand.java b/java/code/src/com/redhat/rhn/manager/kickstart/KickstartScheduleCommand.java\nindex af9c71a1703..5437519bc00 100644\n--- a/java/code/src/com/redhat/rhn/manager/kickstart/KickstartScheduleCommand.java\n+++ b/java/code/src/com/redhat/rhn/manager/kickstart/KickstartScheduleCommand.java\n\n@@ -1112,7 +1112,7 @@ public class KickstartScheduleCommand extends BaseSystemOperation {\n         List<Map<String, Long>> results = new LinkedList<Map<String, Long>>();\n \n         for (Long chnnelId : channelIds) {\n-            log.debug(\"    Checking on:\" + chnnelId + \" for: \" + getKickstartPackageNames());\n+            log.debug(\"    Checking on:\" + chnnelId + \" for: \" + this.ksdata.getKickstartPackageNameForTraditional());\n             List<Map<String, Object>> packages = ChannelManager.listLatestPackagesEqual(\n                     chnnelId, this.ksdata.getKickstartPackageNameForTraditional());\n             log.debug(\"    size: \" + packages.size());\n"}}, {"oid": "2f1335fb47a7f5a7acfa8e535b46b1b207441bb7", "url": "https://github.com/uyuni-project/uyuni/commit/2f1335fb47a7f5a7acfa8e535b46b1b207441bb7", "message": "In case of salt minion, there is no need to install any package. For traditionl system, only look for spacewalk-koan package for installation", "committedDate": "2020-04-29T11:13:08Z", "type": "commit"}, {"oid": "2f1335fb47a7f5a7acfa8e535b46b1b207441bb7", "url": "https://github.com/uyuni-project/uyuni/commit/2f1335fb47a7f5a7acfa8e535b46b1b207441bb7", "message": "In case of salt minion, there is no need to install any package. For traditionl system, only look for spacewalk-koan package for installation", "committedDate": "2020-04-29T11:13:08Z", "type": "forcePushed"}]}