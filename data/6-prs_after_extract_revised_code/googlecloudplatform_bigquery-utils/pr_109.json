{"pr_number": 109, "pr_title": "Allen wang314/adding unit tests", "pr_createdAt": "2020-07-17T20:06:41Z", "pr_url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/109", "timeline": [{"oid": "0fc0667285be0ae56a1cdd3cc5cc118dd6719417", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/0fc0667285be0ae56a1cdd3cc5cc118dd6719417", "message": "added additional MarkovChain test", "committedDate": "2020-07-16T17:45:39Z", "type": "commit"}, {"oid": "09b7819b31e64fd96044334661399db13fae3b01", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/09b7819b31e64fd96044334661399db13fae3b01", "message": "restructured, added Token classes, added token information to Query", "committedDate": "2020-07-16T20:43:02Z", "type": "commit"}, {"oid": "81bd8a4289f82c61b06b30045441bb0b987828e6", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/81bd8a4289f82c61b06b30045441bb0b987828e6", "message": "added Token and Table classes", "committedDate": "2020-07-17T20:03:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY3ODU3Mw==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/109#discussion_r457678573", "bodyText": "Would you mind to add some comment about which kind of query is considered as special?", "author": "Bei-z", "createdAt": "2020-07-20T20:40:28Z", "path": "tools/template_based_query_generation/src/main/java/Query.java", "diffHunk": "@@ -1,16 +1,51 @@\n+import parser.Mapping;\n+import token.Token;\n+\n /**\n- * class representing query\n- * TODO: information about tokens, arguments, etc\n+ * class representing Query\n  */\n public class Query {\n \n-\tprivate QueryType type;\n+  private QueryType type;\n+  private Mapping mapping;\n+  private boolean special;\n+  private Token token;\n+\n+  public Query(QueryType type, boolean special) {\n+      this.type = type;\n+      this.special = special;", "originalCommit": "81bd8a4289f82c61b06b30045441bb0b987828e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5NDYyMw==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/109#discussion_r458194623", "bodyText": "Got it", "author": "AllenWang314", "createdAt": "2020-07-21T15:38:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY3ODU3Mw=="}], "type": "inlineReview", "revised_code": {"commit": "4c9aabf9278977ae38ef6cb4c0a84b6177668933", "chunk": "diff --git a/tools/template_based_query_generation/src/main/java/Query.java b/tools/template_based_query_generation/src/main/java/Query.java\nindex 12a42fa..acf66bb 100644\n--- a/tools/template_based_query_generation/src/main/java/Query.java\n+++ b/tools/template_based_query_generation/src/main/java/Query.java\n\n@@ -11,6 +11,11 @@ public class Query {\n   private boolean special;\n   private Token token;\n \n+  /**\n+   * special is set to be true if type is one of ROOT, DDL, DML, DQL\n+   * @param type\n+   * @param special\n+   */\n   public Query(QueryType type, boolean special) {\n       this.type = type;\n       this.special = special;\n"}}, {"oid": "4c9aabf9278977ae38ef6cb4c0a84b6177668933", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/4c9aabf9278977ae38ef6cb4c0a84b6177668933", "message": "added clarifying commen", "committedDate": "2020-07-21T15:43:48Z", "type": "commit"}, {"oid": "064758f267f144d177c8467281b75cf24b1db1c8", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/064758f267f144d177c8467281b75cf24b1db1c8", "message": "added FeatureType, changed use of special in Query", "committedDate": "2020-07-21T16:04:30Z", "type": "commit"}, {"oid": "e8c20c8dd48835029d4c18d461717f37832f4f50", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/e8c20c8dd48835029d4c18d461717f37832f4f50", "message": "refactored some of the keywords", "committedDate": "2020-07-21T21:17:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5NjEwNQ==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/109#discussion_r458396105", "bodyText": "Sorry for the confusion! Let's still keep those types upper case", "author": "Bei-z", "createdAt": "2020-07-21T21:22:57Z", "path": "tools/template_based_query_generation/src/main/java/FeatureType.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/**\n+ * Types of queries in SQL language encoding\n+ * feature_root, ddl_feature_root, dml_feature_root, dql_feature_root, feature_sink are types to help create reference nodes\n+ */\n+public enum FeatureType {\n+\tfeature_root, // type for the root node", "originalCommit": "e8c20c8dd48835029d4c18d461717f37832f4f50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQwMDE2NQ==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/109#discussion_r458400165", "bodyText": "got it!", "author": "AllenWang314", "createdAt": "2020-07-21T21:31:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM5NjEwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "149233b984d1fe08ba101def9f25200a995e5d74", "chunk": "diff --git a/tools/template_based_query_generation/src/main/java/FeatureType.java b/tools/template_based_query_generation/src/main/java/FeatureType.java\nindex 56b0f67..36b77c2 100644\n--- a/tools/template_based_query_generation/src/main/java/FeatureType.java\n+++ b/tools/template_based_query_generation/src/main/java/FeatureType.java\n\n@@ -3,11 +3,11 @@\n  * feature_root, ddl_feature_root, dml_feature_root, dql_feature_root, feature_sink are types to help create reference nodes\n  */\n public enum FeatureType {\n-\tfeature_root, // type for the root node\n-\tddl_feature_root, // type for the root node of all ddl features\n-\tdml_feature_root, // type for the root node of all dml features\n-\tdql_feature_root, // type for the root node of all dql features\n-\tfeature_sink, // sink for all features, signals the end of a query\n+\tFEATURE_ROOT, // type for the root node\n+\tDDL_FEATURE_ROOT, // type for the root node of all ddl features\n+\tDML_FEATURE_ROOT, // type for the root node of all dml features\n+\tDQL_FEATURE_ROOT, // type for the root node of all dql features\n+\tFEATURE_SINK, // sink for all features, signals the end of a query\n \tDDL_CREATE,\n \tDDL_PARTITION,\n \tDDL_CLUSTER,\n"}}, {"oid": "149233b984d1fe08ba101def9f25200a995e5d74", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/149233b984d1fe08ba101def9f25200a995e5d74", "message": "refactored capitalization", "committedDate": "2020-07-21T21:33:41Z", "type": "commit"}, {"oid": "66ea71c641e6cfba2d51c78d236d3718807853cc", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/66ea71c641e6cfba2d51c78d236d3718807853cc", "message": "Merge branch 'master' into AllenWang314/adding-unit-tests", "committedDate": "2020-07-21T21:34:22Z", "type": "commit"}]}