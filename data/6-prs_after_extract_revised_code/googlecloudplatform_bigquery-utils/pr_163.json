{"pr_number": 163, "pr_title": "Token generalization: Regex parsing and formatting", "pr_createdAt": "2020-08-27T01:56:27Z", "pr_url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/163", "timeline": [{"oid": "64db68e63e84f7a8de8f07f344d2acf2961819da", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/64db68e63e84f7a8de8f07f344d2acf2961819da", "message": "brought skeleton up to date", "committedDate": "2020-08-03T16:50:22Z", "type": "commit"}, {"oid": "bb726fb2aa2df0852723d50a881d7361025d403b", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/bb726fb2aa2df0852723d50a881d7361025d403b", "message": "brought up to date with Victor's progress---it works", "committedDate": "2020-08-03T17:30:48Z", "type": "commit"}, {"oid": "00122b104c00185e78cc9f723bc6357b289da33a", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/00122b104c00185e78cc9f723bc6357b289da33a", "message": "refactored Pairs and fixed indentation", "committedDate": "2020-08-05T22:50:48Z", "type": "commit"}, {"oid": "ff8955b0765d36443a7c254dcefda2f1901caa57", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/ff8955b0765d36443a7c254dcefda2f1901caa57", "message": "restructured json for generalizability", "committedDate": "2020-08-06T21:25:13Z", "type": "commit"}, {"oid": "533dfe7df4f16ffad8dff0f42492cd8444dca4b9", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/533dfe7df4f16ffad8dff0f42492cd8444dca4b9", "message": "made edits to correct queries, added pair class correctly", "committedDate": "2020-08-07T21:06:17Z", "type": "commit"}, {"oid": "1c11d2b03d813bb64cbfe3f6bf8c4a8d8728ea03", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1c11d2b03d813bb64cbfe3f6bf8c4a8d8728ea03", "message": "Merge branch 'query-generation' of https://github.com/AllenWang314/bigquery-utils into query-generation", "committedDate": "2020-08-07T21:06:51Z", "type": "commit"}, {"oid": "c7acd85719e3efb53ed0b7e59549306feb7287da", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/c7acd85719e3efb53ed0b7e59549306feb7287da", "message": "added random date generation", "committedDate": "2020-08-07T21:14:39Z", "type": "commit"}, {"oid": "330b6e33d35d3829d4dd82258145190a37621274", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/330b6e33d35d3829d4dd82258145190a37621274", "message": "refactored DataTypeMap parser for generalizability", "committedDate": "2020-08-07T23:44:30Z", "type": "commit"}, {"oid": "a9f1f902e8ef6e4c1c8f1a19e9a1d3416aebbcf6", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a9f1f902e8ef6e4c1c8f1a19e9a1d3416aebbcf6", "message": "fixed merge conflicts", "committedDate": "2020-08-07T23:47:30Z", "type": "commit"}, {"oid": "95c1e0edf9d06b04878fa4f82f33f8a2ee0a60ee", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/95c1e0edf9d06b04878fa4f82f33f8a2ee0a60ee", "message": "generalization refactoring complete", "committedDate": "2020-08-09T22:24:53Z", "type": "commit"}, {"oid": "de9689a6ce7a088e6ff4926e675700e148ddf3d7", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/de9689a6ce7a088e6ff4926e675700e148ddf3d7", "message": "Merge branch 'master' into query-generation", "committedDate": "2020-08-09T22:25:40Z", "type": "commit"}, {"oid": "6d2a8063a0db65fdd1520757831714c918266edc", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/6d2a8063a0db65fdd1520757831714c918266edc", "message": "added semicolons at end of queries", "committedDate": "2020-08-09T22:36:00Z", "type": "commit"}, {"oid": "e868ee41700519941e97f7001d6381cddb5ec45c", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/e868ee41700519941e97f7001d6381cddb5ec45c", "message": "Merge branch 'query-generation' of https://github.com/AllenWang314/bigquery-utils into query-generation", "committedDate": "2020-08-09T22:36:06Z", "type": "commit"}, {"oid": "6dcadd6e59a68b34fcb7df59fbaf00d9226f3437", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/6dcadd6e59a68b34fcb7df59fbaf00d9226f3437", "message": "manually added data generation", "committedDate": "2020-08-11T01:23:05Z", "type": "commit"}, {"oid": "f626435179763ea786b9bf46ff616b2e9eceea33", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/f626435179763ea786b9bf46ff616b2e9eceea33", "message": "merged Victor's progress in", "committedDate": "2020-08-12T04:20:15Z", "type": "commit"}, {"oid": "3c2e2e399b6d2c0f15213452916e4667ea77f106", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/3c2e2e399b6d2c0f15213452916e4667ea77f106", "message": "added mySQL mappings", "committedDate": "2020-08-12T17:39:54Z", "type": "commit"}, {"oid": "e57b53ac3027dde8ad6256ef4b1f8465604d9612", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/e57b53ac3027dde8ad6256ef4b1f8465604d9612", "message": "began initial user parsing", "committedDate": "2020-08-12T18:53:25Z", "type": "commit"}, {"oid": "1437b7e4e31c0712817721d7eb7df8b34da46442", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1437b7e4e31c0712817721d7eb7df8b34da46442", "message": "fix merge conflicts data-generation:master", "committedDate": "2020-08-12T18:59:21Z", "type": "commit"}, {"oid": "d16de2ba81dd7f2b508e4097b211400b8d38b394", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/d16de2ba81dd7f2b508e4097b211400b8d38b394", "message": "Merge pull request #16 from AllenWang314/query-generation\n\nQuery generation", "committedDate": "2020-08-12T19:00:54Z", "type": "commit"}, {"oid": "1306d8463868f18615bf3c66b4054d947330da10", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1306d8463868f18615bf3c66b4054d947330da10", "message": "updated config file", "committedDate": "2020-08-12T19:43:25Z", "type": "commit"}, {"oid": "33551a7f8bd835ec7b88ea24f48b66435a6738bb", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/33551a7f8bd835ec7b88ea24f48b66435a6738bb", "message": "debugged a few queries", "committedDate": "2020-08-12T20:53:02Z", "type": "commit"}, {"oid": "d0bbd30fa77ddfd4420241226af3de05689b0cd2", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/d0bbd30fa77ddfd4420241226af3de05689b0cd2", "message": "finished user config parsing, generalization finalized", "committedDate": "2020-08-12T22:12:05Z", "type": "commit"}, {"oid": "cf8ec2ee6d5d295cecfcd516caa7cc117d95fd7b", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/cf8ec2ee6d5d295cecfcd516caa7cc117d95fd7b", "message": "Merge pull request #17 from AllenWang314/user-config\n\nfinished user config parsing, generalization finalized", "committedDate": "2020-08-12T22:22:00Z", "type": "commit"}, {"oid": "bb94168655d91a8d892f6af8d3e35637eaf722bc", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/bb94168655d91a8d892f6af8d3e35637eaf722bc", "message": "fixed typo and merge conflict", "committedDate": "2020-08-12T22:30:12Z", "type": "commit"}, {"oid": "ac63da092405bfc51d3c559fe2773367b0be8875", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/ac63da092405bfc51d3c559fe2773367b0be8875", "message": "added datset name", "committedDate": "2020-08-12T23:55:54Z", "type": "commit"}, {"oid": "ae79287e05175e5fce442f92fdc18678bbb2c6b5", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/ae79287e05175e5fce442f92fdc18678bbb2c6b5", "message": "added bigquery table formatting", "committedDate": "2020-08-13T20:39:33Z", "type": "commit"}, {"oid": "06e373e986e41a525a9403b7ff7e393628226690", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/06e373e986e41a525a9403b7ff7e393628226690", "message": "Merge branch 'master' into user-config", "committedDate": "2020-08-13T20:41:48Z", "type": "commit"}, {"oid": "5bb5af7f4767b78b7db4db3b660e64f7f3a94f5b", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/5bb5af7f4767b78b7db4db3b660e64f7f3a94f5b", "message": "Merge pull request #18 from AllenWang314/user-config\n\nadded bigquery table formatting", "committedDate": "2020-08-13T20:42:00Z", "type": "commit"}, {"oid": "d24a5baa5a9794ea54399671225d53c9b92473e1", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/d24a5baa5a9794ea54399671225d53c9b92473e1", "message": "resolved merge conflicts", "committedDate": "2020-08-13T20:43:12Z", "type": "commit"}, {"oid": "381fb1f17cf67da527b33c6f93760638d29a8b31", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/381fb1f17cf67da527b33c6f93760638d29a8b31", "message": "Merge pull request #19 from AllenWang314/user-config\n\nresolved merge conflicts", "committedDate": "2020-08-18T05:05:57Z", "type": "commit"}, {"oid": "8a1003b45b95a6bb976a8e36b54b390630dd015b", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/8a1003b45b95a6bb976a8e36b54b390630dd015b", "message": "added javadoc, refactored for consistent use of FeatureType instead of String", "committedDate": "2020-08-19T07:56:48Z", "type": "commit"}, {"oid": "0355509160baa93dc07eba2e587bc50cbbcd2d9a", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/0355509160baa93dc07eba2e587bc50cbbcd2d9a", "message": "Merge pull request #20 from AllenWang314/code-cleanup\n\nCleaned up code style", "committedDate": "2020-08-19T17:03:15Z", "type": "commit"}, {"oid": "1fe7bb80e2d246d28a7105bf631973716f06a956", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1fe7bb80e2d246d28a7105bf631973716f06a956", "message": "added regex parser", "committedDate": "2020-08-23T09:19:27Z", "type": "commit"}, {"oid": "a340e8145e0cf83611c4b44dd619e6eaba6518f8", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a340e8145e0cf83611c4b44dd619e6eaba6518f8", "message": "finished regex parser, query generator", "committedDate": "2020-08-27T01:20:53Z", "type": "commit"}, {"oid": "0568c67aa4626c36734d5fb1babc8ea3067a2b4a", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/0568c67aa4626c36734d5fb1babc8ea3067a2b4a", "message": "added general token provider for regex tokenization", "committedDate": "2020-08-27T01:23:03Z", "type": "commit"}, {"oid": "e4838278b4c1e3a06af2b21beb6a135ac550b116", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/e4838278b4c1e3a06af2b21beb6a135ac550b116", "message": "migrated parsers to new regex json format", "committedDate": "2020-08-27T01:26:04Z", "type": "commit"}, {"oid": "06b6435fb13c97dafb15b66f537c1e2d65bc1699", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/06b6435fb13c97dafb15b66f537c1e2d65bc1699", "message": "further parser migration to regex", "committedDate": "2020-08-27T01:28:10Z", "type": "commit"}, {"oid": "1a4c298050586337d7afeede55a74949af170fbe", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1a4c298050586337d7afeede55a74949af170fbe", "message": "restructured json file for regex parsing", "committedDate": "2020-08-27T01:51:21Z", "type": "commit"}, {"oid": "a321231221d991d359f31bd0a1705694a9de9641", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a321231221d991d359f31bd0a1705694a9de9641", "message": "added custom regex expressions for features", "committedDate": "2020-08-27T01:54:06Z", "type": "commit"}, {"oid": "f1e87c86212e81792e29e7e845642c6b20e0d5a7", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/f1e87c86212e81792e29e7e845642c6b20e0d5a7", "message": "Merge branch 'master' into token-generalization", "committedDate": "2020-08-27T02:04:16Z", "type": "commit"}, {"oid": "561700ebca69e53d1502027a47ca573d53ab07fd", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/561700ebca69e53d1502027a47ca573d53ab07fd", "message": "deleted unused files due to generalization", "committedDate": "2020-08-27T04:37:19Z", "type": "commit"}, {"oid": "2f6939cee2e52b6a124d2636d8d17f18b7d81175", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/2f6939cee2e52b6a124d2636d8d17f18b7d81175", "message": "Merge branch 'token-generalization' of https://github.com/AllenWang314/bigquery-utils into token-generalization", "committedDate": "2020-08-27T04:37:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE1ODUyNA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/163#discussion_r478158524", "bodyText": "Is this intentional? If it is, please include some comments for it. Thx!", "author": "Bei-z", "createdAt": "2020-08-27T06:00:16Z", "path": "tools/template_based_query_generation/src/test/java/graph/MarkovChainTest.java", "diffHunk": "@@ -64,7 +62,7 @@ public void test_randomWalk_anEdge() {\n \t * test for the randomWalk method when the graph consists of a bidirectional edge\n \t * an infinite loop happens in the graph.MarkovChain class, so we expect an OutOfMemoryError.class\n \t */\n-\t@Test\n+\t//@Test", "originalCommit": "2f6939cee2e52b6a124d2636d8d17f18b7d81175", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODYzOTE3Mw==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/163#discussion_r478639173", "bodyText": "Yes, will add the unit tests today!", "author": "spoiledhua", "createdAt": "2020-08-27T19:14:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE1ODUyNA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE1ODkzMA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/163#discussion_r478158930", "bodyText": "Please add comments & ToDo when the unit test is not provided.", "author": "Bei-z", "createdAt": "2020-08-27T06:00:53Z", "path": "tools/template_based_query_generation/src/test/java/parser/KeywordsMappingTest.java", "diffHunk": "@@ -1,48 +1,10 @@\n package parser;\n \n-import com.google.common.collect.ImmutableList;\n import org.junit.jupiter.api.Test;\n-import token.TokenInfo;\n-\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-\n-import static org.junit.jupiter.api.Assertions.assertEquals;\n-import static org.junit.jupiter.api.Assertions.assertThrows;\n ", "originalCommit": "2f6939cee2e52b6a124d2636d8d17f18b7d81175", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODYzOTIzNw==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/163#discussion_r478639237", "bodyText": "Will add!", "author": "spoiledhua", "createdAt": "2020-08-27T19:15:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE1ODkzMA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE2OTcyMA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/163#discussion_r478169720", "bodyText": "Looks like this class only contains one function, so probably it makes more sense to move this function to Query class?", "author": "Bei-z", "createdAt": "2020-08-27T06:16:28Z", "path": "tools/template_based_query_generation/src/main/java/token/QueryRegex.java", "diffHunk": "@@ -0,0 +1,115 @@\n+package token;\n+\n+import parser.Utils;\n+import query.SkeletonPiece;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.Random;\n+\n+public class QueryRegex {", "originalCommit": "2f6939cee2e52b6a124d2636d8d17f18b7d81175", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}