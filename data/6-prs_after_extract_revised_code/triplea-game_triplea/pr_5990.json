{"pr_number": 5990, "pr_title": "Fix password too short error message when creating an account", "pr_createdAt": "2020-03-02T01:43:32Z", "pr_url": "https://github.com/triplea-game/triplea/pull/5990", "timeline": [{"oid": "66eca58bd50f1a507d004ead8c1f43a0b9947070", "url": "https://github.com/triplea-game/triplea/commit/66eca58bd50f1a507d004ead8c1f43a0b9947070", "message": "Fix password too short error message when creating an account\n\nPrevious password validator assumed we were looking at a hashed value,\nnow we are looking at a plaintext value. The server validation of\nlength is still needed as there is no guarantee someone will use\nour game-client when creating accounts.\n\nThis fix updates password validation on account creation to simply\ncheck that the password is a minimum length.", "committedDate": "2020-03-02T01:40:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjE4MDY1Mw==", "url": "https://github.com/triplea-game/triplea/pull/5990#discussion_r386180653", "bodyText": "The Javadocs are no longer accurate", "author": "RoiEXLab", "createdAt": "2020-03-02T03:13:22Z", "path": "http-server/src/main/java/org/triplea/server/user/account/create/PasswordValidation.java", "diffHunk": "@@ -8,12 +8,12 @@\n /** We expect password to be sent to server as a hash. Simply check that it is not too short. */\n public class PasswordValidation implements Function<String, Optional<String>> {\n   /** Expected MIN_LENGTH is length of a SHA512 hashed string. */", "originalCommit": "66eca58bd50f1a507d004ead8c1f43a0b9947070", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "edd5cc1955cab12611e71d64966105406ccf6309", "chunk": "diff --git a/http-server/src/main/java/org/triplea/server/user/account/create/PasswordValidation.java b/http-server/src/main/java/org/triplea/server/user/account/create/PasswordValidation.java\nindex 5e1f12ce5..20525591e 100644\n--- a/http-server/src/main/java/org/triplea/server/user/account/create/PasswordValidation.java\n+++ b/http-server/src/main/java/org/triplea/server/user/account/create/PasswordValidation.java\n\n@@ -7,8 +7,14 @@ import java.util.function.Function;\n \n /** We expect password to be sent to server as a hash. Simply check that it is not too short. */\n public class PasswordValidation implements Function<String, Optional<String>> {\n-  /** Expected MIN_LENGTH is length of a SHA512 hashed string. */\n-  @VisibleForTesting static final int MIN_LENGTH = 5;\n+  // TODO: Md5-Deprecation Set this value to the expected length of a SHA512 hashed string\n+  //   When passwords are no longer encoded in md5, and we do not need to upgrade them\n+  //   to bcrypt, we can then hash passwords on the client side.\n+  /**\n+   * Expected MIN_LENGTH is length of the shortest password a user can input on the client-side UI\n+   * when creating a new account.\n+   */\n+  @VisibleForTesting static final int MIN_LENGTH = 3;\n \n   @Override\n   public Optional<String> apply(final String password) {\n"}}, {"oid": "edd5cc1955cab12611e71d64966105406ccf6309", "url": "https://github.com/triplea-game/triplea/commit/edd5cc1955cab12611e71d64966105406ccf6309", "message": "Update min password length validation documentation", "committedDate": "2020-03-03T03:54:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc4Njg0OQ==", "url": "https://github.com/triplea-game/triplea/pull/5990#discussion_r386786849", "bodyText": "TODO found", "author": "codeclimate", "createdAt": "2020-03-03T03:56:17Z", "path": "http-server/src/main/java/org/triplea/server/user/account/create/PasswordValidation.java", "diffHunk": "@@ -7,13 +7,19 @@\n \n /** We expect password to be sent to server as a hash. Simply check that it is not too short. */\n public class PasswordValidation implements Function<String, Optional<String>> {\n-  /** Expected MIN_LENGTH is length of a SHA512 hashed string. */\n-  @VisibleForTesting static final int MIN_LENGTH = 128;\n+  // TODO: Md5-Deprecation Set this value to the expected length of a SHA512 hashed string", "originalCommit": "edd5cc1955cab12611e71d64966105406ccf6309", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}