{"pr_number": 6608, "pr_title": "Server options password as char array", "pr_createdAt": "2020-06-06T23:08:03Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6608", "timeline": [{"oid": "1a310bae7753843d7c68bbfc51d4fe24e4ed62bc", "url": "https://github.com/triplea-game/triplea/commit/1a310bae7753843d7c68bbfc51d4fe24e4ed62bc", "message": "Convert String.trim().isEmpty() check to a 'isBlank()'", "committedDate": "2020-06-06T23:00:39Z", "type": "commit"}, {"oid": "e021fee341d2348b296344bd09204b74ba116f3e", "url": "https://github.com/triplea-game/triplea/commit/e021fee341d2348b296344bd09204b74ba116f3e", "message": "Use char[] for password in ServerOptions to reduce conversions to String\n\nReasons:\n1. We get fewer conversions to strings, yields simpler code\n2. While we do not require passwords to be handled as char[], we should\ntry to avoid using Strings for password where conveniently possible.", "committedDate": "2020-06-06T23:55:32Z", "type": "commit"}, {"oid": "e021fee341d2348b296344bd09204b74ba116f3e", "url": "https://github.com/triplea-game/triplea/commit/e021fee341d2348b296344bd09204b74ba116f3e", "message": "Use char[] for password in ServerOptions to reduce conversions to String\n\nReasons:\n1. We get fewer conversions to strings, yields simpler code\n2. While we do not require passwords to be handled as char[], we should\ntry to avoid using Strings for password where conveniently possible.", "committedDate": "2020-06-06T23:55:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMxOTIzNQ==", "url": "https://github.com/triplea-game/triplea/pull/6608#discussion_r436319235", "bodyText": "Not sure if the benefit is that great if we don't ever clear the char array afterwards", "author": "RoiEXLab", "createdAt": "2020-06-07T02:52:15Z", "path": "game-core/src/main/java/games/strategy/engine/framework/startup/mc/ServerModel.java", "diffHunk": "@@ -351,7 +351,10 @@ private void gameDataChanged() {\n           ServerConnectionProps.builder()\n               .name(System.getProperty(TRIPLEA_NAME))\n               .port(Integer.parseInt(System.getProperty(TRIPLEA_PORT)))\n-              .password(System.getProperty(SERVER_PASSWORD))\n+              .password(\n+                  Optional.ofNullable(System.getProperty(SERVER_PASSWORD))\n+                      .map(String::toCharArray)\n+                      .orElse(null))", "originalCommit": "e021fee341d2348b296344bd09204b74ba116f3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMxOTg0OA==", "url": "https://github.com/triplea-game/triplea/pull/6608#discussion_r436319848", "bodyText": "Agree. On one hand GC should kick in and at least destroy the array and at some point the memory would be overwritten.\nFor the most part it's a \"use char[] where convenient\", so don't go out of our way to use String. In this case overall I think/hope there is less conversion to string, ultimately simpler. To another extent, because we are reading password in from CLI args, coming in as a String[], we are pretty boned in terms of the password being stored as a String", "author": "DanVanAtta", "createdAt": "2020-06-07T03:04:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMxOTIzNQ=="}], "type": "inlineReview", "revised_code": null}]}