{"pr_number": 6437, "pr_title": "Convert multiplayer staging screen alliance label to 'click to play alliance' button", "pr_createdAt": "2020-05-08T09:19:14Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6437", "timeline": [{"oid": "de30ad65fb8384813e28f9da3002e0cc918a0c92", "url": "https://github.com/triplea-game/triplea/commit/de30ad65fb8384813e28f9da3002e0cc918a0c92", "message": "Convert multiplayer staging screen alliance label to 'click to play alliance' button\n\nClicking alliance buttons will take the seat of all factions in that alliance,\nclicking again will release all such seats. The single player staging screen already\nhas 'alliance' buttons, this update makes the multiplayer staging screens\nsimilar.\n\nA notable use-case is to start games more quickly, for example launching NWO\na host can click 'allies' on start-up to release all allied players and a client\ncan then click 'allies' to take all of the released seats.", "committedDate": "2020-05-08T09:12:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MDE5OA==", "url": "https://github.com/triplea-game/triplea/pull/6437#discussion_r422040198", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "author": "codeclimate", "createdAt": "2020-05-08T09:21:14Z", "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/ServerSetupPanel.java", "diffHunk": "@@ -272,6 +274,21 @@ private void layoutPlayers() {\n     validate();\n   }\n \n+  private void allianceRowButtonFired(final PlayerRow playerRow) {", "originalCommit": "de30ad65fb8384813e28f9da3002e0cc918a0c92", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MDIwMQ==", "url": "https://github.com/triplea-game/triplea/pull/6437#discussion_r422040201", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "author": "codeclimate", "createdAt": "2020-05-08T09:21:15Z", "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/ClientSetupPanel.java", "diffHunk": "@@ -143,13 +144,29 @@ private void layoutComponents() {\n       players.add(row.getPlayer());\n       layout.setConstraints(row.getPlayerComponent(), playConstraints);\n       players.add(row.getPlayerComponent());\n-      layout.setConstraints(row.getAlliance(), allianceConstraints);\n-      players.add(row.getAlliance());\n+      layout.setConstraints(row.getAllianceComponent(), allianceConstraints);\n+      players.add(row.getAllianceComponent());\n+      row.getAlliance().addActionListener(e -> fireAllianceButtonClicked(row));\n     }\n     add(players, BorderLayout.CENTER);\n     validate();\n   }\n \n+  private void fireAllianceButtonClicked(final PlayerRow playerRow) {", "originalCommit": "de30ad65fb8384813e28f9da3002e0cc918a0c92", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}