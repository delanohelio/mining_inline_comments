{"pr_number": 3949, "pr_title": "empty rulesetCache", "pr_createdAt": "2020-08-17T19:28:31Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3949", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTk2MzA1MA==", "url": "https://github.com/kitodo/kitodo-production/pull/3949#discussion_r471963050", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    emptyCache();\n          \n          \n            \n                    ProcessService.emptyCache();", "author": "solth", "createdAt": "2020-08-18T07:13:45Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java", "diffHunk": "@@ -90,6 +90,7 @@\n      */\n     public ProcessForm() {\n         super();\n+        emptyCache();", "originalCommit": "a066be17905b9d250da2d1a1f2be100d9b673ed3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "959ffffa02bccb8e4cfbed7c9fd1bb06ef845365", "chunk": "diff --git a/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java b/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java\nindex c12b53954..82753d7d8 100644\n--- a/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java\n+++ b/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java\n\n@@ -90,7 +90,7 @@ public class ProcessForm extends TemplateBaseForm {\n      */\n     public ProcessForm() {\n         super();\n-        emptyCache();\n+        ProcessService.emptyCache();\n         super.setLazyDTOModel(new LazyDTOModel(ServiceManager.getProcessService()));\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTk2NDEwMQ==", "url": "https://github.com/kitodo/kitodo-production/pull/3949#discussion_r471964101", "bodyText": "Missing JavaDoc.", "author": "solth", "createdAt": "2020-08-18T07:15:54Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ProcessService.java", "diffHunk": "@@ -213,6 +213,11 @@ public static ProcessService getInstance() {\n         return localReference;\n     }\n \n+    public static void emptyCache() {", "originalCommit": "a066be17905b9d250da2d1a1f2be100d9b673ed3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "553707d08bc2018e49356c8d587ed9191145a9cc", "chunk": "diff --git a/Kitodo/src/main/java/org/kitodo/production/services/data/ProcessService.java b/Kitodo/src/main/java/org/kitodo/production/services/data/ProcessService.java\nindex 1376b8ce4..d526617a7 100644\n--- a/Kitodo/src/main/java/org/kitodo/production/services/data/ProcessService.java\n+++ b/Kitodo/src/main/java/org/kitodo/production/services/data/ProcessService.java\n\n@@ -213,6 +213,9 @@ public class ProcessService extends ProjectSearchService<Process, ProcessDTO, Pr\n         return localReference;\n     }\n \n+    /**\n+     * Emptys the cache generated from ruleset, so changes in Ruleset are recognized in new session.\n+     */\n     public static void emptyCache() {\n         RULESET_CACHE_FOR_CREATE_CHILD_FROM_PARENT.clear();\n         RULESET_CACHE_FOR_CREATE_FROM_CALENDAR.clear();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTk2NDY0Mw==", "url": "https://github.com/kitodo/kitodo-production/pull/3949#discussion_r471964643", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n                private void emptyCache() {\n          \n          \n            \n                    ProcessService.emptyCache();\n          \n          \n            \n                }", "author": "solth", "createdAt": "2020-08-18T07:16:56Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java", "diffHunk": "@@ -1152,4 +1153,8 @@ public String getProcessingBeginOfLastTask(ProcessDTO processDTO) {\n     public String getProcessingEndOfLastTask(ProcessDTO processDTO) {\n         return ServiceManager.getProcessService().getLastProcessingEnd(processDTO);\n     }\n+\n+    private void emptyCache() {\n+        ProcessService.emptyCache();\n+    }", "originalCommit": "a066be17905b9d250da2d1a1f2be100d9b673ed3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "959ffffa02bccb8e4cfbed7c9fd1bb06ef845365", "chunk": "diff --git a/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java b/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java\nindex c12b53954..82753d7d8 100644\n--- a/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java\n+++ b/Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java\n\n@@ -1154,7 +1154,4 @@ public class ProcessForm extends TemplateBaseForm {\n         return ServiceManager.getProcessService().getLastProcessingEnd(processDTO);\n     }\n \n-    private void emptyCache() {\n-        ProcessService.emptyCache();\n-    }\n }\n"}}, {"oid": "959ffffa02bccb8e4cfbed7c9fd1bb06ef845365", "url": "https://github.com/kitodo/kitodo-production/commit/959ffffa02bccb8e4cfbed7c9fd1bb06ef845365", "message": "empty rulesetCache", "committedDate": "2020-08-18T08:34:05Z", "type": "forcePushed"}, {"oid": "553707d08bc2018e49356c8d587ed9191145a9cc", "url": "https://github.com/kitodo/kitodo-production/commit/553707d08bc2018e49356c8d587ed9191145a9cc", "message": "empty rulesetCache", "committedDate": "2020-08-18T08:35:29Z", "type": "forcePushed"}, {"oid": "be871efb7e3abd954327f8f2b0b195e4da213b81", "url": "https://github.com/kitodo/kitodo-production/commit/be871efb7e3abd954327f8f2b0b195e4da213b81", "message": "empty rulesetCache", "committedDate": "2020-08-18T08:36:47Z", "type": "commit"}, {"oid": "be871efb7e3abd954327f8f2b0b195e4da213b81", "url": "https://github.com/kitodo/kitodo-production/commit/be871efb7e3abd954327f8f2b0b195e4da213b81", "message": "empty rulesetCache", "committedDate": "2020-08-18T08:36:47Z", "type": "forcePushed"}]}