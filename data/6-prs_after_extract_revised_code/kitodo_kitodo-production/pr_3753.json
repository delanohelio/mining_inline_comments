{"pr_number": 3753, "pr_title": "respect noWorkflow in automatic generated processes", "pr_createdAt": "2020-06-10T13:35:24Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3753", "timeline": [{"oid": "2ee59be5b4acc76207105dd7d559d764404e7ce5", "url": "https://github.com/kitodo/kitodo-production/commit/2ee59be5b4acc76207105dd7d559d764404e7ce5", "message": "respect noWorkflow in automatic generated processes", "committedDate": "2020-06-10T13:34:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk4OTk5Mg==", "url": "https://github.com/kitodo/kitodo-production/pull/3753#discussion_r439989992", "bodyText": "Add missing Javadoc", "author": "solth", "createdAt": "2020-06-15T07:49:58Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -1020,16 +1020,27 @@ public static void updateTasks(Process process) {\n     public static void processTempProcess(TempProcess tempProcess, Template template,\n                                           RulesetManagementInterface managementInterface, String acquisitionStage,\n                                           List<Locale.LanguageRange> priorityList)\n-            throws InvalidMetadataValueException, NoSuchMetadataFieldException, ProcessGenerationException {\n+            throws InvalidMetadataValueException, NoSuchMetadataFieldException, ProcessGenerationException, IOException,\n+            RulesetNotFoundException {\n         List<ProcessDetail> processDetails = transformToProcessDetails(tempProcess, managementInterface,\n                 acquisitionStage, priorityList);\n         String docType = tempProcess.getWorkpiece().getRootElement().getType();\n         createProcessTitle(tempProcess, managementInterface, acquisitionStage, priorityList, processDetails);\n         Process process = tempProcess.getProcess();\n         addProperties(tempProcess.getProcess(), template, processDetails, docType, tempProcess.getProcess().getTitle());\n+        checkTasks(process, docType);\n         updateTasks(process);\n     }\n \n+    public static void checkTasks(Process process, String docType) throws IOException, RulesetNotFoundException {", "originalCommit": "2ee59be5b4acc76207105dd7d559d764404e7ce5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3790c4c4ecf98cb2ab5577ed6ece6c73873c3793", "chunk": "diff --git a/Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java b/Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java\nindex 53e45bd8a..dfb0c868f 100644\n--- a/Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java\n+++ b/Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java\n\n@@ -1032,6 +1032,12 @@ public class ImportService {\n         updateTasks(process);\n     }\n \n+    /**\n+     * Checks if an imported Process should be created with Tasks and removes them if not,\n+     * depending on the configuration of the doctype.\n+     * @param process the process to check.\n+     * @param docType the doctype to check in the ruleset.\n+     */\n     public static void checkTasks(Process process, String docType) throws IOException, RulesetNotFoundException {\n         // remove tasks from process, if doctype is configured not to use a workflow\n         Collection<String> divisionsWithNoWorkflow = ServiceManager.getRulesetService()\n"}}, {"oid": "3790c4c4ecf98cb2ab5577ed6ece6c73873c3793", "url": "https://github.com/kitodo/kitodo-production/commit/3790c4c4ecf98cb2ab5577ed6ece6c73873c3793", "message": "add javadoc", "committedDate": "2020-06-16T09:34:54Z", "type": "commit"}]}