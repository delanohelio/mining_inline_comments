{"pr_number": 2853, "pr_title": "[DROOLS-5227] Refactor to merge DROOLS-5063", "pr_createdAt": "2020-04-10T16:19:13Z", "pr_url": "https://github.com/kiegroup/drools/pull/2853", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg1OTEyMg==", "url": "https://github.com/kiegroup/drools/pull/2853#discussion_r406859122", "bodyText": "Nitpick: is there any reason to create the list of interfaces to be implemented at each pojo generation instead of having it in a static final field?", "author": "mariofusco", "createdAt": "2020-04-10T17:27:13Z", "path": "drools-model/drools-model-compiler/src/main/java/org/drools/modelcompiler/builder/generator/declaredtype/POJOGenerator.java", "diffHunk": "@@ -125,7 +125,10 @@ private void createPOJO(TypeDeclarationDescr typeDescr) {\n         DescrTypeDefinition descrDeclaredTypeDefinition = new DescrTypeDefinition(packageDescr, typeDescr, typeResolver);\n         descrDeclaredTypeDefinition.getErrors().forEach(builder::addBuilderResult);\n \n-        ClassOrInterfaceDeclaration generatedClass = new GeneratedClassDeclaration(descrDeclaredTypeDefinition, typeResolver, IMPLEMENTED_INTERFACES).toClassDeclaration();\n+        // Implemented types should be probably in\n+        ClassOrInterfaceDeclaration generatedClass = new GeneratedClassDeclaration(descrDeclaredTypeDefinition,\n+                                                                                   Arrays.asList(GeneratedFact.class, AccessibleFact.class))", "originalCommit": "4c5455e4abb85160787e925c4f97b380e2fb6ee1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "2ba7fd3ec93c14e299083d6a99822705c04f93c0", "chunk": "diff --git a/drools-model/drools-model-compiler/src/main/java/org/drools/modelcompiler/builder/generator/declaredtype/POJOGenerator.java b/drools-model/drools-model-compiler/src/main/java/org/drools/modelcompiler/builder/generator/declaredtype/POJOGenerator.java\nindex 2ceb12217f..bf58534608 100644\n--- a/drools-model/drools-model-compiler/src/main/java/org/drools/modelcompiler/builder/generator/declaredtype/POJOGenerator.java\n+++ b/drools-model/drools-model-compiler/src/main/java/org/drools/modelcompiler/builder/generator/declaredtype/POJOGenerator.java\n\n@@ -125,9 +124,9 @@ public class POJOGenerator {\n         DescrTypeDefinition descrDeclaredTypeDefinition = new DescrTypeDefinition(packageDescr, typeDescr, typeResolver);\n         descrDeclaredTypeDefinition.getErrors().forEach(builder::addBuilderResult);\n \n-        // Implemented types should be probably in\n         ClassOrInterfaceDeclaration generatedClass = new GeneratedClassDeclaration(descrDeclaredTypeDefinition,\n-                                                                                   Arrays.asList(GeneratedFact.class, AccessibleFact.class))\n+                                                                                   typeResolver,\n+                                                                                   Collections.singletonList(GeneratedFact.class))\n                 .toClassDeclaration();\n         packageModel.addGeneratedPOJO(generatedClass);\n         addTypeMetadata(typeDescr.getTypeName());\n"}}, {"oid": "2ba7fd3ec93c14e299083d6a99822705c04f93c0", "url": "https://github.com/kiegroup/drools/commit/2ba7fd3ec93c14e299083d6a99822705c04f93c0", "message": "reverted GeneratedClassDeclaration.java", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "a480f08334ff507966f0fd95488f8e8efbf838fe", "url": "https://github.com/kiegroup/drools/commit/a480f08334ff507966f0fd95488f8e8efbf838fe", "message": "Applied method generation in GeneratedClassDeclaration.java", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "02d094cb04f40f6790b4c374471e08ee13049d15", "url": "https://github.com/kiegroup/drools/commit/02d094cb04f40f6790b4c374471e08ee13049d15", "message": "All test passing", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "b28e4dfd8ef49d902b8424a2c301b5b8476fd461", "url": "https://github.com/kiegroup/drools/commit/b28e4dfd8ef49d902b8424a2c301b5b8476fd461", "message": "Refactor", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "c7ec1c22515c3681e5d88d47ba7dd7f84ac1adb3", "url": "https://github.com/kiegroup/drools/commit/c7ec1c22515c3681e5d88d47ba7dd7f84ac1adb3", "message": "Refactor", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "0a5ab4fac87a53aad2fc8c9ee5fdbff3fa4638f2", "url": "https://github.com/kiegroup/drools/commit/0a5ab4fac87a53aad2fc8c9ee5fdbff3fa4638f2", "message": "Use stream", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "ef6d609d9a8382dda7634ebe4217ba22a1e743d2", "url": "https://github.com/kiegroup/drools/commit/ef6d609d9a8382dda7634ebe4217ba22a1e743d2", "message": "Use stream v.2", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "0eb19a4a766a4caef48dca69647f3ced72f600be", "url": "https://github.com/kiegroup/drools/commit/0eb19a4a766a4caef48dca69647f3ced72f600be", "message": "Refactor setter", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "e85a3c6cee287311a61bdf7e2e26392f73b9f9fc", "url": "https://github.com/kiegroup/drools/commit/e85a3c6cee287311a61bdf7e2e26392f73b9f9fc", "message": "Final refactor of AccessibleMethod.java", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "58681aca785b4919e7153553e5aaa767ecf8c8aa", "url": "https://github.com/kiegroup/drools/commit/58681aca785b4919e7153553e5aaa767ecf8c8aa", "message": "Really Final refactor", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "cdd18a7d0c57e696530b7d21942995b0fee74a93", "url": "https://github.com/kiegroup/drools/commit/cdd18a7d0c57e696530b7d21942995b0fee74a93", "message": "All tests passing", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "92ce7bdbff59620700ce5db1b8e1a4f383a15816", "url": "https://github.com/kiegroup/drools/commit/92ce7bdbff59620700ce5db1b8e1a4f383a15816", "message": "Always put extends types in generated class", "committedDate": "2020-04-14T10:09:00Z", "type": "commit"}, {"oid": "92ce7bdbff59620700ce5db1b8e1a4f383a15816", "url": "https://github.com/kiegroup/drools/commit/92ce7bdbff59620700ce5db1b8e1a4f383a15816", "message": "Always put extends types in generated class", "committedDate": "2020-04-14T10:09:00Z", "type": "forcePushed"}, {"oid": "8606bb554ab551e344b623a86214e7c9c8aeb271", "url": "https://github.com/kiegroup/drools/commit/8606bb554ab551e344b623a86214e7c9c8aeb271", "message": "Moved implemented interfaces to static field", "committedDate": "2020-04-14T10:20:04Z", "type": "commit"}]}