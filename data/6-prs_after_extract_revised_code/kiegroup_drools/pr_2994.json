{"pr_number": 2994, "pr_title": "DROOLS-5491 - Integrate PMML with Kogito", "pr_createdAt": "2020-07-16T14:37:54Z", "pr_url": "https://github.com/kiegroup/drools/pull/2994", "timeline": [{"oid": "e64ef61a8561f5cd34248e98df3b2e1d483450dc", "url": "https://github.com/kiegroup/drools/commit/e64ef61a8561f5cd34248e98df3b2e1d483450dc", "message": "[DROOLS-5247] Implemented/propagate Transformation Map (to be populated)", "committedDate": "2020-04-20T09:02:19Z", "type": "commit"}, {"oid": "2213dbb4caeb745e377cb7baa813a911ed0aae92", "url": "https://github.com/kiegroup/drools/commit/2213dbb4caeb745e377cb7baa813a911ed0aae92", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5247", "committedDate": "2020-04-20T09:03:33Z", "type": "commit"}, {"oid": "0310b667ce6c8f6cc92720c750d9d61558494338", "url": "https://github.com/kiegroup/drools/commit/0310b667ce6c8f6cc92720c750d9d61558494338", "message": "[Drools-5373] Refactored PMMLAssembler - implemented two delegates PMMLCompilerService and PMMLLoaderService", "committedDate": "2020-06-04T10:24:17Z", "type": "commit"}, {"oid": "6d3ac318ed0ac6edce90a020807c85146675c5cf", "url": "https://github.com/kiegroup/drools/commit/6d3ac318ed0ac6edce90a020807c85146675c5cf", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5372", "committedDate": "2020-06-05T10:06:24Z", "type": "commit"}, {"oid": "2badfe14a34ed998f036b866cf8a94b3ad2efe42", "url": "https://github.com/kiegroup/drools/commit/2badfe14a34ed998f036b866cf8a94b3ad2efe42", "message": "[DROOLS-5372] Implement dynamic ResourceType switch inside PMMLAssemblerService(s)", "committedDate": "2020-06-05T11:42:15Z", "type": "commit"}, {"oid": "7eab522b04d70abe69e173f9acf834ea13d24cdd", "url": "https://github.com/kiegroup/drools/commit/7eab522b04d70abe69e173f9acf834ea13d24cdd", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5372", "committedDate": "2020-06-05T11:43:25Z", "type": "commit"}, {"oid": "0d3f2e54864708e535bcd3f317323acca93c14b9", "url": "https://github.com/kiegroup/drools/commit/0d3f2e54864708e535bcd3f317323acca93c14b9", "message": "[DROOLS-5372] Using PMMLConstants for system property retrieval/setting", "committedDate": "2020-06-05T13:08:37Z", "type": "commit"}, {"oid": "7ea3d3c2399c6eb18b9f914d63cc0ec48a2974a0", "url": "https://github.com/kiegroup/drools/commit/7ea3d3c2399c6eb18b9f914d63cc0ec48a2974a0", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5372", "committedDate": "2020-06-08T08:54:50Z", "type": "commit"}, {"oid": "a5676276eeaa963be72a67a71d7a1911469a9899", "url": "https://github.com/kiegroup/drools/commit/a5676276eeaa963be72a67a71d7a1911469a9899", "message": "[DROOLS-5372] Implementing  AbstractDMNKiePMMLInvocationEvaluator and DMNKiePMMLNewInvocationEvaluator. Refactored DMNKiePMMLInvocationEvaluator. Implement switch between them inside AbstractPMMLInvocationEvaluator", "committedDate": "2020-06-08T11:07:36Z", "type": "commit"}, {"oid": "a74915ee8ccdb0ae9b5f17fa488b8234e60c12d3", "url": "https://github.com/kiegroup/drools/commit/a74915ee8ccdb0ae9b5f17fa488b8234e60c12d3", "message": "[DROOLS-5372] Fixing bug with nested node containing only a True predicate. Add test", "committedDate": "2020-06-08T16:07:11Z", "type": "commit"}, {"oid": "9a0beb8528e5f0ae06c26e3cc9ed8cdf79435918", "url": "https://github.com/kiegroup/drools/commit/9a0beb8528e5f0ae06c26e3cc9ed8cdf79435918", "message": "[DROOLS-5372] Working on DMN-PMML implementation", "committedDate": "2020-06-09T14:55:58Z", "type": "commit"}, {"oid": "f14623a16993cf0f3b887a976faebbcfe7791c67", "url": "https://github.com/kiegroup/drools/commit/f14623a16993cf0f3b887a976faebbcfe7791c67", "message": "[DROOLS-5423] Declaring glassfish jaxb-runtime dependency for JDK >= 11 to maintain compiler functionality in such environments", "committedDate": "2020-06-10T10:19:42Z", "type": "commit"}, {"oid": "848624b1a9ba09597b50c2002df702c507421bde", "url": "https://github.com/kiegroup/drools/commit/848624b1a9ba09597b50c2002df702c507421bde", "message": "[DROOLS-5372] Add specific message for missing PMML result. Working on tests (currently broken when run together)", "committedDate": "2020-06-11T07:27:14Z", "type": "commit"}, {"oid": "aeb07adcb468e27eff2c087ed61e8d657360772a", "url": "https://github.com/kiegroup/drools/commit/aeb07adcb468e27eff2c087ed61e8d657360772a", "message": "Merge branch 'master' into DROOLS-5372", "committedDate": "2020-06-11T07:32:38Z", "type": "commit"}, {"oid": "628aee3515caf031794523f89222ebef64c9bc0a", "url": "https://github.com/kiegroup/drools/commit/628aee3515caf031794523f89222ebef64c9bc0a", "message": "[DROOLS-5258] Working with tests. Currently broken if DMNTreePMMLTest and DMNTreePMMLNewImplTest run concurrently.\nLOT of System.out.println to remove", "committedDate": "2020-06-11T15:38:13Z", "type": "commit"}, {"oid": "4f6240cf6317fdee876a085f5eb17fbfe347abe2", "url": "https://github.com/kiegroup/drools/commit/4f6240cf6317fdee876a085f5eb17fbfe347abe2", "message": "[DROOLS-5372] Working with tests. Currently broken if DMNTreePMMLTest and DMNTreePMMLNewImplTest run concurrently.\nLOT of System.out.println to remove", "committedDate": "2020-06-11T15:38:59Z", "type": "commit"}, {"oid": "9d4e925f944f3b3485ad71e8e21c66f53c1e8fed", "url": "https://github.com/kiegroup/drools/commit/9d4e925f944f3b3485ad71e8e21c66f53c1e8fed", "message": "Merge branch 'DROOLS-5372' of github.com:gitgabrio/drools into DROOLS-5372", "committedDate": "2020-06-11T15:39:38Z", "type": "commit"}, {"oid": "02673158812e720c1e1862d4379c2e9980cc1f81", "url": "https://github.com/kiegroup/drools/commit/02673158812e720c1e1862d4379c2e9980cc1f81", "message": "[DROOLS-5372] Implemented reset workaround", "committedDate": "2020-06-15T15:03:36Z", "type": "commit"}, {"oid": "623f03f6b59d4baae90e927b207cae9f982beceb", "url": "https://github.com/kiegroup/drools/commit/623f03f6b59d4baae90e927b207cae9f982beceb", "message": "[DROOLS-5372] Fixed DMN-PMML tests", "committedDate": "2020-06-15T15:43:00Z", "type": "commit"}, {"oid": "df529ffbbdfd8a55f8b4ad5e8774067752529808", "url": "https://github.com/kiegroup/drools/commit/df529ffbbdfd8a55f8b4ad5e8774067752529808", "message": "[DROOLS-5372] Replaced ContextClassLoader.loadClass(...) with Class.forName(...)", "committedDate": "2020-06-16T08:04:34Z", "type": "commit"}, {"oid": "78156d8aaf79d5949db204458805b64351bb2eca", "url": "https://github.com/kiegroup/drools/commit/78156d8aaf79d5949db204458805b64351bb2eca", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5372", "committedDate": "2020-06-16T08:56:01Z", "type": "commit"}, {"oid": "d4062f6999a4a4553bfa4fc7b3cc32fd292ad03f", "url": "https://github.com/kiegroup/drools/commit/d4062f6999a4a4553bfa4fc7b3cc32fd292ad03f", "message": "Merge branch 'DROOLS-5372' into DROOLS-5247\n\n# Conflicts:\n#\tkie-pmml-new/kie-pmml-commons/src/main/java/org/kie/pmml/commons/model/KiePMMLModel.java\n#\tkie-pmml-new/kie-pmml-compiler/kie-pmml-compiler-api/src/main/java/org/kie/pmml/compiler/api/provider/ModelImplementationProvider.java\n#\tkie-pmml-new/kie-pmml-compiler/kie-pmml-compiler-commons/src/main/java/org/kie/pmml/compiler/commons/implementations/KiePMMLModelRetriever.java\n#\tkie-pmml-new/kie-pmml-compiler/kie-pmml-compiler-core/src/main/java/org/kie/pmml/compiler/executor/PMMLCompilerImpl.java\n#\tkie-pmml-new/kie-pmml-evaluator/kie-pmml-evaluator-core/src/main/java/org/kie/pmml/evaluator/core/service/PMMLRuntimeImpl.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-common/src/main/java/org/kie/pmml/models/drools/provider/DroolsModelProvider.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-tree/kie-pmml-models-drools-tree-compiler/src/main/java/org/kie/pmml/models/drools/tree/compiler/executor/TreeModelImplementationProvider.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-tree/kie-pmml-models-drools-tree-compiler/src/main/java/org/kie/pmml/models/drools/tree/compiler/factories/KiePMMLTreeModelFactory.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-tree/kie-pmml-models-drools-tree-compiler/src/test/java/org/kie/pmml/models/drools/tree/compiler/factories/KiePMMLTreeModelFactoryTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-tree/kie-pmml-models-drools-tree-evaluator/src/test/java/org/kie/pmml/models/drools/tree/evaluator/PMMLTreeModelEvaluatorTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-tree/kie-pmml-models-drools-tree-tests/src/test/java/org/kie/pmml/models/drools/tree/tests/AbstractPMMLTreeTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-compiler/src/main/java/org/kie/pmml/models/regression/compiler/executor/RegressionModelImplementationProvider.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-compiler/src/main/java/org/kie/pmml/models/regression/compiler/factories/KiePMMLRegressionModelFactory.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-compiler/src/test/java/org/kie/pmml/models/regression/compiler/executor/RegressionModelImplementationProviderTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-compiler/src/test/java/org/kie/pmml/models/regression/compiler/factories/KiePMMLRegressionModelFactoryTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-tests/src/test/java/org/kie/pmml/regression/tests/AbstractPMMLRegressionTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-tests/src/test/java/org/kie/pmml/regression/tests/LogisticRegressionNoneNormalizationTest.java\n#\tkie-pmml-new/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-tests/src/test/java/org/kie/pmml/regression/tests/NormalizationMethodsRegressionTest.java", "committedDate": "2020-06-16T08:59:24Z", "type": "commit"}, {"oid": "b4acfbcf1ce39ac844f46e13bbc6588c4b973bea", "url": "https://github.com/kiegroup/drools/commit/b4acfbcf1ce39ac844f46e13bbc6588c4b973bea", "message": "[DROOLS-5247] Begin modifications", "committedDate": "2020-06-19T10:12:03Z", "type": "commit"}, {"oid": "dd4bb69b24c178eeddcc994fe95a1c4463a41ac4", "url": "https://github.com/kiegroup/drools/commit/dd4bb69b24c178eeddcc994fe95a1c4463a41ac4", "message": "Merge branch 'master' into DROOLS-5247\n\n# Conflicts:\n#\tkie-dmn/kie-dmn-core/pom.xml\n#\tkie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/pmml/AbstractDMNKiePMMLInvocationEvaluator.java\n#\tkie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/pmml/AbstractPMMLInvocationEvaluator.java\n#\tkie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/pmml/DMNKiePMMLInvocationEvaluator.java\n#\tkie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/pmml/DMNKiePMMLNewInvocationEvaluator.java\n#\tkie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/util/KieHelper.java\n#\tkie-dmn/kie-dmn-core/src/test/java/org/kie/dmn/core/pmml/DMNTreePMMLNewImplTest.java\n#\tkie-dmn/kie-dmn-core/src/test/java/org/kie/dmn/core/util/DMNRuntimeUtil.java", "committedDate": "2020-06-22T15:28:55Z", "type": "commit"}, {"oid": "50d010ecdd96e80846fd5fb00d07f7e14936809e", "url": "https://github.com/kiegroup/drools/commit/50d010ecdd96e80846fd5fb00d07f7e14936809e", "message": "[DROOLS-5247] Removed unused import", "committedDate": "2020-06-22T15:30:19Z", "type": "commit"}, {"oid": "85a162ead002405e8762b88ef681eb2f58a98b5d", "url": "https://github.com/kiegroup/drools/commit/85a162ead002405e8762b88ef681eb2f58a98b5d", "message": "[DROOLS-5448] Add TransformationDictionary to \"compiler\" stack methods. Implemented transformations flow inside Runtime.", "committedDate": "2020-06-23T16:43:11Z", "type": "commit"}, {"oid": "945486ac4696ad6a05bcced78e98fd86b3ab9149", "url": "https://github.com/kiegroup/drools/commit/945486ac4696ad6a05bcced78e98fd86b3ab9149", "message": "[DROOLS-5247] Begin implementation of actual Transformation management", "committedDate": "2020-06-23T16:51:09Z", "type": "commit"}, {"oid": "64bae84f6727c1d258a9ee9208bb4b087a1652be", "url": "https://github.com/kiegroup/drools/commit/64bae84f6727c1d258a9ee9208bb4b087a1652be", "message": "Merge remote-tracking branch 'gitgabrio/DROOLS-5448' into DROOLS-5247\n\n# Conflicts:\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/implementations/KiePMMLModelRetrieverTest.java\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/mocks/TestingModelImplementationProvider.java", "committedDate": "2020-06-23T16:53:07Z", "type": "commit"}, {"oid": "48dfe1575e04da10aa84dc9b0abe69e8b4beeed9", "url": "https://github.com/kiegroup/drools/commit/48dfe1575e04da10aa84dc9b0abe69e8b4beeed9", "message": "[DROOLS-5448] Make all parameters \"final\" in modified classes. Fixed local transformations logic inside PMMLRuntimeImpl", "committedDate": "2020-06-24T08:19:50Z", "type": "commit"}, {"oid": "2cf24e7ad6d2f45ebcf43b83c6bd068a58d8099c", "url": "https://github.com/kiegroup/drools/commit/2cf24e7ad6d2f45ebcf43b83c6bd068a58d8099c", "message": "[DROOLS-5448] Return unmodifiable maps from PMMLContextImpl", "committedDate": "2020-06-24T08:27:49Z", "type": "commit"}, {"oid": "8c1f362154ad35a3f6993680a85e594bcf41b7b2", "url": "https://github.com/kiegroup/drools/commit/8c1f362154ad35a3f6993680a85e594bcf41b7b2", "message": "[DROOLS-5247] Invoking populateTransformationsInConstructor from models factories", "committedDate": "2020-06-24T08:33:03Z", "type": "commit"}, {"oid": "eafe68b0bbf3bc77e7b128e41382169e5aee0367", "url": "https://github.com/kiegroup/drools/commit/eafe68b0bbf3bc77e7b128e41382169e5aee0367", "message": "Merge remote-tracking branch 'gitgabrio/DROOLS-5448' into DROOLS-5247", "committedDate": "2020-06-24T08:33:42Z", "type": "commit"}, {"oid": "b1bf2a4eea08f137b4c2bae70348f9fdea6067f8", "url": "https://github.com/kiegroup/drools/commit/b1bf2a4eea08f137b4c2bae70348f9fdea6067f8", "message": "[DROOLS-5247] Renamed for consistence with current module name", "committedDate": "2020-06-24T15:28:27Z", "type": "commit"}, {"oid": "5491ef81ef3e0a94f246686557132d61aacf92eb", "url": "https://github.com/kiegroup/drools/commit/5491ef81ef3e0a94f246686557132d61aacf92eb", "message": "[DROOLS-5247] Begin implementation of codegen for specific Expressions", "committedDate": "2020-06-25T13:08:25Z", "type": "commit"}, {"oid": "33fb044a708c737e128467796b98301edd5d1626", "url": "https://github.com/kiegroup/drools/commit/33fb044a708c737e128467796b98301edd5d1626", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5247\n\n# Conflicts:\n#\tkie-pmml-trusty/kie-pmml-models/kie-pmml-models-regression/kie-pmml-models-regression-compiler/src/main/java/org/kie/pmml/models/regression/compiler/factories/KiePMMLRegressionModelFactory.java", "committedDate": "2020-06-25T13:16:09Z", "type": "commit"}, {"oid": "43e0a6f50654af942f9cee19d060032422c8e21b", "url": "https://github.com/kiegroup/drools/commit/43e0a6f50654af942f9cee19d060032422c8e21b", "message": "[DROOLS-5247] Add Javadocs to illustrate generated code", "committedDate": "2020-06-25T16:08:49Z", "type": "commit"}, {"oid": "df336f9512ace14c7445cc58a0a0d9dcd4729047", "url": "https://github.com/kiegroup/drools/commit/df336f9512ace14c7445cc58a0a0d9dcd4729047", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5247", "committedDate": "2020-06-29T08:24:40Z", "type": "commit"}, {"oid": "db9fcb41ffe0a1b9ce5dfe0a6e684546e9773912", "url": "https://github.com/kiegroup/drools/commit/db9fcb41ffe0a1b9ce5dfe0a6e684546e9773912", "message": "[DROOLS-5247] Add method to CommonCodegenUtils. Update relevant tests", "committedDate": "2020-06-29T14:10:28Z", "type": "commit"}, {"oid": "daf5cfe8741f0d347fc382ae233b3f6cb7ae5078", "url": "https://github.com/kiegroup/drools/commit/daf5cfe8741f0d347fc382ae233b3f6cb7ae5078", "message": "[DROOLS-5247] Add method to DerivedFieldFunctionUtils. Update relevant tests", "committedDate": "2020-06-29T14:35:43Z", "type": "commit"}, {"oid": "cb6cbc84b58b6d669e81966f48af0bf1cb4b1dcc", "url": "https://github.com/kiegroup/drools/commit/cb6cbc84b58b6d669e81966f48af0bf1cb4b1dcc", "message": "[DROOLS-5247] Add new values to DATA_TYPE to match new DataType definition", "committedDate": "2020-06-29T15:02:00Z", "type": "commit"}, {"oid": "2f4afc4e49ce42760d1ccb9583b507d177b4ad64", "url": "https://github.com/kiegroup/drools/commit/2f4afc4e49ce42760d1ccb9583b507d177b4ad64", "message": "[DROOLS-5247] Implemented KiePMMLDerivedFieldASTFactory. Implemented KiePMMLDerivedFieldASTFactoryTest", "committedDate": "2020-06-29T15:02:51Z", "type": "commit"}, {"oid": "c7299312e90bbc25498bda63af6e8fdaae43e295", "url": "https://github.com/kiegroup/drools/commit/c7299312e90bbc25498bda63af6e8fdaae43e295", "message": "[DROOLS-5247] Add common methods to DroolsModelProvider. Implemented DroolsModelProviderTest", "committedDate": "2020-06-30T10:21:57Z", "type": "commit"}, {"oid": "19783255705a993bf815c547fd7a89f639dbdbcc", "url": "https://github.com/kiegroup/drools/commit/19783255705a993bf815c547fd7a89f639dbdbcc", "message": "[DROOLS-5247] Regression tests", "committedDate": "2020-06-30T12:11:31Z", "type": "commit"}, {"oid": "f54be3a058d3a304cf4fed6d4919ab18a34de7e3", "url": "https://github.com/kiegroup/drools/commit/f54be3a058d3a304cf4fed6d4919ab18a34de7e3", "message": "[DROOLS-5247] Minor fixes", "committedDate": "2020-06-30T12:20:41Z", "type": "commit"}, {"oid": "ee5021c110dd393bb9834708e169b645858a8289", "url": "https://github.com/kiegroup/drools/commit/ee5021c110dd393bb9834708e169b645858a8289", "message": "[DROOLS-5247] Add common methods to DroolsModelProvider. Implemented DroolsModelProviderTest", "committedDate": "2020-06-30T12:22:42Z", "type": "commit"}, {"oid": "f27514d486344f839c79b820f185dadceddbb12b", "url": "https://github.com/kiegroup/drools/commit/f27514d486344f839c79b820f185dadceddbb12b", "message": "[DROOLS-5247] Add Scorecard/TreeModel integration tests with transformations", "committedDate": "2020-06-30T12:23:33Z", "type": "commit"}, {"oid": "2f681ceaa00a69afc3cf4391a6dd8fc544b253d1", "url": "https://github.com/kiegroup/drools/commit/2f681ceaa00a69afc3cf4391a6dd8fc544b253d1", "message": "[DROOLS-5247] Add MISSING_BODY_TEMPLATE constant", "committedDate": "2020-06-30T12:28:29Z", "type": "commit"}, {"oid": "39e4d6eabded4830f1019b66931090db074e757f", "url": "https://github.com/kiegroup/drools/commit/39e4d6eabded4830f1019b66931090db074e757f", "message": "[DROOLS-5247] Add Transformations management inside KiePMMLModelFactoryUtils. Implemented tests", "committedDate": "2020-06-30T13:38:13Z", "type": "commit"}, {"oid": "82113d325d5886c1b178b9062440310995c6cd00", "url": "https://github.com/kiegroup/drools/commit/82113d325d5886c1b178b9062440310995c6cd00", "message": "[DROOLS-5247] Add TransformationDictionary parameter inside KiePMMLModelRetriever methods. Implemented/updated tests", "committedDate": "2020-06-30T13:46:06Z", "type": "commit"}, {"oid": "b4278c2c652071b0b3e52139f520162508a2ac22", "url": "https://github.com/kiegroup/drools/commit/b4278c2c652071b0b3e52139f520162508a2ac22", "message": "[DROOLS-5247] Updated KiePMMLRegressionModelFactory. Implemented/updated tests", "committedDate": "2020-06-30T14:25:07Z", "type": "commit"}, {"oid": "11ebc23060548efc3fe26a36a94dbbcc77345c48", "url": "https://github.com/kiegroup/drools/commit/11ebc23060548efc3fe26a36a94dbbcc77345c48", "message": "[DROOLS-5247] Avoid NPE inside KiePMMLRegressionTableClassificationFactory", "committedDate": "2020-06-30T14:30:22Z", "type": "commit"}, {"oid": "7a512c1ec61afbb42d68cbdabb5dae491be66ec8", "url": "https://github.com/kiegroup/drools/commit/7a512c1ec61afbb42d68cbdabb5dae491be66ec8", "message": "[DROOLS-5247] Removing MISSING_BODY_TEMPLATE and importing from Constants", "committedDate": "2020-06-30T14:31:21Z", "type": "commit"}, {"oid": "89bab1cc472b1f05eba51e78cff569e0f8302e33", "url": "https://github.com/kiegroup/drools/commit/89bab1cc472b1f05eba51e78cff569e0f8302e33", "message": "[DROOLS-5247] Moved List<KiePMMLDroolsType> types population in DroolsModelProvider.getKiePMMLDroolsASTCommon. Updated tests", "committedDate": "2020-06-30T14:52:05Z", "type": "commit"}, {"oid": "a7877fe90da73c6e9228d86fc635d3e14a3accfe", "url": "https://github.com/kiegroup/drools/commit/a7877fe90da73c6e9228d86fc635d3e14a3accfe", "message": "[DROOLS-5247] Renaming/clean up tests", "committedDate": "2020-06-30T14:52:38Z", "type": "commit"}, {"oid": "cb87da6de23f9dc9f440f1aec60744278e42af23", "url": "https://github.com/kiegroup/drools/commit/cb87da6de23f9dc9f440f1aec60744278e42af23", "message": "[DROOLS-5247] Add transformations management inside KiePMMLScorecardModelFactory generated sources. Updated tests", "committedDate": "2020-06-30T15:15:58Z", "type": "commit"}, {"oid": "1dac2c626760e2d20b1e2a2a99520d3725e42bce", "url": "https://github.com/kiegroup/drools/commit/1dac2c626760e2d20b1e2a2a99520d3725e42bce", "message": "[DROOLS-5247] Add transformations management inside KiePMMLTreeModelFactory generated sources. Updated tests", "committedDate": "2020-06-30T15:22:16Z", "type": "commit"}, {"oid": "c5ceb3a8161218545c36f9aa1a40f466f53b356e", "url": "https://github.com/kiegroup/drools/commit/c5ceb3a8161218545c36f9aa1a40f466f53b356e", "message": "[DROOLS-5461] Fixing build/test", "committedDate": "2020-07-01T07:44:01Z", "type": "commit"}, {"oid": "781b3d9d8d9ec7fae304efc9f63ddc1d331e7405", "url": "https://github.com/kiegroup/drools/commit/781b3d9d8d9ec7fae304efc9f63ddc1d331e7405", "message": "[DROOLS-5461] Fixing as per PR review", "committedDate": "2020-07-01T09:45:17Z", "type": "commit"}, {"oid": "9d7288ba2b02404cf695a5b68dfb9dd067587dcb", "url": "https://github.com/kiegroup/drools/commit/9d7288ba2b02404cf695a5b68dfb9dd067587dcb", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5461\n\n# Conflicts:\n#\tkie-dmn/kie-dmn-core/src/test/java/org/kie/dmn/core/pmml/DMNTreePMMLTrustyImplTest.java\n#\tkie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests/src/test/java/org/kie/dmn/pmml/DMNTreePMMLTest.java", "committedDate": "2020-07-01T11:55:51Z", "type": "commit"}, {"oid": "bf756811ca4fd0087f7714dbe8fd2a5bc2a2d3ca", "url": "https://github.com/kiegroup/drools/commit/bf756811ca4fd0087f7714dbe8fd2a5bc2a2d3ca", "message": "[DROOLS-5461] Fixing merge", "committedDate": "2020-07-01T13:43:42Z", "type": "commit"}, {"oid": "03d6416dbcd54db05512e9db0f775ad203f92baf", "url": "https://github.com/kiegroup/drools/commit/03d6416dbcd54db05512e9db0f775ad203f92baf", "message": "[DROOLS-5461] Removing extensions data types from DATA_TYPE. Fixed test that used them", "committedDate": "2020-07-01T13:54:36Z", "type": "commit"}, {"oid": "d77284655722c3ccdb37f6bad5bc5da0cb8fdd8b", "url": "https://github.com/kiegroup/drools/commit/d77284655722c3ccdb37f6bad5bc5da0cb8fdd8b", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5247\n\n# Conflicts:\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/utils/DerivedFieldFunctionUtilsTest.java", "committedDate": "2020-07-02T07:13:49Z", "type": "commit"}, {"oid": "a2c881d4c0afe2cf369a5998e897ed76f394d435", "url": "https://github.com/kiegroup/drools/commit/a2c881d4c0afe2cf369a5998e897ed76f394d435", "message": "[DROOLS-5472] Implemented ExpressionFunctionUtils. Removed \"method arity\" management from CommonCodeGenUtils. Implemented/updated tests", "committedDate": "2020-07-02T08:38:10Z", "type": "commit"}, {"oid": "393bcc6c1c53795bb8db6a801d2a43693deef66d", "url": "https://github.com/kiegroup/drools/commit/393bcc6c1c53795bb8db6a801d2a43693deef66d", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5247\n\n# Conflicts:\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/main/java/org/kie/pmml/compiler/commons/utils/CommonCodegenUtils.java\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/main/java/org/kie/pmml/compiler/commons/utils/DerivedFieldFunctionUtils.java\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/main/java/org/kie/pmml/compiler/commons/utils/ExpressionFunctionUtils.java\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/utils/CommonCodegenUtilsTest.java\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/utils/DerivedFieldFunctionUtilsTest.java\n#\tkie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/utils/ExpressionFunctionUtilsTest.java", "committedDate": "2020-07-08T05:25:40Z", "type": "commit"}, {"oid": "17ec3f2acace41333653803f1eff4906d75aa10a", "url": "https://github.com/kiegroup/drools/commit/17ec3f2acace41333653803f1eff4906d75aa10a", "message": "[DROOLS-5247] Updated Release.md", "committedDate": "2020-07-08T05:38:52Z", "type": "commit"}, {"oid": "2314273142b71765af6f01557136e99ebfc1165c", "url": "https://github.com/kiegroup/drools/commit/2314273142b71765af6f01557136e99ebfc1165c", "message": "[DROOLS-5492] Propagating PMMLRuntime to DMNKiePMMLTrustyInvocationEvaluator", "committedDate": "2020-07-08T10:23:24Z", "type": "commit"}, {"oid": "e241e65a96d61a9e91a654b43595ed13721fb0df", "url": "https://github.com/kiegroup/drools/commit/e241e65a96d61a9e91a654b43595ed13721fb0df", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5492", "committedDate": "2020-07-08T10:24:28Z", "type": "commit"}, {"oid": "e0104f6af0e3a890ce672d90f8e9f234bb1f1a67", "url": "https://github.com/kiegroup/drools/commit/e0104f6af0e3a890ce672d90f8e9f234bb1f1a67", "message": "Merge branch 'DROOLS-5492' into DROOLS-5493", "committedDate": "2020-07-09T15:09:29Z", "type": "commit"}, {"oid": "ed5b66bd633ccd1e69e4b1b1c114f7e773a343cf", "url": "https://github.com/kiegroup/drools/commit/ed5b66bd633ccd1e69e4b1b1c114f7e773a343cf", "message": "[DROOLS-5493] Adapting to kogito environment", "committedDate": "2020-07-14T10:11:17Z", "type": "commit"}, {"oid": "36fcee51f6f7f81bd7c0fdd0191c887864c17fc4", "url": "https://github.com/kiegroup/drools/commit/36fcee51f6f7f81bd7c0fdd0191c887864c17fc4", "message": "[DROOLS-5491] Working DMN+PMML integration", "committedDate": "2020-07-15T14:39:32Z", "type": "commit"}, {"oid": "742ced94393239e426b6ab8043d42dbbbca706e4", "url": "https://github.com/kiegroup/drools/commit/742ced94393239e426b6ab8043d42dbbbca706e4", "message": "[DROOLS-5491] Cleanup", "committedDate": "2020-07-15T15:38:47Z", "type": "commit"}, {"oid": "8300ba35dbe0f366afb5b694afbbb495656caf4c", "url": "https://github.com/kiegroup/drools/commit/8300ba35dbe0f366afb5b694afbbb495656caf4c", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5491\n\n# Conflicts:\n#\tkie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java", "committedDate": "2020-07-16T07:22:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk3NTA2Nw==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r455975067", "bodyText": "I'm not sure about this change, DMN supports multiple PMML implementation so we should not have an hard link with a specific impl but we should find a way to decouple it (/cc @tarilabs )", "author": "danielezonca", "createdAt": "2020-07-16T18:06:07Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java", "diffHunk": "@@ -45,5 +46,13 @@\n      */\n     InternalKnowledgeBase getInternalKnowledgeBase();\n \n+    /**\n+     *\n+     * @param sanitizedKieBase\n+     * @return\n+     * @throws UnsupportedOperationException if not supported on this platform.\n+     */\n+    PMMLRuntime getPMMLRuntime(String sanitizedKieBase);", "originalCommit": "8300ba35dbe0f366afb5b694afbbb495656caf4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk5MjQxMQ==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r455992411", "bodyText": "I concur, when I spoke with @gitgabrio I suggested to make the change in this interface, which is good, but I suggested to investigate if possible to avoid having the String sanitizedKieBase parameter at least. O/w this shall be renamed something like getPMMLTrustyRuntime();", "author": "tarilabs", "createdAt": "2020-07-16T18:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk3NTA2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM5MTk5Mg==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r456391992", "bodyText": "@tarilabs @danielezonca\nFrom a functional point of view DMNRuntimeKB emulates the KieBase. As such, it has to emulate also the functionalities, i.e. returns a PMMLRuntime based on the model name. This is why that parameter is needed - you may see its usage inside DMNRuntimeBuilder.DMNRuntimeKBStatic.\nAbout renaming - I don't see any reason. There is not any other \"PMMLRuntime\" around; the \"legacy\" implementation is meant to be removed, and the fact that PMMLRuntime is used for TrustyAI is a detail. From an overall point of view PMML is a sibling of DMN and other models.", "author": "gitgabrio", "createdAt": "2020-07-17T11:47:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk3NTA2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODU3NDgyOQ==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458574829", "bodyText": "@danielezonca @tarilabs\nReplaced with KieRuntimeFactory", "author": "gitgabrio", "createdAt": "2020-07-22T06:56:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk3NTA2Nw=="}], "type": "inlineReview", "revised_code": {"commit": "c2336bf2ce69fa34b9448656a0193a1d3abdfab0", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\nindex 424cacb514..a66aab2a8a 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\n\n@@ -48,11 +48,11 @@ public interface DMNRuntimeKB {\n \n     /**\n      *\n-     * @param sanitizedKieBase\n+     * @param modelName\n      * @return\n      * @throws UnsupportedOperationException if not supported on this platform.\n      */\n-    PMMLRuntime getPMMLRuntime(String sanitizedKieBase);\n+    KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName);\n \n \n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyNzYyNg==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r456427626", "bodyText": "Please put throw to its own line.", "author": "jiripetrlik", "createdAt": "2020-07-17T13:02:43Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java", "diffHunk": "@@ -61,4 +62,7 @@ public InternalKnowledgeBase getInternalKnowledgeBase() {\n         throw new UnsupportedOperationException();\n     }\n \n+    @Override\n+    public PMMLRuntime getPMMLRuntime(String sanitizedKieBase) { throw new UnsupportedOperationException();", "originalCommit": "8300ba35dbe0f366afb5b694afbbb495656caf4c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c2336bf2ce69fa34b9448656a0193a1d3abdfab0", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\nindex 87c52f26ab..40d75d59a5 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\n\n@@ -63,6 +63,7 @@ public class VoidDMNRuntimeKB implements DMNRuntimeKB {\n     }\n \n     @Override\n-    public PMMLRuntime getPMMLRuntime(String sanitizedKieBase) { throw new UnsupportedOperationException();\n+    public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n+        throw new UnsupportedOperationException();\n     }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyODIwMA==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r456428200", "bodyText": "Remove empty lines.", "author": "jiripetrlik", "createdAt": "2020-07-17T13:03:51Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java", "diffHunk": "@@ -266,5 +282,17 @@ public InternalKnowledgeBase getInternalKnowledgeBase() {\n             throw new UnsupportedOperationException();\n         }\n \n+        @Override\n+        public PMMLRuntime getPMMLRuntime(String sanitizedKieBase) {\n+            return pmmlRuntimes.values().stream()\n+                    .filter(pmmlRuntime ->  pmmlRuntime.getModels().stream().anyMatch(kiePMMLModel -> {\n+                        String originalSanitizedKieBase = getSanitizedPackageName(kiePMMLModel.getName());\n+                        return Objects.equals(sanitizedKieBase, originalSanitizedKieBase);\n+                    }))\n+                    .findFirst()\n+                    .orElseThrow(() -> new RuntimeException(String.format(\"Failed to find a PMMLRuntime for %s\", sanitizedKieBase)));\n+        }\n+\n+", "originalCommit": "8300ba35dbe0f366afb5b694afbbb495656caf4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODU3NTY3OA==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458575678", "bodyText": "@jiripetrlik\ndone", "author": "gitgabrio", "createdAt": "2020-07-22T06:58:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyODIwMA=="}], "type": "inlineReview", "revised_code": {"commit": "c2336bf2ce69fa34b9448656a0193a1d3abdfab0", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\nindex e43fe7b3e0..51e3f7ac70 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\n@@ -283,16 +279,8 @@ public class DMNRuntimeBuilder {\n         }\n \n         @Override\n-        public PMMLRuntime getPMMLRuntime(String sanitizedKieBase) {\n-            return pmmlRuntimes.values().stream()\n-                    .filter(pmmlRuntime ->  pmmlRuntime.getModels().stream().anyMatch(kiePMMLModel -> {\n-                        String originalSanitizedKieBase = getSanitizedPackageName(kiePMMLModel.getName());\n-                        return Objects.equals(sanitizedKieBase, originalSanitizedKieBase);\n-                    }))\n-                    .findFirst()\n-                    .orElseThrow(() -> new RuntimeException(String.format(\"Failed to find a PMMLRuntime for %s\", sanitizedKieBase)));\n+        public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n+            return kiePMMLRuntimeFactoryFunction.apply(modelName);\n         }\n-\n-\n     }\n-}\n+}\n\\ No newline at end of file\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyOTg4MA==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r456429880", "bodyText": "Please remove unused import (see it in Sonar cloud code smells).", "author": "jiripetrlik", "createdAt": "2020-07-17T13:07:00Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java", "diffHunk": "@@ -31,7 +31,11 @@\n import org.drools.core.definitions.ResourceTypePackageRegistry;\n import org.drools.core.impl.InternalKnowledgeBase;\n import org.drools.core.impl.KnowledgeBaseImpl;\n+import org.drools.core.marshalling.impl.ProtobufMessages;", "originalCommit": "8300ba35dbe0f366afb5b694afbbb495656caf4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODU3NTU2Ng==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458575566", "bodyText": "@jiripetrlik\ndone", "author": "gitgabrio", "createdAt": "2020-07-22T06:58:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyOTg4MA=="}], "type": "inlineReview", "revised_code": {"commit": "c2336bf2ce69fa34b9448656a0193a1d3abdfab0", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\nindex 492d33b4c6..40ce82b1bb 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\n\n@@ -31,7 +31,6 @@ import org.drools.core.definitions.InternalKnowledgePackage;\n import org.drools.core.definitions.ResourceTypePackageRegistry;\n import org.drools.core.impl.InternalKnowledgeBase;\n import org.drools.core.impl.KnowledgeBaseImpl;\n-import org.drools.core.marshalling.impl.ProtobufMessages;\n import org.kie.api.KieBase;\n import org.kie.api.io.ResourceType;\n import org.kie.api.runtime.KieContainer;\n"}}, {"oid": "c2336bf2ce69fa34b9448656a0193a1d3abdfab0", "url": "https://github.com/kiegroup/drools/commit/c2336bf2ce69fa34b9448656a0193a1d3abdfab0", "message": "[DROOLS-5491] Replacing PMMLRuntime propagation", "committedDate": "2020-07-21T08:59:43Z", "type": "commit"}, {"oid": "803b29cf93721eea4dd75dd99eafd72328eecd7b", "url": "https://github.com/kiegroup/drools/commit/803b29cf93721eea4dd75dd99eafd72328eecd7b", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5491", "committedDate": "2020-07-21T08:59:57Z", "type": "commit"}, {"oid": "b5e22349b06b45298012b8c8a8ff8d68e3e22d46", "url": "https://github.com/kiegroup/drools/commit/b5e22349b06b45298012b8c8a8ff8d68e3e22d46", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5491", "committedDate": "2020-07-22T06:59:18Z", "type": "commit"}, {"oid": "96bac765bc38c2502f19fb035f96c746c632efb7", "url": "https://github.com/kiegroup/drools/commit/96bac765bc38c2502f19fb035f96c746c632efb7", "message": "[DROOLS-5491] Add tests", "committedDate": "2020-07-22T10:12:44Z", "type": "commit"}, {"oid": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "url": "https://github.com/kiegroup/drools/commit/62caef2cb5f713d1908567b9a4f9a8a697383dac", "message": "[DROOLS-5491] Fixed as per PR suggestions", "committedDate": "2020-07-22T10:20:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NDc3MQ==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458784771", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName);\n          \n          \n            \n                KieRuntimeFactory getKieRuntimeFactory(String kieBaseName);", "author": "tarilabs", "createdAt": "2020-07-22T13:19:17Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java", "diffHunk": "@@ -45,5 +46,13 @@\n      */\n     InternalKnowledgeBase getInternalKnowledgeBase();\n \n+    /**\n+     *\n+     * @param modelName\n+     * @return\n+     * @throws UnsupportedOperationException if not supported on this platform.\n+     */\n+    KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName);", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ba52b086b9ad35f5eca581836e55bdd2b24a7494", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\nindex a66aab2a8a..943a614008 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\n\n@@ -52,7 +52,7 @@ public interface DMNRuntimeKB {\n      * @return\n      * @throws UnsupportedOperationException if not supported on this platform.\n      */\n-    KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName);\n+    KieRuntimeFactory getKieRuntimeFactory(String kieBaseName);\n \n \n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NDk3MQ==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458784971", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n          \n          \n            \n                public KieRuntimeFactory getKieRuntimeFactory(String modelName) {", "author": "tarilabs", "createdAt": "2020-07-22T13:19:36Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java", "diffHunk": "@@ -52,6 +55,21 @@ public DMNRuntimeKBWrappingIKB(InternalKnowledgeBase knowledgeBase) {\n         this.knowledgeBase = knowledgeBase;\n     }\n \n+\n+    @Override\n+    public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f1bb9d9878bd407d50a41a703903fcd59930aa5c", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\nindex 40ce82b1bb..76ba5a6942 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\n\n@@ -57,7 +57,7 @@ public class DMNRuntimeKBWrappingIKB implements DMNRuntimeKB {\n \n \n     @Override\n-    public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n+    public KieRuntimeFactory getKieRuntimeFactory(String modelName) {\n         KieContainer kieContainer = ((KnowledgeBaseImpl) knowledgeBase).getKieContainer();\n         KieBase kieBase;\n         if (kieContainer.getKieBaseNames().contains(modelName)) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NTI0OQ==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458785249", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n          \n          \n            \n                public KieRuntimeFactory getKieRuntimeFactory(String modelName) {", "author": "tarilabs", "createdAt": "2020-07-22T13:20:00Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java", "diffHunk": "@@ -61,4 +62,8 @@ public InternalKnowledgeBase getInternalKnowledgeBase() {\n         throw new UnsupportedOperationException();\n     }\n \n+    @Override\n+    public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "4cabc6c4d4bb04215f99c6d5f14dc3cbde6830f5", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\nindex 40d75d59a5..0aa6d05bbd 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\n\n@@ -63,7 +63,7 @@ public class VoidDMNRuntimeKB implements DMNRuntimeKB {\n     }\n \n     @Override\n-    public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n+    public KieRuntimeFactory getKieRuntimeFactory(String modelName) {\n         throw new UnsupportedOperationException();\n     }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NjMyMQ==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458786321", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n          \n          \n            \n                    public KieRuntimeFactory getKieRuntimeFactory(String modelName) {", "author": "tarilabs", "createdAt": "2020-07-22T13:21:28Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java", "diffHunk": "@@ -266,5 +278,9 @@ public InternalKnowledgeBase getInternalKnowledgeBase() {\n             throw new UnsupportedOperationException();\n         }\n \n+        @Override\n+        public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "674e24942592aa0166bc53240d2e851f81343934", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\nindex 51e3f7ac70..64bd74610e 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\n@@ -279,8 +279,8 @@ public class DMNRuntimeBuilder {\n         }\n \n         @Override\n-        public KieRuntimeFactory getKiePMMLRuntimeFactory(String modelName) {\n+        public KieRuntimeFactory getKieRuntimeFactory(String modelName) {\n             return kiePMMLRuntimeFactoryFunction.apply(modelName);\n         }\n     }\n-}\n\\ No newline at end of file\n+}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NzA4Ng==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458787086", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;\n          \n          \n            \n                    private final Function<String, KieRuntimeFactory> kieRuntimeFactoryFunction;", "author": "tarilabs", "createdAt": "2020-07-22T13:22:34Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java", "diffHunk": "@@ -223,12 +233,14 @@ private DMNMarshaller getMarshaller() {\n         private final ClassLoader rootClassLoader;\n         private final List<DMNProfile> dmnProfiles;\n         private final List<DMNModel> models;\n+        private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "27a6fdb6c8132dd8092f407c9b97dce0ac3dc26f", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\nindex 51e3f7ac70..936f9d8c2a 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\n@@ -233,7 +233,7 @@ public class DMNRuntimeBuilder {\n         private final ClassLoader rootClassLoader;\n         private final List<DMNProfile> dmnProfiles;\n         private final List<DMNModel> models;\n-        private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;\n+        private final Function<String, KieRuntimeFactory> kieRuntimeFactoryFunction;\n \n         private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction) {\n             this.rootClassLoader = rootClassLoader;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NzE5MA==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458787190", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction) {\n          \n          \n            \n                    private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kieRuntimeFactoryFunction) {", "author": "tarilabs", "createdAt": "2020-07-22T13:22:43Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java", "diffHunk": "@@ -223,12 +233,14 @@ private DMNMarshaller getMarshaller() {\n         private final ClassLoader rootClassLoader;\n         private final List<DMNProfile> dmnProfiles;\n         private final List<DMNModel> models;\n+        private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;\n \n-        private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles) {\n+        private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction) {", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "27a6fdb6c8132dd8092f407c9b97dce0ac3dc26f", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\nindex 51e3f7ac70..936f9d8c2a 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\n@@ -233,7 +233,7 @@ public class DMNRuntimeBuilder {\n         private final ClassLoader rootClassLoader;\n         private final List<DMNProfile> dmnProfiles;\n         private final List<DMNModel> models;\n-        private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;\n+        private final Function<String, KieRuntimeFactory> kieRuntimeFactoryFunction;\n \n         private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction) {\n             this.rootClassLoader = rootClassLoader;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4NzMwNg==", "url": "https://github.com/kiegroup/drools/pull/2994#discussion_r458787306", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        this.kiePMMLRuntimeFactoryFunction = kiePMMLRuntimeFactoryFunction;\n          \n          \n            \n                        this.kieRuntimeFactoryFunction = kieRuntimeFactoryFunction;", "author": "tarilabs", "createdAt": "2020-07-22T13:22:51Z", "path": "kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java", "diffHunk": "@@ -223,12 +233,14 @@ private DMNMarshaller getMarshaller() {\n         private final ClassLoader rootClassLoader;\n         private final List<DMNProfile> dmnProfiles;\n         private final List<DMNModel> models;\n+        private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;\n \n-        private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles) {\n+        private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction) {\n             this.rootClassLoader = rootClassLoader;\n             LOG.trace(\"DMNRuntimeKBStatic rootClassLoader is set to {}\", rootClassLoader);\n             this.models = Collections.unmodifiableList(new ArrayList<>(models));\n             this.dmnProfiles = Collections.unmodifiableList(new ArrayList<>(dmnProfiles));\n+            this.kiePMMLRuntimeFactoryFunction = kiePMMLRuntimeFactoryFunction;", "originalCommit": "62caef2cb5f713d1908567b9a4f9a8a697383dac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "27a6fdb6c8132dd8092f407c9b97dce0ac3dc26f", "chunk": "diff --git a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\nindex 51e3f7ac70..936f9d8c2a 100644\n--- a/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n+++ b/kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\n@@ -233,7 +233,7 @@ public class DMNRuntimeBuilder {\n         private final ClassLoader rootClassLoader;\n         private final List<DMNProfile> dmnProfiles;\n         private final List<DMNModel> models;\n-        private final Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction;\n+        private final Function<String, KieRuntimeFactory> kieRuntimeFactoryFunction;\n \n         private DMNRuntimeKBStatic(ClassLoader rootClassLoader, Collection<DMNModel> models, Collection<DMNProfile> dmnProfiles, Function<String, KieRuntimeFactory> kiePMMLRuntimeFactoryFunction) {\n             this.rootClassLoader = rootClassLoader;\n"}}, {"oid": "79ec878ae0a23aa6f13a060d0565a2e1a3a42bd1", "url": "https://github.com/kiegroup/drools/commit/79ec878ae0a23aa6f13a060d0565a2e1a3a42bd1", "message": "[DROOLS-5491] Fixing package name resolution for Java 8", "committedDate": "2020-07-22T13:49:46Z", "type": "commit"}, {"oid": "ba52b086b9ad35f5eca581836e55bdd2b24a7494", "url": "https://github.com/kiegroup/drools/commit/ba52b086b9ad35f5eca581836e55bdd2b24a7494", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKB.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:53:39Z", "type": "commit"}, {"oid": "f1bb9d9878bd407d50a41a703903fcd59930aa5c", "url": "https://github.com/kiegroup/drools/commit/f1bb9d9878bd407d50a41a703903fcd59930aa5c", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/DMNRuntimeKBWrappingIKB.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:53:54Z", "type": "commit"}, {"oid": "4cabc6c4d4bb04215f99c6d5f14dc3cbde6830f5", "url": "https://github.com/kiegroup/drools/commit/4cabc6c4d4bb04215f99c6d5f14dc3cbde6830f5", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/impl/VoidDMNRuntimeKB.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:54:02Z", "type": "commit"}, {"oid": "674e24942592aa0166bc53240d2e851f81343934", "url": "https://github.com/kiegroup/drools/commit/674e24942592aa0166bc53240d2e851f81343934", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:54:20Z", "type": "commit"}, {"oid": "27a6fdb6c8132dd8092f407c9b97dce0ac3dc26f", "url": "https://github.com/kiegroup/drools/commit/27a6fdb6c8132dd8092f407c9b97dce0ac3dc26f", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:54:31Z", "type": "commit"}, {"oid": "506567cf8653b899f0a43c02d7f3fc6abfd7016a", "url": "https://github.com/kiegroup/drools/commit/506567cf8653b899f0a43c02d7f3fc6abfd7016a", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:54:42Z", "type": "commit"}, {"oid": "5223cdd2039ddcb259066ea623cf089a876f380d", "url": "https://github.com/kiegroup/drools/commit/5223cdd2039ddcb259066ea623cf089a876f380d", "message": "Update kie-dmn/kie-dmn-core/src/main/java/org/kie/dmn/core/internal/utils/DMNRuntimeBuilder.java\n\nCo-authored-by: Matteo Mortari <matteo.mortari@gmail.com>", "committedDate": "2020-07-22T13:54:54Z", "type": "commit"}, {"oid": "83aa4ec0ce916da5a78f4e99cda07c5ee6ac662a", "url": "https://github.com/kiegroup/drools/commit/83aa4ec0ce916da5a78f4e99cda07c5ee6ac662a", "message": "[DROOLS-5491] Fixed as per PR suggestion", "committedDate": "2020-07-22T14:01:39Z", "type": "commit"}]}