{"pr_number": 2841, "pr_title": "DROOLS-5222 DMN BKM / FEEL closure and currying support", "pr_createdAt": "2020-04-06T14:20:29Z", "pr_url": "https://github.com/kiegroup/drools/pull/2841", "timeline": [{"oid": "f8a9c3afa9d60ed28aba5aa373c93813def94223", "url": "https://github.com/kiegroup/drools/commit/f8a9c3afa9d60ed28aba5aa373c93813def94223", "message": "WIP missing tests.", "committedDate": "2020-04-02T11:55:57Z", "type": "commit"}, {"oid": "f427c82514b6a262787b87f367aafa931ad8559d", "url": "https://github.com/kiegroup/drools/commit/f427c82514b6a262787b87f367aafa931ad8559d", "message": "WIP 2 test failures", "committedDate": "2020-04-02T14:42:53Z", "type": "commit"}, {"oid": "d9a894835c3a99018f44ad648feffee5e93c9097", "url": "https://github.com/kiegroup/drools/commit/d9a894835c3a99018f44ad648feffee5e93c9097", "message": "Align to DROOLS-1701 User-defined fn FEEL functions are lexical closures\n\nDMN spec\n10.3.2.13.2 User-defined functions\nFEEL functions are lexical closures", "committedDate": "2020-04-02T17:23:19Z", "type": "commit"}, {"oid": "e7b75b2247ed3c505afe941564d4bcf37b49f200", "url": "https://github.com/kiegroup/drools/commit/e7b75b2247ed3c505afe941564d4bcf37b49f200", "message": "followup DROOLS-1550 DROOLS-1568", "committedDate": "2020-04-03T06:52:52Z", "type": "commit"}, {"oid": "4b81342b686b3441b38d76e4c618a7b95322996f", "url": "https://github.com/kiegroup/drools/commit/4b81342b686b3441b38d76e4c618a7b95322996f", "message": "WIP, breaks DMNRuntimeKiePMMLTest", "committedDate": "2020-04-03T10:51:45Z", "type": "commit"}, {"oid": "27751120ed471481267f85117565ba3107be34c3", "url": "https://github.com/kiegroup/drools/commit/27751120ed471481267f85117565ba3107be34c3", "message": "all passing.", "committedDate": "2020-04-03T12:58:08Z", "type": "commit"}, {"oid": "b37f7886dd94ef79d89f03545dcbaa51c498d574", "url": "https://github.com/kiegroup/drools/commit/b37f7886dd94ef79d89f03545dcbaa51c498d574", "message": "legacy-implementation-friendly implementation, all passing", "committedDate": "2020-04-03T13:54:33Z", "type": "commit"}, {"oid": "5cd555a9fe6014474f7df0bad3fbf12eabb3f32e", "url": "https://github.com/kiegroup/drools/commit/5cd555a9fe6014474f7df0bad3fbf12eabb3f32e", "message": "BKM currying test", "committedDate": "2020-04-06T07:38:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDYzOTM3Mg==", "url": "https://github.com/kiegroup/drools/pull/2841#discussion_r404639372", "bodyText": "Food for thought: wouldn't it be better to put this test's assertions in a resource file rather that in a java file? In that way we could avoid quoting and it could be more readable", "author": "lucamolteni", "createdAt": "2020-04-07T08:43:35Z", "path": "kie-dmn/kie-dmn-feel/src/test/java/org/kie/dmn/feel/runtime/FEELFunctionDefinitionTest.java", "diffHunk": "@@ -87,7 +87,9 @@\n                 {\"{ myimport : { f1 : function() \\\"Hi\\\", f2 : function() f1() + \\\" \\\" , x1 : function(name) f2() + name }, r1 : myimport.x1(\\\"John\\\") }.r1\", \"Hi John\", null },\n                 {\"{ m : { n : { o : { f1 : function() \\\"Hi\\\", f2 : function() f1() + \\\" \\\" , x1 : function(name) f2() + name }}}, r1 : m.n.o.x1(\\\"John\\\") }.r1\", \"Hi John\", null },\n                 {\"{ m : { n : { f1 : function() \\\"Hi\\\", f2 : function() f1() + \\\" \\\" , o : { x1 : function(name) f2() + name }}}, r1 : m.n.o.x1(\\\"John\\\") }.r1\", \"Hi John\", null },\n-                {\"{ m : { n : { f1 : function() \\\"Hi\\\", f2 : function() f1() + \\\" \\\" , o : { x1 : function(name) f2() + name }}}, r2 : m.n.f1() }.r2\", \"Hi\", null }\n+                {\"{ m : { n : { f1 : function() \\\"Hi\\\", f2 : function() f1() + \\\" \\\" , o : { x1 : function(name) f2() + name }}}, r2 : m.n.f1() }.r2\", \"Hi\", null },", "originalCommit": "5cd555a9fe6014474f7df0bad3fbf12eabb3f32e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDY3MzIyOQ==", "url": "https://github.com/kiegroup/drools/pull/2841#discussion_r404673229", "bodyText": "yes, ideally these tests will be refactored to be defined in a \"protocol\", \"spec\" document and JUnit Java code generated out of that. With the advantage, also, to be more practically run JUnit methods from IDEs as well.", "author": "tarilabs", "createdAt": "2020-04-07T09:36:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDYzOTM3Mg=="}], "type": "inlineReview", "revised_code": null}]}