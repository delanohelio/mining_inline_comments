{"pr_number": 3552, "pr_title": "Bindy unicode patch", "pr_createdAt": "2020-02-07T13:59:42Z", "pr_url": "https://github.com/apache/camel/pull/3552", "timeline": [{"oid": "79575a9720c360c2ceafde989a1d55bbdc9d343b", "url": "https://github.com/apache/camel/commit/79575a9720c360c2ceafde989a1d55bbdc9d343b", "message": "Added Unicode support to bindy fixed length format.", "committedDate": "2020-02-07T13:07:52Z", "type": "commit"}, {"oid": "9840a9ac5a7b1df7f818f8ebd6340654573382f9", "url": "https://github.com/apache/camel/commit/9840a9ac5a7b1df7f818f8ebd6340654573382f9", "message": "Adjustment to style guide for code.", "committedDate": "2020-02-07T13:32:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQyMzMzNA==", "url": "https://github.com/apache/camel/pull/3552#discussion_r376423334", "bodyText": "Please comments must be in English, if not, please remove the German one.", "author": "oscerd", "createdAt": "2020-02-07T14:38:30Z", "path": "components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java", "diffHunk": "@@ -0,0 +1,209 @@\n+package org.apache.camel.dataformat.bindy;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.ibm.icu.text.BreakIterator;\n+\n+/**\n+ * <p>Unterst\u00fctzung f\u00fcr String-Verarbeitung f\u00fcr Unicode-Strings</p>", "originalCommit": "9840a9ac5a7b1df7f818f8ebd6340654573382f9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d35fc16a0f6ebe6208345a6294f2a2b20927382f", "chunk": "diff --git a/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java b/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java\nindex b651b454e94..f55e4e2e923 100644\n--- a/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java\n+++ b/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java\n\n@@ -1,35 +1,47 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n package org.apache.camel.dataformat.bindy;\n \n+import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.List;\n import java.util.stream.Collectors;\n \n+import com.ibm.icu.text.BreakIterator;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-import com.ibm.icu.text.BreakIterator;\n-\n /**\n- * <p>Unterst\u00fctzung f\u00fcr String-Verarbeitung f\u00fcr Unicode-Strings</p>\n- * \n- * <p>Hinweise:</p>\n- * <ul>\n- *     <li>Die Schnittstelle orientiert sich an der von {@link String}.</li>\n- *     <li>Einmal erzeugt ist eine Instanz immutable.</li>\n- * </ul>\n+ * This class replicates the essential parts of the String class in order to aid\n+ * proper work for Unicode chars in the presense of UTF-16. So for all operations \n+ * please see {@link String} with the same signature. This class is equally immutable.\n  */\n-public class UnicodeHelper {\n+public class UnicodeHelper implements Serializable {\n     /**\n-     * <p>Definiert wie die L\u00e4nge eines Strings bzw. dessen Bestandteile &quot;Zeichen&quot; ermittelt wird.</p> \n+     * Defines how length if a string is defined, i.e how chars are counted.\n      */\n     public enum Method {\n         /**\n-         * <p>Die L\u00e4nge entspricht der Anzahl der (Unicode-)Codepoints.</p>\n+         * One \"char\" is one Unicode codepoint, which is the standard case.\n          */\n         CODEPOINTS,\n         \n         /**\n-         * <p>Die L\u00e4nge entspricht der Anzahl der Grapheme.</p>\n+         * One \"char\" is one graphem.\n          */\n         GRAPHEME;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQyMzU1OA==", "url": "https://github.com/apache/camel/pull/3552#discussion_r376423558", "bodyText": "https://github.com/search?q=org%3Aapache+%27com.ibm.icu.icu4j%27&type=Code", "author": "oscerd", "createdAt": "2020-02-07T14:38:54Z", "path": "components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java", "diffHunk": "@@ -0,0 +1,209 @@\n+package org.apache.camel.dataformat.bindy;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.ibm.icu.text.BreakIterator;\n+\n+/**\n+ * <p>Unterst\u00fctzung f\u00fcr String-Verarbeitung f\u00fcr Unicode-Strings</p>", "originalCommit": "9840a9ac5a7b1df7f818f8ebd6340654573382f9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d35fc16a0f6ebe6208345a6294f2a2b20927382f", "chunk": "diff --git a/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java b/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java\nindex b651b454e94..f55e4e2e923 100644\n--- a/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java\n+++ b/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/UnicodeHelper.java\n\n@@ -1,35 +1,47 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n package org.apache.camel.dataformat.bindy;\n \n+import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.List;\n import java.util.stream.Collectors;\n \n+import com.ibm.icu.text.BreakIterator;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-import com.ibm.icu.text.BreakIterator;\n-\n /**\n- * <p>Unterst\u00fctzung f\u00fcr String-Verarbeitung f\u00fcr Unicode-Strings</p>\n- * \n- * <p>Hinweise:</p>\n- * <ul>\n- *     <li>Die Schnittstelle orientiert sich an der von {@link String}.</li>\n- *     <li>Einmal erzeugt ist eine Instanz immutable.</li>\n- * </ul>\n+ * This class replicates the essential parts of the String class in order to aid\n+ * proper work for Unicode chars in the presense of UTF-16. So for all operations \n+ * please see {@link String} with the same signature. This class is equally immutable.\n  */\n-public class UnicodeHelper {\n+public class UnicodeHelper implements Serializable {\n     /**\n-     * <p>Definiert wie die L\u00e4nge eines Strings bzw. dessen Bestandteile &quot;Zeichen&quot; ermittelt wird.</p> \n+     * Defines how length if a string is defined, i.e how chars are counted.\n      */\n     public enum Method {\n         /**\n-         * <p>Die L\u00e4nge entspricht der Anzahl der (Unicode-)Codepoints.</p>\n+         * One \"char\" is one Unicode codepoint, which is the standard case.\n          */\n         CODEPOINTS,\n         \n         /**\n-         * <p>Die L\u00e4nge entspricht der Anzahl der Grapheme.</p>\n+         * One \"char\" is one graphem.\n          */\n         GRAPHEME;\n     }\n"}}, {"oid": "d35fc16a0f6ebe6208345a6294f2a2b20927382f", "url": "https://github.com/apache/camel/commit/d35fc16a0f6ebe6208345a6294f2a2b20927382f", "message": "* Fixed source check and translated comments.\n* Made UnicodeHelper Serializble and added toString().", "committedDate": "2020-02-10T07:37:50Z", "type": "commit"}, {"oid": "ba0afe1fbdc148c062c005c5bf3134cfdc7fed92", "url": "https://github.com/apache/camel/commit/ba0afe1fbdc148c062c005c5bf3134cfdc7fed92", "message": "Moved version of dependency icu4j to parent pom.", "committedDate": "2020-02-10T07:58:28Z", "type": "commit"}]}