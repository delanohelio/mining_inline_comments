{"pr_number": 4643, "pr_title": "[CAMEL-15872] JWT Authorization Type Configuration Option to GraphQL Component", "pr_createdAt": "2020-11-20T11:52:09Z", "pr_url": "https://github.com/apache/camel/pull/4643", "timeline": [{"oid": "158390f91e23f6442ca6c200b154dc1027976f45", "url": "https://github.com/apache/camel/commit/158390f91e23f6442ca6c200b154dc1027976f45", "message": "[CAMEL-15872] JWT Authorization Type Configuration Option to GraphQL Component", "committedDate": "2020-11-20T12:17:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NDkxNg==", "url": "https://github.com/apache/camel/pull/4643#discussion_r527664916", "bodyText": "Please remove param annotation.", "author": "oscerd", "createdAt": "2020-11-20T12:39:47Z", "path": "components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java", "diffHunk": "@@ -187,6 +193,18 @@ public String getQuery() {\n         return query;\n     }\n \n+    /**\n+     * The JWT Authorization type. Default is Bearer.\n+     * @param jwtAuthorizationType", "originalCommit": "158390f91e23f6442ca6c200b154dc1027976f45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NzMwOA==", "url": "https://github.com/apache/camel/pull/4643#discussion_r527667308", "bodyText": "Removed", "author": "tapiiron", "createdAt": "2020-11-20T12:44:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NDkxNg=="}], "type": "inlineReview", "revised_code": {"commit": "39a968321f9ba98ffcf4c6241eb8b7367a5c2133", "chunk": "diff --git a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\nindex 9a6e659df95..599c12b098c 100644\n--- a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\n+++ b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\n\n@@ -195,7 +195,6 @@ public class GraphqlEndpoint extends DefaultEndpoint {\n \n     /**\n      * The JWT Authorization type. Default is Bearer.\n-     * @param jwtAuthorizationType\n      */\n     public void setJwtAuthorizationType(String jwtAuthorizationType) {\n         this.jwtAuthorizationType = jwtAuthorizationType;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NTIzNg==", "url": "https://github.com/apache/camel/pull/4643#discussion_r527665236", "bodyText": "If you run a full build, this should be formatted to respect the camel code style standards.", "author": "oscerd", "createdAt": "2020-11-20T12:40:24Z", "path": "components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java", "diffHunk": "@@ -110,8 +112,12 @@ private CloseableHttpClient createHttpClient() {\n             httpClientBuilder.setProxy(new HttpHost(hostname, port));\n         }\n         if (accessToken != null) {\n+            String authType = \"Bearer\";\n+            if(this.jwtAuthorizationType != null) {", "originalCommit": "158390f91e23f6442ca6c200b154dc1027976f45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NzkyMA==", "url": "https://github.com/apache/camel/pull/4643#discussion_r527667920", "bodyText": "That missed my eye but should be fixed now", "author": "tapiiron", "createdAt": "2020-11-20T12:45:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NTIzNg=="}], "type": "inlineReview", "revised_code": {"commit": "cc5149ea16f471bdf4b5a22eefcd0e9487044743", "chunk": "diff --git a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\nindex 9a6e659df95..f270689198b 100644\n--- a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\n+++ b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\n\n@@ -113,7 +113,7 @@ public class GraphqlEndpoint extends DefaultEndpoint {\n         }\n         if (accessToken != null) {\n             String authType = \"Bearer\";\n-            if(this.jwtAuthorizationType != null) {\n+            if (this.jwtAuthorizationType != null) {\n                 authType = this.jwtAuthorizationType;\n             }\n             httpClientBuilder.setDefaultHeaders(\n"}}, {"oid": "cc5149ea16f471bdf4b5a22eefcd0e9487044743", "url": "https://github.com/apache/camel/commit/cc5149ea16f471bdf4b5a22eefcd0e9487044743", "message": "[CAMEL-15872] JWT Authorization Type Configuration Option to GraphQL Component", "committedDate": "2020-11-20T12:41:25Z", "type": "forcePushed"}, {"oid": "39a968321f9ba98ffcf4c6241eb8b7367a5c2133", "url": "https://github.com/apache/camel/commit/39a968321f9ba98ffcf4c6241eb8b7367a5c2133", "message": "[CAMEL-15872] JWT Authorization Type Configuration Option to GraphQL Component", "committedDate": "2020-11-20T12:43:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODExNzMzNQ==", "url": "https://github.com/apache/camel/pull/4643#discussion_r528117335", "bodyText": "Can you set label = \"security\", and default = \"Bearer\" in the uri param annotation", "author": "davsclaus", "createdAt": "2020-11-21T07:24:03Z", "path": "components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java", "diffHunk": "@@ -65,6 +65,8 @@\n     @UriParam(label = \"security\", secret = true)\n     private String password;\n     @UriParam\n+    private String jwtAuthorizationType;", "originalCommit": "39a968321f9ba98ffcf4c6241eb8b7367a5c2133", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ4OTIwNw==", "url": "https://github.com/apache/camel/pull/4643#discussion_r528489207", "bodyText": "Sure thing, added those now", "author": "tapiiron", "createdAt": "2020-11-23T06:21:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODExNzMzNQ=="}], "type": "inlineReview", "revised_code": {"commit": "518bb695da43c88df9bccaca33c1651e75c7e1ad", "chunk": "diff --git a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\nindex 599c12b098c..202baff78f4 100644\n--- a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\n+++ b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java\n\n@@ -64,7 +64,7 @@ public class GraphqlEndpoint extends DefaultEndpoint {\n     private String username;\n     @UriParam(label = \"security\", secret = true)\n     private String password;\n-    @UriParam\n+    @UriParam(label = \"security\", defaultValue = \"Bearer\")\n     private String jwtAuthorizationType;\n     @UriParam\n     private String query;\n"}}, {"oid": "518bb695da43c88df9bccaca33c1651e75c7e1ad", "url": "https://github.com/apache/camel/commit/518bb695da43c88df9bccaca33c1651e75c7e1ad", "message": "[CAMEL-15872] JWT Authorization Type Configuration Option to GraphQL Component", "committedDate": "2020-11-23T06:21:22Z", "type": "commit"}, {"oid": "518bb695da43c88df9bccaca33c1651e75c7e1ad", "url": "https://github.com/apache/camel/commit/518bb695da43c88df9bccaca33c1651e75c7e1ad", "message": "[CAMEL-15872] JWT Authorization Type Configuration Option to GraphQL Component", "committedDate": "2020-11-23T06:21:22Z", "type": "forcePushed"}]}