{"pr_number": 3917, "pr_title": "[CAMEL-15170] initial commit (add message queue support to JT400 component)", "pr_createdAt": "2020-06-15T23:12:59Z", "pr_url": "https://github.com/apache/camel/pull/3917", "timeline": [{"oid": "efc558af79ef1c5651cf332ca0f24f065bc3d352", "url": "https://github.com/apache/camel/commit/efc558af79ef1c5651cf332ca0f24f065bc3d352", "message": "CAMEL-15170: initial commit (add message queue support)", "committedDate": "2020-06-15T22:30:54Z", "type": "commit"}, {"oid": "afdc912472bfd986c73500064c441c84637a2e54", "url": "https://github.com/apache/camel/commit/afdc912472bfd986c73500064c441c84637a2e54", "message": "style changes for -Psourcecheck compliance", "committedDate": "2020-06-16T14:50:14Z", "type": "commit"}, {"oid": "1fd7259e907f8544524f3aec50f2062e75fc3de8", "url": "https://github.com/apache/camel/commit/1fd7259e907f8544524f3aec50f2062e75fc3de8", "message": "remove deprecated receive functions", "committedDate": "2020-06-16T14:56:20Z", "type": "commit"}, {"oid": "f1ce8b7b83e74a6e9f7529bd216960999cd7e0a5", "url": "https://github.com/apache/camel/commit/f1ce8b7b83e74a6e9f7529bd216960999cd7e0a5", "message": "Set headers for message file and id", "committedDate": "2020-06-16T16:38:16Z", "type": "commit"}, {"oid": "6be20856b7dc755b939a164a084812f904ddff01", "url": "https://github.com/apache/camel/commit/6be20856b7dc755b939a164a084812f904ddff01", "message": "fix order of 3-part job name", "committedDate": "2020-06-16T16:39:29Z", "type": "commit"}, {"oid": "f9b7d7e55e1bd31bf0aeaaaf476e0aca6bc84438", "url": "https://github.com/apache/camel/commit/f9b7d7e55e1bd31bf0aeaaaf476e0aca6bc84438", "message": "add support for different message actions", "committedDate": "2020-06-16T17:36:08Z", "type": "commit"}, {"oid": "4c0779fba558f5fdedd3c443d8014c439f96ef46", "url": "https://github.com/apache/camel/commit/4c0779fba558f5fdedd3c443d8014c439f96ef46", "message": "improve conciseness of header-setting", "committedDate": "2020-06-16T17:44:01Z", "type": "commit"}, {"oid": "bf9da187214cc4ece798390f3fa48013953f8ac2", "url": "https://github.com/apache/camel/commit/bf9da187214cc4ece798390f3fa48013953f8ac2", "message": "set header for message key", "committedDate": "2020-06-16T17:45:04Z", "type": "commit"}, {"oid": "6b1dce0d2b262cfb5db66fec162d7d79c08654b1", "url": "https://github.com/apache/camel/commit/6b1dce0d2b262cfb5db66fec162d7d79c08654b1", "message": "bugfix: only use message key when action is SAME", "committedDate": "2020-06-16T18:11:27Z", "type": "commit"}, {"oid": "5623d8ff33d7c5375280fe0d6ccbd8ba282488d8", "url": "https://github.com/apache/camel/commit/5623d8ff33d7c5375280fe0d6ccbd8ba282488d8", "message": "add message type header", "committedDate": "2020-06-16T18:20:05Z", "type": "commit"}, {"oid": "70c23d3c0fe77d0b27bd97935b368a0f11d6f730", "url": "https://github.com/apache/camel/commit/70c23d3c0fe77d0b27bd97935b368a0f11d6f730", "message": "add documentation for jt400 msgq support", "committedDate": "2020-06-16T18:35:54Z", "type": "commit"}, {"oid": "e45b1c2819352eb5265f7703a5454679bbb5fe7a", "url": "https://github.com/apache/camel/commit/e45b1c2819352eb5265f7703a5454679bbb5fe7a", "message": "remove \"type\" query parameter as it is not needed", "committedDate": "2020-06-16T18:36:48Z", "type": "commit"}, {"oid": "25bced277f39fa66dcf5f0eda2fbee1583c36f03", "url": "https://github.com/apache/camel/commit/25bced277f39fa66dcf5f0eda2fbee1583c36f03", "message": "add header info to doc, plus minor cleanup", "committedDate": "2020-06-16T18:50:51Z", "type": "commit"}, {"oid": "a2b2f4117faf7e3b9b6d8821fb509f1101586b87", "url": "https://github.com/apache/camel/commit/a2b2f4117faf7e3b9b6d8821fb509f1101586b87", "message": "rename header constants (jt400 scope) and stop setting MESSAGE_KEY header", "committedDate": "2020-06-16T18:55:47Z", "type": "commit"}, {"oid": "cf1a5631e9719f5b7f5660e01d8d716bfed7b51c", "url": "https://github.com/apache/camel/commit/cf1a5631e9719f5b7f5660e01d8d716bfed7b51c", "message": "cleanup comments/doc", "committedDate": "2020-06-16T20:03:40Z", "type": "commit"}, {"oid": "8cf8f8079deb7159becc10f55eb810f9a9f3ec5e", "url": "https://github.com/apache/camel/commit/8cf8f8079deb7159becc10f55eb810f9a9f3ec5e", "message": "updated doc for messageAction parameter", "committedDate": "2020-06-16T20:04:37Z", "type": "commit"}, {"oid": "456b524b9e2f786ec46be80fd09c366920dec7b8", "url": "https://github.com/apache/camel/commit/456b524b9e2f786ec46be80fd09c366920dec7b8", "message": "improve doc surrounding message queue processing", "committedDate": "2020-06-16T22:40:36Z", "type": "commit"}, {"oid": "c658cba8abe8a72e626eec17fb76f58efba96ff7", "url": "https://github.com/apache/camel/commit/c658cba8abe8a72e626eec17fb76f58efba96ff7", "message": "cleanup misc javadoc errors", "committedDate": "2020-06-16T22:48:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM2NTM1MA==", "url": "https://github.com/apache/camel/pull/3917#discussion_r441365350", "bodyText": "These are the Camel headers isn't? I think it would make sense to have the headers with Camel prefix in order to standardize with other components as well, e.g: CamelJt400MessageID.\nAlso, it would make sense to place the constants into a singleton class to ease the usability for users.\nExample from recent component.", "author": "omarsmak", "createdAt": "2020-06-17T08:15:51Z", "path": "components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Endpoint.java", "diffHunk": "@@ -36,14 +36,20 @@\n import org.apache.camel.util.URISupport;\n \n /**\n- * Exchanges messages with an AS/400 system using data queues or program call.\n+ * Exchanges messages with an AS/400 system using data queues, message queues, or program call.\n  */\n @UriEndpoint(firstVersion = \"1.5.0\", scheme = \"jt400\", title = \"JT400\", syntax = \"jt400:userID:password/systemName/objectPath.type\", category = {Category.MESSAGING})\n public class Jt400Endpoint extends ScheduledPollEndpoint implements MultipleConsumersSupport {\n \n     public static final String KEY = \"KEY\";\n     public static final String SENDER_INFORMATION = \"SENDER_INFORMATION\";\n \n+    // Used only for message queue support\n+    public static final String MESSAGE_ID = \"jt400.MESSAGE_ID\";", "originalCommit": "c658cba8abe8a72e626eec17fb76f58efba96ff7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU0MDI0Nw==", "url": "https://github.com/apache/camel/pull/3917#discussion_r441540247", "bodyText": "I used the \"jt400.\" prefix to mimic the Kafka component. But I see even that component's new addition has \"CamelXxxxXxxx\" format (\"CamelKafkaManualCommit\"). I will change accordingly. Thanks!", "author": "ThePrez", "createdAt": "2020-06-17T13:22:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM2NTM1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU0Nzc3MQ==", "url": "https://github.com/apache/camel/pull/3917#discussion_r441547771", "bodyText": "Resolved at 4e6ee7f", "author": "ThePrez", "createdAt": "2020-06-17T13:33:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM2NTM1MA=="}], "type": "inlineReview", "revised_code": {"commit": "67ab5534b626e262f93fb8fd10f6a1ba1f043674", "chunk": "diff --git a/components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Endpoint.java b/components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Endpoint.java\nindex accc78bb387..9fe122ec468 100644\n--- a/components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Endpoint.java\n+++ b/components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Endpoint.java\n\n@@ -41,14 +41,8 @@ import org.apache.camel.util.URISupport;\n @UriEndpoint(firstVersion = \"1.5.0\", scheme = \"jt400\", title = \"JT400\", syntax = \"jt400:userID:password/systemName/objectPath.type\", category = {Category.MESSAGING})\n public class Jt400Endpoint extends ScheduledPollEndpoint implements MultipleConsumersSupport {\n \n-    public static final String KEY = \"KEY\";\n-    public static final String SENDER_INFORMATION = \"SENDER_INFORMATION\";\n-\n-    // Used only for message queue support\n-    public static final String MESSAGE_ID = \"jt400.MESSAGE_ID\";\n-    public static final String MESSAGE_FILE = \"jt400.MESSAGE_FILE\";\n-    public static final String MESSAGE_KEY = \"jt400.MESSAGE_KEY\";\n-    public static final String MESSAGE_TYPE = \"jt400.MESSAGE_TYPE\";\n+    public static final String KEY = Jt400Constants.KEY;\n+    public static final String SENDER_INFORMATION = Jt400Constants.SENDER_INFORMATION;\n \n     @UriParam\n     private final Jt400Configuration configuration;\n"}}, {"oid": "67ab5534b626e262f93fb8fd10f6a1ba1f043674", "url": "https://github.com/apache/camel/commit/67ab5534b626e262f93fb8fd10f6a1ba1f043674", "message": "move header constants into new class", "committedDate": "2020-06-17T13:00:55Z", "type": "commit"}, {"oid": "4e6ee7fc5fff24fc68257a7f54c5ad570401c35f", "url": "https://github.com/apache/camel/commit/4e6ee7fc5fff24fc68257a7f54c5ad570401c35f", "message": "change header constant values", "committedDate": "2020-06-17T13:13:15Z", "type": "commit"}]}