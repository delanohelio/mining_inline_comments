{"pr_number": 3970, "pr_title": "remove deprecated Exchange.getOut from camel-mail", "pr_createdAt": "2020-07-02T16:17:59Z", "pr_url": "https://github.com/apache/camel/pull/3970", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE0MDc1Ng==", "url": "https://github.com/apache/camel/pull/3970#discussion_r449140756", "bodyText": "I would remove this comment", "author": "aldettinger", "createdAt": "2020-07-02T16:38:02Z", "path": "components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java", "diffHunk": "@@ -261,9 +257,10 @@ public void marhsalOnlyMixed() throws IOException {\n         headers.put(\"X-AdditionalData\", \"additional data\");\n         addAttachment(\"application/octet-stream\", \"foobar\", \"attachment.bin\", headers);\n         Exchange result = template.send(\"direct:marshalonlymixed\", exchange);\n-        assertThat(result.getOut().getHeader(\"Content-Type\", String.class), startsWith(\"multipart/mixed\"));\n-        String resultBody = result.getOut().getBody(String.class);\n-        assertThat(resultBody, containsString(\"Content-Description: Sample Attachment Data\"));\n+        assertTrue(result.getMessage().getHeader(\"Content-Type\", String.class).startsWith(\"multipart/mixed\"));\n+        //assertThat(result.getMessage().getHeader(\"Content-Type\", String.class), startsWith(\"multipart/mixed\"));", "originalCommit": "03cf96db21e64c499f53201a874903b97adba344", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQwOTQ4Ng==", "url": "https://github.com/apache/camel/pull/3970#discussion_r449409486", "bodyText": "yes. I forgot that one !!", "author": "zbendhiba", "createdAt": "2020-07-03T06:57:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE0MDc1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQxNjQ1Ng==", "url": "https://github.com/apache/camel/pull/3970#discussion_r449416456", "bodyText": "done !!", "author": "zbendhiba", "createdAt": "2020-07-03T07:15:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE0MDc1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQyMzI2NA==", "url": "https://github.com/apache/camel/pull/3970#discussion_r449423264", "bodyText": "Well done @zbendhiba, it's rebased and pushed upstream now :)", "author": "aldettinger", "createdAt": "2020-07-03T07:31:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE0MDc1Ng=="}], "type": "inlineReview", "revised_code": {"commit": "44181af177244ea723a012ec3b7262f0b52a3004", "chunk": "diff --git a/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java b/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java\nindex 34415c1c8da..0b641a8b3c2 100644\n--- a/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java\n+++ b/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java\n\n@@ -258,7 +257,6 @@ public class MimeMultipartDataFormatTest extends CamelTestSupport {\n         addAttachment(\"application/octet-stream\", \"foobar\", \"attachment.bin\", headers);\n         Exchange result = template.send(\"direct:marshalonlymixed\", exchange);\n         assertTrue(result.getMessage().getHeader(\"Content-Type\", String.class).startsWith(\"multipart/mixed\"));\n-        //assertThat(result.getMessage().getHeader(\"Content-Type\", String.class), startsWith(\"multipart/mixed\"));\n         String resultBody = result.getMessage().getBody(String.class);\n         assertTrue(resultBody.contains(\"Content-Description: Sample Attachment Data\"));\n     }\n"}}, {"oid": "44181af177244ea723a012ec3b7262f0b52a3004", "url": "https://github.com/apache/camel/commit/44181af177244ea723a012ec3b7262f0b52a3004", "message": "remove deprecated Exchange.getOut from camel-mail", "committedDate": "2020-07-03T07:10:25Z", "type": "commit"}, {"oid": "44181af177244ea723a012ec3b7262f0b52a3004", "url": "https://github.com/apache/camel/commit/44181af177244ea723a012ec3b7262f0b52a3004", "message": "remove deprecated Exchange.getOut from camel-mail", "committedDate": "2020-07-03T07:10:25Z", "type": "forcePushed"}]}