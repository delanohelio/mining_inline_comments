{"pr_number": 577, "pr_title": "Edit with Branch Versioning: remove authentication handler", "pr_createdAt": "2020-10-20T10:03:19Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577", "timeline": [{"oid": "72ac94d28ab2d7b891ab745f8354ffbfed93e21c", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/72ac94d28ab2d7b891ab745f8354ffbfed93e21c", "message": "amend readme", "committedDate": "2020-10-20T09:37:40Z", "type": "commit"}, {"oid": "426144909ebd558480e9cce8e80fa596d6f6ca40", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/426144909ebd558480e9cce8e80fa596d6f6ca40", "message": "hard code authentication in controller", "committedDate": "2020-10-20T09:55:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODYxODQ3MQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577#discussion_r508618471", "bodyText": "Only suggestion I can make here is perhaps creating the UserCredential immediately before setting it, so have it in order:\n// create a service geodatabase\n serviceGeodatabase = new ServiceGeodatabase(\"https://sampleserver7.arcgisonline\" +\n\".com/arcgis/rest/services/DamageAssessment/FeatureServer\");\n\n// set the user credentials required to authenticate with the service geodatabase\nUserCredential userCredential = new UserCredential(\"editor01\", \"editor01.password\");\nserviceGeodatabase.setCredential(userCredential);\n\n// load the service geodatabase\nserviceGeodatabase.loadAsync();\n\nI don't know if it's strictly necessary to mention the AuthenticationChallengeHandler, but I haven't been following the discussion. I suppose the authentication itself is not an integral part of what the sample is\ntrying to show? In which case maybe we can do without the comment", "author": "JonLavi", "createdAt": "2020-10-20T15:35:21Z", "path": "editing/edit-with-branch-versioning/src/main/java/com/esri/samples/edit_with_branch_versioning/EditWithBranchVersioningController.java", "diffHunk": "@@ -91,13 +90,16 @@ public void initialize() {\n         }\n       });\n \n-      // handle authentication for the service geodatabase\n-      AuthenticationManager.setAuthenticationChallengeHandler(new DefaultAuthenticationChallengeHandler());\n+      // set the user credentials required to authenticate with the service geodatabase\n+      // alternatively authentication could be handled with an AuthenticationChallengeHandler\n+      UserCredential userCredential = new UserCredential(\"editor01\", \"editor01.password\");\n \n       // create and load a service geodatabase\n       serviceGeodatabase = new ServiceGeodatabase(\"https://sampleserver7.arcgisonline\" +\n         \".com/arcgis/rest/services/DamageAssessment/FeatureServer\");\n+      serviceGeodatabase.setCredential(userCredential);\n       serviceGeodatabase.loadAsync();\n+", "originalCommit": "426144909ebd558480e9cce8e80fa596d6f6ca40", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1NDkzNQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577#discussion_r508654935", "bodyText": "@JonLavi Yeah exactly it was decided it wasn't necessary because it's not what the sample is demonstrating and was adding unnecessary steps for the user in showing off the branch versioning functionality. It's not a requirement to mention the authentication, so it's maybe overkill to add it into the comments, as there are clearly samples for authentication if someone wanted to add in the authentication. I'll reorder as you suggested and take that extra line out \ud83d\udc4d", "author": "jenmerritt", "createdAt": "2020-10-20T16:07:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODYxODQ3MQ=="}], "type": "inlineReview", "revised_code": {"commit": "881f1f4c975799b78fcf7466196e787fe3d391ec", "chunk": "diff --git a/editing/edit-with-branch-versioning/src/main/java/com/esri/samples/edit_with_branch_versioning/EditWithBranchVersioningController.java b/editing/edit-with-branch-versioning/src/main/java/com/esri/samples/edit_with_branch_versioning/EditWithBranchVersioningController.java\nindex 26dda316..3f795a86 100644\n--- a/editing/edit-with-branch-versioning/src/main/java/com/esri/samples/edit_with_branch_versioning/EditWithBranchVersioningController.java\n+++ b/editing/edit-with-branch-versioning/src/main/java/com/esri/samples/edit_with_branch_versioning/EditWithBranchVersioningController.java\n\n@@ -90,14 +90,15 @@ public class EditWithBranchVersioningController {\n         }\n       });\n \n-      // set the user credentials required to authenticate with the service geodatabase\n-      // alternatively authentication could be handled with an AuthenticationChallengeHandler\n-      UserCredential userCredential = new UserCredential(\"editor01\", \"editor01.password\");\n-\n-      // create and load a service geodatabase\n+      // create a service geodatabase\n       serviceGeodatabase = new ServiceGeodatabase(\"https://sampleserver7.arcgisonline\" +\n         \".com/arcgis/rest/services/DamageAssessment/FeatureServer\");\n+\n+      // set the user credentials required to authenticate with the service geodatabase\n+      UserCredential userCredential = new UserCredential(\"editor01\", \"editor01.password\");\n       serviceGeodatabase.setCredential(userCredential);\n+\n+      // load the service geodatabase\n       serviceGeodatabase.loadAsync();\n \n       serviceGeodatabase.addDoneLoadingListener(() -> {\n"}}, {"oid": "881f1f4c975799b78fcf7466196e787fe3d391ec", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/881f1f4c975799b78fcf7466196e787fe3d391ec", "message": "reorder authentication settings", "committedDate": "2020-10-20T16:17:55Z", "type": "commit"}]}