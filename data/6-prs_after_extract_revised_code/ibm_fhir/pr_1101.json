{"pr_number": 1101, "pr_title": "Variants of UCUM in Positional/ Location Search #1100", "pr_createdAt": "2020-05-15T14:29:44Z", "pr_url": "https://github.com/IBM/FHIR/pull/1101", "timeline": [{"oid": "adc5f9b6de896c15079799fb31dcc79fd069c6e6", "url": "https://github.com/IBM/FHIR/commit/adc5f9b6de896c15079799fb31dcc79fd069c6e6", "message": "Variants of UCUM in Positional/ Location Search #1100\n\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T14:28:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0ODMwMQ==", "url": "https://github.com/IBM/FHIR/pull/1101#discussion_r425848301", "bodyText": "no mi ?", "author": "lmsurpre", "createdAt": "2020-05-15T14:40:51Z", "path": "fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java", "diffHunk": "@@ -46,7 +50,11 @@\n \n     MILE(\"mi_us\", 8 * 40 * 16.5),\n     MILE_CI(\"MI_US\", 8 * 40 * 16.5),\n-    \n+    // Support for common variants that are not in UCUM\n+    MILE_VARIANT_MIS(\"mis\", 8 * 40 * 16.5),\n+    MILE_VARIANT_MILE(\"mile\", 8 * 40 * 16.5),\n+    MILE_VARIANT_MILES(\"miles\", 8 * 40 * 16.5),", "originalCommit": "adc5f9b6de896c15079799fb31dcc79fd069c6e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg1MjcyOQ==", "url": "https://github.com/IBM/FHIR/pull/1101#discussion_r425852729", "bodyText": "thanks, it's hard to see the tree in the forest", "author": "prb112", "createdAt": "2020-05-15T14:47:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0ODMwMQ=="}], "type": "inlineReview", "revised_code": {"commit": "cfe273d524d50ef08136613aeaf2224c903f5f9e", "chunk": "diff --git a/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java b/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java\nindex 2f1fdd5a9d..a4232ebb3a 100644\n--- a/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java\n+++ b/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java\n\n@@ -51,6 +52,7 @@ public enum StatuteLengthUnits {\n     MILE(\"mi_us\", 8 * 40 * 16.5),\n     MILE_CI(\"MI_US\", 8 * 40 * 16.5),\n     // Support for common variants that are not in UCUM\n+    MILE_VARIANT_MI(\"mi\", 8 * 40 * 16.5),\n     MILE_VARIANT_MIS(\"mis\", 8 * 40 * 16.5),\n     MILE_VARIANT_MILE(\"mile\", 8 * 40 * 16.5),\n     MILE_VARIANT_MILES(\"miles\", 8 * 40 * 16.5),\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0ODU4Mg==", "url": "https://github.com/IBM/FHIR/pull/1101#discussion_r425848582", "bodyText": "not ft?", "author": "lmsurpre", "createdAt": "2020-05-15T14:41:15Z", "path": "fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java", "diffHunk": "@@ -16,6 +16,10 @@\n public enum StatuteLengthUnits {\n     FOOT(\"ft_us\", 1.0),\n     FOOT_CI(\"FT_US\", 1.0),\n+    // Support for common variants that are not in UCUM\n+    FOOT_VARIANT_FTS(\"fts\", 1.0),\n+    FOOT_VARIANT_FOOT(\"foot\", 1.0),\n+    FOOT_VARIANT_FEET(\"feet\", 1.0),", "originalCommit": "adc5f9b6de896c15079799fb31dcc79fd069c6e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg1MjY5NQ==", "url": "https://github.com/IBM/FHIR/pull/1101#discussion_r425852695", "bodyText": "thanks, it's hard to see the tree in the forest", "author": "prb112", "createdAt": "2020-05-15T14:47:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0ODU4Mg=="}], "type": "inlineReview", "revised_code": {"commit": "cfe273d524d50ef08136613aeaf2224c903f5f9e", "chunk": "diff --git a/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java b/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java\nindex 2f1fdd5a9d..a4232ebb3a 100644\n--- a/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java\n+++ b/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/standard/StatuteLengthUnits.java\n\n@@ -17,6 +17,7 @@ public enum StatuteLengthUnits {\n     FOOT(\"ft_us\", 1.0),\n     FOOT_CI(\"FT_US\", 1.0),\n     // Support for common variants that are not in UCUM\n+    FOOT_VARIANT_FT(\"ft\", 1.0),\n     FOOT_VARIANT_FTS(\"fts\", 1.0),\n     FOOT_VARIANT_FOOT(\"foot\", 1.0),\n     FOOT_VARIANT_FEET(\"feet\", 1.0),\n"}}, {"oid": "cfe273d524d50ef08136613aeaf2224c903f5f9e", "url": "https://github.com/IBM/FHIR/commit/cfe273d524d50ef08136613aeaf2224c903f5f9e", "message": "Variants of UCUM in Positional/ Location Search #1100\n\n- Add two missing types ft/mi\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T14:48:40Z", "type": "commit"}, {"oid": "2d51371d25d0976ed60d43b00aaa28cbfa87c36b", "url": "https://github.com/IBM/FHIR/commit/2d51371d25d0976ed60d43b00aaa28cbfa87c36b", "message": "Variants of UCUM in Positional/ Location Search #1100\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T15:08:13Z", "type": "commit"}, {"oid": "740acfadb1c6d8e51332ff83a5e0917eb1bfcfcb", "url": "https://github.com/IBM/FHIR/commit/740acfadb1c6d8e51332ff83a5e0917eb1bfcfcb", "message": "Variants of UCUM in Positional/ Location Search #1100\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T15:18:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg3NTU5NA==", "url": "https://github.com/IBM/FHIR/pull/1101#discussion_r425875594", "bodyText": "remove?", "author": "lmsurpre", "createdAt": "2020-05-15T15:22:22Z", "path": "fhir-search/src/main/java/com/ibm/fhir/search/location/uom/UOMManager.java", "diffHunk": "@@ -186,6 +186,7 @@ public static final Double getUnitToMetersFactor(final String unit) {\n         // Supports UCUM with [mi_us] or mi_us\n         if(factor == null && unit != null && \n                 unit.startsWith(\"[\") && unit.endsWith(\"]\")) {\n+            System.out.println(unit.substring(1,unit.length() -1));", "originalCommit": "740acfadb1c6d8e51332ff83a5e0917eb1bfcfcb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg3ODU1MA==", "url": "https://github.com/IBM/FHIR/pull/1101#discussion_r425878550", "bodyText": "Yes - Fixed in latest commit", "author": "prb112", "createdAt": "2020-05-15T15:26:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg3NTU5NA=="}], "type": "inlineReview", "revised_code": {"commit": "1baf3ee96250b618908f55453504b4b440f1a79d", "chunk": "diff --git a/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/UOMManager.java b/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/UOMManager.java\nindex df1eec0a33..656cc1475d 100644\n--- a/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/UOMManager.java\n+++ b/fhir-search/src/main/java/com/ibm/fhir/search/location/uom/UOMManager.java\n\n@@ -186,7 +186,6 @@ public final class UOMManager {\n         // Supports UCUM with [mi_us] or mi_us\n         if(factor == null && unit != null && \n                 unit.startsWith(\"[\") && unit.endsWith(\"]\")) {\n-            System.out.println(unit.substring(1,unit.length() -1));\n             factor = UNIT_TO_METER.get(unit.substring(1,unit.length() -1));\n         }\n         return factor;\n"}}, {"oid": "1baf3ee96250b618908f55453504b4b440f1a79d", "url": "https://github.com/IBM/FHIR/commit/1baf3ee96250b618908f55453504b4b440f1a79d", "message": "Variants of UCUM in Positional/ Location Search #1100\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T15:22:48Z", "type": "commit"}]}