{"pr_number": 1099, "pr_title": "NPE during chained location search #1098", "pr_createdAt": "2020-05-15T13:17:23Z", "pr_url": "https://github.com/IBM/FHIR/pull/1099", "timeline": [{"oid": "cf39cbdadb4f27e4a0a9c53be2c300bcbfe29099", "url": "https://github.com/IBM/FHIR/commit/cf39cbdadb4f27e4a0a9c53be2c300bcbfe29099", "message": "NPE during chained location search #1098\n\n- Fix for Chained Parameters\n- Fix for Location Search\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T13:16:17Z", "type": "commit"}, {"oid": "d7fe00c4c71589151bf6c3d7f0993f92d1875a19", "url": "https://github.com/IBM/FHIR/commit/d7fe00c4c71589151bf6c3d7f0993f92d1875a19", "message": "NPE during chained location search #1098\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T13:18:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc5OTE2NQ==", "url": "https://github.com/IBM/FHIR/pull/1099#discussion_r425799165", "bodyText": "sorry, what does this mean?", "author": "lmsurpre", "createdAt": "2020-05-15T13:24:30Z", "path": "fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/util/JDBCQueryBuilder.java", "diffHunk": "@@ -362,6 +365,16 @@ protected SqlQueryData buildQueryParm(Class<?> resourceType, QueryParameter quer\n                 default:\n                     throw new FHIRPersistenceNotSupportedException(\"Parm type not yet supported: \" + type.value());\n                 }\n+            } else { \n+                log.fine(\"Location Parameter Found, shortcircuiting\");", "originalCommit": "d7fe00c4c71589151bf6c3d7f0993f92d1875a19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgwODQ3Mw==", "url": "https://github.com/IBM/FHIR/pull/1099#discussion_r425808473", "bodyText": "Fixed", "author": "prb112", "createdAt": "2020-05-15T13:39:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc5OTE2NQ=="}], "type": "inlineReview", "revised_code": {"commit": "f24e1e0db6eb65c3812632199f924580cad97366", "chunk": "diff --git a/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/util/JDBCQueryBuilder.java b/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/util/JDBCQueryBuilder.java\nindex eeff8d2f59..69cc17db3f 100644\n--- a/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/util/JDBCQueryBuilder.java\n+++ b/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/util/JDBCQueryBuilder.java\n\n@@ -366,7 +366,6 @@ public class JDBCQueryBuilder extends AbstractQueryBuilder<SqlQueryData> {\n                     throw new FHIRPersistenceNotSupportedException(\"Parm type not yet supported: \" + type.value());\n                 }\n             } else { \n-                log.fine(\"Location Parameter Found, shortcircuiting\");\n                 NearLocationHandler handler = new NearLocationHandler();\n                 List<Bounding> boundingAreas;\n                 try {\n"}}, {"oid": "f24e1e0db6eb65c3812632199f924580cad97366", "url": "https://github.com/IBM/FHIR/commit/f24e1e0db6eb65c3812632199f924580cad97366", "message": "NPE during chained location search #1098\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-15T13:39:10Z", "type": "commit"}]}