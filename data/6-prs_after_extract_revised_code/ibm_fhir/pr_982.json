{"pr_number": 982, "pr_title": "remove defunct truststore properties from FHIRConfiguration and sample configs", "pr_createdAt": "2020-04-24T21:20:45Z", "pr_url": "https://github.com/IBM/FHIR/pull/982", "timeline": [{"oid": "f6751edd844640778e71611f9085267b1ae5566c", "url": "https://github.com/IBM/FHIR/commit/f6751edd844640778e71611f9085267b1ae5566c", "message": "remove defunct truststore properties from FHIRConfiguration and sample\nconfigs\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-04-27T17:02:10Z", "type": "commit"}, {"oid": "f6751edd844640778e71611f9085267b1ae5566c", "url": "https://github.com/IBM/FHIR/commit/f6751edd844640778e71611f9085267b1ae5566c", "message": "remove defunct truststore properties from FHIRConfiguration and sample\nconfigs\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-04-27T17:02:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA2MDQxOA==", "url": "https://github.com/IBM/FHIR/pull/982#discussion_r416060418", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        throw new IllegalStateException(\"Unable to load the default fhir-server-config.s\");\n          \n          \n            \n                        throw new IllegalStateException(\"Unable to load the default fhir-server-config.json\");", "author": "lmsurpre", "createdAt": "2020-04-27T18:44:18Z", "path": "fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java", "diffHunk": "@@ -149,6 +149,9 @@ public FHIRPersistenceJDBCImpl() throws Exception {\n         log.entering(CLASSNAME, METHODNAME);\n \n         PropertyGroup fhirConfig = FHIRConfiguration.getInstance().loadConfiguration();\n+        if (fhirConfig == null) {\n+            throw new IllegalStateException(\"Unable to load the default fhir-server-config.s\");", "originalCommit": "f6751edd844640778e71611f9085267b1ae5566c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3d0d77343cb16e30877fd056a9d9ede47c3ff67f", "chunk": "diff --git a/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java b/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\nindex 802e0da591..987b2fbfed 100644\n--- a/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\n+++ b/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\n\n@@ -150,7 +150,7 @@ public class FHIRPersistenceJDBCImpl implements FHIRPersistence, FHIRPersistence\n \n         PropertyGroup fhirConfig = FHIRConfiguration.getInstance().loadConfiguration();\n         if (fhirConfig == null) {\n-            throw new IllegalStateException(\"Unable to load the default fhir-server-config.s\");\n+            throw new IllegalStateException(\"Unable to load the default fhir-server-config.json\");\n         }\n         this.updateCreateEnabled = fhirConfig.getBooleanProperty(PROPERTY_UPDATE_CREATE_ENABLED, Boolean.TRUE);\n         this.userTransaction = retrieveUserTransaction(TXN_JNDI_NAME);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA2MDU5Mw==", "url": "https://github.com/IBM/FHIR/pull/982#discussion_r416060593", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        throw new IllegalStateException(\"Unable to load the default fhir-server-config.s\");\n          \n          \n            \n                        throw new IllegalStateException(\"Unable to load the default fhir-server-config.json\");", "author": "prb112", "createdAt": "2020-04-27T18:44:31Z", "path": "fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java", "diffHunk": "@@ -149,6 +149,9 @@ public FHIRPersistenceJDBCImpl() throws Exception {\n         log.entering(CLASSNAME, METHODNAME);\n \n         PropertyGroup fhirConfig = FHIRConfiguration.getInstance().loadConfiguration();\n+        if (fhirConfig == null) {\n+            throw new IllegalStateException(\"Unable to load the default fhir-server-config.s\");", "originalCommit": "f6751edd844640778e71611f9085267b1ae5566c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3d0d77343cb16e30877fd056a9d9ede47c3ff67f", "chunk": "diff --git a/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java b/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\nindex 802e0da591..987b2fbfed 100644\n--- a/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\n+++ b/fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\n\n@@ -150,7 +150,7 @@ public class FHIRPersistenceJDBCImpl implements FHIRPersistence, FHIRPersistence\n \n         PropertyGroup fhirConfig = FHIRConfiguration.getInstance().loadConfiguration();\n         if (fhirConfig == null) {\n-            throw new IllegalStateException(\"Unable to load the default fhir-server-config.s\");\n+            throw new IllegalStateException(\"Unable to load the default fhir-server-config.json\");\n         }\n         this.updateCreateEnabled = fhirConfig.getBooleanProperty(PROPERTY_UPDATE_CREATE_ENABLED, Boolean.TRUE);\n         this.userTransaction = retrieveUserTransaction(TXN_JNDI_NAME);\n"}}, {"oid": "3d0d77343cb16e30877fd056a9d9ede47c3ff67f", "url": "https://github.com/IBM/FHIR/commit/3d0d77343cb16e30877fd056a9d9ede47c3ff67f", "message": "Update fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/impl/FHIRPersistenceJDBCImpl.java\r\n\r\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-04-27T18:44:33Z", "type": "commit"}]}