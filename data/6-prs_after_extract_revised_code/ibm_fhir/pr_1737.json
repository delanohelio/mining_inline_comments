{"pr_number": 1737, "pr_title": "Issue #1629 - return error if bad resource type on revinclude", "pr_createdAt": "2020-11-19T17:01:43Z", "pr_url": "https://github.com/IBM/FHIR/pull/1737", "timeline": [{"oid": "2ec7b6c683b6dce915935e4f768e6483f4a27257", "url": "https://github.com/IBM/FHIR/commit/2ec7b6c683b6dce915935e4f768e6483f4a27257", "message": "Issue #1629 - return error if bad resource type on revinclude\n\nSigned-off-by: Mike Schroeder <mschroed@us.ibm.com>", "committedDate": "2020-11-19T17:00:38Z", "type": "commit"}, {"oid": "6eb13ece972d324e95a0de18d08414f9e869fac3", "url": "https://github.com/IBM/FHIR/commit/6eb13ece972d324e95a0de18d08414f9e869fac3", "message": "Issue #1629 - fix mock registry provider methods\n\nSigned-off-by: Mike Schroeder <mschroed@us.ibm.com>", "committedDate": "2020-11-19T19:20:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxOTk4Nw==", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527619987", "bodyText": "I noticed we lost a couple TODOs in the scope of these changes.  We should probably talk about these and possibly open an enhancement request so that we don't lose this thought.\nThe idea is to include a OperationOutcome with an Issue of type warning with information about the ignored parameter.  However, I think that clients would only receive that OperationOutcome if either:\nA. they specify a \"return preference\" of OperationOutcome (via the Prefer header); or\nB. something else goes wrong causing us to return an OperationOutcome\nFor search, we would need to set the Bundle.entry.search.mode value of this OperationOutcome entry to outcome.", "author": "lmsurpre", "createdAt": "2020-11-20T11:09:32Z", "path": "fhir-search/src/main/java/com/ibm/fhir/search/util/SearchUtil.java", "diffHunk": "@@ -700,14 +700,8 @@ public static FHIRSearchContext parseQueryParameters(Class<?> resourceType,\n                         if (ModelSupport.isResourceType(resType)) {\n                             resourceTypes.add(resType);\n                         } else {\n-                            String msg = \"_type search parameter has invalid resource type:\" + resType;\n-                            if (lenient) {\n-                                // TODO add this to the list of supplemental warnings?", "originalCommit": "6eb13ece972d324e95a0de18d08414f9e869fac3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY5Njg1Mg==", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527696852", "bodyText": "I think this makes sense. I assume it would apply to all instances where we're in lenient mode and we ignore a parameter. Are there other cases where we ignore parameters?", "author": "michaelwschroeder", "createdAt": "2020-11-20T13:40:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxOTk4Nw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyMTYwNQ==", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527621605", "bodyText": "Once we went open source, we decided to remove @author tags from the code, but rather than all at once we just remove them as we find them.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *\n          \n          \n            \n             * @author markd\n          \n          \n            \n             * @author pbastide", "author": "lmsurpre", "createdAt": "2020-11-20T11:12:42Z", "path": "fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java", "diffHunk": "@@ -34,7 +34,7 @@\n /**\n  * This TestNG test class contains methods that test the parsing of search result inclusion parameters (_include and\n  * _revinclude) in the SearchUtil class.\n- * \n+ *\n  * @author markd\n  * @author pbastide", "originalCommit": "6eb13ece972d324e95a0de18d08414f9e869fac3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY5NDYxNA==", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527694614", "bodyText": "done", "author": "michaelwschroeder", "createdAt": "2020-11-20T13:36:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyMTYwNQ=="}], "type": "inlineReview", "revised_code": {"commit": "55eb9e2cb6f38b57e75f160587275680f4b17dfa", "chunk": "diff --git a/fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java b/fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java\nindex 500c3442c8..d983ce9b2c 100644\n--- a/fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java\n+++ b/fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java\n\n@@ -35,9 +35,6 @@ import com.ibm.fhir.search.util.SearchUtil;\n  * This TestNG test class contains methods that test the parsing of search result inclusion parameters (_include and\n  * _revinclude) in the SearchUtil class.\n  *\n- * @author markd\n- * @author pbastide\n- *\n  */\n public class InclusionParameterParseTest extends BaseSearchTest {\n \n"}}, {"oid": "55eb9e2cb6f38b57e75f160587275680f4b17dfa", "url": "https://github.com/IBM/FHIR/commit/55eb9e2cb6f38b57e75f160587275680f4b17dfa", "message": "Issue #1629 - remove author tags from test class\n\nSigned-off-by: Mike Schroeder <mschroed@us.ibm.com>", "committedDate": "2020-11-20T13:35:12Z", "type": "commit"}]}