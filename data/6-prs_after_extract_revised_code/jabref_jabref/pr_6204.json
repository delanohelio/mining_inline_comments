{"pr_number": 6204, "pr_title": "Fix some IntelliJ findings", "pr_createdAt": "2020-03-29T19:58:19Z", "pr_url": "https://github.com/JabRef/jabref/pull/6204", "timeline": [{"oid": "167558dfe1aaa090e57b9bae672e40a76a78abd0", "url": "https://github.com/JabRef/jabref/commit/167558dfe1aaa090e57b9bae672e40a76a78abd0", "message": "Fix some IntelliJ findings\n\n- Fix bug in TagBar (added itself instead of newTags)\n- Wrong number of LOGGER paramters\n- Inner class may be static\n- Fix comment typo\n- Bulk operation can be used instead of iteration\n- Arrays.asList with only one element\n- Optimized count by using numbers earlier\n- Chained append for StringBuilder\n- Initialize ArrayList by passing the initial contents in the constructor", "committedDate": "2020-03-29T19:57:34Z", "type": "commit"}, {"oid": "1c125d6c50b5b04b92fb2a9b69c09636ce963c93", "url": "https://github.com/JabRef/jabref/commit/1c125d6c50b5b04b92fb2a9b69c09636ce963c93", "message": "Fix checkstyle", "committedDate": "2020-03-29T20:14:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA3NTE0Mg==", "url": "https://github.com/JabRef/jabref/pull/6204#discussion_r400075142", "bodyText": "I found the previous code easier to understand...", "author": "tobiasdiez", "createdAt": "2020-03-30T10:09:21Z", "path": "src/main/java/org/jabref/gui/fieldeditors/contextmenu/CaseChangeMenu.java", "diffHunk": "@@ -23,8 +23,7 @@ public CaseChangeMenu(final StringProperty text) {\n         Objects.requireNonNull(text);\n \n         // create menu items, one for each case changer\n-        List<Formatter> caseChangers = new ArrayList<>();\n-        caseChangers.addAll(Formatters.getCaseChangers());\n+        List<Formatter> caseChangers = new ArrayList<>(Formatters.getCaseChangers());", "originalCommit": "1c125d6c50b5b04b92fb2a9b69c09636ce963c93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA4NzgzMA==", "url": "https://github.com/JabRef/jabref/pull/6204#discussion_r400087830", "bodyText": "IntelliJ reported that as performance issue. I will revert it nevertheless, as I think it's not that crucial...", "author": "koppor", "createdAt": "2020-03-30T10:31:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA3NTE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDEwNzQ2Mg==", "url": "https://github.com/JabRef/jabref/pull/6204#discussion_r400107462", "bodyText": "I actually find the intelij variant easy enough to understand. It's obvious that the constructor of ArrayList can take a collection", "author": "Siedlerchr", "createdAt": "2020-03-30T11:07:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA3NTE0Mg=="}], "type": "inlineReview", "revised_code": {"commit": "477fa0b3086cacf5e597ecdb00a3ae6a093ad103", "chunk": "diff --git a/src/main/java/org/jabref/gui/fieldeditors/contextmenu/CaseChangeMenu.java b/src/main/java/org/jabref/gui/fieldeditors/contextmenu/CaseChangeMenu.java\nindex 04961cabd0..6539516b77 100644\n--- a/src/main/java/org/jabref/gui/fieldeditors/contextmenu/CaseChangeMenu.java\n+++ b/src/main/java/org/jabref/gui/fieldeditors/contextmenu/CaseChangeMenu.java\n\n@@ -23,7 +23,8 @@ class CaseChangeMenu extends Menu {\n         Objects.requireNonNull(text);\n \n         // create menu items, one for each case changer\n-        List<Formatter> caseChangers = new ArrayList<>(Formatters.getCaseChangers());\n+        List<Formatter> caseChangers = new ArrayList<>();\n+        caseChangers.addAll(Formatters.getCaseChangers());\n         caseChangers.add(new ProtectTermsFormatter(Globals.protectedTermsLoader));\n         for (final Formatter caseChanger : caseChangers) {\n             CustomMenuItem menuItem = new CustomMenuItem(new Label(caseChanger.getName()));\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDA3NTg1MA==", "url": "https://github.com/JabRef/jabref/pull/6204#discussion_r400075850", "bodyText": "Here as well.", "author": "tobiasdiez", "createdAt": "2020-03-30T10:10:38Z", "path": "src/main/java/org/jabref/logic/cleanup/Cleanups.java", "diffHunk": "@@ -36,15 +36,13 @@\n         defaultFormatters.add(new FieldFormatterCleanup(InternalField.INTERNAL_ALL_TEXT_FIELDS_FIELD, new ReplaceUnicodeLigaturesFormatter()));\n         DEFAULT_SAVE_ACTIONS = new FieldFormatterCleanups(false, defaultFormatters);\n \n-        List<FieldFormatterCleanup> recommendedBibTeXFormatters = new ArrayList<>();\n-        recommendedBibTeXFormatters.addAll(defaultFormatters);\n+        List<FieldFormatterCleanup> recommendedBibTeXFormatters = new ArrayList<>(defaultFormatters);", "originalCommit": "1c125d6c50b5b04b92fb2a9b69c09636ce963c93", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "477fa0b3086cacf5e597ecdb00a3ae6a093ad103", "chunk": "diff --git a/src/main/java/org/jabref/logic/cleanup/Cleanups.java b/src/main/java/org/jabref/logic/cleanup/Cleanups.java\nindex 29c4ffb24b..7a9e510c7b 100644\n--- a/src/main/java/org/jabref/logic/cleanup/Cleanups.java\n+++ b/src/main/java/org/jabref/logic/cleanup/Cleanups.java\n\n@@ -36,13 +36,15 @@ public class Cleanups {\n         defaultFormatters.add(new FieldFormatterCleanup(InternalField.INTERNAL_ALL_TEXT_FIELDS_FIELD, new ReplaceUnicodeLigaturesFormatter()));\n         DEFAULT_SAVE_ACTIONS = new FieldFormatterCleanups(false, defaultFormatters);\n \n-        List<FieldFormatterCleanup> recommendedBibTeXFormatters = new ArrayList<>(defaultFormatters);\n+        List<FieldFormatterCleanup> recommendedBibTeXFormatters = new ArrayList<>();\n+        recommendedBibTeXFormatters.addAll(defaultFormatters);\n         recommendedBibTeXFormatters.add(new FieldFormatterCleanup(InternalField.INTERNAL_ALL_TEXT_FIELDS_FIELD, new HtmlToLatexFormatter()));\n         recommendedBibTeXFormatters.add(new FieldFormatterCleanup(InternalField.INTERNAL_ALL_TEXT_FIELDS_FIELD, new UnicodeToLatexFormatter()));\n         recommendedBibTeXFormatters.add(new FieldFormatterCleanup(InternalField.INTERNAL_ALL_TEXT_FIELDS_FIELD, new OrdinalsToSuperscriptFormatter()));\n         RECOMMEND_BIBTEX_ACTIONS = new FieldFormatterCleanups(false, recommendedBibTeXFormatters);\n \n-        List<FieldFormatterCleanup> recommendedBiblatexFormatters = new ArrayList<>(defaultFormatters);\n+        List<FieldFormatterCleanup> recommendedBiblatexFormatters = new ArrayList<>();\n+        recommendedBiblatexFormatters.addAll(defaultFormatters);\n         recommendedBiblatexFormatters.add(new FieldFormatterCleanup(StandardField.TITLE, new HtmlToUnicodeFormatter()));\n         recommendedBiblatexFormatters.add(new FieldFormatterCleanup(InternalField.INTERNAL_ALL_TEXT_FIELDS_FIELD, new LatexToUnicodeFormatter()));\n         // DO NOT ADD OrdinalsToSuperscriptFormatter here, because this causes issues. See https://github.com/JabRef/jabref/issues/2596.\n"}}, {"oid": "477fa0b3086cacf5e597ecdb00a3ae6a093ad103", "url": "https://github.com/JabRef/jabref/commit/477fa0b3086cacf5e597ecdb00a3ae6a093ad103", "message": "Revert partially \"Fix some IntelliJ findings\"\n\nThis partially reverts commit 167558dfe1aaa090e57b9bae672e40a76a78abd0.", "committedDate": "2020-03-30T10:35:09Z", "type": "commit"}]}