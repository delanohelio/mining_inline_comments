{"pr_number": 6938, "pr_title": "Fix for some Unicode characters in citation keys", "pr_createdAt": "2020-09-23T21:50:49Z", "pr_url": "https://github.com/JabRef/jabref/pull/6938", "timeline": [{"oid": "5f3cd4b3d39f10b43a015dc5c17af73934f74a8d", "url": "https://github.com/JabRef/jabref/commit/5f3cd4b3d39f10b43a015dc5c17af73934f74a8d", "message": "Add test cases", "committedDate": "2020-09-23T21:47:56Z", "type": "commit"}, {"oid": "e87fdce5824016e32c7e4310eaae3040ef5420d5", "url": "https://github.com/JabRef/jabref/commit/e87fdce5824016e32c7e4310eaae3040ef5420d5", "message": "Fix normalization of unicode text", "committedDate": "2020-09-23T21:48:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc2MzgwOA==", "url": "https://github.com/JabRef/jabref/pull/6938#discussion_r494763808", "bodyText": "I believe the issue does not need to be linked as the comment, but can be found via git log and blame... @koppor ?", "author": "calixtus", "createdAt": "2020-09-25T05:58:42Z", "path": "src/test/java/org/jabref/logic/citationkeypattern/CitationKeyGeneratorTest.java", "diffHunk": "@@ -1094,4 +1094,12 @@ void generateKeyCorrectKeyLengthWithAuthNofMthAndUnicode() {\n \n         assertEquals(4, generateKey(bibEntry, \"[auth4_1]\").length());\n     }\n+\n+    @Test\n+    void generateKeyWithNonNormalizedUnicode() {\n+        // https://github.com/JabRef/jabref/issues/6583", "originalCommit": "e87fdce5824016e32c7e4310eaae3040ef5420d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ2Mjc2OA==", "url": "https://github.com/JabRef/jabref/pull/6938#discussion_r495462768", "bodyText": "I think you are right on this, I've changed the test cases slightly in the latest commit.\nI'd just like to leave a stronger \"trail\" as this is a patch on the unicode -> Western-* issue, not a full fix. I'll add the caveats to the top part of this PR instead.", "author": "k3KAW8Pnf7mkmdSMPHz27", "createdAt": "2020-09-26T14:37:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc2MzgwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ2ODUwNQ==", "url": "https://github.com/JabRef/jabref/pull/6938#discussion_r495468505", "bodyText": "Issue linking should be avoided to have the code self-contained. Larger decisions should go into an ADR. Shorter decisions can go into the code. In case at hand, I just added the issue description as code comment: https://github.com/JabRef/jabref/pull/6938/files#diff-9d2fc955b825e69a852945899b4d62f3", "author": "koppor", "createdAt": "2020-09-26T15:40:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc2MzgwOA=="}], "type": "inlineReview", "revised_code": {"commit": "983613ee7e95280da8a532bcef005d3fcb17d744", "chunk": "diff --git a/src/test/java/org/jabref/logic/citationkeypattern/CitationKeyGeneratorTest.java b/src/test/java/org/jabref/logic/citationkeypattern/CitationKeyGeneratorTest.java\nindex e5a1ff4654..e31a077677 100644\n--- a/src/test/java/org/jabref/logic/citationkeypattern/CitationKeyGeneratorTest.java\n+++ b/src/test/java/org/jabref/logic/citationkeypattern/CitationKeyGeneratorTest.java\n\n@@ -1097,7 +1097,6 @@ class CitationKeyGeneratorTest {\n \n     @Test\n     void generateKeyWithNonNormalizedUnicode() {\n-        // https://github.com/JabRef/jabref/issues/6583\n         BibEntry bibEntry = new BibEntry().withField(StandardField.TITLE, \"Mode\u0300le et outil pour soutenir la sce\u0301narisation pe\u0301dagogique de MOOC connectivistes\");\n \n         assertEquals(\"Modele\", generateKey(bibEntry, \"[veryshorttitle]\"));\n"}}, {"oid": "983613ee7e95280da8a532bcef005d3fcb17d744", "url": "https://github.com/JabRef/jabref/commit/983613ee7e95280da8a532bcef005d3fcb17d744", "message": "Fix code style and comments in test cases", "committedDate": "2020-09-26T14:38:20Z", "type": "commit"}, {"oid": "c7aef566e23cb8d47d983b09f64500343e92ca02", "url": "https://github.com/JabRef/jabref/commit/c7aef566e23cb8d47d983b09f64500343e92ca02", "message": "Add comments into code", "committedDate": "2020-09-26T15:39:54Z", "type": "commit"}]}