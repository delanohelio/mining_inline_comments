{"pr_number": 5925, "pr_title": "Fix maintable not updated when changing entry type", "pr_createdAt": "2020-02-09T16:45:27Z", "pr_url": "https://github.com/JabRef/jabref/pull/5925", "timeline": [{"oid": "0394f32aaa734a92a61407e1fecbcaf510c65049", "url": "https://github.com/JabRef/jabref/commit/0394f32aaa734a92a61407e1fecbcaf510c65049", "message": "Fix maintable not updated when changing entry type\n\n\nFixes #5906", "committedDate": "2020-02-09T16:45:12Z", "type": "commit"}, {"oid": "3bc527dbab322b70010f81a09cc196b2ca83ad73", "url": "https://github.com/JabRef/jabref/commit/3bc527dbab322b70010f81a09cc196b2ca83ad73", "message": "fix checkstyle", "committedDate": "2020-02-09T16:50:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgxNDM4OQ==", "url": "https://github.com/JabRef/jabref/pull/5925#discussion_r376814389", "bodyText": "Please use EasyBind.map(type, Type::getDisplayName);", "author": "tobiasdiez", "createdAt": "2020-02-09T20:52:07Z", "path": "src/main/java/org/jabref/model/entry/BibEntry.java", "diffHunk": "@@ -915,7 +915,11 @@ public void setDate(Date date) {\n     }\n \n     public ObjectBinding<String> getFieldBinding(Field field) {\n-        //noinspection unchecked\n+        if (field == InternalField.TYPE_HEADER || field == InternalField.OBSOLETE_TYPE_HEADER) {\n+            return Bindings.createObjectBinding(() -> {", "originalCommit": "3bc527dbab322b70010f81a09cc196b2ca83ad73", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9059e8088b5c7d41d1e27b457811d653351c84e0", "chunk": "diff --git a/src/main/java/org/jabref/model/entry/BibEntry.java b/src/main/java/org/jabref/model/entry/BibEntry.java\nindex cf3bc17137..8d5fcb6820 100644\n--- a/src/main/java/org/jabref/model/entry/BibEntry.java\n+++ b/src/main/java/org/jabref/model/entry/BibEntry.java\n\n@@ -915,12 +916,10 @@ public class BibEntry implements Cloneable {\n     }\n \n     public ObjectBinding<String> getFieldBinding(Field field) {\n-        if (field == InternalField.TYPE_HEADER || field == InternalField.OBSOLETE_TYPE_HEADER) {\n-            return Bindings.createObjectBinding(() -> {\n-                return type.getValue().getDisplayName();\n-            }, type);\n-        }\n-        return Bindings.valueAt(fields, field);\n+        if ((field == InternalField.TYPE_HEADER) || (field == InternalField.OBSOLETE_TYPE_HEADER)) {\n+            return (ObjectBinding<String>) EasyBind.map(type, EntryType::getDisplayName);\n+      }\n+       return Bindings.valueAt(fields, field);\n     }\n \n     public ObjectBinding<String> getCiteKeyBinding() {\n"}}, {"oid": "9059e8088b5c7d41d1e27b457811d653351c84e0", "url": "https://github.com/JabRef/jabref/commit/9059e8088b5c7d41d1e27b457811d653351c84e0", "message": "use easybind with cast", "committedDate": "2020-02-10T13:23:09Z", "type": "commit"}]}