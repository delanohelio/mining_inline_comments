{"pr_number": 6179, "pr_title": "Truncates the link and/or the link description in the column \"linked files\" in main table, if too long", "pr_createdAt": "2020-03-26T00:08:34Z", "pr_url": "https://github.com/JabRef/jabref/pull/6179", "timeline": [{"oid": "98114bfc527151abcf2c61050cfb0beb666837c9", "url": "https://github.com/JabRef/jabref/commit/98114bfc527151abcf2c61050cfb0beb666837c9", "message": "Truncates the link and/or the link description in the column \"linked files\" in main table, if too long", "committedDate": "2020-03-26T00:05:32Z", "type": "commit"}, {"oid": "efe1b2e246748ec36b5991e6d972d9cac09e355c", "url": "https://github.com/JabRef/jabref/commit/efe1b2e246748ec36b5991e6d972d9cac09e355c", "message": "changelog updated", "committedDate": "2020-03-26T00:29:18Z", "type": "commit"}, {"oid": "357a605a2f8e2de7be23917a4e523bf8f14d74d1", "url": "https://github.com/JabRef/jabref/commit/357a605a2f8e2de7be23917a4e523bf8f14d74d1", "message": "revert changes", "committedDate": "2020-03-30T00:12:55Z", "type": "commit"}, {"oid": "f8995c03bc92b4a1c480b698a3a78031093dd30b", "url": "https://github.com/JabRef/jabref/commit/f8995c03bc92b4a1c480b698a3a78031093dd30b", "message": "fix tooltip", "committedDate": "2020-03-30T08:49:14Z", "type": "commit"}, {"oid": "f1457be1d9fd1eeacba3e5a08e5a128907c72379", "url": "https://github.com/JabRef/jabref/commit/f1457be1d9fd1eeacba3e5a08e5a128907c72379", "message": "improvement: scaling tooltip according to primary screen width", "committedDate": "2020-03-30T10:16:31Z", "type": "commit"}, {"oid": "16a2e55e59c5c6742234601da3d9371c6ac9f658", "url": "https://github.com/JabRef/jabref/commit/16a2e55e59c5c6742234601da3d9371c6ac9f658", "message": "refactoring", "committedDate": "2020-03-30T11:44:40Z", "type": "commit"}, {"oid": "861a9eb087891e8a422b67b712fb46021aa258bb", "url": "https://github.com/JabRef/jabref/commit/861a9eb087891e8a422b67b712fb46021aa258bb", "message": "extension (not fully working as expected)", "committedDate": "2020-03-30T15:22:26Z", "type": "commit"}, {"oid": "d0d8c2fe9338e92fdb47abbbe7b32d9a6b55009f", "url": "https://github.com/JabRef/jabref/commit/d0d8c2fe9338e92fdb47abbbe7b32d9a6b55009f", "message": "minor change", "committedDate": "2020-03-30T15:34:54Z", "type": "commit"}, {"oid": "366a2cde4f4dc10235000150ccedf21178ecb8eb", "url": "https://github.com/JabRef/jabref/commit/366a2cde4f4dc10235000150ccedf21178ecb8eb", "message": "Merge branch 'master' into truncate-links-and-descriptions", "committedDate": "2020-03-30T20:23:42Z", "type": "commit"}, {"oid": "c79181c5e2421bd449bf51e850cfad1b97b1e0fd", "url": "https://github.com/JabRef/jabref/commit/c79181c5e2421bd449bf51e850cfad1b97b1e0fd", "message": "Merge remote-tracking branch 'upstream/master' into truncate-links-and-descriptions", "committedDate": "2020-05-13T12:11:21Z", "type": "commit"}, {"oid": "e1cbb208b7249acd8589cc9702ac98ab2756d60a", "url": "https://github.com/JabRef/jabref/commit/e1cbb208b7249acd8589cc9702ac98ab2756d60a", "message": "Merge remote-tracking branch 'upstream/master' into truncate-links-and-descriptions", "committedDate": "2020-05-15T13:54:14Z", "type": "commit"}, {"oid": "3ace75f6adfa4e7c0e7bc30f04a7d4eeaabc471f", "url": "https://github.com/JabRef/jabref/commit/3ace75f6adfa4e7c0e7bc30f04a7d4eeaabc471f", "message": "partial revert", "committedDate": "2020-05-15T21:04:40Z", "type": "commit"}, {"oid": "2f0c00b22c8bd49be5613ed68cb4188e95707a8f", "url": "https://github.com/JabRef/jabref/commit/2f0c00b22c8bd49be5613ed68cb4188e95707a8f", "message": "truncation integrated", "committedDate": "2020-05-15T22:55:37Z", "type": "commit"}, {"oid": "8530fffa3205d247885e254ee73a971aaeb9b1cd", "url": "https://github.com/JabRef/jabref/commit/8530fffa3205d247885e254ee73a971aaeb9b1cd", "message": "minor change", "committedDate": "2020-05-15T23:08:11Z", "type": "commit"}, {"oid": "3980a8fbb31f4f0bab405cc00610a5c5cb3d4101", "url": "https://github.com/JabRef/jabref/commit/3980a8fbb31f4f0bab405cc00610a5c5cb3d4101", "message": "checkstyle", "committedDate": "2020-05-16T10:47:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMxMzgyMg==", "url": "https://github.com/JabRef/jabref/pull/6179#discussion_r426313822", "bodyText": "This comment can be removed, right?", "author": "calixtus", "createdAt": "2020-05-17T22:50:52Z", "path": "src/main/java/org/jabref/gui/util/ValueTableCellFactory.java", "diffHunk": "@@ -100,7 +101,13 @@ protected void updateItem(T item, boolean empty) {\n                     if (toTooltip != null) {\n                         String tooltipText = toTooltip.apply(rowItem, item);\n                         if (StringUtil.isNotBlank(tooltipText)) {\n-                            setTooltip(new Tooltip(tooltipText));\n+                            Screen currentScreen = Screen.getPrimary();\n+                            double maxWidth = currentScreen.getBounds().getWidth();\n+                            Tooltip tooltip = new Tooltip(tooltipText);\n+                            tooltip.setMaxWidth(maxWidth * 2 / 3);\n+                            // tooltip.setTextOverrun(OverrunStyle.CENTER_ELLIPSIS); // info: can be enabled instead of wrapping the text", "originalCommit": "6ebcb3c348cf44ff63a9e97741fc2187ddb0dbe4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMxNDkyNw==", "url": "https://github.com/JabRef/jabref/pull/6179#discussion_r426314927", "bodyText": "Indeed, I prefer wrapping anyways. Removed.", "author": "systemoperator", "createdAt": "2020-05-17T23:04:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMxMzgyMg=="}], "type": "inlineReview", "revised_code": {"commit": "92e241f2063b10fe003ce787036fd7dc9a7340f4", "chunk": "diff --git a/src/main/java/org/jabref/gui/util/ValueTableCellFactory.java b/src/main/java/org/jabref/gui/util/ValueTableCellFactory.java\nindex efb33452f..38fa12e15 100644\n--- a/src/main/java/org/jabref/gui/util/ValueTableCellFactory.java\n+++ b/src/main/java/org/jabref/gui/util/ValueTableCellFactory.java\n\n@@ -105,7 +105,6 @@ public class ValueTableCellFactory<S, T> implements Callback<TableColumn<S, T>,\n                             double maxWidth = currentScreen.getBounds().getWidth();\n                             Tooltip tooltip = new Tooltip(tooltipText);\n                             tooltip.setMaxWidth(maxWidth * 2 / 3);\n-                            // tooltip.setTextOverrun(OverrunStyle.CENTER_ELLIPSIS); // info: can be enabled instead of wrapping the text\n                             tooltip.setWrapText(true);\n                             setTooltip(tooltip);\n                         }\n"}}, {"oid": "92e241f2063b10fe003ce787036fd7dc9a7340f4", "url": "https://github.com/JabRef/jabref/commit/92e241f2063b10fe003ce787036fd7dc9a7340f4", "message": "remove comment", "committedDate": "2020-05-17T22:54:57Z", "type": "commit"}, {"oid": "92e241f2063b10fe003ce787036fd7dc9a7340f4", "url": "https://github.com/JabRef/jabref/commit/92e241f2063b10fe003ce787036fd7dc9a7340f4", "message": "remove comment", "committedDate": "2020-05-17T22:54:57Z", "type": "forcePushed"}, {"oid": "1004c2475be12d02cdf8fd3549919261074a1650", "url": "https://github.com/JabRef/jabref/commit/1004c2475be12d02cdf8fd3549919261074a1650", "message": "Merge remote-tracking branch 'upstream/master' into truncate-links-and-descriptions", "committedDate": "2020-05-17T23:05:32Z", "type": "commit"}]}