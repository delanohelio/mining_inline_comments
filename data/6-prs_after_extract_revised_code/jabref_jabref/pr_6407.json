{"pr_number": 6407, "pr_title": "Fixed an issue where a new entry is not shown in the library if a filter/search is active", "pr_createdAt": "2020-05-04T06:47:29Z", "pr_url": "https://github.com/JabRef/jabref/pull/6407", "timeline": [{"oid": "3f368e981032881b4f8abe7e59546d7d42c17910", "url": "https://github.com/JabRef/jabref/commit/3f368e981032881b4f8abe7e59546d7d42c17910", "message": "Fixed an issue where a new entry is not shown in the library if a filter is active", "committedDate": "2020-05-04T06:11:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMwOTIwNQ==", "url": "https://github.com/JabRef/jabref/pull/6407#discussion_r422309205", "bodyText": "A better solution would be to Inject the StateManager and call\nclearSearchQuery\n(For how to inject see for example the LinkedFileEditDialogView dialog)", "author": "Siedlerchr", "createdAt": "2020-05-08T18:45:45Z", "path": "src/main/java/org/jabref/gui/EntryTypeView.java", "diffHunk": "@@ -188,6 +188,7 @@ private void focusTextField(Event event) {\n     private void setEntryTypeForReturnAndClose(Optional<BibEntryType> entryType) {\n         type = entryType.map(BibEntryType::getType).orElse(null);\n         viewModel.stopFetching();\n+        this.basePanel.frame().getGlobalSearchBar().endSearch();", "originalCommit": "3f368e981032881b4f8abe7e59546d7d42c17910", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b1e899adc924d54e3c44fb356df2c3e002293df6", "chunk": "diff --git a/src/main/java/org/jabref/gui/EntryTypeView.java b/src/main/java/org/jabref/gui/EntryTypeView.java\nindex 93429c00a4..5d5d773573 100644\n--- a/src/main/java/org/jabref/gui/EntryTypeView.java\n+++ b/src/main/java/org/jabref/gui/EntryTypeView.java\n\n@@ -188,7 +191,7 @@ public class EntryTypeView extends BaseDialog<EntryType> {\n     private void setEntryTypeForReturnAndClose(Optional<BibEntryType> entryType) {\n         type = entryType.map(BibEntryType::getType).orElse(null);\n         viewModel.stopFetching();\n-        this.basePanel.frame().getGlobalSearchBar().endSearch();\n+        this.stateManager.clearSearchQuery();\n         this.close();\n     }\n \n"}}, {"oid": "b1e899adc924d54e3c44fb356df2c3e002293df6", "url": "https://github.com/JabRef/jabref/commit/b1e899adc924d54e3c44fb356df2c3e002293df6", "message": "Adjusted fix by using StateManager for clearing search bar", "committedDate": "2020-05-22T16:24:29Z", "type": "commit"}, {"oid": "a9eeb05819db36eba38b84bf7f4aa6775ffbbf19", "url": "https://github.com/JabRef/jabref/commit/a9eeb05819db36eba38b84bf7f4aa6775ffbbf19", "message": "Merge branch 'master' into fix-for-issue-6297", "committedDate": "2020-05-22T16:35:58Z", "type": "commit"}]}