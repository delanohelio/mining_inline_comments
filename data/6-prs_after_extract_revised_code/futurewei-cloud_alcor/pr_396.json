{"pr_number": 396, "pr_title": "[Contract] Add routers_internal to NetworkConfiguration Entity", "pr_createdAt": "2020-10-05T16:57:36Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/396", "timeline": [{"oid": "6de2c0d3baaa71d7d54f24e207493eb4ffbe56d2", "url": "https://github.com/futurewei-cloud/alcor/commit/6de2c0d3baaa71d7d54f24e207493eb4ffbe56d2", "message": "add dhcp/router/gateway/l2/l3 neighbor to port\n\nadd dhcp/router/gateway/l2/l3 neighbor to port creation", "committedDate": "2020-08-05T05:02:21Z", "type": "commit"}, {"oid": "9f32721615f2e7bf52773d3da5eb9f1205e8bbe1", "url": "https://github.com/futurewei-cloud/alcor/commit/9f32721615f2e7bf52773d3da5eb9f1205e8bbe1", "message": "change according to discussion this morning 08/05\n\nchange subnet info according to discussion this morning 08/05", "committedDate": "2020-08-05T22:23:34Z", "type": "commit"}, {"oid": "5eca251942033a6076b78fdc25b83dfcac234aea", "url": "https://github.com/futurewei-cloud/alcor/commit/5eca251942033a6076b78fdc25b83dfcac234aea", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into master", "committedDate": "2020-10-05T16:51:51Z", "type": "commit"}, {"oid": "2915e6cae4ce35e9dcf5c51159378e289a68910a", "url": "https://github.com/futurewei-cloud/alcor/commit/2915e6cae4ce35e9dcf5c51159378e289a68910a", "message": "add routesinfo to network conf", "committedDate": "2020-10-05T16:56:48Z", "type": "commit"}, {"oid": "f3f79dcb1bd68f727d6cba258426f8cf9c5c8093", "url": "https://github.com/futurewei-cloud/alcor/commit/f3f79dcb1bd68f727d6cba258426f8cf9c5c8093", "message": "change to internal router info from router table", "committedDate": "2020-10-05T17:16:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgyNjY4OA==", "url": "https://github.com/futurewei-cloud/alcor/pull/396#discussion_r499826688", "bodyText": "Suggest to rename the variable name to routerInfo.", "author": "xieus", "createdAt": "2020-10-05T19:36:46Z", "path": "web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java", "diffHunk": "@@ -46,6 +47,9 @@\n   @JsonProperty(\"neighbor_table\")\n   private List<NeighborEntry> neighborTable;\n \n+  @JsonProperty(\"routerinfo\")\n+  private List<InternalRouterInfo> routerTable;", "originalCommit": "f3f79dcb1bd68f727d6cba258426f8cf9c5c8093", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk0MzU1MA==", "url": "https://github.com/futurewei-cloud/alcor/pull/396#discussion_r499943550", "bodyText": "fixed in a90538a", "author": "haboy52581", "createdAt": "2020-10-06T00:32:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgyNjY4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk4OTEzMg==", "url": "https://github.com/futurewei-cloud/alcor/pull/396#discussion_r499989132", "bodyText": "@haboy52581 the variable name itself remains unchanged.", "author": "xieus", "createdAt": "2020-10-06T03:43:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgyNjY4OA=="}], "type": "inlineReview", "revised_code": {"commit": "a90538ab17d99e93785d7b5f8025a6863d3774a8", "chunk": "diff --git a/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java b/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java\nindex 8ab6117b..8a0425cc 100644\n--- a/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java\n+++ b/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java\n\n@@ -47,9 +47,22 @@ public class NetworkConfiguration {\n   @JsonProperty(\"neighbor_table\")\n   private List<NeighborEntry> neighborTable;\n \n-  @JsonProperty(\"routerinfo\")\n+  @JsonProperty(\"routerInfo\")\n   private List<InternalRouterInfo> routerTable;\n \n+  @Override\n+  public String toString() {\n+    return \"NetworkConfiguration{\" + \"rsType=\" + rsType + \", opType=\" + opType + \", portEntities=\" + portEntities + \", vpcs=\" + vpcs + \", subnets=\" + subnets + \", securityGroups=\" + securityGroups + \", neighborInfos=\" + neighborInfos + \", neighborTable=\" + neighborTable + \", routerTable=\" + routerTable + '}';\n+  }\n+\n+  public List<InternalRouterInfo> getRouterTable() {\n+    return routerTable;\n+  }\n+\n+  public void setRouterTable(List<InternalRouterInfo> routerTable) {\n+    this.routerTable = routerTable;\n+  }\n+\n   public void addPortEntity(InternalPortEntity portEntity) {\n     if (this.portEntities == null) {\n       this.portEntities = new ArrayList<>();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgyNzEzNA==", "url": "https://github.com/futurewei-cloud/alcor/pull/396#discussion_r499827134", "bodyText": "Need to add setter and getter for the new field, and update ToString method.", "author": "xieus", "createdAt": "2020-10-05T19:37:39Z", "path": "web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java", "diffHunk": "@@ -46,6 +47,9 @@\n   @JsonProperty(\"neighbor_table\")\n   private List<NeighborEntry> neighborTable;\n \n+  @JsonProperty(\"routerinfo\")\n+  private List<InternalRouterInfo> routerTable;\n+\n   public void addPortEntity(InternalPortEntity portEntity) {\n     if (this.portEntities == null) {\n       this.portEntities = new ArrayList<>();", "originalCommit": "f3f79dcb1bd68f727d6cba258426f8cf9c5c8093", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk0MzUzMw==", "url": "https://github.com/futurewei-cloud/alcor/pull/396#discussion_r499943533", "bodyText": "fixed in a90538a", "author": "haboy52581", "createdAt": "2020-10-06T00:32:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgyNzEzNA=="}], "type": "inlineReview", "revised_code": {"commit": "a90538ab17d99e93785d7b5f8025a6863d3774a8", "chunk": "diff --git a/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java b/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java\nindex 8ab6117b..8a0425cc 100644\n--- a/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java\n+++ b/web/src/main/java/com/futurewei/alcor/web/entity/dataplane/NetworkConfiguration.java\n\n@@ -47,9 +47,22 @@ public class NetworkConfiguration {\n   @JsonProperty(\"neighbor_table\")\n   private List<NeighborEntry> neighborTable;\n \n-  @JsonProperty(\"routerinfo\")\n+  @JsonProperty(\"routerInfo\")\n   private List<InternalRouterInfo> routerTable;\n \n+  @Override\n+  public String toString() {\n+    return \"NetworkConfiguration{\" + \"rsType=\" + rsType + \", opType=\" + opType + \", portEntities=\" + portEntities + \", vpcs=\" + vpcs + \", subnets=\" + subnets + \", securityGroups=\" + securityGroups + \", neighborInfos=\" + neighborInfos + \", neighborTable=\" + neighborTable + \", routerTable=\" + routerTable + '}';\n+  }\n+\n+  public List<InternalRouterInfo> getRouterTable() {\n+    return routerTable;\n+  }\n+\n+  public void setRouterTable(List<InternalRouterInfo> routerTable) {\n+    this.routerTable = routerTable;\n+  }\n+\n   public void addPortEntity(InternalPortEntity portEntity) {\n     if (this.portEntities == null) {\n       this.portEntities = new ArrayList<>();\n"}}, {"oid": "a90538ab17d99e93785d7b5f8025a6863d3774a8", "url": "https://github.com/futurewei-cloud/alcor/commit/a90538ab17d99e93785d7b5f8025a6863d3774a8", "message": "change tostring and add set/getter", "committedDate": "2020-10-06T00:32:27Z", "type": "commit"}, {"oid": "5b30b6a6cadbce7f86cc0130125f7b1d53f91852", "url": "https://github.com/futurewei-cloud/alcor/commit/5b30b6a6cadbce7f86cc0130125f7b1d53f91852", "message": "fix adoc", "committedDate": "2020-10-06T00:41:05Z", "type": "commit"}, {"oid": "93b8e780313168ec145cd953c24efa4d8790abc6", "url": "https://github.com/futurewei-cloud/alcor/commit/93b8e780313168ec145cd953c24efa4d8790abc6", "message": "change var name of router", "committedDate": "2020-10-06T19:09:11Z", "type": "commit"}, {"oid": "1171987b882c105d4056a409bfc7526c352bf30d", "url": "https://github.com/futurewei-cloud/alcor/commit/1171987b882c105d4056a409bfc7526c352bf30d", "message": "address the tab replacement", "committedDate": "2020-10-06T23:02:46Z", "type": "commit"}]}