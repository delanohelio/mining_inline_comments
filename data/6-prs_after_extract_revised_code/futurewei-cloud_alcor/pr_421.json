{"pr_number": 421, "pr_title": "[Node Manager] Add host_dvr_mac field in NodeInfo", "pr_createdAt": "2020-10-15T23:56:25Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/421", "timeline": [{"oid": "24b9b76ae349f277ac55f1cc11e81636d1569b6d", "url": "https://github.com/futurewei-cloud/alcor/commit/24b9b76ae349f277ac55f1cc11e81636d1569b6d", "message": "commit message", "committedDate": "2020-10-07T21:49:22Z", "type": "commit"}, {"oid": "08ec421662ef56559a388e6c7308aa47cfd07a6b", "url": "https://github.com/futurewei-cloud/alcor/commit/08ec421662ef56559a388e6c7308aa47cfd07a6b", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-07T22:00:25Z", "type": "commit"}, {"oid": "2507b8fc44a4ca94da310b73c11453cec9f2504b", "url": "https://github.com/futurewei-cloud/alcor/commit/2507b8fc44a4ca94da310b73c11453cec9f2504b", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-15T17:12:49Z", "type": "commit"}, {"oid": "8cab6bfa9573926c29b9f8dbbeab732a9de1da7e", "url": "https://github.com/futurewei-cloud/alcor/commit/8cab6bfa9573926c29b9f8dbbeab732a9de1da7e", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-15T23:33:06Z", "type": "commit"}, {"oid": "316f66825eea4e41bd4018bbd3c96fcb3f731ee4", "url": "https://github.com/futurewei-cloud/alcor/commit/316f66825eea4e41bd4018bbd3c96fcb3f731ee4", "message": "update", "committedDate": "2020-10-15T23:48:34Z", "type": "commit"}, {"oid": "d82da96b774aa6db6faea3170dbc447b08daa4d6", "url": "https://github.com/futurewei-cloud/alcor/commit/d82da96b774aa6db6faea3170dbc447b08daa4d6", "message": "update", "committedDate": "2020-10-16T00:01:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkyODg5OQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/421#discussion_r505928899", "bodyText": "Variable name usually follow the pattern like hostDvrMac", "author": "xieus", "createdAt": "2020-10-15T23:58:07Z", "path": "web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java", "diffHunk": "@@ -45,6 +45,9 @@\n     @JsonProperty(\"server_port\")\n     private int gRPCServerPort;\n \n+    @JsonProperty(\"host_dvr_mac\")\n+    private String host_dvr_mac;", "originalCommit": "316f66825eea4e41bd4018bbd3c96fcb3f731ee4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk0MzI1MQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/421#discussion_r505943251", "bodyText": "Sure", "author": "kevin-zhonghao", "createdAt": "2020-10-16T00:44:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkyODg5OQ=="}], "type": "inlineReview", "revised_code": {"commit": "d82da96b774aa6db6faea3170dbc447b08daa4d6", "chunk": "diff --git a/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java b/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java\nindex fb0debd1..e77d6e21 100644\n--- a/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java\n+++ b/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java\n\n@@ -53,7 +53,7 @@ public class NodeInfo implements Serializable {\n     }\n \n     public NodeInfo(NodeInfo nodeInfo) {\n-        this(nodeInfo.id, nodeInfo.name, nodeInfo.localIp, nodeInfo.macAddress, nodeInfo.veth, nodeInfo.gRPCServerPort);\n+        this(nodeInfo.id, nodeInfo.name, nodeInfo.localIp, nodeInfo.macAddress, nodeInfo.veth, nodeInfo.gRPCServerPort, nodeInfo.host_dvr_mac);\n     }\n \n     public NodeInfo(String id, String name, String localIp, String macAddress, String veth, int gRPCServerPort) {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkzOTg2OQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/421#discussion_r505939869", "bodyText": "As this is the latest constructor with full parameters, it contains the full implementation while existing constructors refer to this new one.", "author": "xieus", "createdAt": "2020-10-16T00:36:52Z", "path": "web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java", "diffHunk": "@@ -83,6 +86,16 @@ public NodeInfo(String nodeId, String nodeName, String ipAddress, String macAddr\n         this.gRPCServerPort = 0;\n     }\n \n+    public NodeInfo(String id, String name, String localIp, String macAddress, String veth, int gRPCServerPort, String host_dvr_mac) {", "originalCommit": "316f66825eea4e41bd4018bbd3c96fcb3f731ee4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk0NzQwMQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/421#discussion_r505947401", "bodyText": "I have a fix about this part ~ but I am not sure if it is correct ~", "author": "kevin-zhonghao", "createdAt": "2020-10-16T00:54:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkzOTg2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA0NTg4MQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/421#discussion_r506045881", "bodyText": "Talked offline and addressed this comment.", "author": "xieus", "createdAt": "2020-10-16T04:33:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkzOTg2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "4f81701b9f43ff240ea437b56042321689416f83", "chunk": "diff --git a/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java b/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java\nindex fb0debd1..77eb925c 100644\n--- a/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java\n+++ b/web/src/main/java/com/futurewei/alcor/web/entity/NodeInfo.java\n\n@@ -87,13 +87,10 @@ public class NodeInfo implements Serializable {\n     }\n \n     public NodeInfo(String id, String name, String localIp, String macAddress, String veth, int gRPCServerPort, String host_dvr_mac) {\n-        this.id = id;\n-        this.name = name;\n-        this.localIp = localIp;\n-        this.macAddress = macAddress;\n+        this(id, name, localIp, macAddress);;\n         this.veth = veth;\n         this.gRPCServerPort = gRPCServerPort;\n-        this.host_dvr_mac = host_dvr_mac;\n+        this.hostDvrMac = host_dvr_mac;\n     }\n \n     public boolean validateMac(String mac) {\n"}}, {"oid": "4f81701b9f43ff240ea437b56042321689416f83", "url": "https://github.com/futurewei-cloud/alcor/commit/4f81701b9f43ff240ea437b56042321689416f83", "message": "update", "committedDate": "2020-10-16T00:45:59Z", "type": "commit"}, {"oid": "9765eb51fae1e2973d5312ade00007735da21ade", "url": "https://github.com/futurewei-cloud/alcor/commit/9765eb51fae1e2973d5312ade00007735da21ade", "message": "update", "committedDate": "2020-10-16T01:14:30Z", "type": "commit"}]}