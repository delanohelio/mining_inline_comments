{"pr_number": 174, "pr_title": "[VPC/Route/Subnet manger] Add service layer, Ignite support and UTs", "pr_createdAt": "2020-04-24T03:49:03Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/174", "timeline": [{"oid": "f52b25dce6f357f66931c12fe75381eac92c8930", "url": "https://github.com/futurewei-cloud/alcor/commit/f52b25dce6f357f66931c12fe75381eac92c8930", "message": "Merge pull request #27 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-23T00:03:22Z", "type": "commit"}, {"oid": "e7e9d3b4d20537b6fafd7072215fdf12ea615b2b", "url": "https://github.com/futurewei-cloud/alcor/commit/e7e9d3b4d20537b6fafd7072215fdf12ea615b2b", "message": "subnet manager update", "committedDate": "2020-04-23T18:02:38Z", "type": "commit"}, {"oid": "bbebd12fcebb3a31e6869c3a128864c96779d33e", "url": "https://github.com/futurewei-cloud/alcor/commit/bbebd12fcebb3a31e6869c3a128864c96779d33e", "message": "Merge pull request #28 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-23T18:05:22Z", "type": "commit"}, {"oid": "0adef992724bd6938f925e28b255c2283e106c7a", "url": "https://github.com/futurewei-cloud/alcor/commit/0adef992724bd6938f925e28b255c2283e106c7a", "message": "Merge pull request #29 from kevin-zhonghao/master\n\nvpc manager update", "committedDate": "2020-04-23T18:08:42Z", "type": "commit"}, {"oid": "2f17b628b38eb670bf31a23d48671f60b1701aeb", "url": "https://github.com/futurewei-cloud/alcor/commit/2f17b628b38eb670bf31a23d48671f60b1701aeb", "message": "subnet manager update", "committedDate": "2020-04-23T18:20:43Z", "type": "commit"}, {"oid": "39450ae0739d75c12ca6d81e21bd679e80d66f67", "url": "https://github.com/futurewei-cloud/alcor/commit/39450ae0739d75c12ca6d81e21bd679e80d66f67", "message": "Merge pull request #30 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-23T18:22:23Z", "type": "commit"}, {"oid": "245cf61dd61ac7e7fb74316cad6f6594bb02c7c7", "url": "https://github.com/futurewei-cloud/alcor/commit/245cf61dd61ac7e7fb74316cad6f6594bb02c7c7", "message": "Merge branch 'master' into master", "committedDate": "2020-04-23T18:28:40Z", "type": "commit"}, {"oid": "76549a3cbcd78a9fa7daac2ba31cc51bbb7cce4e", "url": "https://github.com/futurewei-cloud/alcor/commit/76549a3cbcd78a9fa7daac2ba31cc51bbb7cce4e", "message": "Merge pull request #32 from futurewei-cloud/master\n\n[Micro-service] Subnet Manager - implementation and deployment in K8s\u2026", "committedDate": "2020-04-23T18:38:20Z", "type": "commit"}, {"oid": "287f2d63136e2338109b7adb3b129023bd21ba02", "url": "https://github.com/futurewei-cloud/alcor/commit/287f2d63136e2338109b7adb3b129023bd21ba02", "message": "Merge pull request #33 from kevin-zhonghao/master\n\nmaster merge", "committedDate": "2020-04-23T18:39:07Z", "type": "commit"}, {"oid": "1e44a0bff79074421f5b7a81036ab62f0dfae2e5", "url": "https://github.com/futurewei-cloud/alcor/commit/1e44a0bff79074421f5b7a81036ab62f0dfae2e5", "message": "optimize vpc manager and route manager", "committedDate": "2020-04-24T03:34:25Z", "type": "commit"}, {"oid": "f94b3f82e29cfa6ae59b4a3a499e1982ddb914e5", "url": "https://github.com/futurewei-cloud/alcor/commit/f94b3f82e29cfa6ae59b4a3a499e1982ddb914e5", "message": "Merge pull request #34 from kevin-zhonghao/feature/route_manager\n\noptimize vpc manager", "committedDate": "2020-04-24T03:39:14Z", "type": "commit"}, {"oid": "b39917536031f6bbb212d07aeb14473295b34841", "url": "https://github.com/futurewei-cloud/alcor/commit/b39917536031f6bbb212d07aeb14473295b34841", "message": "Merge pull request #35 from kevin-zhonghao/master\n\nvpc and route manager update", "committedDate": "2020-04-24T04:05:10Z", "type": "commit"}, {"oid": "245a8296800daba4a9972a65b17cda2665c8947c", "url": "https://github.com/futurewei-cloud/alcor/commit/245a8296800daba4a9972a65b17cda2665c8947c", "message": "route manager and vpc manager update", "committedDate": "2020-04-24T07:10:11Z", "type": "commit"}, {"oid": "2c01a2d8e68c105cf25bdbb50be7829ba55e47f6", "url": "https://github.com/futurewei-cloud/alcor/commit/2c01a2d8e68c105cf25bdbb50be7829ba55e47f6", "message": "vpc and route manager update", "committedDate": "2020-04-24T19:10:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk3NDAxMQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r414974011", "bodyText": "Like it!", "author": "xieus", "createdAt": "2020-04-25T04:18:48Z", "path": "services/route_manager/src/main/java/com/futurewei/alcor/route/controller/RouteController.java", "diffHunk": "@@ -39,7 +40,7 @@\n     private Logger logger = LoggerFactory.getLogger(this.getClass());\n \n     @Autowired\n-    private RouteRepository routeRepository;\n+    private RouteDatabaseService routeDatabaseService;", "originalCommit": "2c01a2d8e68c105cf25bdbb50be7829ba55e47f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk3NDA5Mg==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r414974092", "bodyText": "empty implementation?", "author": "xieus", "createdAt": "2020-04-25T04:19:20Z", "path": "services/route_manager/src/main/java/com/futurewei/alcor/route/service/Impl/RouteServiceImpl.java", "diffHunk": "@@ -0,0 +1,8 @@\n+package com.futurewei.alcor.route.service.Impl;\n+\n+import com.futurewei.alcor.route.service.RouteService;\n+import org.springframework.stereotype.Service;\n+\n+@Service\n+public class RouteServiceImpl implements RouteService {", "originalCommit": "2c01a2d8e68c105cf25bdbb50be7829ba55e47f6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE4Njc2MQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416186761", "bodyText": "Yes, because we haven't any route logic service yet", "author": "kevin-zhonghao", "createdAt": "2020-04-27T22:15:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk3NDA5Mg=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk3NDIxMQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r414974211", "bodyText": "Like it!", "author": "xieus", "createdAt": "2020-04-25T04:20:17Z", "path": "services/route_manager/src/test/java/com/futurewei/alcor/route/RouteControllerTests.java", "diffHunk": "@@ -0,0 +1,140 @@\n+package com.futurewei.alcor.route;\n+\n+import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\n+import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\n+import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n+import static org.junit.Assert.*;\n+\n+import com.futurewei.alcor.route.config.UnitTestConfig;\n+import com.futurewei.alcor.route.entity.RouteState;\n+import com.futurewei.alcor.route.service.RouteDatabaseService;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.mockito.Mockito;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.boot.test.mock.mockito.MockBean;\n+import org.springframework.http.MediaType;\n+import org.springframework.test.context.junit4.SpringRunner;\n+import org.springframework.test.web.servlet.MockMvc;\n+import org.springframework.test.web.servlet.result.MockMvcResultMatchers;\n+\n+import java.io.IOException;\n+\n+\n+@RunWith(SpringRunner.class)\n+@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n+        properties = {\"httpbin=http://localhost:${wiremock.server.port}\"})\n+@AutoConfigureMockMvc\n+public class RouteControllerTests {\n+\n+    @Autowired\n+    private MockMvc mockMvc;\n+\n+    @MockBean\n+    private RouteDatabaseService routeDatabaseService;\n+\n+    private String getByIdUri = \"/vpcs/\" + UnitTestConfig.vpcId + \"/routes/\" + UnitTestConfig.routeId;\n+    private String createSubnetUri = \"/subnets/\" + UnitTestConfig.subnetId + \"/routes\";\n+    private String createVpcUri = \"/vpcs/\" + UnitTestConfig.vpcId + \"/routes\";\n+    private String deleteUri = \"/vpcs/\" + UnitTestConfig.vpcId + \"/routes/\" + UnitTestConfig.routeId;\n+\n+    @Test\n+    public void routeGetById_canFindRoute_pass () throws Exception {", "originalCommit": "2c01a2d8e68c105cf25bdbb50be7829ba55e47f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "e3fd31d96ddbfbcd30c3f1a84e8d3163a58a6a63", "url": "https://github.com/futurewei-cloud/alcor/commit/e3fd31d96ddbfbcd30c3f1a84e8d3163a58a6a63", "message": "subnet manager integrated with ip manger update", "committedDate": "2020-04-27T20:56:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxNzA1Ng==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416217056", "bodyText": "Should we verify cidr block?", "author": "xieus", "createdAt": "2020-04-27T23:26:26Z", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/SubnetController.java", "diffHunk": "@@ -102,6 +102,7 @@ public SubnetStateJson createSubnetState(@PathVariable String projectId, @Reques\n             SubnetState inSubnetState = resource.getSubnet();\n             String subnetId = inSubnetState.getId();\n             String vpcId = inSubnetState.getVpcId();\n+            String cidr = inSubnetState.getCidr();", "originalCommit": "e3fd31d96ddbfbcd30c3f1a84e8d3163a58a6a63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI1Njc3NA==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416256774", "bodyText": "Finished! ~", "author": "kevin-zhonghao", "createdAt": "2020-04-28T01:15:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxNzA1Ng=="}], "type": "inlineReview", "revised_code": {"commit": "dba94d8a24117f7eb9b8fce7afd05482d944e63b", "chunk": "diff --git a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/SubnetController.java b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/SubnetController.java\nindex c2bec3fc..404e692b 100644\n--- a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/SubnetController.java\n+++ b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/SubnetController.java\n\n@@ -109,7 +109,7 @@ public class SubnetController {\n             //Allocate Gateway Mac\n             CompletableFuture<MacStateJson> macFuture = CompletableFuture.supplyAsync(() -> {\n                 try {\n-                    return this.subnetService.allocateMacGateway(projectId, vpcId, portId);\n+                    return this.subnetService.allocateMacAddressForGatewayPort(projectId, vpcId, portId);\n                 } catch (Exception e) {\n                     throw new CompletionException(e);\n                 }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxNzgwNA==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416217804", "bodyText": "Should we do something here?", "author": "xieus", "createdAt": "2020-04-27T23:28:08Z", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java", "diffHunk": "@@ -196,4 +205,20 @@ public IpAddrRequest allocateIPGateway(String subnetId) throws FallbackException\n \n         return ipResponse;\n     }\n+\n+    @Override\n+    public String[] cidrToFirstIpAndLastIp(String cidr) {\n+        if (cidr == null) {\n+            return null;\n+        }\n+        SubnetUtils utils = new SubnetUtils(cidr);\n+        String[] address = utils.getInfo().getAllAddresses();\n+        if (address == null || address.length < 1) {\n+", "originalCommit": "e3fd31d96ddbfbcd30c3f1a84e8d3163a58a6a63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI1NzY0Ng==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416257646", "bodyText": "Yeah ~ it should have \"return null\"", "author": "kevin-zhonghao", "createdAt": "2020-04-28T01:18:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxNzgwNA=="}], "type": "inlineReview", "revised_code": {"commit": "8a54470de61cb41b57d3ecefaba89ac6862d6a88", "chunk": "diff --git a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java\nindex 7548828a..d477afb5 100644\n--- a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java\n+++ b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java\n\n@@ -212,13 +219,53 @@ public class SubnetServiceImp implements SubnetService {\n             return null;\n         }\n         SubnetUtils utils = new SubnetUtils(cidr);\n-        String[] address = utils.getInfo().getAllAddresses();\n-        if (address == null || address.length < 1) {\n-\n+        String highIp = utils.getInfo().getHighAddress();\n+        String lowIp = utils.getInfo().getLowAddress();\n+        if (highIp == null || lowIp == null) {\n+            return null;\n         }\n         String[] res = new String[2];\n-        res[0] = address[0];\n-        res[1] = address[address.length - 1];\n+        res[0] = lowIp;\n+        res[1] = highIp;\n         return res;\n     }\n+\n+    @Override\n+    public boolean verifyCidrBlock(String cidr) throws FallbackException {\n+        if (cidr == null) {\n+            return false;\n+        }\n+        String[] cidrs = cidr.split(\"\\\\/\", -1);\n+        // verify cidr suffix\n+        if (cidrs.length > 2 || cidrs.length == 0) {\n+            return false;\n+        } else if (cidrs.length == 2) {\n+            if (!ControllerUtil.isPositive(cidrs[1])) {\n+                return false;\n+            }\n+            int suffix = Integer.parseInt(cidrs[1]);\n+            if (suffix < 16 || suffix > 28) {\n+                return false;\n+            } else if (suffix == 0 && !\"0.0.0.0\".equals(cidrs[0])) {\n+                return false;\n+            }\n+        }\n+        // verify cidr prefix\n+        String[] addr = cidrs[0].split(\"\\\\.\" , -1);\n+        if (addr.length != 4) {\n+            return false;\n+        }\n+        for (String f : addr) {\n+            if (!ControllerUtil.isPositive(f)) {\n+                return false;\n+            }\n+            int n = Integer.parseInt(f);\n+            if (n < 0 || n > 255) {\n+                return false;\n+            }\n+        }\n+        return true;\n+\n+    }\n+\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxODE2Ng==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416218166", "bodyText": "getAllAddress could be very costly for a huge subnet. Could we do it more efficient?", "author": "xieus", "createdAt": "2020-04-27T23:29:04Z", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java", "diffHunk": "@@ -196,4 +205,20 @@ public IpAddrRequest allocateIPGateway(String subnetId) throws FallbackException\n \n         return ipResponse;\n     }\n+\n+    @Override\n+    public String[] cidrToFirstIpAndLastIp(String cidr) {\n+        if (cidr == null) {\n+            return null;\n+        }\n+        SubnetUtils utils = new SubnetUtils(cidr);\n+        String[] address = utils.getInfo().getAllAddresses();", "originalCommit": "e3fd31d96ddbfbcd30c3f1a84e8d3163a58a6a63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI2MTYzMg==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416261632", "bodyText": "Yes ~ you are right", "author": "kevin-zhonghao", "createdAt": "2020-04-28T01:29:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxODE2Ng=="}], "type": "inlineReview", "revised_code": {"commit": "8a54470de61cb41b57d3ecefaba89ac6862d6a88", "chunk": "diff --git a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java\nindex 7548828a..d477afb5 100644\n--- a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java\n+++ b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/implement/SubnetServiceImp.java\n\n@@ -212,13 +219,53 @@ public class SubnetServiceImp implements SubnetService {\n             return null;\n         }\n         SubnetUtils utils = new SubnetUtils(cidr);\n-        String[] address = utils.getInfo().getAllAddresses();\n-        if (address == null || address.length < 1) {\n-\n+        String highIp = utils.getInfo().getHighAddress();\n+        String lowIp = utils.getInfo().getLowAddress();\n+        if (highIp == null || lowIp == null) {\n+            return null;\n         }\n         String[] res = new String[2];\n-        res[0] = address[0];\n-        res[1] = address[address.length - 1];\n+        res[0] = lowIp;\n+        res[1] = highIp;\n         return res;\n     }\n+\n+    @Override\n+    public boolean verifyCidrBlock(String cidr) throws FallbackException {\n+        if (cidr == null) {\n+            return false;\n+        }\n+        String[] cidrs = cidr.split(\"\\\\/\", -1);\n+        // verify cidr suffix\n+        if (cidrs.length > 2 || cidrs.length == 0) {\n+            return false;\n+        } else if (cidrs.length == 2) {\n+            if (!ControllerUtil.isPositive(cidrs[1])) {\n+                return false;\n+            }\n+            int suffix = Integer.parseInt(cidrs[1]);\n+            if (suffix < 16 || suffix > 28) {\n+                return false;\n+            } else if (suffix == 0 && !\"0.0.0.0\".equals(cidrs[0])) {\n+                return false;\n+            }\n+        }\n+        // verify cidr prefix\n+        String[] addr = cidrs[0].split(\"\\\\.\" , -1);\n+        if (addr.length != 4) {\n+            return false;\n+        }\n+        for (String f : addr) {\n+            if (!ControllerUtil.isPositive(f)) {\n+                return false;\n+            }\n+            int n = Integer.parseInt(f);\n+            if (n < 0 || n > 255) {\n+                return false;\n+            }\n+        }\n+        return true;\n+\n+    }\n+\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxODUyNQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416218525", "bodyText": "Can we have a UT covering bad CIDR block case?", "author": "xieus", "createdAt": "2020-04-27T23:29:57Z", "path": "services/subnet_manager/src/test/java/com/futurewei/alcor/subnet/SubnetControllerTests.java", "diffHunk": "@@ -97,7 +97,7 @@ public void createSubnetState_create_pass () throws Exception {\n                 .thenReturn(routeWebJson);\n         Mockito.when(subnetService.allocateMacGateway(anyString(), anyString(), anyString()))\n                 .thenReturn(macResponse);\n-        Mockito.when(subnetService.allocateIPGateway(anyString()))\n+        Mockito.when(subnetService.allocateIPGateway(anyString(), anyString()))", "originalCommit": "e3fd31d96ddbfbcd30c3f1a84e8d3163a58a6a63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI2NDcxNg==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416264716", "bodyText": "Finished!", "author": "kevin-zhonghao", "createdAt": "2020-04-28T01:39:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxODUyNQ=="}], "type": "inlineReview", "revised_code": {"commit": "dba94d8a24117f7eb9b8fce7afd05482d944e63b", "chunk": "diff --git a/services/subnet_manager/src/test/java/com/futurewei/alcor/subnet/SubnetControllerTests.java b/services/subnet_manager/src/test/java/com/futurewei/alcor/subnet/SubnetControllerTests.java\nindex 4133d391..81193445 100644\n--- a/services/subnet_manager/src/test/java/com/futurewei/alcor/subnet/SubnetControllerTests.java\n+++ b/services/subnet_manager/src/test/java/com/futurewei/alcor/subnet/SubnetControllerTests.java\n\n@@ -95,9 +95,9 @@ public class SubnetControllerTests {\n                 .thenReturn(vpcStateJson);\n         Mockito.when(subnetService.createRouteRules(eq(UnitTestConfig.subnetId), any(SubnetState.class)))\n                 .thenReturn(routeWebJson);\n-        Mockito.when(subnetService.allocateMacGateway(anyString(), anyString(), anyString()))\n+        Mockito.when(subnetService.allocateMacAddressForGatewayPort(anyString(), anyString(), anyString()))\n                 .thenReturn(macResponse);\n-        Mockito.when(subnetService.allocateIPGateway(anyString(), anyString()))\n+        Mockito.when(subnetService.allocateIpAddressForGatewayPort(anyString(), anyString()))\n                 .thenReturn(ipAddrRequest);\n \n         this.mockMvc.perform(post(createUri).contentType(MediaType.APPLICATION_JSON)\n"}}, {"oid": "8a54470de61cb41b57d3ecefaba89ac6862d6a88", "url": "https://github.com/futurewei-cloud/alcor/commit/8a54470de61cb41b57d3ecefaba89ac6862d6a88", "message": "Add new subnet UTs and verify cidr block module", "committedDate": "2020-04-28T01:40:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMyMTk4Mg==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416321982", "bodyText": "To be accurate, let us use \"allocateIpAddressForGatewayPort\"", "author": "xieus", "createdAt": "2020-04-28T04:42:54Z", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java", "diffHunk": "@@ -32,7 +35,13 @@ public void fallbackOperation (AtomicReference<RouteWebJson> routeResponseAtomic\n     // Allocate Gateway Mac\n     public MacStateJson allocateMacGateway (String projectId, String vpcId, String portId) throws Exception;\n \n-    // TODO : Verify/Allocate Gateway IP, subnet id, port id, subnet cidr, response:IP - unique\n-    public IpAddrRequest allocateIPGateway (String subnetId) throws Exception;\n+    // Verify/Allocate Gateway IP\n+    public IpAddrRequest allocateIPGateway (String subnetId, String cidr) throws Exception;", "originalCommit": "8a54470de61cb41b57d3ecefaba89ac6862d6a88", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMyMjc2MQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416322761", "bodyText": "Also inside this method, I believe we have two standalone logics. One is to allocate Ip range for subnet, and the other is to allocate ip address for gateway port. Let us split them into two methods.", "author": "xieus", "createdAt": "2020-04-28T04:45:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMyMTk4Mg=="}], "type": "inlineReview", "revised_code": {"commit": "dba94d8a24117f7eb9b8fce7afd05482d944e63b", "chunk": "diff --git a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java\nindex abcd45e2..6481a0f7 100644\n--- a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java\n+++ b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java\n\n@@ -33,10 +33,10 @@ public interface SubnetService {\n     public RouteWebJson createRouteRules (String subnetId, SubnetState subnetState) throws Exception;\n \n     // Allocate Gateway Mac\n-    public MacStateJson allocateMacGateway (String projectId, String vpcId, String portId) throws Exception;\n+    public MacStateJson allocateMacAddressForGatewayPort(String projectId, String vpcId, String portId) throws Exception;\n \n     // Verify/Allocate Gateway IP\n-    public IpAddrRequest allocateIPGateway (String subnetId, String cidr) throws Exception;\n+    public IpAddrRequest allocateIpAddressForGatewayPort(String subnetId, String cidr) throws Exception;\n \n     // Transfer cidr to first IP and last IP\n     public String[] cidrToFirstIpAndLastIp (String cidr);\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMyMjExMQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/174#discussion_r416322111", "bodyText": "Let us use allocateMacAddressForGatewayPort", "author": "xieus", "createdAt": "2020-04-28T04:43:16Z", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java", "diffHunk": "@@ -32,7 +35,13 @@ public void fallbackOperation (AtomicReference<RouteWebJson> routeResponseAtomic\n     // Allocate Gateway Mac\n     public MacStateJson allocateMacGateway (String projectId, String vpcId, String portId) throws Exception;", "originalCommit": "8a54470de61cb41b57d3ecefaba89ac6862d6a88", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "dba94d8a24117f7eb9b8fce7afd05482d944e63b", "chunk": "diff --git a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java\nindex abcd45e2..6481a0f7 100644\n--- a/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java\n+++ b/services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/service/SubnetService.java\n\n@@ -33,10 +33,10 @@ public interface SubnetService {\n     public RouteWebJson createRouteRules (String subnetId, SubnetState subnetState) throws Exception;\n \n     // Allocate Gateway Mac\n-    public MacStateJson allocateMacGateway (String projectId, String vpcId, String portId) throws Exception;\n+    public MacStateJson allocateMacAddressForGatewayPort(String projectId, String vpcId, String portId) throws Exception;\n \n     // Verify/Allocate Gateway IP\n-    public IpAddrRequest allocateIPGateway (String subnetId, String cidr) throws Exception;\n+    public IpAddrRequest allocateIpAddressForGatewayPort(String subnetId, String cidr) throws Exception;\n \n     // Transfer cidr to first IP and last IP\n     public String[] cidrToFirstIpAndLastIp (String cidr);\n"}}, {"oid": "dba94d8a24117f7eb9b8fce7afd05482d944e63b", "url": "https://github.com/futurewei-cloud/alcor/commit/dba94d8a24117f7eb9b8fce7afd05482d944e63b", "message": "subnet manager fallback operation update", "committedDate": "2020-04-28T06:13:56Z", "type": "commit"}, {"oid": "a81d90c0c4b33c3a4ee7165b4f787aff53d440ff", "url": "https://github.com/futurewei-cloud/alcor/commit/a81d90c0c4b33c3a4ee7165b4f787aff53d440ff", "message": "vpcmanager", "committedDate": "2020-03-24T23:00:44Z", "type": "commit"}, {"oid": "93da5e40ad87f49cfc891b56a8618c25567b9c40", "url": "https://github.com/futurewei-cloud/alcor/commit/93da5e40ad87f49cfc891b56a8618c25567b9c40", "message": "vpc manager service update", "committedDate": "2020-03-24T23:35:04Z", "type": "commit"}, {"oid": "bb7c1ffd71e6ab1c1019b874322b18e239f0be61", "url": "https://github.com/futurewei-cloud/alcor/commit/bb7c1ffd71e6ab1c1019b874322b18e239f0be61", "message": "Merge pull request #1 from futurewei-cloud/master\n\nReplace Redis with Apache Ignite for in memory cache and db (#129)", "committedDate": "2020-03-25T16:12:19Z", "type": "commit"}, {"oid": "2b6a43fb0ae185b880969b49ce852434d1799a24", "url": "https://github.com/futurewei-cloud/alcor/commit/2b6a43fb0ae185b880969b49ce852434d1799a24", "message": "vpc manager directory structure update", "committedDate": "2020-03-25T18:26:03Z", "type": "commit"}, {"oid": "49ad0b0272ef71832af87ff93ab68c80a8300121", "url": "https://github.com/futurewei-cloud/alcor/commit/49ad0b0272ef71832af87ff93ab68c80a8300121", "message": "common service and updated vpcmanager", "committedDate": "2020-03-27T07:02:52Z", "type": "commit"}, {"oid": "c9935f10df13ca8e7cfff10ad9f07fdbfc61eb4f", "url": "https://github.com/futurewei-cloud/alcor/commit/c9935f10df13ca8e7cfff10ad9f07fdbfc61eb4f", "message": "Rename directory name from Common-service to lib", "committedDate": "2020-03-27T07:28:26Z", "type": "commit"}, {"oid": "3f04333e9042ae0c9577c875f9c430a3d78b5aa2", "url": "https://github.com/futurewei-cloud/alcor/commit/3f04333e9042ae0c9577c875f9c430a3d78b5aa2", "message": "Move lib files under com.futurewei.alcor.common", "committedDate": "2020-03-27T07:34:01Z", "type": "commit"}, {"oid": "715675ee72a3518e87c9280a57ffe52fa242b3e8", "url": "https://github.com/futurewei-cloud/alcor/commit/715675ee72a3518e87c9280a57ffe52fa242b3e8", "message": "fix package paths in lib", "committedDate": "2020-03-27T07:53:44Z", "type": "commit"}, {"oid": "4de3c83ba533eb941ab9a2392f863eda36baa0a9", "url": "https://github.com/futurewei-cloud/alcor/commit/4de3c83ba533eb941ab9a2392f863eda36baa0a9", "message": "Rename package path to com.futurewei.alcor.vpcmanager", "committedDate": "2020-03-27T08:04:01Z", "type": "commit"}, {"oid": "8d2a24da02a5540318f52d288030fbab99b776b6", "url": "https://github.com/futurewei-cloud/alcor/commit/8d2a24da02a5540318f52d288030fbab99b776b6", "message": "Update common jar and use latest package path in vpcmanager", "committedDate": "2020-03-27T08:12:46Z", "type": "commit"}, {"oid": "84b4cd58ce61c78df855a5feca4bed2b6c4cc760", "url": "https://github.com/futurewei-cloud/alcor/commit/84b4cd58ce61c78df855a5feca4bed2b6c4cc760", "message": "update vpc manager jar package name", "committedDate": "2020-03-27T08:14:40Z", "type": "commit"}, {"oid": "00328559311fede7087bf48ed328008e748f2b0b", "url": "https://github.com/futurewei-cloud/alcor/commit/00328559311fede7087bf48ed328008e748f2b0b", "message": "change Dockerfilr", "committedDate": "2020-03-27T17:19:05Z", "type": "commit"}, {"oid": "510fe4aced4f39764ac8f5a30df4783a67bef57a", "url": "https://github.com/futurewei-cloud/alcor/commit/510fe4aced4f39764ac8f5a30df4783a67bef57a", "message": "delete useless file", "committedDate": "2020-03-27T17:22:43Z", "type": "commit"}, {"oid": "2d1cca813255fedeb2cbd2662cbfb6b50e10f7b5", "url": "https://github.com/futurewei-cloud/alcor/commit/2d1cca813255fedeb2cbd2662cbfb6b50e10f7b5", "message": "Reformat some files in vpc manager", "committedDate": "2020-03-27T17:48:42Z", "type": "commit"}, {"oid": "b0a81d3ec168f2f1b55af276bcbe58d1255d1266", "url": "https://github.com/futurewei-cloud/alcor/commit/b0a81d3ec168f2f1b55af276bcbe58d1255d1266", "message": "Reformat files in common lib", "committedDate": "2020-03-27T17:55:22Z", "type": "commit"}, {"oid": "0c06645add0d6720d8c1475cdc45e049ec370987", "url": "https://github.com/futurewei-cloud/alcor/commit/0c06645add0d6720d8c1475cdc45e049ec370987", "message": "route manager codes and update vpc manager", "committedDate": "2020-03-30T03:48:56Z", "type": "commit"}, {"oid": "bfd46bc69200c5aebf2ca5913bb26d7c6fc8035b", "url": "https://github.com/futurewei-cloud/alcor/commit/bfd46bc69200c5aebf2ca5913bb26d7c6fc8035b", "message": "update vpc_manager.yaml, route_manager_yaml", "committedDate": "2020-03-30T04:05:12Z", "type": "commit"}, {"oid": "3a2c035eda11418a0473781cd195d9492aa8a72a", "url": "https://github.com/futurewei-cloud/alcor/commit/3a2c035eda11418a0473781cd195d9492aa8a72a", "message": "update", "committedDate": "2020-03-30T04:07:49Z", "type": "commit"}, {"oid": "a739a9c0af774dcf9727474391ab796fa6ea43ef", "url": "https://github.com/futurewei-cloud/alcor/commit/a739a9c0af774dcf9727474391ab796fa6ea43ef", "message": "Delete unused files", "committedDate": "2020-03-30T04:15:29Z", "type": "commit"}, {"oid": "8e5549a78b09381b116fcb895b13b9dc75ddd8aa", "url": "https://github.com/futurewei-cloud/alcor/commit/8e5549a78b09381b116fcb895b13b9dc75ddd8aa", "message": "Add get/create apis on route manager and post call from vpc to route", "committedDate": "2020-03-30T06:55:51Z", "type": "commit"}, {"oid": "771dad76d57ef25344c77e266bca90b313055225", "url": "https://github.com/futurewei-cloud/alcor/commit/771dad76d57ef25344c77e266bca90b313055225", "message": "update vpc controller and vpcState", "committedDate": "2020-03-30T21:23:25Z", "type": "commit"}, {"oid": "d07ff34f909437485a64e40e0f8d71562c8fc8bd", "url": "https://github.com/futurewei-cloud/alcor/commit/d07ff34f909437485a64e40e0f8d71562c8fc8bd", "message": "Update gitignore to exclude logs file", "committedDate": "2020-03-31T02:38:49Z", "type": "commit"}, {"oid": "a84ab728c191cf9cf2166b01f54b9d8748fb1dff", "url": "https://github.com/futurewei-cloud/alcor/commit/a84ab728c191cf9cf2166b01f54b9d8748fb1dff", "message": "Merge from alcor/master", "committedDate": "2020-03-31T04:24:32Z", "type": "commit"}, {"oid": "e27b2facfe4e77d57f42f08fd8c9633152e071e1", "url": "https://github.com/futurewei-cloud/alcor/commit/e27b2facfe4e77d57f42f08fd8c9633152e071e1", "message": "Merge from vpcmanager to alcor.vpcmanager", "committedDate": "2020-03-31T05:13:59Z", "type": "commit"}, {"oid": "9070cd0137d7dfa0b8c200de531771ec5b839f45", "url": "https://github.com/futurewei-cloud/alcor/commit/9070cd0137d7dfa0b8c200de531771ec5b839f45", "message": "Remove lib jar and add dependency on pom", "committedDate": "2020-03-31T05:16:14Z", "type": "commit"}, {"oid": "8874c7307bcb7f7f96bb0ac1b3003361db53ff4a", "url": "https://github.com/futurewei-cloud/alcor/commit/8874c7307bcb7f7f96bb0ac1b3003361db53ff4a", "message": "Remove lib jar and add dependency on pom for route manager", "committedDate": "2020-03-31T05:17:36Z", "type": "commit"}, {"oid": "0b58f598d1df2422900c3c9b6768342e2ec15478", "url": "https://github.com/futurewei-cloud/alcor/commit/0b58f598d1df2422900c3c9b6768342e2ec15478", "message": "update alcor route manager service and package name", "committedDate": "2020-03-31T05:22:53Z", "type": "commit"}, {"oid": "b6c328f29bc96c5b46b074f313eb68859c54fc62", "url": "https://github.com/futurewei-cloud/alcor/commit/b6c328f29bc96c5b46b074f313eb68859c54fc62", "message": "Fix vpc manager duplicated UTs", "committedDate": "2020-03-31T05:26:53Z", "type": "commit"}, {"oid": "d11745b658f1092eaaf2dec138e1578dde36474d", "url": "https://github.com/futurewei-cloud/alcor/commit/d11745b658f1092eaaf2dec138e1578dde36474d", "message": "redis-route.yaml", "committedDate": "2020-03-31T05:35:20Z", "type": "commit"}, {"oid": "0ed002dfc5d6805dc54a49ea9f94679c6717cd9a", "url": "https://github.com/futurewei-cloud/alcor/commit/0ed002dfc5d6805dc54a49ea9f94679c6717cd9a", "message": "Update setRouteWebObjectList", "committedDate": "2020-03-31T05:56:16Z", "type": "commit"}, {"oid": "f73cac5a73fc18c0ffaabfd381d2c1f30d7f8398", "url": "https://github.com/futurewei-cloud/alcor/commit/f73cac5a73fc18c0ffaabfd381d2c1f30d7f8398", "message": "Merge branch 'feature/route_manager' of https://github.com/kevin-zhonghao/alcor into feature/route_manager", "committedDate": "2020-03-31T06:00:31Z", "type": "commit"}, {"oid": "6575ac236283bb433b4cd980015a267b8cef9ef4", "url": "https://github.com/futurewei-cloud/alcor/commit/6575ac236283bb433b4cd980015a267b8cef9ef4", "message": "Fix setter/getter issue in VpcState", "committedDate": "2020-03-31T06:09:21Z", "type": "commit"}, {"oid": "6a6ac89f90fc43620e382adcfe43fdbeeade9a89", "url": "https://github.com/futurewei-cloud/alcor/commit/6a6ac89f90fc43620e382adcfe43fdbeeade9a89", "message": "Move VpcManager under Services", "committedDate": "2020-03-31T06:19:16Z", "type": "commit"}, {"oid": "a25c9f024acc9c14c2b04fb36101b215c5727708", "url": "https://github.com/futurewei-cloud/alcor/commit/a25c9f024acc9c14c2b04fb36101b215c5727708", "message": "Rename vpcmanager to vpc_manager", "committedDate": "2020-03-31T06:22:22Z", "type": "commit"}, {"oid": "27e62ac7be121800ffecfdf9f89f17d54e7452e1", "url": "https://github.com/futurewei-cloud/alcor/commit/27e62ac7be121800ffecfdf9f89f17d54e7452e1", "message": "Move routemanager under services and rename it to route_manager", "committedDate": "2020-03-31T06:23:47Z", "type": "commit"}, {"oid": "0cfc6869dc46cd40a5ee3118cef389bc2c408b32", "url": "https://github.com/futurewei-cloud/alcor/commit/0cfc6869dc46cd40a5ee3118cef389bc2c408b32", "message": "Fix package issues for route_manager", "committedDate": "2020-03-31T06:33:46Z", "type": "commit"}, {"oid": "3d76c29f36db8aa4aaf2e932735ae241e0e2eeab", "url": "https://github.com/futurewei-cloud/alcor/commit/3d76c29f36db8aa4aaf2e932735ae241e0e2eeab", "message": "Add web route schema and update vpc schema", "committedDate": "2020-03-31T06:47:51Z", "type": "commit"}, {"oid": "3bc699be2963ea2a70ef531742e3dcd6020c9e3c", "url": "https://github.com/futurewei-cloud/alcor/commit/3bc699be2963ea2a70ef531742e3dcd6020c9e3c", "message": "Delete unused yaml files for vpcmanager", "committedDate": "2020-03-31T07:03:26Z", "type": "commit"}, {"oid": "e99d276309abcbbf89aa410fdf4fbd26343d0dfc", "url": "https://github.com/futurewei-cloud/alcor/commit/e99d276309abcbbf89aa410fdf4fbd26343d0dfc", "message": "Remove unused codes in VpcController", "committedDate": "2020-04-02T13:46:03Z", "type": "commit"}, {"oid": "3ea48e2e47aa9f33e2e8993a57f4e1806af82a6a", "url": "https://github.com/futurewei-cloud/alcor/commit/3ea48e2e47aa9f33e2e8993a57f4e1806af82a6a", "message": "Address format comments", "committedDate": "2020-04-02T15:24:50Z", "type": "commit"}, {"oid": "057fbc3e177ed053bc9ca6e0eab19b9f21086a19", "url": "https://github.com/futurewei-cloud/alcor/commit/057fbc3e177ed053bc9ca6e0eab19b9f21086a19", "message": "update dynamically load configuration file in kubernetes", "committedDate": "2020-04-02T22:40:11Z", "type": "commit"}, {"oid": "90f06509f2230d653d644685de2e0bdf91baa6f3", "url": "https://github.com/futurewei-cloud/alcor/commit/90f06509f2230d653d644685de2e0bdf91baa6f3", "message": "Merge branch 'feature/route_manager' of https://github.com/kevin-zhonghao/alcor into feature/route_manager", "committedDate": "2020-04-02T22:40:43Z", "type": "commit"}, {"oid": "92a4853fc6056fd4a1df1d13e4c103f6026254ce", "url": "https://github.com/futurewei-cloud/alcor/commit/92a4853fc6056fd4a1df1d13e4c103f6026254ce", "message": "update subnet manager and kubernetes config", "committedDate": "2020-04-08T00:15:12Z", "type": "commit"}, {"oid": "fc7b5ae09ca900a9de2851cb09e106dfbe1b7fb4", "url": "https://github.com/futurewei-cloud/alcor/commit/fc7b5ae09ca900a9de2851cb09e106dfbe1b7fb4", "message": "update", "committedDate": "2020-04-09T01:00:05Z", "type": "commit"}, {"oid": "246a9676e137bc85b1ca76c9d64d7746a48892bf", "url": "https://github.com/futurewei-cloud/alcor/commit/246a9676e137bc85b1ca76c9d64d7746a48892bf", "message": "s", "committedDate": "2020-04-09T01:14:01Z", "type": "commit"}, {"oid": "1e0437f2a15fe1f1460e2b559d90372221d945c2", "url": "https://github.com/futurewei-cloud/alcor/commit/1e0437f2a15fe1f1460e2b559d90372221d945c2", "message": "update", "committedDate": "2020-04-09T06:27:17Z", "type": "commit"}, {"oid": "0d83e814f3c931bb01c6f3dc2c351009471e42fe", "url": "https://github.com/futurewei-cloud/alcor/commit/0d83e814f3c931bb01c6f3dc2c351009471e42fe", "message": "Merge pull request #3 from kevin-zhonghao/feature/route_manager\n\nFeature/route manager", "committedDate": "2020-04-09T06:32:29Z", "type": "commit"}, {"oid": "ea63ded118de2a3d5adcc2d3f12608677861df14", "url": "https://github.com/futurewei-cloud/alcor/commit/ea63ded118de2a3d5adcc2d3f12608677861df14", "message": "subnet unit test", "committedDate": "2020-04-09T21:42:33Z", "type": "commit"}, {"oid": "c2aae4f8df1af392e9a272fb28fd74ecbdf97a2b", "url": "https://github.com/futurewei-cloud/alcor/commit/c2aae4f8df1af392e9a272fb28fd74ecbdf97a2b", "message": "Delete old files", "committedDate": "2020-04-09T22:03:25Z", "type": "commit"}, {"oid": "498c25db2bb78d29a2602c4068493d77537c430c", "url": "https://github.com/futurewei-cloud/alcor/commit/498c25db2bb78d29a2602c4068493d77537c430c", "message": "s", "committedDate": "2020-04-09T22:09:17Z", "type": "commit"}, {"oid": "825e40628b7c2471c0ff19756ca15de7cdfd79ba", "url": "https://github.com/futurewei-cloud/alcor/commit/825e40628b7c2471c0ff19756ca15de7cdfd79ba", "message": "u", "committedDate": "2020-04-09T22:10:36Z", "type": "commit"}, {"oid": "e6069c4c8296cb5f05d8dc5c5b9bf23af66d8b45", "url": "https://github.com/futurewei-cloud/alcor/commit/e6069c4c8296cb5f05d8dc5c5b9bf23af66d8b45", "message": "Merge branch 'master' into feature/route_manager\n\n# Conflicts:\n#\tservices/subnet_manager/pom.xml\n#\tservices/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/DebugController.java\n#\tservices/subnet_manager/src/main/resources/application.properties\n#\tservices/subnet_manager/src/test/java/com/futurewei/alcor/subnet/SubnetApplicationTests.java", "committedDate": "2020-04-09T22:40:12Z", "type": "commit"}, {"oid": "e993dcbd970110fa1bffa29ae7c31a52ed8495d9", "url": "https://github.com/futurewei-cloud/alcor/commit/e993dcbd970110fa1bffa29ae7c31a52ed8495d9", "message": "subnet manager update", "committedDate": "2020-04-09T23:09:16Z", "type": "commit"}, {"oid": "f9a5da46bc6110e0039c7c0e82a88cc51d6d86e1", "url": "https://github.com/futurewei-cloud/alcor/commit/f9a5da46bc6110e0039c7c0e82a88cc51d6d86e1", "message": "Merge pull request #4 from kevin-zhonghao/feature/route_manager\n\nFeature/route manager", "committedDate": "2020-04-09T23:12:17Z", "type": "commit"}, {"oid": "4d6c25e581ae630a4e830df8a79389ababf73923", "url": "https://github.com/futurewei-cloud/alcor/commit/4d6c25e581ae630a4e830df8a79389ababf73923", "message": "update subnet unit test", "committedDate": "2020-04-11T00:07:46Z", "type": "commit"}, {"oid": "218fc8aaef62c63ef0689d2cd24c1f0c32df1217", "url": "https://github.com/futurewei-cloud/alcor/commit/218fc8aaef62c63ef0689d2cd24c1f0c32df1217", "message": "update", "committedDate": "2020-04-11T00:08:27Z", "type": "commit"}, {"oid": "cac85838d16f6b4b6d2a5cb9eeb743d040b86996", "url": "https://github.com/futurewei-cloud/alcor/commit/cac85838d16f6b4b6d2a5cb9eeb743d040b86996", "message": "Merge pull request #5 from kevin-zhonghao/master\n\nMerge pull request #4 from kevin-zhonghao/feature/route_manager", "committedDate": "2020-04-11T00:23:07Z", "type": "commit"}, {"oid": "c6ff66052b0dfc49c40b418dfd30d009897bd99e", "url": "https://github.com/futurewei-cloud/alcor/commit/c6ff66052b0dfc49c40b418dfd30d009897bd99e", "message": "subnet structure and unit test update", "committedDate": "2020-04-13T19:48:20Z", "type": "commit"}, {"oid": "d53791de5f19297f0c3ffd0f626986b4e655bfbf", "url": "https://github.com/futurewei-cloud/alcor/commit/d53791de5f19297f0c3ffd0f626986b4e655bfbf", "message": "Merge pull request #6 from kevin-zhonghao/feature/route_manager\n\nFeature/subnet_manager", "committedDate": "2020-04-13T19:51:51Z", "type": "commit"}, {"oid": "29266b302ceb94911607de3fb14ee9371b5e3e91", "url": "https://github.com/futurewei-cloud/alcor/commit/29266b302ceb94911607de3fb14ee9371b5e3e91", "message": "Merge from Alcor upstream master", "committedDate": "2020-04-13T23:33:52Z", "type": "commit"}, {"oid": "f52284e8afab618f70512313f83343de7f02b462", "url": "https://github.com/futurewei-cloud/alcor/commit/f52284e8afab618f70512313f83343de7f02b462", "message": "subnet manager update", "committedDate": "2020-04-14T04:18:31Z", "type": "commit"}, {"oid": "4d24063119fa0c59051cda61c356346d4d89b7eb", "url": "https://github.com/futurewei-cloud/alcor/commit/4d24063119fa0c59051cda61c356346d4d89b7eb", "message": "Merge pull request #7 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-14T06:13:42Z", "type": "commit"}, {"oid": "69ac96153afe297489c93c498b46e535576d4353", "url": "https://github.com/futurewei-cloud/alcor/commit/69ac96153afe297489c93c498b46e535576d4353", "message": "subnet manager update", "committedDate": "2020-04-14T17:28:56Z", "type": "commit"}, {"oid": "54269648af85c72861e42874271fc81054d49049", "url": "https://github.com/futurewei-cloud/alcor/commit/54269648af85c72861e42874271fc81054d49049", "message": "Merge pull request #8 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-14T17:32:12Z", "type": "commit"}, {"oid": "3e815f7afcf76f65b67c47b36c9505c24cc18575", "url": "https://github.com/futurewei-cloud/alcor/commit/3e815f7afcf76f65b67c47b36c9505c24cc18575", "message": "subnet manager update", "committedDate": "2020-04-14T17:34:56Z", "type": "commit"}, {"oid": "291555968c8ee49f5e63327a8e344ddfb009ff57", "url": "https://github.com/futurewei-cloud/alcor/commit/291555968c8ee49f5e63327a8e344ddfb009ff57", "message": "Merge pull request #9 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-14T17:36:35Z", "type": "commit"}, {"oid": "07b37d58b41a4360ae306febea1817fecdfcca1d", "url": "https://github.com/futurewei-cloud/alcor/commit/07b37d58b41a4360ae306febea1817fecdfcca1d", "message": "subnet_manager update", "committedDate": "2020-04-15T16:17:51Z", "type": "commit"}, {"oid": "d97eb29cc9f829ef86f170047311504074c4b98a", "url": "https://github.com/futurewei-cloud/alcor/commit/d97eb29cc9f829ef86f170047311504074c4b98a", "message": "Merge branch 'master' into feature/route_manager\nupdate", "committedDate": "2020-04-15T16:19:18Z", "type": "commit"}, {"oid": "67f66639282400684897a87a51e11ca688c810d9", "url": "https://github.com/futurewei-cloud/alcor/commit/67f66639282400684897a87a51e11ca688c810d9", "message": "Merge pull request #10 from kevin-zhonghao/feature/route_manager\n\nsubnet_manager update", "committedDate": "2020-04-15T16:22:08Z", "type": "commit"}, {"oid": "1d6ff2b96a94fb3a25c2f5f15f46199ea6ed5320", "url": "https://github.com/futurewei-cloud/alcor/commit/1d6ff2b96a94fb3a25c2f5f15f46199ea6ed5320", "message": "subnet manager UTs update", "committedDate": "2020-04-15T17:50:15Z", "type": "commit"}, {"oid": "797642f1dbada9af1fec5575b62865aa6a019559", "url": "https://github.com/futurewei-cloud/alcor/commit/797642f1dbada9af1fec5575b62865aa6a019559", "message": "Merge pull request #11 from kevin-zhonghao/feature/route_manager\n\nFeature/route manager", "committedDate": "2020-04-15T17:52:18Z", "type": "commit"}, {"oid": "e735ebd7139e7d439155f8e7a5e6cf348ab013c0", "url": "https://github.com/futurewei-cloud/alcor/commit/e735ebd7139e7d439155f8e7a5e6cf348ab013c0", "message": "subnet manager update", "committedDate": "2020-04-15T22:51:58Z", "type": "commit"}, {"oid": "8012b6e9b20888931bfef81a2ac3b69fc4b590b2", "url": "https://github.com/futurewei-cloud/alcor/commit/8012b6e9b20888931bfef81a2ac3b69fc4b590b2", "message": "Merge pull request #12 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update", "committedDate": "2020-04-15T22:54:58Z", "type": "commit"}, {"oid": "3bf0c7bf82318284711b0507f5dd8064ed754039", "url": "https://github.com/futurewei-cloud/alcor/commit/3bf0c7bf82318284711b0507f5dd8064ed754039", "message": "Merge pull request #13 from kevin-zhonghao/master\n\nadd mac manager", "committedDate": "2020-04-15T22:58:06Z", "type": "commit"}, {"oid": "81e7c12fd1552451c81c6cadae60d20365461f22", "url": "https://github.com/futurewei-cloud/alcor/commit/81e7c12fd1552451c81c6cadae60d20365461f22", "message": "Merge pull request #14 from futurewei-cloud/master\n\nmac manager update", "committedDate": "2020-04-15T23:01:50Z", "type": "commit"}, {"oid": "da15ddeb473f9f89f19108f49cc4bee62b219c1b", "url": "https://github.com/futurewei-cloud/alcor/commit/da15ddeb473f9f89f19108f49cc4bee62b219c1b", "message": "Merge pull request #15 from kevin-zhonghao/master\n\nupdate", "committedDate": "2020-04-15T23:02:40Z", "type": "commit"}, {"oid": "c7c5c4ab2ed9125cce35320abe68b79e3762c9fe", "url": "https://github.com/futurewei-cloud/alcor/commit/c7c5c4ab2ed9125cce35320abe68b79e3762c9fe", "message": "subnet manager e2e update", "committedDate": "2020-04-16T18:51:21Z", "type": "commit"}, {"oid": "30d105aa88f2346342deeefa70131cb550590a43", "url": "https://github.com/futurewei-cloud/alcor/commit/30d105aa88f2346342deeefa70131cb550590a43", "message": "Merge pull request #16 from kevin-zhonghao/feature/route_manager\n\nsubnet manager e2e update", "committedDate": "2020-04-16T18:54:56Z", "type": "commit"}, {"oid": "ee14adca5236d5634456789e4c6f4f5056b470c0", "url": "https://github.com/futurewei-cloud/alcor/commit/ee14adca5236d5634456789e4c6f4f5056b470c0", "message": "subnet manager e2e update", "committedDate": "2020-04-16T23:36:32Z", "type": "commit"}, {"oid": "dbb749f71eb935e476fe887a94b96e8f47bf8833", "url": "https://github.com/futurewei-cloud/alcor/commit/dbb749f71eb935e476fe887a94b96e8f47bf8833", "message": "Merge pull request #17 from kevin-zhonghao/feature/route_manager\n\nsubnet manager e2e update", "committedDate": "2020-04-16T23:38:48Z", "type": "commit"}, {"oid": "48808fa9e508d773b09bf4677b3295bfd102c833", "url": "https://github.com/futurewei-cloud/alcor/commit/48808fa9e508d773b09bf4677b3295bfd102c833", "message": "subnet update", "committedDate": "2020-04-17T19:41:14Z", "type": "commit"}, {"oid": "c74460e1f4b25207c5420f41b1651d0e8bf391b7", "url": "https://github.com/futurewei-cloud/alcor/commit/c74460e1f4b25207c5420f41b1651d0e8bf391b7", "message": "subnet manager e2e update", "committedDate": "2020-04-17T22:59:59Z", "type": "commit"}, {"oid": "39f7d50d6771e89c8c99603a3f2a89f7d80ca146", "url": "https://github.com/futurewei-cloud/alcor/commit/39f7d50d6771e89c8c99603a3f2a89f7d80ca146", "message": "Merge pull request #18 from kevin-zhonghao/feature/route_manager\n\nsubnet manager e2e update", "committedDate": "2020-04-17T23:03:55Z", "type": "commit"}, {"oid": "ef723bad84a518a0e1e97dda21ddac04f29ed1a9", "url": "https://github.com/futurewei-cloud/alcor/commit/ef723bad84a518a0e1e97dda21ddac04f29ed1a9", "message": "subnet manager e2e update", "committedDate": "2020-04-20T06:17:06Z", "type": "commit"}, {"oid": "090aa3a1cb28cf03532ab63e41a68aee8eb7012e", "url": "https://github.com/futurewei-cloud/alcor/commit/090aa3a1cb28cf03532ab63e41a68aee8eb7012e", "message": "Merge pull request #19 from kevin-zhonghao/feature/route_manager\n\nsubnet manager e2e update", "committedDate": "2020-04-20T06:19:15Z", "type": "commit"}, {"oid": "60123507d0c9c8e5e43aff5b559068aa5445ce5d", "url": "https://github.com/futurewei-cloud/alcor/commit/60123507d0c9c8e5e43aff5b559068aa5445ce5d", "message": "Add subnet APIs in API gateway", "committedDate": "2020-04-20T19:12:37Z", "type": "commit"}, {"oid": "5fbdb2d16274cec8daf1e89de539473058bd8fb7", "url": "https://github.com/futurewei-cloud/alcor/commit/5fbdb2d16274cec8daf1e89de539473058bd8fb7", "message": "Remove vpcId in SubnetManagerAPIs and update the parameter format", "committedDate": "2020-04-20T19:21:13Z", "type": "commit"}, {"oid": "bd7794d100889ae9ea8f1c8552a7b1779cdaafab", "url": "https://github.com/futurewei-cloud/alcor/commit/bd7794d100889ae9ea8f1c8552a7b1779cdaafab", "message": "Add a new API to get all subnets in a project", "committedDate": "2020-04-20T21:11:17Z", "type": "commit"}, {"oid": "3fa5360033d5c6f5646d8ec6d972db7e83f2b602", "url": "https://github.com/futurewei-cloud/alcor/commit/3fa5360033d5c6f5646d8ec6d972db7e83f2b602", "message": "subnet manager update - comments issues", "committedDate": "2020-04-20T21:42:43Z", "type": "commit"}, {"oid": "928358ad845576848b72f826ca12f6cb4d8d1267", "url": "https://github.com/futurewei-cloud/alcor/commit/928358ad845576848b72f826ca12f6cb4d8d1267", "message": "Merge pull request #20 from kevin-zhonghao/feature/route_manager\n\nsubnet manager update - comments issues", "committedDate": "2020-04-20T21:46:00Z", "type": "commit"}, {"oid": "82f28a1a356553499cf9b04b273e1c130c3f2682", "url": "https://github.com/futurewei-cloud/alcor/commit/82f28a1a356553499cf9b04b273e1c130c3f2682", "message": "Merge pull request #21 from kevin-zhonghao/master\n\nsync up", "committedDate": "2020-04-20T21:49:09Z", "type": "commit"}, {"oid": "a3aae892b07cfb0209eac2e5fb9e5ea769be9ef9", "url": "https://github.com/futurewei-cloud/alcor/commit/a3aae892b07cfb0209eac2e5fb9e5ea769be9ef9", "message": "Fix duplicated webclient bean issue", "committedDate": "2020-04-21T04:56:54Z", "type": "commit"}, {"oid": "133ab73e75e63b3cbbdaf3229ccf11d24b392035", "url": "https://github.com/futurewei-cloud/alcor/commit/133ab73e75e63b3cbbdaf3229ccf11d24b392035", "message": "api gateway update", "committedDate": "2020-04-21T04:59:38Z", "type": "commit"}, {"oid": "80aa7111dac5348423c91c5bf79709de6d7efb9d", "url": "https://github.com/futurewei-cloud/alcor/commit/80aa7111dac5348423c91c5bf79709de6d7efb9d", "message": "Merge pull request #22 from kevin-zhonghao/feature/route_manager\n\napi gateway update", "committedDate": "2020-04-21T05:03:07Z", "type": "commit"}, {"oid": "5628dd9a478eec91e0807d6d66f3623296a71adc", "url": "https://github.com/futurewei-cloud/alcor/commit/5628dd9a478eec91e0807d6d66f3623296a71adc", "message": "Merge pull request #23 from kevin-zhonghao/master\n\napi gateway update", "committedDate": "2020-04-21T05:04:25Z", "type": "commit"}, {"oid": "4e3c033782a3fc852c0b53882577d8eca50d2780", "url": "https://github.com/futurewei-cloud/alcor/commit/4e3c033782a3fc852c0b53882577d8eca50d2780", "message": "Update vpcManagerServiceURL and subnetManagerServiceURL", "committedDate": "2020-04-21T05:52:24Z", "type": "commit"}, {"oid": "46cee78617f584d217afae421f18d086edf7ea10", "url": "https://github.com/futurewei-cloud/alcor/commit/46cee78617f584d217afae421f18d086edf7ea10", "message": "Merge pull request #24 from kevin-zhonghao/master\n\nUpdate vpcManagerServiceURL and subnetManagerServiceURL", "committedDate": "2020-04-21T05:55:03Z", "type": "commit"}, {"oid": "e224f0083872c7d35f05661d7a503f377fa25d64", "url": "https://github.com/futurewei-cloud/alcor/commit/e224f0083872c7d35f05661d7a503f377fa25d64", "message": "Merge pull request #25 from futurewei-cloud/master\n\n[Micro-service] Private IP manager (#164)", "committedDate": "2020-04-22T17:15:49Z", "type": "commit"}, {"oid": "f6fc53f16c6827c0840d04010be665308b845728", "url": "https://github.com/futurewei-cloud/alcor/commit/f6fc53f16c6827c0840d04010be665308b845728", "message": "Merge pull request #26 from kevin-zhonghao/master\n\nip_manager", "committedDate": "2020-04-22T17:16:55Z", "type": "commit"}, {"oid": "513aa00613ba2d98d98661cc271c915d2d12104a", "url": "https://github.com/futurewei-cloud/alcor/commit/513aa00613ba2d98d98661cc271c915d2d12104a", "message": "subnet manager update", "committedDate": "2020-04-23T00:00:17Z", "type": "commit"}]}