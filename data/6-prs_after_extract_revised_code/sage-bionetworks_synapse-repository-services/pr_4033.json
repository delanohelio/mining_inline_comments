{"pr_number": 4033, "pr_title": "Plfm 6161 d", "pr_createdAt": "2020-05-07T02:18:33Z", "pr_url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4033", "timeline": [{"oid": "551734ceffdeefeab19bb7cbe8a986e368cdbd5a", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/551734ceffdeefeab19bb7cbe8a986e368cdbd5a", "message": "bootstrap missing schemas", "committedDate": "2020-05-06T02:49:50Z", "type": "commit"}, {"oid": "6a43a732bb94a4bef203f910eb257bc107394af4", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/6a43a732bb94a4bef203f910eb257bc107394af4", "message": "added work and list calls", "committedDate": "2020-05-07T02:14:54Z", "type": "commit"}, {"oid": "266010ab6c4a114dc6d1bcbc721d323e05495234", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/266010ab6c4a114dc6d1bcbc721d323e05495234", "message": "added missing files", "committedDate": "2020-05-07T02:25:28Z", "type": "commit"}, {"oid": "7e407006794b0f95b227fd3665bf585cccf04fc4", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/7e407006794b0f95b227fd3665bf585cccf04fc4", "message": "added more missing files", "committedDate": "2020-05-07T02:26:20Z", "type": "commit"}, {"oid": "b3c891ac3fbe708140ea8f5c4105aa8594231684", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/b3c891ac3fbe708140ea8f5c4105aa8594231684", "message": "inject mocks was needed", "committedDate": "2020-05-07T16:41:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTczNzQ2MQ==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4033#discussion_r421737461", "bodyText": "require user", "author": "marcomarasca", "createdAt": "2020-05-07T19:20:53Z", "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/JsonSchemaManagerImpl.java", "diffHunk": "@@ -82,7 +91,7 @@ public Organization createOrganziation(UserInfo user, CreateOrganizationRequest\n \t * @param name\n \t * @return\n \t */\n-\tpublic static String processAndValidateOrganizationName(String name) {\n+\tpublic static String processAndValidateOrganizationName(UserInfo user, String name) {\n \t\tValidateArgument.required(name, \"organizationName\");", "originalCommit": "b3c891ac3fbe708140ea8f5c4105aa8594231684", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg1NDMyOA==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4033#discussion_r421854328", "bodyText": "The super is not needed in this case", "author": "marcomarasca", "createdAt": "2020-05-07T23:38:57Z", "path": "services/workers/src/main/java/org/sagebionetworks/schema/worker/SynapseSchemaBootstrapWorker.java", "diffHunk": "@@ -0,0 +1,29 @@\n+package org.sagebionetworks.schema.worker;\n+\n+import org.sagebionetworks.common.util.progress.ProgressCallback;\n+import org.sagebionetworks.common.util.progress.ProgressingRunner;\n+import org.sagebionetworks.repo.manager.schema.SynapseSchemaBootstrap;\n+import org.springframework.beans.factory.annotation.Autowired;\n+\n+/**\n+ * A periodic singleton worker that ensures the Synapse schema objects are\n+ * translated and registered and available for the JSON Schema services\n+ *\n+ */\n+public class SynapseSchemaBootstrapWorker implements ProgressingRunner {\n+\t\n+\tfinal private SynapseSchemaBootstrap bootstrap;\n+\t\n+\t\n+\t@Autowired\n+\tpublic SynapseSchemaBootstrapWorker(SynapseSchemaBootstrap bootstrap) {\n+\t\tsuper();", "originalCommit": "b3c891ac3fbe708140ea8f5c4105aa8594231684", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}