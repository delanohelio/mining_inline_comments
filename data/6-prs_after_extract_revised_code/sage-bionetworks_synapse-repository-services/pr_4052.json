{"pr_number": 4052, "pr_title": "PLFM-6159 - Part A: Allows storing annotations (V2) for submissions", "pr_createdAt": "2020-05-20T00:22:42Z", "pr_url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4052", "timeline": [{"oid": "304efb418bede7afde6cf68d51f2f82ed5c3903f", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/304efb418bede7afde6cf68d51f2f82ed5c3903f", "message": "PLFM-6159: Allows storing annotations v2 for submissions", "committedDate": "2020-05-20T00:46:53Z", "type": "forcePushed"}, {"oid": "b1f58cbc3ab866f751b642cbc1cd07f428a8ec30", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/b1f58cbc3ab866f751b642cbc1cd07f428a8ec30", "message": "Remove old migration code block", "committedDate": "2020-05-20T01:57:48Z", "type": "commit"}, {"oid": "6ae1b7483d055692d4a87a522e59bd666091796b", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/6ae1b7483d055692d4a87a522e59bd666091796b", "message": "PLFM-6159: Rename view type EVALUTION_SUBMISSIONS to SUBMISSION", "committedDate": "2020-05-20T01:57:48Z", "type": "commit"}, {"oid": "902ac1bf67ff94be37281374431c17673a6fbe22", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/902ac1bf67ff94be37281374431c17673a6fbe22", "message": "PLFM-6159: Allows storing annotations v2 for submissions", "committedDate": "2020-05-20T01:57:48Z", "type": "commit"}, {"oid": "902ac1bf67ff94be37281374431c17673a6fbe22", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/902ac1bf67ff94be37281374431c17673a6fbe22", "message": "PLFM-6159: Allows storing annotations v2 for submissions", "committedDate": "2020-05-20T01:57:48Z", "type": "forcePushed"}, {"oid": "a0b596a3d15aa6182946205b2d586229a2543359", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/a0b596a3d15aa6182946205b2d586229a2543359", "message": "Use a subset of workers for replication/reconciliation test", "committedDate": "2020-05-20T02:47:47Z", "type": "commit"}, {"oid": "a0b596a3d15aa6182946205b2d586229a2543359", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/a0b596a3d15aa6182946205b2d586229a2543359", "message": "Use a subset of workers for replication/reconciliation test", "committedDate": "2020-05-20T02:47:47Z", "type": "forcePushed"}, {"oid": "eb2ef08828d37614bb26cb54f17de210825d6384", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/eb2ef08828d37614bb26cb54f17de210825d6384", "message": "PLFM-6159: Avoid migrating previous submission annotations", "committedDate": "2020-05-21T19:39:37Z", "type": "commit"}, {"oid": "eb2ef08828d37614bb26cb54f17de210825d6384", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/eb2ef08828d37614bb26cb54f17de210825d6384", "message": "PLFM-6159: Avoid migrating previous submission annotations", "committedDate": "2020-05-21T19:39:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4MDA1MQ==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4052#discussion_r430780051", "bodyText": "dead code", "author": "john-hill", "createdAt": "2020-05-27T00:31:24Z", "path": "lib/models/src/main/java/org/sagebionetworks/repo/model/annotation/v2/AnnotationsV2Translator.java", "diffHunk": "@@ -60,6 +67,82 @@ public static Annotations toAnnotationsV2(org.sagebionetworks.repo.model.Annotat\n \t\treturn annotationsV2;\n \t}\n \n+\tpublic static Annotations toAnnotationsV2(org.sagebionetworks.repo.model.annotation.Annotations annotations) {", "originalCommit": "eb2ef08828d37614bb26cb54f17de210825d6384", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4MDQ4MQ==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4052#discussion_r430780481", "bodyText": "dead code", "author": "john-hill", "createdAt": "2020-05-27T00:33:03Z", "path": "lib/models/src/test/java/org/sagebionetworks/repo/model/annotation/v2/AnnotationsV2TranslatorTest.java", "diffHunk": "@@ -231,5 +243,111 @@ public void testToAnnotationsV2_V1WithAnEmptyMap(){\n \t\tannotationsV2.getAnnotations().remove(stringKey2);\n \t\tassertEquals(annotationsV2, translated);\n \t}\n+\t\n+\t@Test\n+\tpublic void testToAnnotationsV2FromSubmissionAnnotations() {", "originalCommit": "eb2ef08828d37614bb26cb54f17de210825d6384", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}