{"pr_number": 4037, "pr_title": "PLFM-6158 - Part C: Enum for object types supported by views, subtype is a string", "pr_createdAt": "2020-05-08T16:25:31Z", "pr_url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4037", "timeline": [{"oid": "d23dc0751d44f995f8a95b92375719b66d2aeee4", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/d23dc0751d44f995f8a95b92375719b66d2aeee4", "message": "PLFM-6158: Introduce a dedicated enum for supported view object types", "committedDate": "2020-05-08T01:51:00Z", "type": "commit"}, {"oid": "03acbc62205b1f9d7fffa931fceba5c06e9d18e2", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/03acbc62205b1f9d7fffa931fceba5c06e9d18e2", "message": "PLFM-6158: Change the object subtype from a generic enum to string", "committedDate": "2020-05-08T02:00:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwOTk3Mw==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4037#discussion_r422409973", "bodyText": "consider bind variables.", "author": "john-hill", "createdAt": "2020-05-08T22:50:50Z", "path": "lib/models/src/main/java/org/sagebionetworks/repo/model/table/TableConstants.java", "diffHunk": "@@ -385,8 +384,15 @@ public static String joinEnumForSQL(Enum<?>[] values) {\n \t}\r\n \t\r\n \tpublic static String joinEnumForSQL(Stream<Enum<?>> valuesStream) {\r\n-\t\treturn valuesStream.map( e -> \"'\" + e.name() + \"'\").collect(Collectors.joining(\",\"));\r\n+\t\treturn joinValueForSQL(valuesStream, Enum::name);\r\n+\t}\r\n+\t\r\n+\tpublic static String joinStringForSQL(Stream<String> valuesStream) {\r\n+\t\treturn joinValueForSQL(valuesStream, Function.identity());\r\n \t}\r\n \t\r\n+\tpublic static <T> String joinValueForSQL(Stream<T> valuesStream, Function<T, String> valueMapper) {\r\n+\t\treturn valuesStream.map( e -> \"'\" + valueMapper.apply(e) + \"'\").collect(Collectors.joining(\",\"));\r\n+\t}\r", "originalCommit": "03acbc62205b1f9d7fffa931fceba5c06e9d18e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}