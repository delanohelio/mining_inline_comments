{"pr_number": 13454, "pr_title": "[FLINK-19304][coordination] Add FLIP-138 feature toggle", "pr_createdAt": "2020-09-22T11:23:30Z", "pr_url": "https://github.com/apache/flink/pull/13454", "timeline": [{"oid": "02e735e189e50372a90c0a06710546b12f2557b1", "url": "https://github.com/apache/flink/commit/02e735e189e50372a90c0a06710546b12f2557b1", "message": "[FLINK-19304][coordination] Add FLIP-138 feature toggle", "committedDate": "2020-09-22T11:19:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA0NDEyNQ==", "url": "https://github.com/apache/flink/pull/13454#discussion_r494044125", "bodyText": "What\u2019s the reason for us introducing a system property besides the configuration property? Is this to support easier e2e testing?", "author": "XComp", "createdAt": "2020-09-24T05:18:11Z", "path": "flink-core/src/main/java/org/apache/flink/configuration/ClusterOptions.java", "diffHunk": "@@ -92,4 +92,15 @@\n \t\t\t\t\t\"to a JVM deadlock. See %s for details.\",\n \t\t\t\tlink(\"https://issues.apache.org/jira/browse/FLINK-16510\", \"FLINK-16510\"))\n \t\t\t\t.build());\n+\n+\t@Documentation.ExcludeFromDocumentation\n+\tpublic static final ConfigOption<Boolean> ENABLE_DECLARATIVE_RESOURCE_MANAGEMENT = ConfigOptions\n+\t\t.key(\"cluster.declarative-resource-management.enabled\")\n+\t\t.booleanType()\n+\t\t.defaultValue(false)\n+\t\t.withDescription(\"Defines whether the cluster uses declarative resource management.\");\n+\n+\tpublic static boolean isDeclarativeResourceManagementEnabled(Configuration configuration) {\n+\t\treturn configuration.get(ENABLE_DECLARATIVE_RESOURCE_MANAGEMENT) || System.getProperties().containsKey(\"flink.tests.enable-declarative\");", "originalCommit": "02e735e189e50372a90c0a06710546b12f2557b1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA3MTIzMw==", "url": "https://github.com/apache/flink/pull/13454#discussion_r494071233", "bodyText": "It's not for e2e testing, but allowing it to be set in the IDE.", "author": "zentol", "createdAt": "2020-09-24T06:38:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA0NDEyNQ=="}], "type": "inlineReview", "revised_code": null}]}