{"pr_number": 11059, "pr_title": "[FLINK-15970][python] Optimize the Python UDF execution to only serialize the value", "pr_createdAt": "2020-02-11T12:02:47Z", "pr_url": "https://github.com/apache/flink/pull/11059", "timeline": [{"oid": "9cd9bb39ff403454de2681ddb77fc5168c0df0cc", "url": "https://github.com/apache/flink/commit/9cd9bb39ff403454de2681ddb77fc5168c0df0cc", "message": "[FLINK-15970][python] Optimize the Python UDF execution to only serialize the value", "committedDate": "2020-02-11T11:56:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYxNzk2MQ==", "url": "https://github.com/apache/flink/pull/11059#discussion_r378617961", "bodyText": "What about rename createWireCoderSetting to createValueOnlyWireCoderSetting", "author": "dianfu", "createdAt": "2020-02-13T02:15:56Z", "path": "flink-python/src/main/java/org/apache/flink/table/runtime/runners/python/AbstractPythonStatelessFunctionRunner.java", "diffHunk": "@@ -161,6 +170,20 @@ public ExecutableStage createExecutableStage() throws Exception {\n \t\treturn builder.build();\n \t}\n \n+\tprivate RunnerApi.WireCoderSetting createWireCoderSetting() throws IOException {", "originalCommit": "9cd9bb39ff403454de2681ddb77fc5168c0df0cc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "66c8cda07553d5114d3b1450e8804ac927630c3d", "chunk": "diff --git a/flink-python/src/main/java/org/apache/flink/table/runtime/runners/python/AbstractPythonStatelessFunctionRunner.java b/flink-python/src/main/java/org/apache/flink/table/runtime/runners/python/AbstractPythonStatelessFunctionRunner.java\nindex cdee773d2ba..a66983f4bd6 100644\n--- a/flink-python/src/main/java/org/apache/flink/table/runtime/runners/python/AbstractPythonStatelessFunctionRunner.java\n+++ b/flink-python/src/main/java/org/apache/flink/table/runtime/runners/python/AbstractPythonStatelessFunctionRunner.java\n\n@@ -170,7 +170,7 @@ public abstract class AbstractPythonStatelessFunctionRunner<IN> extends Abstract\n \t\treturn builder.build();\n \t}\n \n-\tprivate RunnerApi.WireCoderSetting createWireCoderSetting() throws IOException {\n+\tprivate RunnerApi.WireCoderSetting createValueOnlyWireCoderSetting() throws IOException {\n \t\tWindowedValue<byte[]> value = WindowedValue.valueInGlobalWindow(new byte[0]);\n \t\tCoder<? extends BoundedWindow> windowCoder = GlobalWindow.Coder.INSTANCE;\n \t\tWindowedValue.FullWindowedValueCoder<byte[]> windowedValueCoder =\n"}}, {"oid": "66c8cda07553d5114d3b1450e8804ac927630c3d", "url": "https://github.com/apache/flink/commit/66c8cda07553d5114d3b1450e8804ac927630c3d", "message": "address comments", "committedDate": "2020-02-13T05:55:46Z", "type": "commit"}, {"oid": "800be54a086522912bb4fb9ca00bfc9ab6c935bf", "url": "https://github.com/apache/flink/commit/800be54a086522912bb4fb9ca00bfc9ab6c935bf", "message": "address comments", "committedDate": "2020-02-13T06:45:15Z", "type": "commit"}]}