{"pr_number": 13487, "pr_title": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "pr_createdAt": "2020-09-27T02:28:43Z", "pr_url": "https://github.com/apache/flink/pull/13487", "timeline": [{"oid": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "url": "https://github.com/apache/flink/commit/f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "committedDate": "2020-09-29T04:37:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjE3MzMyMw==", "url": "https://github.com/apache/flink/pull/13487#discussion_r502173323", "bodyText": "We need to add an example to access the list here, because this is an example for ListView. Currently, there are no access to the list in the example.\nI think we can update the aggregate function to return a String value which concats the elements in list, e.g.\npublic String getValue(MyAccumulator accumulator) {\n    // return a concated elements and the count\n    return count + \":\" + String.join(\"|\", acc.list.get());\n}", "author": "wuchong", "createdAt": "2020-10-09T03:51:34Z", "path": "flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java", "diffHunk": "@@ -73,17 +73,11 @@\n  *\n  *   public void accumulate(MyAccumulator accumulator, String id) {\n  *     accumulator.list.add(id);\n- *     ... ...\n- *     accumulator.list.get()\n- *     ... ...\n+ *     accumulator.count++;\n  *   }\n  *\n  *   {@literal @}Override\n  *   public Long getValue(MyAccumulator accumulator) {\n- *     accumulator.list.add(id);\n- *     ... ...\n- *     accumulator.list.get()\n- *     ... ...\n  *     return accumulator.count;", "originalCommit": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "86351d896dfe576264025b6db7ca9ba46e27881a", "chunk": "diff --git a/flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java b/flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java\nindex 4decaa07c31..10044b2ffc0 100644\n--- a/flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java\n+++ b/flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java\n\n@@ -77,8 +77,9 @@ import java.util.Objects;\n  *   }\n  *\n  *   {@literal @}Override\n- *   public Long getValue(MyAccumulator accumulator) {\n- *     return accumulator.count;\n+ *   public String getValue(MyAccumulator accumulator) {\n+ *     // return the count and the joined elements\n+ *     return count + \": \" + String.join(\"|\", acc.list.get());\n  *   }\n  * }\n  *\n"}}, {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a", "url": "https://github.com/apache/flink/commit/86351d896dfe576264025b6db7ca9ba46e27881a", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "committedDate": "2020-10-10T10:14:13Z", "type": "commit"}, {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a", "url": "https://github.com/apache/flink/commit/86351d896dfe576264025b6db7ca9ba46e27881a", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "committedDate": "2020-10-10T10:14:13Z", "type": "forcePushed"}]}