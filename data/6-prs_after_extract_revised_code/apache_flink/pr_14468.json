{"pr_number": 14468, "pr_title": "[FLINK-20552][connectors/jdbc] JdbcDynamicTableSink doesn't sink buff\u2026", "pr_createdAt": "2020-12-22T17:05:51Z", "pr_url": "https://github.com/apache/flink/pull/14468", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQxNDkzNA==", "url": "https://github.com/apache/flink/pull/14468#discussion_r548414934", "bodyText": "Rename to testFlushBufferWhenCheckpoint to make the test purpose more explicitly.", "author": "wuchong", "createdAt": "2020-12-24T06:34:02Z", "path": "flink-connectors/flink-connector-jdbc/src/test/java/org/apache/flink/connector/jdbc/table/JdbcDynamicTableSinkITCase.java", "diffHunk": "@@ -316,4 +338,39 @@ public void testReadingFromChangelogSource() throws Exception {\n \t\t\tRow.of(\"user4\", \"Tina\", \"tina@gmail.com\", new BigDecimal(\"11.30\"), new BigDecimal(\"22.60\"))\n \t\t}, DB_URL, USER_TABLE, new String[]{\"user_id\", \"user_name\", \"email\", \"balance\", \"balance2\"});\n \t}\n+\n+\t@Test\n+\tpublic void testCheckpoint() throws Exception {", "originalCommit": "d2b4d901d51c87824302397aa6059fc255ce57f9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "da6a0ddddc1b4a1ca4cf31cfe869c7e121185c21", "chunk": "diff --git a/flink-connectors/flink-connector-jdbc/src/test/java/org/apache/flink/connector/jdbc/table/JdbcDynamicTableSinkITCase.java b/flink-connectors/flink-connector-jdbc/src/test/java/org/apache/flink/connector/jdbc/table/JdbcDynamicTableSinkITCase.java\nindex b6716079ff4..c78fc92efa2 100644\n--- a/flink-connectors/flink-connector-jdbc/src/test/java/org/apache/flink/connector/jdbc/table/JdbcDynamicTableSinkITCase.java\n+++ b/flink-connectors/flink-connector-jdbc/src/test/java/org/apache/flink/connector/jdbc/table/JdbcDynamicTableSinkITCase.java\n\n@@ -340,7 +340,7 @@ public class JdbcDynamicTableSinkITCase extends AbstractTestBase {\n \t}\n \n \t@Test\n-\tpublic void testCheckpoint() throws Exception {\n+\tpublic void testFlushBufferWhenCheckpoint() throws Exception {\n \t\tMap<String, String> options = new HashMap<>();\n \t\toptions.put(\"connector\", \"jdbc\");\n \t\toptions.put(\"url\", DB_URL);\n"}}, {"oid": "da6a0ddddc1b4a1ca4cf31cfe869c7e121185c21", "url": "https://github.com/apache/flink/commit/da6a0ddddc1b4a1ca4cf31cfe869c7e121185c21", "message": "[FLINK-20552][jdbc] JdbcDynamicTableSink doesn't sink buffered data on checkpoint\n\nThis closes #14387", "committedDate": "2020-12-24T08:02:01Z", "type": "commit"}, {"oid": "da6a0ddddc1b4a1ca4cf31cfe869c7e121185c21", "url": "https://github.com/apache/flink/commit/da6a0ddddc1b4a1ca4cf31cfe869c7e121185c21", "message": "[FLINK-20552][jdbc] JdbcDynamicTableSink doesn't sink buffered data on checkpoint\n\nThis closes #14387", "committedDate": "2020-12-24T08:02:01Z", "type": "forcePushed"}]}