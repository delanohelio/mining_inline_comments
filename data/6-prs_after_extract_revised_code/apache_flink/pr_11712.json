{"pr_number": 11712, "pr_title": "[FLINK-17067][FLINK-17098][table] Refactor some interfaces of CatalogManager", "pr_createdAt": "2020-04-13T05:54:29Z", "pr_url": "https://github.com/apache/flink/pull/11712", "timeline": [{"oid": "3d100204a3a9dd5c80363759c2b80e78e486c1af", "url": "https://github.com/apache/flink/commit/3d100204a3a9dd5c80363759c2b80e78e486c1af", "message": "[FLINK-17098][table] CatalogManager#dropTemporaryTable and dropTemporaryView should use ObjectIdentifier as its argument", "committedDate": "2020-04-13T03:39:43Z", "type": "commit"}, {"oid": "bdb37a516fba1683dd7c925b6fa1d619dd7fa1fd", "url": "https://github.com/apache/flink/commit/bdb37a516fba1683dd7c925b6fa1d619dd7fa1fd", "message": "[FLINK-17067][table] CatalogManager#createTable and createTemporaryTable should provide consistent semantics", "committedDate": "2020-04-13T05:43:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQwNTUzMw==", "url": "https://github.com/apache/flink/pull/11712#discussion_r407405533", "bodyText": "Minor: add test for false ignore?", "author": "JingsongLi", "createdAt": "2020-04-13T09:50:17Z", "path": "flink-table/flink-table-planner/src/test/java/org/apache/flink/table/catalog/CatalogManagerTest.java", "diffHunk": "@@ -102,19 +102,20 @@ public void testRegisterCatalogWithExistingName() throws Exception {\n \t}\n \n \t@Test\n-\tpublic void testReplaceTemporaryTable() throws Exception {\n+\tpublic void testIgnoreTemporaryTableExists() throws Exception {\n \t\tObjectIdentifier tempIdentifier = ObjectIdentifier.of(\n \t\t\tBUILTIN_CATALOG_NAME,\n \t\t\tBUILTIN_DEFAULT_DATABASE_NAME,\n \t\t\t\"temp\");\n \t\tCatalogManager manager = root()\n \t\t\t.builtin(\n \t\t\t\tdatabase(BUILTIN_DEFAULT_DATABASE_NAME))\n-\t\t\t.temporaryTable(tempIdentifier)\n \t\t\t.build();\n \n \t\tCatalogTest.TestTable table = new CatalogTest.TestTable();\n \t\tmanager.createTemporaryTable(table, tempIdentifier, true);\n+\t\tCatalogTest.TestTable anotherTable = new CatalogTest.TestTable();\n+\t\tmanager.createTemporaryTable(anotherTable, tempIdentifier, true);", "originalCommit": "bdb37a516fba1683dd7c925b6fa1d619dd7fa1fd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQxMjU2OA==", "url": "https://github.com/apache/flink/pull/11712#discussion_r407412568", "bodyText": "The next testTemporaryTableExists test the case \"ignoreIfExists=false\"", "author": "docete", "createdAt": "2020-04-13T10:11:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQwNTUzMw=="}], "type": "inlineReview", "revised_code": null}]}