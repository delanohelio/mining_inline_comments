{"pr_number": 12722, "pr_title": "[FLINK-18064][docs] Added unaligned checkpointing to docs.", "pr_createdAt": "2020-06-19T12:45:03Z", "pr_url": "https://github.com/apache/flink/pull/12722", "timeline": [{"oid": "a1b55138a68d11ee5987199b1a4440429be0e9b0", "url": "https://github.com/apache/flink/commit/a1b55138a68d11ee5987199b1a4440429be0e9b0", "message": "[hotfix][docs] Replace/fix links in checkpointing documents.", "committedDate": "2020-06-19T19:25:53Z", "type": "forcePushed"}, {"oid": "91dfe90937ec1c2680022a12a1c4984fd59e61cf", "url": "https://github.com/apache/flink/commit/91dfe90937ec1c2680022a12a1c4984fd59e61cf", "message": "[hotfix][docs] Replace/fix links in checkpointing documents.", "committedDate": "2020-06-22T11:39:28Z", "type": "forcePushed"}, {"oid": "e80e905a5d66919427300af45b088e33b01d46d2", "url": "https://github.com/apache/flink/commit/e80e905a5d66919427300af45b088e33b01d46d2", "message": "[hotfix][docs] Replace/fix links in checkpointing documents.", "committedDate": "2020-06-22T11:53:53Z", "type": "forcePushed"}, {"oid": "8718566c0b74fd6c3c6327980c1ee1d2abc8eda8", "url": "https://github.com/apache/flink/commit/8718566c0b74fd6c3c6327980c1ee1d2abc8eda8", "message": "[hotfix][docs] Replace/fix links in checkpointing documents.", "committedDate": "2020-06-22T12:08:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzY2Nzc1MQ==", "url": "https://github.com/apache/flink/pull/12722#discussion_r443667751", "bodyText": "As it's stable on our builds, maybe we could label it more production ready?", "author": "pnowojski", "createdAt": "2020-06-22T16:04:03Z", "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/CheckpointConfig.java", "diffHunk": "@@ -382,7 +382,7 @@ public void setPreferCheckpointForRecovery(boolean preferCheckpointForRecovery)\n \t}\n \n \t/**\n-\t * Enables unaligned checkpoints, which greatly reduce checkpointing times under backpressure.\n+\t * Enables unaligned checkpoints, which greatly reduce checkpointing times under backpressure (experimental).", "originalCommit": "bfd067ea54c9c6662329cea2c8715a173961d9fb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxMzc0MQ==", "url": "https://github.com/apache/flink/pull/12722#discussion_r443813741", "bodyText": "Then just leave out experimental and just link to limitations?", "author": "AHeise", "createdAt": "2020-06-22T20:41:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzY2Nzc1MQ=="}], "type": "inlineReview", "revised_code": {"commit": "1b9e224c9d8f40c3973974904a9ec477057761e9", "chunk": "diff --git a/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/CheckpointConfig.java b/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/CheckpointConfig.java\nindex 546ce1540e9..7644004140c 100644\n--- a/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/CheckpointConfig.java\n+++ b/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/CheckpointConfig.java\n\n@@ -382,7 +382,7 @@ public class CheckpointConfig implements java.io.Serializable {\n \t}\n \n \t/**\n-\t * Enables unaligned checkpoints, which greatly reduce checkpointing times under backpressure (experimental).\n+\t * Enables unaligned checkpoints, which greatly reduces checkpointing times under backpressure.\n \t *\n \t * <p>Unaligned checkpoints contain data stored in buffers as part of the checkpoint state, which allows\n \t * checkpoint barriers to overtake these buffers. Thus, the checkpoint duration becomes independent of the\n"}}, {"oid": "1b9e224c9d8f40c3973974904a9ec477057761e9", "url": "https://github.com/apache/flink/commit/1b9e224c9d8f40c3973974904a9ec477057761e9", "message": "[FLINK-18064][python] Adding unaligned checkpoint config options.", "committedDate": "2020-06-24T18:49:16Z", "type": "commit"}, {"oid": "351a5f9e8ef61ea3aead0a493256930e6cb0eea1", "url": "https://github.com/apache/flink/commit/351a5f9e8ef61ea3aead0a493256930e6cb0eea1", "message": "[hotfix][conf] Fix javadoc of CheckpointConfig#isUnalignedCheckpointsEnabled.", "committedDate": "2020-06-24T18:50:24Z", "type": "commit"}, {"oid": "f0799d058a7ecc4ccead03029e0175336a4c928f", "url": "https://github.com/apache/flink/commit/f0799d058a7ecc4ccead03029e0175336a4c928f", "message": "[hotfix][docs] Fix broken link in metrics.md.", "committedDate": "2020-06-24T18:50:26Z", "type": "commit"}, {"oid": "d62757ad0b515c48c31cb1c4cde8878055b5ecfc", "url": "https://github.com/apache/flink/commit/d62757ad0b515c48c31cb1c4cde8878055b5ecfc", "message": "[FLINK-18064][docs] Added unaligned checkpointing to docs.\n\nIt's split into 3 parts to simulate the description of aligned checkpointing:\n- It's added on conceptual level in stateful-stream-processing.md with new/revised pics. It's written in a way that it could survive 1.12 without change.\n- A small change to dev/stream/state/checkpointing.md to show how it is enabled programmatically in Java/Scala/Python. Might need to be extended for 1.12 when new options become available (depending whether they can be programmatically changed or not).\n- A larger discussion in ops/state/checkpoints.md which includes the current limitations and a small glimpse into the next steps (will be in much more detail in blog post). This part needs to be largely rewritten for 1.12+ to reflect the new options.", "committedDate": "2020-06-24T18:50:26Z", "type": "commit"}, {"oid": "f818134b647f6e34bade6189640bd81575f0162c", "url": "https://github.com/apache/flink/commit/f818134b647f6e34bade6189640bd81575f0162c", "message": "[hotfix][docs] Replace/fix links in checkpointing documents.", "committedDate": "2020-06-24T18:50:26Z", "type": "commit"}, {"oid": "f818134b647f6e34bade6189640bd81575f0162c", "url": "https://github.com/apache/flink/commit/f818134b647f6e34bade6189640bd81575f0162c", "message": "[hotfix][docs] Replace/fix links in checkpointing documents.", "committedDate": "2020-06-24T18:50:26Z", "type": "forcePushed"}]}