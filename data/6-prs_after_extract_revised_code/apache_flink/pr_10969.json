{"pr_number": 10969, "pr_title": "[FLINK-15627] Correct the wrong naming of compareMaps in NFATestUtili\u2026", "pr_createdAt": "2020-01-30T03:49:09Z", "pr_url": "https://github.com/apache/flink/pull/10969", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQwNDcwNA==", "url": "https://github.com/apache/flink/pull/10969#discussion_r373404704", "bodyText": "This is an unrelated change. Could you remove it from the PR?", "author": "dawidwys", "createdAt": "2020-01-31T10:12:56Z", "path": "flink-queryable-state/flink-queryable-state-runtime/src/test/java/org/apache/flink/queryablestate/itcases/AbstractQueryableStateTestBase.java", "diffHunk": "@@ -385,7 +385,7 @@ public Integer getKey(Tuple2<Integer, Long> value) {\n \t\t\tCompletableFuture<JobStatus> jobStatusFuture =\n \t\t\t\tclusterClient.getJobStatus(closableJobGraph.getJobId());\n \n-\t\t\twhile (deadline.hasTimeLeft() && !jobStatusFuture.get(deadline.timeLeft().toMillis(), TimeUnit.MILLISECONDS).equals(JobStatus.RUNNING)) {", "originalCommit": "10ba831e9b773cc75cf4c254f53540b22129ff11", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "d59c887947ee4a895708c41498f1d6ff62fee866", "chunk": "diff --git a/flink-queryable-state/flink-queryable-state-runtime/src/test/java/org/apache/flink/queryablestate/itcases/AbstractQueryableStateTestBase.java b/flink-queryable-state/flink-queryable-state-runtime/src/test/java/org/apache/flink/queryablestate/itcases/AbstractQueryableStateTestBase.java\nindex c12f8eeca4a..83444e8a645 100644\n--- a/flink-queryable-state/flink-queryable-state-runtime/src/test/java/org/apache/flink/queryablestate/itcases/AbstractQueryableStateTestBase.java\n+++ b/flink-queryable-state/flink-queryable-state-runtime/src/test/java/org/apache/flink/queryablestate/itcases/AbstractQueryableStateTestBase.java\n\n@@ -385,7 +385,7 @@ public abstract class AbstractQueryableStateTestBase extends TestLogger {\n \t\t\tCompletableFuture<JobStatus> jobStatusFuture =\n \t\t\t\tclusterClient.getJobStatus(closableJobGraph.getJobId());\n \n-\t\t\twhile (!jobStatusFuture.get(deadline.timeLeft().toMillis(), TimeUnit.MILLISECONDS).equals(JobStatus.RUNNING)) {\n+\t\t\twhile (deadline.hasTimeLeft() && !jobStatusFuture.get(deadline.timeLeft().toMillis(), TimeUnit.MILLISECONDS).equals(JobStatus.RUNNING)) {\n \t\t\t\tThread.sleep(50);\n \t\t\t\tjobStatusFuture =\n \t\t\t\t\tclusterClient.getJobStatus(closableJobGraph.getJobId());\n"}}, {"oid": "d59c887947ee4a895708c41498f1d6ff62fee866", "url": "https://github.com/apache/flink/commit/d59c887947ee4a895708c41498f1d6ff62fee866", "message": "[FLINK-15627] Correct the wrong naming of compareMaps in NFATestUtilities", "committedDate": "2020-01-31T12:44:30Z", "type": "commit"}, {"oid": "d59c887947ee4a895708c41498f1d6ff62fee866", "url": "https://github.com/apache/flink/commit/d59c887947ee4a895708c41498f1d6ff62fee866", "message": "[FLINK-15627] Correct the wrong naming of compareMaps in NFATestUtilities", "committedDate": "2020-01-31T12:44:30Z", "type": "forcePushed"}]}