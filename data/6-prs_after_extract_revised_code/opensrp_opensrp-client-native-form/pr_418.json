{"pr_number": 418, "pr_title": "Fix repeating grp issue", "pr_createdAt": "2020-05-06T09:23:50Z", "pr_url": "https://github.com/opensrp/opensrp-client-native-form/pull/418", "timeline": [{"oid": "020cc12eb26061fa97c102b846d4496df33858f1", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/020cc12eb26061fa97c102b846d4496df33858f1", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-04-09T08:38:54Z", "type": "commit"}, {"oid": "97f0e9d7ef0b29560022e4215f770c4f017b3feb", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/97f0e9d7ef0b29560022e4215f770c4f017b3feb", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-11T06:52:34Z", "type": "commit"}, {"oid": "fe1cc9c7cc9dd1d6d0fb27b767e4f97768692f97", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fe1cc9c7cc9dd1d6d0fb27b767e4f97768692f97", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-22T06:25:54Z", "type": "commit"}, {"oid": "53bdc6262036c9189d4ab4e952d5643f6d40d1fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/53bdc6262036c9189d4ab4e952d5643f6d40d1fc", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-22T11:49:04Z", "type": "commit"}, {"oid": "949a0e88dc6e305495e746406165af8d6630bc09", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/949a0e88dc6e305495e746406165af8d6630bc09", "message": "fix issue whereby generated fields are not added to fieldMap", "committedDate": "2020-05-06T09:23:20Z", "type": "commit"}, {"oid": "099f18667bbbc40e622053046c37e708a9be8037", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/099f18667bbbc40e622053046c37e708a9be8037", "message": "add step to refreshLogic method", "committedDate": "2020-05-06T09:25:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY2Mjg0Mw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/418#discussion_r420662843", "bodyText": "Since you are now adding fields to the formFields map, can this loop be added to the loop above in line 100 so that the lookup is faster via the map without iterating all the fields", "author": "githengi", "createdAt": "2020-05-06T09:37:11Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/task/AttachRepeatingGroupTask.java", "diffHunk": "@@ -102,20 +102,22 @@ protected void onPostExecute(List<View> result) {\n                     keysToRemove.add(repeatingGroupKey);\n                     rootLayout.removeViewAt(i);\n                 }\n-//                remove deleted fields from form json\n-                ArrayList<String> removeThisFields = new ArrayList<>();\n+                //remove deleted fields from form json\n+                ArrayList<String> deletedFields = new ArrayList<>();\n                 int len = fields.length();\n                 for (int i = len - 1; i >= 0; i--) {\n                     String[] key = ((String) fields.getJSONObject(i).get(KEY)).split(\"_\");\n                     if (keysToRemove.contains(key[key.length - 1])) {", "originalCommit": "099f18667bbbc40e622053046c37e708a9be8037", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}