{"pr_number": 520, "pr_title": "Repeating fields bug", "pr_createdAt": "2020-11-17T11:43:02Z", "pr_url": "https://github.com/opensrp/opensrp-client-native-form/pull/520", "timeline": [{"oid": "b9aa3946410462f9cfa28d13549c57a98698d83f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b9aa3946410462f9cfa28d13549c57a98698d83f", "message": "clear deleted invalid fields before validation", "committedDate": "2020-11-16T11:46:39Z", "type": "commit"}, {"oid": "65021d6c38c187d73201fda91ef7efca9f6ec04b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/65021d6c38c187d73201fda91ef7efca9f6ec04b", "message": "Merge branch 'master' into repeating-fields-bug", "committedDate": "2020-11-17T11:03:09Z", "type": "commit"}, {"oid": "2b4779f4dc59d547c3df9625dc95e16be90a9bde", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2b4779f4dc59d547c3df9625dc95e16be90a9bde", "message": "moved clearDeletedInvalidFields call to onNextClick and onSaveClick", "committedDate": "2020-11-18T11:09:43Z", "type": "commit"}, {"oid": "f356dd9e66aaf74fc50a96358272ed3cf0b257aa", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f356dd9e66aaf74fc50a96358272ed3cf0b257aa", "message": "clear invalid repeating fields at the time of view removal", "committedDate": "2020-11-20T11:31:35Z", "type": "commit"}, {"oid": "7042808057053d47432604c56b2a981cc9b90322", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7042808057053d47432604c56b2a981cc9b90322", "message": "unit test added for Utils.removeDeletedInvalidFields", "committedDate": "2020-11-20T12:55:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTIxNjc1Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/520#discussion_r529216757", "bodyText": "Prefer nouns to verbs for variables e.g. fieldToRemove from fieldsToRemove as opposed to removeField and removeTheseFields.", "author": "vincent-karuri", "createdAt": "2020-11-24T05:45:34Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/utils/Utils.java", "diffHunk": "@@ -443,6 +443,16 @@ public static void makeFieldHidden(JSONObject fieldObject) {\n         }\n     }\n \n+    public static void removeDeletedInvalidFields(String fieldKeyPrefix, Map<String, ValidationStatus> invalidFields, ArrayList<String> removeThisFields) {\n+        for (String removeField : removeThisFields) {", "originalCommit": "7042808057053d47432604c56b2a981cc9b90322", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c996024ae1ad88b7a41b8dcae239ca20f4abdbc0", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/utils/Utils.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/utils/Utils.java\nindex 7df1a5e2..c487b20d 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/utils/Utils.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/utils/Utils.java\n\n@@ -443,9 +443,9 @@ public class Utils {\n         }\n     }\n \n-    public static void removeDeletedInvalidFields(String fieldKeyPrefix, Map<String, ValidationStatus> invalidFields, ArrayList<String> removeThisFields) {\n-        for (String removeField : removeThisFields) {\n-            invalidFields.remove(fieldKeyPrefix + removeField);\n+    public static void removeDeletedInvalidFields(String fieldKeyPrefix, Map<String, ValidationStatus> invalidFields, ArrayList<String> fieldsToRemove) {\n+        for (String fieldToRemove : fieldsToRemove) {\n+            invalidFields.remove(fieldKeyPrefix + fieldToRemove);\n         }\n     }\n \n"}}, {"oid": "c996024ae1ad88b7a41b8dcae239ca20f4abdbc0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c996024ae1ad88b7a41b8dcae239ca20f4abdbc0", "message": "feedback implemented", "committedDate": "2020-11-24T06:31:17Z", "type": "commit"}, {"oid": "26925d5a4137608619a35ef23c6dc34dc1895212", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/26925d5a4137608619a35ef23c6dc34dc1895212", "message": "Merge branch 'master' into repeating-fields-bug", "committedDate": "2020-11-24T09:14:32Z", "type": "commit"}]}