{"pr_number": 407, "pr_title": "Native forms performance Optimization", "pr_createdAt": "2020-04-09T08:12:39Z", "pr_url": "https://github.com/opensrp/opensrp-client-native-form/pull/407", "timeline": [{"oid": "535729d20c144e2bff4b6101c834a81340df64bd", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/535729d20c144e2bff4b6101c834a81340df64bd", "message": "update code based on feedback", "committedDate": "2020-10-27T06:36:38Z", "type": "commit"}, {"oid": "87cd47257546d8f6cd202273251def0526af19a5", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/87cd47257546d8f6cd202273251def0526af19a5", "message": "Merge pull request #499 from OpenSRP/tt-oct-13-expansionPanelRecordBtnClickListener\n\nadd tests", "committedDate": "2020-10-27T07:17:58Z", "type": "commit"}, {"oid": "515f6f0a5e38c2fc85431ff3a300a7127fbdcf69", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/515f6f0a5e38c2fc85431ff3a300a7127fbdcf69", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into sg-tt-JsonFormFragmentPresenter-test", "committedDate": "2020-10-27T07:19:34Z", "type": "commit"}, {"oid": "9c0e9063a6c3281548a8d230883315c8a6591e0e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9c0e9063a6c3281548a8d230883315c8a6591e0e", "message": "add tests to shoeInformationDialog", "committedDate": "2020-10-27T08:07:19Z", "type": "commit"}, {"oid": "57a2c656b2719a5c5405c92afa0703cb354da03c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/57a2c656b2719a5c5405c92afa0703cb354da03c", "message": "fix codacy issue", "committedDate": "2020-10-27T08:19:37Z", "type": "commit"}, {"oid": "f512ba4ac4e6992d1914d2bb0c8a397e055fc112", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f512ba4ac4e6992d1914d2bb0c8a397e055fc112", "message": "Merge pull request #482 from OpenSRP/sg-tt-JsonFormFragmentPresenter-test\n\nForm fragment presenter tests", "committedDate": "2020-10-28T05:57:04Z", "type": "commit"}, {"oid": "17175ce7aaaa4b2f75e41f1382ff1fc991b5c5a0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/17175ce7aaaa4b2f75e41f1382ff1fc991b5c5a0", "message": "Merge pull request #505 from OpenSRP/tt-oct-27-infodialog\n\nadd tests for showInformationDialog", "committedDate": "2020-10-28T09:17:46Z", "type": "commit"}, {"oid": "22af1cc0e32958845608af752ed481e565396708", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/22af1cc0e32958845608af752ed481e565396708", "message": "cleanup code", "committedDate": "2020-10-29T13:29:45Z", "type": "commit"}, {"oid": "dbd4e530e590ddca6d715e3c67fa236433136595", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dbd4e530e590ddca6d715e3c67fa236433136595", "message": "Merge pull request #504 from OpenSRP/repeating_grp_fix\n\nRepeating grp fix", "committedDate": "2020-10-29T14:30:32Z", "type": "commit"}, {"oid": "6f27f0823d1a4a8d7e95dcf79ebd764c014cfa79", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6f27f0823d1a4a8d7e95dcf79ebd764c014cfa79", "message": "Move blank step skip logic to json form fragment", "committedDate": "2020-10-29T14:56:40Z", "type": "commit"}, {"oid": "e1dee92c4b17d725eb2641160413449853c11fc2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e1dee92c4b17d725eb2641160413449853c11fc2", "message": "Merge pull request #507 from OpenSRP/move-step-skip-logic-to-json-form-fragment\n\nMove blank step skip logic to json form fragment", "committedDate": "2020-10-30T07:00:28Z", "type": "commit"}, {"oid": "2dd16bb90adc1b18c802ceb4d22c3436b3980a8e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2dd16bb90adc1b18c802ceb4d22c3436b3980a8e", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-10-30T13:45:45Z", "type": "commit"}, {"oid": "141213777c893e21a1854c27cda9d03aeea6d349", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/141213777c893e21a1854c27cda9d03aeea6d349", "message": "fix conflicts", "committedDate": "2020-10-30T13:47:18Z", "type": "commit"}, {"oid": "b6bdad0041abc719e125725fd53efb4325705d99", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b6bdad0041abc719e125725fd53efb4325705d99", "message": "fix codacy", "committedDate": "2020-10-30T13:55:18Z", "type": "commit"}, {"oid": "ebd0b3f991bc8cff59b7c7378030e515a882409c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ebd0b3f991bc8cff59b7c7378030e515a882409c", "message": "add tests", "committedDate": "2020-11-03T08:05:52Z", "type": "commit"}, {"oid": "dbd77cfdcede7f14ad4306f2352e7142952d15fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dbd77cfdcede7f14ad4306f2352e7142952d15fc", "message": "update test name", "committedDate": "2020-11-03T08:12:19Z", "type": "commit"}, {"oid": "0e5b4adff99e689d43d2aa5c7b4ed47ad4e338e2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0e5b4adff99e689d43d2aa5c7b4ed47ad4e338e2", "message": "Run ui tasks in FG for BarcodeFactory", "committedDate": "2020-11-03T09:28:51Z", "type": "commit"}, {"oid": "a697e38cec6e1edd882b80ce94ef894a6caf5b60", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a697e38cec6e1edd882b80ce94ef894a6caf5b60", "message": "Run ui tasks in FG for GPSFactory", "committedDate": "2020-11-03T10:19:38Z", "type": "commit"}, {"oid": "897065245f65dd35c563829e9ba93d278b85c981", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/897065245f65dd35c563829e9ba93d278b85c981", "message": "Code clean-up", "committedDate": "2020-11-03T10:49:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY3OTU0Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516679547", "bodyText": "I think nextFormNumber.substring(4, 5) should be   nextFormNumber.substring(4) instead. Consider a form with two digit steps e.g. step10 for example.", "author": "vincent-karuri", "createdAt": "2020-11-03T13:51:02Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java", "diffHunk": "@@ -271,6 +271,146 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         return super.onOptionsItemSelected(item);\n     }\n \n+    /**\n+     * Skips blank by relevance steps when next is clicked on the json wizard forms.\n+     */\n+    public void skipLoadedStepsOnNextPressed() {\n+        if (skipBlankSteps()) {\n+            JSONObject formStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n+            String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n+            if (StringUtils.isNotEmpty(next)) {\n+                checkIfStepIsBlank(formStep);\n+                if (shouldSkipStep() && !stepHasNoSkipLogic(JsonFormConstants.STEP1)) {\n+                    getJsonApi().setNextStep(next);\n+                    markStepAsSkipped(formStep);\n+                    next();\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Returns the current form step number when given than steps next step number.\n+     * This number is used to figure out which steps to pop when previous is clicked.\n+     *\n+     * @param nextFormNumber {@link String}\n+     * @return formNumber {@link Integer}\n+     */\n+    private int getFormStepNumber(String nextFormNumber) {\n+        int formNumber = 0;\n+        if (StringUtils.isNotBlank(nextFormNumber)) {\n+            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4, 5)) - 1;", "originalCommit": "b6bdad0041abc719e125725fd53efb4325705d99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwMjA5Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516702096", "bodyText": "Also, do we need this complex logic to extract the current step? Wasn't this working? https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#diff-4af3b3a5f5179b96a2f8051da8ad980ec341e72fc18aa4bd23f0cbc2c2216845L738?", "author": "vincent-karuri", "createdAt": "2020-11-03T14:22:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY3OTU0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNjM3Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516706377", "bodyText": "I don't think there's a constraint on NF that guarantees a step's next value has to be +1 of it's current value. In RDT, we have steps that don't even have a next value.", "author": "vincent-karuri", "createdAt": "2020-11-03T14:28:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY3OTU0Nw=="}], "type": "inlineReview", "revised_code": {"commit": "abbd892deb5a96c7bb836edd30b8cef8b69f805d", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\nindex 3665dbd8..d5d7411e 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\n\n@@ -299,12 +299,8 @@ public class JsonFormFragment extends MvpFragment<JsonFormFragmentPresenter, Jso\n     private int getFormStepNumber(String nextFormNumber) {\n         int formNumber = 0;\n         if (StringUtils.isNotBlank(nextFormNumber)) {\n-            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4, 5)) - 1;\n-            if (currentFormNumber > 0) {\n-                formNumber = currentFormNumber;\n-            } else if (currentFormNumber == 0) {\n-                formNumber = 1;\n-            }\n+            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4)) - 1;\n+            formNumber = currentFormNumber > 0 ? currentFormNumber : 1;\n         }\n         return formNumber;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY4MDg5MA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516680890", "bodyText": "Can this be simplified to formNumber = currentFormNumber > 0 ? currentFormNumber : 1 since a step is not expected to ever be negative?", "author": "vincent-karuri", "createdAt": "2020-11-03T13:53:00Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java", "diffHunk": "@@ -271,6 +271,146 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         return super.onOptionsItemSelected(item);\n     }\n \n+    /**\n+     * Skips blank by relevance steps when next is clicked on the json wizard forms.\n+     */\n+    public void skipLoadedStepsOnNextPressed() {\n+        if (skipBlankSteps()) {\n+            JSONObject formStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n+            String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n+            if (StringUtils.isNotEmpty(next)) {\n+                checkIfStepIsBlank(formStep);\n+                if (shouldSkipStep() && !stepHasNoSkipLogic(JsonFormConstants.STEP1)) {\n+                    getJsonApi().setNextStep(next);\n+                    markStepAsSkipped(formStep);\n+                    next();\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Returns the current form step number when given than steps next step number.\n+     * This number is used to figure out which steps to pop when previous is clicked.\n+     *\n+     * @param nextFormNumber {@link String}\n+     * @return formNumber {@link Integer}\n+     */\n+    private int getFormStepNumber(String nextFormNumber) {\n+        int formNumber = 0;\n+        if (StringUtils.isNotBlank(nextFormNumber)) {\n+            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4, 5)) - 1;\n+            if (currentFormNumber > 0) {\n+                formNumber = currentFormNumber;\n+            } else if (currentFormNumber == 0) {\n+                formNumber = 1;\n+            }", "originalCommit": "b6bdad0041abc719e125725fd53efb4325705d99", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "abbd892deb5a96c7bb836edd30b8cef8b69f805d", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\nindex 3665dbd8..d5d7411e 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\n\n@@ -299,12 +299,8 @@ public class JsonFormFragment extends MvpFragment<JsonFormFragmentPresenter, Jso\n     private int getFormStepNumber(String nextFormNumber) {\n         int formNumber = 0;\n         if (StringUtils.isNotBlank(nextFormNumber)) {\n-            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4, 5)) - 1;\n-            if (currentFormNumber > 0) {\n-                formNumber = currentFormNumber;\n-            } else if (currentFormNumber == 0) {\n-                formNumber = 1;\n-            }\n+            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4)) - 1;\n+            formNumber = currentFormNumber > 0 ? currentFormNumber : 1;\n         }\n         return formNumber;\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516693825", "bodyText": "@bennsimon any idea why the skip blank step logic still doesn't work for JsonFormFragments? Seems related to this code being removed and moved to JsonWizardFormFragmentPresenter https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#diff-026e337bf5459fc5eee13061b659364e67ba948390ac996edef6fb3feae6ca3dR53.", "author": "vincent-karuri", "createdAt": "2020-11-03T14:11:22Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java", "diffHunk": "@@ -225,19 +229,15 @@ public void setmJsonApi(JsonApi mJsonApi) {\n     @Override\n     public void onResume() {\n         super.onResume();\n-\n-        if (!skipBlankSteps()) { return; }\n-\n-        if (!getJsonApi().isPreviousPressed()) {\n-            skipStepsOnNextPressed();\n-        } else {", "originalCommit": "b6bdad0041abc719e125725fd53efb4325705d99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5NDY2MA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516694660", "bodyText": "Blank steps are not being skipped on both back and next press on the JsonFormFragment.", "author": "vincent-karuri", "createdAt": "2020-11-03T14:12:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxMTcxOA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516711718", "bodyText": "check this out https://github.com/OpenSRP/opensrp-client-native-form/blob/b6bdad0041abc719e125725fd53efb4325705d99/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/presenters/JsonWizardFormFragmentPresenter.java#L43 ...", "author": "bennsimon", "createdAt": "2020-11-03T14:34:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxODY3NQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516718675", "bodyText": "Ok, can we move this call back to onResume? https://github.com/OpenSRP/opensrp-client-native-form/blob/b6bdad0041abc719e125725fd53efb4325705d99/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/presenters/JsonWizardFormFragmentPresenter.java#L53", "author": "vincent-karuri", "createdAt": "2020-11-03T14:43:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxOTE0OA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516719148", "bodyText": "and would that solve the backpress issues as well?", "author": "vincent-karuri", "createdAt": "2020-11-03T14:43:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc0MDIxMw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516740213", "bodyText": "JsonFormFragmentPresenter has onNextClick you can copy the changes from JsonWizardFormFragmentPresenter ...\nOk, can we move this call back to onResume?\nNo dont move this", "author": "bennsimon", "createdAt": "2020-11-03T15:11:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc0MTk3OA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r516741978", "bodyText": "Check this too https://github.com/OpenSRP/opensrp-client-native-form/blob/abe02b5e496ed17dbfbb48cb569bd257b12480c0/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/presenters/JsonFormFragmentPresenter.java#L286", "author": "bennsimon", "createdAt": "2020-11-03T15:14:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE2NzQxOA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r517167418", "bodyText": "Moving to JsonFormFragmentPresenter doesn't seem to work. Could you take a look? #512", "author": "vincent-karuri", "createdAt": "2020-11-04T08:24:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY5MzgyNQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "abe02b5e496ed17dbfbb48cb569bd257b12480c0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/abe02b5e496ed17dbfbb48cb569bd257b12480c0", "message": "Merge pull request #510 from OpenSRP/fix-ui-thread-issues\n\nRun UI tasks in FG", "committedDate": "2020-11-03T14:36:00Z", "type": "commit"}, {"oid": "39bac922ce9990bbe7f4da3c414240489c3ce7e2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/39bac922ce9990bbe7f4da3c414240489c3ce7e2", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-11-10T07:31:46Z", "type": "commit"}, {"oid": "47eef6fdc5170ca0c792de2fcab0263bec770f12", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/47eef6fdc5170ca0c792de2fcab0263bec770f12", "message": "fix test", "committedDate": "2020-11-10T08:05:36Z", "type": "commit"}, {"oid": "ee2c78872f2d84dab3e4f54e425210a7e29dd11c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ee2c78872f2d84dab3e4f54e425210a7e29dd11c", "message": "Merge pull request #508 from OpenSRP/tt-nov-3-multiselectlist\n\nadd tests", "committedDate": "2020-11-10T08:14:07Z", "type": "commit"}, {"oid": "ce9a07239d310ea8a558aa9875ce483d9ed5caf1", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ce9a07239d310ea8a558aa9875ce483d9ed5caf1", "message": "add tests", "committedDate": "2020-11-10T08:37:08Z", "type": "commit"}, {"oid": "ceac3f494d12c1c2179d2c25c883900e2376e495", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ceac3f494d12c1c2179d2c25c883900e2376e495", "message": "code cleanup", "committedDate": "2020-11-10T08:44:04Z", "type": "commit"}, {"oid": "264669ab492675834e15b3dd8e4fc6ae2ca5afb8", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/264669ab492675834e15b3dd8e4fc6ae2ca5afb8", "message": "add check for setupDialog", "committedDate": "2020-11-10T09:02:09Z", "type": "commit"}, {"oid": "abbd892deb5a96c7bb836edd30b8cef8b69f805d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/abbd892deb5a96c7bb836edd30b8cef8b69f805d", "message": "fix skip steps in jsonformfragment", "committedDate": "2020-11-16T06:04:24Z", "type": "commit"}, {"oid": "6adceaa29a59b5639c8b29f748fb86b2d22397fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6adceaa29a59b5639c8b29f748fb86b2d22397fc", "message": "Merge pull request #516 from OpenSRP/tt-nov-10-multiselectlist\n\nadd tests", "committedDate": "2020-11-16T09:02:56Z", "type": "commit"}, {"oid": "9a7359cd68af138ab8a746e48332703227cd708e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9a7359cd68af138ab8a746e48332703227cd708e", "message": "code cleanup", "committedDate": "2020-11-17T06:22:25Z", "type": "commit"}, {"oid": "7bf8b4502b2149e93cf3ff3b33fab842c8d5f423", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7bf8b4502b2149e93cf3ff3b33fab842c8d5f423", "message": "add test", "committedDate": "2020-11-17T20:09:05Z", "type": "commit"}, {"oid": "7779936526b6bb29b583731ebdd39b282510f355", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7779936526b6bb29b583731ebdd39b282510f355", "message": "fix duplicate fragment on backstack issue", "committedDate": "2020-11-18T06:43:44Z", "type": "commit"}, {"oid": "29d1f5fc29f8c1306fdc2734b043c7195a636f46", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/29d1f5fc29f8c1306fdc2734b043c7195a636f46", "message": "Make creation of next jsonformfragment configurable", "committedDate": "2020-11-18T08:54:46Z", "type": "commit"}, {"oid": "b101ac111e0efa7386cfb8b741d73aa7b5c05916", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b101ac111e0efa7386cfb8b741d73aa7b5c05916", "message": "Merge pull request #517 from OpenSRP/fix-jsonformfragment-skip-step\n\nfix skip steps in jsonformfragment", "committedDate": "2020-11-18T09:11:31Z", "type": "commit"}, {"oid": "7b9cb08241da794a3f6046cdeec920f4330b510c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7b9cb08241da794a3f6046cdeec920f4330b510c", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-11-24T07:56:16Z", "type": "commit"}, {"oid": "26106e72e19c357ed3c3e9c59bf58df7035563df", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/26106e72e19c357ed3c3e9c59bf58df7035563df", "message": "fix test", "committedDate": "2020-11-24T07:56:32Z", "type": "commit"}, {"oid": "26fc79bf7f33534cd233f996b754c9ff21bfe7c8", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/26fc79bf7f33534cd233f996b754c9ff21bfe7c8", "message": "add tests", "committedDate": "2020-11-24T09:09:20Z", "type": "commit"}, {"oid": "87918c9b39678cc88f696120d2172a1da6a1d806", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/87918c9b39678cc88f696120d2172a1da6a1d806", "message": "code cleanup", "committedDate": "2020-11-24T09:14:33Z", "type": "commit"}, {"oid": "1d3a29db35655c075e938fe016e757a09dfc0282", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1d3a29db35655c075e938fe016e757a09dfc0282", "message": "Merge pull request #521 from OpenSRP/tt-nov-17-numberselector\n\nadd test", "committedDate": "2020-11-24T11:19:16Z", "type": "commit"}, {"oid": "a9853bdd101f3a6ff7b65db25f63039d20e5815e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a9853bdd101f3a6ff7b65db25f63039d20e5815e", "message": "Merge pull request #522 from OpenSRP/tt-nov-24-multiselectadapter\n\nadd tests", "committedDate": "2020-11-25T08:11:44Z", "type": "commit"}, {"oid": "a6ced6a126d14501a0358b39ffd95934c892c50d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a6ced6a126d14501a0358b39ffd95934c892c50d", "message": "add addtional properties to value", "committedDate": "2020-11-30T07:29:14Z", "type": "commit"}, {"oid": "4c59c4e0b33af4b0f5fbdc67daa8cee9a683ec76", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4c59c4e0b33af4b0f5fbdc67daa8cee9a683ec76", "message": "update tests & resolve merge conflicts", "committedDate": "2020-11-30T08:12:29Z", "type": "commit"}, {"oid": "0bf81a8f24d3ca822f3f456d72753952de98e470", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0bf81a8f24d3ca822f3f456d72753952de98e470", "message": "removed-unused-imports", "committedDate": "2020-11-30T08:18:14Z", "type": "commit"}, {"oid": "802723272ac1b19fe03e013e142fe07e253846b9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/802723272ac1b19fe03e013e142fe07e253846b9", "message": "code cleanup", "committedDate": "2020-11-30T09:06:09Z", "type": "commit"}, {"oid": "cd577714472793ac9a3e8187981d52a4ff02b245", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cd577714472793ac9a3e8187981d52a4ff02b245", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into add-altitude-accuracy-gps-factory", "committedDate": "2020-11-30T13:24:29Z", "type": "commit"}, {"oid": "dc15e9b3c3d44099d630a5e649fccd206e7c1944", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dc15e9b3c3d44099d630a5e649fccd206e7c1944", "message": "revert/update fix with utils", "committedDate": "2020-11-30T14:05:55Z", "type": "commit"}, {"oid": "ae63339ec0f5375c7e0aa7ecc551c458e965ee0e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ae63339ec0f5375c7e0aa7ecc551c458e965ee0e", "message": "revert/update fix with utils", "committedDate": "2020-11-30T14:06:39Z", "type": "commit"}, {"oid": "a9c4c89753e50aa7ad263b4f0c8261ad751e3e57", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a9c4c89753e50aa7ad263b4f0c8261ad751e3e57", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into add-altitude-accuracy-gps-factory", "committedDate": "2020-11-30T14:07:43Z", "type": "commit"}, {"oid": "f7fe91fe48957b9a9f9c3826d7c46879d8b31c3a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f7fe91fe48957b9a9f9c3826d7c46879d8b31c3a", "message": "code cleanup", "committedDate": "2020-12-01T06:46:16Z", "type": "commit"}, {"oid": "005c7ec654d140536d62bdc94db6d0a0a5024a55", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/005c7ec654d140536d62bdc94db6d0a0a5024a55", "message": "update test", "committedDate": "2020-12-01T06:54:38Z", "type": "commit"}, {"oid": "bf0f97d8cd6549568721a0907254e14935952e8f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bf0f97d8cd6549568721a0907254e14935952e8f", "message": "add tests", "committedDate": "2020-12-01T08:26:11Z", "type": "commit"}, {"oid": "3826cce047769eb732cd830c2a577f9447c722d6", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3826cce047769eb732cd830c2a577f9447c722d6", "message": "Merge pull request #525 from OpenSRP/tt-dec1-togglevisibility\n\nadd tests", "committedDate": "2020-12-01T09:52:34Z", "type": "commit"}, {"oid": "bf89dce5cee9260055f8458e8f3f31b93ec13c23", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bf89dce5cee9260055f8458e8f3f31b93ec13c23", "message": "apply code feedback", "committedDate": "2020-12-01T14:40:40Z", "type": "commit"}, {"oid": "3794b5443fdb7d0bc6f2ad166726a8d51f81c3fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3794b5443fdb7d0bc6f2ad166726a8d51f81c3fc", "message": "apply feedback", "committedDate": "2020-12-01T15:30:09Z", "type": "commit"}, {"oid": "e6397b31d578cf46163a6fdc9764d745409263c6", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e6397b31d578cf46163a6fdc9764d745409263c6", "message": "update test", "committedDate": "2020-12-01T15:38:23Z", "type": "commit"}, {"oid": "b0b9c67f1be890e80cf95075345dd0539a51f451", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b0b9c67f1be890e80cf95075345dd0539a51f451", "message": "Merge pull request #524 from OpenSRP/add-altitude-accuracy-gps-factory\n\nAdd altitude accuracy gps factory", "committedDate": "2020-12-02T06:08:41Z", "type": "commit"}, {"oid": "7c5e9dbec9af5907a39d3f7b0fb206c6ca106c10", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7c5e9dbec9af5907a39d3f7b0fb206c6ca106c10", "message": "updated details object", "committedDate": "2020-12-02T06:12:41Z", "type": "commit"}, {"oid": "b2336788650a8491b1fac0e641c17d5859ae47f1", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b2336788650a8491b1fac0e641c17d5859ae47f1", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into update-form-details-object", "committedDate": "2020-12-02T06:13:07Z", "type": "commit"}, {"oid": "9e7f9ae35bb80b5d414703fcdb82f12a2534d180", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9e7f9ae35bb80b5d414703fcdb82f12a2534d180", "message": "Merge pull request #528 from OpenSRP/update-form-details-object\n\nUpdate form details object", "committedDate": "2020-12-02T06:52:20Z", "type": "commit"}, {"oid": "427ae0c6ccbe23fcc45727fa8ababf980d26e1a9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/427ae0c6ccbe23fcc45727fa8ababf980d26e1a9", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2021-01-12T08:38:39Z", "type": "commit"}, {"oid": "fb8798b3e9d8869cfee3d95e23ec4a82428c0785", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fb8798b3e9d8869cfee3d95e23ec4a82428c0785", "message": "fix test", "committedDate": "2021-01-12T08:39:40Z", "type": "commit"}, {"oid": "eaede64132121c36ef6fa2fc35acbea12d77d086", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/eaede64132121c36ef6fa2fc35acbea12d77d086", "message": "update testtestRepeatingGroupDefaultCount", "committedDate": "2021-01-12T08:42:30Z", "type": "commit"}, {"oid": "abfdd4059a0e1cdfdc815ae896378761f506ec50", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/abfdd4059a0e1cdfdc815ae896378761f506ec50", "message": "fix codacy issue", "committedDate": "2021-01-12T08:56:52Z", "type": "commit"}, {"oid": "9c738d80f04b782d116e61197ad59f09d6420db5", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9c738d80f04b782d116e61197ad59f09d6420db5", "message": "add test", "committedDate": "2021-01-12T09:00:23Z", "type": "commit"}, {"oid": "e856d1d248ea2bffbab3b3931be56c17925f9d69", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e856d1d248ea2bffbab3b3931be56c17925f9d69", "message": "Merge pull request #537 from OpenSRP/tt-jan-12-section-factory\n\nTT jan 12 section factory", "committedDate": "2021-01-18T09:16:52Z", "type": "commit"}, {"oid": "69fbf6ec8f5f072b11da14c54aec812c072ba51f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/69fbf6ec8f5f072b11da14c54aec812c072ba51f", "message": "fix bugs", "committedDate": "2021-01-19T08:26:48Z", "type": "commit"}, {"oid": "62187f0a889addc56fe04a6b77bbe83879f2391a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/62187f0a889addc56fe04a6b77bbe83879f2391a", "message": "Merge pull request #538 from OpenSRP/fix-bugs-on-optimized-branch\n\nfix bugs", "committedDate": "2021-01-19T09:36:26Z", "type": "commit"}, {"oid": "a1481fce0fcf75a8f866f91b4870c8e22effd90c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a1481fce0fcf75a8f866f91b4870c8e22effd90c", "message": "add logic to check for stack entries", "committedDate": "2020-06-12T13:01:32Z", "type": "commit"}, {"oid": "9976a566a5cc3a2483da4cacdc4edcddab8ae7ed", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9976a566a5cc3a2483da4cacdc4edcddab8ae7ed", "message": "code cleanup", "committedDate": "2020-06-12T14:11:32Z", "type": "commit"}, {"oid": "cd710be279f96fdf63f435309d77c298e20cf4ee", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cd710be279f96fdf63f435309d77c298e20cf4ee", "message": "code cleanup", "committedDate": "2020-06-12T14:35:09Z", "type": "commit"}, {"oid": "63329b7b7d9cd3c3655bc8d8fc503b829d74331f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/63329b7b7d9cd3c3655bc8d8fc503b829d74331f", "message": "code cleanup", "committedDate": "2020-06-12T14:48:51Z", "type": "commit"}, {"oid": "7ceeab26abc980c3e84025e7d3758874a7b1585c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7ceeab26abc980c3e84025e7d3758874a7b1585c", "message": "code cleanup", "committedDate": "2020-06-12T15:02:07Z", "type": "commit"}, {"oid": "00a5c864eda3db8634704eb9f27662087aa34667", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/00a5c864eda3db8634704eb9f27662087aa34667", "message": "code cleanup", "committedDate": "2020-06-12T15:42:25Z", "type": "commit"}, {"oid": "38e86349e527c74ca17f1713100c5a47944a2c57", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/38e86349e527c74ca17f1713100c5a47944a2c57", "message": "make constraints and media logic executed only when isForNextStep false", "committedDate": "2020-06-15T09:59:06Z", "type": "commit"}, {"oid": "93fc418af9f6377caa85196429931f9536552142", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/93fc418af9f6377caa85196429931f9536552142", "message": "inline relevance fix", "committedDate": "2020-06-16T13:22:37Z", "type": "commit"}, {"oid": "30af5d9b142cff68924120ec31662d3c0796695f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/30af5d9b142cff68924120ec31662d3c0796695f", "message": "Popup Relevance fix\n\nexpnasion panel dialog fix", "committedDate": "2020-06-18T10:27:17Z", "type": "commit"}, {"oid": "b5e5cb4a551d471c6416e30a11e736af435fe634", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b5e5cb4a551d471c6416e30a11e736af435fe634", "message": "removed thread.sleep", "committedDate": "2020-06-19T07:31:27Z", "type": "commit"}, {"oid": "0ddffa5c94bc07073d98eb277d7f083568777965", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0ddffa5c94bc07073d98eb277d7f083568777965", "message": "removed thread.sleep", "committedDate": "2020-06-19T07:31:44Z", "type": "commit"}, {"oid": "c1caa55c93dd9d56a85dc9670cc9743df29b4e15", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c1caa55c93dd9d56a85dc9670cc9743df29b4e15", "message": "add logic to skip first step inside a thread", "committedDate": "2020-06-22T08:01:41Z", "type": "commit"}, {"oid": "8d5a127a7d9a7ba0664cf8fea3d3322c509e93dd", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8d5a127a7d9a7ba0664cf8fea3d3322c509e93dd", "message": "fix validation for nativeEditTextFactory", "committedDate": "2020-06-26T10:22:01Z", "type": "commit"}, {"oid": "722ad85f86cea883031cf186cf6bec62ac248965", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/722ad85f86cea883031cf186cf6bec62ac248965", "message": "update visibility update to be done on ui thread", "committedDate": "2020-07-09T09:31:40Z", "type": "commit"}, {"oid": "8876745760a3c7b43e6b4f68673929b6a5e05816", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8876745760a3c7b43e6b4f68673929b6a5e05816", "message": "update reference edit check on repeating group", "committedDate": "2020-07-09T09:47:33Z", "type": "commit"}, {"oid": "a2dab72236412127320fb38e77110759bedd643c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a2dab72236412127320fb38e77110759bedd643c", "message": "add buttonFactory click listener to commom listener and catch exception thrown by spannable class when loading large report-forms", "committedDate": "2020-07-13T09:42:44Z", "type": "commit"}, {"oid": "a4676e7a58e4f58c155cf8b423d3ca316ee6098a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a4676e7a58e4f58c155cf8b423d3ca316ee6098a", "message": "add fix for datePickerFactory if value is set\n\nAdd validation for repeating grp", "committedDate": "2020-07-15T07:05:32Z", "type": "commit"}, {"oid": "ed219d3613f26522281483e7a024c6684d5d6ccb", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ed219d3613f26522281483e7a024c6684d5d6ccb", "message": "fix repeating grp validation", "committedDate": "2020-07-15T08:11:57Z", "type": "commit"}, {"oid": "3650312a99d0b6c04504cbd0c4954be1c715f21c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3650312a99d0b6c04504cbd0c4954be1c715f21c", "message": "fix looper error\n\nclean up rules engine factory\n\nUpdate repeating group validation to work when after form traversal (back step)", "committedDate": "2020-07-20T13:17:14Z", "type": "commit"}, {"oid": "fe558c861be4d61f9274f1f31b3a3d167634d70f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fe558c861be4d61f9274f1f31b3a3d167634d70f", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-07-23T07:01:27Z", "type": "commit"}, {"oid": "bca941f0bf2d89c093ddb9286965927846b91ffd", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bca941f0bf2d89c093ddb9286965927846b91ffd", "message": "remove unrequired stabbing", "committedDate": "2020-07-23T10:15:55Z", "type": "commit"}, {"oid": "e52ad108f73bdb86864d35886188d2d170cdfd00", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e52ad108f73bdb86864d35886188d2d170cdfd00", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into skip-step-fix", "committedDate": "2020-07-23T12:04:57Z", "type": "commit"}, {"oid": "ced5aebf7bff50cd31f88cbc42ff6ba1000bd988", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ced5aebf7bff50cd31f88cbc42ff6ba1000bd988", "message": "fix codacy issues", "committedDate": "2020-07-23T12:23:40Z", "type": "commit"}, {"oid": "c34f9aa0148644e4fc2794acb0219275e0fa0921", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c34f9aa0148644e4fc2794acb0219275e0fa0921", "message": "fix codacy issue", "committedDate": "2020-07-23T12:38:44Z", "type": "commit"}, {"oid": "717c36ca741b0e3a2d30de1690a2c08e2149fc71", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/717c36ca741b0e3a2d30de1690a2c08e2149fc71", "message": "fix tests", "committedDate": "2020-07-27T08:08:50Z", "type": "commit"}, {"oid": "a7120bc9a4f95a63e979b084ba47bc0fbea5e9b7", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a7120bc9a4f95a63e979b084ba47bc0fbea5e9b7", "message": "remove hidden fields validation\n\nadd refreshExpansionPanel to background thread", "committedDate": "2020-08-04T07:11:00Z", "type": "commit"}, {"oid": "c13009962f6dabf0f9f960cefd24bfab750d9dc5", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c13009962f6dabf0f9f960cefd24bfab750d9dc5", "message": "fix codacy issuess", "committedDate": "2020-08-04T08:34:53Z", "type": "commit"}, {"oid": "b754163a54e86af463cc88000671403fa7576c67", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b754163a54e86af463cc88000671403fa7576c67", "message": "fix validation issue", "committedDate": "2020-08-21T14:45:45Z", "type": "commit"}, {"oid": "a416154b9f4f8bcb9d9586be8bb993433c984955", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a416154b9f4f8bcb9d9586be8bb993433c984955", "message": "Merge branch 'skip-step-fix' into optimize-native-forms", "committedDate": "2020-08-21T17:47:54Z", "type": "commit"}, {"oid": "009fbd7292f9a6e6a4258a0e664ac3b610b10781", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/009fbd7292f9a6e6a4258a0e664ac3b610b10781", "message": "fix merge issues", "committedDate": "2020-08-21T18:37:27Z", "type": "commit"}, {"oid": "4745905325012866e005af39975d427ec4669571", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4745905325012866e005af39975d427ec4669571", "message": "update snapshot version", "committedDate": "2020-08-21T18:41:32Z", "type": "commit"}, {"oid": "4745905325012866e005af39975d427ec4669571", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4745905325012866e005af39975d427ec4669571", "message": "update snapshot version", "committedDate": "2020-08-21T18:41:32Z", "type": "forcePushed"}, {"oid": "e544e024025f267ca0bfea990443cfc322c4d7a3", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e544e024025f267ca0bfea990443cfc322c4d7a3", "message": "fix reference_edit_text validation", "committedDate": "2020-08-24T06:37:21Z", "type": "commit"}, {"oid": "140ad4d046e3f1e53aea6fc1eedaf6ac2307a365", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/140ad4d046e3f1e53aea6fc1eedaf6ac2307a365", "message": "fix broken tests", "committedDate": "2020-08-24T14:42:04Z", "type": "commit"}, {"oid": "57fcd5dc6fb6d6c1f40190e9e30ac2c8c98568bf", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/57fcd5dc6fb6d6c1f40190e9e30ac2c8c98568bf", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-08-24T14:49:05Z", "type": "commit"}, {"oid": "bf18368aeafeb4d82fdcbd1898328fc0e8d95ba6", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bf18368aeafeb4d82fdcbd1898328fc0e8d95ba6", "message": "fix codacy issue", "committedDate": "2020-08-24T15:12:58Z", "type": "commit"}, {"oid": "cd0344a91bcf0d5dc45372c9791d65d71b04ac9c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cd0344a91bcf0d5dc45372c9791d65d71b04ac9c", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-08-25T08:26:32Z", "type": "commit"}, {"oid": "795d0f5762a849a9b79376c97660e533855284c2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/795d0f5762a849a9b79376c97660e533855284c2", "message": "fix constraints in number selectors", "committedDate": "2020-08-26T13:09:01Z", "type": "commit"}, {"oid": "b9c3f112a21ae7ad044924002fcf02bc5fc31d2d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b9c3f112a21ae7ad044924002fcf02bc5fc31d2d", "message": "add null check", "committedDate": "2020-08-26T13:11:17Z", "type": "commit"}, {"oid": "b20c2d88cd047b077c6487b6c7b12ceef97900a7", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b20c2d88cd047b077c6487b6c7b12ceef97900a7", "message": "Merge pull request #470 from OpenSRP/fix-number-selector-constraints\n\nFix number selector constraints", "committedDate": "2020-08-26T13:34:22Z", "type": "commit"}, {"oid": "6b285f8d2bc18eeacc4951df5a7001a049dcb32f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6b285f8d2bc18eeacc4951df5a7001a049dcb32f", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-09-01T07:39:03Z", "type": "commit"}, {"oid": "5a7f40d1c56516923a370fe1441ff5b0a333989e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5a7f40d1c56516923a370fe1441ff5b0a333989e", "message": "Add tests for add Form elements new logic nodes", "committedDate": "2020-09-01T08:11:01Z", "type": "commit"}, {"oid": "7fbf5f69a0c2c436b373b52bbe4966a792723327", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7fbf5f69a0c2c436b373b52bbe4966a792723327", "message": "add expansion panel undo button listner", "committedDate": "2020-09-01T08:34:49Z", "type": "commit"}, {"oid": "cf65c6224b1cf1b381b62d6fbc92709846296d1f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cf65c6224b1cf1b381b62d6fbc92709846296d1f", "message": "Fix bug on preloading rules", "committedDate": "2020-09-01T08:43:31Z", "type": "commit"}, {"oid": "684a8c7268cf32e125bea080082900ab8f44a459", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/684a8c7268cf32e125bea080082900ab8f44a459", "message": "Unit test preloading of rules", "committedDate": "2020-09-01T08:46:46Z", "type": "commit"}, {"oid": "5242746767375f33a2bd146f5df2278384a7d38e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5242746767375f33a2bd146f5df2278384a7d38e", "message": "Merge pull request #474 from OpenSRP/add-expansion-panel-undo-button-listener-test\n\nadd expansion panel undo button listner", "committedDate": "2020-09-01T08:53:35Z", "type": "commit"}, {"oid": "6662136846b9b1a67c5972dd40ffcb805ce38f40", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6662136846b9b1a67c5972dd40ffcb805ce38f40", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-09-01T09:01:39Z", "type": "commit"}, {"oid": "f25d9dc7cdae209e1eb3f3bfd67c97d61f16465e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f25d9dc7cdae209e1eb3f3bfd67c97d61f16465e", "message": "Merge pull request #473 from OpenSRP/sg-tt-unit-tests\n\nOptimization Unit tests", "committedDate": "2020-09-01T09:04:48Z", "type": "commit"}, {"oid": "87f3f45faadfb9ffc5ba659fd53f83a2afd96168", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/87f3f45faadfb9ffc5ba659fd53f83a2afd96168", "message": "fix prefilling of checkboxes on other options (specify)", "committedDate": "2020-09-02T12:18:30Z", "type": "commit"}, {"oid": "fffbea9fa13c052710fa86d9425ad89c9c260821", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fffbea9fa13c052710fa86d9425ad89c9c260821", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-09-02T13:06:40Z", "type": "commit"}, {"oid": "166c8fe016dabdbdeb8a8f15df90515a0c81e185", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/166c8fe016dabdbdeb8a8f15df90515a0c81e185", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-09-02T13:07:06Z", "type": "commit"}, {"oid": "4cf294b883ef8c2a2f5e55aa3c838ab433e06683", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4cf294b883ef8c2a2f5e55aa3c838ab433e06683", "message": "add tests", "committedDate": "2020-09-02T13:16:19Z", "type": "commit"}, {"oid": "caf99e87d906df5955d463746bf2736387d4f4cd", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/caf99e87d906df5955d463746bf2736387d4f4cd", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into fix-prefilling-of-checkboxes", "committedDate": "2020-09-02T13:22:36Z", "type": "commit"}, {"oid": "f25e92c716fad174cb1b4f49e4289cf97d90ce8d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f25e92c716fad174cb1b4f49e4289cf97d90ce8d", "message": "fix test", "committedDate": "2020-09-02T13:31:21Z", "type": "commit"}, {"oid": "ef91e553841e1c52149a4b7c86a29f00ef2aa548", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ef91e553841e1c52149a4b7c86a29f00ef2aa548", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into fix-prefilling-of-checkboxes", "committedDate": "2020-09-02T13:40:54Z", "type": "commit"}, {"oid": "373621fd0c938f947a4312ec561465d029a12526", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/373621fd0c938f947a4312ec561465d029a12526", "message": "Merge pull request #475 from OpenSRP/fix-prefilling-of-checkboxes\n\nfix prefilling of checkboxes on other options (specify)", "committedDate": "2020-09-02T15:21:04Z", "type": "commit"}, {"oid": "bb35488490488791f476c5a4d09b8958fd7ee53b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bb35488490488791f476c5a4d09b8958fd7ee53b", "message": "Add test for native forms properties", "committedDate": "2020-09-08T08:11:02Z", "type": "commit"}, {"oid": "4cb77b493083e411195bf09f9918eaa841616721", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4cb77b493083e411195bf09f9918eaa841616721", "message": "add unit tests for date picker dialog", "committedDate": "2020-09-08T08:56:04Z", "type": "commit"}, {"oid": "96b8e4f7a3615dcf5ae1977b6d3c0d77044e4a31", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/96b8e4f7a3615dcf5ae1977b6d3c0d77044e4a31", "message": "add unit tests for datepicker with date being passed in", "committedDate": "2020-09-08T09:03:10Z", "type": "commit"}, {"oid": "8856f86f4d2bdabcde2c99ff76da6d28d448c47a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8856f86f4d2bdabcde2c99ff76da6d28d448c47a", "message": "add app executors and wait until all tasks on main thread completes", "committedDate": "2020-09-08T09:18:18Z", "type": "commit"}, {"oid": "29e48152bbca16faf8a296c1c84488c96947ce15", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/29e48152bbca16faf8a296c1c84488c96947ce15", "message": "Add unit tests for formwizard fragment", "committedDate": "2020-09-08T09:52:14Z", "type": "commit"}, {"oid": "7478ae4e57932d8dc6cd3e62b698bfe9ab69e929", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7478ae4e57932d8dc6cd3e62b698bfe9ab69e929", "message": "Add unit tests to date picker factory", "committedDate": "2020-09-08T10:58:12Z", "type": "commit"}, {"oid": "cd6b9fc96d55d501442d94109c9eb08e1b9d138e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cd6b9fc96d55d501442d94109c9eb08e1b9d138e", "message": "optimize imports", "committedDate": "2020-09-08T10:59:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTI5Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486791297", "bodyText": "This validation logic may not be necessary after this merges #476.\nThis count can be retrieved from the count object.", "author": "vincent-karuri", "createdAt": "2020-09-11T06:00:33Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/task/AttachRepeatingGroupTask.java", "diffHunk": "@@ -130,13 +134,51 @@ protected void onPostExecute(List<View> result) {\n         }\n \n         try {\n-            ((JsonApi) widgetArgs.getContext()).invokeRefreshLogic(null, false, null, null);\n+            ((JsonApi) widgetArgs.getContext()).invokeRefreshLogic(null, false, null, null, widgetArgs.getStepName(), false);\n         } catch (Exception e) {\n             Timber.e(e);\n         }\n \n         hideProgressDialog();\n         doneButton.setImageResource(R.drawable.ic_done_green);\n+\n+        //for validation\n+        validationCleanUp();\n+\n+    }\n+\n+    private void validationCleanUp() {\n+        doneButton.setTag(R.id.is_repeating_group_generated, true);\n+\n+        LinearLayout referenceLayout = (LinearLayout) ((LinearLayout) parent).getChildAt(0);\n+        MaterialEditText materialEditText = (MaterialEditText) referenceLayout.getChildAt(0);\n+        materialEditText.setError(null);\n+\n+        widgetArgs.getFormFragment().getJsonApi().getAppExecutors().diskIO().execute(new Runnable() {\n+            @Override\n+            public void run() {\n+                try {\n+                    JSONObject step = ((JsonApi) widgetArgs.getContext()).getmJSONObject().getJSONObject(widgetArgs.getStepName());\n+                    JSONArray fields = step.getJSONArray(FIELDS);\n+                    String key = widgetArgs.getJsonObject().optString(KEY);\n+                    for (int i = 0; i < fields.length(); i++) {\n+                        JSONObject object = fields.optJSONObject(i);\n+                        String fieldKey = object.optString(KEY);\n+                        if (fieldKey.equals(key)) {\n+                            String strNumOfRepeatedGroups = object.optString(JsonFormConstants.REPEATING_GROUPS_GENERATED_COUNT);\n+                            int currentCount = numRepeatingGroups;\n+                            if (StringUtils.isNotBlank(strNumOfRepeatedGroups)) {\n+                                currentCount += Integer.parseInt(strNumOfRepeatedGroups);\n+                            }\n+                            object.put(JsonFormConstants.REPEATING_GROUPS_GENERATED_COUNT, currentCount);\n+                            break;\n+                        }\n+                    }\n+                } catch (JSONException e) {\n+                    Timber.e(e);\n+                }", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxMTQyOA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486911428", "bodyText": "It is since #476 does not ensure the repeating group is actually created ... it only checks for text change", "author": "bennsimon", "createdAt": "2020-09-11T09:32:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTI5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQwMzUyMA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r489403520", "bodyText": "It can be modified to only write into the count object after repeating group generation. And that can be used to verify the generation was done.", "author": "vincent-karuri", "createdAt": "2020-09-16T12:39:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTI5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUzMTQ1MQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501531451", "bodyText": "will update this", "author": "bennsimon", "createdAt": "2020-10-08T08:16:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTI5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTE0NDI0Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r509144246", "bodyText": "This update can be tracked here #504", "author": "bennsimon", "createdAt": "2020-10-21T09:51:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTI5Nw=="}], "type": "inlineReview", "revised_code": {"commit": "535729d20c144e2bff4b6101c834a81340df64bd", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/task/AttachRepeatingGroupTask.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/task/AttachRepeatingGroupTask.java\nindex a74b72fa..58edb23b 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/task/AttachRepeatingGroupTask.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/task/AttachRepeatingGroupTask.java\n\n@@ -144,7 +159,6 @@ public class AttachRepeatingGroupTask extends AsyncTask<Void, Void, List<View>>\n \n         //for validation\n         validationCleanUp();\n-\n     }\n \n     private void validationCleanUp() {\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTk3OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486791979", "bodyText": "Any reason for changing the method signature? This is a public method which could be called elsewhere.", "author": "vincent-karuri", "createdAt": "2020-09-11T06:02:46Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/utils/Utils.java", "diffHunk": "@@ -309,7 +310,8 @@ private static String cleanConditionString(String conditionStringRaw) {\n         return conditionString.replaceAll(\"  \", \" \");\n     }\n \n-    public static void buildRulesWithUniqueId(JSONObject element, String uniqueId, String ruleType, Context context, Map<String, List<Map<String, Object>>> rulesFileMap) throws JSONException {\n+    public static void buildRulesWithUniqueId(JSONObject element, String uniqueId, String ruleType,", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxNDk2MQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486914961", "bodyText": "The step field is useful for it to be used elsewhere, on top of that that the step field is needed to ensure that only the fields that have that step prefix (address) will be converted during dynamic rules creating process", "author": "bennsimon", "createdAt": "2020-09-11T09:36:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTk3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQwNjA2Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r489406066", "bodyText": "Is this a bug fix? If not, a method can be added that has the same signature with the added step parameter and retain the original method which will now call the new method with a null step value. Then perform the new operations only if step is not null.", "author": "vincent-karuri", "createdAt": "2020-09-16T12:43:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTk3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDk5MTczMA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r500991730", "bodyText": "yeah it is", "author": "bennsimon", "createdAt": "2020-10-07T13:00:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MTk3OQ=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MjgyNA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486792824", "bodyText": "Not clear what this does, please add a comment or move to a descriptive method.", "author": "vincent-karuri", "createdAt": "2020-09-11T06:05:12Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -98,14 +99,31 @@\n \n         setRepeatingGroupNumLimits();\n \n+        //get the generated number of groups\n+        final String generatedGroupsCount = jsonObject.optString(REPEATING_GROUPS_GENERATED_COUNT);\n+\n+\n         // Enables us to fetch this value from a previous edit_text & disable this one\n-        retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, (JsonApi) context, referenceEditText, remoteReferenceEditText);\n+        if (StringUtils.isBlank(generatedGroupsCount)) { ///generate only once\n+            retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, (JsonApi) context, referenceEditText, remoteReferenceEditText);\n+        }\n+\n         setUpReferenceEditText(referenceEditText, referenceEditTextHint, repeatingGroupLabel);\n \n         // Disable the done button if the reference edit text being used is remote & has a valid value\n         if (isRemoteReferenceValueUsed(referenceEditText)) {\n             doneButton.setVisibility(View.GONE);\n         } else {\n+            if (StringUtils.isNotBlank(generatedGroupsCount)) {\n+                formFragment.getJsonApi().getAppExecutors().mainThread().execute(new Runnable() {\n+                    @Override\n+                    public void run() {\n+                        referenceEditText.setText(generatedGroupsCount);\n+                    }\n+                });\n+                doneButton.setTag(R.id.is_repeating_group_generated, true);\n+            }", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "535729d20c144e2bff4b6101c834a81340df64bd", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java\nindex 33743647..75b50249 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java\n\n@@ -93,27 +92,33 @@ public class RepeatingGroupFactory implements FormWidgetFactory {\n                 .withPopup(popup);\n \n         final MaterialEditText referenceEditText = rootLayout.findViewById(R.id.reference_edit_text);\n+        final ImageButton doneButton = rootLayout.findViewById(R.id.btn_repeating_group_done);\n+\n         final String referenceEditTextHint = jsonObject.optString(REFERENCE_EDIT_TEXT_HINT, context.getString(R.string.enter_number_of_repeating_group_items));\n         final String repeatingGroupLabel = jsonObject.optString(REPEATING_GROUP_LABEL, context.getString(R.string.repeating_group_item));\n         String remoteReferenceEditText = jsonObject.optString(REFERENCE_EDIT_TEXT);\n \n-        setRepeatingGroupNumLimits();\n+        setRepeatingGroupNumLimits(widgetArgs);\n+\n+        JSONObject countFieldObject = Utils.getRepeatingGroupCountObj(widgetArgs);\n \n         //get the generated number of groups\n-        final String generatedGroupsCount = jsonObject.optString(REPEATING_GROUPS_GENERATED_COUNT);\n+        final String generatedGroupsCount = countFieldObject != null ? countFieldObject.optString(VALUE) : \"\";\n \n \n         // Enables us to fetch this value from a previous edit_text & disable this one\n-        if (StringUtils.isBlank(generatedGroupsCount)) { ///generate only once\n-            retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, (JsonApi) context, referenceEditText, remoteReferenceEditText);\n-        }\n+        retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, getJsonApi(widgetArgs),\n+                referenceEditText, remoteReferenceEditText, doneButton, widgetArgs);\n+\n+        setUpReferenceEditText(doneButton, referenceEditText, referenceEditTextHint,\n+                repeatingGroupLabel, countFieldObject, widgetArgs);\n \n-        setUpReferenceEditText(referenceEditText, referenceEditTextHint, repeatingGroupLabel);\n \n         // Disable the done button if the reference edit text being used is remote & has a valid value\n         if (isRemoteReferenceValueUsed(referenceEditText)) {\n             doneButton.setVisibility(View.GONE);\n         } else {\n+            //updates referenceEditText with previous count of the repeating grp if it exists\n             if (StringUtils.isNotBlank(generatedGroupsCount)) {\n                 formFragment.getJsonApi().getAppExecutors().mainThread().execute(new Runnable() {\n                     @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5MzE1NA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486793154", "bodyText": "https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#r486791297", "author": "vincent-karuri", "createdAt": "2020-09-11T06:06:20Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -98,14 +99,31 @@\n \n         setRepeatingGroupNumLimits();\n \n+        //get the generated number of groups\n+        final String generatedGroupsCount = jsonObject.optString(REPEATING_GROUPS_GENERATED_COUNT);\n+\n+\n         // Enables us to fetch this value from a previous edit_text & disable this one\n-        retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, (JsonApi) context, referenceEditText, remoteReferenceEditText);\n+        if (StringUtils.isBlank(generatedGroupsCount)) { ///generate only once\n+            retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, (JsonApi) context, referenceEditText, remoteReferenceEditText);\n+        }", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "535729d20c144e2bff4b6101c834a81340df64bd", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java\nindex 33743647..75b50249 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java\n\n@@ -93,27 +92,33 @@ public class RepeatingGroupFactory implements FormWidgetFactory {\n                 .withPopup(popup);\n \n         final MaterialEditText referenceEditText = rootLayout.findViewById(R.id.reference_edit_text);\n+        final ImageButton doneButton = rootLayout.findViewById(R.id.btn_repeating_group_done);\n+\n         final String referenceEditTextHint = jsonObject.optString(REFERENCE_EDIT_TEXT_HINT, context.getString(R.string.enter_number_of_repeating_group_items));\n         final String repeatingGroupLabel = jsonObject.optString(REPEATING_GROUP_LABEL, context.getString(R.string.repeating_group_item));\n         String remoteReferenceEditText = jsonObject.optString(REFERENCE_EDIT_TEXT);\n \n-        setRepeatingGroupNumLimits();\n+        setRepeatingGroupNumLimits(widgetArgs);\n+\n+        JSONObject countFieldObject = Utils.getRepeatingGroupCountObj(widgetArgs);\n \n         //get the generated number of groups\n-        final String generatedGroupsCount = jsonObject.optString(REPEATING_GROUPS_GENERATED_COUNT);\n+        final String generatedGroupsCount = countFieldObject != null ? countFieldObject.optString(VALUE) : \"\";\n \n \n         // Enables us to fetch this value from a previous edit_text & disable this one\n-        if (StringUtils.isBlank(generatedGroupsCount)) { ///generate only once\n-            retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, (JsonApi) context, referenceEditText, remoteReferenceEditText);\n-        }\n+        retrieveRepeatingGroupCountFromRemoteReferenceEditText(rootLayout, getJsonApi(widgetArgs),\n+                referenceEditText, remoteReferenceEditText, doneButton, widgetArgs);\n+\n+        setUpReferenceEditText(doneButton, referenceEditText, referenceEditTextHint,\n+                repeatingGroupLabel, countFieldObject, widgetArgs);\n \n-        setUpReferenceEditText(referenceEditText, referenceEditTextHint, repeatingGroupLabel);\n \n         // Disable the done button if the reference edit text being used is remote & has a valid value\n         if (isRemoteReferenceValueUsed(referenceEditText)) {\n             doneButton.setVisibility(View.GONE);\n         } else {\n+            //updates referenceEditText with previous count of the repeating grp if it exists\n             if (StringUtils.isNotBlank(generatedGroupsCount)) {\n                 formFragment.getJsonApi().getAppExecutors().mainThread().execute(new Runnable() {\n                     @Override\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486794400", "bodyText": "Is this skip logic only relevant to wizard forms? Could it also be useful in other forms and in that case better placed in the JsonFormFragment?", "author": "vincent-karuri", "createdAt": "2020-09-11T06:10:00Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonWizardFormFragment.java", "diffHunk": "@@ -253,6 +263,121 @@ public void updateVisibilityOfNextAndSave(boolean next, boolean save) {\n         }\n     }\n \n+    /**\n+     * Skips blank by relevance steps when next is clicked on the json wizard forms.\n+     */\n+    public void skipLoadedStepsOnNextPressed() {\n+        if (skipBlankSteps()) {\n+            JSONObject formStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n+            String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n+            if (StringUtils.isNotEmpty(next)) {\n+                checkIfStepIsBlank(formStep);\n+                if (shouldSkipStep() && !stepHasNoSkipLogic(JsonFormConstants.STEP1)) {\n+                    getJsonApi().setNextStep(next);\n+                    markStepAsSkipped(formStep);\n+                    next();\n+                }\n+            }\n+        }\n+    }\n+\n+    /***\n+     * Adds a property 'skipped=true' to a step object if the step is skipped\n+     * @param formStep {@link JSONObject}\n+     */\n+    private void markStepAsSkipped(JSONObject formStep) {\n+        try {\n+            formStep.put(\"skipped\", true);\n+        } catch (JSONException e) {\n+            Timber.e(e);\n+        }\n+    }\n+\n+    /***\n+     * Skips blank steps when next is clicked on the json wizard forms.\n+     * @param step {@link JSONObject}\n+     */\n+\n+    public void skipStepsOnNextPressed(String step) {\n+        if (skipBlankSteps()) {\n+            JSONObject formStep = getJsonApi().getmJSONObject().optJSONObject(step);\n+            String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n+            if (StringUtils.isNotEmpty(next) && (!getJsonApi().isNextStepRelevant() && !nextStepHasNoSkipLogic())) {\n+                markStepAsSkipped(formStep);\n+                getJsonApi().setNextStep(next);\n+                next();\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Skips blank by relevance steps when previous is clicked on the json wizard forms.\n+     */\n+    public void skipStepOnPreviousPressed() {\n+        if (skipBlankSteps()) {\n+            JSONObject currentFormStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n+            String next = currentFormStep.optString(JsonFormConstants.NEXT, \"\");\n+            int currentFormStepNumber = getFormStepNumber(next);\n+            for (int i = currentFormStepNumber; i >= 1; i--) {\n+                JSONObject formStep = getJsonApi().getmJSONObject().optJSONObject(JsonFormConstants.STEP + i);\n+                if (formStep != null) {\n+                    checkIfStepIsBlank(formStep);\n+                    if (shouldSkipStep()) {\n+                        getFragmentManager().popBackStack();\n+                    } else {\n+                        break;\n+                    }\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * should not be used alone, use with {@link #nextStepHasNoSkipLogic()}\n+     * Checks if a given step is blank due to relevance hiding all the widgets\n+     *\n+     * @param formStep {@link JSONObject}\n+     */\n+    private void checkIfStepIsBlank(JSONObject formStep) {\n+        try {\n+            if (formStep.has(JsonFormConstants.FIELDS)) {\n+                JSONArray fields = formStep.getJSONArray(JsonFormConstants.FIELDS);\n+                for (int i = 0; i < fields.length(); i++) {\n+                    JSONObject field = fields.getJSONObject(i);\n+                    if (field.has(JsonFormConstants.TYPE) && !JsonFormConstants.HIDDEN.equals(field.getString(JsonFormConstants.TYPE))) {\n+                        boolean isVisible = field.optBoolean(JsonFormConstants.IS_VISIBLE, true);\n+                        if (isVisible) {\n+                            setShouldSkipStep(false);\n+                            break;\n+                        }\n+                    }\n+                }\n+            }\n+        } catch (JSONException e) {\n+            Timber.e(e, \"%s --> checkIfStepIsBlank\", this.getClass().getCanonicalName());\n+        }\n+    }\n+\n+    /**\n+     * Returns the current form step number when given than steps next step number.\n+     * This number is used to figure out which steps to pop when previous is clicked.\n+     *\n+     * @param nextFormNumber {@link String}\n+     * @return formNumber {@link Integer}\n+     */\n+    private int getFormStepNumber(String nextFormNumber) {\n+        int formNumber = 0;\n+        if (StringUtils.isNotBlank(nextFormNumber)) {\n+            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4, 5)) - 1;\n+            if (currentFormNumber > 0) {\n+                formNumber = currentFormNumber;\n+            } else if (currentFormNumber == 0) {\n+                formNumber = 1;\n+            }\n+        }\n+        return formNumber;\n+    }", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1NDYwNw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486954607", "bodyText": "i mean skip logic is only relevant if there is more than one step .... Why would single step forms need a skip logic?", "author": "bennsimon", "createdAt": "2020-09-11T10:24:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQwMTI4Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r489401287", "bodyText": "JsonFormFragment is not solely for single step forms.\nJsonFormFragment is the parent to JsonWizardFormFragment so why not have the code there for apps that extend either fragment?\nWe are currently using this functionality so this would be a breaking change and it's not clear that it's necessary to make this migration.", "author": "vincent-karuri", "createdAt": "2020-09-16T12:35:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTAwMDU4NA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501000584", "bodyText": "I think that when two classes share a feature is when the super class should have some 'initializing' code with some customization on the child. In this case skipping step is only a feature for JsonWizardFormFragment hence i dont see the need for this. I would suggest you use JsonWizardFormFragment in your implementation since its a child class and will have all that JsonFormFragment has.", "author": "bennsimon", "createdAt": "2020-10-07T13:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUxMDY1NA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501510654", "bodyText": "I'm not sure I understand this. Why is skipping a step only unique to (or needed in) the JsonWizardFormFragment and not in the JsonFormFragment? Isn't this feature useful for all kinds of forms and not just wizard forms?\nIt's not ideal to switch to JsonWizardFormFragment since we (and perhaps other implementations):\n\nDon't need the extra features it provides\nHave custom a JsonFormFragment that has overridden behaviour from the parent class.\nRelated to 2, have made some assumptions when working with JsonFormFragment which may be broken when migrating to JsonWizardFormFragment.", "author": "vincent-karuri", "createdAt": "2020-10-08T07:41:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUzNTUyNQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501535525", "bodyText": "Question.\nHow are you using the skipping step feature in a JsonFormFragment in your implementation? It cant be to skip step since you only have one step .... Am curious.", "author": "bennsimon", "createdAt": "2020-10-08T08:23:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU1ODI2NQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501558265", "bodyText": "I think there's some confusion around how JsonFormFragment works. JsonFormFragment does support multi-step forms. We have multiple multi-step forms in our implementation, one of which benefits from skipping blanks steps.", "author": "vincent-karuri", "createdAt": "2020-10-08T08:58:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU3MTA2Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501571066", "bodyText": "To be clear you use JsonFormFragment in the above form??? if not could i see how you currently use skipping step feature in JsonFormFragment in your implementation.", "author": "bennsimon", "createdAt": "2020-10-08T09:19:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzMTE2OA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r502231168", "bodyText": "I use JsonFormFragment for all forms. And this form has skip feature enabled.", "author": "vincent-karuri", "createdAt": "2020-10-09T07:12:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMxMTA1MA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r502311050", "bodyText": "I think you should change that ... i.e you should use JsonFormFragment for single step forms and JsonWizardFormFragment for multi-step forms.\nBy the way skipping step feature was in JsonWizardFormFragment before you added it to JsonFormFragment", "author": "bennsimon", "createdAt": "2020-10-09T09:39:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMyODAyMw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r502328023", "bodyText": "Is there a reason to use JsonFormFragment for single step forms only? I don't believe that's a requirement atm.\nI moved it to JsonFormFragment because, again, it's useful for all types of forms, not just JsonWizardFormFragment forms. If another implementation wanted to extend JsonFormFragment, it could still benefit from the feature.", "author": "vincent-karuri", "createdAt": "2020-10-09T10:12:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMyODcxOQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r502328719", "bodyText": "Please also address why I should not be concerned about the three points I raised #407 (comment).", "author": "vincent-karuri", "createdAt": "2020-10-09T10:13:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTE1MzY1OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r509153659", "bodyText": "@dubdabasoduba can also way in but the skipping of steps is only used on JsonWizardFormFragment for ANC forms. It would be ideal if the logic is moved to JsonWizardFormFragment since one can only skip steps in a wizard.", "author": "githengi", "createdAt": "2020-10-21T10:05:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTMxMDUxMg==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r509310512", "bodyText": "@githengi I'm not sure I follow, why can steps only be skipped on wizards?", "author": "vincent-karuri", "createdAt": "2020-10-21T13:58:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDQwMA=="}], "type": "inlineReview", "revised_code": {"commit": "6f27f0823d1a4a8d7e95dcf79ebd764c014cfa79", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonWizardFormFragment.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonWizardFormFragment.java\nindex d39f3826..a7561af3 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonWizardFormFragment.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonWizardFormFragment.java\n\n@@ -263,121 +258,6 @@ public class JsonWizardFormFragment extends JsonFormFragment {\n         }\n     }\n \n-    /**\n-     * Skips blank by relevance steps when next is clicked on the json wizard forms.\n-     */\n-    public void skipLoadedStepsOnNextPressed() {\n-        if (skipBlankSteps()) {\n-            JSONObject formStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n-            String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n-            if (StringUtils.isNotEmpty(next)) {\n-                checkIfStepIsBlank(formStep);\n-                if (shouldSkipStep() && !stepHasNoSkipLogic(JsonFormConstants.STEP1)) {\n-                    getJsonApi().setNextStep(next);\n-                    markStepAsSkipped(formStep);\n-                    next();\n-                }\n-            }\n-        }\n-    }\n-\n-    /***\n-     * Adds a property 'skipped=true' to a step object if the step is skipped\n-     * @param formStep {@link JSONObject}\n-     */\n-    private void markStepAsSkipped(JSONObject formStep) {\n-        try {\n-            formStep.put(\"skipped\", true);\n-        } catch (JSONException e) {\n-            Timber.e(e);\n-        }\n-    }\n-\n-    /***\n-     * Skips blank steps when next is clicked on the json wizard forms.\n-     * @param step {@link JSONObject}\n-     */\n-\n-    public void skipStepsOnNextPressed(String step) {\n-        if (skipBlankSteps()) {\n-            JSONObject formStep = getJsonApi().getmJSONObject().optJSONObject(step);\n-            String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n-            if (StringUtils.isNotEmpty(next) && (!getJsonApi().isNextStepRelevant() && !nextStepHasNoSkipLogic())) {\n-                markStepAsSkipped(formStep);\n-                getJsonApi().setNextStep(next);\n-                next();\n-            }\n-        }\n-    }\n-\n-    /**\n-     * Skips blank by relevance steps when previous is clicked on the json wizard forms.\n-     */\n-    public void skipStepOnPreviousPressed() {\n-        if (skipBlankSteps()) {\n-            JSONObject currentFormStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n-            String next = currentFormStep.optString(JsonFormConstants.NEXT, \"\");\n-            int currentFormStepNumber = getFormStepNumber(next);\n-            for (int i = currentFormStepNumber; i >= 1; i--) {\n-                JSONObject formStep = getJsonApi().getmJSONObject().optJSONObject(JsonFormConstants.STEP + i);\n-                if (formStep != null) {\n-                    checkIfStepIsBlank(formStep);\n-                    if (shouldSkipStep()) {\n-                        getFragmentManager().popBackStack();\n-                    } else {\n-                        break;\n-                    }\n-                }\n-            }\n-        }\n-    }\n-\n-    /**\n-     * should not be used alone, use with {@link #nextStepHasNoSkipLogic()}\n-     * Checks if a given step is blank due to relevance hiding all the widgets\n-     *\n-     * @param formStep {@link JSONObject}\n-     */\n-    private void checkIfStepIsBlank(JSONObject formStep) {\n-        try {\n-            if (formStep.has(JsonFormConstants.FIELDS)) {\n-                JSONArray fields = formStep.getJSONArray(JsonFormConstants.FIELDS);\n-                for (int i = 0; i < fields.length(); i++) {\n-                    JSONObject field = fields.getJSONObject(i);\n-                    if (field.has(JsonFormConstants.TYPE) && !JsonFormConstants.HIDDEN.equals(field.getString(JsonFormConstants.TYPE))) {\n-                        boolean isVisible = field.optBoolean(JsonFormConstants.IS_VISIBLE, true);\n-                        if (isVisible) {\n-                            setShouldSkipStep(false);\n-                            break;\n-                        }\n-                    }\n-                }\n-            }\n-        } catch (JSONException e) {\n-            Timber.e(e, \"%s --> checkIfStepIsBlank\", this.getClass().getCanonicalName());\n-        }\n-    }\n-\n-    /**\n-     * Returns the current form step number when given than steps next step number.\n-     * This number is used to figure out which steps to pop when previous is clicked.\n-     *\n-     * @param nextFormNumber {@link String}\n-     * @return formNumber {@link Integer}\n-     */\n-    private int getFormStepNumber(String nextFormNumber) {\n-        int formNumber = 0;\n-        if (StringUtils.isNotBlank(nextFormNumber)) {\n-            int currentFormNumber = Integer.parseInt(nextFormNumber.substring(4, 5)) - 1;\n-            if (currentFormNumber > 0) {\n-                formNumber = currentFormNumber;\n-            } else if (currentFormNumber == 0) {\n-                formNumber = 1;\n-            }\n-        }\n-        return formNumber;\n-    }\n-\n     protected void save() {\n         try {\n             Boolean skipValidation = ((JsonFormActivity) mMainView.getContext()).getIntent()\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDY0Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486794646", "bodyText": "Why remove this here?", "author": "vincent-karuri", "createdAt": "2020-09-11T06:10:48Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java", "diffHunk": "@@ -670,72 +672,4 @@ public void setOnFieldsInvalid(OnFieldsInvalid onFieldsInvalid) {\n     public static NativeFormsProperties getNativeFormProperties() {\n         return nativeFormProperties;\n     }\n-\n-    /**\n-     * Skips blank by relevance steps when next is clicked on the json wizard forms.\n-     */\n-    public void skipStepsOnNextPressed() {\n-        JSONObject formStep = getStep(getArguments().getString(JsonFormConstants.STEPNAME));\n-        String next = formStep.optString(JsonFormConstants.NEXT, \"\");\n-        if (StringUtils.isNotEmpty(next)) {\n-            checkIfStepIsBlank(formStep);\n-            if (shouldSkipStep()) {\n-                next();\n-            }\n-        }\n-    }\n-\n-    /**\n-     * Skips blank by relevance steps when previous is clicked on the json wizard forms.\n-     */\n-    public void skipStepOnPreviousPressed() {\n-        int currentFormStepNumber = getFormStepNumber();\n-        for (int i = currentFormStepNumber; i >= 1; i--) {\n-            JSONObject formStep = getJsonApi().getmJSONObject().optJSONObject(JsonFormConstants.STEP + i);\n-            if (formStep != null) {\n-                checkIfStepIsBlank(formStep);\n-                if (shouldSkipStep()) {\n-                    getFragmentManager().popBackStack();\n-                } else {\n-                    break;\n-                }\n-            }\n-        }\n-    }\n-\n-\n-    /**\n-     * Checks if a given step is blank due to relevance hidding all the widgets\n-     *\n-     * @param formStep {@link JSONObject}\n-     */\n-    private void checkIfStepIsBlank(JSONObject formStep) {\n-        try {\n-            if (formStep.has(JsonFormConstants.FIELDS)) {\n-                JSONArray fields = formStep.getJSONArray(JsonFormConstants.FIELDS);\n-                for (int i = 0; i < fields.length(); i++) {\n-                    JSONObject field = fields.getJSONObject(i);\n-                    if (field.has(JsonFormConstants.TYPE) && !JsonFormConstants.HIDDEN.equals(field.getString(JsonFormConstants.TYPE))) {\n-                        boolean isVisible = field.optBoolean(JsonFormConstants.IS_VISIBLE, true);\n-                        if (isVisible) {\n-                            setShouldSkipStep(false);\n-                            break;\n-                        }\n-                    }\n-                }\n-            }\n-        } catch (JSONException e) {\n-            Timber.e(e, \"%s --> checkIfStepIsBlank\", this.getClass().getCanonicalName());\n-        }\n-    }\n-\n-    /**\n-     * Returns the current form step number which is used to figure out which steps to pop\n-     * when previous is clicked.\n-     *\n-     * @return formNumber {@link Integer}\n-     */\n-    private int getFormStepNumber() {\n-        return Integer.parseInt(getArguments().getString(JsonFormConstants.STEPNAME).substring(4));\n-    }", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1NTA4MA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486955080", "bodyText": "The implementation and logic changed  .... has it broken you code?", "author": "bennsimon", "createdAt": "2020-09-11T10:25:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDY0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQwMTQ0Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r489401446", "bodyText": "#407 (comment)", "author": "vincent-karuri", "createdAt": "2020-09-16T12:35:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDY0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTAwMzQ5OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501003499", "bodyText": "Could you consider using JsonWizardFormFragment?", "author": "bennsimon", "createdAt": "2020-10-07T13:17:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NDY0Ng=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NTMzOQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486795339", "bodyText": "What is this doing? Please add a comment.", "author": "vincent-karuri", "createdAt": "2020-09-11T06:12:50Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java", "diffHunk": "@@ -380,10 +376,18 @@ public void hideKeyBoard() {\n \n     @Override\n     public void transactThis(JsonFormFragment next) {\n+        if (getFragmentManager().getBackStackEntryCount() > 0) { //Note: first step is not usually added to backStackEntry\n+            FragmentManager.BackStackEntry stackEntry = getFragmentManager().getBackStackEntryAt(getFragmentManager().getBackStackEntryCount() - 1);\n+            if (StringUtils.isNotBlank(stackEntry.getName()) &&\n+                    stackEntry.getName().equalsIgnoreCase(next.getArguments().getString(JsonFormConstants.STEPNAME))) {\n+                return;\n+            }", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1NTY2Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486955666", "bodyText": "It prevents a very rare edge case whereby same fragment gets added twice in the fragment stack", "author": "bennsimon", "createdAt": "2020-09-11T10:26:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NTMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQwMjAyNQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r489402025", "bodyText": "Please add this as a comment, it wouldn't be obvious unless you explained it to someone.", "author": "vincent-karuri", "createdAt": "2020-09-16T12:36:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NTMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTAwMjM2Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r501002366", "bodyText": "ok", "author": "bennsimon", "createdAt": "2020-10-07T13:15:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NTMzOQ=="}], "type": "inlineReview", "revised_code": {"commit": "535729d20c144e2bff4b6101c834a81340df64bd", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\nindex dcd85952..0dc46620 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/fragments/JsonFormFragment.java\n\n@@ -376,6 +375,7 @@ public class JsonFormFragment extends MvpFragment<JsonFormFragmentPresenter, Jso\n \n     @Override\n     public void transactThis(JsonFormFragment next) {\n+        //This fixes an edge case whereby one fragment is loaded twice on the stack, brings form traversal issues\n         if (getFragmentManager().getBackStackEntryCount() > 0) { //Note: first step is not usually added to backStackEntry\n             FragmentManager.BackStackEntry stackEntry = getFragmentManager().getBackStackEntryAt(getFragmentManager().getBackStackEntryCount() - 1);\n             if (StringUtils.isNotBlank(stackEntry.getName()) &&\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NjE2NA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486796164", "bodyText": "This is a public method. Changing method signature is a possible breaking change.", "author": "vincent-karuri", "createdAt": "2020-09-11T06:15:12Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/interfaces/JsonApi.java", "diffHunk": "@@ -95,7 +99,7 @@ void addOnActivityRequestPermissionResultListener(Integer requestCode,\n \n     void setmJSONObject(JSONObject jsonObject);\n \n-    void updateGenericPopupSecondaryValues(JSONArray jsonArray);\n+    void updateGenericPopupSecondaryValues(JSONArray jsonArray, String stepName);", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA1OTA0OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r509059049", "bodyText": "This is a major version and changes will likely occur. This has been added to only filter on current step so that forms with multiple steps all the steps are not evaluated when a step is being loaded", "author": "githengi", "createdAt": "2020-10-21T07:45:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NjE2NA=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NzQ2OA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486797468", "bodyText": "This is a public method. Changing method signature is a possible breaking change.\nIs this a major version change? If so, please ignore all such comments.", "author": "vincent-karuri", "createdAt": "2020-09-11T06:18:47Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java", "diffHunk": "@@ -270,79 +301,169 @@ public void refreshHiddenViews(boolean popup) {\n                 if (viewData.has(JsonFormConstants.HIDDEN) && viewData.getBoolean(JsonFormConstants.HIDDEN)) {\n                     toggleViewVisibility(curView, false, popup);\n                 }\n-            } catch (Exception e) {\n+            } catch (JSONException e) {\n                 Timber.e(e);\n             }\n         }\n     }\n \n     @Override\n-    public void refreshSkipLogic(String parentKey, String childKey, boolean popup) {\n+    public void refreshSkipLogic(String parentKey, String childKey, boolean popup, String stepName, boolean isForNextStep) {", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "535729d20c144e2bff4b6101c834a81340df64bd", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java\nindex d022acfa..96b8d200 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java\n\n@@ -295,14 +295,16 @@ public class JsonFormActivity extends JsonFormBaseActivity implements JsonApi {\n     public void refreshHiddenViews(boolean popup) {\n         for (View curView : getFormDataViews()) {\n             String addressString = (String) curView.getTag(R.id.address);\n-            String[] address = addressString.split(\":\");\n-            try {\n-                JSONObject viewData = getObjectUsingAddress(address, popup);\n-                if (viewData.has(JsonFormConstants.HIDDEN) && viewData.getBoolean(JsonFormConstants.HIDDEN)) {\n-                    toggleViewVisibility(curView, false, popup);\n+            if (StringUtils.isNotBlank(addressString)) {\n+                String[] address = addressString.split(\":\");\n+                try {\n+                    JSONObject viewData = getObjectUsingAddress(address, popup);\n+                    if (viewData.has(JsonFormConstants.HIDDEN) && viewData.getBoolean(JsonFormConstants.HIDDEN)) {\n+                        toggleViewVisibility(curView, false, popup);\n+                    }\n+                } catch (JSONException e) {\n+                    Timber.e(e);\n                 }\n-            } catch (JSONException e) {\n-                Timber.e(e);\n             }\n         }\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5NzY2Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486797667", "bodyText": "https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#r486797468", "author": "vincent-karuri", "createdAt": "2020-09-11T06:19:24Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java", "diffHunk": "@@ -270,79 +301,169 @@ public void refreshHiddenViews(boolean popup) {\n                 if (viewData.has(JsonFormConstants.HIDDEN) && viewData.getBoolean(JsonFormConstants.HIDDEN)) {\n                     toggleViewVisibility(curView, false, popup);\n                 }\n-            } catch (Exception e) {\n+            } catch (JSONException e) {\n                 Timber.e(e);\n             }\n         }\n     }\n \n     @Override\n-    public void refreshSkipLogic(String parentKey, String childKey, boolean popup) {\n+    public void refreshSkipLogic(String parentKey, String childKey, boolean popup, String stepName, boolean isForNextStep) {\n         initComparisons();\n-        View[] views = skipLogicViews.values().toArray(new View[0]);\n-        for (View curView : views) {\n-            addRelevance(curView, popup);\n+        Set<String> viewsIds = skipLogicDependencyMap.get(stepName + \"_\" + parentKey);\n+        if (parentKey == null || childKey == null) {\n+            for (View curView : skipLogicViews.values()) {\n+                if (isForNextStep && isNextStepRelevant()) {\n+                    break;\n+                }\n+                addRelevance(curView, popup, isForNextStep);\n+            }\n+        } else if (viewsIds == null) {\n+            for (String curViewId : skipLogicViews.keySet()) {\n+                //skip any relevance by rules engine since the these components are not affected either way.\n+                // Run relevance for native relevance functions as these are first and not optimized currently\n+                if (isForNextStep && isNextStepRelevant()) {\n+                    break;\n+                }\n+                if (!skipLogicDependencyMap.containsKey(curViewId)) {\n+                    addRelevance(skipLogicViews.get(curViewId), popup, isForNextStep);\n+                }\n+            }\n+        } else {\n+            for (String viewId : viewsIds) {\n+                if (isForNextStep && isNextStepRelevant()) {\n+                    break;\n+                }\n+                addRelevance(skipLogicViews.get(viewId), popup, isForNextStep);\n+            }\n         }\n     }\n \n+\n+    public Pair<String[], JSONObject> getCalculationAddressAndValue(View view) throws JSONException {\n+        String calculationTag = (String) view.getTag(R.id.calculation);\n+        String widgetKey = (String) view.getTag(R.id.key);\n+        String stepName = ((String) view.getTag(R.id.address)).split(\":\")[0];\n+        if (calculationTag != null && calculationTag.length() > 0) {\n+            JSONObject calculation = new JSONObject(calculationTag);\n+            Iterator<String> keys = calculation.keys();\n+\n+            while (keys.hasNext()) {\n+                String curKey = keys.next();\n+\n+                JSONObject curCalculation = calculation.getJSONObject(curKey);\n+                JSONObject valueSource = new JSONObject();\n+                if (calculation.has(JsonFormConstants.SRC)) {\n+                    valueSource = calculation.getJSONObject(JsonFormConstants.SRC);\n+                }\n+                String[] address = getAddressFromMap(widgetKey, stepName, JsonFormConstants.CALCULATION);\n+                if (address == null && curCalculation.has(JsonFormConstants.JSON_FORM_KEY.EX_RULES)) {\n+                    JSONObject exRulesObject = curCalculation.getJSONObject(JsonFormConstants.JSON_FORM_KEY.EX_RULES);\n+                    if (exRulesObject.has(RuleConstant.RULES_DYNAMIC)) {\n+                        address = getDynamicRulesEngineAddress(curKey, curCalculation, view, JsonFormConstants.CALCULATION);\n+                    } else {\n+                        address = getRulesEngineAddress(curKey, curCalculation, view, JsonFormConstants.CALCULATION);\n+                    }\n+                }\n+                return new Pair<>(address, valueSource);\n+            }\n+        }\n+        return null;\n+    }\n+\n     @Override\n-    public void refreshCalculationLogic(String parentKey, String childKey, boolean popup) {\n-        Collection<View> views = calculationLogicViews.values();\n-        for (View curView : views) {\n-            String calculationTag = (String) curView.getTag(R.id.calculation);\n-            String widgetKey = (String) curView.getTag(R.id.key);\n-            String stepName = ((String) curView.getTag(R.id.address)).split(\":\")[0];\n-            if (calculationTag != null && calculationTag.length() > 0) {\n-                try {\n-                    JSONObject calculation = new JSONObject(calculationTag);\n-                    Iterator<String> keys = calculation.keys();\n+    public void refreshCalculationLogic(String parentKey, String childKey, boolean popup, String stepName, boolean isForNextStep) {", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "535729d20c144e2bff4b6101c834a81340df64bd", "chunk": "diff --git a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java\nindex d022acfa..96b8d200 100644\n--- a/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java\n+++ b/android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java\n\n@@ -295,14 +295,16 @@ public class JsonFormActivity extends JsonFormBaseActivity implements JsonApi {\n     public void refreshHiddenViews(boolean popup) {\n         for (View curView : getFormDataViews()) {\n             String addressString = (String) curView.getTag(R.id.address);\n-            String[] address = addressString.split(\":\");\n-            try {\n-                JSONObject viewData = getObjectUsingAddress(address, popup);\n-                if (viewData.has(JsonFormConstants.HIDDEN) && viewData.getBoolean(JsonFormConstants.HIDDEN)) {\n-                    toggleViewVisibility(curView, false, popup);\n+            if (StringUtils.isNotBlank(addressString)) {\n+                String[] address = addressString.split(\":\");\n+                try {\n+                    JSONObject viewData = getObjectUsingAddress(address, popup);\n+                    if (viewData.has(JsonFormConstants.HIDDEN) && viewData.getBoolean(JsonFormConstants.HIDDEN)) {\n+                        toggleViewVisibility(curView, false, popup);\n+                    }\n+                } catch (JSONException e) {\n+                    Timber.e(e);\n                 }\n-            } catch (JSONException e) {\n-                Timber.e(e);\n             }\n         }\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5ODM1MA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486798350", "bodyText": "https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#r486797468", "author": "vincent-karuri", "createdAt": "2020-09-11T06:21:07Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java", "diffHunk": "@@ -554,8 +713,25 @@ protected void initiateFormUpdate(JSONObject json) {\n \n \n     @Override\n-    public void updateGenericPopupSecondaryValues(JSONArray jsonArray) {\n+    public void updateGenericPopupSecondaryValues(JSONArray jsonArray, String stepName) {", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5ODY0NQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486798645", "bodyText": "https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#r486797468", "author": "vincent-karuri", "createdAt": "2020-09-11T06:22:02Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java", "diffHunk": "@@ -1304,20 +1494,20 @@ private boolean doComparison(String value, JSONObject comparison) throws Excepti\n         return args;\n     }\n \n-    protected void refreshMediaLogic(String key, String value) {\n+    protected void refreshMediaLogic(String key, String value, String stepName) {", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc5ODg4Mw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/407#discussion_r486798883", "bodyText": "https://github.com/OpenSRP/opensrp-client-native-form/pull/407/files#r486797468", "author": "vincent-karuri", "createdAt": "2020-09-11T06:22:43Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java", "diffHunk": "@@ -933,48 +1083,65 @@ protected void onResume() {\n         EventBus.getDefault().register(this);\n     }\n \n-    protected void addRelevance(View view, boolean popup) {", "originalCommit": "373621fd0c938f947a4312ec561465d029a12526", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}, {"oid": "abb08de5f58941789c5df0a0826151aed2637629", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/abb08de5f58941789c5df0a0826151aed2637629", "message": "Merge pull request #481 from OpenSRP/sg-tt-optimize-unit-tests\n\nOptimize PR unit tests", "committedDate": "2020-09-15T07:48:40Z", "type": "commit"}, {"oid": "f3d433c6c49466ef17453a577098872ececea80a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f3d433c6c49466ef17453a577098872ececea80a", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-09-15T07:48:49Z", "type": "commit"}, {"oid": "6abe3617661285af739175c1bd0cb0efb467fdae", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6abe3617661285af739175c1bd0cb0efb467fdae", "message": "Merge branch 'optimize-native-forms' of https://github.com/OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-09-15T07:48:59Z", "type": "commit"}, {"oid": "ec19eb5eee7386bf16652356141be8af3219e817", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ec19eb5eee7386bf16652356141be8af3219e817", "message": "Unit test click opens simprints", "committedDate": "2020-09-15T08:08:46Z", "type": "commit"}, {"oid": "dc7443e3c80c0806c4b02fbc6ddddd6a9a899761", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dc7443e3c80c0806c4b02fbc6ddddd6a9a899761", "message": "Unit test on click on choose image launches camera intent", "committedDate": "2020-09-15T08:35:33Z", "type": "commit"}, {"oid": "d38c8077068394d607e7a204e90fd0a581f5d604", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d38c8077068394d607e7a204e90fd0a581f5d604", "message": "unit test clicking radio button displays date picker dialog", "committedDate": "2020-09-15T09:19:30Z", "type": "commit"}, {"oid": "03463b6611f3ce055db76a0451014fcc60b69f1b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/03463b6611f3ce055db76a0451014fcc60b69f1b", "message": "Trigger codacy", "committedDate": "2020-09-29T07:05:01Z", "type": "commit"}, {"oid": "49641c3a16f515fdc59bc10796b77d1e0c227e87", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/49641c3a16f515fdc59bc10796b77d1e0c227e87", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-09-29T10:00:12Z", "type": "commit"}, {"oid": "e9ce29c352947f73cc96520ed0861e26b98db960", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e9ce29c352947f73cc96520ed0861e26b98db960", "message": "fix codacy issue", "committedDate": "2020-10-06T07:41:32Z", "type": "commit"}, {"oid": "8f144de12c5272895b207086588ccbc3cab5fbbe", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8f144de12c5272895b207086588ccbc3cab5fbbe", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-10-06T07:42:04Z", "type": "commit"}, {"oid": "dcb8402c163bec74adb63ff35047004eb80820d3", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dcb8402c163bec74adb63ff35047004eb80820d3", "message": "add tests", "committedDate": "2020-10-06T08:45:46Z", "type": "commit"}, {"oid": "9683139da1fe1bb2b4127a7b8e2be2fca5a5d88e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9683139da1fe1bb2b4127a7b8e2be2fca5a5d88e", "message": "removed unncessary use of fqn", "committedDate": "2020-10-06T08:59:40Z", "type": "commit"}, {"oid": "fc38543dc6b8ea8ab6bf2288862de30b9db322a2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fc38543dc6b8ea8ab6bf2288862de30b9db322a2", "message": "implement feeedback", "committedDate": "2020-10-13T07:44:28Z", "type": "commit"}, {"oid": "6397294a7f427788830b527c132527959aef6019", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6397294a7f427788830b527c132527959aef6019", "message": "Merge pull request #495 from OpenSRP/tt-oct-6-2020-jsonformpresenter\n\nadd tests", "committedDate": "2020-10-13T07:48:26Z", "type": "commit"}, {"oid": "1feb781e085f5eb8fe25fdee4b385efd86d24955", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1feb781e085f5eb8fe25fdee4b385efd86d24955", "message": "add tests", "committedDate": "2020-10-13T09:02:56Z", "type": "commit"}, {"oid": "b8f0bfec90e3f319141353fc11b2ccd2df7a38c9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b8f0bfec90e3f319141353fc11b2ccd2df7a38c9", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into tt-oct-13-expansionPanelRecordBtnClickListener", "committedDate": "2020-10-13T09:12:18Z", "type": "commit"}, {"oid": "439e4733ffa02ff8e579fabae716a10b162d42be", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/439e4733ffa02ff8e579fabae716a10b162d42be", "message": "fix test", "committedDate": "2020-10-21T08:05:48Z", "type": "commit"}, {"oid": "6998816f6837c92eaf37e0641b79da673cd64189", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6998816f6837c92eaf37e0641b79da673cd64189", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-10-21T08:26:18Z", "type": "commit"}, {"oid": "4392e20851fb8d56373ba20ef2bb1d57ed3834d1", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4392e20851fb8d56373ba20ef2bb1d57ed3834d1", "message": "Merge branch 'optimize-native-forms' into repeating_grp_fix", "committedDate": "2020-10-21T08:27:44Z", "type": "commit"}, {"oid": "f1aad2ab5f579babfc81ec1f18998078060fd098", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f1aad2ab5f579babfc81ec1f18998078060fd098", "message": "update repeating grp done action with new logic", "committedDate": "2020-10-21T09:16:40Z", "type": "commit"}, {"oid": "504f0a588d4b47724c9b254923da7cf314feb156", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/504f0a588d4b47724c9b254923da7cf314feb156", "message": "fix code when updating the repeating grp count", "committedDate": "2020-10-21T09:24:54Z", "type": "commit"}, {"oid": "93f3b539a3b6072e6df521e27155deedcde549a5", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/93f3b539a3b6072e6df521e27155deedcde549a5", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into tt-oct-13-expansionPanelRecordBtnClickListener", "committedDate": "2020-10-21T09:34:43Z", "type": "commit"}, {"oid": "054bd64b23902cc49a7f31dc08a98b7a8fdf8bf8", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/054bd64b23902cc49a7f31dc08a98b7a8fdf8bf8", "message": "fix test", "committedDate": "2020-10-23T06:18:42Z", "type": "commit"}, {"oid": "fb73b06fcf39b585fe005d324b3e19c8404ea1fd", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fb73b06fcf39b585fe005d324b3e19c8404ea1fd", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-04-07T11:57:04Z", "type": "commit"}, {"oid": "30c4862ed4ec22c872cfd5bb253dbb9e75ba10b1", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/30c4862ed4ec22c872cfd5bb253dbb9e75ba10b1", "message": "Display progress dialog as fields are being fetched", "committedDate": "2020-04-07T12:07:10Z", "type": "commit"}, {"oid": "20e07e624c9e08a506c4934664cd4233641fb41a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/20e07e624c9e08a506c4934664cd4233641fb41a", "message": "Initialize calculations on a background thread", "committedDate": "2020-04-07T12:45:32Z", "type": "commit"}, {"oid": "ab2d59ae50b279c236297f6647a4de7332ed1cae", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ab2d59ae50b279c236297f6647a4de7332ed1cae", "message": "hide text view on the UI thread", "committedDate": "2020-04-08T08:33:12Z", "type": "commit"}, {"oid": "8a6344f3afe08a0b1792ed095aad709520514991", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8a6344f3afe08a0b1792ed095aad709520514991", "message": "iterate on array or keys to avoid concurrent modification", "committedDate": "2020-04-08T11:20:26Z", "type": "commit"}, {"oid": "13b557ede2f4d801e13c072782736c79c02fc939", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/13b557ede2f4d801e13c072782736c79c02fc939", "message": "Preload the rules files defined in a step as form loads", "committedDate": "2020-04-08T16:20:18Z", "type": "commit"}, {"oid": "5581193a6cd415567637bc50b176f696bd033fa6", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5581193a6cd415567637bc50b176f696bd033fa6", "message": "Set text on UI thread", "committedDate": "2020-04-08T17:13:19Z", "type": "commit"}, {"oid": "15380564dfacb5bb25006f73493f486460bf4af8", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/15380564dfacb5bb25006f73493f486460bf4af8", "message": "use an array incase map is changes; log warning if view is null", "committedDate": "2020-04-08T17:40:56Z", "type": "commit"}, {"oid": "8b9d64c7fefe019dd191efa4cdb9503a378b8042", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8b9d64c7fefe019dd191efa4cdb9503a378b8042", "message": "Create presenter in onCreate", "committedDate": "2020-04-09T06:56:32Z", "type": "commit"}, {"oid": "1c111cd2ebeb0f37560fb021a7083c5253b142a4", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1c111cd2ebeb0f37560fb021a7083c5253b142a4", "message": "Optimize expansion panel forms", "committedDate": "2020-04-09T07:45:58Z", "type": "commit"}, {"oid": "073fe649c46d554c0ad37ed5b0a6a4480162afa2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/073fe649c46d554c0ad37ed5b0a6a4480162afa2", "message": "Generic popup dialog load form elements on ViewCreated so that expension panel loads views once", "committedDate": "2020-04-09T07:53:38Z", "type": "commit"}, {"oid": "e3e434e910b014df4e69b313cf5e7fdc8e6cd9df", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e3e434e910b014df4e69b313cf5e7fdc8e6cd9df", "message": "Preload rules on the generic popup dialog", "committedDate": "2020-04-09T07:57:50Z", "type": "commit"}, {"oid": "24e2b172e398e05b246c2d0425ae83462a7b5d5a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/24e2b172e398e05b246c2d0425ae83462a7b5d5a", "message": "Remove methods already executed in superclass onCreate", "committedDate": "2020-04-09T08:07:21Z", "type": "commit"}, {"oid": "d74717a001debb752b70e560d81de7057cf1a496", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d74717a001debb752b70e560d81de7057cf1a496", "message": "Remove timing logger", "committedDate": "2020-04-09T08:11:18Z", "type": "commit"}, {"oid": "020cc12eb26061fa97c102b846d4496df33858f1", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/020cc12eb26061fa97c102b846d4496df33858f1", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-04-09T08:38:54Z", "type": "commit"}, {"oid": "cd027ccb54969143c66b6eb3bca8525b255c8bf0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cd027ccb54969143c66b6eb3bca8525b255c8bf0", "message": "return if form fragment has been detached", "committedDate": "2020-04-10T17:06:45Z", "type": "commit"}, {"oid": "8cd26d359d3fa1546c7ae3070ec9fbdad894a583", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8cd26d359d3fa1546c7ae3070ec9fbdad894a583", "message": "Extract step in main thread. return if fragment has been detached", "committedDate": "2020-04-10T18:11:30Z", "type": "commit"}, {"oid": "51a49cb613bf70daab7595a1e9a35d8b6b4f488d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/51a49cb613bf70daab7595a1e9a35d8b6b4f488d", "message": "stop if form fragment has been detached", "committedDate": "2020-04-10T19:06:53Z", "type": "commit"}, {"oid": "d4e360ca4c9b3b7e55e0ba56b8758d12e819e302", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d4e360ca4c9b3b7e55e0ba56b8758d12e819e302", "message": "Use conceurrent hash map to allow access from different threads", "committedDate": "2020-04-10T19:25:11Z", "type": "commit"}, {"oid": "289210fb87607a4c1ae8d24ddbe299ed33adf6bb", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/289210fb87607a4c1ae8d24ddbe299ed33adf6bb", "message": "handle missing popup tag", "committedDate": "2020-04-10T19:47:50Z", "type": "commit"}, {"oid": "0e21a8249f723b71f35db66aa5eb7d815f506035", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0e21a8249f723b71f35db66aa5eb7d815f506035", "message": "Merge branch 'optimize-main-forms' into optimize-native-forms", "committedDate": "2020-04-10T19:59:01Z", "type": "commit"}, {"oid": "f1aca6ee1c07998001f4cbe8ba8b1d3470374b3f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f1aca6ee1c07998001f4cbe8ba8b1d3470374b3f", "message": "Halt processing if popup is detached", "committedDate": "2020-04-10T20:18:16Z", "type": "commit"}, {"oid": "2b84cb2907fa595246040164ef643c91786f2e88", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2b84cb2907fa595246040164ef643c91786f2e88", "message": "Handle NPE", "committedDate": "2020-04-10T20:18:43Z", "type": "commit"}, {"oid": "2321acbea32de5153949f236068c1a2c73c826ac", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2321acbea32de5153949f236068c1a2c73c826ac", "message": "relevance run rules for current step only", "committedDate": "2020-04-10T21:45:00Z", "type": "commit"}, {"oid": "313f80c0edd3597138a10e037fb8dfc7672b7bd0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/313f80c0edd3597138a10e037fb8dfc7672b7bd0", "message": "Merge branch 'optimize-native-forms' of https://github.com/OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-10T21:45:48Z", "type": "commit"}, {"oid": "97f0e9d7ef0b29560022e4215f770c4f017b3feb", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/97f0e9d7ef0b29560022e4215f770c4f017b3feb", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-11T06:52:34Z", "type": "commit"}, {"oid": "d9faae57dec79960d57ca7bae24c00b6a89da18f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d9faae57dec79960d57ca7bae24c00b6a89da18f", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-04-16T06:55:24Z", "type": "commit"}, {"oid": "afedb75dba1315e86ff7441b40b477b8ea81eeac", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/afedb75dba1315e86ff7441b40b477b8ea81eeac", "message": "Process skip steps logic after relevance has been applied", "committedDate": "2020-04-16T07:46:52Z", "type": "commit"}, {"oid": "40e376b2ba41bbb49b853b33e8ab3f6cabd92757", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/40e376b2ba41bbb49b853b33e8ab3f6cabd92757", "message": "Merge branch 'optimize-native-forms' of https://github.com/OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-16T07:54:26Z", "type": "commit"}, {"oid": "9f38c7cd2edd70f8aabd406ac2b3247989a92a2c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9f38c7cd2edd70f8aabd406ac2b3247989a92a2c", "message": "Code cleanup", "committedDate": "2020-04-16T08:29:25Z", "type": "commit"}, {"oid": "9f38c7cd2edd70f8aabd406ac2b3247989a92a2c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9f38c7cd2edd70f8aabd406ac2b3247989a92a2c", "message": "Code cleanup", "committedDate": "2020-04-16T08:29:25Z", "type": "forcePushed"}, {"oid": "d3e62532ef36674dd145d5bc9b91263c2ecc0713", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d3e62532ef36674dd145d5bc9b91263c2ecc0713", "message": "Stop loops when criteria is found", "committedDate": "2020-04-16T11:57:38Z", "type": "commit"}, {"oid": "675b6e27757447ecf17224d98877c43e7cb83182", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/675b6e27757447ecf17224d98877c43e7cb83182", "message": "Use a map to avoid looping through all the fields", "committedDate": "2020-04-16T15:19:38Z", "type": "commit"}, {"oid": "2c29c898269293a4e7504b5c8b2296b421bd5d79", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2c29c898269293a4e7504b5c8b2296b421bd5d79", "message": "Optimize fill fields with Values", "committedDate": "2020-04-16T15:31:16Z", "type": "commit"}, {"oid": "74762a3d9aa727f4129f268ad8d494c9479fcd2b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/74762a3d9aa727f4129f268ad8d494c9479fcd2b", "message": "Popup search via jsonarray", "committedDate": "2020-04-16T17:30:09Z", "type": "commit"}, {"oid": "25014277221aea963654dbf8fd1167d5effda5a6", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/25014277221aea963654dbf8fd1167d5effda5a6", "message": "Add popup widgets to form widgets map", "committedDate": "2020-04-17T12:45:42Z", "type": "commit"}, {"oid": "6c4506de9ef785f3fc77882c0b71d4bec2bef744", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6c4506de9ef785f3fc77882c0b71d4bec2bef744", "message": "skip global values", "committedDate": "2020-04-17T15:30:40Z", "type": "commit"}, {"oid": "d922a276ce63f829d9133cc3ff7b2dfeb91e7414", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d922a276ce63f829d9133cc3ff7b2dfeb91e7414", "message": "refresh multi media skip if key is blank", "committedDate": "2020-04-17T16:10:48Z", "type": "commit"}, {"oid": "a3ddf6bb6781a0b01fc3ddf6c01868a32a599b29", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a3ddf6bb6781a0b01fc3ddf6c01868a32a599b29", "message": "add widgets on create if dialog is created; add on createView method", "committedDate": "2020-04-17T16:57:46Z", "type": "commit"}, {"oid": "cc3cbab9f61409d9c896ec9c8824751ed6dbab2a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cc3cbab9f61409d9c896ec9c8824751ed6dbab2a", "message": "Handle NPE", "committedDate": "2020-04-17T17:47:05Z", "type": "commit"}, {"oid": "0633dcd2a0de488f965dc1c31b675085ddcf2438", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0633dcd2a0de488f965dc1c31b675085ddcf2438", "message": "Pass step to refresh media logic", "committedDate": "2020-04-17T17:49:58Z", "type": "commit"}, {"oid": "2c5f3e95fe9fafe41b4393b14a36e26d9c6bf44d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2c5f3e95fe9fafe41b4393b14a36e26d9c6bf44d", "message": "Optimize Preload rules", "committedDate": "2020-04-17T18:23:57Z", "type": "commit"}, {"oid": "fee2a5ce53854b03cbe8cb2da6938c023d9d8394", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fee2a5ce53854b03cbe8cb2da6938c023d9d8394", "message": "load subform after main form fileds and load of secondary values", "committedDate": "2020-04-21T10:03:08Z", "type": "commit"}, {"oid": "f3c325009568c4513aef2ec4a9d532809e22759d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f3c325009568c4513aef2ec4a9d532809e22759d", "message": "Load rules files in parallel", "committedDate": "2020-04-21T11:42:58Z", "type": "commit"}, {"oid": "25bba5fbdb24aea83089d6c56219bc3ebe9716f3", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/25bba5fbdb24aea83089d6c56219bc3ebe9716f3", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-04-21T17:10:28Z", "type": "commit"}, {"oid": "966da66e6c67059ea4f51af7d520f512970884a4", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/966da66e6c67059ea4f51af7d520f512970884a4", "message": "Create GPS dialog on UI thread", "committedDate": "2020-04-21T17:43:46Z", "type": "commit"}, {"oid": "32b1855a34b7266cb68129722d16fcf8591a440d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/32b1855a34b7266cb68129722d16fcf8591a440d", "message": "Update unit test", "committedDate": "2020-04-21T18:23:21Z", "type": "commit"}, {"oid": "fe1cc9c7cc9dd1d6d0fb27b767e4f97768692f97", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fe1cc9c7cc9dd1d6d0fb27b767e4f97768692f97", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-22T06:25:54Z", "type": "commit"}, {"oid": "d64edd2d46fea4be51140ea094b2ab4b4a4d10c4", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d64edd2d46fea4be51140ea094b2ab4b4a4d10c4", "message": "add logic to execute refreshlogic on date picker selected in NativeRadioBtn", "committedDate": "2020-04-22T10:04:23Z", "type": "commit"}, {"oid": "0e4f43a962cc1c7b570f6fbeaa5667c97c8dd239", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0e4f43a962cc1c7b570f6fbeaa5667c97c8dd239", "message": "Merge pull request #411 from OpenSRP/giz-optimize-nf-updated\n\nGiz optimize nf updated", "committedDate": "2020-04-22T11:48:31Z", "type": "commit"}, {"oid": "53bdc6262036c9189d4ab4e952d5643f6d40d1fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/53bdc6262036c9189d4ab4e952d5643f6d40d1fc", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into optimize-native-forms", "committedDate": "2020-04-22T11:49:04Z", "type": "commit"}, {"oid": "515ce6855ec213714ec5511d2c0afbc56b9810b4", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/515ce6855ec213714ec5511d2c0afbc56b9810b4", "message": "add fix for skip step", "committedDate": "2020-04-23T06:19:19Z", "type": "commit"}, {"oid": "f5f68d662623cd45b2be50859b3628ae8da5d5d9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f5f68d662623cd45b2be50859b3628ae8da5d5d9", "message": "remove tempViews list", "committedDate": "2020-04-23T06:22:41Z", "type": "commit"}, {"oid": "bac81091c64a69681bb196368062967aaa652a9b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bac81091c64a69681bb196368062967aaa652a9b", "message": "remove tempViews list", "committedDate": "2020-04-23T06:23:50Z", "type": "commit"}, {"oid": "78eaba1dcc3b55e52a9096583d52941e4c3f9bf7", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/78eaba1dcc3b55e52a9096583d52941e4c3f9bf7", "message": "added comments", "committedDate": "2020-04-23T06:29:55Z", "type": "commit"}, {"oid": "e69c17dffdfd8abee1fdb20fb49a58125bb2ebb4", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e69c17dffdfd8abee1fdb20fb49a58125bb2ebb4", "message": "recursive deterministic check", "committedDate": "2020-04-23T15:29:54Z", "type": "commit"}, {"oid": "949a0e88dc6e305495e746406165af8d6630bc09", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/949a0e88dc6e305495e746406165af8d6630bc09", "message": "fix issue whereby generated fields are not added to fieldMap", "committedDate": "2020-05-06T09:23:20Z", "type": "commit"}, {"oid": "099f18667bbbc40e622053046c37e708a9be8037", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/099f18667bbbc40e622053046c37e708a9be8037", "message": "add step to refreshLogic method", "committedDate": "2020-05-06T09:25:15Z", "type": "commit"}, {"oid": "9e2ce7ad5c1210941e3d6352357d337e1221f686", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9e2ce7ad5c1210941e3d6352357d337e1221f686", "message": "fix muliselect renderin", "committedDate": "2020-05-06T14:44:30Z", "type": "commit"}, {"oid": "d7ef282e6d90f2cc45e71a9ff1cc2565bb81b234", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d7ef282e6d90f2cc45e71a9ff1cc2565bb81b234", "message": "code re-arrangement", "committedDate": "2020-05-06T15:18:17Z", "type": "commit"}, {"oid": "34f411d34ac99d992be2c3e04b1bb4adb17a5a3a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/34f411d34ac99d992be2c3e04b1bb4adb17a5a3a", "message": "remove throw exception", "committedDate": "2020-05-06T15:29:24Z", "type": "commit"}, {"oid": "6d982f3464ef6e485f03cbb371fc29002410358b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6d982f3464ef6e485f03cbb371fc29002410358b", "message": "Merge pull request #418 from OpenSRP/fix-repeating-grp-issue\n\nFix repeating grp issue", "committedDate": "2020-05-07T07:54:25Z", "type": "commit"}, {"oid": "82481421e8d04ae998df37ae76532a4deca8fc50", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/82481421e8d04ae998df37ae76532a4deca8fc50", "message": "Merge pull request #419 from OpenSRP/fx-multiselectlist-issue\n\nFx multiselectlist issue", "committedDate": "2020-05-07T08:16:38Z", "type": "commit"}, {"oid": "c9f9add751bd02d2fe4694a111f85518ea1be9ac", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c9f9add751bd02d2fe4694a111f85518ea1be9ac", "message": "update skipping step", "committedDate": "2020-05-15T11:43:30Z", "type": "commit"}, {"oid": "5ae325287e1d003417ac47cd48bd383dfabfda16", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5ae325287e1d003417ac47cd48bd383dfabfda16", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into skip-step-fix", "committedDate": "2020-05-15T16:06:03Z", "type": "commit"}, {"oid": "af969b7ce6ea7697bc2e575e0d73d19faed28d1d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/af969b7ce6ea7697bc2e575e0d73d19faed28d1d", "message": "update skipping step fix", "committedDate": "2020-05-18T09:41:34Z", "type": "commit"}, {"oid": "7462e6f99e583b419e58dac410cfad2d26cd468f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/7462e6f99e583b419e58dac410cfad2d26cd468f", "message": "remove unneded code", "committedDate": "2020-05-18T09:57:14Z", "type": "commit"}, {"oid": "9652df4748cca4ff137739e4e01c719573b69f2d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9652df4748cca4ff137739e4e01c719573b69f2d", "message": "code cleanup", "committedDate": "2020-05-18T10:04:42Z", "type": "commit"}, {"oid": "0efbfe93c33b59447def32c5db09c88761c953b7", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0efbfe93c33b59447def32c5db09c88761c953b7", "message": "code cleanup", "committedDate": "2020-05-18T10:06:51Z", "type": "commit"}, {"oid": "e246e88861f2a954bc40491ff906f01ea1de1b52", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e246e88861f2a954bc40491ff906f01ea1de1b52", "message": "temporary fix for loop on back press'", "committedDate": "2020-05-18T11:00:29Z", "type": "commit"}, {"oid": "138d2312c33412353dc2c88f89aca37c49d7fb10", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/138d2312c33412353dc2c88f89aca37c49d7fb10", "message": "add function to mark skipped steps", "committedDate": "2020-05-19T06:44:11Z", "type": "commit"}, {"oid": "5cd8697d3956897fc9d4004d374d63edd5c33980", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5cd8697d3956897fc9d4004d374d63edd5c33980", "message": "use AppExecutors mainthread in place of runOnUiThread", "committedDate": "2020-05-19T09:51:39Z", "type": "commit"}, {"oid": "5ea0a00afe0c7de9e516668ba8ddd9c5df984667", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5ea0a00afe0c7de9e516668ba8ddd9c5df984667", "message": "test fields that need to be laaded in the mainthread", "committedDate": "2020-05-20T06:51:14Z", "type": "commit"}, {"oid": "da4ea4c779220cd7847df02334cff6f097cdd20d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/da4ea4c779220cd7847df02334cff6f097cdd20d", "message": "Merge branch 'skip-step-fix' of github.com:OpenSRP/opensrp-client-native-form into skip-step-fix", "committedDate": "2020-05-20T06:52:12Z", "type": "commit"}, {"oid": "fe96c8a0210d2467dae6c94e09c512b71d65eb58", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fe96c8a0210d2467dae6c94e09c512b71d65eb58", "message": "update ui logic for other ruleso", "committedDate": "2020-05-20T09:59:18Z", "type": "commit"}, {"oid": "84763d07e7a9a02984a6ebcd533325740602aee6", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/84763d07e7a9a02984a6ebcd533325740602aee6", "message": "revert due to probable class casting error", "committedDate": "2020-05-21T06:37:28Z", "type": "commit"}, {"oid": "560bebe9277d585aa18439026f4b13689c7e2097", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/560bebe9277d585aa18439026f4b13689c7e2097", "message": "fix setError to run on ui thread", "committedDate": "2020-05-21T06:45:10Z", "type": "commit"}, {"oid": "b41e00ea9f3b31fc722fa3e4ccfd2e3c2b3bbd8b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b41e00ea9f3b31fc722fa3e4ccfd2e3c2b3bbd8b", "message": "code cleanup", "committedDate": "2020-05-21T07:12:47Z", "type": "commit"}, {"oid": "d2add240e5e569a79b7b9a57b99856587b28f740", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d2add240e5e569a79b7b9a57b99856587b28f740", "message": "code clean up", "committedDate": "2020-05-21T08:16:31Z", "type": "commit"}, {"oid": "69d2874be50fce28aba1e66f5befef7587364401", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/69d2874be50fce28aba1e66f5befef7587364401", "message": "add map to hold steps, skiplogic presence", "committedDate": "2020-05-21T09:09:20Z", "type": "commit"}, {"oid": "2edd13a35a8ee831890a8f6ee0d5fe98d3755942", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2edd13a35a8ee831890a8f6ee0d5fe98d3755942", "message": "add check skiplogic on previous clicks", "committedDate": "2020-05-21T09:35:24Z", "type": "commit"}, {"oid": "80c120bea1a58798b45aadc7d5818508e3d89fe8", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/80c120bea1a58798b45aadc7d5818508e3d89fe8", "message": "remove misleading comment", "committedDate": "2020-05-21T09:38:06Z", "type": "commit"}, {"oid": "287c6501fcabc8a8d5514448da71217f17961570", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/287c6501fcabc8a8d5514448da71217f17961570", "message": "update comments", "committedDate": "2020-05-21T09:40:46Z", "type": "commit"}, {"oid": "4491c6e8546713a644f4376eec67b1c71e5d3acd", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4491c6e8546713a644f4376eec67b1c71e5d3acd", "message": "replace return with continue for media logic", "committedDate": "2020-05-21T09:44:27Z", "type": "commit"}, {"oid": "24d0d36f6270ea96670071476e30317ea81c4e00", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/24d0d36f6270ea96670071476e30317ea81c4e00", "message": "move the next step method call", "committedDate": "2020-05-22T14:53:07Z", "type": "commit"}, {"oid": "a9e5544e3b6422f90566a6f1582a7fe4bea8ca1f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a9e5544e3b6422f90566a6f1582a7fe4bea8ca1f", "message": "code cleanup", "committedDate": "2020-05-27T13:29:43Z", "type": "commit"}, {"oid": "eec4dacf3f1f4cfd59863945fb6b01c43760e43e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/eec4dacf3f1f4cfd59863945fb6b01c43760e43e", "message": "fix broken unit tests", "committedDate": "2020-05-28T08:21:23Z", "type": "commit"}, {"oid": "5d5191db08dcc2de7610ef8411d529af0641e91f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5d5191db08dcc2de7610ef8411d529af0641e91f", "message": "select spinner while disabling animation in test", "committedDate": "2020-05-28T10:20:43Z", "type": "commit"}, {"oid": "de2e1c56d64149579816e604ce55a377f1c7dd8f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/de2e1c56d64149579816e604ce55a377f1c7dd8f", "message": "Code cleanup", "committedDate": "2020-05-28T11:03:33Z", "type": "commit"}, {"oid": "d1aa73a59ad5bb6a4531a2c648d699927fbae497", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d1aa73a59ad5bb6a4531a2c648d699927fbae497", "message": "Optimize imports", "committedDate": "2020-05-28T11:07:30Z", "type": "commit"}, {"oid": "5641b10c085b8e65ce0151cfff562f99f04ec757", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5641b10c085b8e65ce0151cfff562f99f04ec757", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-05-28T14:08:04Z", "type": "commit"}, {"oid": "b3f66a5bef9405fe72b01d187081dbc391c541d9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/b3f66a5bef9405fe72b01d187081dbc391c541d9", "message": "Merge branch 'master' into optimize-native-forms", "committedDate": "2020-05-28T15:03:27Z", "type": "commit"}, {"oid": "fa53c2d0a4147c49e5e6278bc31826e4d8fc6506", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/fa53c2d0a4147c49e5e6278bc31826e4d8fc6506", "message": "update fragment pop stack method", "committedDate": "2020-05-29T08:29:25Z", "type": "commit"}, {"oid": "cad6b2ddeb8cabf3ef1c7adf39ff2822ba1de88b", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cad6b2ddeb8cabf3ef1c7adf39ff2822ba1de88b", "message": "Update unit test", "committedDate": "2020-05-29T12:53:08Z", "type": "commit"}, {"oid": "a120e9799ad3fa3e5dc3eb21091b31cc144893fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a120e9799ad3fa3e5dc3eb21091b31cc144893fc", "message": "Merge branch 'optimize-native-forms' of github.com:OpenSRP/opensrp-client-native-form into skip-step-fix", "committedDate": "2020-06-04T15:27:30Z", "type": "commit"}, {"oid": "8683fe9b4036577416871659181ec1292a3539f9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8683fe9b4036577416871659181ec1292a3539f9", "message": "fix conflicts", "committedDate": "2020-06-04T15:28:16Z", "type": "commit"}, {"oid": "ca418c65263a84ac2b2c8727f67e633faa631eb5", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ca418c65263a84ac2b2c8727f67e633faa631eb5", "message": "remove deep copy change", "committedDate": "2020-06-05T14:48:30Z", "type": "commit"}, {"oid": "5a5a09f56c3323b887dd92637cfacc07d0823b3f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5a5a09f56c3323b887dd92637cfacc07d0823b3f", "message": "code cleanup", "committedDate": "2020-06-08T07:19:01Z", "type": "commit"}, {"oid": "6fad2c3c730272bfaef3972bc81c34169f649fef", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6fad2c3c730272bfaef3972bc81c34169f649fef", "message": "native radio fix", "committedDate": "2020-06-10T16:59:43Z", "type": "commit"}, {"oid": "c130412f26db0fa674918bb105cf957a15d008d0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c130412f26db0fa674918bb105cf957a15d008d0", "message": "native radio btn fix, repeating group calculation fix", "committedDate": "2020-06-12T11:01:06Z", "type": "commit"}]}