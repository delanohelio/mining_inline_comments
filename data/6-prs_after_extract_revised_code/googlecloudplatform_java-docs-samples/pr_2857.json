{"pr_number": 2857, "pr_title": "healthcare API: fix path for FhirResourceGetHistory and make output d\u2026", "pr_createdAt": "2020-05-08T21:32:43Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2857", "timeline": [{"oid": "38d0241fb88bc0264991292a6b378de0c1776197", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/38d0241fb88bc0264991292a6b378de0c1776197", "message": "healthcare API: fix path for FhirResourceGetHistory and make output description clearer", "committedDate": "2020-05-08T21:31:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5NDkzNA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2857#discussion_r422394934", "bodyText": "There are 6 %s in FHIR_NAME and 7 params here.  Something is amis.", "author": "lesv", "createdAt": "2020-05-08T21:58:00Z", "path": "healthcare/v1/src/main/java/snippets/healthcare/fhir/resources/FhirResourceGetHistory.java", "diffHunk": "@@ -37,15 +37,15 @@\n import org.apache.http.impl.client.HttpClients;\n \n public class FhirResourceGetHistory {\n-  private static final String FHIR_NAME = \"projects/%s/locations/%s/datasets/%s/fhirStores/%s\";\n+  private static final String FHIR_NAME = \"projects/%s/locations/%s/datasets/%s/fhirStores/%s/fhir/%s/%s\";\n   private static final JsonFactory JSON_FACTORY = new JacksonFactory();\n   private static final NetHttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n \n   public static void fhirResourceGetHistory(String resourceName, String versionId)\n       throws IOException, URISyntaxException {\n     // String resourceName =\n     //    String.format(\n-    //        FHIR_NAME, \"project-id\", \"region-id\", \"dataset-id\", \"store-id\", \"fhir-id\");\n+    //        FHIR_NAME, \"project-id\", \"region-id\", \"dataset-id\", \"store-id\", \"fhir-id\", \"resource-type\", \"resource-id\");", "originalCommit": "38d0241fb88bc0264991292a6b378de0c1776197", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5NzE2NA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2857#discussion_r422397164", "bodyText": "Ah looks like \"store-id\" and \"fhir-id\" were meant to be \"FHIR store ID\" and \"FHIR Resource ID\". You can delete \"fhir-id\" or \"store-id\" or combine them into \"fhir-store-id\".", "author": "dzlier-gcp", "createdAt": "2020-05-08T22:05:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5NDkzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5ODUzNQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2857#discussion_r422398535", "bodyText": "Whoops, thanks. Deleted \"fhir-id\".", "author": "noerog", "createdAt": "2020-05-08T22:09:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5NDkzNA=="}], "type": "inlineReview", "revised_code": {"commit": "be0faece4202fbd55560288c2b09e2863730798e", "chunk": "diff --git a/healthcare/v1/src/main/java/snippets/healthcare/fhir/resources/FhirResourceGetHistory.java b/healthcare/v1/src/main/java/snippets/healthcare/fhir/resources/FhirResourceGetHistory.java\nindex ca0561617..53e562f0d 100644\n--- a/healthcare/v1/src/main/java/snippets/healthcare/fhir/resources/FhirResourceGetHistory.java\n+++ b/healthcare/v1/src/main/java/snippets/healthcare/fhir/resources/FhirResourceGetHistory.java\n\n@@ -45,7 +45,7 @@ public class FhirResourceGetHistory {\n       throws IOException, URISyntaxException {\n     // String resourceName =\n     //    String.format(\n-    //        FHIR_NAME, \"project-id\", \"region-id\", \"dataset-id\", \"store-id\", \"fhir-id\", \"resource-type\", \"resource-id\");\n+    //        FHIR_NAME, \"project-id\", \"region-id\", \"dataset-id\", \"store-id\", \"resource-type\", \"resource-id\");\n     // String versionId = \"version-uuid\"\n \n     // Initialize the client, which will be used to interact with the service.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5NzI5MQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2857#discussion_r422397291", "bodyText": "Does the test check for this text in the output?", "author": "dzlier-gcp", "createdAt": "2020-05-08T22:05:33Z", "path": "healthcare/v1/src/main/java/snippets/healthcare/fhir/resources/FhirResourceGetHistory.java", "diffHunk": "@@ -74,7 +74,7 @@ public static void fhirResourceGetHistory(String resourceName, String versionId)\n       responseEntity.writeTo(System.err);\n       throw new RuntimeException();\n     }\n-    System.out.println(\"FHIR resource history list retrieved: \");\n+    System.out.println(\"FHIR resource retrieved from version: \");", "originalCommit": "38d0241fb88bc0264991292a6b378de0c1776197", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5ODU3OQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2857#discussion_r422398579", "bodyText": "Just fixed the test, thanks.", "author": "noerog", "createdAt": "2020-05-08T22:09:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM5NzI5MQ=="}], "type": "inlineReview", "revised_code": null}, {"oid": "be0faece4202fbd55560288c2b09e2863730798e", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/be0faece4202fbd55560288c2b09e2863730798e", "message": "fix number of args, fix test for new expected output", "committedDate": "2020-05-08T22:09:08Z", "type": "commit"}, {"oid": "898e9ed484e2d05d1fc56edc9a69ce2acb10dea4", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/898e9ed484e2d05d1fc56edc9a69ce2acb10dea4", "message": "Fix failing lint test", "committedDate": "2020-05-11T17:52:54Z", "type": "commit"}]}