{"pr_number": 2012, "pr_title": "Automl beta dataset", "pr_createdAt": "2020-01-21T20:14:04Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2012", "timeline": [{"oid": "9932d22268752b1774ee2fd63d305c700b5b68c7", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/9932d22268752b1774ee2fd63d305c700b5b68c7", "message": "automl-beta: copy v1 samples to beta folder and update imports", "committedDate": "2020-01-21T19:27:52Z", "type": "commit"}, {"oid": "916eb219ce63e58a6860b957b906cb0dc75c94ed", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/916eb219ce63e58a6860b957b906cb0dc75c94ed", "message": "fix pom", "committedDate": "2020-01-21T19:28:53Z", "type": "commit"}, {"oid": "e70dc80f50ac19350d2a254c4ecf38bd4c5e5114", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/e70dc80f50ac19350d2a254c4ecf38bd4c5e5114", "message": "fix region tag", "committedDate": "2020-01-21T20:13:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ5MTU1OA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2012#discussion_r372491558", "bodyText": "Delete export, not used in docs", "author": "nnegrey", "createdAt": "2020-01-29T16:30:46Z", "path": "automl/beta/src/main/java/com/example/automl/ExportDataset.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.example.automl;\n+\n+// [START automl_export_dataset_beta]\n+import com.google.cloud.automl.v1beta1.AutoMlClient;\n+import com.google.cloud.automl.v1beta1.DatasetName;\n+import com.google.cloud.automl.v1beta1.GcsDestination;\n+import com.google.cloud.automl.v1beta1.OutputConfig;\n+import com.google.protobuf.Empty;\n+\n+import java.io.IOException;\n+import java.util.concurrent.ExecutionException;\n+\n+class ExportDataset {", "originalCommit": "e70dc80f50ac19350d2a254c4ecf38bd4c5e5114", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c4895c4b41e40461eb35d5bca25e8264095bf73c", "chunk": "diff --git a/automl/beta/src/main/java/com/example/automl/ExportDataset.java b/automl/beta/src/main/java/com/example/automl/ExportDataset.java\ndeleted file mode 100644\nindex 1231f8759..000000000\n--- a/automl/beta/src/main/java/com/example/automl/ExportDataset.java\n+++ /dev/null\n\n@@ -1,61 +0,0 @@\n-/*\n- * Copyright 2020 Google LLC\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- * http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n-package com.example.automl;\n-\n-// [START automl_export_dataset_beta]\n-import com.google.cloud.automl.v1beta1.AutoMlClient;\n-import com.google.cloud.automl.v1beta1.DatasetName;\n-import com.google.cloud.automl.v1beta1.GcsDestination;\n-import com.google.cloud.automl.v1beta1.OutputConfig;\n-import com.google.protobuf.Empty;\n-\n-import java.io.IOException;\n-import java.util.concurrent.ExecutionException;\n-\n-class ExportDataset {\n-\n-  static void exportDataset() throws IOException, ExecutionException, InterruptedException {\n-    // TODO(developer): Replace these variables before running the sample.\n-    String projectId = \"YOUR_PROJECT_ID\";\n-    String datasetId = \"YOUR_DATASET_ID\";\n-    String gcsUri = \"gs://BUCKET_ID/path_to_export/\";\n-    exportDataset(projectId, datasetId, gcsUri);\n-  }\n-\n-  // Export a dataset to a GCS bucket\n-  static void exportDataset(String projectId, String datasetId, String gcsUri)\n-      throws IOException, ExecutionException, InterruptedException {\n-    // Initialize client that will be used to send requests. This client only needs to be created\n-    // once, and can be reused for multiple requests. After completing all of your requests, call\n-    // the \"close\" method on the client to safely clean up any remaining background resources.\n-    try (AutoMlClient client = AutoMlClient.create()) {\n-      // Get the complete path of the dataset.\n-      DatasetName datasetFullId = DatasetName.of(projectId, \"us-central1\", datasetId);\n-      GcsDestination gcsDestination =\n-          GcsDestination.newBuilder().setOutputUriPrefix(gcsUri).build();\n-\n-      // Export the dataset to the output URI.\n-      OutputConfig outputConfig =\n-          OutputConfig.newBuilder().setGcsDestination(gcsDestination).build();\n-\n-      System.out.println(\"Processing export...\");\n-      Empty response = client.exportDataAsync(datasetFullId, outputConfig).get();\n-      System.out.format(\"Dataset exported. %s\\n\", response);\n-    }\n-  }\n-}\n-// [END automl_export_dataset_beta]\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ5MzM0Ng==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2012#discussion_r372493346", "bodyText": "Delete, not in docs", "author": "nnegrey", "createdAt": "2020-01-29T16:33:25Z", "path": "automl/beta/src/main/java/com/example/automl/GetDataset.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.example.automl;\n+\n+// [START automl_video_classification_get_dataset_beta]\n+import com.google.cloud.automl.v1beta1.AutoMlClient;\n+import com.google.cloud.automl.v1beta1.Dataset;\n+import com.google.cloud.automl.v1beta1.DatasetName;\n+\n+import java.io.IOException;\n+\n+class GetDataset {\n+\n+  static void getDataset() throws IOException {", "originalCommit": "e70dc80f50ac19350d2a254c4ecf38bd4c5e5114", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c4895c4b41e40461eb35d5bca25e8264095bf73c", "chunk": "diff --git a/automl/beta/src/main/java/com/example/automl/GetDataset.java b/automl/beta/src/main/java/com/example/automl/GetDataset.java\ndeleted file mode 100644\nindex 19a41ff01..000000000\n--- a/automl/beta/src/main/java/com/example/automl/GetDataset.java\n+++ /dev/null\n\n@@ -1,64 +0,0 @@\n-/*\n- * Copyright 2020 Google LLC\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- * http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n-package com.example.automl;\n-\n-// [START automl_video_classification_get_dataset_beta]\n-import com.google.cloud.automl.v1beta1.AutoMlClient;\n-import com.google.cloud.automl.v1beta1.Dataset;\n-import com.google.cloud.automl.v1beta1.DatasetName;\n-\n-import java.io.IOException;\n-\n-class GetDataset {\n-\n-  static void getDataset() throws IOException {\n-    // TODO(developer): Replace these variables before running the sample.\n-    String projectId = \"YOUR_PROJECT_ID\";\n-    String datasetId = \"YOUR_DATASET_ID\";\n-    getDataset(projectId, datasetId);\n-  }\n-\n-  // Get a dataset\n-  static void getDataset(String projectId, String datasetId) throws IOException {\n-    // Initialize client that will be used to send requests. This client only needs to be created\n-    // once, and can be reused for multiple requests. After completing all of your requests, call\n-    // the \"close\" method on the client to safely clean up any remaining background resources.\n-    try (AutoMlClient client = AutoMlClient.create()) {\n-      // Get the complete path of the dataset.\n-      DatasetName datasetFullId = DatasetName.of(projectId, \"us-central1\", datasetId);\n-      Dataset dataset = client.getDataset(datasetFullId);\n-\n-      // Display the dataset information\n-      System.out.format(\"Dataset name: %s\\n\", dataset.getName());\n-      // To get the dataset id, you have to parse it out of the `name` field. As dataset Ids are\n-      // required for other methods.\n-      // Name Form: `projects/{project_id}/locations/{location_id}/datasets/{dataset_id}`\n-      String[] names = dataset.getName().split(\"/\");\n-      String retrievedDatasetId = names[names.length - 1];\n-      System.out.format(\"Dataset id: %s\\n\", retrievedDatasetId);\n-      System.out.format(\"Dataset display name: %s\\n\", dataset.getDisplayName());\n-      System.out.println(\"Dataset create time:\");\n-      System.out.format(\"\\tseconds: %s\\n\", dataset.getCreateTime().getSeconds());\n-      System.out.format(\"\\tnanos: %s\\n\", dataset.getCreateTime().getNanos());\n-\n-      System.out.format(\n-          \"Video classification dataset metadata: %s\\n\",\n-          dataset.getVideoClassificationDatasetMetadata());\n-    }\n-  }\n-}\n-// [END automl_video_classification_get_dataset_beta]\n"}}, {"oid": "c4895c4b41e40461eb35d5bca25e8264095bf73c", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/c4895c4b41e40461eb35d5bca25e8264095bf73c", "message": "remove files that won't be in docs and update tests to be self reliant", "committedDate": "2020-01-29T18:07:06Z", "type": "commit"}, {"oid": "582fad1d46d8c05df07d5e10d171299ae679a73b", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/582fad1d46d8c05df07d5e10d171299ae679a73b", "message": "Merge branch 'master' into automl-beta-dataset", "committedDate": "2020-01-29T18:21:35Z", "type": "commit"}]}