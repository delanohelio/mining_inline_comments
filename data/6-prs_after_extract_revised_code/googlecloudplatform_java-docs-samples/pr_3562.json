{"pr_number": 3562, "pr_title": "fix(cloud-sql): Updated sample to include full JDBC url in comments.", "pr_createdAt": "2020-08-18T20:35:50Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3562", "timeline": [{"oid": "1db12e9561378f0c4fc44e1f3a0f36652a4dc206", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/1db12e9561378f0c4fc44e1f3a0f36652a4dc206", "message": "added full jdbc url in cloud sql sample comments", "committedDate": "2020-08-18T20:22:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ4ODY0Ng==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3562#discussion_r472488646", "bodyText": "that's a long line, and doesn't actually represent what you have below.", "author": "lesv", "createdAt": "2020-08-18T20:57:19Z", "path": "cloud-sql/mysql/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java", "diffHunk": "@@ -51,6 +51,8 @@ private DataSource createConnectionPool() {\n     HikariConfig config = new HikariConfig();\n \n     // Configure which instance and what database user to connect with.\n+    // Equivalent URL:\n+    // jdbc:mysql:///<DATABASE_NAME>?cloudSqlInstance=<INSTANCE_CONNECTION_NAME>&socketFactory=com.google.cloud.sql.mysql.SocketFactory&user=<MYSQL_USER_NAME>&password=<MYSQL_USER_PASSWORD>", "originalCommit": "1db12e9561378f0c4fc44e1f3a0f36652a4dc206", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a807543bf45c757ad714b7b6c71b337c9591f3b6", "chunk": "diff --git a/cloud-sql/mysql/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java b/cloud-sql/mysql/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java\nindex 5d625cac9..9d6b64567 100644\n--- a/cloud-sql/mysql/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java\n+++ b/cloud-sql/mysql/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java\n\n@@ -51,8 +51,6 @@ public class ConnectionPoolContextListener implements ServletContextListener {\n     HikariConfig config = new HikariConfig();\n \n     // Configure which instance and what database user to connect with.\n-    // Equivalent URL:\n-    // jdbc:mysql:///<DATABASE_NAME>?cloudSqlInstance=<INSTANCE_CONNECTION_NAME>&socketFactory=com.google.cloud.sql.mysql.SocketFactory&user=<MYSQL_USER_NAME>&password=<MYSQL_USER_PASSWORD>\n     config.setJdbcUrl(String.format(\"jdbc:mysql:///%s\", DB_NAME));\n     config.setUsername(DB_USER); // e.g. \"root\", \"postgres\"\n     config.setPassword(DB_PASS); // e.g. \"my-password\"\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ4ODc3MQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3562#discussion_r472488771", "bodyText": "ditto", "author": "lesv", "createdAt": "2020-08-18T20:57:40Z", "path": "cloud-sql/postgres/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java", "diffHunk": "@@ -51,6 +51,8 @@ private DataSource createConnectionPool() {\n     HikariConfig config = new HikariConfig();\n \n     // Configure which instance and what database user to connect with.\n+    // Equivalent URL:\n+    // jdbc:postgresql:///<DATABASE_NAME>?cloudSqlInstance=<INSTANCE_CONNECTION_NAME>&socketFactory=com.google.cloud.sql.postgres.SocketFactory&user=<POSTGRESQL_USER_NAME>&password=<POSTGRESQL_USER_PASSWORD>", "originalCommit": "1db12e9561378f0c4fc44e1f3a0f36652a4dc206", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "a807543bf45c757ad714b7b6c71b337c9591f3b6", "chunk": "diff --git a/cloud-sql/postgres/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java b/cloud-sql/postgres/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java\nindex 7e114755f..2ab79b72c 100644\n--- a/cloud-sql/postgres/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java\n+++ b/cloud-sql/postgres/servlet/src/main/java/com/example/cloudsql/ConnectionPoolContextListener.java\n\n@@ -51,8 +51,6 @@ public class ConnectionPoolContextListener implements ServletContextListener {\n     HikariConfig config = new HikariConfig();\n \n     // Configure which instance and what database user to connect with.\n-    // Equivalent URL:\n-    // jdbc:postgresql:///<DATABASE_NAME>?cloudSqlInstance=<INSTANCE_CONNECTION_NAME>&socketFactory=com.google.cloud.sql.postgres.SocketFactory&user=<POSTGRESQL_USER_NAME>&password=<POSTGRESQL_USER_PASSWORD>\n     config.setJdbcUrl(String.format(\"jdbc:postgresql:///%s\", DB_NAME));\n     config.setUsername(DB_USER); // e.g. \"root\", \"postgres\"\n     config.setPassword(DB_PASS); // e.g. \"my-password\"\n"}}, {"oid": "a807543bf45c757ad714b7b6c71b337c9591f3b6", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/a807543bf45c757ad714b7b6c71b337c9591f3b6", "message": "updated variable names and moved URL", "committedDate": "2020-08-18T21:13:42Z", "type": "commit"}, {"oid": "7ea570fbd429dfed88669a967269725b4b87282a", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/7ea570fbd429dfed88669a967269725b4b87282a", "message": "moved full JDBC url to before config options", "committedDate": "2020-08-18T22:49:11Z", "type": "commit"}]}