{"pr_number": 3125, "pr_title": "Handle undefined variables", "pr_createdAt": "2020-06-10T20:13:10Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3125", "timeline": [{"oid": "b896c6ce8a31a6cc620522713716099208f7bf7a", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/b896c6ce8a31a6cc620522713716099208f7bf7a", "message": "Handle undefined environment variables.\n\nAvoid getting an exception in certain samples when environment variables\nare not defined. Exceptions end up being translated into HTTP 500 status\ncodes, which in turn causes deployment of these functions to fail the\npost-deployment health check.", "committedDate": "2020-04-28T19:57:31Z", "type": "commit"}, {"oid": "86a615a566affe1e65a394cb18e34276d502da08", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/86a615a566affe1e65a394cb18e34276d502da08", "message": "Fix logger/LOGGER confusion.", "committedDate": "2020-04-28T20:56:57Z", "type": "commit"}, {"oid": "1c8e025ae07cfc00ce3f0b1e64e6f551844bb49f", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/1c8e025ae07cfc00ce3f0b1e64e6f551844bb49f", "message": "Change wording of env var undefined message.", "committedDate": "2020-04-28T21:07:14Z", "type": "commit"}, {"oid": "0572aac7a951ab8d9a7262df7a9286dcee1e555b", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/0572aac7a951ab8d9a7262df7a9286dcee1e555b", "message": "Merge.", "committedDate": "2020-04-29T00:50:30Z", "type": "commit"}, {"oid": "acc353bb160c98a681467e6d4b4fa9e26dda6a34", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/acc353bb160c98a681467e6d4b4fa9e26dda6a34", "message": "Missed a conflict marker.", "committedDate": "2020-04-29T00:52:31Z", "type": "commit"}, {"oid": "e03e1e39ef7ab6050e6d510b3c84fce7826a8933", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/e03e1e39ef7ab6050e6d510b3c84fce7826a8933", "message": "Handle undefined environment variables.\n\nAvoid getting an exception in certain samples when environment variables\nare not defined. Exceptions end up being translated into HTTP 500 status\ncodes, which in turn causes deployment of these functions to fail the\npost-deployment health check.", "committedDate": "2020-06-10T19:48:47Z", "type": "commit"}, {"oid": "f8201f21d0eb0ec7a86b042694a6dc335187d9a9", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/f8201f21d0eb0ec7a86b042694a6dc335187d9a9", "message": "Fix logger/LOGGER confusion.", "committedDate": "2020-06-10T19:55:15Z", "type": "commit"}, {"oid": "b25e30e4390b3ce56a81620ace300c835f823ee3", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/b25e30e4390b3ce56a81620ace300c835f823ee3", "message": "Change wording of env var undefined message.", "committedDate": "2020-06-10T19:55:27Z", "type": "commit"}, {"oid": "b0aa684060e658ed0a3fb8edd6a4ca96d2af95de", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/b0aa684060e658ed0a3fb8edd6a4ca96d2af95de", "message": "Merge branch 'function-sample-getenv' of github.com:GoogleCloudPlatform/java-docs-samples into function-sample-getenv", "committedDate": "2020-06-10T19:59:16Z", "type": "commit"}, {"oid": "3fd501645f22d2e478a3fe1d387b6403f41d3393", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/3fd501645f22d2e478a3fe1d387b6403f41d3393", "message": "Handle undefined environment variables.\n\nAvoid getting an exception in certain samples when environment variables\nare not defined. Exceptions end up being translated into HTTP 500 status\ncodes, which in turn causes deployment of these functions to fail the\npost-deployment health check.", "committedDate": "2020-06-10T20:02:26Z", "type": "commit"}, {"oid": "5c9c2ac438906aa3b097f257c8623831ac0f9e8b", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/5c9c2ac438906aa3b097f257c8623831ac0f9e8b", "message": "Fix logger/LOGGER confusion.", "committedDate": "2020-06-10T20:02:27Z", "type": "commit"}, {"oid": "d21cfec732c20c3f3b01c1de2393bf033f74edbe", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/d21cfec732c20c3f3b01c1de2393bf033f74edbe", "message": "Change wording of env var undefined message.", "committedDate": "2020-06-10T20:02:27Z", "type": "commit"}, {"oid": "3c2d0f29b4c0075529c2e044e30dc8b00545710d", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/3c2d0f29b4c0075529c2e044e30dc8b00545710d", "message": "Handle undefined environment variables.\n\nAvoid getting an exception in certain samples when environment variables\nare not defined. Exceptions end up being translated into HTTP 500 status\ncodes, which in turn causes deployment of these functions to fail the\npost-deployment health check.", "committedDate": "2020-06-10T20:03:57Z", "type": "commit"}, {"oid": "b9102a79f3c94c53b5df829c9be6ef3829382714", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/b9102a79f3c94c53b5df829c9be6ef3829382714", "message": "Change wording of env var undefined message.", "committedDate": "2020-06-10T20:03:59Z", "type": "commit"}, {"oid": "bad0adb8d77188a2724dd3fa6dbd7acec22d5580", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/bad0adb8d77188a2724dd3fa6dbd7acec22d5580", "message": "Merge branch 'function-sample-getenv' of github.com:GoogleCloudPlatform/java-docs-samples into function-sample-getenv", "committedDate": "2020-06-10T20:05:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MzA5NQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3125#discussion_r438383095", "bodyText": "Please use SlackSlashCommand.class.getName() for logger names.", "author": "dzlier-gcp", "createdAt": "2020-06-10T20:16:06Z", "path": "functions/slack/src/main/java/functions/SlackSlashCommand.java", "diffHunk": "@@ -32,13 +32,15 @@\n import java.security.GeneralSecurityException;\n import java.util.HashMap;\n import java.util.List;\n+import java.util.logging.Logger;\n import java.util.stream.Collectors;\n \n public class SlackSlashCommand implements HttpFunction {\n \n   // [START functions_slack_setup]\n-  private static final String API_KEY = System.getenv(\"KG_API_KEY\");\n-  private static final String SLACK_SECRET = System.getenv(\"SLACK_SECRET\");\n+  private static final Logger logger = Logger.getLogger(\"functions.SlackSlashCommand\");", "originalCommit": "bad0adb8d77188a2724dd3fa6dbd7acec22d5580", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4OTUzNA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3125#discussion_r438389534", "bodyText": "Done. Not sure what happened there.", "author": "eamonnmcmanus", "createdAt": "2020-06-10T20:28:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MzA5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "da52ee9792cf4db3eb60298ed65d46ee452d97a3", "chunk": "diff --git a/functions/slack/src/main/java/functions/SlackSlashCommand.java b/functions/slack/src/main/java/functions/SlackSlashCommand.java\nindex f2a4478d5..a47381fde 100644\n--- a/functions/slack/src/main/java/functions/SlackSlashCommand.java\n+++ b/functions/slack/src/main/java/functions/SlackSlashCommand.java\n\n@@ -38,7 +38,7 @@ import java.util.stream.Collectors;\n public class SlackSlashCommand implements HttpFunction {\n \n   // [START functions_slack_setup]\n-  private static final Logger logger = Logger.getLogger(\"functions.SlackSlashCommand\");\n+  private static final Logger logger = Logger.getLogger(SlackSlashCommand.class.getName());\n   private static final String API_KEY = getenv(\"KG_API_KEY\");\n   private static final String SLACK_SECRET = getenv(\"SLACK_SECRET\");\n   private static final Gson gson = new Gson();\n"}}, {"oid": "da52ee9792cf4db3eb60298ed65d46ee452d97a3", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/da52ee9792cf4db3eb60298ed65d46ee452d97a3", "message": "Fix logger name.", "committedDate": "2020-06-10T20:28:15Z", "type": "commit"}]}