{"pr_number": 1309, "pr_title": "Remove unwanted deprecation and improve styling", "pr_createdAt": "2020-02-03T09:59:50Z", "pr_url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1309", "timeline": [{"oid": "794f4d5d993310c4d0452d4c13b39ebcde54e46a", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/794f4d5d993310c4d0452d4c13b39ebcde54e46a", "message": "Remove unwanted deprecations and improve styling", "committedDate": "2020-02-03T09:50:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA1OTk4OA==", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1309#discussion_r374059988", "bodyText": "Shall we make this a multi-line comment?", "author": "dewniMW", "createdAt": "2020-02-03T11:49:15Z", "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth/listener/IdentityOathEventListener.java", "diffHunk": "@@ -372,6 +372,8 @@ private void removeTokensFromCache(String userName, UserStoreManager userStoreMa\n         authenticatedUser.setTenantDomain(tenantDomain);\n         authenticatedUser.setUserName(userName);\n         try {\n+            // Only the tokens and auth codes issued for openid scope should be removed from the cache, since no\n+            // claims are usually cached against tokens or auth codes, otherwise.", "originalCommit": "1a3746410288847036a8ca92008d7f4f4944c8d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA3ODE0Mw==", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1309#discussion_r374078143", "bodyText": "done", "author": "vihanga-liyanage", "createdAt": "2020-02-03T12:36:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA1OTk4OA=="}], "type": "inlineReview", "revised_code": {"commit": "b16fc7e376b09541e9dd825f9f15a6e84647f67c", "chunk": "diff --git a/components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth/listener/IdentityOathEventListener.java b/components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth/listener/IdentityOathEventListener.java\nindex 6cce72cbf..14634648b 100644\n--- a/components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth/listener/IdentityOathEventListener.java\n+++ b/components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth/listener/IdentityOathEventListener.java\n\n@@ -372,8 +372,10 @@ public class IdentityOathEventListener extends AbstractIdentityUserOperationEven\n         authenticatedUser.setTenantDomain(tenantDomain);\n         authenticatedUser.setUserName(userName);\n         try {\n-            // Only the tokens and auth codes issued for openid scope should be removed from the cache, since no\n-            // claims are usually cached against tokens or auth codes, otherwise.\n+            /*\n+             Only the tokens and auth codes issued for openid scope should be removed from the cache, since no\n+             claims are usually cached against tokens or auth codes, otherwise.\n+             */\n             accessTokenDOSet = OAuthTokenPersistenceFactory.getInstance().getAccessTokenDAO()\n                     .getAccessTokensByUserForOpenidScope(authenticatedUser);\n             authorizationCodeDOSet = OAuthTokenPersistenceFactory.getInstance()\n"}}, {"oid": "b16fc7e376b09541e9dd825f9f15a6e84647f67c", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/b16fc7e376b09541e9dd825f9f15a6e84647f67c", "message": "Fix styling", "committedDate": "2020-02-03T12:32:21Z", "type": "commit"}, {"oid": "b16fc7e376b09541e9dd825f9f15a6e84647f67c", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/b16fc7e376b09541e9dd825f9f15a6e84647f67c", "message": "Fix styling", "committedDate": "2020-02-03T12:32:21Z", "type": "forcePushed"}]}