{"pr_number": 6778, "pr_title": "KEYCLOAK-12968 fix ClientTest.getAllClientsSearchAndPagination for po\u2026", "pr_createdAt": "2020-02-12T14:05:17Z", "pr_url": "https://github.com/keycloak/keycloak/pull/6778", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDk2OTUwMA==", "url": "https://github.com/keycloak/keycloak/pull/6778#discussion_r384969500", "bodyText": "Should not check in any order as the clients should be sorted", "author": "stianst", "createdAt": "2020-02-27T08:15:22Z", "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/admin/ClientTest.java", "diffHunk": "@@ -248,7 +248,8 @@ private void assertPaginatedClients(int start, int end, List<ClientRepresentatio\n             expected.add(\"ccx-\" + (i < 10 ? \"0\" + i : i));\n         }\n         List<String> a = actual.stream().map(rep -> rep.getClientId()).collect(Collectors.toList());\n-        assertThat(a, is(expected));\n+        assertThat(a, Matchers.hasSize(expected.size()));\n+        assertThat(a, Matchers.containsInAnyOrder(expected.toArray()));", "originalCommit": "1bfb172ce518f3852e7605d6c6dbe748b68bde75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDk3MDgxNA==", "url": "https://github.com/keycloak/keycloak/pull/6778#discussion_r384970814", "bodyText": "Thanks, there is no index on client_id column in database, so it has to added. And also it would be good to check all other entities which can be paginated.", "author": "vramik", "createdAt": "2020-02-27T08:18:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDk2OTUwMA=="}], "type": "inlineReview", "revised_code": {"commit": "e5c5f1dab39e557905533435b0deef582897e51b", "chunk": "diff --git a/testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/admin/ClientTest.java b/testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/admin/ClientTest.java\nindex 39208923e1..f06ae18922 100644\n--- a/testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/admin/ClientTest.java\n+++ b/testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/admin/ClientTest.java\n\n@@ -248,9 +248,8 @@ public class ClientTest extends AbstractAdminTest {\n             expected.add(\"ccx-\" + (i < 10 ? \"0\" + i : i));\n         }\n         List<String> a = actual.stream().map(rep -> rep.getClientId()).collect(Collectors.toList());\n-        assertThat(a, Matchers.hasSize(expected.size()));\n-        assertThat(a, Matchers.containsInAnyOrder(expected.toArray()));\n-\n+        assertThat(a, is(expected));\n+        \n     }\n \n     @Test\n"}}, {"oid": "e5c5f1dab39e557905533435b0deef582897e51b", "url": "https://github.com/keycloak/keycloak/commit/e5c5f1dab39e557905533435b0deef582897e51b", "message": "KEYCLOAK-12968 fix ClientTest.getAllClientsSearchAndPagination for postgresql", "committedDate": "2020-02-28T13:33:17Z", "type": "forcePushed"}, {"oid": "b33a5f27a895e2b8e7173d8685d6d64bfe51464f", "url": "https://github.com/keycloak/keycloak/commit/b33a5f27a895e2b8e7173d8685d6d64bfe51464f", "message": "KEYCLOAK-12968 fix ClientTest.getAllClientsSearchAndPagination for postgresql", "committedDate": "2020-02-28T13:34:53Z", "type": "commit"}, {"oid": "b33a5f27a895e2b8e7173d8685d6d64bfe51464f", "url": "https://github.com/keycloak/keycloak/commit/b33a5f27a895e2b8e7173d8685d6d64bfe51464f", "message": "KEYCLOAK-12968 fix ClientTest.getAllClientsSearchAndPagination for postgresql", "committedDate": "2020-02-28T13:34:53Z", "type": "forcePushed"}]}