{"pr_number": 7596, "pr_title": "KEYCLOAK-16244 RealmRealmLocalizationResourceTest fails on auth-serve\u2026", "pr_createdAt": "2020-11-11T11:03:22Z", "pr_url": "https://github.com/keycloak/keycloak/pull/7596", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTMyNDI3Nw==", "url": "https://github.com/keycloak/keycloak/pull/7596#discussion_r521324277", "bodyText": "I think we should either have a constant for MapStringConverter or just move its methods to this entity. The latter is probably better.", "author": "pedroigor", "createdAt": "2020-11-11T12:29:25Z", "path": "model/jpa/src/main/java/org/keycloak/models/jpa/entities/RealmLocalizationTextsEntity.java", "diffHunk": "@@ -76,15 +77,25 @@ public int hashCode() {\n     private String locale;\n \n     @Column(name = \"TEXTS\")\n-    @Convert(converter = MapStringConverter.class)", "originalCommit": "c46abcafa323375be2340e3fcf442c09dcd76369", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTM3MjcxNA==", "url": "https://github.com/keycloak/keycloak/pull/7596#discussion_r521372714", "bodyText": "I've updated my PR to use the constant. Also I've added TODO to revert this change once quarkus fix is applied and we can update to the quarkus version with the fix. I did not changed the \"MapStringConverter\" class itself. Is it fine for you that way?", "author": "mposolda", "createdAt": "2020-11-11T13:53:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTMyNDI3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "6a7674ba9734c48259d63c3040f76980d7f81a12", "chunk": "diff --git a/model/jpa/src/main/java/org/keycloak/models/jpa/entities/RealmLocalizationTextsEntity.java b/model/jpa/src/main/java/org/keycloak/models/jpa/entities/RealmLocalizationTextsEntity.java\nindex 987f18e07e..66b9ea97ec 100644\n--- a/model/jpa/src/main/java/org/keycloak/models/jpa/entities/RealmLocalizationTextsEntity.java\n+++ b/model/jpa/src/main/java/org/keycloak/models/jpa/entities/RealmLocalizationTextsEntity.java\n\n@@ -86,7 +91,7 @@ public class RealmLocalizationTextsEntity {\n         if (texts == null) {\n             return Collections.emptyMap();\n         } else {\n-            return Collections.unmodifiableMap(new MapStringConverter().convertToEntityAttribute(texts));\n+            return Collections.unmodifiableMap(MAP_STRING_CONVERTER.convertToEntityAttribute(texts));\n         }\n     }\n \n"}}, {"oid": "6a7674ba9734c48259d63c3040f76980d7f81a12", "url": "https://github.com/keycloak/keycloak/commit/6a7674ba9734c48259d63c3040f76980d7f81a12", "message": "KEYCLOAK-16244 RealmRealmLocalizationResourceTest fails on auth-server-quarkus", "committedDate": "2020-11-11T13:47:04Z", "type": "commit"}, {"oid": "6a7674ba9734c48259d63c3040f76980d7f81a12", "url": "https://github.com/keycloak/keycloak/commit/6a7674ba9734c48259d63c3040f76980d7f81a12", "message": "KEYCLOAK-16244 RealmRealmLocalizationResourceTest fails on auth-server-quarkus", "committedDate": "2020-11-11T13:47:04Z", "type": "forcePushed"}]}