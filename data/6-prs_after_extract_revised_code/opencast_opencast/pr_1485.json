{"pr_number": 1485, "pr_title": "Custom Roles for LTI users", "pr_createdAt": "2020-03-24T09:41:10Z", "pr_url": "https://github.com/opencast/opencast/pull/1485", "timeline": [{"oid": "da868be088d7e287a88c2f5809468e7c1d36afb8", "url": "https://github.com/opencast/opencast/commit/da868be088d7e287a88c2f5809468e7c1d36afb8", "message": "With this patch it is possible to translate a LTI-Role to several\nOpencast Roles.\nWith this it is possible to show adminui parts like the editor to\nLTI users.", "committedDate": "2020-03-24T09:40:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE0OTU5MQ==", "url": "https://github.com/opencast/opencast/pull/1485#discussion_r397149591", "bodyText": "These two new variables need comments.", "author": "gregorydlogan", "createdAt": "2020-03-24T13:26:48Z", "path": "modules/security-lti/src/main/java/org/opencastproject/security/lti/LtiLaunchAuthenticationHandler.java", "diffHunk": "@@ -113,6 +113,16 @@\n   /** The user reference provider */\n   private UserReferenceProvider userReferenceProvider = null;\n \n+  /** If the Role exists add CUSTOM_ROLES to this user **/\n+  private static final String CUSTOM_ROLE_NAME = \"lti.custom_role_name\";\n+\n+  /** If the Role exists add CUSTOM_ROLES to this user **/\n+  private static final String CUSTOM_ROLES = \"lti.custom_roles\";\n+\n+  private String customRoleName = \"\";", "originalCommit": "da868be088d7e287a88c2f5809468e7c1d36afb8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE4NzQ5OA==", "url": "https://github.com/opencast/opencast/pull/1485#discussion_r397187498", "bodyText": "Right good catch. Hope this is better.", "author": "CGreweling", "createdAt": "2020-03-24T14:18:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE0OTU5MQ=="}], "type": "inlineReview", "revised_code": {"commit": "071f9351f81450a9dcf2ce6788959578e1a56317", "chunk": "diff --git a/modules/security-lti/src/main/java/org/opencastproject/security/lti/LtiLaunchAuthenticationHandler.java b/modules/security-lti/src/main/java/org/opencastproject/security/lti/LtiLaunchAuthenticationHandler.java\nindex 42bebe3afa..cfe0c68f93 100644\n--- a/modules/security-lti/src/main/java/org/opencastproject/security/lti/LtiLaunchAuthenticationHandler.java\n+++ b/modules/security-lti/src/main/java/org/opencastproject/security/lti/LtiLaunchAuthenticationHandler.java\n\n@@ -113,10 +113,10 @@ public class LtiLaunchAuthenticationHandler implements OAuthAuthenticationHandle\n   /** The user reference provider */\n   private UserReferenceProvider userReferenceProvider = null;\n \n-  /** If the Role exists add CUSTOM_ROLES to this user **/\n+  /** The role name of the user to add custom Roles to **/\n   private static final String CUSTOM_ROLE_NAME = \"lti.custom_role_name\";\n \n-  /** If the Role exists add CUSTOM_ROLES to this user **/\n+  /** A List of Roles to add to the user if he has the custom role name **/\n   private static final String CUSTOM_ROLES = \"lti.custom_roles\";\n \n   private String customRoleName = \"\";\n"}}, {"oid": "071f9351f81450a9dcf2ce6788959578e1a56317", "url": "https://github.com/opencast/opencast/commit/071f9351f81450a9dcf2ce6788959578e1a56317", "message": "fix some documentation", "committedDate": "2020-03-24T14:17:26Z", "type": "commit"}]}