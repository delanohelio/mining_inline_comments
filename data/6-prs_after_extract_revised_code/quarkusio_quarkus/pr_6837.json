{"pr_number": 6837, "pr_title": "Use quarkus.http.root-path when creating kubernetes health related build items", "pr_createdAt": "2020-01-28T18:49:27Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/6837", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIzNDE5NA==", "url": "https://github.com/quarkusio/quarkus/pull/6837#discussion_r372234194", "bodyText": "This seems unnecessary?", "author": "Ladicek", "createdAt": "2020-01-29T07:58:52Z", "path": "extensions/smallrye-health/deployment/src/main/java/io/quarkus/smallrye/health/deployment/SmallRyeHealthProcessor.java", "diffHunk": "@@ -88,6 +89,8 @@ void healthCheck(BuildProducer<AdditionalBeanBuildItem> buildItemBuildProducer,\n     void build(SmallRyeHealthRecorder recorder, RecorderContext recorderContext,\n             BuildProducer<FeatureBuildItem> feature,\n             BuildProducer<RouteBuildItem> routes,\n+\n+            HttpBuildTimeConfig httpConfig,", "originalCommit": "e7298aa88930f0d87d54e046436741f1e3e8ced8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMxMDk4Ng==", "url": "https://github.com/quarkusio/quarkus/pull/6837#discussion_r372310986", "bodyText": "Right! Let me get rid of it.", "author": "iocanel", "createdAt": "2020-01-29T10:47:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIzNDE5NA=="}], "type": "inlineReview", "revised_code": {"commit": "689ccf8febb09f4f4a790c1fa61843ed249de025", "chunk": "diff --git a/extensions/smallrye-health/deployment/src/main/java/io/quarkus/smallrye/health/deployment/SmallRyeHealthProcessor.java b/extensions/smallrye-health/deployment/src/main/java/io/quarkus/smallrye/health/deployment/SmallRyeHealthProcessor.java\nindex 44b00192e2..ec350f36cb 100644\n--- a/extensions/smallrye-health/deployment/src/main/java/io/quarkus/smallrye/health/deployment/SmallRyeHealthProcessor.java\n+++ b/extensions/smallrye-health/deployment/src/main/java/io/quarkus/smallrye/health/deployment/SmallRyeHealthProcessor.java\n\n@@ -89,8 +89,6 @@ class SmallRyeHealthProcessor {\n     void build(SmallRyeHealthRecorder recorder, RecorderContext recorderContext,\n             BuildProducer<FeatureBuildItem> feature,\n             BuildProducer<RouteBuildItem> routes,\n-\n-            HttpBuildTimeConfig httpConfig,\n             BuildProducer<AdditionalBeanBuildItem> additionalBean,\n             BuildProducer<BeanDefiningAnnotationBuildItem> beanDefiningAnnotation,\n             BuildProducer<NotFoundPageDisplayableEndpointBuildItem> displayableEndpoints,\n"}}, {"oid": "689ccf8febb09f4f4a790c1fa61843ed249de025", "url": "https://github.com/quarkusio/quarkus/commit/689ccf8febb09f4f4a790c1fa61843ed249de025", "message": "fix (#6833): quarkus.http.root-path is taken into consideration when\ndefining kubernetes health probes.", "committedDate": "2020-01-29T11:58:37Z", "type": "commit"}, {"oid": "09b5cba67933155fa0dbfd8a5682454a83f3615b", "url": "https://github.com/quarkusio/quarkus/commit/09b5cba67933155fa0dbfd8a5682454a83f3615b", "message": "fix: add missing pom.xml to kubernetes-with-smallrye-health\nintegration test.", "committedDate": "2020-01-29T11:58:37Z", "type": "commit"}, {"oid": "09b5cba67933155fa0dbfd8a5682454a83f3615b", "url": "https://github.com/quarkusio/quarkus/commit/09b5cba67933155fa0dbfd8a5682454a83f3615b", "message": "fix: add missing pom.xml to kubernetes-with-smallrye-health\nintegration test.", "committedDate": "2020-01-29T11:58:37Z", "type": "forcePushed"}]}