{"pr_number": 9173, "pr_title": "Allow to add a collation to a query", "pr_createdAt": "2020-05-08T08:48:38Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/9173", "timeline": [{"oid": "5c0a0a2112cc2d33ecc300618f0694846d0f0f1c", "url": "https://github.com/quarkusio/quarkus/commit/5c0a0a2112cc2d33ecc300618f0694846d0f0f1c", "message": "Allow to add a collation to a query\n\nFixes #9081", "committedDate": "2020-05-07T09:11:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkxMjc2Ng==", "url": "https://github.com/quarkusio/quarkus/pull/9173#discussion_r422912766", "bodyText": "Is there a good reason the reactive/non-reactive queries have code that is different here? reactive has 2 buildOptions methods while here it's done in list. Is is normal or a sign that one of the two has a refactoring missing?", "author": "FroMage", "createdAt": "2020-05-11T09:37:05Z", "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/runtime/PanacheQueryImpl.java", "diffHunk": "@@ -167,6 +178,9 @@ public long count() {\n         if (this.projections != null) {\n             find.projection(projections);\n         }\n+        if (this.collation != null) {", "originalCommit": "5c0a0a2112cc2d33ecc300618f0694846d0f0f1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk5MTMzOQ==", "url": "https://github.com/quarkusio/quarkus/pull/9173#discussion_r422991339", "bodyText": "Only the reactive API have the ability to pass an option to a Query.\nThe imperative must mutate the query before iteratinge the cursor.", "author": "loicmathieu", "createdAt": "2020-05-11T12:05:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkxMjc2Ng=="}], "type": "inlineReview", "revised_code": null}]}