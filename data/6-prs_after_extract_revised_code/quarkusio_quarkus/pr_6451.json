{"pr_number": 6451, "pr_title": "Support configuring PhysicalNamingStrategy in Hibernate ORM", "pr_createdAt": "2020-01-07T21:57:40Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/6451", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxODU4MQ==", "url": "https://github.com/quarkusio/quarkus/pull/6451#discussion_r364218581", "bodyText": "\ud83e\udd47", "author": "Sanne", "createdAt": "2020-01-08T13:01:13Z", "path": "extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/recording/RecordableBootstrap.java", "diffHunk": "@@ -72,7 +72,8 @@ public RecordableBootstrap(BootstrapServiceRegistry bootstrapServiceRegistry) {\n     }\n \n     public RecordableBootstrap(BootstrapServiceRegistry bootstrapServiceRegistry, LoadedConfig loadedConfigBaseline) {\n-        this.settings = QuarkusEnvironment.getInitialProperties();\n+        this.settings = new HashMap();\n+        this.settings.putAll(QuarkusEnvironment.getInitialProperties());", "originalCommit": "b18cedaf10e305df6f284d5799e426f186c88a85", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "255953bbf40f7831a5e717dd51bc2863fadfc18d", "chunk": "diff --git a/extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/recording/RecordableBootstrap.java b/extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/recording/RecordableBootstrap.java\nindex fe207ae450..aaeb3a5421 100644\n--- a/extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/recording/RecordableBootstrap.java\n+++ b/extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/recording/RecordableBootstrap.java\n\n@@ -72,8 +72,7 @@ public final class RecordableBootstrap extends StandardServiceRegistryBuilder {\n     }\n \n     public RecordableBootstrap(BootstrapServiceRegistry bootstrapServiceRegistry, LoadedConfig loadedConfigBaseline) {\n-        this.settings = new HashMap();\n-        this.settings.putAll(QuarkusEnvironment.getInitialProperties());\n+        this.settings = QuarkusEnvironment.getInitialProperties();\n         this.bootstrapServiceRegistry = bootstrapServiceRegistry;\n         this.configLoader = new ConfigLoader(bootstrapServiceRegistry);\n         this.aggregatedCfgXml = loadedConfigBaseline;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIyMjIzMQ==", "url": "https://github.com/quarkusio/quarkus/pull/6451#discussion_r364222231", "bodyText": "This tag can be removed.", "author": "machi1990", "createdAt": "2020-01-08T13:10:51Z", "path": "extensions/hibernate-orm/deployment/src/main/java/io/quarkus/hibernate/orm/deployment/HibernateOrmConfig.java", "diffHunk": "@@ -85,6 +85,16 @@\n     @ConfigItem(defaultValue = \"-1\")\n     public int batchFetchSize;\n \n+    /**\n+     * Pluggable strategy contract for applying physical naming rules for database object names.\n+     *\n+     * Class name of the Hibernate PhysicalNamingStrategy implementation\n+     *\n+     * @asciidoclet", "originalCommit": "b18cedaf10e305df6f284d5799e426f186c88a85", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1NDgwMg==", "url": "https://github.com/quarkusio/quarkus/pull/6451#discussion_r364254802", "bodyText": "For the other properties as well?", "author": "gastaldi", "createdAt": "2020-01-08T14:22:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIyMjIzMQ=="}], "type": "inlineReview", "revised_code": {"commit": "f73f4786525cb82da2b0b4acb6d4ce492e3f307a", "chunk": "diff --git a/extensions/hibernate-orm/deployment/src/main/java/io/quarkus/hibernate/orm/deployment/HibernateOrmConfig.java b/extensions/hibernate-orm/deployment/src/main/java/io/quarkus/hibernate/orm/deployment/HibernateOrmConfig.java\nindex ab88ba6581..a156b9b1cf 100644\n--- a/extensions/hibernate-orm/deployment/src/main/java/io/quarkus/hibernate/orm/deployment/HibernateOrmConfig.java\n+++ b/extensions/hibernate-orm/deployment/src/main/java/io/quarkus/hibernate/orm/deployment/HibernateOrmConfig.java\n\n@@ -89,8 +89,6 @@ public class HibernateOrmConfig {\n      * Pluggable strategy contract for applying physical naming rules for database object names.\n      *\n      * Class name of the Hibernate PhysicalNamingStrategy implementation\n-     *\n-     * @asciidoclet\n      */\n     @ConfigItem\n     Optional<String> physicalNamingStrategy;\n"}}, {"oid": "255953bbf40f7831a5e717dd51bc2863fadfc18d", "url": "https://github.com/quarkusio/quarkus/commit/255953bbf40f7831a5e717dd51bc2863fadfc18d", "message": "Support physicalNamingStrategy\n\nFixes #6346", "committedDate": "2020-01-08T17:33:38Z", "type": "commit"}, {"oid": "f73f4786525cb82da2b0b4acb6d4ce492e3f307a", "url": "https://github.com/quarkusio/quarkus/commit/f73f4786525cb82da2b0b4acb6d4ce492e3f307a", "message": "Add tests for PhysicalNamingStrategy feature", "committedDate": "2020-01-08T17:33:41Z", "type": "commit"}, {"oid": "51dae789351af4ec1c7c074a7fda7dc60bc0f08e", "url": "https://github.com/quarkusio/quarkus/commit/51dae789351af4ec1c7c074a7fda7dc60bc0f08e", "message": "Use StandardCharsets.UTF_8 instead of UTF-8 String", "committedDate": "2020-01-08T17:33:42Z", "type": "commit"}, {"oid": "25482a6e4b90c2a9514a635c1b0edbadf07415d1", "url": "https://github.com/quarkusio/quarkus/commit/25482a6e4b90c2a9514a635c1b0edbadf07415d1", "message": "Properties should not be reused between tests", "committedDate": "2020-01-08T17:33:42Z", "type": "commit"}]}