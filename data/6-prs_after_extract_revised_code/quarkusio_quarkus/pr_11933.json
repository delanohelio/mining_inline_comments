{"pr_number": 11933, "pr_title": "Fix incorrect ImagePullPolicy forced setting", "pr_createdAt": "2020-09-07T07:20:18Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11933", "timeline": [{"oid": "99852209b180853a9005e31a7c3cddfd702d6562", "url": "https://github.com/quarkusio/quarkus/commit/99852209b180853a9005e31a7c3cddfd702d6562", "message": "Fix incorrect ImagePullPolicy forced setting\n\nWhen the container image group was being set to empty\n(which is allowed as a result of\nhttps://github.com/quarkusio/quarkus/pull/8139), then the\nregistry was incorrectly being determined as not being set\n\nFixes: #11917", "committedDate": "2020-09-07T07:16:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyOTM3NQ==", "url": "https://github.com/quarkusio/quarkus/pull/11933#discussion_r484229375", "bodyText": "This was incorrectly checking the enum against the string", "author": "geoand", "createdAt": "2020-09-07T07:20:48Z", "path": "extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/ContainerImageUtil.java", "diffHunk": "@@ -21,7 +19,7 @@ static boolean isRegistryMissingAndNotS2I(Capabilities capabilities, ContainerIm\n             return false;\n         }\n \n-        return !hasRegistry(containerImageInfo.getImage())\n-                && !Capability.CONTAINER_IMAGE_S2I.equals(activeContainerImageCapability.get());\n+        return !containerImageInfo.getRegistry().isPresent()\n+                && !Capability.CONTAINER_IMAGE_S2I.getName().equals(activeContainerImageCapability.get());", "originalCommit": "99852209b180853a9005e31a7c3cddfd702d6562", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}