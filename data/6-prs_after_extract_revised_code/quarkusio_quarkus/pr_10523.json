{"pr_number": 10523, "pr_title": "Don't generate docs when \"quickly\" sys prop is set to true", "pr_createdAt": "2020-07-07T09:21:14Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10523", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3NjU3OA==", "url": "https://github.com/quarkusio/quarkus/pull/10523#discussion_r450776578", "bodyText": "should be \"true\" ?", "author": "Sanne", "createdAt": "2020-07-07T10:51:09Z", "path": "core/processor/src/main/java/io/quarkus/annotation/processor/Constants.java", "diffHunk": "@@ -67,7 +67,8 @@\n             SYSTEM_PROPERTIES.getProperty(\"maven.multiModuleProjectDirectory\", \".\"));\n     public static final Path GENERATED_DOCS_PATH = Paths.get(DOCS_OUT_DIR + DOCS_SRC_MAIN_ASCIIDOC_GENERATED).toAbsolutePath();\n     public static final File GENERATED_DOCS_DIR = GENERATED_DOCS_PATH.toFile();\n-    public static final Boolean SKIP_DOCS_GENERATION = Boolean.valueOf(SYSTEM_PROPERTIES.getProperty(\"skipDocs\", \"false\"));\n+    public static final Boolean SKIP_DOCS_GENERATION = Boolean.parseBoolean(SYSTEM_PROPERTIES.getProperty(\"skipDocs\", \"false\"))\n+            || Boolean.parseBoolean(SYSTEM_PROPERTIES.getProperty(\"quickly\", \"false\"));", "originalCommit": "ed715be9f4c6bb1010fb2005f2cd7223ea92c1a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3NzYyOQ==", "url": "https://github.com/quarkusio/quarkus/pull/10523#discussion_r450777629", "bodyText": "ah, sorry that's the default.", "author": "Sanne", "createdAt": "2020-07-07T10:53:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3NjU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3Nzg5Mw==", "url": "https://github.com/quarkusio/quarkus/pull/10523#discussion_r450777893", "bodyText": "Currently skipping the documentation generation is opt-in, so we don't want to skip by default", "author": "geoand", "createdAt": "2020-07-07T10:53:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3NjU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3ODMwNg==", "url": "https://github.com/quarkusio/quarkus/pull/10523#discussion_r450778306", "bodyText": "yes, sure I got confused by the API :)", "author": "Sanne", "createdAt": "2020-07-07T10:54:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3NjU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc4MDc0Ng==", "url": "https://github.com/quarkusio/quarkus/pull/10523#discussion_r450780746", "bodyText": ":)", "author": "geoand", "createdAt": "2020-07-07T10:59:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3NjU3OA=="}], "type": "inlineReview", "revised_code": {"commit": "ed35ec3e10e7a4ebf4b176ca5d6e1e021cadd46d", "chunk": "diff --git a/core/processor/src/main/java/io/quarkus/annotation/processor/Constants.java b/core/processor/src/main/java/io/quarkus/annotation/processor/Constants.java\nindex a115d15aa3..198a9c20b1 100644\n--- a/core/processor/src/main/java/io/quarkus/annotation/processor/Constants.java\n+++ b/core/processor/src/main/java/io/quarkus/annotation/processor/Constants.java\n\n@@ -58,36 +58,14 @@ final public class Constants {\n     public static final String ANNOTATION_CONFIG_DOC_MAP_KEY = \"io.quarkus.runtime.annotations.ConfigDocMapKey\";\n     public static final String ANNOTATION_CONFIG_DOC_SECTION = \"io.quarkus.runtime.annotations.ConfigDocSection\";\n \n-    public static final Set<String> SUPPORTED_ANNOTATIONS_TYPES = new HashSet<>();\n-    public static final Map<String, String> ALIASED_TYPES = new HashMap<>();\n+    public static final Set<String> SUPPORTED_ANNOTATIONS_TYPES;\n+    public static final Map<String, String> ALIASED_TYPES;\n     private static final Properties SYSTEM_PROPERTIES = System.getProperties();\n \n     private static final String DOCS_SRC_MAIN_ASCIIDOC_GENERATED = \"/target/asciidoc/generated/config/\";\n     private static final String DOCS_OUT_DIR = System.getProperty(\"quarkus.docsOutputDir\",\n             SYSTEM_PROPERTIES.getProperty(\"maven.multiModuleProjectDirectory\", \".\"));\n     public static final Path GENERATED_DOCS_PATH = Paths.get(DOCS_OUT_DIR + DOCS_SRC_MAIN_ASCIIDOC_GENERATED).toAbsolutePath();\n-    public static final File GENERATED_DOCS_DIR = GENERATED_DOCS_PATH.toFile();\n-    public static final Boolean SKIP_DOCS_GENERATION = Boolean.parseBoolean(SYSTEM_PROPERTIES.getProperty(\"skipDocs\", \"false\"))\n-            || Boolean.parseBoolean(SYSTEM_PROPERTIES.getProperty(\"quickly\", \"false\"));\n-\n-    /**\n-     * Holds the list of configuration items of each configuration roots.\n-     */\n-    public static final File ALL_CR_GENERATED_DOC = GENERATED_DOCS_PATH\n-            .resolve(\"all-configuration-roots-generated-doc.properties\").toFile();\n-\n-    /**\n-     * Holds the list of configuration items of each configuration groups.\n-     * The items in this list may not have complete information as some depend on the configuration root.\n-     */\n-    public static final File ALL_CG_GENERATED_DOC = GENERATED_DOCS_PATH\n-            .resolve(\"all-configuration-groups-generated-doc.properties\").toFile();\n-\n-    /**\n-     * Holds the list of computed file names and the list of configuration roots of this extension\n-     */\n-    public static final File EXTENSION_CONFIGURATION_ROOT_LIST = GENERATED_DOCS_PATH\n-            .resolve(\"extensions-configuration-roots-list.properties\").toFile();\n \n     public static final String DURATION_NOTE_ANCHOR = \"duration-note-anchor\";\n     public static final String MEMORY_SIZE_NOTE_ANCHOR = \"memory-size-note-anchor\";\n"}}, {"oid": "ed35ec3e10e7a4ebf4b176ca5d6e1e021cadd46d", "url": "https://github.com/quarkusio/quarkus/commit/ed35ec3e10e7a4ebf4b176ca5d6e1e021cadd46d", "message": "Don't generate docs when \"quickly\" sys prop is set to true", "committedDate": "2020-07-22T08:07:52Z", "type": "forcePushed"}, {"oid": "ce37fb412ec93dda8c56ae66a6af7e2aeacb3c71", "url": "https://github.com/quarkusio/quarkus/commit/ce37fb412ec93dda8c56ae66a6af7e2aeacb3c71", "message": "Don't generate docs when \"quickly\" sys prop is set to true", "committedDate": "2020-07-28T18:49:56Z", "type": "commit"}, {"oid": "ce37fb412ec93dda8c56ae66a6af7e2aeacb3c71", "url": "https://github.com/quarkusio/quarkus/commit/ce37fb412ec93dda8c56ae66a6af7e2aeacb3c71", "message": "Don't generate docs when \"quickly\" sys prop is set to true", "committedDate": "2020-07-28T18:49:56Z", "type": "forcePushed"}]}