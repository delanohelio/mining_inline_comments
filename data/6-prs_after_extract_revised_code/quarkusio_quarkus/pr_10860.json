{"pr_number": 10860, "pr_title": "Support multi-release JARs", "pr_createdAt": "2020-07-20T16:29:25Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10860", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc4MzA1NQ==", "url": "https://github.com/quarkusio/quarkus/pull/10860#discussion_r457783055", "bodyText": "This change makes the io.quarkus.webjar.locator.test.WebJarLocatorDevModeTest test fail in JDK 8. I'm investigating why that happens", "author": "gastaldi", "createdAt": "2020-07-21T01:31:27Z", "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/JarClassPathElement.java", "diffHunk": "@@ -72,9 +73,10 @@ public String getPath() {\n                         @Override\n                         public URL getUrl() {\n                             try {\n-                                return new URL(\"jar\", null, jarPath.getProtocol() + \":\" + jarPath.getPath() + \"!/\" + name);\n+                                return new URL(\"jar\", null,\n+                                        jarPath.getProtocol() + \":\" + jarPath.getPath() + \"!/\" + JarEntries.getRealName(res));", "originalCommit": "9fa5652bf583ade19c9b1111e23e13db0db4e9b3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "9ef98b7b295906b2b80c8b9a1f4dde2e67c77de4", "chunk": "diff --git a/independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/JarClassPathElement.java b/independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/JarClassPathElement.java\nindex 5d4a7f4cfa..d1341055de 100644\n--- a/independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/JarClassPathElement.java\n+++ b/independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/JarClassPathElement.java\n\n@@ -73,10 +72,9 @@ public class JarClassPathElement implements ClassPathElement {\n                         @Override\n                         public URL getUrl() {\n                             try {\n-                                return new URL(\"jar\", null,\n-                                        jarPath.getProtocol() + \":\" + jarPath.getPath() + \"!/\" + JarEntries.getRealName(res));\n+                                return new URL(\"jar\", null, jarPath.getProtocol() + \":\" + jarPath.getPath() + \"!/\" + name);\n                             } catch (MalformedURLException e) {\n-                                throw new UncheckedIOException(e);\n+                                throw new RuntimeException(e);\n                             }\n                         }\n \n"}}, {"oid": "9ef98b7b295906b2b80c8b9a1f4dde2e67c77de4", "url": "https://github.com/quarkusio/quarkus/commit/9ef98b7b295906b2b80c8b9a1f4dde2e67c77de4", "message": "Add smallrye-common-io to dependabot", "committedDate": "2020-07-21T04:25:26Z", "type": "commit"}, {"oid": "4648bc0c680ec10ecfa70baefa45675db68025ba", "url": "https://github.com/quarkusio/quarkus/commit/4648bc0c680ec10ecfa70baefa45675db68025ba", "message": "Support multi-release JARs\n\nFixes #10756", "committedDate": "2020-07-21T05:04:35Z", "type": "commit"}]}