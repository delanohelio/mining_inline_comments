{"pr_number": 11928, "pr_title": "Allow transformed classes to be dumped", "pr_createdAt": "2020-09-07T03:30:49Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11928", "timeline": [{"oid": "7e05c1acc4752ede4c7ec18ec6d4ec325106d300", "url": "https://github.com/quarkusio/quarkus/commit/7e05c1acc4752ede4c7ec18ec6d4ec325106d300", "message": "Allow transformed classes to be dumped\n\nFixes #11857", "committedDate": "2020-09-07T03:30:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIzMDM4OQ==", "url": "https://github.com/quarkusio/quarkus/pull/11928#discussion_r484230389", "bodyText": "I always forget - does this scheme of using / character as a file path seperator in the File constructor work fine on Windows, for file operations on that File instance?", "author": "jaikiran", "createdAt": "2020-09-07T07:22:49Z", "path": "core/deployment/src/main/java/io/quarkus/deployment/steps/ClassTransformingBuildStep.java", "diffHunk": "@@ -104,7 +107,22 @@ TransformedClassesBuildItem handleClassTransformation(List<BytecodeTransformerBu\n                                     visitor = i.apply(className, visitor);\n                                 }\n                                 cr.accept(visitor, 0);\n-                                return new TransformedClassesBuildItem.TransformedClass(className, writer.toByteArray(),\n+                                byte[] data = writer.toByteArray();\n+                                if (BootstrapDebug.DEBUG_TRANSFORMED_CLASSES_DIR != null) {\n+                                    File debugPath = new File(BootstrapDebug.DEBUG_TRANSFORMED_CLASSES_DIR);\n+                                    if (!debugPath.exists()) {\n+                                        debugPath.mkdir();\n+                                    }\n+                                    File classFile = new File(debugPath, className.replace(\".\", \"/\") + \".class\");", "originalCommit": "7e05c1acc4752ede4c7ec18ec6d4ec325106d300", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIzNzY3MA==", "url": "https://github.com/quarkusio/quarkus/pull/11928#discussion_r484237670", "bodyText": "yes", "author": "stuartwdouglas", "createdAt": "2020-09-07T07:37:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIzMDM4OQ=="}], "type": "inlineReview", "revised_code": null}]}