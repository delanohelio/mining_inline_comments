{"pr_number": 6505, "pr_title": "Properly show configuration errors in the output", "pr_createdAt": "2020-01-11T08:32:11Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/6505", "timeline": [{"oid": "b472e8d1a0031f60f7043a3c12f453b48cd8a721", "url": "https://github.com/quarkusio/quarkus/commit/b472e8d1a0031f60f7043a3c12f453b48cd8a721", "message": "Properly show configuration errors in the output\n\nFixes: #6466", "committedDate": "2020-01-11T08:24:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUxMTM4NQ==", "url": "https://github.com/quarkusio/quarkus/pull/6505#discussion_r365511385", "bodyText": "This should be final.", "author": "dmlloyd", "createdAt": "2020-01-11T09:44:07Z", "path": "core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java", "diffHunk": "@@ -14,28 +16,31 @@\n     private static final Logger log = Logger.getLogger(\"io.quarkus.config\");\n \n     @RecomputeFieldValue(kind = RecomputeFieldValue.Kind.Reset)\n-    private static volatile boolean error = false;\n+    private static List<String> errorsMessages = new CopyOnWriteArrayList<>();", "originalCommit": "b472e8d1a0031f60f7043a3c12f453b48cd8a721", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "133656bcf65a2474d09dd8a0d2bd6895f1347018", "chunk": "diff --git a/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java b/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\nindex 665b10d907..1054e6218e 100644\n--- a/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\n+++ b/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\n\n@@ -16,7 +16,7 @@ public final class ConfigDiagnostic {\n     private static final Logger log = Logger.getLogger(\"io.quarkus.config\");\n \n     @RecomputeFieldValue(kind = RecomputeFieldValue.Kind.Reset)\n-    private static List<String> errorsMessages = new CopyOnWriteArrayList<>();\n+    private static final List<String> errorsMessages = new CopyOnWriteArrayList<>();\n \n     private ConfigDiagnostic() {\n     }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUxMTQxMQ==", "url": "https://github.com/quarkusio/quarkus/pull/6505#discussion_r365511411", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static List<String> errorsMessages = new CopyOnWriteArrayList<>();\n          \n          \n            \n                private static final List<String> errorsMessages = new CopyOnWriteArrayList<>();", "author": "dmlloyd", "createdAt": "2020-01-11T09:44:53Z", "path": "core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java", "diffHunk": "@@ -14,28 +16,31 @@\n     private static final Logger log = Logger.getLogger(\"io.quarkus.config\");\n \n     @RecomputeFieldValue(kind = RecomputeFieldValue.Kind.Reset)\n-    private static volatile boolean error = false;\n+    private static List<String> errorsMessages = new CopyOnWriteArrayList<>();", "originalCommit": "b472e8d1a0031f60f7043a3c12f453b48cd8a721", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUxMTQxOQ==", "url": "https://github.com/quarkusio/quarkus/pull/6505#discussion_r365511419", "bodyText": "Trying out \"suggested change\" :)", "author": "dmlloyd", "createdAt": "2020-01-11T09:45:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUxMTQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUxMTQ4MA==", "url": "https://github.com/quarkusio/quarkus/pull/6505#discussion_r365511480", "bodyText": "It worked :)", "author": "geoand", "createdAt": "2020-01-11T09:46:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUxMTQxMQ=="}], "type": "inlineReview", "revised_code": {"commit": "133656bcf65a2474d09dd8a0d2bd6895f1347018", "chunk": "diff --git a/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java b/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\nindex 665b10d907..1054e6218e 100644\n--- a/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\n+++ b/core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\n\n@@ -16,7 +16,7 @@ public final class ConfigDiagnostic {\n     private static final Logger log = Logger.getLogger(\"io.quarkus.config\");\n \n     @RecomputeFieldValue(kind = RecomputeFieldValue.Kind.Reset)\n-    private static List<String> errorsMessages = new CopyOnWriteArrayList<>();\n+    private static final List<String> errorsMessages = new CopyOnWriteArrayList<>();\n \n     private ConfigDiagnostic() {\n     }\n"}}, {"oid": "133656bcf65a2474d09dd8a0d2bd6895f1347018", "url": "https://github.com/quarkusio/quarkus/commit/133656bcf65a2474d09dd8a0d2bd6895f1347018", "message": "Update core/runtime/src/main/java/io/quarkus/runtime/configuration/ConfigDiagnostic.java\n\nCo-Authored-By: David M. Lloyd <david.lloyd@redhat.com>", "committedDate": "2020-01-11T09:46:01Z", "type": "commit"}]}