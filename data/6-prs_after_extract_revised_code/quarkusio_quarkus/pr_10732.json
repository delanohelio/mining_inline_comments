{"pr_number": 10732, "pr_title": "Added Flyway properties for placeholders prefix and suffix", "pr_createdAt": "2020-07-14T19:50:10Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10732", "timeline": [{"oid": "4d88fb0f442f3fb9f85f84ccd322590481e61108", "url": "https://github.com/quarkusio/quarkus/commit/4d88fb0f442f3fb9f85f84ccd322590481e61108", "message": "Added Flyway properties for placeholders prefix and suffix", "committedDate": "2020-07-14T19:44:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDczMjc5Mw==", "url": "https://github.com/quarkusio/quarkus/pull/10732#discussion_r454732793", "bodyText": "No need to initialize them", "author": "gastaldi", "createdAt": "2020-07-15T01:14:52Z", "path": "extensions/flyway/runtime/src/main/java/io/quarkus/flyway/runtime/FlywayDataSourceRuntimeConfig.java", "diffHunk": "@@ -120,4 +120,16 @@ public static final FlywayDataSourceRuntimeConfig defaultConfig() {\n     @ConfigItem(defaultValue = \"true\")\n     public boolean createSchemas;\n \n+    /**\n+     * Prefix of every placeholder (default: ${ )\n+     */\n+    @ConfigItem\n+    public Optional<String> placeholderPrefix = Optional.empty();", "originalCommit": "4d88fb0f442f3fb9f85f84ccd322590481e61108", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDczMzIwOA==", "url": "https://github.com/quarkusio/quarkus/pull/10732#discussion_r454733208", "bodyText": "But other options are also initializing, so I guess that's fine for this PR", "author": "gastaldi", "createdAt": "2020-07-15T01:16:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDczMjc5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk0MjY5MQ==", "url": "https://github.com/quarkusio/quarkus/pull/10732#discussion_r454942691", "bodyText": "Yes, I used the same style of other properties", "author": "Teg79", "createdAt": "2020-07-15T10:11:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDczMjc5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk0OTIzMw==", "url": "https://github.com/quarkusio/quarkus/pull/10732#discussion_r454949233", "bodyText": "In fact, we might need to initialize them. At least we had to do it for other multi-datasources things, not sure about this particular extension.\nThe reason is that if you don't have anything set for a given named datasource, the runtime config is not defined at all and we need to be able to instantiate an empty runtime config easily thus everything initialized to the default value.", "author": "gsmet", "createdAt": "2020-07-15T10:23:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDczMjc5Mw=="}], "type": "inlineReview", "revised_code": null}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk0OTc3Mw==", "url": "https://github.com/quarkusio/quarkus/pull/10732#discussion_r454949773", "bodyText": "I wonder if we should just define the defaultValue so that it's automatically documented (and we would have to initialize the prefix and suffix to these values).", "author": "gsmet", "createdAt": "2020-07-15T10:24:59Z", "path": "extensions/flyway/runtime/src/main/java/io/quarkus/flyway/runtime/FlywayDataSourceRuntimeConfig.java", "diffHunk": "@@ -120,4 +120,16 @@ public static final FlywayDataSourceRuntimeConfig defaultConfig() {\n     @ConfigItem(defaultValue = \"true\")\n     public boolean createSchemas;\n \n+    /**\n+     * Prefix of every placeholder (default: ${ )", "originalCommit": "4d88fb0f442f3fb9f85f84ccd322590481e61108", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTA4NDMxMQ==", "url": "https://github.com/quarkusio/quarkus/pull/10732#discussion_r455084311", "bodyText": "As long as we keep the same defaults as Flyway I think it can be useful, otherwise a developer needs to check the extension properties and match them with Flyway properties to discover the default.\nThis applies to all the Flyway extension configurations", "author": "Teg79", "createdAt": "2020-07-15T14:14:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk0OTc3Mw=="}], "type": "inlineReview", "revised_code": null}]}