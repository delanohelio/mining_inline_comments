{"pr_number": 7692, "pr_title": "Mention GraalVM 20.0.0 in the exception message of the version check", "pr_createdAt": "2020-03-09T11:59:51Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/7692", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTYyODE1MQ==", "url": "https://github.com/quarkusio/quarkus/pull/7692#discussion_r389628151", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                + \" Quarkus currently offers a stable support of GraalVM 19.3.1 and 20.0.0.\"\n          \n          \n            \n                                + \" Quarkus currently supports GraalVM 19.3.1 and 20.0.0.\"", "author": "gsmet", "createdAt": "2020-03-09T12:27:18Z", "path": "core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java", "diffHunk": "@@ -374,8 +374,9 @@ private void checkGraalVMVersion(String version) {\n         final List<String> obsoleteGraalVmVersions = Arrays.asList(\"1.0.0\", \"19.0.\", \"19.1.\", \"19.2.\", \"19.3.0\");\n         final boolean vmVersionIsObsolete = obsoleteGraalVmVersions.stream().anyMatch(v -> version.contains(\" \" + v));\n         if (vmVersionIsObsolete) {\n-            throw new IllegalStateException(\n-                    \"Out of date version of GraalVM detected: \" + version + \". Please upgrade to GraalVM 19.3.1.\");\n+            throw new IllegalStateException(\"Unsupported version of GraalVM detected: \" + version + \".\"\n+                    + \" Quarkus currently offers a stable support of GraalVM 19.3.1 and 20.0.0.\"", "originalCommit": "49bf29cf24802b59e5c3135ec88140759a2b87af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3444eb85f2aa7dab11d20c124c6a4ef3f3e8961d", "chunk": "diff --git a/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java b/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java\nindex 35868ea185..719874032c 100644\n--- a/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java\n+++ b/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java\n\n@@ -374,9 +374,8 @@ public class NativeImageBuildStep {\n         final List<String> obsoleteGraalVmVersions = Arrays.asList(\"1.0.0\", \"19.0.\", \"19.1.\", \"19.2.\", \"19.3.0\");\n         final boolean vmVersionIsObsolete = obsoleteGraalVmVersions.stream().anyMatch(v -> version.contains(\" \" + v));\n         if (vmVersionIsObsolete) {\n-            throw new IllegalStateException(\"Unsupported version of GraalVM detected: \" + version + \".\"\n-                    + \" Quarkus currently offers a stable support of GraalVM 19.3.1 and 20.0.0.\"\n-                    + \" Please upgrade GraalVM to one of these versions.\");\n+            throw new IllegalStateException(\"Out of date version of GraalVM detected: \" + version + \".\"\n+                    + \" Quarkus currently supports GraalVM 19.3.1 and 20.0.0. Please upgrade GraalVM to one of these versions.\");\n         }\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTYyODM0NA==", "url": "https://github.com/quarkusio/quarkus/pull/7692#discussion_r389628344", "bodyText": "Please keep the out of date part as that's exactly what we test. People using 20.0.1 won't have this warning for instance.", "author": "gsmet", "createdAt": "2020-03-09T12:27:45Z", "path": "core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java", "diffHunk": "@@ -374,8 +374,9 @@ private void checkGraalVMVersion(String version) {\n         final List<String> obsoleteGraalVmVersions = Arrays.asList(\"1.0.0\", \"19.0.\", \"19.1.\", \"19.2.\", \"19.3.0\");\n         final boolean vmVersionIsObsolete = obsoleteGraalVmVersions.stream().anyMatch(v -> version.contains(\" \" + v));\n         if (vmVersionIsObsolete) {\n-            throw new IllegalStateException(\n-                    \"Out of date version of GraalVM detected: \" + version + \". Please upgrade to GraalVM 19.3.1.\");\n+            throw new IllegalStateException(\"Unsupported version of GraalVM detected: \" + version + \".\"", "originalCommit": "49bf29cf24802b59e5c3135ec88140759a2b87af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3444eb85f2aa7dab11d20c124c6a4ef3f3e8961d", "chunk": "diff --git a/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java b/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java\nindex 35868ea185..719874032c 100644\n--- a/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java\n+++ b/core/deployment/src/main/java/io/quarkus/deployment/pkg/steps/NativeImageBuildStep.java\n\n@@ -374,9 +374,8 @@ public class NativeImageBuildStep {\n         final List<String> obsoleteGraalVmVersions = Arrays.asList(\"1.0.0\", \"19.0.\", \"19.1.\", \"19.2.\", \"19.3.0\");\n         final boolean vmVersionIsObsolete = obsoleteGraalVmVersions.stream().anyMatch(v -> version.contains(\" \" + v));\n         if (vmVersionIsObsolete) {\n-            throw new IllegalStateException(\"Unsupported version of GraalVM detected: \" + version + \".\"\n-                    + \" Quarkus currently offers a stable support of GraalVM 19.3.1 and 20.0.0.\"\n-                    + \" Please upgrade GraalVM to one of these versions.\");\n+            throw new IllegalStateException(\"Out of date version of GraalVM detected: \" + version + \".\"\n+                    + \" Quarkus currently supports GraalVM 19.3.1 and 20.0.0. Please upgrade GraalVM to one of these versions.\");\n         }\n     }\n \n"}}, {"oid": "3444eb85f2aa7dab11d20c124c6a4ef3f3e8961d", "url": "https://github.com/quarkusio/quarkus/commit/3444eb85f2aa7dab11d20c124c6a4ef3f3e8961d", "message": "Mention GraalVM 20.0.0 in the exception message of the version check", "committedDate": "2020-03-09T13:15:41Z", "type": "commit"}, {"oid": "3444eb85f2aa7dab11d20c124c6a4ef3f3e8961d", "url": "https://github.com/quarkusio/quarkus/commit/3444eb85f2aa7dab11d20c124c6a4ef3f3e8961d", "message": "Mention GraalVM 20.0.0 in the exception message of the version check", "committedDate": "2020-03-09T13:15:41Z", "type": "forcePushed"}]}