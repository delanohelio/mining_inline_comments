{"pr_number": 12320, "pr_title": "Support OIDC hybrid application type", "pr_createdAt": "2020-09-24T13:51:28Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/12320", "timeline": [{"oid": "e1269c45c00bab359ce179eb51f5f5267d8c097a", "url": "https://github.com/quarkusio/quarkus/commit/e1269c45c00bab359ce179eb51f5f5267d8c097a", "message": "Support OIDC hybrid application type", "committedDate": "2020-09-24T17:16:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg2NDEzNA==", "url": "https://github.com/quarkusio/quarkus/pull/12320#discussion_r495864134", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        return context.request().getHeader(\"Authorization\") == null ? true : false;\n          \n          \n            \n                        return context.request().getHeader(\"Authorization\") == null;", "author": "pedroigor", "createdAt": "2020-09-28T11:17:01Z", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcAuthenticationMechanism.java", "diffHunk": "@@ -55,7 +55,10 @@ private TenantConfigContext resolve(RoutingContext context) {\n         return tenantContext;\n     }\n \n-    private boolean isWebApp(TenantConfigContext tenantContext) {\n+    private boolean isWebApp(RoutingContext context, TenantConfigContext tenantContext) {\n+        if (OidcTenantConfig.ApplicationType.HYBRID == tenantContext.oidcConfig.applicationType) {\n+            return context.request().getHeader(\"Authorization\") == null ? true : false;", "originalCommit": "e1269c45c00bab359ce179eb51f5f5267d8c097a", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ea6a6a26fa045e20c146fb60a1b7c28e30d3c660", "chunk": "diff --git a/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcAuthenticationMechanism.java b/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcAuthenticationMechanism.java\nindex 128cfcd412..a114649a4c 100644\n--- a/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcAuthenticationMechanism.java\n+++ b/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcAuthenticationMechanism.java\n\n@@ -57,7 +57,7 @@ public class OidcAuthenticationMechanism implements HttpAuthenticationMechanism\n \n     private boolean isWebApp(RoutingContext context, TenantConfigContext tenantContext) {\n         if (OidcTenantConfig.ApplicationType.HYBRID == tenantContext.oidcConfig.applicationType) {\n-            return context.request().getHeader(\"Authorization\") == null ? true : false;\n+            return context.request().getHeader(\"Authorization\") == null;\n         }\n         return OidcTenantConfig.ApplicationType.WEB_APP == tenantContext.oidcConfig.applicationType;\n     }\n"}}, {"oid": "ea6a6a26fa045e20c146fb60a1b7c28e30d3c660", "url": "https://github.com/quarkusio/quarkus/commit/ea6a6a26fa045e20c146fb60a1b7c28e30d3c660", "message": "Support OIDC hybrid application type", "committedDate": "2020-09-28T15:43:45Z", "type": "commit"}, {"oid": "ea6a6a26fa045e20c146fb60a1b7c28e30d3c660", "url": "https://github.com/quarkusio/quarkus/commit/ea6a6a26fa045e20c146fb60a1b7c28e30d3c660", "message": "Support OIDC hybrid application type", "committedDate": "2020-09-28T15:43:45Z", "type": "forcePushed"}]}