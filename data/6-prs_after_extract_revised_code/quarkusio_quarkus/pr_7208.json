{"pr_number": 7208, "pr_title": "Fixed support for Integrators and ServiceContributors in Hibernate ORM", "pr_createdAt": "2020-02-15T00:48:06Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/7208", "timeline": [{"oid": "2cfb4bfb5038ff7477de3117890e63c53713fe37", "url": "https://github.com/quarkusio/quarkus/commit/2cfb4bfb5038ff7477de3117890e63c53713fe37", "message": "Using TCCL while looking for Integrators\n\nAdd Integrator tests\n\nFixes #7189", "committedDate": "2020-02-15T00:50:19Z", "type": "commit"}, {"oid": "6d1eb22d2bbe8617276e20a26477deb99e1f231c", "url": "https://github.com/quarkusio/quarkus/commit/6d1eb22d2bbe8617276e20a26477deb99e1f231c", "message": "Add missing @Observes in JPAConfig.destroy\n\nThis triggers the Integrator#disintegrate methods on shutdown", "committedDate": "2020-02-15T01:07:23Z", "type": "commit"}, {"oid": "6261ea284977563c414d1e1adf5d1ea04af93acf", "url": "https://github.com/quarkusio/quarkus/commit/6261ea284977563c414d1e1adf5d1ea04af93acf", "message": "Watch service files for hot-reload of Integrators and ServiceContributors", "committedDate": "2020-02-15T01:16:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1MjY5MA==", "url": "https://github.com/quarkusio/quarkus/pull/7208#discussion_r380052690", "bodyText": "So this wasn't being called?", "author": "Sanne", "createdAt": "2020-02-17T08:58:29Z", "path": "extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/JPAConfig.java", "diffHunk": "@@ -74,7 +75,7 @@ boolean isJtaEnabled() {\n      *\n      * @param event ignored\n      */\n-    void destroy(@BeforeDestroyed(ApplicationScoped.class) Object event) {\n+    void destroy(@Observes @BeforeDestroyed(ApplicationScoped.class) Object event) {", "originalCommit": "6261ea284977563c414d1e1adf5d1ea04af93acf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDEwOTk4MA==", "url": "https://github.com/quarkusio/quarkus/pull/7208#discussion_r380109980", "bodyText": "It wasn't. That's what was missing to have Integrator#disintegrate being called \ud83d\ude09", "author": "gastaldi", "createdAt": "2020-02-17T10:48:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1MjY5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDExOTQxNQ==", "url": "https://github.com/quarkusio/quarkus/pull/7208#discussion_r380119415", "bodyText": "ic. Maybe you have time to add an integration test for #disintegrate as well?", "author": "Sanne", "createdAt": "2020-02-17T11:07:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1MjY5MA=="}], "type": "inlineReview", "revised_code": null}]}