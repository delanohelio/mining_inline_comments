{"pr_number": 11967, "pr_title": "Allow to ignore explicit JAX-RS application-classes", "pr_createdAt": "2020-09-08T09:26:48Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11967", "timeline": [{"oid": "3d3428742cd48ee7c0f2148ae9ec21c19dc18470", "url": "https://github.com/quarkusio/quarkus/commit/3d3428742cd48ee7c0f2148ae9ec21c19dc18470", "message": "Via application.properties, ignore explicit JAX-RS application-classes.\n\nFixes #11966", "committedDate": "2020-09-10T15:15:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNjI3Ng==", "url": "https://github.com/quarkusio/quarkus/pull/11967#discussion_r488026276", "bodyText": "The index.getAnnotations call above can be avoided if resteasyConfig.ignoreApplicationClasses is true", "author": "gastaldi", "createdAt": "2020-09-14T15:30:47Z", "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "diffHunk": "@@ -182,6 +189,10 @@ public void build(\n \n         Collection<AnnotationInstance> applicationPaths = index.getAnnotations(ResteasyDotNames.APPLICATION_PATH);\n \n+        if (resteasyConfig.ignoreApplicationClasses) {\n+            applicationPaths = Collections.emptySet();\n+        }", "originalCommit": "3d3428742cd48ee7c0f2148ae9ec21c19dc18470", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "28fcc8a134873ccf07388ab569600004db62c861", "chunk": "diff --git a/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java b/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java\nindex 6fad346382..db60ad55b2 100755\n--- a/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java\n+++ b/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java\n\n@@ -187,10 +188,10 @@ public class ResteasyServerCommonProcessor {\n             CustomScopeAnnotationsBuildItem scopes) throws Exception {\n         IndexView index = combinedIndexBuildItem.getIndex();\n \n-        Collection<AnnotationInstance> applicationPaths = index.getAnnotations(ResteasyDotNames.APPLICATION_PATH);\n+        Collection<AnnotationInstance> applicationPaths = Collections.emptySet();\n \n-        if (resteasyConfig.ignoreApplicationClasses) {\n-            applicationPaths = Collections.emptySet();\n+        if (!resteasyConfig.ignoreApplicationClasses) {\n+            applicationPaths = index.getAnnotations(ResteasyDotNames.APPLICATION_PATH);\n         }\n \n         // currently we only examine the first class that is annotated with @ApplicationPath so best\n"}}, {"oid": "28fcc8a134873ccf07388ab569600004db62c861", "url": "https://github.com/quarkusio/quarkus/commit/28fcc8a134873ccf07388ab569600004db62c861", "message": "Via application.properties, ignore explicit JAX-RS application-classes.\n\nFixes #11966", "committedDate": "2020-09-14T18:36:51Z", "type": "forcePushed"}, {"oid": "d92a368ef9a0906f926d8a983d931b59a54e5d0c", "url": "https://github.com/quarkusio/quarkus/commit/d92a368ef9a0906f926d8a983d931b59a54e5d0c", "message": "Via application.properties, ignore explicit JAX-RS application-classes.\n\nFixes #11966", "committedDate": "2020-09-14T18:47:13Z", "type": "forcePushed"}, {"oid": "75a74d8623ad9c8301dbd5118532693169fc3f11", "url": "https://github.com/quarkusio/quarkus/commit/75a74d8623ad9c8301dbd5118532693169fc3f11", "message": "Via application.properties, ignore explicit JAX-RS application-classes.\n\nFixes #11966", "committedDate": "2020-09-15T06:06:37Z", "type": "forcePushed"}, {"oid": "8bf33cb125285194f6e03ea595fe245409e8ed48", "url": "https://github.com/quarkusio/quarkus/commit/8bf33cb125285194f6e03ea595fe245409e8ed48", "message": "Via application.properties, ignore explicit JAX-RS application-classes.\n\nFixes #11966", "committedDate": "2020-09-27T07:18:01Z", "type": "commit"}, {"oid": "8bf33cb125285194f6e03ea595fe245409e8ed48", "url": "https://github.com/quarkusio/quarkus/commit/8bf33cb125285194f6e03ea595fe245409e8ed48", "message": "Via application.properties, ignore explicit JAX-RS application-classes.\n\nFixes #11966", "committedDate": "2020-09-27T07:18:01Z", "type": "forcePushed"}]}