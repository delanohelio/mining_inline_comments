{"pr_number": 9197, "pr_title": "Dev-mode: don't warn if multi-module project", "pr_createdAt": "2020-05-10T16:59:28Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/9197", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgyNjkyNA==", "url": "https://github.com/quarkusio/quarkus/pull/9197#discussion_r422826924", "bodyText": "Could you please change the second part to project.getParentFile() != null && project.getParentFile().exists()? It's an lot more simpler and efficient expression.", "author": "aloubyansky", "createdAt": "2020-05-11T07:09:11Z", "path": "devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java", "diffHunk": "@@ -265,7 +266,8 @@ public void execute() throws MojoFailureException, MojoExecutionException {\n             return;\n         }\n \n-        if (!sourceDir.isDirectory()) {\n+        // don't warn if running in a module of a multi-module project\n+        if (!sourceDir.isDirectory() && !Optional.ofNullable(project.getParentFile()).map(File::exists).orElse(false)) {", "originalCommit": "5b18e1e3c81abf38d3f45665cd0aece400419d06", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1OTU1MA==", "url": "https://github.com/quarkusio/quarkus/pull/9197#discussion_r422859550", "bodyText": "I prefer the more DRY Optional approach but sure, I can (and will) change it.", "author": "famod", "createdAt": "2020-05-11T08:09:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgyNjkyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2MTIyMQ==", "url": "https://github.com/quarkusio/quarkus/pull/9197#discussion_r422861221", "bodyText": "I went with a slightly different approach with just one negation instead of two.", "author": "famod", "createdAt": "2020-05-11T08:12:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgyNjkyNA=="}], "type": "inlineReview", "revised_code": {"commit": "65432737751d9f504758e870f1ac01b7795d8a0b", "chunk": "diff --git a/devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java b/devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java\nindex bf594c7661..46ce6ec9bd 100644\n--- a/devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java\n+++ b/devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java\n\n@@ -267,7 +266,7 @@ public class DevMojo extends AbstractMojo {\n         }\n \n         // don't warn if running in a module of a multi-module project\n-        if (!sourceDir.isDirectory() && !Optional.ofNullable(project.getParentFile()).map(File::exists).orElse(false)) {\n+        if (!sourceDir.isDirectory() && (project.getParentFile() == null || !project.getParentFile().exists())) {\n             getLog().warn(\"The project's sources directory does not exist \" + sourceDir);\n         }\n \n"}}, {"oid": "65432737751d9f504758e870f1ac01b7795d8a0b", "url": "https://github.com/quarkusio/quarkus/commit/65432737751d9f504758e870f1ac01b7795d8a0b", "message": "Dev-mode: don't warn if multi-module project\n\nFixes #9093", "committedDate": "2020-05-11T08:09:47Z", "type": "commit"}]}