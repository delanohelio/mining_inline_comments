{"pr_number": 11112, "pr_title": "Change security annotations to use recorders", "pr_createdAt": "2020-07-31T01:20:51Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11112", "timeline": [{"oid": "514d0e1f5898bbde1756630d12bbf9fa81a23adf", "url": "https://github.com/quarkusio/quarkus/commit/514d0e1f5898bbde1756630d12bbf9fa81a23adf", "message": "Change security annotations to use recorders\n\nRecorders automatically break up large methods\n\nFixes #11075", "committedDate": "2020-07-31T01:19:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQzMTExMg==", "url": "https://github.com/quarkusio/quarkus/pull/11112#discussion_r463431112", "bodyText": "Minor nitpick: This doesn't need to be volatile unless I am missing something. It could just be final.", "author": "geoand", "createdAt": "2020-07-31T06:36:35Z", "path": "extensions/security/runtime/src/main/java/io/quarkus/security/runtime/interceptor/check/SupplierRolesAllowedCheck.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package io.quarkus.security.runtime.interceptor.check;\n+\n+import java.lang.reflect.Method;\n+import java.util.function.Supplier;\n+\n+import io.quarkus.security.ForbiddenException;\n+import io.quarkus.security.UnauthorizedException;\n+import io.quarkus.security.identity.SecurityIdentity;\n+\n+public class SupplierRolesAllowedCheck implements SecurityCheck {\n+\n+    private final Supplier<String[]> allowedRolesSupplier;\n+\n+    private volatile String[] allowedRoles;", "originalCommit": "514d0e1f5898bbde1756630d12bbf9fa81a23adf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQzMTM0Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11112#discussion_r463431347", "bodyText": "NEvermind, read the code wrong \ud83e\udd26", "author": "geoand", "createdAt": "2020-07-31T06:37:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQzMTExMg=="}], "type": "inlineReview", "revised_code": null}]}