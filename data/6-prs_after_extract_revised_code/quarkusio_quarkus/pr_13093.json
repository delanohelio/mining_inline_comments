{"pr_number": 13093, "pr_title": "Fix invalid handling of List<String> in spring-data-jpa custom queries", "pr_createdAt": "2020-11-03T15:06:45Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/13093", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc0MDA4Ng==", "url": "https://github.com/quarkusio/quarkus/pull/13093#discussion_r516740086", "bodyText": "Minor gripe: if I understand the logic of this method right, I think you already handle the isIntLongOrBoolean case at the beginning of the method. And I think we should better handle all these special cases there.", "author": "gsmet", "createdAt": "2020-11-03T15:11:44Z", "path": "extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/CustomQueryMethodsAdder.java", "diffHunk": "@@ -383,7 +384,7 @@ private Type verifyQueryResultType(Type t) {\n                 }\n                 return t;\n             }\n-        } else if (!DotNames.OBJECT.equals(t.name())) {\n+        } else if (!DotNames.OBJECT.equals(t.name()) && !DotNames.STRING.equals(t.name()) && !isIntLongOrBoolean(t.name())) {", "originalCommit": "ec474940093ef32e6d8be6bd2b2be05dfb460486", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc0MjQxNQ==", "url": "https://github.com/quarkusio/quarkus/pull/13093#discussion_r516742415", "bodyText": "You are absolutely correct! I'll fix it", "author": "geoand", "createdAt": "2020-11-03T15:14:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc0MDA4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "3709793fd6cb3e98dbdf5f822770bd685c81dea3", "chunk": "diff --git a/extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/CustomQueryMethodsAdder.java b/extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/CustomQueryMethodsAdder.java\nindex 0009e3cf82..5fe2a02f80 100644\n--- a/extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/CustomQueryMethodsAdder.java\n+++ b/extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/CustomQueryMethodsAdder.java\n\n@@ -384,7 +384,7 @@ public class CustomQueryMethodsAdder extends AbstractMethodsAdder {\n                 }\n                 return t;\n             }\n-        } else if (!DotNames.OBJECT.equals(t.name()) && !DotNames.STRING.equals(t.name()) && !isIntLongOrBoolean(t.name())) {\n+        } else if (!DotNames.OBJECT.equals(t.name()) && !DotNames.STRING.equals(t.name())) {\n             ClassInfo typeClassInfo = index.getClassByName(t.name());\n             if (typeClassInfo == null) {\n                 throw new IllegalStateException(t.name() + \" was not part of the Quarkus index\");\n"}}, {"oid": "3709793fd6cb3e98dbdf5f822770bd685c81dea3", "url": "https://github.com/quarkusio/quarkus/commit/3709793fd6cb3e98dbdf5f822770bd685c81dea3", "message": "Fix invalid handling of List<String> in spring-data-jpa custom queries\n\nFixes: #13044", "committedDate": "2020-11-03T15:16:29Z", "type": "forcePushed"}, {"oid": "10d8c0dbfb34ea69fba877441dd177a4b2ee2d18", "url": "https://github.com/quarkusio/quarkus/commit/10d8c0dbfb34ea69fba877441dd177a4b2ee2d18", "message": "Fix invalid handling of List<String> in spring-data-jpa custom queries\n\nFixes: #13044", "committedDate": "2020-11-03T15:26:46Z", "type": "commit"}, {"oid": "10d8c0dbfb34ea69fba877441dd177a4b2ee2d18", "url": "https://github.com/quarkusio/quarkus/commit/10d8c0dbfb34ea69fba877441dd177a4b2ee2d18", "message": "Fix invalid handling of List<String> in spring-data-jpa custom queries\n\nFixes: #13044", "committedDate": "2020-11-03T15:26:46Z", "type": "forcePushed"}]}