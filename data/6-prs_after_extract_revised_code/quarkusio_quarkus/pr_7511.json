{"pr_number": 7511, "pr_title": "Allow ctor injection for RESTEasy Resources with Security annotations", "pr_createdAt": "2020-03-02T11:23:23Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/7511", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwNjQ3Nw==", "url": "https://github.com/quarkusio/quarkus/pull/7511#discussion_r386606477", "bodyText": "Can you add jakarta.annotation.security too?", "author": "gsmet", "createdAt": "2020-03-02T19:36:54Z", "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "diffHunk": "@@ -568,6 +568,8 @@ private static void generateDefaultConstructors(BuildProducer<BytecodeTransforme\n         final Set<String> allowedAnnotationPrefixes = new HashSet<>(1 + additionalJaxRsResourceDefiningAnnotations.size());\n         allowedAnnotationPrefixes.add(packageName(ResteasyDotNames.PATH));\n         allowedAnnotationPrefixes.add(\"kotlin\"); // make sure the annotation that the Kotlin compiler adds don't interfere with creating a default constructor\n+        allowedAnnotationPrefixes.add(\"io.quarkus.security\"); // same for the security annotations\n+        allowedAnnotationPrefixes.add(\"javax.annotation.security\");", "originalCommit": "94c8a05227c698bb98e9cb1c6a3ed63214700060", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYxMTUwNA==", "url": "https://github.com/quarkusio/quarkus/pull/7511#discussion_r386611504", "bodyText": "Good idea, I'll do that tomorrow morning", "author": "geoand", "createdAt": "2020-03-02T19:47:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwNjQ3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY1NDU2Nw==", "url": "https://github.com/quarkusio/quarkus/pull/7511#discussion_r386654567", "bodyText": "Fixed", "author": "geoand", "createdAt": "2020-03-02T21:16:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwNjQ3Nw=="}], "type": "inlineReview", "revised_code": {"commit": "eb29a8cd3f7380f03a0efefcf1b55e52b480b4a5", "chunk": "diff --git a/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java b/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java\nindex 27bb81bd09..25e2b6b211 100755\n--- a/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java\n+++ b/extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java\n\n@@ -570,6 +570,7 @@ public class ResteasyServerCommonProcessor {\n         allowedAnnotationPrefixes.add(\"kotlin\"); // make sure the annotation that the Kotlin compiler adds don't interfere with creating a default constructor\n         allowedAnnotationPrefixes.add(\"io.quarkus.security\"); // same for the security annotations\n         allowedAnnotationPrefixes.add(\"javax.annotation.security\");\n+        allowedAnnotationPrefixes.add(\"jakarta.annotation.security\");\n         for (AdditionalJaxRsResourceDefiningAnnotationBuildItem additionalJaxRsResourceDefiningAnnotation : additionalJaxRsResourceDefiningAnnotations) {\n             final String packageName = packageName(additionalJaxRsResourceDefiningAnnotation.getAnnotationClass());\n             if (packageName != null) {\n"}}, {"oid": "eb29a8cd3f7380f03a0efefcf1b55e52b480b4a5", "url": "https://github.com/quarkusio/quarkus/commit/eb29a8cd3f7380f03a0efefcf1b55e52b480b4a5", "message": "Allow constructor injection for RESTEasy Resources with Security annotations\n\nFixes: #7495", "committedDate": "2020-03-02T21:15:49Z", "type": "commit"}, {"oid": "eb29a8cd3f7380f03a0efefcf1b55e52b480b4a5", "url": "https://github.com/quarkusio/quarkus/commit/eb29a8cd3f7380f03a0efefcf1b55e52b480b4a5", "message": "Allow constructor injection for RESTEasy Resources with Security annotations\n\nFixes: #7495", "committedDate": "2020-03-02T21:15:49Z", "type": "forcePushed"}]}