{"pr_number": 10405, "pr_title": "Fix missing Jaeger client version in native mode", "pr_createdAt": "2020-07-01T12:35:41Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10405", "timeline": [{"oid": "f409069c5c3ddef2b4206cb76bb478ce387c96ea", "url": "https://github.com/quarkusio/quarkus/commit/f409069c5c3ddef2b4206cb76bb478ce387c96ea", "message": "Fix missing opentracing version in native mode\n\nFixes: #10399", "committedDate": "2020-07-01T12:45:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQwMDMxMA==", "url": "https://github.com/quarkusio/quarkus/pull/10405#discussion_r448400310", "bodyText": "/jaegerversion would be better since it's the Jaeger client version and not OpenTracing version", "author": "pavolloffay", "createdAt": "2020-07-01T14:24:41Z", "path": "integration-tests/main/src/main/java/io/quarkus/it/opentracing/OpenTracingResource.java", "diffHunk": "@@ -14,4 +18,11 @@ public String getTest() {\n         return \"TEST\";\n     }\n \n+    @GET\n+    @Path(\"/version\")", "originalCommit": "f409069c5c3ddef2b4206cb76bb478ce387c96ea", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3a13b12ccdf3dad7bc8f478cf7edaa9cc27a751d", "chunk": "diff --git a/integration-tests/main/src/main/java/io/quarkus/it/opentracing/OpenTracingResource.java b/integration-tests/main/src/main/java/io/quarkus/it/opentracing/OpenTracingResource.java\nindex 8583dfec54..9a43cdf723 100644\n--- a/integration-tests/main/src/main/java/io/quarkus/it/opentracing/OpenTracingResource.java\n+++ b/integration-tests/main/src/main/java/io/quarkus/it/opentracing/OpenTracingResource.java\n\n@@ -19,7 +19,7 @@ public class OpenTracingResource {\n     }\n \n     @GET\n-    @Path(\"/version\")\n+    @Path(\"/jaegerversion\")\n     @Produces(MediaType.TEXT_PLAIN)\n     public String opentracingVersion() {\n         return JaegerTracer.getVersionFromProperties();\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQwMjIwOQ==", "url": "https://github.com/quarkusio/quarkus/pull/10405#discussion_r448402209", "bodyText": "Is this executed also in the native mode?\nWouldn't it be better to assert on the exact string or use https://github.com/jaegertracing/jaeger-client-java/blob/master/jaeger-client/src/main/java/io/jaegertracing/client/Version.java#L29?", "author": "pavolloffay", "createdAt": "2020-07-01T14:27:30Z", "path": "integration-tests/main/src/test/java/io/quarkus/it/main/OpenTracingTestCase.java", "diffHunk": "@@ -20,4 +22,10 @@ public void invokeResource() {\n                 .body(is(\"TEST\"));\n     }\n \n+    @Test\n+    public void testVersion() {\n+        RestAssured.when().get(\"/opentracing/version\").then()\n+                .body(is(not(emptyString())));", "originalCommit": "f409069c5c3ddef2b4206cb76bb478ce387c96ea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQyMDYwNA==", "url": "https://github.com/quarkusio/quarkus/pull/10405#discussion_r448420604", "bodyText": "Sure yeah, I do that", "author": "geoand", "createdAt": "2020-07-01T14:53:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQwMjIwOQ=="}], "type": "inlineReview", "revised_code": {"commit": "3a13b12ccdf3dad7bc8f478cf7edaa9cc27a751d", "chunk": "diff --git a/integration-tests/main/src/test/java/io/quarkus/it/main/OpenTracingTestCase.java b/integration-tests/main/src/test/java/io/quarkus/it/main/OpenTracingTestCase.java\nindex 6c8b7699c1..5807a95307 100644\n--- a/integration-tests/main/src/test/java/io/quarkus/it/main/OpenTracingTestCase.java\n+++ b/integration-tests/main/src/test/java/io/quarkus/it/main/OpenTracingTestCase.java\n\n@@ -24,8 +23,8 @@ public class OpenTracingTestCase {\n \n     @Test\n     public void testVersion() {\n-        RestAssured.when().get(\"/opentracing/version\").then()\n-                .body(is(not(emptyString())));\n+        RestAssured.when().get(\"/opentracing/jaegerversion\").then()\n+                .body(is(JaegerTracer.getVersionFromProperties()));\n     }\n \n }\n"}}, {"oid": "3a13b12ccdf3dad7bc8f478cf7edaa9cc27a751d", "url": "https://github.com/quarkusio/quarkus/commit/3a13b12ccdf3dad7bc8f478cf7edaa9cc27a751d", "message": "Fix missing opentracing version in native mode\n\nFixes: #10399", "committedDate": "2020-07-01T15:01:52Z", "type": "forcePushed"}, {"oid": "75c7d53535a27fa6898c2550946f48aa89b16784", "url": "https://github.com/quarkusio/quarkus/commit/75c7d53535a27fa6898c2550946f48aa89b16784", "message": "Fix missing Jaeger client version in native mode\n\nFixes: #10399", "committedDate": "2020-07-01T17:47:17Z", "type": "commit"}, {"oid": "75c7d53535a27fa6898c2550946f48aa89b16784", "url": "https://github.com/quarkusio/quarkus/commit/75c7d53535a27fa6898c2550946f48aa89b16784", "message": "Fix missing Jaeger client version in native mode\n\nFixes: #10399", "committedDate": "2020-07-01T17:47:17Z", "type": "forcePushed"}]}