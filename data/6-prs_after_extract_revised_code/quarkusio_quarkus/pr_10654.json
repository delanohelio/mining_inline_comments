{"pr_number": 10654, "pr_title": "Display HTTP request contents in the log in a long format", "pr_createdAt": "2020-07-11T00:14:27Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10654", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4MzQzNg==", "url": "https://github.com/quarkusio/quarkus/pull/10654#discussion_r453783436", "bodyText": "Excellent! \ud83d\udc4f", "author": "gastaldi", "createdAt": "2020-07-13T16:40:53Z", "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/filters/accesslog/AccessLogHandler.java", "diffHunk": "@@ -104,12 +105,25 @@ public AccessLogHandler(final AccessLogReceiver accessLogReceiver, String format\n     }\n \n     private static String handleCommonNames(String formatString) {\n-        if (formatString.equals(\"common\")) {\n-            return \"%h %l %u %t \\\"%r\\\" %s %b\";\n-        } else if (formatString.equals(\"combined\")) {\n-            return \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{i,Referer}\\\" \\\"%{i,User-Agent}\\\"\";\n+        switch (formatString) {\n+            case \"common\":\n+                return \"%h %l %u %t \\\"%r\\\" %s %b\";\n+            case \"combined\":\n+                return \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{i,Referer}\\\" \\\"%{i,User-Agent}\\\"\";\n+            case \"long\":\n+                return new StringJoiner(System.lineSeparator())\n+                        .add(\"%h\")\n+                        .add(\"%l\")\n+                        .add(\"%u\")\n+                        .add(\"%t\")\n+                        .add(\"\\\"%r\\\"\")\n+                        .add(\"%s\")\n+                        .add(\"%b\")\n+                        .add(\"%{ALL_REQUEST_HEADERS}\")\n+                        .toString();\n+            default:\n+                return formatString;", "originalCommit": "96e5abb23b239185a3c0c325a5b8b197991e0032", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "17ee91929351c2250b3f6b3092ac85d3aa25fb5a", "chunk": "diff --git a/extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/filters/accesslog/AccessLogHandler.java b/extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/filters/accesslog/AccessLogHandler.java\nindex 42806f10ce..234f2723eb 100644\n--- a/extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/filters/accesslog/AccessLogHandler.java\n+++ b/extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/filters/accesslog/AccessLogHandler.java\n\n@@ -111,14 +111,8 @@ public class AccessLogHandler implements Handler<RoutingContext> {\n             case \"combined\":\n                 return \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{i,Referer}\\\" \\\"%{i,User-Agent}\\\"\";\n             case \"long\":\n-                return new StringJoiner(System.lineSeparator())\n-                        .add(\"%h\")\n-                        .add(\"%l\")\n-                        .add(\"%u\")\n-                        .add(\"%t\")\n-                        .add(\"\\\"%r\\\"\")\n-                        .add(\"%s\")\n-                        .add(\"%b\")\n+                return new StringJoiner(System.lineSeparator(), System.lineSeparator(), \"\")\n+                        .add(\"%r\")\n                         .add(\"%{ALL_REQUEST_HEADERS}\")\n                         .toString();\n             default:\n"}}, {"oid": "17ee91929351c2250b3f6b3092ac85d3aa25fb5a", "url": "https://github.com/quarkusio/quarkus/commit/17ee91929351c2250b3f6b3092ac85d3aa25fb5a", "message": "Display HTTP request contents in the log in a long format", "committedDate": "2020-07-15T23:30:08Z", "type": "commit"}, {"oid": "17ee91929351c2250b3f6b3092ac85d3aa25fb5a", "url": "https://github.com/quarkusio/quarkus/commit/17ee91929351c2250b3f6b3092ac85d3aa25fb5a", "message": "Display HTTP request contents in the log in a long format", "committedDate": "2020-07-15T23:30:08Z", "type": "forcePushed"}]}