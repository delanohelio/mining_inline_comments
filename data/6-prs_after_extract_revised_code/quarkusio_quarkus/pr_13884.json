{"pr_number": 13884, "pr_title": "Add client metrics to rest client extension", "pr_createdAt": "2020-12-14T21:18:32Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/13884", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzYyOTI2Ng==", "url": "https://github.com/quarkusio/quarkus/pull/13884#discussion_r543629266", "bodyText": "Imports added that don't appear to be used, is that right?", "author": "kenfinnigan", "createdAt": "2020-12-15T19:32:34Z", "path": "extensions/rest-client/deployment/src/main/java/io/quarkus/restclient/deployment/RestClientProcessor.java", "diffHunk": "@@ -70,6 +70,8 @@\n import io.quarkus.deployment.builditem.nativeimage.ReflectiveClassBuildItem;\n import io.quarkus.deployment.builditem.nativeimage.ReflectiveHierarchyBuildItem;\n import io.quarkus.deployment.builditem.nativeimage.ServiceProviderBuildItem;\n+import io.quarkus.deployment.metrics.MetricsCapabilityBuildItem;", "originalCommit": "43feab8ebad1062cf4dbb7b7ace8fa82cc2c996b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fd4ad9356ed861eb490a37f8fca48163b5bb8d3d", "chunk": "diff --git a/extensions/rest-client/deployment/src/main/java/io/quarkus/restclient/deployment/RestClientProcessor.java b/extensions/rest-client/deployment/src/main/java/io/quarkus/restclient/deployment/RestClientProcessor.java\nindex 5d6e879930..d29f8b4448 100644\n--- a/extensions/rest-client/deployment/src/main/java/io/quarkus/restclient/deployment/RestClientProcessor.java\n+++ b/extensions/rest-client/deployment/src/main/java/io/quarkus/restclient/deployment/RestClientProcessor.java\n\n@@ -70,8 +70,6 @@ import io.quarkus.deployment.builditem.nativeimage.NativeImageResourceBuildItem;\n import io.quarkus.deployment.builditem.nativeimage.ReflectiveClassBuildItem;\n import io.quarkus.deployment.builditem.nativeimage.ReflectiveHierarchyBuildItem;\n import io.quarkus.deployment.builditem.nativeimage.ServiceProviderBuildItem;\n-import io.quarkus.deployment.metrics.MetricsCapabilityBuildItem;\n-import io.quarkus.deployment.metrics.MetricsFactoryConsumerBuildItem;\n import io.quarkus.deployment.pkg.PackageConfig;\n import io.quarkus.gizmo.MethodDescriptor;\n import io.quarkus.gizmo.ResultHandle;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzYyOTQ3OA==", "url": "https://github.com/quarkusio/quarkus/pull/13884#discussion_r543629478", "bodyText": "Again with added imports", "author": "kenfinnigan", "createdAt": "2020-12-15T19:32:51Z", "path": "extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java", "diffHunk": "@@ -19,6 +20,7 @@\n import io.quarkus.arc.runtime.BeanContainerListener;\n import io.quarkus.runtime.RuntimeValue;\n import io.quarkus.runtime.annotations.Recorder;\n+import io.quarkus.runtime.metrics.MetricsFactory;", "originalCommit": "43feab8ebad1062cf4dbb7b7ace8fa82cc2c996b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fd4ad9356ed861eb490a37f8fca48163b5bb8d3d", "chunk": "diff --git a/extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java b/extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java\nindex 2125104f22..133f7e3598 100644\n--- a/extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java\n+++ b/extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java\n\n@@ -20,7 +19,6 @@ import io.quarkus.arc.runtime.BeanContainer;\n import io.quarkus.arc.runtime.BeanContainerListener;\n import io.quarkus.runtime.RuntimeValue;\n import io.quarkus.runtime.annotations.Recorder;\n-import io.quarkus.runtime.metrics.MetricsFactory;\n \n @Recorder\n public class RestClientRecorder {\n"}}, {"oid": "fd4ad9356ed861eb490a37f8fca48163b5bb8d3d", "url": "https://github.com/quarkusio/quarkus/commit/fd4ad9356ed861eb490a37f8fca48163b5bb8d3d", "message": "Add http client metrics to micrometer metrics", "committedDate": "2020-12-17T18:26:29Z", "type": "commit"}]}