{"pr_number": 8734, "pr_title": "Make FORM auth work with JPA security", "pr_createdAt": "2020-04-22T06:17:10Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8734", "timeline": [{"oid": "82de1a96b2bc315b80acf882f087c463f5c7f213", "url": "https://github.com/quarkusio/quarkus/commit/82de1a96b2bc315b80acf882f087c463f5c7f213", "message": "Make FORM auth work with JPA security", "committedDate": "2020-04-22T06:20:42Z", "type": "forcePushed"}, {"oid": "838c02ec6be08af514168eb0ca31e08e1ea39828", "url": "https://github.com/quarkusio/quarkus/commit/838c02ec6be08af514168eb0ca31e08e1ea39828", "message": "Make FORM auth work with JPA security", "committedDate": "2020-04-22T06:21:41Z", "type": "commit"}, {"oid": "838c02ec6be08af514168eb0ca31e08e1ea39828", "url": "https://github.com/quarkusio/quarkus/commit/838c02ec6be08af514168eb0ca31e08e1ea39828", "message": "Make FORM auth work with JPA security", "committedDate": "2020-04-22T06:21:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgxMDQ0MQ==", "url": "https://github.com/quarkusio/quarkus/pull/8734#discussion_r412810441", "bodyText": "Are these all really required? https://quarkus.io/guides/security#form-based-authentication says they all have a default, except the encryption key, but IMO even that one could default to one generated at startup.", "author": "FroMage", "createdAt": "2020-04-22T09:10:39Z", "path": "extensions/security-jpa/deployment/src/test/java/io/quarkus/security/jpa/FormAuthJpaTestCase.java", "diffHunk": "@@ -0,0 +1,96 @@\n+package io.quarkus.security.jpa;\n+\n+import static org.hamcrest.Matchers.containsString;\n+import static org.hamcrest.Matchers.equalTo;\n+import static org.hamcrest.Matchers.notNullValue;\n+\n+import java.util.function.Supplier;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.StringAsset;\n+import org.jboss.shrinkwrap.api.spec.JavaArchive;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.RegisterExtension;\n+\n+import io.quarkus.test.QuarkusUnitTest;\n+import io.restassured.RestAssured;\n+import io.restassured.filter.cookie.CookieFilter;\n+\n+public class FormAuthJpaTestCase {\n+\n+    private static final String APP_PROPS = \"\" +\n+            \"quarkus.datasource.db-kind=h2\\n\" +\n+            \"quarkus.datasource.username=sa\\n\" +\n+            \"quarkus.datasource.password=sa\\n\" +\n+            \"quarkus.datasource.jdbc.url=jdbc:h2:mem:minimal-config'\\n\" +\n+            \"quarkus.hibernate-orm.sql-load-script=import.sql\\n\" +\n+            \"quarkus.hibernate-orm.database.generation=drop-and-create\\n\" +\n+            \"#quarkus.hibernate-orm.log.sql=true\\n\" +\n+            \"quarkus.http.auth.form.enabled=true\\n\" +", "originalCommit": "838c02ec6be08af514168eb0ca31e08e1ea39828", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ0OTI2Mw==", "url": "https://github.com/quarkusio/quarkus/pull/8734#discussion_r413449263", "bodyText": "I just copied from the existing test, you don't actually need all of them.", "author": "stuartwdouglas", "createdAt": "2020-04-23T01:47:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgxMDQ0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYyMzczOA==", "url": "https://github.com/quarkusio/quarkus/pull/8734#discussion_r413623738", "bodyText": "Hah, OK.", "author": "FroMage", "createdAt": "2020-04-23T08:36:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgxMDQ0MQ=="}], "type": "inlineReview", "revised_code": null}]}