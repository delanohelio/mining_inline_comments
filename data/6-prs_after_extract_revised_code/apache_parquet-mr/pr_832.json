{"pr_number": 832, "pr_title": "PARQUET-1926: Add LogicalType support to ThriftType", "pr_createdAt": "2020-10-19T18:33:58Z", "pr_url": "https://github.com/apache/parquet-mr/pull/832", "timeline": [{"oid": "c58bbbeb7d2eadcc7fe221e3d145931df0a8ce79", "url": "https://github.com/apache/parquet-mr/commit/c58bbbeb7d2eadcc7fe221e3d145931df0a8ce79", "message": "Add ThriftSchemaConvertVisitor for INT64 logical types", "committedDate": "2020-11-03T03:41:45Z", "type": "forcePushed"}, {"oid": "637146c35d4b97a80d46713b1a175c830b9e01ba", "url": "https://github.com/apache/parquet-mr/commit/637146c35d4b97a80d46713b1a175c830b9e01ba", "message": "Add ThriftSchemaConvertVisitor tests for INT64 logical types", "committedDate": "2020-11-03T03:51:48Z", "type": "forcePushed"}, {"oid": "7b837775254c295c0ec26e37ec4b621ed5f19625", "url": "https://github.com/apache/parquet-mr/commit/7b837775254c295c0ec26e37ec4b621ed5f19625", "message": "Generlize thrift logicalTypeAnnotation and add more tests", "committedDate": "2020-11-03T16:12:17Z", "type": "forcePushed"}, {"oid": "1b166998e804db94b2169066f3ebef4e78c76d06", "url": "https://github.com/apache/parquet-mr/commit/1b166998e804db94b2169066f3ebef4e78c76d06", "message": "PARQUET-1926: Add LogicalType support to I64Type", "committedDate": "2020-11-13T14:12:31Z", "type": "commit"}, {"oid": "88fa6393a7641358bdd7f0b0f3daa22a7acf21a3", "url": "https://github.com/apache/parquet-mr/commit/88fa6393a7641358bdd7f0b0f3daa22a7acf21a3", "message": "Add ThriftSchemaConvertVisitor tests for INT64 logical types", "committedDate": "2020-11-13T14:12:31Z", "type": "commit"}, {"oid": "4dce365616ce652dd059ecf6c70d53e75b160458", "url": "https://github.com/apache/parquet-mr/commit/4dce365616ce652dd059ecf6c70d53e75b160458", "message": "Generlize thrift logicalTypeAnnotation and add more tests", "committedDate": "2020-11-13T14:12:31Z", "type": "commit"}, {"oid": "236e865020140b60060bd68885cf42ec604536db", "url": "https://github.com/apache/parquet-mr/commit/236e865020140b60060bd68885cf42ec604536db", "message": "Update thrift tests", "committedDate": "2020-11-13T14:12:31Z", "type": "commit"}, {"oid": "236e865020140b60060bd68885cf42ec604536db", "url": "https://github.com/apache/parquet-mr/commit/236e865020140b60060bd68885cf42ec604536db", "message": "Update thrift tests", "committedDate": "2020-11-13T14:12:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTc5NjMzMw==", "url": "https://github.com/apache/parquet-mr/pull/832#discussion_r561796333", "bodyText": "Why you don't like static imports? This change (and the removing of the related import) seems to be useless.", "author": "gszadovszky", "createdAt": "2021-01-21T11:18:17Z", "path": "parquet-thrift/src/main/java/org/apache/parquet/thrift/ThriftSchemaConvertVisitor.java", "diffHunk": "@@ -325,7 +323,7 @@ private ConvertedField visitPrimitiveType(PrimitiveTypeName type, LogicalTypeAnn\n \n   @Override\n   public ConvertedField visit(EnumType enumType, State state) {\n-    return visitPrimitiveType(BINARY, enumType(), state);\n+    return visitPrimitiveType(BINARY, LogicalTypeAnnotation.enumType(), state);", "originalCommit": "236e865020140b60060bd68885cf42ec604536db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjAzNTk1NQ==", "url": "https://github.com/apache/parquet-mr/pull/832#discussion_r562035955", "bodyText": "I find accessing these via LogicalTypeAnnotation.enumType() more clear than just enumType(). The larger change in this PR allows any thrift type to use a LogicalTypeAnnotation, so importing the class opens the door to further changes that implement these logical types.", "author": "jmartone", "createdAt": "2021-01-21T16:49:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTc5NjMzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjA2MTIyNQ==", "url": "https://github.com/apache/parquet-mr/pull/832#discussion_r562061225", "bodyText": "Yes, I know what this PR is about. My comment was only about this line (and the removing of the static import).\nIt is a matter of taste whether you like static imports or not and it is up to you if you use them or not. But modifying an existing line is another topic. I usually like to keep a change as small as possible and do not touch other code parts if it is not necessary.\nAnyway, if you have a strong opinion that this change improves readability I am fine with that too.", "author": "gszadovszky", "createdAt": "2021-01-21T17:23:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTc5NjMzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjA4Mjg0Ng==", "url": "https://github.com/apache/parquet-mr/pull/832#discussion_r562082846", "bodyText": "I remove this static import for consistency with the logical types in my changes. I do find qualifying the type with LogicalTypeAnnotation. improves readability.\nIf we prefer a set of discrete static imports to importing the larger class I can certainly do that instead. My motivation was more concise imports and readability.", "author": "jmartone", "createdAt": "2021-01-21T17:54:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTc5NjMzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzU0MzQ4OQ==", "url": "https://github.com/apache/parquet-mr/pull/832#discussion_r563543489", "bodyText": "I accept it as a strong opinion :)", "author": "gszadovszky", "createdAt": "2021-01-25T08:40:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTc5NjMzMw=="}], "type": "inlineReview", "revised_code": null}]}