{"pr_number": 1602, "pr_title": "Fix tests failing on windows", "pr_createdAt": "2020-08-21T14:57:52Z", "pr_url": "https://github.com/openhab/openhab-core/pull/1602", "timeline": [{"oid": "336e4dd683501c0ef447a348e748488477c326a1", "url": "https://github.com/openhab/openhab-core/commit/336e4dd683501c0ef447a348e748488477c326a1", "message": "Fix tests failing on windows\n\nSigned-off-by: Anders Alfredsson <andersb86@gmail.com>", "committedDate": "2020-08-21T14:53:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEzODA4OQ==", "url": "https://github.com/openhab/openhab-core/pull/1602#discussion_r475138089", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            Files.move(file.toPath(), EXISTING_SUBDIR_PATH.toPath());\n          \n          \n            \n                        } catch (java.nio.file.FileAlreadyExistsException e) {\n          \n          \n            \n            \n          \n          \n            \n                        }\n          \n          \n            \n                        try (Stream<Path> walk = Files.walk(UNWATCHED_DIRECTORY.toPath())) {\n          \n          \n            \n                            Files.move(file.toPath(), EXISTING_SUBDIR_PATH.toPath());\n          \n          \n            \n                        } catch (java.nio.file.FileAlreadyExistsException e) {\n          \n          \n            \n                        }\n          \n          \n            \n                        try (Stream<Path> walk = Files.walk(UNWATCHED_DIRECTORY.toPath())) {", "author": "kaikreuzer", "createdAt": "2020-08-22T21:02:31Z", "path": "itests/org.openhab.core.model.core.tests/src/main/java/org/openhab/core/model/core/internal/folder/FolderObserverTest.java", "diffHunk": "@@ -413,7 +413,11 @@ public void testHiddenFile() throws Exception {\n             File file = new File(UNWATCHED_DIRECTORY, filename);\n             file.createNewFile();\n             Files.setAttribute(file.toPath(), \"dos:hidden\", true);\n-            Files.move(file.toPath(), EXISTING_SUBDIR_PATH.toPath());\n+            try {\n+                Files.move(file.toPath(), EXISTING_SUBDIR_PATH.toPath());\n+            } catch (java.nio.file.FileAlreadyExistsException e) {\n+\n+            }\n             try (Stream<Path> walk = Files.walk(UNWATCHED_DIRECTORY.toPath())) {", "originalCommit": "336e4dd683501c0ef447a348e748488477c326a1", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0e17130670f4c396ca717bbd5d4d678c361d6a15", "chunk": "diff --git a/itests/org.openhab.core.model.core.tests/src/main/java/org/openhab/core/model/core/internal/folder/FolderObserverTest.java b/itests/org.openhab.core.model.core.tests/src/main/java/org/openhab/core/model/core/internal/folder/FolderObserverTest.java\nindex ff4d68aa7..7be40cbbe 100644\n--- a/itests/org.openhab.core.model.core.tests/src/main/java/org/openhab/core/model/core/internal/folder/FolderObserverTest.java\n+++ b/itests/org.openhab.core.model.core.tests/src/main/java/org/openhab/core/model/core/internal/folder/FolderObserverTest.java\n\n@@ -416,7 +416,6 @@ public class FolderObserverTest extends JavaOSGiTest {\n             try {\n                 Files.move(file.toPath(), EXISTING_SUBDIR_PATH.toPath());\n             } catch (java.nio.file.FileAlreadyExistsException e) {\n-\n             }\n             try (Stream<Path> walk = Files.walk(UNWATCHED_DIRECTORY.toPath())) {\n                 walk.sorted(Comparator.reverseOrder()).map(Path::toFile).forEach(File::delete);\n"}}, {"oid": "0e17130670f4c396ca717bbd5d4d678c361d6a15", "url": "https://github.com/openhab/openhab-core/commit/0e17130670f4c396ca717bbd5d4d678c361d6a15", "message": "Update itests/org.openhab.core.model.core.tests/src/main/java/org/openhab/core/model/core/internal/folder/FolderObserverTest.java", "committedDate": "2020-08-22T21:02:44Z", "type": "commit"}]}