{"pr_number": 1611, "pr_title": "Allow property value to be updated to null", "pr_createdAt": "2020-08-26T09:27:47Z", "pr_url": "https://github.com/openhab/openhab-core/pull/1611", "timeline": [{"oid": "0c9b20193f21bc733a2ed6b231dbb9089a1480c7", "url": "https://github.com/openhab/openhab-core/commit/0c9b20193f21bc733a2ed6b231dbb9089a1480c7", "message": "Allow property value to be updated to null\n\nWith the changes in #1598 the BaseThingHandler could no longer update property values to null.\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-08-26T09:24:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc1MTg0Nw==", "url": "https://github.com/openhab/openhab-core/pull/1611#discussion_r479751847", "bodyText": "Hm, ... shouldn't the value be annotated by @Nullable then?", "author": "cweitkamp", "createdAt": "2020-08-30T10:29:49Z", "path": "bundles/org.openhab.core.thing/src/main/java/org/openhab/core/thing/binding/BaseThingHandler.java", "diffHunk": "@@ -509,7 +510,7 @@ protected void updateProperties(Map<String, String> properties) {\n      * @param value the value of the property\n      */\n     protected void updateProperty(String name, String value) {", "originalCommit": "0c9b20193f21bc733a2ed6b231dbb9089a1480c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNDIyOQ==", "url": "https://github.com/openhab/openhab-core/pull/1611#discussion_r479804229", "bodyText": "That makes sense and if we keep allowing null values the Map value type in protected void updateProperties(Map<String, String> properties) should also be properly annotated. I don't know how common it is for properties to be nullable. Another way could be to add a removeProperty method so we can rid of keys with null values. But updateProperties would also have to be updated for that and I don't know how breaking all these API changes would be. \ud83d\ude09", "author": "wborn", "createdAt": "2020-08-30T19:02:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc1MTg0Nw=="}], "type": "inlineReview", "revised_code": null}]}