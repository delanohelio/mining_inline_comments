{"pr_number": 1341, "pr_title": "added hashCode and equals method to StringListType to fix object comparison", "pr_createdAt": "2020-01-25T15:16:13Z", "pr_url": "https://github.com/openhab/openhab-core/pull/1341", "timeline": [{"oid": "696a316287ef9ef307c5b581abd9c58ebd80055e", "url": "https://github.com/openhab/openhab-core/commit/696a316287ef9ef307c5b581abd9c58ebd80055e", "message": "added hashCode and equals method to StringListType to fix object comparison\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-01-25T15:14:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk0Mzk3Mw==", "url": "https://github.com/openhab/openhab-core/pull/1341#discussion_r370943973", "bodyText": "We can return the result of the comparison directly:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!typeDetails.equals(other.typeDetails)) {\n          \n          \n            \n                        return false;\n          \n          \n            \n                    }\n          \n          \n            \n                    return true;\n          \n          \n            \n                    return typeDetails.equals(other.typeDetails);", "author": "cweitkamp", "createdAt": "2020-01-25T17:01:32Z", "path": "bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java", "diffHunk": "@@ -100,4 +101,30 @@ public static StringListType valueOf(String value) {\n         return new StringListType(value);\n     }\n \n+    @Override\n+    public int hashCode() {\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ((typeDetails == null) ? 0 : typeDetails.hashCode());\n+        return result;\n+    }\n+\n+    @Override\n+    public boolean equals(@Nullable Object obj) {\n+        if (this == obj) {\n+            return true;\n+        }\n+        if (obj == null) {\n+            return false;\n+        }\n+        if (getClass() != obj.getClass()) {\n+            return false;\n+        }\n+        StringListType other = (StringListType) obj;\n+        if (!typeDetails.equals(other.typeDetails)) {\n+            return false;\n+        }\n+        return true;", "originalCommit": "696a316287ef9ef307c5b581abd9c58ebd80055e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8d0f64026290b9b897ce85d82c320a245f50b738", "chunk": "diff --git a/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java b/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java\nindex 9db558d69..d9249f230 100644\n--- a/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java\n+++ b/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java\n\n@@ -105,7 +105,7 @@ public class StringListType implements Command, State {\n     public int hashCode() {\n         final int prime = 31;\n         int result = 1;\n-        result = prime * result + ((typeDetails == null) ? 0 : typeDetails.hashCode());\n+        result = prime * result + typeDetails.hashCode();\n         return result;\n     }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk0NDExMQ==", "url": "https://github.com/openhab/openhab-core/pull/1341#discussion_r370944111", "bodyText": "I think the property typeDetails never will be null as every constructor assigns some value to it. Furthermore it would be possible to add the final keyword to the typeDetails definition in line 36.", "author": "cweitkamp", "createdAt": "2020-01-25T17:04:35Z", "path": "bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java", "diffHunk": "@@ -100,4 +101,30 @@ public static StringListType valueOf(String value) {\n         return new StringListType(value);\n     }\n \n+    @Override\n+    public int hashCode() {\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ((typeDetails == null) ? 0 : typeDetails.hashCode());", "originalCommit": "696a316287ef9ef307c5b581abd9c58ebd80055e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8d0f64026290b9b897ce85d82c320a245f50b738", "chunk": "diff --git a/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java b/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java\nindex 9db558d69..d9249f230 100644\n--- a/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java\n+++ b/bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java\n\n@@ -105,7 +105,7 @@ public class StringListType implements Command, State {\n     public int hashCode() {\n         final int prime = 31;\n         int result = 1;\n-        result = prime * result + ((typeDetails == null) ? 0 : typeDetails.hashCode());\n+        result = prime * result + typeDetails.hashCode();\n         return result;\n     }\n \n"}}, {"oid": "8d0f64026290b9b897ce85d82c320a245f50b738", "url": "https://github.com/openhab/openhab-core/commit/8d0f64026290b9b897ce85d82c320a245f50b738", "message": "addressed review comments\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-01-25T18:58:24Z", "type": "commit"}]}