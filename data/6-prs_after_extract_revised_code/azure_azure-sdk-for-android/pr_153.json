{"pr_number": 153, "pr_title": "Created ClientLogger interface and its default implementation", "pr_createdAt": "2020-01-14T22:24:04Z", "pr_url": "https://github.com/Azure/azure-sdk-for-android/pull/153", "timeline": [{"oid": "dbcafee1bb3d37157627833e0db9d2147e84167d", "url": "https://github.com/Azure/azure-sdk-for-android/commit/dbcafee1bb3d37157627833e0db9d2147e84167d", "message": "Created ClientLogger interface and its default implementation as AndroidClientLogger that uses Android logging mechanisms. Modified all classes that used the logger to accept a given implementation or use the default one of nothing was provided.", "committedDate": "2020-01-14T22:17:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwNjYyOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r366606629", "bodyText": "nit; all caps needed only for static type, this could be just tag", "author": "anuchandy", "createdAt": "2020-01-14T22:28:39Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,118 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ *\n+ * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n+ * is the last argument of the format varargs and the logger is enabled for\n+ * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ *\n+ * <p><strong>Log level hierarchy</strong></p>\n+ * <ol>\n+ * <li>{@link AndroidClientLogger#error(String) Error}</li>\n+ * <li>{@link AndroidClientLogger#warning(String) Warning}</li>\n+ * <li>{@link AndroidClientLogger#info(String) Info}</li>\n+ * <li>{@link AndroidClientLogger#debug(String) Verbose}</li>\n+ * </ol>\n+ *\n+ */\n+public class AndroidClientLogger implements ClientLogger{\n+    private final String TAG;", "originalCommit": "dbcafee1bb3d37157627833e0db9d2147e84167d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY1NzM2NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r366657365", "bodyText": "You're right, I must have missed it :)", "author": "vcolin7", "createdAt": "2020-01-15T01:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwNjYyOQ=="}], "type": "inlineReview", "revised_code": {"commit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex 681d71d8a..be821a3fb 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,8 +5,13 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n+import androidx.annotation.IntDef;\n+\n import org.slf4j.LoggerFactory;\n \n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n /**\n  * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n  *\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNDIzNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r366634236", "bodyText": "I vaguly recall once Brandon told about IntDef, so was looking into IntDef and learned that ProGuard by default optimize enum to int, so we should be fine with enum @bsiegel ?\nhttps://www.guardsquare.com/en/products/proguard/manual/usage/optimizations\nhttps://stackoverflow.com/a/32236950", "author": "anuchandy", "createdAt": "2020-01-14T23:55:23Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/LogLevel.java", "diffHunk": "@@ -0,0 +1,49 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+/**\n+ * Enum which represent logging levels used in Azure SDKs.\n+ */\n+public enum LogLevel {\n+    /**\n+     * Indicates that log level is at verbose level.\n+     */\n+    DEBUG(1),", "originalCommit": "dbcafee1bb3d37157627833e0db9d2147e84167d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNTc0Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r366635746", "bodyText": "Based on the discussion in that SO post, it seems like that optimization may not work, or at least it's very difficult to get ProGuard to enable it. I'd suggest going with IntDef etc. unless we find that to be super burdensome.", "author": "bsiegel", "createdAt": "2020-01-15T00:00:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNDIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNzY3Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r366637677", "bodyText": "Good catch Brandon!.  @vcolin7 please see this https://developer.android.com/reference/androidx/annotation/IntDef.html", "author": "anuchandy", "createdAt": "2020-01-15T00:08:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNDIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY3MDkxMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r366670912", "bodyText": "Done :)", "author": "vcolin7", "createdAt": "2020-01-15T02:33:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNDIzNg=="}], "type": "inlineReview", "revised_code": {"commit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/LogLevel.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/LogLevel.java\ndeleted file mode 100644\nindex 1ccdaae8b..000000000\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/LogLevel.java\n+++ /dev/null\n\n@@ -1,49 +0,0 @@\n-// Copyright (c) Microsoft Corporation. All rights reserved.\n-// Licensed under the MIT License.\n-\n-package com.azure.android.core.util.logging;\n-\n-/**\n- * Enum which represent logging levels used in Azure SDKs.\n- */\n-public enum LogLevel {\n-    /**\n-     * Indicates that log level is at verbose level.\n-     */\n-    DEBUG(1),\n-\n-    /**\n-     * Indicates that log level is at information level.\n-     */\n-    INFORMATIONAL(2),\n-\n-    /**\n-     * Indicates that log level is at warning level.\n-     */\n-    WARNING(3),\n-\n-    /**\n-     * Indicates that log level is at error level.\n-     */\n-    ERROR(4),\n-\n-    /**\n-     * Indicates that no log level is set.\n-     */\n-    NOT_SET(5);\n-\n-    private final int numericValue;\n-\n-    LogLevel(int numericValue) {\n-        this.numericValue = numericValue;\n-    }\n-\n-    /**\n-     * Converts the log level into a numeric representation used for comparisons.\n-     *\n-     * @return The numeric representation of the log level.\n-     */\n-    public int getLogLevel() {\n-        return numericValue;\n-    }\n-}\n"}}, {"oid": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "url": "https://github.com/Azure/azure-sdk-for-android/commit/669c4dc05cb39d3a8066a6a23f40121b701b97af", "message": "Removed the LogLevel enum and instead added it as an interface that is part of AndroidClientLogger by using Android TypeDef annotations. Reformatted some code and JavaDoc comments.", "committedDate": "2020-01-15T02:32:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA1ODc5NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367058795", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Logs a message that at the {@code debug} log level.\n          \n          \n            \n                 * Logs a message at the {@code debug} log level.", "author": "bsiegel", "createdAt": "2020-01-15T19:17:33Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java", "diffHunk": "@@ -3,287 +3,112 @@\n \n package com.azure.android.core.util.logging;\n \n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-\n-import java.util.Arrays;\n-import java.util.Objects;\n-\n-/**\n- * This is a fluent logger helper class that wraps a pluggable {@link Logger}.\n- *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link ClientLogger#verbose(String, Object...) verbose}, the stack trace for the throwable is logged.</p>\n- *\n- * <p><strong>Log level hierarchy</strong></p>\n- * <ol>\n- * <li>{@link ClientLogger#error(String, Object...) Error}</li>\n- * <li>{@link ClientLogger#warning(String, Object...) Warning}</li>\n- * <li>{@link ClientLogger#info(String, Object...) Info}</li>\n- * <li>{@link ClientLogger#verbose(String, Object...) Verbose}</li>\n- * </ol>\n- *\n- */\n-public class ClientLogger {\n-    private final Logger logger;\n-\n-    /*\n-     * Indicates that log level is at verbose level.\n-     */\n-    private static final int VERBOSE_LEVEL = 1;\n-\n-    /*\n-     * Indicates that log level is at information level.\n-     */\n-    private static final int INFORMATIONAL_LEVEL = 2;\n-\n-    /*\n-     * Indicates that log level is at warning level.\n-     */\n-    private static final int WARNING_LEVEL = 3;\n-\n-    /*\n-     * Indicates that log level is at error level.\n-     */\n-    private static final int ERROR_LEVEL = 4;\n-\n-    /*\n-     * Indicates that logging is disabled.\n-     */\n-    private static final int DISABLED_LEVEL = 5;\n-\n+public interface ClientLogger {\n     /**\n-     * Retrieves a logger for the passed class using the {@link LoggerFactory}.\n+     * Logs a message that at the {@code debug} log level.", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA1OTIzMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367059232", "bodyText": "Also need to make this same change in many other doc comments in this file", "author": "bsiegel", "createdAt": "2020-01-15T19:18:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA1ODc5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java\nindex ea646108f..e965bead9 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java\n\n@@ -3,28 +3,78 @@\n \n package com.azure.android.core.util.logging;\n \n+import androidx.annotation.IntDef;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n public interface ClientLogger {\n     /**\n-     * Logs a message that at the {@code debug} log level.\n+     * Retrieves a default {@link AndroidClientLogger} for the name of the given class.\n      *\n-     * <p><strong>Code samples</strong></p>\n+     * @param clazz Class creating the logger.\n+     */\n+    static ClientLogger getDefault(Class<?> clazz) {\n+        return getDefault(clazz.getName());\n+    }\n+\n+    /**\n+     * Retrieves a default {@link AndroidClientLogger} for the given tag.\n      *\n-     * <p>Logging a message at the debug log level.</p>\n-     * <p>\n-     * {@codesnippet com.azure.core.util.logging.clientLogger.info}\n+     * @param tag Tag for the logger.\n+     */\n+    static ClientLogger getDefault(String tag) {\n+        return new AndroidClientLogger(tag);\n+    }\n+\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)\n+    @IntDef({LOG_LEVEL_DEBUG, LOG_LEVEL_INFO, LOG_LEVEL_WARNING, LOG_LEVEL_ERROR})\n+    @interface LogLevel {\n+    }\n+\n+    /**\n+     * Indicates that log level is at the debug level.\n+     */\n+    int LOG_LEVEL_DEBUG = 1;\n+\n+    /**\n+     * Indicates that log level is at the informational level.\n+     */\n+    int LOG_LEVEL_INFO = 2;\n+\n+    /**\n+     * Indicates that log level is at the warning level.\n+     */\n+    int LOG_LEVEL_WARNING = 3;\n+\n+    /**\n+     * Indicates that log level is at the error level.\n+     */\n+    int LOG_LEVEL_ERROR = 4;\n+\n+    /**\n+     * Returns the logger's log level.\n+     */\n+    @LogLevel\n+    int getLogLevel();\n+\n+    /**\n+     * Sets the log level for the logger.\n+     */\n+    void setLogLevel(@LogLevel int logLevel);\n+\n+    /**\n+     * Logs a message at the {@code debug} log level.\n      *\n      * @param message The message to log\n      */\n     void debug(String message);\n \n     /**\n-     * Logs a message that at the {@code debug} log level.\n-     *\n-     * <p><strong>Code samples</strong></p>\n-     *\n-     * <p>Logging a message at the debug log level.</p>\n-     * <p>\n-     * {@codesnippet com.azure.core.util.logging.clientLogger.info}\n+     * Logs a message at the {@code debug} log level.\n      *\n      * @param message   The message to log\n      * @param throwable An exception to log.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2MzM5Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367063393", "bodyText": "This is probably not a useful log message. Thinking of the customer experience here, they don't really need to see a stack trace in logcat - this is just some validation that's happening in our pipeline. I would probably do two things:\n1.) Construct the message as a string and simply log it at error level.\n2.) Throw an HttpResponseException (RuntimeException here is no good) containing the same message.", "author": "bsiegel", "createdAt": "2020-01-15T19:27:30Z", "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java", "diffHunk": "@@ -52,10 +72,14 @@ public Response intercept(@NotNull Chain chain) throws IOException {\n             String requestHeaderValue = request.header(headerName);\n \n             if (CoreUtils.isNullOrEmpty(responseHeaderValue) || !responseHeaderValue.equals(requestHeaderValue)) {\n-                throw logger.logExceptionAsError(new RuntimeException(String.format(\n+                RuntimeException exception = new RuntimeException(String.format(\n                     \"Unexpected header value. Expected response to echo '%s: %s'. Got value '%s'.\",\n                     headerName, requestHeaderValue, responseHeaderValue\n-                )));\n+                ));\n+\n+                logger.error(\"Exception found.\", exception);", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java b/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java\nindex 75ca337b5..7ce3fa53e 100644\n--- a/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java\n+++ b/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java\n\n@@ -72,14 +72,13 @@ public class ResponseHeadersValidationInterceptor implements Interceptor {\n             String requestHeaderValue = request.header(headerName);\n \n             if (CoreUtils.isNullOrEmpty(responseHeaderValue) || !responseHeaderValue.equals(requestHeaderValue)) {\n-                RuntimeException exception = new RuntimeException(String.format(\n+                String errorMessage = String.format(\n                     \"Unexpected header value. Expected response to echo '%s: %s'. Got value '%s'.\",\n-                    headerName, requestHeaderValue, responseHeaderValue\n-                ));\n+                    headerName, requestHeaderValue, responseHeaderValue);\n \n-                logger.error(\"Exception found.\", exception);\n+                logger.error(errorMessage);\n \n-                throw exception;\n+                throw new HttpResponseException(errorMessage, response);\n             }\n         }\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Njg1MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367066850", "bodyText": "This is okay, but I feel like it would be nice for customers to not have to know about any particular subclass of ClientLogger. Since we can now have static methods on interfaces, what do you think about adding a ClientLogger.getDefault(String tag / Class clazz) which returns an instance of AndroidClientLogger?", "author": "bsiegel", "createdAt": "2020-01-15T19:34:43Z", "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java", "diffHunk": "@@ -18,27 +19,46 @@\n  * {@code Response}.\n  */\n public class ResponseHeadersValidationInterceptor implements Interceptor {\n-    private final ClientLogger logger = new ClientLogger(ResponseHeadersValidationInterceptor.class);\n+    private final ClientLogger logger;\n \n     private static final String CLIENT_ID_HEADER = \"x-ms-client-id\";\n     private static final String ENCRYPTION_KEY_SHA256_HEADER = \"x-ms-encryption-key-sha256\";\n \n     private final Collection<String> headerNames = new ArrayList<>();\n \n     /**\n-     * Constructor that adds two mandatory headers used by Storage.\n+     * Constructor that adds two mandatory headers used by Storage and uses the default {@link AndroidClientLogger}.\n      */\n     public ResponseHeadersValidationInterceptor() {\n+        this(new AndroidClientLogger(ResponseHeadersValidationInterceptor.class));", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzYyNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367077627", "bodyText": "The other advantage is that consumers don't have to import the AndroidClientLogger class.", "author": "bsiegel", "createdAt": "2020-01-15T19:58:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Njg1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE5NjU2Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367196562", "bodyText": "Sounds good, thanks for that suggestion :)", "author": "vcolin7", "createdAt": "2020-01-16T01:52:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Njg1MA=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java b/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java\nindex 75ca337b5..7ce3fa53e 100644\n--- a/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java\n+++ b/sdk/storage/azure-storage-common/src/main/java/com/azure/android/storage/common/interceptor/ResponseHeadersValidationInterceptor.java\n\n@@ -27,10 +27,10 @@ public class ResponseHeadersValidationInterceptor implements Interceptor {\n     private final Collection<String> headerNames = new ArrayList<>();\n \n     /**\n-     * Constructor that adds two mandatory headers used by Storage and uses the default {@link AndroidClientLogger}.\n+     * Constructor that adds two mandatory headers used by Storage and uses a default {@link ClientLogger}.\n      */\n     public ResponseHeadersValidationInterceptor() {\n-        this(new AndroidClientLogger(ResponseHeadersValidationInterceptor.class));\n+        this(ClientLogger.getDefault(ResponseHeadersValidationInterceptor.class));\n     }\n \n     /**\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2NzYwNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367067607", "bodyText": "Guessing this snippet reference will also need to be updated (and the same for the other log level methods)", "author": "bsiegel", "createdAt": "2020-01-15T19:36:20Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java", "diffHunk": "@@ -3,287 +3,112 @@\n \n package com.azure.android.core.util.logging;\n \n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-\n-import java.util.Arrays;\n-import java.util.Objects;\n-\n-/**\n- * This is a fluent logger helper class that wraps a pluggable {@link Logger}.\n- *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link ClientLogger#verbose(String, Object...) verbose}, the stack trace for the throwable is logged.</p>\n- *\n- * <p><strong>Log level hierarchy</strong></p>\n- * <ol>\n- * <li>{@link ClientLogger#error(String, Object...) Error}</li>\n- * <li>{@link ClientLogger#warning(String, Object...) Warning}</li>\n- * <li>{@link ClientLogger#info(String, Object...) Info}</li>\n- * <li>{@link ClientLogger#verbose(String, Object...) Verbose}</li>\n- * </ol>\n- *\n- */\n-public class ClientLogger {\n-    private final Logger logger;\n-\n-    /*\n-     * Indicates that log level is at verbose level.\n-     */\n-    private static final int VERBOSE_LEVEL = 1;\n-\n-    /*\n-     * Indicates that log level is at information level.\n-     */\n-    private static final int INFORMATIONAL_LEVEL = 2;\n-\n-    /*\n-     * Indicates that log level is at warning level.\n-     */\n-    private static final int WARNING_LEVEL = 3;\n-\n-    /*\n-     * Indicates that log level is at error level.\n-     */\n-    private static final int ERROR_LEVEL = 4;\n-\n-    /*\n-     * Indicates that logging is disabled.\n-     */\n-    private static final int DISABLED_LEVEL = 5;\n-\n+public interface ClientLogger {\n     /**\n-     * Retrieves a logger for the passed class using the {@link LoggerFactory}.\n+     * Logs a message that at the {@code debug} log level.\n      *\n-     * @param clazz Class creating the logger.\n-     */\n-    public ClientLogger(Class<?> clazz) {\n-        this(clazz.getName());\n-    }\n-\n-    /**\n-     * Retrieves a logger for the passed class name using the {@link LoggerFactory}.\n+     * <p><strong>Code samples</strong></p>\n+     *\n+     * <p>Logging a message at the debug log level.</p>\n+     * <p>\n+     * {@codesnippet com.azure.core.util.logging.clientLogger.info}", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE5NTY3Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367195672", "bodyText": "@bsiegel I brought this up the first time we reviewed the ClientLogger and we didn't really discussed it any further. I would prefer to remove all these references and add them when necessary, since no other piece of code has anything like it yet.\nKeep it simple. What do you think?", "author": "vcolin7", "createdAt": "2020-01-16T01:48:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2NzYwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU5ODI3Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367598273", "bodyText": "Sounds good to me, as part of march towards GA we will make sure to add snippets & snippet references. Until then I'm fine with them either being incorrect or missing.", "author": "bsiegel", "createdAt": "2020-01-16T19:09:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2NzYwNw=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java\nindex ea646108f..e965bead9 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/ClientLogger.java\n\n@@ -3,28 +3,78 @@\n \n package com.azure.android.core.util.logging;\n \n+import androidx.annotation.IntDef;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n public interface ClientLogger {\n     /**\n-     * Logs a message that at the {@code debug} log level.\n+     * Retrieves a default {@link AndroidClientLogger} for the name of the given class.\n      *\n-     * <p><strong>Code samples</strong></p>\n+     * @param clazz Class creating the logger.\n+     */\n+    static ClientLogger getDefault(Class<?> clazz) {\n+        return getDefault(clazz.getName());\n+    }\n+\n+    /**\n+     * Retrieves a default {@link AndroidClientLogger} for the given tag.\n      *\n-     * <p>Logging a message at the debug log level.</p>\n-     * <p>\n-     * {@codesnippet com.azure.core.util.logging.clientLogger.info}\n+     * @param tag Tag for the logger.\n+     */\n+    static ClientLogger getDefault(String tag) {\n+        return new AndroidClientLogger(tag);\n+    }\n+\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)\n+    @IntDef({LOG_LEVEL_DEBUG, LOG_LEVEL_INFO, LOG_LEVEL_WARNING, LOG_LEVEL_ERROR})\n+    @interface LogLevel {\n+    }\n+\n+    /**\n+     * Indicates that log level is at the debug level.\n+     */\n+    int LOG_LEVEL_DEBUG = 1;\n+\n+    /**\n+     * Indicates that log level is at the informational level.\n+     */\n+    int LOG_LEVEL_INFO = 2;\n+\n+    /**\n+     * Indicates that log level is at the warning level.\n+     */\n+    int LOG_LEVEL_WARNING = 3;\n+\n+    /**\n+     * Indicates that log level is at the error level.\n+     */\n+    int LOG_LEVEL_ERROR = 4;\n+\n+    /**\n+     * Returns the logger's log level.\n+     */\n+    @LogLevel\n+    int getLogLevel();\n+\n+    /**\n+     * Sets the log level for the logger.\n+     */\n+    void setLogLevel(@LogLevel int logLevel);\n+\n+    /**\n+     * Logs a message at the {@code debug} log level.\n      *\n      * @param message The message to log\n      */\n     void debug(String message);\n \n     /**\n-     * Logs a message that at the {@code debug} log level.\n-     *\n-     * <p><strong>Code samples</strong></p>\n-     *\n-     * <p>Logging a message at the debug log level.</p>\n-     * <p>\n-     * {@codesnippet com.azure.core.util.logging.clientLogger.info}\n+     * Logs a message at the {@code debug} log level.\n      *\n      * @param message   The message to log\n      * @param throwable An exception to log.\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2ODM2OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367068369", "bodyText": "What's your feeling about moving these to a .impl subpackage? E.g. \"com.azure.android.core.util.logging.impl\"? And the same pattern for other places where we introduce an interface and then one or more platform-dependent implementations?", "author": "bsiegel", "createdAt": "2020-01-15T19:37:56Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIwNTYzNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367205637", "bodyText": "I don't feel strongly about either keeping it as it is of creating a new package. My only concert would be that we have an .implementation package already which doesn't follow this principle. I remember someone raised a question about this package's purpose in one of our meetings to Jonathan but I can't honestly recall his reasoning. Would you mind shedding light on this again @JonathanGiles? :)", "author": "vcolin7", "createdAt": "2020-01-16T02:37:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2ODM2OQ=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2ODU0NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367068545", "bodyText": "Unnecessary import from a now-unused dependency", "author": "bsiegel", "createdAt": "2020-01-15T19:38:19Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import androidx.annotation.IntDef;\n+\n+import org.slf4j.LoggerFactory;", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2OTIzMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367069231", "bodyText": "This interface, and the setLogLevel and getLogLevel methods, should probably be a part of the ClientLogger interface. Any client logger will need to be able to have its log level changed.", "author": "bsiegel", "createdAt": "2020-01-15T19:39:43Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import androidx.annotation.IntDef;\n+\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ *\n+ * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n+ * is the last argument of the format varargs and the logger is enabled for\n+ * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ *\n+ * <p><strong>Log level hierarchy</strong></p>\n+ * <ol>\n+ * <li>{@link AndroidClientLogger#error(String) Error}</li>\n+ * <li>{@link AndroidClientLogger#warning(String) Warning}</li>\n+ * <li>{@link AndroidClientLogger#info(String) Info}</li>\n+ * <li>{@link AndroidClientLogger#debug(String) Verbose}</li>\n+ * </ol>\n+ */\n+public class AndroidClientLogger implements ClientLogger {\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2OTkxMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367069912", "bodyText": "Also by convention, each member should start with the name of the interface it belongs to in SCREAMING_SNAKE_CASE e.g. \"LOG_LEVEL_DEBUG\".\nAdditionally thank you for providing me the opportunity to use the phrase \"screaming snake case\" :)", "author": "bsiegel", "createdAt": "2020-01-15T19:41:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2OTIzMQ=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3MDUzMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367070533", "bodyText": "What is the value in having a NOT_SET? We should just pick a reasonable default for the log level (currently iOS uses \"info\") when initializing this logger.", "author": "bsiegel", "createdAt": "2020-01-15T19:42:33Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import androidx.annotation.IntDef;\n+\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ *\n+ * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n+ * is the last argument of the format varargs and the logger is enabled for\n+ * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ *\n+ * <p><strong>Log level hierarchy</strong></p>\n+ * <ol>\n+ * <li>{@link AndroidClientLogger#error(String) Error}</li>\n+ * <li>{@link AndroidClientLogger#warning(String) Warning}</li>\n+ * <li>{@link AndroidClientLogger#info(String) Info}</li>\n+ * <li>{@link AndroidClientLogger#debug(String) Verbose}</li>\n+ * </ol>\n+ */\n+public class AndroidClientLogger implements ClientLogger {\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)\n+    @IntDef({DEBUG, INFO, WARNING, ERROR, NOT_SET})\n+    public @interface LogLevel {}\n+\n+    /**\n+     * Indicates that log level is at the debug level.\n+     */\n+    public static final int DEBUG = 1;\n+\n+    /**\n+     * Indicates that log level is at the informational level.\n+     */\n+    public static final int INFO = 2;\n+\n+    /**\n+     * Indicates that log level is at the warning level.\n+     */\n+    public static final int WARNING = 3;\n+\n+    /**\n+     * Indicates that log level is at the error level.\n+     */\n+    public static final int ERROR = 4;\n+\n+    /**\n+     * Indicates that no log level is set.\n+     */\n+    public static final int NOT_SET = 5;", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxNTI3OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367215278", "bodyText": "@bsiegel This came from the Java SDK where they check if the level has not been set or is greater than even error so nothing is logged. I guess I don't really know what customers would prefer is the default behavior, but I think we can stick with INFO like you propose :)\nMaybe we could ask the Java folks why they chose this route as well.", "author": "vcolin7", "createdAt": "2020-01-16T03:27:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3MDUzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU5OTUwNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367599507", "bodyText": "Oh, it sounds like the solution for \"don't log anything\" is to set the level to NOT_SET (which is surprising to me - I would expect it to be called e.g. NONE).\nOn iOS we provide a ClientLoggers.none which is basically an implementation of the null object pattern - it's a ClientLogger which never actually logs anything.\nI could go either way on this. I don't remember seeing other logging frameworks where you turn off logging by changing the verbosity level, that's why it surprised me. Would love to hear opinions from the peanut gallery.", "author": "bsiegel", "createdAt": "2020-01-16T19:12:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3MDUzMw=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NjU5NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367076594", "bodyText": "Need to update this comment and the one below", "author": "bsiegel", "createdAt": "2020-01-15T19:55:55Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import androidx.annotation.IntDef;\n+\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ *\n+ * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n+ * is the last argument of the format varargs and the logger is enabled for\n+ * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ *\n+ * <p><strong>Log level hierarchy</strong></p>\n+ * <ol>\n+ * <li>{@link AndroidClientLogger#error(String) Error}</li>\n+ * <li>{@link AndroidClientLogger#warning(String) Warning}</li>\n+ * <li>{@link AndroidClientLogger#info(String) Info}</li>\n+ * <li>{@link AndroidClientLogger#debug(String) Verbose}</li>\n+ * </ol>\n+ */\n+public class AndroidClientLogger implements ClientLogger {\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)\n+    @IntDef({DEBUG, INFO, WARNING, ERROR, NOT_SET})\n+    public @interface LogLevel {}\n+\n+    /**\n+     * Indicates that log level is at the debug level.\n+     */\n+    public static final int DEBUG = 1;\n+\n+    /**\n+     * Indicates that log level is at the informational level.\n+     */\n+    public static final int INFO = 2;\n+\n+    /**\n+     * Indicates that log level is at the warning level.\n+     */\n+    public static final int WARNING = 3;\n+\n+    /**\n+     * Indicates that log level is at the error level.\n+     */\n+    public static final int ERROR = 4;\n+\n+    /**\n+     * Indicates that no log level is set.\n+     */\n+    public static final int NOT_SET = 5;\n+\n+    private final String tag;\n+    private int logLevel;\n+\n+    /**\n+     * Retrieves a logger for the passed class using the {@link LoggerFactory}.", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzAyNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367077027", "bodyText": "This should be annotated with the @LogLevel annotation", "author": "bsiegel", "createdAt": "2020-01-15T19:56:46Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import androidx.annotation.IntDef;\n+\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ *\n+ * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n+ * is the last argument of the format varargs and the logger is enabled for\n+ * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ *\n+ * <p><strong>Log level hierarchy</strong></p>\n+ * <ol>\n+ * <li>{@link AndroidClientLogger#error(String) Error}</li>\n+ * <li>{@link AndroidClientLogger#warning(String) Warning}</li>\n+ * <li>{@link AndroidClientLogger#info(String) Info}</li>\n+ * <li>{@link AndroidClientLogger#debug(String) Verbose}</li>\n+ * </ol>\n+ */\n+public class AndroidClientLogger implements ClientLogger {\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)\n+    @IntDef({DEBUG, INFO, WARNING, ERROR, NOT_SET})\n+    public @interface LogLevel {}\n+\n+    /**\n+     * Indicates that log level is at the debug level.\n+     */\n+    public static final int DEBUG = 1;\n+\n+    /**\n+     * Indicates that log level is at the informational level.\n+     */\n+    public static final int INFO = 2;\n+\n+    /**\n+     * Indicates that log level is at the warning level.\n+     */\n+    public static final int WARNING = 3;\n+\n+    /**\n+     * Indicates that log level is at the error level.\n+     */\n+    public static final int ERROR = 4;\n+\n+    /**\n+     * Indicates that no log level is set.\n+     */\n+    public static final int NOT_SET = 5;\n+\n+    private final String tag;\n+    private int logLevel;\n+\n+    /**\n+     * Retrieves a logger for the passed class using the {@link LoggerFactory}.\n+     *\n+     * @param clazz Class creating the logger.\n+     */\n+    public AndroidClientLogger(Class<?> clazz) {\n+        this(clazz.getName());\n+    }\n+\n+    /**\n+     * Retrieves a logger for the passed class name using the {@link LoggerFactory}.\n+     *\n+     * @param tag Class name creating the logger.\n+     */\n+    public AndroidClientLogger(String tag) {\n+        this.tag = tag;\n+    }\n+\n+    /**\n+     * Returns this logger's log level.\n+     *\n+     * @return The log level.\n+     */\n+    @LogLevel\n+    public int getLogLevel() {\n+        return logLevel;\n+    }\n+\n+    /**\n+     * Sets the log level for this logger.\n+     */\n+    public void setLogLevel(@LogLevel int logLevel) {\n+        this.logLevel = logLevel;\n+    }\n+\n+    public void debug(String message) {\n+        if (canLogAtLevel(DEBUG)) {\n+            Log.d(tag, message);\n+        }\n+    }\n+\n+    public void debug(String message, Throwable throwable) {\n+        if (canLogAtLevel(DEBUG)) {\n+            Log.d(tag, message, throwable);\n+        }\n+    }\n+\n+    public void info(String message) {\n+        if (canLogAtLevel(INFO)) {\n+            Log.i(tag, message);\n+        }\n+    }\n+\n+    public void info(String message, Throwable throwable) {\n+        if (canLogAtLevel(INFO)) {\n+            Log.i(tag, message, throwable);\n+        }\n+    }\n+\n+    public void warning(String message) {\n+        if (canLogAtLevel(WARNING)) {\n+            Log.w(tag, message);\n+        }\n+    }\n+\n+    public void warning(String message, Throwable throwable) {\n+        if (canLogAtLevel(WARNING)) {\n+            Log.w(tag, message, throwable);\n+        }\n+    }\n+\n+    public void error(String message) {\n+        if (canLogAtLevel(ERROR)) {\n+            Log.e(tag, message);\n+        }\n+    }\n+\n+    public void error(String message, Throwable throwable) {\n+        if (canLogAtLevel(ERROR)) {\n+            Log.e(tag, message, throwable);\n+        }\n+    }\n+\n+    /**\n+     * Determines if the logger supports logging at the given log level.\n+     *\n+     * @param logLevel Logging level to validate.\n+     * @return Flag indicating if the environment and logger are configured to support logging at the given log level.\n+     */\n+    private boolean canLogAtLevel(int logLevel) {", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIwMjY2Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367202666", "bodyText": "@bsiegel I didn't do that since this is a private method and we control who calls it, but I think it doesn't hurt to use annotations to make explicitly clear what is expected in this method.", "author": "vcolin7", "createdAt": "2020-01-16T02:22:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzAyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU5OTg2MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367599861", "bodyText": "Yep, at the very least it provides some nice intellisense when so annotated.", "author": "bsiegel", "createdAt": "2020-01-16T19:13:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzAyNw=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzI1OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367077258", "bodyText": "I /think/ the proper signature for this is public @LogLevel int getLogLevel() but not sure - opinions?", "author": "bsiegel", "createdAt": "2020-01-15T19:57:19Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java", "diffHunk": "@@ -0,0 +1,163 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.util.logging;\n+\n+import android.util.Log;\n+\n+import androidx.annotation.IntDef;\n+\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ *\n+ * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n+ * is the last argument of the format varargs and the logger is enabled for\n+ * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ *\n+ * <p><strong>Log level hierarchy</strong></p>\n+ * <ol>\n+ * <li>{@link AndroidClientLogger#error(String) Error}</li>\n+ * <li>{@link AndroidClientLogger#warning(String) Warning}</li>\n+ * <li>{@link AndroidClientLogger#info(String) Info}</li>\n+ * <li>{@link AndroidClientLogger#debug(String) Verbose}</li>\n+ * </ol>\n+ */\n+public class AndroidClientLogger implements ClientLogger {\n+    /**\n+     * This interface represents the logging levels used in Azure SDKs.\n+     */\n+    @Retention(RetentionPolicy.SOURCE)\n+    @IntDef({DEBUG, INFO, WARNING, ERROR, NOT_SET})\n+    public @interface LogLevel {}\n+\n+    /**\n+     * Indicates that log level is at the debug level.\n+     */\n+    public static final int DEBUG = 1;\n+\n+    /**\n+     * Indicates that log level is at the informational level.\n+     */\n+    public static final int INFO = 2;\n+\n+    /**\n+     * Indicates that log level is at the warning level.\n+     */\n+    public static final int WARNING = 3;\n+\n+    /**\n+     * Indicates that log level is at the error level.\n+     */\n+    public static final int ERROR = 4;\n+\n+    /**\n+     * Indicates that no log level is set.\n+     */\n+    public static final int NOT_SET = 5;\n+\n+    private final String tag;\n+    private int logLevel;\n+\n+    /**\n+     * Retrieves a logger for the passed class using the {@link LoggerFactory}.\n+     *\n+     * @param clazz Class creating the logger.\n+     */\n+    public AndroidClientLogger(Class<?> clazz) {\n+        this(clazz.getName());\n+    }\n+\n+    /**\n+     * Retrieves a logger for the passed class name using the {@link LoggerFactory}.\n+     *\n+     * @param tag Class name creating the logger.\n+     */\n+    public AndroidClientLogger(String tag) {\n+        this.tag = tag;\n+    }\n+\n+    /**\n+     * Returns this logger's log level.\n+     *\n+     * @return The log level.\n+     */\n+    @LogLevel\n+    public int getLogLevel() {", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIwMjAwMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367202001", "bodyText": "@bsiegel The documentation for IntDef shows this is the correct syntax. Here are some examples I found somewhere else.", "author": "vcolin7", "createdAt": "2020-01-16T02:19:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzI1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIwMjE2MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367202161", "bodyText": "Maybe what you propose also works, I haven't tried it though.", "author": "vcolin7", "createdAt": "2020-01-16T02:20:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzI1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMTA4Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367601087", "bodyText": "Yep, quite right. Looked up the spec and that's the right place - because we have to annotate the method itself, since there is a way to annotate a method parameter but no way to annotate a method return type.", "author": "bsiegel", "createdAt": "2020-01-16T19:15:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NzI1OA=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\nindex be821a3fb..d5cd41ff7 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/util/logging/AndroidClientLogger.java\n\n@@ -5,19 +5,11 @@ package com.azure.android.core.util.logging;\n \n import android.util.Log;\n \n-import androidx.annotation.IntDef;\n-\n-import org.slf4j.LoggerFactory;\n-\n-import java.lang.annotation.Retention;\n-import java.lang.annotation.RetentionPolicy;\n-\n /**\n- * This is a fluent logger helper class that implements the {@link ClientLogger} interface.\n+ * This is a fluent logger helper class that implements the {@link ClientLogger} interface and uses the Android\n+ * {@link Log} class and its methods.\n  *\n- * <p>This logger logs formattable messages that use {@code {}} as the placeholder. When a {@link Throwable throwable}\n- * is the last argument of the format varargs and the logger is enabled for\n- * {@link AndroidClientLogger#debug(String) debug}, the stack trace for the throwable is logged.</p>\n+ * <p>The default log level is INFO</p>\n  *\n  * <p><strong>Log level hierarchy</strong></p>\n  * <ol>\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3OTU5OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367079598", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return Long value indicating the content length of the Request or Response\n          \n          \n            \n                 * @return The content length of the Request or Response\n          \n      \n    \n    \n  \n\nThe type is encoded in the signature, let's not bother duplicating that in the documentation.", "author": "bsiegel", "createdAt": "2020-01-15T20:02:34Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogUtils.java", "diffHunk": "@@ -16,7 +19,7 @@\n      * Attempts to retrieve and parse the Content-Length header into a numeric representation.\n      *\n      * @param headers HTTP headers that are checked for containing Content-Length.\n-     * @return long value indicating the content length of the Request or Response\n+     * @return Long value indicating the content length of the Request or Response", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogUtils.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogUtils.java\nindex 8205da03d..74d1dda5c 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogUtils.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogUtils.java\n\n@@ -19,7 +19,7 @@ interface LogUtils {\n      * Attempts to retrieve and parse the Content-Length header into a numeric representation.\n      *\n      * @param headers HTTP headers that are checked for containing Content-Length.\n-     * @return Long value indicating the content length of the Request or Response\n+     * @return The content length of the Request or Response.\n      */\n     static long getContentLength(Headers headers) {\n         long contentLength = 0;\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MDMxOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367080318", "bodyText": "For iOS we just truncated this application ID. Should we just do the same here? I don't feel like it's worth throwing an error.\nAlso, regardless of whether you change this or not, we should make the limitation clear in the doc comment on L157.", "author": "bsiegel", "createdAt": "2020-01-15T20:04:18Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java", "diffHunk": "@@ -146,17 +159,26 @@ public String getApplicationId() {\n      */\n     public LogOptions setApplicationId(final String applicationId) {\n         if (!CoreUtils.isNullOrEmpty(applicationId)) {\n+            RuntimeException exception;\n+\n             if (applicationId.length() > MAX_APPLICATION_ID_LENGTH) {\n-                throw logger\n-                    .logExceptionAsError(new IllegalArgumentException(\"'applicationId' length cannot be greater than \"\n-                        + MAX_APPLICATION_ID_LENGTH));\n+                exception = new IllegalArgumentException(\"'applicationId' length cannot be greater than \"", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MjEwMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367082101", "bodyText": "Ignore this comment (or at least apply it to the appropriate place in UserAgentInterceptor) if we remove this from LogOptions", "author": "bsiegel", "createdAt": "2020-01-15T20:08:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MDMxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODUyMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367218522", "bodyText": "I stated this on a different comment, but I think we should determine how undesirable it would be to have an incomplete or incorrect Application ID to determine the course of action.", "author": "vcolin7", "createdAt": "2020-01-16T03:46:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MDMxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwNDI4Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367604282", "bodyText": "Yep, agreed. On iOS we have exactly the same problem, except worse because we accept the various options in the UserAgentPolicy initializer and most users don't expect constructors to throw exceptions.\nOne challenge is that for iOS we populate the applicationId as the bundle identifier if the user doesn't supply one. If the bundle identifier is > 24 characters, then the user will get an exception without ever doing anything related to the applicationId.\nFor Android I would think we'd want a similar default (probably group ID + artifact ID) for applicationId, so even though this isn't being set in a constructor, it'd still be surprising. Maybe let's chat with @adrianhall and see if he has some guidance.", "author": "bsiegel", "createdAt": "2020-01-16T19:22:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MDMxOA=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\nindex f5158c618..c13cba0b0 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\n\n@@ -141,44 +125,4 @@ public class LogOptions {\n \n         return this;\n     }\n-\n-    /**\n-     * Gets the application specific id.\n-     *\n-     * @return The application specific id.\n-     */\n-    public String getApplicationId() {\n-        return applicationId;\n-    }\n-\n-    /**\n-     * Sets the custom application specific id supplied by the user of the client library.\n-     *\n-     * @param applicationId The user specified application id.\n-     * @return The updated HttpLogOptions object.\n-     */\n-    public LogOptions setApplicationId(final String applicationId) {\n-        if (!CoreUtils.isNullOrEmpty(applicationId)) {\n-            RuntimeException exception;\n-\n-            if (applicationId.length() > MAX_APPLICATION_ID_LENGTH) {\n-                exception = new IllegalArgumentException(\"'applicationId' length cannot be greater than \"\n-                    + MAX_APPLICATION_ID_LENGTH);\n-\n-                logger.error(\"Error found when setting Application ID\", exception);\n-\n-                throw exception;\n-            } else if (applicationId.contains(\" \")) {\n-                exception = new IllegalArgumentException(\"'applicationId' must not contain a space.\");\n-\n-                logger.error(\"Error found when setting Application ID\", exception);\n-\n-                throw exception;\n-            } else {\n-                this.applicationId = applicationId;\n-            }\n-        }\n-\n-        return this;\n-    }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MTg5NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367081895", "bodyText": "Actually why is this in LogOptions?  AFAIK the application ID is used only for the user agent interceptor.", "author": "bsiegel", "createdAt": "2020-01-15T20:07:46Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java", "diffHunk": "@@ -146,17 +159,26 @@ public String getApplicationId() {\n      */\n     public LogOptions setApplicationId(final String applicationId) {", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxNzYyMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367217623", "bodyText": "@bsiegel This was originally taken from the Java SDK. Could it be that they wanted to include the Application ID in the logs?", "author": "vcolin7", "createdAt": "2020-01-16T03:41:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MTg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxNzg0NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367217845", "bodyText": "Anyways, I will remove this from here for now and ask the Java team the reasoning behind this. If we see value in having it we can add it later.", "author": "vcolin7", "createdAt": "2020-01-16T03:42:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MTg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMzAzOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367603038", "bodyText": "Sounds good, as far as I know it's only used in that one place. If we find a use for it in logging we can always add it back.", "author": "bsiegel", "createdAt": "2020-01-16T19:20:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4MTg5NQ=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\nindex f5158c618..c13cba0b0 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\n\n@@ -141,44 +125,4 @@ public class LogOptions {\n \n         return this;\n     }\n-\n-    /**\n-     * Gets the application specific id.\n-     *\n-     * @return The application specific id.\n-     */\n-    public String getApplicationId() {\n-        return applicationId;\n-    }\n-\n-    /**\n-     * Sets the custom application specific id supplied by the user of the client library.\n-     *\n-     * @param applicationId The user specified application id.\n-     * @return The updated HttpLogOptions object.\n-     */\n-    public LogOptions setApplicationId(final String applicationId) {\n-        if (!CoreUtils.isNullOrEmpty(applicationId)) {\n-            RuntimeException exception;\n-\n-            if (applicationId.length() > MAX_APPLICATION_ID_LENGTH) {\n-                exception = new IllegalArgumentException(\"'applicationId' length cannot be greater than \"\n-                    + MAX_APPLICATION_ID_LENGTH);\n-\n-                logger.error(\"Error found when setting Application ID\", exception);\n-\n-                throw exception;\n-            } else if (applicationId.contains(\" \")) {\n-                exception = new IllegalArgumentException(\"'applicationId' must not contain a space.\");\n-\n-                logger.error(\"Error found when setting Application ID\", exception);\n-\n-                throw exception;\n-            } else {\n-                this.applicationId = applicationId;\n-            }\n-        }\n-\n-        return this;\n-    }\n }\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4Mjc1OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367082759", "bodyText": "I'm trying to think of a better way to handle the assertions about the format of the application ID. Suggestions?", "author": "bsiegel", "createdAt": "2020-01-15T20:09:52Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java", "diffHunk": "@@ -146,17 +159,26 @@ public String getApplicationId() {\n      */\n     public LogOptions setApplicationId(final String applicationId) {\n         if (!CoreUtils.isNullOrEmpty(applicationId)) {\n+            RuntimeException exception;\n+\n             if (applicationId.length() > MAX_APPLICATION_ID_LENGTH) {\n-                throw logger\n-                    .logExceptionAsError(new IllegalArgumentException(\"'applicationId' length cannot be greater than \"\n-                        + MAX_APPLICATION_ID_LENGTH));\n+                exception = new IllegalArgumentException(\"'applicationId' length cannot be greater than \"\n+                    + MAX_APPLICATION_ID_LENGTH);\n+\n+                logger.error(\"Error found when setting Application ID\", exception);\n+\n+                throw exception;\n             } else if (applicationId.contains(\" \")) {\n-                throw logger\n-                    .logExceptionAsError(new IllegalArgumentException(\"'applicationId' must not contain a space.\"));\n+                exception = new IllegalArgumentException(\"'applicationId' must not contain a space.\");", "originalCommit": "669c4dc05cb39d3a8066a6a23f40121b701b97af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4Mjc4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367082783", "bodyText": "Ignore this comment (or at least apply it to the appropriate place in UserAgentInterceptor) if we remove this from LogOptions", "author": "bsiegel", "createdAt": "2020-01-15T20:09:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4Mjc1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE2Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/153#discussion_r367218163", "bodyText": "@bsiegel Aside from the User-Agent string, I'm not sure what we would want the Application ID for and how bad could it be if there is an error in the value passed on by customers. I'll ask the Java folks.", "author": "vcolin7", "createdAt": "2020-01-16T03:43:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4Mjc1OQ=="}], "type": "inlineReview", "revised_code": {"commit": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "chunk": "diff --git a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\nindex f5158c618..c13cba0b0 100644\n--- a/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\n+++ b/sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/LogOptions.java\n\n@@ -141,44 +125,4 @@ public class LogOptions {\n \n         return this;\n     }\n-\n-    /**\n-     * Gets the application specific id.\n-     *\n-     * @return The application specific id.\n-     */\n-    public String getApplicationId() {\n-        return applicationId;\n-    }\n-\n-    /**\n-     * Sets the custom application specific id supplied by the user of the client library.\n-     *\n-     * @param applicationId The user specified application id.\n-     * @return The updated HttpLogOptions object.\n-     */\n-    public LogOptions setApplicationId(final String applicationId) {\n-        if (!CoreUtils.isNullOrEmpty(applicationId)) {\n-            RuntimeException exception;\n-\n-            if (applicationId.length() > MAX_APPLICATION_ID_LENGTH) {\n-                exception = new IllegalArgumentException(\"'applicationId' length cannot be greater than \"\n-                    + MAX_APPLICATION_ID_LENGTH);\n-\n-                logger.error(\"Error found when setting Application ID\", exception);\n-\n-                throw exception;\n-            } else if (applicationId.contains(\" \")) {\n-                exception = new IllegalArgumentException(\"'applicationId' must not contain a space.\");\n-\n-                logger.error(\"Error found when setting Application ID\", exception);\n-\n-                throw exception;\n-            } else {\n-                this.applicationId = applicationId;\n-            }\n-        }\n-\n-        return this;\n-    }\n }\n"}}, {"oid": "c80ebe954aeb15025c612b6707074a8f95b8c1be", "url": "https://github.com/Azure/azure-sdk-for-android/commit/c80ebe954aeb15025c612b6707074a8f95b8c1be", "message": "Removed references to the default ClientLogger implementation from the interceptors that use it and added a getDefault() method to the interface instead. Moved the LogLevel @interface to ClientLogger. Removed the use of Application ID from LogOptions. Corrected some JavaDoc comments.", "committedDate": "2020-01-16T03:51:24Z", "type": "commit"}, {"oid": "963f197aa0dfb0dca5012842bcd30032654bc706", "url": "https://github.com/Azure/azure-sdk-for-android/commit/963f197aa0dfb0dca5012842bcd30032654bc706", "message": "Merge branch 'dev' into client-logger-interface", "committedDate": "2020-01-21T01:25:28Z", "type": "commit"}]}