{"pr_number": 438, "pr_title": "Added support for conditional tags", "pr_createdAt": "2020-10-29T21:51:21Z", "pr_url": "https://github.com/Azure/azure-sdk-for-android/pull/438", "timeline": [{"oid": "ad18c60308fecf6fc8d9a2f60a4073dbad6fe65a", "url": "https://github.com/Azure/azure-sdk-for-android/commit/ad18c60308fecf6fc8d9a2f60a4073dbad6fe65a", "message": "Added support to getTags", "committedDate": "2020-10-27T22:47:47Z", "type": "commit"}, {"oid": "5e176213efafd43580f738c67a0766ceb31a474c", "url": "https://github.com/Azure/azure-sdk-for-android/commit/5e176213efafd43580f738c67a0766ceb31a474c", "message": "Merge branch 'master' into storage/addSupportForIfTags", "committedDate": "2020-10-28T17:16:40Z", "type": "commit"}, {"oid": "120543b7405511561fab6d79d4d90a3078b1a763", "url": "https://github.com/Azure/azure-sdk-for-android/commit/120543b7405511561fab6d79d4d90a3078b1a763", "message": "Added some tests", "committedDate": "2020-10-28T22:19:15Z", "type": "commit"}, {"oid": "3de1f0f3038fe6dcfdaa1de19d941c813357f065", "url": "https://github.com/Azure/azure-sdk-for-android/commit/3de1f0f3038fe6dcfdaa1de19d941c813357f065", "message": "Added tests for AC", "committedDate": "2020-10-29T21:44:49Z", "type": "commit"}, {"oid": "319cd9c1aecc3898039f08d9d9b8a0e4ee228bb8", "url": "https://github.com/Azure/azure-sdk-for-android/commit/319cd9c1aecc3898039f08d9d9b8a0e4ee228bb8", "message": "Test changes", "committedDate": "2020-10-29T21:52:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDcxNjk1NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/438#discussion_r514716955", "bodyText": "Is ifTags the same as tagsConditions? If so, why the name change?", "author": "vcolin7", "createdAt": "2020-10-30T02:23:10Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -978,14 +974,15 @@ public void getBlobTags(String containerName,\n                             String blobName,\n                             String snapshot,\n                             Integer timeout,\n+                            String ifTags,", "originalCommit": "319cd9c1aecc3898039f08d9d9b8a0e4ee228bb8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDcyNjgxMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/438#discussion_r514726813", "bodyText": "Whoops that is meant to be tagsConditions. Yeah they are one and the same, but ifTags doesn't really give a user a good understanding of what it is (ifTags is a SQL like statement that allows a user to execute a request if the blob has the appropriate tags). We had a discussion with the arch board when this feature was released, and tagsConditions was decided as a better name.", "author": "gapra-msft", "createdAt": "2020-10-30T02:33:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDcxNjk1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDcyNzI1NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/438#discussion_r514727254", "bodyText": "As for what tags is, it's kind of like a metadata value you can assign to multiple resources to group them. We have APIs called setTags and getTags (I think there is also listTags that is not implemented yet) that you may have remembered reviewing a few PRs ago. More info here https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/tag-resources", "author": "gapra-msft", "createdAt": "2020-10-30T02:34:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDcxNjk1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDczMDc3Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/438#discussion_r514730772", "bodyText": "https://docs.microsoft.com/en-us/rest/api/storageservices/specifying-conditional-headers-for-blob-service-operations#tags-conditional-operations", "author": "gapra-msft", "createdAt": "2020-10-30T02:37:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDcxNjk1NQ=="}], "type": "inlineReview", "revised_code": {"commit": "225c4ce2faf417acec230da308b9284893e83d5c", "chunk": "diff --git a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\nindex 3528f1715..f3f05a35d 100644\n--- a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\n+++ b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\n\n@@ -974,7 +974,7 @@ public class StorageBlobAsyncClient {\n                             String blobName,\n                             String snapshot,\n                             Integer timeout,\n-                            String ifTags,\n+                            String tagsConditions,\n                             CancellationToken cancellationToken,\n                             CallbackWithHeader<Map<String, String>, BlobGetTagsHeaders> callback) {\n         this.storageBlobServiceClient.getTags(containerName,\n"}}, {"oid": "225c4ce2faf417acec230da308b9284893e83d5c", "url": "https://github.com/Azure/azure-sdk-for-android/commit/225c4ce2faf417acec230da308b9284893e83d5c", "message": "Changed public variable name", "committedDate": "2020-10-30T18:39:51Z", "type": "commit"}]}