{"pr_number": 390, "pr_title": "Set metadata", "pr_createdAt": "2020-10-07T18:40:12Z", "pr_url": "https://github.com/Azure/azure-sdk-for-android/pull/390", "timeline": [{"oid": "658ee97f11e8a149411149d4cd7a18fbff31549f", "url": "https://github.com/Azure/azure-sdk-for-android/commit/658ee97f11e8a149411149d4cd7a18fbff31549f", "message": "started on set metadata", "committedDate": "2020-10-06T23:26:30Z", "type": "commit"}, {"oid": "090379e33e3630819b8a46201963ab870e7c9db0", "url": "https://github.com/Azure/azure-sdk-for-android/commit/090379e33e3630819b8a46201963ab870e7c9db0", "message": "Finished adding setBlobMetadata", "committedDate": "2020-10-07T18:39:44Z", "type": "commit"}, {"oid": "711b5bd6fec2448600988c530b5824dec49e28cd", "url": "https://github.com/Azure/azure-sdk-for-android/commit/711b5bd6fec2448600988c530b5824dec49e28cd", "message": "Small name change", "committedDate": "2020-10-07T21:44:47Z", "type": "commit"}, {"oid": "6f378d8fbc2ac8eed8400e8bdff581a0af332e25", "url": "https://github.com/Azure/azure-sdk-for-android/commit/6f378d8fbc2ac8eed8400e8bdff581a0af332e25", "message": "Fixed typo", "committedDate": "2020-10-07T22:49:47Z", "type": "commit"}, {"oid": "bd94e742484e1b56ede506332bcf6ee5e98e5f36", "url": "https://github.com/Azure/azure-sdk-for-android/commit/bd94e742484e1b56ede506332bcf6ee5e98e5f36", "message": "Fixed typo", "committedDate": "2020-10-07T22:52:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3NzU1OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r501877558", "bodyText": "nit. formatting", "author": "gapra-msft", "createdAt": "2020-10-08T17:07:13Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -374,6 +375,61 @@ public void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n+     * must be preserved, they must be downloaded and included in the call to this method.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param metadata      Metadata to associate with the blob.\n+     * @param callback      Callback that receives the response.\n+     */\n+    public void setBlobMetadata(String containerName,\n+                                String blobName,\n+                                Map<String, String> metadata,\n+                                CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n+        storageBlobServiceClient.setBlobMetadata(containerName, blobName, metadata, callback);\n+    }\n+\n+    /**\n+     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n+     * must be preserved, they must be downloaded and included in the call to this method.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param timeout           The timeout parameter is expressed in seconds. For more information, see", "originalCommit": "bd94e742484e1b56ede506332bcf6ee5e98e5f36", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3NzkxNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r501877914", "bodyText": "I think you can just do Ctrl + Alt + L to format the whole file", "author": "gapra-msft", "createdAt": "2020-10-08T17:07:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3NzU1OA=="}], "type": "inlineReview", "revised_code": {"commit": "cd2de7ff4bee2b20b6d45e08f4d127223f75c89b", "chunk": "diff --git a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\nindex f013a4926..424e0b21d 100644\n--- a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\n+++ b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\n\n@@ -375,61 +374,6 @@ public class StorageBlobAsyncClient {\n             callback);\n     }\n \n-    /**\n-     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n-     * must be preserved, they must be downloaded and included in the call to this method.\n-     *\n-     * @param containerName The container name.\n-     * @param blobName      The blob name.\n-     * @param metadata      Metadata to associate with the blob.\n-     * @param callback      Callback that receives the response.\n-     */\n-    public void setBlobMetadata(String containerName,\n-                                String blobName,\n-                                Map<String, String> metadata,\n-                                CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n-        storageBlobServiceClient.setBlobMetadata(containerName, blobName, metadata, callback);\n-    }\n-\n-    /**\n-     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n-     * must be preserved, they must be downloaded and included in the call to this method.\n-     *\n-     * @param containerName The container name.\n-     * @param blobName      The blob name.\n-     * @param timeout           The timeout parameter is expressed in seconds. For more information, see\n-     *                          &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n-     * @param version               Specifies the version of the operation to use for this request.\n-     * @param requestConditions {@link BlobRequestConditions}\n-     * @param metadata           Metadata to associate with the blob.\n-     * @param requestId         Provides a client-generated, opaque value with a 1 KB character limit that is\n-     *                          recorded in the analytics logs when storage analytics logging is enabled.\n-     * @param cpkInfo           Additional parameters for the operation.\n-     * @param cancellationToken The token to request cancellation.\n-     * @param callback      Callback that receives the response.\n-     */\n-    public void setBlobMetadata(String containerName,\n-                                               String blobName,\n-                                               Integer timeout,\n-                                               String version,\n-                                               BlobRequestConditions requestConditions,\n-                                               Map<String, String> metadata,\n-                                               String requestId,\n-                                               CpkInfo cpkInfo,\n-                                               CancellationToken cancellationToken,\n-                                               CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n-        storageBlobServiceClient.setBlobMetadata(containerName,\n-            blobName,\n-            timeout,\n-            version,\n-            requestConditions,\n-            metadata,\n-            requestId,\n-            cpkInfo,\n-            cancellationToken,\n-            callback);\n-    }\n-\n     /**\n      * Reads the entire blob.\n      *\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3OTgzMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r501879833", "bodyText": "I think here we may want an extra - so like x-ms-meta-", "author": "gapra-msft", "createdAt": "2020-10-08T17:11:04Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1580,6 +1772,25 @@ private static String readAsString(ResponseBody body) {\n                                      @Header(\"x-ms-encryption-key-sha256\") String encryptionKeySha256,\n                                      @Header(\"x-ms-encryption-algorithm\") EncryptionAlgorithmType encryptionAlgorithm);\n \n+        @PUT(\"{containerName}/{blob}\")\n+        Call<ResponseBody> setBlobMetadata(@Path(\"containerName\") String containerName,\n+                                              @Path(\"blob\") String blob,\n+                                              @Query(\"timeout\") Integer timeout,\n+                                              @Header(\"x-ms-meta\") Map<String, String> metadata, // TODO: Maybe use @HeaderMap annotation?", "originalCommit": "bd94e742484e1b56ede506332bcf6ee5e98e5f36", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "cd2de7ff4bee2b20b6d45e08f4d127223f75c89b", "chunk": "diff --git a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java\nindex 2a526a63d..ede45fb1d 100644\n--- a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java\n+++ b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java\n\n@@ -1772,25 +1671,6 @@ final class StorageBlobServiceImpl {\n                                      @Header(\"x-ms-encryption-key-sha256\") String encryptionKeySha256,\n                                      @Header(\"x-ms-encryption-algorithm\") EncryptionAlgorithmType encryptionAlgorithm);\n \n-        @PUT(\"{containerName}/{blob}\")\n-        Call<ResponseBody> setBlobMetadata(@Path(\"containerName\") String containerName,\n-                                              @Path(\"blob\") String blob,\n-                                              @Query(\"timeout\") Integer timeout,\n-                                              @Header(\"x-ms-meta\") Map<String, String> metadata, // TODO: Maybe use @HeaderMap annotation?\n-                                              @Header(\"x-ms-lease-id\") String leaseId,\n-                                              @Header(\"If-Modified-Since\") DateTimeRfc1123 ifModifiedSince,\n-                                              @Header(\"If-Unmodified-Since\") DateTimeRfc1123 ifUnmodifiedSince,\n-                                              @Header(\"If-Match\") String ifMatch,\n-                                              @Header(\"If-None-Match\") String ifNoneMatch,\n-                                              @Header(\"x-ms-if-tags\") String ifTags,\n-                                              @Header(\"x-ms-version\") String version,\n-                                              @Header(\"x-ms-client-request-id\") String requestId,\n-                                              @Query(\"comp\") String comp,\n-                                              @Header(\"x-ms-encryption-key\") String encryptionKey,\n-                                              @Header(\"x-ms-encryption-key-sha256\") String encryptionKeySha256,\n-                                              @Header(\"x-ms-encryption-algorithm\") EncryptionAlgorithmType encryptionAlgorithm,\n-                                              @Header(\"x-ms-encryption-scope\") String encryptionScope);\n-\n \n         @GET(\"{containerName}/{blob}\")\n         Call<ResponseBody> download(@Path(\"containerName\") String containerName,\n"}}, {"oid": "cd2de7ff4bee2b20b6d45e08f4d127223f75c89b", "url": "https://github.com/Azure/azure-sdk-for-android/commit/cd2de7ff4bee2b20b6d45e08f4d127223f75c89b", "message": "Started on create container", "committedDate": "2020-10-09T00:06:58Z", "type": "commit"}, {"oid": "3e1a8074ebf302b11352b46e3e9cf305037bc1f6", "url": "https://github.com/Azure/azure-sdk-for-android/commit/3e1a8074ebf302b11352b46e3e9cf305037bc1f6", "message": "Added support to delete container", "committedDate": "2020-10-09T18:41:29Z", "type": "commit"}, {"oid": "7fd2db40775cd27af30e8e3d4a385b074be54728", "url": "https://github.com/Azure/azure-sdk-for-android/commit/7fd2db40775cd27af30e8e3d4a385b074be54728", "message": "Finished createContainer", "committedDate": "2020-10-09T18:57:58Z", "type": "commit"}, {"oid": "58d2a0d674e12be953f4fc9b30021e8d51b8c5af", "url": "https://github.com/Azure/azure-sdk-for-android/commit/58d2a0d674e12be953f4fc9b30021e8d51b8c5af", "message": "Updated test", "committedDate": "2020-10-09T20:19:27Z", "type": "commit"}, {"oid": "8042b1d882af59f48bfd2c9233ffb789893f29b0", "url": "https://github.com/Azure/azure-sdk-for-android/commit/8042b1d882af59f48bfd2c9233ffb789893f29b0", "message": "Exposed BlobRequestConditions publically", "committedDate": "2020-10-09T20:28:29Z", "type": "commit"}, {"oid": "368f15356e57f681bb1635e4aed0ee44c4789290", "url": "https://github.com/Azure/azure-sdk-for-android/commit/368f15356e57f681bb1635e4aed0ee44c4789290", "message": "Started setting up ways to get creds and clients", "committedDate": "2020-10-09T23:38:27Z", "type": "commit"}, {"oid": "34329b725b7f423436b09b35116080832ce3ade1", "url": "https://github.com/Azure/azure-sdk-for-android/commit/34329b725b7f423436b09b35116080832ce3ade1", "message": "Merge branch 'testInfra' into createContainer", "committedDate": "2020-10-12T18:46:07Z", "type": "commit"}, {"oid": "326f1d06598ff9e57a9179e6096fe68ee40c6ebd", "url": "https://github.com/Azure/azure-sdk-for-android/commit/326f1d06598ff9e57a9179e6096fe68ee40c6ebd", "message": "Started on createContainer network tests", "committedDate": "2020-10-12T19:21:19Z", "type": "commit"}, {"oid": "d442292112b7d5dbdc9789ffa222b9495aff0913", "url": "https://github.com/Azure/azure-sdk-for-android/commit/d442292112b7d5dbdc9789ffa222b9495aff0913", "message": "Merge remote-tracking branch 'gauri/storage/deleteContainer' into createContainer", "committedDate": "2020-10-12T19:23:36Z", "type": "commit"}, {"oid": "a838f0f2ce20ab11120c4ebb97981be695ec1eca", "url": "https://github.com/Azure/azure-sdk-for-android/commit/a838f0f2ce20ab11120c4ebb97981be695ec1eca", "message": "Added support for get container properties", "committedDate": "2020-10-12T20:43:32Z", "type": "commit"}, {"oid": "ebd01c2d9cabfb6853fbb3e05b4db00c2732c0a2", "url": "https://github.com/Azure/azure-sdk-for-android/commit/ebd01c2d9cabfb6853fbb3e05b4db00c2732c0a2", "message": "Working on deleteContainer tests", "committedDate": "2020-10-12T20:47:39Z", "type": "commit"}, {"oid": "95bfecb4dd10691bb8656971605b59733b723090", "url": "https://github.com/Azure/azure-sdk-for-android/commit/95bfecb4dd10691bb8656971605b59733b723090", "message": "Merge remote-tracking branch 'gauri/storage/getContainerProperties' into createContainer", "committedDate": "2020-10-12T20:50:47Z", "type": "commit"}, {"oid": "d891da875b3a634f5fcc7d6a7cb5e8607d771a4f", "url": "https://github.com/Azure/azure-sdk-for-android/commit/d891da875b3a634f5fcc7d6a7cb5e8607d771a4f", "message": "Added live tests for create", "committedDate": "2020-10-13T00:00:30Z", "type": "commit"}, {"oid": "183e72276afceee0a4e993884fb018675760d5ae", "url": "https://github.com/Azure/azure-sdk-for-android/commit/183e72276afceee0a4e993884fb018675760d5ae", "message": "Added a bunch of network tests for container apis", "committedDate": "2020-10-14T03:32:42Z", "type": "commit"}, {"oid": "24ca631081e4a802f484b049fa859d1b6259f0ae", "url": "https://github.com/Azure/azure-sdk-for-android/commit/24ca631081e4a802f484b049fa859d1b6259f0ae", "message": "Fixed some formatting", "committedDate": "2020-10-14T16:25:52Z", "type": "commit"}, {"oid": "7492ee526ecb5fc3c23cff1294d783ea1f2e8991", "url": "https://github.com/Azure/azure-sdk-for-android/commit/7492ee526ecb5fc3c23cff1294d783ea1f2e8991", "message": "Added some blob tests", "committedDate": "2020-10-14T17:05:05Z", "type": "commit"}, {"oid": "cc7d944e483eac9f8dd49be03b4e4ea955a18840", "url": "https://github.com/Azure/azure-sdk-for-android/commit/cc7d944e483eac9f8dd49be03b4e4ea955a18840", "message": "Merge remote-tracking branch 'rickle-msft/createContainer' into blobTests", "committedDate": "2020-10-14T17:10:00Z", "type": "commit"}, {"oid": "ff8ec32d50e9e8de6aba208985cc594206b30fd3", "url": "https://github.com/Azure/azure-sdk-for-android/commit/ff8ec32d50e9e8de6aba208985cc594206b30fd3", "message": "Merge branch 'createContainer' into setMetadata", "committedDate": "2020-10-14T19:05:41Z", "type": "commit"}, {"oid": "7155179db78c8a6f14c9030aced61cb7a3bacf3d", "url": "https://github.com/Azure/azure-sdk-for-android/commit/7155179db78c8a6f14c9030aced61cb7a3bacf3d", "message": "Added some more commit block list tests", "committedDate": "2020-10-14T19:20:02Z", "type": "commit"}, {"oid": "6929a9ab8723590c57f36d539ab63dab48c114c7", "url": "https://github.com/Azure/azure-sdk-for-android/commit/6929a9ab8723590c57f36d539ab63dab48c114c7", "message": "Added more block blob tests", "committedDate": "2020-10-14T20:36:25Z", "type": "commit"}, {"oid": "de294c0d245bf0d0e2c051c4d73eb2ed2132e21c", "url": "https://github.com/Azure/azure-sdk-for-android/commit/de294c0d245bf0d0e2c051c4d73eb2ed2132e21c", "message": "Added Access condition tests for blob delete", "committedDate": "2020-10-14T20:59:21Z", "type": "commit"}, {"oid": "e40fc7aa20438f74158c6fcb1bbb5f92f03ea6cc", "url": "https://github.com/Azure/azure-sdk-for-android/commit/e40fc7aa20438f74158c6fcb1bbb5f92f03ea6cc", "message": "Merge remote-tracking branch 'gauri/blobTests' into setMetadata", "committedDate": "2020-10-14T21:14:00Z", "type": "commit"}, {"oid": "24ca63233f4d80ab6e22bb41bb63e70758b650b2", "url": "https://github.com/Azure/azure-sdk-for-android/commit/24ca63233f4d80ab6e22bb41bb63e70758b650b2", "message": "Added live metadata tests", "committedDate": "2020-10-14T22:39:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTczODIwMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r509738201", "bodyText": "I don't know why the PR includes all a ton of other things, I guess I should just ignore them? I assume this PR only introduces the setBlobMetadata operations, correct?", "author": "vcolin7", "createdAt": "2020-10-21T22:00:28Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -236,6 +244,140 @@ public void cancel(Context context, long transferId) {\n             .cancel(transferId);\n     }\n \n+    /**\n+     * Creates a new container within a storage account. If a container with the same name already exists, the operation\n+     * fails.\n+     *\n+     * @param containerName The container name.\n+     * @param callback      Callback that receives the response.\n+     */\n+    public void createContainer(String containerName,", "originalCommit": "24ca63233f4d80ab6e22bb41bb63e70758b650b2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3925983b8d1976c3b593d65c706f133aecc4708", "chunk": "diff --git a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\nindex ce3b4ad9e..cc58c4b2e 100644\n--- a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\n+++ b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java\n\n@@ -293,91 +296,6 @@ public class StorageBlobAsyncClient {\n             callback);\n     }\n \n-    /**\n-     * Deletes a container.\n-     *\n-     * @param containerName The container name.\n-     * @param callback      Callback that receives the response.\n-     */\n-    void deleteContainer(String containerName,\n-                         CallbackWithHeader<Void, ContainerDeleteHeaders> callback) {\n-        storageBlobServiceClient.deleteContainer(containerName,\n-            callback);\n-    }\n-\n-    /**\n-     * Deletes a container\n-     *\n-     * @param containerName     The container name.\n-     * @param timeout           The timeout parameter is expressed in seconds. For more information, see\n-     *                          &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n-     * @param requestConditions {@link BlobRequestConditions}\n-     * @param requestId         Provides a client-generated, opaque value with a 1 KB character limit that is\n-     *                          recorded in the analytics logs when storage analytics logging is enabled.\n-     * @param cancellationToken The token to request cancellation.\n-     * @param callback          Callback that receives the response.\n-     */\n-    void deleteContainer(String containerName,\n-                         Integer timeout,\n-                         String version,\n-                         BlobRequestConditions requestConditions,\n-                         String requestId,\n-                         CancellationToken cancellationToken,\n-                         CallbackWithHeader<Void, ContainerDeleteHeaders> callback) {\n-        storageBlobServiceClient.deleteContainer(containerName,\n-            timeout,\n-            version,\n-            requestConditions,\n-            requestId,\n-            cancellationToken,\n-            callback);\n-    }\n-\n-    /**\n-     * Gets the container's properties.\n-     *\n-     * @param containerName The container name.\n-     * @param callback      Callback that receives the response.\n-     */\n-    public void getContainerProperties(String containerName,\n-                                       CallbackWithHeader<Void, ContainerGetPropertiesHeaders> callback) {\n-        storageBlobServiceClient.getContainerProperties(containerName,\n-            callback);\n-    }\n-\n-    /**\n-     * Gets the container's properties.\n-     *\n-     * @param containerName         The container name.\n-     * @param timeout               The timeout parameter is expressed in seconds. For more information, see\n-     *                              &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n-     * @param version               Specifies the version of the operation to use for this request.\n-     * @param blobRequestConditions Object that contains values which will restrict the successful operation of a\n-     *                              variety of requests to the conditions present. These conditions are entirely\n-     *                              optional.\n-     * @param requestId             Provides a client-generated, opaque value with a 1 KB character limit that is\n-     *                              recorded in the analytics logs when storage analytics logging is enabled.\n-     * @param cancellationToken     The token to request cancellation.\n-     * @param callback              Callback that receives the response.\n-     */\n-    public void getContainerProperties(String containerName,\n-                                       Integer timeout,\n-                                       String version,\n-                                       BlobRequestConditions blobRequestConditions,\n-                                       String requestId,\n-                                       CancellationToken cancellationToken,\n-                                       CallbackWithHeader<Void, ContainerGetPropertiesHeaders> callback) {\n-        blobRequestConditions = blobRequestConditions == null ? new BlobRequestConditions() : blobRequestConditions;\n-\n-        storageBlobServiceClient.getContainerProperties(containerName,\n-            timeout,\n-            version,\n-            blobRequestConditions.getLeaseId(),\n-            requestId,\n-            cancellationToken,\n-            callback);\n-    }\n-\n     /**\n      * Gets a list of blobs identified by a page id in a given container.\n      *\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTczOTQ5Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r509739492", "bodyText": "nit; Indentation.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void setBlobMetadata(String containerName,\n          \n          \n            \n                                        String blobName,\n          \n          \n            \n                                        Map<String, String> metadata,\n          \n          \n            \n                                        CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n          \n          \n            \n                void setBlobMetadata(String containerName,\n          \n          \n            \n                                     String blobName,\n          \n          \n            \n                                     Map<String, String> metadata,\n          \n          \n            \n                                     CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {", "author": "vcolin7", "createdAt": "2020-10-21T22:02:02Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +475,107 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    Void setBlobMetadata(String containerName,\n+                         String blobName,\n+                         Map<String, String> metadata) {\n+        BlobSetMetadataResponse blobSetHttpHeadersResponse = setBlobMetadataWithRestResponse(containerName,\n+            blobName,\n+            null,\n+            null,\n+            null,\n+            metadata,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return blobSetHttpHeadersResponse.getValue();\n+    }\n+\n+    void setBlobMetadata(String containerName,\n+                            String blobName,\n+                            Map<String, String> metadata,\n+                            CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {", "originalCommit": "24ca63233f4d80ab6e22bb41bb63e70758b650b2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3925983b8d1976c3b593d65c706f133aecc4708", "chunk": "diff --git a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java\nindex a6866a9a3..1ab002de3 100644\n--- a/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java\n+++ b/sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java\n\n@@ -468,13 +476,82 @@ final class StorageBlobServiceImpl {\n             snapshot,\n             timeout,\n             version,\n-            leaseId,\n+            requestConditions,\n             requestId,\n             cpkInfo,\n             cancellationToken,\n             callback);\n     }\n \n+    Void setBlobHttpHeaders(String containerName,\n+                            String blobName,\n+                            BlobHttpHeaders headers) {\n+        BlobSetHttpHeadersResponse blobSetHttpHeadersResponse = setBlobHttpHeadersWithRestResponse(containerName,\n+            blobName,\n+            null,\n+            null,\n+            null,\n+            headers,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return blobSetHttpHeadersResponse.getValue();\n+    }\n+\n+    void setBlobHttpHeaders(String containerName,\n+                            String blobName,\n+                            BlobHttpHeaders headers,\n+                            CallbackWithHeader<Void, BlobSetHttpHeadersHeaders> callback) {\n+        setBlobHttpHeaders(containerName,\n+            blobName,\n+            null,\n+            null,\n+            null,\n+            headers,\n+            null,\n+            CancellationToken.NONE,\n+            callback);\n+    }\n+\n+    BlobSetHttpHeadersResponse setBlobHttpHeadersWithRestResponse(String containerName,\n+                                                                  String blobName,\n+                                                                  Integer timeout,\n+                                                                  String version,\n+                                                                  BlobRequestConditions requestConditions,\n+                                                                  BlobHttpHeaders headers,\n+                                                                  String requestId,\n+                                                                  CancellationToken cancellationToken) {\n+        return setHttpHeadersWithRestResponseIntern(containerName,\n+            blobName,\n+            timeout,\n+            requestConditions,\n+            headers,\n+            requestId,\n+            version,\n+            cancellationToken,\n+            null);\n+    }\n+\n+    void setBlobHttpHeaders(String containerName,\n+                            String blobName,\n+                            Integer timeout,\n+                            String version,\n+                            BlobRequestConditions requestConditions,\n+                            BlobHttpHeaders headers,\n+                            String requestId,\n+                            CancellationToken cancellationToken,\n+                            CallbackWithHeader<Void, BlobSetHttpHeadersHeaders> callback) {\n+        this.setHttpHeadersWithRestResponseIntern(containerName,\n+            blobName,\n+            timeout,\n+            requestConditions,\n+            headers,\n+            requestId,\n+            version,\n+            cancellationToken,\n+            callback);\n+    }\n+\n     Void setBlobMetadata(String containerName,\n                          String blobName,\n                          Map<String, String> metadata) {\n"}}, {"oid": "b3925983b8d1976c3b593d65c706f133aecc4708", "url": "https://github.com/Azure/azure-sdk-for-android/commit/b3925983b8d1976c3b593d65c706f133aecc4708", "message": "Merge remote-tracking branch 'upstream/master' into setMetadata", "committedDate": "2020-10-21T22:51:20Z", "type": "commit"}]}