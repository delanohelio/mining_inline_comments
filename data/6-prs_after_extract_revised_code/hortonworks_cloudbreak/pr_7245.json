{"pr_number": 7245, "pr_title": "CB-5483 - paging for role fetching from aws", "pr_createdAt": "2020-02-07T16:03:37Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7245", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk3ODUwMQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/7245#discussion_r376978501", "bodyText": "please fetch all items", "author": "topolyai5", "createdAt": "2020-02-10T10:28:40Z", "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/AwsPlatformResources.java", "diffHunk": "@@ -157,6 +159,12 @@\n     @Value(\"#{'${cb.aws.distrox.enabled.instance.types:}'.split(',')}\")\n     private List<String> enabledDistroxInstanceTypes;\n \n+    @Value(\"${cb.aws.fetch.max.items:500}\")", "originalCommit": "10c7ee010e4324b491709762bca78d62948eff79", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk3OTU0OA==", "url": "https://github.com/hortonworks/cloudbreak/pull/7245#discussion_r376979548", "bodyText": "I'll keep the max item to protect the API from fetching a GB of data at once, but I'm going to remove the iteration count, so we'll fetch the access configs until all of them have arrived.", "author": "gregito", "createdAt": "2020-02-10T10:30:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk3ODUwMQ=="}], "type": "inlineReview", "revised_code": {"commit": "56162a0bafb92bbc17a8c0513bfbe229f605a6af", "chunk": "diff --git a/cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/AwsPlatformResources.java b/cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/AwsPlatformResources.java\nindex 05e23a8833..188aed576f 100644\n--- a/cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/AwsPlatformResources.java\n+++ b/cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/AwsPlatformResources.java\n\n@@ -162,9 +162,6 @@ public class AwsPlatformResources implements PlatformResources {\n     @Value(\"${cb.aws.fetch.max.items:500}\")\n     private Integer fetchMaxItems;\n \n-    @Value(\"${cb.aws.fetch.max.attempt:10}\")\n-    private Integer fetchMaxAttempt;\n-\n     @Value(\"${distrox.restrict.instance.types:true}\")\n     private boolean restrictInstanceTypes;\n \n"}}, {"oid": "56162a0bafb92bbc17a8c0513bfbe229f605a6af", "url": "https://github.com/hortonworks/cloudbreak/commit/56162a0bafb92bbc17a8c0513bfbe229f605a6af", "message": "CB-5483 - paging for role fetching from aws", "committedDate": "2020-02-10T10:50:50Z", "type": "forcePushed"}, {"oid": "bd07ef366950664a451fcda5d5a54d865fb6219f", "url": "https://github.com/hortonworks/cloudbreak/commit/bd07ef366950664a451fcda5d5a54d865fb6219f", "message": "CB-5483 - paging for role fetching from aws", "committedDate": "2020-02-10T12:01:40Z", "type": "commit"}, {"oid": "bd07ef366950664a451fcda5d5a54d865fb6219f", "url": "https://github.com/hortonworks/cloudbreak/commit/bd07ef366950664a451fcda5d5a54d865fb6219f", "message": "CB-5483 - paging for role fetching from aws", "committedDate": "2020-02-10T12:01:40Z", "type": "forcePushed"}]}