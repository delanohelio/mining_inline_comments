{"pr_number": 9392, "pr_title": "CB-9648 - added tracing to quartz", "pr_createdAt": "2020-11-09T19:28:13Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/9392", "timeline": [{"oid": "8ff8f08b6b24997dcf5675d1184d30bc5c350bc3", "url": "https://github.com/hortonworks/cloudbreak/commit/8ff8f08b6b24997dcf5675d1184d30bc5c350bc3", "message": "CB-9648 - added tracing to quartz", "committedDate": "2020-11-10T11:22:35Z", "type": "forcePushed"}, {"oid": "dd96cf0a2f2675038a26d31956dd1af93fea3883", "url": "https://github.com/hortonworks/cloudbreak/commit/dd96cf0a2f2675038a26d31956dd1af93fea3883", "message": "CB-9648 - added tracing to quartz", "committedDate": "2020-11-10T12:16:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU4NjAyMA==", "url": "https://github.com/hortonworks/cloudbreak/pull/9392#discussion_r520586020", "bodyText": "please change this to getById", "author": "lacikaaa", "createdAt": "2020-11-10T14:04:56Z", "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java", "diffHunk": "@@ -57,12 +57,21 @@\n     @Value(\"${freeipa.autosync.update.status:true}\")\n     private boolean updateStatus;\n \n+    public StackStatusCheckerJob(Tracer tracer) {\n+        super(tracer, \"Stack Status Checker Job\");\n+    }\n+\n     @Override\n-    protected void executeInternal(JobExecutionContext context) {\n+    protected Object getMdcContextObject() {\n+        Long stackId = getStackId();\n+        return stackService.getByIdWithListsInTransaction(stackId);", "originalCommit": "dd96cf0a2f2675038a26d31956dd1af93fea3883", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "7228dca829db0ca91ac5b65745ca24f81301e5c2", "chunk": "diff --git a/freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java b/freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java\nindex ec7cf1fd34..0c2cd63d22 100644\n--- a/freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java\n+++ b/freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java\n\n@@ -63,8 +63,7 @@ public class StackStatusCheckerJob extends StatusCheckerJob {\n \n     @Override\n     protected Object getMdcContextObject() {\n-        Long stackId = getStackId();\n-        return stackService.getByIdWithListsInTransaction(stackId);\n+        return stackService.getStackById(getStackId());\n     }\n \n     @Override\n"}}, {"oid": "7228dca829db0ca91ac5b65745ca24f81301e5c2", "url": "https://github.com/hortonworks/cloudbreak/commit/7228dca829db0ca91ac5b65745ca24f81301e5c2", "message": "CB-9648 - added tracing to quartz", "committedDate": "2020-11-10T14:11:50Z", "type": "forcePushed"}, {"oid": "22b4f41f864493e1025f1837c2889e350664645d", "url": "https://github.com/hortonworks/cloudbreak/commit/22b4f41f864493e1025f1837c2889e350664645d", "message": "CB-9648 - added tracing to quartz", "committedDate": "2020-11-10T14:44:50Z", "type": "commit"}, {"oid": "22b4f41f864493e1025f1837c2889e350664645d", "url": "https://github.com/hortonworks/cloudbreak/commit/22b4f41f864493e1025f1837c2889e350664645d", "message": "CB-9648 - added tracing to quartz", "committedDate": "2020-11-10T14:44:50Z", "type": "forcePushed"}]}