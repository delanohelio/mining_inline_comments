{"pr_number": 8686, "pr_title": "CB-8207: Add --region flag to aws s3 cp command for datalake backup/restore", "pr_createdAt": "2020-07-31T18:31:31Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8686", "timeline": [{"oid": "281cf6074eb338b5749ad0e45b41a3ba7e846034", "url": "https://github.com/hortonworks/cloudbreak/commit/281cf6074eb338b5749ad0e45b41a3ba7e846034", "message": "Add --region flag to aws s3 cp command in backup scripts.\n\nAdd region option to aws restore.", "committedDate": "2020-07-31T18:40:29Z", "type": "forcePushed"}, {"oid": "39c7ddca4ba46d78030d753af2055018ad44fa1a", "url": "https://github.com/hortonworks/cloudbreak/commit/39c7ddca4ba46d78030d753af2055018ad44fa1a", "message": "Use stack to derive region value for salt pillar config.", "committedDate": "2020-08-03T15:40:48Z", "type": "forcePushed"}, {"oid": "6fd16e84b2a66bb2905bbbf7128b06bbe064301f", "url": "https://github.com/hortonworks/cloudbreak/commit/6fd16e84b2a66bb2905bbbf7128b06bbe064301f", "message": "Remove unused imports.", "committedDate": "2020-08-04T13:37:10Z", "type": "forcePushed"}, {"oid": "c9fdb7c3714d44f0e009ce85018b630a38454b1d", "url": "https://github.com/hortonworks/cloudbreak/commit/c9fdb7c3714d44f0e009ce85018b630a38454b1d", "message": "Add --region flag to aws s3 cp command in backup scripts.\n\nAdd region option to aws restore.\n\nPass stack object into createSaltConfig.\n\nUse stack to derive region value for salt pillar config.\n\nRemove unused imports.\n\nFix checkstyle and spotbugs errors", "committedDate": "2020-08-04T14:12:03Z", "type": "commit"}, {"oid": "c9fdb7c3714d44f0e009ce85018b630a38454b1d", "url": "https://github.com/hortonworks/cloudbreak/commit/c9fdb7c3714d44f0e009ce85018b630a38454b1d", "message": "Add --region flag to aws s3 cp command in backup scripts.\n\nAdd region option to aws restore.\n\nPass stack object into createSaltConfig.\n\nUse stack to derive region value for salt pillar config.\n\nRemove unused imports.\n\nFix checkstyle and spotbugs errors", "committedDate": "2020-08-04T14:12:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUwMzU2Mg==", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r465503562", "bodyText": "This doesn't need to be public, others visibility can be lowered also to package level.", "author": "keyki", "createdAt": "2020-08-05T06:34:17Z", "path": "core/src/main/java/com/sequenceiq/cloudbreak/reactor/handler/cluster/dr/BackupRestoreSaltConfigGenerator.java", "diffHunk": "@@ -17,17 +18,31 @@\n \n @Component\n public class BackupRestoreSaltConfigGenerator {\n+    // these values are tightly coupled to the `postgresql/disaster_recovery.sls` salt pillar in `orchestrator-salt`\n+    public static final String POSTGRESQL_DISASTER_RECOVERY_PILLAR_PATH = \"/postgresql/disaster_recovery.sls\";", "originalCommit": "c9fdb7c3714d44f0e009ce85018b630a38454b1d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxNDE3Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r465514176", "bodyText": "I'm merging the PR. We can address this later.", "author": "keyki", "createdAt": "2020-08-05T06:59:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUwMzU2Mg=="}], "type": "inlineReview", "revised_code": null}]}