{"pr_number": 7214, "pr_title": "CB-5308 Manage autorestart_on_stop property in Knox", "pr_createdAt": "2020-02-04T15:56:55Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7214", "timeline": [{"oid": "76ce50a8682cba1afcd39ae9e05edbaa5e2325f6", "url": "https://github.com/hortonworks/cloudbreak/commit/76ce50a8682cba1afcd39ae9e05edbaa5e2325f6", "message": "CB-5308 Manage autorestart_on_stop property in Knox", "committedDate": "2020-02-05T16:43:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTQyMzE5OQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/7214#discussion_r375423199", "bodyText": "I'm not sure what happens with clusters if we remove a flow step. We should test it and if it causes problem we should keep it, but just send the success event maybe.", "author": "keyki", "createdAt": "2020-02-05T18:14:37Z", "path": "core/src/main/java/com/sequenceiq/cloudbreak/core/flow2/cluster/termination/ClusterTerminationActions.java", "diffHunk": "@@ -34,8 +32,8 @@\n     @Inject\n     private JobService jobService;\n \n-    @Bean(name = \"PREPARE_CLUSTER_STATE\")\n-    public Action<?, ?> prepareCluster() {\n+    @Bean(name = \"DISABLE_KERBEROS_STATE\")", "originalCommit": "76ce50a8682cba1afcd39ae9e05edbaa5e2325f6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "336b19f0a4358946970cc1af5c7ef32e5b42bd05", "chunk": "diff --git a/core/src/main/java/com/sequenceiq/cloudbreak/core/flow2/cluster/termination/ClusterTerminationActions.java b/core/src/main/java/com/sequenceiq/cloudbreak/core/flow2/cluster/termination/ClusterTerminationActions.java\nindex c551393092..e5789c3411 100644\n--- a/core/src/main/java/com/sequenceiq/cloudbreak/core/flow2/cluster/termination/ClusterTerminationActions.java\n+++ b/core/src/main/java/com/sequenceiq/cloudbreak/core/flow2/cluster/termination/ClusterTerminationActions.java\n\n@@ -32,8 +34,8 @@ public class ClusterTerminationActions {\n     @Inject\n     private JobService jobService;\n \n-    @Bean(name = \"DISABLE_KERBEROS_STATE\")\n-    public Action<?, ?> disableKerboros() {\n+    @Bean(name = \"PREPARE_CLUSTER_STATE\")\n+    public Action<?, ?> prepareCluster() {\n         return new AbstractClusterAction<>(StackEvent.class) {\n             @Override\n             protected void doExecute(ClusterViewContext context, StackEvent payload, Map<Object, Object> variables) {\n"}}, {"oid": "336b19f0a4358946970cc1af5c7ef32e5b42bd05", "url": "https://github.com/hortonworks/cloudbreak/commit/336b19f0a4358946970cc1af5c7ef32e5b42bd05", "message": "CB-5308 Manage autorestart_on_stop property in Knox", "committedDate": "2020-02-06T10:16:40Z", "type": "commit"}, {"oid": "336b19f0a4358946970cc1af5c7ef32e5b42bd05", "url": "https://github.com/hortonworks/cloudbreak/commit/336b19f0a4358946970cc1af5c7ef32e5b42bd05", "message": "CB-5308 Manage autorestart_on_stop property in Knox", "committedDate": "2020-02-06T10:16:40Z", "type": "forcePushed"}]}