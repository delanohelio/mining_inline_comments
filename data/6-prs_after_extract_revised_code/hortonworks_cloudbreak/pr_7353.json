{"pr_number": 7353, "pr_title": "CB-5616 [CB+UI] Distrox in running state when all the nodes are stopped", "pr_createdAt": "2020-02-21T14:47:08Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7353", "timeline": [{"oid": "10de84818051e8b5d77555b877f89c8a7351a199", "url": "https://github.com/hortonworks/cloudbreak/commit/10de84818051e8b5d77555b877f89c8a7351a199", "message": "CB-5616 [CB+UI] Distrox in running state when all the nodes are stopped", "committedDate": "2020-02-21T14:45:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382621981", "bodyText": "you should update the cluster status in the other case as well", "author": "topolyai5", "createdAt": "2020-02-21T14:50:02Z", "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/stack/flow/StackSyncService.java", "diffHunk": "@@ -217,6 +222,7 @@ private void handleSyncResult(Stack stack, Map<InstanceSyncState, Integer> insta\n             eventService.fireCloudbreakEvent(stack.getId(), AVAILABLE.name(), STACK_SYNC_INSTANCE_STATE_SYNCED);\n         } else if (isAllStopped(instanceStateCounts, instances.size()) && stack.getStatus() != STOPPED) {\n             updateStackStatusIfEnabled(stack.getId(), DetailedStackStatus.STOPPED, SYNC_STATUS_REASON, stackStatusUpdateEnabled);\n+            updateClusterStatusIfEnabled(stack.getId(), STOPPED, stackStatusUpdateEnabled);", "originalCommit": "10de84818051e8b5d77555b877f89c8a7351a199", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYzNjk5NA==", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382636994", "bodyText": "I don't think so", "author": "bbihari", "createdAt": "2020-02-21T15:16:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY0MDYyMw==", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382640623", "bodyText": "We talked in slack. The cluster status will be set at the other part of the sync. I accept the change", "author": "topolyai5", "createdAt": "2020-02-21T15:22:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ=="}], "type": "inlineReview", "revised_code": null}]}