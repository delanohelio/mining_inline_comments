{"pr_number": 8776, "pr_title": "CB-8300 and CB-8347. Add e2e diagnostics tests for FreeIpa/Sdx (+ abstrac\u2026", "pr_createdAt": "2020-08-11T11:09:47Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8776", "timeline": [{"oid": "decba26ff83297798c687eb47636d44cd31c776d", "url": "https://github.com/hortonworks/cloudbreak/commit/decba26ff83297798c687eb47636d44cd31c776d", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-11T11:25:01Z", "type": "forcePushed"}, {"oid": "a5861849e88e19869e271b4f5914f14c441d2120", "url": "https://github.com/hortonworks/cloudbreak/commit/a5861849e88e19869e271b4f5914f14c441d2120", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-11T12:35:36Z", "type": "forcePushed"}, {"oid": "936da9e02cfba348d76cbadc84173e3db0c91ed9", "url": "https://github.com/hortonworks/cloudbreak/commit/936da9e02cfba348d76cbadc84173e3db0c91ed9", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-11T18:13:51Z", "type": "forcePushed"}, {"oid": "7117a569c717e6384245e1069367304090d4a7b4", "url": "https://github.com/hortonworks/cloudbreak/commit/7117a569c717e6384245e1069367304090d4a7b4", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-12T10:03:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDU3NDgyMw==", "url": "https://github.com/hortonworks/cloudbreak/pull/8776#discussion_r470574823", "bodyText": "I think .withSdx(sdx) is missing after this step.", "author": "aszegedi", "createdAt": "2020-08-14T11:43:41Z", "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/sdx/SdxCloudStorageTest.java", "diffHunk": "@@ -48,6 +50,10 @@ public void testSDXWithDataLakeAndFreeIpaStorageCanBeCreatedSuccessfully(TestCon\n                 .awaitForFlow(key(sdx))\n                 .await(SdxClusterStatusResponse.RUNNING)\n                 .awaitForInstance(getSdxInstancesHealthyState())\n+                .given(diagnostics, SdxDiagnosticsTestDto.class)", "originalCommit": "7117a569c717e6384245e1069367304090d4a7b4", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "fc54eb1806560e265900985785cbafe5e2df97ae", "chunk": "diff --git a/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/sdx/SdxCloudStorageTest.java b/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/sdx/SdxCloudStorageTest.java\nindex f56bba88e1..949ab5ad9a 100644\n--- a/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/sdx/SdxCloudStorageTest.java\n+++ b/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/sdx/SdxCloudStorageTest.java\n\n@@ -51,6 +51,7 @@ public class SdxCloudStorageTest extends PreconditionSdxE2ETest {\n                 .await(SdxClusterStatusResponse.RUNNING)\n                 .awaitForInstance(getSdxInstancesHealthyState())\n                 .given(diagnostics, SdxDiagnosticsTestDto.class)\n+                .withSdx(sdx)\n                 .when(sdxTestClient.collectDiagnostics(), key(diagnostics))\n                 .awaitForFlow(key(diagnostics))\n                 .given(sdx, SdxTestDto.class)\n"}}, {"oid": "fc54eb1806560e265900985785cbafe5e2df97ae", "url": "https://github.com/hortonworks/cloudbreak/commit/fc54eb1806560e265900985785cbafe5e2df97ae", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-15T12:36:27Z", "type": "forcePushed"}, {"oid": "04931e69ec484d74db27f34027a3727a4b91cec3", "url": "https://github.com/hortonworks/cloudbreak/commit/04931e69ec484d74db27f34027a3727a4b91cec3", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-25T15:20:19Z", "type": "forcePushed"}, {"oid": "996e49ac60b5789a552a60b4976cc1d2f86bfa69", "url": "https://github.com/hortonworks/cloudbreak/commit/996e49ac60b5789a552a60b4976cc1d2f86bfa69", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-28T15:29:18Z", "type": "forcePushed"}, {"oid": "78b8e3348236f6a4f13b643837d6897ac58cac41", "url": "https://github.com/hortonworks/cloudbreak/commit/78b8e3348236f6a4f13b643837d6897ac58cac41", "message": "CB-8300 and CB-8347. Add diagnostics tests for FreeIpa/Sdx (+ abstractions) - extended basic test cases with those", "committedDate": "2020-08-28T16:18:39Z", "type": "forcePushed"}, {"oid": "af5380bdb943192470a2839d2c8ac15bece79e8c", "url": "https://github.com/hortonworks/cloudbreak/commit/af5380bdb943192470a2839d2c8ac15bece79e8c", "message": "CB-8347. Add freeipa & sdx diagnostics tests", "committedDate": "2020-08-29T11:05:29Z", "type": "forcePushed"}, {"oid": "bcca0837b9188a0c5fc24176ee4dccaf248e2daf", "url": "https://github.com/hortonworks/cloudbreak/commit/bcca0837b9188a0c5fc24176ee4dccaf248e2daf", "message": "CB-8347. Add freeipa & sdx diagnostics tests", "committedDate": "2020-08-30T17:19:22Z", "type": "forcePushed"}, {"oid": "c7b32cfc67270368d59b34d1631917c693bb930a", "url": "https://github.com/hortonworks/cloudbreak/commit/c7b32cfc67270368d59b34d1631917c693bb930a", "message": "CB-8347. Add freeipa & sdx diagnostics tests", "committedDate": "2020-08-31T18:39:13Z", "type": "forcePushed"}, {"oid": "80100db38348e9489f7ce9e473520940b7fd567a", "url": "https://github.com/hortonworks/cloudbreak/commit/80100db38348e9489f7ce9e473520940b7fd567a", "message": "CB-8347. Add freeipa & sdx diagnostics tests", "committedDate": "2020-09-09T16:44:24Z", "type": "forcePushed"}, {"oid": "3370abbae9d7e7d36ec848d12bcdd0abf195267b", "url": "https://github.com/hortonworks/cloudbreak/commit/3370abbae9d7e7d36ec848d12bcdd0abf195267b", "message": "CB-8347. Add freeipa & sdx diagnostics tests (new test case - not used yet)", "committedDate": "2020-09-10T14:56:09Z", "type": "forcePushed"}, {"oid": "85a1d89105269670d68ff7068afcd70d6b90ed4f", "url": "https://github.com/hortonworks/cloudbreak/commit/85a1d89105269670d68ff7068afcd70d6b90ed4f", "message": "CB-8765 fix NPE when there is a read-only lock on the Resource Group\nWith the single Resource Group feature we force the customers to select\nand existing RG on the UI. However, if there is a ready-only lock on the\ngroup then the provisioning will fail and it will capture the proper error\nmessage returned by Azure. However, there is a finally block to always gather\nthe created resources based on the Deployment object, but the Deployment itself\ncould not be created. This change fixes this problem so we can return the proper\nerror message to the UI/CLI.", "committedDate": "2020-09-11T10:53:12Z", "type": "commit"}, {"oid": "8e08a3fa32cdd3f989ea87b5c1207478acdd3357", "url": "https://github.com/hortonworks/cloudbreak/commit/8e08a3fa32cdd3f989ea87b5c1207478acdd3357", "message": "CB-8347. Add freeipa & sdx diagnostics tests (new test case - not used yet)", "committedDate": "2020-09-11T11:32:10Z", "type": "commit"}, {"oid": "8e08a3fa32cdd3f989ea87b5c1207478acdd3357", "url": "https://github.com/hortonworks/cloudbreak/commit/8e08a3fa32cdd3f989ea87b5c1207478acdd3357", "message": "CB-8347. Add freeipa & sdx diagnostics tests (new test case - not used yet)", "committedDate": "2020-09-11T11:32:10Z", "type": "forcePushed"}]}