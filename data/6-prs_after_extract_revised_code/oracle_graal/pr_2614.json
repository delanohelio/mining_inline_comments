{"pr_number": 2614, "pr_title": "Prints JDK build number along with  java.version", "pr_createdAt": "2020-06-25T16:24:54Z", "pr_url": "https://github.com/oracle/graal/pull/2614", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxNTQzMw==", "url": "https://github.com/oracle/graal/pull/2614#discussion_r445715433", "bodyText": "java.version and java.vm.version are 2 different pieces of info:\njava -XshowSettings:properties  2>&1| grep 'java.*version'\n    java.class.version = 52.0\n    java.runtime.version = 1.8.0_251-b08\n    java.specification.version = 1.8\n    java.version = 1.8.0_251\n    java.vm.specification.version = 1.8\n    java.vm.version = 25.251-b08-jvmci-20.2-b01\n\nPeople may already be depending on the current output format and semantics. This is API and evolving it should be done carefully.", "author": "dougxc", "createdAt": "2020-06-25T17:18:02Z", "path": "substratevm/src/com.oracle.svm.driver/src/com/oracle/svm/driver/DefaultOptionHandler.java", "diffHunk": "@@ -82,7 +82,7 @@ public boolean consume(Queue<String> args) {\n                 if (!NativeImage.graalvmConfig.isEmpty()) {\n                     message += \" \" + NativeImage.graalvmConfig;\n                 }\n-                message += \" (Java Version \" + System.getProperty(\"java.version\") + \")\";", "originalCommit": "ab10d0e1979b1823ac829c6fee65baccbb20b669", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTczNTU5Ng==", "url": "https://github.com/oracle/graal/pull/2614#discussion_r445735596", "bodyText": "You are right. I only checked with java 11.\nChanging this to a draft PR for the time being.\nThanks @dougxc", "author": "zakkak", "createdAt": "2020-06-25T17:53:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcxNTQzMw=="}], "type": "inlineReview", "revised_code": {"commit": "38872073c5a576bddf63698db46827b732496ca8", "chunk": "diff --git a/substratevm/src/com.oracle.svm.driver/src/com/oracle/svm/driver/DefaultOptionHandler.java b/substratevm/src/com.oracle.svm.driver/src/com/oracle/svm/driver/DefaultOptionHandler.java\nindex 283932f402f..86e8fc66bfe 100644\n--- a/substratevm/src/com.oracle.svm.driver/src/com/oracle/svm/driver/DefaultOptionHandler.java\n+++ b/substratevm/src/com.oracle.svm.driver/src/com/oracle/svm/driver/DefaultOptionHandler.java\n\n@@ -82,7 +84,11 @@ class DefaultOptionHandler extends NativeImage.OptionHandler<NativeImage> {\n                 if (!NativeImage.graalvmConfig.isEmpty()) {\n                     message += \" \" + NativeImage.graalvmConfig;\n                 }\n-                message += \" (Java Version \" + System.getProperty(\"java.vm.version\") + \")\";\n+                message += \" (Java Version \" + System.getProperty(\"java.version\");\n+                if (GraalHotSpotVMConfigAccess.JDK >= 9) {\n+                     message += \"+\" + GraalHotSpotVMConfigAccess.JDK_UPDATE;\n+                }\n+                message += \")\";\n                 nativeImage.showMessage(message);\n                 System.exit(0);\n                 return true;\n"}}, {"oid": "38872073c5a576bddf63698db46827b732496ca8", "url": "https://github.com/oracle/graal/commit/38872073c5a576bddf63698db46827b732496ca8", "message": "Includes JDK update number in Java version of native-image --version\n\nSince graal is sensitive to JDK changes printing the build number along\nwith the java version, makes issue reporting and debugging a bit easier.", "committedDate": "2020-06-29T14:35:08Z", "type": "forcePushed"}, {"oid": "0aac636ebd7875b98acf05cf144a8fd30803898e", "url": "https://github.com/oracle/graal/commit/0aac636ebd7875b98acf05cf144a8fd30803898e", "message": "Includes JDK update number in Java version of native-image --version\n\nSince graal is sensitive to JDK changes printing the build number along\nwith the java version, makes issue reporting and debugging a bit easier.", "committedDate": "2020-07-13T11:09:00Z", "type": "forcePushed"}, {"oid": "75f9a50c4552e652558cdf9c63df8fc1aac6ce49", "url": "https://github.com/oracle/graal/commit/75f9a50c4552e652558cdf9c63df8fc1aac6ce49", "message": "Includes JDK update number in Java version of native-image --version\n\nSince graal is sensitive to JDK changes printing the build number along\nwith the java version, makes issue reporting and debugging a bit easier.", "committedDate": "2020-07-13T11:09:56Z", "type": "commit"}, {"oid": "75f9a50c4552e652558cdf9c63df8fc1aac6ce49", "url": "https://github.com/oracle/graal/commit/75f9a50c4552e652558cdf9c63df8fc1aac6ce49", "message": "Includes JDK update number in Java version of native-image --version\n\nSince graal is sensitive to JDK changes printing the build number along\nwith the java version, makes issue reporting and debugging a bit easier.", "committedDate": "2020-07-13T11:09:56Z", "type": "forcePushed"}]}