{"pr_number": 2603, "pr_title": "Make -g an alias for -H:GenerateDebugInfo=2", "pr_createdAt": "2020-06-23T15:52:23Z", "pr_url": "https://github.com/oracle/graal/pull/2603", "timeline": [{"oid": "d05f3599a3035191fcf54298ac07c1a7eada75e7", "url": "https://github.com/oracle/graal/commit/d05f3599a3035191fcf54298ac07c1a7eada75e7", "message": "Make -g an alias for -H:GenerateDebugInfo=2", "committedDate": "2020-06-23T12:35:44Z", "type": "commit"}, {"oid": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc", "url": "https://github.com/oracle/graal/commit/f9bf83d6234f6c8547dcad8558a82af47cb0f4dc", "message": "Style fix", "committedDate": "2020-06-23T12:51:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMzMDc2Mg==", "url": "https://github.com/oracle/graal/pull/2603#discussion_r444330762", "bodyText": "The indirection here allows us to have EE do other things for -H:GenerateDebugInfo=2", "author": "olpaw", "createdAt": "2020-06-23T15:53:52Z", "path": "substratevm/src/com.oracle.svm.core/src/com/oracle/svm/core/SubstrateOptions.java", "diffHunk": "@@ -464,16 +469,22 @@ public static int codeAlignment() {\n     @Option(help = \"Populate reference queues in a separate thread rather than after a garbage collection.\", type = OptionType.Expert) //\n     public static final HostedOptionKey<Boolean> UseReferenceHandlerThread = new HostedOptionKey<>(false);\n \n+    @APIOption(name = \"-g\", fixedValue = \"2\", customHelp = \"generate debugging information\")//\n     @Option(help = \"Insert debug info into the generated native image or library\")//\n     public static final HostedOptionKey<Integer> GenerateDebugInfo = new HostedOptionKey<Integer>(0) {\n         @Override\n         protected void onValueUpdate(EconomicMap<OptionKey<?>, Object> values, Integer oldValue, Integer newValue) {\n-            // force update of TrackNodeSourcePosition\n-            if (newValue > 0 && !Boolean.TRUE.equals(values.get(TrackNodeSourcePosition))) {\n-                TrackNodeSourcePosition.update(values, true);\n-            }\n+            debugInfoValueUpdateHandler.onValueUpdate(values, oldValue, newValue);", "originalCommit": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null}]}