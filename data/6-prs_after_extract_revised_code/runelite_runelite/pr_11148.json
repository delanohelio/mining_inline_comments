{"pr_number": 11148, "pr_title": "barrowsplugin: fix null pointer exception in region check", "pr_createdAt": "2020-03-30T23:55:17Z", "pr_url": "https://github.com/runelite/runelite/pull/11148", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU2MzYxMg==", "url": "https://github.com/runelite/runelite/pull/11148#discussion_r400563612", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\treturn localPlayer != null && client.getLocalPlayer().getWorldLocation().getRegionID() == CRYPT_REGION_ID;\n          \n          \n            \n            \t\treturn localPlayer != null && localPlayer.getWorldLocation().getRegionID() == CRYPT_REGION_ID;", "author": "Adam-", "createdAt": "2020-03-30T23:56:45Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/barrows/BarrowsPlugin.java", "diffHunk": "@@ -249,6 +250,7 @@ private void stopPrayerDrainTimer()\n \n \tprivate boolean isInCrypt()\n \t{\n-\t\treturn client.getLocalPlayer().getWorldLocation().getRegionID() == CRYPT_REGION_ID;\n+\t\tPlayer localPlayer = client.getLocalPlayer();\n+\t\treturn localPlayer != null && client.getLocalPlayer().getWorldLocation().getRegionID() == CRYPT_REGION_ID;", "originalCommit": "ca138917fe37be3426ab1e11b7142859330013c4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU2NDA2OQ==", "url": "https://github.com/runelite/runelite/pull/11148#discussion_r400564069", "bodyText": "Was a little quick there", "author": "ypperlig", "createdAt": "2020-03-30T23:58:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU2MzYxMg=="}], "type": "inlineReview", "revised_code": {"commit": "2776f30fcd2186ed57fde0b38d5ec68bcc9c4b3e", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/barrows/BarrowsPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/barrows/BarrowsPlugin.java\nindex 9eb420c63..149a7ac24 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/barrows/BarrowsPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/barrows/BarrowsPlugin.java\n\n@@ -251,6 +251,6 @@ public class BarrowsPlugin extends Plugin\n \tprivate boolean isInCrypt()\n \t{\n \t\tPlayer localPlayer = client.getLocalPlayer();\n-\t\treturn localPlayer != null && client.getLocalPlayer().getWorldLocation().getRegionID() == CRYPT_REGION_ID;\n+\t\treturn localPlayer != null && localPlayer.getWorldLocation().getRegionID() == CRYPT_REGION_ID;\n \t}\n }\n"}}, {"oid": "2776f30fcd2186ed57fde0b38d5ec68bcc9c4b3e", "url": "https://github.com/runelite/runelite/commit/2776f30fcd2186ed57fde0b38d5ec68bcc9c4b3e", "message": "barrowsplugin: fix null pointer exception in region check\n\n2020-03-31 01:01:39 [Client] WARN  n.runelite.client.eventbus.EventBus - Uncaught exception in event subscriber\njava.lang.NullPointerException: null\n\tat net.runelite.client.plugins.barrows.BarrowsPlugin.isInCrypt(BarrowsPlugin.java:252)\n\tat net.runelite.client.plugins.barrows.BarrowsPlugin.onGameStateChanged(BarrowsPlugin.java:166)\n\tat net.runelite.client.eventbus.EventBus$Subscriber.invoke(EventBus.java:73)\n\tat net.runelite.client.eventbus.EventBus.post(EventBus.java:222)\n\tat net.runelite.client.callback.Hooks.post(Hooks.java:167)\n\tat client.oz(client.java:62117)\n\tat bn.ew(bn.java:1275)\n\tat client.zl(client.java:2476)\n\tat client.u(client.java:1114)\n\tat br.kq(br.java:336)\n\tat br.run(br.java:315)\n\tat java.lang.Thread.run(Thread.java:748)", "committedDate": "2020-03-30T23:57:07Z", "type": "commit"}, {"oid": "2776f30fcd2186ed57fde0b38d5ec68bcc9c4b3e", "url": "https://github.com/runelite/runelite/commit/2776f30fcd2186ed57fde0b38d5ec68bcc9c4b3e", "message": "barrowsplugin: fix null pointer exception in region check\n\n2020-03-31 01:01:39 [Client] WARN  n.runelite.client.eventbus.EventBus - Uncaught exception in event subscriber\njava.lang.NullPointerException: null\n\tat net.runelite.client.plugins.barrows.BarrowsPlugin.isInCrypt(BarrowsPlugin.java:252)\n\tat net.runelite.client.plugins.barrows.BarrowsPlugin.onGameStateChanged(BarrowsPlugin.java:166)\n\tat net.runelite.client.eventbus.EventBus$Subscriber.invoke(EventBus.java:73)\n\tat net.runelite.client.eventbus.EventBus.post(EventBus.java:222)\n\tat net.runelite.client.callback.Hooks.post(Hooks.java:167)\n\tat client.oz(client.java:62117)\n\tat bn.ew(bn.java:1275)\n\tat client.zl(client.java:2476)\n\tat client.u(client.java:1114)\n\tat br.kq(br.java:336)\n\tat br.run(br.java:315)\n\tat java.lang.Thread.run(Thread.java:748)", "committedDate": "2020-03-30T23:57:07Z", "type": "forcePushed"}]}