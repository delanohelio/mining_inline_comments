{"pr_number": 11140, "pr_title": "Toggleable prayer sounds", "pr_createdAt": "2020-03-29T19:07:25Z", "pr_url": "https://github.com/runelite/runelite/pull/11140", "timeline": [{"oid": "3d034664f79a42a3ccd22f93c2eed65584a7db52", "url": "https://github.com/runelite/runelite/commit/3d034664f79a42a3ccd22f93c2eed65584a7db52", "message": "Add all prayer activation sound effect IDs", "committedDate": "2020-03-29T18:59:52Z", "type": "commit"}, {"oid": "5735e98118524f72a6176d9915c5c73078e6ea0c", "url": "https://github.com/runelite/runelite/commit/5735e98118524f72a6176d9915c5c73078e6ea0c", "message": "Consume prayer sounds if disabled", "committedDate": "2020-03-29T19:00:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA3NDQyNw==", "url": "https://github.com/runelite/runelite/pull/11140#discussion_r401074427", "bodyText": "Instead of naming each of these after the ID, name them after the prayer, eg. PRAYER_ACTIVATE_THICK_SKIN", "author": "Nightfirecat", "createdAt": "2020-03-31T17:06:21Z", "path": "runelite-api/src/main/java/net/runelite/api/SoundEffectID.java", "diffHunk": "@@ -62,7 +62,33 @@\n \tpublic final static int ZERO_DAMAGE_SPLAT = 511;\n \tpublic final static int TAKE_DAMAGE_SPLAT = 510;\n \tpublic final static int ATTACK_HIT = 2498;\n-\tpublic final static int PRAYER_ACTIVATE_VROOM = 2690;\n+\n+\tpublic final static int PRAYER_ACTIVATE_2690 = 2690; //Thick Skin", "originalCommit": "5735e98118524f72a6176d9915c5c73078e6ea0c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0b17e5da69d06f54c69155f1aba5d509e5f1bab7", "chunk": "diff --git a/runelite-api/src/main/java/net/runelite/api/SoundEffectID.java b/runelite-api/src/main/java/net/runelite/api/SoundEffectID.java\nindex e61ed456d..6ccfd782e 100644\n--- a/runelite-api/src/main/java/net/runelite/api/SoundEffectID.java\n+++ b/runelite-api/src/main/java/net/runelite/api/SoundEffectID.java\n\n@@ -63,32 +63,32 @@ public final class SoundEffectID\n \tpublic final static int TAKE_DAMAGE_SPLAT = 510;\n \tpublic final static int ATTACK_HIT = 2498;\n \n-\tpublic final static int PRAYER_ACTIVATE_2690 = 2690; //Thick Skin\n-\tpublic final static int PRAYER_ACTIVATE_2688 = 2688; //Burst of Strength\n-\tpublic final static int PRAYER_ACTIVATE_2664 = 2664; //Clarity of Thought\n-\tpublic final static int PRAYER_ACTIVATE_2685 = 2685; //Sharp Eye, Rigour\n-\tpublic final static int PRAYER_ACTIVATE_2670 = 2670; //Mystic Will, Augury\n-\tpublic final static int PRAYER_ACTIVATE_2684 = 2684; //Rock Skin\n-\tpublic final static int PRAYER_ACTIVATE_2689 = 2689; //Superhuman Strength\n-\tpublic final static int PRAYER_ACTIVATE_2662 = 2662; //Improved Reflexes\n-\tpublic final static int PRAYER_ACTIVATE_2679 = 2679; //Rapid Restore, Preserve\n-\tpublic final static int PRAYER_ACTIVATE_2678 = 2678; //Rapid Heal\n-\tpublic final static int PRAYER_ACTIVATE_1982 = 1982; //Protect Item\n-\tpublic final static int PRAYER_ACTIVATE_2666 = 2666; //Hawk Eye\n-\tpublic final static int PRAYER_ACTIVATE_2668 = 2668; //Mystic Lore\n-\tpublic final static int PRAYER_ACTIVATE_2687 = 2687; //Steel Skin\n-\tpublic final static int PRAYER_ACTIVATE_2691 = 2691; //Ultimate Strength\n-\tpublic final static int PRAYER_ACTIVATE_2667 = 2667; //Incredible Reflexes\n-\tpublic final static int PRAYER_ACTIVATE_2675 = 2675; //Protect from Magic\n-\tpublic final static int PRAYER_ACTIVATE_2677 = 2677; //Protect from Missles\n-\tpublic final static int PRAYER_ACTIVATE_2676 = 2676; //Protect from Melee\n-\tpublic final static int PRAYER_ACTIVATE_2665 = 2665; //Eagle Eye\n-\tpublic final static int PRAYER_ACTIVATE_2669 = 2669; //Mystic Might\n-\tpublic final static int PRAYER_ACTIVATE_2682 = 2682; //Retribution\n-\tpublic final static int PRAYER_ACTIVATE_2680 = 2680; //Redemption\n-\tpublic final static int PRAYER_ACTIVATE_2686 = 2686; //Smite\n-\tpublic final static int PRAYER_ACTIVATE_3826 = 3826; //Chivalry\n-\tpublic final static int PRAYER_ACTIVATE_3825 = 3825; //Piety\n+\tpublic final static int PRAYER_ACTIVATE_THICK_SKIN = 2690;\n+\tpublic final static int PRAYER_ACTIVATE_BURST_OF_STRENGTH = 2688;\n+\tpublic final static int PRAYER_ACTIVATE_CLARITY_OF_THOUGHT = 2664;\n+\tpublic final static int PRAYER_ACTIVATE_SHARP_EYE_RIGOUR = 2685;\n+\tpublic final static int PRAYER_ACTIVATE_MYSTIC_WILL_AUGURY = 2670;\n+\tpublic final static int PRAYER_ACTIVATE_ROCK_SKIN = 2684;\n+\tpublic final static int PRAYER_ACTIVATE_SUPERHUMAN_STRENGTH = 2689;\n+\tpublic final static int PRAYER_ACTIVATE_IMPROVED_REFLEXES = 2662;\n+\tpublic final static int PRAYER_ACTIVATE_RAPID_RESTORE_PRESERVE = 2679;\n+\tpublic final static int PRAYER_ACTIVATE_RAPID_HEAL = 2678;\n+\tpublic final static int PRAYER_ACTIVATE_PROTECT_ITEM = 1982;\n+\tpublic final static int PRAYER_ACTIVATE_HAWK_EYE = 2666;\n+\tpublic final static int PRAYER_ACTIVATE_MYSTIC_LORE = 2668;\n+\tpublic final static int PRAYER_ACTIVATE_STEEL_SKIN = 2687;\n+\tpublic final static int PRAYER_ACTIVATE_ULTIMATE_STRENGTH = 2691;\n+\tpublic final static int PRAYER_ACTIVATE_INCREDIBLE_REFLEXES = 2667;\n+\tpublic final static int PRAYER_ACTIVATE_PROTECT_FROM_MAGIC = 2675;\n+\tpublic final static int PRAYER_ACTIVATE_PROTECT_FROM_MISSILES = 2677;\n+\tpublic final static int PRAYER_ACTIVATE_PROTECT_FROM_MELEE = 2676;\n+\tpublic final static int PRAYER_ACTIVATE_EAGLE_EYE = 2665;\n+\tpublic final static int PRAYER_ACTIVATE_MYSTIC_MIGHT = 2669;\n+\tpublic final static int PRAYER_ACTIVATE_RETRIBUTION = 2682;\n+\tpublic final static int PRAYER_ACTIVATE_REDEMPTION = 2680;\n+\tpublic final static int PRAYER_ACTIVATE_SMITE = 2686;\n+\tpublic final static int PRAYER_ACTIVATE_CHIVALRY = 3826;\n+\tpublic final static int PRAYER_ACTIVATE_PIETY = 3825;\n \tpublic final static int PRAYER_DEACTIVE_VWOOP = 2663;\n \tpublic final static int PRAYER_DEPLETE_TWINKLE = 2672;\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA3NTM2NQ==", "url": "https://github.com/runelite/runelite/pull/11140#discussion_r401075365", "bodyText": "This value is used only once, and is clear without a variable name attached to it, so this should be passed directly to the contains() check instead.", "author": "Nightfirecat", "createdAt": "2020-03-31T17:07:51Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java", "diffHunk": "@@ -590,4 +621,15 @@ else if (source == null\n \t\t\tareaSoundEffectPlayed.consume();\n \t\t}\n \t}\n+\n+\t@Subscribe\n+\tpublic void onSoundEffectPlayed(SoundEffectPlayed soundEffectPlayed)\n+\t{\n+\t\tint soundId = soundEffectPlayed.getSoundId();", "originalCommit": "5735e98118524f72a6176d9915c5c73078e6ea0c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "925dc1799f694a8892b273cdf5cbea1c7530f874", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java\nindex 94f7c4064..b3f478fb7 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java\n\n@@ -625,9 +625,8 @@ public class MusicPlugin extends Plugin\n \t@Subscribe\n \tpublic void onSoundEffectPlayed(SoundEffectPlayed soundEffectPlayed)\n \t{\n-\t\tint soundId = soundEffectPlayed.getSoundId();\n \t\tif (musicConfig.mutePrayerSounds()\n-\t\t\t&& PRAYER_SOUNDS.contains(soundId))\n+\t\t\t&& PRAYER_SOUNDS.contains(soundEffectPlayed.getSoundId()))\n \t\t{\n \t\t\tsoundEffectPlayed.consume();\n \t\t}\n"}}, {"oid": "925dc1799f694a8892b273cdf5cbea1c7530f874", "url": "https://github.com/runelite/runelite/commit/925dc1799f694a8892b273cdf5cbea1c7530f874", "message": "Directly pass sound id", "committedDate": "2020-03-31T22:18:59Z", "type": "commit"}, {"oid": "0b17e5da69d06f54c69155f1aba5d509e5f1bab7", "url": "https://github.com/runelite/runelite/commit/0b17e5da69d06f54c69155f1aba5d509e5f1bab7", "message": "Name prayer activation sound constants appropriately", "committedDate": "2020-03-31T22:50:11Z", "type": "commit"}]}