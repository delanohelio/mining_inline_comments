{"pr_number": 11305, "pr_title": "Added seed packs to loot tracker", "pr_createdAt": "2020-04-17T22:47:04Z", "pr_url": "https://github.com/runelite/runelite/pull/11305", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM1NDM4Nw==", "url": "https://github.com/runelite/runelite/pull/11305#discussion_r415354387", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tif (event.getMenuOption().equals((\"Take\")) && event.getId() == SEEDPACK_ID)\n          \n          \n            \n            \t\tif (event.getMenuOption().equals(\"Take\") && event.getId() == SEEDPACK_ID)", "author": "Adam-", "createdAt": "2020-04-26T17:05:13Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "diffHunk": "@@ -631,6 +636,14 @@ public void onMenuOptionClicked(MenuOptionClicked event)\n \t\t{\n \t\t\tlastPickpocketTarget = Text.removeTags(event.getMenuTarget());\n \t\t}\n+\n+\t\tif (event.getMenuOption().equals((\"Take\")) && event.getId() == SEEDPACK_ID)", "originalCommit": "2c51dd2e76bf0fd12ac896da0b47c7b6ba168253", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bc13b5549cddd2ca101a6b779e7e0b46ef13a7bb", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\nindex 798435acd..efb47392b 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\n\n@@ -637,12 +645,11 @@ public class LootTrackerPlugin extends Plugin\n \t\t\tlastPickpocketTarget = Text.removeTags(event.getMenuTarget());\n \t\t}\n \n-\t\tif (event.getMenuOption().equals((\"Take\")) && event.getId() == SEEDPACK_ID)\n+\t\tif (event.getMenuOption().equals((\"Take\")) && event.getId() == ItemID.SEED_PACK)\n \t\t{\n \t\t\teventType = SEEDPACK_EVENT;\n \t\t\tlootRecordType = LootRecordType.EVENT;\n \t\t\ttakeInventorySnapshot();\n-\t\t\treturn;\n \t\t}\n \t}\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM1NDUwMw==", "url": "https://github.com/runelite/runelite/pull/11305#discussion_r415354503", "bodyText": "try to avoid unnecessary reformatting of unrelated code", "author": "Adam-", "createdAt": "2020-04-26T17:06:01Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "diffHunk": "@@ -676,7 +689,7 @@ private void takeInventorySnapshot()\n \t\t{\n \t\t\tinventorySnapshot = HashMultiset.create();\n \t\t\tArrays.stream(itemContainer.getItems())\n-\t\t\t\t\t.forEach(item -> inventorySnapshot.add(item.getId(), item.getQuantity()));", "originalCommit": "2c51dd2e76bf0fd12ac896da0b47c7b6ba168253", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "904a1b9464c5e13d4b7e8303f2262c2f0a0e5f4b", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\nindex 798435acd..418d2404c 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\n\n@@ -689,7 +696,7 @@ public class LootTrackerPlugin extends Plugin\n \t\t{\n \t\t\tinventorySnapshot = HashMultiset.create();\n \t\t\tArrays.stream(itemContainer.getItems())\n-\t\t\t\t.forEach(item -> inventorySnapshot.add(item.getId(), item.getQuantity()));\n+\t\t\t\t\t.forEach(item -> inventorySnapshot.add(item.getId(), item.getQuantity()));\n \t\t}\n \t}\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM1NTI5OQ==", "url": "https://github.com/runelite/runelite/pull/11305#discussion_r415355299", "bodyText": "Instead of defining this constant, use ItemID.SEED_PACK.", "author": "Nightfirecat", "createdAt": "2020-04-26T17:10:00Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "diffHunk": "@@ -126,6 +126,10 @@\n \tprivate static final String HERBIBOAR_EVENT = \"Herbiboar\";\n \tprivate static final Pattern HERBIBOAR_HERB_SACK_PATTERN = Pattern.compile(\".+(Grimy .+?) herb.+\");\n \n+\t//Seed Pack loot handling\n+\tprivate static final String SEEDPACK_EVENT = \"Seed pack\";\n+\tprivate static final int SEEDPACK_ID = 22993;", "originalCommit": "2c51dd2e76bf0fd12ac896da0b47c7b6ba168253", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bc13b5549cddd2ca101a6b779e7e0b46ef13a7bb", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\nindex 798435acd..efb47392b 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java\n\n@@ -128,28 +134,23 @@ public class LootTrackerPlugin extends Plugin\n \n \t//Seed Pack loot handling\n \tprivate static final String SEEDPACK_EVENT = \"Seed pack\";\n-\tprivate static final int SEEDPACK_ID = 22993;\n \n \t// Hespori loot handling\n \tprivate static final String HESPORI_LOOTED_MESSAGE = \"You have successfully cleared this patch for new crops.\";\n \tprivate static final String HESPORI_EVENT = \"Hespori\";\n \tprivate static final int HESPORI_REGION = 5021;\n \n-\t// Gauntlet loot handling\n-\tprivate static final String GAUNTLET_LOOTED_MESSAGE = \"You open the chest.\";\n-\tprivate static final String GAUNTLET_EVENT = \"The Gauntlet\";\n-\tprivate static final int GAUNTLET_LOBBY_REGION = 12127;\n-\n \t// Chest loot handling\n \tprivate static final String CHEST_LOOTED_MESSAGE = \"You find some treasure in the chest!\";\n \tprivate static final Pattern LARRAN_LOOTED_PATTERN = Pattern.compile(\"You have opened Larran's (big|small) chest .*\");\n-\tprivate static final Map<Integer, String> CHEST_EVENT_TYPES = ImmutableMap.of(\n-\t\t5179, \"Brimstone Chest\",\n-\t\t11573, \"Crystal Chest\",\n-\t\t12093, \"Larran's big chest\",\n-\t\t13113, \"Larran's small chest\",\n-\t\t13151, \"Elven Crystal Chest\"\n-\t);\n+\tprivate static final Map<Integer, String> CHEST_EVENT_TYPES = new ImmutableMap.Builder<Integer, String>().\n+\t\tput(5179, \"Brimstone Chest\").\n+\t\tput(11573, \"Crystal Chest\").\n+\t\tput(12093, \"Larran's big chest\").\n+\t\tput(12127, \"The Gauntlet\").\n+\t\tput(13113, \"Larran's small chest\").\n+\t\tput(13151, \"Elven Crystal Chest\").\n+\t\tbuild();\n \n \t// Last man standing map regions\n \tprivate static final Set<Integer> LAST_MAN_STANDING_REGIONS = ImmutableSet.of(13658, 13659, 13914, 13915, 13916);\n"}}, {"oid": "bc13b5549cddd2ca101a6b779e7e0b46ef13a7bb", "url": "https://github.com/runelite/runelite/commit/bc13b5549cddd2ca101a6b779e7e0b46ef13a7bb", "message": "loottracker: Add seed pack loot tracking", "committedDate": "2020-05-13T02:24:29Z", "type": "forcePushed"}, {"oid": "904a1b9464c5e13d4b7e8303f2262c2f0a0e5f4b", "url": "https://github.com/runelite/runelite/commit/904a1b9464c5e13d4b7e8303f2262c2f0a0e5f4b", "message": "loottracker: Add seed pack loot tracking", "committedDate": "2020-05-13T02:25:09Z", "type": "forcePushed"}, {"oid": "af93dd242fa59c6bc4ac0bef05681ac18db9de3b", "url": "https://github.com/runelite/runelite/commit/af93dd242fa59c6bc4ac0bef05681ac18db9de3b", "message": "loottracker: Add seed pack loot tracking", "committedDate": "2020-05-13T02:29:06Z", "type": "commit"}, {"oid": "af93dd242fa59c6bc4ac0bef05681ac18db9de3b", "url": "https://github.com/runelite/runelite/commit/af93dd242fa59c6bc4ac0bef05681ac18db9de3b", "message": "loottracker: Add seed pack loot tracking", "committedDate": "2020-05-13T02:29:06Z", "type": "forcePushed"}]}