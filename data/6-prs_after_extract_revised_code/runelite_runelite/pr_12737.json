{"pr_number": 12737, "pr_title": "xptracker: account for relic modifiers when tracking kills left", "pr_createdAt": "2020-11-03T00:28:14Z", "pr_url": "https://github.com/runelite/runelite/pull/12737", "timeline": [{"oid": "cb27a434681d72dd38cdded94143b4bdd0dabe97", "url": "https://github.com/runelite/runelite/commit/cb27a434681d72dd38cdded94143b4bdd0dabe97", "message": "xp-tracker: add league relic modifiers", "committedDate": "2020-11-03T00:40:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcxMDE3Mw==", "url": "https://github.com/runelite/runelite/pull/12737#discussion_r517710173", "bodyText": "I'd probably prefer to just see a modifier() overridden in the enum or something", "author": "Adam-", "createdAt": "2020-11-05T00:26:10Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/xptracker/XpTrackerPlugin.java", "diffHunk": "@@ -390,6 +392,35 @@ public void onStatChanged(StatChanged statChanged)\n \t\txpPanel.updateTotal(xpState.getTotalSnapshot());\n \t}\n \n+\tprivate int gamemodeModifier()\n+\t{\n+\t\tfinal XpWorldType worldType = worldSetToType(client.getWorldType());\n+\n+\t\tif (worldType == LEAGUE)\n+\t\t{\n+\t\t\treturn (int) (worldType.getXpModifier() * relicModifier());\n+\t\t}\n+\n+\t\treturn worldType.getXpModifier();\n+\t}\n+\n+\tprivate float relicModifier()", "originalCommit": "01630b18442f6b0a9f6d3560ad5b64544cd727a7", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "da57683282699ccc8d1199af5cf36611f89d2621", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/xptracker/XpTrackerPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/xptracker/XpTrackerPlugin.java\nindex 4fd0a83de..9ae532a8d 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/xptracker/XpTrackerPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/xptracker/XpTrackerPlugin.java\n\n@@ -392,35 +390,6 @@ public class XpTrackerPlugin extends Plugin\n \t\txpPanel.updateTotal(xpState.getTotalSnapshot());\n \t}\n \n-\tprivate int gamemodeModifier()\n-\t{\n-\t\tfinal XpWorldType worldType = worldSetToType(client.getWorldType());\n-\n-\t\tif (worldType == LEAGUE)\n-\t\t{\n-\t\t\treturn (int) (worldType.getXpModifier() * relicModifier());\n-\t\t}\n-\n-\t\treturn worldType.getXpModifier();\n-\t}\n-\n-\tprivate float relicModifier()\n-\t{\n-\t\tif (client.getVar(Varbits.TRAILBLAZER_LEAGUE_RELIC_6) != 0)\n-\t\t{\n-\t\t\treturn 3.2f;\n-\t\t}\n-\t\tif (client.getVar(Varbits.TRAILBLAZER_LEAGUE_RELIC_4) != 0)\n-\t\t{\n-\t\t\treturn 2.4f;\n-\t\t}\n-\t\tif (client.getVar(Varbits.TRAILBLAZER_LEAGUE_RELIC_2) != 0)\n-\t\t{\n-\t\t\treturn 1.6f;\n-\t\t}\n-\t\treturn 1;\n-\t}\n-\n \t@Subscribe\n \tpublic void onNpcDespawned(NpcDespawned event)\n \t{\n"}}, {"oid": "da57683282699ccc8d1199af5cf36611f89d2621", "url": "https://github.com/runelite/runelite/commit/da57683282699ccc8d1199af5cf36611f89d2621", "message": "regenmeter: add support for fluid strikes", "committedDate": "2020-11-05T00:54:10Z", "type": "forcePushed"}, {"oid": "d8fabb92782071c4c51bcce41d3cd71db3b890ee", "url": "https://github.com/runelite/runelite/commit/d8fabb92782071c4c51bcce41d3cd71db3b890ee", "message": "regenmeter: add support for fluid strikes", "committedDate": "2020-11-05T01:05:21Z", "type": "forcePushed"}, {"oid": "336e1c1b716772d8c7bdd9faac170f8df08d069a", "url": "https://github.com/runelite/runelite/commit/336e1c1b716772d8c7bdd9faac170f8df08d069a", "message": "regenmeter: add support for fluid strikes", "committedDate": "2020-11-05T16:36:10Z", "type": "commit"}, {"oid": "42901a4879a0fd6ee563ab556fc5ce871f6e6661", "url": "https://github.com/runelite/runelite/commit/42901a4879a0fd6ee563ab556fc5ce871f6e6661", "message": "xptracker: add league relic modifiers", "committedDate": "2020-11-05T16:36:17Z", "type": "commit"}, {"oid": "42901a4879a0fd6ee563ab556fc5ce871f6e6661", "url": "https://github.com/runelite/runelite/commit/42901a4879a0fd6ee563ab556fc5ce871f6e6661", "message": "xptracker: add league relic modifiers", "committedDate": "2020-11-05T16:36:17Z", "type": "forcePushed"}]}