{"pr_number": 11724, "pr_title": "Add timeout config option to clanchat join/leave message dissappearing.", "pr_createdAt": "2020-05-28T07:19:41Z", "pr_url": "https://github.com/runelite/runelite/pull/11724", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU3ODA0MA==", "url": "https://github.com/runelite/runelite/pull/11724#discussion_r437578040", "bodyText": "It is not necessary store this here, you can just call config.joinLeaveTimeout() in timeoutClanMessages", "author": "Adam-", "createdAt": "2020-06-09T16:53:12Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/clanchat/ClanChatPlugin.java", "diffHunk": "@@ -128,6 +127,7 @@\n \t */\n \tprivate final Deque<ClanJoinMessage> clanJoinMessages = new ArrayDeque<>();\n \tprivate Map<String, ClanMemberActivity> activityBuffer = new HashMap<>();\n+\tprivate int join_leave_duration;", "originalCommit": "bfc4cd10c8b502b80da178d35c092c01f83b81b9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "7d6bbdd9c5b625109f58fcc39f8b9cc737f21800", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/clanchat/ClanChatPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/friendschat/FriendsChatPlugin.java\nsimilarity index 60%\nrename from runelite-client/src/main/java/net/runelite/client/plugins/clanchat/ClanChatPlugin.java\nrename to runelite-client/src/main/java/net/runelite/client/plugins/friendschat/FriendsChatPlugin.java\nindex a1c73a5f2..87cb324c8 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/clanchat/ClanChatPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/friendschat/FriendsChatPlugin.java\n\n@@ -120,22 +120,21 @@ public class ClanChatPlugin extends Plugin\n \tprivate ChatboxPanelManager chatboxPanelManager;\n \n \tprivate List<String> chats = new ArrayList<>();\n-\tprivate List<Player> clanMembers = new ArrayList<>();\n-\tprivate ClanChatIndicator clanMemberCounter;\n+\tprivate List<Player> members = new ArrayList<>();\n+\tprivate MembersIndicator membersIndicator;\n \t/**\n \t * queue of temporary messages added to the client\n \t */\n-\tprivate final Deque<ClanJoinMessage> clanJoinMessages = new ArrayDeque<>();\n-\tprivate Map<String, ClanMemberActivity> activityBuffer = new HashMap<>();\n-\tprivate int join_leave_duration;\n-\tprivate int clanJoinedTick;\n+\tprivate final Deque<MemberJoinMessage> joinMessages = new ArrayDeque<>();\n+\tprivate Map<String, MemberActivity> activityBuffer = new HashMap<>();\n+\tprivate int joinedTick;\n \n \tprivate boolean kickConfirmed = false;\n \n \t@Provides\n-\tClanChatConfig getConfig(ConfigManager configManager)\n+\tFriendsChatConfig getConfig(ConfigManager configManager)\n \t{\n-\t\treturn configManager.getConfig(ClanChatConfig.class);\n+\t\treturn configManager.getConfig(FriendsChatConfig.class);\n \t}\n \n \t@Override\n"}}, {"oid": "7d6bbdd9c5b625109f58fcc39f8b9cc737f21800", "url": "https://github.com/runelite/runelite/commit/7d6bbdd9c5b625109f58fcc39f8b9cc737f21800", "message": "friends chat plugin: add configuration for join/leave timeout\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-06-24T19:08:36Z", "type": "commit"}, {"oid": "7d6bbdd9c5b625109f58fcc39f8b9cc737f21800", "url": "https://github.com/runelite/runelite/commit/7d6bbdd9c5b625109f58fcc39f8b9cc737f21800", "message": "friends chat plugin: add configuration for join/leave timeout\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-06-24T19:08:36Z", "type": "forcePushed"}]}