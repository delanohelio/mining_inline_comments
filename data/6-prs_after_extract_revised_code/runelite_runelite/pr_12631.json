{"pr_number": 12631, "pr_title": "ImageUtil: add error log with path", "pr_createdAt": "2020-10-12T09:16:47Z", "pr_url": "https://github.com/runelite/runelite/pull/12631", "timeline": [{"oid": "7044ee4198234b7c63ba1cf9dfff7b7be878ca3d", "url": "https://github.com/runelite/runelite/commit/7044ee4198234b7c63ba1cf9dfff7b7be878ca3d", "message": "ImageUtil: add error log with path", "committedDate": "2020-10-12T09:12:41Z", "type": "commit"}, {"oid": "dcda293ca74d5aadc30039cb457b9867857bd228", "url": "https://github.com/runelite/runelite/commit/dcda293ca74d5aadc30039cb457b9867857bd228", "message": "ImageUtil: fix code to show package name and search file", "committedDate": "2020-10-12T20:32:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzUyOTY1OQ==", "url": "https://github.com/runelite/runelite/pull/12631#discussion_r503529659", "bodyText": "Just store the path and then call log.warn only once", "author": "deathbeam", "createdAt": "2020-10-12T21:00:13Z", "path": "runelite-client/src/main/java/net/runelite/client/util/ImageUtil.java", "diffHunk": "@@ -351,6 +351,16 @@ public static BufferedImage getResourceStreamFromClass(final Class c, final Stri\n \t\t}\n \t\tcatch (IllegalArgumentException e)\n \t\t{\n+\t\t\tif (path.startsWith(\"/\"))", "originalCommit": "dcda293ca74d5aadc30039cb457b9867857bd228", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c1d564fd2d30b41c51f3a5bd2f729355232fc95b", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/util/ImageUtil.java b/runelite-client/src/main/java/net/runelite/client/util/ImageUtil.java\nindex 0192400f4..07421c1ba 100644\n--- a/runelite-client/src/main/java/net/runelite/client/util/ImageUtil.java\n+++ b/runelite-client/src/main/java/net/runelite/client/util/ImageUtil.java\n\n@@ -351,16 +351,19 @@ public class ImageUtil\n \t\t}\n \t\tcatch (IllegalArgumentException e)\n \t\t{\n+\t\t\tString filePath;\n+\n \t\t\tif (path.startsWith(\"/\"))\n \t\t\t{\n-\t\t\t\tlog.warn(\"Failed to load image from class: {}, path: {}\", c.getName(), path);\n+\t\t\t\tfilePath = path;\n \t\t\t}\n \t\t\telse\n \t\t\t{\n-\t\t\t\tlog.warn(\"Failed to load image from class: {}, path: {}\",\n-\t\t\t\t\t\tc.getName(), c.getPackage().getName().replace(\".\", \"/\") + \"/\" + path);\n+\t\t\t\tfilePath = c.getPackage().getName().replace(\".\", \"/\") + \"/\" + path;\n \t\t\t}\n \n+\t\t\tlog.warn(\"Failed to load image from class: {}, path: {}\", c.getName(), filePath);\n+\n \t\t\tthrow new IllegalArgumentException(path, e);\n \t\t}\n \t\tcatch (IOException e)\n"}}, {"oid": "c1d564fd2d30b41c51f3a5bd2f729355232fc95b", "url": "https://github.com/runelite/runelite/commit/c1d564fd2d30b41c51f3a5bd2f729355232fc95b", "message": "ImageUtil: fix code to store file path and call log.warn once", "committedDate": "2020-10-12T21:14:24Z", "type": "commit"}, {"oid": "44d7cbc79cced5c34b3cfd58123ebfccc8ab5c3b", "url": "https://github.com/runelite/runelite/commit/44d7cbc79cced5c34b3cfd58123ebfccc8ab5c3b", "message": "Update ImageUtil.java", "committedDate": "2020-10-12T23:02:33Z", "type": "commit"}]}