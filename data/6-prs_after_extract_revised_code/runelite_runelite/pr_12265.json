{"pr_number": 12265, "pr_title": "achivement dairy plugin: add satisfiesRequirement to Requirement", "pr_createdAt": "2020-08-01T04:13:06Z", "pr_url": "https://github.com/runelite/runelite/pull/12265", "timeline": [{"oid": "ebe9bf05888f741da7e41c8898523815a26af2b5", "url": "https://github.com/runelite/runelite/commit/ebe9bf05888f741da7e41c8898523815a26af2b5", "message": "add satisfiesRequirement to Requirement", "committedDate": "2020-08-01T04:04:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDMwNzM1MA==", "url": "https://github.com/runelite/runelite/pull/12265#discussion_r464307350", "bodyText": "This should simply null-check localPlayer instead of catching NPE", "author": "deathbeam", "createdAt": "2020-08-03T09:43:32Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/achievementdiary/CombatLevelRequirement.java", "diffHunk": "@@ -38,4 +39,16 @@ public String toString()\n \t{\n \t\treturn level + \" \" + \"Combat\";\n \t}\n+\n+\tpublic boolean satisfiesRequirement(Client client)\n+\t{\n+\t\ttry\n+\t\t{\n+\t\t\treturn client.getLocalPlayer().getCombatLevel() >= level;", "originalCommit": "ebe9bf05888f741da7e41c8898523815a26af2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "947252ae1e6154fa5999df2eb23da7d884c29af4", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/achievementdiary/CombatLevelRequirement.java b/runelite-client/src/main/java/net/runelite/client/plugins/achievementdiary/CombatLevelRequirement.java\nindex 854b3388e..dd1d02c49 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/achievementdiary/CombatLevelRequirement.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/achievementdiary/CombatLevelRequirement.java\n\n@@ -42,13 +42,6 @@ public class CombatLevelRequirement implements Requirement\n \n \tpublic boolean satisfiesRequirement(Client client)\n \t{\n-\t\ttry\n-\t\t{\n-\t\t\treturn client.getLocalPlayer().getCombatLevel() >= level;\n-\t\t}\n-\t\tcatch (NullPointerException e)\n-\t\t{\n-\t\t\treturn false;\n-\t\t}\n+\t\treturn client.getLocalPlayer() == null ? return false : client.getLocalPlayer().getCombatLevel() >= level;\n \t}\n }\n"}}, {"oid": "947252ae1e6154fa5999df2eb23da7d884c29af4", "url": "https://github.com/runelite/runelite/commit/947252ae1e6154fa5999df2eb23da7d884c29af4", "message": "Null check getLocalPlayer\n\nInstead of try catch and return false on NPE, check if getLocalPlayer() is null and if it, return false and if it isn't return getLocalPlayer.getCombatLevel() >= level", "committedDate": "2020-08-03T13:07:02Z", "type": "commit"}, {"oid": "94d09c46fee3949c1a12fabbf176e0b7156c797b", "url": "https://github.com/runelite/runelite/commit/94d09c46fee3949c1a12fabbf176e0b7156c797b", "message": "Update CombatLevelRequirement.java", "committedDate": "2020-08-03T13:11:18Z", "type": "commit"}]}