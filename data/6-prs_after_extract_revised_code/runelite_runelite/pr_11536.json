{"pr_number": 11536, "pr_title": "Key-remapping: Don't remap f-keys when the bank pin interface is open", "pr_createdAt": "2020-05-10T17:10:58Z", "pr_url": "https://github.com/runelite/runelite/pull/11536", "timeline": [{"oid": "6541de8b63bcc8becc4918d263a99ad9fa0812ae", "url": "https://github.com/runelite/runelite/commit/6541de8b63bcc8becc4918d263a99ad9fa0812ae", "message": "Key-remapping: Don't remap f-keys when the bank pin interface is open", "committedDate": "2020-05-10T19:18:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1ODMzNQ==", "url": "https://github.com/runelite/runelite/pull/11536#discussion_r422858335", "bodyText": "Wrap at 120 cols to be in line with the comment lines above\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t// We want to block F-key remapping in the bank pin interface too, so it does not interfere with the Keyboard Bankpin feature of the Bank plugin\n          \n          \n            \n            \t\t\t// We want to block F-key remapping in the bank pin interface too, so it does not interfere with the\n          \n          \n            \n            \t\t\t// Keyboard Bankpin feature of the Bank plugin", "author": "Nightfirecat", "createdAt": "2020-05-11T08:07:02Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingPlugin.java", "diffHunk": "@@ -138,7 +138,9 @@ boolean isDialogOpen()\n \t\t// Most chat dialogs with numerical input are added without the chatbox or its key listener being removed,\n \t\t// so chatboxFocused() is true. The chatbox onkey script uses the following logic to ignore key presses,\n \t\t// so we will use it too to not remap F-keys.\n-\t\treturn isHidden(WidgetInfo.CHATBOX_MESSAGES) || isHidden(WidgetInfo.CHATBOX_TRANSPARENT_LINES);\n+\t\treturn isHidden(WidgetInfo.CHATBOX_MESSAGES) || isHidden(WidgetInfo.CHATBOX_TRANSPARENT_LINES)\n+\t\t\t// We want to block F-key remapping in the bank pin interface too, so it does not interfere with the Keyboard Bankpin feature of the Bank plugin", "originalCommit": "6541de8b63bcc8becc4918d263a99ad9fa0812ae", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "02b6c13c2fdb1d5f4f398c22bd9f277673e978f5", "chunk": "diff --git a/runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingPlugin.java b/runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingPlugin.java\nindex f599a0e02..d0bcbf6d4 100644\n--- a/runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingPlugin.java\n+++ b/runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingPlugin.java\n\n@@ -139,7 +139,8 @@ public class KeyRemappingPlugin extends Plugin\n \t\t// so chatboxFocused() is true. The chatbox onkey script uses the following logic to ignore key presses,\n \t\t// so we will use it too to not remap F-keys.\n \t\treturn isHidden(WidgetInfo.CHATBOX_MESSAGES) || isHidden(WidgetInfo.CHATBOX_TRANSPARENT_LINES)\n-\t\t\t// We want to block F-key remapping in the bank pin interface too, so it does not interfere with the Keyboard Bankpin feature of the Bank plugin\n+\t\t\t// We want to block F-key remapping in the bank pin interface too, so it does not interfere with the\n+\t\t\t// Keyboard Bankpin feature of the Bank plugin\n \t\t\t|| !isHidden(WidgetInfo.BANK_PIN_CONTAINER);\n \t}\n \n"}}, {"oid": "02b6c13c2fdb1d5f4f398c22bd9f277673e978f5", "url": "https://github.com/runelite/runelite/commit/02b6c13c2fdb1d5f4f398c22bd9f277673e978f5", "message": "Key-remapping: Don't remap f-keys when the bank pin interface is open", "committedDate": "2020-05-11T12:19:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ1NTg2Ng==", "url": "https://github.com/runelite/runelite/pull/11536#discussion_r423455866", "bodyText": "213.1 seems to be the background where 213.0 is the container (since it contains the buttons, text, border elements, etc.)", "author": "Nightfirecat", "createdAt": "2020-05-12T04:32:38Z", "path": "runelite-api/src/main/java/net/runelite/api/widgets/WidgetID.java", "diffHunk": "@@ -918,4 +919,9 @@\n \t{\n \t\tstatic final int CONTAINER = 2;\n \t}\n+\n+\tstatic class BankPin\n+\t{\n+\t\tstatic final int CONTAINER = 1;", "originalCommit": "02b6c13c2fdb1d5f4f398c22bd9f277673e978f5", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "bbe4c3089ee533a1f988641c7c0a7487032741bd", "chunk": "diff --git a/runelite-api/src/main/java/net/runelite/api/widgets/WidgetID.java b/runelite-api/src/main/java/net/runelite/api/widgets/WidgetID.java\nindex 99f6f9b48..f4c700be1 100644\n--- a/runelite-api/src/main/java/net/runelite/api/widgets/WidgetID.java\n+++ b/runelite-api/src/main/java/net/runelite/api/widgets/WidgetID.java\n\n@@ -922,6 +922,6 @@ public class WidgetID\n \n \tstatic class BankPin\n \t{\n-\t\tstatic final int CONTAINER = 1;\n+\t\tstatic final int CONTAINER = 0;\n \t}\n }\n"}}, {"oid": "bbe4c3089ee533a1f988641c7c0a7487032741bd", "url": "https://github.com/runelite/runelite/commit/bbe4c3089ee533a1f988641c7c0a7487032741bd", "message": "Key-remapping: Don't remap f-keys when the bank pin interface is open", "committedDate": "2020-05-13T16:48:36Z", "type": "forcePushed"}, {"oid": "7d6860d5cdca4b331c4bf5c33e51e736822a0471", "url": "https://github.com/runelite/runelite/commit/7d6860d5cdca4b331c4bf5c33e51e736822a0471", "message": "Key-remapping: Don't remap f-keys when the bank pin interface is open", "committedDate": "2020-05-14T16:52:36Z", "type": "commit"}, {"oid": "7d6860d5cdca4b331c4bf5c33e51e736822a0471", "url": "https://github.com/runelite/runelite/commit/7d6860d5cdca4b331c4bf5c33e51e736822a0471", "message": "Key-remapping: Don't remap f-keys when the bank pin interface is open", "committedDate": "2020-05-14T16:52:36Z", "type": "forcePushed"}]}