{"pr_number": 4156, "pr_title": "10.10-HF/fix-NXP-29171-task-update-with-group-assignees", "pr_createdAt": "2020-06-16T11:41:19Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/4156", "timeline": [{"oid": "770353f492ded6f2bb6ddb87fdd79e745eaca9a5", "url": "https://github.com/nuxeo/nuxeo/commit/770353f492ded6f2bb6ddb87fdd79e745eaca9a5", "message": "NXP-29171: Fix fetched properties unmarshalling", "committedDate": "2020-06-16T12:17:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY3MTEzNQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4156#discussion_r441671135", "bodyText": "I assume this is caught by the new catch (Exception further down? Can't we be more specific in the catch?", "author": "efge", "createdAt": "2020-06-17T16:24:30Z", "path": "nuxeo-core/nuxeo-core-io/src/main/java/org/nuxeo/ecm/core/io/marshallers/json/document/DocumentPropertiesJsonReader.java", "diffHunk": "@@ -200,14 +206,17 @@ private Object getScalarPropertyValue(Property property, JsonNode jn, Type type)\n                         return blob.getString();\n                     }\n                 }\n-                log.info(\"Unable to parse the property {}\", property::getXPath);\n-                return null;\n+                throw new MarshallingException(\"Unable to parse the property \" +  property.getXPath());", "originalCommit": "770353f492ded6f2bb6ddb87fdd79e745eaca9a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg2MzM5MQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4156#discussion_r442863391", "bodyText": "Exactly, this is caught by the former catch (Exception e). It has been replaced by catch (MarshallingException e).", "author": "kevinleturc", "createdAt": "2020-06-19T14:11:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY3MTEzNQ=="}], "type": "inlineReview", "revised_code": {"commit": "a9818abc42018e0535955aa8b60900aa303918f2", "chunk": "diff --git a/nuxeo-core/nuxeo-core-io/src/main/java/org/nuxeo/ecm/core/io/marshallers/json/document/DocumentPropertiesJsonReader.java b/nuxeo-core/nuxeo-core-io/src/main/java/org/nuxeo/ecm/core/io/marshallers/json/document/DocumentPropertiesJsonReader.java\nindex e3553b7fbe0..4a8610c5e30 100644\n--- a/nuxeo-core/nuxeo-core-io/src/main/java/org/nuxeo/ecm/core/io/marshallers/json/document/DocumentPropertiesJsonReader.java\n+++ b/nuxeo-core/nuxeo-core-io/src/main/java/org/nuxeo/ecm/core/io/marshallers/json/document/DocumentPropertiesJsonReader.java\n\n@@ -215,7 +216,7 @@ public class DocumentPropertiesJsonReader extends AbstractJsonReader<List<Proper\n                     if (object != null) {\n                         break;\n                     }\n-                } catch (Exception e) {\n+                } catch (MarshallingException e) {\n                     log.info(\"Unable to read the entity - {}\", e.getMessage(), e);\n                 }\n             }\n"}}, {"oid": "a9818abc42018e0535955aa8b60900aa303918f2", "url": "https://github.com/nuxeo/nuxeo/commit/a9818abc42018e0535955aa8b60900aa303918f2", "message": "NXP-29171: Fix fetched properties unmarshalling", "committedDate": "2020-06-19T14:15:12Z", "type": "forcePushed"}, {"oid": "228045c2ba76ebcc40c87b6cd9513b6b5e4bd8e4", "url": "https://github.com/nuxeo/nuxeo/commit/228045c2ba76ebcc40c87b6cd9513b6b5e4bd8e4", "message": "NXP-29171: Fix fetched properties unmarshalling", "committedDate": "2020-06-22T09:34:59Z", "type": "commit"}, {"oid": "228045c2ba76ebcc40c87b6cd9513b6b5e4bd8e4", "url": "https://github.com/nuxeo/nuxeo/commit/228045c2ba76ebcc40c87b6cd9513b6b5e4bd8e4", "message": "NXP-29171: Fix fetched properties unmarshalling", "committedDate": "2020-06-22T09:34:59Z", "type": "forcePushed"}]}