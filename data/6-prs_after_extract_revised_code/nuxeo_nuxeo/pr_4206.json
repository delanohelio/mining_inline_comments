{"pr_number": 4206, "pr_title": "NXP-29392: fix docker environment variables replacement inside templates", "pr_createdAt": "2020-07-09T11:25:38Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/4206", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4Mzg1Mw==", "url": "https://github.com/nuxeo/nuxeo/pull/4206#discussion_r452183853", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Checks docker environment variable replacement within templates (NXP-29392).\n          \n          \n            \n                 * Checks environment variable replacement within templates (NXP-29392).", "author": "kevinleturc", "createdAt": "2020-07-09T12:35:09Z", "path": "modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java", "diffHunk": "@@ -561,4 +561,23 @@ protected boolean isTemplateIncluded(String template) {\n         return configGenerator.getIncludedTemplates().stream().map(File::getName).anyMatch(isEqual(template));\n     }\n \n+    /**\n+     * Checks docker environment variable replacement within templates (NXP-29392).", "originalCommit": "f9a00e00184f8d21d2947718ac8e8c978a58f52b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6dda1798767d53577d6ff91f7d6b5fce1f351104", "chunk": "diff --git a/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java b/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java\nindex 82083495ffb..81e2427dce9 100644\n--- a/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java\n+++ b/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java\n\n@@ -562,13 +562,13 @@ public class ConfigurationGeneratorTest extends AbstractConfigurationTest {\n     }\n \n     /**\n-     * Checks docker environment variable replacement within templates (NXP-29392).\n+     * Checks environment variable replacement within templates (NXP-29392).\n      *\n      * @throws ConfigurationException\n      * @since 11.2\n      */\n     @Test\n-    public void testDockerEnvVarsInTemplates() throws ConfigurationException {\n+    public void testEnvironmentVariableInNuxeoDefaults() throws ConfigurationException {\n         assertEquals(\"myprop1defaultvalue\", configGenerator.getUserConfig().getProperty(\"my.prop1\"));\n         assertEquals(\"\", configGenerator.getUserConfig().getProperty(\"my.prop2\"));\n \n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4NDUyMA==", "url": "https://github.com/nuxeo/nuxeo/pull/4206#discussion_r452184520", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void testDockerEnvVarsInTemplates() throws ConfigurationException {\n          \n          \n            \n                public void testEnvironmentVariableInNuxeoDefaults() throws ConfigurationException {", "author": "kevinleturc", "createdAt": "2020-07-09T12:36:21Z", "path": "modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java", "diffHunk": "@@ -561,4 +561,23 @@ protected boolean isTemplateIncluded(String template) {\n         return configGenerator.getIncludedTemplates().stream().map(File::getName).anyMatch(isEqual(template));\n     }\n \n+    /**\n+     * Checks docker environment variable replacement within templates (NXP-29392).\n+     *\n+     * @throws ConfigurationException\n+     * @since 11.2\n+     */\n+    @Test\n+    public void testDockerEnvVarsInTemplates() throws ConfigurationException {", "originalCommit": "f9a00e00184f8d21d2947718ac8e8c978a58f52b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "6dda1798767d53577d6ff91f7d6b5fce1f351104", "chunk": "diff --git a/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java b/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java\nindex 82083495ffb..81e2427dce9 100644\n--- a/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java\n+++ b/modules/runtime/nuxeo-launcher-commons/src/test/java/org/nuxeo/launcher/config/ConfigurationGeneratorTest.java\n\n@@ -562,13 +562,13 @@ public class ConfigurationGeneratorTest extends AbstractConfigurationTest {\n     }\n \n     /**\n-     * Checks docker environment variable replacement within templates (NXP-29392).\n+     * Checks environment variable replacement within templates (NXP-29392).\n      *\n      * @throws ConfigurationException\n      * @since 11.2\n      */\n     @Test\n-    public void testDockerEnvVarsInTemplates() throws ConfigurationException {\n+    public void testEnvironmentVariableInNuxeoDefaults() throws ConfigurationException {\n         assertEquals(\"myprop1defaultvalue\", configGenerator.getUserConfig().getProperty(\"my.prop1\"));\n         assertEquals(\"\", configGenerator.getUserConfig().getProperty(\"my.prop2\"));\n \n"}}, {"oid": "6dda1798767d53577d6ff91f7d6b5fce1f351104", "url": "https://github.com/nuxeo/nuxeo/commit/6dda1798767d53577d6ff91f7d6b5fce1f351104", "message": "NXP-29392: fix docker environment variables replacement inside templates", "committedDate": "2020-07-09T12:44:42Z", "type": "commit"}, {"oid": "6dda1798767d53577d6ff91f7d6b5fce1f351104", "url": "https://github.com/nuxeo/nuxeo/commit/6dda1798767d53577d6ff91f7d6b5fce1f351104", "message": "NXP-29392: fix docker environment variables replacement inside templates", "committedDate": "2020-07-09T12:44:42Z", "type": "forcePushed"}]}