{"pr_number": 4369, "pr_title": "NXP-29730: merge Maven modules", "pr_createdAt": "2020-10-09T13:33:58Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/4369", "timeline": [{"oid": "413befc27916e88c897f984f6059aa0e0fd04d73", "url": "https://github.com/nuxeo/nuxeo/commit/413befc27916e88c897f984f6059aa0e0fd04d73", "message": "NXP-29730: merge nuxeo-platform-video-* modules\n\nFollowing Maven dependencies have been removed:\n```\norg.nuxeo.ecm.platform:nuxeo-platform-video-api\norg.nuxeo.ecm.platform:nuxeo-platform-video-core\norg.nuxeo.ecm.platform:nuxeo-platform-video-convert\n```\n\nNew dependency to use:\n```\norg.nuxeo.ecm.platform:nuxeo-platform-video\n```", "committedDate": "2020-10-09T13:52:28Z", "type": "forcePushed"}, {"oid": "8c2e9ef9257744a7c8e516bf0b19e46a62deaa50", "url": "https://github.com/nuxeo/nuxeo/commit/8c2e9ef9257744a7c8e516bf0b19e46a62deaa50", "message": "NXP-29730: merge nuxeo-platform-filemanager-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-api\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core-litener\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager", "committedDate": "2020-10-12T13:41:44Z", "type": "forcePushed"}, {"oid": "e5f83a65eb5fb3f99324b8cb1f0fc1d49228251c", "url": "https://github.com/nuxeo/nuxeo/commit/e5f83a65eb5fb3f99324b8cb1f0fc1d49228251c", "message": "NXP-29730: merge nuxeo-platform-filemanager-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-api\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core-litener\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager", "committedDate": "2020-10-13T12:26:33Z", "type": "forcePushed"}, {"oid": "13d0b8176a0f0a232606d88ffb1808d9a7461c4d", "url": "https://github.com/nuxeo/nuxeo/commit/13d0b8176a0f0a232606d88ffb1808d9a7461c4d", "message": "NXP-29730: merge nuxeo-platform-filemanager-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-api\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core-litener\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager", "committedDate": "2020-10-13T12:49:58Z", "type": "forcePushed"}, {"oid": "00d1bc39e381f593f6477ffb0fe358fd2dfdda53", "url": "https://github.com/nuxeo/nuxeo/commit/00d1bc39e381f593f6477ffb0fe358fd2dfdda53", "message": "NXP-29730: merge nuxeo-platform-url-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-url-api\n- org.nuxeo.ecm.platform:nuxeo-platform-url-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-url", "committedDate": "2020-10-14T13:26:06Z", "type": "forcePushed"}, {"oid": "8c064b9291c6780cebdac3297d44624de48fd8c8", "url": "https://github.com/nuxeo/nuxeo/commit/8c064b9291c6780cebdac3297d44624de48fd8c8", "message": "NXP-29730: merge nuxeo-platform-url-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-url-api\n- org.nuxeo.ecm.platform:nuxeo-platform-url-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-url", "committedDate": "2020-10-14T13:40:55Z", "type": "forcePushed"}, {"oid": "78a3548b31608327ca30d50e47b08b57510b0150", "url": "https://github.com/nuxeo/nuxeo/commit/78a3548b31608327ca30d50e47b08b57510b0150", "message": "NXP-29730: merge nuxeo-platform-url-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-url-api\n- org.nuxeo.ecm.platform:nuxeo-platform-url-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-url", "committedDate": "2020-10-14T15:29:48Z", "type": "forcePushed"}, {"oid": "7e60c1ac0d25bcc147004e76926dfa658a3e84f7", "url": "https://github.com/nuxeo/nuxeo/commit/7e60c1ac0d25bcc147004e76926dfa658a3e84f7", "message": "NXP-29730: merge nuxeo-platform-url-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-url-api\n- org.nuxeo.ecm.platform:nuxeo-platform-url-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-url", "committedDate": "2020-10-14T16:49:41Z", "type": "forcePushed"}, {"oid": "3f6b628fbe0e5e64cd0bfb126a94b6faae00c17c", "url": "https://github.com/nuxeo/nuxeo/commit/3f6b628fbe0e5e64cd0bfb126a94b6faae00c17c", "message": "NXP-29730: merge nuxeo-platform-url-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-url-api\n- org.nuxeo.ecm.platform:nuxeo-platform-url-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-url", "committedDate": "2020-10-15T09:41:14Z", "type": "forcePushed"}, {"oid": "6f781778c2e23349d604e0cc2eb0c8ad4b755311", "url": "https://github.com/nuxeo/nuxeo/commit/6f781778c2e23349d604e0cc2eb0c8ad4b755311", "message": "NXP-29730: merge nuxeo-platform-3d-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-3d-api\n- org.nuxeo.ecm.platform:nuxeo-platform-3d-convert\n- org.nuxeo.ecm.platform:nuxeo-platform-3d-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-3d", "committedDate": "2020-10-30T11:22:43Z", "type": "forcePushed"}, {"oid": "51b838cd16e90251c07b26b107330a1f24cbf822", "url": "https://github.com/nuxeo/nuxeo/commit/51b838cd16e90251c07b26b107330a1f24cbf822", "message": "NXP-29730: merge nuxeo-platform-publisher-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-api\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-core\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-core-contrib\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-task\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher", "committedDate": "2020-10-30T14:17:15Z", "type": "forcePushed"}, {"oid": "ef6adebda2f2228e438f592f521af0e144844704", "url": "https://github.com/nuxeo/nuxeo/commit/ef6adebda2f2228e438f592f521af0e144844704", "message": "NXP-29730: merge nuxeo-platform-publisher-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-api\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-core\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-core-contrib\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-task\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher", "committedDate": "2020-10-30T14:54:35Z", "type": "forcePushed"}, {"oid": "955ddc09a760d4a6a18a0443f2d7e7e096a14255", "url": "https://github.com/nuxeo/nuxeo/commit/955ddc09a760d4a6a18a0443f2d7e7e096a14255", "message": "NXP-29730: merge nuxeo-quota-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-quota-automation\n- org.nuxeo.ecm.platform:nuxeo-quota-core\n- org.nuxeo.ecm.platform:nuxeo-quota-core-dependencies\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-quota", "committedDate": "2020-10-30T17:42:05Z", "type": "forcePushed"}, {"oid": "4b1d0030d3df6156594c791518907b1e9309f409", "url": "https://github.com/nuxeo/nuxeo/commit/4b1d0030d3df6156594c791518907b1e9309f409", "message": "NXP-29730: merge nuxeo-quota-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-quota-automation\n- org.nuxeo.ecm.platform:nuxeo-quota-core\n- org.nuxeo.ecm.platform:nuxeo-quota-core-dependencies\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-quota", "committedDate": "2020-10-30T20:36:00Z", "type": "forcePushed"}, {"oid": "ab6f097097253568c5f1fb51c97d106fb3b21e58", "url": "https://github.com/nuxeo/nuxeo/commit/ab6f097097253568c5f1fb51c97d106fb3b21e58", "message": "NXP-29730: merge nuxeo-quota-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-quota-automation\n- org.nuxeo.ecm.platform:nuxeo-quota-core\n- org.nuxeo.ecm.platform:nuxeo-quota-core-dependencies\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-quota", "committedDate": "2020-10-31T11:54:31Z", "type": "forcePushed"}, {"oid": "1e5e8f33ca59b86c1b365831551a653ed8cdada6", "url": "https://github.com/nuxeo/nuxeo/commit/1e5e8f33ca59b86c1b365831551a653ed8cdada6", "message": "NXP-29730: merge nuxeo-platform-userworkspace-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-api\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-core\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-types\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace", "committedDate": "2020-11-03T08:58:24Z", "type": "forcePushed"}, {"oid": "0f356e88ec2973e1730f2e8967ecdb2ce9143635", "url": "https://github.com/nuxeo/nuxeo/commit/0f356e88ec2973e1730f2e8967ecdb2ce9143635", "message": "NXP-29730: merge nuxeo-platform-userworkspace-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-api\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-core\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-types\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace", "committedDate": "2020-11-04T13:22:27Z", "type": "forcePushed"}, {"oid": "a874cc7e3a789301d2a7b8eac3d3f8d3b8b5bb1a", "url": "https://github.com/nuxeo/nuxeo/commit/a874cc7e3a789301d2a7b8eac3d3f8d3b8b5bb1a", "message": "NXP-29730: merge nuxeo-platform-imaging-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-imaging-api\n- org.nuxeo.ecm.platform:nuxeo-platform-imaging-convert\n\nDependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-imaging-core", "committedDate": "2020-11-09T13:12:00Z", "type": "forcePushed"}, {"oid": "ae2d5e936ac14cc6b1c5577a6dcaf581db70f6f9", "url": "https://github.com/nuxeo/nuxeo/commit/ae2d5e936ac14cc6b1c5577a6dcaf581db70f6f9", "message": "NXP-29730: merge nuxeo-liveconnect-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core-dependencies\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-google-drive-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-box-core\n\nNew dependency to use:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect", "committedDate": "2020-11-09T16:08:23Z", "type": "forcePushed"}, {"oid": "b708dd4227d83aaa59529f8120137f8cd454f1d4", "url": "https://github.com/nuxeo/nuxeo/commit/b708dd4227d83aaa59529f8120137f8cd454f1d4", "message": "NXP-29730: merge nuxeo-liveconnect-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core-dependencies\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-google-drive-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-box-core\n\nNew dependency to use:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect", "committedDate": "2020-11-09T16:18:19Z", "type": "forcePushed"}, {"oid": "e2dbde095f95570944e2cdf1df1514094b36a675", "url": "https://github.com/nuxeo/nuxeo/commit/e2dbde095f95570944e2cdf1df1514094b36a675", "message": "NXP-29730: merge nuxeo-liveconnect-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core-dependencies\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-google-drive-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-box-core\n\nNew dependency to use:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect", "committedDate": "2020-11-10T10:32:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDcyMzAxNA==", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r520723014", "bodyText": "You can remove this field completely, the code was buggy anyway, nothing initializes it.", "author": "efge", "createdAt": "2020-11-10T17:02:43Z", "path": "modules/platform/nuxeo-platform-filemanager/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java", "diffHunk": "@@ -46,6 +46,10 @@\n \n     private static final Log log = LogFactory.getLog(AbstractUnicityChecker.class);\n \n+    /**\n+     * @deprecated since 11.1. Use {@link Framework#getService(Class)} with {@link FileManager} instead.\n+     */\n+    @Deprecated(since = \"11.1\")\n     protected FileManager fileManager;", "originalCommit": "fbb71a17909fc53cb2602704dd6098840c1ecfac", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "80115b263e3b104fcc703e09252444ac7d2ec3f7", "chunk": "diff --git a/modules/platform/nuxeo-platform-filemanager/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java b/modules/platform/nuxeo-platform-filemanager-core-listener/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java\nsimilarity index 91%\nrename from modules/platform/nuxeo-platform-filemanager/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java\nrename to modules/platform/nuxeo-platform-filemanager-core-listener/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java\nindex bc38d5e444b..8b4e819be2d 100644\n--- a/modules/platform/nuxeo-platform-filemanager/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java\n+++ b/modules/platform/nuxeo-platform-filemanager-core-listener/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java\n\n@@ -46,10 +46,6 @@ public abstract class AbstractUnicityChecker {\n \n     private static final Log log = LogFactory.getLog(AbstractUnicityChecker.class);\n \n-    /**\n-     * @deprecated since 11.1. Use {@link Framework#getService(Class)} with {@link FileManager} instead.\n-     */\n-    @Deprecated(since = \"11.1\")\n     protected FileManager fileManager;\n \n     protected static final String DUPLICATED_FILE = \"duplicatedFile\";\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyNTM1OQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r520825359", "bodyText": "Missing copyright header", "author": "efge", "createdAt": "2020-11-10T19:37:00Z", "path": "modules/platform/nuxeo-liveconnect/src/test/java/org/nuxeo/ecm/liveconnect/LiveConnectFeature.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package org.nuxeo.ecm.liveconnect;", "originalCommit": "e2dbde095f95570944e2cdf1df1514094b36a675", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "80115b263e3b104fcc703e09252444ac7d2ec3f7", "chunk": "diff --git a/modules/platform/nuxeo-liveconnect/src/test/java/org/nuxeo/ecm/liveconnect/LiveConnectFeature.java b/modules/platform/nuxeo-liveconnect/src/test/java/org/nuxeo/ecm/liveconnect/LiveConnectFeature.java\ndeleted file mode 100644\nindex 85e30e3e363..00000000000\n--- a/modules/platform/nuxeo-liveconnect/src/test/java/org/nuxeo/ecm/liveconnect/LiveConnectFeature.java\n+++ /dev/null\n\n@@ -1,67 +0,0 @@\n-package org.nuxeo.ecm.liveconnect;\n-\n-import java.util.UUID;\n-\n-import org.nuxeo.directory.test.DirectoryFeature;\n-import org.nuxeo.ecm.core.blob.BlobInfo;\n-import org.nuxeo.ecm.core.blob.SimpleManagedBlob;\n-import org.nuxeo.ecm.core.test.CoreFeature;\n-import org.nuxeo.runtime.test.runner.Deploy;\n-import org.nuxeo.runtime.test.runner.Features;\n-import org.nuxeo.runtime.test.runner.RunnerFeature;\n-\n-/**\n- * @since 11.4\n- */\n-@Features({ CoreFeature.class, DirectoryFeature.class })\n-@Deploy(\"org.nuxeo.ecm.core.cache\")\n-@Deploy(\"org.nuxeo.ecm.core.mimetype\")\n-@Deploy(\"org.nuxeo.ecm.platform.oauth\")\n-@Deploy(\"org.nuxeo.ecm.default.config\")\n-@Deploy(\"org.nuxeo.ecm.platform.query.api:OSGI-INF/pageprovider-framework.xml\")\n-@Deploy(\"org.nuxeo.ecm.liveconnect\")\n-@Deploy(\"org.nuxeo.ecm.liveconnect.test:OSGI-INF/test-box-config.xml\")\n-@Deploy(\"org.nuxeo.ecm.liveconnect.test:OSGI-INF/test-googledrive-config.xml\")\n-public class LiveConnectFeature implements RunnerFeature {\n-\n-    // same as in test XML contrib\n-    public static final String SERVICE_BOX_ID = \"box\";\n-\n-    // same as in test XML contrib\n-    public static final String SERVICE_CORE_ID = \"core\";\n-\n-    // same as in test XML contrib\n-    public static final String SERVICE_GOOGLE_DRIVE_ID = \"googledrive\";\n-\n-    public static final String USER_ID = \"tester@example.com\";\n-\n-    public static BlobInfo createBlobInfo(String serviceId, String fileId) {\n-        return createBlobInfo(serviceId, fileId, UUID.randomUUID().toString());\n-    }\n-\n-    public static BlobInfo createBlobInfo(String serviceId, String fileId, String digest) {\n-        BlobInfo blobInfo = new BlobInfo();\n-        blobInfo.key = serviceId + ':' + USER_ID + ':' + fileId;\n-        blobInfo.digest = digest;\n-        return blobInfo;\n-    }\n-\n-    public static BlobInfo createBlobInfo(String serviceId, String fileId, String digest, String revisionId) {\n-        BlobInfo blobInfo = new BlobInfo();\n-        blobInfo.key = serviceId + ':' + USER_ID + ':' + fileId + ':' + revisionId;\n-        blobInfo.digest = digest;\n-        return blobInfo;\n-    }\n-\n-    public static SimpleManagedBlob createBlob(String serviceId, String fileId) {\n-        return new SimpleManagedBlob(createBlobInfo(serviceId, fileId));\n-    }\n-\n-    public static SimpleManagedBlob createBlob(String serviceId, String fileId, String digest) {\n-        return new SimpleManagedBlob(createBlobInfo(serviceId, fileId, digest));\n-    }\n-\n-    public static SimpleManagedBlob createBlob(String serviceId, String fileId, String digest, String revisionId) {\n-        return new SimpleManagedBlob(createBlobInfo(serviceId, fileId, digest, revisionId));\n-    }\n-}\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2NjQxNw==", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r521966417", "bodyText": "why in the context of this refactoring, maybe add a comment?", "author": "ataillefer", "createdAt": "2020-11-12T09:37:55Z", "path": "modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java", "diffHunk": "@@ -301,9 +299,9 @@ protected DocumentModel createWatermarkDocument(File input) {\n                 \"Picture\");\n         pictureDoc.setPropertyValue(\"dc:title\", input.getName());\n         pictureDoc.setPropertyValue(\"file:content\", new FileBlob(input));\n+        pictureDoc.putContextData(DISABLE_PICTURE_VIEWS_GENERATION_LISTENER, true);", "originalCommit": "1e4c1a8b51f2e01bff3e96ab1232b3124abbdfe3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAwNDYyOQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r522004629", "bodyText": "I think this is due to the nextTransaction call which makes the pictureViewsGenerationListener running, but failing later due to missing bundle (action framework).\nThis doesn't prevent the test to succeed but produces some NPE in logs.\nI will add a comment such as not needed.", "author": "kevinleturc", "createdAt": "2020-11-12T10:36:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2NjQxNw=="}], "type": "inlineReview", "revised_code": {"commit": "80115b263e3b104fcc703e09252444ac7d2ec3f7", "chunk": "diff --git a/modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java b/modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java\nindex 5a35f374275..5b3f96594d7 100644\n--- a/modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java\n+++ b/modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java\n\n@@ -299,6 +298,7 @@ public class TestVideoToolsOperations extends BaseVideoToolsTest {\n                 \"Picture\");\n         pictureDoc.setPropertyValue(\"dc:title\", input.getName());\n         pictureDoc.setPropertyValue(\"file:content\", new FileBlob(input));\n+        // picture views generation produces NPE and it is not needed by our test - so disable it\n         pictureDoc.putContextData(DISABLE_PICTURE_VIEWS_GENERATION_LISTENER, true);\n         pictureDoc = coreSession.createDocument(pictureDoc);\n         txFeature.nextTransaction();\n"}}, {"oid": "80115b263e3b104fcc703e09252444ac7d2ec3f7", "url": "https://github.com/nuxeo/nuxeo/commit/80115b263e3b104fcc703e09252444ac7d2ec3f7", "message": "NXP-29730: merge nuxeo-platform-video-* modules\n\nFollowing Maven dependencies have been removed:\n```\norg.nuxeo.ecm.platform:nuxeo-platform-video-api\norg.nuxeo.ecm.platform:nuxeo-platform-video-core\norg.nuxeo.ecm.platform:nuxeo-platform-video-convert\n```\n\nNew dependency to use:\n```\norg.nuxeo.ecm.platform:nuxeo-platform-video\n```", "committedDate": "2020-11-12T10:39:30Z", "type": "commit"}, {"oid": "05d9e969d8346f6995d1a48189013b90af879f19", "url": "https://github.com/nuxeo/nuxeo/commit/05d9e969d8346f6995d1a48189013b90af879f19", "message": "NXP-29730: merge nuxeo-platform-mail-* modules\n\nFollowing Maven dependencies have been removed:\n```\norg.nuxeo.ecm.platform:nuxeo-platform-mail-core\norg.nuxeo.ecm.platform:nuxeo-platform-mail-types\n```\n\nNew dependency to use:\n```\norg.nuxeo.ecm.platform:nuxeo-platform-mail\n```", "committedDate": "2020-11-12T10:39:32Z", "type": "commit"}, {"oid": "e8d5081aa2383aa76adaa37411048a2c3f6093d1", "url": "https://github.com/nuxeo/nuxeo/commit/e8d5081aa2383aa76adaa37411048a2c3f6093d1", "message": "NXP-29730: merge nuxeo-webdav-* modules\n\nFollowing Maven modules have been removed:\n- nuxeo-filesystem-connectors\n- nuxeo-webdav-test", "committedDate": "2020-11-12T10:39:32Z", "type": "commit"}, {"oid": "cdf69a95e1dc369a63f92c55f7c02a92bfb94b96", "url": "https://github.com/nuxeo/nuxeo/commit/cdf69a95e1dc369a63f92c55f7c02a92bfb94b96", "message": "NXP-29730: merge nuxeo-platform-filemanager-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-api\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager-core-litener\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-filemanager", "committedDate": "2020-11-12T10:39:33Z", "type": "commit"}, {"oid": "97e3ac26781711d7acd9ca8bf329af16809939e0", "url": "https://github.com/nuxeo/nuxeo/commit/97e3ac26781711d7acd9ca8bf329af16809939e0", "message": "NXP-29730: merge nuxeo-platform-tag-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-tag-api\n- org.nuxeo.ecm.platform:nuxeo-platform-tag-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-tag", "committedDate": "2020-11-12T10:39:33Z", "type": "commit"}, {"oid": "77c2387e1a38ba282b9f4923f58e24896485d726", "url": "https://github.com/nuxeo/nuxeo/commit/77c2387e1a38ba282b9f4923f58e24896485d726", "message": "NXP-29730: merge nuxeo-platform-types-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-types-api\n- org.nuxeo.ecm.platform:nuxeo-platform-types-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-types", "committedDate": "2020-11-12T10:39:34Z", "type": "commit"}, {"oid": "80c06d7bd8695c50e7054c42efdd8efcc1e91239", "url": "https://github.com/nuxeo/nuxeo/commit/80c06d7bd8695c50e7054c42efdd8efcc1e91239", "message": "NXP-29730: merge nuxeo-platform-url-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-url-api\n- org.nuxeo.ecm.platform:nuxeo-platform-url-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-url", "committedDate": "2020-11-12T10:39:34Z", "type": "commit"}, {"oid": "ba37f6ea2ce8f5935c63a1e9eba99b929bba7117", "url": "https://github.com/nuxeo/nuxeo/commit/ba37f6ea2ce8f5935c63a1e9eba99b929bba7117", "message": "NXP-29730: merge nuxeo-platform-3d-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-3d-api\n- org.nuxeo.ecm.platform:nuxeo-platform-3d-convert\n- org.nuxeo.ecm.platform:nuxeo-platform-3d-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-3d", "committedDate": "2020-11-12T10:39:35Z", "type": "commit"}, {"oid": "82c510263e30d3c80c882b76231e8b454278741c", "url": "https://github.com/nuxeo/nuxeo/commit/82c510263e30d3c80c882b76231e8b454278741c", "message": "NXP-29730: merge nuxeo-platform-notification-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-notification-api\n- org.nuxeo.ecm.platform:nuxeo-platform-notification-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-notification", "committedDate": "2020-11-12T10:39:35Z", "type": "commit"}, {"oid": "59436175abca9e2ff49829c8f7cc9261d1cfaceb", "url": "https://github.com/nuxeo/nuxeo/commit/59436175abca9e2ff49829c8f7cc9261d1cfaceb", "message": "NXP-29730: merge nuxeo-platform-publisher-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-api\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-core\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-core-contrib\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher-task\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-publisher", "committedDate": "2020-11-12T10:39:36Z", "type": "commit"}, {"oid": "3db703ddac35e29050ed531508d01abc1edd6085", "url": "https://github.com/nuxeo/nuxeo/commit/3db703ddac35e29050ed531508d01abc1edd6085", "message": "NXP-29730: merge nuxeo-platform-usermanager-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-usermanager-api\n- org.nuxeo.ecm.platform:nuxeo-platform-usermanager-core\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-usermanager", "committedDate": "2020-11-12T10:39:37Z", "type": "commit"}, {"oid": "844cc2e0eef0809adb4f04c477083648e905d3c7", "url": "https://github.com/nuxeo/nuxeo/commit/844cc2e0eef0809adb4f04c477083648e905d3c7", "message": "NXP-29730: merge nuxeo-quota-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-quota-automation\n- org.nuxeo.ecm.platform:nuxeo-quota-core\n- org.nuxeo.ecm.platform:nuxeo-quota-core-dependencies\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-quota", "committedDate": "2020-11-12T10:39:38Z", "type": "commit"}, {"oid": "982658323b73055341c96133979f756c866a9383", "url": "https://github.com/nuxeo/nuxeo/commit/982658323b73055341c96133979f756c866a9383", "message": "NXP-29730: merge nuxeo-platform-userworkspace-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-api\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-core\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace-types\n\nNew dependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-userworkspace", "committedDate": "2020-11-12T10:39:38Z", "type": "commit"}, {"oid": "21a34ea6679449ba03e390056583124b4da985ec", "url": "https://github.com/nuxeo/nuxeo/commit/21a34ea6679449ba03e390056583124b4da985ec", "message": "NXP-29730: merge nuxeo-platform-imaging-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.platform:nuxeo-platform-imaging-api\n- org.nuxeo.ecm.platform:nuxeo-platform-imaging-convert\n\nDependency to use:\n- org.nuxeo.ecm.platform:nuxeo-platform-imaging-core", "committedDate": "2020-11-12T10:39:39Z", "type": "commit"}, {"oid": "b665657389fc5239d14bf04090b6b0a4cbe3ed02", "url": "https://github.com/nuxeo/nuxeo/commit/b665657389fc5239d14bf04090b6b0a4cbe3ed02", "message": "NXP-29730: merge nuxeo-liveconnect-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core-dependencies\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-google-drive-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-box-core\n\nNew dependency to use:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect", "committedDate": "2020-11-12T10:39:39Z", "type": "commit"}, {"oid": "b665657389fc5239d14bf04090b6b0a4cbe3ed02", "url": "https://github.com/nuxeo/nuxeo/commit/b665657389fc5239d14bf04090b6b0a4cbe3ed02", "message": "NXP-29730: merge nuxeo-liveconnect-* modules\n\nFollowing Maven dependencies have been removed:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-core-dependencies\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-google-drive-core\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect-box-core\n\nNew dependency to use:\n- org.nuxeo.ecm.liveconnect:nuxeo-liveconnect", "committedDate": "2020-11-12T10:39:39Z", "type": "forcePushed"}]}