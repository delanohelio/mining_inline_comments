{"pr_number": 1294, "pr_title": "Fix HBase init error when Kerberos is enabled", "pr_createdAt": "2020-12-10T02:18:25Z", "pr_url": "https://github.com/hugegraph/hugegraph/pull/1294", "timeline": [{"oid": "670102229c9a4891d2764564562f6f582d97b3d2", "url": "https://github.com/hugegraph/hugegraph/commit/670102229c9a4891d2764564562f6f582d97b3d2", "message": "set indexlabel invalid if create or rebuild failed (#1226)\n\n* set indexlabel invalid if create or rebuild failed\n* also check if indexlabel invalid when query by index\n* set vl/el to UNDELETED if fail to delete\n\nChange-Id: If890b3bd8c441b63642a2006479cf4ccca9ddf67", "committedDate": "2020-12-10T01:18:07Z", "type": "commit"}, {"oid": "45cf281e2bdba6a19e1f8ba3ba770da4e795f0fc", "url": "https://github.com/hugegraph/hugegraph/commit/45cf281e2bdba6a19e1f8ba3ba770da4e795f0fc", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-12-10T01:23:50Z", "type": "commit"}, {"oid": "6c780f1a0842a06cea4b45ec44f4a0ecf5b382a8", "url": "https://github.com/hugegraph/hugegraph/commit/6c780f1a0842a06cea4b45ec44f4a0ecf5b382a8", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T03:24:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyNTczNA==", "url": "https://github.com/hugegraph/hugegraph/pull/1294#discussion_r539825734", "bodyText": "can it be null? don't addResource if hbaseSite is null", "author": "javeme", "createdAt": "2020-12-10T03:53:28Z", "path": "hugegraph-hbase/src/main/java/com/baidu/hugegraph/backend/store/hbase/HbaseSessions.java", "diffHunk": "@@ -135,6 +136,9 @@ public synchronized void open() throws IOException {\n         hConfig.setInt(\"hbase.hconnection.threads.max\",\n                        config.get(HbaseOptions.HBASE_THREADS_MAX));\n \n+        String hbaseSite = config.get(HbaseOptions.HBASE_HBASE_SITE);", "originalCommit": "6c780f1a0842a06cea4b45ec44f4a0ecf5b382a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTg1NzQyNA==", "url": "https://github.com/hugegraph/hugegraph/pull/1294#discussion_r539857424", "bodyText": "This config item's default value is /etc/hbase/conf/hbase-site.xml.If not setting,program will get default value.", "author": "tmljob", "createdAt": "2020-12-10T05:34:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyNTczNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5ODA1Nw==", "url": "https://github.com/hugegraph/hugegraph/pull/1294#discussion_r540198057", "bodyText": "what happens if there not exist file \"/etc/hbase/conf/hbase-site.xml\"", "author": "javeme", "createdAt": "2020-12-10T14:10:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyNTczNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIzMjIxNQ==", "url": "https://github.com/hugegraph/hugegraph/pull/1294#discussion_r540232215", "bodyText": "The program runs normally.If not modified,program read the file from hbase-common-2.0.6.jar, it does not exist actually but prograpm runs normally.\n  public static Configuration addHbaseResources(Configuration conf) {\n    conf.addResource(\"hbase-default.xml\");\n    conf.addResource(\"hbase-site.xml\");\n\n    checkDefaultsVersion(conf);\n    return conf;\n  }", "author": "tmljob", "createdAt": "2020-12-10T14:53:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyNTczNA=="}], "type": "inlineReview", "revised_code": null}, {"oid": "777f60d91e1a03e319396ec4d192aeda3b51864c", "url": "https://github.com/hugegraph/hugegraph/commit/777f60d91e1a03e319396ec4d192aeda3b51864c", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T05:36:00Z", "type": "forcePushed"}, {"oid": "51d2a6aea11365a4a8b43afdd21cd5e5a3d65ef1", "url": "https://github.com/hugegraph/hugegraph/commit/51d2a6aea11365a4a8b43afdd21cd5e5a3d65ef1", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T06:03:14Z", "type": "forcePushed"}, {"oid": "90092b8b8f9f580faefe75a7af371d2418c41f85", "url": "https://github.com/hugegraph/hugegraph/commit/90092b8b8f9f580faefe75a7af371d2418c41f85", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T09:36:12Z", "type": "forcePushed"}, {"oid": "967ef78d815c5cd32ef88551c5937b0bfa834a3e", "url": "https://github.com/hugegraph/hugegraph/commit/967ef78d815c5cd32ef88551c5937b0bfa834a3e", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T13:33:11Z", "type": "forcePushed"}, {"oid": "54a58f34e9f16b1b95026a978c78dd6f3f14fe4c", "url": "https://github.com/hugegraph/hugegraph/commit/54a58f34e9f16b1b95026a978c78dd6f3f14fe4c", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T14:27:21Z", "type": "commit"}, {"oid": "54a58f34e9f16b1b95026a978c78dd6f3f14fe4c", "url": "https://github.com/hugegraph/hugegraph/commit/54a58f34e9f16b1b95026a978c78dd6f3f14fe4c", "message": "Fix bug: hbase init error when kerberos is enabled\nfix #1292", "committedDate": "2020-12-10T14:27:21Z", "type": "forcePushed"}]}