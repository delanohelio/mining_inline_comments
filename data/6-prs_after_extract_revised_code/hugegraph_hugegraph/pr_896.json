{"pr_number": 896, "pr_title": "sm allow cassandra backend creating thread as needed while execute cql", "pr_createdAt": "2020-03-16T02:25:02Z", "pr_url": "https://github.com/hugegraph/hugegraph/pull/896", "timeline": [{"oid": "bf2edbe40e6d01ea011da76d631afb4fba4c2160", "url": "https://github.com/hugegraph/hugegraph/commit/bf2edbe40e6d01ea011da76d631afb4fba4c2160", "message": "sm allow cassandra backend creating thread as needed while execute cql\nfixed: #892\n\nChange-Id: I586eb64c90c475508247c3f8a39ae487598dd518", "committedDate": "2020-03-16T02:22:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc3MjE1MQ==", "url": "https://github.com/hugegraph/hugegraph/pull/896#discussion_r392772151", "bodyText": "keep on a line.\nor move 892#issuecomment-598545072 to this pr and just add comment \"fix #896\"", "author": "javeme", "createdAt": "2020-03-16T03:57:48Z", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/security/HugeSecurityManager.java", "diffHunk": "@@ -79,7 +79,13 @@\n \n     private static final Map<String, Set<String>> BACKEND_THREAD = ImmutableMap.of(\n             \"com.baidu.hugegraph.backend.store.cassandra.CassandraStore\",\n-            ImmutableSet.of(\"open\", \"opened\", \"init\")\n+            ImmutableSet.of(\"open\", \"opened\", \"init\"),\n+            /*\n+             * fixed https://github\n+             * .com/hugegraph/hugegraph/pull/892#issuecomment-598545072", "originalCommit": "bf2edbe40e6d01ea011da76d631afb4fba4c2160", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "35c04add062859d3a0432a1306280352a871f6a8", "chunk": "diff --git a/hugegraph-core/src/main/java/com/baidu/hugegraph/security/HugeSecurityManager.java b/hugegraph-core/src/main/java/com/baidu/hugegraph/security/HugeSecurityManager.java\nindex c7c38b22..d12a04a8 100644\n--- a/hugegraph-core/src/main/java/com/baidu/hugegraph/security/HugeSecurityManager.java\n+++ b/hugegraph-core/src/main/java/com/baidu/hugegraph/security/HugeSecurityManager.java\n\n@@ -73,22 +74,22 @@ public class HugeSecurityManager extends SecurityManager {\n     );\n \n     private static final Map<String, Set<String>> BACKEND_SOCKET = ImmutableMap.of(\n+            // Fixed #758\n             \"com.baidu.hugegraph.backend.store.mysql.MysqlStore\",\n             ImmutableSet.of(\"open\", \"init\", \"clear\", \"opened\", \"initialized\")\n     );\n \n     private static final Map<String, Set<String>> BACKEND_THREAD = ImmutableMap.of(\n+            // Fixed #758\n             \"com.baidu.hugegraph.backend.store.cassandra.CassandraStore\",\n             ImmutableSet.of(\"open\", \"opened\", \"init\"),\n-            /*\n-             * fixed https://github\n-             * .com/hugegraph/hugegraph/pull/892#issuecomment-598545072\n-             */\n+            // Fixed https://github.com/hugegraph/hugegraph/pull/892#issuecomment-598545072\n             \"com.datastax.driver.core.AbstractSession\",\n             ImmutableSet.of(\"execute\")\n     );\n \n     private static final Set<String> HBASE_CLASSES = ImmutableSet.of(\n+            // Fixed #758\n             \"com.baidu.hugegraph.backend.store.hbase.HbaseStore\",\n             \"com.baidu.hugegraph.backend.store.hbase.HbaseStore$HbaseSchemaStore\",\n             \"com.baidu.hugegraph.backend.store.hbase.HbaseStore$HbaseGraphStore\",\n"}}, {"oid": "35c04add062859d3a0432a1306280352a871f6a8", "url": "https://github.com/hugegraph/hugegraph/commit/35c04add062859d3a0432a1306280352a871f6a8", "message": "improve\n\nChange-Id: I4fbe3af1026f7c9c88c26765a34e4af0ffefd81c", "committedDate": "2020-03-16T04:24:00Z", "type": "commit"}]}