{"pr_number": 1014, "pr_title": "Unified date json format for gremlin api and rest api", "pr_createdAt": "2020-06-02T16:01:15Z", "pr_url": "https://github.com/hugegraph/hugegraph/pull/1014", "timeline": [{"oid": "b5aba1de435d7c7c7119797683244e9156b4432a", "url": "https://github.com/hugegraph/hugegraph/commit/b5aba1de435d7c7c7119797683244e9156b4432a", "message": "Unified date json format for gremlin api and rest api\n\nChange-Id: Ic47550d22a0b8a857f140c7df1b8352e7d86303a", "committedDate": "2020-06-04T10:01:53Z", "type": "commit"}, {"oid": "9392dadbdd2b0177fd1b947000b4c19bb1164599", "url": "https://github.com/hugegraph/hugegraph/commit/9392dadbdd2b0177fd1b947000b4c19bb1164599", "message": "remove JsonUtil.DateSerializer\n\nChange-Id: I1c27e74cedadee91e8ead97b094c65926806e175", "committedDate": "2020-06-04T10:01:53Z", "type": "commit"}, {"oid": "5f74c52009ea469513e3b37e18fb834e4c15f5c1", "url": "https://github.com/hugegraph/hugegraph/commit/5f74c52009ea469513e3b37e18fb834e4c15f5c1", "message": "fix: missing separators with writeRaw\n\nChange-Id: I889d40e04b06a4ac8f68b312569a39b8d185f0f0\nref: https://github.com/FasterXML/jackson-databind/issues/210", "committedDate": "2020-06-04T10:01:53Z", "type": "commit"}, {"oid": "71cb9322a381a2ff8f248b1e0978178ee5777061", "url": "https://github.com/hugegraph/hugegraph/commit/71cb9322a381a2ff8f248b1e0978178ee5777061", "message": "serialize json of date as string\n\nChange-Id: I3ba4ed2dfc65fa7f002f48b166f9320d29304314", "committedDate": "2020-06-04T10:01:53Z", "type": "commit"}, {"oid": "71cb9322a381a2ff8f248b1e0978178ee5777061", "url": "https://github.com/hugegraph/hugegraph/commit/71cb9322a381a2ff8f248b1e0978178ee5777061", "message": "serialize json of date as string\n\nChange-Id: I3ba4ed2dfc65fa7f002f48b166f9320d29304314", "committedDate": "2020-06-04T10:01:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcxNjEwNQ==", "url": "https://github.com/hugegraph/hugegraph/pull/1014#discussion_r435716105", "bodyText": "add a comment for true and false", "author": "Linary", "createdAt": "2020-06-05T06:33:06Z", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/io/HugeGraphSONModule.java", "diffHunk": "@@ -142,6 +141,25 @@ public String getTypeNamespace() {\n         return TYPE_NAMESPACE;\n     }\n \n+    public static void registerCommonSerializers(SimpleModule module) {\n+        module.addSerializer(Optional.class, new OptionalSerializer());\n+\n+        module.addSerializer(Shard.class, new ShardSerializer());\n+\n+        module.addSerializer(File.class, new FileSerializer());\n+\n+        module.addSerializer(Date.class,", "originalCommit": "71cb9322a381a2ff8f248b1e0978178ee5777061", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "65087c889fd3f5e9dfb9145f8c4f86b39e8159c2", "chunk": "diff --git a/hugegraph-core/src/main/java/com/baidu/hugegraph/io/HugeGraphSONModule.java b/hugegraph-core/src/main/java/com/baidu/hugegraph/io/HugeGraphSONModule.java\nindex 1d89e169..c8d500f5 100644\n--- a/hugegraph-core/src/main/java/com/baidu/hugegraph/io/HugeGraphSONModule.java\n+++ b/hugegraph-core/src/main/java/com/baidu/hugegraph/io/HugeGraphSONModule.java\n\n@@ -148,10 +148,11 @@ public class HugeGraphSONModule extends TinkerPopJacksonModule {\n \n         module.addSerializer(File.class, new FileSerializer());\n \n+        boolean useTimestamp = false;\n         module.addSerializer(Date.class,\n-                             new DateSerializer(false, DATE_FORMAT));\n-        module.addDeserializer(Date.class,\n-                               new DateDeserializers.DateDeserializer());\n+                             new DateSerializer(useTimestamp, DATE_FORMAT));\n+        module.addDeserializer(Date.class, new DateDeserializer(\n+                               new DateDeserializer(), DATE_FORMAT, DF));\n \n         module.addSerializer(UUID.class, new UUIDSerializer());\n         module.addDeserializer(UUID.class, new UUIDDeserializer());\n"}}, {"oid": "65087c889fd3f5e9dfb9145f8c4f86b39e8159c2", "url": "https://github.com/hugegraph/hugegraph/commit/65087c889fd3f5e9dfb9145f8c4f86b39e8159c2", "message": "fix date deserialize\n\nChange-Id: Iccd6c9ac79d5d5deed58c457a71049f0dc608b2e", "committedDate": "2020-06-05T10:43:23Z", "type": "commit"}, {"oid": "e681772d7938077491a993768b060838635260f3", "url": "https://github.com/hugegraph/hugegraph/commit/e681772d7938077491a993768b060838635260f3", "message": "fix unit test\n\nChange-Id: Ic52f0090818dcbb9e9e3bc7e0edc634f684433ff", "committedDate": "2020-06-05T11:37:15Z", "type": "commit"}]}