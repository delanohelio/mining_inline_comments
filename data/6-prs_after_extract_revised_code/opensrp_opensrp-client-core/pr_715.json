{"pr_number": 715, "pr_title": "fixed text layout", "pr_createdAt": "2020-12-09T09:58:29Z", "pr_url": "https://github.com/opensrp/opensrp-client-core/pull/715", "timeline": [{"oid": "66ca9d2aae9372d718fb0dd024cda55ab28f5177", "url": "https://github.com/opensrp/opensrp-client-core/commit/66ca9d2aae9372d718fb0dd024cda55ab28f5177", "message": ":hammer: fixed text layout", "committedDate": "2020-12-09T09:56:34Z", "type": "commit"}, {"oid": "2964d98e90c74b63e2dd32b5da06c56a034dd018", "url": "https://github.com/opensrp/opensrp-client-core/commit/2964d98e90c74b63e2dd32b5da06c56a034dd018", "message": "Merge branch 'master' into pagination-label-fix", "committedDate": "2020-12-10T08:23:17Z", "type": "commit"}, {"oid": "c3cc35238d2c080bd3cf931d0d59d899a1bcdce6", "url": "https://github.com/opensrp/opensrp-client-core/commit/c3cc35238d2c080bd3cf931d0d59d899a1bcdce6", "message": ":hammer: reduce pagination info text size", "committedDate": "2020-12-14T11:31:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTI5MA==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551789290", "bodyText": "Any reason for this extra logic?", "author": "vincent-karuri", "createdAt": "2021-01-05T08:43:12Z", "path": "opensrp-app/src/main/java/org/smartregister/cursoradapter/SecuredNativeSmartRegisterCursorAdapterFragment.java", "diffHunk": "@@ -399,9 +403,14 @@ private int getTotalcount() {\n     }\n \n     public void refresh() {\n+        int textSize = getResources().getDimensionPixelSize(R.dimen.pagination_page_info_size);\n+        int startIndex = getResources().getString(R.string.str_page_info).indexOf(\"{\");\n         pageInfoView.setText(\n                 format(getResources().getString(R.string.str_page_info), (getCurrentPageCount()),\n                         getTotalcount()));\n+        SpannableString span = new SpannableString(pageInfoView.getText());\n+        span.setSpan(new AbsoluteSizeSpan(textSize), startIndex, pageInfoView.getText().length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n+        pageInfoView.setText(span);", "originalCommit": "c3cc35238d2c080bd3cf931d0d59d899a1bcdce6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTgyMTQ0Mg==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551821442", "bodyText": "just for reduce the page info like 1 of 3", "author": "owais-vd", "createdAt": "2021-01-05T09:44:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTI5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTg2NDI5Mw==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551864293", "bodyText": "I think the requirement was to allow the developer to override a method that determines how the pagination information is displayed?\nThe size shouldn't be reduced in core.", "author": "vincent-karuri", "createdAt": "2021-01-05T11:06:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTI5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzI3OTE1OQ==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r553279159", "bodyText": "fixed.", "author": "owais-vd", "createdAt": "2021-01-07T11:46:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTI5MA=="}], "type": "inlineReview", "revised_code": {"commit": "d8b0c020c6bacc4306c520965953021b8191e056", "chunk": "diff --git a/opensrp-app/src/main/java/org/smartregister/cursoradapter/SecuredNativeSmartRegisterCursorAdapterFragment.java b/opensrp-app/src/main/java/org/smartregister/cursoradapter/SecuredNativeSmartRegisterCursorAdapterFragment.java\nindex c02cbe85..0708203b 100644\n--- a/opensrp-app/src/main/java/org/smartregister/cursoradapter/SecuredNativeSmartRegisterCursorAdapterFragment.java\n+++ b/opensrp-app/src/main/java/org/smartregister/cursoradapter/SecuredNativeSmartRegisterCursorAdapterFragment.java\n\n@@ -403,7 +403,7 @@ public abstract class SecuredNativeSmartRegisterCursorAdapterFragment extends\n     }\n \n     public void refresh() {\n-        int textSize = getResources().getDimensionPixelSize(R.dimen.pagination_page_info_size);\n+        int textSize = getPaginationInfoTextSize();\n         int startIndex = getResources().getString(R.string.str_page_info).indexOf(\"{\");\n         pageInfoView.setText(\n                 format(getResources().getString(R.string.str_page_info), (getCurrentPageCount()),\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTQ0NQ==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551789445", "bodyText": "Not sure why we have this large diff here?", "author": "vincent-karuri", "createdAt": "2021-01-05T08:43:27Z", "path": "opensrp-app/src/main/java/org/smartregister/view/activity/SecuredNativeSmartRegisterActivity.java", "diffHunk": "@@ -1,647 +1,654 @@\n-package org.smartregister.view.activity;", "originalCommit": "c3cc35238d2c080bd3cf931d0d59d899a1bcdce6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTgyNDA4NQ==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551824085", "bodyText": "#715 (comment)", "author": "owais-vd", "createdAt": "2021-01-05T09:49:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTQ0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTg2MzI3NA==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551863274", "bodyText": "#715 (comment)", "author": "vincent-karuri", "createdAt": "2021-01-05T11:04:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTQ0NQ=="}], "type": "inlineReview", "revised_code": {"commit": "d8b0c020c6bacc4306c520965953021b8191e056", "chunk": "diff --git a/opensrp-app/src/main/java/org/smartregister/view/activity/SecuredNativeSmartRegisterActivity.java b/opensrp-app/src/main/java/org/smartregister/view/activity/SecuredNativeSmartRegisterActivity.java\nindex e880dc4b..6a5c278b 100644\n--- a/opensrp-app/src/main/java/org/smartregister/view/activity/SecuredNativeSmartRegisterActivity.java\n+++ b/opensrp-app/src/main/java/org/smartregister/view/activity/SecuredNativeSmartRegisterActivity.java\n\n@@ -581,7 +581,7 @@ public abstract class SecuredNativeSmartRegisterActivity extends SecuredActivity\n         }\n \n         public void refresh() {\n-            int textSize = getResources().getDimensionPixelSize(R.dimen.pagination_page_info_size);\n+            int textSize = getPaginationInfoTextSize();\n             int startIndex = getResources().getString(R.string.str_page_info).indexOf(\"{\");\n             pageInfoView.setText(format(getResources().getString(R.string.str_page_info),\n                     (getCurrentPageCount()), (clientsAdapter.pageCount())));\n"}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTc4Nw==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551789787", "bodyText": "Any reason for this additional logic?", "author": "vincent-karuri", "createdAt": "2021-01-05T08:44:06Z", "path": "opensrp-app/src/main/java/org/smartregister/view/fragment/SecuredNativeSmartRegisterFragment.java", "diffHunk": "@@ -439,8 +443,14 @@ private int getCurrentPageCount() {\n         }\n \n         public void refresh() {\n+            int textSize = getResources().getDimensionPixelSize(R.dimen.pagination_page_info_size);\n+            int startIndex = getResources().getString(R.string.str_page_info).indexOf(\"{\");", "originalCommit": "c3cc35238d2c080bd3cf931d0d59d899a1bcdce6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTgyNDQzMA==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551824430", "bodyText": "#715 (comment)", "author": "owais-vd", "createdAt": "2021-01-05T09:50:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTc4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTg2NDcxNA==", "url": "https://github.com/opensrp/opensrp-client-core/pull/715#discussion_r551864714", "bodyText": "#715 (comment)", "author": "vincent-karuri", "createdAt": "2021-01-05T11:07:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc4OTc4Nw=="}], "type": "inlineReview", "revised_code": {"commit": "d8b0c020c6bacc4306c520965953021b8191e056", "chunk": "diff --git a/opensrp-app/src/main/java/org/smartregister/view/fragment/SecuredNativeSmartRegisterFragment.java b/opensrp-app/src/main/java/org/smartregister/view/fragment/SecuredNativeSmartRegisterFragment.java\nindex 2e9c054c..69471603 100644\n--- a/opensrp-app/src/main/java/org/smartregister/view/fragment/SecuredNativeSmartRegisterFragment.java\n+++ b/opensrp-app/src/main/java/org/smartregister/view/fragment/SecuredNativeSmartRegisterFragment.java\n\n@@ -443,7 +443,7 @@ public abstract class SecuredNativeSmartRegisterFragment extends SecuredFragment\n         }\n \n         public void refresh() {\n-            int textSize = getResources().getDimensionPixelSize(R.dimen.pagination_page_info_size);\n+            int textSize = getPaginationInfoTextSize();\n             int startIndex = getResources().getString(R.string.str_page_info).indexOf(\"{\");\n \n             pageInfoView.setText(format(getResources().getString(R.string.str_page_info),\n"}}, {"oid": "35acde2bdf4b3423ea6f442e131526a4d46a2efc", "url": "https://github.com/opensrp/opensrp-client-core/commit/35acde2bdf4b3423ea6f442e131526a4d46a2efc", "message": "Merge remote-tracking branch 'origin/master' into pagination-label-fix", "committedDate": "2021-01-07T11:17:01Z", "type": "commit"}, {"oid": "d8b0c020c6bacc4306c520965953021b8191e056", "url": "https://github.com/opensrp/opensrp-client-core/commit/d8b0c020c6bacc4306c520965953021b8191e056", "message": ":hammer: feedback implemented", "committedDate": "2021-01-07T11:42:43Z", "type": "commit"}, {"oid": "a4aa30bffe7fa1b7836cfd3a7e9c22bbaeb9c764", "url": "https://github.com/opensrp/opensrp-client-core/commit/a4aa30bffe7fa1b7836cfd3a7e9c22bbaeb9c764", "message": ":hammer: fixed test case", "committedDate": "2021-01-07T12:26:01Z", "type": "commit"}, {"oid": "bf9b8e05b1e6fdc86eca9f17cf65ee4590ef8a4f", "url": "https://github.com/opensrp/opensrp-client-core/commit/bf9b8e05b1e6fdc86eca9f17cf65ee4590ef8a4f", "message": ":hammer: fixed test case", "committedDate": "2021-01-07T13:05:34Z", "type": "commit"}, {"oid": "265f962f5fce715d80744e608f6787615ab403e2", "url": "https://github.com/opensrp/opensrp-client-core/commit/265f962f5fce715d80744e608f6787615ab403e2", "message": ":hammer: feedback implemented", "committedDate": "2021-01-21T14:29:07Z", "type": "commit"}, {"oid": "a60a253fea8304c1e1074ca56ef11c5a10ff8c4c", "url": "https://github.com/opensrp/opensrp-client-core/commit/a60a253fea8304c1e1074ca56ef11c5a10ff8c4c", "message": "Merge branch 'master' into pagination-label-fix\n\n# Conflicts:\n#\tgradle.properties", "committedDate": "2021-01-21T14:31:46Z", "type": "commit"}, {"oid": "33643669531b9819e7cf2add3f7a0e417aebdb8e", "url": "https://github.com/opensrp/opensrp-client-core/commit/33643669531b9819e7cf2add3f7a0e417aebdb8e", "message": ":hammer: revert smart_register_pagination.xml", "committedDate": "2021-01-22T10:41:16Z", "type": "commit"}, {"oid": "4460d8fe6b2a9309dba9e7b8aebe69ace1b9f250", "url": "https://github.com/opensrp/opensrp-client-core/commit/4460d8fe6b2a9309dba9e7b8aebe69ace1b9f250", "message": ":hammer: revert dimens.xml", "committedDate": "2021-01-22T10:46:54Z", "type": "commit"}, {"oid": "86b55adcc1257e8752bbf7a2c697d0800afba679", "url": "https://github.com/opensrp/opensrp-client-core/commit/86b55adcc1257e8752bbf7a2c697d0800afba679", "message": ":hammer: revert NativeECSmartRegisterActivityTest.java", "committedDate": "2021-01-22T10:53:33Z", "type": "commit"}, {"oid": "047a3c3cf895b5d8af03ddaffdb107dd5830f1cf", "url": "https://github.com/opensrp/opensrp-client-core/commit/047a3c3cf895b5d8af03ddaffdb107dd5830f1cf", "message": "Merge branch 'master' into pagination-label-fix", "committedDate": "2021-01-22T11:08:07Z", "type": "commit"}, {"oid": "724228c85198315abd0d2081c634add384717c70", "url": "https://github.com/opensrp/opensrp-client-core/commit/724228c85198315abd0d2081c634add384717c70", "message": ":hammer: revert CursorAdapterFragmentTest.java", "committedDate": "2021-01-22T11:13:35Z", "type": "commit"}, {"oid": "3fe66966868c8d266213abcbe7cb9781a6be2244", "url": "https://github.com/opensrp/opensrp-client-core/commit/3fe66966868c8d266213abcbe7cb9781a6be2244", "message": ":hammer: fixing", "committedDate": "2021-01-22T11:18:38Z", "type": "commit"}, {"oid": "111e7ebcb9302e887f073c5751c6cf53aefdc577", "url": "https://github.com/opensrp/opensrp-client-core/commit/111e7ebcb9302e887f073c5751c6cf53aefdc577", "message": ":hammer: revert CursorAdapterFragmentTest.java", "committedDate": "2021-01-22T11:46:17Z", "type": "commit"}, {"oid": "82d5b9419d6b2892530d727d3fa92b1842c25ff5", "url": "https://github.com/opensrp/opensrp-client-core/commit/82d5b9419d6b2892530d727d3fa92b1842c25ff5", "message": ":hammer: bump the version", "committedDate": "2021-01-22T12:53:18Z", "type": "commit"}, {"oid": "c904cba61bd42b3e9ef4f597a95f8604ff36f2e7", "url": "https://github.com/opensrp/opensrp-client-core/commit/c904cba61bd42b3e9ef4f597a95f8604ff36f2e7", "message": "Merge remote-tracking branch 'origin/master' into pagination-label-fix\n\n# Conflicts:\n#\tgradle.properties", "committedDate": "2021-01-26T07:09:33Z", "type": "commit"}, {"oid": "1e32b1a007f8e857807148678883e2c5350dcdf4", "url": "https://github.com/opensrp/opensrp-client-core/commit/1e32b1a007f8e857807148678883e2c5350dcdf4", "message": "Bump lib version", "committedDate": "2021-01-26T14:03:53Z", "type": "commit"}]}