{"pr_number": 2222, "pr_title": "Fix NPE while building question label with asterisk", "pr_createdAt": "2020-04-20T13:21:55Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2222", "timeline": [{"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd", "url": "https://github.com/dimagi/commcare-android/commit/539b3afeda46597d33fc7406f895fbd6a16043dd", "message": "Fix NPE while building question label with asterisk", "committedDate": "2020-04-20T13:18:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MzUzNQ==", "url": "https://github.com/dimagi/commcare-android/pull/2222#discussion_r411373535", "bodyText": "Even if the question is required, this won't build the asterisk.\nI'm not sure if we should show just the asterisk when there is no text.", "author": "ShivamPokhriyal", "createdAt": "2020-04-20T13:24:01Z", "path": "app/src/org/commcare/views/widgets/QuestionWidget.java", "diffHunk": "@@ -388,6 +388,8 @@ private SpannableStringBuilder getTextFromPrompt(FormEntryPrompt prompt) {\n         SpannableStringBuilder builder = new SpannableStringBuilder();\n         if (prompt.getMarkdownText() != null) {\n             builder.append(forceMarkdown(prompt.getMarkdownText()));\n+        } else if (mPrompt.getLongText() == null) {", "originalCommit": "539b3afeda46597d33fc7406f895fbd6a16043dd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3ODIyOA==", "url": "https://github.com/dimagi/commcare-android/pull/2222#discussion_r411378228", "bodyText": "Thanks for catching this. We can just append an empty string to the builder in this case to solve for the asterisk.", "author": "shubham1g5", "createdAt": "2020-04-20T13:30:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MzUzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwMzI3OA==", "url": "https://github.com/dimagi/commcare-android/pull/2222#discussion_r411403278", "bodyText": "@shubham1g5 Though it will set the textView with asterisk, but the label will still be hidden.\nSo, Do we wanna show label with just the asterisk in case of required question?", "author": "ShivamPokhriyal", "createdAt": "2020-04-20T14:02:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MzUzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQyOTg3NA==", "url": "https://github.com/dimagi/commcare-android/pull/2222#discussion_r411429874", "bodyText": "ahh I think it's fine in that case for the whole quesiotn text to be hidden and to not show anything.", "author": "shubham1g5", "createdAt": "2020-04-20T14:35:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MzUzNQ=="}], "type": "inlineReview"}]}