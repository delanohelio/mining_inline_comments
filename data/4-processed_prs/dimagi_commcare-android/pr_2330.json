{"pr_number": 2330, "pr_title": "Fix audio recorder filename", "pr_createdAt": "2020-08-27T09:57:43Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2330", "timeline": [{"oid": "d87b1244afeaccd7d79d34a4e82761d55fdb3c41", "url": "https://github.com/dimagi/commcare-android/commit/d87b1244afeaccd7d79d34a4e82761d55fdb3c41", "message": "Fix audio recorder filename", "committedDate": "2020-08-27T09:57:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODMwMDc0NA==", "url": "https://github.com/dimagi/commcare-android/pull/2330#discussion_r478300744", "bodyText": "The fileName returned by this is really weird. It has a .xmland ,(a comma if mPrompt.getIndex returns something like 2,3).", "author": "ShivamPokhriyal", "createdAt": "2020-08-27T09:59:00Z", "path": "app/src/org/commcare/views/widgets/CommCareAudioWidget.java", "diffHunk": "@@ -138,12 +138,6 @@ public void onRecordingCompletion(String audioFile) {\n         recordingNameText.setText(Localization.get(\"recording.custom\"));\n     }\n \n-    @Override\n-    public String getFileUniqueIdentifier() {\n-        String formFileName = FormEntryInstanceState.mFormRecordPath.substring(FormEntryInstanceState.mFormRecordPath.lastIndexOf(\"/\") + 1);\n-        return formFileName + \"_\" + mPrompt.getIndex().toString() + \"_\" + (new Date().getTime());", "originalCommit": "d87b1244afeaccd7d79d34a4e82761d55fdb3c41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODMwMTIxOQ==", "url": "https://github.com/dimagi/commcare-android/pull/2330#discussion_r478301219", "bodyText": "This was causing failures in debug builds as we have a different appID.", "author": "ShivamPokhriyal", "createdAt": "2020-08-27T09:59:50Z", "path": "app/src/org/commcare/views/widgets/RecordingFragment.java", "diffHunk": "@@ -41,8 +43,6 @@\n     public static final String AUDIO_FILE_PATH_ARG_KEY = \"audio_file_path\";\r\n \r\n     private String fileName;\r\n-    private static final String FILE_BASE =\r\n-            \"/Android/data/org.commcare.dalvik/temp/Custom_Recording\";\r", "originalCommit": "d87b1244afeaccd7d79d34a4e82761d55fdb3c41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "758e3088df0323a9f54e412e514075f95a87b734", "url": "https://github.com/dimagi/commcare-android/commit/758e3088df0323a9f54e412e514075f95a87b734", "message": "Merge branch 'master' into audio-recorder-filename", "committedDate": "2020-08-28T11:55:10Z", "type": "commit"}]}