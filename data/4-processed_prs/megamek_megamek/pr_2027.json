{"pr_number": 2027, "pr_title": "Respect deployment round for offboard entities #2020", "pr_createdAt": "2020-06-25T04:35:08Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2027", "timeline": [{"oid": "3036929e30f80d1f6c9a083172dc536a154c83db", "url": "https://github.com/MegaMek/megamek/commit/3036929e30f80d1f6c9a083172dc536a154c83db", "message": "Respect deployment round for offboard entities #2020", "committedDate": "2020-06-25T04:32:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQ0NQ==", "url": "https://github.com/MegaMek/megamek/pull/2027#discussion_r445302445", "bodyText": "Is this going to loop through every entity in every phase?", "author": "NickAragua", "createdAt": "2020-06-25T04:39:37Z", "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -2366,6 +2376,8 @@ public boolean accept(Entity entity) {\n             case PHASE_PHYSICAL:\n             case PHASE_TARGETING:\n             case PHASE_OFFBOARD:\n+                deployOffBoardEntities();", "originalCommit": "3036929e30f80d1f6c9a083172dc536a154c83db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMzE2OA==", "url": "https://github.com/MegaMek/megamek/pull/2027#discussion_r445303168", "bodyText": "Yes, but only take action on offboard entities.", "author": "sixlettervariables", "createdAt": "2020-06-25T04:42:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQ0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQ3MA==", "url": "https://github.com/MegaMek/megamek/pull/2027#discussion_r445302470", "bodyText": "A little too many parens here.", "author": "NickAragua", "createdAt": "2020-06-25T04:39:44Z", "path": "megamek/src/megamek/common/Entity.java", "diffHunk": "@@ -9347,6 +9347,16 @@ public boolean shouldDeploy(int round) {\n         return (!deployed && (getDeployRound() <= round) && !isOffBoard());\n     }\n \n+    /**\n+     * Returns true if the offboard entity should be deployed this round.\n+     * @param round The current round number.\n+     * @return True if and only if the offboard entity should deploy this\n+     *         round, otherwise false.\n+     */\n+    public boolean shouldOffboardDeploy(int round) {\n+        return (isOffBoard() && (!deployed && (getDeployRound() <= round)));", "originalCommit": "3036929e30f80d1f6c9a083172dc536a154c83db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMzAzNw==", "url": "https://github.com/MegaMek/megamek/pull/2027#discussion_r445303037", "bodyText": "I used the same number as the shouldDeploy routine (my last PR had too few; so I guess I'm binary searching).", "author": "sixlettervariables", "createdAt": "2020-06-25T04:41:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQ3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMzE1NQ==", "url": "https://github.com/MegaMek/megamek/pull/2027#discussion_r445303155", "bodyText": ":)", "author": "NickAragua", "createdAt": "2020-06-25T04:42:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQ3MA=="}], "type": "inlineReview"}, {"oid": "209f28af4aa6d26a6f7a060c5e54ea7d9cc6cbc9", "url": "https://github.com/MegaMek/megamek/commit/209f28af4aa6d26a6f7a060c5e54ea7d9cc6cbc9", "message": "Address PR comments", "committedDate": "2020-06-25T04:49:02Z", "type": "commit"}, {"oid": "43182c091070ac57d6267e20856c73b6093c9238", "url": "https://github.com/MegaMek/megamek/commit/43182c091070ac57d6267e20856c73b6093c9238", "message": "Resolve LGTM findings", "committedDate": "2020-06-25T05:07:12Z", "type": "commit"}]}