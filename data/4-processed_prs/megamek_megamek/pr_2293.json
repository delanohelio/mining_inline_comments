{"pr_number": 2293, "pr_title": "Small fixed wing support vehicles implementation", "pr_createdAt": "2020-10-03T21:43:56Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2293", "timeline": [{"oid": "ad361c5c86189b44134bbf584ee7dad2c3d91cbb", "url": "https://github.com/MegaMek/megamek/commit/ad361c5c86189b44134bbf584ee7dad2c3d91cbb", "message": "Set ammo bin size for small fixed wing SVs.", "committedDate": "2020-09-29T16:40:06Z", "type": "commit"}, {"oid": "db22ff933d7e0b78eadc72b161248df2e55febb5", "url": "https://github.com/MegaMek/megamek/commit/db22ff933d7e0b78eadc72b161248df2e55febb5", "message": "AV for infantry weapons for small fixed wing SVs.", "committedDate": "2020-09-29T16:46:09Z", "type": "commit"}, {"oid": "ece32330a99f784cb13c5bf15387ffb737e13c77", "url": "https://github.com/MegaMek/megamek/commit/ece32330a99f784cb13c5bf15387ffb737e13c77", "message": "Calculate max aero range band for infantry weapons.", "committedDate": "2020-10-02T21:08:24Z", "type": "commit"}, {"oid": "a29ceaca179838f8f0d492a863163d415359d870", "url": "https://github.com/MegaMek/megamek/commit/a29ceaca179838f8f0d492a863163d415359d870", "message": "Remove public access for AT2 fields in WeaponType", "committedDate": "2020-10-03T20:05:59Z", "type": "commit"}, {"oid": "fd82bfbba450c4e2be2a498f0c052fe62a5cf6a1", "url": "https://github.com/MegaMek/megamek/commit/fd82bfbba450c4e2be2a498f0c052fe62a5cf6a1", "message": "Merge remote-tracking branch 'origin/master' into small_fixed_wing_sv", "committedDate": "2020-10-03T20:32:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDU1MQ==", "url": "https://github.com/MegaMek/megamek/pull/2293#discussion_r499194551", "bodyText": "I hate to ask, but what about battle armor?", "author": "NickAragua", "createdAt": "2020-10-04T00:55:09Z", "path": "megamek/src/megamek/common/weapons/infantry/InfantryWeaponHandler.java", "diffHunk": "@@ -157,12 +157,15 @@ protected int calcnClusterAero(Entity entityTarget) {\n     }\n \n     protected int calcAttackValue() {\n-        int av = 0;\n+        int av;\n         //Sigh, another rules oversight - nobody bothered to figure this out\n         //To be consistent with other cluster weapons we will assume 60% hit\n-        if ((ae instanceof Infantry) && !(ae instanceof BattleArmor)) {\n+        if (ae.isConventionalInfantry()) {\n             double damage = ((Infantry) ae).getDamagePerTrooper();\n             av = (int) Math.round(damage * 0.6 * ((Infantry) ae).getShootingStrength());\n+        } else {\n+            // Small fixed wing support\n+            av = super.calcAttackValue();", "originalCommit": "fd82bfbba450c4e2be2a498f0c052fe62a5cf6a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDkxMw==", "url": "https://github.com/MegaMek/megamek/pull/2293#discussion_r499194913", "bodyText": "I'm not really sure what that code is about, though I have some ideas. It's beyond the scope of what I'm working on so I made it more concise but otherwise left it alone.", "author": "neoancient", "createdAt": "2020-10-04T01:02:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDU1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NTA1OQ==", "url": "https://github.com/MegaMek/megamek/pull/2293#discussion_r499195059", "bodyText": "Ah, I think I see what you're saying - that check before was explicitly \"is this infantry but not battle armor\".", "author": "NickAragua", "createdAt": "2020-10-04T01:05:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDU1MQ=="}], "type": "inlineReview"}]}