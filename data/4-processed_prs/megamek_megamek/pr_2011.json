{"pr_number": 2011, "pr_title": "fix several minor npes and pathfinding issues", "pr_createdAt": "2020-06-17T00:32:33Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2011", "timeline": [{"oid": "a085fcf35964d7ffeca0e506c7f61455e28a0eb1", "url": "https://github.com/MegaMek/megamek/commit/a085fcf35964d7ffeca0e506c7f61455e28a0eb1", "message": "fix several minor npes and pathfinding issues", "committedDate": "2020-06-17T00:29:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw==", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441215307", "bodyText": "checks \"secondaryN\" but then looks at getSecondaryWeapon(), which results in an NPE when secondaryN > 1 but there's no secondary weapon.", "author": "NickAragua", "createdAt": "2020-06-17T00:33:45Z", "path": "megamek/src/megamek/common/templates/InfantryTROView.java", "diffHunk": "@@ -185,7 +185,7 @@ private void addWeaponNotes(List<String> notes) {\n             notes.add(String.format(Messages.getString(\"TROView.InfantryNote.SingleFieldGun\"),\n                     fieldGuns.get(0).getName(), shots, (int) fieldGuns.get(0).getTonnage(inf)));\n         }\n-        if (inf.getSecondaryN() > 1) {\n+        if (inf.getSecondaryWeapon() != null) {", "originalCommit": "a085fcf35964d7ffeca0e506c7f61455e28a0eb1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNzIxOQ==", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441217219", "bodyText": "Do you know what unit was causing that? This fix is fine, but it suggests another problem somewhere else.", "author": "neoancient", "createdAt": "2020-06-17T00:41:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxODA1NQ==", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441218055", "bodyText": "No idea. I was trying to customize an infantry unit with the goal of installing field guns, so (roughly):\n\npull up 'customize in mek lab'\nactually click on the 'mek lab' because there's a bug with the command center where it goes to the infirmary tab instead\nswap motive type to tracked\nattempt to use the field gun drop down, fail", "author": "NickAragua", "createdAt": "2020-06-17T00:44:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxODI1NQ==", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441218255", "bodyText": "Oh yeah, it was a customized ER support laser unit with some kind of sealed environment suit.", "author": "NickAragua", "createdAt": "2020-06-17T00:44:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw=="}], "type": "inlineReview"}]}