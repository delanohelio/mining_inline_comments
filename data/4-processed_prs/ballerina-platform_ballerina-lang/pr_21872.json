{"pr_number": 21872, "pr_title": "Flush output stream upon xml serialization", "pr_createdAt": "2020-03-17T10:27:19Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/21872", "timeline": [{"oid": "0498213489cde2dcaed627923593b0b8312fd69a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0498213489cde2dcaed627923593b0b8312fd69a", "message": "Flush output stream upon xml serialization", "committedDate": "2020-03-17T10:25:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzYyMzYzNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21872#discussion_r393623635", "bodyText": "Shouldn't we use handleXmlException here also?", "author": "MaryamZi", "createdAt": "2020-03-17T11:52:30Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/XMLItem.java", "diffHunk": "@@ -464,7 +465,14 @@ public void serialize(OutputStream outputStream) {\n             if (outputStream instanceof BallerinaXMLSerializer) {\n                 ((BallerinaXMLSerializer) outputStream).write(this);\n             } else {\n-                (new BallerinaXMLSerializer(outputStream)).write(this);\n+                BallerinaXMLSerializer ballerinaXMLSerializer = new BallerinaXMLSerializer(outputStream);\n+                ballerinaXMLSerializer.write(this);\n+                try {\n+                    ballerinaXMLSerializer.flush();\n+                    ballerinaXMLSerializer.close();\n+                } catch (IOException e) {\n+                    throw new BallerinaException(e);", "originalCommit": "0498213489cde2dcaed627923593b0b8312fd69a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzYzNjMxNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21872#discussion_r393636317", "bodyText": "Yes, we should let the outer catch block to catch this IOException.", "author": "rdhananjaya", "createdAt": "2020-03-17T12:17:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzYyMzYzNQ=="}], "type": "inlineReview"}]}