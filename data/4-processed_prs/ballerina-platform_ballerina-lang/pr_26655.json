{"pr_number": 26655, "pr_title": "Add tests for interop issues", "pr_createdAt": "2020-10-28T08:58:27Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26655", "timeline": [{"oid": "cd86d7242122e27dc7237cb1b669ffe575cfc2a1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cd86d7242122e27dc7237cb1b669ffe575cfc2a1", "message": "Use DataProvider to simplify tests in StaticMethodTest\n\nAlso rearranges the location of tests in the static_method_tests.bal file for better clarity", "committedDate": "2020-10-28T09:52:57Z", "type": "forcePushed"}, {"oid": "5989c8f9fdb91ec736b4157e3c0abf504b0fa3b4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5989c8f9fdb91ec736b4157e3c0abf504b0fa3b4", "message": "Add test for type cast failure\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20644", "committedDate": "2020-11-02T06:25:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQyNDIxNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26655#discussion_r516424214", "bodyText": "Do we need this comment here when there's no crash expected?", "author": "HindujaB", "createdAt": "2020-11-03T04:36:48Z", "path": "tests/jballerina-unit-test/src/test/resources/test-src/javainterop/basic/static_method_tests.bal", "diffHunk": "@@ -73,12 +91,55 @@ function testUsingParamValues() returns int {\n function testDecimalParamAndReturn(decimal a1) returns decimal {\n     return decimalParamAndReturn(a1);\n }\n-\n function testStaticResolve() {\n+    // When instance and static methods have the same name resolve static method based on the parameter type\n     int val = hashCode(2);\n     test:assertEquals(val, 2);\n }\n \n+public function testBalEnvSlowAsyncVoidSig() {\n+    int added = addTwoNumbersSlowAsyncVoidSig(1, 2);\n+    test:assertEquals(3, added);\n+}\n+\n+public function testUnionReturn() returns string {\n+    ResourceDefinition resourceDef = {path:\"path\", method:\"method\"};\n+    ResourceDefinition[] resources = [resourceDef];\n+    ApiDefinition apiDef = {resources:resources};\n+    return value:toString(getMapOrError(\"swagger\", apiDef));\n+}\n+\n+public function testBalEnvFastAsyncVoidSig() {\n+    int added = addTwoNumbersFastAsyncVoidSig(1, 2);\n+    test:assertEquals(3, added);\n+}\n+\n+public function testBalEnvSlowAsync() {\n+    int added = addTwoNumbersSlowAsync(1, 2);\n+    test:assertEquals(3, added);\n+}\n+\n+public function testBalEnvFastAsync() {\n+    int added = addTwoNumbersFastAsync(1, 2);\n+    test:assertEquals(3, added);\n+}\n+\n+public function testReturnNullString() {\n+    string concat = \"some\" + (returnNullString(true) ?: \"\");\n+    test:assertEquals(\"some\", concat);\n+}\n+\n+public function testReturnNotNullString() {\n+    string concat = \"some\" + (returnNullString(false) ?: \"\");\n+    test:assertEquals(\"someNotNull\", concat);\n+}\n+\n+public function testStringCast() {\n+    any result = getValue();\n+    string s = <string> result; // This line crashes with ClassCastException", "originalCommit": "5989c8f9fdb91ec736b4157e3c0abf504b0fa3b4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6ba754f04b32739b4c50f5d7cafddf618a9f93d4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ba754f04b32739b4c50f5d7cafddf618a9f93d4", "message": "Add tests for returning string? in interop function\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20164", "committedDate": "2020-11-03T04:44:26Z", "type": "commit"}, {"oid": "be53ffc3e91e3e82880d6171492098b2b7ceca2a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/be53ffc3e91e3e82880d6171492098b2b7ceca2a", "message": "Use DataProvider to simplify tests in StaticMethodTest\n\nAlso rearranges the location of tests in the static_method_tests.bal file for better clarity", "committedDate": "2020-11-03T04:44:26Z", "type": "commit"}, {"oid": "68933736946509f7cb7ff2c08a899a22f15590ee", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/68933736946509f7cb7ff2c08a899a22f15590ee", "message": "Add test for type cast failure\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20644", "committedDate": "2020-11-03T04:44:26Z", "type": "commit"}, {"oid": "68933736946509f7cb7ff2c08a899a22f15590ee", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/68933736946509f7cb7ff2c08a899a22f15590ee", "message": "Add test for type cast failure\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20644", "committedDate": "2020-11-03T04:44:26Z", "type": "forcePushed"}]}