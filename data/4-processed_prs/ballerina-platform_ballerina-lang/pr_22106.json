{"pr_number": 22106, "pr_title": "Improve xml index expr type checking", "pr_createdAt": "2020-03-23T11:50:10Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22106", "timeline": [{"oid": "5a4c5045efb7a18ff27f522b46e17fbf059d0b01", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5a4c5045efb7a18ff27f522b46e17fbf059d0b01", "message": "Improve xml index expr type checking", "committedDate": "2020-03-23T11:45:12Z", "type": "commit"}, {"oid": "c253c9c550063d99d1889676db2feea40d7d31d1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c253c9c550063d99d1889676db2feea40d7d31d1", "message": "Fix langlib test cases", "committedDate": "2020-03-23T17:03:17Z", "type": "commit"}, {"oid": "be3040a9322a9c5a353b4485b75100985e67ec0b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/be3040a9322a9c5a353b4485b75100985e67ec0b", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into xml-disallow-child-index-access", "committedDate": "2020-03-24T04:01:27Z", "type": "commit"}, {"oid": "f42f931736a07505aed9911907e65b5b665381d6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f42f931736a07505aed9911907e65b5b665381d6", "message": "Improve BRunUtil xml support", "committedDate": "2020-03-24T08:33:55Z", "type": "commit"}, {"oid": "f42f931736a07505aed9911907e65b5b665381d6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f42f931736a07505aed9911907e65b5b665381d6", "message": "Improve BRunUtil xml support", "committedDate": "2020-03-24T08:33:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NDM5NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22106#discussion_r398694395", "bodyText": "Can we remove this since it is not used?", "author": "irshadnilam", "createdAt": "2020-03-26T16:06:30Z", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/util/diagnostic/DiagnosticCode.java", "diffHunk": "@@ -318,6 +318,7 @@\n     UNSUPPORTED_METHOD_INVOCATION_XML_NAV(\"method.invocation.in.xml.navigation.expressions.not.supported\"),\n     DEPRECATED_XML_ATTRIBUTE_ACCESS(\"deprecated.xml.attribute.access.expression\"),\n     UNSUPPORTED_INDEX_IN_XML_NAVIGATION(\"indexing.within.xml.navigation.expression.not.supported\"),\n+    DEPRECATED_XML_CHILD_ACCESS(\"deprecated.xml.child.access\"),", "originalCommit": "f42f931736a07505aed9911907e65b5b665381d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODcyOTUwNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22106#discussion_r398729507", "bodyText": "Done", "author": "rdhananjaya", "createdAt": "2020-03-26T16:51:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NDM5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NDU0NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22106#discussion_r398694545", "bodyText": "Also this.", "author": "irshadnilam", "createdAt": "2020-03-26T16:06:41Z", "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -1121,6 +1121,10 @@ warning.usage.of.deprecated.construct=\\\n warning.non.module.qualified.error.reason=\\\n   error reason ''{0}'' is not module qualified\n \n+warning.deprecated.xml.child.access=\\\n+  xml child access using index expression is deprecated and will be removed in next minor release, please \\\n+  use xml step expressions\n+", "originalCommit": "f42f931736a07505aed9911907e65b5b665381d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b25327afc3299bc739f9cdbebd21c82d61a3feb6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b25327afc3299bc739f9cdbebd21c82d61a3feb6", "message": "Remove unused warning message", "committedDate": "2020-03-26T16:50:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMxMTA4Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22106#discussion_r399311082", "bodyText": "Not related to this PR I guess, but shouldn't L13 result in only one error? Only \"invalid assignment in variable 'x1/*'\" maybe?", "author": "MaryamZi", "createdAt": "2020-03-27T14:37:43Z", "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/types/xml/XMLAccessTest.java", "diffHunk": "@@ -213,9 +213,15 @@ public void testXMLNavigationExpressionWithQuotedIdentifiers() {\n \n     @Test\n     public void testInvalidXMLAccessWithIndex() {\n-        BAssertUtil.validateError(negativeResult, 0, \"cannot update an xml sequence\", 5, 5);\n+        int i = 0;\n+        BAssertUtil.validateError(negativeResult, i++, \"cannot update an xml sequence\", 5, 5);\n+        BAssertUtil.validateError(negativeResult, i++, \"cannot update an xml sequence\", 13, 5);\n+        BAssertUtil.validateError(negativeResult, i++, \"invalid assignment in variable 'x1/*'\", 13, 5);", "originalCommit": "b25327afc3299bc739f9cdbebd21c82d61a3feb6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}