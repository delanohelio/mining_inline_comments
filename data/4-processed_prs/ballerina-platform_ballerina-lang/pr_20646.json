{"pr_number": 20646, "pr_title": "Consider the constraint for table type checking", "pr_createdAt": "2020-01-16T14:27:53Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/20646", "timeline": [{"oid": "2e572183ddee56c5fa4d9399a3cfcc3a04a04366", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2e572183ddee56c5fa4d9399a3cfcc3a04a04366", "message": "Fix stdlib tests", "committedDate": "2020-01-16T14:55:14Z", "type": "forcePushed"}, {"oid": "b9f4d2a73dcdfcca8b8a8061a797dcf6eb75e2f0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b9f4d2a73dcdfcca8b8a8061a797dcf6eb75e2f0", "message": "Consider the constraint for table type checking", "committedDate": "2020-01-16T18:59:28Z", "type": "commit"}, {"oid": "b5abbb2273a0bbf79b82a3d122fb1d19652b7011", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5abbb2273a0bbf79b82a3d122fb1d19652b7011", "message": "Fix stdlib tests", "committedDate": "2020-01-16T18:59:42Z", "type": "commit"}, {"oid": "b5abbb2273a0bbf79b82a3d122fb1d19652b7011", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5abbb2273a0bbf79b82a3d122fb1d19652b7011", "message": "Fix stdlib tests", "committedDate": "2020-01-16T18:59:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNjU4OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20646#discussion_r367836588", "bodyText": "Why do we need these changes? (and other similar)", "author": "irshadnilam", "createdAt": "2020-01-17T09:20:27Z", "path": "stdlib/jdbc/src/test/resources/test-src/actions/select_test.bal", "diffHunk": "@@ -272,7 +272,7 @@ function testCloseConnectionPool(string jdbcURL) returns @tainted (int) {\n     return count;\n }\n \n-function getTableCountValColumn(table<ResultCount> | error result) returns int {\n+function getTableCountValColumn(table<record {}> | error result) returns int {", "originalCommit": "b5abbb2273a0bbf79b82a3d122fb1d19652b7011", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU2ODQyMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20646#discussion_r368568422", "bodyText": "Earlier, with table type-checking the constraint was not considered. Thus, it was possible to assign a value of type table<record {}> (or some table broader than table<Foo>) to a variable of table<Foo> (as mentioned in #17808).\nThis PR fixes the type-checking bug, which requires this change to accept a result of a db client remote method.", "author": "MaryamZi", "createdAt": "2020-01-20T14:14:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNjU4OA=="}], "type": "inlineReview"}, {"oid": "280f6e38fb73ea88a62d203967a43a7380656929", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/280f6e38fb73ea88a62d203967a43a7380656929", "message": "Resolve conflicts and merge master", "committedDate": "2020-01-21T09:13:37Z", "type": "commit"}]}