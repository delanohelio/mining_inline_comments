{"pr_number": 21607, "pr_title": "Add query and execute operations for jdbc and mysql connectors", "pr_createdAt": "2020-03-10T18:59:36Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607", "timeline": [{"oid": "7c21c01fa5df32ba0b8bcefb671d5164fbbf6961", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c21c01fa5df32ba0b8bcefb671d5164fbbf6961", "message": "Merge branch 'wso2-master' into matser-3", "committedDate": "2020-03-02T05:08:52Z", "type": "commit"}, {"oid": "37a987390bef67696d1d791298e4deb3553647e3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/37a987390bef67696d1d791298e4deb3553647e3", "message": "Merge branch 'streams-rewrite' into matser-3", "committedDate": "2020-03-02T05:09:01Z", "type": "commit"}, {"oid": "8fb42e46980a21fd5153bb0d24b96b79d6e5920e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8fb42e46980a21fd5153bb0d24b96b79d6e5920e", "message": "Add initial query method", "committedDate": "2020-03-02T08:31:17Z", "type": "commit"}, {"oid": "09bc4ace5d84832c846a5da0240d9bd059663f70", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/09bc4ace5d84832c846a5da0240d9bd059663f70", "message": "First cut implementation for query and recordIterator", "committedDate": "2020-03-03T16:03:29Z", "type": "commit"}, {"oid": "fcfa573834ff51e8ca8ffff3f359e2eb40c2b5cb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fcfa573834ff51e8ca8ffff3f359e2eb40c2b5cb", "message": "Fix check style issues", "committedDate": "2020-03-03T16:18:50Z", "type": "commit"}, {"oid": "4cc7caa461ffea3ffa2bf10baa18fe6d93a6621b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4cc7caa461ffea3ffa2bf10baa18fe6d93a6621b", "message": "Fix check style issues in sql module", "committedDate": "2020-03-03T16:27:14Z", "type": "commit"}, {"oid": "027be0a0ea7de58b0aafb7a584688a8b15360097", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/027be0a0ea7de58b0aafb7a584688a8b15360097", "message": "Test with custom type", "committedDate": "2020-03-04T06:27:37Z", "type": "commit"}, {"oid": "31a6f7754108c30c020b6dac93c7fad674295dc5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/31a6f7754108c30c020b6dac93c7fad674295dc5", "message": "Fix error stream generation and add optional type test", "committedDate": "2020-03-04T07:04:15Z", "type": "commit"}, {"oid": "bb75f45f24caa804887f8fc4c514fcd901374bad", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bb75f45f24caa804887f8fc4c514fcd901374bad", "message": "Merge branch 'streams-rewrite' into matser-3", "committedDate": "2020-03-04T07:09:16Z", "type": "commit"}, {"oid": "241d2ca4e4603b8e575c6ab1e52b43e01bb2a13a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/241d2ca4e4603b8e575c6ab1e52b43e01bb2a13a", "message": "Add test for optional type record", "committedDate": "2020-03-04T09:52:43Z", "type": "commit"}, {"oid": "7dea63de4094c1da511e9c53a0e8a995eea9a052", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7dea63de4094c1da511e9c53a0e8a995eea9a052", "message": "Add invalid column type test", "committedDate": "2020-03-04T10:05:05Z", "type": "commit"}, {"oid": "d9bfffce1cbaa56b65e253717ad45d9fbcf6f8dc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d9bfffce1cbaa56b65e253717ad45d9fbcf6f8dc", "message": "Add string column type test", "committedDate": "2020-03-04T11:05:25Z", "type": "commit"}, {"oid": "4fd0b4864924b45beb8b53d4a800bed9ab9457ae", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4fd0b4864924b45beb8b53d4a800bed9ab9457ae", "message": "Merge branch 'streams-rewrite' into matser-3", "committedDate": "2020-03-04T11:07:14Z", "type": "commit"}, {"oid": "105799913240b7286b8b570fc33128b993d48073", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/105799913240b7286b8b570fc33128b993d48073", "message": "Merging with streaming fixes", "committedDate": "2020-03-04T11:13:27Z", "type": "commit"}, {"oid": "26c4f918b8bd5465abd4f300e738b41bfb259bc7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/26c4f918b8bd5465abd4f300e738b41bfb259bc7", "message": "Add numeric types query test", "committedDate": "2020-03-04T11:21:10Z", "type": "commit"}, {"oid": "526d3387710f55ae80933fd84c864177eadd2813", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/526d3387710f55ae80933fd84c864177eadd2813", "message": "Add null values test iteration", "committedDate": "2020-03-04T11:50:49Z", "type": "commit"}, {"oid": "4e1e3dee2940529e1d28ada101a3625d070b3df6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4e1e3dee2940529e1d28ada101a3625d070b3df6", "message": "Implement close method for iterator", "committedDate": "2020-03-04T12:28:19Z", "type": "commit"}, {"oid": "32b77861d34d6703ea42add1eee4ee0d23246b83", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/32b77861d34d6703ea42add1eee4ee0d23246b83", "message": "Add custom error type for stream in the connector API", "committedDate": "2020-03-04T13:00:12Z", "type": "commit"}, {"oid": "32f28caad96c860113b6eb3cb244282a07ead48e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/32f28caad96c860113b6eb3cb244282a07ead48e", "message": "Add query function to mysql client", "committedDate": "2020-03-04T13:03:58Z", "type": "commit"}, {"oid": "0fe99dfd65f01cf04440a9e648334faf367f6ba7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0fe99dfd65f01cf04440a9e648334faf367f6ba7", "message": "Add complex test resources and initial test case", "committedDate": "2020-03-04T13:53:07Z", "type": "commit"}, {"oid": "3b9030734148e567a7630793ec12337059724052", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b9030734148e567a7630793ec12337059724052", "message": "Add execute method for sql and jdbc connectors", "committedDate": "2020-03-04T17:14:51Z", "type": "commit"}, {"oid": "992b8b8a1c86e3e1d530bf3de9f394e348815a16", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/992b8b8a1c86e3e1d530bf3de9f394e348815a16", "message": "Add execute method mysql connector", "committedDate": "2020-03-04T17:27:04Z", "type": "commit"}, {"oid": "b24376f1badc7f943e3780a3a5af4415a3920dd7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b24376f1badc7f943e3780a3a5af4415a3920dd7", "message": "Change query and execute methods as remote methods", "committedDate": "2020-03-04T18:46:23Z", "type": "commit"}, {"oid": "1bb0c1b90069e64623e990e9030b2430b2b02ec9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1bb0c1b90069e64623e990e9030b2430b2b02ec9", "message": "Remove todo statements because as per spec we need to cast separately", "committedDate": "2020-03-05T05:24:48Z", "type": "commit"}, {"oid": "177f40b6d73476a208c501375e99db76369966b1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/177f40b6d73476a208c501375e99db76369966b1", "message": "Fix issue in execute method", "committedDate": "2020-03-05T05:39:26Z", "type": "commit"}, {"oid": "8c5362b64069b09960f1f8057b515c006256d0f7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8c5362b64069b09960f1f8057b515c006256d0f7", "message": "Merge branch 'streams-rewrite' into matser-3", "committedDate": "2020-03-05T05:41:07Z", "type": "commit"}, {"oid": "8b0802c28784c78890f932ac58bff0041c3a0cd5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b0802c28784c78890f932ac58bff0041c3a0cd5", "message": "Use close method and add custom error for stream constraint when passing the iterator", "committedDate": "2020-03-05T06:03:23Z", "type": "commit"}, {"oid": "f06e00e89892f9db287f4c8a55aded029acfdbee", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f06e00e89892f9db287f4c8a55aded029acfdbee", "message": "Add more execute related test cases to jdbc", "committedDate": "2020-03-05T07:33:05Z", "type": "commit"}, {"oid": "ceb3b6e356d48e52fc8f35b1892e59302f58c533", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ceb3b6e356d48e52fc8f35b1892e59302f58c533", "message": "Add more execute related test cases to jdbc", "committedDate": "2020-03-05T10:05:55Z", "type": "commit"}, {"oid": "a7db92d58bc720ee44a9d946e22b822ff57107bc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a7db92d58bc720ee44a9d946e22b822ff57107bc", "message": "Change mysql test library and fix SSL tests to work with SSL enabled mysql server", "committedDate": "2020-03-05T16:38:24Z", "type": "commit"}, {"oid": "0a9ffa71329606d1d358c6318beb5fcd3e306161", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0a9ffa71329606d1d358c6318beb5fcd3e306161", "message": "Add query test for mysql connector", "committedDate": "2020-03-06T05:11:02Z", "type": "commit"}, {"oid": "c3c19189bc1bed647ff0c9978187b1460df8be2f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c3c19189bc1bed647ff0c9978187b1460df8be2f", "message": "Add execute test for mysql connector", "committedDate": "2020-03-06T05:51:46Z", "type": "commit"}, {"oid": "b691a5f929f49cb87b49efc26d30858ec21e4985", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b691a5f929f49cb87b49efc26d30858ec21e4985", "message": "Add connection pool related fixes and testcase for mysql connector", "committedDate": "2020-03-06T11:08:28Z", "type": "commit"}, {"oid": "d6a258d3e5e9daf9075eba35db37e519e9d4a634", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d6a258d3e5e9daf9075eba35db37e519e9d4a634", "message": "Add more connection pool related testcases for mysql connector", "committedDate": "2020-03-06T12:04:43Z", "type": "commit"}, {"oid": "7229bfa74bd21fb74e54634d31ee1b064c6fad02", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7229bfa74bd21fb74e54634d31ee1b064c6fad02", "message": "Add more connection pool related testcases for mysql connector", "committedDate": "2020-03-06T13:05:48Z", "type": "commit"}, {"oid": "29ec30e96ce80822030a264672569858d76286df", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/29ec30e96ce80822030a264672569858d76286df", "message": "Return anydata type for array instead of any type", "committedDate": "2020-03-06T13:17:38Z", "type": "commit"}, {"oid": "5980684013432b84e3603a955bf85f92a1997211", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5980684013432b84e3603a955bf85f92a1997211", "message": "Avoid returning null when each element is null", "committedDate": "2020-03-06T13:17:38Z", "type": "commit"}, {"oid": "ece0eedb4772de6db30526d7589f0d152d6b99cd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ece0eedb4772de6db30526d7589f0d152d6b99cd", "message": "Add complex type query test cases", "committedDate": "2020-03-06T13:17:38Z", "type": "commit"}, {"oid": "834e285f789c3979dec773ab54d4aec2aa5e6ffb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/834e285f789c3979dec773ab54d4aec2aa5e6ffb", "message": "Use close method on streams", "committedDate": "2020-03-06T13:34:19Z", "type": "commit"}, {"oid": "f40413eb1ad09891cbc43e02d98db2a744392df2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f40413eb1ad09891cbc43e02d98db2a744392df2", "message": "Add more connection pool tests to mysql connector", "committedDate": "2020-03-06T16:45:57Z", "type": "commit"}, {"oid": "d3214bd7d2e4967917d4f2991e264f28ed0cfacd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d3214bd7d2e4967917d4f2991e264f28ed0cfacd", "message": "Fix checkstyle failure", "committedDate": "2020-03-10T06:03:01Z", "type": "commit"}, {"oid": "72766ce3e81f731bd9615958292f9bb567a06562", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/72766ce3e81f731bd9615958292f9bb567a06562", "message": "Merge pull request #21518 from pcnfernando/sql-connector\n\nAdd query tests for complex types", "committedDate": "2020-03-10T06:32:39Z", "type": "commit"}, {"oid": "e6af32ac06ae0f73fd5d7c271d450b00dcd8cff9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6af32ac06ae0f73fd5d7c271d450b00dcd8cff9", "message": "Add more connection pool tests to mysql connector", "committedDate": "2020-03-10T07:03:44Z", "type": "commit"}, {"oid": "2c601dd7bd0a073e64f3d731a2d8d2c34890b24a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2c601dd7bd0a073e64f3d731a2d8d2c34890b24a", "message": "Merge remote-tracking branch 'wso2/sql-connector' into wso2-sql-connector", "committedDate": "2020-03-10T07:04:11Z", "type": "commit"}, {"oid": "6eca576fed7f5da9ddd8d63eb7d514a498706952", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6eca576fed7f5da9ddd8d63eb7d514a498706952", "message": "Add missing import for time to fix the build issue", "committedDate": "2020-03-10T07:08:44Z", "type": "commit"}, {"oid": "47b8e7f4c1ddb84e5187c1605f1c5a3323ef919c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/47b8e7f4c1ddb84e5187c1605f1c5a3323ef919c", "message": "Add conn pool test to jdbc connector", "committedDate": "2020-03-10T09:52:31Z", "type": "commit"}, {"oid": "a8d2cf68afdb6051bb04f41d21df9bfab66c5b2f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a8d2cf68afdb6051bb04f41d21df9bfab66c5b2f", "message": "Add ballerina sql interop dependency", "committedDate": "2020-03-10T11:27:50Z", "type": "commit"}, {"oid": "ed4eada81dea2b3cb6bcd87719e386b153d5026f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ed4eada81dea2b3cb6bcd87719e386b153d5026f", "message": "Merge remote-tracking branch 'wso2/sql-connector' into wso2-sql-connector", "committedDate": "2020-03-10T11:28:07Z", "type": "commit"}, {"oid": "5372bf4544f6e381dd3a50636917e1f922f53be5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5372bf4544f6e381dd3a50636917e1f922f53be5", "message": "Merge branch 'streams-rewrite' into sql-connector", "committedDate": "2020-03-10T13:27:50Z", "type": "commit"}, {"oid": "fea4b9356110e98210f0302095f47371027c70d5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fea4b9356110e98210f0302095f47371027c70d5", "message": "Adopt stream forEach change after merging with stream rewrite branch", "committedDate": "2020-03-10T13:41:14Z", "type": "commit"}, {"oid": "fba3855548511966fa1e383dac17906b88bbf507", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fba3855548511966fa1e383dac17906b88bbf507", "message": "Merge branch 'upstream-master' into sql-connector", "committedDate": "2020-03-10T13:44:05Z", "type": "commit"}, {"oid": "4de4831ab634c84868eaa2cd117bca2a972e356e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4de4831ab634c84868eaa2cd117bca2a972e356e", "message": "Add mysql and jdbc modules to build and do code formatting", "committedDate": "2020-03-10T15:40:32Z", "type": "commit"}, {"oid": "b78ec7bb2a1e60ed722054511c4851de5864748e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b78ec7bb2a1e60ed722054511c4851de5864748e", "message": "Add back logging.properties jdbc module", "committedDate": "2020-03-10T15:45:58Z", "type": "commit"}, {"oid": "771645b3cc5dfaacee54bbff3523c4dcf524c424", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/771645b3cc5dfaacee54bbff3523c4dcf524c424", "message": "Format jdbc test ballerina files", "committedDate": "2020-03-10T16:14:14Z", "type": "commit"}, {"oid": "e8e5e41f6b75b2e901625b61cd5dc6c4421529c2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e8e5e41f6b75b2e901625b61cd5dc6c4421529c2", "message": "Format mysql test ballerina files", "committedDate": "2020-03-10T16:23:43Z", "type": "commit"}, {"oid": "9a88080b42875102c7dd84d60ae4ceedd396ad8f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9a88080b42875102c7dd84d60ae4ceedd396ad8f", "message": "Add date time based tests for querying", "committedDate": "2020-03-10T17:53:01Z", "type": "commit"}, {"oid": "977da03add5bc774b97dd46f6840465fb5493fd0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/977da03add5bc774b97dd46f6840465fb5493fd0", "message": "Improve date/time conversion during record iteration", "committedDate": "2020-03-10T17:53:01Z", "type": "commit"}, {"oid": "9ba93689ea08bf047b3052d654ca9fe0af80cdfb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9ba93689ea08bf047b3052d654ca9fe0af80cdfb", "message": "Adopt foreach returning error?", "committedDate": "2020-03-10T17:53:01Z", "type": "commit"}, {"oid": "2d70f9f65d9204021fb440d74e514ff0c6dfc308", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d70f9f65d9204021fb440d74e514ff0c6dfc308", "message": "Format bal file", "committedDate": "2020-03-10T18:08:18Z", "type": "commit"}, {"oid": "5a970d13274e2539f94b78f57c65a592927bce1b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5a970d13274e2539f94b78f57c65a592927bce1b", "message": "Merge branch 'upstream-master' into sql-connector-2", "committedDate": "2020-03-10T18:49:36Z", "type": "commit"}, {"oid": "8745692601756faa334f1cfc92caa6bb920aee47", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8745692601756faa334f1cfc92caa6bb920aee47", "message": "Disable failing date time test case", "committedDate": "2020-03-10T19:20:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwODA2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390708061", "bodyText": "Need indentation here. This is an issue with formatter which was fixed with #21354", "author": "anupama-pathirage", "createdAt": "2020-03-11T02:03:21Z", "path": "stdlib/database/jdbc2/src/main/ballerina/src/java.jdbc/client.bal", "diffHunk": "@@ -36,10 +36,41 @@ public type Client client object {\n         return createClient(self, clientConf, sql:getGlobalConnectionPool());\n     }\n \n+    # Executes the sql query provided by the user, and returns the result as stream.\n+    #\n+    # + sqlQuery - The query which needs to be executed\n+    # + rowType - The `typedesc` of the record that should be returned as a result. If this is not provided the default\n+    #             column names of the query result set be used for the record attributes\n+    # + return - Stream of records in the type of `rowType`\n+    public remote function query(@untainted string sqlQuery, typedesc<record {}>? rowType = ())\n+    returns stream<record{}, sql:Error> {", "originalCommit": "8745692601756faa334f1cfc92caa6bb920aee47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDczMDM2OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390730368", "bodyText": "I took an update and ran the formatting tool yesterday (after the update from master) and again today and this is how it formatted. If I have the indentation here it reverts and puts back as above.", "author": "sinthuja", "createdAt": "2020-03-11T03:41:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwODA2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDczMzcwMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390733700", "bodyText": "AFAIK formatting tool with his fix is not released yet. @NipunaMarcus Any thoughts?", "author": "anupama-pathirage", "createdAt": "2020-03-11T03:56:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwODA2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDczODY4Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390738682", "bodyText": "We can leave this and fix them later, in case we need to merge this soon for the release :)", "author": "anupama-pathirage", "createdAt": "2020-03-11T04:20:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwODA2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc0MzE0Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390743142", "bodyText": "Yes, +1. Once the formatter tool is fixed and released, I'll rerun the tool and fix these with the separate PR.", "author": "sinthuja", "createdAt": "2020-03-11T04:43:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwODA2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwODE3NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390708175", "bodyText": "Shouldn't it be both DML and DDL?", "author": "anupama-pathirage", "createdAt": "2020-03-11T02:03:46Z", "path": "stdlib/database/jdbc2/src/main/ballerina/src/java.jdbc/client.bal", "diffHunk": "@@ -36,10 +36,41 @@ public type Client client object {\n         return createClient(self, clientConf, sql:getGlobalConnectionPool());\n     }\n \n+    # Executes the sql query provided by the user, and returns the result as stream.\n+    #\n+    # + sqlQuery - The query which needs to be executed\n+    # + rowType - The `typedesc` of the record that should be returned as a result. If this is not provided the default\n+    #             column names of the query result set be used for the record attributes\n+    # + return - Stream of records in the type of `rowType`\n+    public remote function query(@untainted string sqlQuery, typedesc<record {}>? rowType = ())\n+    returns stream<record{}, sql:Error> {\n+        if (self.clientActive) {\n+            return nativeQuery(self, java:fromString(sqlQuery), rowType);\n+        } else {\n+            return sql:generateApplicationErrorStream(\"JDBC Client is already closed, hence \"\n+                + \"further operations are not allowed\");\n+        }\n+    }\n+\n+    # Executes the DML sql queries provided by the user, and returns summary of the execution.", "originalCommit": "8745692601756faa334f1cfc92caa6bb920aee47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcxNDIwMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390714202", "bodyText": "Shouldn't these be defined as separate types and then as a single union type?\npublic const SSL_PREFERRED = \"PREFERRED\";\npublic const SSL_REQUIRED = \"REQUIRED\";\n...\n\npublic type SSLMode SSL_PREFERRED|SSL_REQUIRED ..;\n\nThen usage will be\nSSLMode mode = sql:SSL_PREFERRED;", "author": "anupama-pathirage", "createdAt": "2020-03-11T02:28:36Z", "path": "stdlib/database/mysql/src/main/ballerina/src/mysql/client.bal", "diffHunk": "@@ -82,7 +113,7 @@ public type Options record {|\n |};\n \n # Possible options for SSL Mode.\n-public type SSLMode \"PREFERRED\" | \"REQUIRED\" | \"VERIFY_CERT\" | \"VERIFY_IDENTITY\";\n+public type SSLMode \"PREFERRED\"|\"REQUIRED\"|\"VERIFY_CERT\"|\"VERIFY_IDENTITY\";", "originalCommit": "8745692601756faa334f1cfc92caa6bb920aee47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cb1db698bab1d3470bc58c1197c7ef86ec9c751f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb1db698bab1d3470bc58c1197c7ef86ec9c751f", "message": "Fix failing mysql test and fix review comments", "committedDate": "2020-03-11T03:50:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDczNDIwMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21607#discussion_r390734203", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public type SSLMode SSL_PREFERRED | SSL_REQUIRED| SSL_VERIFY_CERT | SSL_VERIFY_IDENTITY;\n          \n          \n            \n            public type SSLMode SSL_PREFERRED|SSL_REQUIRED|SSL_VERIFY_CERT|SSL_VERIFY_IDENTITY;", "author": "anupama-pathirage", "createdAt": "2020-03-11T03:59:00Z", "path": "stdlib/database/mysql/src/main/ballerina/src/mysql/client.bal", "diffHunk": "@@ -82,7 +113,13 @@ public type Options record {|\n |};\n \n # Possible options for SSL Mode.\n-public type SSLMode \"PREFERRED\" | \"REQUIRED\" | \"VERIFY_CERT\" | \"VERIFY_IDENTITY\";\n+public const SSL_PREFERRED = \"PREFERRED\";\n+public const SSL_REQUIRED = \"REQUIRED\";\n+public const SSL_VERIFY_CERT = \"VERIFY_CERT\";\n+public const SSL_VERIFY_IDENTITY = \"VERIFY_IDENTITY\";\n+\n+# SSLMode as a union of available ssl modes.\n+public type SSLMode SSL_PREFERRED | SSL_REQUIRED| SSL_VERIFY_CERT | SSL_VERIFY_IDENTITY;", "originalCommit": "cb1db698bab1d3470bc58c1197c7ef86ec9c751f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f1c382274504399c5c61210abf93b02219835008", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f1c382274504399c5c61210abf93b02219835008", "message": "Code formatting.\n\nCo-Authored-By: Anupama Pathirage <anupama@wso2.com>", "committedDate": "2020-03-11T04:06:02Z", "type": "commit"}]}