{"pr_number": 22217, "pr_title": "[master] Fix compiler crashing issue when other fields are referenced in record field default values", "pr_createdAt": "2020-03-26T07:27:12Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22217", "timeline": [{"oid": "5c8574b150231968152bd257400439e24a61df09", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5c8574b150231968152bd257400439e24a61df09", "message": "Fix issue in referencing a field in a record field default value", "committedDate": "2020-03-26T07:24:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDc1ODgxMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22217#discussion_r400758811", "bodyText": "newline", "author": "rdhananjaya", "createdAt": "2020-03-31T09:11:38Z", "path": "tests/jballerina-unit-test/src/test/resources/test-src/record/negative/field_ref_in_own_record.bal", "diffHunk": "@@ -0,0 +1,72 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+//\n+// WSO2 Inc. licenses this file to you under the Apache License,\n+// Version 2.0 (the \"License\"); you may not use this file except\n+// in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+// http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+type Foo record {|\n+    int a;\n+    int b = a + 10;\n+    record {\n+        int x = a;\n+    } c;\n+\n+    object {\n+        int z = a;\n+    } d;\n+|};\n+\n+function fieldRefTest() {\n+    record {|\n+        string fname = \"Pubudu\";\n+        string lname = \"Fernando\";\n+        string fullName = fname + \" \" + lname;\n+    |} person = {};\n+\n+    record {|\n+        int a;\n+        int b = a + 10;\n+\n+        record {\n+            int x = a;\n+        } c;\n+\n+        object {\n+            int z = a;\n+        } d;\n+    |} rec;\n+\n+    int p = 25;\n+    record {\n+        int x = 10;\n+        int marks = let int e = 3, int z = 5 in z * e + x;\n+        int y = p;\n+    } student = {};\n+\n+    object {\n+        record {\n+            int a;\n+            int b = a;\n+            record {\n+                int d = a;\n+            } nestd = {};\n+        } f = {a: 10};\n+    } obj;\n+}\n+\n+int glbA = 100;\n+\n+type Bar record {\n+    string glbA;\n+    string z = glbA;\n+};", "originalCommit": "5c8574b150231968152bd257400439e24a61df09", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}