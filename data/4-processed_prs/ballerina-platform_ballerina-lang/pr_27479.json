{"pr_number": 27479, "pr_title": "Fix casting with special character fields", "pr_createdAt": "2020-12-14T07:24:07Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/27479", "timeline": [{"oid": "30039bbadecbd6b69bf3f5b7b107a61a013eda32", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/30039bbadecbd6b69bf3f5b7b107a61a013eda32", "message": "Fix casting with special char fields", "committedDate": "2020-12-14T07:19:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjE4OTcxOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27479#discussion_r542189719", "bodyText": "Why the java escape? Not identifier encode?", "author": "manuranga", "createdAt": "2020-12-14T08:19:51Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/JvmTypeGen.java", "diffHunk": "@@ -1433,7 +1434,7 @@ private static void loadTableType(MethodVisitor mv, BTableType bType) {\n                 mv.visitInsn(DUP);\n                 mv.visitLdcInsn((long) i);\n                 mv.visitInsn(L2I);\n-                mv.visitLdcInsn(fieldName);\n+                mv.visitLdcInsn(StringEscapeUtils.unescapeJava(fieldName));", "originalCommit": "30039bbadecbd6b69bf3f5b7b107a61a013eda32", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjE5NjczNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27479#discussion_r542196735", "bodyText": "This field name is used to refer the record field name of the table key.  The record fields are mapped using the decoded field names. [escaped names == decode(encoded identifiers) ]\nEg:\ntable key('emp\\-id)\n\n//field name passed as \"emp\\-id\" at code gen (instruction-level)\n//map key needed for record field access is \"emp-id\"", "author": "HindujaB", "createdAt": "2020-12-14T08:31:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjE4OTcxOQ=="}], "type": "inlineReview"}]}