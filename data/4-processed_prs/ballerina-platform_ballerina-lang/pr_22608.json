{"pr_number": 22608, "pr_title": "Refactor the Websub API doc", "pr_createdAt": "2020-04-14T17:05:37Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608", "timeline": [{"oid": "ad5ffc953253d26b629ae0d49817f1e5ec71f822", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ad5ffc953253d26b629ae0d49817f1e5ec71f822", "message": "Refactor the websub API doc", "committedDate": "2020-04-14T16:35:47Z", "type": "commit"}, {"oid": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "message": "Remove unwanted changes", "committedDate": "2020-04-14T17:03:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NTA3OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408565079", "bodyText": "Shall we keep these details and replace the examples with code snippets and BBEs.", "author": "daneshk", "createdAt": "2020-04-15T03:52:23Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -127,385 +104,26 @@ A hub client endpoint is also made available to publishers and subscribers to pe\n - Subscribers\n   - Subscribe/Unsubscribe to/from topics at a hub\n \n-## Samples\n-This sample demonstrates a Subscriber Service with `subscribeOnStartUp` set to true. This will result in a\n- subscription request being sent to the specified hub for the specified topic, with the specified lease seconds value \n- and the specified secret for authenticated content distribution.\n-Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription \n-requests would happen automatically, if the topic specified in the request matches that specified as an annotation or \n-that discovered for the annotated resource URL.\n- \n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Explicit intent verification can be done by introducing an `onIntentVerification` resource function.\n-```ballerina\n-import ballerina/http;\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onIntentVerification(websub:Caller caller, websub:IntentVerificationRequest request) {\n-        http:Response response = new;\n-        // Insert logic to build subscription/unsubscription intent verification response.\n-        var result = caller->respond(response);\n-        if (result is error) { \n-            log:printError(\"Error responding to intent verification request\", result);\n-        }\n-    }\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Functions are made available on the `websub:IntentVerificationRequest` to build a subscription or unsubscription \n-verification response, specifying the topic to verify intent against:\n-```ballerina\n-http:Response response = request.buildSubscriptionVerificationResponse(\"<TOPIC_TO_VERIFY_FOR>\");\n-```\n-```ballerina\n-http:Response response = request.buildUnsubscriptionVerificationResponse(\"<TOPIC_TO_VERIFY_FOR>\");\n-```\n- \n-Ballerina publishers can start up and publish directly to the Ballerina WebSub hub.\n-```ballerina\n-import ballerina/log;\n-import ballerina/http;\n-import ballerina/runtime;\n-import ballerina/websub;\n-\n-public function main() {\n-\n-    log:printInfo(\"Starting up the Ballerina Hub Service\");\n-    var result = websub:startHub(new http:Listener(9191));\n-    websub:Hub webSubHub = result is websub:Hub ? result : result.startedUpHub;\n-\n-    var registrationResponse = webSubHub.registerTopic(\"<TOPIC_URL>\");\n-    if (registrationResponse is error) {\n-        log:printError(\"Error occurred registering topic: \" + <string>registrationResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Topic registration successful!\");\n-    }\n-\n-    // Make the publisher wait until the subscriber subscribes at the hub.\n-    runtime:sleep(20000);\n-\n-    log:printInfo(\"Publishing update to internal Hub\");\n-    var publishResponse = webSubHub.publishUpdate(\"<TOPIC_URL>\", {\"action\": \"publish\", \"mode\": \"internal-hub\"});\n-    if (publishResponse is error) {\n-        log:printError(\"Error notifying hub: \" + <string>publishResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Update notification successful!\");\n-    }\n-\n-    // Make sure the service is running until the subscriber receives the update notification.\n-    runtime:sleep(5000);\n-}\n-```\n-\n-Ballerina publishers can also use the `websub:PublisherClient` to register topics at Ballerina WebSub hubs \n-and publish/notify updates to the remote hubs.\n-```ballerina\n-import ballerina/log;\n-import ballerina/runtime;\n-import ballerina/websub;\n-\n-websub:PublisherClient websubHubClientEP = new (\"https://localhost:9191/websub/hub\");\n-\n-public function main() {\n-\n-    var registrationResponse = websubHubClientEP->registerTopic(\"<TOPIC_URL>\");\n-    if (registrationResponse is error) {\n-        log:printError(\"Error occurred registering topic: \" + <string>registrationResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Topic registration successful!\");\n-    }\n-\n-    // Make the publisher wait until the subscriber subscribes at the hub.\n-    runtime:sleep(10000);\n-\n-    log:printInfo(\"Publishing update to remote Hub\");\n-    var publishResponse = websubHubClientEP->publishUpdate(\"<TOPIC_URL>\", { \"action\": \"publish\", \"mode\": \"remote-hub\" });\n-    if (publishResponse is error) {\n-        log:printError(\"Error notifying hub: \" + <string>publishResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Update notification successful!\");\n-    }\n-\n-}\n-```\n-\n-The `websub:SubscriptionClient` can be used by subscribers to send subscription and unsubscription requests explicitly.\n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-websub:SubscriptionClient websubHubClientEP = new(\"<HUB_URL>\");\n-\n-public function main() {\n-\n-    // Send subscription request for a subscriber service.\n-    websub:SubscriptionChangeRequest subscriptionRequest = {\n-        topic: \"<TOPIC_URL>\", \n-        callback: \"<CALLBACK_URL>\",\n-        secret: \"<SECRET>\"\n-    };\n-\n-    var subscriptionChangeResponse = websubHubClientEP->subscribe(subscriptionRequest);\n-    if (subscriptionChangeResponse is websub:SubscriptionChangeResponse) {\n-        log:printInfo(\"Subscription Request successful at Hub [\" + subscriptionChangeResponse.hub \n-                        + \"] for Topic [\" + subscriptionChangeResponse.topic + \"]\");\n-    } else {\n-        log:printError(\"Error occurred with Subscription Request\", err = subscriptionChangeResponse);\n-    }\n-\n-    // Send unsubscription request for the subscriber service.\n-    websub:SubscriptionChangeRequest unsubscriptionRequest = {\n-        topic: \"<TOPIC_URL>\",\n-        callback: \"<CALLBACK_URL>\"\n-    };\n-\n-    subscriptionChangeResponse = websubHubClientEP->unsubscribe(unsubscriptionRequest);\n-    if (subscriptionChangeResponse is websub:SubscriptionChangeResponse) {\n-        log:printInfo(\"Unsubscription Request successful at Hub [\" + subscriptionChangeResponse.hub\n-                + \"] for Topic [\" + subscriptionChangeResponse.topic + \"]\");\n-    } else {\n-        log:printError(\"Error occurred with Unsubscription Request\", err = subscriptionChangeResponse);\n-    }\n-}\n-```\n-\n-## Introducing Specific Subscriber Services (Webhook Callback Services)", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2ODIzNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408568236", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + host - The host name/IP of the  WebSub Subscriber Servic\n          \n          \n            \n            # + host - The hostname/IP of the  WebSub Subscriber Service", "author": "daneshk", "createdAt": "2020-04-15T04:06:02Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -188,10 +225,10 @@ function externRetrieveSubscriptionParameters(Listener subscriberListener) retur\n } external;\n \n \n-# Object representing the configuration for the WebSub Subscriber Service Endpoint.\n+# Represents the configuration for the WebSub Subscriber Service.\n #\n-# + host - The host name/IP of the endpoint\n-# + httpServiceSecureSocket - The SSL configurations for the service endpoint\n+# + host - The host name/IP of the  WebSub Subscriber Servic", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2ODQzOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408568438", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + httpServiceSecureSocket - The SSL configurations for the WebSub Subscriber Servic\n          \n          \n            \n            # + httpServiceSecureSocket - The SSL configurations for the WebSub Subscriber Service", "author": "daneshk", "createdAt": "2020-04-15T04:06:49Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -188,10 +225,10 @@ function externRetrieveSubscriptionParameters(Listener subscriberListener) retur\n } external;\n \n \n-# Object representing the configuration for the WebSub Subscriber Service Endpoint.\n+# Represents the configuration for the WebSub Subscriber Service.\n #\n-# + host - The host name/IP of the endpoint\n-# + httpServiceSecureSocket - The SSL configurations for the service endpoint\n+# + host - The host name/IP of the  WebSub Subscriber Servic\n+# + httpServiceSecureSocket - The SSL configurations for the WebSub Subscriber Servic", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NjY5NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408566694", "bodyText": "Send subscription request on service startup", "author": "chamil321", "createdAt": "2020-04-15T03:59:24Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -127,385 +104,26 @@ A hub client endpoint is also made available to publishers and subscribers to pe\n - Subscribers\n   - Subscribe/Unsubscribe to/from topics at a hub\n \n-## Samples", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2ODI4MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408568280", "bodyText": "Do NOT remove these theoretical concepts? Rename the section as I have proposed above add following sentence to L131\n\nWhen the subscribeOnStartUp is set to true in the Subscriber Service, it will result in a", "author": "chamil321", "createdAt": "2020-04-15T04:06:11Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -127,385 +104,26 @@ A hub client endpoint is also made available to publishers and subscribers to pe\n - Subscribers\n   - Subscribe/Unsubscribe to/from topics at a hub\n \n-## Samples\n-This sample demonstrates a Subscriber Service with `subscribeOnStartUp` set to true. This will result in a", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDMwNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408570306", "bodyText": "These concepts are needed. Please undo all of these and add a minimum code snippet introducing a heading. For example, the here L164 can be replaced with a topic as follows\n\nExplicit intent verification\nUnder that keep the statement in the L164\nThen keep only L179 to L189 as the code snippet which explains this further\n\nCan you do the same for the rest as well? Please add a proper heading as a minimum code. It doesn't matter these are repeated in BBEs. These are the basics. So the user should learn this before moving to the BBEs", "author": "chamil321", "createdAt": "2020-04-15T04:14:14Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -127,385 +104,26 @@ A hub client endpoint is also made available to publishers and subscribers to pe\n - Subscribers\n   - Subscribe/Unsubscribe to/from topics at a hub\n \n-## Samples\n-This sample demonstrates a Subscriber Service with `subscribeOnStartUp` set to true. This will result in a\n- subscription request being sent to the specified hub for the specified topic, with the specified lease seconds value \n- and the specified secret for authenticated content distribution.\n-Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription \n-requests would happen automatically, if the topic specified in the request matches that specified as an annotation or \n-that discovered for the annotated resource URL.\n- \n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Explicit intent verification can be done by introducing an `onIntentVerification` resource function.", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDUxNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408570516", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + request - A `http:Request` received for intent verification\n          \n          \n            \n            # + request - An `http:Request` received for intent verification\n          \n      \n    \n    \n  \n\nFix all the occurences", "author": "chamil321", "createdAt": "2020-04-15T04:15:07Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -130,7 +130,7 @@ public const TOPIC_ID_HEADER_AND_PAYLOAD = \"TOPIC_ID_HEADER_AND_PAYLOAD\";\n # + challenge - The challenge to be echoed to verify intent to subscribe/unsubscribe\n # + leaseSeconds - The lease seconds period for which a subscription will be active if intent verification\n #                  is being done for subscription\n-# + request - The HTTP request received for intent verification\n+# + request - A `http:Request` received for intent verification", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDg2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408570861", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - A`http:Response` for the hub verifying/denying intent to subscribe\n          \n          \n            \n                # + return - An`http:Response`, which to the hub verifying/denying intent to subscribe", "author": "chamil321", "createdAt": "2020-04-15T04:16:32Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -142,15 +142,15 @@ public type IntentVerificationRequest object {\n     # Builds the response for the request, verifying intention to subscribe, if the topic matches that expected.\n     #\n     # + expectedTopic - The topic for which subscription should be accepted\n-    # + return - `http:Response` The response to the hub verifying/denying intent to subscribe\n+    # + return - A`http:Response` for the hub verifying/denying intent to subscribe", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDkzMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408570933", "bodyText": "Fix other occurrences as well", "author": "chamil321", "createdAt": "2020-04-15T04:16:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDg2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTE4Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408571183", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `true` if the specified header key exists or else `false`\n          \n          \n            \n                # + return - `true` if the specified header key exists or else `false`", "author": "chamil321", "createdAt": "2020-04-15T04:17:57Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -261,17 +261,17 @@ public type Notification object {\n         return self.request.getQueryParams();\n     }\n \n-    # Retrieves the `Entity` associated with the content delivery request.\n+    # Retrieves the `mime:Entity` associated with the content delivery request.\n     #\n-    # + return - The `Entity` of the request. An `error` is returned, if entity construction fails\n+    # + return - The `mime:Entity` of the request or else an `error` if entity construction fails\n     public function getEntity() returns mime:Entity|error {\n         return self.request.getEntity();\n     }\n \n     # Returns whether the requested header key exists in the header map of the content delivery request.\n     #\n     # + headerName - The header name\n-    # + return - Returns true if the specified header key exists\n+    # + return - An `true` if the specified header key exists or else `false`", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTU2Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408571563", "bodyText": "Why did you remove this part?\n\nIdeally, the Notification.hasHeader() needs to be used to check the existence of a header initially.", "author": "chamil321", "createdAt": "2020-04-15T04:19:18Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -280,17 +280,15 @@ public type Notification object {\n     # these values is returned.\n     #\n     # + headerName - The header name\n-    # + return - The first header value for the specified header name. Panic if no header is found. Ideally, the\n-    #            `Notification.hasHeader()` needs to be used to check the existence of a header initially.\n+    # + return - The first header value for the specified header name or else Panics if no header is found.", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTYwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408571605", "bodyText": "Same as above", "author": "chamil321", "createdAt": "2020-04-15T04:19:31Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -280,17 +280,15 @@ public type Notification object {\n     # these values is returned.\n     #\n     # + headerName - The header name\n-    # + return - The first header value for the specified header name. Panic if no header is found. Ideally, the\n-    #            `Notification.hasHeader()` needs to be used to check the existence of a header initially.\n+    # + return - The first header value for the specified header name or else Panics if no header is found.\n     public function getHeader(string headerName) returns @tainted string {\n         return self.request.getHeader(headerName);\n     }\n \n     # Retrieves all the header values to which the specified header key maps to.\n     #\n     # + headerName - The header name\n-    # + return - The header values the specified header key maps to. Panic if no header is found. Ideally, the\n-    #            `Notification.hasHeader()` needs to be used to check the existence of a header initially.\n+    # + return - The header values for the specified header key maps to or else Panics if no header is found.", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTc1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408571755", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - The first header value for the specified header name or else Panics if no header is found.\n          \n          \n            \n                # + return - The first header value for the specified header name or else panic if no header is found.", "author": "chamil321", "createdAt": "2020-04-15T04:20:10Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -280,17 +280,15 @@ public type Notification object {\n     # these values is returned.\n     #\n     # + headerName - The header name\n-    # + return - The first header value for the specified header name. Panic if no header is found. Ideally, the\n-    #            `Notification.hasHeader()` needs to be used to check the existence of a header initially.\n+    # + return - The first header value for the specified header name or else Panics if no header is found.", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTgxOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408571818", "bodyText": "Check others as well", "author": "chamil321", "createdAt": "2020-04-15T04:20:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTc1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MjU0NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408572544", "bodyText": "Error can be returned as a result of getXXXPayload issue. You have removed that part and only talks about an error if the content type is not JSON.\nPlease fix it, others as well\nDo not change the meaning of the docs", "author": "chamil321", "createdAt": "2020-04-15T04:23:29Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -304,59 +302,58 @@ public type Notification object {\n \n     # Retrieves the type of the payload of the content delivery request (i.e: the `content-type` header value).\n     #\n-    # + return - Returns the `content-type` header value as a string\n+    # + return - The `content-type` header value as a `string`\n     public function getContentType() returns @tainted string {\n         return self.request.getContentType();\n     }\n \n     # Extracts `json` payload from the content delivery request.\n     #\n-    # + return - The `json` payload or `error` in case of errors. If the content type is not JSON, an `error` is returned.\n+    # + return - The `json` payload or else an `error` if the content type is not JSON", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3NTY3OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408575678", "bodyText": "Again you have removed very important information by trying to adhere to the guidelines? Please undo this. Check other places as well", "author": "chamil321", "createdAt": "2020-04-15T04:36:23Z", "path": "stdlib/websub/src/main/ballerina/src/websub/commons.bal", "diffHunk": "@@ -477,9 +477,7 @@ public type RemotePublishConfig record {|\n #               The publish URL is defined as {publicUrl}/{basePath}/{publishResourcePath} if `publicUrl` is\n #               specified, defaults to `http(s)://localhost:{port}/{basePath}/{publishResourcePath}` if not.\n # + hubConfiguration - The hub specific configuration\n-# + return - `Hub` The WebSub Hub object representing the newly started up hub, or `HubStartedUpError` indicating\n-#            that the hub is already started, and including the `websub:Hub` object representing the\n-#            already started up hub\n+# + return - A newly started WebSub Hub or else a `websub:HubStartedUpError` if the hub is already started", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3NzEwOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408577109", "bodyText": "Add this dropped information", "author": "chamil321", "createdAt": "2020-04-15T04:42:29Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -27,14 +27,12 @@ import ballerina/java;\n # + basePath - The base path of the hub service\n # + subscriptionResourcePath - The resource path for subscription\n # + publishResourcePath - The resource path for publishing and topic registration\n-# + topicRegistrationRequired - Whether a topic needs to be registered at the hub prior to publishing/subscribing\n-#                               to the topic\n+# + topicRegistrationRequired - The status for whether a topic needs to be registered at the hub prior to\n+#                               publishing/subscribing to the topic\n # + publicUrl - The URL for the hub to be included in content delivery requests, defaults to\n #               `http(s)://localhost:{port}/websub/hub` if unspecified\n # + hubListener - The `http:Listener` to which the hub service is attached\n-# + return - `Hub` The WebSub Hub object representing the newly started up hub, or `HubStartedUpError` indicating\n-#            that the hub is already started, and including the WebSub Hub object representing the\n-#            already started up hub\n+# + return - The newly started up hub or else `websub:HubStartedUpError` if the hub is already started", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3NzQwMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408577402", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error`if an error occurred registering the topic or esle `()`\n          \n          \n            \n            # + return - An `error` if an error occurred registering the topic or else `()`", "author": "chamil321", "createdAt": "2020-04-15T04:43:34Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -24,20 +24,26 @@ public type PublisherClient client object {\n     private string url;\n     private http:Client httpClient;\n \n-    # Initializer function for the client.\n-    #\n-    # + url    - The URL to publish/notify updates to\n-    # + config - The `http:ClientConfiguration` for the underlying client or `()`\n+# Initializes the `websub:PublisherClient`.\n+# ```ballerina\n+# websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+# ```\n+#\n+# + url    - The URL to publish/notify updates to\n+# + config - The `http:ClientConfiguration` for the underlying client or else `()`\n     public function __init(string url, http:ClientConfiguration? config = ()) {\n         self.url = url;\n         self.httpClient = new (self.url, config);\n     }\n \n-    # Registers a topic in a Ballerina WebSub Hub against which subscribers can subscribe and the publisher will\n-    # publish updates.\n-    #\n-    # + topic - The topic to register\n-    # + return - `error` if an error occurred registering the topic\n+# Registers a topic in a Ballerina WebSub Hub against which subscribers can subscribe and the publisher will\n+# publish updates.\n+# ```ballerina\n+# error? registerTopic = websubHubClientEP->registerTopic(\"http://websubpubtopic.com\");\n+# ```\n+#\n+# + topic - The topic to register\n+# + return - An `error`if an error occurred registering the topic or esle `()`", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3Nzk0NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408577944", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - A subscription details if the request was successful or else an `error` if an error\n          \n          \n            \n            # + return - The `SubscriptionChangeResponse` indicating subscription details if the request was successful or else an `error` if an error", "author": "chamil321", "createdAt": "2020-04-15T04:45:48Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -36,11 +36,14 @@ public type SubscriptionClient client object {\n         self.followRedirects = config?.followRedirects;\n     }\n \n-    # Sends a subscription request to a WebSub Hub.\n-    #\n-    # + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details\n-    # + return - `SubscriptionChangeResponse` indicating subscription details, if the request was successful else\n-    #            `error` if an error occurred with the subscription request\n+# Sends a subscription request to a WebSub Hub.\n+# ```ballerina\n+# websub:SubscriptionChangeResponse|error response = websubHubClientEP->subscribe(subscriptionRequest);\n+# ```\n+#\n+# + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details\n+# + return - A subscription details if the request was successful or else an `error` if an error", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3ODIwMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408578202", "bodyText": "Conceptually this change is incorrect. Please use the terminology subscription", "author": "chamil321", "createdAt": "2020-04-15T04:46:58Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -72,10 +77,10 @@ public type SubscriptionClient client object {\n \n # Function to build the subscription request to subscribe at the hub.\n #\n-# + mode - Whether the request is for subscription or unsubscription\n+# + mode - Whether the request is for registration or unregistration", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3OTI3Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408579276", "bodyText": "These are not service configs, but listener configs. Please correct other places as well\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Represents the configuration for the WebSub Subscriber Service.\n          \n          \n            \n            # Represents the configuration for the WebSub Subscriber Service Listener.", "author": "chamil321", "createdAt": "2020-04-15T04:51:17Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -188,10 +225,10 @@ function externRetrieveSubscriptionParameters(Listener subscriberListener) retur\n } external;\n \n \n-# Object representing the configuration for the WebSub Subscriber Service Endpoint.\n+# Represents the configuration for the WebSub Subscriber Service.", "originalCommit": "bc78e96980cdaaf4ea3767830cce8f1a990c6b33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMDk1MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408600951", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `true` if persistence is enabled or else `false` if not\n          \n          \n            \n            # + return - `true` if persistence is enabled or else `false` otherwise", "author": "praneesha", "createdAt": "2020-04-15T06:07:13Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_configuration.bal", "diffHunk": "@@ -49,16 +49,16 @@ function startHubService(http:Listener hubServiceListener) {\n     checkpanic hubServiceListener.__start();\n }\n \n-# Function to retrieve if persistence is enabled for the Hub.\n+# Retrieves if persistence is enabled for the Hub.\n #\n-# + return - True if persistence is enabled, false if not\n+# + return - An `true` if persistence is enabled or else `false` if not", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTA1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601055", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `true` if persistence is enabled or else `false` if not\n          \n          \n            \n            # + return - `true` if persistence is enabled or else `false` otherwise", "author": "praneesha", "createdAt": "2020-04-15T06:07:33Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_configuration.bal", "diffHunk": "@@ -49,16 +49,16 @@ function startHubService(http:Listener hubServiceListener) {\n     checkpanic hubServiceListener.__start();\n }\n \n-# Function to retrieve if persistence is enabled for the Hub.\n+# Retrieves if persistence is enabled for the Hub.\n #\n-# + return - True if persistence is enabled, false if not\n+# + return - An `true` if persistence is enabled or else `false` if not\n function isHubPersistenceEnabled() returns boolean {\n     return hubPersistenceEnabled;\n }\n \n-# Function to retrieve if topics need to be registered at the Hub prior to publishing/subscribing.\n+# Retrieves if topics need to be registered at the Hub prior to publishing/subscribing.\n #\n-# + return - True if persistence is enabled, false if not\n+# + return - An `true` if persistence is enabled or else `false` if not", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTE2Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601163", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `error` if an error occurred while adding the subscription, `()` otherwise\n          \n          \n            \n                # + return - An `error` if an error occurred while adding the subscription or else `()` otherwise\n          \n      \n    \n    \n  \n\nNeed to specify the error type.", "author": "praneesha", "createdAt": "2020-04-15T06:07:53Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_persistence.bal", "diffHunk": "@@ -17,38 +17,38 @@\n # Represents the hub persistence configuration and functions.\n public type HubPersistenceStore abstract object {\n \n-    # Function to add or update subscription details.\n+    # Adds or updates subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to add or update\n-    # + return - `error` if an error occurred while adding the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the subscription, `()` otherwise", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTI2NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601264", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `error` if an error occurred while removing the subscription, `()` otherwise\n          \n          \n            \n                # + return - An `error` if an error occurred while removing the subscription or else `()` otherwise\n          \n      \n    \n    \n  \n\nNeed to specify the error type.", "author": "praneesha", "createdAt": "2020-04-15T06:08:14Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_persistence.bal", "diffHunk": "@@ -17,38 +17,38 @@\n # Represents the hub persistence configuration and functions.\n public type HubPersistenceStore abstract object {\n \n-    # Function to add or update subscription details.\n+    # Adds or updates subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to add or update\n-    # + return - `error` if an error occurred while adding the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the subscription, `()` otherwise\n     public function addSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n-    # Function to remove subscription details.\n+    # Removes subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to remove\n-    # + return - `error` if an error occurred while removing the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the subscription, `()` otherwise", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTQxMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601413", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `error` if an error occurred while adding the topic, `()` otherwise\n          \n          \n            \n                # + return - An `error` if an error occurred while adding the topic or else `()` otherwise\n          \n      \n    \n    \n  \n\nNeed to specify the error type.", "author": "praneesha", "createdAt": "2020-04-15T06:08:41Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_persistence.bal", "diffHunk": "@@ -17,38 +17,38 @@\n # Represents the hub persistence configuration and functions.\n public type HubPersistenceStore abstract object {\n \n-    # Function to add or update subscription details.\n+    # Adds or updates subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to add or update\n-    # + return - `error` if an error occurred while adding the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the subscription, `()` otherwise\n     public function addSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n-    # Function to remove subscription details.\n+    # Removes subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to remove\n-    # + return - `error` if an error occurred while removing the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the subscription, `()` otherwise\n     public function removeSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n     # Function to add a topic.\n     #\n     # + topic - The topic to add\n-    # + return - `error` if an error occurred while adding the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the topic, `()` otherwise", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTUxMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601511", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `error` if an error occurred while removing the topic, `()` otherwise\n          \n          \n            \n                # + return - An `error` if an error occurred while removing the topic or else `()` otherwise\n          \n      \n    \n    \n  \n\nNeed to specify the error type.", "author": "praneesha", "createdAt": "2020-04-15T06:08:56Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_persistence.bal", "diffHunk": "@@ -17,38 +17,38 @@\n # Represents the hub persistence configuration and functions.\n public type HubPersistenceStore abstract object {\n \n-    # Function to add or update subscription details.\n+    # Adds or updates subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to add or update\n-    # + return - `error` if an error occurred while adding the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the subscription, `()` otherwise\n     public function addSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n-    # Function to remove subscription details.\n+    # Removes subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to remove\n-    # + return - `error` if an error occurred while removing the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the subscription, `()` otherwise\n     public function removeSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n     # Function to add a topic.\n     #\n     # + topic - The topic to add\n-    # + return - `error` if an error occurred while adding the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the topic, `()` otherwise\n     public function addTopic(string topic) returns error?;\n \n     # Function to remove a topic.\n     #\n     # + topic - The topic to remove\n-    # + return - `error` if an error occurred while removing the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the topic, `()` otherwise", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTY2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601667", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `error` if an error occurred while retrieving the subscriptions, an array of subscriber details\n          \n          \n            \n                # + return - An `error` if an error occurred while retrieving the subscriptions, an array of subscriber details\n          \n      \n    \n    \n  \n\nWrong return statement format.", "author": "praneesha", "createdAt": "2020-04-15T06:09:22Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_persistence.bal", "diffHunk": "@@ -17,38 +17,38 @@\n # Represents the hub persistence configuration and functions.\n public type HubPersistenceStore abstract object {\n \n-    # Function to add or update subscription details.\n+    # Adds or updates subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to add or update\n-    # + return - `error` if an error occurred while adding the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the subscription, `()` otherwise\n     public function addSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n-    # Function to remove subscription details.\n+    # Removes subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to remove\n-    # + return - `error` if an error occurred while removing the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the subscription, `()` otherwise\n     public function removeSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n     # Function to add a topic.\n     #\n     # + topic - The topic to add\n-    # + return - `error` if an error occurred while adding the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the topic, `()` otherwise\n     public function addTopic(string topic) returns error?;\n \n     # Function to remove a topic.\n     #\n     # + topic - The topic to remove\n-    # + return - `error` if an error occurred while removing the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the topic, `()` otherwise\n     public function removeTopic(string topic) returns error?;\n \n     # Function to retrieve subscription details of all subscribers.\n     #\n-    # + return - `error` if an error occurred while retrieving the subscriptions, an array of subscriber details\n+    # + return - An `error` if an error occurred while retrieving the subscriptions, an array of subscriber details", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTcwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601705", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + return - An `error` if an error occurred while retrieving the topics, an array of topics otherwise\n          \n          \n            \n                # + return - An `error` if an error occurred while retrieving the topics, an array of topics otherwise\n          \n      \n    \n    \n  \n\nWrong return statement format.", "author": "praneesha", "createdAt": "2020-04-15T06:09:28Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_persistence.bal", "diffHunk": "@@ -17,38 +17,38 @@\n # Represents the hub persistence configuration and functions.\n public type HubPersistenceStore abstract object {\n \n-    # Function to add or update subscription details.\n+    # Adds or updates subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to add or update\n-    # + return - `error` if an error occurred while adding the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the subscription, `()` otherwise\n     public function addSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n-    # Function to remove subscription details.\n+    # Removes subscription details.\n     #\n     # + subscriptionDetails - The details of the subscription to remove\n-    # + return - `error` if an error occurred while removing the subscription, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the subscription, `()` otherwise\n     public function removeSubscription(SubscriptionDetails subscriptionDetails) returns error?;\n \n     # Function to add a topic.\n     #\n     # + topic - The topic to add\n-    # + return - `error` if an error occurred while adding the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while adding the topic, `()` otherwise\n     public function addTopic(string topic) returns error?;\n \n     # Function to remove a topic.\n     #\n     # + topic - The topic to remove\n-    # + return - `error` if an error occurred while removing the topic, `()` otherwise\n+    # + return - An `error` if an error occurred while removing the topic, `()` otherwise\n     public function removeTopic(string topic) returns error?;\n \n     # Function to retrieve subscription details of all subscribers.\n     #\n-    # + return - `error` if an error occurred while retrieving the subscriptions, an array of subscriber details\n+    # + return - An `error` if an error occurred while retrieving the subscriptions, an array of subscriber details\n     #               otherwise\n     public function retrieveAllSubscribers() returns SubscriptionDetails[]|error;\n \n     # Function to retrieve all registered topics.\n     #\n-    # + return - `error` if an error occurred while retrieving the topics, an array of topics otherwise\n+    # + return - An `error` if an error occurred while retrieving the topics, an array of topics otherwise", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTgzNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601835", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Validates a subscription/unsubscription request, by validating the mode, topic and callback specified.\n          \n          \n            \n            # Validates a subscription/unsubscription request by validating the specified mode, topic, and callback.", "author": "praneesha", "createdAt": "2020-04-15T06:09:49Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -269,12 +269,12 @@ function getHubService() returns service {\n }\n \n \n-# Function to validate a subscription/unsubscription request, by validating the mode, topic and callback specified.\n+# Validates a subscription/unsubscription request, by validating the mode, topic and callback specified.", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTk1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408601955", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if validation failed for the subscription request\n          \n          \n            \n            # + return - An `error` if validation failed for the subscription request\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:10:14Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -269,12 +269,12 @@ function getHubService() returns service {\n }\n \n \n-# Function to validate a subscription/unsubscription request, by validating the mode, topic and callback specified.\n+# Validates a subscription/unsubscription request, by validating the mode, topic and callback specified.\n #\n # + mode - Mode specified in the subscription change request parameters\n # + topic - Topic specified in the subscription change request parameters\n # + callback - Callback specified in the subscription change request parameters\n-# + return - `error` if validation failed for the subscription request\n+# + return - An `error` if validation failed for the subscription request", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjEyOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602129", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred while persisting the change or else `()`\n          \n          \n            \n            # + return - An `error` if an error occurred while persisting the change or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:10:44Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -385,11 +385,11 @@ function verifyIntentAndAddSubscription(string callback, string topic, map<strin\n     }\n }\n \n-# Function to add/remove the persisted details of topics registered.\n+# Adds/Removes the persisted details to/from the topics registered.\n #\n # + mode - Whether the change is for addition/removal\n # + topic - The topic for which registration is changing\n-# + return - `error` if an error occurred while persisting the change, `()` otherwise\n+# + return - An `error` if an error occurred while persisting the change or else `()`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODcwNjUyNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408706526", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T09:29:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjEyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg5OTI3Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408899273", "bodyText": "+1", "author": "praneesha", "createdAt": "2020-04-15T14:45:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjE3Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602176", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred while persisting the change or else `()`\n          \n          \n            \n            # + return - An `error` if an error occurred while persisting the change or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:10:56Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -401,11 +401,11 @@ function persistTopicRegistrationChange(string mode, string topic) returns error\n     }\n }\n \n-# Function to add/change/remove the persisted subscription details.\n+# Adds/Changes/Removes the persisted subscription details.\n #\n-# + mode - Whether the subscription change is for unsubscription/unsubscription\n+# + mode - Whether the subscription change is for subscription/unsubscription\n # + subscriptionDetails - The details of the subscription changing\n-# + return - `error` if an error occurred while persisting the change, `()` otherwise\n+# + return - An `error` if an error occurred while persisting the change or else `()`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNTY3NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408905674", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:53:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjE3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjI5Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602297", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Distributes content to a subscriber on the notification from publishers.\n          \n          \n            \n            # Distributes content to a subscriber on the notification from the publishers.", "author": "praneesha", "createdAt": "2020-04-15T06:11:20Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -475,7 +475,7 @@ function fetchTopicUpdate(string topic) returns http:Response|error {\n     return fetchResponse;\n }\n \n-# Function to distribute content to a subscriber on notification from publishers.\n+# Distributes content to a subscriber on the notification from publishers.", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjM1Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602353", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Retrieves the cached subscriberCallbackClient for a given callback.\n          \n          \n            \n            # Retrieves the cached `subscriberCallbackClient` for a given callback.", "author": "praneesha", "createdAt": "2020-04-15T06:11:31Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -550,10 +550,10 @@ function distributeContent(string callback, SubscriptionDetails subscriptionDeta\n     return;\n }\n \n-# Function to retrieve cached subscriberCallbackClient for a given callback.\n+# Retrieves the cached subscriberCallbackClient for a given callback.", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjQyNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602425", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - The `http:Client` for the given callback from cache or new `http:Client`\n          \n          \n            \n            # + return - The `http:Client` for the given callback from the cache or a new `http:Client`", "author": "praneesha", "createdAt": "2020-04-15T06:11:46Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -550,10 +550,10 @@ function distributeContent(string callback, SubscriptionDetails subscriptionDeta\n     return;\n }\n \n-# Function to retrieve cached subscriberCallbackClient for a given callback.\n+# Retrieves the cached subscriberCallbackClient for a given callback.\n #\n # + callback - The callback URL registered for the subscriber\n-# + return - `http:Client` indicating the client for a given callback from cache or new client\n+# + return - The `http:Client` for the given callback from cache or new `http:Client`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjYxMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602612", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + pendingRequest - The pending subscription change request to check against\n          \n          \n            \n                # + pendingRequest - The pending subscription change request to be checked\n          \n      \n    \n    \n  \n\nagainst what?", "author": "praneesha", "createdAt": "2020-04-15T06:12:25Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -601,11 +601,10 @@ type PendingSubscriptionChangeRequest object {\n         self.callback = callback;\n     }\n \n-    # Function to check if two pending subscription change requests are equal.\n+    # Checks if two pending subscription change requests are equal.\n     #\n     # + pendingRequest - The pending subscription change request to check against", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODcwOTg0Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408709842", "bodyText": "pending subscription or unsubscription", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T09:35:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjYxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjgxMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602810", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Constructs an array of groups from the comma separed group string passed\n          \n          \n            \n            # Constructs an array of groups from the passed comma-separated group string", "author": "praneesha", "createdAt": "2020-04-15T06:12:58Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -625,10 +624,10 @@ function buildWebSubLinkHeader(string hub, string topic) returns (string) {\n     return linkHeader;\n }\n \n-# Construct an array of groups from the comma separed group string passed\n+# Constructs an array of groups from the comma separed group string passed", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMjg0Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408602847", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + groupString - Comma separated string of groups\n          \n          \n            \n            # + groupString - Comma-separated string of groups", "author": "praneesha", "createdAt": "2020-04-15T06:13:06Z", "path": "stdlib/websub/src/main/ballerina/src/websub/hub_service.bal", "diffHunk": "@@ -625,10 +624,10 @@ function buildWebSubLinkHeader(string hub, string topic) returns (string) {\n     return linkHeader;\n }\n \n-# Construct an array of groups from the comma separed group string passed\n+# Constructs an array of groups from the comma separed group string passed\n #\n # + groupString - Comma separated string of groups", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzA0Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603043", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + publicUrl - The URL for the hub to be included in content delivery requests, defaults to\n          \n          \n            \n            # + publicUrl - The URL for the hub to be included in content delivery requests. The defaults value is", "author": "praneesha", "createdAt": "2020-04-15T06:13:39Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -27,14 +27,12 @@ import ballerina/java;\n # + basePath - The base path of the hub service\n # + subscriptionResourcePath - The resource path for subscription\n # + publishResourcePath - The resource path for publishing and topic registration\n-# + topicRegistrationRequired - Whether a topic needs to be registered at the hub prior to publishing/subscribing\n-#                               to the topic\n+# + topicRegistrationRequired - The status for whether a topic needs to be registered at the hub prior to\n+#                               publishing/subscribing to the topic\n # + publicUrl - The URL for the hub to be included in content delivery requests, defaults to", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzE5NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603194", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - The newly started up hub or else `websub:HubStartedUpError` if the hub is already started\n          \n          \n            \n            # + return - The newly-started hub or else a `websub:HubStartedUpError` if the hub is already started", "author": "praneesha", "createdAt": "2020-04-15T06:14:03Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -27,14 +27,12 @@ import ballerina/java;\n # + basePath - The base path of the hub service\n # + subscriptionResourcePath - The resource path for subscription\n # + publishResourcePath - The resource path for publishing and topic registration\n-# + topicRegistrationRequired - Whether a topic needs to be registered at the hub prior to publishing/subscribing\n-#                               to the topic\n+# + topicRegistrationRequired - The status for whether a topic needs to be registered at the hub prior to\n+#                               publishing/subscribing to the topic\n # + publicUrl - The URL for the hub to be included in content delivery requests, defaults to\n #               `http(s)://localhost:{port}/websub/hub` if unspecified\n # + hubListener - The `http:Listener` to which the hub service is attached\n-# + return - `Hub` The WebSub Hub object representing the newly started up hub, or `HubStartedUpError` indicating\n-#            that the hub is already started, and including the WebSub Hub object representing the\n-#            already started up hub\n+# + return - The newly started up hub or else `websub:HubStartedUpError` if the hub is already started", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzI4OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603288", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Stops the Ballerina Hub, if started.\n          \n          \n            \n            # Stops the Ballerina Hub if started.", "author": "praneesha", "createdAt": "2020-04-15T06:14:19Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -50,10 +48,10 @@ function externStartUpHubService(handle basePath, handle subscriptionResourcePat\n     class: \"org.ballerinalang.net.websub.nativeimpl.HubNativeOperationHandler\"\n } external;\n \n-# Stop the Ballerina Hub, if started.\n+# Stops the Ballerina Hub, if started.", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzQxNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603415", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - `()` if the Ballerina Hub had been started up and was stopped now or else an `error` if not\n          \n          \n            \n            # + return - `()` if the Ballerina Hub had been started and was stopped now or else an `error` otherwise\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:14:45Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -50,10 +48,10 @@ function externStartUpHubService(handle basePath, handle subscriptionResourcePat\n     class: \"org.ballerinalang.net.websub.nativeimpl.HubNativeOperationHandler\"\n } external;\n \n-# Stop the Ballerina Hub, if started.\n+# Stops the Ballerina Hub, if started.\n #\n # + hub - The `websub:Hub` object returned when starting the hub\n-# + return - `()` if the Ballerina Hub had been started up and was stopped now, `error` if not\n+# + return - `()` if the Ballerina Hub had been started up and was stopped now or else an `error` if not", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzUxOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603518", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + content - The content to send to subscribers, with the payload and content-type specified\n          \n          \n            \n            # + content - The content to send to subscribers with the specified payload and content-type", "author": "praneesha", "createdAt": "2020-04-15T06:15:05Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -69,7 +67,7 @@ function addSubscription(SubscriptionDetails subscriptionDetails) = @java:Method\n #\n # + topic - The topic for which the update should happen\n # + content - The content to send to subscribers, with the payload and content-type specified", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzU5Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603597", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred during publishing or esle `()`\n          \n          \n            \n            # + return - An `error` if an error occurred during publishing or esle `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:15:20Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -69,7 +67,7 @@ function addSubscription(SubscriptionDetails subscriptionDetails) = @java:Method\n #\n # + topic - The topic for which the update should happen\n # + content - The content to send to subscribers, with the payload and content-type specified\n-# + return - `error` if an error occurred during publishing\n+# + return - An `error` if an error occurred during publishing or esle `()`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNTUyMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408905521", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:53:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzU5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzY5OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603698", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred with registration\n          \n          \n            \n            # + return - An `error` if an error occurred during the registration\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:15:37Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -95,7 +93,7 @@ function externRemoveNativeSubscription(handle topic, handle callback) = @java:M\n # Registers a topic in the Ballerina Hub.\n #\n # + topic - The topic to register\n-# + return - `error` if an error occurred with registration\n+# + return - An `error` if an error occurred with registration", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzc5OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603799", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred with unregistration\n          \n          \n            \n            # + return - An `error` if an error occurred during the unregistration\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:15:56Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -108,7 +106,7 @@ function externRegisterTopicAtNativeHub(handle topic) returns error? = @java:Met\n # Unregisters a topic in the Ballerina Hub.\n #\n # + topic - The topic to unregister\n-# + return - `error` if an error occurred with unregistration\n+# + return - An `error` if an error occurred with unregistration", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzg3MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603870", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `true` if the topic has been registered by a publisher or else `false` if not\n          \n          \n            \n            # + return - `true` if the topic has been registered by a publisher or else `false`otherwise", "author": "praneesha", "createdAt": "2020-04-15T06:16:10Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -121,7 +119,7 @@ function externUnregisterTopicAtNativeHub(handle topic) returns error? = @java:M\n # Retrieves whether a topic is registered with the Ballerina Hub.\n #\n # + topic - The topic to check\n-# + return - `boolean` True if the topic has been registered by a publisher, false if not\n+# + return - An `true` if the topic has been registered by a publisher or else `false` if not", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzk1Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603957", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + content - The content to send to subscribers, with the payload and content-type specified\n          \n          \n            \n            # + content - The content to send to subscribers with the specified payload and content-type", "author": "praneesha", "createdAt": "2020-04-15T06:16:30Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -139,7 +137,7 @@ function externIsTopicRegistered(handle topic) returns boolean = @java:Method {\n # + publishUrl - The publisher URL of the Ballerina WebSub Hub as included in the `websub:Hub` object\n # + topic - The topic for which the update should happen\n # + content - The content to send to subscribers, with the payload and content-type specified", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzk5MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408603990", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred during publishing\n          \n          \n            \n            # + return - An `error` if an error occurred during publishing\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:16:36Z", "path": "stdlib/websub/src/main/ballerina/src/websub/natives.bal", "diffHunk": "@@ -139,7 +137,7 @@ function externIsTopicRegistered(handle topic) returns boolean = @java:Method {\n # + publishUrl - The publisher URL of the Ballerina WebSub Hub as included in the `websub:Hub` object\n # + topic - The topic for which the update should happen\n # + content - The content to send to subscribers, with the payload and content-type specified\n-# + return - `error` if an error occurred during publishing\n+# + return - An `error` if an error occurred during publishing", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNTg1Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408905856", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:53:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMzk5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDA3Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604077", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + url    - The URL to publish/notify updates to\n          \n          \n            \n            # + url    - The URL to publish/notify updates", "author": "praneesha", "createdAt": "2020-04-15T06:16:51Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -24,20 +24,26 @@ public type PublisherClient client object {\n     private string url;\n     private http:Client httpClient;\n \n-    # Initializer function for the client.\n-    #\n-    # + url    - The URL to publish/notify updates to\n-    # + config - The `http:ClientConfiguration` for the underlying client or `()`\n+# Initializes the `websub:PublisherClient`.\n+# ```ballerina\n+# websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+# ```\n+#\n+# + url    - The URL to publish/notify updates to", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDE1MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604151", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` if an error occurred registering the topic or esle `()`\n          \n          \n            \n            # + return - An `error` if an error occurred registering the topic or esle `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:17:08Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -24,20 +24,26 @@ public type PublisherClient client object {\n     private string url;\n     private http:Client httpClient;\n \n-    # Initializer function for the client.\n-    #\n-    # + url    - The URL to publish/notify updates to\n-    # + config - The `http:ClientConfiguration` for the underlying client or `()`\n+# Initializes the `websub:PublisherClient`.\n+# ```ballerina\n+# websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+# ```\n+#\n+# + url    - The URL to publish/notify updates to\n+# + config - The `http:ClientConfiguration` for the underlying client or else `()`\n     public function __init(string url, http:ClientConfiguration? config = ()) {\n         self.url = url;\n         self.httpClient = new (self.url, config);\n     }\n \n-    # Registers a topic in a Ballerina WebSub Hub against which subscribers can subscribe and the publisher will\n-    # publish updates.\n-    #\n-    # + topic - The topic to register\n-    # + return - `error` if an error occurred registering the topic\n+# Registers a topic in a Ballerina WebSub Hub against which subscribers can subscribe and the publisher will\n+# publish updates.\n+# ```ballerina\n+# error? registerTopic = websubHubClientEP->registerTopic(\"http://websubpubtopic.com\");\n+# ```\n+#\n+# + topic - The topic to register\n+# + return - An `error` if an error occurred registering the topic or esle `()`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNDY5Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408904696", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:52:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDE1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDIxMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604210", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return -  An `error`if an error occurred unregistering the topic or else `()`\n          \n          \n            \n            # + return -  An `error`if an error occurred unregistering the topic or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:17:18Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -57,10 +63,13 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Unregisters a topic in a Ballerina WebSub Hub.\n-    #\n-    # + topic - The topic to unregister\n-    # + return - `error` if an error occurred unregistering the topic\n+# Unregisters a topic in a Ballerina WebSub Hub.\n+# ```ballerina\n+# error? unregisterTopic = websubHubClientEP->unregisterTopic(\"http://websubpubtopic.com\");\n+#  ```\n+#\n+# + topic - The topic to unregister\n+# + return -  An `error`if an error occurred unregistering the topic or else `()`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjAwMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906003", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:53:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDIxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDI5Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604296", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + contentType - The type of the update content, to set as the `ContentType` header\n          \n          \n            \n            # + contentType - The type of the update content to set as the `ContentType` header", "author": "praneesha", "createdAt": "2020-04-15T06:17:29Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -80,13 +89,17 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Publishes an update to a remote Ballerina WebSub Hub.\n-    #\n-    # + topic - The topic for which the update occurred\n-    # + payload - The update payload\n-    # + contentType - The type of the update content, to set as the `ContentType` header\n-    # + headers - The headers, if any, that need to be set\n-    # + return - `error` if an error occurred with the update\n+# Publishes an update to a remote Ballerina WebSub Hub.\n+# ```ballerina\n+# error? publishUpdate = websubHubClientEP->publishUpdate(\"http://websubpubtopic.com\",{\"action\": \"publish\",\n+#                                                          \"mode\": \"remote-hub\"});\n+#  ```\n+#\n+# + topic - The topic for which the update occurred\n+# + payload - The update payload\n+# + contentType - The type of the update content, to set as the `ContentType` header", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDQwMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604401", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + headers - The headers, if any, that need to be set\n          \n          \n            \n            # + headers - The headers that need to be set (if any)", "author": "praneesha", "createdAt": "2020-04-15T06:17:45Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -80,13 +89,17 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Publishes an update to a remote Ballerina WebSub Hub.\n-    #\n-    # + topic - The topic for which the update occurred\n-    # + payload - The update payload\n-    # + contentType - The type of the update content, to set as the `ContentType` header\n-    # + headers - The headers, if any, that need to be set\n-    # + return - `error` if an error occurred with the update\n+# Publishes an update to a remote Ballerina WebSub Hub.\n+# ```ballerina\n+# error? publishUpdate = websubHubClientEP->publishUpdate(\"http://websubpubtopic.com\",{\"action\": \"publish\",\n+#                                                          \"mode\": \"remote-hub\"});\n+#  ```\n+#\n+# + topic - The topic for which the update occurred\n+# + payload - The update payload\n+# + contentType - The type of the update content, to set as the `ContentType` header\n+# + headers - The headers, if any, that need to be set", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDQyOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604428", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return -  An `error`if an error occurred with the update or else `()`\n          \n          \n            \n            # + return -  An `error`if an error occurred with the update or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:17:51Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -80,13 +89,17 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Publishes an update to a remote Ballerina WebSub Hub.\n-    #\n-    # + topic - The topic for which the update occurred\n-    # + payload - The update payload\n-    # + contentType - The type of the update content, to set as the `ContentType` header\n-    # + headers - The headers, if any, that need to be set\n-    # + return - `error` if an error occurred with the update\n+# Publishes an update to a remote Ballerina WebSub Hub.\n+# ```ballerina\n+# error? publishUpdate = websubHubClientEP->publishUpdate(\"http://websubpubtopic.com\",{\"action\": \"publish\",\n+#                                                          \"mode\": \"remote-hub\"});\n+#  ```\n+#\n+# + topic - The topic for which the update occurred\n+# + payload - The update payload\n+# + contentType - The type of the update content, to set as the `ContentType` header\n+# + headers - The headers, if any, that need to be set\n+# + return -  An `error`if an error occurred with the update or else `()`", "originalCommit": "676107955e511418a752577bc25be61ce5d014ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNDk2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408904961", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:52:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDQyOA=="}], "type": "inlineReview"}, {"oid": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/004c8279966f9392242b7800b1c7d53f2dcb2e47", "message": "Fix comments\n\nFix reviewed comments", "committedDate": "2020-04-15T06:19:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDgyOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604829", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to\n          \n          \n            \n            # Notifies a remote WebSub Hub from which an update is available to fetch for hubs that require publishing to", "author": "praneesha", "createdAt": "2020-04-15T06:18:56Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -118,12 +131,15 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to\n-    # happen as such.\n-    #\n-    # + topic - The topic for which the update occurred\n-    # + headers - The headers, if any, that need to be set\n-    # + return - `error` if an error occurred with the notification\n+# Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to", "originalCommit": "c856017b5ad0e1f396167d34de340a8686051f89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDkyNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604924", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + headers - The headers, if any, that need to be set\n          \n          \n            \n            # + headers - The headers that need to be set (if any)", "author": "praneesha", "createdAt": "2020-04-15T06:19:09Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -118,12 +131,15 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to\n-    # happen as such.\n-    #\n-    # + topic - The topic for which the update occurred\n-    # + headers - The headers, if any, that need to be set\n-    # + return - `error` if an error occurred with the notification\n+# Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to\n+# happen as such.\n+# ```ballerina\n+#  error? notifyUpdate = websubHubClientEP->notifyUpdate(\"http://websubpubtopic.com\");\n+#   ```\n+#\n+# + topic - The topic for which the update occurred\n+# + headers - The headers, if any, that need to be set", "originalCommit": "c856017b5ad0e1f396167d34de340a8686051f89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNDk1Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408604957", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return -  An `error`if an error occurred with the notification or else `()`\n          \n          \n            \n            # + return -  An `error`if an error occurred with the notification or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:19:15Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -118,12 +131,15 @@ public type PublisherClient client object {\n         }\n     }\n \n-    # Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to\n-    # happen as such.\n-    #\n-    # + topic - The topic for which the update occurred\n-    # + headers - The headers, if any, that need to be set\n-    # + return - `error` if an error occurred with the notification\n+# Notifies a remote WebSub Hub that an update is available to fetch, for hubs that require publishing to\n+# happen as such.\n+# ```ballerina\n+#  error? notifyUpdate = websubHubClientEP->notifyUpdate(\"http://websubpubtopic.com\");\n+#   ```\n+#\n+# + topic - The topic for which the update occurred\n+# + headers - The headers, if any, that need to be set\n+# + return -  An `error`if an error occurred with the notification or else `()`", "originalCommit": "c856017b5ad0e1f396167d34de340a8686051f89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjIwNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606206", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `http:Request` to send to the hub to register/unregister\n          \n          \n            \n            # + return - An `http:Request` to be sent to the hub to register/unregister", "author": "praneesha", "createdAt": "2020-04-15T06:22:40Z", "path": "stdlib/websub/src/main/ballerina/src/websub/publisher_client.bal", "diffHunk": "@@ -156,7 +172,7 @@ public type PublisherClient client object {\n #\n # + mode - Whether the request is for registration or unregistration\n # + topic - The topic to register/unregister\n-# + return - `http:Request` The Request to send to the hub to register/unregister\n+# + return - An `http:Request` to send to the hub to register/unregister", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjMzOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606338", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + url    - The URL to change subscription at\n          \n          \n            \n                # + url    - The URL at which the subscription should be changed", "author": "praneesha", "createdAt": "2020-04-15T06:23:01Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -26,7 +26,7 @@ public type SubscriptionClient client object {\n     private http:Client httpClient;\n     private http:FollowRedirects? followRedirects = ();\n \n-    # Initializer function for the client.\n+    # Initializes the `websub:SubscriptionClient`.\n     #\n     # + url    - The URL to change subscription at", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjQyMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606423", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details\n          \n          \n            \n            # + subscriptionRequest - The `SubscriptionChangeRequest` containing the subscription details", "author": "praneesha", "createdAt": "2020-04-15T06:23:18Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -36,11 +36,14 @@ public type SubscriptionClient client object {\n         self.followRedirects = config?.followRedirects;\n     }\n \n-    # Sends a subscription request to a WebSub Hub.\n-    #\n-    # + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details\n-    # + return - `SubscriptionChangeResponse` indicating subscription details, if the request was successful else\n-    #            `error` if an error occurred with the subscription request\n+# Sends a subscription request to a WebSub Hub.\n+# ```ballerina\n+# websub:SubscriptionChangeResponse|error response = websubHubClientEP->subscribe(subscriptionRequest);\n+# ```\n+#\n+# + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjQ5NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606494", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #           or else an `error` if an error occurred with the subscription request\n          \n          \n            \n            #           or else an `error` if an error occurred with the subscription request\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:23:31Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -36,11 +36,14 @@ public type SubscriptionClient client object {\n         self.followRedirects = config?.followRedirects;\n     }\n \n-    # Sends a subscription request to a WebSub Hub.\n-    #\n-    # + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details\n-    # + return - `SubscriptionChangeResponse` indicating subscription details, if the request was successful else\n-    #            `error` if an error occurred with the subscription request\n+# Sends a subscription request to a WebSub Hub.\n+# ```ballerina\n+# websub:SubscriptionChangeResponse|error response = websubHubClientEP->subscribe(subscriptionRequest);\n+# ```\n+#\n+# + subscriptionRequest - The `SubscriptionChangeRequest` containing subscription details\n+# + return - The `SubscriptionChangeResponse` indicating subscription details if the request was successful\n+#           or else an `error` if an error occurred with the subscription request", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNzU4Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408907587", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:55:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjQ5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjU5MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606591", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #            with the unsubscription request\n          \n          \n            \n            #            with the unsubscription request\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:23:46Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -52,11 +55,13 @@ public type SubscriptionClient client object {\n                                   redirectCount);\n     }\n \n-    # Sends an unsubscription request to a WebSub Hub.\n-    #\n-    # + unsubscriptionRequest - The `SubscriptionChangeRequest` containing unsubscription details\n-    # + return - `SubscriptionChangeResponse` indicating unsubscription details, if the request was successful else\n-    #            `error` if an error occurred with the unsubscription request\n+# Sends an unsubscription request to a WebSub Hub.\n+# ```ballerina\n+# websub:SubscriptionChangeResponse|websub:error response = websubHubClientEP->unsubscribe(subscriptionRequest);\n+# ```\n+# + unsubscriptionRequest - The `SubscriptionChangeRequest` containing unsubscription details\n+# + return - An unsubscription details if the request was successful or else an `error` if an error occurred\n+#            with the unsubscription request", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjE3OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906179", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:53:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjU5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjY3NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606674", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + mode - Whether the request is for subscribe or unsubscribe\n          \n          \n            \n            # + mode - Whether the request is to subscribe or unsubscribe", "author": "praneesha", "createdAt": "2020-04-15T06:23:57Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -72,10 +77,10 @@ public type SubscriptionClient client object {\n \n # Function to build the subscription request to subscribe at the hub.\n #\n-# + mode - Whether the request is for subscription or unsubscription\n+# + mode - Whether the request is for subscribe or unsubscribe", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjc4MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606780", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + subscriptionChangeRequest - The SubscriptionChangeRequest specifying the topic to subscribe to and the\n          \n          \n            \n            # + subscriptionChangeRequest - The SubscriptionChangeRequest specifying the topic to subscribe and the", "author": "praneesha", "createdAt": "2020-04-15T06:24:09Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -72,10 +77,10 @@ public type SubscriptionClient client object {\n \n # Function to build the subscription request to subscribe at the hub.\n #\n-# + mode - Whether the request is for subscription or unsubscription\n+# + mode - Whether the request is for subscribe or unsubscribe\n # + subscriptionChangeRequest - The SubscriptionChangeRequest specifying the topic to subscribe to and the", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjg0Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606843", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `http:Request` The Request to send to the hub to subscribe/unsubscribe\n          \n          \n            \n            # + return - An `http:Request` to be sent to the hub to subscribe/unsubscribe", "author": "praneesha", "createdAt": "2020-04-15T06:24:20Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -72,10 +77,10 @@ public type SubscriptionClient client object {\n \n # Function to build the subscription request to subscribe at the hub.\n #\n-# + mode - Whether the request is for subscription or unsubscription\n+# + mode - Whether the request is for subscribe or unsubscribe\n # + subscriptionChangeRequest - The SubscriptionChangeRequest specifying the topic to subscribe to and the\n #                               parameters to use\n-# + return - `http:Request` The Request to send to the hub to subscribe/unsubscribe\n+# + return - An `http:Request` The Request to send to the hub to subscribe/unsubscribe", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNjkwNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408606904", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + subscriptionChangeRequest - The subscription change request sent\n          \n          \n            \n            # + subscriptionChangeRequest - The sent subscription change request", "author": "praneesha", "createdAt": "2020-04-15T06:24:31Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -109,8 +114,8 @@ function buildSubscriptionChangeRequest(@untainted string mode,\n # + subscriptionChangeRequest - The subscription change request sent", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzA1Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607057", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + response - The http:Response or error received on request to the hub\n          \n          \n            \n            # + response - The `http:Response` or an error received upon sending a request to the hub", "author": "praneesha", "createdAt": "2020-04-15T06:24:57Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -109,8 +114,8 @@ function buildSubscriptionChangeRequest(@untainted string mode,\n # + subscriptionChangeRequest - The subscription change request sent\n # + response - The http:Response or error received on request to the hub", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzExOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607119", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #            if an error occurred\n          \n          \n            \n            #            if an error occurred\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:25:07Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -109,8 +114,8 @@ function buildSubscriptionChangeRequest(@untainted string mode,\n # + subscriptionChangeRequest - The subscription change request sent\n # + response - The http:Response or error received on request to the hub\n # + httpClient - The underlying HTTP Client Endpoint\n-# + return - `SubscriptionChangeResponse` indicating subscription/unsubscription details, if the request was successful\n-#            else `error` if an error occurred\n+# + return - The subscription/unsubscription details if the request was successful or else an `error`\n+#            if an error occurred", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjM0Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906342", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:54:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzExOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzIzMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607232", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Invokes the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n          \n          \n            \n            # Invokes the `WebSubSubscriberConnector`'s remote functions for subscription/unsubscription on redirection from the", "author": "praneesha", "createdAt": "2020-04-15T06:25:23Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -158,15 +163,15 @@ function processHubResponse(@untainted string hub, @untainted string mode,\n     }\n }\n \n-# Function to invoke the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n+# Invokes the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzI4OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607288", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + subscriptionChangeRequest - The request containing subscription/unsubscription details\n          \n          \n            \n            # + subscriptionChangeRequest - The request containing the subscription/unsubscription details", "author": "praneesha", "createdAt": "2020-04-15T06:25:34Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -158,15 +163,15 @@ function processHubResponse(@untainted string hub, @untainted string mode,\n     }\n }\n \n-# Function to invoke the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n+# Invokes the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n # original hub.\n #\n # + hub - The hub to which the subscription/unsubscription request is to be sent\n # + mode - Whether the request is for subscription or unsubscription\n # + subscriptionChangeRequest - The request containing subscription/unsubscription details", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzM0MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607340", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + auth - The auth config to use at the hub, if specified\n          \n          \n            \n            # + auth - The auth config to use at the hub (if specified)", "author": "praneesha", "createdAt": "2020-04-15T06:25:44Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -158,15 +163,15 @@ function processHubResponse(@untainted string hub, @untainted string mode,\n     }\n }\n \n-# Function to invoke the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n+# Invokes the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n # original hub.\n #\n # + hub - The hub to which the subscription/unsubscription request is to be sent\n # + mode - Whether the request is for subscription or unsubscription\n # + subscriptionChangeRequest - The request containing subscription/unsubscription details\n # + auth - The auth config to use at the hub, if specified", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzQyMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607422", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - A subscription/unsubscription details if the request was successful or else an `error`\n          \n          \n            \n            # + return - The subscription/unsubscription details if the request was successful or else an `error`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:25:57Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_client.bal", "diffHunk": "@@ -158,15 +163,15 @@ function processHubResponse(@untainted string hub, @untainted string mode,\n     }\n }\n \n-# Function to invoke the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n+# Invokes the WebSubSubscriberConnector's remote functions for subscription/unsubscription on redirection from the\n # original hub.\n #\n # + hub - The hub to which the subscription/unsubscription request is to be sent\n # + mode - Whether the request is for subscription or unsubscription\n # + subscriptionChangeRequest - The request containing subscription/unsubscription details\n # + auth - The auth config to use at the hub, if specified\n-# + return - `SubscriptionChangeResponse` indicating subscription/unsubscription details, if the request was successful\n-#            else `error` if an error occurred\n+# + return - A subscription/unsubscription details if the request was successful or else an `error`", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzUyNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607527", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` on failure or else `()`\n          \n          \n            \n            # + return - An `error` on failure or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:26:17Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_caller.bal", "diffHunk": "@@ -24,28 +24,37 @@ public type Caller client object {\n         self.httpCaller = httpCaller;\n     }\n \n-    # Sends the response to the caller.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller.\n+# ```ballerina\n+# error? response = caller->respond();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjUzOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906539", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:54:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzY2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607661", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Sends the response to the caller with the status 200 OK.\n          \n          \n            \n            # Sends the response to the caller with the \"200 OK\" status.", "author": "praneesha", "createdAt": "2020-04-15T06:26:38Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_caller.bal", "diffHunk": "@@ -24,28 +24,37 @@ public type Caller client object {\n         self.httpCaller = httpCaller;\n     }\n \n-    # Sends the response to the caller.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller.\n+# ```ballerina\n+# error? response = caller->respond();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function respond(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->respond(message);\n     }\n \n-    # Sends the response to the caller with the status 200 OK.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 200 OK.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzc1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607755", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` on failure or else `()`\n          \n          \n            \n            # + return - An `error` on failure or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:26:50Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_caller.bal", "diffHunk": "@@ -24,28 +24,37 @@ public type Caller client object {\n         self.httpCaller = httpCaller;\n     }\n \n-    # Sends the response to the caller.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller.\n+# ```ballerina\n+# error? response = caller->respond();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function respond(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->respond(message);\n     }\n \n-    # Sends the response to the caller with the status 200 OK.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 200 OK.\n+# ```ballerina\n+# error? response = caller->ok();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzgzMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607832", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Sends the response to the caller with the status 202 Accepted.\n          \n          \n            \n            # Sends the response to the caller with the \"202 Accepted\" status.", "author": "praneesha", "createdAt": "2020-04-15T06:27:00Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_caller.bal", "diffHunk": "@@ -24,28 +24,37 @@ public type Caller client object {\n         self.httpCaller = httpCaller;\n     }\n \n-    # Sends the response to the caller.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller.\n+# ```ballerina\n+# error? response = caller->respond();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function respond(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->respond(message);\n     }\n \n-    # Sends the response to the caller with the status 200 OK.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 200 OK.\n+# ```ballerina\n+# error? response = caller->ok();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function ok(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->ok(message);\n     }\n \n-    # Sends the response to the caller with the status 202 Accepted.\n-    #\n-    # + message - The response or any payload of type `http:ResponseMessage`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 202 Accepted.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzg5NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607895", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + message - The response or any payload of type `http:ResponseMessage`\n          \n          \n            \n            # + message - The response or any payload of the `http:ResponseMessage` type", "author": "praneesha", "createdAt": "2020-04-15T06:27:12Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_caller.bal", "diffHunk": "@@ -24,28 +24,37 @@ public type Caller client object {\n         self.httpCaller = httpCaller;\n     }\n \n-    # Sends the response to the caller.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller.\n+# ```ballerina\n+# error? response = caller->respond();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function respond(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->respond(message);\n     }\n \n-    # Sends the response to the caller with the status 200 OK.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 200 OK.\n+# ```ballerina\n+# error? response = caller->ok();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function ok(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->ok(message);\n     }\n \n-    # Sends the response to the caller with the status 202 Accepted.\n-    #\n-    # + message - The response or any payload of type `http:ResponseMessage`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 202 Accepted.\n+# ```ballerina\n+# error? response = caller->accepted();\n+# ```\n+#\n+# + message - The response or any payload of type `http:ResponseMessage`", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzkyNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408607927", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - An `error` on failure or else `()`\n          \n          \n            \n            # + return - An `error` on failure or else `()`\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:27:18Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_caller.bal", "diffHunk": "@@ -24,28 +24,37 @@ public type Caller client object {\n         self.httpCaller = httpCaller;\n     }\n \n-    # Sends the response to the caller.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller.\n+# ```ballerina\n+# error? response = caller->respond();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function respond(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->respond(message);\n     }\n \n-    # Sends the response to the caller with the status 200 OK.\n-    #\n-    # + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`\n-    #             or `mime:Entity[]`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 200 OK.\n+# ```ballerina\n+# error? response = caller->ok();\n+# ```\n+#\n+# + message - The response or any payload of type `string`, `xml`, `json`, `byte[]`, `io:ReadableByteChannel`,\n+#             or `mime:Entity[]`\n+# + return - An `error` on failure or else `()`\n     public remote function ok(http:ResponseMessage message = ()) returns error? {\n         return self.httpCaller->ok(message);\n     }\n \n-    # Sends the response to the caller with the status 202 Accepted.\n-    #\n-    # + message - The response or any payload of type `http:ResponseMessage`\n-    # + return - Returns an `error` on failure\n+# Sends the response to the caller with the status 202 Accepted.\n+# ```ballerina\n+# error? response = caller->accepted();\n+# ```\n+#\n+# + message - The response or any payload of type `http:ResponseMessage`\n+# + return - An `error` on failure or else `()`", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjcwNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906704", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:54:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwNzkyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODA0Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608043", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - `()` or else an `error` upon failure to register the listener\n          \n          \n            \n            # + return - `()` or else an `error` upon failure to register the listener\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:27:35Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -35,24 +35,55 @@ public type Listener object {\n \n     private http:Listener? serviceEndpoint = ();\n \n+    # Creates a new `websub:Listener`.\n+    #\n+    # + port - The port number of the remote service\n+    # + config - The configurations related to the `websub:Listener`\n     public function __init(int port, SubscriberListenerConfiguration? config = ()) {\n         self.init(port, config);\n     }\n \n+# Binds a service to the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__attach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + name - Name of the service\n+# + return - `()` or else an `error` upon failure to register the listener", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjgwNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906807", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:54:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODA0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODExNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608114", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - `()` or else an `error` upon failure to detach the service\n          \n          \n            \n            # + return - `()` or else an `error` upon failure to detach the service\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:27:46Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -35,24 +35,55 @@ public type Listener object {\n \n     private http:Listener? serviceEndpoint = ();\n \n+    # Creates a new `websub:Listener`.\n+    #\n+    # + port - The port number of the remote service\n+    # + config - The configurations related to the `websub:Listener`\n     public function __init(int port, SubscriberListenerConfiguration? config = ()) {\n         self.init(port, config);\n     }\n \n+# Binds a service to the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__attach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + name - Name of the service\n+# + return - `()` or else an `error` upon failure to register the listener\n     public function __attach(service s, string? name = ()) returns error? {\n         // TODO: handle data and return error on error\n         externRegisterWebSubSubscriberService(self, s);\n     }\n \n+# Stops consuming messages and detaches the service from the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__detach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + return - `()` or else an `error` upon failure to detach the service", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNjkyNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408906924", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:54:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODExNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODE4Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608183", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - `()` or else an `error` upon failure to start the listener\n          \n          \n            \n            # + return - `()` or else an `error` upon failure to start the listener\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:27:57Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -35,24 +35,55 @@ public type Listener object {\n \n     private http:Listener? serviceEndpoint = ();\n \n+    # Creates a new `websub:Listener`.\n+    #\n+    # + port - The port number of the remote service\n+    # + config - The configurations related to the `websub:Listener`\n     public function __init(int port, SubscriberListenerConfiguration? config = ()) {\n         self.init(port, config);\n     }\n \n+# Binds a service to the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__attach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + name - Name of the service\n+# + return - `()` or else an `error` upon failure to register the listener\n     public function __attach(service s, string? name = ()) returns error? {\n         // TODO: handle data and return error on error\n         externRegisterWebSubSubscriberService(self, s);\n     }\n \n+# Stops consuming messages and detaches the service from the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__detach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + return - `()` or else an `error` upon failure to detach the service\n     public function __detach(service s) returns error? {\n     }\n \n+# Starts the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__start();\n+# ```\n+#\n+# + return - `()` or else an `error` upon failure to start the listener", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNzQyNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408907427", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:55:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODI3Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608273", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Gracefully stops the `websub:Listener`.\n          \n          \n            \n            # Stops the `websub:Listener` gracefully.", "author": "praneesha", "createdAt": "2020-04-15T06:28:13Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -35,24 +35,55 @@ public type Listener object {\n \n     private http:Listener? serviceEndpoint = ();\n \n+    # Creates a new `websub:Listener`.\n+    #\n+    # + port - The port number of the remote service\n+    # + config - The configurations related to the `websub:Listener`\n     public function __init(int port, SubscriberListenerConfiguration? config = ()) {\n         self.init(port, config);\n     }\n \n+# Binds a service to the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__attach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + name - Name of the service\n+# + return - `()` or else an `error` upon failure to register the listener\n     public function __attach(service s, string? name = ()) returns error? {\n         // TODO: handle data and return error on error\n         externRegisterWebSubSubscriberService(self, s);\n     }\n \n+# Stops consuming messages and detaches the service from the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__detach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + return - `()` or else an `error` upon failure to detach the service\n     public function __detach(service s) returns error? {\n     }\n \n+# Starts the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__start();\n+# ```\n+#\n+# + return - `()` or else an `error` upon failure to start the listener\n     public function __start() returns error? {\n         check externStartWebSubSubscriberServiceEndpoint(self);\n         // TODO: handle data and return error on error\n         self.sendSubscriptionRequests();\n     }\n \n+# Gracefully stops the `websub:Listener`.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODMzMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608332", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - `()` or else an `error` upon failure to stop the listener\n          \n          \n            \n            # + return - `()` or else an `error` upon failure to stop the listener\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:28:20Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -35,24 +35,55 @@ public type Listener object {\n \n     private http:Listener? serviceEndpoint = ();\n \n+    # Creates a new `websub:Listener`.\n+    #\n+    # + port - The port number of the remote service\n+    # + config - The configurations related to the `websub:Listener`\n     public function __init(int port, SubscriberListenerConfiguration? config = ()) {\n         self.init(port, config);\n     }\n \n+# Binds a service to the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__attach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + name - Name of the service\n+# + return - `()` or else an `error` upon failure to register the listener\n     public function __attach(service s, string? name = ()) returns error? {\n         // TODO: handle data and return error on error\n         externRegisterWebSubSubscriberService(self, s);\n     }\n \n+# Stops consuming messages and detaches the service from the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__detach(helloService);\n+# ```\n+#\n+# + s - Type descriptor of the service\n+# + return - `()` or else an `error` upon failure to detach the service\n     public function __detach(service s) returns error? {\n     }\n \n+# Starts the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__start();\n+# ```\n+#\n+# + return - `()` or else an `error` upon failure to start the listener\n     public function __start() returns error? {\n         check externStartWebSubSubscriberServiceEndpoint(self);\n         // TODO: handle data and return error on error\n         self.sendSubscriptionRequests();\n     }\n \n+# Gracefully stops the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__gracefulStop();\n+# ```\n+#\n+# + return - `()` or else an `error` upon failure to stop the listener", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNzA1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408907054", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:55:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODMzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODQxMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608411", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Forcefully stops the `websub:Listener`.\n          \n          \n            \n            # Stops the `websub:Listener` forcefully.", "author": "praneesha", "createdAt": "2020-04-15T06:28:30Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -61,12 +92,18 @@ public type Listener object {\n         return ();\n     }\n \n+# Forcefully stops the `websub:Listener`.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODQ0NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608445", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - () or else an `error` upon failure to stop the listener\n          \n          \n            \n            # + return - () or else an `error` upon failure to stop the listener\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:28:37Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -61,12 +92,18 @@ public type Listener object {\n         return ();\n     }\n \n+# Forcefully stops the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__immediateStop();\n+# ```\n+#\n+# + return - () or else an `error` upon failure to stop the listener", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNzE4OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408907189", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:55:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODQ0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODUxMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608513", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # Gets called when the `websub:Listener` is being initialized during module initialization.\n          \n          \n            \n                # Gets called when the `websub:Listener` is being initialized during the module initialization.", "author": "praneesha", "createdAt": "2020-04-15T06:28:46Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -61,12 +92,18 @@ public type Listener object {\n         return ();\n     }\n \n+# Forcefully stops the `websub:Listener`.\n+# ```ballerina\n+# error? result = websubListener.__immediateStop();\n+# ```\n+#\n+# + return - () or else an `error` upon failure to stop the listener\n     public function __immediateStop() returns error? {\n     }\n \n-    # Gets called when the endpoint is being initialized during module initialization.\n+    # Gets called when the `websub:Listener` is being initialized during module initialization.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODY2MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608660", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Discovers hub and topic URLs defined by a resource URL.\n          \n          \n            \n            # Discovers the hub and topic URLs defined by a resource URL.", "author": "praneesha", "createdAt": "2020-04-15T06:29:06Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -242,11 +279,11 @@ public type ExtensionConfig record {|\n     map<map<map<[string, typedesc<record {}>]>>>? headerAndPayloadKeyResourceMap = ();\n |};\n \n-# The function called to discover hub and topic URLs defined by a resource URL.\n+# Discovers hub and topic URLs defined by a resource URL.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODcwOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608708", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + resourceUrl - The resource URL advertising hub and topic URLs\n          \n          \n            \n            # + resourceUrl - The resource URL advertising the hub and topic URLs", "author": "praneesha", "createdAt": "2020-04-15T06:29:16Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -242,11 +279,11 @@ public type ExtensionConfig record {|\n     map<map<map<[string, typedesc<record {}>]>>>? headerAndPayloadKeyResourceMap = ();\n |};\n \n-# The function called to discover hub and topic URLs defined by a resource URL.\n+# Discovers hub and topic URLs defined by a resource URL.\n #\n # + resourceUrl - The resource URL advertising hub and topic URLs", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODc5MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608791", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - A `(hub, topic)` as a `(string, string)` if successful or else an `error` if not\n          \n          \n            \n            # + return - A `(hub, topic)` as a `(string, string)` if successful or else an `error` if not\n          \n      \n    \n    \n  \n\nNeed to specify the error.", "author": "praneesha", "createdAt": "2020-04-15T06:29:27Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -242,11 +279,11 @@ public type ExtensionConfig record {|\n     map<map<map<[string, typedesc<record {}>]>>>? headerAndPayloadKeyResourceMap = ();\n |};\n \n-# The function called to discover hub and topic URLs defined by a resource URL.\n+# Discovers hub and topic URLs defined by a resource URL.\n #\n # + resourceUrl - The resource URL advertising hub and topic URLs\n # + publisherClientConfig - The configuration for the publisher client\n-# + return - `(string, string)` (hub, topic) URLs if successful, `error` if not\n+# + return - A `(hub, topic)` as a `(string, string)` if successful or else an `error` if not", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwNTEyNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408905124", "bodyText": "We are using a common error in this module. So we don't need to specify the error.", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-04-15T14:52:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODc5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwODg1OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408608858", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Invokes the WebSubSubscriberConnector's remote functions for the subscription.\n          \n          \n            \n            # Invokes the `WebSubSubscriberConnector`'s remote functions for the subscription.", "author": "praneesha", "createdAt": "2020-04-15T06:29:37Z", "path": "stdlib/websub/src/main/ballerina/src/websub/subscriber_service_endpoint.bal", "diffHunk": "@@ -272,11 +309,11 @@ function retrieveHubAndTopicUrl(string resourceUrl, http:ClientConfiguration? pu\n     return websubError;\n }\n \n-# Function to invoke the WebSubSubscriberConnector's remote functions for subscription.\n+# Invokes the WebSubSubscriberConnector's remote functions for the subscription.", "originalCommit": "004c8279966f9392242b7800b1c7d53f2dcb2e47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f63ba07338091a8c8841d55738f4c38ba2bef7ac", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f63ba07338091a8c8841d55738f4c38ba2bef7ac", "message": "Make changes in the Module\n\nFix reviewed comments\n\nMake the changes in the module.md", "committedDate": "2020-04-15T10:44:08Z", "type": "commit"}, {"oid": "83fda25645ded7ab9221886fe6aeb1303923f7f3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/83fda25645ded7ab9221886fe6aeb1303923f7f3", "message": "Make the changes in the module.md\n\nMake the changes in the module.md", "committedDate": "2020-04-15T12:00:51Z", "type": "commit"}, {"oid": "f7b707a7169025e9b9c3b4352784b14376e1ca76", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f7b707a7169025e9b9c3b4352784b14376e1ca76", "message": "Fixed sugessted changes", "committedDate": "2020-04-15T13:27:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg4NjQzMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408886431", "bodyText": "Shall we move this section up? Otherwise, things come under the publisher and subscriber are hard to understand", "author": "chamil321", "createdAt": "2020-04-15T14:29:00Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -123,199 +136,59 @@ URLs, which facilitates WebSub discovery.\n A hub client endpoint is also made available to publishers and subscribers to perform the following:\n - Publishers\n   - Register a topic at the Hub\n+    ```ballerina\n+    websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+    error? registrationResponse = websubHubClientEP->registerTopic(\"http://websubpubtopic.com\");\n+    ```\n+    \n   - Publish to the hub indicating an update of the topic\n+    ```ballerina\n+    websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+    error? publishResponse = websubHubClientEP.publishUpdate(\"http://websubpubtopic.com\",\n+                                {\"action\": \"publish\", \"mode\": \"internal-hub\"});   \n+    ```\n+    \n - Subscribers\n   - Subscribe/Unsubscribe to/from topics at a hub\n-\n-## Samples\n-This sample demonstrates a Subscriber Service with `subscribeOnStartUp` set to true. This will result in a\n- subscription request being sent to the specified hub for the specified topic, with the specified lease seconds value \n- and the specified secret for authenticated content distribution.\n-Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription \n-requests would happen automatically, if the topic specified in the request matches that specified as an annotation or \n-that discovered for the annotated resource URL.\n- \n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Explicit intent verification can be done by introducing an `onIntentVerification` resource function.\n-```ballerina\n-import ballerina/http;\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onIntentVerification(websub:Caller caller, websub:IntentVerificationRequest request) {\n-        http:Response response = new;\n-        // Insert logic to build subscription/unsubscription intent verification response.\n-        var result = caller->respond(response);\n-        if (result is error) { \n-            log:printError(\"Error responding to intent verification request\", result);\n-        }\n-    }\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Functions are made available on the `websub:IntentVerificationRequest` to build a subscription or unsubscription \n-verification response, specifying the topic to verify intent against:\n-```ballerina\n-http:Response response = request.buildSubscriptionVerificationResponse(\"<TOPIC_TO_VERIFY_FOR>\");\n-```\n-```ballerina\n-http:Response response = request.buildUnsubscriptionVerificationResponse(\"<TOPIC_TO_VERIFY_FOR>\");\n-```\n- \n-Ballerina publishers can start up and publish directly to the Ballerina WebSub hub.\n-```ballerina\n-import ballerina/log;\n-import ballerina/http;\n-import ballerina/runtime;\n-import ballerina/websub;\n-\n-public function main() {\n-\n-    log:printInfo(\"Starting up the Ballerina Hub Service\");\n-    var result = websub:startHub(new http:Listener(9191));\n-    websub:Hub webSubHub = result is websub:Hub ? result : result.startedUpHub;\n-\n-    var registrationResponse = webSubHub.registerTopic(\"<TOPIC_URL>\");\n-    if (registrationResponse is error) {\n-        log:printError(\"Error occurred registering topic: \" + <string>registrationResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Topic registration successful!\");\n-    }\n-\n-    // Make the publisher wait until the subscriber subscribes at the hub.\n-    runtime:sleep(20000);\n-\n-    log:printInfo(\"Publishing update to internal Hub\");\n-    var publishResponse = webSubHub.publishUpdate(\"<TOPIC_URL>\", {\"action\": \"publish\", \"mode\": \"internal-hub\"});\n-    if (publishResponse is error) {\n-        log:printError(\"Error notifying hub: \" + <string>publishResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Update notification successful!\");\n-    }\n-\n-    // Make sure the service is running until the subscriber receives the update notification.\n-    runtime:sleep(5000);\n-}\n-```\n-\n-Ballerina publishers can also use the `websub:PublisherClient` to register topics at Ballerina WebSub hubs \n-and publish/notify updates to the remote hubs.\n-```ballerina\n-import ballerina/log;\n-import ballerina/runtime;\n-import ballerina/websub;\n-\n-websub:PublisherClient websubHubClientEP = new (\"https://localhost:9191/websub/hub\");\n-\n-public function main() {\n-\n-    var registrationResponse = websubHubClientEP->registerTopic(\"<TOPIC_URL>\");\n-    if (registrationResponse is error) {\n-        log:printError(\"Error occurred registering topic: \" + <string>registrationResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Topic registration successful!\");\n-    }\n-\n-    // Make the publisher wait until the subscriber subscribes at the hub.\n-    runtime:sleep(10000);\n-\n-    log:printInfo(\"Publishing update to remote Hub\");\n-    var publishResponse = websubHubClientEP->publishUpdate(\"<TOPIC_URL>\", { \"action\": \"publish\", \"mode\": \"remote-hub\" });\n-    if (publishResponse is error) {\n-        log:printError(\"Error notifying hub: \" + <string>publishResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Update notification successful!\");\n-    }\n-\n-}\n-```\n-\n-The `websub:SubscriptionClient` can be used by subscribers to send subscription and unsubscription requests explicitly.\n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-websub:SubscriptionClient websubHubClientEP = new(\"<HUB_URL>\");\n-\n-public function main() {\n-\n+    \n+    ```ballerina\n+    websub:SubscriptionClient websubHubClientEP = new(\"<HUB_URL>\");\n+    \n     // Send subscription request for a subscriber service.\n     websub:SubscriptionChangeRequest subscriptionRequest = {\n         topic: \"<TOPIC_URL>\", \n         callback: \"<CALLBACK_URL>\",\n         secret: \"<SECRET>\"\n     };\n-\n-    var subscriptionChangeResponse = websubHubClientEP->subscribe(subscriptionRequest);\n-    if (subscriptionChangeResponse is websub:SubscriptionChangeResponse) {\n-        log:printInfo(\"Subscription Request successful at Hub [\" + subscriptionChangeResponse.hub \n-                        + \"] for Topic [\" + subscriptionChangeResponse.topic + \"]\");\n-    } else {\n-        log:printError(\"Error occurred with Subscription Request\", err = subscriptionChangeResponse);\n-    }\n-\n+    websub:SubscriptionChangeResponse|error subscriptionChangeResponse = websubHubClientEP->subscribe(subscriptionRequest);\n+    \n     // Send unsubscription request for the subscriber service.\n     websub:SubscriptionChangeRequest unsubscriptionRequest = {\n         topic: \"<TOPIC_URL>\",\n         callback: \"<CALLBACK_URL>\"\n     };\n+    ebsub:SubscriptionChangeResponse|error subscriptionChangeResponse = websubHubClientEP->unsubscribe(unsubscriptionRequest);\n+    ```\n \n-    subscriptionChangeResponse = websubHubClientEP->unsubscribe(unsubscriptionRequest);\n-    if (subscriptionChangeResponse is websub:SubscriptionChangeResponse) {\n-        log:printInfo(\"Unsubscription Request successful at Hub [\" + subscriptionChangeResponse.hub\n-                + \"] for Topic [\" + subscriptionChangeResponse.topic + \"]\");\n-    } else {\n-        log:printError(\"Error occurred with Unsubscription Request\", err = subscriptionChangeResponse);\n-    }\n-}\n-```\n+### Basic flow with WebSub", "originalCommit": "f7b707a7169025e9b9c3b4352784b14376e1ca76", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "33a6cbba9df2e888a2274b3f3d101ef63958c29a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/33a6cbba9df2e888a2274b3f3d101ef63958c29a", "message": "Apply reviewed changes", "committedDate": "2020-04-15T14:32:27Z", "type": "commit"}, {"oid": "e9b777bb048686557acc18e3680bd6350d4296a2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e9b777bb048686557acc18e3680bd6350d4296a2", "message": "Fix the suggested changes", "committedDate": "2020-04-15T15:10:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkwMjc2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408902767", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            **Sends subscription request with on service startup and explicit intent verification**\n          \n          \n            \n            **Sends subscription request on service startup and explicit intent verification**", "author": "chamil321", "createdAt": "2020-04-15T14:49:42Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -29,15 +26,49 @@ verification\n \n 5. The hub delivers the identified content to the subscribers of the topic.\n \n-### Features\n-\n #### Subscriber\n \n This module allows introducing a WebSub Subscriber Service with `onIntentVerification`, which accepts HTTP GET requests for intent verification, and `onNotification`, which accepts HTTP POST requests for notifications. The WebSub Subscriber Service provides the following capabilities:\n  - When the service is started a subscription request is sent for a hub/topic combination, either specified as annotations or discovered based on the resource URL specified as an annotation.\n  - If `onIntentVerification` is not specified, intent verification will be done automatically against the topic specified as an annotation or discovered based on the resource URL specified as an annotation.\n  - If a secret is specified for the subscription, signature validation will be done for authenticated content distribution.\n+ \n+**Sends subscription request with on service startup and explicit intent verification**", "originalCommit": "33a6cbba9df2e888a2274b3f3d101ef63958c29a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkyNjUzNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408926535", "bodyText": "Add following here\nSince an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription requests would happen automatically.", "author": "chamil321", "createdAt": "2020-04-15T15:20:14Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -37,7 +34,45 @@ This module allows introducing a WebSub Subscriber Service with `onIntentVerific\n  - When the service is started a subscription request is sent for a hub/topic combination, either specified as annotations or discovered based on the resource URL specified as an annotation.\n  - If `onIntentVerification` is not specified, intent verification will be done automatically against the topic specified as an annotation or discovered based on the resource URL specified as an annotation.\n  - If a secret is specified for the subscription, signature validation will be done for authenticated content distribution.\n+ \n+**Sends the subscription request**\n   \n+  > When the `subscribeOnStartUp` is set to true in the Subscriber Service, it will result in a subscription request being sent to the specified hub for the specified topic, with the specified lease seconds value and the specified secret for authenticated content distribution. \n+", "originalCommit": "e9b777bb048686557acc18e3680bd6350d4296a2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "14afdb923d6a66e62ae37758b5d6a98316148429", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/14afdb923d6a66e62ae37758b5d6a98316148429", "message": "Fix the suggested changes", "committedDate": "2020-04-15T15:34:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkzOTUzNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408939537", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              >Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription requests would happen automatically.\n          \n          \n            \n              > Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription requests would happen automatically.", "author": "chamil321", "createdAt": "2020-04-15T15:37:06Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -37,7 +34,47 @@ This module allows introducing a WebSub Subscriber Service with `onIntentVerific\n  - When the service is started a subscription request is sent for a hub/topic combination, either specified as annotations or discovered based on the resource URL specified as an annotation.\n  - If `onIntentVerification` is not specified, intent verification will be done automatically against the topic specified as an annotation or discovered based on the resource URL specified as an annotation.\n  - If a secret is specified for the subscription, signature validation will be done for authenticated content distribution.\n+ \n+**Sends subscription request on service startup and explicit intent verification**\n   \n+  > When the `subscribeOnStartUp` is set to true in the Subscriber Service, it will result in a subscription request being sent to the specified hub for the specified topic, with the specified lease seconds value and the specified secret for authenticated content distribution. \n+  \n+  >Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription requests would happen automatically.", "originalCommit": "14afdb923d6a66e62ae37758b5d6a98316148429", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODkzOTkxMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22608#discussion_r408939910", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                ebsub:SubscriptionChangeResponse|error subscriptionChangeResponse = websubHubClientEP->unsubscribe(unsubscriptionRequest);\n          \n          \n            \n                websub:SubscriptionChangeResponse|error subscriptionChangeResponse = websubHubClientEP->unsubscribe(unsubscriptionRequest);", "author": "chamil321", "createdAt": "2020-04-15T15:37:37Z", "path": "stdlib/websub/src/main/ballerina/src/websub/Module.md", "diffHunk": "@@ -123,199 +160,41 @@ URLs, which facilitates WebSub discovery.\n A hub client endpoint is also made available to publishers and subscribers to perform the following:\n - Publishers\n   - Register a topic at the Hub\n+    ```ballerina\n+    websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+    error? registrationResponse = websubHubClientEP->registerTopic(\"http://websubpubtopic.com\");\n+    ```\n+    \n   - Publish to the hub indicating an update of the topic\n+    ```ballerina\n+    websub:PublisherClient websubHubClientEP = new (\"http://localhost:9191/websub/publish\");\n+    error? publishResponse = websubHubClientEP.publishUpdate(\"http://websubpubtopic.com\",\n+                                {\"action\": \"publish\", \"mode\": \"internal-hub\"});   \n+    ```\n+    \n - Subscribers\n   - Subscribe/Unsubscribe to/from topics at a hub\n-\n-## Samples\n-This sample demonstrates a Subscriber Service with `subscribeOnStartUp` set to true. This will result in a\n- subscription request being sent to the specified hub for the specified topic, with the specified lease seconds value \n- and the specified secret for authenticated content distribution.\n-Since an `onIntentVerification` resource function is not included, intent verification for subscription and unsubscription \n-requests would happen automatically, if the topic specified in the request matches that specified as an annotation or \n-that discovered for the annotated resource URL.\n- \n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Explicit intent verification can be done by introducing an `onIntentVerification` resource function.\n-```ballerina\n-import ballerina/http;\n-import ballerina/log;\n-import ballerina/websub;\n-\n-listener websub:Listener websubEP = new(8181);\n-\n-@websub:SubscriberServiceConfig {\n-    path: \"/websub\",\n-    subscribeOnStartUp: true,\n-    target: [\"<HUB_URL>\", \"<TOPIC_URL>\"],\n-    leaseSeconds: 3600,\n-    secret: \"<SECRET>\"\n-}\n-service websubSubscriber on websubEP {\n-\n-    resource function onIntentVerification(websub:Caller caller, websub:IntentVerificationRequest request) {\n-        http:Response response = new;\n-        // Insert logic to build subscription/unsubscription intent verification response.\n-        var result = caller->respond(response);\n-        if (result is error) { \n-            log:printError(\"Error responding to intent verification request\", result);\n-        }\n-    }\n-\n-    resource function onNotification(websub:Notification notification) {\n-        var payload = notification.getTextPayload();\n-        if (payload is string) {\n-            log:printInfo(\"WebSub Notification Received: \" + payload);\n-        } else {\n-            log:printError(\"Error retrieving payload as string\", payload);\n-        }\n-    }\n-}\n-```\n-\n-Functions are made available on the `websub:IntentVerificationRequest` to build a subscription or unsubscription \n-verification response, specifying the topic to verify intent against:\n-```ballerina\n-http:Response response = request.buildSubscriptionVerificationResponse(\"<TOPIC_TO_VERIFY_FOR>\");\n-```\n-```ballerina\n-http:Response response = request.buildUnsubscriptionVerificationResponse(\"<TOPIC_TO_VERIFY_FOR>\");\n-```\n- \n-Ballerina publishers can start up and publish directly to the Ballerina WebSub hub.\n-```ballerina\n-import ballerina/log;\n-import ballerina/http;\n-import ballerina/runtime;\n-import ballerina/websub;\n-\n-public function main() {\n-\n-    log:printInfo(\"Starting up the Ballerina Hub Service\");\n-    var result = websub:startHub(new http:Listener(9191));\n-    websub:Hub webSubHub = result is websub:Hub ? result : result.startedUpHub;\n-\n-    var registrationResponse = webSubHub.registerTopic(\"<TOPIC_URL>\");\n-    if (registrationResponse is error) {\n-        log:printError(\"Error occurred registering topic: \" + <string>registrationResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Topic registration successful!\");\n-    }\n-\n-    // Make the publisher wait until the subscriber subscribes at the hub.\n-    runtime:sleep(20000);\n-\n-    log:printInfo(\"Publishing update to internal Hub\");\n-    var publishResponse = webSubHub.publishUpdate(\"<TOPIC_URL>\", {\"action\": \"publish\", \"mode\": \"internal-hub\"});\n-    if (publishResponse is error) {\n-        log:printError(\"Error notifying hub: \" + <string>publishResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Update notification successful!\");\n-    }\n-\n-    // Make sure the service is running until the subscriber receives the update notification.\n-    runtime:sleep(5000);\n-}\n-```\n-\n-Ballerina publishers can also use the `websub:PublisherClient` to register topics at Ballerina WebSub hubs \n-and publish/notify updates to the remote hubs.\n-```ballerina\n-import ballerina/log;\n-import ballerina/runtime;\n-import ballerina/websub;\n-\n-websub:PublisherClient websubHubClientEP = new (\"https://localhost:9191/websub/hub\");\n-\n-public function main() {\n-\n-    var registrationResponse = websubHubClientEP->registerTopic(\"<TOPIC_URL>\");\n-    if (registrationResponse is error) {\n-        log:printError(\"Error occurred registering topic: \" + <string>registrationResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Topic registration successful!\");\n-    }\n-\n-    // Make the publisher wait until the subscriber subscribes at the hub.\n-    runtime:sleep(10000);\n-\n-    log:printInfo(\"Publishing update to remote Hub\");\n-    var publishResponse = websubHubClientEP->publishUpdate(\"<TOPIC_URL>\", { \"action\": \"publish\", \"mode\": \"remote-hub\" });\n-    if (publishResponse is error) {\n-        log:printError(\"Error notifying hub: \" + <string>publishResponse.detail()?.message);\n-    } else {\n-        log:printInfo(\"Update notification successful!\");\n-    }\n-\n-}\n-```\n-\n-The `websub:SubscriptionClient` can be used by subscribers to send subscription and unsubscription requests explicitly.\n-```ballerina\n-import ballerina/log;\n-import ballerina/websub;\n-\n-websub:SubscriptionClient websubHubClientEP = new(\"<HUB_URL>\");\n-\n-public function main() {\n-\n+    \n+    ```ballerina\n+    websub:SubscriptionClient websubHubClientEP = new(\"<HUB_URL>\");\n+    \n     // Send subscription request for a subscriber service.\n     websub:SubscriptionChangeRequest subscriptionRequest = {\n         topic: \"<TOPIC_URL>\", \n         callback: \"<CALLBACK_URL>\",\n         secret: \"<SECRET>\"\n     };\n-\n-    var subscriptionChangeResponse = websubHubClientEP->subscribe(subscriptionRequest);\n-    if (subscriptionChangeResponse is websub:SubscriptionChangeResponse) {\n-        log:printInfo(\"Subscription Request successful at Hub [\" + subscriptionChangeResponse.hub \n-                        + \"] for Topic [\" + subscriptionChangeResponse.topic + \"]\");\n-    } else {\n-        log:printError(\"Error occurred with Subscription Request\", err = subscriptionChangeResponse);\n-    }\n-\n+    websub:SubscriptionChangeResponse|error subscriptionChangeResponse = websubHubClientEP->subscribe(subscriptionRequest);\n+    \n     // Send unsubscription request for the subscriber service.\n     websub:SubscriptionChangeRequest unsubscriptionRequest = {\n         topic: \"<TOPIC_URL>\",\n         callback: \"<CALLBACK_URL>\"\n     };\n+    ebsub:SubscriptionChangeResponse|error subscriptionChangeResponse = websubHubClientEP->unsubscribe(unsubscriptionRequest);", "originalCommit": "14afdb923d6a66e62ae37758b5d6a98316148429", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f2ede14536bb0782f9f1d38bc0ebb6e6caeb5804", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f2ede14536bb0782f9f1d38bc0ebb6e6caeb5804", "message": "Update stdlib/websub/src/main/ballerina/src/websub/Module.md\n\nCo-Authored-By: Chamil Elladeniya <chamilmadawa8@gmail.com>", "committedDate": "2020-04-15T15:39:16Z", "type": "commit"}, {"oid": "77f24fd818c2960ae10e55d61cf0c228c3fe2338", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/77f24fd818c2960ae10e55d61cf0c228c3fe2338", "message": "Update stdlib/websub/src/main/ballerina/src/websub/Module.md\n\nCo-Authored-By: Chamil Elladeniya <chamilmadawa8@gmail.com>", "committedDate": "2020-04-15T15:39:34Z", "type": "commit"}]}