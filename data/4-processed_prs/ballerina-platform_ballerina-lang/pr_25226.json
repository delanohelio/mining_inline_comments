{"pr_number": 25226, "pr_title": "Handle NPE if incorrect argument is provided", "pr_createdAt": "2020-08-12T04:44:32Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25226", "timeline": [{"oid": "fc9e702ffa3c1b7d4a401935cd25e150fc0fdcb1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fc9e702ffa3c1b7d4a401935cd25e150fc0fdcb1", "message": "Handle NPE if incorrect argument is provided", "committedDate": "2020-08-12T04:40:57Z", "type": "commit"}, {"oid": "e6197f05564b78bd8a02aa25a8196ad049e0c139", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6197f05564b78bd8a02aa25a8196ad049e0c139", "message": "Add unit test to check if incorrect args is passed", "committedDate": "2020-08-12T05:04:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MTExNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25226#discussion_r469041115", "bodyText": "Shall we include which arg cause the issue. @MaryamZi @praneesha Any thoughts on the error message. BTW fix looks fine for me.", "author": "warunalakshitha", "createdAt": "2020-08-12T06:49:20Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/util/ArgumentParser.java", "diffHunk": "@@ -114,6 +114,9 @@\n             if (isNameArg) {\n                 isNamedArgFound = true;\n                 ParamInfo info = namedArgs.get(getParamName(arg));\n+                if (info == null) {\n+                    throw BallerinaErrors.createError(\"incorrect arguments to call the 'main' function\");", "originalCommit": "e6197f05564b78bd8a02aa25a8196ad049e0c139", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MzU3MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25226#discussion_r469043570", "bodyText": "Yeah, we usually try to keep these errors similar to the compilation errors on function calls, right? Shall we say something like\nundefined parameter 'param_name'", "author": "MaryamZi", "createdAt": "2020-08-12T06:54:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MTExNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA3MzAzMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25226#discussion_r469073032", "bodyText": "+1 Better if we can make it \"undefined parameter: 'param_name'\" only if it doesn't create any inconsistencies with other similar occurrences.", "author": "praneesha", "createdAt": "2020-08-12T07:53:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MTExNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA3MjIwOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25226#discussion_r469072209", "bodyText": "Shall we add a description for this test case?", "author": "pramodya1994", "createdAt": "2020-08-12T07:51:29Z", "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/main/function/ArgumentParserNegativeTest.java", "diffHunk": "@@ -69,6 +69,20 @@ public void testInsufficientArgs() {\n         Assert.fail(\"insufficient arguments not identified\");\n     }\n \n+    @Test", "originalCommit": "e6197f05564b78bd8a02aa25a8196ad049e0c139", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6b96a94a6658eec6e5644a36eda41b8318bd66d2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6b96a94a6658eec6e5644a36eda41b8318bd66d2", "message": "Address review suggestions", "committedDate": "2020-08-12T09:22:06Z", "type": "commit"}]}