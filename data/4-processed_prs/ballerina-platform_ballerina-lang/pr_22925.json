{"pr_number": 22925, "pr_title": "Adds the Java casting functionality to java module in the stdlib", "pr_createdAt": "2020-04-28T04:13:25Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22925", "timeline": [{"oid": "a7f48625d25cd4c9a1a672e80170560ae6ae7e4f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a7f48625d25cd4c9a1a672e80170560ae6ae7e4f", "message": "Add the Java casting implementation to stdlib", "committedDate": "2020-04-28T04:08:24Z", "type": "commit"}, {"oid": "45bb526fe2fcf4fc5136e6cc441c3ee62a4330fa", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/45bb526fe2fcf4fc5136e6cc441c3ee62a4330fa", "message": "Add the array utils to stdlib", "committedDate": "2020-04-28T04:08:34Z", "type": "commit"}, {"oid": "21901a6cc849e52c386473852f874e75d4caca96", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/21901a6cc849e52c386473852f874e75d4caca96", "message": "Refactor and improve the code", "committedDate": "2020-04-28T12:17:12Z", "type": "forcePushed"}, {"oid": "d717795a55f51e3a16c58447285dcb05911f7da2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d717795a55f51e3a16c58447285dcb05911f7da2", "message": "Refactor and improve the code", "committedDate": "2020-04-28T14:24:07Z", "type": "commit"}, {"oid": "d717795a55f51e3a16c58447285dcb05911f7da2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d717795a55f51e3a16c58447285dcb05911f7da2", "message": "Refactor and improve the code", "committedDate": "2020-04-28T14:24:07Z", "type": "forcePushed"}, {"oid": "8ceaebdae2776052d7b8cca3998c7aca2d98cfd2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8ceaebdae2776052d7b8cca3998c7aca2d98cfd2", "message": "Add unit tests for the java cast function", "committedDate": "2020-04-29T07:28:24Z", "type": "commit"}, {"oid": "f156c1b77e90e72b226c8d14f54932fcc4e785e5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f156c1b77e90e72b226c8d14f54932fcc4e785e5", "message": "Change array util function names", "committedDate": "2020-04-29T07:37:14Z", "type": "commit"}, {"oid": "20849d5e3012182eb48cf1fa3bdf434b4c3789f3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/20849d5e3012182eb48cf1fa3bdf434b4c3789f3", "message": "Modify the cast function", "committedDate": "2020-05-05T23:03:04Z", "type": "commit"}, {"oid": "40822a8df38b7cae8950fdbbbad0174833e80b32", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/40822a8df38b7cae8950fdbbbad0174833e80b32", "message": "Remove the array util functions", "committedDate": "2020-05-08T13:16:07Z", "type": "commit"}, {"oid": "8dbaa279d25aa3dbcc55d63d8568d12bfa9b8af2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8dbaa279d25aa3dbcc55d63d8568d12bfa9b8af2", "message": "Add typeParam annotation", "committedDate": "2020-05-08T15:47:06Z", "type": "commit"}, {"oid": "ec5e849899c02f39bdb791046de7022d70c7321d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ec5e849899c02f39bdb791046de7022d70c7321d", "message": "Change the cast function return type", "committedDate": "2020-05-08T16:10:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMzMDc5Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22925#discussion_r424330793", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + value - The JObject `object` instance which is to be casted\n          \n          \n            \n            # + value - The JObject `object` instance, which is to be casted", "author": "praneesha", "createdAt": "2020-05-13T10:20:12Z", "path": "stdlib/java/src/main/ballerina/src/java/ballerina_values_to_Java.bal", "diffHunk": "@@ -74,3 +74,16 @@ public function createNull() returns handle = external;\n # + return - The Java Class object for the class with the given name\n public function getClass(string name) returns handle | error = external;\n \n+# Returns an `any|error`, which is obtained after casting the provided `JObject` instance\n+# to the given `JObject` type depending on assignability.\n+# ```ballerina\n+# any|error obj = java:cast(inputStream, typedesc<FileInputStream>);\n+# if (obj is any) {\n+#   FileInputStream fileInputStream = <FileInputStream>obj;\n+# }\n+# ```\n+#\n+# + value - The JObject `object` instance which is to be casted", "originalCommit": "ec5e849899c02f39bdb791046de7022d70c7321d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMzMTAwNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22925#discussion_r424331007", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + castType - The JObject implementation type `typedesc<object>` to which the given object is casted to if assignable\n          \n          \n            \n            # + castType - The `JObject` implementation type `typedesc<object>` to which the given object is casted to if assignable", "author": "praneesha", "createdAt": "2020-05-13T10:20:38Z", "path": "stdlib/java/src/main/ballerina/src/java/ballerina_values_to_Java.bal", "diffHunk": "@@ -74,3 +74,16 @@ public function createNull() returns handle = external;\n # + return - The Java Class object for the class with the given name\n public function getClass(string name) returns handle | error = external;\n \n+# Returns an `any|error`, which is obtained after casting the provided `JObject` instance\n+# to the given `JObject` type depending on assignability.\n+# ```ballerina\n+# any|error obj = java:cast(inputStream, typedesc<FileInputStream>);\n+# if (obj is any) {\n+#   FileInputStream fileInputStream = <FileInputStream>obj;\n+# }\n+# ```\n+#\n+# + value - The JObject `object` instance which is to be casted\n+# + castType - The JObject implementation type `typedesc<object>` to which the given object is casted to if assignable", "originalCommit": "ec5e849899c02f39bdb791046de7022d70c7321d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMzMTE3Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22925#discussion_r424331173", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * This class contains the implementation of the \"cast\" Ballerina function in ballerina/java module.\n          \n          \n            \n             * This class contains the implementation of the \"cast\" Ballerina function in the `ballerina/java` module.", "author": "praneesha", "createdAt": "2020-05-13T10:20:59Z", "path": "stdlib/java/src/main/java/org/ballerinalang/nativeimpl/java/Cast.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.ballerinalang.nativeimpl.java;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.scheduling.Strand;\n+import org.ballerinalang.jvm.types.BField;\n+import org.ballerinalang.jvm.types.BObjectType;\n+import org.ballerinalang.jvm.types.BType;\n+import org.ballerinalang.jvm.types.BTypedescType;\n+import org.ballerinalang.jvm.values.HandleValue;\n+import org.ballerinalang.jvm.values.TypedescValue;\n+import org.ballerinalang.jvm.values.api.BObject;\n+import org.ballerinalang.model.types.TypeKind;\n+import org.ballerinalang.natives.annotations.Argument;\n+import org.ballerinalang.natives.annotations.BallerinaFunction;\n+import org.ballerinalang.natives.annotations.ReturnType;\n+\n+import java.util.Map;\n+\n+import static org.ballerinalang.jvm.BallerinaErrors.createError;\n+import static org.ballerinalang.jvm.values.api.BValueCreator.createObjectValue;\n+\n+/**\n+ * This class contains the implementation of the \"cast\" Ballerina function in ballerina/java module.", "originalCommit": "ec5e849899c02f39bdb791046de7022d70c7321d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9d8d0556d224e73273dd4a8977669e2c0524b8a9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9d8d0556d224e73273dd4a8977669e2c0524b8a9", "message": "Fix Doc comment\n\nCo-authored-by: praneesha <praneesha@wso2.com>", "committedDate": "2020-05-13T11:24:55Z", "type": "commit"}, {"oid": "244c608d64af53595712dfe9870ec7b0e0080e05", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/244c608d64af53595712dfe9870ec7b0e0080e05", "message": "Fix Doc comment\n\nCo-authored-by: praneesha <praneesha@wso2.com>", "committedDate": "2020-05-13T11:25:44Z", "type": "commit"}, {"oid": "6d68b8c265b5d977ec27fd11b6f55348ce8fa699", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6d68b8c265b5d977ec27fd11b6f55348ce8fa699", "message": "Fix Doc comment\n\nCo-authored-by: praneesha <praneesha@wso2.com>", "committedDate": "2020-05-13T11:26:22Z", "type": "commit"}, {"oid": "23618656216c603b6a4b947a5e911f1bba66fe65", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/23618656216c603b6a4b947a5e911f1bba66fe65", "message": "Address review comments", "committedDate": "2020-06-09T00:39:50Z", "type": "commit"}, {"oid": "7279c44dc93186b4607f8298be4892e745bdaceb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7279c44dc93186b4607f8298be4892e745bdaceb", "message": "Fix issues in documentation", "committedDate": "2020-06-09T00:40:20Z", "type": "commit"}, {"oid": "9bab3aa77b82d886ca079eab8a6521343f052d50", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9bab3aa77b82d886ca079eab8a6521343f052d50", "message": "Merge branch 'ballerina-1.2.x' into stdLibUtils12x", "committedDate": "2020-06-09T00:41:55Z", "type": "commit"}]}