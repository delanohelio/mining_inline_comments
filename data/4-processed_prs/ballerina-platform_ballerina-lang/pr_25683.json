{"pr_number": 25683, "pr_title": "Make limit an intermediate query clause", "pr_createdAt": "2020-09-09T08:49:59Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25683", "timeline": [{"oid": "5d695ddd46fb194e5cbd4aeed4b1813c507ff7b8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5d695ddd46fb194e5cbd4aeed4b1813c507ff7b8", "message": "Allow frame expressions in limit clause", "committedDate": "2020-09-07T07:53:54Z", "type": "commit"}, {"oid": "081eafceaf032fe04f50f790cefdd0fb2f479c02", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/081eafceaf032fe04f50f790cefdd0fb2f479c02", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into fix-25585", "committedDate": "2020-09-07T07:54:52Z", "type": "commit"}, {"oid": "088feb0c45d9a0be7fcdd1194828bf0e4d8cfd0a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/088feb0c45d9a0be7fcdd1194828bf0e4d8cfd0a", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into fix-25585", "committedDate": "2020-09-08T00:48:03Z", "type": "commit"}, {"oid": "80582a0c43e5459e1ffa455b5e5bb4493cefdaa7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/80582a0c43e5459e1ffa455b5e5bb4493cefdaa7", "message": "Make limit a intermediate query clause", "committedDate": "2020-09-09T06:14:33Z", "type": "commit"}, {"oid": "f3f309a222253f926b9d009e45e1f56d7bd56d38", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f3f309a222253f926b9d009e45e1f56d7bd56d38", "message": "Make limit a intermediate query clause in old parser", "committedDate": "2020-09-09T07:16:35Z", "type": "commit"}, {"oid": "79225ba5f80c1ef0aa418f07af63e46ae49e8c23", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/79225ba5f80c1ef0aa418f07af63e46ae49e8c23", "message": "Fix tests after making limit a query intermediate clause", "committedDate": "2020-09-09T07:17:53Z", "type": "commit"}, {"oid": "6f66f589bc7ba4fbbe3b1d75b3ce62334364dc75", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6f66f589bc7ba4fbbe3b1d75b3ce62334364dc75", "message": "Merge upstream", "committedDate": "2020-09-09T07:21:55Z", "type": "commit"}, {"oid": "e25aded52660a4324514d4d99f02c655d2ab623d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e25aded52660a4324514d4d99f02c655d2ab623d", "message": "Fix formatter after making limit a query intermediate clause", "committedDate": "2020-09-09T08:42:04Z", "type": "commit"}, {"oid": "56d642668b1dd0011c951921a3295da9902e2888", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/56d642668b1dd0011c951921a3295da9902e2888", "message": "Add IntermediateClauseNode class", "committedDate": "2020-09-09T09:08:22Z", "type": "commit"}, {"oid": "56d642668b1dd0011c951921a3295da9902e2888", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/56d642668b1dd0011c951921a3295da9902e2888", "message": "Add IntermediateClauseNode class", "committedDate": "2020-09-09T09:08:22Z", "type": "forcePushed"}, {"oid": "bb62f77aba845992d5355a492656a618ebccfbfa", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bb62f77aba845992d5355a492656a618ebccfbfa", "message": "Merge upstream", "committedDate": "2020-09-09T09:17:40Z", "type": "commit"}, {"oid": "e08218b3524c2dfe9f8090983ee23cc7ebf5ccb8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e08218b3524c2dfe9f8090983ee23cc7ebf5ccb8", "message": "Fix parser tests for query expression", "committedDate": "2020-09-09T10:21:57Z", "type": "commit"}, {"oid": "e08218b3524c2dfe9f8090983ee23cc7ebf5ccb8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e08218b3524c2dfe9f8090983ee23cc7ebf5ccb8", "message": "Fix parser tests for query expression", "committedDate": "2020-09-09T10:21:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA1OTg0NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25683#discussion_r486059844", "bodyText": "shall we update the grammar rule in the doc comment above this method with limit clause?", "author": "lochana-chathura", "createdAt": "2020-09-10T04:44:21Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -9066,11 +9065,12 @@ private STNode parseIntermediateClause(boolean isRhsExpr) {\n             case ASCENDING_KEYWORD:\n             case DESCENDING_KEYWORD:\n                 return parseOrderByClause(isRhsExpr);\n+            case LIMIT_KEYWORD:\n+                return parseLimitClause(isRhsExpr);", "originalCommit": "e08218b3524c2dfe9f8090983ee23cc7ebf5ccb8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEwMzAzNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25683#discussion_r486103037", "bodyText": "fixed in : f2064f7", "author": "grainier", "createdAt": "2020-09-10T06:47:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA1OTg0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA1OTkyMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25683#discussion_r486059920", "bodyText": "doc above this method also", "author": "lochana-chathura", "createdAt": "2020-09-10T04:44:41Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -9034,9 +9034,8 @@ private STNode parseQueryExprRhs(STNode queryConstructType, boolean isRhsExpr) {\n         STNode intermediateClauses = STNodeFactory.createNodeList(clauses);\n         STNode queryPipeline = STNodeFactory.createQueryPipelineNode(fromClause, intermediateClauses);\n         STNode onConflictClause = parseOnConflictClause(isRhsExpr);\n-        STNode limitClause = parseLimitClause(isRhsExpr);\n         return STNodeFactory.createQueryExpressionNode(queryConstructType, queryPipeline, selectClause,\n-                onConflictClause, limitClause);\n+                onConflictClause);", "originalCommit": "e08218b3524c2dfe9f8090983ee23cc7ebf5ccb8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEwMjk2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25683#discussion_r486102967", "bodyText": "fixed in : f2064f7", "author": "grainier", "createdAt": "2020-09-10T06:47:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA1OTkyMA=="}], "type": "inlineReview"}, {"oid": "8320b4c947558403655cd25bd3e34f50a2787f12", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8320b4c947558403655cd25bd3e34f50a2787f12", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into fix-25585", "committedDate": "2020-09-10T05:50:50Z", "type": "commit"}, {"oid": "26cab73222bb2e1ca9ebc36da90410b174d73565", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/26cab73222bb2e1ca9ebc36da90410b174d73565", "message": "Fix parser/error handler as per review comments", "committedDate": "2020-09-10T06:57:20Z", "type": "commit"}, {"oid": "26cab73222bb2e1ca9ebc36da90410b174d73565", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/26cab73222bb2e1ca9ebc36da90410b174d73565", "message": "Fix parser/error handler as per review comments", "committedDate": "2020-09-10T06:57:20Z", "type": "forcePushed"}]}