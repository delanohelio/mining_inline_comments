{"pr_number": 20580, "pr_title": "Review the Docker annotation BAL file", "pr_createdAt": "2020-01-13T11:50:34Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580", "timeline": [{"oid": "03e293b47b212f333c4a97a33b3377976011daa6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/03e293b47b212f333c4a97a33b3377976011daa6", "message": "Review the docker annotation BAL file", "committedDate": "2020-01-13T11:47:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk1MjI2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580#discussion_r365952267", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # If DOCKER_HOST is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix, use `\"npipe:////./pipe/docker_engine\"` for Windows 10, or use `\"localhost:2375\"`.\n          \n          \n            \n            # If `DOCKER_HOST` is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix, use `\"npipe:////./pipe/docker_engine\"` for Windows 10, or use `\"localhost:2375\"`.", "author": "anupama-pathirage", "createdAt": "2020-01-13T18:15:39Z", "path": "stdlib/docker/src/main/ballerina/src/docker/annotation.bal", "diffHunk": "@@ -16,22 +16,22 @@\n \n # Docker annotation configuration.\n #\n-# + registry - Docker registry url.\n-# + name - Name of the docker image. Default value is the file name of the executable .jar file.\n+# + registry - Docker registry URL.\n+# + name - Name of the Docker image. Default value is the file name of the executable .jar file.\n # + tag - Docker image tag. Default value is `\"latest\"`.\n-# + username - Username for docker registry.\n-# + password - Password for docker registry.\n-# + baseImage - Base image to create the docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n-# + buildImage - Enable building docker image. Default value is `true`.\n-# + push - Enable pushing docker image to registry. Field `buildImage` must be set to `true` to be effective. Default value is `false`.\n-# + cmd - Value for CMD for the generated Dockerfile. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n-# + enableDebug - Enable ballerina debug. Default is `false`.\n-# + debugPort - Ballerina remote debug port. Default is `5005`.\n+# + username - Username for the Docker registry.\n+# + password - Password for the Docker registry.\n+# + baseImage - Base image to create the Docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n+# + buildImage - Enable building the Docker image. Default value is `true`.\n+# + push - Enable pushing the Docker image to registry. The value of the `buildImage` field must be set to `true` to be effective. Default value is `false`.\n+# + cmd - CMD value for the generated Docker file. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n+# + enableDebug - Enable Ballerina debugging. Default is `false`.\n+# + debugPort - Ballerina remote debugging port. Default is `5005`.\n # + dockerAPIVersion - Docker API version.\n-# + dockerHost - Docker host IP and docker PORT. (e.g minikube IP and docker PORT).\n-# Default is to use DOCKER_HOST environment variable.\n-# If DOCKER_HOST is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix or use `\"npipe:////./pipe/docker_engine\"` for Windows 10 or use `\"localhost:2375\"`.\n-# + dockerCertPath - Docker certificate path. Default is to use `\"DOCKER_CERT_PATH\"` environment variable.\n+# + dockerHost - Docker host IP and Docker port (e.g,. Minikube IP and Docker port).\n+# Default is to use the DOCKER_HOST environment variable.\n+# If DOCKER_HOST is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix, use `\"npipe:////./pipe/docker_engine\"` for Windows 10, or use `\"localhost:2375\"`.", "originalCommit": "03e293b47b212f333c4a97a33b3377976011daa6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk1MjQ1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580#discussion_r365952455", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Default is to use the DOCKER_HOST environment variable.\n          \n          \n            \n            # Default is to use the `DOCKER_HOST` environment variable.", "author": "anupama-pathirage", "createdAt": "2020-01-13T18:16:03Z", "path": "stdlib/docker/src/main/ballerina/src/docker/annotation.bal", "diffHunk": "@@ -16,22 +16,22 @@\n \n # Docker annotation configuration.\n #\n-# + registry - Docker registry url.\n-# + name - Name of the docker image. Default value is the file name of the executable .jar file.\n+# + registry - Docker registry URL.\n+# + name - Name of the Docker image. Default value is the file name of the executable .jar file.\n # + tag - Docker image tag. Default value is `\"latest\"`.\n-# + username - Username for docker registry.\n-# + password - Password for docker registry.\n-# + baseImage - Base image to create the docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n-# + buildImage - Enable building docker image. Default value is `true`.\n-# + push - Enable pushing docker image to registry. Field `buildImage` must be set to `true` to be effective. Default value is `false`.\n-# + cmd - Value for CMD for the generated Dockerfile. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n-# + enableDebug - Enable ballerina debug. Default is `false`.\n-# + debugPort - Ballerina remote debug port. Default is `5005`.\n+# + username - Username for the Docker registry.\n+# + password - Password for the Docker registry.\n+# + baseImage - Base image to create the Docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n+# + buildImage - Enable building the Docker image. Default value is `true`.\n+# + push - Enable pushing the Docker image to registry. The value of the `buildImage` field must be set to `true` to be effective. Default value is `false`.\n+# + cmd - CMD value for the generated Docker file. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n+# + enableDebug - Enable Ballerina debugging. Default is `false`.\n+# + debugPort - Ballerina remote debugging port. Default is `5005`.\n # + dockerAPIVersion - Docker API version.\n-# + dockerHost - Docker host IP and docker PORT. (e.g minikube IP and docker PORT).\n-# Default is to use DOCKER_HOST environment variable.\n-# If DOCKER_HOST is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix or use `\"npipe:////./pipe/docker_engine\"` for Windows 10 or use `\"localhost:2375\"`.\n-# + dockerCertPath - Docker certificate path. Default is to use `\"DOCKER_CERT_PATH\"` environment variable.\n+# + dockerHost - Docker host IP and Docker port (e.g,. Minikube IP and Docker port).\n+# Default is to use the DOCKER_HOST environment variable.", "originalCommit": "03e293b47b212f333c4a97a33b3377976011daa6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk2MjE0Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580#discussion_r365962143", "bodyText": "Default behavior is to use the DOCKER_HOST environment variable", "author": "pubudu91", "createdAt": "2020-01-13T18:38:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk1MjQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjE5MTQ0NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580#discussion_r366191444", "bodyText": "Default behavior is to use the DOCKER_HOST environment variable\n\nAdded.", "author": "praneesha", "createdAt": "2020-01-14T07:52:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk1MjQ1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk1Mjg4MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580#discussion_r365952881", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + push - Enable pushing the Docker image to registry. The value of the `buildImage` field must be set to `true` to be effective. Default value is `false`.\n          \n          \n            \n            # + push - Enable pushing the Docker image to the registry. The value of the `buildImage` field must be set to `true` to be effective. Default value is `false`.", "author": "anupama-pathirage", "createdAt": "2020-01-13T18:17:03Z", "path": "stdlib/docker/src/main/ballerina/src/docker/annotation.bal", "diffHunk": "@@ -16,22 +16,22 @@\n \n # Docker annotation configuration.\n #\n-# + registry - Docker registry url.\n-# + name - Name of the docker image. Default value is the file name of the executable .jar file.\n+# + registry - Docker registry URL.\n+# + name - Name of the Docker image. Default value is the file name of the executable .jar file.\n # + tag - Docker image tag. Default value is `\"latest\"`.\n-# + username - Username for docker registry.\n-# + password - Password for docker registry.\n-# + baseImage - Base image to create the docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n-# + buildImage - Enable building docker image. Default value is `true`.\n-# + push - Enable pushing docker image to registry. Field `buildImage` must be set to `true` to be effective. Default value is `false`.\n-# + cmd - Value for CMD for the generated Dockerfile. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n-# + enableDebug - Enable ballerina debug. Default is `false`.\n-# + debugPort - Ballerina remote debug port. Default is `5005`.\n+# + username - Username for the Docker registry.\n+# + password - Password for the Docker registry.\n+# + baseImage - Base image to create the Docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n+# + buildImage - Enable building the Docker image. Default value is `true`.\n+# + push - Enable pushing the Docker image to registry. The value of the `buildImage` field must be set to `true` to be effective. Default value is `false`.", "originalCommit": "03e293b47b212f333c4a97a33b3377976011daa6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk2MjQwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20580#discussion_r365962405", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + dockerCertPath - Docker certificate path. Default is to use the `\"DOCKER_CERT_PATH\"` environment variable.\n          \n          \n            \n            # + dockerCertPath - Docker certificate path. Default behavior is to use the `DOCKER_CERT_PATH` environment variable.", "author": "pubudu91", "createdAt": "2020-01-13T18:38:39Z", "path": "stdlib/docker/src/main/ballerina/src/docker/annotation.bal", "diffHunk": "@@ -16,22 +16,22 @@\n \n # Docker annotation configuration.\n #\n-# + registry - Docker registry url.\n-# + name - Name of the docker image. Default value is the file name of the executable .jar file.\n+# + registry - Docker registry URL.\n+# + name - Name of the Docker image. Default value is the file name of the executable .jar file.\n # + tag - Docker image tag. Default value is `\"latest\"`.\n-# + username - Username for docker registry.\n-# + password - Password for docker registry.\n-# + baseImage - Base image to create the docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n-# + buildImage - Enable building docker image. Default value is `true`.\n-# + push - Enable pushing docker image to registry. Field `buildImage` must be set to `true` to be effective. Default value is `false`.\n-# + cmd - Value for CMD for the generated Dockerfile. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n-# + enableDebug - Enable ballerina debug. Default is `false`.\n-# + debugPort - Ballerina remote debug port. Default is `5005`.\n+# + username - Username for the Docker registry.\n+# + password - Password for the Docker registry.\n+# + baseImage - Base image to create the Docker image. Default value is `\"openjdk:8-jre-alpine\"`.\n+# + buildImage - Enable building the Docker image. Default value is `true`.\n+# + push - Enable pushing the Docker image to registry. The value of the `buildImage` field must be set to `true` to be effective. Default value is `false`.\n+# + cmd - CMD value for the generated Docker file. Default is `CMD java -jar ${APP} [--b7a.config.file=${CONFIG_FILE}] [--debug]`.\n+# + enableDebug - Enable Ballerina debugging. Default is `false`.\n+# + debugPort - Ballerina remote debugging port. Default is `5005`.\n # + dockerAPIVersion - Docker API version.\n-# + dockerHost - Docker host IP and docker PORT. (e.g minikube IP and docker PORT).\n-# Default is to use DOCKER_HOST environment variable.\n-# If DOCKER_HOST is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix or use `\"npipe:////./pipe/docker_engine\"` for Windows 10 or use `\"localhost:2375\"`.\n-# + dockerCertPath - Docker certificate path. Default is to use `\"DOCKER_CERT_PATH\"` environment variable.\n+# + dockerHost - Docker host IP and Docker port (e.g,. Minikube IP and Docker port).\n+# Default is to use the DOCKER_HOST environment variable.\n+# If DOCKER_HOST is unavailable, use `\"unix:///var/run/docker.sock\"` for Unix, use `\"npipe:////./pipe/docker_engine\"` for Windows 10, or use `\"localhost:2375\"`.\n+# + dockerCertPath - Docker certificate path. Default is to use the `\"DOCKER_CERT_PATH\"` environment variable.", "originalCommit": "03e293b47b212f333c4a97a33b3377976011daa6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f2475b500ef2b86545bdc792edbfd8fbb005d6a8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f2475b500ef2b86545bdc792edbfd8fbb005d6a8", "message": "Update stdlib/docker/src/main/ballerina/src/docker/annotation.bal\n\nCo-Authored-By: Anupama Pathirage <anupama@wso2.com>", "committedDate": "2020-01-14T07:49:33Z", "type": "commit"}, {"oid": "32896ab6484af8eb3986e1a9fe62fe9fa5ad326c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/32896ab6484af8eb3986e1a9fe62fe9fa5ad326c", "message": "Update stdlib/docker/src/main/ballerina/src/docker/annotation.bal\n\nCo-Authored-By: Anupama Pathirage <anupama@wso2.com>", "committedDate": "2020-01-14T07:49:58Z", "type": "commit"}, {"oid": "b0d24373a2d0b5200d8f1070aaa9e7b5b570dd1f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b0d24373a2d0b5200d8f1070aaa9e7b5b570dd1f", "message": "Update stdlib/docker/src/main/ballerina/src/docker/annotation.bal\n\nCo-Authored-By: Anupama Pathirage <anupama@wso2.com>", "committedDate": "2020-01-14T07:50:22Z", "type": "commit"}, {"oid": "cccd118c10ad7a95b17757225757a3199dcf6d13", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cccd118c10ad7a95b17757225757a3199dcf6d13", "message": "Update stdlib/docker/src/main/ballerina/src/docker/annotation.bal\n\nCo-Authored-By: Pubudu Fernando <pubudu.fernando@gmail.com>", "committedDate": "2020-01-14T07:50:37Z", "type": "commit"}, {"oid": "4d41c90eb794e9494a3ebf31a0f07a9310eea867", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4d41c90eb794e9494a3ebf31a0f07a9310eea867", "message": "Address review comments", "committedDate": "2020-01-14T07:53:08Z", "type": "commit"}]}