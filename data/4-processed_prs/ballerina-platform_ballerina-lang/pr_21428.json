{"pr_number": 21428, "pr_title": "Fix custom error type description not being defined.", "pr_createdAt": "2020-03-03T06:41:55Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ0OTAxMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428#discussion_r387449012", "bodyText": "Shall we use a simple string as the reason and move the current reason you've used as the message field of the detail?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if(!(e is typedesc<FooError>)) {\n          \n          \n            \n                    error panicError = error(\"expected typedesc<FooError> but found: \" + e.toString());\n          \n          \n            \n                    panic panicError;\n          \n          \n            \n                }\n          \n          \n            \n                if !(e is typedesc<FooError>) {\n          \n          \n            \n                    panic error(\"AssertionError\", message = \"expected typedesc<FooError> but found: \" + e.toString());\n          \n          \n            \n                }", "author": "MaryamZi", "createdAt": "2020-03-04T04:57:01Z", "path": "tests/jballerina-unit-test/src/test/resources/test-src/record/open_record.bal", "diffHunk": "@@ -473,3 +473,29 @@ function addStringToMapValue(string s) returns string {\n     mapValue = mapValue + s;\n     return mapValue;\n }\n+\n+public type CustomDetail record {\n+    string message;\n+    error cause?;\n+};\n+\n+public const FOO_REASON = \"FooError\";\n+public type FooError error<FOO_REASON, CustomDetail>;\n+\n+public const BAR_REASON = \"BarError\";\n+public type BarError error<BAR_REASON, CustomDetail>;\n+\n+public type Error FooError|BarError;\n+\n+public type MyRecord record {\n+    typedesc<Error>[] myErrorTypes = [FooError];\n+};\n+\n+function testCustomErrorTypeDescFieldOnRecord() {\n+    MyRecord m = {};\n+    typedesc<Error> e = m.myErrorTypes[0];\n+    if(!(e is typedesc<FooError>)) {\n+        error panicError = error(\"expected typedesc<FooError> but found: \" + e.toString());\n+        panic panicError;\n+    }", "originalCommit": "cef0fc652cd1c5c906fad90f2c1e1a47e20fc1e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEwMjU2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428#discussion_r388102567", "bodyText": "+1, fixed.", "author": "irshadnilam", "createdAt": "2020-03-05T06:39:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ0OTAxMg=="}], "type": "inlineReview"}, {"oid": "aa90d7395a67e0934101fab7d3c8e8ee51f75bc2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/aa90d7395a67e0934101fab7d3c8e8ee51f75bc2", "message": "Fix custom error typedesc not being defined", "committedDate": "2020-03-05T11:40:18Z", "type": "commit"}]}