{"pr_number": 26095, "pr_title": "Add string diff to the error message when equality assertion fails", "pr_createdAt": "2020-09-25T07:35:15Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26095", "timeline": [{"oid": "70b87d89b52d5c8fdc50335f9a8110513ec7b3bd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/70b87d89b52d5c8fdc50335f9a8110513ec7b3bd", "message": "Show assertion diff in unified format", "committedDate": "2020-09-28T17:28:17Z", "type": "forcePushed"}, {"oid": "aad6c2c052f91025cece319fd36cbbee1bebf951", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/aad6c2c052f91025cece319fd36cbbee1bebf951", "message": "Show assertion diff in unified format", "committedDate": "2020-09-28T17:45:43Z", "type": "forcePushed"}, {"oid": "8fddd8586d4cd78735e1eacd6c66ccc22b3b2b86", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8fddd8586d4cd78735e1eacd6c66ccc22b3b2b86", "message": "Show assertion diff in unified format", "committedDate": "2020-09-28T20:00:14Z", "type": "forcePushed"}, {"oid": "4fe41400c87a5d3c8b28858983fbfe7599f84e7b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4fe41400c87a5d3c8b28858983fbfe7599f84e7b", "message": "Improve assertion diff implementation", "committedDate": "2020-10-08T06:48:59Z", "type": "forcePushed"}, {"oid": "4b0e13411014ecb63e82de2c0ea224ad8c9253d4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4b0e13411014ecb63e82de2c0ea224ad8c9253d4", "message": "Add java-diff-utils", "committedDate": "2020-10-08T07:10:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU4MDAyOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26095#discussion_r501580029", "bodyText": "End of line is missing", "author": "parkavi11", "createdAt": "2020-10-08T09:33:09Z", "path": "misc/testerina/modules/testerina-core/src/main/java/module-info.java", "diffHunk": "@@ -4,4 +4,5 @@\n     requires io.ballerina.core;\n     requires io.ballerina.testerina.runtime;\n     requires io.ballerina.jvm;\n+    requires io.github.javadiffutils;\n }", "originalCommit": "0b5e58a60e1636f085585996787740ed6cfe1538", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "26383a82ef5138b9703f169a7822329622662a30", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/26383a82ef5138b9703f169a7822329622662a30", "message": "Add string diff for failed assertions", "committedDate": "2020-10-08T09:38:21Z", "type": "commit"}, {"oid": "a07f997a4005b85b2a6c0b65619d8e7a80de60f8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a07f997a4005b85b2a6c0b65619d8e7a80de60f8", "message": "Show assertion diff in unified format", "committedDate": "2020-10-08T09:38:22Z", "type": "commit"}, {"oid": "1655268601d83b16833f86b390aa4d12d4dceb9a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1655268601d83b16833f86b390aa4d12d4dceb9a", "message": "Add line based assertion diff", "committedDate": "2020-10-08T09:38:22Z", "type": "commit"}, {"oid": "5669b1b8e100d9598080e84fb653467c121dab3f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5669b1b8e100d9598080e84fb653467c121dab3f", "message": "Improve assertion diff implementation", "committedDate": "2020-10-08T09:38:22Z", "type": "commit"}, {"oid": "c7138085241d4b654c4a62b7ae0dfcc2acf32da1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c7138085241d4b654c4a62b7ae0dfcc2acf32da1", "message": "Add java-diff-utils", "committedDate": "2020-10-08T09:38:22Z", "type": "commit"}, {"oid": "839a2913cd43ffdbb4b9de6832359af75270bcdb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/839a2913cd43ffdbb4b9de6832359af75270bcdb", "message": "Add dependency to module-info", "committedDate": "2020-10-08T09:38:22Z", "type": "commit"}, {"oid": "81cb8799d4d1b70cdcac6b764c9a4f36d7430b6e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/81cb8799d4d1b70cdcac6b764c9a4f36d7430b6e", "message": "Improve long string error message", "committedDate": "2020-10-08T09:38:22Z", "type": "commit"}, {"oid": "6b1c0ee9221a1df5eddd5a7325b5688936f21a70", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6b1c0ee9221a1df5eddd5a7325b5688936f21a70", "message": "Update test cases for error messages", "committedDate": "2020-10-08T09:53:02Z", "type": "commit"}, {"oid": "6b1c0ee9221a1df5eddd5a7325b5688936f21a70", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6b1c0ee9221a1df5eddd5a7325b5688936f21a70", "message": "Update test cases for error messages", "committedDate": "2020-10-08T09:53:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTYwNzY2MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26095#discussion_r501607660", "bodyText": "Why don't we add license header for this file?", "author": "parkavi11", "createdAt": "2020-10-08T10:16:59Z", "path": "misc/testerina/modules/testerina-core/src/main/java/org/ballerinalang/testerina/core/AssertionDiffEvaluator.java", "diffHunk": "@@ -0,0 +1,73 @@\n+package org.ballerinalang.testerina.core;", "originalCommit": "16a3a5d6b6967ea6ee960bf3bdff4986d38e75c4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTYwOTA5Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26095#discussion_r501609096", "bodyText": "Isn't this line exceeds 120 character limit?", "author": "parkavi11", "createdAt": "2020-10-08T10:19:17Z", "path": "tests/testerina-integration-test/src/test/resources/project-based-tests/basic-tests/src/assertions-error-messages/tests/assertions-error-messages.bal", "diffHunk": "@@ -88,7 +88,7 @@ function testAssertTableAndString() {\n     string customerTabString = \"table [{id: 1, name: \\\"John\\\", salary: 300.50},{id: 2, name: \\\"Bella\\\", salary: 500.50}]\";\n     error? err = trap test:assertEquals(customerTab, customerTabString);\n     error result = <error>err;\n-    test:assertEquals(result.message().toString(), \"Assertion Failed!\\nexpected: <string> 'table [{id: 1, name: \\\"John\\\", salary: 300.50},{id: 2, name: \\\"Bella\\\", salary: 500.'\\nactual\\t: <table> '[{\\\"id\\\":1,\\\"name\\\":\\\"John\\\",\\\"salary\\\":300.5},{\\\"id\\\":2,\\\"name\\\":\\\"Bella\\\",\\\"salary\\\":500.5}]'\");\n+    test:assertEquals(result.message().toString(), \"Assertion Failed!\\nexpected: <string> 'table [{id: 1, name: \\\"John\\\", salary: 300.50},{id: 2, name: \\\"Bella\\\", salary: 500....'\\nactual\\t: <table> '[{\\\"id\\\":1,\\\"name\\\":\\\"John\\\",\\\"salary\\\":300.5},{\\\"id\\\":2,\\\"name\\\":\\\"Bella\\\",\\\"salary\\\":500.5}]'\");", "originalCommit": "16a3a5d6b6967ea6ee960bf3bdff4986d38e75c4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e61395794953ad4e063af419e4ce35995e8c41fa", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e61395794953ad4e063af419e4ce35995e8c41fa", "message": "Fix PR siggestions", "committedDate": "2020-10-08T11:12:16Z", "type": "commit"}, {"oid": "e61395794953ad4e063af419e4ce35995e8c41fa", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e61395794953ad4e063af419e4ce35995e8c41fa", "message": "Fix PR siggestions", "committedDate": "2020-10-08T11:12:16Z", "type": "forcePushed"}]}