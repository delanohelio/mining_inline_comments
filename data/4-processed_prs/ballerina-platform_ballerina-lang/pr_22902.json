{"pr_number": 22902, "pr_title": "Support Multiple Versions of Same Module at Runtime ", "pr_createdAt": "2020-04-26T18:35:17Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902", "timeline": [{"oid": "fbc999c0b35c7d18bb48611e61f93097a946162c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fbc999c0b35c7d18bb48611e61f93097a946162c", "message": "Add version to native function annotation", "committedDate": "2020-04-26T17:51:43Z", "type": "commit"}, {"oid": "522f9de4801eda7b57b9d718bd37767f803e4838", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/522f9de4801eda7b57b9d718bd37767f803e4838", "message": "Add version to lang lib native functions", "committedDate": "2020-04-26T17:52:18Z", "type": "commit"}, {"oid": "41c42529cee12b963ea6552a7a75a5c4f1a292fc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/41c42529cee12b963ea6552a7a75a5c4f1a292fc", "message": "Add version to observe lib native functions", "committedDate": "2020-04-26T18:08:30Z", "type": "commit"}, {"oid": "590530d13cd1221f945c13fa6b760281c8e528c8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/590530d13cd1221f945c13fa6b760281c8e528c8", "message": "Refactor lang lib versions", "committedDate": "2020-04-26T18:25:06Z", "type": "commit"}, {"oid": "65446077aaa070faceedca58161a3ceaaa29ebc9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/65446077aaa070faceedca58161a3ceaaa29ebc9", "message": "Include module versions to generated java package", "committedDate": "2020-04-26T18:27:55Z", "type": "commit"}, {"oid": "8837b6872ff355f96198eeec3608dc7bb492718a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8837b6872ff355f96198eeec3608dc7bb492718a", "message": "Add module version support to  cli tool tasks", "committedDate": "2020-04-26T18:28:29Z", "type": "commit"}, {"oid": "1871cd783671f24b6af2a0ed57fc6978a3cb5c9f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1871cd783671f24b6af2a0ed57fc6978a3cb5c9f", "message": "Fix tests with runtime module version support", "committedDate": "2020-04-26T18:29:55Z", "type": "commit"}, {"oid": "f3ed926b58ff7ba8dc66617bf290911b96dea477", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f3ed926b58ff7ba8dc66617bf290911b96dea477", "message": "Refactor testerina with  module version support", "committedDate": "2020-04-26T18:31:42Z", "type": "commit"}, {"oid": "64f0b9f4f6aa8c923f001f030a11bfd85286f9f4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/64f0b9f4f6aa8c923f001f030a11bfd85286f9f4", "message": "Refactor gradle build use project version", "committedDate": "2020-04-26T18:32:25Z", "type": "commit"}, {"oid": "35ef1c1c71f76c9aa56f0792dfae51e965f519a1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/35ef1c1c71f76c9aa56f0792dfae51e965f519a1", "message": "Merge branch master", "committedDate": "2020-04-27T07:40:16Z", "type": "commit"}, {"oid": "d06848d5605e302125450fb1d0e6e2d56ae2bdf4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d06848d5605e302125450fb1d0e6e2d56ae2bdf4", "message": "Add version to ballerina java native functions", "committedDate": "2020-04-27T07:49:13Z", "type": "commit"}, {"oid": "41aa9395883c4a9989b0557595cf8112d876d7dd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/41aa9395883c4a9989b0557595cf8112d876d7dd", "message": "Merge branch master", "committedDate": "2020-04-27T07:53:58Z", "type": "commit"}, {"oid": "2826765ddc5196525f9159530248af25595cd312", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2826765ddc5196525f9159530248af25595cd312", "message": "Merge branch master", "committedDate": "2020-04-27T17:30:10Z", "type": "commit"}, {"oid": "fb9132a5717d193fbd1fe6d05ad6a70ffbeeafb9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fb9132a5717d193fbd1fe6d05ad6a70ffbeeafb9", "message": "Add version to lang lib test native functions", "committedDate": "2020-04-28T13:09:52Z", "type": "commit"}, {"oid": "4867552b057368472a0c0d64a89c3160ec62ff5d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4867552b057368472a0c0d64a89c3160ec62ff5d", "message": "Fix build with adding java docs to version param", "committedDate": "2020-04-28T13:12:16Z", "type": "commit"}, {"oid": "870d3229858c6c5f97b9cef2f5299f2edb553a3d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/870d3229858c6c5f97b9cef2f5299f2edb553a3d", "message": "Fix missing source in invokable symbol", "committedDate": "2020-04-28T13:12:56Z", "type": "commit"}, {"oid": "46be70951f350a1d4a01da3a204626129a9537d6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/46be70951f350a1d4a01da3a204626129a9537d6", "message": "Refactor websub lib to support multiple versions", "committedDate": "2020-05-02T09:34:44Z", "type": "commit"}, {"oid": "b4521efe81cdb816f9f459d8c550fdfed8fcf2a1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b4521efe81cdb816f9f459d8c550fdfed8fcf2a1", "message": "Support versions in desuger and function executor", "committedDate": "2020-05-02T09:59:36Z", "type": "commit"}, {"oid": "334dc60529733cf9606a0cb4fc44df2e4f201f3b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/334dc60529733cf9606a0cb4fc44df2e4f201f3b", "message": "Revert balo path reading change", "committedDate": "2020-05-02T10:01:26Z", "type": "commit"}, {"oid": "b6ee540c37989ce758740b65ab5aea125204c39b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b6ee540c37989ce758740b65ab5aea125204c39b", "message": "Refactor stdlib to support multi module versions", "committedDate": "2020-05-02T10:02:29Z", "type": "commit"}, {"oid": "010632eeab8a678b145001ef43b315e3f815106c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/010632eeab8a678b145001ef43b315e3f815106c", "message": "Fix tests to support multiple module versions", "committedDate": "2020-05-02T10:06:28Z", "type": "commit"}, {"oid": "9f99b2e8403a6c0f5ce6a63cb89e49cb4cf115c7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9f99b2e8403a6c0f5ce6a63cb89e49cb4cf115c7", "message": "Merge master branch", "committedDate": "2020-05-02T11:20:46Z", "type": "commit"}, {"oid": "631a5af0fa9308f13a7181f6fb726355b6cd93f4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/631a5af0fa9308f13a7181f6fb726355b6cd93f4", "message": "Add version to table lib native functions", "committedDate": "2020-05-02T11:24:57Z", "type": "commit"}, {"oid": "e8bcbda57160d95ca176e2322a6d258697a7f76e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e8bcbda57160d95ca176e2322a6d258697a7f76e", "message": "Add module version to grpc annotations", "committedDate": "2020-05-04T06:47:39Z", "type": "commit"}, {"oid": "30f490725d3438757c0a2f323ffd0da943bd4c52", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/30f490725d3438757c0a2f323ffd0da943bd4c52", "message": "Refactor http stdlib to use module version", "committedDate": "2020-05-04T06:48:20Z", "type": "commit"}, {"oid": "59f3e6142481520a05fa144edc16da56a61e06e4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/59f3e6142481520a05fa144edc16da56a61e06e4", "message": "Fix codegen issue after merging with master", "committedDate": "2020-05-04T06:50:23Z", "type": "commit"}, {"oid": "8cbb64a75bd38eb29a80b8def98c0ae7e72ff957", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cbb64a75bd38eb29a80b8def98c0ae7e72ff957", "message": "Fix http module unit tests CNF issue", "committedDate": "2020-05-04T06:51:15Z", "type": "commit"}, {"oid": "95b95d6c1e1a1dfd698fb51ad9b481e1287731e8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/95b95d6c1e1a1dfd698fb51ad9b481e1287731e8", "message": "Fix multiple versions of module in observability", "committedDate": "2020-05-04T16:30:06Z", "type": "commit"}, {"oid": "49198325eb48008205611563cbf072f6bd7460ad", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/49198325eb48008205611563cbf072f6bd7460ad", "message": "Fix checkstyle issues", "committedDate": "2020-05-05T05:05:09Z", "type": "commit"}, {"oid": "2c056df8d16fcc68e9a3068c9b98458d850e4dc4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2c056df8d16fcc68e9a3068c9b98458d850e4dc4", "message": "Fix stdlib unit tests with module version support", "committedDate": "2020-05-05T13:10:19Z", "type": "commit"}, {"oid": "2e4fb7654611535a4f687031472cf14324a01b1f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2e4fb7654611535a4f687031472cf14324a01b1f", "message": "Fix tests broken  due to module version support", "committedDate": "2020-05-05T13:22:41Z", "type": "commit"}, {"oid": "c930b85ce0cecbfb3b99663e7e9d8c5c6b320bd2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c930b85ce0cecbfb3b99663e7e9d8c5c6b320bd2", "message": "Merge branch master", "committedDate": "2020-05-05T17:16:57Z", "type": "commit"}, {"oid": "c930b85ce0cecbfb3b99663e7e9d8c5c6b320bd2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c930b85ce0cecbfb3b99663e7e9d8c5c6b320bd2", "message": "Merge branch master", "committedDate": "2020-05-05T17:16:57Z", "type": "forcePushed"}, {"oid": "3bd619daeecee500644c7bb89ee7fedf03939be3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3bd619daeecee500644c7bb89ee7fedf03939be3", "message": "Merge branch master", "committedDate": "2020-05-06T15:12:42Z", "type": "commit"}, {"oid": "994fa437c9cd6025cdce20ac1c4d6f631229bacc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/994fa437c9cd6025cdce20ac1c4d6f631229bacc", "message": "Fix table type NPE during init", "committedDate": "2020-05-07T17:04:33Z", "type": "commit"}, {"oid": "a5d2f5735d0710e1194d57771ace251edd5b90f6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a5d2f5735d0710e1194d57771ace251edd5b90f6", "message": "Merge branch master", "committedDate": "2020-05-09T06:03:47Z", "type": "commit"}, {"oid": "684d37fe664bdddd0d28ea021062b625e6a6ffb4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/684d37fe664bdddd0d28ea021062b625e6a6ffb4", "message": "Merge branch master", "committedDate": "2020-05-11T12:54:05Z", "type": "commit"}, {"oid": "a84049663e47290c281a172da19f24e083eeac8e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a84049663e47290c281a172da19f24e083eeac8e", "message": "Fix lang server tests with multi version support", "committedDate": "2020-05-11T12:54:43Z", "type": "commit"}, {"oid": "89e018ae6dbc7657b9ee4f6c8cdc5309a01daaab", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/89e018ae6dbc7657b9ee4f6c8cdc5309a01daaab", "message": "Merge branch master", "committedDate": "2020-05-11T17:16:22Z", "type": "commit"}, {"oid": "107b4236d26803b47ff235d44e36f25a25bf1ec5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/107b4236d26803b47ff235d44e36f25a25bf1ec5", "message": "Add integration test to multi versions of module", "committedDate": "2020-05-12T12:46:47Z", "type": "commit"}, {"oid": "85926c16069e9a812a27e3e072232c915691a7f6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/85926c16069e9a812a27e3e072232c915691a7f6", "message": "Merge branch master", "committedDate": "2020-05-12T12:58:09Z", "type": "commit"}, {"oid": "4777bd3ff214b99264a9dc019e48c8ed142a78ed", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4777bd3ff214b99264a9dc019e48c8ed142a78ed", "message": "Add version to table lib new native functions", "committedDate": "2020-05-12T13:02:31Z", "type": "commit"}, {"oid": "245260bdb948ab5c7a2dcc6908d78f7cb7044926", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/245260bdb948ab5c7a2dcc6908d78f7cb7044926", "message": "Fix import order of the tests", "committedDate": "2020-05-12T14:07:25Z", "type": "commit"}, {"oid": "c05aeaf5e388989b25fe77d30618ef7edb057683", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c05aeaf5e388989b25fe77d30618ef7edb057683", "message": "Merge branch master", "committedDate": "2020-05-13T07:28:42Z", "type": "commit"}, {"oid": "02c92a37b1c5b01a5f8378c8abbbabcbfa18253b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/02c92a37b1c5b01a5f8378c8abbbabcbfa18253b", "message": "Merge branch master", "committedDate": "2020-05-13T10:59:50Z", "type": "commit"}, {"oid": "6631b9d2f8913675d364706d8191d6e01b045222", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6631b9d2f8913675d364706d8191d6e01b045222", "message": "Merge branch master", "committedDate": "2020-05-13T15:08:21Z", "type": "commit"}, {"oid": "93c754834904bae7e650104aab599b93d7cfedc1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/93c754834904bae7e650104aab599b93d7cfedc1", "message": "Fix tests in BLangNodeTransformerTest", "committedDate": "2020-05-14T06:24:06Z", "type": "commit"}, {"oid": "cd74664f859dde11b3ad742222403876defa0e23", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cd74664f859dde11b3ad742222403876defa0e23", "message": "Merge branch master", "committedDate": "2020-05-14T06:25:11Z", "type": "commit"}, {"oid": "8c9b514138b00acc1653cda533f9b3ff85f43dd3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8c9b514138b00acc1653cda533f9b3ff85f43dd3", "message": "Add version to new langlib internal natives", "committedDate": "2020-05-14T08:32:17Z", "type": "commit"}, {"oid": "8c9b514138b00acc1653cda533f9b3ff85f43dd3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8c9b514138b00acc1653cda533f9b3ff85f43dd3", "message": "Add version to new langlib internal natives", "committedDate": "2020-05-14T08:32:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk4MDk1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r424980954", "bodyText": "Replce . with \"-\". for natives \"java\"", "author": "warunalakshitha", "createdAt": "2020-05-14T09:00:46Z", "path": "gradle/balNativeLibProject.gradle", "diffHunk": "@@ -149,7 +151,8 @@ task createBStringBalo(type: CreateBaloTask) {\n     inputs.files(configurations.baloImplementation)\n     inputs.files(\"$buildDir/build/classes/java/main/META-INF/this.map.json\")\n     outputs.dir(\"$buildDir/generated-balo\")\n-    outputs.files(\"$buildDir/generated-bir-jar/\" + project.ext.orgName + \".\" + project.ext.moduleName + \"-bstring.jar\")\n+    outputs.files(\"$buildDir/generated-bir-jar/\" + project.ext.orgName + \".\" + project.ext.moduleName + \".\" + project", "originalCommit": "8c9b514138b00acc1653cda533f9b3ff85f43dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYyMjM1OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r425622358", "bodyText": "Fixed", "author": "warunalakshitha", "createdAt": "2020-05-15T07:40:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk4MDk1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5MDA3Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r424990076", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                this.version + \"\\\", \" + \"\\\"\" + this.name + \"\\\", \" + this.typeArrayToCode(this.argTypes) + \", \" +\n          \n          \n            \n                                this.version + \"\\\", \\\"\" + this.name + \"\\\", \" + this.typeArrayToCode(this.argTypes) + \", \" +", "author": "manuranga", "createdAt": "2020-05-14T09:15:14Z", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/codegen/BallerinaAnnotationProcessor.java", "diffHunk": "@@ -282,8 +287,8 @@ protected String typeArrayToCode(List<TypeKind> types) {\n         }\n         \n         public String code() {\n-            return \"registerNativeFunction(new NativeFunctionDef(\\\"\" + this.org + \"\\\", \\\"\" + this.pkg + \"\\\", \" +\n-                    \"\\\"\" + this.name + \"\\\", \" + this.typeArrayToCode(this.argTypes) + \", \" +\n+            return \"registerNativeFunction(new NativeFunctionDef(\\\"\" + this.org + \"\\\", \\\"\" + this.pkg + \"\\\", \\\"\" +\n+                    this.version + \"\\\", \" + \"\\\"\" + this.name + \"\\\", \" + this.typeArrayToCode(this.argTypes) + \", \" +", "originalCommit": "8c9b514138b00acc1653cda533f9b3ff85f43dd3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5MDk1Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r424990953", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static final String ANN_SERVICE_CONFIG_FQN = PROTOCOL_STRUCT_PACKAGE_GRPC + \":\" + \"ServiceConfig\";\n          \n          \n            \n                public static final String ANN_SERVICE_CONFIG_FQN = PROTOCOL_STRUCT_PACKAGE_GRPC + \":ServiceConfig\";", "author": "manuranga", "createdAt": "2020-05-14T09:16:37Z", "path": "stdlib/grpc/src/main/java/org/ballerinalang/net/grpc/proto/ServiceProtoConstants.java", "diffHunk": "@@ -47,6 +49,7 @@\n     public static final String TMP_DIRECTORY_PATH = System.getProperty(\"java.io.tmpdir\");\n \n     public static final String ANN_SERVICE_CONFIG = \"ServiceConfig\";\n+    public static final String ANN_SERVICE_CONFIG_FQN = PROTOCOL_STRUCT_PACKAGE_GRPC + \":\" + \"ServiceConfig\";", "originalCommit": "8c9b514138b00acc1653cda533f9b3ff85f43dd3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b64972d3921a5ea220d6c9244571b9cea1def7cc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b64972d3921a5ea220d6c9244571b9cea1def7cc", "message": "Apply suggestions from code review\n\nCo-authored-by: manuranga perera <manu@wso2.com>", "committedDate": "2020-05-14T11:14:31Z", "type": "commit"}, {"oid": "486ac513ac73783e018a37c7007ba335fe0abdc0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/486ac513ac73783e018a37c7007ba335fe0abdc0", "message": "Merge branch master", "committedDate": "2020-05-14T20:15:22Z", "type": "commit"}, {"oid": "0c40d7f582c53df97cd37bc2a4a43382c70b80ce", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0c40d7f582c53df97cd37bc2a4a43382c70b80ce", "message": "Merge branch module_version_support", "committedDate": "2020-05-14T20:15:54Z", "type": "commit"}, {"oid": "bd5318d5dec89681c9d7ccd338b0c9e94fc43372", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bd5318d5dec89681c9d7ccd338b0c9e94fc43372", "message": "Refcator stdlib and langlib final jar names", "committedDate": "2020-05-15T07:37:54Z", "type": "commit"}, {"oid": "b3769438aa85eca29afbab343111b49664d05ff2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b3769438aa85eca29afbab343111b49664d05ff2", "message": "Merge branch master", "committedDate": "2020-05-15T07:38:54Z", "type": "commit"}, {"oid": "fdb96cae70a0879d85243bf0befbb3b0cf8dcd6c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fdb96cae70a0879d85243bf0befbb3b0cf8dcd6c", "message": "Merge branch master", "committedDate": "2020-05-15T13:12:33Z", "type": "commit"}, {"oid": "9eaf52fb975c69363481ad07b78a461e8676d925", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9eaf52fb975c69363481ad07b78a461e8676d925", "message": "Merge branch master", "committedDate": "2020-05-16T13:46:07Z", "type": "commit"}, {"oid": "36f34c176b32818823a25d93e9ebbb977c981661", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/36f34c176b32818823a25d93e9ebbb977c981661", "message": "Merge branch master", "committedDate": "2020-05-18T11:29:16Z", "type": "commit"}, {"oid": "a735937de70b640f654da63f1b7391d977ecf77c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a735937de70b640f654da63f1b7391d977ecf77c", "message": "Remove unnecessary ballerina logs", "committedDate": "2020-05-19T08:54:05Z", "type": "commit"}, {"oid": "602d4c24947ee55f3928798736ee8e268adb95c7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/602d4c24947ee55f3928798736ee8e268adb95c7", "message": "Merge branch master", "committedDate": "2020-05-19T08:54:34Z", "type": "commit"}, {"oid": "bfba1b229d9dc0f684001788b58b80935fcf34ef", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bfba1b229d9dc0f684001788b58b80935fcf34ef", "message": "Merge branch master", "committedDate": "2020-05-20T05:54:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY3MjM3Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r428672376", "bodyText": "looks like version.replace('.', '_') is a common code seen on multiple occurrences in this PR that can be moved to a method ?", "author": "Kishanthan", "createdAt": "2020-05-21T14:05:05Z", "path": "cli/ballerina-tool/src/main/java/org/ballerinalang/tool/util/BFileUtil.java", "diffHunk": "@@ -118,11 +118,18 @@ public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOEx\n      *\n      * @param orgName     Org name\n      * @param packageName Package name\n+     * @param version Package version\n      * @param className   Class name\n      * @return Qualified class name\n      */\n-    public static String getQualifiedClassName(String orgName, String packageName, String className) {\n+    public static String getQualifiedClassName(String orgName, String packageName, String version,\n+                                               String className) {\n+\n+\n         if (!Names.DEFAULT_PACKAGE.value.equals(packageName)) {\n+            if (!\"\".equals(version)) {\n+                className = version.replace('.', '_') + \".\" + className;", "originalCommit": "bfba1b229d9dc0f684001788b58b80935fcf34ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTE0OTE4OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r429149189", "bodyText": "even there are multiple occurrences, these are in different modules and packages. Then moving to seperate method will not have any difference and this is also already inside util method of each module", "author": "warunalakshitha", "createdAt": "2020-05-22T09:44:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY3MjM3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY3Mzg4Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r428673886", "bodyText": "for lang.lib module versions, can we use constants and refer them wherever needed?", "author": "Kishanthan", "createdAt": "2020-05-21T14:07:32Z", "path": "langlib/lang.map/src/main/java/org/ballerinalang/langlib/map/ToArray.java", "diffHunk": "@@ -43,7 +43,7 @@\n  * @since 1.2.0\n  */\n @BallerinaFunction(\n-        orgName = \"ballerina\", packageName = \"lang.map\",\n+        orgName = \"ballerina\", packageName = \"lang.map\", version = \"1.1.0\",", "originalCommit": "bfba1b229d9dc0f684001788b58b80935fcf34ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyNjI2Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22902#discussion_r428826263", "bodyText": "@Kishanthan Testcase for multiple versions", "author": "warunalakshitha", "createdAt": "2020-05-21T18:12:48Z", "path": "tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/packaging/MultipleVersionsModuleTestCase.java", "diffHunk": "@@ -0,0 +1,174 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.ballerinalang.test.packaging;\n+\n+import org.awaitility.Duration;\n+import org.ballerinalang.test.BaseTest;\n+import org.ballerinalang.test.context.BMainInstance;\n+import org.ballerinalang.test.context.BallerinaTestException;\n+import org.ballerinalang.test.context.LogLeecher;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import org.wso2.ballerinalang.programfile.ProgramFileConstants;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+import static java.util.concurrent.TimeUnit.SECONDS;\n+import static org.awaitility.Awaitility.given;\n+import static org.ballerinalang.test.packaging.PackerinaTestUtils.deleteFiles;\n+import static org.wso2.ballerinalang.compiler.util.ProjectDirConstants.BLANG_COMPILED_JAR_EXT;\n+import static org.wso2.ballerinalang.compiler.util.ProjectDirConstants.BLANG_COMPILED_PKG_BINARY_EXT;\n+\n+/**\n+ * Testing usage of multiple versions of same module.\n+ *\n+ * @since 2.0.0\n+ */\n+public class MultipleVersionsModuleTestCase extends BaseTest {", "originalCommit": "bfba1b229d9dc0f684001788b58b80935fcf34ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3b046947a6456c9bf4bff4632a5ffd5099ba7a39", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b046947a6456c9bf4bff4632a5ffd5099ba7a39", "message": "Add constants for lang lib versions", "committedDate": "2020-05-23T08:04:37Z", "type": "commit"}, {"oid": "4aeb0c324d040fd39c10671baf9c68164dfc5e4e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4aeb0c324d040fd39c10671baf9c68164dfc5e4e", "message": "Add version to lang lib native functions", "committedDate": "2020-05-23T08:24:36Z", "type": "commit"}, {"oid": "c41a719a280716f389cd5d6c4deec67c817e9010", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c41a719a280716f389cd5d6c4deec67c817e9010", "message": "Merge branch master", "committedDate": "2020-05-23T08:27:48Z", "type": "commit"}, {"oid": "ea63d830257f9660b2984d691ab556e8ed556597", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ea63d830257f9660b2984d691ab556e8ed556597", "message": "Add test lang-lib version", "committedDate": "2020-05-23T09:29:39Z", "type": "commit"}, {"oid": "741ab7669449934d3110df7f64bc34883f4052be", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/741ab7669449934d3110df7f64bc34883f4052be", "message": "Add version to langlib native functions", "committedDate": "2020-05-23T10:33:35Z", "type": "commit"}, {"oid": "e5182df4d6ae5c008e181c8cf77aea930649be28", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e5182df4d6ae5c008e181c8cf77aea930649be28", "message": "Merge branch master", "committedDate": "2020-05-25T10:36:24Z", "type": "commit"}, {"oid": "73867569e509479d4f17614f265f5a3946552ee8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/73867569e509479d4f17614f265f5a3946552ee8", "message": "Merge branch master", "committedDate": "2020-05-26T06:13:13Z", "type": "commit"}, {"oid": "f78f87b3f64cbe2660eba9ceaf87f114e6f847e8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f78f87b3f64cbe2660eba9ceaf87f114e6f847e8", "message": "Merge branch master", "committedDate": "2020-05-26T14:40:33Z", "type": "commit"}]}