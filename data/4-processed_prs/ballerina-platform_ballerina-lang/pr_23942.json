{"pr_number": 23942, "pr_title": "batchExecute functionality for SQL connector", "pr_createdAt": "2020-06-11T09:43:27Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/23942", "timeline": [{"oid": "4538aaccef0a69e3e06bc76af98e8c37a355d9f6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4538aaccef0a69e3e06bc76af98e8c37a355d9f6", "message": "Add SQL BatchExecute", "committedDate": "2020-06-07T12:14:34Z", "type": "commit"}, {"oid": "2d4cc266f954a4bcbfdff4090e439be8946e2dab", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d4cc266f954a4bcbfdff4090e439be8946e2dab", "message": "Execute only one batch", "committedDate": "2020-06-07T12:54:41Z", "type": "commit"}, {"oid": "93bf4567db1fe9a9302187d18656a67be13a477e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/93bf4567db1fe9a9302187d18656a67be13a477e", "message": "Implement rollbackInFailure", "committedDate": "2020-06-07T13:04:50Z", "type": "commit"}, {"oid": "f10c1d7d493a83ce996aff6fa2649bc688cb0414", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f10c1d7d493a83ce996aff6fa2649bc688cb0414", "message": "Remove redundant class", "committedDate": "2020-06-07T14:03:52Z", "type": "commit"}, {"oid": "32e91265bcf2917e9bd773e5d00f807c8bc06673", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/32e91265bcf2917e9bd773e5d00f807c8bc06673", "message": "Refactor ExecuteResult", "committedDate": "2020-06-08T09:47:42Z", "type": "commit"}, {"oid": "c76f2688b534bafdbbd52109b7209e85385040b1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c76f2688b534bafdbbd52109b7209e85385040b1", "message": "Adding API docs", "committedDate": "2020-06-09T08:24:32Z", "type": "commit"}, {"oid": "7bd6db9f5df340d30e9f2099b29ac4efaec85993", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7bd6db9f5df340d30e9f2099b29ac4efaec85993", "message": "Remove unnecessary lines", "committedDate": "2020-06-09T08:27:31Z", "type": "commit"}, {"oid": "f796fa2e8dd6c035ad36844429f93fb2bfd36475", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f796fa2e8dd6c035ad36844429f93fb2bfd36475", "message": "Add SQL batch execute tests", "committedDate": "2020-06-11T07:24:21Z", "type": "commit"}, {"oid": "337475bddc4693fc0f1a97864a0f2638bd7220f8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/337475bddc4693fc0f1a97864a0f2638bd7220f8", "message": "Fix BatchExecuteError not under sql:Error", "committedDate": "2020-06-11T08:11:43Z", "type": "commit"}, {"oid": "9550aa4c125f71e7c47234c9bea174a6a397a624", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9550aa4c125f71e7c47234c9bea174a6a397a624", "message": "Add jdbc batchExecute testcases", "committedDate": "2020-06-11T08:12:28Z", "type": "commit"}, {"oid": "0672d91238dad3385b73135295794215cb523a26", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0672d91238dad3385b73135295794215cb523a26", "message": "Fix checkstyle", "committedDate": "2020-06-11T08:13:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODY2OTQ4NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23942#discussion_r438669484", "bodyText": "Isn't this should be 2.0.0?", "author": "sinthuja", "createdAt": "2020-06-11T09:47:33Z", "path": "stdlib/database/jdbc/src/test/java/org/ballerinalang/jdbc/batchexecute/BatchExecuteTest.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.jdbc.batchexecute;\n+\n+import org.ballerinalang.jdbc.utils.SQLDBUtils;\n+import org.ballerinalang.model.values.BError;\n+import org.ballerinalang.model.values.BMap;\n+import org.ballerinalang.model.values.BString;\n+import org.ballerinalang.model.values.BValue;\n+import org.ballerinalang.model.values.BValueArray;\n+import org.ballerinalang.model.values.BValueType;\n+import org.ballerinalang.sql.Constants;\n+import org.ballerinalang.test.util.BCompileUtil;\n+import org.ballerinalang.test.util.BRunUtil;\n+import org.ballerinalang.test.util.CompileResult;\n+import org.testng.Assert;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+\n+import java.io.File;\n+import java.sql.SQLException;\n+\n+import static org.ballerinalang.sql.Constants.ErrorRecordFields.EXECUTION_RESULTS;\n+\n+/**\n+ * This test class verifies the behaviour of the batch execute.\n+ *\n+ * @since 1.3.0", "originalCommit": "0672d91238dad3385b73135295794215cb523a26", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODY3ODIxNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23942#discussion_r438678214", "bodyText": "Fixed in e00abad", "author": "niveathika", "createdAt": "2020-06-11T10:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODY2OTQ4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODY2OTY4MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23942#discussion_r438669680", "bodyText": "Looks like a formatting issue?", "author": "sinthuja", "createdAt": "2020-06-11T09:47:49Z", "path": "stdlib/database/jdbc/src/test/java/org/ballerinalang/jdbc/batchexecute/BatchExecuteTest.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.jdbc.batchexecute;\n+\n+import org.ballerinalang.jdbc.utils.SQLDBUtils;\n+import org.ballerinalang.model.values.BError;\n+import org.ballerinalang.model.values.BMap;\n+import org.ballerinalang.model.values.BString;\n+import org.ballerinalang.model.values.BValue;\n+import org.ballerinalang.model.values.BValueArray;\n+import org.ballerinalang.model.values.BValueType;\n+import org.ballerinalang.sql.Constants;\n+import org.ballerinalang.test.util.BCompileUtil;\n+import org.ballerinalang.test.util.BRunUtil;\n+import org.ballerinalang.test.util.CompileResult;\n+import org.testng.Assert;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+\n+import java.io.File;\n+import java.sql.SQLException;\n+\n+import static org.ballerinalang.sql.Constants.ErrorRecordFields.EXECUTION_RESULTS;\n+\n+/**\n+ * This test class verifies the behaviour of the batch execute.\n+ *\n+ * @since 1.3.0\n+ */\n+public class BatchExecuteTest {\n+    private CompileResult result;\n+    private static final String DB_NAME = \"TEST_SQL_BATCH_EXECUTE\";\n+    private static final String JDBC_URL = \"jdbc:h2:file:\" + SQLDBUtils.DB_DIR + DB_NAME;\n+    private BValue[] args = {new BString(JDBC_URL), new BString(SQLDBUtils.DB_USER),\n+            new BString(SQLDBUtils.DB_PASSWORD)};\n+    @BeforeClass\n+    public void setup() throws SQLException {\n+        result = BCompileUtil.compileOffline(SQLDBUtils.getBalFilesDir(\"batchexecute\",\n+                                                                            \"batch-execute-query-test.bal\"));", "originalCommit": "0672d91238dad3385b73135295794215cb523a26", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODY3ODEzMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23942#discussion_r438678133", "bodyText": "Fixed in e00abad", "author": "niveathika", "createdAt": "2020-06-11T10:03:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODY2OTY4MA=="}], "type": "inlineReview"}, {"oid": "e00abadeee63ba34c9c0cc85598ca8544dc2a17e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e00abadeee63ba34c9c0cc85598ca8544dc2a17e", "message": "Reformat", "committedDate": "2020-06-11T10:02:46Z", "type": "commit"}]}