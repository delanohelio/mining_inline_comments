{"pr_number": 25239, "pr_title": "Fix conflict of syntax kinds between terminal and non-terminal nodes.", "pr_createdAt": "2020-08-12T13:15:04Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239", "timeline": [{"oid": "e5cb6bdbf3d286768274fa06e1a33a75fc8ac51a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e5cb6bdbf3d286768274fa06e1a33a75fc8ac51a", "message": "Fix usage of terminal kinds to non-terminal basicLiteralNode.", "committedDate": "2020-08-12T12:10:46Z", "type": "commit"}, {"oid": "00960fe55954512bd3807a5a914bd99c3c7ae377", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/00960fe55954512bd3807a5a914bd99c3c7ae377", "message": "Fix string literal value issue.", "committedDate": "2020-08-12T13:07:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2NzEzNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469667137", "bodyText": "can extract lengthExpr.childInBucket(0) to a variable.", "author": "SupunS", "createdAt": "2020-08-13T02:55:48Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -7713,12 +7738,16 @@ private STNode parseArrayTypeDescriptorNode(STIndexedExpressionNode indexedExpr)\n         // Validate the array length expression\n         STNode lengthExpr = lengthExprs.get(0);\n         switch (lengthExpr.kind) {\n-            case DECIMAL_INTEGER_LITERAL:\n-            case HEX_INTEGER_LITERAL:\n             case ASTERISK_TOKEN:\n             case SIMPLE_NAME_REFERENCE:\n             case QUALIFIED_NAME_REFERENCE:\n                 break;\n+            case NUMERIC_LITERAL:\n+                if (lengthExpr.childInBucket(0).kind == SyntaxKind.DECIMAL_INTEGER_LITERAL_TOKEN ||", "originalCommit": "00960fe55954512bd3807a5a914bd99c3c7ae377", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY3ODkzNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469678934", "bodyText": "Done", "author": "rdulmina", "createdAt": "2020-08-13T03:45:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2NzEzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2NzYwMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469667600", "bodyText": "Do we need a ASTERISK_LITERAL?", "author": "SupunS", "createdAt": "2020-08-13T02:57:33Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -15483,7 +15495,7 @@ private SyntaxKind getBracketedListNodeType(STNode memberNode) {\n         }\n \n         switch (memberNode.kind) {\n-            case ASTERISK_TOKEN:\n+            case ASTERISK_LITERAL:", "originalCommit": "00960fe55954512bd3807a5a914bd99c3c7ae377", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY3OTU4OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469679588", "bodyText": "There is a place where we treat asterisk as a basic literal in line 4894. So that is why I have used ASTERISK_LITERAL.", "author": "rdulmina", "createdAt": "2020-08-13T03:48:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2NzYwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODI5OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469668298", "bodyText": "Usually we keep a space between // and the first character in the comment :)", "author": "SupunS", "createdAt": "2020-08-13T03:00:16Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/SyntaxKind.java", "diffHunk": "@@ -201,23 +201,43 @@\n     PARAMETER_DOC_REFERENCE_TOKEN(907, \"parameter\"),\n     CONST_DOC_REFERENCE_TOKEN(908, \"const\"),\n \n+    //Literal tokens", "originalCommit": "00960fe55954512bd3807a5a914bd99c3c7ae377", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY3OTc1Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469679756", "bodyText": "Thanx will change.", "author": "rdulmina", "createdAt": "2020-08-13T03:48:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODI5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODQ0OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469668449", "bodyText": "Should we move these under expressions?", "author": "SupunS", "createdAt": "2020-08-13T03:00:55Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/SyntaxKind.java", "diffHunk": "@@ -201,23 +201,43 @@\n     PARAMETER_DOC_REFERENCE_TOKEN(907, \"parameter\"),\n     CONST_DOC_REFERENCE_TOKEN(908, \"const\"),\n \n+    //Literal tokens\n     IDENTIFIER_TOKEN(1000),\n-    STRING_LITERAL(1001),\n-    DECIMAL_INTEGER_LITERAL(1002),\n-    HEX_INTEGER_LITERAL(1003),\n-    DECIMAL_FLOATING_POINT_LITERAL(1004),\n-    HEX_FLOATING_POINT_LITERAL(1005),\n+    STRING_LITERAL_TOKEN(1001),\n+    DECIMAL_INTEGER_LITERAL_TOKEN(1002),\n+    HEX_INTEGER_LITERAL_TOKEN(1003),\n+    DECIMAL_FLOATING_POINT_LITERAL_TOKEN(1004),\n+    HEX_FLOATING_POINT_LITERAL_TOKEN(1005),\n     XML_TEXT_CONTENT(1006),\n     TEMPLATE_STRING(1007),\n \n+    //Documentation\n+    DOCUMENTATION_DESCRIPTION(1100),\n+    PARAMETER_NAME(1101),\n+    BACKTICK_CONTENT(1102),\n+    DEPRECATION_LITERAL(1103),\n+    DOCUMENTATION_STRING(1104),\n+\n+    INVALID_TOKEN(1190),\n+\n+    //-----------------------------------------------non-terminal-kinds-----------------------------------------------\n+\n+    //Basic literal kinds\n+    STRING_LITERAL(1200),\n+    NUMERIC_LITERAL(1201),\n+    BOOLEAN_LITERAL(1202),\n+    NIL_LITERAL(1203),\n+    BASIC_LITERAL(1204),\n+    BYTE_ARRAY_LITERAL(1205),\n+    ASTERISK_LITERAL(1206),", "originalCommit": "00960fe55954512bd3807a5a914bd99c3c7ae377", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY4MDIzNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469680234", "bodyText": "By removing the basic literal kinds section?", "author": "rdulmina", "createdAt": "2020-08-13T03:50:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODQ0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY4NTA0OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469685049", "bodyText": "moved to expressions", "author": "rdulmina", "createdAt": "2020-08-13T04:09:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODQ0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODU3Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469668573", "bodyText": "we may no longer need BASIC_LITERAL", "author": "SupunS", "createdAt": "2020-08-13T03:01:25Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/SyntaxKind.java", "diffHunk": "@@ -201,23 +201,43 @@\n     PARAMETER_DOC_REFERENCE_TOKEN(907, \"parameter\"),\n     CONST_DOC_REFERENCE_TOKEN(908, \"const\"),\n \n+    //Literal tokens\n     IDENTIFIER_TOKEN(1000),\n-    STRING_LITERAL(1001),\n-    DECIMAL_INTEGER_LITERAL(1002),\n-    HEX_INTEGER_LITERAL(1003),\n-    DECIMAL_FLOATING_POINT_LITERAL(1004),\n-    HEX_FLOATING_POINT_LITERAL(1005),\n+    STRING_LITERAL_TOKEN(1001),\n+    DECIMAL_INTEGER_LITERAL_TOKEN(1002),\n+    HEX_INTEGER_LITERAL_TOKEN(1003),\n+    DECIMAL_FLOATING_POINT_LITERAL_TOKEN(1004),\n+    HEX_FLOATING_POINT_LITERAL_TOKEN(1005),\n     XML_TEXT_CONTENT(1006),\n     TEMPLATE_STRING(1007),\n \n+    //Documentation\n+    DOCUMENTATION_DESCRIPTION(1100),\n+    PARAMETER_NAME(1101),\n+    BACKTICK_CONTENT(1102),\n+    DEPRECATION_LITERAL(1103),\n+    DOCUMENTATION_STRING(1104),\n+\n+    INVALID_TOKEN(1190),\n+\n+    //-----------------------------------------------non-terminal-kinds-----------------------------------------------\n+\n+    //Basic literal kinds\n+    STRING_LITERAL(1200),\n+    NUMERIC_LITERAL(1201),\n+    BOOLEAN_LITERAL(1202),\n+    NIL_LITERAL(1203),\n+    BASIC_LITERAL(1204),", "originalCommit": "00960fe55954512bd3807a5a914bd99c3c7ae377", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY4MzY1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469683655", "bodyText": "Removed", "author": "rdulmina", "createdAt": "2020-08-13T04:04:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODU3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODk0OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469668949", "bodyText": "Do we need separate kinds for null literal and () literal?", "author": "SupunS", "createdAt": "2020-08-13T03:03:02Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/syntax/tree/SyntaxKind.java", "diffHunk": "@@ -201,23 +201,43 @@\n     PARAMETER_DOC_REFERENCE_TOKEN(907, \"parameter\"),\n     CONST_DOC_REFERENCE_TOKEN(908, \"const\"),\n \n+    //Literal tokens\n     IDENTIFIER_TOKEN(1000),\n-    STRING_LITERAL(1001),\n-    DECIMAL_INTEGER_LITERAL(1002),\n-    HEX_INTEGER_LITERAL(1003),\n-    DECIMAL_FLOATING_POINT_LITERAL(1004),\n-    HEX_FLOATING_POINT_LITERAL(1005),\n+    STRING_LITERAL_TOKEN(1001),\n+    DECIMAL_INTEGER_LITERAL_TOKEN(1002),\n+    HEX_INTEGER_LITERAL_TOKEN(1003),\n+    DECIMAL_FLOATING_POINT_LITERAL_TOKEN(1004),\n+    HEX_FLOATING_POINT_LITERAL_TOKEN(1005),\n     XML_TEXT_CONTENT(1006),\n     TEMPLATE_STRING(1007),\n \n+    //Documentation\n+    DOCUMENTATION_DESCRIPTION(1100),\n+    PARAMETER_NAME(1101),\n+    BACKTICK_CONTENT(1102),\n+    DEPRECATION_LITERAL(1103),\n+    DOCUMENTATION_STRING(1104),\n+\n+    INVALID_TOKEN(1190),\n+\n+    //-----------------------------------------------non-terminal-kinds-----------------------------------------------\n+\n+    //Basic literal kinds\n+    STRING_LITERAL(1200),\n+    NUMERIC_LITERAL(1201),\n+    BOOLEAN_LITERAL(1202),\n+    NIL_LITERAL(1203),", "originalCommit": "00960fe55954512bd3807a5a914bd99c3c7ae377", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY4MTU1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r469681554", "bodyText": "No, since null and () are both nil literal I have used a single kind.", "author": "rdulmina", "createdAt": "2020-08-13T03:55:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODk0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTYyMzUxNA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25239#discussion_r471623514", "bodyText": "used seprate kinds", "author": "rdulmina", "createdAt": "2020-08-17T17:09:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2ODk0OQ=="}], "type": "inlineReview"}, {"oid": "983e55a94d13a4489703addd709e36e9b6250ac9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/983e55a94d13a4489703addd709e36e9b6250ac9", "message": "Reformat code.", "committedDate": "2020-08-13T04:04:08Z", "type": "commit"}, {"oid": "9efb6630ebd2658bf6d531a5a96f75f414fdec7a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9efb6630ebd2658bf6d531a5a96f75f414fdec7a", "message": "NodeTransformer change for basicLiteralNode change.", "committedDate": "2020-08-13T07:14:04Z", "type": "commit"}, {"oid": "6d993db6323467172399db336433055c5a4d7125", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6d993db6323467172399db336433055c5a4d7125", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-08-13T07:14:40Z", "type": "commit"}, {"oid": "2fc868c90c1b261b0fbef04095364decd14b27d6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2fc868c90c1b261b0fbef04095364decd14b27d6", "message": "Fix CCE.", "committedDate": "2020-08-13T11:37:13Z", "type": "commit"}, {"oid": "0252c2bbed85e57fc8be32d662c859bfc4919856", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0252c2bbed85e57fc8be32d662c859bfc4919856", "message": "Update assert files.", "committedDate": "2020-08-13T11:44:52Z", "type": "commit"}, {"oid": "090913fda06f5b93391de113001fad4c0c00cf21", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/090913fda06f5b93391de113001fad4c0c00cf21", "message": "Commented logic to catch conflicting syntax kinds.", "committedDate": "2020-08-13T11:47:22Z", "type": "commit"}, {"oid": "b42429d66796f7be43382e69f74837efaeca7d77", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b42429d66796f7be43382e69f74837efaeca7d77", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-08-13T12:03:45Z", "type": "commit"}, {"oid": "d1cd34a9e34fb60e67267d1bfbf6d55485044462", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d1cd34a9e34fb60e67267d1bfbf6d55485044462", "message": "Introduce NULL_LITERAL syntax kind.", "committedDate": "2020-08-15T08:00:18Z", "type": "commit"}, {"oid": "1da943fb5e444b2ee534dbbb4c7e03a77fb514ca", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1da943fb5e444b2ee534dbbb4c7e03a77fb514ca", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-08-17T05:53:23Z", "type": "commit"}, {"oid": "929921402a67f63213c1afe5c8a570c2e5a561f1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/929921402a67f63213c1afe5c8a570c2e5a561f1", "message": "Introduce SIMPLE_TYPE_DESC syntax kind.", "committedDate": "2020-08-17T10:59:30Z", "type": "commit"}, {"oid": "8914f8c5e3e0d4d65b51b708e7870e63b242a4dd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8914f8c5e3e0d4d65b51b708e7870e63b242a4dd", "message": "Fix compilation error on language server.", "committedDate": "2020-08-17T16:51:45Z", "type": "commit"}, {"oid": "9d27220f2fcdb6bbc29677b395fced1711b83b24", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9d27220f2fcdb6bbc29677b395fced1711b83b24", "message": "Remove support code segments in ParserTestUtils.", "committedDate": "2020-08-17T16:53:43Z", "type": "commit"}, {"oid": "98a7cadbf8bce1a83e846d200d463581188ac473", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/98a7cadbf8bce1a83e846d200d463581188ac473", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-08-17T17:06:24Z", "type": "commit"}, {"oid": "ef02b12b0635e93e9869e82392396ee96dd9ec71", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ef02b12b0635e93e9869e82392396ee96dd9ec71", "message": "Fix compilation failure in debug-adapter.", "committedDate": "2020-08-18T04:38:52Z", "type": "commit"}, {"oid": "03a610cf120a7c18edf0bfbed158c4099adf06be", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/03a610cf120a7c18edf0bfbed158c4099adf06be", "message": "Fix compilation failure in formatter-core.", "committedDate": "2020-08-18T05:22:08Z", "type": "commit"}, {"oid": "a4adf27699127a8ba2c4b7e511c53bebe888fef4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a4adf27699127a8ba2c4b7e511c53bebe888fef4", "message": "Update assert file.", "committedDate": "2020-08-18T05:54:54Z", "type": "commit"}, {"oid": "6ad455980ab614b6a15d4549b2b71c12b09b74de", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ad455980ab614b6a15d4549b2b71c12b09b74de", "message": "Use context to get the error message for missing tokens.", "committedDate": "2020-08-19T09:50:23Z", "type": "commit"}, {"oid": "808bc45c436a77d8f20b683e3414b13fc58e2a47", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/808bc45c436a77d8f20b683e3414b13fc58e2a47", "message": "Update assert files.", "committedDate": "2020-08-19T12:20:47Z", "type": "commit"}, {"oid": "5d79c8345fe50804bdff34e855dd83126c974351", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5d79c8345fe50804bdff34e855dd83126c974351", "message": "Modify the parsing logic of type reference.", "committedDate": "2020-08-19T16:54:57Z", "type": "commit"}, {"oid": "876dbdf2e0cd3258396586e27769675806ccb310", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/876dbdf2e0cd3258396586e27769675806ccb310", "message": "Update assert files.", "committedDate": "2020-08-19T17:00:54Z", "type": "commit"}, {"oid": "f49a01943c12858d9d95cfe82b4858b2ed0cb171", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f49a01943c12858d9d95cfe82b4858b2ed0cb171", "message": "Removed TYPE_DESC syntax kind from node transformer.", "committedDate": "2020-08-19T17:27:55Z", "type": "commit"}, {"oid": "8d3d1fbc2871eebb2902be7844e3f22430d21f55", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8d3d1fbc2871eebb2902be7844e3f22430d21f55", "message": "Remove commented code lines.", "committedDate": "2020-08-19T17:36:25Z", "type": "commit"}, {"oid": "173370e9e6538111be68e912b989999279384864", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/173370e9e6538111be68e912b989999279384864", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-08-21T04:59:02Z", "type": "commit"}, {"oid": "ee49501d098036356a39bcba8b9f03806e1b11bf", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ee49501d098036356a39bcba8b9f03806e1b11bf", "message": "Fix CCE in NodeTransformer.", "committedDate": "2020-08-24T04:57:30Z", "type": "commit"}]}