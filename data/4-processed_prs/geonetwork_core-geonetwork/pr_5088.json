{"pr_number": 5088, "pr_title": "missing comma in array in json-ld", "pr_createdAt": "2020-10-15T07:55:17Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/5088", "timeline": [{"oid": "993564b1c7ace9bef4f94cc81611437dd50e6d7a", "url": "https://github.com/geonetwork/core-geonetwork/commit/993564b1c7ace9bef4f94cc81611437dd50e6d7a", "message": "missing comma in array", "committedDate": "2020-10-15T07:53:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQyNzc4Ng==", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#discussion_r505427786", "bodyText": "The code should be checking if there are gmd:contact elements or not to add the ,. To test:\n<xsl:if test=\"(position() != last()) or (count(//gmd:contact) > 0)\">,</xsl:if>", "author": "josegar74", "createdAt": "2020-10-15T10:16:56Z", "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/jsonld/iso19139-to-jsonld.xsl", "diffHunk": "@@ -202,7 +202,7 @@\n     <xsl:if test=\"position() != last()\">,</xsl:if>\n     </xsl:for-each>],\n     \"provider\" : [<xsl:for-each select=\"gmd:identificationInfo/*/gmd:pointOfContact/*[gmd:role/gmd:CI_RoleCode/@codeListValue='resourceProvider' or gmd:role/gmd:CI_RoleCode/@codeListValue='custodian']\">\n-    <xsl:apply-templates mode=\"doContact\" select=\".\"/>\n+    <xsl:apply-templates mode=\"doContact\" select=\".\"/>,", "originalCommit": "993564b1c7ace9bef4f94cc81611437dd50e6d7a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ1MTgwMg==", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#discussion_r505451802", "bodyText": "Reverted the change, apologies for the confusion as gmd:contact is mandatory, so the change proposed was not required.", "author": "josegar74", "createdAt": "2020-10-15T10:59:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQyNzc4Ng=="}], "type": "inlineReview"}, {"oid": "7adbcd834ecaa204916bddeff50a99d0db7dedf9", "url": "https://github.com/geonetwork/core-geonetwork/commit/7adbcd834ecaa204916bddeff50a99d0db7dedf9", "message": "only comma if contacts exist", "committedDate": "2020-10-15T10:25:19Z", "type": "commit"}, {"oid": "e72db93f081ba64691392914b5ecb610327ede33", "url": "https://github.com/geonetwork/core-geonetwork/commit/e72db93f081ba64691392914b5ecb610327ede33", "message": "Not required the check of gmd:contact to add the comma as it's a mandatory element", "committedDate": "2020-10-15T10:58:43Z", "type": "commit"}]}