{"pr_number": 4883, "pr_title": "UserSearch / 255 char is too small for URLs", "pr_createdAt": "2020-07-28T06:03:27Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4883", "timeline": [{"oid": "18115dd32571e78b188684823d12aba26a9fdceb", "url": "https://github.com/geonetwork/core-geonetwork/commit/18115dd32571e78b188684823d12aba26a9fdceb", "message": "UserSearch / 255 char is too small for URLs", "committedDate": "2020-07-28T06:03:12Z", "type": "commit"}, {"oid": "a0bc0f1c28eeebf14c6614ff610fecaf123842ab", "url": "https://github.com/geonetwork/core-geonetwork/commit/a0bc0f1c28eeebf14c6614ff610fecaf123842ab", "message": "UserSearch / 255 char is too small for URLs / SQL migration.", "committedDate": "2020-08-14T14:15:28Z", "type": "commit"}, {"oid": "c91058c189b3c803d1c92992ec1d5c9a59de14bd", "url": "https://github.com/geonetwork/core-geonetwork/commit/c91058c189b3c803d1c92992ec1d5c9a59de14bd", "message": "UserSearch / 255 char is too small for URLs / SQL migration - keep DROP index at the end.", "committedDate": "2020-08-14T14:21:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDY2MDY2MQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4883#discussion_r470660661", "bodyText": "According to the following\nhttps://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:1770086700346491686\nIt looks like it would be multiple commands for oracle and they would be the following.\nALTER TABLE usersearch ADD ( temp clob );\nALTER TABLE usersearch SET temp=url , url =null;\nALTER TABLE usersearch DROP column url ;\nALTER TABLE usersearch RENAME COLUMN temp to url ;", "author": "ianwallen", "createdAt": "2020-08-14T14:33:09Z", "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3110/migrate-oracle.sql", "diffHunk": "@@ -11,3 +11,5 @@ ALTER TABLE Validation ALTER COLUMN valType TYPE varchar(128);\n \n -- New setting for server timezone\n INSERT INTO Settings (name, value, datatype, position, internal) VALUES ('system/server/timeZone', '', 0, 260, 'n');\n+\n+ALTER TABLE usersearch ALTER COLUMN url TYPE text;", "originalCommit": "c91058c189b3c803d1c92992ec1d5c9a59de14bd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4bf02210d4d43b3092b8762231a55fc1bc5163d8", "url": "https://github.com/geonetwork/core-geonetwork/commit/4bf02210d4d43b3092b8762231a55fc1bc5163d8", "message": "UserSearch / 255 char is too small for URLs / SQL migration - Thanks @ianwallen for Oracle hint.", "committedDate": "2020-08-17T05:44:03Z", "type": "commit"}, {"oid": "bd051dbfac09e64f82f6b84416dab267985365b8", "url": "https://github.com/geonetwork/core-geonetwork/commit/bd051dbfac09e64f82f6b84416dab267985365b8", "message": "UserSearch / 255 char is too small for URLs / SQL migration.", "committedDate": "2020-08-18T07:56:03Z", "type": "commit"}, {"oid": "410ea2afe78d821ef44bed80ebc2ba786f9da39d", "url": "https://github.com/geonetwork/core-geonetwork/commit/410ea2afe78d821ef44bed80ebc2ba786f9da39d", "message": "Merge branch 'master' into fxprunayre-patch-5", "committedDate": "2020-09-04T10:59:56Z", "type": "commit"}]}