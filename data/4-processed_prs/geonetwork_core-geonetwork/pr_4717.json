{"pr_number": 4717, "pr_title": "remove unsafe characters from thesaurus identifier / filename", "pr_createdAt": "2020-05-26T21:58:43Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4717", "timeline": [{"oid": "12bd164a19d12891e134136ca0742915f774ffc1", "url": "https://github.com/geonetwork/core-geonetwork/commit/12bd164a19d12891e134136ca0742915f774ffc1", "message": "remove unsafe characters from thesaurus identifier / filename", "committedDate": "2020-05-26T21:57:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3NTUwNQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4717#discussion_r430875505", "bodyText": "I would maybe at least allow \".-_\" which are quite often used in thesaurus filename?", "author": "fxprunayre", "createdAt": "2020-05-27T06:02:44Z", "path": "web-ui/src/main/resources/catalog/js/admin/ThesaurusController.js", "diffHunk": "@@ -253,7 +253,7 @@\n       $scope.computeThesaurusNs = function() {\n         $scope.thesaurusSuggestedNs =\n             location.origin +\n-            '/thesaurus/' + $scope.thesaurusSelected.dname + '/' +\n+            '/thesaurus/' + $scope.thesaurusSelected.dname.replace(/[^\\d\\w]/gi, '') + '/' +", "originalCommit": "12bd164a19d12891e134136ca0742915f774ffc1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAzMjA4OA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4717#discussion_r431032088", "bodyText": "+1 can you suggest a file change?", "author": "pvgenuchten", "createdAt": "2020-05-27T10:58:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3NTUwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3MDg3Nw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4717#discussion_r431170877", "bodyText": "\\w already include \"_\"  So I believe the suggestions was to change the regex to the following.\n[^\\d\\w-\\.]", "author": "ianwallen", "createdAt": "2020-05-27T14:22:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3NTUwNQ=="}], "type": "inlineReview"}, {"oid": "f5d672721e64fa03b79fea9b8d762337ca94f1b7", "url": "https://github.com/geonetwork/core-geonetwork/commit/f5d672721e64fa03b79fea9b8d762337ca94f1b7", "message": "include . in string inclusion as suggested by @ianwallen", "committedDate": "2020-05-28T09:07:32Z", "type": "commit"}, {"oid": "00b8d6f8fca14bb772754af5ff6279ed8afe263a", "url": "https://github.com/geonetwork/core-geonetwork/commit/00b8d6f8fca14bb772754af5ff6279ed8afe263a", "message": "remove space as suggested by josegar74", "committedDate": "2020-06-23T11:51:14Z", "type": "commit"}]}