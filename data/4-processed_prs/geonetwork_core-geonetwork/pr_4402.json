{"pr_number": 4402, "pr_title": "Fix for #4005: Use `File Identifier` in metadata tab of the full metadata view", "pr_createdAt": "2020-01-27T08:09:38Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4402", "timeline": [{"oid": "429c874125bdbb9653bffb8545f4be6ecaf9bf48", "url": "https://github.com/geonetwork/core-geonetwork/commit/429c874125bdbb9653bffb8545f4be6ecaf9bf48", "message": "Use `File Identifier` in metadata tab of the full metadata view", "committedDate": "2020-01-27T08:06:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NzEyMw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4402#discussion_r371657123", "bodyText": "You can probably simply do $metadataUuid see https://github.com/geonetwork/core-geonetwork/blob/master/web/src/main/webapp/WEB-INF/data/data/formatter/xslt/render-variables.xsl#L61\nand remove the variable.", "author": "fxprunayre", "createdAt": "2020-01-28T08:16:52Z", "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/xsl-view/view.xsl", "diffHunk": "@@ -596,14 +596,17 @@\n   <xsl:template mode=\"render-field\"\n                 match=\"gmd:fileIdentifier\"\n                 priority=\"100\">\n+    <xsl:variable name=\"fileIdentifier\">\n+      <xsl:apply-templates mode=\"render-value\" select=\"*\"/>\n+    </xsl:variable>\n     <dl>\n       <dt>\n         <xsl:value-of select=\"tr:nodeLabel(tr:create($schema), name(), null)\"/>\n       </dt>\n       <dd>\n         <xsl:apply-templates mode=\"render-value\" select=\"*\"/>\n         <xsl:apply-templates mode=\"render-value\" select=\"@*\"/>\n-        <a class=\"btn btn-default\" href=\"{$nodeUrl}api/records/{$metadataId}/formatters/xml\">\n+        <a class=\"btn btn-default\" href=\"{$nodeUrl}api/records/{$fileIdentifier}/formatters/xml\">", "originalCommit": "429c874125bdbb9653bffb8545f4be6ecaf9bf48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY2NDkyNA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4402#discussion_r371664924", "bodyText": "Going to change, didn't see the variable was already there.", "author": "MichelGabriel", "createdAt": "2020-01-28T08:37:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NzEyMw=="}], "type": "inlineReview"}, {"oid": "c8a65330cc3e22cde263a82fd5a9f33150fedccf", "url": "https://github.com/geonetwork/core-geonetwork/commit/c8a65330cc3e22cde263a82fd5a9f33150fedccf", "message": "Use an existing variable in stead of creating a new one", "committedDate": "2020-01-28T12:47:28Z", "type": "commit"}]}