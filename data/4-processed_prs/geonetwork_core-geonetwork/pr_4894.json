{"pr_number": 4894, "pr_title": "don't clear the multilingual fields when changing protocol", "pr_createdAt": "2020-07-28T22:06:25Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4894", "timeline": [{"oid": "45f0412f55c0d986827325c07c8beaea8ed6f1b5", "url": "https://github.com/geonetwork/core-geonetwork/commit/45f0412f55c0d986827325c07c8beaea8ed6f1b5", "message": "don't clear the multilingual fields when changing protocol", "committedDate": "2020-07-28T21:54:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5MzMyMw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4894#discussion_r462793323", "bodyText": "It looks like adding a WMS layer does not work because we don't set anymore selectedLayers. Error returned is\n\nso maybe only name and desc should not be modified.", "author": "fxprunayre", "createdAt": "2020-07-30T07:11:59Z", "path": "web-ui/src/main/resources/catalog/components/edit/onlinesrc/OnlineSrcDirective.js", "diffHunk": "@@ -723,7 +724,7 @@\n                 var resetProtocol = function() {\n                   scope.layers = [];\n                   scope.OGCProtocol = false;\n-                  if (scope.params && !scope.isEditing) {\n+                  if (scope.params && !scope.isEditing && scope.clearFormOnProtocolChange) {", "originalCommit": "45f0412f55c0d986827325c07c8beaea8ed6f1b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f5edb92223d57835340fb516ce6c4bc900e58598", "url": "https://github.com/geonetwork/core-geonetwork/commit/f5edb92223d57835340fb516ce6c4bc900e58598", "message": "be more selective with what's rereset", "committedDate": "2020-08-06T17:28:59Z", "type": "commit"}]}