{"pr_number": 4700, "pr_title": "Shift to new maven repositories (OSGeo)", "pr_createdAt": "2020-05-20T06:26:55Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4700", "timeline": [{"oid": "290702c945869dd3425a5bc01288fc25f16b4bae", "url": "https://github.com/geonetwork/core-geonetwork/commit/290702c945869dd3425a5bc01288fc25f16b4bae", "message": "shift to new maven repositories\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T06:16:15Z", "type": "commit"}, {"oid": "1e749562ca2331732fb78484a06ae7b72f1b0b02", "url": "https://github.com/geonetwork/core-geonetwork/commit/1e749562ca2331732fb78484a06ae7b72f1b0b02", "message": "Setup geonetwork-cache repository\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T06:34:33Z", "type": "commit"}, {"oid": "86cf94da8196c6f4236e941fa1d76df8986c806b", "url": "https://github.com/geonetwork/core-geonetwork/commit/86cf94da8196c6f4236e941fa1d76df8986c806b", "message": "Add additional project information\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T06:54:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MTE3Ng==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r427791176", "bodyText": "This variable may not be needed, unless folks are in the habit of specifying it on the command line use -Dprint-lib.version ?", "author": "jodygarnett", "createdAt": "2020-05-20T07:17:51Z", "path": "pom.xml", "diffHunk": "@@ -854,18 +854,17 @@\n         <version>1.7.8</version>\n       </dependency>\n \n-      <!-- Databased stuff -->\n-      <dependency>\n-        <groupId>com.h2database</groupId>\n-        <artifactId>h2</artifactId>\n-        <version>1.3.174</version>\n-      </dependency>\n       <!-- Other stuff -->\n       <dependency>\n         <groupId>dlib</groupId>  <!--FIXME Handled by local repository -->\n         <artifactId>dlib</artifactId>\n         <version>1.0</version> <!-- FIXME totally unknown -->\n       </dependency>\n+      <dependency>\n+        <groupId>org.mapfish.print</groupId>\n+        <artifactId>print-lib</artifactId>\n+        <version>${print-lib.version}</version>", "originalCommit": "290702c945869dd3425a5bc01288fc25f16b4bae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4OTY3OA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428089678", "bodyText": "isn't' it defined in main `pom.xml?\n\n  \n    \n      core-geonetwork/pom.xml\n    \n    \n         Line 1452\n      in\n      55704fa\n    \n    \n    \n    \n\n        \n          \n           <print-lib.version>2.1.6</print-lib.version>", "author": "juanluisrp", "createdAt": "2020-05-20T15:08:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MTE3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI0OTIwNw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428249207", "bodyText": "It is defined, but since we only need to use this in the dependency management section once ... why bother with the complexity?\nUnless of course some build wants to use -Dprint-lib.version=2.1-SNAPSHOT for testing ...", "author": "jodygarnett", "createdAt": "2020-05-20T19:13:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MTE3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MTY3NA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r427791674", "bodyText": "Oracle now provides jdbc drivers on maven central, due to a change of policy.", "author": "jodygarnett", "createdAt": "2020-05-20T07:18:41Z", "path": "pom.xml", "diffHunk": "@@ -961,7 +966,14 @@\n         <artifactId>ojdbc</artifactId>\n         <version>14</version>\n       </dependency>\n-\t\t\t-->\n+      -->\n+      <!-- Oracle changed policy, this is from maven central -->\n+      <!-- Oracle Free Use Terms and Conditions (FUTC) -->\n+      <dependency>\n+         <groupId>com.oracle.database.jdbc</groupId>\n+         <artifactId>ojdbc8</artifactId>\n+         <version>19.6.0.0</version>\n+       </dependency>", "originalCommit": "290702c945869dd3425a5bc01288fc25f16b4bae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODEyNTMyNQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428125325", "bodyText": "We should ask community to test with OracleXE", "author": "jodygarnett", "createdAt": "2020-05-20T15:56:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MTY3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MjQxMQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r427792411", "bodyText": "This approach has the risk of introducing conflicts (for example with guava,spring-framework and batik).", "author": "jodygarnett", "createdAt": "2020-05-20T07:20:09Z", "path": "web/pom.xml", "diffHunk": "@@ -317,7 +317,54 @@\n     <dependency>\n       <groupId>org.mapfish.print</groupId>\n       <artifactId>print-lib</artifactId>\n-      <version>${print-lib.version}</version>\n+      <!-- why no exclusions like in core/pom.xml? -->", "originalCommit": "290702c945869dd3425a5bc01288fc25f16b4bae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODEyNjk0Mg==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428126942", "bodyText": "@fgravin your name was given to me to ask about this?", "author": "jodygarnett", "createdAt": "2020-05-20T15:58:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MjQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODEyNzY2Nw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428127667", "bodyText": "@fxprunayre you added the excluses in core/pom.xml can you advise please.", "author": "jodygarnett", "createdAt": "2020-05-20T15:59:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MjQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTA1Nzc2Mw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r429057763", "bodyText": "From e351a60 it looks like it was related to \"All http requests now use one configurable object allowing mocking and testing objects that need to make https request.\".\nExclusions were also updated in 0d462e1\nNot an expert on this and no objection to make it consistent on both modules.", "author": "fxprunayre", "createdAt": "2020-05-22T06:02:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MjQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTA2NTYyMA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r429065620", "bodyText": "I would feel more comfortable with that approach (so we are controlling our dependencies directly). I do not want to hamper camp2camp folks working on print-lib if this is a workflow they are maintaining...", "author": "jodygarnett", "createdAt": "2020-05-22T06:29:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MjQxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NzU2OA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428087568", "bodyText": "I guess this is s char is not intended", "author": "juanluisrp", "createdAt": "2020-05-20T15:05:25Z", "path": "pom.xml", "diffHunk": "@@ -645,13 +651,13 @@\n         <version>1.3</version> <!-- TODO check version -->\n       </dependency>\n       <!-- May be required to register connection unwrappers with\n-\t\t\t     geotools\n+           geotools\n       <dependency>\n         <groupId>org.springframework</groupId>\n-        <artifactId>spring-jdbc</artifactId>\n+      s  <artifactId>spring-jdbc</artifactId>", "originalCommit": "86cf94da8196c6f4236e941fa1d76df8986c806b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA5Mjk0NQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4700#discussion_r428092945", "bodyText": "is OK to have spaces in this ID?", "author": "juanluisrp", "createdAt": "2020-05-20T15:12:36Z", "path": "pom.xml", "diffHunk": "@@ -1320,13 +1354,28 @@\n     </profile>\n   </profiles>\n \n+  <distributionManagement>\n+    <repository>\n+      <id>osgeo</id>\n+      <name>OSGeo GeoNetwork Release Repository</name>\n+      <url>https://repo.osgeo.org/repository/geonetwork-releases/</url>\n+    </repository>\n+    <snapshotRepository>\n+      <id> osgeo </id>", "originalCommit": "86cf94da8196c6f4236e941fa1d76df8986c806b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "27a25ea6cef16bb8216818ecd9c2f55591cc25df", "url": "https://github.com/geonetwork/core-geonetwork/commit/27a25ea6cef16bb8216818ecd9c2f55591cc25df", "message": "revise based on feedback\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T16:10:30Z", "type": "commit"}, {"oid": "7e74c0cc7f93c529f42bc9b72bdd3d8af7971667", "url": "https://github.com/geonetwork/core-geonetwork/commit/7e74c0cc7f93c529f42bc9b72bdd3d8af7971667", "message": "exclude mapfish transitive dependencies for web\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T16:15:53Z", "type": "commit"}, {"oid": "31a7db65e4e0da86a80df02098dd01d7e8172605", "url": "https://github.com/geonetwork/core-geonetwork/commit/31a7db65e4e0da86a80df02098dd01d7e8172605", "message": "allowing print-libs to pull in com.codahale.metrics pending feedback\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T16:18:55Z", "type": "commit"}, {"oid": "3c4acde9d8e3d00f883ab8d751791fb499528839", "url": "https://github.com/geonetwork/core-geonetwork/commit/3c4acde9d8e3d00f883ab8d751791fb499528839", "message": "revise based on feedback\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T16:21:14Z", "type": "commit"}, {"oid": "a05d567960e947cb7eb10281537b188e2ae76645", "url": "https://github.com/geonetwork/core-geonetwork/commit/a05d567960e947cb7eb10281537b188e2ae76645", "message": "revise based on feedback\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-20T19:18:58Z", "type": "commit"}, {"oid": "2765ea1456a823818d2f9b0f904a9e5ec7195c94", "url": "https://github.com/geonetwork/core-geonetwork/commit/2765ea1456a823818d2f9b0f904a9e5ec7195c94", "message": "Additional print-lib exclusions", "committedDate": "2020-05-22T06:31:37Z", "type": "commit"}, {"oid": "18890b5fcd52a25802ea21534469a8da8e5f0d7a", "url": "https://github.com/geonetwork/core-geonetwork/commit/18890b5fcd52a25802ea21534469a8da8e5f0d7a", "message": "Replace print.lib.version with use of dependency management", "committedDate": "2020-05-22T06:34:02Z", "type": "commit"}, {"oid": "f8bcfb20f4967d39bd058aa7313961a7fe2b2e88", "url": "https://github.com/geonetwork/core-geonetwork/commit/f8bcfb20f4967d39bd058aa7313961a7fe2b2e88", "message": "Revised based on feedback\n\nuse of dependency management to handle mapfish print version\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-25T05:22:21Z", "type": "commit"}, {"oid": "92a289831a3edc06f6d1848435ea0b5b2388b36d", "url": "https://github.com/geonetwork/core-geonetwork/commit/92a289831a3edc06f6d1848435ea0b5b2388b36d", "message": "restore codahale transitive dependencies for mapfish print\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-25T05:36:05Z", "type": "commit"}, {"oid": "fbf219100e51fc750c2f54dc96e790f99031facf", "url": "https://github.com/geonetwork/core-geonetwork/commit/fbf219100e51fc750c2f54dc96e790f99031facf", "message": "list additional camptocamp developers\n\nDetails reverse engineered from github and public emails, please review.\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-25T15:52:19Z", "type": "commit"}, {"oid": "d4157219fbadc23f5f7a7b6d99d415aacd07b403", "url": "https://github.com/geonetwork/core-geonetwork/commit/d4157219fbadc23f5f7a7b6d99d415aacd07b403", "message": "remove list of developers to seperate isse\n\nSigned-off-by: Jody Garnett <jody.garnett@gmail.com>", "committedDate": "2020-05-26T14:01:06Z", "type": "commit"}]}