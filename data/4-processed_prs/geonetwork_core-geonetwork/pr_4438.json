{"pr_number": 4438, "pr_title": "[BP] Only create metadata data folder when needed", "pr_createdAt": "2020-02-11T08:51:36Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4438", "timeline": [{"oid": "43ede2ffb410636990a8c6893989e6a4fe71fc67", "url": "https://github.com/geonetwork/core-geonetwork/commit/43ede2ffb410636990a8c6893989e6a4fe71fc67", "message": "[BP] Only create metadata data folder when needed\n\nGeoNetwork type harvester create the metadata directory structure in GeoNetwork data directory\neven if the remote metadata doesn't have public or private folders. This can make the\nfilesystem run out of inodes with very large catalogues.\n\nThis commit only creates the directory tree structure for the metadata record if the imported\nmetadata has public or private files.\n\nSince 3.10.x versions this is already done by FilesystemStore:\n https://github.com/geonetwork/core-geonetwork/blob/3.10.x/core/src/main/java/org/fao/geonet/api/records/attachments/FilesystemStore.java#L229\n\nBackport of #4437.", "committedDate": "2020-02-11T08:48:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODI2MzY3Mw==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4438#discussion_r378263673", "bodyText": "needless whitespace changes", "author": "jodygarnett", "createdAt": "2020-02-12T13:54:40Z", "path": "harvesters/src/main/java/org/fao/geonet/kernel/harvest/harvester/geonet/Aligner.java", "diffHunk": "@@ -771,7 +765,7 @@ public void handlePrivateFile(String file,\n         }\n     }\n \n-    private void updateMetadata(RecordInfo ri, String id, Element md, \n+    private void updateMetadata(RecordInfo ri, String id, Element md,", "originalCommit": "43ede2ffb410636990a8c6893989e6a4fe71fc67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}