{"pr_number": 4390, "pr_title": "CSW / Configuration of the capabilities is now done using a service metadata record", "pr_createdAt": "2020-01-23T09:06:22Z", "pr_url": "https://github.com/geonetwork/core-geonetwork/pull/4390", "timeline": [{"oid": "68b828d4db3ad14a08c969b072244fd2b72030c9", "url": "https://github.com/geonetwork/core-geonetwork/commit/68b828d4db3ad14a08c969b072244fd2b72030c9", "message": "CSW / Configuration of the capabilities is now done using a service metadata record.", "committedDate": "2020-01-23T09:05:51Z", "type": "commit"}, {"oid": "016dcfa23962f64975f655e06f7d1f2cb32a19a8", "url": "https://github.com/geonetwork/core-geonetwork/commit/016dcfa23962f64975f655e06f7d1f2cb32a19a8", "message": "CSW / Configuration of the capabilities is now done using a service metadata record.", "committedDate": "2020-01-23T10:56:25Z", "type": "commit"}, {"oid": "c5e6cbea694f7210a5fc75daf701bfc720a2e206", "url": "https://github.com/geonetwork/core-geonetwork/commit/c5e6cbea694f7210a5fc75daf701bfc720a2e206", "message": "CSW / Configuration of the capabilities is now done using a service metadata record / Add warning in case of error. Language config is made in the record, not from the db.", "committedDate": "2020-01-24T13:43:24Z", "type": "commit"}, {"oid": "ed9a960acb84cf480c76dc94ba523844acba4509", "url": "https://github.com/geonetwork/core-geonetwork/commit/ed9a960acb84cf480c76dc94ba523844acba4509", "message": "CSW / Configuration of the capabilities is now done using a service metadata record / Add warning in case of error. Multilingual support.", "committedDate": "2020-01-24T19:08:56Z", "type": "commit"}, {"oid": "c4e7c78d3b8f9b6eff88a9ace51a52c3722bd688", "url": "https://github.com/geonetwork/core-geonetwork/commit/c4e7c78d3b8f9b6eff88a9ace51a52c3722bd688", "message": "CSW / Configuration of the capabilities is now done using a service metadata record / Add warning in case of error. ISO19139 support and language.", "committedDate": "2020-01-27T14:54:25Z", "type": "commit"}, {"oid": "9bc2afa0d5818eaba241e14ba5054112f9bb4dc7", "url": "https://github.com/geonetwork/core-geonetwork/commit/9bc2afa0d5818eaba241e14ba5054112f9bb4dc7", "message": "CSW / Configuration of the capabilities is now done using a service metadata record / Add warning in case of error. Displaye service title.", "committedDate": "2020-01-27T15:32:34Z", "type": "commit"}, {"oid": "631fe50a9ee60cfafd2be096f493260e12c558e3", "url": "https://github.com/geonetwork/core-geonetwork/commit/631fe50a9ee60cfafd2be096f493260e12c558e3", "message": "Cleaning.", "committedDate": "2020-01-27T15:58:28Z", "type": "commit"}, {"oid": "2be3c1336abdc3c42871dc9a0c44015d42350871", "url": "https://github.com/geonetwork/core-geonetwork/commit/2be3c1336abdc3c42871dc9a0c44015d42350871", "message": "CSW / Configuration of the capabilities is now done using a service metadata record / Add warning in case of error. Portal CSW.", "committedDate": "2020-01-27T16:24:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyNTUyOA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4390#discussion_r371625528", "bodyText": "Could not be better to use the metadata uuid? Should be more stable than internal ids.\nSuppose that the user uses the import option to update the metadata, this option afaik removes the old record and creates a new one with a new id.", "author": "josegar74", "createdAt": "2020-01-28T06:19:49Z", "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "diffHunk": "@@ -82,7 +82,7 @@\n     public static final String SYSTEM_SELECTIONMANAGER_MAXRECORDS = \"system/selectionmanager/maxrecords\";\n     public static final String SYSTEM_CSW_ENABLE = \"system/csw/enable\";\n     public static final String SYSTEM_CSW_ENABLEWHENINDEXING = \"system/csw/enabledWhenIndexing\";\n-    public static final String SYSTEM_CSW_CONTACT_ID = \"system/csw/contactId\";\n+    public static final String SYSTEM_CSW_CAPABILITY_RECORD_ID = \"system/csw/capabilityRecordId\";", "originalCommit": "2be3c1336abdc3c42871dc9a0c44015d42350871", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1MzQ2NQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4390#discussion_r371653465", "bodyText": "Done.", "author": "fxprunayre", "createdAt": "2020-01-28T08:05:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyNTUyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyNzE2NA==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4390#discussion_r371627164", "bodyText": "I see this file is used if no record is selected, what looks good. Maybe can be relevant in the iso19139 samples to provide an example of a CSW service record and another for CSW INSPIRE service record, to facilitate the task for users.", "author": "josegar74", "createdAt": "2020-01-28T06:27:43Z", "path": "web/src/main/webapp/xml/csw/capabilities.xml", "diffHunk": "@@ -8,37 +8,37 @@\n \n   <ows:ServiceIdentification>\n     <ows:Title>$TITLE</ows:Title>\n-    <ows:Abstract>$ABSTRACT</ows:Abstract>\n+    <ows:Abstract></ows:Abstract>", "originalCommit": "2be3c1336abdc3c42871dc9a0c44015d42350871", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY0OTE1OQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4390#discussion_r371649159", "bodyText": "See metadata101/iso19115-3.2018#29", "author": "fxprunayre", "createdAt": "2020-01-28T07:52:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyNzE2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyNzIxMg==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4390#discussion_r371627212", "bodyText": "Should be dropped the table and removed the related domain/persistence objects?", "author": "josegar74", "createdAt": "2020-01-28T06:27:57Z", "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3101/migrate-default.sql", "diffHunk": "@@ -1,2 +1,6 @@\n+DELETE FROM cswservercapabilitiesinfo;", "originalCommit": "2be3c1336abdc3c42871dc9a0c44015d42350871", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyOTU2NQ==", "url": "https://github.com/geonetwork/core-geonetwork/pull/4390#discussion_r371629565", "bodyText": "Waiting for @jahow to see if that table is used somewhere or not.", "author": "fxprunayre", "createdAt": "2020-01-28T06:38:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyNzIxMg=="}], "type": "inlineReview"}, {"oid": "77ddf71a77bdf3d063303bf1ce62b7e51d4a51a2", "url": "https://github.com/geonetwork/core-geonetwork/commit/77ddf71a77bdf3d063303bf1ce62b7e51d4a51a2", "message": "Replace id by uuid.", "committedDate": "2020-01-28T07:49:24Z", "type": "commit"}]}