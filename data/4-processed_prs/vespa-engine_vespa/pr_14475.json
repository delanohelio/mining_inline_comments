{"pr_number": 14475, "pr_title": "Jonmv/async document v1", "pr_createdAt": "2020-09-21T16:47:20Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14475", "timeline": [{"oid": "97535ec41f52e4c6319495ced85933ead42b0a2b", "url": "https://github.com/vespa-engine/vespa/commit/97535ec41f52e4c6319495ced85933ead42b0a2b", "message": "Revert \"Revert \"Jonmv/async document v1\"\"\n\nThis reverts commit 7b03effca945dea607ed7a3c3debebda303992ab.", "committedDate": "2020-09-21T16:28:56Z", "type": "commit"}, {"oid": "edae2586a4b7927ab9a1771441f46b81b779b0dd", "url": "https://github.com/vespa-engine/vespa/commit/edae2586a4b7927ab9a1771441f46b81b779b0dd", "message": "Less defensive shutdown", "committedDate": "2020-09-21T16:31:31Z", "type": "commit"}, {"oid": "8197457af4b0c0cfc88dc3c26b8667e7b004a60a", "url": "https://github.com/vespa-engine/vespa/commit/8197457af4b0c0cfc88dc3c26b8667e7b004a60a", "message": "Move laziness down to avoid initialising MessageBusDocumentAccess unless _used_", "committedDate": "2020-09-21T16:46:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjIxMTExNA==", "url": "https://github.com/vespa-engine/vespa/pull/14475#discussion_r492211114", "bodyText": "@bjorncs is this the wrong container, perhaps?", "author": "jonmv", "createdAt": "2020-09-21T16:59:00Z", "path": "config-model/src/main/java/com/yahoo/vespa/model/container/ContainerCluster.java", "diffHunk": "@@ -181,6 +181,7 @@ public ContainerCluster(AbstractConfigProducer<?> parent, String subId, String n\n         addSimpleComponent(com.yahoo.metrics.simple.jdisc.JdiscMetricsFactory.class.getName(), null, MetricProperties.BUNDLE_SYMBOLIC_NAME);\n         addSimpleComponent(\"com.yahoo.container.jdisc.state.StateMonitor\");\n         addSimpleComponent(\"com.yahoo.container.jdisc.ContainerThreadFactory\");\n+        addSimpleComponent(com.yahoo.container.core.documentapi.MessageBusDocumentAccessProvider.class.getName());", "originalCommit": "8197457af4b0c0cfc88dc3c26b8667e7b004a60a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b35edfe22fe24a44e29719a67cb252d6c000ee03", "url": "https://github.com/vespa-engine/vespa/commit/b35edfe22fe24a44e29719a67cb252d6c000ee03", "message": "Add injectable document access to ApplicationContainerCluster instead", "committedDate": "2020-09-22T10:48:52Z", "type": "commit"}]}