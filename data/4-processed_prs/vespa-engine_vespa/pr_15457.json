{"pr_number": 15457, "pr_title": "Split out a class that takes care of running ZooKeeper server", "pr_createdAt": "2020-11-25T10:24:04Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/15457", "timeline": [{"oid": "03c76bf6627dcb69988ebb4cf86ec74d311f9f24", "url": "https://github.com/vespa-engine/vespa/commit/03c76bf6627dcb69988ebb4cf86ec74d311f9f24", "message": "Split out a class that takes care of running ZooKeeper server\n\nNeed this to simplify the way this will be done when we start supporting\ndynamic reconfiguration of ZooKeeper cluster", "committedDate": "2020-11-25T10:23:05Z", "type": "commit"}, {"oid": "0d733625ee4d9ec82ecb8dc1bf212425dea97fd3", "url": "https://github.com/vespa-engine/vespa/commit/0d733625ee4d9ec82ecb8dc1bf212425dea97fd3", "message": "Fix class names and shutdown", "committedDate": "2020-11-25T10:33:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI5OTU2NA==", "url": "https://github.com/vespa-engine/vespa/pull/15457#discussion_r530299564", "bodyText": "Nit: Import the Logger class.", "author": "mpolden", "createdAt": "2020-11-25T11:22:34Z", "path": "zookeeper-server/zookeeper-server-3.5.6/src/main/java/com/yahoo/vespa/zookeeper/ZooKeeperRunner.java", "diffHunk": "@@ -0,0 +1,49 @@\n+// Copyright Verizon Media. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.\n+package com.yahoo.vespa.zookeeper;\n+\n+import com.yahoo.cloud.config.ZookeeperServerConfig;\n+import com.yahoo.security.tls.TransportSecurityUtils;\n+\n+import java.util.logging.Level;\n+\n+import static com.yahoo.vespa.defaults.Defaults.getDefaults;\n+import static com.yahoo.vespa.zookeeper.Configurator.zookeeperServerHostnames;\n+\n+/**\n+ * Writes zookeeper config and starts zookeeper server.\n+ *\n+ * @author Harald Musum\n+ */\n+public class ZooKeeperRunner implements Runnable {\n+    private static final java.util.logging.Logger log = java.util.logging.Logger.getLogger(ZooKeeperRunner.class.getName());", "originalCommit": "0d733625ee4d9ec82ecb8dc1bf212425dea97fd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMwMDQ2Mw==", "url": "https://github.com/vespa-engine/vespa/pull/15457#discussion_r530300463", "bodyText": "Yeah, thanks, copied as-is from other class, will fix in next PR", "author": "hmusum", "createdAt": "2020-11-25T11:24:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI5OTU2NA=="}], "type": "inlineReview"}]}