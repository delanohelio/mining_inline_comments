{"pr_number": 13140, "pr_title": "Require the same FileSystem provider", "pr_createdAt": "2020-05-03T19:53:00Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/13140", "timeline": [{"oid": "2de4490282f123989a2ee8fbb7e5c92968d876c1", "url": "https://github.com/vespa-engine/vespa/commit/2de4490282f123989a2ee8fbb7e5c92968d876c1", "message": "Require the same FileSystem provider", "committedDate": "2020-05-03T19:52:53Z", "type": "commit"}, {"oid": "b75fc4be1d5c8a38d75740e33c681490762f102d", "url": "https://github.com/vespa-engine/vespa/commit/b75fc4be1d5c8a38d75740e33c681490762f102d", "message": "Use /home/docker/container-storage as default container storage path", "committedDate": "2020-05-03T20:06:10Z", "type": "commit"}, {"oid": "44116d676bdcc87ae8fbf138181ed857db246b0e", "url": "https://github.com/vespa-engine/vespa/commit/44116d676bdcc87ae8fbf138181ed857db246b0e", "message": "Simplify paths in NodeAgentContextImpl", "committedDate": "2020-05-03T20:29:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzNDg2NQ==", "url": "https://github.com/vespa-engine/vespa/pull/13140#discussion_r419234865", "bodyText": "The container-storage addition means more typing in tests... :(", "author": "freva", "createdAt": "2020-05-04T06:35:42Z", "path": "node-admin/src/main/java/com/yahoo/vespa/hosted/node/admin/nodeagent/NodeAgentContextImpl.java", "diffHunk": "@@ -296,8 +300,9 @@ public String getCloudNativeRegionName() {\n                             return getId().region().value();\n                         }\n                     }),\n-                    Optional.ofNullable(pathToContainerStorage).orElseGet(() -> fileSystem.getPath(\"/home/docker\")),\n-                    Optional.ofNullable(pathToVespaHome).orElseGet(() -> fileSystem.getPath(\"/opt/vespa\")),\n+                    fileSystem,\n+                    fileSystem.getPath(\"/home/docker/container-storage\"),", "originalCommit": "44116d676bdcc87ae8fbf138181ed857db246b0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI0MjUyMQ==", "url": "https://github.com/vespa-engine/vespa/pull/13140#discussion_r419242521", "bodyText": "yes, but it matches the expected path.  I was hoping this could lead to simplifying the NodeAgentContextImpl constructor by removing 2 path parameters - but I ended up keeping them.", "author": "hakonhall", "createdAt": "2020-05-04T06:59:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzNDg2NQ=="}], "type": "inlineReview"}]}