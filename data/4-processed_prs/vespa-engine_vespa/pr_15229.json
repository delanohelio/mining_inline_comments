{"pr_number": 15229, "pr_title": "Add a small test script for running a set of benchmarks.", "pr_createdAt": "2020-11-09T10:11:42Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/15229", "timeline": [{"oid": "fc4530e02c600e40dcdb48476af111c4ffdd301c", "url": "https://github.com/vespa-engine/vespa/commit/fc4530e02c600e40dcdb48476af111c4ffdd301c", "message": "Add a small test script for running a set of benchmarks.", "committedDate": "2020-11-09T10:09:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTc0OTk3Ng==", "url": "https://github.com/vespa-engine/vespa/pull/15229#discussion_r519749976", "bodyText": "--client-threadsinstead of just client-threads", "author": "toregge", "createdAt": "2020-11-09T11:49:28Z", "path": "searchcore/src/apps/vespa-feed-bm/runtest.sh", "diffHunk": "@@ -0,0 +1,32 @@\n+#!/bin/bash\n+\n+numdocs=2000000\n+stripe_bits=8\n+\n+base_cmd=\"numactl --cpunodebind=0 --localalloc perf stat -ddd env LD_PRELOAD=$HOME/vespa/lib64/vespa/malloc/libvespamalloc.so ./vespa-feed-bm --documents $numdocs --put-passes 1 --update-passes 10 --remove-passes 0 --max-pending 8000 --indexing-sequencer throughput client-threads 3\"", "originalCommit": "fc4530e02c600e40dcdb48476af111c4ffdd301c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg0NDU1NQ==", "url": "https://github.com/vespa-engine/vespa/pull/15229#discussion_r519844555", "bodyText": "Fixed", "author": "baldersheim", "createdAt": "2020-11-09T14:15:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTc0OTk3Ng=="}], "type": "inlineReview"}, {"oid": "39689f43992bda0dcfec9a8bf999de2562336af6", "url": "https://github.com/vespa-engine/vespa/commit/39689f43992bda0dcfec9a8bf999de2562336af6", "message": "Add dashes to client-threads", "committedDate": "2020-11-09T13:19:38Z", "type": "commit"}, {"oid": "88fff51a619b43fc4916257292ce661c77903b66", "url": "https://github.com/vespa-engine/vespa/commit/88fff51a619b43fc4916257292ce661c77903b66", "message": "Use 1 client thread for spi only and 2 for rest.", "committedDate": "2020-11-09T14:14:06Z", "type": "commit"}]}