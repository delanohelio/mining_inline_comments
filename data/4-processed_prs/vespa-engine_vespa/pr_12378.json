{"pr_number": 12378, "pr_title": "Prefer endpoints from routing generator", "pr_createdAt": "2020-02-28T12:56:41Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12378", "timeline": [{"oid": "cb466b098f709802e3edee64b059fa3106f1947e", "url": "https://github.com/vespa-engine/vespa/commit/cb466b098f709802e3edee64b059fa3106f1947e", "message": "Simplify", "committedDate": "2020-02-28T12:52:39Z", "type": "commit"}, {"oid": "526ea78c82b2d466d663ef4d9734545bb31c686a", "url": "https://github.com/vespa-engine/vespa/commit/526ea78c82b2d466d663ef4d9734545bb31c686a", "message": "Add TODO", "committedDate": "2020-02-28T12:52:39Z", "type": "commit"}, {"oid": "5f98e5f59956b3e13bd90679f5b8d7bc5d5ee851", "url": "https://github.com/vespa-engine/vespa/commit/5f98e5f59956b3e13bd90679f5b8d7bc5d5ee851", "message": "Prefer endpoints from routing generator", "committedDate": "2020-02-28T12:52:39Z", "type": "commit"}, {"oid": "83369e100a196260bf5f47d5d4d5a7d2080629a8", "url": "https://github.com/vespa-engine/vespa/commit/83369e100a196260bf5f47d5d4d5a7d2080629a8", "message": "Allow non-distinct endpoint URLs of different routing method", "committedDate": "2020-02-28T12:52:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTcwNTE1MQ==", "url": "https://github.com/vespa-engine/vespa/pull/12378#discussion_r385705151", "bodyText": "Will this be fixed? Seems a bit odd?", "author": "jonmv", "createdAt": "2020-02-28T13:50:40Z", "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/application/Endpoint.java", "diffHunk": "@@ -115,12 +115,13 @@ public boolean equals(Object o) {\n         if (this == o) return true;\n         if (o == null || getClass() != o.getClass()) return false;\n         Endpoint endpoint = (Endpoint) o;\n-        return url.equals(endpoint.url);\n+        return url.equals(endpoint.url) &&\n+               routingMethod == endpoint.routingMethod;\n     }\n \n     @Override\n     public int hashCode() {\n-        return Objects.hash(url);", "originalCommit": "83369e100a196260bf5f47d5d4d5a7d2080629a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTcwNjYyMw==", "url": "https://github.com/vespa-engine/vespa/pull/12378#discussion_r385706623", "bodyText": "Yes.", "author": "mpolden", "createdAt": "2020-02-28T13:53:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTcwNTE1MQ=="}], "type": "inlineReview"}]}