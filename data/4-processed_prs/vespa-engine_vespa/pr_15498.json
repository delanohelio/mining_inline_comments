{"pr_number": 15498, "pr_title": "Arnej/use default tensor engine less", "pr_createdAt": "2020-11-27T07:10:02Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/15498", "timeline": [{"oid": "127115efbaed70330cdde3d0b7d5032bed1f91aa", "url": "https://github.com/vespa-engine/vespa/commit/127115efbaed70330cdde3d0b7d5032bed1f91aa", "message": "test with FastValue instead of DefaultTensorEngine", "committedDate": "2020-11-27T07:07:14Z", "type": "commit"}, {"oid": "fa7208968fc8ac2aa6e832925d615fcd9e8fd4a6", "url": "https://github.com/vespa-engine/vespa/commit/fa7208968fc8ac2aa6e832925d615fcd9e8fd4a6", "message": "test with FastValue instead of DefaultTensorEngine", "committedDate": "2020-11-27T07:07:15Z", "type": "commit"}, {"oid": "03f00672a73471c02d2922a1bade3c3fb5d60d8f", "url": "https://github.com/vespa-engine/vespa/commit/03f00672a73471c02d2922a1bade3c3fb5d60d8f", "message": "test with FastValue instead of DefaultTensorEngine", "committedDate": "2020-11-27T07:07:15Z", "type": "commit"}, {"oid": "7e968e19a92d4a5be89888ff28e9579a281bee6f", "url": "https://github.com/vespa-engine/vespa/commit/7e968e19a92d4a5be89888ff28e9579a281bee6f", "message": "test dense optimizers with FastValue instead of DefaultTensorEngine", "committedDate": "2020-11-27T07:07:15Z", "type": "commit"}, {"oid": "cc16efdef7534cced9c91ffc2ac3364187d9ac74", "url": "https://github.com/vespa-engine/vespa/commit/cc16efdef7534cced9c91ffc2ac3364187d9ac74", "message": "cleanup unused include", "committedDate": "2020-11-27T07:07:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU1NDk3NA==", "url": "https://github.com/vespa-engine/vespa/pull/15498#discussion_r531554974", "bodyText": "I suggest dropping typed/untyped concept (always typed) and replacing SimpleTensorEngine with SimpleValue here.", "author": "havardpe", "createdAt": "2020-11-27T11:48:27Z", "path": "eval/src/tests/eval/interpreted_function/interpreted_function_test.cpp", "diffHunk": "@@ -53,9 +52,8 @@ struct MyEvalTest : test::EvalSpec::EvalTest {\n         if (is_supported && !has_issues) {\n             vespalib::string desc = as_string(param_names, param_values, expression);\n             SimpleParams params(param_values);\n-            verify_result(SimpleTensorEngine::ref(), *function, false,    \"[untyped simple] \"+desc, params, expected_result);\n-            verify_result(DefaultTensorEngine::ref(), *function, false,   \"[untyped prod]   \"+desc, params, expected_result);\n-            verify_result(DefaultTensorEngine::ref(), *function, true,    \"[typed prod]     \"+desc, params, expected_result);\n+            verify_result(SimpleTensorEngine::ref(),      *function, false, \"[untyped simple] \"+desc, params, expected_result);", "originalCommit": "cc16efdef7534cced9c91ffc2ac3364187d9ac74", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU3MzkzMA==", "url": "https://github.com/vespa-engine/vespa/pull/15498#discussion_r531573930", "bodyText": "done.", "author": "arnej27959", "createdAt": "2020-11-27T12:27:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU1NDk3NA=="}], "type": "inlineReview"}]}