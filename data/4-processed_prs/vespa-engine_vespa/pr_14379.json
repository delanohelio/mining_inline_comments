{"pr_number": 14379, "pr_title": "Balder/implement move constructor", "pr_createdAt": "2020-09-11T09:38:42Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14379", "timeline": [{"oid": "0074fd7b101a9415fa6f6c5311f307cd311508f1", "url": "https://github.com/vespa-engine/vespa/commit/0074fd7b101a9415fa6f6c5311f307cd311508f1", "message": "Use a move constructor to avoid expensive copy when not necessary.", "committedDate": "2020-09-11T09:28:39Z", "type": "commit"}, {"oid": "37d72a0d89a00ffc9a92a65d38cb78fd404e746f", "url": "https://github.com/vespa-engine/vespa/commit/37d72a0d89a00ffc9a92a65d38cb78fd404e746f", "message": "Test move assignment instead.", "committedDate": "2020-09-11T09:33:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzODYxNw==", "url": "https://github.com/vespa-engine/vespa/pull/14379#discussion_r486938617", "bodyText": "Would it be cleaner to move the actual implementation of this into assign() and rather have the copy assignment operator be public with = delete instead of being private? This is assuming we want to disallow copy assignment entirely.", "author": "vekterli", "createdAt": "2020-09-11T09:59:44Z", "path": "document/src/vespa/document/fieldvalue/predicatefieldvalue.h", "diffHunk": "@@ -13,13 +13,15 @@ class PredicateFieldValue : public FieldValue {\n     std::unique_ptr<vespalib::Slime> _slime;\n     bool _altered;\n \n+    PredicateFieldValue & operator=(const PredicateFieldValue &rhs);", "originalCommit": "37d72a0d89a00ffc9a92a65d38cb78fd404e746f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1NzUzNA==", "url": "https://github.com/vespa-engine/vespa/pull/14379#discussion_r486957534", "bodyText": "Unfortunately not possible as there is a requirement for a copy assignment operator.", "author": "baldersheim", "createdAt": "2020-09-11T10:30:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzODYxNw=="}], "type": "inlineReview"}, {"oid": "75a017b8bda4e4658ed92bad16eb15810c18463d", "url": "https://github.com/vespa-engine/vespa/commit/75a017b8bda4e4658ed92bad16eb15810c18463d", "message": "Simplify and do not call method that will throw.", "committedDate": "2020-09-11T10:28:58Z", "type": "commit"}]}