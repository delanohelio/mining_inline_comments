{"pr_number": 13384, "pr_title": "Increase ccache max size to 1600M", "pr_createdAt": "2020-05-26T19:28:32Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/13384", "timeline": [{"oid": "5378fb48a808fc7875c87d775bdd9381f6654611", "url": "https://github.com/vespa-engine/vespa/commit/5378fb48a808fc7875c87d775bdd9381f6654611", "message": "Increase ccache max size to 1600M", "committedDate": "2020-05-26T19:27:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2MDY5MA==", "url": "https://github.com/vespa-engine/vespa/pull/13384#discussion_r430660690", "bodyText": "Ouch, I am using 20G on my laptop.\nI would add ccache --show-stats to see how the stats are And bump it to at least 2G.", "author": "baldersheim", "createdAt": "2020-05-26T19:38:09Z", "path": "travis/travis-build-full.sh", "diffHunk": "@@ -9,7 +9,7 @@ export MAVEN_OPTS=\"-Xss1m -Xms128m -Xmx2g\"\n source /etc/profile.d/enable-devtoolset-9.sh\n source /etc/profile.d/enable-rh-maven35.sh\n \n-ccache --max-size=1250M\n+ccache --max-size=1600M", "originalCommit": "5378fb48a808fc7875c87d775bdd9381f6654611", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2NDY5Ng==", "url": "https://github.com/vespa-engine/vespa/pull/13384#discussion_r430664696", "bodyText": "There is a ccache --show-stats on line 22, I guess that is what @toregge based his suggestion on", "author": "hmusum", "createdAt": "2020-05-26T19:43:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2MDY5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2NzAzMA==", "url": "https://github.com/vespa-engine/vespa/pull/13384#discussion_r430667030", "bodyText": "I performed an minor experiment in a CentOS 7 environment on my work laptop  by enabling compression, clearing the cache, and building vespa once. Afterwards ccache reported 1.3GB used, which is more than 1250 MB.  Some additional headroom is needed since we don't always compile files in the same order each time. But too much headroom slows down cache download/upload.", "author": "toregge", "createdAt": "2020-05-26T19:47:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2MDY5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2ODExMQ==", "url": "https://github.com/vespa-engine/vespa/pull/13384#discussion_r430668111", "bodyText": "OK", "author": "baldersheim", "createdAt": "2020-05-26T19:49:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2MDY5MA=="}], "type": "inlineReview"}]}