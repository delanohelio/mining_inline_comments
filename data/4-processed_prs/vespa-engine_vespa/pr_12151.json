{"pr_number": 12151, "pr_title": "If debugging of SearchHandler is turned on, the 1k first request will\u2026", "pr_createdAt": "2020-02-11T12:05:32Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12151", "timeline": [{"oid": "f2a9d18477e9ed79dff64bfc141d5ad9f176601d", "url": "https://github.com/vespa-engine/vespa/commit/f2a9d18477e9ed79dff64bfc141d5ad9f176601d", "message": "If debugging of SearchHandler is turned on, the 1k first request will have trace and timing information.\nThe 1k number is configurable in the container-http config.", "committedDate": "2020-02-11T12:00:59Z", "type": "commit"}, {"oid": "341038d7acd65046cf3224e64a2d666ac377137f", "url": "https://github.com/vespa-engine/vespa/commit/341038d7acd65046cf3224e64a2d666ac377137f", "message": "Undo autoformat.", "committedDate": "2020-02-11T12:04:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNDY4MA==", "url": "https://github.com/vespa-engine/vespa/pull/12151#discussion_r377614680", "bodyText": "I don't think we can remove this throw because it breaks the API", "author": "bratseth", "createdAt": "2020-02-11T12:52:14Z", "path": "container-search/src/main/java/com/yahoo/search/handler/HttpSearchResponse.java", "diffHunk": "@@ -69,14 +69,14 @@ private static void populateHeaders(HeaderFields outputHeaders,\n         }\n     }\n \n-    public ListenableFuture<Boolean> waitableRender(OutputStream stream) throws IOException {", "originalCommit": "341038d7acd65046cf3224e64a2d666ac377137f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNzQzOQ==", "url": "https://github.com/vespa-engine/vespa/pull/12151#discussion_r377617439", "bodyText": "Hmm, It did not fail the api checks......", "author": "baldersheim", "createdAt": "2020-02-11T12:57:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNDY4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMDQ2Mw==", "url": "https://github.com/vespa-engine/vespa/pull/12151#discussion_r377620463", "bodyText": "https://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html#jls-13.4.21\n13.4.21. Method and Constructor Throws\nChanges to the throws clause of methods or constructors do not break compatibility with pre-existing binaries; these clauses are checked only at compile time.", "author": "baldersheim", "createdAt": "2020-02-11T13:04:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNDY4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNDc2Nw==", "url": "https://github.com/vespa-engine/vespa/pull/12151#discussion_r377614767", "bodyText": "Same: I don't think we can remove this throw because it breaks the API", "author": "bratseth", "createdAt": "2020-02-11T12:52:26Z", "path": "container-search/src/main/java/com/yahoo/search/handler/HttpSearchResponse.java", "diffHunk": "@@ -69,14 +69,14 @@ private static void populateHeaders(HeaderFields outputHeaders,\n         }\n     }\n \n-    public ListenableFuture<Boolean> waitableRender(OutputStream stream) throws IOException {\n+    public ListenableFuture<Boolean> waitableRender(OutputStream stream) {\n         return waitableRender(result, query, rendererCopy, stream);\n     }\n \n     public static ListenableFuture<Boolean> waitableRender(Result result,\n                                                            Query query,\n                                                            Renderer<Result> renderer,\n-                                                           OutputStream stream) throws IOException {", "originalCommit": "341038d7acd65046cf3224e64a2d666ac377137f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNzUxMQ==", "url": "https://github.com/vespa-engine/vespa/pull/12151#discussion_r377617511", "bodyText": "Hmm, It did not fail the api checks......", "author": "baldersheim", "createdAt": "2020-02-11T12:57:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNDc2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMDY2Ng==", "url": "https://github.com/vespa-engine/vespa/pull/12151#discussion_r377620666", "bodyText": "https://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html#jls-13.4.21\n13.4.21. Method and Constructor Throws\nChanges to the throws clause of methods or constructors do not break compatibility with pre-existing binaries; these clauses are checked only at compile time.", "author": "baldersheim", "createdAt": "2020-02-11T13:04:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYxNDc2Nw=="}], "type": "inlineReview"}]}