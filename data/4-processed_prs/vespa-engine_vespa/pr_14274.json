{"pr_number": 14274, "pr_title": "Ensure that error handling in merge is mandatory.", "pr_createdAt": "2020-09-03T13:13:06Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14274", "timeline": [{"oid": "30c09b669c54a49fd2a8072e8c343fc996e42fe7", "url": "https://github.com/vespa-engine/vespa/commit/30c09b669c54a49fd2a8072e8c343fc996e42fe7", "message": "Ensure that error handling in merge is mandatory.", "committedDate": "2020-09-03T13:07:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ3MTY3Mw==", "url": "https://github.com/vespa-engine/vespa/pull/14274#discussion_r483471673", "bodyText": "Consider removing this test which duplicates  test performed by caller.", "author": "toregge", "createdAt": "2020-09-04T08:33:20Z", "path": "searchlib/src/vespa/searchlib/transactionlog/common.cpp", "diffHunk": "@@ -1,14 +1,29 @@\n // Copyright 2017 Yahoo Holdings. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.\n \n #include \"common.h\"\n+#include <vespa/vespalib/util/stringfmt.h>\n #include <vespa/fastos/file.h>\n \n namespace search::transactionlog {\n \n using vespalib::nbostream;\n using vespalib::nbostream_longlivedbuf;\n+using vespalib::make_string;\n+using std::runtime_error;\n \n-int makeDirectory(const char * dir)\n+namespace {\n+\n+void throwRangeError(SerialNum prev, SerialNum next) __attribute__((noinline));\n+\n+void throwRangeError(SerialNum prev, SerialNum next) {\n+    if (prev < next) return;", "originalCommit": "30c09b669c54a49fd2a8072e8c343fc996e42fe7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ3NzU5MQ==", "url": "https://github.com/vespa-engine/vespa/pull/14274#discussion_r483477591", "bodyText": "Fixed", "author": "baldersheim", "createdAt": "2020-09-04T08:44:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ3MTY3Mw=="}], "type": "inlineReview"}, {"oid": "e28e2b2b16c23f8eb78ee3aab480ced7e270684c", "url": "https://github.com/vespa-engine/vespa/commit/e28e2b2b16c23f8eb78ee3aab480ced7e270684c", "message": "Remove redundant if checks.", "committedDate": "2020-09-04T08:43:10Z", "type": "commit"}]}