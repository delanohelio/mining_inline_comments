{"pr_number": 13704, "pr_title": "Let the executor create an executor id to its liking.", "pr_createdAt": "2020-06-25T09:36:02Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/13704", "timeline": [{"oid": "8004167e964b1eb12a67777ec9d70d57a5dbbfed", "url": "https://github.com/vespa-engine/vespa/commit/8004167e964b1eb12a67777ec9d70d57a5dbbfed", "message": "Let the executor create an executor id to its liking.\nTaske full advantage over strands instead of being limited to threads.", "committedDate": "2020-06-25T09:34:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU0MDE5Nw==", "url": "https://github.com/vespa-engine/vespa/pull/13704#discussion_r445540197", "bodyText": "this bypasses a lot of magic implemented in the 'interface'; is that intentional? if yes, move magic to the other subclass. If no, move magic to utility function that can be called from this one.", "author": "havardpe", "createdAt": "2020-06-25T13:02:54Z", "path": "staging_vespalib/src/vespa/vespalib/util/adaptive_sequenced_executor.cpp", "diffHunk": "@@ -256,6 +256,11 @@ AdaptiveSequencedExecutor::~AdaptiveSequencedExecutor()\n     assert(_worker_stack.empty());\n }\n \n+ISequencedTaskExecutor::ExecutorId\n+AdaptiveSequencedExecutor::getExecutorId(uint64_t component) const {", "originalCommit": "8004167e964b1eb12a67777ec9d70d57a5dbbfed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU0NDYxMg==", "url": "https://github.com/vespa-engine/vespa/pull/13704#discussion_r445544612", "bodyText": "Yes, that is intentional. I planned to move the magic out of the interface in a separate PR. I can put it in this one if you prefer that.", "author": "baldersheim", "createdAt": "2020-06-25T13:08:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU0MDE5Nw=="}], "type": "inlineReview"}, {"oid": "e7873c1763e10074dbf4577c3456995fde2b4cbf", "url": "https://github.com/vespa-engine/vespa/commit/e7873c1763e10074dbf4577c3456995fde2b4cbf", "message": "Update the test to what is important for the adaptive executor.", "committedDate": "2020-06-25T13:15:37Z", "type": "commit"}]}