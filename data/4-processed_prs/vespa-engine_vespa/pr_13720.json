{"pr_number": 13720, "pr_title": "Modernize to c++11 style loops.", "pr_createdAt": "2020-06-26T10:55:01Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/13720", "timeline": [{"oid": "14e2d148bb82cf15ab4fac1eabbca85cfff49d7b", "url": "https://github.com/vespa-engine/vespa/commit/14e2d148bb82cf15ab4fac1eabbca85cfff49d7b", "message": "Modernize to c++11 style loops.", "committedDate": "2020-06-26T10:53:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExODE3Ng==", "url": "https://github.com/vespa-engine/vespa/pull/13720#discussion_r446118176", "bodyText": "Consider nullptr instead of literal 0 (or just remove it entirely since it's a destructor anyway...)", "author": "vekterli", "createdAt": "2020-06-26T11:07:00Z", "path": "vdslib/src/vespa/vdslib/distribution/group.cpp", "diffHunk": "@@ -39,11 +39,9 @@ Group::Group(uint16_t index, vespalib::stringref name,\n \n Group::~Group()\n {\n-    for (std::map<uint16_t, Group*>::iterator it = _subGroups.begin();\n-         it != _subGroups.end(); ++it)\n-    {\n-        delete it->second;\n-        it->second = 0;\n+    for (auto & subGroup : _subGroups) {\n+        delete subGroup.second;\n+        subGroup.second = 0;", "originalCommit": "14e2d148bb82cf15ab4fac1eabbca85cfff49d7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjEyNjI0NA==", "url": "https://github.com/vespa-engine/vespa/pull/13720#discussion_r446126244", "bodyText": "Fixed++ PTAL", "author": "baldersheim", "createdAt": "2020-06-26T11:25:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExODE3Ng=="}], "type": "inlineReview"}, {"oid": "caeca6a993b240cfd87b28b412763cf3baa9ec0d", "url": "https://github.com/vespa-engine/vespa/commit/caeca6a993b240cfd87b28b412763cf3baa9ec0d", "message": "Use std::move", "committedDate": "2020-06-26T11:17:00Z", "type": "commit"}, {"oid": "4d6735727d5337faf047191bc5d45e4f6d7d3d4c", "url": "https://github.com/vespa-engine/vespa/commit/4d6735727d5337faf047191bc5d45e4f6d7d3d4c", "message": "0 -> nullptr", "committedDate": "2020-06-26T11:19:29Z", "type": "commit"}, {"oid": "73c64607c12e977871aa13add999583bcd813a3a", "url": "https://github.com/vespa-engine/vespa/commit/73c64607c12e977871aa13add999583bcd813a3a", "message": "Nested namespace", "committedDate": "2020-06-26T11:25:04Z", "type": "commit"}]}