{"pr_number": 14076, "pr_title": "Move methods to Session and ApplicationRepository", "pr_createdAt": "2020-08-18T08:46:17Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14076", "timeline": [{"oid": "796f6dd5c3050caac6a7506d7c940144a5519e7c", "url": "https://github.com/vespa-engine/vespa/commit/796f6dd5c3050caac6a7506d7c940144a5519e7c", "message": "Move some methods to Session superclass", "committedDate": "2020-08-17T11:12:10Z", "type": "commit"}, {"oid": "f201978bbe446989bd2b6b749ff4d6c42807026f", "url": "https://github.com/vespa-engine/vespa/commit/f201978bbe446989bd2b6b749ff4d6c42807026f", "message": "Move some code to ApplicationRepository", "committedDate": "2020-08-18T08:36:36Z", "type": "commit"}, {"oid": "9dc4c09252afbdb352805e87d54a3c4a75d4d49b", "url": "https://github.com/vespa-engine/vespa/commit/9dc4c09252afbdb352805e87d54a3c4a75d4d49b", "message": "Merge branch 'master' into hmusum/move-methods-to-Session", "committedDate": "2020-08-18T08:39:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA3MDA5Mg==", "url": "https://github.com/vespa-engine/vespa/pull/14076#discussion_r472070092", "bodyText": "This has duplicate code from the constructor above, but assuming it's temporary while refactoring the Session classes.", "author": "gjoranv", "createdAt": "2020-08-18T10:14:15Z", "path": "configserver/src/main/java/com/yahoo/vespa/config/server/session/Session.java", "diffHunk": "@@ -27,13 +31,24 @@\n     private final long sessionId;\n     protected final TenantName tenant;\n     protected final SessionZooKeeperClient sessionZooKeeperClient;\n+    protected final Optional<ApplicationPackage> applicationPackage;\n \n     protected Session(TenantName tenant, long sessionId, SessionZooKeeperClient sessionZooKeeperClient) {\n         this.tenant = tenant;\n         this.sessionId = sessionId;\n         this.sessionZooKeeperClient = sessionZooKeeperClient;\n+        this.applicationPackage = Optional.empty();\n     }\n \n+    protected Session(TenantName tenant, long sessionId, SessionZooKeeperClient sessionZooKeeperClient,", "originalCommit": "796f6dd5c3050caac6a7506d7c940144a5519e7c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA3Njg2Mw==", "url": "https://github.com/vespa-engine/vespa/pull/14076#discussion_r472076863", "bodyText": "Yes, will clean up", "author": "hmusum", "createdAt": "2020-08-18T10:27:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA3MDA5Mg=="}], "type": "inlineReview"}]}