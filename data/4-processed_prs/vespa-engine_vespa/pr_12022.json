{"pr_number": 12022, "pr_title": "Support using imported fields in document selection expressions", "pr_createdAt": "2020-01-31T13:15:50Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12022", "timeline": [{"oid": "228d880395e9ae07e9e55ca315f381a1de91cc15", "url": "https://github.com/vespa-engine/vespa/commit/228d880395e9ae07e9e55ca315f381a1de91cc15", "message": "Add imported fields to document configs\n\nThis adds the field names of all imported fields in a search definition\nto the document configs associated with it (document manager and document\ntypes config for Java and C++, respectively). This enables consumers of\nthese configs to distinguish between field references to imported fields\nand fields that don't exist in the document schema itself.", "committedDate": "2020-01-31T10:33:04Z", "type": "commit"}, {"oid": "918aa65874eb4ddac5ae251862e1ee4887e81d1b", "url": "https://github.com/vespa-engine/vespa/commit/918aa65874eb4ddac5ae251862e1ee4887e81d1b", "message": "Wire imported fields config into Java DocumentType", "committedDate": "2020-01-31T10:33:08Z", "type": "commit"}, {"oid": "c5d747c072f8a94f30e6748737b5f1ad2023dcf0", "url": "https://github.com/vespa-engine/vespa/commit/c5d747c072f8a94f30e6748737b5f1ad2023dcf0", "message": "Detect and handle simple imported fields in expressions (Java)", "committedDate": "2020-01-31T10:33:08Z", "type": "commit"}, {"oid": "cf606f5c9610df78ae57b516c5415350418633fa", "url": "https://github.com/vespa-engine/vespa/commit/cf606f5c9610df78ae57b516c5415350418633fa", "message": "Propagate configured imported fields to DocumentTypeRepo (C++)", "committedDate": "2020-01-31T10:33:08Z", "type": "commit"}, {"oid": "a3d50fb4b8ea0e6cea01d9283d7029d7ed88fb3c", "url": "https://github.com/vespa-engine/vespa/commit/a3d50fb4b8ea0e6cea01d9283d7029d7ed88fb3c", "message": "Detect and handle simple imported fields in expressions (C++)", "committedDate": "2020-01-31T10:33:08Z", "type": "commit"}, {"oid": "4c6c916212641e4759f85e9e598777c260932f23", "url": "https://github.com/vespa-engine/vespa/commit/4c6c916212641e4759f85e9e598777c260932f23", "message": "Forward isUndefined() for imported attributes to the target attribute vector\n\nDefault implementation would always return false, which means that the\nundefined sentinel value would be returned to--and used by--the caller.", "committedDate": "2020-01-31T10:33:08Z", "type": "commit"}, {"oid": "a1bb9ca48345104869ee7dfe3844b2b1fcb679a9", "url": "https://github.com/vespa-engine/vespa/commit/a1bb9ca48345104869ee7dfe3844b2b1fcb679a9", "message": "Support imported attribute fields in backend selection logic", "committedDate": "2020-01-31T10:33:08Z", "type": "commit"}, {"oid": "75e04be1f59da14324f0e91d2304a385f09ead7b", "url": "https://github.com/vespa-engine/vespa/commit/75e04be1f59da14324f0e91d2304a385f09ead7b", "message": "Add copyright to new files", "committedDate": "2020-01-31T15:22:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk4MDcwNw==", "url": "https://github.com/vespa-engine/vespa/pull/12022#discussion_r373980707", "bodyText": "Please add description similar to the one in documentmanager.def.", "author": "geirst", "createdAt": "2020-02-03T08:53:15Z", "path": "document/src/vespa/document/config/documenttypes.def", "diffHunk": "@@ -104,3 +104,5 @@ documenttype[].referencetype[].id int\n \n ## Numeric ID of the document type instances of the reference point to.\n documenttype[].referencetype[].target_type_id int\n+", "originalCommit": "228d880395e9ae07e9e55ca315f381a1de91cc15", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAxNDI3Ng==", "url": "https://github.com/vespa-engine/vespa/pull/12022#discussion_r374014276", "bodyText": "Fixed", "author": "vekterli", "createdAt": "2020-02-03T10:05:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk4MDcwNw=="}], "type": "inlineReview"}, {"oid": "65d41a47e3df924c341d232d2a6ed5f49fbb96cd", "url": "https://github.com/vespa-engine/vespa/commit/65d41a47e3df924c341d232d2a6ed5f49fbb96cd", "message": "Add comment to importedfield entry in documenttypes config definition", "committedDate": "2020-02-03T10:03:51Z", "type": "commit"}]}