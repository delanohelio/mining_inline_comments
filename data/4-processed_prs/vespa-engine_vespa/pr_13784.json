{"pr_number": 13784, "pr_title": "Create generic flags for IPs we want to block", "pr_createdAt": "2020-07-02T12:41:12Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/13784", "timeline": [{"oid": "e46fe06755e9f4caaf0812e34c8761f37c966636", "url": "https://github.com/vespa-engine/vespa/commit/e46fe06755e9f4caaf0812e34c8761f37c966636", "message": "Create generic flag for IPs we want to block", "committedDate": "2020-07-02T12:40:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk5MDc3NQ==", "url": "https://github.com/vespa-engine/vespa/pull/13784#discussion_r448990775", "bodyText": "The overrides for this flag in the public systems should be removed first?", "author": "hakonhall", "createdAt": "2020-07-02T13:11:50Z", "path": "flags/src/main/java/com/yahoo/vespa/flags/Flags.java", "diffHunk": "@@ -295,19 +295,25 @@\n             APPLICATION_ID\n     );\n \n-    public static final UnboundBooleanFlag ONLY_PUBLIC_ACCESS = defineFeatureFlag(", "originalCommit": "e46fe06755e9f4caaf0812e34c8761f37c966636", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAwMTc3Ng==", "url": "https://github.com/vespa-engine/vespa/pull/13784#discussion_r449001776", "bodyText": "I was thinking to remove the flag once the code change went out so that it remains valid until we have released this code.", "author": "oyving", "createdAt": "2020-07-02T13:28:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk5MDc3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAyOTU0NA==", "url": "https://github.com/vespa-engine/vespa/pull/13784#discussion_r449029544", "bodyText": "The common strategy to remove a flag is 1. stop using the flag and wait for that to roll out everywhere, 2. remove flag overrides, and 3. remove flag def.  (2) and (3) can be reversed but I believe it may break the push of flag pushes and/or make it harder to remove the flag.", "author": "hakonhall", "createdAt": "2020-07-02T14:09:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk5MDc3NQ=="}], "type": "inlineReview"}, {"oid": "b638dcd71e739a2ea9d1e4e6a567ff9f5586acc7", "url": "https://github.com/vespa-engine/vespa/commit/b638dcd71e739a2ea9d1e4e6a567ff9f5586acc7", "message": "Reinstate old flag to remove it more orderly later", "committedDate": "2020-07-03T07:24:53Z", "type": "commit"}]}