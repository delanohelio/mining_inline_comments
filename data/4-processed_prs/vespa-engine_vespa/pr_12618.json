{"pr_number": 12618, "pr_title": "Balder/use fast map for few elements.", "pr_createdAt": "2020-03-18T18:55:53Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12618", "timeline": [{"oid": "49aba2c5acb59c33b30ab8d35bdd7ccc7a981a20", "url": "https://github.com/vespa-engine/vespa/commit/49aba2c5acb59c33b30ab8d35bdd7ccc7a981a20", "message": "Use a faster executor for single element exeutors", "committedDate": "2020-03-18T14:57:24Z", "type": "commit"}, {"oid": "67b72d9e3a5765de1b5b1af1c14058218a356e79", "url": "https://github.com/vespa-engine/vespa/commit/67b72d9e3a5765de1b5b1af1c14058218a356e79", "message": "Special handle for non-enumerated integer fields too.", "committedDate": "2020-03-18T17:48:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAzOTYwNg==", "url": "https://github.com/vespa-engine/vespa/pull/12618#discussion_r395039606", "bodyText": "could let auto resolve to a value here and move it into the constructor", "author": "havardpe", "createdAt": "2020-03-19T13:50:59Z", "path": "searchlib/src/vespa/searchlib/features/dotproductfeature.cpp", "diffHunk": "@@ -584,6 +655,10 @@ createForDirectWSetImpl(const IAttributeVector * attribute, V && vector, vespali\n     if (!attribute->isImported() && (iattr != nullptr) && supportsGetRawValues<A, VT>(*iattr)) {\n         auto * exactA = dynamic_cast<const ExactA *>(iattr);\n         if (exactA != nullptr) {\n+            if (extractSize(vector) == 1) {\n+                const auto & elem = extractElem(vector, 0ul);", "originalCommit": "67b72d9e3a5765de1b5b1af1c14058218a356e79", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA2ODgwOQ==", "url": "https://github.com/vespa-engine/vespa/pull/12618#discussion_r395068809", "bodyText": "Just removed the temporary.", "author": "baldersheim", "createdAt": "2020-03-19T14:30:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAzOTYwNg=="}], "type": "inlineReview"}, {"oid": "f2d28cf4c1b8579b58e3ae506fc62970be7fb254", "url": "https://github.com/vespa-engine/vespa/commit/f2d28cf4c1b8579b58e3ae506fc62970be7fb254", "message": "Avoid using a temporary.", "committedDate": "2020-03-19T14:28:52Z", "type": "commit"}]}