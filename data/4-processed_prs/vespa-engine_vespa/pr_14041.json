{"pr_number": 14041, "pr_title": "Revert \"Revert \"- Change APi for fetching documents to support optimal document retri\u2026\"\"", "pr_createdAt": "2020-08-12T17:25:47Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14041", "timeline": [{"oid": "c15cc38f296e37ed95f05445b0a7c569b7b28b7f", "url": "https://github.com/vespa-engine/vespa/commit/c15cc38f296e37ed95f05445b0a7c569b7b28b7f", "message": "Revert \"Revert \"- Change APi for fetching documents to support optimal document retri\u2026\"\"", "committedDate": "2020-08-12T17:25:35Z", "type": "commit"}, {"oid": "d972c7ff721a5006b5e4ae4d467cd015ac3a09dc", "url": "https://github.com/vespa-engine/vespa/commit/d972c7ff721a5006b5e4ae4d467cd015ac3a09dc", "message": "Control your negations... And test that you do.", "committedDate": "2020-08-12T21:02:17Z", "type": "commit"}, {"oid": "20463c18ef1a6123baa93d0b25d7c09cfae02071", "url": "https://github.com/vespa-engine/vespa/commit/20463c18ef1a6123baa93d0b25d7c09cfae02071", "message": "Insert into correct field set", "committedDate": "2020-08-12T21:36:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTc2NTMwMA==", "url": "https://github.com/vespa-engine/vespa/pull/14041#discussion_r469765300", "bodyText": "test name is somewhat lacking", "author": "havardpe", "createdAt": "2020-08-13T07:55:17Z", "path": "searchcore/src/tests/proton/server/documentretriever_test.cpp", "diffHunk": "@@ -567,6 +567,49 @@ TEST_F(\"require that tensor attribute can be retrieved\", Fixture) {\n     ASSERT_TRUE(tensor_value->getAsTensorPtr()->equals(*dynamic_tensor));\n }\n \n+struct Lookup : public IFieldInfo\n+{\n+    Lookup() : _count(0) {}\n+    bool isFieldAttribute(const document::Field & field) const override {\n+        _count++;\n+        return (field.getName()[0] == 'a');\n+    }\n+    mutable unsigned _count;\n+};\n+\n+TEST(\"require \") {", "originalCommit": "d972c7ff721a5006b5e4ae4d467cd015ac3a09dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}