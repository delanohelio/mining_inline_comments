{"pr_number": 12965, "pr_title": "Require LLVM 7 for centos 7 and rhel 7", "pr_createdAt": "2020-04-17T11:52:03Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/12965", "timeline": [{"oid": "d7a45e1d9c780d625d89478b215d2d4090399c16", "url": "https://github.com/vespa-engine/vespa/commit/d7a45e1d9c780d625d89478b215d2d4090399c16", "message": "Require LLVM 7 for centos 7 and rhel 7", "committedDate": "2020-04-17T11:50:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3OTE4NA==", "url": "https://github.com/vespa-engine/vespa/pull/12965#discussion_r410179184", "bodyText": "Use\"7\", not \"7.0\" here.", "author": "toregge", "createdAt": "2020-04-17T12:07:29Z", "path": "default_build_settings.cmake", "diffHunk": "@@ -9,9 +9,9 @@ endfunction()\n \n function(setup_vespa_default_build_settings_rhel_7_7)\n   message(\"-- Setting up default build settings for rhel 7.7\")\n-  set(DEFAULT_EXTRA_LINK_DIRECTORY \"${VESPA_DEPS}/lib64\" \"/usr/lib64/llvm5.0/lib\" PARENT_SCOPE)\n-  set(DEFAULT_EXTRA_INCLUDE_DIRECTORY \"${VESPA_DEPS}/include\" \"/usr/include/llvm5.0\" \"/usr/include/openblas\" PARENT_SCOPE)\n-  set(DEFAULT_VESPA_LLVM_VERSION \"5.0\" PARENT_SCOPE)\n+  set(DEFAULT_EXTRA_LINK_DIRECTORY \"${VESPA_DEPS}/lib64\" \"/usr/lib64/llvm7.0/lib\" PARENT_SCOPE)\n+  set(DEFAULT_EXTRA_INCLUDE_DIRECTORY \"${VESPA_DEPS}/include\" \"/usr/include/llvm7.0\" \"/usr/include/openblas\" PARENT_SCOPE)\n+  set(DEFAULT_VESPA_LLVM_VERSION \"7.0\" PARENT_SCOPE)", "originalCommit": "d7a45e1d9c780d625d89478b215d2d4090399c16", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4NzQ1Mg==", "url": "https://github.com/vespa-engine/vespa/pull/12965#discussion_r410187452", "bodyText": "Fixed", "author": "baldersheim", "createdAt": "2020-04-17T12:25:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3OTE4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3OTI5MA==", "url": "https://github.com/vespa-engine/vespa/pull/12965#discussion_r410179290", "bodyText": "Use 7, not 7.0 here", "author": "toregge", "createdAt": "2020-04-17T12:07:44Z", "path": "dist/vespa.spec", "diffHunk": "@@ -154,14 +154,14 @@ Requires: perf\n Requires: gdb\n Requires: net-tools\n %if 0%{?el7}\n-Requires: llvm5.0\n+Requires: llvm7.0\n Requires: vespa-openssl >= 1.1.1c-1\n Requires: vespa-icu >= 65.1.0-1\n Requires: vespa-protobuf >= 3.7.0-4\n Requires: vespa-telegraf >= 1.1.1-1\n-%define _vespa_llvm_version 5.0\n-%define _extra_link_directory /usr/lib64/llvm5.0/lib;%{_vespa_deps_prefix}/lib64\n-%define _extra_include_directory /usr/include/llvm5.0;%{_vespa_deps_prefix}/include;/usr/include/openblas\n+%define _vespa_llvm_version 7.0", "originalCommit": "d7a45e1d9c780d625d89478b215d2d4090399c16", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4NzU1MQ==", "url": "https://github.com/vespa-engine/vespa/pull/12965#discussion_r410187551", "bodyText": "Fixed", "author": "baldersheim", "createdAt": "2020-04-17T12:25:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE3OTI5MA=="}], "type": "inlineReview"}, {"oid": "85466f528583dd460456503a6b941f0e23f2ea64", "url": "https://github.com/vespa-engine/vespa/commit/85466f528583dd460456503a6b941f0e23f2ea64", "message": "LLVM 7", "committedDate": "2020-04-17T12:21:55Z", "type": "commit"}, {"oid": "4416b28fca858b4d4bda328a190f72bee4c6b73e", "url": "https://github.com/vespa-engine/vespa/commit/4416b28fca858b4d4bda328a190f72bee4c6b73e", "message": "LLVM 7", "committedDate": "2020-04-17T12:24:54Z", "type": "commit"}]}