{"pr_number": 14476, "pr_title": "Balder/add commit result", "pr_createdAt": "2020-09-21T19:58:24Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14476", "timeline": [{"oid": "31b179d62e3dec85d9af5058857ed16fa81a4002", "url": "https://github.com/vespa-engine/vespa/commit/31b179d62e3dec85d9af5058857ed16fa81a4002", "message": "Add CommitResult.", "committedDate": "2020-09-21T18:25:17Z", "type": "commit"}, {"oid": "6eab511ac74f9c60427d3510a55003e4c7d380ac", "url": "https://github.com/vespa-engine/vespa/commit/6eab511ac74f9c60427d3510a55003e4c7d380ac", "message": "Add startCommit method", "committedDate": "2020-09-21T19:44:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU4MTcxMw==", "url": "https://github.com/vespa-engine/vespa/pull/14476#discussion_r492581713", "bodyText": "Consider adding [[nodiscard]]\u00a0attribute. Lifetime of return value is important.", "author": "toregge", "createdAt": "2020-09-22T09:04:39Z", "path": "searchlib/src/vespa/searchlib/transactionlog/domain.h", "diffHunk": "@@ -27,7 +27,8 @@ class Domain : public Writer\n     const vespalib::string & name() const { return _name; }\n     bool erase(SerialNum to);\n \n-    void commit(const Packet & packet, Writer::DoneCallback onDone) override;\n+    void append(const Packet & packet, Writer::DoneCallback onDone) override;\n+    CommitResult startCommit(DoneCallback onDone) override;", "originalCommit": "6eab511ac74f9c60427d3510a55003e4c7d380ac", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYxODA5MA==", "url": "https://github.com/vespa-engine/vespa/pull/14476#discussion_r492618090", "bodyText": "Done", "author": "baldersheim", "createdAt": "2020-09-22T10:06:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU4MTcxMw=="}], "type": "inlineReview"}, {"oid": "20d0f96d2e6f276669293780adc67421aea0dee2", "url": "https://github.com/vespa-engine/vespa/commit/20d0f96d2e6f276669293780adc67421aea0dee2", "message": "Add [[nodiscard]] attribute to startCommit.", "committedDate": "2020-09-22T10:05:23Z", "type": "commit"}]}