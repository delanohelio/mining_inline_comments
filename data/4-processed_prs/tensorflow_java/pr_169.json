{"pr_number": 169, "pr_title": "Nicer error messages for mode-forbidden ops", "pr_createdAt": "2020-12-09T22:55:39Z", "pr_url": "https://github.com/tensorflow/java/pull/169", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDc3OTUzNA==", "url": "https://github.com/tensorflow/java/pull/169#discussion_r550779534", "bodyText": "can you please add a space after if and also wrap the throw statement in a block {...}? This is more in line with the Google Java Style Guide that we follow in this project.", "author": "karllessard", "createdAt": "2021-01-01T15:41:30Z", "path": "tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/EagerOperationBuilder.java", "diffHunk": "@@ -55,6 +55,9 @@\n final class EagerOperationBuilder implements OperationBuilder {\n \n   EagerOperationBuilder(EagerSession session, String type, String name) {\n+    if(!session.isOpEnabled(type))\n+      throw new IllegalArgumentException(\"Op \" + type + \" is not valid in eager mode.\");", "originalCommit": "f90d8924f12ff64af036332ba9f6a369a12242a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDc3OTU5NQ==", "url": "https://github.com/tensorflow/java/pull/169#discussion_r550779595", "bodyText": "same comment as here", "author": "karllessard", "createdAt": "2021-01-01T15:42:11Z", "path": "tensorflow-core/tensorflow-core-api/src/main/java/org/tensorflow/GraphOperationBuilder.java", "diffHunk": "@@ -57,6 +57,9 @@\n public final class GraphOperationBuilder implements OperationBuilder {\n \n   GraphOperationBuilder(Graph graph, String type, String name) {\n+    if(!graph.isOpEnabled(type))\n+      throw new IllegalArgumentException(\"Op \" + type + \" is not valid in graph mode.\");\n+", "originalCommit": "f90d8924f12ff64af036332ba9f6a369a12242a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a42ed5b0c0198b43d1c2d0bdcf79fd87f5774ca8", "url": "https://github.com/tensorflow/java/commit/a42ed5b0c0198b43d1c2d0bdcf79fd87f5774ca8", "message": "start fobbiden ops checks\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2021-01-01T23:44:03Z", "type": "commit"}, {"oid": "463036dbcd41628290947245a850ee526a93d6db", "url": "https://github.com/tensorflow/java/commit/463036dbcd41628290947245a850ee526a93d6db", "message": "fix style\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2021-01-01T23:45:43Z", "type": "commit"}, {"oid": "463036dbcd41628290947245a850ee526a93d6db", "url": "https://github.com/tensorflow/java/commit/463036dbcd41628290947245a850ee526a93d6db", "message": "fix style\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2021-01-01T23:45:43Z", "type": "forcePushed"}, {"oid": "6d2dcf604d45c609141db0b9f5118455675b6e74", "url": "https://github.com/tensorflow/java/commit/6d2dcf604d45c609141db0b9f5118455675b6e74", "message": "move checks to builder method\n\nSigned-off-by: Ryan Nett <rnett@calpoly.edu>", "committedDate": "2021-01-01T23:48:49Z", "type": "commit"}]}