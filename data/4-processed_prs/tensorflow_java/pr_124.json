{"pr_number": 124, "pr_title": "Add scripts for deployment and releases", "pr_createdAt": "2020-10-02T12:58:34Z", "pr_url": "https://github.com/tensorflow/java/pull/124", "timeline": [{"oid": "0eca7981380410cef325cec15c48261e3e59f92a", "url": "https://github.com/tensorflow/java/commit/0eca7981380410cef325cec15c48261e3e59f92a", "message": "Javadoc fixes", "committedDate": "2020-10-01T15:38:55Z", "type": "commit"}, {"oid": "9e9d813e065e20758b427ef190bcfafe7cd9956a", "url": "https://github.com/tensorflow/java/commit/9e9d813e065e20758b427ef190bcfafe7cd9956a", "message": "Adding scripts and applying changes for release", "committedDate": "2020-10-01T15:38:55Z", "type": "commit"}, {"oid": "f06f65cf10ed781d1290da36993536834e823d57", "url": "https://github.com/tensorflow/java/commit/f06f65cf10ed781d1290da36993536834e823d57", "message": "Fetch native artifacts from OSSRH on deployment", "committedDate": "2020-10-01T15:38:55Z", "type": "commit"}, {"oid": "963cdb61129037bd466b1b0ce52134cd254a4458", "url": "https://github.com/tensorflow/java/commit/963cdb61129037bd466b1b0ce52134cd254a4458", "message": "Call OSSRH REST endpoints for deploying releases", "committedDate": "2020-10-02T12:33:25Z", "type": "commit"}, {"oid": "181e0079d5fcd252efe3ae66620f2d9ca376eec7", "url": "https://github.com/tensorflow/java/commit/181e0079d5fcd252efe3ae66620f2d9ca376eec7", "message": "Select the right repository on deploy-file", "committedDate": "2020-10-02T20:16:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAyOTMyMA==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499029320", "bodyText": "Incorrect link.", "author": "Craigacp", "createdAt": "2020-10-02T20:12:24Z", "path": "RELEASE.md", "diffHunk": "@@ -0,0 +1,221 @@\n+# Releasing TensorFlow Java\n+\n+The\n+[TensorFlow Java API](https://github.com/tensorflow/java) is available on Maven Central and JCenter\n+through artifacts uploaded to\n+[OSS Sonatype](https://oss.sonatype.org/content/repositories/releases/org/tensorflow/) and/or\n+[Bintray](https://bintray.com/google/tensorflow/tensorflow). This\n+document describes the process of updating the release artifacts. It does _not_ describe how to use\n+the artifacts, for which the reader is referred to the\n+[TensorFlow for Java installation instructions](https://github.com/tensorflow/java/blob/master/README.md).\n+\n+## Background\n+\n+TensorFlow source (which is primarily in C++) is built using\n+[bazel](https://bazel.build) and not [maven](https://maven.apache.org/). TensorFlow Java\n+wraps over this native code and thus depends on platform (OS, architecture) specific native code.\n+\n+Hence, the process for building and uploading release artifacts is not a single\n+`mvn deploy` command.\n+\n+## Release process overview\n+\n+The process of releasing TensorFlow Java is split in two major steps:\n+* Building and deploying the native artifacts\n+* Building and deploying all artifacts consolidated\n+\n+The first step is executed on different build servers, each responsible to build the native\n+artifact for a specific architecture and platform. The second step is conducted locally in\n+a [Docker](https://www.docker.com) container for a hermetic release process.\n+\n+### Pre-requisites\n+\n+-   `docker`\n+-   An account at [oss.sonatype.org](https://oss.sonatype.org/), that has\n+    permissions to update artifacts in the `org.tensorflow` group. If your\n+    account does not have permissions, then you'll need to ask someone who does\n+    to [file a ticket](https://issues.sonatype.org/) to add to the permissions\n+    ([sample ticket](https://issues.sonatype.org/browse/MVNCENTRAL-1637)).\n+-   Optionally, an account at [bintray.com](https://bintray.com) that has permissions to\n+    update the [tensorflow repository](https://bintray.com/google/tensorflow).\n+    If your account does not have permissions, then you'll need to ask one of\n+    the [organization administrators](https://bintray.com/google) to give you\n+    permissions to update the `tensorflow` repository. Please keep the\n+    [repository option](https://bintray.com/google/tensorflow/edit?tab=general)\n+    to *\"GPG sign uploaded files using Bintray's public/private key pair\"*\n+    **unchecked**, otherwise it will conflict with locally signed artifacts.\n+-   A GPG signing key, required\n+    [to sign the release artifacts](http://central.sonatype.org/pages/apache-maven.html#gpg-signed-components).\n+\n+### Preparing a release\n+\n+#### Major or minor release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)", "originalCommit": "963cdb61129037bd466b1b0ce52134cd254a4458", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAyOTY1MQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499029651", "bodyText": "Incorrect link.", "author": "Craigacp", "createdAt": "2020-10-02T20:13:13Z", "path": "RELEASE.md", "diffHunk": "@@ -0,0 +1,221 @@\n+# Releasing TensorFlow Java\n+\n+The\n+[TensorFlow Java API](https://github.com/tensorflow/java) is available on Maven Central and JCenter\n+through artifacts uploaded to\n+[OSS Sonatype](https://oss.sonatype.org/content/repositories/releases/org/tensorflow/) and/or\n+[Bintray](https://bintray.com/google/tensorflow/tensorflow). This\n+document describes the process of updating the release artifacts. It does _not_ describe how to use\n+the artifacts, for which the reader is referred to the\n+[TensorFlow for Java installation instructions](https://github.com/tensorflow/java/blob/master/README.md).\n+\n+## Background\n+\n+TensorFlow source (which is primarily in C++) is built using\n+[bazel](https://bazel.build) and not [maven](https://maven.apache.org/). TensorFlow Java\n+wraps over this native code and thus depends on platform (OS, architecture) specific native code.\n+\n+Hence, the process for building and uploading release artifacts is not a single\n+`mvn deploy` command.\n+\n+## Release process overview\n+\n+The process of releasing TensorFlow Java is split in two major steps:\n+* Building and deploying the native artifacts\n+* Building and deploying all artifacts consolidated\n+\n+The first step is executed on different build servers, each responsible to build the native\n+artifact for a specific architecture and platform. The second step is conducted locally in\n+a [Docker](https://www.docker.com) container for a hermetic release process.\n+\n+### Pre-requisites\n+\n+-   `docker`\n+-   An account at [oss.sonatype.org](https://oss.sonatype.org/), that has\n+    permissions to update artifacts in the `org.tensorflow` group. If your\n+    account does not have permissions, then you'll need to ask someone who does\n+    to [file a ticket](https://issues.sonatype.org/) to add to the permissions\n+    ([sample ticket](https://issues.sonatype.org/browse/MVNCENTRAL-1637)).\n+-   Optionally, an account at [bintray.com](https://bintray.com) that has permissions to\n+    update the [tensorflow repository](https://bintray.com/google/tensorflow).\n+    If your account does not have permissions, then you'll need to ask one of\n+    the [organization administrators](https://bintray.com/google) to give you\n+    permissions to update the `tensorflow` repository. Please keep the\n+    [repository option](https://bintray.com/google/tensorflow/edit?tab=general)\n+    to *\"GPG sign uploaded files using Bintray's public/private key pair\"*\n+    **unchecked**, otherwise it will conflict with locally signed artifacts.\n+-   A GPG signing key, required\n+    [to sign the release artifacts](http://central.sonatype.org/pages/apache-maven.html#gpg-signed-components).\n+\n+### Preparing a release\n+\n+#### Major or minor release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)\n+    ```\n+    git clone https://github.com/tensorflow/java\n+    ```\n+2.  Create a new branch for the release named `r<MajorVersion>.<MinorVersion>`\n+    ```\n+    git checkout -b r1.0\n+    ```\n+3.  Update the version of the Maven artifacts to the full version of the release\n+    ```\n+    mvn versions:set -DnewVersion=1.0.0\n+    ``` \n+4.  Commit the changes and push the new branch to the GitHub repository\n+    ```\n+    git add .\n+    git commit -m \"Releasing 1.0.0\"\n+    git push --set-upstream upstream r1.0\n+    ```\n+\n+#### Patch release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)", "originalCommit": "963cdb61129037bd466b1b0ce52134cd254a4458", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMDI4MQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499030281", "bodyText": "Does any commit to a release branch trigger this?", "author": "Craigacp", "createdAt": "2020-10-02T20:14:43Z", "path": "RELEASE.md", "diffHunk": "@@ -0,0 +1,221 @@\n+# Releasing TensorFlow Java\n+\n+The\n+[TensorFlow Java API](https://github.com/tensorflow/java) is available on Maven Central and JCenter\n+through artifacts uploaded to\n+[OSS Sonatype](https://oss.sonatype.org/content/repositories/releases/org/tensorflow/) and/or\n+[Bintray](https://bintray.com/google/tensorflow/tensorflow). This\n+document describes the process of updating the release artifacts. It does _not_ describe how to use\n+the artifacts, for which the reader is referred to the\n+[TensorFlow for Java installation instructions](https://github.com/tensorflow/java/blob/master/README.md).\n+\n+## Background\n+\n+TensorFlow source (which is primarily in C++) is built using\n+[bazel](https://bazel.build) and not [maven](https://maven.apache.org/). TensorFlow Java\n+wraps over this native code and thus depends on platform (OS, architecture) specific native code.\n+\n+Hence, the process for building and uploading release artifacts is not a single\n+`mvn deploy` command.\n+\n+## Release process overview\n+\n+The process of releasing TensorFlow Java is split in two major steps:\n+* Building and deploying the native artifacts\n+* Building and deploying all artifacts consolidated\n+\n+The first step is executed on different build servers, each responsible to build the native\n+artifact for a specific architecture and platform. The second step is conducted locally in\n+a [Docker](https://www.docker.com) container for a hermetic release process.\n+\n+### Pre-requisites\n+\n+-   `docker`\n+-   An account at [oss.sonatype.org](https://oss.sonatype.org/), that has\n+    permissions to update artifacts in the `org.tensorflow` group. If your\n+    account does not have permissions, then you'll need to ask someone who does\n+    to [file a ticket](https://issues.sonatype.org/) to add to the permissions\n+    ([sample ticket](https://issues.sonatype.org/browse/MVNCENTRAL-1637)).\n+-   Optionally, an account at [bintray.com](https://bintray.com) that has permissions to\n+    update the [tensorflow repository](https://bintray.com/google/tensorflow).\n+    If your account does not have permissions, then you'll need to ask one of\n+    the [organization administrators](https://bintray.com/google) to give you\n+    permissions to update the `tensorflow` repository. Please keep the\n+    [repository option](https://bintray.com/google/tensorflow/edit?tab=general)\n+    to *\"GPG sign uploaded files using Bintray's public/private key pair\"*\n+    **unchecked**, otherwise it will conflict with locally signed artifacts.\n+-   A GPG signing key, required\n+    [to sign the release artifacts](http://central.sonatype.org/pages/apache-maven.html#gpg-signed-components).\n+\n+### Preparing a release\n+\n+#### Major or minor release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)\n+    ```\n+    git clone https://github.com/tensorflow/java\n+    ```\n+2.  Create a new branch for the release named `r<MajorVersion>.<MinorVersion>`\n+    ```\n+    git checkout -b r1.0\n+    ```\n+3.  Update the version of the Maven artifacts to the full version of the release\n+    ```\n+    mvn versions:set -DnewVersion=1.0.0\n+    ``` \n+4.  Commit the changes and push the new branch to the GitHub repository\n+    ```\n+    git add .\n+    git commit -m \"Releasing 1.0.0\"\n+    git push --set-upstream upstream r1.0\n+    ```\n+\n+#### Patch release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)\n+    ```\n+    git clone https://github.com/tensorflow/java\n+    ```\n+2.  Switch to the release branch of the version to patch\n+    ```\n+    git checkout r1.0\n+    ```\n+3.  Patch the code with your changes. For example, changes could be merged from another branch you\n+    were working on or be applied directly to this branch when the required changes are minimal.\n+\n+4.  Update the version of the Maven artifacts to the full version of the release\n+    ```\n+    mvn versions:set -DnewVersion=1.0.1\n+    ``` \n+4.  Commit the changes and push the branch to the GitHub repository\n+    ```\n+    git add .\n+    git commit -m \"Releasing 1.0.1\"\n+    git push\n+    ```\n+\n+### Building native artifacts\n+\n+Once a release branch (i.e. a branch prefixed by `r`) is pushed on the repository, a workflow will", "originalCommit": "963cdb61129037bd466b1b0ce52134cd254a4458", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMjE1OQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499112159", "bodyText": "Yes, it is assumed that any commit to a release branch is for releasing a version. On a major/minor release, a new branch is created. On a patch release, we push changes on the existing branch for the release we are patching.", "author": "karllessard", "createdAt": "2020-10-03T03:38:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMDI4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMzY0Nw==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499113647", "bodyText": "Ok. Might be worth explicitly noting that then.", "author": "Craigacp", "createdAt": "2020-10-03T04:05:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMDI4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMDYyMA==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499030620", "bodyText": "This link should be something like this - https://github.com/tensorflow/java/blob/master/.github/workflows/ci.yml", "author": "Craigacp", "createdAt": "2020-10-02T20:15:35Z", "path": "RELEASE.md", "diffHunk": "@@ -0,0 +1,221 @@\n+# Releasing TensorFlow Java\n+\n+The\n+[TensorFlow Java API](https://github.com/tensorflow/java) is available on Maven Central and JCenter\n+through artifacts uploaded to\n+[OSS Sonatype](https://oss.sonatype.org/content/repositories/releases/org/tensorflow/) and/or\n+[Bintray](https://bintray.com/google/tensorflow/tensorflow). This\n+document describes the process of updating the release artifacts. It does _not_ describe how to use\n+the artifacts, for which the reader is referred to the\n+[TensorFlow for Java installation instructions](https://github.com/tensorflow/java/blob/master/README.md).\n+\n+## Background\n+\n+TensorFlow source (which is primarily in C++) is built using\n+[bazel](https://bazel.build) and not [maven](https://maven.apache.org/). TensorFlow Java\n+wraps over this native code and thus depends on platform (OS, architecture) specific native code.\n+\n+Hence, the process for building and uploading release artifacts is not a single\n+`mvn deploy` command.\n+\n+## Release process overview\n+\n+The process of releasing TensorFlow Java is split in two major steps:\n+* Building and deploying the native artifacts\n+* Building and deploying all artifacts consolidated\n+\n+The first step is executed on different build servers, each responsible to build the native\n+artifact for a specific architecture and platform. The second step is conducted locally in\n+a [Docker](https://www.docker.com) container for a hermetic release process.\n+\n+### Pre-requisites\n+\n+-   `docker`\n+-   An account at [oss.sonatype.org](https://oss.sonatype.org/), that has\n+    permissions to update artifacts in the `org.tensorflow` group. If your\n+    account does not have permissions, then you'll need to ask someone who does\n+    to [file a ticket](https://issues.sonatype.org/) to add to the permissions\n+    ([sample ticket](https://issues.sonatype.org/browse/MVNCENTRAL-1637)).\n+-   Optionally, an account at [bintray.com](https://bintray.com) that has permissions to\n+    update the [tensorflow repository](https://bintray.com/google/tensorflow).\n+    If your account does not have permissions, then you'll need to ask one of\n+    the [organization administrators](https://bintray.com/google) to give you\n+    permissions to update the `tensorflow` repository. Please keep the\n+    [repository option](https://bintray.com/google/tensorflow/edit?tab=general)\n+    to *\"GPG sign uploaded files using Bintray's public/private key pair\"*\n+    **unchecked**, otherwise it will conflict with locally signed artifacts.\n+-   A GPG signing key, required\n+    [to sign the release artifacts](http://central.sonatype.org/pages/apache-maven.html#gpg-signed-components).\n+\n+### Preparing a release\n+\n+#### Major or minor release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)\n+    ```\n+    git clone https://github.com/tensorflow/java\n+    ```\n+2.  Create a new branch for the release named `r<MajorVersion>.<MinorVersion>`\n+    ```\n+    git checkout -b r1.0\n+    ```\n+3.  Update the version of the Maven artifacts to the full version of the release\n+    ```\n+    mvn versions:set -DnewVersion=1.0.0\n+    ``` \n+4.  Commit the changes and push the new branch to the GitHub repository\n+    ```\n+    git add .\n+    git commit -m \"Releasing 1.0.0\"\n+    git push --set-upstream upstream r1.0\n+    ```\n+\n+#### Patch release\n+\n+1.  Get a clean version of the source code by cloning the\n+    [TensorFlow Java GitHub repository](https://github.com/tensorflow-java)\n+    ```\n+    git clone https://github.com/tensorflow/java\n+    ```\n+2.  Switch to the release branch of the version to patch\n+    ```\n+    git checkout r1.0\n+    ```\n+3.  Patch the code with your changes. For example, changes could be merged from another branch you\n+    were working on or be applied directly to this branch when the required changes are minimal.\n+\n+4.  Update the version of the Maven artifacts to the full version of the release\n+    ```\n+    mvn versions:set -DnewVersion=1.0.1\n+    ``` \n+4.  Commit the changes and push the branch to the GitHub repository\n+    ```\n+    git add .\n+    git commit -m \"Releasing 1.0.1\"\n+    git push\n+    ```\n+\n+### Building native artifacts\n+\n+Once a release branch (i.e. a branch prefixed by `r`) is pushed on the repository, a workflow will\n+automatically start in GitHub Actions to build the native artifacts for all supported\n+architures/platforms and deploy them temporarily on OSSRH for staging.\n+\n+There is no user action required for this step other than watching the progress of the GitHub\n+Actions workflow and making sure that all steps have been completed successfully.\n+\n+#### Build native artifacts manually\n+\n+Some platforms cannot be build successfully on GitHub Actions, due to some limits to their resources\n+(e.g. max 6 hours for a job). For this reasons, we need to build manually some of our artifacts on\n+private servers. \n+\n+To do so, follow the same steps as the [CI build](https://github.com/tensorflow/java/.github/workflows/ci.yml) ", "originalCommit": "963cdb61129037bd466b1b0ce52134cd254a4458", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMjIxMA==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499112210", "bodyText": "Wow, I wrote that thing to fast, all broken links are new ones :-/", "author": "karllessard", "createdAt": "2020-10-03T03:39:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMDYyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMTk3NQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499031975", "bodyText": "The comment says it deploys to both bintray and ossrh, but doesn't this line turn off bintray by default?", "author": "Craigacp", "createdAt": "2020-10-02T20:18:57Z", "path": "deploy.sh", "diffHunk": "@@ -0,0 +1,152 @@\n+#!/usr/bin/env bash\n+# Copyright 2017 The TensorFlow Authors. All Rights Reserved.\n+#\n+# Licensed under the Apache License, Version 2.0 (the \"License\");\n+# you may not use this file except in compliance with the License.\n+# You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+# ==============================================================================\n+#\n+# This script is intended to be run inside a docker container to provide a\n+# hermetic process. See release.sh for the expected invocation.\n+\n+set -e\n+\n+# By default we deploy to both ossrh and bintray. These two\n+# environment variables can be set to skip either repository.\n+DEPLOY_OSSRH=\"${DEPLOY_OSSRH:-true}\"\n+DEPLOY_BINTRAY=\"${DEPLOY_BINTRAY:-false}\"", "originalCommit": "181e0079d5fcd252efe3ae66620f2d9ca376eec7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMjMxMw==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499112313", "bodyText": "I'm thinking now about removing completely support for Bintray. The deployment process I'm putting in place uses exclusively OSSRH so keeping this support for Bintray just bring noise in the scripts.", "author": "karllessard", "createdAt": "2020-10-03T03:41:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMTk3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMzYwNQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499113605", "bodyText": "Maybe commit it with bintray then we can remove it later. That way it's in the repo history and we can get it if necessary.", "author": "Craigacp", "createdAt": "2020-10-03T04:05:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMTk3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1NTY2OA==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499155668", "bodyText": "It is already there, I'll take care of not squashing the commits on merge and it will remain in history.", "author": "karllessard", "createdAt": "2020-10-03T15:09:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzMTk3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzNTY5Ng==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499035696", "bodyText": "Fix the copyright year?", "author": "Craigacp", "createdAt": "2020-10-02T20:28:45Z", "path": "release.sh", "diffHunk": "@@ -0,0 +1,55 @@\n+#!/usr/bin/env bash\n+# Copyright 2017 The TensorFlow Authors. All Rights Reserved.", "originalCommit": "181e0079d5fcd252efe3ae66620f2d9ca376eec7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzNTc4NQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499035785", "bodyText": "Fix the copyright year?", "author": "Craigacp", "createdAt": "2020-10-02T20:28:58Z", "path": "deploy.sh", "diffHunk": "@@ -0,0 +1,152 @@\n+#!/usr/bin/env bash\n+# Copyright 2017 The TensorFlow Authors. All Rights Reserved.", "originalCommit": "181e0079d5fcd252efe3ae66620f2d9ca376eec7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzNjMzMQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499036331", "bodyText": "Why did this profile get commented out?", "author": "Craigacp", "createdAt": "2020-10-02T20:30:21Z", "path": "tensorflow-core/pom.xml", "diffHunk": "@@ -480,7 +454,7 @@\n     </profile>\n \n     <!-- Disable platform dependency when building the artifact for the dependency itself -->\n-    <profile>\n+    <!--profile>", "originalCommit": "181e0079d5fcd252efe3ae66620f2d9ca376eec7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMjk3NQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499112975", "bodyText": "Despite the comment, I'm not sure to understand what this profile is used for but I know that the deployment script fails when it is present and everything works fine when it is not.", "author": "karllessard", "createdAt": "2020-10-03T03:53:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzNjMzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTExMzUyNg==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499113526", "bodyText": "Maybe we should delete it then. We can always pull it out of the history.", "author": "Craigacp", "createdAt": "2020-10-03T04:04:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzNjMzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1NTY5NQ==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499155695", "bodyText": "Yes, that is what I ended up to do.", "author": "karllessard", "createdAt": "2020-10-03T15:09:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzNjMzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAzODg5Mw==", "url": "https://github.com/tensorflow/java/pull/124#discussion_r499038893", "bodyText": "This comment lost a <.", "author": "Craigacp", "createdAt": "2020-10-02T20:36:51Z", "path": "tensorflow-framework/src/main/java/org/tensorflow/framework/data/Dataset.java", "diffHunk": "@@ -255,12 +255,12 @@ public DatasetIterator makeOneShotIterator() {\n \r\n   /**\r\n    * Creates an in-memory `Dataset` whose elements are slices of the given tensors. Each element of\r\n-   * this dataset will be a List<Operand<?>>, representing slices (e.g. batches) of the provided\r\n-   * tensors.\r\n+   * this dataset will be a {@code ListOperand<?>>}, representing slices (e.g. batches) of the\r", "originalCommit": "181e0079d5fcd252efe3ae66620f2d9ca376eec7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "dc4917fb94d2f2b0565b5381641d06ff1cb7f093", "url": "https://github.com/tensorflow/java/commit/dc4917fb94d2f2b0565b5381641d06ff1cb7f093", "message": "Invoke tensorflow-core-api deployment from script\n\n+remove support for Bintray (not used)", "committedDate": "2020-10-03T04:52:52Z", "type": "commit"}, {"oid": "6c33e26ee3b9f95e3d220fddf4b2b92edb8c9bd4", "url": "https://github.com/tensorflow/java/commit/6c33e26ee3b9f95e3d220fddf4b2b92edb8c9bd4", "message": "Update OSS staging repository closure information", "committedDate": "2020-10-03T15:00:05Z", "type": "commit"}, {"oid": "2862b7ff971c12c298fbb9d91d23e986a474c1cd", "url": "https://github.com/tensorflow/java/commit/2862b7ff971c12c298fbb9d91d23e986a474c1cd", "message": "Provide more details about release branch updates", "committedDate": "2020-10-03T15:07:49Z", "type": "commit"}]}