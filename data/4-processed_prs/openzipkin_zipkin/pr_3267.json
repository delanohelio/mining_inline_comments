{"pr_number": 3267, "pr_title": "Adds RELEASE_FROM_CONTEXT to allow Docker to re-use binaries just built", "pr_createdAt": "2020-10-28T08:16:28Z", "pr_url": "https://github.com/openzipkin/zipkin/pull/3267", "timeline": [{"oid": "b47e8160874def0782a4be29ee9c8a7127b5437a", "url": "https://github.com/openzipkin/zipkin/commit/b47e8160874def0782a4be29ee9c8a7127b5437a", "message": "Adds RELEASE_FROM_CONTEXT to allow Docker to re-use binaries just built\n\nWe currently have a race condition waiting for readback of remote repositories\ncontaining zipkin and zipkin-slim jars. This introduces `RELEASE_FROM_CONTEXT`\nwhich lets us re-use jars explictly allowed into the Docker context. The first\ntest is to re-use these on master build. After this, we can switch release\nsimilarly.", "committedDate": "2020-10-28T08:14:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1NjI0MQ==", "url": "https://github.com/openzipkin/zipkin/pull/3267#discussion_r513256241", "bodyText": "Cool", "author": "anuraaga", "createdAt": "2020-10-28T08:25:23Z", "path": ".dockerignore", "diffHunk": "@@ -21,3 +22,7 @@\n **/Dockerfile\n docker/hooks/**\n travis/**\n+\n+# Allow re-use of built artifacts when building docker from master or a release tag\n+!/zipkin-exec.jar", "originalCommit": "b47e8160874def0782a4be29ee9c8a7127b5437a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}