{"pr_number": 3026, "pr_title": "Migrate lens build to create-react-app", "pr_createdAt": "2020-03-12T06:32:53Z", "pr_url": "https://github.com/openzipkin/zipkin/pull/3026", "timeline": [{"oid": "8a505447376c553b4eaf947a397435e7349293f1", "url": "https://github.com/openzipkin/zipkin/commit/8a505447376c553b4eaf947a397435e7349293f1", "message": "Migrate to create-react-app", "committedDate": "2020-03-11T07:35:53Z", "type": "commit"}, {"oid": "79bcfe67f30fef2a02d3a6a9626a01f1013fe885", "url": "https://github.com/openzipkin/zipkin/commit/79bcfe67f30fef2a02d3a6a9626a01f1013fe885", "message": "Fix tests", "committedDate": "2020-03-11T08:25:22Z", "type": "commit"}, {"oid": "67cd436af58705f60a081dcc9cc4d30aa8137451", "url": "https://github.com/openzipkin/zipkin/commit/67cd436af58705f60a081dcc9cc4d30aa8137451", "message": "More migration", "committedDate": "2020-03-11T10:15:27Z", "type": "commit"}, {"oid": "0844bbb1e8d94bab7e8b66504e45a9b28ff51079", "url": "https://github.com/openzipkin/zipkin/commit/0844bbb1e8d94bab7e8b66504e45a9b28ff51079", "message": "Fix line endings", "committedDate": "2020-03-12T05:04:59Z", "type": "commit"}, {"oid": "f17686be8409fc37599c1cda39fdf27cadc3f09e", "url": "https://github.com/openzipkin/zipkin/commit/f17686be8409fc37599c1cda39fdf27cadc3f09e", "message": "Merge branch 'master' of github.com:openzipkin/zipkin into create-react-app", "committedDate": "2020-03-12T05:05:08Z", "type": "commit"}, {"oid": "1ca619ec4bfa6a965dc526e88d70d29b9d370167", "url": "https://github.com/openzipkin/zipkin/commit/1ca619ec4bfa6a965dc526e88d70d29b9d370167", "message": "Finish", "committedDate": "2020-03-12T05:30:23Z", "type": "commit"}, {"oid": "ec1aed1207fff6897301b4d62520f50dac598ad8", "url": "https://github.com/openzipkin/zipkin/commit/ec1aed1207fff6897301b4d62520f50dac598ad8", "message": "Finish", "committedDate": "2020-03-12T05:32:34Z", "type": "commit"}, {"oid": "7a02cee70fa02d8e7e2b07a5e5bf176ef723f1dd", "url": "https://github.com/openzipkin/zipkin/commit/7a02cee70fa02d8e7e2b07a5e5bf176ef723f1dd", "message": "Commit", "committedDate": "2020-03-12T05:41:30Z", "type": "commit"}, {"oid": "4f6a24cd6b60a767ed0d3d3443343e0f32f51e27", "url": "https://github.com/openzipkin/zipkin/commit/4f6a24cd6b60a767ed0d3d3443343e0f32f51e27", "message": "Finish", "committedDate": "2020-03-12T06:20:59Z", "type": "commit"}, {"oid": "4d8c1954d37e6f6a66255bfa3a61f8026f7208c9", "url": "https://github.com/openzipkin/zipkin/commit/4d8c1954d37e6f6a66255bfa3a61f8026f7208c9", "message": "Cleanup", "committedDate": "2020-03-12T06:23:57Z", "type": "commit"}, {"oid": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "url": "https://github.com/openzipkin/zipkin/commit/5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "message": "Readme", "committedDate": "2020-03-12T06:26:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNDMzOA==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391424338", "bodyText": "Typescript found a stupid bug :)", "author": "anuraaga", "createdAt": "2020-03-12T06:34:21Z", "path": "zipkin-lens/src/setupTests.ts", "diffHunk": "@@ -12,44 +12,42 @@\n  * the License.\n  */\n \n-/* eslint-disable import/no-extraneous-dependencies */\n+import '@testing-library/jest-dom/extend-expect';\n \n-import '@testing-library/jest-dom';\n+import Enzyme from 'enzyme';\n+import EnzymeAdapter from 'enzyme-adapter-react-16';\n import fetchMock from 'fetch-mock';\n \n import { UI_CONFIG } from './constants/api';\n \n-const Enzyme = require('enzyme');\n-const EnzymeAdapter = require('enzyme-adapter-react-16');\n-\n Enzyme.configure({ adapter: new EnzymeAdapter() });\n \n // Mock out UI Config fetch with an empty config as a baseline, tests can remock as needed.\n fetchMock.mock(UI_CONFIG, {});\n \n // Mock out browser refresh.\n-const location = { window };\n+const { location } = window;", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNjQ0MA==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391426440", "bodyText": "indeed", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:41:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNDMzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNTcwMA==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391425700", "bodyText": "thanks this helps", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:39:21Z", "path": ".gitattributes", "diffHunk": "@@ -13,5 +13,9 @@\n *.properties text=auto eol=lf\n \n *.js text=auto eol=lf\n+*.jsx text=auto eol=lf\n+*.ts text=auto eol=lf\n+*.tsx text=auto eol=lf\n+*.json text=auto eol=lf", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQzMDYxMQ==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391430611", "bodyText": "In a future PR I'm thinking of blacklisting instead of whitelisting text files. I think the only non-text file in the repo are PNG and ICO.", "author": "anuraaga", "createdAt": "2020-03-12T06:56:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNTcwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNTk1MA==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391425950", "bodyText": "maybe revert this stuff?", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:40:16Z", "path": "zipkin-lens/README.md", "diffHunk": "@@ -9,37 +9,33 @@ Here are a couple example screen shots:\n \n ## Quick start\n \n-Zipkin-lens required nodejs 10.2.0 to start. You could easily try Zipkin-lens at local using any zipkin deployment using below command:\n+This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNzUyNA==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391427524", "bodyText": "I left it in as a shout-out to the open source project. I removed the Learn More section since it seems extraneous but am leaning towards leaving this section, let me know if that makes sense.", "author": "anuraaga", "createdAt": "2020-03-12T06:45:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNTk1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyOTA1OQ==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391429059", "bodyText": "personally I think this dismisses the actual work, many many hours by several people.\nanyway, there was a lot of other stuff removed from the README, was that intended?", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:51:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNTk1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyOTkwNw==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391429907", "bodyText": "Ok removed the link. And completely brain-farted on the rest of the README, copied it back in.", "author": "anuraaga", "createdAt": "2020-03-12T06:53:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNTk1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNjExMg==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391426112", "bodyText": "manual merge needed for some of the below", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:40:50Z", "path": "zipkin-lens/package.json", "diffHunk": "@@ -1,111 +1,89 @@\n {\n   \"name\": \"zipkin-lens\",\n   \"version\": \"0.0.1\",\n-  \"description\": \"\",", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNjI0OQ==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391426249", "bodyText": "whoah heh", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:41:20Z", "path": "zipkin-lens/public/index.html", "diffHunk": "@@ -17,9 +17,11 @@\n <html>\n   <head>\n     <base href=\"/zipkin/\">\n-    <meta charset=\"utf-8\">\n+    <meta charset=\"utf-8\" />\n+    <link rel=\"icon\" href=\"%PUBLIC_URL%/favicon.ico\" />\n   </head>\n   <body>\n-    <div id=\"app\"></div>\n+    <noscript>You need to enable JavaScript to run this app.</noscript>", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNjQwNQ==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391426405", "bodyText": "needed?", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:41:50Z", "path": "zipkin-lens/src/react-app-env.d.ts", "diffHunk": "@@ -11,4 +11,4 @@\n  * or implied. See the License for the specific language governing permissions and limitations under\n  * the License.\n  */\n-module.exports = 'mock-file';\n+// / <reference types=\"react-scripts\" />", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQyNjYyOA==", "url": "https://github.com/openzipkin/zipkin/pull/3026#discussion_r391426628", "bodyText": "cool I didn't know this way to use plain json as js!", "author": "codefromthecrypt", "createdAt": "2020-03-12T06:42:46Z", "path": "zipkin-lens/src/test/data/skew.js", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ * Copyright 2015-2020 The OpenZipkin Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License\n+ * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n+ * or implied. See the License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+export default [", "originalCommit": "5ee9167bfa0cf8c72d2ef7acc373a1bcd783fe9d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4c59b9fa0bf784acb767bfa8b441953c669c4f91", "url": "https://github.com/openzipkin/zipkin/commit/4c59b9fa0bf784acb767bfa8b441953c669c4f91", "message": "More docs", "committedDate": "2020-03-12T06:48:07Z", "type": "commit"}, {"oid": "5f629251668c0dedc6c571a0b83bd92fa4a745f8", "url": "https://github.com/openzipkin/zipkin/commit/5f629251668c0dedc6c571a0b83bd92fa4a745f8", "message": "Restore README", "committedDate": "2020-03-12T06:53:33Z", "type": "commit"}, {"oid": "f2e2e6efe6bc3e3f9bdc8a5964e7f45c4b92cbd1", "url": "https://github.com/openzipkin/zipkin/commit/f2e2e6efe6bc3e3f9bdc8a5964e7f45c4b92cbd1", "message": "Restore README point about coverage too", "committedDate": "2020-03-12T07:07:12Z", "type": "commit"}]}