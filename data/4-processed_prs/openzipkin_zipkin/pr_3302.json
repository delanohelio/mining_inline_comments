{"pr_number": 3302, "pr_title": "Consolidates GH action build to a single file", "pr_createdAt": "2020-11-12T02:44:43Z", "pr_url": "https://github.com/openzipkin/zipkin/pull/3302", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTc4NzAwOQ==", "url": "https://github.com/openzipkin/zipkin/pull/3302#discussion_r521787009", "bodyText": "Not sure, but are you able to use a single-element item in the matrix as a variable?\nmatrix:\n  ubuntu-os:\n  - ubuntu-20.04\n\n...\n\nif: matrix.os == ${{ matrix.ubuntu-os }}", "author": "anuraaga", "createdAt": "2020-11-12T03:00:06Z", "path": ".github/workflows/continuous-build.yml", "diffHunk": "@@ -1,19 +1,33 @@\n-name: Continuous Build Server\n+name: Continuous Build\n+\n+# Trigger on pushes or pull requests to the master branch, but not for documentation-only updates.\n on:\n   push:\n     branches:\n       - master\n+    paths-ignore:\n+      - '**/*.md'\n   pull_request:\n+    branches:\n+      - master\n+    paths-ignore:\n+      - '**/*.md'\n+\n+# DEFAULT_OS is ubuntu-20.04 (focal) as that's the same as we use in Travis. This is find/replaced", "originalCommit": "81ec7ef6176d85bda6537968c04f129da30792b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTc4OTI5OA==", "url": "https://github.com/openzipkin/zipkin/pull/3302#discussion_r521789298", "bodyText": "will try it! right now GH aren't charging us per run so why not give it a shot :D", "author": "codefromthecrypt", "createdAt": "2020-11-12T03:08:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTc4NzAwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTgwNTM5OQ==", "url": "https://github.com/openzipkin/zipkin/pull/3302#discussion_r521805399", "bodyText": "I think the last commit works. but GH actions is being annoying. will try to kick it with close/reopen", "author": "codefromthecrypt", "createdAt": "2020-11-12T03:36:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTc4NzAwOQ=="}], "type": "inlineReview"}, {"oid": "1c1ffc25e55b267bb4d44177ebd1e5ab1d38f572", "url": "https://github.com/openzipkin/zipkin/commit/1c1ffc25e55b267bb4d44177ebd1e5ab1d38f572", "message": "Consolidates GH action build to a single file\n\nThis consolidates the two build processes into one flow, containing all\nprevious functionality, but less build time.\n\nThis builds the server on ubuntu, os/x and windows. If ubuntu, the flow\nwill continue into building and testing all our Docker images.\n\nSomething new is that this skips out if the change is documentation-only.", "committedDate": "2020-11-12T03:39:34Z", "type": "commit"}, {"oid": "1c1ffc25e55b267bb4d44177ebd1e5ab1d38f572", "url": "https://github.com/openzipkin/zipkin/commit/1c1ffc25e55b267bb4d44177ebd1e5ab1d38f572", "message": "Consolidates GH action build to a single file\n\nThis consolidates the two build processes into one flow, containing all\nprevious functionality, but less build time.\n\nThis builds the server on ubuntu, os/x and windows. If ubuntu, the flow\nwill continue into building and testing all our Docker images.\n\nSomething new is that this skips out if the change is documentation-only.", "committedDate": "2020-11-12T03:39:34Z", "type": "forcePushed"}, {"oid": "6a345a704b008379acf434db9ed130e99dd2ed07", "url": "https://github.com/openzipkin/zipkin/commit/6a345a704b008379acf434db9ed130e99dd2ed07", "message": "try env", "committedDate": "2020-11-12T03:43:11Z", "type": "commit"}, {"oid": "b2c8c1a5dd003527c4fb489a64c64d0e248e51c6", "url": "https://github.com/openzipkin/zipkin/commit/b2c8c1a5dd003527c4fb489a64c64d0e248e51c6", "message": "also env is not allowed.. oh well", "committedDate": "2020-11-12T03:46:56Z", "type": "commit"}, {"oid": "c7471b54164a099864d2278f393d7c246bb4e6b1", "url": "https://github.com/openzipkin/zipkin/commit/c7471b54164a099864d2278f393d7c246bb4e6b1", "message": "fix matrix", "committedDate": "2020-11-12T03:50:06Z", "type": "commit"}]}