{"pr_number": 3065, "pr_title": "Adds parameter to disable the dependencies screen", "pr_createdAt": "2020-04-15T01:21:51Z", "pr_url": "https://github.com/openzipkin/zipkin/pull/3065", "timeline": [{"oid": "9e022a0a042ab90f93e87bdf989ee0dd6c3d894d", "url": "https://github.com/openzipkin/zipkin/commit/9e022a0a042ab90f93e87bdf989ee0dd6c3d894d", "message": "Adds parameter to disable the dependencies screen\n\nzipkin.ui.dependency.enabled now controls whether or not the\nDependencies screen is visible. Like all other UI props, this can also\nbe set as an env variable.\n\n```bash\nZIPKIN_UI_DEPENDENCY_ENABLED=false\n```\n\nThe naming choice was made to match other UI config for Dependencies\nvs creating a different convention just for this.\n\nFixes #3056", "committedDate": "2020-04-15T01:18:57Z", "type": "commit"}, {"oid": "04cdc84e8ebd1304cbc80f84777f5bf1471f6cb9", "url": "https://github.com/openzipkin/zipkin/commit/04cdc84e8ebd1304cbc80f84777f5bf1471f6cb9", "message": "fix test", "committedDate": "2020-04-15T01:25:41Z", "type": "commit"}, {"oid": "bc31677784d83798334b2c2e38b825a5f3b4e2b0", "url": "https://github.com/openzipkin/zipkin/commit/bc31677784d83798334b2c2e38b825a5f3b4e2b0", "message": "lint", "committedDate": "2020-04-15T01:50:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408564610", "bodyText": "It might be a deficiency of the assertions framework but I found getByTitle to give a better error message when the element isn't found.", "author": "anuraaga", "createdAt": "2020-04-15T03:50:17Z", "path": "zipkin-lens/src/components/App/Layout.test.jsx", "diffHunk": "@@ -42,8 +42,37 @@ describe('<Layout />', () => {\n         },\n       },\n     );\n-    const helpLink = getByTitle('Support');\n+    const helpLink = queryByTitle('Support');", "originalCommit": "bc31677784d83798334b2c2e38b825a5f3b4e2b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDE4Nw==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408570187", "bodyText": "thanks will change in the next PR if it works. just noticed things seemed arbitrarily different", "author": "codefromthecrypt", "createdAt": "2020-04-15T04:13:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDM5MA==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408570390", "bodyText": "74 |       },\n  75 |     );\n> 76 |     expect(getByTitle('Dependencies Page')).not.toBeInTheDocument();\n     |            ^\n  77 |   });\n  78 | });\n  79 | \n\n  at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:34:12)\n  at args (node_modules/@testing-library/dom/dist/query-helpers.js:71:38)\n  at getByTitle (node_modules/@testing-library/dom/dist/query-helpers.js:54:17)\n  at Object.it (src/components/App/Layout.test.jsx:76:12)", "author": "codefromthecrypt", "createdAt": "2020-04-15T04:14:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MDU1NQ==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408570555", "bodyText": "so we can either use them differently and comment why, or use queryByTitle consistently and not comment anything, or do some error handling?", "author": "codefromthecrypt", "createdAt": "2020-04-15T04:15:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MTYxNw==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408571617", "bodyText": "I'll leave this one to you. I don't really like unintuitive bombs in code, where we do one thing and then secret knowledge why we have to do it differently somewhere else.", "author": "codefromthecrypt", "createdAt": "2020-04-15T04:19:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU4NTQwMQ==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408585401", "bodyText": "Agree it's not intuitive and I don't like it, will try to think of a good way, may just a helper method we define, or a monkey patch. For reference, the big difference is getBy prints out a dump of the DOM if an element isn't found while queryBy.toBeInDocument just says something like undefined not in document. Though it does seem like a bug in toBeInDocument to me.", "author": "anuraaga", "createdAt": "2020-04-15T05:14:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU4ODcyMg==", "url": "https://github.com/openzipkin/zipkin/pull/3065#discussion_r408588722", "bodyText": "yeah I didn't mean to shoot the messenger either, I know javascript in particular is rife with tribal knowledge as a way of doing things.. something I've never acclimated to", "author": "codefromthecrypt", "createdAt": "2020-04-15T05:26:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU2NDYxMA=="}], "type": "inlineReview"}]}