{"pr_number": 3067, "pr_title": "Support empty method signatures", "pr_createdAt": "2020-01-06T22:14:32Z", "pr_url": "https://github.com/googleapis/gapic-generator/pull/3067", "timeline": [{"oid": "55b039b6c1245c63e51bc26dde8ecd9859cfe762", "url": "https://github.com/googleapis/gapic-generator/commit/55b039b6c1245c63e51bc26dde8ecd9859cfe762", "message": "wip", "committedDate": "2020-01-06T22:13:38Z", "type": "commit"}, {"oid": "48f449f222894d1801e32e39ecdfea183089f944", "url": "https://github.com/googleapis/gapic-generator/commit/48f449f222894d1801e32e39ecdfea183089f944", "message": "wip", "committedDate": "2020-01-06T22:29:23Z", "type": "commit"}, {"oid": "115779378cd2e5de28f84550eb7c961829e0be10", "url": "https://github.com/googleapis/gapic-generator/commit/115779378cd2e5de28f84550eb7c961829e0be10", "message": "wip", "committedDate": "2020-01-06T22:39:09Z", "type": "commit"}, {"oid": "c73b366f376d3d74f2cbf58af860bbdd1a17aad9", "url": "https://github.com/googleapis/gapic-generator/commit/c73b366f376d3d74f2cbf58af860bbdd1a17aad9", "message": "update-baseline", "committedDate": "2020-01-06T23:43:57Z", "type": "commit"}, {"oid": "c59501f5aaa0fa5583caa80129328a885e465f76", "url": "https://github.com/googleapis/gapic-generator/commit/c59501f5aaa0fa5583caa80129328a885e465f76", "message": "baseline", "committedDate": "2020-01-06T23:59:45Z", "type": "commit"}, {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8", "url": "https://github.com/googleapis/gapic-generator/commit/6b1c44842b3da6d20511b34ca401190d64667ca8", "message": "done", "committedDate": "2020-01-07T00:07:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0MjU4Nw==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363542587", "bodyText": "It is ok to keep it here, but please try to not mix unrelated refactoring/formatting with new features. For cases, when it happens, please mention it in the PR description.", "author": "vam-google", "createdAt": "2020-01-07T00:17:04Z", "path": "src/test/java/com/google/api/codegen/discogapic/testdata/java/java_simplecompute.v1.json.baseline", "diffHunk": "@@ -8890,8 +8890,8 @@ public class AddressClient implements BackgroundResource {\n   public final AggregatedListAddressesPagedResponse aggregatedListAddresses(ProjectName project) {\n     AggregatedListAddressesHttpRequest request =\n         AggregatedListAddressesHttpRequest.newBuilder()\n-        .setProject(project == null ? null : project.toString())\n-        .build();\n+            .setProject(project == null ? null : project.toString())", "originalCommit": "6b1c44842b3da6d20511b34ca401190d64667ca8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg5MjQ3Ng==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363892476", "bodyText": "Edited the PR description.", "author": "yihanzhen", "createdAt": "2020-01-07T18:42:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0MjU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDIzOQ==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363544239", "bodyText": "Probably the logic like this should be in the view object itself or in the @snippetArgTypes() \"snip\" method (so you can avoid repeating the @if statement everywhere).", "author": "vam-google", "createdAt": "2020-01-07T00:24:10Z", "path": "src/main/resources/com/google/api/codegen/csharp/gapic_snippets.snip", "diffHunk": "@@ -67,7 +67,7 @@\n @private flattenedMethodSync(snippetMethod)\n     public void {@snippetMethod.snippetMethodName}()\n     {\n-        // Snippet: {@snippetMethod.method.name}({@snippetArgTypes(snippetMethod.method.methodParams)},CallSettings)\n+        // Snippet: {@snippetMethod.method.name}({@snippetArgTypes(snippetMethod.method.methodParams)}{@if(snippetMethod.method.methodParams, \",\", \"\")}CallSettings)", "originalCommit": "6b1c44842b3da6d20511b34ca401190d64667ca8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg5Njk3Nw==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363896977", "bodyText": "So @snippetArgTypes() are reused in another overload which has an additional argument CancellationToken (see here). Moving CallingSettings into the view object will cause huge refactoring to C# templates. Given the state of the C# micro generator it is probably not worth it...", "author": "yihanzhen", "createdAt": "2020-01-07T18:52:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDIzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDQwMA==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363544400", "bodyText": "Why is this needed?", "author": "vam-google", "createdAt": "2020-01-07T00:24:56Z", "path": "src/main/resources/com/google/api/codegen/java/grpc_test.snip", "diffHunk": "@@ -82,8 +82,10 @@\n   public void {@test.name}() {\n     {@addResponse(test)}\n \n-    {@initCode(test.testCaseInitCode)}\n+    @if test.testCaseInitCode.lines", "originalCommit": "6b1c44842b3da6d20511b34ca401190d64667ca8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg5NzI5OA==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363897298", "bodyText": "To avoid the extra blank line if test.testCaseInitCode is empty.", "author": "yihanzhen", "createdAt": "2020-01-07T18:53:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDQwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDg1Mw==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363544853", "bodyText": "Can @builderSetCalls method return nothing if apiMethod.requestObjectParams is empty? I is subjective, but it seems like moving the check to the @builderSetCalls snip method is cleaner, than having the if-else statement here. Also it can reduce code duplication (seems same check is done on L613)", "author": "vam-google", "createdAt": "2020-01-07T00:27:06Z", "path": "src/main/resources/com/google/api/codegen/java/main.snip", "diffHunk": "@@ -452,9 +452,13 @@\n       {@pathTemplateCheckLine(pathTemplateCheck)}\n     @end\n     {@apiMethod.serviceRequestTypeName} request =\n-        {@apiMethod.serviceRequestTypeName}.newBuilder()\n-        {@builderSetCalls(apiMethod.requestObjectParams)}\n-        .build();\n+        @if apiMethod.requestObjectParams\n+          {@apiMethod.serviceRequestTypeName}.newBuilder()\n+              {@builderSetCalls(apiMethod.requestObjectParams)}", "originalCommit": "6b1c44842b3da6d20511b34ca401190d64667ca8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg5OTI0Mw==", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363899243", "bodyText": "I did this because even if @builderSetCalls returns nothing, there will be an empty newline in the caller method. This is some uncommon settings about snippet that I never understand... That's also why I wrapped @builderSetCalls in an if-else statement.", "author": "yihanzhen", "createdAt": "2020-01-07T18:58:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDg1Mw=="}], "type": "inlineReview"}, {"oid": "05b01e335ff05f82fec3e54fd8bef478a8e7df81", "url": "https://github.com/googleapis/gapic-generator/commit/05b01e335ff05f82fec3e54fd8bef478a8e7df81", "message": "Merge branch 'master' into empty-method-signature", "committedDate": "2020-01-08T21:44:28Z", "type": "commit"}, {"oid": "f2fd0de34c2cc4656ff47114ce4d39f17f60b699", "url": "https://github.com/googleapis/gapic-generator/commit/f2fd0de34c2cc4656ff47114ce4d39f17f60b699", "message": "merge conflict", "committedDate": "2020-01-08T21:54:02Z", "type": "commit"}]}