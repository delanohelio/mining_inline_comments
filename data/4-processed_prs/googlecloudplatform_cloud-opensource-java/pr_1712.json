{"pr_number": 1712, "pr_title": "docs: CLI instructions", "pr_createdAt": "2020-10-16T16:43:01Z", "pr_url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712", "timeline": [{"oid": "9a755a3ada392272fcc7afbbf75651ae712149f9", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/9a755a3ada392272fcc7afbbf75651ae712149f9", "message": "docs: CLI instructions\n\n@suztomo", "committedDate": "2020-10-16T16:42:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwOTY0Mg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506609642", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            (Does not need to be repeated for each release.\n          \n          \n            \n            (Does not need to be repeated for each release.)", "author": "suztomo", "createdAt": "2020-10-16T17:10:34Z", "path": "boms/cloud-oss-bom/RELEASING.md", "diffHunk": "@@ -1,8 +1,17 @@\n # Cloud Libraries BOM Release\n \n+\n+## Prerequisites \n+\n+(Does not need to be repeated for each release.", "originalCommit": "9a755a3ada392272fcc7afbbf75651ae712149f9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwOTk1NA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506609954", "bodyText": "This line is long. Can you break it into two lines?\n(Yes, I have a CloudTop.)", "author": "suztomo", "createdAt": "2020-10-16T17:11:08Z", "path": "boms/cloud-oss-bom/RELEASING.md", "diffHunk": "@@ -1,8 +1,17 @@\n # Cloud Libraries BOM Release\n \n+\n+## Prerequisites \n+\n+(Does not need to be repeated for each release.\n+\n Install the [`gh`](https://github.com/cli/cli)\n tool if you not previously done so.\n \n+Clone this repository onto your corp desktop, Ubiquity instance, or CloudTop. Do not use a laptop or personal machine as the release requires google3 access.", "originalCommit": "9a755a3ada392272fcc7afbbf75651ae712149f9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYxMTMxMw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506611313", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            Check the progress of the Rapid workflow in [Cloud Java Tools Cloud Opensource BOM Kokoro Release](https://...)", "author": "suztomo", "createdAt": "2020-10-16T17:13:06Z", "path": "boms/cloud-oss-bom/RELEASING.md", "diffHunk": "@@ -18,11 +27,30 @@ Press Enter to open github.com in your browser...\n \n Do it. This grants the script permission to create a PR for you on Github.\n \n-Ask a teammate to review the and approve the PR. While you should not push the final release until the PR is approved, you should kick off the  \n+Ask a teammate to review the and approve the PR. \n+\n+### Build the release binary with Rapid (CLI)\n+\n+While you should not push the final release until the PR is approved, you should kick off the  \n [Rapid build](https://rapid.corp.google.com/cloud-java-tools-cloud-opensource-java-bom-kokoro-release) while you wait for approval.\n+\n+Run gcert if you have not done so in the last twelve hours or so.\n+\n+```\n+$ g4d -f bom-version\n+$ blaze run java/com/google/cloud/java/tools:ReleaseBom -- --version=<release version>\n+```\n+\n+### Build the release binary with Rapid (Legacy web UI)\n+", "originalCommit": "9a755a3ada392272fcc7afbbf75651ae712149f9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYxMTcxNw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506611717", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### Build the release binary with Rapid (Legacy web UI)\n          \n          \n            \n            ### Check the release status in Rapid web UI\n          \n      \n    \n    \n  \n\nI was thinking to suggest removing this section but we still need to check the web UI to see the progress.", "author": "suztomo", "createdAt": "2020-10-16T17:13:47Z", "path": "boms/cloud-oss-bom/RELEASING.md", "diffHunk": "@@ -18,11 +27,30 @@ Press Enter to open github.com in your browser...\n \n Do it. This grants the script permission to create a PR for you on Github.\n \n-Ask a teammate to review the and approve the PR. While you should not push the final release until the PR is approved, you should kick off the  \n+Ask a teammate to review the and approve the PR. \n+\n+### Build the release binary with Rapid (CLI)\n+\n+While you should not push the final release until the PR is approved, you should kick off the  \n [Rapid build](https://rapid.corp.google.com/cloud-java-tools-cloud-opensource-java-bom-kokoro-release) while you wait for approval.\n+\n+Run gcert if you have not done so in the last twelve hours or so.\n+\n+```\n+$ g4d -f bom-version\n+$ blaze run java/com/google/cloud/java/tools:ReleaseBom -- --version=<release version>\n+```\n+\n+### Build the release binary with Rapid (Legacy web UI)", "originalCommit": "9a755a3ada392272fcc7afbbf75651ae712149f9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYzMDMxMQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506630311", "bodyText": "I'm not sure we need to check the UI. I need to figure out how the script can query the status to warn the user if something goes wrong. At that point it can provide a link to Rapid or the logs.", "author": "elharo", "createdAt": "2020-10-16T17:45:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYxMTcxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY0OTE1NA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506649154", "bodyText": "At that point it can provide a link to Rapid or the logs.\n\nThat would be nice.", "author": "suztomo", "createdAt": "2020-10-16T18:20:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYxMTcxNw=="}], "type": "inlineReview"}, {"oid": "2a9aacc9fc1495fb898aa7349e4ac25a13ac8420", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/2a9aacc9fc1495fb898aa7349e4ac25a13ac8420", "message": "Update RELEASING.md", "committedDate": "2020-10-16T17:42:07Z", "type": "commit"}, {"oid": "00d472c049f48d984ebbc16a2b5022141d441199", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/00d472c049f48d984ebbc16a2b5022141d441199", "message": "Update RELEASING.md", "committedDate": "2020-10-16T17:43:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY0ODgyOA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1712#discussion_r506648828", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Clone this repository onto your corp desktop, Ubiquity instance, or CloudTop. Do not use a laptop or personal machine as the release requires google3 access.\n          \n          \n            \n            * Clone this repository onto your corp desktop, Ubiquity instance, or CloudTop.\n          \n          \n            \n              Do not use a laptop or personal machine as the release requires google3 access.", "author": "suztomo", "createdAt": "2020-10-16T18:20:04Z", "path": "boms/cloud-oss-bom/RELEASING.md", "diffHunk": "@@ -1,8 +1,17 @@\n # Cloud Libraries BOM Release\n \n-Install the [`gh`](https://github.com/cli/cli)\n+\n+## Prerequisites \n+\n+(Does not need to be repeated for each release.)\n+\n+* Install the [`gh`](https://github.com/cli/cli)\n tool if you not previously done so.\n \n+* Clone this repository onto your corp desktop, Ubiquity instance, or CloudTop. Do not use a laptop or personal machine as the release requires google3 access.", "originalCommit": "00d472c049f48d984ebbc16a2b5022141d441199", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6ae862f683b01c00af42b56f30e758d9cf017142", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/6ae862f683b01c00af42b56f30e758d9cf017142", "message": "Run `gh auth login` to register your desktop with github", "committedDate": "2020-10-16T19:21:31Z", "type": "commit"}]}