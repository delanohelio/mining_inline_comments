{"pr_number": 1380, "pr_title": "The Enforcer Rule to Print Dependency Paths", "pr_createdAt": "2020-04-29T21:17:55Z", "pr_url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1380", "timeline": [{"oid": "4ce67cdde439bdf8c481d6ac1b5d035b55ee5581", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/4ce67cdde439bdf8c481d6ac1b5d035b55ee5581", "message": "Fixes #1369", "committedDate": "2020-04-29T21:16:43Z", "type": "commit"}, {"oid": "ebf4d7eea7eb6cec24e078a96fd252c8d162e0a1", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/ebf4d7eea7eb6cec24e078a96fd252c8d162e0a1", "message": "private", "committedDate": "2020-04-29T21:21:23Z", "type": "commit"}, {"oid": "c49454b9d165c669f100918b74255a4d670ab1aa", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/c49454b9d165c669f100918b74255a4d670ab1aa", "message": "returning String", "committedDate": "2020-04-29T21:27:12Z", "type": "commit"}, {"oid": "89f7b7eb0d328eade277fb0fc7dde7af0cae9802", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/89f7b7eb0d328eade277fb0fc7dde7af0cae9802", "message": "Format", "committedDate": "2020-04-29T21:27:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxODYyMg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1380#discussion_r417618622", "bodyText": "The backslashes in this triple-quoted string is stripping the new line characters.\nhttps://docs.groovy-lang.org/latest/html/documentation/#_triple_single_quoted_string", "author": "suztomo", "createdAt": "2020-04-29T21:19:39Z", "path": "enforcer-rules/src/it/fail-build-for-linkage-errors/verify.groovy", "diffHunk": "@@ -1,9 +1,21 @@\n-def buildLog = new File(basedir, \"build.log\")\r\n+def buildLog = new File(basedir, \"build.log\").text.replaceAll(\"\\\\r\", \"\")\r\n \r\n // Windows build contains \\r character\r\n-assert buildLog.text.replaceAll(\"\\\\r\", \"\").contains('''\\\r\n+assert buildLog.contains('''\\\r\n [ERROR] Linkage Checker rule found 16 errors. Linkage error report:\r\n Class javax.jms.Connection is not found;\r\n   referenced by 1 class file\r\n     org.apache.log4j.net.JMSAppender (log4j:log4j:1.2.12)\r\n ''')\r\n+\r\n+assert buildLog.contains('''\\\r", "originalCommit": "4ce67cdde439bdf8c481d6ac1b5d035b55ee5581", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk2MTA5MQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1380#discussion_r417961091", "bodyText": "why do we need to do this?\nwhat if it's only \\r we're removing and there aren't any \\n?\nat the least this should convert \\r\\n to \\n rather than stripping \\r", "author": "elharo", "createdAt": "2020-04-30T12:07:43Z", "path": "enforcer-rules/src/it/bom-project-error/verify.groovy", "diffHunk": "@@ -1,8 +1,16 @@\n-def buildLog = new File(basedir, \"build.log\")\r\n+def buildLog = new File(basedir, \"build.log\").text.replaceAll(\"\\\\r\", \"\")\r", "originalCommit": "89f7b7eb0d328eade277fb0fc7dde7af0cae9802", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAyOTM5Ng==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1380#discussion_r418029396", "bodyText": "Updated to replace \"\\r\\n\".", "author": "suztomo", "createdAt": "2020-04-30T13:56:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk2MTA5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzMjY1Nw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1380#discussion_r418032657", "bodyText": "Now Windows build fails. Investigating.", "author": "suztomo", "createdAt": "2020-04-30T14:00:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk2MTA5MQ=="}], "type": "inlineReview"}, {"oid": "583a8f6e25dd8e7ed7f298a7ff7ab1455f39d960", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/583a8f6e25dd8e7ed7f298a7ff7ab1455f39d960", "message": "New line character handling", "committedDate": "2020-04-30T13:33:08Z", "type": "commit"}, {"oid": "a67a0e00cad77fb639828b649e2f9eaa21600a60", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a67a0e00cad77fb639828b649e2f9eaa21600a60", "message": "Fixing windows build", "committedDate": "2020-04-30T14:03:06Z", "type": "commit"}, {"oid": "3290dd9778deb0bd82f1a6b45fd4e3e8c81031ca", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/3290dd9778deb0bd82f1a6b45fd4e3e8c81031ca", "message": "Focusing integration tests in Windows", "committedDate": "2020-04-30T14:12:37Z", "type": "commit"}, {"oid": "9b3a93923173edf4094778c576ea4213de8ce001", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/9b3a93923173edf4094778c576ea4213de8ce001", "message": "Reverted skipTests", "committedDate": "2020-04-30T14:28:07Z", "type": "commit"}]}