{"pr_number": 1857, "pr_title": "LinkageCheckerRuleTest for Java 11", "pr_createdAt": "2020-12-03T15:34:15Z", "pr_url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857", "timeline": [{"oid": "2817c7c67b715efe4402c4a6fc67f43ab8b73557", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/2817c7c67b715efe4402c4a6fc67f43ab8b73557", "message": "LinkageCheckerRuleTest for Java 11", "committedDate": "2020-12-03T15:33:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MTcwNg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535371706", "bodyText": "error --> errors", "author": "elharo", "createdAt": "2020-12-03T16:10:59Z", "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs", "originalCommit": "2817c7c67b715efe4402c4a6fc67f43ab8b73557", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3NDU1Ng==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535374556", "bodyText": "Fixed. (this and other 2 places)", "author": "suztomo", "createdAt": "2020-12-03T16:14:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MTcwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MjUzMw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535372533", "bodyText": "Java 1.7 is likely more like 112 than 117 but it could be something different entirely.", "author": "elharo", "createdAt": "2020-12-03T16:11:57Z", "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs\n+      // between Java 8 and Java 11.\n+      // https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/1856\n+      int expectedErrorCount = System.getProperty(\"java.version\").startsWith(\"1.8.\") ? 112 : 117;", "originalCommit": "2817c7c67b715efe4402c4a6fc67f43ab8b73557", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3NDU5Mg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535374592", "bodyText": "This repository does not support Java 7.\nhttps://github.com/GoogleCloudPlatform/cloud-opensource-java#requirements\nWriting this comment, I noticed we don't limit the JDKs to LTS...", "author": "suztomo", "createdAt": "2020-12-03T16:14:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MjUzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3NzI1NQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535377255", "bodyText": "Followup: #1859\nWe have documented this repository works with Java 8.", "author": "suztomo", "createdAt": "2020-12-03T16:17:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MjUzMw=="}], "type": "inlineReview"}, {"oid": "0338d8d9f8c60a94e639dc072921263e288c79f8", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0338d8d9f8c60a94e639dc072921263e288c79f8", "message": "plural errors", "committedDate": "2020-12-03T16:13:48Z", "type": "commit"}]}