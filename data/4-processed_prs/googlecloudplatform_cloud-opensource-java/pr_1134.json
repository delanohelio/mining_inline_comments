{"pr_number": 1134, "pr_title": "libraries-bom usage docs for end users", "pr_createdAt": "2020-01-16T17:48:57Z", "pr_url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134", "timeline": [{"oid": "6e3259e1669952b50579ed61b49b9911dc878897", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/6e3259e1669952b50579ed61b49b9911dc878897", "message": "move DECLARING_DEPENDENCIES.md onto jlbp.dev", "committedDate": "2020-01-16T17:45:36Z", "type": "commit"}, {"oid": "f1e838ebd6dd247624425cdc95dd08383d665869", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/f1e838ebd6dd247624425cdc95dd08383d665869", "message": "move DECLARING_DEPENDENCIES.md onto jlbp.dev", "committedDate": "2020-01-16T17:47:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyODc0NQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r368128745", "bodyText": "this section has pretty useful information; can we keep?", "author": "saturnism", "createdAt": "2020-01-17T20:44:45Z", "path": "docs/DECLARING_DEPENDENCIES.md", "diffHunk": "@@ -124,55 +120,6 @@ For an example, see [gax-java#690](https://github.com/googleapis/gax-java/pull/6\n \n See the \"Choosing BOMs\" section below if you need to import more than one BOM.\n \n-## Choosing BOMs", "originalCommit": "f1e838ebd6dd247624425cdc95dd08383d665869", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4ODc4OA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r368288788", "bodyText": "This is from earlier days before we had a working libraries-bom. On of our OKRs is to make libraries-bom the standard means of consuming these libraries. Developers shouldn't need to think about which BOMs to pick when. Just use libraries-bom is a much simpler and easier to grok story.\nIt might be worth adding a section about combining BOMs from multiple projects; e.g. libraries-bom and spring BOM, but that's not what this is about and would be a subject for a separate PR.", "author": "elharo", "createdAt": "2020-01-19T12:06:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyODc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTczODczNg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r369738736", "bodyText": "my thought is that there is a difference btwn best practices for java libraries in terms of how to produce and consume boms, vs. preferred method of consumption for GCP client libraries; The latter is in the c.g.c documentation.\nIt's still super useful to keep the list of the boms, and also adding libraries bom to the list.  Each individual BOM can be used to override 1 component version as a whole. E.g., in situations where gRPC is causing trouble, simply importing a gRPC BOM would solve the issue.", "author": "saturnism", "createdAt": "2020-01-22T18:49:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyODc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgwMTY1OA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r369801658", "bodyText": "That's a very special case though. It does happen. There's an issue in java-storage right now where people are doing that with the http-java-client, but I'm not sure as written this correctly describes that situation. I want to give a very simple message here:\nUse libraries-bom.\nThat perhaps sometimes  specifies more versions than the users technically needs, but in that case no harm done. It is so much easier for users to consume a simple message like this thna a long, convoluted message of all the possible special cases.", "author": "elharo", "createdAt": "2020-01-22T21:03:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyODc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkyMzAxMQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r371923011", "bodyText": "I agree with @saturnism .\nWe should still include the extended message, but we could also \"offload\" it to a separate page and provide a link to it, so people who do need those details can get to it.", "author": "garrettjonesgoogle", "createdAt": "2020-01-28T16:44:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyODc0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyOTA5NA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r368129094", "bodyText": "this is also valid, any reason for removal?", "author": "saturnism", "createdAt": "2020-01-17T20:45:46Z", "path": "docs/DECLARING_DEPENDENCIES.md", "diffHunk": "@@ -201,10 +148,3 @@ library ecosystem:\n - Each library follows semantic versioning. This means that once a\n   library reaches a 1.x version, features and APIs can be added in minor/patch\n   releases but not removed within a major version.\n-\n-This combination of characteristics means that you can generally avoid", "originalCommit": "f1e838ebd6dd247624425cdc95dd08383d665869", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4ODkzOQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r368288939", "bodyText": "On rereading this, I found it hard to follow and perhaps a bit tautological. #2 needs to go because we want devs to simply import libraries-bom, not multiple BOMs, and #1 needs to go because developers shouldn't need to think about the versions of individual dependencies, just the BOM.", "author": "elharo", "createdAt": "2020-01-19T12:09:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyOTA5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc0MDI2Mg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r369740262", "bodyText": "ack; thnx for the info, i feel that makes sense too.", "author": "saturnism", "createdAt": "2020-01-22T18:52:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyOTA5NA=="}], "type": "inlineReview"}, {"oid": "9a142da74c4641d101f518932d139d9005c36f3e", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/9a142da74c4641d101f518932d139d9005c36f3e", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-01-19T12:03:09Z", "type": "commit"}, {"oid": "59ccccd1ef0790dd82c947d37efe77b26e84a802", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/59ccccd1ef0790dd82c947d37efe77b26e84a802", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-01-22T17:10:17Z", "type": "commit"}, {"oid": "c825a5d579f714f2d0d30af9ae0548e5023f9b5a", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/c825a5d579f714f2d0d30af9ae0548e5023f9b5a", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-01-24T18:25:15Z", "type": "commit"}, {"oid": "0c1c52b6ab4711250b4cfde896114aa0c7281027", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0c1c52b6ab4711250b4cfde896114aa0c7281027", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-01-27T16:29:54Z", "type": "commit"}, {"oid": "9dfef84256875a0168f58a244ce794d1a250eaa5", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/9dfef84256875a0168f58a244ce794d1a250eaa5", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-01-28T17:11:02Z", "type": "commit"}, {"oid": "e87d49fc5f4c95c35f6d2ef120ec505df1006b9f", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/e87d49fc5f4c95c35f6d2ef120ec505df1006b9f", "message": "Remove libaries we don't explicitly declare.", "committedDate": "2020-01-28T18:32:28Z", "type": "commit"}, {"oid": "942b79fc0c14b6f6a74260db32dbc66dae7d9141", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/942b79fc0c14b6f6a74260db32dbc66dae7d9141", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-01-30T14:13:28Z", "type": "commit"}, {"oid": "ebc15d39466f143f3cc1cc075aa1875228a5fb6a", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/ebc15d39466f143f3cc1cc075aa1875228a5fb6a", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-02-04T13:23:34Z", "type": "commit"}, {"oid": "0081c330233763bd1d678d2f81b0e6ce2acf0069", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0081c330233763bd1d678d2f81b0e6ce2acf0069", "message": "restore original", "committedDate": "2020-02-04T13:27:29Z", "type": "commit"}, {"oid": "d78420aef05f62469464ec0619c78a819437c970", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/d78420aef05f62469464ec0619c78a819437c970", "message": "Merge branch 'bomdeps' of github.com:GoogleCloudPlatform/cloud-opensource-java into bomdeps", "committedDate": "2020-02-04T13:28:26Z", "type": "commit"}, {"oid": "7bd1636777dca6a6fd41efaefc6d931eba0c9507", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/7bd1636777dca6a6fd41efaefc6d931eba0c9507", "message": "remove bad link", "committedDate": "2020-02-04T13:32:08Z", "type": "commit"}, {"oid": "d3714ad638ccb1e6ecbb08b1e7319b12d60bd6b2", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/d3714ad638ccb1e6ecbb08b1e7319b12d60bd6b2", "message": "more libraries", "committedDate": "2020-02-04T13:38:08Z", "type": "commit"}, {"oid": "0fa81311051a2ef5332b894b2956bf324142bb21", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0fa81311051a2ef5332b894b2956bf324142bb21", "message": "more libraries", "committedDate": "2020-02-04T13:49:55Z", "type": "commit"}, {"oid": "42e9ed77b09adea6436096ee69d220d86677b236", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/42e9ed77b09adea6436096ee69d220d86677b236", "message": "more libraries", "committedDate": "2020-02-04T13:54:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM3ODQ1OA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377378458", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Grafeas Artifact Metadata API](https://github.com/grafeas/grafeas)\n          \n          \n            \n            - [Grafeas Artifact Metadata API](https://github.com/googleapis/java-grafeas)\n          \n      \n    \n    \n  \n\nas per https://search.maven.org/artifact/io.grafeas/grafeas/0.24.0/jar", "author": "suztomo", "createdAt": "2020-02-10T23:28:52Z", "path": "docs/DECLARING_DEPENDENCIES.md", "diffHunk": "@@ -0,0 +1,204 @@\n+# Declaring Dependencies on Google Cloud Java Libraries\n+\n+Google maintains a number of open source Java libraries that make it\n+easier to use services in Google Cloud Platform (GCP). Additionally\n+Google maintains several foundational libraries that can be used for\n+very general purposes, which the GCP libraries also depend on. This\n+document explains how to use the `com.google.cloud:libraries-bom`\n+Bill of Materials and other strategies to avoid dependency conflicts in\n+these libraries.\n+\n+These recommendations apply to the following libraries:\n+\n+- [guava](https://github.com/google/guava)\n+- [protobuf](https://github.com/protocolbuffers/protobuf)\n+- [grpc-java](https://github.com/grpc/grpc-java)\n+- [google-http-java-client](https://github.com/googleapis/google-http-java-client)\n+- [BigQuery](https://github.com/googleapis/java-bigquery) \n+- [Cloud AutoML](https://github.com/googleapis/java-automl)\n+- [Cloud Bigtable](https://github.com/googleapis/java-bigtable) \n+- [Cloud Build](https://github.com/googleapis/java-cloudbuild) \n+- [Cloud Datastore](https://github.com/googleapis/java-datastore)\n+- [Cloud Data Loss Prevention](https://github.com/googleapis/java-dlp)\n+- [Cloud Firestore](https://github.com/googleapis/java-firestore)\n+- [Cloud KMS](https://github.com/googleapis/java-kms)\n+- [Cloud Natural Language](https://github.com/googleapis/java-language)\n+- [Cloud Pub/Sub](https://github.com/googleapis/java-pubsub)\n+- [Cloud Scheduler](https://github.com/googleapis/java-scheduler)\n+- [Cloud Spanner](https://github.com/googleapis/java-spanner)\n+- [Cloud Speech](https://github.com/googleapis/java-speech)\n+- [Cloud Storage](https://github.com/googleapis/java-storage)\n+- [Cloud Translation](https://github.com/googleapis/java-translate)\n+- [Cloud Tasks](https://github.com/googleapis/java-tasks)\n+- [Cloud Text-to-Speech](https://github.com/googleapis/java-texttospeech)\n+- [Cloud Video Intelligence](https://github.com/googleapis/java-video-intelligence)\n+- [Cloud Vision](https://github.com/googleapis/java-vision)\n+- [Stackdriver Logging](https://github.com/googleapis/java-logging)\n+- [Stackdriver Monitoring](https://github.com/googleapis/java-monitoring)\n+- [Stackdriver Trace](https://github.com/googleapis/java-trace)\n+- [BigQuery Data Transfer](https://github.com/googleapis/java-bigquerydatatransfer)\n+- [BigQuery Storage](https://github.com/googleapis/java-bigquerystorage)\n+- [Cloud Asset](https://github.com/googleapis/java-asset)\n+- [Cloud Billing Budgets](https://github.com/googleapis/java-billingbudgets)\n+- [Cloud Container Analysis](https://github.com/googleapis/java-containeranalysis)\n+- [Cloud Dataproc](https://github.com/googleapis/java-dataproc)\n+- [Cloud Data Catalog](https://github.com/googleapis/java-datacatalog)\n+- [Cloud Data Labeling](https://github.com/googleapis/java-datalabeling)\n+- [Cloud IAM Service Account Credentials API](https://github.com/googleapis/java-iamcredentials)\n+- [Cloud IoT Core](https://github.com/googleapis/java-iot)\n+- [Cloud Memorystore for Redis](https://github.com/googleapis/java-redis)\n+- [Cloud OS Login](https://github.com/googleapis/java-os-login)\n+- [Cloud Phishing Protection](https://github.com/googleapis/java-phishingprotection)\n+- [Cloud Recommender](https://github.com/googleapis/java-recommender)\n+- [Cloud Secret Manager](https://github.com/googleapis/java-secretmanager)\n+- [Cloud Security Center](https://github.com/googleapis/java-securitycenter)\n+- [Cloud Security Scanner](https://github.com/googleapis/java-websecurityscanner)\n+- [Cloud Talent Solution](https://github.com/googleapis/java-talent)\n+- [Cloud Web Risk](https://github.com/googleapis/java-webrisk)\n+- [Dialogflow](https://github.com/googleapis/java-dialogflow)\n+- [Kubernetes Engine](https://github.com/googleapis/java-container)\n+- [reCAPTCHA Enterprise](https://github.com/googleapis/java-recaptchaenterprise)\n+- [Stackdriver Error Reporting](https://github.com/googleapis/java-errorreporting)\n+- [Cloud Compute](https://github.com/googleapis/java-compute)\n+- [Cloud DNS](https://github.com/googleapis/java-dns)\n+- [Cloud Logging via Logback](https://github.com/googleapis/java-logging-logback)\n+- [Cloud Resource Manager](https://github.com/googleapis/java-resourcemanager)\n+- [Cloud Storage via NIO](https://github.com/googleapis/java-storage-nio)\n+\n+`com.google.cloud:libraries-bom` also covers several other libraries\n+that client code does not usually depend on directly. However if you do import\n+any of these, use  `com.google.cloud:libraries-bom` to specify their versions\n+too:\n+\n+- [GAX Google API Extensions for Java](https://github.com/googleapis/gax-java)\n+- [Google Auth Library](https://github.com/googleapis/google-auth-library-java)\n+- [Google API Client Library for Java](https://github.com/googleapis/google-api-java-client)\n+- [Grafeas Artifact Metadata API](https://github.com/grafeas/grafeas)", "originalCommit": "42e9ed77b09adea6436096ee69d220d86677b236", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzc1OTQ2NQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377759465", "bodyText": "done", "author": "elharo", "createdAt": "2020-02-11T16:45:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM3ODQ1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM3OTIzMw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377379233", "bodyText": "Case of Gradle 4.x is missing.", "author": "suztomo", "createdAt": "2020-02-10T23:31:13Z", "path": "docs/DECLARING_DEPENDENCIES.md", "diffHunk": "@@ -0,0 +1,204 @@\n+# Declaring Dependencies on Google Cloud Java Libraries\n+\n+Google maintains a number of open source Java libraries that make it\n+easier to use services in Google Cloud Platform (GCP). Additionally\n+Google maintains several foundational libraries that can be used for\n+very general purposes, which the GCP libraries also depend on. This\n+document explains how to use the `com.google.cloud:libraries-bom`\n+Bill of Materials and other strategies to avoid dependency conflicts in\n+these libraries.\n+\n+These recommendations apply to the following libraries:\n+\n+- [guava](https://github.com/google/guava)\n+- [protobuf](https://github.com/protocolbuffers/protobuf)\n+- [grpc-java](https://github.com/grpc/grpc-java)\n+- [google-http-java-client](https://github.com/googleapis/google-http-java-client)\n+- [BigQuery](https://github.com/googleapis/java-bigquery) \n+- [Cloud AutoML](https://github.com/googleapis/java-automl)\n+- [Cloud Bigtable](https://github.com/googleapis/java-bigtable) \n+- [Cloud Build](https://github.com/googleapis/java-cloudbuild) \n+- [Cloud Datastore](https://github.com/googleapis/java-datastore)\n+- [Cloud Data Loss Prevention](https://github.com/googleapis/java-dlp)\n+- [Cloud Firestore](https://github.com/googleapis/java-firestore)\n+- [Cloud KMS](https://github.com/googleapis/java-kms)\n+- [Cloud Natural Language](https://github.com/googleapis/java-language)\n+- [Cloud Pub/Sub](https://github.com/googleapis/java-pubsub)\n+- [Cloud Scheduler](https://github.com/googleapis/java-scheduler)\n+- [Cloud Spanner](https://github.com/googleapis/java-spanner)\n+- [Cloud Speech](https://github.com/googleapis/java-speech)\n+- [Cloud Storage](https://github.com/googleapis/java-storage)\n+- [Cloud Translation](https://github.com/googleapis/java-translate)\n+- [Cloud Tasks](https://github.com/googleapis/java-tasks)\n+- [Cloud Text-to-Speech](https://github.com/googleapis/java-texttospeech)\n+- [Cloud Video Intelligence](https://github.com/googleapis/java-video-intelligence)\n+- [Cloud Vision](https://github.com/googleapis/java-vision)\n+- [Stackdriver Logging](https://github.com/googleapis/java-logging)\n+- [Stackdriver Monitoring](https://github.com/googleapis/java-monitoring)\n+- [Stackdriver Trace](https://github.com/googleapis/java-trace)\n+- [BigQuery Data Transfer](https://github.com/googleapis/java-bigquerydatatransfer)\n+- [BigQuery Storage](https://github.com/googleapis/java-bigquerystorage)\n+- [Cloud Asset](https://github.com/googleapis/java-asset)\n+- [Cloud Billing Budgets](https://github.com/googleapis/java-billingbudgets)\n+- [Cloud Container Analysis](https://github.com/googleapis/java-containeranalysis)\n+- [Cloud Dataproc](https://github.com/googleapis/java-dataproc)\n+- [Cloud Data Catalog](https://github.com/googleapis/java-datacatalog)\n+- [Cloud Data Labeling](https://github.com/googleapis/java-datalabeling)\n+- [Cloud IAM Service Account Credentials API](https://github.com/googleapis/java-iamcredentials)\n+- [Cloud IoT Core](https://github.com/googleapis/java-iot)\n+- [Cloud Memorystore for Redis](https://github.com/googleapis/java-redis)\n+- [Cloud OS Login](https://github.com/googleapis/java-os-login)\n+- [Cloud Phishing Protection](https://github.com/googleapis/java-phishingprotection)\n+- [Cloud Recommender](https://github.com/googleapis/java-recommender)\n+- [Cloud Secret Manager](https://github.com/googleapis/java-secretmanager)\n+- [Cloud Security Center](https://github.com/googleapis/java-securitycenter)\n+- [Cloud Security Scanner](https://github.com/googleapis/java-websecurityscanner)\n+- [Cloud Talent Solution](https://github.com/googleapis/java-talent)\n+- [Cloud Web Risk](https://github.com/googleapis/java-webrisk)\n+- [Dialogflow](https://github.com/googleapis/java-dialogflow)\n+- [Kubernetes Engine](https://github.com/googleapis/java-container)\n+- [reCAPTCHA Enterprise](https://github.com/googleapis/java-recaptchaenterprise)\n+- [Stackdriver Error Reporting](https://github.com/googleapis/java-errorreporting)\n+- [Cloud Compute](https://github.com/googleapis/java-compute)\n+- [Cloud DNS](https://github.com/googleapis/java-dns)\n+- [Cloud Logging via Logback](https://github.com/googleapis/java-logging-logback)\n+- [Cloud Resource Manager](https://github.com/googleapis/java-resourcemanager)\n+- [Cloud Storage via NIO](https://github.com/googleapis/java-storage-nio)\n+\n+`com.google.cloud:libraries-bom` also covers several other libraries\n+that client code does not usually depend on directly. However if you do import\n+any of these, use  `com.google.cloud:libraries-bom` to specify their versions\n+too:\n+\n+- [GAX Google API Extensions for Java](https://github.com/googleapis/gax-java)\n+- [Google Auth Library](https://github.com/googleapis/google-auth-library-java)\n+- [Google API Client Library for Java](https://github.com/googleapis/google-api-java-client)\n+- [Grafeas Artifact Metadata API](https://github.com/grafeas/grafeas)\n+\n+## Ensuring Compatibility\n+\n+To ensure that your own project uses compatible versions of these\n+libraries, follow the guidance below for your build system.\n+\n+### Maven\n+\n+#### Use the requireUpperBoundDeps enforcer rule\n+\n+Maven's dependency mediation algorithm can select older versions\n+instead of newer versions, meaning new features will be missing that\n+other libraries depend on. The `requireUpperBoundDeps` enforcer rule\n+can be used to automatically discover incorrect version selection\n+because it fails the build when an older version is chosen instead of\n+a newer one.\n+\n+You can add `requireUpperBoundDeps` to your build like this:\n+\n+```\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-enforcer-plugin</artifactId>\n+        <version>3.0.0-M3</version>\n+        <executions>\n+          <execution>\n+            <id>enforce</id>\n+            <goals>\n+              <goal>enforce</goal>\n+            </goals>\n+            <configuration>\n+              <rules>\n+                <requireUpperBoundDeps/>\n+              </rules>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>\n+    </plugins>\n+  </build>\n+```\n+\n+When the newest versions are not compatible, you can use BOMs to\n+select compatible versions.\n+\n+#### Import BOMs to ensure dependencies are consistent\n+\n+Conflicts can occur when multiple artifacts from a single library are\n+part of a dependency tree, and Maven resolves different artifacts from\n+that library to versions from different releases. Using a BOM fixes\n+this problem because a BOM dictates consistent versions for all\n+artifacts from a library.\n+\n+You can use a BOM like this\u2014this example is for `libraries-bom`:\n+\n+```\n+  <dependencyManagement>\n+    <dependencies>\n+      <dependency>\n+        <groupId>com.google.cloud</groupId>\n+        <artifactId>libraries-bom</artifactId>\n+        <version>3.5.0</version>\n+        <type>pom</type>\n+        <scope>import</scope>\n+       </dependency>\n+     </dependencies>\n+  </dependencyManagement>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.google.cloud</groupId>\n+      <artifactId>google-cloud-storage</artifactId>\n+    </dependency>\n+  </dependencies>\n+```\n+\n+In this example, since the BOM manages library versions, the\n+version of the google-cloud-storage artifact is omitted.\n+\n+### Gradle\n+\n+Gradle selects the highest version of any given dependency in the\n+dependency tree.\n+\n+When a library publishes multiple artifacts, using different versions\n+for different artifacts may cause dependency conflicts. To fix this\n+problem, you can import a BOM to force consistent versions, as long as\n+you are using at least Gradle 4.6. To do this:\n+\n+- Turn on BOM support:\n+  - If you are using Gradle 4.x:\n+   ", "originalCommit": "42e9ed77b09adea6436096ee69d220d86677b236", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzc2NDYwMA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377764600", "bodyText": "done", "author": "elharo", "createdAt": "2020-02-11T16:53:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM3OTIzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM4MDg1Nw==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377380857", "bodyText": "Shall we put \"Import BOMs to ensure dependencies are consistent\" first, because the purpose of this document is to encourage users to import the BOM.", "author": "suztomo", "createdAt": "2020-02-10T23:36:13Z", "path": "docs/DECLARING_DEPENDENCIES.md", "diffHunk": "@@ -0,0 +1,204 @@\n+# Declaring Dependencies on Google Cloud Java Libraries\n+\n+Google maintains a number of open source Java libraries that make it\n+easier to use services in Google Cloud Platform (GCP). Additionally\n+Google maintains several foundational libraries that can be used for\n+very general purposes, which the GCP libraries also depend on. This\n+document explains how to use the `com.google.cloud:libraries-bom`\n+Bill of Materials and other strategies to avoid dependency conflicts in\n+these libraries.\n+\n+These recommendations apply to the following libraries:\n+\n+- [guava](https://github.com/google/guava)\n+- [protobuf](https://github.com/protocolbuffers/protobuf)\n+- [grpc-java](https://github.com/grpc/grpc-java)\n+- [google-http-java-client](https://github.com/googleapis/google-http-java-client)\n+- [BigQuery](https://github.com/googleapis/java-bigquery) \n+- [Cloud AutoML](https://github.com/googleapis/java-automl)\n+- [Cloud Bigtable](https://github.com/googleapis/java-bigtable) \n+- [Cloud Build](https://github.com/googleapis/java-cloudbuild) \n+- [Cloud Datastore](https://github.com/googleapis/java-datastore)\n+- [Cloud Data Loss Prevention](https://github.com/googleapis/java-dlp)\n+- [Cloud Firestore](https://github.com/googleapis/java-firestore)\n+- [Cloud KMS](https://github.com/googleapis/java-kms)\n+- [Cloud Natural Language](https://github.com/googleapis/java-language)\n+- [Cloud Pub/Sub](https://github.com/googleapis/java-pubsub)\n+- [Cloud Scheduler](https://github.com/googleapis/java-scheduler)\n+- [Cloud Spanner](https://github.com/googleapis/java-spanner)\n+- [Cloud Speech](https://github.com/googleapis/java-speech)\n+- [Cloud Storage](https://github.com/googleapis/java-storage)\n+- [Cloud Translation](https://github.com/googleapis/java-translate)\n+- [Cloud Tasks](https://github.com/googleapis/java-tasks)\n+- [Cloud Text-to-Speech](https://github.com/googleapis/java-texttospeech)\n+- [Cloud Video Intelligence](https://github.com/googleapis/java-video-intelligence)\n+- [Cloud Vision](https://github.com/googleapis/java-vision)\n+- [Stackdriver Logging](https://github.com/googleapis/java-logging)\n+- [Stackdriver Monitoring](https://github.com/googleapis/java-monitoring)\n+- [Stackdriver Trace](https://github.com/googleapis/java-trace)\n+- [BigQuery Data Transfer](https://github.com/googleapis/java-bigquerydatatransfer)\n+- [BigQuery Storage](https://github.com/googleapis/java-bigquerystorage)\n+- [Cloud Asset](https://github.com/googleapis/java-asset)\n+- [Cloud Billing Budgets](https://github.com/googleapis/java-billingbudgets)\n+- [Cloud Container Analysis](https://github.com/googleapis/java-containeranalysis)\n+- [Cloud Dataproc](https://github.com/googleapis/java-dataproc)\n+- [Cloud Data Catalog](https://github.com/googleapis/java-datacatalog)\n+- [Cloud Data Labeling](https://github.com/googleapis/java-datalabeling)\n+- [Cloud IAM Service Account Credentials API](https://github.com/googleapis/java-iamcredentials)\n+- [Cloud IoT Core](https://github.com/googleapis/java-iot)\n+- [Cloud Memorystore for Redis](https://github.com/googleapis/java-redis)\n+- [Cloud OS Login](https://github.com/googleapis/java-os-login)\n+- [Cloud Phishing Protection](https://github.com/googleapis/java-phishingprotection)\n+- [Cloud Recommender](https://github.com/googleapis/java-recommender)\n+- [Cloud Secret Manager](https://github.com/googleapis/java-secretmanager)\n+- [Cloud Security Center](https://github.com/googleapis/java-securitycenter)\n+- [Cloud Security Scanner](https://github.com/googleapis/java-websecurityscanner)\n+- [Cloud Talent Solution](https://github.com/googleapis/java-talent)\n+- [Cloud Web Risk](https://github.com/googleapis/java-webrisk)\n+- [Dialogflow](https://github.com/googleapis/java-dialogflow)\n+- [Kubernetes Engine](https://github.com/googleapis/java-container)\n+- [reCAPTCHA Enterprise](https://github.com/googleapis/java-recaptchaenterprise)\n+- [Stackdriver Error Reporting](https://github.com/googleapis/java-errorreporting)\n+- [Cloud Compute](https://github.com/googleapis/java-compute)\n+- [Cloud DNS](https://github.com/googleapis/java-dns)\n+- [Cloud Logging via Logback](https://github.com/googleapis/java-logging-logback)\n+- [Cloud Resource Manager](https://github.com/googleapis/java-resourcemanager)\n+- [Cloud Storage via NIO](https://github.com/googleapis/java-storage-nio)\n+\n+`com.google.cloud:libraries-bom` also covers several other libraries\n+that client code does not usually depend on directly. However if you do import\n+any of these, use  `com.google.cloud:libraries-bom` to specify their versions\n+too:\n+\n+- [GAX Google API Extensions for Java](https://github.com/googleapis/gax-java)\n+- [Google Auth Library](https://github.com/googleapis/google-auth-library-java)\n+- [Google API Client Library for Java](https://github.com/googleapis/google-api-java-client)\n+- [Grafeas Artifact Metadata API](https://github.com/grafeas/grafeas)\n+\n+## Ensuring Compatibility\n+\n+To ensure that your own project uses compatible versions of these\n+libraries, follow the guidance below for your build system.\n+\n+### Maven\n+\n+#### Use the requireUpperBoundDeps enforcer rule", "originalCommit": "42e9ed77b09adea6436096ee69d220d86677b236", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzc2MjQwMg==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377762402", "bodyText": "done", "author": "elharo", "createdAt": "2020-02-11T16:50:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM4MDg1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM4MTUwOA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377381508", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #### Import BOMs to ensure dependencies are consistent\n          \n          \n            \n            #### Import GCP Libraries BOM to ensure dependencies are consistent\n          \n      \n    \n    \n  \n\nThis section \"Ensuring Compatibility\" is written for generic usage of BOMs (not specific to libraries-bom), while this document is \"Declaring Dependencies on Google Cloud Java Libraries\". Is this intentional?", "author": "suztomo", "createdAt": "2020-02-10T23:38:11Z", "path": "docs/DECLARING_DEPENDENCIES.md", "diffHunk": "@@ -0,0 +1,204 @@\n+# Declaring Dependencies on Google Cloud Java Libraries\n+\n+Google maintains a number of open source Java libraries that make it\n+easier to use services in Google Cloud Platform (GCP). Additionally\n+Google maintains several foundational libraries that can be used for\n+very general purposes, which the GCP libraries also depend on. This\n+document explains how to use the `com.google.cloud:libraries-bom`\n+Bill of Materials and other strategies to avoid dependency conflicts in\n+these libraries.\n+\n+These recommendations apply to the following libraries:\n+\n+- [guava](https://github.com/google/guava)\n+- [protobuf](https://github.com/protocolbuffers/protobuf)\n+- [grpc-java](https://github.com/grpc/grpc-java)\n+- [google-http-java-client](https://github.com/googleapis/google-http-java-client)\n+- [BigQuery](https://github.com/googleapis/java-bigquery) \n+- [Cloud AutoML](https://github.com/googleapis/java-automl)\n+- [Cloud Bigtable](https://github.com/googleapis/java-bigtable) \n+- [Cloud Build](https://github.com/googleapis/java-cloudbuild) \n+- [Cloud Datastore](https://github.com/googleapis/java-datastore)\n+- [Cloud Data Loss Prevention](https://github.com/googleapis/java-dlp)\n+- [Cloud Firestore](https://github.com/googleapis/java-firestore)\n+- [Cloud KMS](https://github.com/googleapis/java-kms)\n+- [Cloud Natural Language](https://github.com/googleapis/java-language)\n+- [Cloud Pub/Sub](https://github.com/googleapis/java-pubsub)\n+- [Cloud Scheduler](https://github.com/googleapis/java-scheduler)\n+- [Cloud Spanner](https://github.com/googleapis/java-spanner)\n+- [Cloud Speech](https://github.com/googleapis/java-speech)\n+- [Cloud Storage](https://github.com/googleapis/java-storage)\n+- [Cloud Translation](https://github.com/googleapis/java-translate)\n+- [Cloud Tasks](https://github.com/googleapis/java-tasks)\n+- [Cloud Text-to-Speech](https://github.com/googleapis/java-texttospeech)\n+- [Cloud Video Intelligence](https://github.com/googleapis/java-video-intelligence)\n+- [Cloud Vision](https://github.com/googleapis/java-vision)\n+- [Stackdriver Logging](https://github.com/googleapis/java-logging)\n+- [Stackdriver Monitoring](https://github.com/googleapis/java-monitoring)\n+- [Stackdriver Trace](https://github.com/googleapis/java-trace)\n+- [BigQuery Data Transfer](https://github.com/googleapis/java-bigquerydatatransfer)\n+- [BigQuery Storage](https://github.com/googleapis/java-bigquerystorage)\n+- [Cloud Asset](https://github.com/googleapis/java-asset)\n+- [Cloud Billing Budgets](https://github.com/googleapis/java-billingbudgets)\n+- [Cloud Container Analysis](https://github.com/googleapis/java-containeranalysis)\n+- [Cloud Dataproc](https://github.com/googleapis/java-dataproc)\n+- [Cloud Data Catalog](https://github.com/googleapis/java-datacatalog)\n+- [Cloud Data Labeling](https://github.com/googleapis/java-datalabeling)\n+- [Cloud IAM Service Account Credentials API](https://github.com/googleapis/java-iamcredentials)\n+- [Cloud IoT Core](https://github.com/googleapis/java-iot)\n+- [Cloud Memorystore for Redis](https://github.com/googleapis/java-redis)\n+- [Cloud OS Login](https://github.com/googleapis/java-os-login)\n+- [Cloud Phishing Protection](https://github.com/googleapis/java-phishingprotection)\n+- [Cloud Recommender](https://github.com/googleapis/java-recommender)\n+- [Cloud Secret Manager](https://github.com/googleapis/java-secretmanager)\n+- [Cloud Security Center](https://github.com/googleapis/java-securitycenter)\n+- [Cloud Security Scanner](https://github.com/googleapis/java-websecurityscanner)\n+- [Cloud Talent Solution](https://github.com/googleapis/java-talent)\n+- [Cloud Web Risk](https://github.com/googleapis/java-webrisk)\n+- [Dialogflow](https://github.com/googleapis/java-dialogflow)\n+- [Kubernetes Engine](https://github.com/googleapis/java-container)\n+- [reCAPTCHA Enterprise](https://github.com/googleapis/java-recaptchaenterprise)\n+- [Stackdriver Error Reporting](https://github.com/googleapis/java-errorreporting)\n+- [Cloud Compute](https://github.com/googleapis/java-compute)\n+- [Cloud DNS](https://github.com/googleapis/java-dns)\n+- [Cloud Logging via Logback](https://github.com/googleapis/java-logging-logback)\n+- [Cloud Resource Manager](https://github.com/googleapis/java-resourcemanager)\n+- [Cloud Storage via NIO](https://github.com/googleapis/java-storage-nio)\n+\n+`com.google.cloud:libraries-bom` also covers several other libraries\n+that client code does not usually depend on directly. However if you do import\n+any of these, use  `com.google.cloud:libraries-bom` to specify their versions\n+too:\n+\n+- [GAX Google API Extensions for Java](https://github.com/googleapis/gax-java)\n+- [Google Auth Library](https://github.com/googleapis/google-auth-library-java)\n+- [Google API Client Library for Java](https://github.com/googleapis/google-api-java-client)\n+- [Grafeas Artifact Metadata API](https://github.com/grafeas/grafeas)\n+\n+## Ensuring Compatibility\n+\n+To ensure that your own project uses compatible versions of these\n+libraries, follow the guidance below for your build system.\n+\n+### Maven\n+\n+#### Use the requireUpperBoundDeps enforcer rule\n+\n+Maven's dependency mediation algorithm can select older versions\n+instead of newer versions, meaning new features will be missing that\n+other libraries depend on. The `requireUpperBoundDeps` enforcer rule\n+can be used to automatically discover incorrect version selection\n+because it fails the build when an older version is chosen instead of\n+a newer one.\n+\n+You can add `requireUpperBoundDeps` to your build like this:\n+\n+```\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-enforcer-plugin</artifactId>\n+        <version>3.0.0-M3</version>\n+        <executions>\n+          <execution>\n+            <id>enforce</id>\n+            <goals>\n+              <goal>enforce</goal>\n+            </goals>\n+            <configuration>\n+              <rules>\n+                <requireUpperBoundDeps/>\n+              </rules>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>\n+    </plugins>\n+  </build>\n+```\n+\n+When the newest versions are not compatible, you can use BOMs to\n+select compatible versions.\n+\n+#### Import BOMs to ensure dependencies are consistent", "originalCommit": "42e9ed77b09adea6436096ee69d220d86677b236", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzc2MjMxOA==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377762318", "bodyText": "done", "author": "elharo", "createdAt": "2020-02-11T16:50:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM4MTUwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzc2MjUzNQ==", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1134#discussion_r377762535", "bodyText": "done", "author": "elharo", "createdAt": "2020-02-11T16:50:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM4MTUwOA=="}], "type": "inlineReview"}, {"oid": "bc79aa1b6f79582fa4fe396b7e6ec378ed41ace8", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/bc79aa1b6f79582fa4fe396b7e6ec378ed41ace8", "message": "code review", "committedDate": "2020-02-11T16:54:03Z", "type": "commit"}, {"oid": "0727e153608b3aa8859aafa458dbf783904cd945", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0727e153608b3aa8859aafa458dbf783904cd945", "message": "Merge branch 'master' into bomdeps", "committedDate": "2020-02-11T17:44:15Z", "type": "commit"}]}