{"pr_number": 3512, "pr_title": "Fixes #3507: Fix App Crashes on opening Contributions from MainActivity", "pr_createdAt": "2020-03-13T20:07:33Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/3512", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392447324", "bodyText": "Please remove the indentation changes, also instead of making the MainActivity implement this interface, should we consider adding a check in MediaDetails that if getContext is an instance of CategoryImagesCallback, then and only then perform the cast and do the necessary operations. That would leave the MainActivity untouched, what do you think?", "author": "ashishkumar468", "createdAt": "2020-03-13T20:18:22Z", "path": "app/src/main/java/fr/free/nrw/commons/contributions/MainActivity.java", "diffHunk": "@@ -111,6 +113,16 @@ protected void onSaveInstanceState(Bundle outState) {\n         outState.putInt(\"viewPagerCurrentItem\", viewPager.getCurrentItem());\n     }\n \n+    @Override\n+    public void requestMoreImages() {\n+\n+    }\n+\n+    @Override\n+    public void viewPagerNotifyDataSetChanged() {\n+\n+    }\n+\n     private void initMain() {", "originalCommit": "359741391ac9815017011685a8ff87fe869141fb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0ODg5Mw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392448893", "bodyText": "@ashishkumar468 done :)", "author": "kbhardwaj123", "createdAt": "2020-03-13T20:21:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0OTg3NQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392449875", "bodyText": "@kbhardwaj123  Did you read the entire comment ? :P", "author": "ashishkumar468", "createdAt": "2020-03-13T20:22:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ1NjAyOQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392456029", "bodyText": "@ashishkumar468 oops :), i think thats a better idea i will test that", "author": "kbhardwaj123", "createdAt": "2020-03-13T20:32:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ2Njk0Mw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392466943", "bodyText": "@ashishkumar468 but there's a problem with that i mean if getContext is not an instanceof CategoryImagesCallback then i wont't typecast it and try to access requestMoreImages() it would again result in a crash since MainActivity won't have requestMoreImages() method", "author": "kbhardwaj123", "createdAt": "2020-03-13T20:49:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NDAzNA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392554034", "bodyText": "I meant call requesMoreImages only if the context is an instanceOf CategoryImagesCallback\nif (i+1 >= adapter.getCount() && getContext() instanceOf CategoryImagesCallback){\n            ((CategoryImagesCallback) getContext()).requestMoreImages();\n}\n\nMainActivity does not need to call requestMoreImages, right?", "author": "ashishkumar468", "createdAt": "2020-03-14T03:55:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU2ODE3MA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3512#discussion_r392568170", "bodyText": "@ashishkumar468 oh sorry i should have caught that a little earlier", "author": "kbhardwaj123", "createdAt": "2020-03-14T08:31:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjQ0NzMyNA=="}], "type": "inlineReview"}, {"oid": "b0acfaea3226d3a67cb2b22be897d7e5bb54f81e", "url": "https://github.com/commons-app/apps-android-commons/commit/b0acfaea3226d3a67cb2b22be897d7e5bb54f81e", "message": "a little explanatory comment", "committedDate": "2020-03-13T20:20:02Z", "type": "forcePushed"}, {"oid": "bbc9f15fd81b416619b9bac34787b0c06d08e60a", "url": "https://github.com/commons-app/apps-android-commons/commit/bbc9f15fd81b416619b9bac34787b0c06d08e60a", "message": "fix crash", "committedDate": "2020-03-14T08:38:17Z", "type": "commit"}, {"oid": "bbc9f15fd81b416619b9bac34787b0c06d08e60a", "url": "https://github.com/commons-app/apps-android-commons/commit/bbc9f15fd81b416619b9bac34787b0c06d08e60a", "message": "fix crash", "committedDate": "2020-03-14T08:38:17Z", "type": "forcePushed"}]}