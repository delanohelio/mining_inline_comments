{"pr_number": 3366, "pr_title": "Adds a Test for Method A categories search", "pr_createdAt": "2020-02-02T13:37:35Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/3366", "timeline": [{"oid": "d977190f24516e332b3f14f5a8aa3967f097d647", "url": "https://github.com/commons-app/apps-android-commons/commit/d977190f24516e332b3f14f5a8aa3967f097d647", "message": "CategoriesModelTest: add methodA test for categories search", "committedDate": "2020-02-02T13:29:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0ODQyNQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3366#discussion_r373848425", "bodyText": "Could use lateinit for mocks", "author": "ashishkumar468", "createdAt": "2020-02-02T14:02:06Z", "path": "app/src/test/kotlin/fr/free/nrw/commons/category/CategoriesModelTest.kt", "diffHunk": "@@ -17,6 +20,18 @@ class CategoriesModelTest {\n     @Mock\n     internal var categoryItem: CategoryItem? = null\n \n+    @Spy\n+    internal var gson: Gson? = Gson()\n+\n+    @Spy\n+    internal var categoryItemForMethodA: CategoryItem? = CategoryItem(\"\",false)\n+\n+    @Mock\n+    internal var categoryDao: CategoryDao? = null", "originalCommit": "d977190f24516e332b3f14f5a8aa3967f097d647", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NjM1NA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3366#discussion_r373856354", "bodyText": "did that wherever possible but rest of the dependencies are quite interdependent and complex", "author": "kbhardwaj123", "createdAt": "2020-02-02T15:59:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0ODQyNQ=="}], "type": "inlineReview"}, {"oid": "42246bff9c1b9ba12c77a4f9d97f535460149c50", "url": "https://github.com/commons-app/apps-android-commons/commit/42246bff9c1b9ba12c77a4f9d97f535460149c50", "message": "CategoriesModelTest: use lateinit wherever possible", "committedDate": "2020-02-02T15:57:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwNzg3NQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3366#discussion_r373907875", "bodyText": "@kbhardwaj123 'Method A' might be mentioned in the wiki but its not a term that all the contributors might be aware of. Infact even I have heard this term for the first time. Please rename it to something more meaningful.\nRename other usages as well.", "author": "maskaravivek", "createdAt": "2020-02-03T03:13:04Z", "path": "app/src/test/kotlin/fr/free/nrw/commons/category/CategoriesModelTest.kt", "diffHunk": "@@ -17,12 +20,26 @@ class CategoriesModelTest {\n     @Mock\n     internal var categoryItem: CategoryItem? = null\n \n+    @Spy\n+    internal lateinit var gson: Gson\n+\n+    @Spy\n+    internal lateinit var categoryItemForMethodA: CategoryItem", "originalCommit": "42246bff9c1b9ba12c77a4f9d97f535460149c50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNjM2Mg==", "url": "https://github.com/commons-app/apps-android-commons/pull/3366#discussion_r373916362", "bodyText": "Sure sir will do that", "author": "kbhardwaj123", "createdAt": "2020-02-03T04:16:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwNzg3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwNzk3OA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3366#discussion_r373907978", "bodyText": "rename test method's name to something that explains what the test is doing.", "author": "maskaravivek", "createdAt": "2020-02-03T03:13:47Z", "path": "app/src/test/kotlin/fr/free/nrw/commons/category/CategoriesModelTest.kt", "diffHunk": "@@ -47,4 +64,41 @@ class CategoriesModelTest {\n         val actualCategoryNameCaps = categoriesModel!!.searchAll(\"Tes\",null).blockingFirst()\n         assertEquals(\"Test\", actualCategoryNameCaps.getName())\n     }\n+\n+    /**\n+    * For testing the substring search algorithm for Categories search\n+    * To be more precise it tests the Method A which has been described \n+    * on github repo wiki: \n+    * https://github.com/commons-app/apps-android-commons/wiki/Category-suggestions-(readme)#user-content-3-category-search-when-typing-in-the-search-field-has-been-made-more-flexible\n+    */\n+    @Test\n+    fun searchAllFoundCaseTestForMethodA() {", "originalCommit": "42246bff9c1b9ba12c77a4f9d97f535460149c50", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "86e443375755bcbe19767b8236a058a591e4cf9d", "url": "https://github.com/commons-app/apps-android-commons/commit/86e443375755bcbe19767b8236a058a591e4cf9d", "message": "CategoriesModelTest: make method name meaningful", "committedDate": "2020-02-03T04:14:23Z", "type": "commit"}]}