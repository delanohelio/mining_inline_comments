{"pr_number": 4062, "pr_title": "Added Tests for Profile Activity", "pr_createdAt": "2020-12-04T20:28:16Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/4062", "timeline": [{"oid": "51c4022226cd95cde5fe072d4b96983b2905ee4b", "url": "https://github.com/commons-app/apps-android-commons/commit/51c4022226cd95cde5fe072d4b96983b2905ee4b", "message": "Added Tests for Profile Activity", "committedDate": "2020-12-04T20:25:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ4OTI2Nw==", "url": "https://github.com/commons-app/apps-android-commons/pull/4062#discussion_r536489267", "bodyText": "Adding more powermock worries me a bit", "author": "domdomegg", "createdAt": "2020-12-05T02:53:15Z", "path": "app/build.gradle", "diffHunk": "@@ -81,15 +81,23 @@ dependencies {\n     testImplementation \"org.powermock:powermock-api-mockito2:2.0.0-beta.5\"\n \n     // Unit testing\n-    testImplementation 'junit:junit:4.13'\n+    testImplementation 'junit:junit:4.13.1'\n     testImplementation 'org.robolectric:robolectric:4.3'\n-    testImplementation 'androidx.test:core:1.2.0'\n+    testImplementation 'androidx.test:core:1.3.0'\n     testImplementation \"com.squareup.okhttp3:mockwebserver:$OKHTTP_VERSION\"\n     testImplementation \"org.powermock:powermock-module-junit4:2.0.0-beta.5\"\n     testImplementation \"org.powermock:powermock-api-mockito2:2.0.0-beta.5\"\n     testImplementation 'org.mockito:mockito-core:2.23.0'\n     testImplementation \"com.jraska.livedata:testing-ktx:1.1.2\"\n     testImplementation \"androidx.arch.core:core-testing:2.1.0\"\n+    testImplementation \"org.junit.jupiter:junit-jupiter-api:5.3.1\"\n+    testRuntimeOnly \"org.junit.jupiter:junit-jupiter-engine:5.3.1\"\n+\n+    // Mockito and PowerMock\n+    androidTestCompile ('org.powermock:powermock-mockito-release-full:1.6.0') {", "originalCommit": "51c4022226cd95cde5fe072d4b96983b2905ee4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjcwMTg1OQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/4062#discussion_r536701859", "bodyText": "@domdomegg I wasn't sure how to test the static method without adding this import, let me know if there is a better way :)", "author": "madhurgupta10", "createdAt": "2020-12-05T11:38:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ4OTI2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjg0MTE4Mg==", "url": "https://github.com/commons-app/apps-android-commons/pull/4062#discussion_r536841182", "bodyText": "Makes sense :)\nIn an ideal world we'd avoid these static methods, but appreciate that might not be possible here. Still very happy for this to be merged (more tests are almost always good in my eyes), but just over time it'd be nice if we could reduce our usage of powermock.\nI think these posts explain my opinions on powermock, but happy to have a wider discussion too :)\nhttps://blog.frankel.ch/on-powermock-abuse/\nhttps://stackoverflow.com/a/30163045/5352227\nhttps://medium.com/@inderivita/powermock-testing-tool-or-testing-obstacle-29f3303c9337", "author": "domdomegg", "createdAt": "2020-12-05T18:21:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ4OTI2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ4OTM4MA==", "url": "https://github.com/commons-app/apps-android-commons/pull/4062#discussion_r536489380", "bodyText": "Good we're moving over to JUnit 5 - would be good to get all the tests onto it. As a test-only dependency it won't have any affect on the final app so should be fine.", "author": "domdomegg", "createdAt": "2020-12-05T02:54:04Z", "path": "app/build.gradle", "diffHunk": "@@ -81,15 +81,23 @@ dependencies {\n     testImplementation \"org.powermock:powermock-api-mockito2:2.0.0-beta.5\"\n \n     // Unit testing\n-    testImplementation 'junit:junit:4.13'\n+    testImplementation 'junit:junit:4.13.1'\n     testImplementation 'org.robolectric:robolectric:4.3'\n-    testImplementation 'androidx.test:core:1.2.0'\n+    testImplementation 'androidx.test:core:1.3.0'\n     testImplementation \"com.squareup.okhttp3:mockwebserver:$OKHTTP_VERSION\"\n     testImplementation \"org.powermock:powermock-module-junit4:2.0.0-beta.5\"\n     testImplementation \"org.powermock:powermock-api-mockito2:2.0.0-beta.5\"\n     testImplementation 'org.mockito:mockito-core:2.23.0'\n     testImplementation \"com.jraska.livedata:testing-ktx:1.1.2\"\n     testImplementation \"androidx.arch.core:core-testing:2.1.0\"\n+    testImplementation \"org.junit.jupiter:junit-jupiter-api:5.3.1\"", "originalCommit": "51c4022226cd95cde5fe072d4b96983b2905ee4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}