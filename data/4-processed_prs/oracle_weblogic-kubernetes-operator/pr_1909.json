{"pr_number": 1909, "pr_title": "updating imagetool command in mii doc to use the chown option", "pr_createdAt": "2020-09-09T17:40:50Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909", "timeline": [{"oid": "185316a7bd39765805233e8092e3d5b86fe04744", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/185316a7bd39765805233e8092e3d5b86fe04744", "message": "updating imagetool command in mii doc to use the chown option", "committedDate": "2020-09-09T17:25:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwMzM0MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485803340", "bodyText": "When creating FMW Infrastructure images,", "author": "mriccell", "createdAt": "2020-09-09T17:44:10Z", "path": "docs-source/content/samples/simple/domains/model-in-image/initial.md", "diffHunk": "@@ -262,6 +262,7 @@ If you don't see the `weblogic-deploy.zip` file, then you missed a step in the [\n Now, you use the Image Tool to create an image named `model-in-image:WLS-v1` that's layered on a base WebLogic image. You've already set up this tool during the prerequisite steps.\n \n Run the following commands to create the model image and verify that it worked:\n+Note: If you are creating a WebLogic model-in-image, add --chown oracle:root to imagetool.sh command. When creating FMS images, do not use the --chown option.", "originalCommit": "185316a7bd39765805233e8092e3d5b86fe04744", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwNjA1MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485806051", "bodyText": "Fixed it.", "author": "bhavaniravichandran", "createdAt": "2020-09-09T17:49:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwMzM0MA=="}], "type": "inlineReview"}, {"oid": "58b9ea7e3b1d226293e1044198433dbb953d5bf7", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/58b9ea7e3b1d226293e1044198433dbb953d5bf7", "message": "fix typo", "committedDate": "2020-09-09T17:47:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485835721", "bodyText": "1 - Since WLS is the most common case by far, we should just default to giving the 'correct' command for WLS.\n2 - Also, in the MII sample we simply use 'JRF' to indicate FMW Infrastructure.\n3 - There are other locations in the MII sample doc and user doc that mention image tool.\nSo how about:\nA - Add --chown oracle:root to the command line.\nB - Replace the Note with:\n{{% notice note %}}\nIf you are taking the JRF path through the sample, then  remove `--chown oracle:root` from the `imagetool.sh` command below. \n{{% /notice %}}\n\nC - Add similar changes to the image tool command line in update3.md", "author": "tbarnes-us", "createdAt": "2020-09-09T18:43:27Z", "path": "docs-source/content/samples/simple/domains/model-in-image/initial.md", "diffHunk": "@@ -262,6 +262,7 @@ If you don't see the `weblogic-deploy.zip` file, then you missed a step in the [\n Now, you use the Image Tool to create an image named `model-in-image:WLS-v1` that's layered on a base WebLogic image. You've already set up this tool during the prerequisite steps.\n \n Run the following commands to create the model image and verify that it worked:\n+Note: If you are creating a WebLogic model-in-image, add --chown oracle:root to imagetool.sh command. When creating FMW Infrastructure images, do not use the --chown option.", "originalCommit": "58b9ea7e3b1d226293e1044198433dbb953d5bf7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNzQwOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485837409", "bodyText": "D - The MII sample test's 'wrapper' script 'src/integration-tests/model-in-image/mii-sample-wrapper/build-model-image.sh' (which calls the same command) should be updated to add/remove the chown, and should key the behavior off of the WDT_DOMAIN_TYPE env var (value of JRF or WLS).", "author": "tbarnes-us", "createdAt": "2020-09-09T18:46:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzOTE2NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485839164", "bodyText": "E - The MII user guide should have the additional text too for its mention of the image tool, and it should say something like \"if your domain resource 'spec.configuration.model.domainType' is JRF, then ...\"", "author": "tbarnes-us", "createdAt": "2020-09-09T18:50:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg0NTA3MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485845071", "bodyText": "I agree", "author": "mriccell", "createdAt": "2020-09-09T19:01:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg1NTM3MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485855370", "bodyText": "I agree Tom's suggestion (A to C) reads better. Fixed it.\nD - Do I have to create a new PR for this change or can I piggy back off of this PR?\nE - Not sure where exactly I should add this.", "author": "bhavaniravichandran", "createdAt": "2020-09-09T19:20:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg3Mjc1MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485872750", "bodyText": "I'm fine with doing D in this change as long as Vanaja is fine with it.\nYou can ignore E - I just checked and the user doc simply points back to the sample.\nI do not see the suggested changes for A or B yet in this pull.", "author": "tbarnes-us", "createdAt": "2020-09-09T19:43:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg4MzExNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485883117", "bodyText": "I am fine with doing changes in this PR for D", "author": "vanajamukkara", "createdAt": "2020-09-09T19:55:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg4OTU0Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485889542", "bodyText": "I Haven't pushed it yet. I want to do D as well if it can be in the same PR. Just wondered if we try to keep doc changes and code changes separate. I will do it in the same PR since there doesn't seem to be any preference.", "author": "bhavaniravichandran", "createdAt": "2020-09-09T20:03:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk3MDQ2Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485970462", "bodyText": "Tom, can you review my changes and approve if you are satisfied. Changes to the tests will take a little longer and Monica would like to update the doc since there have been some inquiries.", "author": "bhavaniravichandran", "createdAt": "2020-09-09T23:09:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk3MjkxOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485972919", "bodyText": "Line 265 should be removed - it's your old version of the note.", "author": "tbarnes-us", "createdAt": "2020-09-09T23:18:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgzNTcyMQ=="}], "type": "inlineReview"}, {"oid": "a349a864fd399504232c5432847709efb7dbaf79", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a349a864fd399504232c5432847709efb7dbaf79", "message": "incorporating Tom's review comments", "committedDate": "2020-09-09T22:59:29Z", "type": "commit"}, {"oid": "7ae777c6df0a938790a621df4f922acf95c665e3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7ae777c6df0a938790a621df4f922acf95c665e3", "message": "fix typo", "committedDate": "2020-09-09T23:03:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk3MTk2Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r485971962", "bodyText": "Include a markup back-quote before and after each keyword (JRF, --chown oracle:root, and imagetool.sh), and change {% /notice %}} to {{% /notice %}}.\nPlease check if the .md formatting is as expected.  E.g. Go to docs-source, and run the 'runpublic.sh' command.   This will start a hugo web server with your version of the documentation which you can access at http://$(hostname).$(dnsdomainname):1313.", "author": "tbarnes-us", "createdAt": "2020-09-09T23:14:33Z", "path": "docs-source/content/samples/simple/domains/model-in-image/initial.md", "diffHunk": "@@ -262,7 +262,11 @@ If you don't see the `weblogic-deploy.zip` file, then you missed a step in the [\n Now, you use the Image Tool to create an image named `model-in-image:WLS-v1` that's layered on a base WebLogic image. You've already set up this tool during the prerequisite steps.\n \n Run the following commands to create the model image and verify that it worked:\n+Note: If you are creating a WebLogic model-in-image, add --chown oracle:root to imagetool.sh command. When creating FMW Infrastructure images, do not use the --chown option.\n \n+{{% notice note %}}\n+If you are taking the JRF path through the sample, then remove --chown oracle:root from the imagetool.sh command below. \n+{% /notice %}}", "originalCommit": "7ae777c6df0a938790a621df4f922acf95c665e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjAwMjM5Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r486002397", "bodyText": "Tom, I made the changes you requested. The note I added in update3.md looks different from the one in initial.md. I see that update3.md adds Note: differently does not use the notify note markup. Can you take a look. Let me know if we want it keep it uniform in update3.md.", "author": "bhavaniravichandran", "createdAt": "2020-09-10T01:02:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk3MTk2Mg=="}], "type": "inlineReview"}, {"oid": "147f3121ce1f82dc1c95f1eb236f51a6c7772c6f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/147f3121ce1f82dc1c95f1eb236f51a6c7772c6f", "message": "highlighting some terms and more", "committedDate": "2020-09-10T00:59:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk0NDE4MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1909#discussion_r487944180", "bodyText": "This note does not appear correctly in the UI, https://oracle.github.io/weblogic-kubernetes-operator/samples/simple/domains/model-in-image/update3/. My guess is that it is indented too much.", "author": "rosemarymarano", "createdAt": "2020-09-14T13:59:23Z", "path": "docs-source/content/samples/simple/domains/model-in-image/update3.md", "diffHunk": "@@ -93,7 +93,11 @@ Here are the steps for this use case:\n      Now, you use the Image Tool to create an image named `model-in-image:WLS-v2` that's layered on a base WebLogic image. You've already set up this tool during the prerequisite steps.\n \n      Run the following commands to create the model image and verify that it worked:\n-\n+     \n+     {{% notice note %}}", "originalCommit": "147f3121ce1f82dc1c95f1eb236f51a6c7772c6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}