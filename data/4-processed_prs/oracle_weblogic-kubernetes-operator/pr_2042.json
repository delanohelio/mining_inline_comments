{"pr_number": 2042, "pr_title": "OWLS 85938 - Server lifecycle script changes to use domain.status.minimumReplicas when stopping/starting server", "pr_createdAt": "2020-11-09T19:12:19Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2042", "timeline": [{"oid": "9c1fcdcf6578d708b79fd67e7fba1a398a96ae58", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9c1fcdcf6578d708b79fd67e7fba1a398a96ae58", "message": "OWLS-85938 - Server lifecycle script changes to check for minimum replicas and minor bug fix.", "committedDate": "2020-11-09T19:01:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA4ODI2Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2042#discussion_r520088267", "bodyText": "Maybe provide a little more detail:\nNot decreasing replica count: it is at its minimum. (See 'domain.spec.allowReplicasBelowMinDynClusterSize' and 'domain.status.clusters[].minimumReplicas' for details.)", "author": "tbarnes-us", "createdAt": "2020-11-09T20:07:06Z", "path": "kubernetes/samples/scripts/domain-lifecycle/stopServer.sh", "diffHunk": "@@ -153,6 +154,16 @@ else\n   fi\n fi\n \n+if [[ -n \"${clusterName}\" && \"${keepReplicaConstant}\" == 'false' ]]; then\n+  # check if replica count can decrease below current value\n+  isReplicaCountEqualToMinReplicas \"${domainJson}\" \"${clusterName}\" replicasEqualsMinReplicas\n+  if [ \"${replicasEqualsMinReplicas}\" == 'true' ]; then\n+    printInfo \"Current replica count value is same as minimum number of replica count. \\", "originalCommit": "9c1fcdcf6578d708b79fd67e7fba1a398a96ae58", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEwNzY5Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2042#discussion_r520107696", "bodyText": "Changed the message in 6dae3f1. Please let me know if more details are needed.", "author": "ankedia", "createdAt": "2020-11-09T20:43:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA4ODI2Nw=="}], "type": "inlineReview"}, {"oid": "6dae3f14b1307d91d80e6576d4b5b757eea31804", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6dae3f14b1307d91d80e6576d4b5b757eea31804", "message": "Provide more details in message when replica count is equal to min replicas.", "committedDate": "2020-11-09T20:37:07Z", "type": "commit"}]}