{"pr_number": 1612, "pr_title": "Fix for issue 1610 in create-rcu-schema scripts", "pr_createdAt": "2020-04-30T09:40:48Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612", "timeline": [{"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e3d3448d0013b7575257dfbb297fa374afbe6e8f", "message": "Fix for issue 1610 in develop branch", "committedDate": "2020-04-30T09:27:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODQwOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978409", "bodyText": "we use \"required\" not \"needed\"", "author": "markxnelson", "createdAt": "2020-04-30T12:39:33Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5OTcyMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418099723", "bodyText": "create-rcu-schema.sh was using this. Updated create-rcu-schema.sh and README.md with the required changes.", "author": "ashageetha", "createdAt": "2020-04-30T15:33:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODQwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODU3OQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978579", "bodyText": "space after period", "author": "markxnelson", "createdAt": "2020-04-30T12:39:50Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDA3Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980077", "bodyText": "database, no capital", "author": "markxnelson", "createdAt": "2020-04-30T12:42:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODU3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5OTg2Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418099866", "bodyText": "Updated.", "author": "ashageetha", "createdAt": "2020-04-30T15:33:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODU3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODY5Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978692", "bodyText": "space after period", "author": "markxnelson", "createdAt": "2020-04-30T12:40:01Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)\n+      (default: Oradoc_db1)\n+  -r password for all schema owner (regular user).(optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODc4Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978782", "bodyText": "YAML", "author": "markxnelson", "createdAt": "2020-04-30T12:40:11Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)\n+      (default: Oradoc_db1)\n+  -r password for all schema owner (regular user).(optional)\n+      (default: Oradoc_db1)\n+  -o Output directory for the generated yaml files. (optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODg4OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978888", "bodyText": "RCU", "author": "markxnelson", "createdAt": "2020-04-30T12:40:22Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3OTEyMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417979121", "bodyText": "either \"ImagePullSecret\" or \"image pull secret\"", "author": "markxnelson", "createdAt": "2020-04-30T12:40:48Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3OTE4Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417979186", "bodyText": "space after comma", "author": "markxnelson", "createdAt": "2020-04-30T12:40:57Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDQ0NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980444", "bodyText": "i assume all of these issues are in the actual script too, and need to be fixed there...", "author": "markxnelson", "createdAt": "2020-04-30T12:43:05Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDc2MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980760", "bodyText": "required", "author": "markxnelson", "createdAt": "2020-04-30T12:43:38Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDg4OQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980889", "bodyText": "RCU", "author": "markxnelson", "createdAt": "2020-04-30T12:43:52Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)\n+  -t RCU Schema Type (optional)\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d Oracle Database URL\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+  -n Namespace where rcu pod is deployed (optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTA5Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981096", "bodyText": "\"must be specified\" and \"optional\" can't both be true", "author": "markxnelson", "createdAt": "2020-04-30T12:44:14Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)\n+  -t RCU Schema Type (optional)\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d Oracle Database URL\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+  -n Namespace where rcu pod is deployed (optional)\n+      (default: default)\n+  -q password for SYSDBA user, must be specified.(optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEwMDY5NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418100694", "bodyText": "Fixed both create-rcu-schema.sh and README.md.", "author": "ashageetha", "createdAt": "2020-04-30T15:34:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTA5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTE2MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981161", "bodyText": "same", "author": "markxnelson", "createdAt": "2020-04-30T12:44:21Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)\n+  -t RCU Schema Type (optional)\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d Oracle Database URL\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+  -n Namespace where rcu pod is deployed (optional)\n+      (default: default)\n+  -q password for SYSDBA user, must be specified.(optional)\n+      (default: Oradoc_db1)\n+  -r password for schema owner (regular user), must be specified.(optional)", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTUwOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981509", "bodyText": "needs copyright and license header", "author": "markxnelson", "createdAt": "2020-04-30T12:44:59Z", "path": "kubernetes/samples/scripts/create-rcu-schema/common/template/rcu.yaml.template", "diffHunk": "@@ -0,0 +1,17 @@\n+apiVersion: v1", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEwMDkzMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418100933", "bodyText": "Added copyright and license header.", "author": "ashageetha", "createdAt": "2020-04-30T15:34:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTUwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTY4NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981684", "bodyText": "see comments on other file, which apply here", "author": "markxnelson", "createdAt": "2020-04-30T12:45:19Z", "path": "kubernetes/samples/scripts/create-rcu-schema/create-rcu-schema.sh", "diffHunk": "@@ -9,21 +9,29 @@ scriptDir=\"$( cd \"$( dirname \"${script}\" )\" && pwd )\"\n source ${scriptDir}/../common/utility.sh\n \n function usage {\n-  echo \"usage: ${script} -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> [-h]\"\n+  echo \"usage: ${script} -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\"", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTg1Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981857", "bodyText": "namespace", "author": "markxnelson", "createdAt": "2020-04-30T12:45:39Z", "path": "kubernetes/samples/scripts/create-rcu-schema/create-rcu-schema.sh", "diffHunk": "@@ -56,38 +72,61 @@ if [ -z ${rcuType} ]; then\n fi\n \n if [ -z ${pullsecret} ]; then\n-  pullsecret=\"docker-store\"\n+  pullsecret=\"none\"\n+  pullsecretPrefix=\"#\"\n fi\n \n if [ -z ${fmwimage} ]; then\n  fmwimage=\"container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4\"\n fi\n \n+if [ -z ${nameSpace} ]; then", "originalCommit": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4e0d7420499a8eb0fe637f95e81c3009139d0873", "message": "Incorporated review comments", "committedDate": "2020-04-30T15:27:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE3ODk1MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418178950", "bodyText": "Are we okay that the database is still assumed to run in the default namespace? I'm guessing that it's a \"yes\" as we already provide an option to replace this URL.", "author": "rjeberhard", "createdAt": "2020-04-30T17:39:36Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -22,17 +22,25 @@ This script generates the RCU schema based `schemaPrefix` and `dburl`.\n The script assumes that either the image, `container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4`, is available in the Docker image repository or an `ImagePullSecret` is created for `container-registry.oracle.com`. To create a secret for accessing `container-registry.oracle.com`, see the script `create-image-pull-secret.sh`.\n \n ```\n-$ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n+$ ./create-rcu-schema.sh  -h\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <namespace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n   -s RCU Schema Prefix (required)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default), soa, osb, soaosb, soaess, soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)", "originalCommit": "4e0d7420499a8eb0fe637f95e81c3009139d0873", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIxMDgxNQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418210815", "bodyText": "Yes, default namespace is also considered default value for namespace.", "author": "ashageetha", "createdAt": "2020-04-30T18:35:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE3ODk1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4MjE0NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418182145", "bodyText": "Can we please move the \"-n $namespace\" after \"exec\"?  Then I'll still be able to grep our code base for every use of \"kubectl exec\".  There are changes coming to kubectl, including changes to the \"kubectl exec\" format.", "author": "rjeberhard", "createdAt": "2020-04-30T17:44:57Z", "path": "kubernetes/samples/scripts/create-rcu-schema/create-rcu-schema.sh", "diffHunk": "@@ -56,38 +72,61 @@ if [ -z ${rcuType} ]; then\n fi\n \n if [ -z ${pullsecret} ]; then\n-  pullsecret=\"docker-store\"\n+  pullsecret=\"none\"\n+  pullsecretPrefix=\"#\"\n fi\n \n if [ -z ${fmwimage} ]; then\n  fmwimage=\"container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4\"\n fi\n \n+if [ -z ${namespace} ]; then\n+ namespace=\"default\"\n+fi\n+\n+if [ -z ${sysPassword} ]; then\n+ sysPassword=\"Oradoc_db1\"\n+fi\n+\n+if [ -z ${schemaPassword} ]; then\n+ schemaPassword=\"Oradoc_db1\"\n+fi\n+\n+if [ -z ${rcuOutputDir} ]; then\n+ rcuOutputDir=\"rcuoutput\"\n+fi\n+\n echo \"ImagePullSecret[$pullsecret] Image[${fmwimage}] dburl[${dburl}] rcuType[${rcuType}]\"\n \n+mkdir -p ${rcuOutputDir}\n+rcuYaml=${rcuOutputDir}/rcu.yaml\n+rm -f ${rcuYaml}\n+rcuYamlTemp=${scriptDir}/common/template/rcu.yaml.template\n+cp $rcuYamlTemp $rcuYaml\n+\n #kubectl run rcu --generator=run-pod/v1 --image ${jrf_image} -- sleep infinity\n # Modify the ImagePullSecret based on input\n-sed -i -e '$d' ${scriptDir}/common/rcu.yaml\n-echo '           - name: docker-store' >> ${scriptDir}/common/rcu.yaml\n-sed -i -e \"s?name: docker-store?name: ${pullsecret}?g\" ${scriptDir}/common/rcu.yaml\n-sed -i -e \"s?image:.*?image: ${fmwimage}?g\" ${scriptDir}/common/rcu.yaml\n-kubectl apply -f ${scriptDir}/common/rcu.yaml\n+sed -i -e \"s:%NAMESPACE%:${namespace}:g\" $rcuYaml\n+sed -i -e \"s:%WEBLOGIC_IMAGE_PULL_SECRET_NAME%:${pullsecret}:g\" $rcuYaml\n+sed -i -e \"s:%WEBLOGIC_IMAGE_PULL_SECRET_PREFIX%:${pullsecretPrefix}:g\" $rcuYaml\n+sed -i -e \"s?image:.*?image: ${fmwimage}?g\" $rcuYaml\n+kubectl apply -f $rcuYaml\n \n # Make sure the rcu deployment Pod is RUNNING\n-checkPod rcu default\n-checkPodState rcu default \"1/1\"\n+checkPod rcu $namespace\n+checkPodState rcu $namespace \"1/1\"\n sleep 5\n-kubectl get po/rcu \n+kubectl get po/rcu -n $namespace \n \n # Generate the default password files for rcu command\n-echo \"Oradoc_db1\" > pwd.txt\n-echo \"Oradoc_db1\" >> pwd.txt\n+echo \"$sysPassword\" > pwd.txt\n+echo \"$schemaPassword\" >> pwd.txt\n \n-kubectl exec -i rcu -- bash -c 'cat > /u01/oracle/createRepository.sh' < ${scriptDir}/common/createRepository.sh \n-kubectl exec -i rcu -- bash -c 'cat > /u01/oracle/pwd.txt' < pwd.txt \n+kubectl -n $namespace exec -i rcu -- bash -c 'cat > /u01/oracle/createRepository.sh' < ${scriptDir}/common/createRepository.sh ", "originalCommit": "4e0d7420499a8eb0fe637f95e81c3009139d0873", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIwODMwMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418208303", "bodyText": "Hi @rjeberhard ,\nIncorporated your comments into the latest commit.\nPlease review.\nThanks,\nAsha", "author": "ashageetha", "createdAt": "2020-04-30T18:30:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4MjE0NQ=="}], "type": "inlineReview"}, {"oid": "08f6d65caa612dec45ca6f3380a9d60723a3a43e", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/08f6d65caa612dec45ca6f3380a9d60723a3a43e", "message": "Incorporated latest comments from Ryan.", "committedDate": "2020-04-30T18:27:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIyMzQwMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418223402", "bodyText": "In our k8s multi nodes env we use \"imagePullPolicy: Always\" to pull the latest FMW image. So if \"imagePullPolicy\" is customizable, it would be nicer.", "author": "maggiehe00", "createdAt": "2020-04-30T18:58:23Z", "path": "kubernetes/samples/scripts/create-rcu-schema/common/template/rcu.yaml.template", "diffHunk": "@@ -0,0 +1,22 @@\n+# Copyright (c) 2020, Oracle and/or its affiliates.\n+# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+#\n+# This is a template for RCU Pod\n+#\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  labels:\n+    run: rcu\n+  name: rcu\n+  namespace: %NAMESPACE%\n+spec:\n+  containers:\n+  - args:\n+    - sleep\n+    - infinity\n+    image: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4\n+    imagePullPolicy: IfNotPresent", "originalCommit": "08f6d65caa612dec45ca6f3380a9d60723a3a43e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI0MDA3OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418240078", "bodyText": "Hi @maggiehe00 ,\nUpdated scripts to make \"imagePullPolicy\" customizable.\nPlease review.\nThanks,\nAsha", "author": "ashageetha", "createdAt": "2020-04-30T19:29:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIyMzQwMg=="}], "type": "inlineReview"}, {"oid": "af592dff961181e0b61fd4304c1f1c04e8b24242", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/af592dff961181e0b61fd4304c1f1c04e8b24242", "message": "Incorporated changes to make imagePullPolicy customizable.", "committedDate": "2020-04-30T19:27:19Z", "type": "commit"}, {"oid": "22f7cec4e215b283e274bf59367077cc706de01c", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/22f7cec4e215b283e274bf59367077cc706de01c", "message": "Added wrongly removed $ in README.md", "committedDate": "2020-04-30T19:35:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418252032", "bodyText": "A tiny one\nPlease change -p", "author": "maggiehe00", "createdAt": "2020-04-30T19:53:35Z", "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,26 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -u <imagePullPolicy> -p <docker-store> -n <namespace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]", "originalCommit": "22f7cec4e215b283e274bf59367077cc706de01c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2MDczMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418260731", "bodyText": "Please confirm what changes required. The original README.md was not inline with actual \"./create-rcu-schema.sh -h\"  output and was pointing -s twice for schemaPrefix and dockerstore.\nThe PR has README.md changes with output of \"./create-rcu-schema.sh -h\" from actual output.", "author": "ashageetha", "createdAt": "2020-04-30T20:11:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODM0NjIzMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418346233", "bodyText": "I think the README.md should reflect the real output of the latest change of ./create-rcu-schema.sh.", "author": "maggiehe00", "createdAt": "2020-04-30T23:32:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ3MjM4Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418472382", "bodyText": "Currently, README.md has real output of \"./create-rcu-schema.sh -h\" and \"./drop-rcu-schema.sh -h\".\nPlease confirm if the real output of \"./create-rcu-schema.sh -s domain1\" and \"./drop-rcu-schema.sh -s domain1\" also need to be updated in README.md.", "author": "ashageetha", "createdAt": "2020-05-01T09:11:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUzOTMzMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418539332", "bodyText": "Yes, please.\nThank you.", "author": "maggiehe00", "createdAt": "2020-05-01T13:25:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU4MzIxMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418583211", "bodyText": "Please review the latest commit with the required updates into README.md.\nThanks,\nAsha", "author": "ashageetha", "createdAt": "2020-05-01T15:08:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg=="}], "type": "inlineReview"}, {"oid": "baf0156adad68353166d1df22317d3c6b176ebe0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/baf0156adad68353166d1df22317d3c6b176ebe0", "message": "Updated README.md based on latest review comments from maggiehe00", "committedDate": "2020-05-01T15:03:47Z", "type": "commit"}]}