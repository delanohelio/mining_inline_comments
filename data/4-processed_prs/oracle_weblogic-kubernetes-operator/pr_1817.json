{"pr_number": 1817, "pr_title": "update WDT version used by domain-in-image samples...", "pr_createdAt": "2020-07-16T20:47:46Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817", "timeline": [{"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b42d6f989e01bc0acdecdb6cb77497a4c71f826b", "message": "update WDT version used by domain-in-image samples and make it configurable", "committedDate": "2020-07-16T20:43:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA3MjAzNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#discussion_r456072037", "bodyText": "Implementation note:\nThe changes in this file only affect the PV path, which is not the main thrust of this pull, but I did this for clarity.\nSpecifically, I moved the 'wdtVersion' initialization for PV down into the else clause to make it more clear that it's only used on the PV path, plus, instead of setting 'wdtVersion' to WDT_VERSION directly (WDT_VERSION is an undocumented setting), I set wdtVersion to come from the 'wdtVersion' env var if (a) it's already been set and (b) WDT_VERSION has not been set.  (If the wdtVersion env var has been set, then it probably came from the inputs file.)\nPhew!", "author": "tbarnes-us", "createdAt": "2020-07-16T20:54:40Z", "path": "kubernetes/samples/scripts/common/utility.sh", "diffHunk": "@@ -389,6 +387,9 @@ function createFiles {\n       sed -i -e \"s|%IMAGE_NAME%|${image}|g\" ${domainPropertiesOutput}\n     fi\n   else\n+    # we're in the domain in PV case\n+\n+    wdtVersion=\"${WDT_VERSION:-${wdtVersion}}\"", "originalCommit": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUzMjQ1MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#discussion_r456532450", "bodyText": "Why would we not want LATEST to be the default?", "author": "mriccell", "createdAt": "2020-07-17T15:59:50Z", "path": "kubernetes/samples/scripts/create-fmw-infrastructure-domain/domain-home-in-image/create-domain-inputs.yaml", "diffHunk": "@@ -142,6 +142,11 @@ domainHomeImageBase: container-registry.oracle.com/middleware/fmw-infrastructure\n # which uses WDT, instead of WLST, to generate the domain configuration.\n domainHomeImageBuildPath: ./docker-images/OracleFMWInfrastructure/samples/12213-domain-home-in-image\n \n+# Uncomment to customize the WebLogic Deploy Tool (WDT) version used by the WDT\n+# \"domain home in image\" Docker image sample in the Docker images project. See\n+# \"domainHomeImageBuildPath\". Set to \"LATEST\" to use the latest version.\n+# wdtVersion: LATEST", "originalCommit": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUzOTMyOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#discussion_r456539329", "bodyText": "This change is already merged.\nThis change implicitly defaults to 1.9.1 since that's what we used in all of the other samples already - presumably because this helps make sure the samples are stable/reproducable.  (I don't document the default here because I assume that'll change over time.)", "author": "tbarnes-us", "createdAt": "2020-07-17T16:12:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUzMjQ1MA=="}], "type": "inlineReview"}]}