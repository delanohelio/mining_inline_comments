{"pr_number": 1891, "pr_title": "create test infrastructure for Apache load balancer", "pr_createdAt": "2020-08-28T22:12:56Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891", "timeline": [{"oid": "9abcc9291b7629566d397b47642f94d4a60a9b1c", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9abcc9291b7629566d397b47642f94d4a60a9b1c", "message": "initial commit", "committedDate": "2020-08-12T23:30:13Z", "type": "commit"}, {"oid": "4b23c1b777b3389a6f9fc08f9a5e54d939213bd8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4b23c1b777b3389a6f9fc08f9a5e54d939213bd8", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-13T16:57:45Z", "type": "commit"}, {"oid": "79569c6c60abd5cc6bee28d77fd02cc7da97f1a8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/79569c6c60abd5cc6bee28d77fd02cc7da97f1a8", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-20T17:06:10Z", "type": "commit"}, {"oid": "308501f889dc129899c45b6f99884cc2723cb509", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/308501f889dc129899c45b6f99884cc2723cb509", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-21T17:00:39Z", "type": "commit"}, {"oid": "bb195cb78bc06ceba4e6ef589b480a8fa2d37d34", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/bb195cb78bc06ceba4e6ef589b480a8fa2d37d34", "message": "apache lb", "committedDate": "2020-08-24T14:43:53Z", "type": "commit"}, {"oid": "88d94c4292879463a0cf34c77ac6322ebf1bf17c", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/88d94c4292879463a0cf34c77ac6322ebf1bf17c", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-24T16:55:24Z", "type": "commit"}, {"oid": "6596ebe80e69d6abc098d278efa11279682cb631", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6596ebe80e69d6abc098d278efa11279682cb631", "message": "add apache tests to ItTwoDomainsLoadBalancers", "committedDate": "2020-08-26T15:29:43Z", "type": "commit"}, {"oid": "aab305c7ec261f594d18f5da4399df97ea9b5d0f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/aab305c7ec261f594d18f5da4399df97ea9b5d0f", "message": "fix apache-webtier chart imagePullSecret", "committedDate": "2020-08-26T19:20:30Z", "type": "commit"}, {"oid": "1ca2582f52650760728d4e91f6371f6457237c4e", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1ca2582f52650760728d4e91f6371f6457237c4e", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-26T20:13:56Z", "type": "commit"}, {"oid": "f9c510964fecb378c522910eb17e5f686cdc9048", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f9c510964fecb378c522910eb17e5f686cdc9048", "message": "get the ItPodsShutdownOption from shutdown3 branch", "committedDate": "2020-08-26T22:32:50Z", "type": "commit"}, {"oid": "f56c7d27300bc92ad3911d487c5519c7869c3eef", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f56c7d27300bc92ad3911d487c5519c7869c3eef", "message": "change imagePullPolicy to Always", "committedDate": "2020-08-27T05:49:57Z", "type": "commit"}, {"oid": "eebad12ebc50579296fa74212dff2be0f0a5d74e", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/eebad12ebc50579296fa74212dff2be0f0a5d74e", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-27T16:20:04Z", "type": "commit"}, {"oid": "75f26c1a99a1c93420aa1e0fe0779d1c558ea1e8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/75f26c1a99a1c93420aa1e0fe0779d1c558ea1e8", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-08-27T16:28:57Z", "type": "commit"}, {"oid": "5c6d6bd024e6a1f18a0d8f0ff8a6650a242eb452", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5c6d6bd024e6a1f18a0d8f0ff8a6650a242eb452", "message": "push the apache image to Kind repo", "committedDate": "2020-08-27T20:33:32Z", "type": "commit"}, {"oid": "ac942b8a87db6bfdbef5f65901dcdcbddda73ceb", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ac942b8a87db6bfdbef5f65901dcdcbddda73ceb", "message": "add debug info for REPO_REGISTRY etc in Kind new", "committedDate": "2020-08-27T21:50:07Z", "type": "commit"}, {"oid": "e113b422430c65498e2aec7fc222b1c29289dcbe", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e113b422430c65498e2aec7fc222b1c29289dcbe", "message": "get the latest develop", "committedDate": "2020-08-27T21:52:17Z", "type": "commit"}, {"oid": "5ab3b3d353b7d7ee419b50f091be7cad6cd4b373", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5ab3b3d353b7d7ee419b50f091be7cad6cd4b373", "message": "remoe pull image from ocir and push to kind repo", "committedDate": "2020-08-27T22:35:25Z", "type": "commit"}, {"oid": "16d521843fded7b1f6d38e7e2589d663be17d4c8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/16d521843fded7b1f6d38e7e2589d663be17d4c8", "message": "enable pull apache image from ocir and push to kind new", "committedDate": "2020-08-28T14:54:44Z", "type": "commit"}, {"oid": "f1294ffa95f12e56359729a780d2a3bc975d0c64", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f1294ffa95f12e56359729a780d2a3bc975d0c64", "message": "cleanup", "committedDate": "2020-08-28T19:15:51Z", "type": "commit"}, {"oid": "9ad4a3b108e424b2af503db7540e071621dca7c2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9ad4a3b108e424b2af503db7540e071621dca7c2", "message": "move OCR login to test", "committedDate": "2020-08-31T18:36:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDMyMzY1OQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480323659", "bodyText": "any specific reason for using version in the constant name? can it be APACHE_IMAGE_NAME so that the constant name doesn't need to be changed if the version is different?", "author": "vanajamukkara", "createdAt": "2020-08-31T18:53:57Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/TestConstants.java", "diffHunk": "@@ -93,7 +93,12 @@\n   public static final String VOYAGER_CHART_NAME = \"voyager\";\n   public static final String VOYAGER_CHART_VERSION = \"12.0.0\";\n \n-  // ELK Stack and WebLogic Logging Exporter constants\n+  // Apache constants\n+  public static final String APACHE_IMAGE_12213 = \"phx.ocir.io/weblogick8s/oracle/apache:12.2.1.3\";", "originalCommit": "9ad4a3b108e424b2af503db7540e071621dca7c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NTgyNg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480475826", "bodyText": "fixed", "author": "xiancao", "createdAt": "2020-08-31T23:43:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDMyMzY1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM0MzM4NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480343384", "bodyText": "log a message, logger.info(\"curl request {0}\", curlRequest);", "author": "vanajamukkara", "createdAt": "2020-08-31T19:22:14Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItTwoDomainsLoadBalancers.java", "diffHunk": "@@ -1308,34 +1443,25 @@ private void verifyClusterLoadbalancing(String domainUid, String protocol, int l\n     // verify each managed server can see other member in the cluster\n     verifyServerCommunication(curlRequest, managedServers);\n \n-    boolean hostRouting = false;\n-    //access application in managed servers through Traefik load balancer and bind domain in the JNDI tree\n+    boolean containsCorrectDomainUid = false;\n     logger.info(\"Verifying the requests are routed to correct domain and cluster\");\n-    String curlCmd = String.format(\"curl --silent --show-error -ks --noproxy '*' \"\n-            + \"-H 'host: %s' %s://%s:%s/clusterview/ClusterViewServlet\"\n-            + \"\\\"?user=\" + ADMIN_USERNAME_DEFAULT\n-            + \"&password=\" + ADMIN_PASSWORD_DEFAULT + \"\\\"\",\n-        domainUid + \".\" + defaultNamespace + \".\" + \"cluster-1.test\", protocol, K8S_NODEPORT_HOST, lbPort, domainUid);\n-\n-    // call the webapp and verify the bound domain name to determine\n-    // the requests are sent to the correct cluster members.\n     for (int i = 0; i < 10; i++) {\n       ExecResult result;\n       try {\n-        logger.info(curlCmd);\n-        result = ExecCommand.exec(curlCmd, true);\n+        logger.info(curlRequest);", "originalCommit": "9ad4a3b108e424b2af503db7540e071621dca7c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NTg1OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480475858", "bodyText": "fixed", "author": "xiancao", "createdAt": "2020-08-31T23:43:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM0MzM4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1MDg4Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480350883", "bodyText": "what is default sample?", "author": "vanajamukkara", "createdAt": "2020-08-31T19:30:21Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItTwoDomainsLoadBalancers.java", "diffHunk": "@@ -412,7 +469,43 @@ public void testVoyagerHostHttpRoutingAcrossDomains() {\n     logger.info(\"Verifying http traffic\");\n     for (String domainUid : domainUids) {\n       String ingressName = domainUid + \"-ingress-host-routing\";\n-      verifyClusterLoadbalancing(domainUid, \"http\", getVoyagerLbNodePort(ingressName));\n+      verifyClusterLoadbalancing(domainUid, defaultNamespace, \"http\", getVoyagerLbNodePort(ingressName),\n+          replicaCount, true, \"\");\n+    }\n+  }\n+\n+  /**\n+   * Verify Apache load balancer default sample through HTTP channel.", "originalCommit": "9ad4a3b108e424b2af503db7540e071621dca7c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NTkxMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480475912", "bodyText": "added more doc", "author": "xiancao", "createdAt": "2020-08-31T23:43:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1MDg4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1MTIyMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480351221", "bodyText": "what is custom sample? explain the use case", "author": "vanajamukkara", "createdAt": "2020-08-31T19:30:45Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItTwoDomainsLoadBalancers.java", "diffHunk": "@@ -412,7 +469,43 @@ public void testVoyagerHostHttpRoutingAcrossDomains() {\n     logger.info(\"Verifying http traffic\");\n     for (String domainUid : domainUids) {\n       String ingressName = domainUid + \"-ingress-host-routing\";\n-      verifyClusterLoadbalancing(domainUid, \"http\", getVoyagerLbNodePort(ingressName));\n+      verifyClusterLoadbalancing(domainUid, defaultNamespace, \"http\", getVoyagerLbNodePort(ingressName),\n+          replicaCount, true, \"\");\n+    }\n+  }\n+\n+  /**\n+   * Verify Apache load balancer default sample through HTTP channel.\n+   */\n+  @Order(8)\n+  @Test\n+  @DisplayName(\"verify Apache load balancer default sample through HTTP channel\")\n+  public void testApacheDefaultSample() {\n+\n+    // verify Apache default sample\n+    logger.info(\"Verifying Apache default sample\");\n+    int httpNodePort = getApacheNodePort(domain1Namespace, \"http\");\n+    verifyClusterLoadbalancing(domain1Uid, domain1Namespace, \"http\", httpNodePort, 3, false, \"/weblogic\");\n+  }\n+\n+  /**\n+   * Verify Apache load balancer custom sample through HTTP and HTTPS channel.", "originalCommit": "9ad4a3b108e424b2af503db7540e071621dca7c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NTk2Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480475962", "bodyText": "added more doc", "author": "xiancao", "createdAt": "2020-08-31T23:43:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1MTIyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1NjM3Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480356377", "bodyText": "are these values going to be replaced?", "author": "vanajamukkara", "createdAt": "2020-08-31T19:38:42Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/CommonTestUtils.java", "diffHunk": "@@ -605,6 +612,172 @@ public static HelmParams installAndVerifyVoyager(String voyagerNamespace,\n     return voyagerHelmParams;\n   }\n \n+  /**\n+   * Install Apache and wait up to five minutes until the Apache pod is ready.\n+   *\n+   * @param apacheNamespace the namespace in which the Apache will be installed\n+   * @param image the image name of Apache webtier\n+   * @param httpNodePort the http nodeport of Apache\n+   * @param httpsNodePort the https nodeport of Apache\n+   * @param domainUid the uid of the domain to which Apache will route the services\n+   * @return the Apache Helm installation parameters\n+   */\n+  public static HelmParams installAndVerifyApache(String apacheNamespace,\n+                                                  String image,\n+                                                  int httpNodePort,\n+                                                  int httpsNodePort,\n+                                                  String domainUid) throws IOException {\n+    return installAndVerifyApache(apacheNamespace, image, httpNodePort, httpsNodePort, domainUid,\n+        null, null, null);\n+  }\n+\n+  /**\n+   * Install Apache and wait up to five minutes until the Apache pod is ready.\n+   *\n+   * @param apacheNamespace the namespace in which the Apache will be installed\n+   * @param image the image name of Apache webtier\n+   * @param httpNodePort the http nodeport of Apache\n+   * @param httpsNodePort the https nodeport of Apache\n+   * @param domainUid the uid of the domain to which Apache will route the services\n+   * @param volumePath the path to put your own custom_mod_wl_apache.conf file\n+   * @param virtualHostName the VirtualHostName of the Apache HTTP server which is used to enable custom SSL config\n+   * @param clusterNamePortMap the map with clusterName as key and cluster port number as value\n+   * @return the Apache Helm installation parameters\n+   */\n+  public static HelmParams installAndVerifyApache(String apacheNamespace,\n+                                                  String image,\n+                                                  int httpNodePort,\n+                                                  int httpsNodePort,\n+                                                  String domainUid,\n+                                                  String volumePath,\n+                                                  String virtualHostName,\n+                                                  LinkedHashMap<String, String> clusterNamePortMap)\n+      throws IOException {\n+\n+    LoggingFacade logger = getLogger();\n+\n+    // Create Docker registry secret in the apache namespace to pull the Apache webtier image from repository\n+    if (!secretExists(REPO_SECRET_NAME, apacheNamespace)) {\n+      logger.info(\"Creating Docker registry secret in namespace {0}\", apacheNamespace);\n+      createDockerRegistrySecret(apacheNamespace);\n+    }\n+\n+    // map with secret\n+    Map<String, Object> secretNameMap = new HashMap<>();\n+    secretNameMap.put(\"name\", REPO_SECRET_NAME);\n+\n+    // Helm install parameters\n+    HelmParams apacheHelmParams = new HelmParams()\n+        .releaseName(APACHE_RELEASE_NAME + \"-\" + apacheNamespace.substring(3))\n+        .namespace(apacheNamespace)\n+        .chartDir(APACHE_SAMPLE_CHART_DIR);\n+\n+    // Apache chart values to override\n+    ApacheParams apacheParams = new ApacheParams()\n+        .helmParams(apacheHelmParams)\n+        .imagePullSecrets(secretNameMap)\n+        .image(image)\n+        .imagePullPolicy(\"Always\")\n+        .domainUID(domainUid);\n+\n+    if (httpNodePort >= 0 && httpsNodePort >= 0) {\n+      apacheParams\n+          .httpNodePort(httpNodePort)\n+          .httpsNodePort(httpsNodePort);\n+    }\n+\n+    if (volumePath != null && clusterNamePortMap != null) {\n+      // create a custom Apache plugin configuration file named custom_mod_wl_apache.conf\n+      Path customConf = Paths.get(volumePath, \"custom_mod_wl_apache.conf\");\n+      ArrayList<String> lines = new ArrayList<>();\n+      lines.add(\"<IfModule mod_weblogic.c>\");\n+      lines.add(\"WebLogicHost ${WEBLOGIC_HOST}\");", "originalCommit": "9ad4a3b108e424b2af503db7540e071621dca7c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1Njg3NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480356874", "bodyText": "add more comments in this method to explain how it works", "author": "vanajamukkara", "createdAt": "2020-08-31T19:39:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1NjM3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NjE0Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r480476146", "bodyText": "this is not going to be replaced.\nAlso added more comments in the code.", "author": "xiancao", "createdAt": "2020-08-31T23:44:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1NjM3Nw=="}], "type": "inlineReview"}, {"oid": "39e5e8fb9a54cf744d8b255d3dbaf05e3d3375a8", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/39e5e8fb9a54cf744d8b255d3dbaf05e3d3375a8", "message": "address Vanaja's comments", "committedDate": "2020-08-31T23:21:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM0MjU1OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r481342558", "bodyText": "We should not put any open ended question in the  test description, rather says for fin cluster we need to follow these steps.", "author": "anpanigr", "createdAt": "2020-09-01T18:21:16Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItTwoDomainsLoadBalancers.java", "diffHunk": "@@ -244,6 +256,34 @@ public static void initAll(@Namespaces(6) List<String> namespaces) {\n       logger.info(\"Using image {0}\", kindRepoImage);\n       image = kindRepoImage;\n       isUseSecret = false;\n+\n+      // We do not know why the kind clusters can't pull Apache webtier image from OCIR using the image pull secret.", "originalCommit": "39e5e8fb9a54cf744d8b255d3dbaf05e3d3375a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM0NTI5Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r481345293", "bodyText": "Do not put open ended question in description on publicly available class.", "author": "anpanigr", "createdAt": "2020-09-01T18:26:22Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/extensions/ImageBuilders.java", "diffHunk": "@@ -133,6 +135,44 @@ public void beforeAll(ExtensionContext context) {\n         assertFalse(operatorImage.isEmpty(), \"Image name can not be empty\");\n         assertTrue(Operator.buildImage(operatorImage), \"docker build failed for Operator\");\n \n+        // docker login to OCR if OCR_USERNAME and OCR_PASSWORD is provided in env var\n+        if (!OCR_USERNAME.equals(REPO_DUMMY_VALUE)) {\n+          withStandardRetryPolicy\n+              .conditionEvaluationListener(\n+                  condition -> logger.info(\"Waiting for docker login to be successful\"\n+                          + \"(elapsed time {0} ms, remaining time {1} ms)\",\n+                      condition.getElapsedTimeInMS(),\n+                      condition.getRemainingTimeInMS()))\n+              .until(() -> dockerLogin(OCR_REGISTRY, OCR_USERNAME, OCR_PASSWORD));\n+        }\n+\n+        // The following code is for pulling WLS images if running tests in Kind cluster\n+        if (KIND_REPO != null) {\n+          // We can't figure out why the kind clusters can't pull images from OCR using the image pull secret. There", "originalCommit": "39e5e8fb9a54cf744d8b255d3dbaf05e3d3375a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1Mjc2MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r481352760", "bodyText": "This was added by Ryan. @xiancao please change the wording to\nkind clusters can't pull the images from OCR using the image pull secret....", "author": "vanajamukkara", "createdAt": "2020-09-01T18:40:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM0NTI5Mw=="}], "type": "inlineReview"}, {"oid": "fb94ffbea7981ea252c07814412012ba742a570b", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fb94ffbea7981ea252c07814412012ba742a570b", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-owls81606", "committedDate": "2020-09-01T19:02:32Z", "type": "commit"}, {"oid": "69c7c22d25b7481ee49227db9d22e39727a784f0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/69c7c22d25b7481ee49227db9d22e39727a784f0", "message": "address Pani's comments", "committedDate": "2020-09-01T19:10:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM3NTI5Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1891#discussion_r481375292", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      // The kind clusters can't pull images from OCR using the image pull secret. \n          \n          \n            \n                      // The kind clusters can't pull images from OCR using the image pull secret. It may be a containerd bug, we are going to workaround the issue", "author": "vanajamukkara", "createdAt": "2020-09-01T19:17:25Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/extensions/ImageBuilders.java", "diffHunk": "@@ -148,8 +148,7 @@ public void beforeAll(ExtensionContext context) {\n \n         // The following code is for pulling WLS images if running tests in Kind cluster\n         if (KIND_REPO != null) {\n-          // We can't figure out why the kind clusters can't pull images from OCR using the image pull secret. There\n-          // is some evidence it may be a containerd bug. Therefore, we are going to \"give up\" and workaround the issue.\n+          // The kind clusters can't pull images from OCR using the image pull secret. ", "originalCommit": "69c7c22d25b7481ee49227db9d22e39727a784f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "485b2fa886ae809e7e8c43714697f2d941d900d2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/485b2fa886ae809e7e8c43714697f2d941d900d2", "message": "address Vanaja's comments", "committedDate": "2020-09-01T19:32:47Z", "type": "commit"}]}