{"pr_number": 1938, "pr_title": "Nightly intermittent failure in operator restart test", "pr_createdAt": "2020-09-22T15:32:56Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938", "timeline": [{"oid": "2851f93297f49f051727f541ccd107ae0eef5b38", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2851f93297f49f051727f541ccd107ae0eef5b38", "message": "wait till admin pod has restarted instead of pod deleted", "committedDate": "2020-09-21T21:25:26Z", "type": "commit"}, {"oid": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cc5b9ecc114bac769f1efc1cdbf26acda5d443cc", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into fixoperatorrestarttest", "committedDate": "2020-09-22T15:30:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY3MTkzNQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#discussion_r493671935", "bodyText": "The test case, as its name indicated, is intended to test operator restart DURING the managed servers are rolling-restarted. This change made it testing operator restart AFTER the managed servers' rolling-restart completes.", "author": "doxiao", "createdAt": "2020-09-23T15:09:21Z", "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItOperatorRestart.java", "diffHunk": "@@ -289,10 +290,11 @@ public void testOperatorRestartWhenPodRoll() {\n         replicaCount,\n         adminSecretName);\n \n-    // wait till rolling restart has started by checking admin server pod is deleted\n-    logger.info(\"Waiting for rolling restart to start by checking {0} pod is deleted in namespace {0}\",\n+    // wait till rolling restart has started by checking admin server pod has restarted", "originalCommit": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzczNTA2Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#discussion_r493735063", "bodyText": "For the rolling restart, first admin pod is restarted and then managed server pods, so here the test waits for the admin pod to be restarted and then restarts operator while the managed servers are getting rolled.", "author": "vanajamukkara", "createdAt": "2020-09-23T16:38:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY3MTkzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc0NzcxNA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#discussion_r493747714", "bodyText": "I think that makes sense. thanks.", "author": "doxiao", "createdAt": "2020-09-23T16:58:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY3MTkzNQ=="}], "type": "inlineReview"}]}