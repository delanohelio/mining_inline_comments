{"pr_number": 1653, "pr_title": "Improve introspector 'mixed cluster' error messages... ", "pr_createdAt": "2020-05-15T17:56:33Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653", "timeline": [{"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/90dd087fa648ae18735ab2930b2fc5f0a267bf81", "message": "Improve introspector 'mixed cluster' error messsages. Other minor changes to introspector.", "committedDate": "2020-05-15T17:54:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2MTA2Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425961067", "bodyText": "This is one of two mixed cluster checks ^^^.", "author": "tbarnes-us", "createdAt": "2020-05-15T17:57:40Z", "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -575,19 +575,19 @@ def validateDynamicClusterReferencedByOneServerTemplate(self, cluster):\n           server_template = template\n         else:\n           if server_template is not None:\n-            self.addError(\"The dynamic cluster \" + self.name(cluster) + \" is referenced the server template \" + self.name(server_template) + \" and the server template \" + self.name(template) + \".\")\n+            self.addError(\"The dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced the server template \" + self.name(server_template) + \" and the server template \" + self.name(template) + \".\")\n             return\n     if server_template is None:\n-      self.addError(\"The dynamic cluster \" + self.name(cluster) + \"' is not referenced by any server template.\")\n+      self.addError(\"The dynamic WebLogic cluster \" + self.name(cluster) + \"' is not referenced by any server template.\")\n \n   def validateDynamicClusterNotReferencedByAnyServers(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n-        self.addError(\"The dynamic cluster \" + self.name(cluster) + \" is referenced by the server \" + self.name(server) + \".\")\n+        self.addError(\"The dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced by configured server \" + self.name(server) + \", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and non-dynamic (configured) servers.\")", "originalCommit": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2MjA1NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425962055", "bodyText": "This is one of two 'mixed cluster' checks ^^^.", "author": "tbarnes-us", "createdAt": "2020-05-15T17:59:35Z", "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -448,12 +448,12 @@ def validateNonDynamicClusterReferencedByAtLeastOneServer(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n         return\n-    self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n+    self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n \n   def validateNonDynamicClusterNotReferencedByAnyServerTemplates(self, cluster):\n     for template in self.env.getDomain().getServerTemplates():\n       if self.env.getClusterOrNone(template) is cluster:\n-        self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \".\")\n+        self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and non-dynamic (configured) servers.\")", "originalCommit": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Mzk5Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425973997", "bodyText": "The correct term here would be, \"WebLogic dynamic clusters\" ( as opposed to WebLogic configured clusters), not \"Dynamic WebLogic clusters.\" (Please make this correction globally.)", "author": "rosemarymarano", "createdAt": "2020-05-15T18:23:58Z", "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -434,7 +434,7 @@ def validateCluster(self, cluster):\n       self.validateNonDynamicCluster(cluster)\n     else:\n       if self.env.isFMWInfraDomain() and not self.env.allowDynamicClusterInFMWInfraDomain():\n-        self.addError(\"Dynamic clusters are not supported in FMW Infrastructure domains. Set ALLOW_DYNAMIC_CLUSTER_IN_FMW environment variable to true to bypass this validation.\")\n+        self.addError(\"Dynamic WebLogic clusters are not supported in FMW Infrastructure domains. Set ALLOW_DYNAMIC_CLUSTER_IN_FMW environment variable to true to bypass this validation.\")", "originalCommit": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjAxMjA3Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r426012073", "bodyText": "done", "author": "tbarnes-us", "createdAt": "2020-05-15T19:43:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Mzk5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NTA1NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425975054", "bodyText": "The WLS documentation does not use the term \"non-dynamic\" cluster (and I don't think that we should either), only dynamic or configured, https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/clust/dynamic_clusters.html#GUID-DA7F7FAD-49AA-4F3D-8A05-0D9921B96971.", "author": "rosemarymarano", "createdAt": "2020-05-15T18:26:09Z", "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -448,12 +448,12 @@ def validateNonDynamicClusterReferencedByAtLeastOneServer(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n         return\n-    self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n+    self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")", "originalCommit": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjAxMjAxOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r426012019", "bodyText": "done", "author": "tbarnes-us", "createdAt": "2020-05-15T19:43:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NTA1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NTU3OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425975578", "bodyText": "There is a concept of a \"mixed cluster\" (see docs), but not non-dynamic. (Please make this correction globally.)", "author": "rosemarymarano", "createdAt": "2020-05-15T18:27:13Z", "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -448,12 +448,12 @@ def validateNonDynamicClusterReferencedByAtLeastOneServer(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n         return\n-    self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n+    self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n \n   def validateNonDynamicClusterNotReferencedByAnyServerTemplates(self, cluster):\n     for template in self.env.getDomain().getServerTemplates():\n       if self.env.getClusterOrNone(template) is cluster:\n-        self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \".\")\n+        self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and non-dynamic (configured) servers.\")", "originalCommit": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjAxMTk2MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r426011961", "bodyText": "done", "author": "tbarnes-us", "createdAt": "2020-05-15T19:43:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NTU3OA=="}], "type": "inlineReview"}, {"oid": "7c01cf0254f8b60f240ee39a42304bf20301bf07", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7c01cf0254f8b60f240ee39a42304bf20301bf07", "message": "introspectDomain.py log messages: editor recommended edits", "committedDate": "2020-05-15T19:43:23Z", "type": "commit"}, {"oid": "e22d378ee806f08d960a18b00956aeb73ecf6e52", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e22d378ee806f08d960a18b00956aeb73ecf6e52", "message": "mixed cluster note in user guide's managing domains section", "committedDate": "2020-05-15T20:13:02Z", "type": "commit"}]}