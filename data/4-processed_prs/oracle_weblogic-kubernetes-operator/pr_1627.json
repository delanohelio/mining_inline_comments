{"pr_number": 1627, "pr_title": "OWLS-80960 - Allow replicas count to drop below min dynamic cluster size", "pr_createdAt": "2020-05-06T16:57:39Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627", "timeline": [{"oid": "7f98c76bcf7eb09915c302507c6fe7691ca5a5b2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7f98c76bcf7eb09915c302507c6fe7691ca5a5b2", "message": "introduce new Cluster element allowReplicasBelowMinDynClusterSize", "committedDate": "2020-05-05T23:02:51Z", "type": "commit"}, {"oid": "fc53d4dff036333a5536b7fc5ca64fe37723fc14", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fc53d4dff036333a5536b7fc5ca64fe37723fc14", "message": "description fix", "committedDate": "2020-05-06T01:10:32Z", "type": "commit"}, {"oid": "a66620479a7ba46bcc78aa3ef2ed00c2078946d5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a66620479a7ba46bcc78aa3ef2ed00c2078946d5", "message": "unit test", "committedDate": "2020-05-06T16:29:31Z", "type": "commit"}, {"oid": "aa709ae3a21cfe26d6e5116730bb84d72423998b", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/aa709ae3a21cfe26d6e5116730bb84d72423998b", "message": "update description for allowReplicasBelowMinDynClusterSize", "committedDate": "2020-05-06T16:30:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk1NDI3Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r420954277", "bodyText": "If true (the default), the number -> If true (the default), then the number\nthat the number of replicas is not below the minimum dynamic cluster -> that the number of replicas is not less than the minimum dynamic cluster setting. OR ->\nthat the number of replicas is not less than the configured minimum dynamic cluster size.", "author": "rosemarymarano", "createdAt": "2020-05-06T17:11:39Z", "path": "docs/domains/Domain.md", "diffHunk": "@@ -77,6 +77,7 @@ An element representing a cluster in the domain configuration.\n \n | Name | Type | Description |\n | --- | --- | --- |\n+| `allowReplicasBelowMinDynClusterSize` | Boolean | If true (the default), the number of replicas is allowed to drop below the minimum dynamic cluster size configured in the WebLogic domain home configuration. Otherwise, the operator will ensure that the number of replicas is not below the minimum dynamic cluster. This setting applies to dynamic clusters only. |", "originalCommit": "aa709ae3a21cfe26d6e5116730bb84d72423998b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk3MDA5Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r420970093", "bodyText": "Thanks for the comment. I have updated the description to:\nIf true (the default), then the number of replicas is allowed to drop below the minimum dynamic cluster size configured in the WebLogic domain home configuration. Otherwise, the operator will ensure that the number of replicas is not less than the minimum dynamic cluster setting. This setting applies to dynamic clusters only.", "author": "alai8", "createdAt": "2020-05-06T17:36:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk1NDI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk1NzgwOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r420957809", "bodyText": "If true (the default), the number -> If true (the default), then the number\nthat the number of replicas is not below the minimum dynamic cluster -> that the number of replicas is not less than the minimum dynamic cluster setting. OR ->\nthat the number of replicas is not less than the configured minimum dynamic cluster size.", "author": "rosemarymarano", "createdAt": "2020-05-06T17:16:58Z", "path": "docs/domains/index.html", "diffHunk": "@@ -1029,6 +1029,10 @@\n           \"description\": \"The name of this cluster. Required\",\n           \"type\": \"string\"\n         },\n+        \"allowReplicasBelowMinDynClusterSize\": {", "originalCommit": "aa709ae3a21cfe26d6e5116730bb84d72423998b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk3MDI3NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r420970275", "bodyText": "ditto", "author": "alai8", "createdAt": "2020-05-06T17:36:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk1NzgwOQ=="}], "type": "inlineReview"}, {"oid": "19bc2a38ab1cca061c0f11ff71e0f447efea3393", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/19bc2a38ab1cca061c0f11ff71e0f447efea3393", "message": "minor edits to description", "committedDate": "2020-05-06T17:34:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA5OTgyNg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r421099826", "bodyText": "Should this also be a global setting?  On the one hand, it's extra work and I'm not sure if the extra work is worth it at this time. On the other hand, there's precedent where 'replicas' itself is both global and per-cluster.\nOne way to handle this would be check-in 'as-is' and file a JIRA to add a global setting...", "author": "tbarnes-us", "createdAt": "2020-05-06T21:20:52Z", "path": "docs/domains/Domain.json", "diffHunk": "@@ -109,6 +109,10 @@\n           \"description\": \"The name of this cluster. Required\",\n           \"type\": \"string\"\n         },\n+        \"allowReplicasBelowMinDynClusterSize\": {", "originalCommit": "19bc2a38ab1cca061c0f11ff71e0f447efea3393", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTEwMzIyNA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r421103224", "bodyText": "Filed OWLS-81769", "author": "alai8", "createdAt": "2020-05-06T21:27:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA5OTgyNg=="}], "type": "inlineReview"}]}