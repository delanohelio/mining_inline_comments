{"pr_number": 1818, "pr_title": "Clarify 2.6.0 upgrade instructions", "pr_createdAt": "2020-07-17T15:22:34Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818", "timeline": [{"oid": "011e6eba3fb0239321399d0909b383a5ce483729", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/011e6eba3fb0239321399d0909b383a5ce483729", "message": "Clarify 2.6.0 upgrade instructions", "committedDate": "2020-07-17T15:17:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUyMjUzNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456522537", "bodyText": "It is missing these two important features/certifications\nOLCNE 1.1 certification,\nFor Domain Home on PV added the ability to apply topology changes to the domain which the Operator can now uptake without requiring any downtime.", "author": "mriccell", "createdAt": "2020-07-17T15:42:08Z", "path": "docs-source/content/release-notes.md", "diffHunk": "@@ -8,7 +8,7 @@ draft: false\n \n | Date | Version | Introduces backward incompatibilities | Change |\n | --- | --- | --- | --- |\n-| July 1, 2020 | v3.0.0 | yes | Adds Model in Image feature and support for Istio. Removal of support for Helm 2.x. Operator performance improvements to manage many domains in the same Kubernetes cluster. |\n+| July 17, 2020 | v3.0.0 | yes | Adds Model in Image feature and support for Istio. Removal of support for Helm 2.x. Operator performance improvements to manage many domains in the same Kubernetes cluster. |", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUyNDYwOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456524609", "bodyText": "We added this to the 2.6.0 release notes, \"Certified support of Oracle Linux Cloud Native Environment (OLCNE) 1.1 with Kubernetes 1.17.0.\"", "author": "rosemarymarano", "createdAt": "2020-07-17T15:45:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUyMjUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUzOTcxMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456539713", "bodyText": "Monica, I'll add a statement about applying topology changes. Is it okay that the OLCNE certification is just on the 2.6.0 release? It's okay with me if we copy it over.", "author": "rjeberhard", "createdAt": "2020-07-17T16:13:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUyMjUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU0MTIwMA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456541200", "bodyText": "yes", "author": "mriccell", "createdAt": "2020-07-17T16:16:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUyMjUzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxNTIwMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456515202", "bodyText": "Slightly simpler wording if you state, \"You can replace a 2.6.0 operator with a 3.x operator without needing to recreate any existing domains\"", "author": "rosemarymarano", "createdAt": "2020-07-17T15:29:15Z", "path": "docs-source/content/_index.md", "diffHunk": "@@ -24,11 +24,12 @@ using the operator to deploy and run a WebLogic domain container-packaged web ap\n #### Current production release\n \n The [current release of the operator](https://github.com/oracle/weblogic-kubernetes-operator/releases) is 3.0.0.\n-This release was published on July 1, 2020. See the operator prerequisites and supported environments [here]({{< relref \"/userguide/introduction/introduction#operator-prerequisites\" >}}).\n+This release was published on July 17, 2020. See the operator prerequisites and supported environments [here]({{< relref \"/userguide/introduction/introduction#operator-prerequisites\" >}}).\n \n-This release introduces _non-backward compatible_ changes; however, this release can be run in the same\n-cluster as the 2.6.0 version of the operator allowing for staged migration.  You can also upgrade from 2.6.0 to 3.0.0 without needing to restart or recreate\n-any existing domains.\n+This release introduces _non-backward compatible_ changes; however, operators using this release can be run in the same\n+Kubernetes cluster as operators using the 2.6.0 version allowing for staged migration.  You can replace an operator using 2.6.0 with an operator using a 3.x release without needing to recreate", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxNjUxNQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456516515", "bodyText": "and then install this version -> (here I would suggest stating the version) and then install the 3.x version", "author": "rosemarymarano", "createdAt": "2020-07-17T15:31:22Z", "path": "docs-source/content/_index.md", "diffHunk": "@@ -24,11 +24,12 @@ using the operator to deploy and run a WebLogic domain container-packaged web ap\n #### Current production release\n \n The [current release of the operator](https://github.com/oracle/weblogic-kubernetes-operator/releases) is 3.0.0.\n-This release was published on July 1, 2020. See the operator prerequisites and supported environments [here]({{< relref \"/userguide/introduction/introduction#operator-prerequisites\" >}}).\n+This release was published on July 17, 2020. See the operator prerequisites and supported environments [here]({{< relref \"/userguide/introduction/introduction#operator-prerequisites\" >}}).\n \n-This release introduces _non-backward compatible_ changes; however, this release can be run in the same\n-cluster as the 2.6.0 version of the operator allowing for staged migration.  You can also upgrade from 2.6.0 to 3.0.0 without needing to restart or recreate\n-any existing domains.\n+This release introduces _non-backward compatible_ changes; however, operators using this release can be run in the same\n+Kubernetes cluster as operators using the 2.6.0 version allowing for staged migration.  You can replace an operator using 2.6.0 with an operator using a 3.x release without needing to recreate\n+any existing domains; however, you must delete the 2.6.0 Helm release and then install this version rather than using a Helm upgrade. When the 3.x operator starts, it will roll any running WebLogic Server instances", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxNzMyMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456517321", "bodyText": "can not -> cannot (one word)", "author": "rosemarymarano", "createdAt": "2020-07-17T15:32:44Z", "path": "docs-source/content/userguide/managing-operators/installation/_index.md", "diffHunk": "@@ -86,6 +86,30 @@ $ helm install weblogic-operator weblogic-operator/weblogic-operator\n \n #### Upgrade the operator\n \n+{{% notice note %}}\n+Because operator 3.0.0 introduces _non-backward compatible_ changes, you can not use `helm upgrade` to upgrade", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxODcwMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456518703", "bodyText": "(Again, here I would suggest the less verbose way of describing these operator versions)  -> a 2.6.0 operator to a 3.0.0 operator", "author": "rosemarymarano", "createdAt": "2020-07-17T15:35:12Z", "path": "docs-source/content/userguide/managing-operators/installation/_index.md", "diffHunk": "@@ -86,6 +86,30 @@ $ helm install weblogic-operator weblogic-operator/weblogic-operator\n \n #### Upgrade the operator\n \n+{{% notice note %}}\n+Because operator 3.0.0 introduces _non-backward compatible_ changes, you can not use `helm upgrade` to upgrade\n+an operator using 2.6.0 to an operator using 3.0.0. Instead, you must delete the 2.6.0 operator and then install the", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxOTE5Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456519196", "bodyText": "installed -> installed, (comma)", "author": "rosemarymarano", "createdAt": "2020-07-17T15:36:05Z", "path": "docs-source/content/userguide/managing-operators/installation/_index.md", "diffHunk": "@@ -86,6 +86,30 @@ $ helm install weblogic-operator weblogic-operator/weblogic-operator\n \n #### Upgrade the operator\n \n+{{% notice note %}}\n+Because operator 3.0.0 introduces _non-backward compatible_ changes, you can not use `helm upgrade` to upgrade\n+an operator using 2.6.0 to an operator using 3.0.0. Instead, you must delete the 2.6.0 operator and then install the\n+3.0.0 operator. \n+\n+The deletion of the 2.6.0 operator will _not affect_ the Domain CustomResourceDefinition (CRD) and will _not stop_ any\n+WebLogic Server instances already running.\n+\n+When the 3.0.0 operator is installed it will automatically roll any running WebLogic Server instances created by the 2.6.0 operator.", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUyMDkzNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1818#discussion_r456520937", "bodyText": "rolling -> rolling restart", "author": "rosemarymarano", "createdAt": "2020-07-17T15:39:17Z", "path": "docs-source/content/userguide/managing-operators/installation/_index.md", "diffHunk": "@@ -86,6 +86,30 @@ $ helm install weblogic-operator weblogic-operator/weblogic-operator\n \n #### Upgrade the operator\n \n+{{% notice note %}}\n+Because operator 3.0.0 introduces _non-backward compatible_ changes, you can not use `helm upgrade` to upgrade\n+an operator using 2.6.0 to an operator using 3.0.0. Instead, you must delete the 2.6.0 operator and then install the\n+3.0.0 operator. \n+\n+The deletion of the 2.6.0 operator will _not affect_ the Domain CustomResourceDefinition (CRD) and will _not stop_ any\n+WebLogic Server instances already running.\n+\n+When the 3.0.0 operator is installed it will automatically roll any running WebLogic Server instances created by the 2.6.0 operator.\n+This rolling will preserve WebLogic cluster availability guarantees (for clustered members only) similarly to any other rolling.", "originalCommit": "011e6eba3fb0239321399d0909b383a5ce483729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bd392ca5c360640f2b22c559148ef0bb9b449dea", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/bd392ca5c360640f2b22c559148ef0bb9b449dea", "message": "Review comments", "committedDate": "2020-07-17T16:36:12Z", "type": "commit"}]}