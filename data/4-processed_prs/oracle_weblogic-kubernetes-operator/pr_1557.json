{"pr_number": 1557, "pr_title": "cleanup.sh:  add fast WL pod exit, --force phase, backgrounding, and --timeout", "pr_createdAt": "2020-04-11T18:40:21Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1557", "timeline": [{"oid": "c78b4641c88c6fe2739b4f10a475d98f4a5cb5c7", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c78b4641c88c6fe2739b4f10a475d98f4a5cb5c7", "message": "add --force delete phase to cleanup.sh", "committedDate": "2020-04-11T18:34:13Z", "type": "commit"}, {"oid": "f35541ca6f980bcf3c92921d0d663fc718256fcb", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f35541ca6f980bcf3c92921d0d663fc718256fcb", "message": "set timeout in cleanup.sh", "committedDate": "2020-04-11T22:03:11Z", "type": "commit"}, {"oid": "dd5d395c9c9be834020ce15ecf465f966a2ba5b9", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dd5d395c9c9be834020ce15ecf465f966a2ba5b9", "message": "fix typo in --timeout parameter for kubectl delete in cleanup.sh", "committedDate": "2020-04-11T23:37:52Z", "type": "commit"}, {"oid": "1fae07769d49b7f6cc75bc005ea43d6f656aa3b5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1fae07769d49b7f6cc75bc005ea43d6f656aa3b5", "message": "add 'diefast' support to wl pods and to QA cleanup.sh script", "committedDate": "2020-04-12T01:39:19Z", "type": "commit"}, {"oid": "0ea439d00169d1ddae04a18253db2d923c5ba457", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0ea439d00169d1ddae04a18253db2d923c5ba457", "message": "cleanup.sh: run deletes in background and kill bg jobs if they take more than 15 seconds", "committedDate": "2020-04-13T17:48:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzczNDAyMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1557#discussion_r407734021", "bodyText": "This scares me \ud83d\ude28", "author": "rjeberhard", "createdAt": "2020-04-13T21:32:21Z", "path": "operator/src/main/resources/scripts/stopServer.sh", "diffHunk": "@@ -48,6 +48,14 @@ function check_for_shutdown() {\n     return 0\n   fi\n \n+  if [ -e /tmp/diefast ]; then", "originalCommit": "0ea439d00169d1ddae04a18253db2d923c5ba457", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE2MDQ3Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1557#discussion_r408160473", "bodyText": "This can cut several seconds off of shutdown, and we don't need a (slow) clean shutdown for the test cleanup case.  Would you like a different name that's more clear?  bypassSafeShutdown or some-such?", "author": "tbarnes-us", "createdAt": "2020-04-14T14:02:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzczNDAyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgxNDM4Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1557#discussion_r408814383", "bodyText": "I'll keep it as is... I just said that it was scary.", "author": "rjeberhard", "createdAt": "2020-04-15T12:47:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzczNDAyMQ=="}], "type": "inlineReview"}]}