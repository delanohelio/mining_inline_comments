{"pr_number": 1525, "pr_title": "Missing secret dir fix", "pr_createdAt": "2020-04-02T01:15:43Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1525", "timeline": [{"oid": "b95212843940a0abc3cb41879b5a3a939804434e", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b95212843940a0abc3cb41879b5a3a939804434e", "message": "Add temporary work around for WDT return non-zero rc if secret directory doesn't exist.", "committedDate": "2020-04-02T00:42:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM0NDY0Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1525#discussion_r402344642", "bodyText": "Does it suppress the WARNING if you skip the export all-together?\nDoes this need to be a temporary work-around?  The  WARNING is distracting in the first place, even if WDT is fixed to return non-zero.   Maybe just remove the comment.\nIf answer to both is yes, the change is as sample as:\n[ ! -d ${WDT_MODEL_SECRETS_DIRS} ]  && unset WDT_MODEL_SECRETS_DIRS", "author": "tbarnes-us", "createdAt": "2020-04-02T14:12:04Z", "path": "operator/src/main/resources/scripts/modelInImage.sh", "diffHunk": "@@ -53,6 +53,11 @@ RCU_PASSWORD_CHANGED=5\n SCRIPT_ERROR=255\n \n export WDT_MODEL_SECRETS_DIRS=\"/weblogic-operator/config-overrides-secrets\"\n+if [ ! -d ${WDT_MODEL_SECRETS_DIRS} ] ; then\n+  # Temporary work around for WDT to avoid non zero return code if the directory doesn't exist\n+  mkdir -p /tmp/nosuchdir\n+  export WDT_MODEL_SECRETS_DIRS=\"/tmp/nosuchdir\"\n+fi", "originalCommit": "b95212843940a0abc3cb41879b5a3a939804434e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjUzMTA3OQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1525#discussion_r402531079", "bodyText": "I requested a fix on WDT to make it INFO instead of WARNING and remove the default weblogic-operator/config-overrides-secrets  Once WDT fixes and release, we shouldn't need this all together.", "author": "jshum2479", "createdAt": "2020-04-02T18:39:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM0NDY0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjUzMTgwMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1525#discussion_r402531803", "bodyText": "OK. That's fine.", "author": "tbarnes-us", "createdAt": "2020-04-02T18:40:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM0NDY0Mg=="}], "type": "inlineReview"}, {"oid": "8af2086f2de84fd1f5f6e043a3c26cd2c88d7832", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8af2086f2de84fd1f5f6e043a3c26cd2c88d7832", "message": "Change per WDT fix for no more default for custom secrets mount", "committedDate": "2020-04-02T19:26:00Z", "type": "commit"}]}