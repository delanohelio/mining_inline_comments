{"pr_number": 8282, "pr_title": "ISPN-11779 Restore WildFly Modules", "pr_createdAt": "2020-05-06T10:24:38Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8282", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3MDg4Mg==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420770882", "bodyText": "Is this used?", "author": "ryanemerson", "createdAt": "2020-05-06T13:00:55Z", "path": "integrationtests/wildfly-modules/src/test/java/org/infinispan/test/integration/as/client/UnstableTest.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package org.infinispan.test.integration.as.client;\n+\n+/**\n+ * {@link org.junit.experimental.categories.Category} annotation for unstable tests\n+ *\n+ * @author Pedro Ruivo\n+ * @since 7.0\n+ */\n+public interface UnstableTest {\n+}", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3MTAzMw==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420771033", "bodyText": "Is this used?", "author": "ryanemerson", "createdAt": "2020-05-06T13:01:10Z", "path": "integrationtests/wildfly-modules/src/test/java/org/infinispan/test/integration/as/client/category/UnstableTest.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package org.infinispan.test.integration.as.client.category;\n+\n+/**\n+ * {@link org.junit.experimental.categories.Category} annotation for unstable tests\n+ *\n+ * @author Pedro Ruivo\n+ * @since 7.0\n+ */\n+public interface UnstableTest {\n+}", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3NzE2NQ==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420777165", "bodyText": "This is no longer required as it's only referenced by arquillian.xml.", "author": "ryanemerson", "createdAt": "2020-05-06T13:10:47Z", "path": "integrationtests/wildfly-modules/src/test/resources/as-config/standalone/configuration/standalone-no-ispn.xml", "diffHunk": "@@ -0,0 +1,374 @@\n+<?xml version='1.0' encoding='UTF-8'?>", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3Nzc2MA==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420777760", "bodyText": "Can be removed as not used by any tests.", "author": "ryanemerson", "createdAt": "2020-05-06T13:11:41Z", "path": "integrationtests/wildfly-modules/src/test/resources/arquillian.xml", "diffHunk": "@@ -0,0 +1,56 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<arquillian xmlns=\"http://jboss.org/schema/arquillian\"\n+    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+    xsi:schemaLocation=\"http://jboss.org/schema/arquillian\n+        http://jboss.org/schema/arquillian/arquillian_1_0.xsd\">\n+\n+    <defaultProtocol type=\"Servlet 3.0\" />\n+\n+    <group qualifier=\"Grid\" default=\"true\">\n+        <container qualifier=\"container.active-1\" default=\"true\">\n+            <configuration>\n+                <property name=\"jbossHome\">${basedir}/target/node1</property>\n+                <property name=\"javaHome\">${server.jvm}</property>\n+                <property name=\"javaVmArguments\">\n+                    ${server.jvm.args}\n+                    -Djboss.socket.binding.port-offset=100 -Djava.net.preferIPv4Stack=true\n+                    -Djgroups.bind_addr=127.0.0.1 -Djgroups.join_timeout=2000\n+                </property>\n+                <!-- To debug the Arquillian managed application server: -->\n+                <!--<property name=\"javaVmArguments\">-Xrunjdwp:transport=dt_socket,address=8000,server=n,suspend=y -Dorg.jboss.remoting-jmx.timeout=300-->\n+                    <!-- -Djboss.socket.binding.port-offset=100 -Xmx512m -Djava.net.preferIPv4Stack=true-->\n+                    <!-- -Djgroups.bind_addr=127.0.0.1 -Djgroups.join_timeout=2000-->\n+                <!--</property>-->\n+                <property name=\"managementPort\">10090</property>\n+                <property name=\"serverConfig\">standalone-test.xml</property>\n+            </configuration>\n+        </container>\n+        <container qualifier=\"container.active-2\">\n+            <configuration>\n+                <property name=\"jbossHome\">${basedir}/target/node2</property>\n+                <property name=\"javaHome\">${server.jvm}</property>\n+                <property name=\"javaVmArguments\">\n+                    ${server.jvm.args}\n+                    -Djboss.socket.binding.port-offset=200\n+                    -Djava.net.preferIPv4Stack=true -Djgroups.bind_addr=127.0.0.1 -Djgroups.join_timeout=2000\n+                </property>\n+                <property name=\"managementPort\">10190</property>\n+                <property name=\"serverConfig\">standalone-test.xml</property>\n+            </configuration>\n+        </container>\n+        <container qualifier=\"container.no-ispn\">", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3OTM3Ng==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420779376", "bodyText": "This container is never explicitly used. Previously it was used by the org.infinispan.test.integration.as.query.* tests, should we bring those back?", "author": "ryanemerson", "createdAt": "2020-05-06T13:13:58Z", "path": "integrationtests/wildfly-modules/src/test/resources/arquillian.xml", "diffHunk": "@@ -0,0 +1,56 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<arquillian xmlns=\"http://jboss.org/schema/arquillian\"\n+    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+    xsi:schemaLocation=\"http://jboss.org/schema/arquillian\n+        http://jboss.org/schema/arquillian/arquillian_1_0.xsd\">\n+\n+    <defaultProtocol type=\"Servlet 3.0\" />\n+\n+    <group qualifier=\"Grid\" default=\"true\">\n+        <container qualifier=\"container.active-1\" default=\"true\">\n+            <configuration>\n+                <property name=\"jbossHome\">${basedir}/target/node1</property>\n+                <property name=\"javaHome\">${server.jvm}</property>\n+                <property name=\"javaVmArguments\">\n+                    ${server.jvm.args}\n+                    -Djboss.socket.binding.port-offset=100 -Djava.net.preferIPv4Stack=true\n+                    -Djgroups.bind_addr=127.0.0.1 -Djgroups.join_timeout=2000\n+                </property>\n+                <!-- To debug the Arquillian managed application server: -->\n+                <!--<property name=\"javaVmArguments\">-Xrunjdwp:transport=dt_socket,address=8000,server=n,suspend=y -Dorg.jboss.remoting-jmx.timeout=300-->\n+                    <!-- -Djboss.socket.binding.port-offset=100 -Xmx512m -Djava.net.preferIPv4Stack=true-->\n+                    <!-- -Djgroups.bind_addr=127.0.0.1 -Djgroups.join_timeout=2000-->\n+                <!--</property>-->\n+                <property name=\"managementPort\">10090</property>\n+                <property name=\"serverConfig\">standalone-test.xml</property>\n+            </configuration>\n+        </container>\n+        <container qualifier=\"container.active-2\">", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc4NDUzMg==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420784532", "bodyText": "I removed those tests because of the changes @gustavonalle and @anistor have made to query.", "author": "tristantarrant", "createdAt": "2020-05-06T13:21:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3OTM3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUyNzMwMg==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r421527302", "bodyText": "I'll leave the definition there for future additions. It can stay unused", "author": "tristantarrant", "createdAt": "2020-05-07T14:00:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc3OTM3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc4MTc5Mw==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420781793", "bodyText": "Not used without the query tests.", "author": "ryanemerson", "createdAt": "2020-05-06T13:17:32Z", "path": "integrationtests/wildfly-modules/src/test/resources/dynamic-indexing-distribution.xml", "diffHunk": "@@ -0,0 +1,68 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc4Mjg5Mg==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420782892", "bodyText": "Do we want to provide the rest store?", "author": "ryanemerson", "createdAt": "2020-05-06T13:19:09Z", "path": "wildfly/feature-pack/src/main/resources/modules/org/infinispan/slot/module.xml", "diffHunk": "@@ -0,0 +1,104 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<module xmlns=\"urn:jboss:module:1.5\" name=\"org.infinispan\" slot=\"@infinispan.module.slot@\">\n+   <resources>\n+      <artifact name=\"${javax.cache:cache-api}\"/>\n+\n+      <artifact name=\"${org.infinispan:infinispan-cachestore-jdbc}\"/>\n+      <artifact name=\"${org.infinispan:infinispan-cachestore-jpa}\"/>\n+      <artifact name=\"${org.infinispan:infinispan-cachestore-rest}\"/>", "originalCommit": "5f0a3551d0620fa64f650e0fa6eb5efa1ef5ccea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc4NDY5Mw==", "url": "https://github.com/infinispan/infinispan/pull/8282#discussion_r420784693", "bodyText": "Right, I'll kill it", "author": "tristantarrant", "createdAt": "2020-05-06T13:21:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc4Mjg5Mg=="}], "type": "inlineReview"}, {"oid": "d9cb0ebadff17ffba62404f575cf59af7c773201", "url": "https://github.com/infinispan/infinispan/commit/d9cb0ebadff17ffba62404f575cf59af7c773201", "message": "ISPN-11779 Restore WildFly Modules\n\n* One module which encapsulates them all\n* Drop the extensions\n* Drop the server modules", "committedDate": "2020-05-07T14:01:46Z", "type": "forcePushed"}, {"oid": "f063767b0b5c4371563ce8964226234cd09b1179", "url": "https://github.com/infinispan/infinispan/commit/f063767b0b5c4371563ce8964226234cd09b1179", "message": "ISPN-11779 Restore WildFly Modules\n\n* One module which encapsulates them all\n* Drop the extensions\n* Drop the server modules", "committedDate": "2020-05-07T14:32:36Z", "type": "forcePushed"}, {"oid": "4587b270c26d0f22837d8bd051c2ec87c571d7fa", "url": "https://github.com/infinispan/infinispan/commit/4587b270c26d0f22837d8bd051c2ec87c571d7fa", "message": "ISPN-11779 Restore WildFly Modules\n\n* One module which encapsulates them all\n* Drop the extensions\n* Drop the server modules", "committedDate": "2020-05-11T06:48:42Z", "type": "commit"}, {"oid": "4587b270c26d0f22837d8bd051c2ec87c571d7fa", "url": "https://github.com/infinispan/infinispan/commit/4587b270c26d0f22837d8bd051c2ec87c571d7fa", "message": "ISPN-11779 Restore WildFly Modules\n\n* One module which encapsulates them all\n* Drop the extensions\n* Drop the server modules", "committedDate": "2020-05-11T06:48:42Z", "type": "forcePushed"}]}