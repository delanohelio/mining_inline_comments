{"pr_number": 8089, "pr_title": "ISPN-11516 edits to eviction and expiration.adoc", "pr_createdAt": "2020-03-24T16:29:02Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8089", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxMzM1MQ==", "url": "https://github.com/infinispan/infinispan/pull/8089#discussion_r397313351", "bodyText": "It also applies to stores. not just data container.", "author": "wburns", "createdAt": "2020-03-24T16:58:21Z", "path": "documentation/src/main/asciidoc/topics/con_evict_vs_expire.adoc", "diffHunk": "@@ -5,9 +5,13 @@ they remove old, unused entries. Although eviction and expiration are similar,\n they have some important differences that you should take into account when\n planning your configuration.\n \n-* [*] Eviction prevents {brandname} from exceeding the maximum size of data containers.\n+* [*] Eviction prevents {brandname} from exceeding the maximum size of the data\n+container. {brandname} performs eviction when you add entries to the cache.\n \n-* [*] Expiration limits the amount of time entries can exist.\n+* [*] Expiration limits the amount of time entries can exist in the data", "originalCommit": "b8eeb12ffe83ffe78be214c410f606bcec90bf49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxMzg0NQ==", "url": "https://github.com/infinispan/infinispan/pull/8089#discussion_r397313845", "bodyText": "\"not found\" isn't a value really. Maybe we should mention that it is null?", "author": "wburns", "createdAt": "2020-03-24T16:59:03Z", "path": "documentation/src/main/asciidoc/topics/con_evict_vs_expire.adoc", "diffHunk": "@@ -5,9 +5,13 @@ they remove old, unused entries. Although eviction and expiration are similar,\n they have some important differences that you should take into account when\n planning your configuration.\n \n-* [*] Eviction prevents {brandname} from exceeding the maximum size of data containers.\n+* [*] Eviction prevents {brandname} from exceeding the maximum size of the data\n+container. {brandname} performs eviction when you add entries to the cache.\n \n-* [*] Expiration limits the amount of time entries can exist.\n+* [*] Expiration limits the amount of time entries can exist in the data\n+container. {brandname} uses a scheduler to periodically remove expired entries.\n+Entries that are expired but not yet removed are immediately removed on access;\n+in this case `get()` calls for expired entries return \"not found\".", "originalCommit": "b8eeb12ffe83ffe78be214c410f606bcec90bf49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNDMyMw==", "url": "https://github.com/infinispan/infinispan/pull/8089#discussion_r397314323", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You must use binary or off-heap storage for custom classes that use eviction,\n          \n          \n            \n            You must use binary or off-heap storage memory based eviction,", "author": "wburns", "createdAt": "2020-03-24T16:59:46Z", "path": "documentation/src/main/asciidoc/topics/con_eviction_custom_classes.adoc", "diffHunk": "@@ -0,0 +1,16 @@\n+[id='custom_class_eviction-{context}']\n+= Custom Classes with Memory-Based Eviction\n+You must use binary or off-heap storage for custom classes that use eviction,", "originalCommit": "b8eeb12ffe83ffe78be214c410f606bcec90bf49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNDgyNA==", "url": "https://github.com/infinispan/infinispan/pull/8089#discussion_r397314824", "bodyText": "I don't think we need to mention passivation here. Makes it sound like that is how I should fix this.", "author": "wburns", "createdAt": "2020-03-24T17:00:29Z", "path": "documentation/src/main/asciidoc/topics/con_eviction_overview.adoc", "diffHunk": "@@ -1,5 +1,15 @@\n [id='how_eviction_works-{context}']\n = How Eviction Works\n+{brandname} eviction removes entries from the data container to make space when\n+adding new entries.\n+\n+[IMPORTANT]\n+====\n+To prevent data loss, you should always configure a persistent cache store if\n+you enable eviction. Use passivation so that {brandname} writes to persistent", "originalCommit": "b8eeb12ffe83ffe78be214c410f606bcec90bf49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e590327c099b018a0c7cb7be5ce41ceda58fd257", "url": "https://github.com/infinispan/infinispan/commit/e590327c099b018a0c7cb7be5ce41ceda58fd257", "message": "review feedback", "committedDate": "2020-03-24T18:17:59Z", "type": "forcePushed"}, {"oid": "d2f9736dcbb72c553796210affb0647ba85c1eb2", "url": "https://github.com/infinispan/infinispan/commit/d2f9736dcbb72c553796210affb0647ba85c1eb2", "message": "ISPN-11516 edits to eviction and expiration.adoc", "committedDate": "2020-03-24T18:19:09Z", "type": "commit"}, {"oid": "d2f9736dcbb72c553796210affb0647ba85c1eb2", "url": "https://github.com/infinispan/infinispan/commit/d2f9736dcbb72c553796210affb0647ba85c1eb2", "message": "ISPN-11516 edits to eviction and expiration.adoc", "committedDate": "2020-03-24T18:19:09Z", "type": "forcePushed"}]}