{"pr_number": 7758, "pr_title": "clustered max idle upgrade notes", "pr_createdAt": "2020-01-17T14:33:12Z", "pr_url": "https://github.com/infinispan/infinispan/pull/7758", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk4MjM0Ng==", "url": "https://github.com/infinispan/infinispan/pull/7758#discussion_r367982346", "bodyText": "Why did you add the part about not using them together? It should work just fine :)", "author": "wburns", "createdAt": "2020-01-17T15:07:12Z", "path": "documentation/src/main/asciidoc/topics/eviction.adoc", "diffHunk": "@@ -234,10 +234,10 @@ When nodes detect that an entry reaches the maximum idle time, {brandname}\n removes it from the cache and does not return the entry to the client that\n requested it.\n \n-Before using clustered `max-idle`, you should review the following points:\n+Before using `max-idle` with clustered cache modes, you should review the following points:\n \n * `Cache.get()` does not return until the touch commands complete. This synchronous behavior increases latency of client requests.\n-* Clustered `max-idle` also updates the recent access count for eviction on all owners.\n+* Clustered `max-idle` also updates the \"recently accessed\" metadata for cache entries on all owners, which affects eviction. You shouldn't use `max-idle` with clustered cache modes together with eviction.", "originalCommit": "bf7531df2aecf4cadd457c8d9582df62cbb0b86c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk4MzE5OA==", "url": "https://github.com/infinispan/infinispan/pull/7758#discussion_r367983198", "bodyText": "So technically this isn't just 11.0 still, which is why I was asking on Zulip if we should put something here. Cause technically this change will be in 10.1.1 as well.", "author": "wburns", "createdAt": "2020-01-17T15:09:01Z", "path": "documentation/src/main/asciidoc/topics/upgrading.adoc", "diffHunk": "@@ -1,3 +1,17 @@\n+= Upgrading from 10.1 to 11.0", "originalCommit": "bf7531df2aecf4cadd457c8d9582df62cbb0b86c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk4MzU1OA==", "url": "https://github.com/infinispan/infinispan/pull/7758#discussion_r367983558", "bodyText": "It actually makes performance worse :)\nIt improves consistency under node failure.", "author": "wburns", "createdAt": "2020-01-17T15:09:44Z", "path": "documentation/src/main/asciidoc/topics/upgrading.adoc", "diffHunk": "@@ -1,3 +1,17 @@\n+= Upgrading from 10.1 to 11.0\n+\n+== Maximum Idle Timeouts with Clustered Cache Modes\n+Infinispan maximum idle expiration has been changed to improve performance with", "originalCommit": "bf7531df2aecf4cadd457c8d9582df62cbb0b86c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2e98ab64890fdfec744542d48253f2211527e193", "url": "https://github.com/infinispan/infinispan/commit/2e98ab64890fdfec744542d48253f2211527e193", "message": "clustered max idle upgrade notes", "committedDate": "2020-01-17T15:17:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5MTIwNA==", "url": "https://github.com/infinispan/infinispan/pull/7758#discussion_r367991204", "bodyText": "Sorry to keep beating this dog, but should we mention that performance will be slower?", "author": "wburns", "createdAt": "2020-01-17T15:24:16Z", "path": "documentation/src/main/asciidoc/topics/upgrading.adoc", "diffHunk": "@@ -1,5 +1,16 @@\n = Upgrading from 10.0 to 10.1\n \n+== Maximum Idle Timeouts with Clustered Cache Modes\n+Maximum idle expiration has been changed to improve data consistency with clustered cache modes when Infinispan nodes fail.", "originalCommit": "2e98ab64890fdfec744542d48253f2211527e193", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f3fd2f201326e3277b0d009cfb2d131b1dd8abf8", "url": "https://github.com/infinispan/infinispan/commit/f3fd2f201326e3277b0d009cfb2d131b1dd8abf8", "message": "clustered max idle upgrade notes", "committedDate": "2020-01-17T15:34:10Z", "type": "forcePushed"}, {"oid": "15a56c17e6dc3a54d59f8d546cbb7e906b6b3fdc", "url": "https://github.com/infinispan/infinispan/commit/15a56c17e6dc3a54d59f8d546cbb7e906b6b3fdc", "message": "clustered max idle upgrade notes", "committedDate": "2020-01-17T15:39:48Z", "type": "forcePushed"}, {"oid": "e36d404912f17828156c80f1df7fe148c86672d5", "url": "https://github.com/infinispan/infinispan/commit/e36d404912f17828156c80f1df7fe148c86672d5", "message": "clustered max idle upgrade notes", "committedDate": "2020-01-17T15:42:35Z", "type": "commit"}, {"oid": "e36d404912f17828156c80f1df7fe148c86672d5", "url": "https://github.com/infinispan/infinispan/commit/e36d404912f17828156c80f1df7fe148c86672d5", "message": "clustered max idle upgrade notes", "committedDate": "2020-01-17T15:42:35Z", "type": "forcePushed"}]}