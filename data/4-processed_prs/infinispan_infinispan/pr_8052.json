{"pr_number": 8052, "pr_title": "ISPN-11465 Upgrade to JGroups 4.2.1.Final", "pr_createdAt": "2020-03-13T07:03:21Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8052", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY2NzY4Mw==", "url": "https://github.com/infinispan/infinispan/pull/8052#discussion_r393667683", "bodyText": "So with FD_ALL3 it suspects the member first? I thought suspecting members was tossed out of JGroups a while back?", "author": "wburns", "createdAt": "2020-03-17T13:12:33Z", "path": "core/src/test/resources/configs/xsite/bridge.xml", "diffHunk": "@@ -29,7 +29,11 @@\n            <!--break_on_coord_rsp=\"true\"/>-->\n     <MERGE3 max_interval=\"5000\"\n             min_interval=\"3000\"/>\n-    <FD_SOCK bind_addr=\"127.0.0.1\"/>\n+    <FD_SOCK/>\n+    <FD_ALL3 timeout=\"3000\"\n+             interval=\"1000\"\n+    />\n+    <VERIFY_SUSPECT timeout=\"1000\"/>", "originalCommit": "8b3472a205b229857a204e0d1d13cb35737148fb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAwMjA2MQ==", "url": "https://github.com/infinispan/infinispan/pull/8052#discussion_r395002061", "bodyText": "Not sure what you mean @wburns, it was always JGroups' responsibility to suspect members. X-site backups have their own rules for taking sites offline, but a site can have 0..N site masters, all of which join the bridge cluster.\nOTOH the bridge configuration already had {{FD_SOCK}}, which suspects a node once it's stopped, and tests don't remove {{FD*}} protocols from the bridge stack based on the {{TransportFlags}}, so having {{FD_ALL3}} might just complicate debugging.", "author": "danberindei", "createdAt": "2020-03-19T12:52:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY2NzY4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAwMzE5NA==", "url": "https://github.com/infinispan/infinispan/pull/8052#discussion_r395003194", "bodyText": "Removed", "author": "danberindei", "createdAt": "2020-03-19T12:54:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY2NzY4Mw=="}], "type": "inlineReview"}, {"oid": "57325e07b38b9e2617101457853231280aaf7153", "url": "https://github.com/infinispan/infinispan/commit/57325e07b38b9e2617101457853231280aaf7153", "message": "ISPN-11465 Upgrade to JGroups 4.2.1.Final\n\n* Update the Infinispan and JGroups schema versions\n  in the XML configurations\n* Switch to FD_ALL3 in the test JGroups stacks\n* Keep using FD_ALL in the default stacks", "committedDate": "2020-03-17T15:03:08Z", "type": "forcePushed"}, {"oid": "7dd8b255fbfe1a7b529809678ddcc96a375b1e19", "url": "https://github.com/infinispan/infinispan/commit/7dd8b255fbfe1a7b529809678ddcc96a375b1e19", "message": "ISPN-11465 Upgrade to JGroups 4.2.1.Final\n\n* Update the Infinispan and JGroups schema versions\n  in the XML configurations\n* Switch to FD_ALL3 in the test JGroups stacks\n* Keep using FD_ALL in the default stacks", "committedDate": "2020-03-19T12:53:40Z", "type": "forcePushed"}, {"oid": "1d2f8a94da1e7174fe5b0b4e27b3805fd775ba26", "url": "https://github.com/infinispan/infinispan/commit/1d2f8a94da1e7174fe5b0b4e27b3805fd775ba26", "message": "ISPN-11465 Upgrade to JGroups 4.2.1.Final\n\n* Update the Infinispan and JGroups schema versions\n  in the XML configurations\n* Switch to FD_ALL3 in the test JGroups stacks\n* Keep using FD_ALL in the default stacks", "committedDate": "2020-03-24T14:25:36Z", "type": "forcePushed"}, {"oid": "c0c17c9ddd0ec148773a0c7b76252836df48c076", "url": "https://github.com/infinispan/infinispan/commit/c0c17c9ddd0ec148773a0c7b76252836df48c076", "message": "ISPN-11465 Upgrade to JGroups 4.2.1.Final\n\n* Update the Infinispan and JGroups schema versions\n  in the XML configurations\n* Switch to FD_ALL3 in the test JGroups stacks\n* Keep using FD_ALL in the default stacks", "committedDate": "2020-03-25T02:04:48Z", "type": "commit"}, {"oid": "c0c17c9ddd0ec148773a0c7b76252836df48c076", "url": "https://github.com/infinispan/infinispan/commit/c0c17c9ddd0ec148773a0c7b76252836df48c076", "message": "ISPN-11465 Upgrade to JGroups 4.2.1.Final\n\n* Update the Infinispan and JGroups schema versions\n  in the XML configurations\n* Switch to FD_ALL3 in the test JGroups stacks\n* Keep using FD_ALL in the default stacks", "committedDate": "2020-03-25T02:04:48Z", "type": "forcePushed"}]}