{"pr_number": 8060, "pr_title": "ISPN-11472 fixes for Hot Rod Client docs", "pr_createdAt": "2020-03-16T16:44:54Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8060", "timeline": [{"oid": "e9c12e81b23dbea62d732b73b9b2b29a1f83a27b", "url": "https://github.com/infinispan/infinispan/commit/e9c12e81b23dbea62d732b73b9b2b29a1f83a27b", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-19T11:46:46Z", "type": "forcePushed"}, {"oid": "b5172d5e8d8c08f0a66fad34cccd2d2e5757d324", "url": "https://github.com/infinispan/infinispan/commit/b5172d5e8d8c08f0a66fad34cccd2d2e5757d324", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-20T09:57:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU3MzU0NQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r395573545", "bodyText": "no <scope>", "author": "pruivo", "createdAt": "2020-03-20T11:20:51Z", "path": "documentation/src/main/asciidoc/topics/config_examples/hotrod_java_client.xml", "diffHunk": "@@ -0,0 +1,6 @@\n+<dependency>\n+  <groupId>org.infinispan</groupId>\n+  <artifactId>infinispan-client-hotrod</artifactId>\n+  <version>${version.infinispan}</version>\n+  <scope>test</scope>", "originalCommit": "b5172d5e8d8c08f0a66fad34cccd2d2e5757d324", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU4MTEyMA==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r395581120", "bodyText": "fixed @pruivo thanks", "author": "oraNod", "createdAt": "2020-03-20T11:37:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU3MzU0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU3NDQxOQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r395574419", "bodyText": "we no longer zip the java hot rod client. Users must use the maven coordinates.", "author": "pruivo", "createdAt": "2020-03-20T11:22:43Z", "path": "documentation/src/main/asciidoc/topics/proc_download_hotrod_java_client.adoc", "diffHunk": "@@ -1,6 +1,6 @@\n [id='download_java_client']\n-= Downloading the Hot Rod Java Client\n-{brandname} provides a reference Hot Rod Java client implementation.\n+= Getting the Hot Rod Java Client\n+{brandname} provides a Hot Rod Java client implementation.\n \n //Community\n ifndef::productized[]", "originalCommit": "b5172d5e8d8c08f0a66fad34cccd2d2e5757d324", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU4MDk2MA==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r395580960", "bodyText": "thanks @pruivo fixed", "author": "oraNod", "createdAt": "2020-03-20T11:37:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU3NDQxOQ=="}], "type": "inlineReview"}, {"oid": "9a7932a52f25f1058458c7cd9b7ca169cbac20cd", "url": "https://github.com/infinispan/infinispan/commit/9a7932a52f25f1058458c7cd9b7ca169cbac20cd", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-20T11:37:03Z", "type": "forcePushed"}, {"oid": "84aaab92be46523e685aa2675efaf50aa4b5049c", "url": "https://github.com/infinispan/infinispan/commit/84aaab92be46523e685aa2675efaf50aa4b5049c", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-20T16:52:28Z", "type": "forcePushed"}, {"oid": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "url": "https://github.com/infinispan/infinispan/commit/3356a48421ffc96d64c6cc59a571ec55fc2c8713", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-24T12:52:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc4NTQ5MA==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397785490", "bodyText": "These lines aren't aligned. Space is missing.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               //Configure client connection pools.\n          \n          \n            \n               .connectionPool()\n          \n          \n            \n                //Configure client connection pools.\n          \n          \n            \n                .connectionPool()", "author": "pruivo", "createdAt": "2020-03-25T11:31:42Z", "path": "documentation/src/main/asciidoc/topics/code_examples/HotRodConnectionPools.java", "diffHunk": "@@ -2,8 +2,12 @@\n clientBuilder\n    .addServer()\n     .host(\"127.0.0.1\")\n-    .port(11222);\n-   .connectionPool() <1>\n-    .maxActive(10) <2>\n-    .minIdle(20); <3>\n+    .port(11222)\n+   //Configure client connection pools.\n+   .connectionPool()", "originalCommit": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc4ODU4OQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397788589", "bodyText": "this path doesn't exist:\nUnresolved directive in ../../topics/proc_download_hotrod_java_client.adoc - include::dependencies_maven/hotrod_java_client.xml[]", "author": "pruivo", "createdAt": "2020-03-25T11:37:24Z", "path": "documentation/src/main/asciidoc/topics/proc_download_hotrod_java_client.adoc", "diffHunk": "@@ -1,13 +1,9 @@\n [id='download_java_client']\n-= Downloading the Hot Rod Java Client\n-{brandname} provides a reference Hot Rod Java client implementation.\n+= Getting the Hot Rod Java Client\n \n-//Community\n-ifndef::productized[]\n-Visit the link:http://infinispan.org/hotrod-clients[Hot Rod clients] page on _infinispan.org_ to download the Java client and find client implementations in other languages.\n-endif::productized[]\n+Add the `infinispan-client-hotrod` dependency to your `pom.xml` as follows:\n \n-//Product\n-ifdef::productized[]\n-Visit the link:{download_url}[{brandname} downloads] page on the {portal} to download the Java client and find client implementations in other languages.\n-endif::productized[]\n+[source,xml]\n+----\n+include::dependencies_maven/hotrod_java_client.xml[]", "originalCommit": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgxNzMyMQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397817321", "bodyText": "oh, man! thanks for catching that @pruivo", "author": "oraNod", "createdAt": "2020-03-25T12:31:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc4ODU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc4OTI3MQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397789271", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To reduce the amount of data sent across the network, RemoteCache operations\n          \n          \n            \n            To reduce the amount of data sent across the network, `RemoteCache` operations", "author": "pruivo", "createdAt": "2020-03-25T11:38:41Z", "path": "documentation/src/main/asciidoc/topics/proc_forcing_return_values.adoc", "diffHunk": "@@ -0,0 +1,29 @@\n+[id='hotrod_return_values']\n+= Forcing Return Values\n+Method calls that modify entries can return previous values for keys, for\n+example:\n+\n+[source,java]\n+----\n+V remove(Object key);\n+V put(K key, V value);\n+----\n+\n+To reduce the amount of data sent across the network, RemoteCache operations", "originalCommit": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc4OTYyMQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397789621", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            always return null values.\n          \n          \n            \n            always return `null` values.", "author": "pruivo", "createdAt": "2020-03-25T11:39:21Z", "path": "documentation/src/main/asciidoc/topics/proc_forcing_return_values.adoc", "diffHunk": "@@ -0,0 +1,29 @@\n+[id='hotrod_return_values']\n+= Forcing Return Values\n+Method calls that modify entries can return previous values for keys, for\n+example:\n+\n+[source,java]\n+----\n+V remove(Object key);\n+V put(K key, V value);\n+----\n+\n+To reduce the amount of data sent across the network, RemoteCache operations\n+always return null values.", "originalCommit": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc5MjgxMA==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397792810", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            factory name to the @ClientListener annotation:\n          \n          \n            \n            factory name to the `@ClientListener` annotation:", "author": "pruivo", "createdAt": "2020-03-25T11:45:09Z", "path": "documentation/src/main/asciidoc/topics/ref_hotrod_listeners.adoc", "diffHunk": "@@ -110,31 +110,32 @@ which statically filter out all entries except the one whose key is `1`.\n \n To be able to register a listener with this cache event filter factory,\n the factory has to be given a unique name, and the Hot Rod server needs to be\n-plugged with the name and the cache event filter factory instance. Plugging the\n-{brandname} Server with a custom filter involves the following steps:\n+plugged with the name and the cache event filter factory instance.\n \n-1. Create a JAR file with the filter implementation within it.\n-2. Optional: If the cache uses custom key/value classes, these must be\n+. Create a JAR file that contains the filter implementation.\n++\n+If the cache uses custom key/value classes, these must be\n included in the JAR so that the callbacks can be executed with the correctly\n unmarshalled key and/or value instances. If the client listener has `useRawData`\n enabled, this is not necessary since the callback key/value instances will be\n provided in binary format.\n-3. Create a `META-INF/services/org.infinispan.notifications.cachelistener.filter.CacheEventFilterFactory` file\n++\n+. Create a `META-INF/services/org.infinispan.notifications.cachelistener.filter.CacheEventFilterFactory` file\n within the JAR file and within it, write the fully qualified class name of the\n filter class implementation.\n-4. Deploy the JAR file in the {brandname} Server.\n-\n-On top of that, the client listener needs to be linked with this cache event\n-filter factory by adding the factory's name to the @ClientListener annotation:\n-\n+. Add the JAR file to the `server/lib` directory of your {brandname} server\n+installation directory.\n+. Link the client listener with this cache event filter factory by adding the\n+factory name to the @ClientListener annotation:", "originalCommit": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc5OTA3Ng==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397799076", "bodyText": "this example can be removed IMO. it didn't add much to the docs.", "author": "pruivo", "createdAt": "2020-03-25T11:57:06Z", "path": "documentation/src/main/asciidoc/topics/ref_hotrod_remote_cache.adoc", "diffHunk": "@@ -48,7 +49,7 @@ have to copy the contents yourself. Also you can do this with `entrySet` and\n Set<K> keysCopy = remoteCache.keySet().stream().collect(Collectors.toSet());\n ----\n \n-Please use extreme cautiong with this as a large number of keys can and will cause\n+Please use extreme caution with this as a large number of keys can and will cause\n OutOfMemoryError in the client.\n \n [source,java]", "originalCommit": "3356a48421ffc96d64c6cc59a571ec55fc2c8713", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgxODQ5NQ==", "url": "https://github.com/infinispan/infinispan/pull/8060#discussion_r397818495", "bodyText": "thanks. I've removed it.", "author": "oraNod", "createdAt": "2020-03-25T12:33:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc5OTA3Ng=="}], "type": "inlineReview"}, {"oid": "52fa6b13a2e996eaf99d84a8f78597fc0600dbfa", "url": "https://github.com/infinispan/infinispan/commit/52fa6b13a2e996eaf99d84a8f78597fc0600dbfa", "message": "pruivo feedback", "committedDate": "2020-03-25T12:33:14Z", "type": "forcePushed"}, {"oid": "e7afc4de851021a7698f6ec56998f3879803357a", "url": "https://github.com/infinispan/infinispan/commit/e7afc4de851021a7698f6ec56998f3879803357a", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-25T14:02:28Z", "type": "commit"}, {"oid": "e7afc4de851021a7698f6ec56998f3879803357a", "url": "https://github.com/infinispan/infinispan/commit/e7afc4de851021a7698f6ec56998f3879803357a", "message": "ISPN-11472 fixes for Hot Rod Client docs", "committedDate": "2020-03-25T14:02:28Z", "type": "forcePushed"}]}