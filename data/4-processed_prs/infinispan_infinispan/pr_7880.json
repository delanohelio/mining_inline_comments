{"pr_number": 7880, "pr_title": "[10.1.x] ISPN-11209 Max Idle changes caused a REPL read performance regression", "pr_createdAt": "2020-02-12T16:42:13Z", "pr_url": "https://github.com/infinispan/infinispan/pull/7880", "timeline": [{"oid": "05c58848c1ece0a5a2c6281100a0c10b30cb8117", "url": "https://github.com/infinispan/infinispan/commit/05c58848c1ece0a5a2c6281100a0c10b30cb8117", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks", "committedDate": "2020-02-12T16:48:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM3NzE2MA==", "url": "https://github.com/infinispan/infinispan/pull/7880#discussion_r378377160", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        Supplier<PeekableTouchableMap<Object, InternalCacheEntry<Object, Object>>> mapSupplier =\n          \n          \n            \n                        Supplier<PeekableTouchableMap<Object, Object>> mapSupplier =", "author": "danberindei", "createdAt": "2020-02-12T16:47:21Z", "path": "core/src/main/java/org/infinispan/factories/DataContainerFactory.java", "diffHunk": "@@ -58,7 +62,8 @@ public Object construct(String componentName) {\n                return new OffHeapDataContainer();\n             }\n          } else if (shouldSegment) {\n-            Supplier mapSupplier = ConcurrentHashMap::new;\n+            Supplier<PeekableTouchableMap<Object, InternalCacheEntry<Object, Object>>> mapSupplier =", "originalCommit": "7fd819ede95445769ccdeac3c0f509e958fb5a38", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM4MzMwMA==", "url": "https://github.com/infinispan/infinispan/pull/7880#discussion_r378383300", "bodyText": "Updated", "author": "wburns", "createdAt": "2020-02-12T16:56:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM3NzE2MA=="}], "type": "inlineReview"}, {"oid": "fa2b35063c52d669c7bebceecee945b4b8971f22", "url": "https://github.com/infinispan/infinispan/commit/fa2b35063c52d669c7bebceecee945b4b8971f22", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks", "committedDate": "2020-02-12T16:56:40Z", "type": "commit"}, {"oid": "fa2b35063c52d669c7bebceecee945b4b8971f22", "url": "https://github.com/infinispan/infinispan/commit/fa2b35063c52d669c7bebceecee945b4b8971f22", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks", "committedDate": "2020-02-12T16:56:40Z", "type": "forcePushed"}]}