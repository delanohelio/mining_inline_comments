{"pr_number": 11556, "pr_title": "Add duplicate chat options to chatfilter", "pr_createdAt": "2020-05-12T01:29:52Z", "pr_url": "https://github.com/runelite/runelite/pull/11556", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxNjI1NQ==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423416255", "bodyText": "You need to configure your imports according to https://github.com/runelite/runelite/wiki/Code-Conventions", "author": "raiyni", "createdAt": "2020-05-12T01:48:40Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterPlugin.java", "diffHunk": "@@ -28,36 +28,47 @@\n import com.google.common.annotations.VisibleForTesting;\n import com.google.common.base.CharMatcher;\n import com.google.common.base.Splitter;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.LinkedListMultimap;\n+import com.google.common.collect.ListMultimap;\n import com.google.inject.Provides;\n-import java.util.ArrayList;\n-import java.util.List;\n-import java.util.Objects;\n-import java.util.regex.Matcher;\n-import java.util.regex.Pattern;\n-import java.util.regex.PatternSyntaxException;\n-import javax.inject.Inject;\n+import lombok.extern.slf4j.Slf4j;\n import net.runelite.api.ChatMessageType;\n import net.runelite.api.Client;\n+import net.runelite.api.GameState;\n import net.runelite.api.MessageNode;\n import net.runelite.api.Player;\n-import net.runelite.client.events.ConfigChanged;\n+import net.runelite.api.events.ChatMessage;\n+import net.runelite.api.events.GameStateChanged;\n import net.runelite.api.events.OverheadTextChanged;\n import net.runelite.api.events.ScriptCallbackEvent;\n import net.runelite.client.config.ConfigManager;\n import net.runelite.client.eventbus.Subscribe;\n+import net.runelite.client.events.ConfigChanged;\n import net.runelite.client.game.ClanManager;\n import net.runelite.client.plugins.Plugin;\n import net.runelite.client.plugins.PluginDescriptor;\n+import net.runelite.client.util.ColorUtil;\n import net.runelite.client.util.Text;\n import org.apache.commons.lang3.StringUtils;\n \n+import javax.inject.Inject;", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxNzEyNA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423417124", "bodyText": "This can just be inlined after stringStack[stringStackSize - 1] = message", "author": "raiyni", "createdAt": "2020-05-12T01:52:01Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterPlugin.java", "diffHunk": "@@ -292,4 +295,92 @@ boolean shouldFilterByName(final String playerName)\n \t\t}\n \t\treturn false;\n \t}\n+\n+\t@Subscribe\n+\tpublic void onChatMessage(ChatMessage chatMessage)\n+\t{\n+\t\tif (shouldCollapseMessageType(chatMessage.getType()))\n+\t\t{\n+\t\t\tduplicateChatCache.put(chatMessage.getName() + chatMessage.getMessage(), chatMessage.getMessageNode().getId());\n+\t\t}\n+\t\tif (duplicateChatCache.keySet().size() > config.maxTrackedChats())\n+\t\t{\n+\t\t\tcleanupChatTrackers();\n+\t\t}\n+\t}\n+\n+\t@Subscribe\n+\tpublic void onGameStateChanged(final GameStateChanged event)\n+\t{\n+\t\tif (event.getGameState() == GameState.HOPPING || event.getGameState() == GameState.LOGIN_SCREEN)\n+\t\t{\n+\t\t\tduplicateChatCache.clear();\n+\t\t}\n+\t}\n+\n+\tprivate void cleanupChatTrackers()\n+\t{\n+\t\tlog.debug(\"Cleaning up chat counts. Current size: {}\", duplicateChatCache.keySet().size());\n+\t\tduplicateChatCache.keySet().removeIf(key -> duplicateChatCache.get(key).size() <= 1);\n+\t\tlog.debug(\"After clearing messages with count == 1: {}\", duplicateChatCache.keySet().size());\n+\t\t// Keep at least a buffer of 10 free spaces\n+\t\tif (duplicateChatCache.keySet().size() > config.maxTrackedChats() - 10)\n+\t\t{\n+\t\t\tduplicateChatCache.clear();\n+\t\t}\n+\t}\n+\n+\tprivate boolean shouldFilterMessageType(ChatMessageType chatMessageType)\n+\t{\n+\t\tswitch (chatMessageType)\n+\t\t{\n+\t\t\tcase PUBLICCHAT:\n+\t\t\tcase MODCHAT:\n+\t\t\tcase AUTOTYPER:\n+\t\t\tcase PRIVATECHAT:\n+\t\t\tcase MODPRIVATECHAT:\n+\t\t\tcase FRIENDSCHAT:\n+\t\t\t\treturn true;\n+\t\t\tcase LOGINLOGOUTNOTIFICATION:\n+\t\t\tdefault:\n+\t\t\t\treturn false;\n+\t\t}\n+\t}\n+\n+\tprivate boolean shouldCollapseMessageType(ChatMessageType chatMessageType)\n+\t{\n+\t\tswitch (chatMessageType)\n+\t\t{\n+\t\t\tcase ENGINE:\n+\t\t\tcase GAMEMESSAGE:\n+\t\t\tcase NPC_EXAMINE:\n+\t\t\tcase OBJECT_EXAMINE:\n+\t\t\tcase SPAM:\n+\t\t\t\treturn true;\n+\t\t\tcase PUBLICCHAT:\n+\t\t\t\treturn config.consolidatePlayerChat();\n+\t\t\tdefault:\n+\t\t\t\treturn false;\n+\t\t}\n+\t}\n+\n+\tprivate boolean shouldBlockDuplicatePlayerChat(String fullMessage, ChatMessageType chatMessageType)\n+\t{\n+\t\treturn chatMessageType == ChatMessageType.PUBLICCHAT &&\n+\t\t\t\tconfig.maxRepeatedPublicChats() > 1 &&\n+\t\t\t\tduplicateChatCache.get(fullMessage).size() > config.maxRepeatedPublicChats();\n+\t}\n+\n+\tprivate String addCountToGameMessage(String gameMessage, int count)", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxNzkyMw==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423417923", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tname = \"Consolidate Player Chat\",\n          \n          \n            \n            \t\tname = \"Collapse Player Chat\",", "author": "raiyni", "createdAt": "2020-05-12T01:54:59Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +111,49 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Default count color\",\n+\t\tdescription = \"Configures the color for the count of game messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"consolidatePlayerChat\",\n+\t\tname = \"Consolidate Player Chat\",", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODA1NQ==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423418055", "bodyText": "It should be configurable to collapse other message types.", "author": "raiyni", "createdAt": "2020-05-12T01:55:24Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterPlugin.java", "diffHunk": "@@ -292,4 +295,92 @@ boolean shouldFilterByName(final String playerName)\n \t\t}\n \t\treturn false;\n \t}\n+\n+\t@Subscribe\n+\tpublic void onChatMessage(ChatMessage chatMessage)\n+\t{\n+\t\tif (shouldCollapseMessageType(chatMessage.getType()))\n+\t\t{\n+\t\t\tduplicateChatCache.put(chatMessage.getName() + chatMessage.getMessage(), chatMessage.getMessageNode().getId());\n+\t\t}\n+\t\tif (duplicateChatCache.keySet().size() > config.maxTrackedChats())\n+\t\t{\n+\t\t\tcleanupChatTrackers();\n+\t\t}\n+\t}\n+\n+\t@Subscribe\n+\tpublic void onGameStateChanged(final GameStateChanged event)\n+\t{\n+\t\tif (event.getGameState() == GameState.HOPPING || event.getGameState() == GameState.LOGIN_SCREEN)\n+\t\t{\n+\t\t\tduplicateChatCache.clear();\n+\t\t}\n+\t}\n+\n+\tprivate void cleanupChatTrackers()\n+\t{\n+\t\tlog.debug(\"Cleaning up chat counts. Current size: {}\", duplicateChatCache.keySet().size());\n+\t\tduplicateChatCache.keySet().removeIf(key -> duplicateChatCache.get(key).size() <= 1);\n+\t\tlog.debug(\"After clearing messages with count == 1: {}\", duplicateChatCache.keySet().size());\n+\t\t// Keep at least a buffer of 10 free spaces\n+\t\tif (duplicateChatCache.keySet().size() > config.maxTrackedChats() - 10)\n+\t\t{\n+\t\t\tduplicateChatCache.clear();\n+\t\t}\n+\t}\n+\n+\tprivate boolean shouldFilterMessageType(ChatMessageType chatMessageType)\n+\t{\n+\t\tswitch (chatMessageType)\n+\t\t{\n+\t\t\tcase PUBLICCHAT:\n+\t\t\tcase MODCHAT:\n+\t\t\tcase AUTOTYPER:\n+\t\t\tcase PRIVATECHAT:\n+\t\t\tcase MODPRIVATECHAT:\n+\t\t\tcase FRIENDSCHAT:\n+\t\t\t\treturn true;\n+\t\t\tcase LOGINLOGOUTNOTIFICATION:\n+\t\t\tdefault:\n+\t\t\t\treturn false;\n+\t\t}\n+\t}\n+\n+\tprivate boolean shouldCollapseMessageType(ChatMessageType chatMessageType)\n+\t{\n+\t\tswitch (chatMessageType)\n+\t\t{\n+\t\t\tcase ENGINE:\n+\t\t\tcase GAMEMESSAGE:\n+\t\t\tcase NPC_EXAMINE:\n+\t\t\tcase OBJECT_EXAMINE:\n+\t\t\tcase SPAM:\n+\t\t\t\treturn true;", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzMTY5NA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423431694", "bodyText": "What other chat types would you want to collapse? I believe the above are all of the \"regular\" game chats that are repetitive. Public chat is the only other kind of chat I would think would make sense to collapse.", "author": "CoreyForsyth", "createdAt": "2020-05-12T02:52:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODA1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNjMzOA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423436338", "bodyText": "There is no way to turn off the collapsing for these types other than turning the plugin off.", "author": "raiyni", "createdAt": "2020-05-12T03:11:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODA1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzOTIzOA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423439238", "bodyText": "Ahh, my apologies. I just pushed a change that adds that as a configuration. I left that out because I initially made this as a separate plugin but I ended up merging it into the chatfilter plugin instead.", "author": "CoreyForsyth", "createdAt": "2020-05-12T03:23:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODA1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODIwNA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423418204", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tdescription = \"Configures consolidation of player chat\",\n          \n          \n            \n            \t\tdescription = \"Configures if duplicate player chat can be collapsed.\",", "author": "raiyni", "createdAt": "2020-05-12T01:56:00Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +111,49 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Default count color\",\n+\t\tdescription = \"Configures the color for the count of game messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"consolidatePlayerChat\",\n+\t\tname = \"Consolidate Player Chat\",\n+\t\tdescription = \"Configures consolidation of player chat\",", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODI1OQ==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423418259", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tdefault boolean consolidatePlayerChat()\n          \n          \n            \n            \tdefault boolean collapsePlayerChat()", "author": "raiyni", "createdAt": "2020-05-12T01:56:13Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +111,49 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Default count color\",\n+\t\tdescription = \"Configures the color for the count of game messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"consolidatePlayerChat\",\n+\t\tname = \"Consolidate Player Chat\",\n+\t\tdescription = \"Configures consolidation of player chat\",\n+\t\tposition = 9\n+\t)\n+\tdefault boolean consolidatePlayerChat()", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODMzMQ==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423418331", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tkeyName = \"consolidatePlayerChat\",\n          \n          \n            \n            \t\tkeyName = \"collapsePlayerChat\",", "author": "raiyni", "createdAt": "2020-05-12T01:56:26Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +111,49 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Default count color\",\n+\t\tdescription = \"Configures the color for the count of game messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"consolidatePlayerChat\",", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODUwNQ==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423418505", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tname = \"Default count color\",\n          \n          \n            \n            \t\tname = \"Collapsed Count Color\",", "author": "raiyni", "createdAt": "2020-05-12T01:57:09Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +111,49 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Default count color\",", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQxODY3NA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r423418674", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tdescription = \"Configures the color for the count of game messages\",\n          \n          \n            \n            \t\tdescription = \"Configures the color for the number of collapsed messages\",", "author": "raiyni", "createdAt": "2020-05-12T01:57:43Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +111,49 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Default count color\",\n+\t\tdescription = \"Configures the color for the count of game messages\",", "originalCommit": "b7bf602d04e6a539b749dd96839a0a9a7eec5ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3NDc3Mg==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r424874772", "bodyText": "Your indents here are one level too far.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tkeyName = \"collapseGameChat\",\n          \n          \n            \n            \t\t\tname = \"Collapse Game Chat\",\n          \n          \n            \n            \t\t\tdescription = \"Configures if duplicate game chat can be collapsed\",\n          \n          \n            \n            \t\t\tposition = 9\n          \n          \n            \n            \t\tkeyName = \"collapseGameChat\",\n          \n          \n            \n            \t\tname = \"Collapse Game Chat\",\n          \n          \n            \n            \t\tdescription = \"Configures if duplicate game chat can be collapsed\",\n          \n          \n            \n            \t\tposition = 9", "author": "Nightfirecat", "createdAt": "2020-05-14T05:13:30Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +110,60 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Collapsed Count Color\",\n+\t\tdescription = \"Configures the color for the number of collapsed messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\t\tkeyName = \"collapseGameChat\",\n+\t\t\tname = \"Collapse Game Chat\",\n+\t\t\tdescription = \"Configures if duplicate game chat can be collapsed\",\n+\t\t\tposition = 9", "originalCommit": "17c5c04888f133b49570c72e9e1f242e8bc8d366", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3NTE1Mg==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r424875152", "bodyText": "Also the description for the added configs should be written into more active statements, eg. \"Collapse duplicate game chat messages into a single line\"", "author": "Nightfirecat", "createdAt": "2020-05-14T05:15:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3NDc3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3NTM5MA==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r424875390", "bodyText": "Will users care about this?", "author": "Nightfirecat", "createdAt": "2020-05-14T05:16:06Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +110,60 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Collapsed Count Color\",\n+\t\tdescription = \"Configures the color for the number of collapsed messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\t\tkeyName = \"collapseGameChat\",\n+\t\t\tname = \"Collapse Game Chat\",\n+\t\t\tdescription = \"Configures if duplicate game chat can be collapsed\",\n+\t\t\tposition = 9\n+\t)\n+\tdefault boolean collapseGameChat()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"collapsePlayerChat\",\n+\t\tname = \"Collapse Player Chat\",\n+\t\tdescription = \"Configures if duplicate player chat can be collapsed\",\n+\t\tposition = 10\n+\t)\n+\tdefault boolean collapsePlayerChat()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"maxRepeatedPublicChats\",\n+\t\tname = \"Max repeated public chats\",\n+\t\tdescription = \"Blocks messages if repeated this many times. 0 is off\",\n+\t\tposition = 11\n+\t)\n+\tdefault int maxRepeatedPublicChats()\n+\t{\n+\t\treturn 5;\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"maxTrackedChats\",\n+\t\tname = \"Max Tracked Chats\",\n+\t\tdescription = \"Configures the maximum number of chats that are tracked. Suggested 500\",\n+\t\tposition = 12\n+\t)\n+\t@Range(min = 100)\n+\tdefault int maxTrackedChats()", "originalCommit": "17c5c04888f133b49570c72e9e1f242e8bc8d366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "74bd6cfc1aa61151e25eb6b564397a1d69df9c9f", "url": "https://github.com/runelite/runelite/commit/74bd6cfc1aa61151e25eb6b564397a1d69df9c9f", "message": "Add duplicate chat options to chatfilter", "committedDate": "2020-05-14T21:36:50Z", "type": "forcePushed"}, {"oid": "3fe34815f18aaeb709704fc4c7363bb66b015eb4", "url": "https://github.com/runelite/runelite/commit/3fe34815f18aaeb709704fc4c7363bb66b015eb4", "message": "Add duplicate chat options to chatfilter", "committedDate": "2020-05-14T22:02:13Z", "type": "forcePushed"}, {"oid": "ad9edf3e3be10a4030f7f6b3c627737f3cfb2b21", "url": "https://github.com/runelite/runelite/commit/ad9edf3e3be10a4030f7f6b3c627737f3cfb2b21", "message": "Add filter duplicate public chat option to chatfilter", "committedDate": "2020-05-21T22:59:53Z", "type": "forcePushed"}, {"oid": "10b5bd2a2945ce5954227ee6fc59db3b30ac5771", "url": "https://github.com/runelite/runelite/commit/10b5bd2a2945ce5954227ee6fc59db3b30ac5771", "message": "Add filter duplicate public chat option to chatfilter", "committedDate": "2020-05-21T23:16:59Z", "type": "forcePushed"}, {"oid": "65c3128deaa2274b67906813132e0b58ec41a3cd", "url": "https://github.com/runelite/runelite/commit/65c3128deaa2274b67906813132e0b58ec41a3cd", "message": "Add filter duplicate public chat option to chatfilter", "committedDate": "2020-05-22T00:29:25Z", "type": "forcePushed"}, {"oid": "dda411f5babaff25d781ca3c2be3148dbc15aa04", "url": "https://github.com/runelite/runelite/commit/dda411f5babaff25d781ca3c2be3148dbc15aa04", "message": "Add filter duplicate public chat option to chatfilter", "committedDate": "2020-05-22T01:37:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMyNjYyMw==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r429326623", "bodyText": "IMO this seems kind of useless? If you just append the count it would take the color of whatever the message was, probably", "author": "Adam-", "createdAt": "2020-05-22T15:51:47Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +109,37 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Collapsed Count Color\",\n+\t\tdescription = \"Configures the color for the number of collapsed messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()", "originalCommit": "02d6657dad264a5b035a01741479c4e1c2d63148", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMyNjg0Mw==", "url": "https://github.com/runelite/runelite/pull/11556#discussion_r429326843", "bodyText": "This doesn't belong in this commit", "author": "Adam-", "createdAt": "2020-05-22T15:52:11Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatfilter/ChatFilterConfig.java", "diffHunk": "@@ -108,4 +109,37 @@ default boolean filterLogin()\n \t{\n \t\treturn false;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"chatCountColor\",\n+\t\tname = \"Collapsed Count Color\",\n+\t\tdescription = \"Configures the color for the number of collapsed messages\",\n+\t\tposition = 8\n+\t)\n+\tdefault Color chatCountColor()\n+\t{\n+\t\treturn new Color(0xA00080);\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"collapseGameChat\",\n+\t\tname = \"Collapse Game Chat\",\n+\t\tdescription = \"Collapse duplicate game chat messages into a single line\",\n+\t\tposition = 9\n+\t)\n+\tdefault boolean collapseGameChat()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"collapsePlayerChat\",\n+\t\tname = \"Collapse Player Chat\",\n+\t\tdescription = \"Collapse duplicate player chat messages into a single line\",\n+\t\tposition = 10\n+\t)\n+\tdefault boolean collapsePlayerChat()", "originalCommit": "02d6657dad264a5b035a01741479c4e1c2d63148", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0ae2822bef34f52409ac55b01e869a7e10b5df63", "url": "https://github.com/runelite/runelite/commit/0ae2822bef34f52409ac55b01e869a7e10b5df63", "message": "chatfilter: add duplicate public chat filter\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-22T18:49:46Z", "type": "forcePushed"}, {"oid": "5708ebf9d504c548d4498516d243dafbebc9671e", "url": "https://github.com/runelite/runelite/commit/5708ebf9d504c548d4498516d243dafbebc9671e", "message": "chatfilter: add option to block repeated public messages\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-22T19:16:55Z", "type": "forcePushed"}, {"oid": "02c9928017269d5c3d988d28ec846239ff406214", "url": "https://github.com/runelite/runelite/commit/02c9928017269d5c3d988d28ec846239ff406214", "message": "chatfilter: add option to block repeated public messages\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-22T19:22:49Z", "type": "forcePushed"}, {"oid": "a687ad644b97bbae7d56c5e2e55e6e78fbcb2c3b", "url": "https://github.com/runelite/runelite/commit/a687ad644b97bbae7d56c5e2e55e6e78fbcb2c3b", "message": "chatfilter: add option to block repeated public messages\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-22T19:34:28Z", "type": "forcePushed"}, {"oid": "a8ab2a0f67da96269e01a6f4aac4373863f1846b", "url": "https://github.com/runelite/runelite/commit/a8ab2a0f67da96269e01a6f4aac4373863f1846b", "message": "chatfilter: add collapse duplicate chat option\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-23T16:50:20Z", "type": "commit"}, {"oid": "cb6a0431d0a8de792bc64962489bea1ab9c4ca6a", "url": "https://github.com/runelite/runelite/commit/cb6a0431d0a8de792bc64962489bea1ab9c4ca6a", "message": "chatfilter: add option to block repeated public messages\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-23T16:50:47Z", "type": "commit"}, {"oid": "cb6a0431d0a8de792bc64962489bea1ab9c4ca6a", "url": "https://github.com/runelite/runelite/commit/cb6a0431d0a8de792bc64962489bea1ab9c4ca6a", "message": "chatfilter: add option to block repeated public messages\n\nCo-authored-by: Adam <Adam@sigterm.info>", "committedDate": "2020-05-23T16:50:47Z", "type": "forcePushed"}]}