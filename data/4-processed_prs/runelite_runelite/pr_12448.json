{"pr_number": 12448, "pr_title": "Motherlode mine sack ores overlay", "pr_createdAt": "2020-09-04T15:19:56Z", "pr_url": "https://github.com/runelite/runelite/pull/12448", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjIyNg==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497226226", "bodyText": "Why is this added? It's not used...", "author": "Nightfirecat", "createdAt": "2020-09-30T03:44:58Z", "path": "runelite-client/src/main/java/net/runelite/client/game/ItemManager.java", "diffHunk": "@@ -460,6 +460,23 @@ public AsyncBufferedImage getImage(int itemId)\n \t * @param quantity\n \t * @return\n \t */\n+\tpublic AsyncBufferedImage getImage(int itemId, int quantity)", "originalCommit": "5c51785d395b00f2b2fe11f1062f5d3e7852c412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ4ODc5MQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497488791", "bodyText": "I had added it mostly to keep in line w/ how I've always done overloaded methods in Java (which is have the least qualified method call increasingly verbose methods w/ defaults) but there is no actual reason for it so I've removed this method overload.", "author": "SirGirion", "createdAt": "2020-09-30T12:59:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjIyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjQ3MQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497226471", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tname = \"Toggle item icons\",\n          \n          \n            \n            \t\tname = \"Show ore icons\",", "author": "Nightfirecat", "createdAt": "2020-09-30T03:45:57Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeConfig.java", "diffHunk": "@@ -123,4 +123,14 @@ default boolean showOresFound()\n \t{\n \t\treturn true;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"showLootAsItems\",\n+\t\tname = \"Toggle item icons\",", "originalCommit": "5c51785d395b00f2b2fe11f1062f5d3e7852c412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ4ODk4NQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497488985", "bodyText": "Change made", "author": "SirGirion", "createdAt": "2020-09-30T12:59:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjQ3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjU3NA==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497226574", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tdescription = \"Shows the gems/ores as their items rather than text\"\n          \n          \n            \n            \t\tdescription = \"Display collected ores and gems as item images instead of text\"", "author": "Nightfirecat", "createdAt": "2020-09-30T03:46:23Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeConfig.java", "diffHunk": "@@ -123,4 +123,14 @@ default boolean showOresFound()\n \t{\n \t\treturn true;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"showLootAsItems\",\n+\t\tname = \"Toggle item icons\",\n+\t\tdescription = \"Shows the gems/ores as their items rather than text\"", "originalCommit": "5c51785d395b00f2b2fe11f1062f5d3e7852c412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ4OTE3Mw==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497489173", "bodyText": "Change made", "author": "SirGirion", "createdAt": "2020-09-30T12:59:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjU3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjY4MQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497226681", "bodyText": "Change this and the keyName to showLootIcons() or something similar", "author": "Nightfirecat", "createdAt": "2020-09-30T03:46:56Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeConfig.java", "diffHunk": "@@ -123,4 +123,14 @@ default boolean showOresFound()\n \t{\n \t\treturn true;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"showLootAsItems\",\n+\t\tname = \"Toggle item icons\",\n+\t\tdescription = \"Shows the gems/ores as their items rather than text\"\n+\t)\n+\tdefault boolean showLootAsItems()", "originalCommit": "5c51785d395b00f2b2fe11f1062f5d3e7852c412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ4OTA3OQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497489079", "bodyText": "Change made", "author": "SirGirion", "createdAt": "2020-09-30T12:59:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNjY4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNzA0MA==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497227040", "bodyText": "This doesn't need to be changed.", "author": "Nightfirecat", "createdAt": "2020-09-30T03:48:37Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeOreOverlay.java", "diffHunk": "@@ -65,60 +71,68 @@ public Dimension render(Graphics2D graphics)\n \t\tint runiteFound = session.getRuniteFound();\n \n \t\t// If no ores have even been collected, don't bother showing anything\n-\t\tif (nuggetsFound == 0 && coalFound == 0 && goldFound == 0 && mithrilFound == 0\n-\t\t\t&& adamantiteFound == 0 && runiteFound == 0)\n+\t\t// This will statement is true iff all ore counts are 0\n+\t\tif ((nuggetsFound | coalFound | goldFound | mithrilFound | adamantiteFound | runiteFound) == 0)", "originalCommit": "5c51785d395b00f2b2fe11f1062f5d3e7852c412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ4OTQ4MA==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497489480", "bodyText": "Yeah was trying to be fancy and save some CPU cycles but grand scheme doesn't matter so will revert back.", "author": "SirGirion", "createdAt": "2020-09-30T13:00:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNzA0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNzE3OQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497227179", "bodyText": "This should only display collected ores, and not add images for ores which have 0 quantity.", "author": "Nightfirecat", "createdAt": "2020-09-30T03:49:18Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeOreOverlay.java", "diffHunk": "@@ -65,60 +71,68 @@ public Dimension render(Graphics2D graphics)\n \t\tint runiteFound = session.getRuniteFound();\n \n \t\t// If no ores have even been collected, don't bother showing anything\n-\t\tif (nuggetsFound == 0 && coalFound == 0 && goldFound == 0 && mithrilFound == 0\n-\t\t\t&& adamantiteFound == 0 && runiteFound == 0)\n+\t\t// This will statement is true iff all ore counts are 0\n+\t\tif ((nuggetsFound | coalFound | goldFound | mithrilFound | adamantiteFound | runiteFound) == 0)\n \t\t{\n \t\t\treturn null;\n \t\t}\n \n-\t\tpanelComponent.getChildren().add(TitleComponent.builder().text(\"Ores found\").build());\n-\n-\t\tif (nuggetsFound > 0)\n-\t\t{\n-\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n-\t\t\t\t.left(\"Nuggets:\")\n-\t\t\t\t.right(Integer.toString(nuggetsFound))\n-\t\t\t\t.build());\n-\t\t}\n-\n-\t\tif (coalFound > 0)\n-\t\t{\n-\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n-\t\t\t\t.left(\"Coal:\")\n-\t\t\t\t.right(Integer.toString(coalFound))\n-\t\t\t\t.build());\n-\t\t}\n-\n-\t\tif (goldFound > 0)\n+\t\tif (config.showLootAsItems())\n \t\t{\n-\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n-\t\t\t\t.left(\"Gold:\")\n-\t\t\t\t.right(Integer.toString(goldFound))\n-\t\t\t\t.build());\n+\t\t\tpanelComponent.setOrientation(ComponentOrientation.HORIZONTAL);\n+\t\t\tpanelComponent.getChildren().add(new ImageComponent(itemManager.getImage(ItemID.GOLDEN_NUGGET, nuggetsFound, true)));\n+\t\t\tpanelComponent.getChildren().add(new ImageComponent(itemManager.getImage(ItemID.COAL, coalFound, true)));\n+\t\t\tpanelComponent.getChildren().add(new ImageComponent(itemManager.getImage(ItemID.GOLD_ORE, goldFound, true)));\n+\t\t\tpanelComponent.getChildren().add(new ImageComponent(itemManager.getImage(ItemID.MITHRIL_ORE, mithrilFound, true)));\n+\t\t\tpanelComponent.getChildren().add(new ImageComponent(itemManager.getImage(ItemID.ADAMANTITE_ORE, adamantiteFound, true)));\n+\t\t\tpanelComponent.getChildren().add(new ImageComponent(itemManager.getImage(ItemID.RUNITE_ORE, runiteFound, true)));", "originalCommit": "5c51785d395b00f2b2fe11f1062f5d3e7852c412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ5MDIyMA==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r497490220", "bodyText": "Good call, thought blast furnace showed all ores so that is why I did it this way but I missed the crucial if (count == 0) { continue; } in that overlay.", "author": "SirGirion", "createdAt": "2020-09-30T13:01:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzIyNzE3OQ=="}], "type": "inlineReview"}, {"oid": "156d0a038186e0d693d91df8bfe2d08da52649dd", "url": "https://github.com/runelite/runelite/commit/156d0a038186e0d693d91df8bfe2d08da52649dd", "message": "motherlode: address code review comments for adding ore as icon overlay", "committedDate": "2020-09-30T13:02:49Z", "type": "forcePushed"}, {"oid": "e67f05368131ff00acfe30b1ee18b1e057022608", "url": "https://github.com/runelite/runelite/commit/e67f05368131ff00acfe30b1ee18b1e057022608", "message": "motherlode: address code review comments for adding ore as icon overlay", "committedDate": "2020-09-30T13:05:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU4Mjk2OQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r500582969", "bodyText": "This is not right.", "author": "Nightfirecat", "createdAt": "2020-10-06T20:41:57Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeOreOverlay.java", "diffHunk": "@@ -71,21 +71,39 @@ public Dimension render(Graphics2D graphics)\n \t\tint runiteFound = session.getRuniteFound();\n \n \t\t// If no ores have even been collected, don't bother showing anything\n-\t\t// This will statement is true iff all ore counts are 0\n-\t\tif ((nuggetsFound | coalFound | goldFound | mithrilFound | adamantiteFound | runiteFound) == 0)\n+\t\tif (nuggetsFound == 0 || coalFound == 0 || goldFound == 0 || mithrilFound == 0\n+\t\t\t|| adamantiteFound == 0 || runiteFound == 0)", "originalCommit": "e67f05368131ff00acfe30b1ee18b1e057022608", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA0MjM2NQ==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r501042365", "bodyText": "Whoops you're right, made a whoopsie re-typing this.", "author": "SirGirion", "createdAt": "2020-10-07T14:07:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU4Mjk2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjE2MzkyNg==", "url": "https://github.com/runelite/runelite/pull/12448#discussion_r502163926", "bodyText": "This is still wrong.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t|| adamantiteFound == 0 && runiteFound == 0)\n          \n          \n            \n            \t\t\t&& adamantiteFound == 0 && runiteFound == 0)", "author": "Nightfirecat", "createdAt": "2020-10-09T03:25:08Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/motherlode/MotherlodeOreOverlay.java", "diffHunk": "@@ -66,59 +72,85 @@ public Dimension render(Graphics2D graphics)\n \n \t\t// If no ores have even been collected, don't bother showing anything\n \t\tif (nuggetsFound == 0 && coalFound == 0 && goldFound == 0 && mithrilFound == 0\n-\t\t\t&& adamantiteFound == 0 && runiteFound == 0)\n+\t\t\t|| adamantiteFound == 0 && runiteFound == 0)", "originalCommit": "212777b21470eb3ca6215dfb1ae0f7e19a6c09d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f89b9cb8785b1cff178420d00f92f3a9f4bbf346", "url": "https://github.com/runelite/runelite/commit/f89b9cb8785b1cff178420d00f92f3a9f4bbf346", "message": "motherlode: Add option to show collected ore/gem icons", "committedDate": "2020-10-12T19:57:59Z", "type": "commit"}, {"oid": "f89b9cb8785b1cff178420d00f92f3a9f4bbf346", "url": "https://github.com/runelite/runelite/commit/f89b9cb8785b1cff178420d00f92f3a9f4bbf346", "message": "motherlode: Add option to show collected ore/gem icons", "committedDate": "2020-10-12T19:57:59Z", "type": "forcePushed"}]}