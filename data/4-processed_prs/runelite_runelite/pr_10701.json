{"pr_number": 10701, "pr_title": "Optimize loottracker UI", "pr_createdAt": "2020-01-31T06:39:15Z", "pr_url": "https://github.com/runelite/runelite/pull/10701", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1MTY3Mg==", "url": "https://github.com/runelite/runelite/pull/10701#discussion_r373351672", "bodyText": "This sentence is kind of spaghetti. Is it meant to say something along the lines of valid components must be resized when they are removed for some reason?", "author": "Nightfirecat", "createdAt": "2020-01-31T07:51:03Z", "path": "runelite-client/src/main/java/net/runelite/client/util/SwingUtil.java", "diffHunk": "@@ -293,4 +299,54 @@ public static void addModalTooltip(AbstractButton button, String on, String off)\n \t{\n \t\tbutton.addItemListener(l -> button.setToolTipText(button.isSelected() ? on : off));\n \t}\n+\n+\t/**\n+\t * Removes all of a component's children faster than calling removeAll() on it in many cases\n+\t */\n+\tpublic static void fastRemoveAll(Container c)\n+\t{\n+\t\t// If we are not on the EDT this will deadlock, in addition to being totally unsafe\n+\t\tassert SwingUtilities.isEventDispatchThread();\n+\n+\t\t// when a component is removed is has to be resize for some reason, but only if its valid", "originalCommit": "ce6e4cffa3dcd740ad1cf98663def66c53289830", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY4Mjc1Mw==", "url": "https://github.com/runelite/runelite/pull/10701#discussion_r373682753", "bodyText": "it is supposed to say\nwhen a component is removed it has to be resized for some reason, but only if it's valid", "author": "abextm", "createdAt": "2020-01-31T20:59:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1MTY3Mg=="}], "type": "inlineReview"}, {"oid": "a5f5fe69407aed7422d4f2b48377e469efd56f56", "url": "https://github.com/runelite/runelite/commit/a5f5fe69407aed7422d4f2b48377e469efd56f56", "message": "loottracker: Optimize panel rebuild\n\nRemoving components in swing can be incredibly slow under serveral\ncircumstances. This adds a special removeAll that can take less\ntime in some cases", "committedDate": "2020-01-31T23:33:07Z", "type": "commit"}, {"oid": "aa85eb6a6e350f1fed4267b0edda045f00080616", "url": "https://github.com/runelite/runelite/commit/aa85eb6a6e350f1fed4267b0edda045f00080616", "message": "loottracker: Handle rollover/select icons correctly", "committedDate": "2020-01-31T23:33:07Z", "type": "commit"}, {"oid": "aa85eb6a6e350f1fed4267b0edda045f00080616", "url": "https://github.com/runelite/runelite/commit/aa85eb6a6e350f1fed4267b0edda045f00080616", "message": "loottracker: Handle rollover/select icons correctly", "committedDate": "2020-01-31T23:33:07Z", "type": "forcePushed"}]}