{"pr_number": 610, "pr_title": "fix: switch from log4j to SLF4J", "pr_createdAt": "2020-12-06T07:00:59Z", "pr_url": "https://github.com/twilio/twilio-java/pull/610", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ0ODIxNg==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r545448216", "bodyText": "Why does the groupID not change?", "author": "thinkingserious", "createdAt": "2020-12-17T22:35:41Z", "path": "pom.xml", "diffHunk": "@@ -240,13 +251,15 @@\n     </dependency>\n     <dependency>\n       <groupId>org.apache.logging.log4j</groupId>", "originalCommit": "309da69153e4b257916f58139f0c6a66dfc7a1ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NTgwNDc5OA==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r565804798", "bodyText": "https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/", "author": "thinkingserious", "createdAt": "2021-01-28T03:59:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ0ODIxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ1NDUyNg==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r545454526", "bodyText": "We need to update the example (perhaps java.util.logging, logback or log4j).", "author": "thinkingserious", "createdAt": "2020-12-17T22:49:25Z", "path": "README.md", "diffHunk": "@@ -93,11 +93,11 @@ Twilio.setEdge(\"sydney\");\n This will result in the `hostname` transforming from `api.twilio.com` to `api.sydney.au1.twilio.com`.\n \n ### Enable Debug Logging\n-In order to enable debug logging, create a configuration file named log4j2.xml that defines the logger at the root level to at least 'debug'. An example of the configuration file can be found [here](src/main/java/com/twilio/example/log4j2.xml). For more configuration options please see the log4j configuration [documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html).\n-```java\n-Twilio.init(accountSid, authToken);\n-Twilio.setLoggerConfiguration(\"path/to/log4j2.xml\");\n-```\n+\n+This library uses SFL4J for logging. Consult the SFL4J documentation", "originalCommit": "309da69153e4b257916f58139f0c6a66dfc7a1ba", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ1NzY5Mw==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r545457693", "bodyText": "Why the exclusion here in the test scope?", "author": "thinkingserious", "createdAt": "2020-12-17T22:55:56Z", "path": "pom.xml", "diffHunk": "@@ -231,6 +236,12 @@\n       <artifactId>archunit</artifactId>\n       <version>0.14.1</version>\n       <scope>test</scope>\n+      <exclusions>", "originalCommit": "309da69153e4b257916f58139f0c6a66dfc7a1ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NTgwNDQ0OA==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r565804448", "bodyText": "When removed, this is the error:\nDependency convergence error for org.slf4j:slf4j-api:1.7.30 paths to dependency are:\n+-com.twilio.sdk:twilio:8.6.0\n  +-org.slf4j:slf4j-api:1.7.30\nand\n+-com.twilio.sdk:twilio:8.6.0\n  +-com.tngtech.archunit:archunit:0.14.1\n    +-org.slf4j:slf4j-api:1.7.25\nReference: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html#dependency-exclusions", "author": "thinkingserious", "createdAt": "2021-01-28T03:58:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ1NzY5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ1OTk1MQ==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r545459951", "bodyText": "Since we are removing this function, we need to document how to configure the logging. (see comment in the README.md)", "author": "thinkingserious", "createdAt": "2020-12-17T23:01:02Z", "path": "src/main/java/com/twilio/Twilio.java", "diffHunk": "@@ -154,19 +151,6 @@ public static synchronized void setEdge(final String edge) {\n         Twilio.edge = edge;\n     }\n \n-    /**\n-     * Set the logger configuration file path.\n-     *\n-     * @param filePath path to logging configuration file\n-     * @param loggerContext defaults to false to get the appropriate logger context for the caller.\n-     */\n-    public static synchronized void setLoggerConfiguration(final String filePath, final boolean... loggerContext) {", "originalCommit": "309da69153e4b257916f58139f0c6a66dfc7a1ba", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "30328656b83ccb12fa4054e38cf109a8a5605228", "url": "https://github.com/twilio/twilio-java/commit/30328656b83ccb12fa4054e38cf109a8a5605228", "message": "SLF4J logging api\n\nThis is a proof of concept. It demonstrates how SLF4J could be used\nas the Logging API.\n\nSFL4J is the standard logging API for open source Java libraries.", "committedDate": "2020-12-24T18:09:41Z", "type": "forcePushed"}, {"oid": "15271f9583388de48b05b57f53c185555a4a2b1b", "url": "https://github.com/twilio/twilio-java/commit/15271f9583388de48b05b57f53c185555a4a2b1b", "message": "SLF4J logging api\n\nThis is a proof of concept. It demonstrates how SLF4J could be used\nas the Logging API.\n\nSFL4J is the standard logging API for open source Java libraries.", "committedDate": "2020-12-24T18:11:30Z", "type": "commit"}, {"oid": "15271f9583388de48b05b57f53c185555a4a2b1b", "url": "https://github.com/twilio/twilio-java/commit/15271f9583388de48b05b57f53c185555a4a2b1b", "message": "SLF4J logging api\n\nThis is a proof of concept. It demonstrates how SLF4J could be used\nas the Logging API.\n\nSFL4J is the standard logging API for open source Java libraries.", "committedDate": "2020-12-24T18:11:30Z", "type": "forcePushed"}, {"oid": "ae5d72554cef93a60af1627446a40ca56c8579ca", "url": "https://github.com/twilio/twilio-java/commit/ae5d72554cef93a60af1627446a40ca56c8579ca", "message": "Merge branch 'main' into slf4j-logging-api", "committedDate": "2021-01-26T18:12:56Z", "type": "commit"}, {"oid": "dc1777b3918136d983c49a0e6aac80ca0127ad3a", "url": "https://github.com/twilio/twilio-java/commit/dc1777b3918136d983c49a0e6aac80ca0127ad3a", "message": "add simple example", "committedDate": "2021-01-28T05:27:38Z", "type": "commit"}, {"oid": "ba2b873a4ec423db68df45e5ff105f16c33ea9b9", "url": "https://github.com/twilio/twilio-java/commit/ba2b873a4ec423db68df45e5ff105f16c33ea9b9", "message": "Merge branch 'main' into slf4j-logging-api", "committedDate": "2021-01-28T05:36:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjI5OTAwNQ==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r566299005", "bodyText": "We need to add a check either within this function or before this function is called to make sure logger.isDebugEnabled(). Within the logRequest() function can we add some additional logic to make sure headerParams and queryParams are not null before we log them?", "author": "JenniferMah", "createdAt": "2021-01-28T18:01:33Z", "path": "src/main/java/com/twilio/http/TwilioRestClient.java", "diffHunk": "@@ -59,11 +58,14 @@ public Response request(final Request request) {\n \n         logRequest(request);", "originalCommit": "ba2b873a4ec423db68df45e5ff105f16c33ea9b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Njg1NTczMQ==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r566855731", "bodyText": "Great catch! isEmpty() does not catch null values.", "author": "thinkingserious", "createdAt": "2021-01-29T14:24:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjI5OTAwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjM0NDM4Mg==", "url": "https://github.com/twilio/twilio-java/pull/610#discussion_r566344382", "bodyText": "Should we remove the the example .xml file in the examples directory since it is no longer  referenced in the read.me?", "author": "JenniferMah", "createdAt": "2021-01-28T19:15:01Z", "path": "src/test/resources/log4j2.xml", "diffHunk": "@@ -0,0 +1,13 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "ba2b873a4ec423db68df45e5ff105f16c33ea9b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2a21429b12b0d42866b819898b829185bb5381de", "url": "https://github.com/twilio/twilio-java/commit/2a21429b12b0d42866b819898b829185bb5381de", "message": "add null check and debug logic", "committedDate": "2021-01-29T14:30:12Z", "type": "commit"}, {"oid": "b75a9bfaa033149d29dfc063b259693983ab6171", "url": "https://github.com/twilio/twilio-java/commit/b75a9bfaa033149d29dfc063b259693983ab6171", "message": "Merge branch 'slf4j-logging-api' of https://github.com/sullis/twilio-java into slf4j-logging-api", "committedDate": "2021-01-29T14:30:38Z", "type": "commit"}]}