{"pr_number": 1989, "pr_title": "iOS port: remove Java Runtime specifics", "pr_createdAt": "2020-04-16T05:20:24Z", "pr_url": "https://github.com/graphhopper/graphhopper/pull/1989", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzNDk5NQ==", "url": "https://github.com/graphhopper/graphhopper/pull/1989#discussion_r410234995", "bodyText": "Why do you need to remove ElevationProvider here? It is just an interface and should not make a problem or does it? Couldn't you set ElevationProvider.NOOP?\nThe advantage would be that the CI pipeline would not fail.", "author": "karussell", "createdAt": "2020-04-17T13:49:16Z", "path": "core/src/main/java/com/graphhopper/GraphHopper.java", "diffHunk": "@@ -620,7 +620,7 @@ private static ElevationProvider createElevationProvider(GraphHopperConfig ghCon\n             elevationProvider.setBaseURL(baseURL);\n         elevationProvider.setDAType(elevationDAType);\n         return elevationProvider;\n-    }\n+    } */", "originalCommit": "28c773b008b152b91b52df553654608ee2af5065", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDczNjg4Mw==", "url": "https://github.com/graphhopper/graphhopper/pull/1989#discussion_r410736883", "bodyText": "I only had to make sure that HeightTile.java is not needed, since it contains references to java.awt.*, which are not supported. Let me try to rewrite it for this usecase.", "author": "oflebbe", "createdAt": "2020-04-18T18:58:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzNDk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc0MTAzMw==", "url": "https://github.com/graphhopper/graphhopper/pull/1989#discussion_r410741033", "bodyText": "Ok, but now the elevation specific tests fail. For a reason . How to proceed from here ?\nShould we comment the tests as well ?\nSince we do not need Elevations at all on mobile ... We will never generate the graph on mobile.\nOther Option would be to remove the awt specific classes by rewriting the Elevation classes using a plain java implementation . I found this (do not know about quality ) https://github.com/ngageoint/tiff-java", "author": "oflebbe", "createdAt": "2020-04-18T19:33:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzNDk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc1NjAyNA==", "url": "https://github.com/graphhopper/graphhopper/pull/1989#discussion_r410756024", "bodyText": "Hmmh, tricky. But we could make it working when we move the whole init method out of the GraphHopper class. Probalby this is a good idea in general, but to avoid a delay here we could for now exclude building the web module in this branch. Will try.\nBTW: our usual workflow is to keep all the commits of a pull request (instead of overwriting old commits) and then squash merge them as one commit into master. So the master branch stays relatively \"clean\" and the pull request branch still has everything in it and we can see how it evolved.", "author": "karussell", "createdAt": "2020-04-18T21:52:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzNDk5NQ=="}], "type": "inlineReview"}, {"oid": "9f2ee42a01c61a41829831547a2c417834ececbb", "url": "https://github.com/graphhopper/graphhopper/commit/9f2ee42a01c61a41829831547a2c417834ececbb", "message": "Remove Java Runtime Specifics", "committedDate": "2020-04-18T19:16:18Z", "type": "commit"}, {"oid": "9f2ee42a01c61a41829831547a2c417834ececbb", "url": "https://github.com/graphhopper/graphhopper/commit/9f2ee42a01c61a41829831547a2c417834ececbb", "message": "Remove Java Runtime Specifics", "committedDate": "2020-04-18T19:16:18Z", "type": "forcePushed"}]}