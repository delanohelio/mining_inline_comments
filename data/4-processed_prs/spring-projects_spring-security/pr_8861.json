{"pr_number": 8861, "pr_title": "Update SimpleSaml2AuthenticatedPrincipal class name", "pr_createdAt": "2020-07-21T07:11:34Z", "pr_url": "https://github.com/spring-projects/spring-security/pull/8861", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5NjczNQ==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458196735", "bodyText": "I'm thinking the constructor should be public as well so that applications can use it in their own authentication providers.", "author": "jzheaux", "createdAt": "2020-07-21T15:40:59Z", "path": "saml2/saml2-service-provider/src/main/java/org/springframework/security/saml2/provider/service/authentication/DefaultSaml2AuthenticatedPrincipal.java", "diffHunk": "@@ -26,12 +26,12 @@\n  * @author Clement Stoquart\n  * @since 5.2.2\n  */\n-class SimpleSaml2AuthenticatedPrincipal implements Saml2AuthenticatedPrincipal, Serializable {\n+public class DefaultSaml2AuthenticatedPrincipal implements Saml2AuthenticatedPrincipal, Serializable {\n \n \tprivate final String name;\n \tprivate final Map<String, List<Object>> attributes;\n \n-\tSimpleSaml2AuthenticatedPrincipal(String name, Map<String, List<Object>> attributes) {\n+\tDefaultSaml2AuthenticatedPrincipal(String name, Map<String, List<Object>> attributes) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5OTA2Nw==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458199067", "bodyText": "Ah, missed that.", "author": "JoakimLofgren", "createdAt": "2020-07-21T15:44:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5NjczNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5NzczNg==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458197736", "bodyText": "Now that this is going to be for general use, will you please add validation checks in the constructor here, similar to:\nAssert.notNull(name, \"name cannot be null\");", "author": "jzheaux", "createdAt": "2020-07-21T15:42:21Z", "path": "saml2/saml2-service-provider/src/main/java/org/springframework/security/saml2/provider/service/authentication/DefaultSaml2AuthenticatedPrincipal.java", "diffHunk": "@@ -26,12 +26,12 @@\n  * @author Clement Stoquart\n  * @since 5.2.2\n  */\n-class SimpleSaml2AuthenticatedPrincipal implements Saml2AuthenticatedPrincipal, Serializable {\n+public class DefaultSaml2AuthenticatedPrincipal implements Saml2AuthenticatedPrincipal, Serializable {\n \n \tprivate final String name;\n \tprivate final Map<String, List<Object>> attributes;\n \n-\tSimpleSaml2AuthenticatedPrincipal(String name, Map<String, List<Object>> attributes) {\n+\tDefaultSaml2AuthenticatedPrincipal(String name, Map<String, List<Object>> attributes) {\n \t\tthis.name = name;", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIwNjk5Mw==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458206993", "bodyText": "Same for attributes or just name ?", "author": "JoakimLofgren", "createdAt": "2020-07-21T15:55:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5NzczNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIxMjcyOA==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458212728", "bodyText": "I did both :)", "author": "JoakimLofgren", "createdAt": "2020-07-21T16:03:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5NzczNg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIzOTIzMg==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458239232", "bodyText": "Since this class is just becoming generally available in 5.4, it makes more sense to indicate that in the @since. Otherwise, developers may wonder why they can't find DefaultSaml2AuthenticatedPrincipal in 5.3, for example.\nWill you please change this to @since 5.4?", "author": "jzheaux", "createdAt": "2020-07-21T16:42:49Z", "path": "saml2/saml2-service-provider/src/main/java/org/springframework/security/saml2/provider/service/authentication/DefaultSaml2AuthenticatedPrincipal.java", "diffHunk": "@@ -26,12 +28,15 @@\n  * @author Clement Stoquart\n  * @since 5.2.2", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIzOTY3OQ==", "url": "https://github.com/spring-projects/spring-security/pull/8861#discussion_r458239679", "bodyText": "You are also welcome to add yourself as an author, if you like.", "author": "jzheaux", "createdAt": "2020-07-21T16:43:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIzOTIzMg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "0962459bc79acc24d644149a4b6c100d301c0305", "url": "https://github.com/spring-projects/spring-security/commit/0962459bc79acc24d644149a4b6c100d301c0305", "message": "Update SimpleSaml2AuthenticatedPrincipal class name\n\nRename it to DefaultSaml2AuthenticatedPrincipal to be more in line with\nthe respective class in the OAuth2 module.\n\nAlso make the class public to be able to whitelist the SAML2 auth classes\nin Jackson object mappers for deserialization in e.g. Spring Session MongoDB.\n\nCloses gh-8852", "committedDate": "2020-07-23T07:12:45Z", "type": "commit"}, {"oid": "0962459bc79acc24d644149a4b6c100d301c0305", "url": "https://github.com/spring-projects/spring-security/commit/0962459bc79acc24d644149a4b6c100d301c0305", "message": "Update SimpleSaml2AuthenticatedPrincipal class name\n\nRename it to DefaultSaml2AuthenticatedPrincipal to be more in line with\nthe respective class in the OAuth2 module.\n\nAlso make the class public to be able to whitelist the SAML2 auth classes\nin Jackson object mappers for deserialization in e.g. Spring Session MongoDB.\n\nCloses gh-8852", "committedDate": "2020-07-23T07:12:45Z", "type": "forcePushed"}]}