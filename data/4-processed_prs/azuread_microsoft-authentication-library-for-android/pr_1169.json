{"pr_number": 1169, "pr_title": "Expose expiresIn in MSAL Device Code flow callback", "pr_createdAt": "2020-09-30T17:22:56Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1169", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY4NzQ1OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1169#discussion_r497687459", "bodyText": "This is a really unfortunate value.  I would prefer to see the UTC time that the DCF session expires at, because that signal, while subject to clock skew, would at least not degrade over the time that the system waits before getting around to displaying it.\nBut, ignoring that, if this could be a Duration (number of seconds) or an Instant (precise time point) at least we would help people writing calls to this method sort out their parameters.", "author": "AdamBJohnsonx", "createdAt": "2020-09-30T17:37:24Z", "path": "msal/src/main/java/com/microsoft/identity/client/IPublicClientApplication.java", "diffHunk": "@@ -190,8 +190,9 @@ void acquireToken(@NonNull final Activity activity,\n          * @param vUri verification uri\n          * @param userCode user code\n          * @param message instruction message\n+         * @param expiresIn the number of seconds before the DCF session expires.", "originalCommit": "dbbac7513a363fe9d666f263c0c76645b3873268", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY5MzczNg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1169#discussion_r497693736", "bodyText": "That's a good idea. Let me do that.\n(Note that I did call out that they should be using this for displaying purpose only - not to use it to decide when they should retry - we're already returning a specific exception and they should use that as a signal instead . In that sense - a slight delay should be acceptable. I'll also add a comment to stress on that too.", "author": "rpdome", "createdAt": "2020-09-30T17:48:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY4NzQ1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ3NzIwMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1169#discussion_r498477202", "bodyText": "What are we doing here? and why?", "author": "shahzaibj", "createdAt": "2020-10-01T19:48:11Z", "path": "msal/src/test/java/com/microsoft/identity/client/e2e/shadows/ShadowDeviceCodeFlowCommandSuccessful.java", "diffHunk": "@@ -50,11 +51,15 @@\n \n     @Implementation\n     public AcquireTokenResult execute() {\n+        final Date expiryDate = new Date();\n+        expiryDate.setTime(expiryDate.getTime() + 900000);", "originalCommit": "2327e719d813945fa0af58c4fb88aeb484a7f2ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ4OTc4MA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1169#discussion_r498489780", "bodyText": "900 seconds is the default timeout.", "author": "rpdome", "createdAt": "2020-10-01T20:15:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ3NzIwMg=="}], "type": "inlineReview"}, {"oid": "e37bf595d80bbeb1b045761769c80c30ddeaa5fc", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/e37bf595d80bbeb1b045761769c80c30ddeaa5fc", "message": "Expose expiresIn in MSAL Device Code flow callback", "committedDate": "2020-10-09T19:35:02Z", "type": "commit"}, {"oid": "e37bf595d80bbeb1b045761769c80c30ddeaa5fc", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/e37bf595d80bbeb1b045761769c80c30ddeaa5fc", "message": "Expose expiresIn in MSAL Device Code flow callback", "committedDate": "2020-10-09T19:35:02Z", "type": "forcePushed"}, {"oid": "bb579548b62038cd67add2b21e85e3d47466aeb6", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/bb579548b62038cd67add2b21e85e3d47466aeb6", "message": "Merge branch 'dev' into rapong/exposeExpiresIn", "committedDate": "2020-10-12T21:05:02Z", "type": "commit"}]}