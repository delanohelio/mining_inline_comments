{"pr_number": 3313, "pr_title": "[ARTEMIS-2954]: RA doesn't use the RA specified prefix when setting u\u2026", "pr_createdAt": "2020-10-22T13:53:20Z", "pr_url": "https://github.com/apache/activemq-artemis/pull/3313", "timeline": [{"oid": "6a2a611d3c11022022515a44a7135afe76f7dee4", "url": "https://github.com/apache/activemq-artemis/commit/6a2a611d3c11022022515a44a7135afe76f7dee4", "message": "[ARTEMIS-2954]: RA doesn't use the RA specified prefix when setting up a destination.\n\n* Fixing the fix for double prefix issue as the destiantion name wasn't\n  appended when the old prefix wasn't present.\n\nIssue: https://issues.apache.org/jira/browse/ARTEMIS-2954", "committedDate": "2020-10-22T13:51:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDIxNzEzNw==", "url": "https://github.com/apache/activemq-artemis/pull/3313#discussion_r510217137", "bodyText": "ouch!!! :)\nglad you picked this one up", "author": "clebertsuconic", "createdAt": "2020-10-22T14:39:28Z", "path": "artemis-ra/src/main/java/org/apache/activemq/artemis/ra/inflow/ActiveMQActivation.java", "diffHunk": "@@ -597,12 +597,12 @@ private String getTopicWithPrefix(String topic) {\n       if (spec.getTopicPrefix() == null) {\n          if (spec.isEnable1xPrefixes() == null) {\n             if (ra.isEnable1xPrefixes() != null && ra.isEnable1xPrefixes() && !topic.startsWith(PacketImpl.OLD_TOPIC_PREFIX.toString())) {\n-               return PacketImpl.OLD_TOPIC_PREFIX.toString();\n+               return PacketImpl.OLD_TOPIC_PREFIX.toString() + topic;", "originalCommit": "6a2a611d3c11022022515a44a7135afe76f7dee4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}