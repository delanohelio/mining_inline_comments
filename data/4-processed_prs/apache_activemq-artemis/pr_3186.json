{"pr_number": 3186, "pr_title": " ARTEMIS-2109: fix ErrorProne for JDK8, move to profile", "pr_createdAt": "2020-06-16T15:25:11Z", "pr_url": "https://github.com/apache/activemq-artemis/pull/3186", "timeline": [{"oid": "f1b33bdb31e783dd03f8850dbddf2b279ff3d6c9", "url": "https://github.com/apache/activemq-artemis/commit/f1b33bdb31e783dd03f8850dbddf2b279ff3d6c9", "message": "ARTEMIS-2109: remove commented out profile/plugin config", "committedDate": "2020-06-16T15:07:48Z", "type": "commit"}, {"oid": "548f86812893e9035b1a401643438fce13290c2b", "url": "https://github.com/apache/activemq-artemis/commit/548f86812893e9035b1a401643438fce13290c2b", "message": "ARTEMIS-2109: fix ErrorProne compiler config to work on JDK8, and move into a specific profile.\n\nOn JDK8 Error Prone is activated on request. On JDK11+ it is still enabled by default. It is activated in CI for all JDKs.", "committedDate": "2020-06-16T15:07:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAwNjY0Mw==", "url": "https://github.com/apache/activemq-artemis/pull/3186#discussion_r441006643", "bodyText": "didn't you mean -Pjdk8-errorprone?\n-P", "author": "clebertsuconic", "createdAt": "2020-06-16T17:03:24Z", "path": ".travis.yml", "diffHunk": "@@ -24,7 +24,7 @@ before_install:\n # By setting anything to org.apache.activemq.artemis.core.io.aio.AIOSequentialFileFactory.DISABLED we are disabling libaio loading on the testsuite\n script: \n - set -e\n-- mvn -Dorg.apache.activemq.artemis.core.io.aio.AIOSequentialFileFactory.DISABLED=AnythingNotNull -Pfast-tests -Pextra-tests -Ptests-CI -B install -q\n+- mvn -Dorg.apache.activemq.artemis.core.io.aio.AIOSequentialFileFactory.DISABLED=AnythingNotNull -Djdk8-errorprone -Pfast-tests -Pextra-tests -Ptests-CI -B install -q", "originalCommit": "548f86812893e9035b1a401643438fce13290c2b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAwOTY5Mw==", "url": "https://github.com/apache/activemq-artemis/pull/3186#discussion_r441009693", "bodyText": "No, as that would enable the JDK8 arguments on 11+ and break them. The profile can be activated explicitly with -P or by JDK8+property. Using the property as here stops it from actually adding the JDK-8 specific bits on JDK11+ when run there (since the job script is shared across all 3) which would break.", "author": "gemmellr", "createdAt": "2020-06-16T17:08:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAwNjY0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3OTMwNw==", "url": "https://github.com/apache/activemq-artemis/pull/3186#discussion_r441079307", "bodyText": "@gemmellr thanks for the clarification.", "author": "clebertsuconic", "createdAt": "2020-06-16T19:05:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAwNjY0Mw=="}], "type": "inlineReview"}]}