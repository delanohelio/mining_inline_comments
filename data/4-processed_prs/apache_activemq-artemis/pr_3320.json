{"pr_number": 3320, "pr_title": "ARTEMIS-2937 Documentation improvements", "pr_createdAt": "2020-10-29T17:51:29Z", "pr_url": "https://github.com/apache/activemq-artemis/pull/3320", "timeline": [{"oid": "c4fd0eec96e927425d68efdcba0d146e3c851da0", "url": "https://github.com/apache/activemq-artemis/commit/c4fd0eec96e927425d68efdcba0d146e3c851da0", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"", "committedDate": "2020-10-29T17:53:03Z", "type": "forcePushed"}, {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "url": "https://github.com/apache/activemq-artemis/commit/8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"", "committedDate": "2020-10-29T17:58:04Z", "type": "forcePushed"}, {"oid": "8d3c2e8310417594e5069a7365ba48deffdf1d85", "url": "https://github.com/apache/activemq-artemis/commit/8d3c2e8310417594e5069a7365ba48deffdf1d85", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch example to use a single listener", "committedDate": "2020-10-29T18:07:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MjYwMQ==", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514462601", "bodyText": "Introduces a typo in \"wildcards\".", "author": "gemmellr", "createdAt": "2020-10-29T18:04:19Z", "path": "artemis-tools/src/test/resources/artemis-configuration.xsd", "diffHunk": "@@ -3865,20 +3863,12 @@\n                </xsd:annotation>\n             </xsd:element>\n \n-            <xsd:element name=\"page-store-name\" type=\"xsd:string\" maxOccurs=\"1\" minOccurs=\"0\">\n-               <xsd:annotation>\n-                  <xsd:documentation>\n-                     the name of the page store to use, to allow the page store to coalesce for address hierarchies when wildcard routing is in play\n-                  </xsd:documentation>\n-               </xsd:annotation>\n-            </xsd:element>\n-\n          </xsd:all>\n \n          <xsd:attribute name=\"match\" type=\"xsd:string\" use=\"required\">\n             <xsd:annotation>\n                <xsd:documentation>\n-                  pattern for matching settings against addresses; can use wildcards\n+                  pattern for matching settings against addresses; can use wildards", "originalCommit": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MzA1MQ==", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514463051", "bodyText": "Typo in address", "author": "gemmellr", "createdAt": "2020-10-29T18:04:59Z", "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -71,9 +71,9 @@ Using address expressions:\n ```xml\n <broker-connections>\n     <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-broker\">\n-        <sender match=\"queues.#\"/>\n+        <sender addres-match=\"queues.#\"/>", "originalCommit": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MzMwNA==", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514463304", "bodyText": "Typo in address", "author": "gemmellr", "createdAt": "2020-10-29T18:05:23Z", "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -71,9 +71,9 @@ Using address expressions:\n ```xml\n <broker-connections>\n     <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-broker\">\n-        <sender match=\"queues.#\"/>\n+        <sender addres-match=\"queues.#\"/>\n         <!-- notice the local queues for remotequeues.# need to be created on this broker -->\n-        <receiver match=\"remotequeues.#\"/>\n+        <receiver addres-match=\"remotequeues.#\"/>", "originalCommit": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MzQ3Mw==", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514463473", "bodyText": "Typo in address", "author": "gemmellr", "createdAt": "2020-10-29T18:05:42Z", "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -130,7 +128,7 @@ With a peer configuration, you have the same properties that you have on a sende\n ```xml\n <broker-connections>\n     <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-router\">\n-       <peer match=\"queues.#\"/>\n+       <peer addres-match=\"queues.#\"/>", "originalCommit": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NjYzOA==", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514466638", "bodyText": "For clarity I would use \"addressprefix.#\" and  \"addressprefix.A\"or some such alterantive. Its just simpler to consider when not having \"queues\" in the address value when thinking of it as an address name.", "author": "gemmellr", "createdAt": "2020-10-29T18:10:33Z", "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -163,7 +161,29 @@ For more information refer to the \"brokered messaging\" documentation for [Apache\n \n *Important:* You do not need to configure the router with a connector or auto-links to communicate with the broker. The brokers peer configuration replaces these aspects of the router waypoint usage.\n \n-# Mirror \n+## Address Consideration\n+It is highly recommended that you keep `address name` and `queue name` the same, as when you use a queue with its distinct name (as in the following example), senders and receivers will always use the `address name` when creating the remote endpoint.\n+\n+```xml\n+<broker-connections>\n+    <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-broker\">\n+       <sender address-match=\"queues.#\"/>\n+    </amqp-connection>\n+</broker-connections>\n+<addresses>\n+     <address name=\"queues.A\">\n+        <anycast>\n+           <queue name=\"distinctNameQueue.A\"/>\n+        </anycast>\n+     </address>\n+</addresses>\n+```\n+\n+In the above example the `broker connection` would create an AMQP sender towards \"queues.A\". ", "originalCommit": "8d3c2e8310417594e5069a7365ba48deffdf1d85", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NzYzMQ==", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514467631", "bodyText": "#3321 may conflict here, can you please jsut update it and merge, ill be heading off now.", "author": "gemmellr", "createdAt": "2020-10-29T18:12:08Z", "path": "examples/features/broker-connection/amqp-sending-overssl/src/main/resources/activemq/server0/broker.xml", "diffHunk": "@@ -37,7 +37,7 @@ under the License.\n \n       <broker-connections>\n          <amqp-connection uri=\"tcp://localhost:5772?sslEnabled=true;trustStorePath=activemq.example.truststore;trustStorePassword=activemqexample\" name=\"otherSSL\" retry-interval=\"1000\">\n-            <sender match=\"#\"/>\n+            <sender address-match=\"#\"/>", "originalCommit": "8d3c2e8310417594e5069a7365ba48deffdf1d85", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2b4dc1de2e6c865c6e7bdb3ba016720b2e85d202", "url": "https://github.com/apache/activemq-artemis/commit/2b4dc1de2e6c865c6e7bdb3ba016720b2e85d202", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message", "committedDate": "2020-10-29T18:42:22Z", "type": "forcePushed"}, {"oid": "dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "url": "https://github.com/apache/activemq-artemis/commit/dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message", "committedDate": "2020-10-29T19:01:51Z", "type": "commit"}, {"oid": "dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "url": "https://github.com/apache/activemq-artemis/commit/dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message", "committedDate": "2020-10-29T19:01:51Z", "type": "forcePushed"}]}