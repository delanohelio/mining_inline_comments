{"pr_number": 567, "pr_title": "Add CLASSPATH for Windows", "pr_createdAt": "2020-07-30T06:18:32Z", "pr_url": "https://github.com/pytorch/serve/pull/567", "timeline": [{"oid": "d26bc564fea168230f28d0e8560c529e1663ef7b", "url": "https://github.com/pytorch/serve/commit/d26bc564fea168230f28d0e8560c529e1663ef7b", "message": "fit", "committedDate": "2020-08-03T01:49:21Z", "type": "forcePushed"}, {"oid": "0aa6f819c0c79744ec504f1b23906d5a22a28c54", "url": "https://github.com/pytorch/serve/commit/0aa6f819c0c79744ec504f1b23906d5a22a28c54", "message": "fit", "committedDate": "2020-08-03T02:05:28Z", "type": "commit"}, {"oid": "0aa6f819c0c79744ec504f1b23906d5a22a28c54", "url": "https://github.com/pytorch/serve/commit/0aa6f819c0c79744ec504f1b23906d5a22a28c54", "message": "fit", "committedDate": "2020-08-03T02:05:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDIxOTY0Nw==", "url": "https://github.com/pytorch/serve/pull/567#discussion_r464219647", "bodyText": "Both the strings are more or less the same except for a couple of characters, better create a common string before if/else block and format it based on the platform.", "author": "harshbafna", "createdAt": "2020-08-03T06:36:27Z", "path": "ts/model_server.py", "diffHunk": "@@ -80,8 +81,13 @@ def start():\n                 sys.exit(1)\n             ts_conf_file = ts_config\n \n-        class_path = \\\n-            \".:{}\".format(os.path.join(ts_home, \"ts/frontend/*\"))\n+        if(platform.system() == 'Windows'):\n+            class_path = \\\n+                        \"{}\".format(os.path.join(ts_home, \"ts/frontend/*\"))\n+        else:\n+            class_path = \\\n+                        \".:{}\".format(os.path.join(ts_home, \"ts/frontend/*\"))", "originalCommit": "0aa6f819c0c79744ec504f1b23906d5a22a28c54", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDIzODQzNA==", "url": "https://github.com/pytorch/serve/pull/567#discussion_r464238434", "bodyText": "Thanks for you comment. I have modified the code.", "author": "MengMeng96", "createdAt": "2020-08-03T07:26:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDIxOTY0Nw=="}], "type": "inlineReview"}, {"oid": "96d3a858e3f9deed32b3144583a2c07f41bcd082", "url": "https://github.com/pytorch/serve/commit/96d3a858e3f9deed32b3144583a2c07f41bcd082", "message": "create a common string before if/else block and format it based on the platform", "committedDate": "2020-08-03T07:04:29Z", "type": "commit"}, {"oid": "35a85cda3a739780162b7535a31fda317e08313c", "url": "https://github.com/pytorch/serve/commit/35a85cda3a739780162b7535a31fda317e08313c", "message": "create a common string before if/else block and format it based on the platform", "committedDate": "2020-08-03T07:06:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM5MzA2NA==", "url": "https://github.com/pytorch/serve/pull/567#discussion_r464393064", "bodyText": "platform_path_saparator = {\n\"Windows\": \"\",\n\"Darwin\": \".:\",\n\"Linux\": \".:\"\n}\nclass_path = \"{}{}\".format(platform_path_saparator[platform.system()], os.path.join(ts_home, \"ts/frontend/*\"))\nHow about this?", "author": "harshbafna", "createdAt": "2020-08-03T12:52:39Z", "path": "ts/model_server.py", "diffHunk": "@@ -80,8 +81,9 @@ def start():\n                 sys.exit(1)\n             ts_conf_file = ts_config\n \n-        class_path = \\\n-            \".:{}\".format(os.path.join(ts_home, \"ts/frontend/*\"))\n+        class_path = \"{}\".format(os.path.join(ts_home, \"ts/frontend/*\"))\n+        if platform.system() != 'Windows':", "originalCommit": "35a85cda3a739780162b7535a31fda317e08313c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc1NjIwNA==", "url": "https://github.com/pytorch/serve/pull/567#discussion_r464756204", "bodyText": "Sure, I have modified the code.", "author": "MengMeng96", "createdAt": "2020-08-04T02:05:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM5MzA2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk3OTEwMA==", "url": "https://github.com/pytorch/serve/pull/567#discussion_r464979100", "bodyText": "@harshbafna I have modified the code, please check it.", "author": "MengMeng96", "createdAt": "2020-08-04T11:21:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM5MzA2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExOTUxMA==", "url": "https://github.com/pytorch/serve/pull/567#discussion_r465119510", "bodyText": "LGTM. thanks.", "author": "harshbafna", "createdAt": "2020-08-04T15:03:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM5MzA2NA=="}], "type": "inlineReview"}, {"oid": "8ff7fafe29b28499b09de1447c7b8033b68c5f0f", "url": "https://github.com/pytorch/serve/commit/8ff7fafe29b28499b09de1447c7b8033b68c5f0f", "message": "separator", "committedDate": "2020-08-04T01:13:49Z", "type": "commit"}, {"oid": "b7182a5348aeacec6d05a216fac5067e354b153c", "url": "https://github.com/pytorch/serve/commit/b7182a5348aeacec6d05a216fac5067e354b153c", "message": "fit", "committedDate": "2020-08-04T01:25:46Z", "type": "commit"}, {"oid": "09905fc10943b839b215fc962a2112b53f953668", "url": "https://github.com/pytorch/serve/commit/09905fc10943b839b215fc962a2112b53f953668", "message": "fit", "committedDate": "2020-08-04T01:35:44Z", "type": "commit"}, {"oid": "7efcd484209faccfdfe14dadb2c50e7deeaa8cda", "url": "https://github.com/pytorch/serve/commit/7efcd484209faccfdfe14dadb2c50e7deeaa8cda", "message": "Merge branch 'master' into classpath", "committedDate": "2020-08-04T02:05:32Z", "type": "commit"}]}