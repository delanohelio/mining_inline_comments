{"pr_number": 344, "pr_title": "Regression suite fixes and added test cases", "pr_createdAt": "2020-05-13T16:45:40Z", "pr_url": "https://github.com/pytorch/serve/pull/344", "timeline": [{"oid": "e72cd0adefaa819c9f56b9eecf7e3450036b4e1b", "url": "https://github.com/pytorch/serve/commit/e72cd0adefaa819c9f56b9eecf7e3450036b4e1b", "message": "added test model zoo test cases\nupdated regression script", "committedDate": "2020-05-13T16:38:17Z", "type": "commit"}, {"oid": "e1e82cc9b608a331741864ffad08ea297d340c99", "url": "https://github.com/pytorch/serve/commit/e1e82cc9b608a331741864ffad08ea297d340c99", "message": "Updated Readme", "committedDate": "2020-05-13T16:41:55Z", "type": "commit"}, {"oid": "4fe5ae9aaa5a2b1ffdd5861297c23487bee05fb0", "url": "https://github.com/pytorch/serve/commit/4fe5ae9aaa5a2b1ffdd5861297c23487bee05fb0", "message": "update -y flag for install", "committedDate": "2020-05-13T16:53:31Z", "type": "commit"}, {"oid": "84b7625b34068320318a3364f22ed4e3fde8bb55", "url": "https://github.com/pytorch/serve/commit/84b7625b34068320318a3364f22ed4e3fde8bb55", "message": "Updated docker command as per new imagename and tag generated in stagging branch", "committedDate": "2020-05-13T17:17:42Z", "type": "commit"}, {"oid": "c196a683c57f06f70f8a263a0bbd298b55d420c9", "url": "https://github.com/pytorch/serve/commit/c196a683c57f06f70f8a263a0bbd298b55d420c9", "message": "Fix sudo usage in regression test script", "committedDate": "2020-05-13T19:32:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwODc1Nw==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r424808757", "bodyText": "@shivamshriwas Please update in the instructions as well (:latest tag)", "author": "chauhang", "createdAt": "2020-05-14T00:42:22Z", "path": "test/README.md", "diffHunk": "@@ -21,14 +21,14 @@ cd serve\n This would build a docker Image with a tag torchserve:1.0 in which we would run our Regression Tests.", "originalCommit": "c196a683c57f06f70f8a263a0bbd298b55d420c9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0NzM3NQ==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r425847375", "bodyText": "Done", "author": "shivamshriwas", "createdAt": "2020-05-15T14:39:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwODc1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxMDYwNw==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r424810607", "bodyText": "@shivamshriwas @mycpuorg We should use the new install from src script instead as part of PR# #322", "author": "chauhang", "createdAt": "2020-05-14T00:49:39Z", "path": "test/regression_tests.sh", "diffHunk": "@@ -15,9 +15,17 @@ TEST_EXECUTION_LOG_FILE=\"/tmp/test_exec.log\"\n install_torchserve_from_source() {\n   echo \"Cloning & Building Torchserve Repo from \" $1\n \n+  #uninstalling existing  torchserve torch-model-archiver if any\n+  pip uninstall --yes torchserve\n+  pip uninstall --yes torch-model-archiver\n+\n   # Install dependencies & test dependencies\n-  pip install torch torchtext torchvision sentencepiece psutil future\n-  sudo apt-get install npm\n+  pip install  torch torchtext torchvision sentencepiece psutil future\n+  pip install  mock pytest pylint pytest-mock pytest-cov\n+  apt-get -y install nodejs-dev node-gyp libssl1.0-dev npm\n+  npm install -g n\n+  n latest\n+  export PATH=\"$PATH\"\n   npm install -g newman newman-reporter-html\n \n   # Clone & Build TorchServe", "originalCommit": "c196a683c57f06f70f8a263a0bbd298b55d420c9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0NTc0Nw==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r425845747", "bodyText": "Done", "author": "shivamshriwas", "createdAt": "2020-05-15T14:36:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxMDYwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg1MjQ3OA==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r425852478", "bodyText": "We have added test cases for all examples in model zoo which cover both default and custom handler (eg resnet152 and mnist model).\nadded https test cases covering\n\nget inference/management api description\nregister model\nscale model sync/async\nunregister model", "author": "shivamshriwas", "createdAt": "2020-05-15T14:47:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxMDYwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjE3ODgwMw==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r426178803", "bodyText": "@chauhang Can you confirm if all the changes that you had requested have been taken care of?", "author": "lokeshgupta1975", "createdAt": "2020-05-16T18:29:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxMDYwNw=="}], "type": "inlineReview"}, {"oid": "7c69937d40b1d9edd17e590664f014537f4abaaa", "url": "https://github.com/pytorch/serve/commit/7c69937d40b1d9edd17e590664f014537f4abaaa", "message": "Merge branch 'staging_0_1_1' of https://github.com/pytorch/serve into regression_suite_issue57", "committedDate": "2020-05-14T05:50:56Z", "type": "commit"}, {"oid": "ba97f5a18ddd926692b7d62eadec2c29470f50f6", "url": "https://github.com/pytorch/serve/commit/ba97f5a18ddd926692b7d62eadec2c29470f50f6", "message": "Merge branch 'regression_suite_issue57' of https://github.com/pytorch/serve into regression_suite_issue57", "committedDate": "2020-05-14T05:54:59Z", "type": "commit"}, {"oid": "6636e6788fa28638de8fbec1cc15d5dc723ec6eb", "url": "https://github.com/pytorch/serve/commit/6636e6788fa28638de8fbec1cc15d5dc723ec6eb", "message": "- addressed review comments\n- reverted changes related to sudo in regression script.", "committedDate": "2020-05-14T06:08:31Z", "type": "commit"}, {"oid": "4a8777933b112256d8714759f5987932b36aa863", "url": "https://github.com/pytorch/serve/commit/4a8777933b112256d8714759f5987932b36aa863", "message": "added https test collection", "committedDate": "2020-05-15T07:06:36Z", "type": "commit"}, {"oid": "e8247b6e0e94e03851ac032b7acfabc56677b818", "url": "https://github.com/pytorch/serve/commit/e8247b6e0e94e03851ac032b7acfabc56677b818", "message": "- updated failed test cases on staging branch\n- added environment and updated newman cmd  with --insecure for https", "committedDate": "2020-05-15T08:21:44Z", "type": "commit"}, {"oid": "46bc28bb3a00aba1f0eb2c463ab6d7a03afca88e", "url": "https://github.com/pytorch/serve/commit/46bc28bb3a00aba1f0eb2c463ab6d7a03afca88e", "message": "updated script", "committedDate": "2020-05-15T08:37:47Z", "type": "commit"}, {"oid": "a62c68648e4f974668e6146cec9e1ebdc77f4974", "url": "https://github.com/pytorch/serve/commit/a62c68648e4f974668e6146cec9e1ebdc77f4974", "message": "updated pytest", "committedDate": "2020-05-15T08:52:53Z", "type": "commit"}, {"oid": "0047eaef015a89722e767b92ff0cc0ad2224db6a", "url": "https://github.com/pytorch/serve/commit/0047eaef015a89722e767b92ff0cc0ad2224db6a", "message": "update curl check for serve up", "committedDate": "2020-05-15T09:21:43Z", "type": "commit"}, {"oid": "a26a6481358084ccba37a8c02506bd835cc878a6", "url": "https://github.com/pytorch/serve/commit/a26a6481358084ccba37a8c02506bd835cc878a6", "message": "Revert \"update curl check for serve up\"\n\nThis reverts commit 0047eaef015a89722e767b92ff0cc0ad2224db6a.", "committedDate": "2020-05-15T10:02:31Z", "type": "commit"}, {"oid": "297cb42ec4f9e967bf5d7a577d77640596cd56a5", "url": "https://github.com/pytorch/serve/commit/297cb42ec4f9e967bf5d7a577d77640596cd56a5", "message": "Revert \"update curl check for serve up\"\n\nThis reverts commit 0047eaef015a89722e767b92ff0cc0ad2224db6a.\n\n- update model zoo\n- added resnet test case", "committedDate": "2020-05-15T10:51:49Z", "type": "commit"}, {"oid": "a9b7a6683838022e65ce73de2df74bae23b3809f", "url": "https://github.com/pytorch/serve/commit/a9b7a6683838022e65ce73de2df74bae23b3809f", "message": "added workers to resnet model", "committedDate": "2020-05-15T11:30:28Z", "type": "commit"}, {"oid": "76072f7e4cadeeecfa2cc5dd737297d6d74bd058", "url": "https://github.com/pytorch/serve/commit/76072f7e4cadeeecfa2cc5dd737297d6d74bd058", "message": "Update readme to run test suite on desired branch", "committedDate": "2020-05-15T14:29:53Z", "type": "commit"}, {"oid": "dcec6e33f005adfebf1fc8a3fd6c92183fd9c0c2", "url": "https://github.com/pytorch/serve/commit/dcec6e33f005adfebf1fc8a3fd6c92183fd9c0c2", "message": "Merge branch 'staging_0_1_1' into regression_suite_issue57", "committedDate": "2020-05-18T22:05:08Z", "type": "commit"}, {"oid": "17de67901dc170be7989d6daa1fb8b1bf7ab8c8d", "url": "https://github.com/pytorch/serve/commit/17de67901dc170be7989d6daa1fb8b1bf7ab8c8d", "message": "enhanced inference test cases to driven by datafile", "committedDate": "2020-05-19T15:10:43Z", "type": "commit"}, {"oid": "3d31f2730d1b4f6cfc8a80bd9937daf0e7203e44", "url": "https://github.com/pytorch/serve/commit/3d31f2730d1b4f6cfc8a80bd9937daf0e7203e44", "message": "Merge branch 'regression_suite_issue57' of https://github.com/pytorch/serve into regression_suite_issue57", "committedDate": "2020-05-19T15:11:17Z", "type": "commit"}, {"oid": "b5a75da0e28ffcca806d02969d5291d8642d2bd9", "url": "https://github.com/pytorch/serve/commit/b5a75da0e28ffcca806d02969d5291d8642d2bd9", "message": "Updated readme", "committedDate": "2020-05-19T15:45:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3MzM5NA==", "url": "https://github.com/pytorch/serve/pull/344#discussion_r427473394", "bodyText": "Good, further templating for data has made it generic and simple + adding new test cases will be nothing but adding a row in the corresponding data file", "author": "dhaniram-kshirsagar", "createdAt": "2020-05-19T17:26:13Z", "path": "test/postman/inference_api_test_collection.json", "diffHunk": "@@ -1,17 +1,17 @@\n {", "originalCommit": "b5a75da0e28ffcca806d02969d5291d8642d2bd9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a0ca2977c75e76c0140d9e4afd3839bb43d2d04d", "url": "https://github.com/pytorch/serve/commit/a0ca2977c75e76c0140d9e4afd3839bb43d2d04d", "message": "Merge branch 'staging_0_1_1' into regression_suite_issue57", "committedDate": "2020-05-19T20:24:36Z", "type": "commit"}, {"oid": "1dea85c5064b0b737862d0889a95b957f64829b1", "url": "https://github.com/pytorch/serve/commit/1dea85c5064b0b737862d0889a95b957f64829b1", "message": "Merge branch 'staging_0_1_1' into regression_suite_issue57", "committedDate": "2020-05-20T00:50:52Z", "type": "commit"}]}