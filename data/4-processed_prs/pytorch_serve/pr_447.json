{"pr_number": 447, "pr_title": "added check for no objects detected in object detector", "pr_createdAt": "2020-06-10T07:52:31Z", "pr_url": "https://github.com/pytorch/serve/pull/447", "timeline": [{"oid": "767910565bf318685972a4f9d6edba278e45f73d", "url": "https://github.com/pytorch/serve/commit/767910565bf318685972a4f9d6edba278e45f73d", "message": "added check for no objects detected in onject detector", "committedDate": "2020-06-10T07:49:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk1NDkwNg==", "url": "https://github.com/pytorch/serve/pull/447#discussion_r437954906", "bodyText": "Remove unused object.", "author": "dhaniram-kshirsagar", "createdAt": "2020-06-10T08:34:14Z", "path": "ts/torch_handler/object_detector.py", "diffHunk": "@@ -2,13 +2,16 @@\n Module for object detection default handler\n \"\"\"\n import io\n+import logging\n import torch\n from PIL import Image\n from torchvision import transforms\n from torchvision import __version__ as torchvision_version\n from torch.autograd import Variable\n from .vision_handler import VisionHandler\n \n+logger = logging.getLogger(__name__)", "originalCommit": "767910565bf318685972a4f9d6edba278e45f73d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9165727651d7bd4777bdfdaa4236e2940fb24c92", "url": "https://github.com/pytorch/serve/commit/9165727651d7bd4777bdfdaa4236e2940fb24c92", "message": "Removed unused logger", "committedDate": "2020-06-10T14:09:29Z", "type": "commit"}, {"oid": "ec90e74922cf9daa971e11fdd5f6d7a695017227", "url": "https://github.com/pytorch/serve/commit/ec90e74922cf9daa971e11fdd5f6d7a695017227", "message": "Removed unused import.", "committedDate": "2020-06-10T14:13:08Z", "type": "commit"}, {"oid": "e728e85f1b1189bf54e0d2ecbe5097ca1b72ccc9", "url": "https://github.com/pytorch/serve/commit/e728e85f1b1189bf54e0d2ecbe5097ca1b72ccc9", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-06-19T06:23:11Z", "type": "commit"}, {"oid": "673a163f737b3d82d937e74cc1b9487c97f87c89", "url": "https://github.com/pytorch/serve/commit/673a163f737b3d82d937e74cc1b9487c97f87c89", "message": "rebased to master", "committedDate": "2020-06-19T06:24:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwNTgxNw==", "url": "https://github.com/pytorch/serve/pull/447#discussion_r445305817", "bodyText": "Wondering if returning an empty list is more appropriate that returning an element a single element with string val.", "author": "dhanainme", "createdAt": "2020-06-25T04:53:30Z", "path": "ts/torch_handler/object_detector.py", "diffHunk": "@@ -91,8 +97,9 @@ def handle(data, context):\n \n         data = _service.preprocess(data)\n         data = _service.inference(data)\n-        data = _service.postprocess(data)\n-\n-        return data\n+        if data:\n+            return _service.postprocess(data)\n+        else:\n+            return [\"No object detected\"]", "originalCommit": "673a163f737b3d82d937e74cc1b9487c97f87c89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY4ODQxMw==", "url": "https://github.com/pytorch/serve/pull/447#discussion_r445688413", "bodyText": "I am open to both ideas. Can remove the if-else block if you want .", "author": "harshbafna", "createdAt": "2020-06-25T16:32:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwNTgxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY4OTMxMA==", "url": "https://github.com/pytorch/serve/pull/447#discussion_r456689310", "bodyText": "Agreed with @dhanainme", "author": "maaquib", "createdAt": "2020-07-17T21:51:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwNTgxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjczNDg1OQ==", "url": "https://github.com/pytorch/serve/pull/447#discussion_r456734859", "bodyText": "Done.", "author": "harshbafna", "createdAt": "2020-07-18T01:54:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwNTgxNw=="}], "type": "inlineReview"}, {"oid": "aec7641ca0b9f52f7398fcfc36a1f7d61ff5b9cf", "url": "https://github.com/pytorch/serve/commit/aec7641ca0b9f52f7398fcfc36a1f7d61ff5b9cf", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-06-25T09:59:17Z", "type": "commit"}, {"oid": "32d00036cbc4f03c006d4ee339910fc375516b2e", "url": "https://github.com/pytorch/serve/commit/32d00036cbc4f03c006d4ee339910fc375516b2e", "message": "added test for blank image as input to object detector in sanity script", "committedDate": "2020-06-25T16:12:59Z", "type": "commit"}, {"oid": "4459cf8b721f73ae74cb1ce10db0a2d06953204e", "url": "https://github.com/pytorch/serve/commit/4459cf8b721f73ae74cb1ce10db0a2d06953204e", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-07-03T08:20:04Z", "type": "commit"}, {"oid": "18a9f738a8f14fd8fd1f8ff114ff389717d61338", "url": "https://github.com/pytorch/serve/commit/18a9f738a8f14fd8fd1f8ff114ff389717d61338", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-07-07T03:28:09Z", "type": "commit"}, {"oid": "37d32a3652acb73ddbe1da09fa0bdd987a7a09e9", "url": "https://github.com/pytorch/serve/commit/37d32a3652acb73ddbe1da09fa0bdd987a7a09e9", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-07-08T04:02:31Z", "type": "commit"}, {"oid": "f06107f65b5297e658961dddf2b3c6b26a5a4a80", "url": "https://github.com/pytorch/serve/commit/f06107f65b5297e658961dddf2b3c6b26a5a4a80", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-07-15T05:48:01Z", "type": "commit"}, {"oid": "9f494f3454a345e5550260f9ba09e71f44ccf4ce", "url": "https://github.com/pytorch/serve/commit/9f494f3454a345e5550260f9ba09e71f44ccf4ce", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-07-18T01:34:26Z", "type": "commit"}, {"oid": "e92103faa724e1a850120c2cb0e90efd4a479f11", "url": "https://github.com/pytorch/serve/commit/e92103faa724e1a850120c2cb0e90efd4a479f11", "message": "changed behavior to return empty list if no objects detected", "committedDate": "2020-07-18T01:53:17Z", "type": "commit"}, {"oid": "bd2f4fac5e973917e7b6c442cce99b465e0f3431", "url": "https://github.com/pytorch/serve/commit/bd2f4fac5e973917e7b6c442cce99b465e0f3431", "message": "fixed return type to blank list", "committedDate": "2020-07-18T02:39:39Z", "type": "commit"}, {"oid": "5db2bb306292fac22ee84f90ebf895a16694a6f4", "url": "https://github.com/pytorch/serve/commit/5db2bb306292fac22ee84f90ebf895a16694a6f4", "message": "Merge branch 'master' into issue_435", "committedDate": "2020-07-21T16:04:19Z", "type": "commit"}]}