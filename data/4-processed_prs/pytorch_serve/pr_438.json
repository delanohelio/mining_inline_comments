{"pr_number": 438, "pr_title": "Apachebench benchmarking - Script / Documentation updates", "pr_createdAt": "2020-06-08T21:13:57Z", "pr_url": "https://github.com/pytorch/serve/pull/438", "timeline": [{"oid": "2b853fc36331c692dd4f12f736a08738d40e510e", "url": "https://github.com/pytorch/serve/commit/2b853fc36331c692dd4f12f736a08738d40e510e", "message": "Apachebench benchmarking script - Script / Documentation updates", "committedDate": "2020-06-08T21:12:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAxODYwNg==", "url": "https://github.com/pytorch/serve/pull/438#discussion_r437018606", "bodyText": "The script should stop the torchserve server once the benchmark is complete", "author": "maaquib", "createdAt": "2020-06-08T21:44:03Z", "path": "benchmarks/README.md", "diffHunk": "@@ -130,10 +134,68 @@ Run verbose with only a single loop\\\n \n The full list of options can be found by running with the -h or --help flags.\n \n+# Benchmarking with Apache Bench\n+\n+## Installation \n+\n+### For Ubuntu\n+\n+```\n+apt-get install apache2-utils\n+\n+```\n+\n+Apache Bench is installed in Mac by default. You can test by running ```ab -h```\n+\n+## Benchmark \n+\n+To run benchmarks execute benchmark script as follows \n+\n+```\n+./benchmark-ab.sh --model  vgg11 --url https://torchserve-mar-files.s3.amazonaws.com/vgg11.mar --bsize 1 --bdelay 50 --worker 4 --input ../examples/image_classifier/kitten.jpg --requests 20 --concurrency 10", "originalCommit": "2b853fc36331c692dd4f12f736a08738d40e510e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAxOTI2OA==", "url": "https://github.com/pytorch/serve/pull/438#discussion_r437019268", "bodyText": "Fixed it.", "author": "dhanainme", "createdAt": "2020-06-08T21:45:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAxODYwNg=="}], "type": "inlineReview"}, {"oid": "71ec0cfe9f810e799a01e5f716abd6c259980418", "url": "https://github.com/pytorch/serve/commit/71ec0cfe9f810e799a01e5f716abd6c259980418", "message": "Stop TS after benchmark completion.", "committedDate": "2020-06-08T21:44:24Z", "type": "commit"}, {"oid": "6722cacb93dc96bd0d29cf24d2d9b83d74ea86b1", "url": "https://github.com/pytorch/serve/commit/6722cacb93dc96bd0d29cf24d2d9b83d74ea86b1", "message": "Merge branch 'staging_0_1_1' into ab_benchmark_updates", "committedDate": "2020-06-08T21:55:41Z", "type": "commit"}]}