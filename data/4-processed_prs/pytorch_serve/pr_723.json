{"pr_number": 723, "pr_title": "Add EKS troubleshooting steps", "pr_createdAt": "2020-10-12T23:04:43Z", "pr_url": "https://github.com/pytorch/serve/pull/723", "timeline": [{"oid": "609f89319e9cc126a2e12435a1e057d2083a060f", "url": "https://github.com/pytorch/serve/commit/609f89319e9cc126a2e12435a1e057d2083a060f", "message": "Update README.md\n\nAdd troubleshooting scenarios and reorganize the troubleshooting section of the document.", "committedDate": "2020-10-12T23:02:29Z", "type": "commit"}, {"oid": "09b5250b5e682731e69da84b3c5fc9e665c639d4", "url": "https://github.com/pytorch/serve/commit/09b5250b5e682731e69da84b3c5fc9e665c639d4", "message": "Update README.md", "committedDate": "2020-10-13T03:28:47Z", "type": "commit"}, {"oid": "fbd60d081aa399f918328e5065754342d7a4ee47", "url": "https://github.com/pytorch/serve/commit/fbd60d081aa399f918328e5065754342d7a4ee47", "message": "Update README.md", "committedDate": "2020-10-13T03:37:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA5NzY4MQ==", "url": "https://github.com/pytorch/serve/pull/723#discussion_r508097681", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              * Inspect your Cloudformation console's events tab to diagonize any possible issues. You should able be able to find the following resources at the end of this step in the respective AWS consoles\n          \n          \n            \n              * Inspect your Cloudformation console's events tab to diagonize any possible issues. You should be able to find the following resources at the end of this step in the respective AWS consoles", "author": "maaquib", "createdAt": "2020-10-19T22:24:31Z", "path": "kubernetes/README.md", "diffHunk": "@@ -714,53 +714,60 @@\n \n   ## Troubleshooting\n   \n-\n-  **Troubleshooting EKCTL Cluster Creation**\n-\n-  Possible errors in this step may be a result of \n-\n-  * AWS Account limits. \n+  ### Troubleshooting EKCTL Cluster Creation\n+\n+  #### EKS Cluster creation fails \n+\n+  * AWS Account limits\n+    ```\n+    [\u2716]  unexpected status \"CREATE_IN_PROGRESS\" while waiting for CloudFormation stack \"eksctl-TorchserveCluster-nodegroup-ng-1\"\n+    [\u2139]  fetching stack events in attempt to troubleshoot the root cause of the failure\n+    [!]  1 error(s) occurred and cluster hasn't been created properly, you may wish to check CloudFormation console\n+    [\u2139]  to cleanup resources, run 'eksctl delete cluster --region=us-west-2 --name=TorchserveCluster'\n+    [\u2716]  waiting for CloudFormation stack \"eksctl-TorchserveCluster-nodegroup-ng-1\": RequestCanceled: waiter context canceled\n+    caused by: context deadline exceeded\n+    Error: failed to create cluster \"TorchserveCluster\u201d\n+    ```\n+    * Check that your AWS vCPU limits can support your cluster configuration (https://console.aws.amazon.com/ec2/home#Limits). e.g. \"Running G4DN Dedicated Hosts\t\" may be set to 0 by default causing the node group creation to fail.\n   * IAM Policy of the role used during cluster creation - [Minimum IAM Policy](https://eksctl.io/usage/minimum-iam-policies/)\n \n-  Inspect your Cloudformation console' events tab, to diagonize any possible issues. You should able be able to find the following resources at the end of this step in the respective AWS consoles\n-\n-  * EKS Cluser in the EKS UI\n-  * AutoScaling Group of the Node Groups\n-  * EC2 Node correponding to the node groups.\n-\n-  \n-\n-  Also, take a look at [eksctl](https://eksctl.io/introduction/) website / [github repo](https://github.com/weaveworks/eksctl/issues) for any issues. \n+  * Inspect your Cloudformation console's events tab to diagonize any possible issues. You should able be able to find the following resources at the end of this step in the respective AWS consoles", "originalCommit": "fbd60d081aa399f918328e5065754342d7a4ee47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "350a6593f7eecf1e07c3322813f8d12f17c3dafb", "url": "https://github.com/pytorch/serve/commit/350a6593f7eecf1e07c3322813f8d12f17c3dafb", "message": "Merge branch 'master' into issue_384_eks_troubleshooting", "committedDate": "2020-10-19T22:27:23Z", "type": "commit"}, {"oid": "5e9915bfc103c3951c231b722932807ec92a9984", "url": "https://github.com/pytorch/serve/commit/5e9915bfc103c3951c231b722932807ec92a9984", "message": "Update kubernetes/README.md\n\nCo-authored-by: Aaqib <maaquib@gmail.com>", "committedDate": "2020-10-20T00:10:39Z", "type": "commit"}, {"oid": "369e30d54817d6a7fcc9f8bf9468ab88566669c6", "url": "https://github.com/pytorch/serve/commit/369e30d54817d6a7fcc9f8bf9468ab88566669c6", "message": "Merge branch 'master' into issue_384_eks_troubleshooting", "committedDate": "2020-10-20T16:59:31Z", "type": "commit"}, {"oid": "75906c53bfbb6452f5e2ce9c745a529472627324", "url": "https://github.com/pytorch/serve/commit/75906c53bfbb6452f5e2ce9c745a529472627324", "message": "Merge branch 'master' into issue_384_eks_troubleshooting", "committedDate": "2020-10-20T18:35:46Z", "type": "commit"}]}