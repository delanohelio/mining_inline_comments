{"pr_number": 1238, "pr_title": "Simpler Dockerfile, per-distro packaging Dockerfiles", "pr_createdAt": "2020-04-26T08:41:15Z", "pr_url": "https://github.com/kframework/k/pull/1238", "timeline": [{"oid": "d9fe378514d556d8ab46f3e11c9b2016fc49c75d", "url": "https://github.com/kframework/k/commit/d9fe378514d556d8ab46f3e11c9b2016fc49c75d", "message": "src/main/scripts/test-in-container: no point testing ocaml backend", "committedDate": "2020-04-26T07:55:18Z", "type": "commit"}, {"oid": "2a8c5cf2998719cbd7ccdcbe710b51512ad7cd11", "url": "https://github.com/kframework/k/commit/2a8c5cf2998719cbd7ccdcbe710b51512ad7cd11", "message": "Jenkinsfile: formatting", "committedDate": "2020-04-26T07:55:18Z", "type": "commit"}, {"oid": "bca212c486fa6c5a60bae653865c435ddcf8b24d", "url": "https://github.com/kframework/k/commit/bca212c486fa6c5a60bae653865c435ddcf8b24d", "message": "Jenkinsfile, Dockerfile.debian: use for deploying via hub as well", "committedDate": "2020-04-26T07:57:05Z", "type": "commit"}, {"oid": "c201886b1c75300a7f0ba11363936c3a4a06aa4a", "url": "https://github.com/kframework/k/commit/c201886b1c75300a7f0ba11363936c3a4a06aa4a", "message": "Jenkinsfile, package/debian/Dockerfile: separate dockerfile for building deb packages", "committedDate": "2020-04-26T07:57:05Z", "type": "commit"}, {"oid": "c97889d0c5be7d5f6be2d577b4006e4c06143650", "url": "https://github.com/kframework/k/commit/c97889d0c5be7d5f6be2d577b4006e4c06143650", "message": "Jenkinsfile, Dockerfile.debian => Dockerfile: single dockerfile for CI build stuffs", "committedDate": "2020-04-26T07:57:05Z", "type": "commit"}, {"oid": "b5a43dd4cf9c11aee6ade5b42978cec661105baa", "url": "https://github.com/kframework/k/commit/b5a43dd4cf9c11aee6ade5b42978cec661105baa", "message": "Jenkinsfile, Dockerfile: unparameterize where not needed", "committedDate": "2020-04-26T07:57:05Z", "type": "commit"}, {"oid": "8139ef14690fadc7159bf944e84601c3c35123c9", "url": "https://github.com/kframework/k/commit/8139ef14690fadc7159bf944e84601c3c35123c9", "message": "Dockerfile, Jenkinsfile, package/ssh/config: build ssh credentials into Dockerfile for CI", "committedDate": "2020-04-26T07:57:05Z", "type": "commit"}, {"oid": "963733ee1d1597d836a16583afe315a29077a2b3", "url": "https://github.com/kframework/k/commit/963733ee1d1597d836a16583afe315a29077a2b3", "message": "Dockerfile: more readable", "committedDate": "2020-04-26T08:38:49Z", "type": "commit"}, {"oid": "349a1059fdd571546ed3983f9923f18a0f0195e7", "url": "https://github.com/kframework/k/commit/349a1059fdd571546ed3983f9923f18a0f0195e7", "message": "Dockerfile: put less-likely to change steps earlier", "committedDate": "2020-04-26T08:38:49Z", "type": "commit"}, {"oid": "3a4d9e0875aa698f4f81e2989f44831241e60c80", "url": "https://github.com/kframework/k/commit/3a4d9e0875aa698f4f81e2989f44831241e60c80", "message": "Dockerfile: no sense putting environment setup before hub download", "committedDate": "2020-04-26T08:38:49Z", "type": "commit"}, {"oid": "756cc7c70b4ef7621e3c30b8f5bf201a278ddc27", "url": "https://github.com/kframework/k/commit/756cc7c70b4ef7621e3c30b8f5bf201a278ddc27", "message": "Jenkinsfile, Dockerfile.arch => package/arch/Dockerfile: move arch dockerfile to specific location", "committedDate": "2020-04-26T08:38:49Z", "type": "commit"}, {"oid": "756cc7c70b4ef7621e3c30b8f5bf201a278ddc27", "url": "https://github.com/kframework/k/commit/756cc7c70b4ef7621e3c30b8f5bf201a278ddc27", "message": "Jenkinsfile, Dockerfile.arch => package/arch/Dockerfile: move arch dockerfile to specific location", "committedDate": "2020-04-26T08:38:49Z", "type": "forcePushed"}, {"oid": "4763aaaa55eb8f36190e3e107ccfdfb7d59b27f8", "url": "https://github.com/kframework/k/commit/4763aaaa55eb8f36190e3e107ccfdfb7d59b27f8", "message": "Merge branch 'master' into simpler-dockerfile", "committedDate": "2020-04-27T13:48:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTg5ODc4NA==", "url": "https://github.com/kframework/k/pull/1238#discussion_r415898784", "bodyText": "The reason we are building with the ocaml backend here is because we have already tested the other backends. Changing this means we will not get informed if something relating to the ocaml backend breaks, but it doesn't actually add any new test coverage. Please undo this change.", "author": "dwightguth", "createdAt": "2020-04-27T15:12:21Z", "path": "src/main/scripts/test-in-container", "diffHunk": "@@ -9,5 +9,5 @@ echo 'Testing tutorial in user environment...'\n make -j`nproc`\n cd ~\n echo \"module TEST imports BOOL endmodule\" > test.k\n-kompile test.k --backend ocaml\n+kompile test.k --backend llvm", "originalCommit": "4763aaaa55eb8f36190e3e107ccfdfb7d59b27f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkwNjg4Mg==", "url": "https://github.com/kframework/k/pull/1238#discussion_r415906882", "bodyText": "Done @dwightguth", "author": "ehildenb", "createdAt": "2020-04-27T15:22:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTg5ODc4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkwNjQ3NA==", "url": "https://github.com/kframework/k/pull/1238#discussion_r415906474", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            kompile test.k --backend llvm\n          \n          \n            \n            kompile test.k --backend ocaml", "author": "ehildenb", "createdAt": "2020-04-27T15:21:43Z", "path": "src/main/scripts/test-in-container", "diffHunk": "@@ -9,5 +9,5 @@ echo 'Testing tutorial in user environment...'\n make -j`nproc`\n cd ~\n echo \"module TEST imports BOOL endmodule\" > test.k\n-kompile test.k --backend ocaml\n+kompile test.k --backend llvm", "originalCommit": "4763aaaa55eb8f36190e3e107ccfdfb7d59b27f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eb4b1ecf2f3552dfb89dbd7166697dea0155459e", "url": "https://github.com/kframework/k/commit/eb4b1ecf2f3552dfb89dbd7166697dea0155459e", "message": "src/main/scripts/test-in-container: back to testing with OCaml", "committedDate": "2020-04-27T15:21:57Z", "type": "commit"}]}