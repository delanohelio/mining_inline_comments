{"pr_number": 1618, "pr_title": "Default packaging without OCAML backend [brew-staging: remove-opam]", "pr_createdAt": "2020-10-27T19:39:12Z", "pr_url": "https://github.com/kframework/k/pull/1618", "timeline": [{"oid": "706cff585f30cdbf7592747e7ca0a9bf6ac3c218", "url": "https://github.com/kframework/k/commit/706cff585f30cdbf7592747e7ca0a9bf6ac3c218", "message": "package/*, k-distribution/INSTALL: remove ocaml backend dependencies by default", "committedDate": "2020-10-27T19:35:19Z", "type": "commit"}, {"oid": "788685246ec108fd9b809cd61c82313053bf10dc", "url": "https://github.com/kframework/k/commit/788685246ec108fd9b809cd61c82313053bf10dc", "message": "README: update documentation", "committedDate": "2020-10-27T19:37:40Z", "type": "commit"}, {"oid": "5ca89f16ff2fbebf9435b100fbf639c28f3274ee", "url": "https://github.com/kframework/k/commit/5ca89f16ff2fbebf9435b100fbf639c28f3274ee", "message": "src/main/scripts/test-in-container: setup ocaml for containerized test", "committedDate": "2020-10-27T20:29:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MDg4Mg==", "url": "https://github.com/kframework/k/pull/1618#discussion_r513550882", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                sudo apt-get install --yes opam\n          \n          \n            \n                                sh 'src/main/scripts/test-in-container-debian'\n          \n          \n            \n                                sh '''\n          \n          \n            \n                                  sudo apt-get install --yes opam\n          \n          \n            \n                                  src/main/scripts/test-in-container-debian\n          \n          \n            \n                                '''", "author": "sskeirik", "createdAt": "2020-10-28T15:43:43Z", "path": "Jenkinsfile", "diffHunk": "@@ -103,6 +103,7 @@ pipeline {\n                   options { skipDefaultCheckout() }\n                   steps {\n                     unstash 'bionic'\n+                    sudo apt-get install --yes opam\n                     sh 'src/main/scripts/test-in-container-debian'", "originalCommit": "f85897be765605581971be6632f0c7471f8d4d3b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "93fa35693fcaa636919e47b64f5afcc0a7a754b8", "url": "https://github.com/kframework/k/commit/93fa35693fcaa636919e47b64f5afcc0a7a754b8", "message": "src/main/scripts/test-in-container: install opam first", "committedDate": "2020-10-28T15:47:01Z", "type": "commit"}, {"oid": "93fa35693fcaa636919e47b64f5afcc0a7a754b8", "url": "https://github.com/kframework/k/commit/93fa35693fcaa636919e47b64f5afcc0a7a754b8", "message": "src/main/scripts/test-in-container: install opam first", "committedDate": "2020-10-28T15:47:01Z", "type": "forcePushed"}, {"oid": "a017ac85187622d79cbc8a711e99572552ae3a3e", "url": "https://github.com/kframework/k/commit/a017ac85187622d79cbc8a711e99572552ae3a3e", "message": "src/main/scripts/test-in-container, Jenkinsfile: install opam in containers first before testing", "committedDate": "2020-10-28T16:33:36Z", "type": "commit"}, {"oid": "d8565eddbd40e8a666ea3b92865f342a7cc0d0a7", "url": "https://github.com/kframework/k/commit/d8565eddbd40e8a666ea3b92865f342a7cc0d0a7", "message": "Jenkinsfile, package/macos/brew-install-deps: also install opam for macos", "committedDate": "2020-10-28T16:44:28Z", "type": "commit"}, {"oid": "82eb31fb3c011dd8d9dc5082bf764ac898116593", "url": "https://github.com/kframework/k/commit/82eb31fb3c011dd8d9dc5082bf764ac898116593", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-10-28T16:46:33Z", "type": "commit"}, {"oid": "82eb31fb3c011dd8d9dc5082bf764ac898116593", "url": "https://github.com/kframework/k/commit/82eb31fb3c011dd8d9dc5082bf764ac898116593", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-10-28T16:46:33Z", "type": "forcePushed"}, {"oid": "bc7ffd7b9a92cb8ca89937b6089a624844de911c", "url": "https://github.com/kframework/k/commit/bc7ffd7b9a92cb8ca89937b6089a624844de911c", "message": "src/main/scripts/test-in-container: organize", "committedDate": "2020-10-28T17:42:49Z", "type": "commit"}, {"oid": "bb97bb88c1ef02f9f0c1420370a1a1516f626f3f", "url": "https://github.com/kframework/k/commit/bb97bb88c1ef02f9f0c1420370a1a1516f626f3f", "message": "!!! src/main/scripts/test-in-container: debugging", "committedDate": "2020-10-28T17:45:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM0NjEzMw==", "url": "https://github.com/kframework/k/pull/1618#discussion_r514346133", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            k-configure-opam-dev || true\n          \n          \n            \n            opam depext conf-pkg-config.1.1 || true\n          \n          \n            \n            eval $(opam config env)\n          \n          \n            \n            opam depext conf-pkg-config.1.1 || true\n          \n          \n            \n            false\n          \n          \n            \n            opam depext conf-pkg-config.1.1\n          \n          \n            \n            k-configure-opam-dev\n          \n          \n            \n            eval $(opam config env)", "author": "sskeirik", "createdAt": "2020-10-29T15:23:50Z", "path": "src/main/scripts/test-in-container", "diffHunk": "@@ -1,4 +1,9 @@\n #!/bin/sh -ex\n+k-configure-opam-dev || true\n+opam depext conf-pkg-config.1.1 || true\n+eval $(opam config env)\n+opam depext conf-pkg-config.1.1 || true\n+false", "originalCommit": "bb97bb88c1ef02f9f0c1420370a1a1516f626f3f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "33ff247308e4e7e4746db4c8b530328774f6683b", "url": "https://github.com/kframework/k/commit/33ff247308e4e7e4746db4c8b530328774f6683b", "message": "package/debian: make sure pkg-config is installed by default for users who want ocaml backend", "committedDate": "2020-10-30T14:32:31Z", "type": "commit"}, {"oid": "625041e226f47c70770ea0b8525e4c0c3284595a", "url": "https://github.com/kframework/k/commit/625041e226f47c70770ea0b8525e4c0c3284595a", "message": "Revert \"!!! src/main/scripts/test-in-container: debugging\"\n\nThis reverts commit bb97bb88c1ef02f9f0c1420370a1a1516f626f3f.", "committedDate": "2020-10-30T14:32:42Z", "type": "commit"}, {"oid": "18fa853dbc32d1a02d34492e8af886f41236bfa0", "url": "https://github.com/kframework/k/commit/18fa853dbc32d1a02d34492e8af886f41236bfa0", "message": "README: update list", "committedDate": "2020-10-30T14:36:44Z", "type": "commit"}, {"oid": "000ddec851af0ad0ef097183025dec25aa9a13b9", "url": "https://github.com/kframework/k/commit/000ddec851af0ad0ef097183025dec25aa9a13b9", "message": "!!! Jenkinsfile: skip macos build", "committedDate": "2020-10-30T15:45:18Z", "type": "commit"}, {"oid": "858dd1020c1674be0754f47c34c2a28eaa216577", "url": "https://github.com/kframework/k/commit/858dd1020c1674be0754f47c34c2a28eaa216577", "message": "src/test-in-container: try k-configure-opam-dev => k-configure-opam", "committedDate": "2020-10-30T23:44:17Z", "type": "commit"}, {"oid": "72932a9171bd6b4b57b3bd34a50145c4c5054d11", "url": "https://github.com/kframework/k/commit/72932a9171bd6b4b57b3bd34a50145c4c5054d11", "message": "Revert \"!!! Jenkinsfile: skip macos build\"\n\nThis reverts commit 000ddec851af0ad0ef097183025dec25aa9a13b9.", "committedDate": "2020-10-30T23:45:01Z", "type": "commit"}, {"oid": "0b54dc0dd00f01147349c3ce14a222977d113a37", "url": "https://github.com/kframework/k/commit/0b54dc0dd00f01147349c3ce14a222977d113a37", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package", "committedDate": "2020-10-31T00:03:54Z", "type": "commit"}, {"oid": "707f82a939de6f7ef6a1d529114029214097c3aa", "url": "https://github.com/kframework/k/commit/707f82a939de6f7ef6a1d529114029214097c3aa", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package", "committedDate": "2020-11-02T20:56:17Z", "type": "commit"}, {"oid": "c5ee7b61d3f3143cb5836624007ac978c665eb11", "url": "https://github.com/kframework/k/commit/c5ee7b61d3f3143cb5836624007ac978c665eb11", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package", "committedDate": "2020-11-05T16:21:21Z", "type": "commit"}, {"oid": "afb3bc579a863f8c0774fa37f0e92baf8da134a3", "url": "https://github.com/kframework/k/commit/afb3bc579a863f8c0774fa37f0e92baf8da134a3", "message": "Jenkinsfile.anka, package/macos/brew-install-deps: remove opam by default", "committedDate": "2020-11-05T16:22:43Z", "type": "commit"}, {"oid": "f9aa1cef5a783098aca52d5d603dc073e880f479", "url": "https://github.com/kframework/k/commit/f9aa1cef5a783098aca52d5d603dc073e880f479", "message": "Jenkinsfile: test ocaml backend on macos", "committedDate": "2020-11-05T22:07:46Z", "type": "commit"}, {"oid": "e70f85c8b899d438bbe6ab351aa12e7c482737e2", "url": "https://github.com/kframework/k/commit/e70f85c8b899d438bbe6ab351aa12e7c482737e2", "message": "Jenkinsfile, src/main/scripts/test-in-container: set OPAMROOT when calling k-configure-opam", "committedDate": "2020-11-05T22:08:24Z", "type": "commit"}, {"oid": "8c4532b7c72eb1b55507e89238bcfa2a84e24ff6", "url": "https://github.com/kframework/k/commit/8c4532b7c72eb1b55507e89238bcfa2a84e24ff6", "message": "!!! Jenkinsfile: disable macos build for now", "committedDate": "2020-11-05T22:55:32Z", "type": "commit"}, {"oid": "28a9f6d9e7bfbb102a9d4d649ea70276a5d18b93", "url": "https://github.com/kframework/k/commit/28a9f6d9e7bfbb102a9d4d649ea70276a5d18b93", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package", "committedDate": "2020-11-06T14:58:49Z", "type": "commit"}, {"oid": "8bd4d6d24b8062264b1ef0bb5d2025825bd17874", "url": "https://github.com/kframework/k/commit/8bd4d6d24b8062264b1ef0bb5d2025825bd17874", "message": "Revert \"!!! Jenkinsfile: disable macos build for now\"\n\nThis reverts commit 8c4532b7c72eb1b55507e89238bcfa2a84e24ff6.", "committedDate": "2020-11-06T14:59:43Z", "type": "commit"}, {"oid": "4b4bafb35c0d7dc30b16be47a35efb4b8c7566fd", "url": "https://github.com/kframework/k/commit/4b4bafb35c0d7dc30b16be47a35efb4b8c7566fd", "message": "Jenkinsfile: try MacOS without OPAMROOT", "committedDate": "2020-11-06T15:00:46Z", "type": "commit"}, {"oid": "effa157259f9368ebf7251965c2f2b288a9ffeb5", "url": "https://github.com/kframework/k/commit/effa157259f9368ebf7251965c2f2b288a9ffeb5", "message": "src/main/scripts/test-in-container-debian: make sure no interaction needed", "committedDate": "2020-11-06T17:38:21Z", "type": "commit"}, {"oid": "e55ed371be7036a66eb7dfa34d24348bba33e6ad", "url": "https://github.com/kframework/k/commit/e55ed371be7036a66eb7dfa34d24348bba33e6ad", "message": "Revert \"!!! Jenkinsfile: debugging\"\n\nThis reverts commit 82eb31fb3c011dd8d9dc5082bf764ac898116593.", "committedDate": "2020-11-06T19:59:29Z", "type": "commit"}, {"oid": "0b0822f5ad158ddef18c852ddab629e931571baf", "url": "https://github.com/kframework/k/commit/0b0822f5ad158ddef18c852ddab629e931571baf", "message": "!!! Jenkinsfile: debug arch build", "committedDate": "2020-11-06T20:00:28Z", "type": "commit"}, {"oid": "3371fed6c3bbd32e6f2a3d15779514259a13ee46", "url": "https://github.com/kframework/k/commit/3371fed6c3bbd32e6f2a3d15779514259a13ee46", "message": "package/arch/PKGBUILD: unset install variable", "committedDate": "2020-11-06T20:00:43Z", "type": "commit"}, {"oid": "b6794d7d053377d540cee10e19be75d758cfabf5", "url": "https://github.com/kframework/k/commit/b6794d7d053377d540cee10e19be75d758cfabf5", "message": "Revert \"!!! Jenkinsfile: debug arch build\"\n\nThis reverts commit 0b0822f5ad158ddef18c852ddab629e931571baf.", "committedDate": "2020-11-06T20:22:01Z", "type": "commit"}]}