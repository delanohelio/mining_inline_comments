{"pr_number": 1553, "pr_title": "Use `claim` keyword for proof obligations", "pr_createdAt": "2020-09-22T18:23:20Z", "pr_url": "https://github.com/kframework/k/pull/1553", "timeline": [{"oid": "64c59f13fcb155773a7d7c3df0ecda43d17745f1", "url": "https://github.com/kframework/k/commit/64c59f13fcb155773a7d7c3df0ecda43d17745f1", "message": "Add claim keyword and scala classes", "committedDate": "2020-09-04T19:06:12Z", "type": "commit"}, {"oid": "6f93721c43deb69c0e6f0794ece43aed11cbf36a", "url": "https://github.com/kframework/k/commit/6f93721c43deb69c0e6f0794ece43aed11cbf36a", "message": "Adding support for Claim class.\n\nintermediate", "committedDate": "2020-09-04T19:06:12Z", "type": "commit"}, {"oid": "a6f2331e5041684aef8f65eee1080d966a4e6c3d", "url": "https://github.com/kframework/k/commit/a6f2331e5041684aef8f65eee1080d966a4e6c3d", "message": "Add RuleOrClaim abstract class\n\ntests fail with wrong result", "committedDate": "2020-09-04T19:06:12Z", "type": "commit"}, {"oid": "397ba85ddc87c42caa4163fb05ba4c636eff5a39", "url": "https://github.com/kframework/k/commit/397ba85ddc87c42caa4163fb05ba4c636eff5a39", "message": "Transform rule to claim", "committedDate": "2020-09-04T19:06:12Z", "type": "commit"}, {"oid": "8d624bc241a54f02d37bea19bf4df8fffb5e989a", "url": "https://github.com/kframework/k/commit/8d624bc241a54f02d37bea19bf4df8fffb5e989a", "message": "Fix module name and simplify code", "committedDate": "2020-09-04T19:06:12Z", "type": "commit"}, {"oid": "1f5911a53e2778e436eced38d780655515d84617", "url": "https://github.com/kframework/k/commit/1f5911a53e2778e436eced38d780655515d84617", "message": "Fix failing tests.", "committedDate": "2020-09-04T20:28:56Z", "type": "commit"}, {"oid": "4ee95653ea7f3fcd9dc018ba4f39147b31096235", "url": "https://github.com/kframework/k/commit/4ee95653ea7f3fcd9dc018ba4f39147b31096235", "message": "remove tab char", "committedDate": "2020-09-04T20:39:55Z", "type": "commit"}, {"oid": "46ddd3947d0a2430fe288f912e9c638a1fb95f51", "url": "https://github.com/kframework/k/commit/46ddd3947d0a2430fe288f912e9c638a1fb95f51", "message": "fix more tests", "committedDate": "2020-09-06T19:30:35Z", "type": "commit"}, {"oid": "bb4a1fac48eb0b52582adfb50c319e9963b79eb5", "url": "https://github.com/kframework/k/commit/bb4a1fac48eb0b52582adfb50c319e9963b79eb5", "message": "Partial fix for test", "committedDate": "2020-09-07T16:25:53Z", "type": "commit"}, {"oid": "d68e24974260c6ee78e5b75305bd8baec463a16d", "url": "https://github.com/kframework/k/commit/d68e24974260c6ee78e5b75305bd8baec463a16d", "message": "Fix expand macros for Claims", "committedDate": "2020-09-07T16:48:24Z", "type": "commit"}, {"oid": "a5a8049d6a8d649e562846ceadd8fd24acce89b0", "url": "https://github.com/kframework/k/commit/a5a8049d6a8d649e562846ceadd8fd24acce89b0", "message": "Merge branch 'master' into claimKeyword\n\n# Conflicts:\n#\tkernel/src/main/java/org/kframework/backend/kore/ModuleToKORE.java\n#\tkernel/src/main/java/org/kframework/utils/Tag.java", "committedDate": "2020-09-07T16:55:19Z", "type": "commit"}, {"oid": "86772e2afbd44d8f331137f6dfa0337c3dc0fcd3", "url": "https://github.com/kframework/k/commit/86772e2afbd44d8f331137f6dfa0337c3dc0fcd3", "message": "Merge master and more fixes", "committedDate": "2020-09-07T17:24:25Z", "type": "commit"}, {"oid": "b32abe1a5ed4e46d62ebd120cef67033bf1b3079", "url": "https://github.com/kframework/k/commit/b32abe1a5ed4e46d62ebd120cef67033bf1b3079", "message": "Generate proper claim tests", "committedDate": "2020-09-08T15:46:59Z", "type": "commit"}, {"oid": "03da1a6b3652b426ab5bf3e6fbed8f1d94461228", "url": "https://github.com/kframework/k/commit/03da1a6b3652b426ab5bf3e6fbed8f1d94461228", "message": "Partial fix for Java prover", "committedDate": "2020-09-10T16:19:16Z", "type": "commit"}, {"oid": "9731885abed0060eef685b427ad8989f44db525e", "url": "https://github.com/kframework/k/commit/9731885abed0060eef685b427ad8989f44db525e", "message": "Simulate marking mechanism till I find the bug.", "committedDate": "2020-09-10T19:59:33Z", "type": "commit"}, {"oid": "738719426aab21f23afe6f59d103b76bf953c9c8", "url": "https://github.com/kframework/k/commit/738719426aab21f23afe6f59d103b76bf953c9c8", "message": "Add annotation to help IntelliJ find ordering implicit", "committedDate": "2020-09-14T20:47:08Z", "type": "commit"}, {"oid": "93d9e897c331d20514bd8464fd227f6df408e8b0", "url": "https://github.com/kframework/k/commit/93d9e897c331d20514bd8464fd227f6df408e8b0", "message": "Update transformers", "committedDate": "2020-09-14T21:07:45Z", "type": "commit"}, {"oid": "936082cf67ae12a1c34f58b5bcf848c8577ce2c1", "url": "https://github.com/kframework/k/commit/936082cf67ae12a1c34f58b5bcf848c8577ce2c1", "message": "Merge branch 'master' into claimKeyword", "committedDate": "2020-09-14T21:08:07Z", "type": "commit"}, {"oid": "c16ffd2def03ec46e7d803050cd9518e80f7179e", "url": "https://github.com/kframework/k/commit/c16ffd2def03ec46e7d803050cd9518e80f7179e", "message": "Fix tests", "committedDate": "2020-09-15T14:11:31Z", "type": "commit"}, {"oid": "bd60b3eb5b09294e1442ae633b8823990925f3e6", "url": "https://github.com/kframework/k/commit/bd60b3eb5b09294e1442ae633b8823990925f3e6", "message": "Fix checks.", "committedDate": "2020-09-15T15:03:01Z", "type": "commit"}, {"oid": "fa4e3d6cf600752432b23830b7f2a29c0ebcbfaf", "url": "https://github.com/kframework/k/commit/fa4e3d6cf600752432b23830b7f2a29c0ebcbfaf", "message": "Accept 0,1 or 2 dots in paths for sed.", "committedDate": "2020-09-22T18:10:35Z", "type": "commit"}, {"oid": "539834a46ab1e35462f6002eb7bfb21ddb561456", "url": "https://github.com/kframework/k/commit/539834a46ab1e35462f6002eb7bfb21ddb561456", "message": "Merge branch 'master' into claimKeyword2", "committedDate": "2020-09-22T18:10:48Z", "type": "commit"}, {"oid": "e2e323e337e525b712b67ce083e83317c5b17739", "url": "https://github.com/kframework/k/commit/e2e323e337e525b712b67ce083e83317c5b17739", "message": "Revert claim update.", "committedDate": "2020-09-22T18:18:04Z", "type": "commit"}, {"oid": "5182501afd8ba092ab9316228a227bf169aeb7f0", "url": "https://github.com/kframework/k/commit/5182501afd8ba092ab9316228a227bf169aeb7f0", "message": "Fix broken-spec.k", "committedDate": "2020-09-22T19:07:07Z", "type": "commit"}, {"oid": "22e87db67352922d6bb1e74e681b511ab5ccbc84", "url": "https://github.com/kframework/k/commit/22e87db67352922d6bb1e74e681b511ab5ccbc84", "message": "Adding error check.", "committedDate": "2020-09-22T19:10:48Z", "type": "commit"}, {"oid": "ee4c1bcb365ac93f82d460cd6663c00494f765ac", "url": "https://github.com/kframework/k/commit/ee4c1bcb365ac93f82d460cd6663c00494f765ac", "message": "Merge branch 'master' into claimKeyword2", "committedDate": "2020-09-24T17:18:11Z", "type": "commit"}, {"oid": "23771781d08dc6c61d2671eb6b285c3942e10566", "url": "https://github.com/kframework/k/commit/23771781d08dc6c61d2671eb6b285c3942e10566", "message": "Add warning check only for claim keyword.", "committedDate": "2020-09-24T17:36:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY5MTgxMA==", "url": "https://github.com/kframework/k/pull/1553#discussion_r496691810", "bodyText": "What's the explanation behind this one?", "author": "ehildenb", "createdAt": "2020-09-29T12:53:50Z", "path": "k-distribution/include/kframework/ktest-fail.mak", "diffHunk": "@@ -24,7 +24,7 @@ kompile: $(TESTS)\n dummy:\n \n %.k %.md: dummy\n-\t$(KOMPILE) $(KOMPILE_FLAGS) --backend $(KOMPILE_BACKEND) $(DEBUG_FAIL) $@ -d $(DEFDIR) 2>&1 | sed 's!'`pwd`'/\\(\\./\\)\\{0,1\\}!!g' $(CHECK) $@.out $(CHECK2)\n+\t$(KOMPILE) $(KOMPILE_FLAGS) --backend $(KOMPILE_BACKEND) $(DEBUG_FAIL) $@ -d $(DEFDIR) 2>&1 | sed 's!'`pwd`'/\\(\\./\\)\\{0,2\\}!!g' $(CHECK) $@.out $(CHECK2)", "originalCommit": "23771781d08dc6c61d2671eb6b285c3942e10566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk4Njc3OA==", "url": "https://github.com/kframework/k/pull/1553#discussion_r496986778", "bodyText": "On my machine, the paths from reported warnings include a /././ and on Jenkins they only include /./.\nI'm not sure why. It might be a java thing. This change takes into consideration both cases.", "author": "radumereuta", "createdAt": "2020-09-29T19:24:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY5MTgxMA=="}], "type": "inlineReview"}, {"oid": "251dc13dda5b9a13233caffa54a14e0b21a14c91", "url": "https://github.com/kframework/k/commit/251dc13dda5b9a13233caffa54a14e0b21a14c91", "message": "Merge branch 'master' into claimKeyword2", "committedDate": "2020-09-30T19:31:35Z", "type": "commit"}, {"oid": "d748d5e07a014c22c64a462cd8d71a6783d2389c", "url": "https://github.com/kframework/k/commit/d748d5e07a014c22c64a462cd8d71a6783d2389c", "message": "Optimize code duplication", "committedDate": "2020-09-30T20:39:48Z", "type": "commit"}, {"oid": "f0ca6ba29aa3d4b31fc9047c2b1a70c0ff082613", "url": "https://github.com/kframework/k/commit/f0ca6ba29aa3d4b31fc9047c2b1a70c0ff082613", "message": "One more code simplification", "committedDate": "2020-09-30T20:49:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgxODk3OA==", "url": "https://github.com/kframework/k/pull/1553#discussion_r497818978", "bodyText": "Let's not bring this whole file back when we're just using it to mark the constant strings that are part of the Bubble class. Just put them as static fields on that class.", "author": "dwightguth", "createdAt": "2020-09-30T21:45:23Z", "path": "kernel/src/main/java/org/kframework/utils/Tag.java", "diffHunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2012-2020 K Team. All Rights Reserved.\n+package org.kframework.utils;\n+\n+public class Tag {\n+\n+    public final static String require = \"require\";", "originalCommit": "f0ca6ba29aa3d4b31fc9047c2b1a70c0ff082613", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5891b532f82de914376ea20e96cc973454fbfcf5", "url": "https://github.com/kframework/k/commit/5891b532f82de914376ea20e96cc973454fbfcf5", "message": "Merge branch 'master' into claimKeyword2", "committedDate": "2020-10-05T19:10:18Z", "type": "commit"}, {"oid": "3743c1e439b1826ec5944a54357e9d6e4f90fbe3", "url": "https://github.com/kframework/k/commit/3743c1e439b1826ec5944a54357e9d6e4f90fbe3", "message": "Remove Tag.java", "committedDate": "2020-10-05T19:41:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTczNTE3NQ==", "url": "https://github.com/kframework/k/pull/1553#discussion_r501735175", "bodyText": "@dwightguth I need your input on this.\nSince adding all steps to the kprove pipeline, MergeRules is being called and it creates a rule which the backend doesn't expect. The most simple solution I could find was to avoid this step on modules that contain claims.", "author": "radumereuta", "createdAt": "2020-10-08T13:48:24Z", "path": "kore/src/main/scala/org/kframework/compile/MergeRules.scala", "diffHunk": "@@ -30,6 +30,9 @@ class MergeRules(val automatonAttribute: String, filterAttribute: String) extend\n   val isRulePredicate = KLabel(\"isRule\")\n \n   def apply(m: Module): Module = {\n+    // TODO: find a better way to avoid adding merged rules to the spec module\n+    if (m.claims.nonEmpty) return m", "originalCommit": "443440f39a890f94cfc9e952ea842f9b178d0e97", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "url": "https://github.com/kframework/k/commit/69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "message": "Merge branch 'master' into claimKeyword2", "committedDate": "2020-10-08T17:09:23Z", "type": "commit"}, {"oid": "69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "url": "https://github.com/kframework/k/commit/69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "message": "Merge branch 'master' into claimKeyword2", "committedDate": "2020-10-08T17:09:23Z", "type": "forcePushed"}]}