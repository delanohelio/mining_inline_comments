{"pr_number": 1227, "pr_title": "Packaging subdirectory [brew-staging: directory-change]", "pr_createdAt": "2020-04-22T09:59:26Z", "pr_url": "https://github.com/kframework/k/pull/1227", "timeline": [{"oid": "5cd02bf5d4c187291d18608d1ec8817fce8b57a4", "url": "https://github.com/kframework/k/commit/5cd02bf5d4c187291d18608d1ec8817fce8b57a4", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-22T10:56:34Z", "type": "forcePushed"}, {"oid": "cefddbaa077ec9246823e12c325e04201514a2ca", "url": "https://github.com/kframework/k/commit/cefddbaa077ec9246823e12c325e04201514a2ca", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-23T09:56:08Z", "type": "forcePushed"}, {"oid": "81d24dc3fd86b3361f60770bc823902535a57bf1", "url": "https://github.com/kframework/k/commit/81d24dc3fd86b3361f60770bc823902535a57bf1", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-23T23:41:55Z", "type": "forcePushed"}, {"oid": "3ae7bdc94c2142f6088421d90039938d53f8f10f", "url": "https://github.com/kframework/k/commit/3ae7bdc94c2142f6088421d90039938d53f8f10f", "message": "Dockerfile: put less-likely to change steps earlier", "committedDate": "2020-04-24T09:21:04Z", "type": "forcePushed"}, {"oid": "f100d8e1b4db6292bc4c00c19662a85728812213", "url": "https://github.com/kframework/k/commit/f100d8e1b4db6292bc4c00c19662a85728812213", "message": "Jenkinsfile: ensure that branch in homebrew-k repo is up to date", "committedDate": "2020-04-26T08:46:09Z", "type": "forcePushed"}, {"oid": "b092e73d9d411ca2366d10c8e6275838535241c2", "url": "https://github.com/kframework/k/commit/b092e73d9d411ca2366d10c8e6275838535241c2", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-26T10:47:38Z", "type": "forcePushed"}, {"oid": "1b5d55b7be27f8ee0a2a06a1e49a22718a5fc45c", "url": "https://github.com/kframework/k/commit/1b5d55b7be27f8ee0a2a06a1e49a22718a5fc45c", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-27T16:50:57Z", "type": "forcePushed"}, {"oid": "172683eeee4ecd42a96e0457501b8750f82b4403", "url": "https://github.com/kframework/k/commit/172683eeee4ecd42a96e0457501b8750f82b4403", "message": "Merge remote-tracking branch 'upstream/master' into packaging-subdirectory", "committedDate": "2020-04-28T09:54:19Z", "type": "forcePushed"}, {"oid": "e66e2f5f47d3f974749aa6a517ec3702b0c6713a", "url": "https://github.com/kframework/k/commit/e66e2f5f47d3f974749aa6a517ec3702b0c6713a", "message": "Jenkinsfile: formatting", "committedDate": "2020-04-28T20:49:12Z", "type": "commit"}, {"oid": "5190e912d867253d6fd9576ebcae48503ade9ddb", "url": "https://github.com/kframework/k/commit/5190e912d867253d6fd9576ebcae48503ade9ddb", "message": "{. => package/arch}, Jenkinsfile: move to packaging subdirectory", "committedDate": "2020-04-28T20:49:12Z", "type": "commit"}, {"oid": "6495dc39aeab44341630d48d0778ab878cd3ba66", "url": "https://github.com/kframework/k/commit/6495dc39aeab44341630d48d0778ab878cd3ba66", "message": "{. => package}/debian, Jenkinsfile: move to packaging subdirectory", "committedDate": "2020-04-28T20:49:12Z", "type": "commit"}, {"oid": "de951e6fc9eda3aec9e4c7b978e8c52c525664d2", "url": "https://github.com/kframework/k/commit/de951e6fc9eda3aec9e4c7b978e8c52c525664d2", "message": "{src/main/scripts => package/macos}/brew-*, Jenkinsfile: move brew packaging scripts to package subdirectory", "committedDate": "2020-04-28T20:49:35Z", "type": "commit"}, {"oid": "d80429e9fa94b41ed1e4287757c6613c5a640365", "url": "https://github.com/kframework/k/commit/d80429e9fa94b41ed1e4287757c6613c5a640365", "message": "{src/main/scripts => package}/package, package/: move packaging script", "committedDate": "2020-04-28T20:49:35Z", "type": "commit"}, {"oid": "63383fa92babf353b3426309e651576573a7bd73", "url": "https://github.com/kframework/k/commit/63383fa92babf353b3426309e651576573a7bd73", "message": "Revert \"{. => package}/debian, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 6495dc39aeab44341630d48d0778ab878cd3ba66.", "committedDate": "2020-04-28T20:50:54Z", "type": "forcePushed"}, {"oid": "44d0c3b02073b382503071007ae6d20381c2c984", "url": "https://github.com/kframework/k/commit/44d0c3b02073b382503071007ae6d20381c2c984", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb.", "committedDate": "2020-04-29T07:27:46Z", "type": "forcePushed"}, {"oid": "63383fa92babf353b3426309e651576573a7bd73", "url": "https://github.com/kframework/k/commit/63383fa92babf353b3426309e651576573a7bd73", "message": "Revert \"{. => package}/debian, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 6495dc39aeab44341630d48d0778ab878cd3ba66.", "committedDate": "2020-04-28T20:50:54Z", "type": "forcePushed"}, {"oid": "e1b71e734b02862b0cd5465cefe54a2ab534f6e9", "url": "https://github.com/kframework/k/commit/e1b71e734b02862b0cd5465cefe54a2ab534f6e9", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb.", "committedDate": "2020-04-29T13:52:45Z", "type": "forcePushed"}, {"oid": "e4cb69b734beac4210aeb2e72fafcc01e3a48a42", "url": "https://github.com/kframework/k/commit/e4cb69b734beac4210aeb2e72fafcc01e3a48a42", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb.", "committedDate": "2020-04-29T16:56:32Z", "type": "forcePushed"}, {"oid": "4c0ad86bbc551e7db394155c085a99694061b156", "url": "https://github.com/kframework/k/commit/4c0ad86bbc551e7db394155c085a99694061b156", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb.", "committedDate": "2020-04-29T19:41:21Z", "type": "forcePushed"}, {"oid": "02feba3aef369bb854b4bea624b7b8305f42c140", "url": "https://github.com/kframework/k/commit/02feba3aef369bb854b4bea624b7b8305f42c140", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-28T20:49:35Z", "type": "forcePushed"}, {"oid": "fed0f801be1038020a2993a0788f317c6e1c9dbf", "url": "https://github.com/kframework/k/commit/fed0f801be1038020a2993a0788f317c6e1c9dbf", "message": "Jenkinsfile: build arch package in subdirectory", "committedDate": "2020-04-30T09:30:33Z", "type": "commit"}, {"oid": "498826ed5c09a72bdf2e187cd94fc14c40990b50", "url": "https://github.com/kframework/k/commit/498826ed5c09a72bdf2e187cd94fc14c40990b50", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-30T09:30:40Z", "type": "commit"}, {"oid": "498826ed5c09a72bdf2e187cd94fc14c40990b50", "url": "https://github.com/kframework/k/commit/498826ed5c09a72bdf2e187cd94fc14c40990b50", "message": "!!! Jenkinsfile: debugging", "committedDate": "2020-04-30T09:30:40Z", "type": "forcePushed"}, {"oid": "f4135a24d8e372a59d58e55608001c04f8443430", "url": "https://github.com/kframework/k/commit/f4135a24d8e372a59d58e55608001c04f8443430", "message": "Revert \"!!! Jenkinsfile: debugging\"\n\nThis reverts commit 498826ed5c09a72bdf2e187cd94fc14c40990b50.", "committedDate": "2020-04-30T12:30:30Z", "type": "commit"}, {"oid": "5b51923b71aa0be6ba6719b1107ddbceee6fb8dd", "url": "https://github.com/kframework/k/commit/5b51923b71aa0be6ba6719b1107ddbceee6fb8dd", "message": "Merge remote-tracking branch 'upstream/master' into packaging-subdirectory", "committedDate": "2020-04-30T12:30:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODE2Nw==", "url": "https://github.com/kframework/k/pull/1227#discussion_r417978167", "bodyText": "Why is this here? Hasn't it already done a fresh clone of master?", "author": "dwightguth", "createdAt": "2020-04-30T12:39:07Z", "path": "Jenkinsfile", "diffHunk": "@@ -302,23 +309,24 @@ pipeline {\n                         git show-ref --verify refs/remotes/origin/$brew_base_branch\n                         git push -d origin brew-release-$PACKAGE || true\n                         git checkout -b brew-release-$PACKAGE \"origin/$brew_base_branch\"\n-                        ${WORKSPACE}/src/main/scripts/brew-update-to-local\n+                        git merge origin/master", "originalCommit": "5b51923b71aa0be6ba6719b1107ddbceee6fb8dd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDExMw==", "url": "https://github.com/kframework/k/pull/1227#discussion_r417980113", "bodyText": "If there is not a brew-staging:  tag in the PR title, then it will do nothing (because brew-release-* branch will already be based on origin/master).\nIf there is a brew-staging:  tag, then it will make sure it's up to date. This is important because we don't always know the order that PRs will get merged in (so another K job may go through which updates origin/master in the homebrew-k repo), so we want to make sure that if the brew-staging branch is set, it merges cleanly into master before applying the later changes.", "author": "ehildenb", "createdAt": "2020-04-30T12:42:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODE2Nw=="}], "type": "inlineReview"}]}