{"pr_number": 1610, "pr_title": "Pyk updates for gas expression manipulation", "pr_createdAt": "2020-10-20T19:00:09Z", "pr_url": "https://github.com/kframework/k/pull/1610", "timeline": [{"oid": "7f413005a47142bbdc0ea1286f168c638972d54c", "url": "https://github.com/kframework/k/commit/7f413005a47142bbdc0ea1286f168c638972d54c", "message": "pyk/kast: return originalName of variable when present for unparsing", "committedDate": "2020-09-23T17:46:22Z", "type": "commit"}, {"oid": "eef1bda458482e49eb09391177bf0f0b68d8617e", "url": "https://github.com/kframework/k/commit/eef1bda458482e49eb09391177bf0f0b68d8617e", "message": "pyk/kast: double => single quotes", "committedDate": "2020-09-23T17:47:29Z", "type": "commit"}, {"oid": "bac6784c7668718a7b149fd0b28ac0f14a6a7846", "url": "https://github.com/kframework/k/commit/bac6784c7668718a7b149fd0b28ac0f14a6a7846", "message": "pyk/kastManip: add replaceWith, replaceAnywhereWith macro expanders", "committedDate": "2020-09-24T17:12:06Z", "type": "commit"}, {"oid": "6f6506ec88b242c5030ea6229cf6333460b6fe08", "url": "https://github.com/kframework/k/commit/6f6506ec88b242c5030ea6229cf6333460b6fe08", "message": "Merge remote-tracking branch 'upstream/master' into pyk-updates", "committedDate": "2020-09-28T13:48:15Z", "type": "commit"}, {"oid": "150237718b25bba61eaed8009cb1b91b1ddcf5db", "url": "https://github.com/kframework/k/commit/150237718b25bba61eaed8009cb1b91b1ddcf5db", "message": "pyk/kastManip: add whereMatchingBottomUp/whereMatchingTopDown", "committedDate": "2020-09-28T14:08:45Z", "type": "commit"}, {"oid": "b7366ea7bede2eb22bc11ef916a17ee0538ddab5", "url": "https://github.com/kframework/k/commit/b7366ea7bede2eb22bc11ef916a17ee0538ddab5", "message": "Merge remote-tracking branch 'upstream/master' into pyk-updates", "committedDate": "2020-10-20T18:59:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODc3NzM5Nw==", "url": "https://github.com/kframework/k/pull/1610#discussion_r508777397", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            def whereMattchingBottomUp(effect, matchPattern, pattern):\n          \n          \n            \n                def _effect(k):\n          \n          \n            \n                    matchingSubst = match(matchPattern, k)\n          \n          \n            \n                    newK = k\n          \n          \n            \n                    if matchingSubst is not None:\n          \n          \n            \n                        newK = effect(matchingSubst)\n          \n          \n            \n                    return newK\n          \n          \n            \n                return traverseBottomUp(_effect, pattern)\n          \n          \n            \n            \n          \n          \n            \n            def whereMattchingTopDown(effect, matchPattern, pattern):\n          \n          \n            \n            def whereMatchingBottomUp(effect, matchPattern, pattern):\n          \n          \n            \n                def _effect(k):\n          \n          \n            \n                    matchingSubst = match(matchPattern, k)\n          \n          \n            \n                    newK = k\n          \n          \n            \n                    if matchingSubst is not None:\n          \n          \n            \n                        newK = effect(matchingSubst)\n          \n          \n            \n                    return newK\n          \n          \n            \n                return traverseBottomUp(_effect, pattern)\n          \n          \n            \n            \n          \n          \n            \n            def whereMatchingTopDown(effect, matchPattern, pattern):", "author": "gtrepta", "createdAt": "2020-10-20T19:15:30Z", "path": "k-distribution/src/main/scripts/lib/pyk/kastManip.py", "diffHunk": "@@ -66,6 +66,24 @@ def replace(k):\n         return k\n     return traverseBottomUp(pattern, replace)\n \n+def whereMattchingBottomUp(effect, matchPattern, pattern):\n+    def _effect(k):\n+        matchingSubst = match(matchPattern, k)\n+        newK = k\n+        if matchingSubst is not None:\n+            newK = effect(matchingSubst)\n+        return newK\n+    return traverseBottomUp(_effect, pattern)\n+\n+def whereMattchingTopDown(effect, matchPattern, pattern):", "originalCommit": "b7366ea7bede2eb22bc11ef916a17ee0538ddab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0f43aab8cff0ccf4efb209dc3341021b49361de6", "url": "https://github.com/kframework/k/commit/0f43aab8cff0ccf4efb209dc3341021b49361de6", "message": "Update k-distribution/src/main/scripts/lib/pyk/kastManip.py\n\nCo-authored-by: gtrepta <50716988+gtrepta@users.noreply.github.com>", "committedDate": "2020-10-20T19:18:52Z", "type": "commit"}, {"oid": "0eebd4f331b418e25f7225720a8a14eaf4939e99", "url": "https://github.com/kframework/k/commit/0eebd4f331b418e25f7225720a8a14eaf4939e99", "message": "Merge branch 'master' into pyk-updates", "committedDate": "2020-10-22T22:58:02Z", "type": "commit"}, {"oid": "10eddddb8273ce76772a68ea302081a9ad92c16e", "url": "https://github.com/kframework/k/commit/10eddddb8273ce76772a68ea302081a9ad92c16e", "message": "Merge branch 'master' into pyk-updates", "committedDate": "2020-11-16T16:13:38Z", "type": "commit"}, {"oid": "df9dac65889cbbc72d1a095e2cb8c861b6af5e4a", "url": "https://github.com/kframework/k/commit/df9dac65889cbbc72d1a095e2cb8c861b6af5e4a", "message": "pyk/kast: correct quotations for requires clause", "committedDate": "2020-11-16T17:41:13Z", "type": "commit"}]}