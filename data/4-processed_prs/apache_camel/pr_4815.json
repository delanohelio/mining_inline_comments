{"pr_number": 4815, "pr_title": "Add Consuming Avro messages from Kafka using the schema-registry exam\u2026", "pr_createdAt": "2020-12-23T15:30:46Z", "pr_url": "https://github.com/apache/camel/pull/4815", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzY1MQ==", "url": "https://github.com/apache/camel/pull/4815#discussion_r548423651", "bodyText": "Is it only confluent that has avra deseriazlier and this implies you are using confluent schema registry. Can we make this example also work with other schema registries? And add some more notes on this? And btw the example is using endpoint-dsl which we should mention.", "author": "davsclaus", "createdAt": "2020-12-24T07:08:56Z", "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")", "originalCommit": "80ae65ada719ca96c5e824f93b47930557bb57e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4MDE2OA==", "url": "https://github.com/apache/camel/pull/4815#discussion_r548480168", "bodyText": "I am all for improving it, but please note that I am totally lacking on the required expertise. All I did in this PR is just summing up the info gathered by @tstuber in apache/camel-quarkus#1960 .", "author": "ppalaga", "createdAt": "2020-12-24T10:15:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzY1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ4OTE1Nw==", "url": "https://github.com/apache/camel/pull/4815#discussion_r549489157", "bodyText": "Actually, the adjusted code misses now a closing bracket at the end: .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\"))", "author": "tstuber", "createdAt": "2020-12-28T21:15:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzY1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzczNQ==", "url": "https://github.com/apache/camel/pull/4815#discussion_r548423735", "bodyText": "You would not call resolve when using endpoint-dsl creating routes", "author": "davsclaus", "createdAt": "2020-12-24T07:09:17Z", "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")\n+    .resolve(getContext()))", "originalCommit": "80ae65ada719ca96c5e824f93b47930557bb57e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4MDM0Ng==", "url": "https://github.com/apache/camel/pull/4815#discussion_r548480346", "bodyText": "OK, let me remove resolve()", "author": "ppalaga", "createdAt": "2020-12-24T10:15:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzczNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4MDk2Mw==", "url": "https://github.com/apache/camel/pull/4815#discussion_r548480963", "bodyText": "Fixed in d5154d9", "author": "ppalaga", "createdAt": "2020-12-24T10:17:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzczNQ=="}], "type": "inlineReview"}, {"oid": "d5154d97e8469f5edcfa77cc1095635540c3d5e5", "url": "https://github.com/apache/camel/commit/d5154d97e8469f5edcfa77cc1095635540c3d5e5", "message": "Add Consuming Avro messages from Kafka using the schema-registry example to Kafka component docs", "committedDate": "2020-12-24T10:16:55Z", "type": "commit"}, {"oid": "d5154d97e8469f5edcfa77cc1095635540c3d5e5", "url": "https://github.com/apache/camel/commit/d5154d97e8469f5edcfa77cc1095635540c3d5e5", "message": "Add Consuming Avro messages from Kafka using the schema-registry example to Kafka component docs", "committedDate": "2020-12-24T10:16:55Z", "type": "forcePushed"}]}