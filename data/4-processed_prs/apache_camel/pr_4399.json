{"pr_number": 4399, "pr_title": "CAMEL-15658: camel-pgevent : automate integration tests", "pr_createdAt": "2020-10-08T12:59:21Z", "pr_url": "https://github.com/apache/camel/pull/4399", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTg2NA==", "url": "https://github.com/apache/camel/pull/4399#discussion_r501701864", "bodyText": "Maybe it's better to have the component name too here", "author": "oscerd", "createdAt": "2020-10-08T13:02:39Z", "path": "components/camel-pgevent/pom.xml", "diffHunk": "@@ -64,6 +65,94 @@\n             <artifactId>log4j-slf4j-impl</artifactId>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-testcontainers-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n+    <profiles>\n+        <profile>\n+            <id>testcontainers-skip-tests</id>", "originalCommit": "ffee98ab65a4033ec55ca1264d16b87126e58cee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMjk1MA==", "url": "https://github.com/apache/camel/pull/4399#discussion_r501702950", "bodyText": "OK", "author": "zbendhiba", "createdAt": "2020-10-08T13:04:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTg2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcxMDI3MQ==", "url": "https://github.com/apache/camel/pull/4399#discussion_r501710271", "bodyText": "done !!", "author": "zbendhiba", "createdAt": "2020-10-08T13:15:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTg2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTk0OA==", "url": "https://github.com/apache/camel/pull/4399#discussion_r501701948", "bodyText": "ditto", "author": "oscerd", "createdAt": "2020-10-08T13:02:47Z", "path": "components/camel-pgevent/pom.xml", "diffHunk": "@@ -64,6 +65,94 @@\n             <artifactId>log4j-slf4j-impl</artifactId>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-testcontainers-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n+    <profiles>\n+        <profile>\n+            <id>testcontainers-skip-tests</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <artifactId>maven-surefire-plugin</artifactId>\n+                        <configuration>\n+                            <skipTests>true</skipTests>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <!-- activate integration test if the docker socket file is accessible -->\n+        <profile>\n+            <id>testcontainers-integration-tests-docker-file</id>", "originalCommit": "ffee98ab65a4033ec55ca1264d16b87126e58cee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcxMDc2Mw==", "url": "https://github.com/apache/camel/pull/4399#discussion_r501710763", "bodyText": "done", "author": "zbendhiba", "createdAt": "2020-10-08T13:15:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTk0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMjA0NQ==", "url": "https://github.com/apache/camel/pull/4399#discussion_r501702045", "bodyText": "ditto", "author": "oscerd", "createdAt": "2020-10-08T13:02:55Z", "path": "components/camel-pgevent/pom.xml", "diffHunk": "@@ -64,6 +65,94 @@\n             <artifactId>log4j-slf4j-impl</artifactId>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-testcontainers-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n+    <profiles>\n+        <profile>\n+            <id>testcontainers-skip-tests</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <artifactId>maven-surefire-plugin</artifactId>\n+                        <configuration>\n+                            <skipTests>true</skipTests>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <!-- activate integration test if the docker socket file is accessible -->\n+        <profile>\n+            <id>testcontainers-integration-tests-docker-file</id>\n+            <activation>\n+                <file>\n+                    <exists>/var/run/docker.sock</exists>\n+                </file>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-failsafe-plugin</artifactId>\n+                        <configuration>\n+                            <skipTests>${skipTests}</skipTests>\n+                            <systemPropertyVariables>\n+                                <visibleassertions.silence>true</visibleassertions.silence>\n+                            </systemPropertyVariables>\n+                        </configuration>\n+                        <executions>\n+                            <execution>\n+                                <goals>\n+                                    <goal>integration-test</goal>\n+                                    <goal>verify</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <!-- activate integration test if the DOCKER_HOST env var is set -->\n+        <profile>\n+            <id>testcontainers-integration-tests-docker-env</id>", "originalCommit": "ffee98ab65a4033ec55ca1264d16b87126e58cee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "url": "https://github.com/apache/camel/commit/1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "message": "CAMEL-15658: camel-pgevent : automate integration tests", "committedDate": "2020-10-08T13:14:07Z", "type": "commit"}, {"oid": "1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "url": "https://github.com/apache/camel/commit/1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "message": "CAMEL-15658: camel-pgevent : automate integration tests", "committedDate": "2020-10-08T13:14:07Z", "type": "forcePushed"}]}