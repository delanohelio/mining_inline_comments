{"pr_number": 1001, "pr_title": "Closes MSAL/#1011", "pr_createdAt": "2020-08-14T20:50:25Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1001", "timeline": [{"oid": "92a4a77fc4c383ebcaed2e739b70fefb9f2a20f7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/92a4a77fc4c383ebcaed2e739b70fefb9f2a20f7", "message": "Closes #1011", "committedDate": "2020-08-14T20:47:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg2OTcyMw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1001#discussion_r470869723", "bodyText": "There's no visibility guarantee on anything written to sIsInitialized in AzureActiveDirectory...", "author": "AdamBJohnsonx", "createdAt": "2020-08-14T21:18:49Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/migration/AdalMigrationAdapter.java", "diffHunk": "@@ -243,10 +242,9 @@ public static boolean loadCloudDiscoveryMetadata() {\n                         \"Failed to load instance discovery metadata\",\n                         e\n                 );\n-                succeeded = false;\n             }\n         }\n \n-        return succeeded;\n+        return AzureActiveDirectory.isInitialized();", "originalCommit": "92a4a77fc4c383ebcaed2e739b70fefb9f2a20f7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg3MDI1Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1001#discussion_r470870257", "bodyText": "Yuck. Let's get that fixed", "author": "iambmelt", "createdAt": "2020-08-14T21:20:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg2OTcyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg3MDc4Ng==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1001#discussion_r470870786", "bodyText": "db7c0e9", "author": "iambmelt", "createdAt": "2020-08-14T21:21:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg2OTcyMw=="}], "type": "inlineReview"}, {"oid": "db7c0e90c7780d55ee8c6e2734bac0ce7b70b1aa", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/db7c0e90c7780d55ee8c6e2734bac0ce7b70b1aa", "message": "Tidy up visibility modifiers in class", "committedDate": "2020-08-14T21:21:03Z", "type": "commit"}, {"oid": "0002a1bb15b8835dc65bc25216dfc37f9584e2d7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0002a1bb15b8835dc65bc25216dfc37f9584e2d7", "message": "Adding nullability annots", "committedDate": "2020-08-14T21:55:12Z", "type": "commit"}, {"oid": "19c02be8d67ef49568ea4fa36b2d4ec90f57de8e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/19c02be8d67ef49568ea4fa36b2d4ec90f57de8e", "message": "Synchronize method calls which touch static variables what may be\nmanipulated by another thread", "committedDate": "2020-08-14T22:03:53Z", "type": "commit"}]}