{"pr_number": 1050, "pr_title": "Create main.yml", "pr_createdAt": "2020-09-23T16:26:28Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1050", "timeline": [{"oid": "6c02c4f4465bebf7a63d117953adcc270c5b67b1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/6c02c4f4465bebf7a63d117953adcc270c5b67b1", "message": "Create main.yml\n\nAdding github action to run the snapshot build when a push to dev branch occurs.  Pushes to dev branch should only happen when a PR completes or during release process.", "committedDate": "2020-09-23T16:26:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzcyOTY2Mw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1050#discussion_r493729663", "bodyText": "Maybe this comment should be updated. ;-)", "author": "AdamBJohnsonx", "createdAt": "2020-09-23T16:29:41Z", "path": ".github/workflows/main.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+# This is a basic workflow to help you get started with Actions", "originalCommit": "6c02c4f4465bebf7a63d117953adcc270c5b67b1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzczMDYxMA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1050#discussion_r493730610", "bodyText": "It's a template.  Not too worried :-)", "author": "shoatman", "createdAt": "2020-09-23T16:31:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzcyOTY2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc0ODg0OA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1050#discussion_r493748848", "bodyText": "Is there a way we can restrict it to only run on merge commits for PRs? Otherwise how many builds will be kicked off if a PR with n commits merges into dev? Will it be n + 1 builds kicked off at once?", "author": "shahzaibj", "createdAt": "2020-09-23T17:00:30Z", "path": ".github/workflows/main.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+# This is a basic workflow to help you get started with Actions\n+\n+name: dev_updated\n+\n+# Controls when the action will run. Triggers the workflow on push or pull request\n+# events but only for the dev branch\n+on:\n+  push:\n+    branches: [ dev ]", "originalCommit": "6c02c4f4465bebf7a63d117953adcc270c5b67b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc0NDUxMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1050#discussion_r493744512", "bodyText": "I'm assuming that if this step fails, the chain stops.  So we could do things like maintain a \"CI Passed\" branch from here automatically.", "author": "AdamBJohnsonx", "createdAt": "2020-09-23T16:53:36Z", "path": ".github/workflows/main.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+# This is a basic workflow to help you get started with Actions\n+\n+name: dev_updated\n+\n+# Controls when the action will run. Triggers the workflow on push or pull request\n+# events but only for the dev branch\n+on:\n+  push:\n+    branches: [ dev ]\n+\n+# A workflow run is made up of one or more jobs that can run sequentially or in parallel\n+jobs:\n+  # This workflow contains a single job called \"build\"\n+  build:\n+    # The type of runner that the job will run on\n+    runs-on: ubuntu-latest\n+\n+    # Steps represent a sequence of tasks that will be executed as part of the job\n+    steps:\n+      - name: Azure Pipelines Action\n+        uses: Azure/pipelines@v1\n+        with:\n+          # Fullyqualified URL to the Azure DevOps organization along with project name(eg, https://dev.azure.com/organization/project-name or https://server.example.com:8080/tfs/DefaultCollection/project-name)\n+          azure-devops-project-url: 'https://dev.azure.com/IdentityDivision/IDDP'\n+          # Name of the Azure Pipline to be triggered\n+          azure-pipeline-name: 'Nightly Common VSTS Release'\n+          # Paste personal access token of the user as value of secret variable:AZURE_DEVOPS_TOKEN\n+          azure-devops-token: '${{ secrets.IDDP_PIPELINE }}'", "originalCommit": "6c02c4f4465bebf7a63d117953adcc270c5b67b1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc1NDg2Ng==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1050#discussion_r493754866", "bodyText": "PR's for common won't merge to dev until they pass CI.  This workflow runs after the merge to dev has happened.  Not as part of validating the code as part of CI.  At least in theory.  If this pipeline fails, which it shouldn't then we'll see that Azure DevOps.  We can notify on failure within the pipeline if we want to.", "author": "shoatman", "createdAt": "2020-09-23T17:10:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc0NDUxMg=="}], "type": "inlineReview"}]}