{"pr_number": 784, "pr_title": "Extract Browser/WebView specific codes from lifecycle code", "pr_createdAt": "2020-01-17T23:37:28Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/784", "timeline": [{"oid": "8e34ecd9f9ce5ffd2150315ba3ae1e7faf0e5bb4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8e34ecd9f9ce5ffd2150315ba3ae1e7faf0e5bb4", "message": "Extract Browser/WebView specific codes from lifecycle code", "committedDate": "2020-01-17T23:07:34Z", "type": "commit"}, {"oid": "9b8e6a0b7f4332c4b302e96215f04e2c603e8dd6", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9b8e6a0b7f4332c4b302e96215f04e2c603e8dd6", "message": "Update comments", "committedDate": "2020-01-17T23:23:12Z", "type": "commit"}, {"oid": "94a76da41dce27be5bbcc39f41cadcfe0642d7cd", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/94a76da41dce27be5bbcc39f41cadcfe0642d7cd", "message": "Remove unused header", "committedDate": "2020-01-17T23:34:42Z", "type": "commit"}, {"oid": "2ac43263164b60ba716b3df2b403e05e79100998", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/2ac43263164b60ba716b3df2b403e05e79100998", "message": "Rename + centralize auth intent params", "committedDate": "2020-01-18T01:46:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTg2MjI4Mg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/784#discussion_r369862282", "bodyText": "nit : this comment can be removed i guess", "author": "kreedula", "createdAt": "2020-01-22T23:29:27Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -0,0 +1,193 @@\n+package com.microsoft.identity.common.internal.providers.oauth2;\n+\n+import android.annotation.SuppressLint;\n+import android.content.Intent;\n+import android.os.Bundle;\n+import android.view.LayoutInflater;\n+import android.view.MotionEvent;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.webkit.WebSettings;\n+import android.webkit.WebView;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.annotation.VisibleForTesting;\n+\n+import com.microsoft.identity.common.R;\n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+import com.microsoft.identity.common.internal.logging.Logger;\n+import com.microsoft.identity.common.internal.ui.webview.AzureActiveDirectoryWebViewClient;\n+import com.microsoft.identity.common.internal.ui.webview.WebViewUtil;\n+import com.microsoft.identity.common.internal.ui.webview.challengehandlers.IAuthorizationCompletionCallback;\n+\n+import java.util.HashMap;\n+\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.AUTH_INTENT;\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.REDIRECT_URI;\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.REQUEST_URL;\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.REQUEST_HEADERS;\n+\n+/**\n+ * Authorization fragment with embedded webview.\n+ * */\n+public class WebViewAuthorizationFragment extends AuthorizationFragment {\n+\n+    private static final String TAG = WebViewAuthorizationFragment.class.getSimpleName();\n+\n+    @VisibleForTesting\n+    private static final String PKEYAUTH_STATUS = \"pkeyAuthStatus\";\n+\n+    private WebView mWebView;\n+\n+    private Intent mAuthIntent;\n+\n+    private boolean mPkeyAuthStatus = false; //NOPMD //TODO Will finish the implementation in Phase 1 (broker is ready).", "originalCommit": "2ac43263164b60ba716b3df2b403e05e79100998", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "041c50ff167ae9844c3608b15a5a340e578d8879", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/041c50ff167ae9844c3608b15a5a340e578d8879", "message": "Merge branch 'dev' into rapong/refactorAuthFragment", "committedDate": "2020-01-22T23:51:00Z", "type": "commit"}, {"oid": "24f543282c992009453f87364ee0cd6de297da67", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/24f543282c992009453f87364ee0cd6de297da67", "message": "Use LocalBroadcastManager instead of a public static function (#787)\n\n* Use LocalBroadcastManager instead of a public static function\r\n\r\n* REQUEST_CANCELLED_BY_USER is now part of CANCEL_INTERACTIVE_REQUEST\r\n\r\n* Update test cases", "committedDate": "2020-01-23T00:27:50Z", "type": "commit"}, {"oid": "b479ba2eb34c3b96a2dfe27579bcfab0f1136543", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b479ba2eb34c3b96a2dfe27579bcfab0f1136543", "message": "Address comment", "committedDate": "2020-01-23T00:33:30Z", "type": "commit"}, {"oid": "966e0ccee99cfa3c465d5ea8d5905f3ec0c1be4e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/966e0ccee99cfa3c465d5ea8d5905f3ec0c1be4e", "message": "Merge branch 'dev' into rapong/refactorAuthFragment", "committedDate": "2020-01-23T01:07:46Z", "type": "commit"}]}