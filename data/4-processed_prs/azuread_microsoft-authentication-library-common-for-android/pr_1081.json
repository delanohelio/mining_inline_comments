{"pr_number": 1081, "pr_title": "add Coverage Report tasks for Common", "pr_createdAt": "2020-10-09T08:23:41Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081", "timeline": [{"oid": "247e221912dbcb9279d1c4825a6b0a6c8a021231", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/247e221912dbcb9279d1c4825a6b0a6c8a021231", "message": "add Coverage Report tasks for Common", "committedDate": "2020-10-09T08:20:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY5NTMxMQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#discussion_r503695311", "bodyText": "Instead of having a nested loop here for build types and flavors, it would be better to just loop over the build variants -- that way you don't have nested loop and also don't need a placeholder empty string for flavors.", "author": "shahzaibj", "createdAt": "2020-10-13T06:27:26Z", "path": "common/build.gradle", "diffHunk": "@@ -156,6 +167,54 @@ task sourcesJar(type: Jar) {\n     destinationDir = reporting.file(\"$project.buildDir/outputs/jar/\")\n }\n \n+task createCommonCoverageReportTask() {\n+    group = \"Common Reporting\"\n+    description = \"Generate Coverage Report tasks for every build Flavour\"\n+\n+    def buildTypes = android.buildTypes.collect { type ->\n+        type.name\n+    }\n+    def productFlavors = android.productFlavors.collect { flavor ->\n+        flavor.name\n+    }\n+    // When no product flavors defined, use empty string\n+    if (!productFlavors) productFlavors.add('')\n+    productFlavors.each { productFlavorName ->\n+        buildTypes.each { buildTypeName ->", "originalCommit": "247e221912dbcb9279d1c4825a6b0a6c8a021231", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE3MTIxMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#discussion_r504171212", "bodyText": "added buildVariants to loop over, have a look.", "author": "ayushmeghwani", "createdAt": "2020-10-13T18:29:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY5NTMxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY5NTU1NQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#discussion_r503695555", "bodyText": "see my comment, sourceName can then just be the variant name", "author": "shahzaibj", "createdAt": "2020-10-13T06:28:04Z", "path": "common/build.gradle", "diffHunk": "@@ -156,6 +167,54 @@ task sourcesJar(type: Jar) {\n     destinationDir = reporting.file(\"$project.buildDir/outputs/jar/\")\n }\n \n+task createCommonCoverageReportTask() {\n+    group = \"Common Reporting\"\n+    description = \"Generate Coverage Report tasks for every build Flavour\"\n+\n+    def buildTypes = android.buildTypes.collect { type ->\n+        type.name\n+    }\n+    def productFlavors = android.productFlavors.collect { flavor ->\n+        flavor.name\n+    }\n+    // When no product flavors defined, use empty string\n+    if (!productFlavors) productFlavors.add('')\n+    productFlavors.each { productFlavorName ->\n+        buildTypes.each { buildTypeName ->\n+            def sourceName\n+            if (!productFlavorName) {\n+                sourceName = \"${buildTypeName}\"\n+            } else {\n+                sourceName = \"${productFlavorName}${buildTypeName.capitalize()}\"\n+            }", "originalCommit": "247e221912dbcb9279d1c4825a6b0a6c8a021231", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0ad036d88cde30daa8e6c440b9d16f283f3d0b07", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0ad036d88cde30daa8e6c440b9d16f283f3d0b07", "message": "add buildVariants to loop over", "committedDate": "2020-10-13T18:27:23Z", "type": "commit"}, {"oid": "0e66d9e93c66f4de5bead898ea6cca044d4d4b29", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0e66d9e93c66f4de5bead898ea6cca044d4d4b29", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-10-19T17:23:05Z", "type": "commit"}, {"oid": "22dd2262fcacb9884f82eed86c3cf83e842e2f4f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/22dd2262fcacb9884f82eed86c3cf83e842e2f4f", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-10-20T20:53:48Z", "type": "commit"}, {"oid": "05ae3ff427bd1336f606021c72315658514e23bc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/05ae3ff427bd1336f606021c72315658514e23bc", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-10-21T07:53:53Z", "type": "commit"}, {"oid": "cfe7c13347b16a2f8a223615685d6324f4d0f138", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cfe7c13347b16a2f8a223615685d6324f4d0f138", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-10-27T10:59:54Z", "type": "commit"}, {"oid": "9bbec18cae0aaf104734b571709056f74eb2dd6e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9bbec18cae0aaf104734b571709056f74eb2dd6e", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-10-29T11:28:21Z", "type": "commit"}, {"oid": "cdb7f930741fb78fb9073223eb013118d415c7c8", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cdb7f930741fb78fb9073223eb013118d415c7c8", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-11-06T10:39:06Z", "type": "commit"}, {"oid": "6148cb7b3adaf5223037560a98fa4e929c7794d0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/6148cb7b3adaf5223037560a98fa4e929c7794d0", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-11-11T11:27:29Z", "type": "commit"}, {"oid": "09e9269e1bcbfe12b8f06c279a21da6918b72fae", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/09e9269e1bcbfe12b8f06c279a21da6918b72fae", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage", "committedDate": "2020-11-17T16:15:55Z", "type": "commit"}, {"oid": "3e10ee32749bd4e258d41b011addb772ef1c1662", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3e10ee32749bd4e258d41b011addb772ef1c1662", "message": "add general task for all test type", "committedDate": "2020-11-19T07:14:32Z", "type": "commit"}, {"oid": "c3c5de7d644e350268e5336a4a42480a56e935d4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c3c5de7d644e350268e5336a4a42480a56e935d4", "message": "Merge branch 'dev' into aymeghwa-CodeCoverage", "committedDate": "2020-11-21T01:31:29Z", "type": "commit"}, {"oid": "f487df69d8fc4737015b3d632f8241afaee108a2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f487df69d8fc4737015b3d632f8241afaee108a2", "message": "Merge branch 'dev' into aymeghwa-CodeCoverage", "committedDate": "2020-11-21T01:36:22Z", "type": "commit"}]}