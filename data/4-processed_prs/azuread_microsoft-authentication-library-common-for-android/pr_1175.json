{"pr_number": 1175, "pr_title": "Perf Test C Sharp Tool", "pr_createdAt": "2020-12-22T07:36:23Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175", "timeline": [{"oid": "a7647ce0035afb2a64837ee1b4926e40e170bcb7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/a7647ce0035afb2a64837ee1b4926e40e170bcb7", "message": "initial version of perf c sharp tool", "committedDate": "2020-12-22T07:30:19Z", "type": "commit"}, {"oid": "ca8ee6d9bf55135de56c03f80338d419bd48dc1b", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ca8ee6d9bf55135de56c03f80338d419bd48dc1b", "message": "ignore compile time files", "committedDate": "2020-12-23T16:30:51Z", "type": "commit"}, {"oid": "dfa2612fd9b3f0d3ee15d98c84c22c477bad7818", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/dfa2612fd9b3f0d3ee15d98c84c22c477bad7818", "message": "Measurements to be taken from XML files instead of C# code", "committedDate": "2020-12-27T16:15:58Z", "type": "commit"}, {"oid": "dc7fed427fac805644b4e2cdeaf976ba02e3f2ab", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/dc7fed427fac805644b4e2cdeaf976ba02e3f2ab", "message": "Adding comments", "committedDate": "2020-12-28T14:25:34Z", "type": "commit"}, {"oid": "1b948c121c1d10691382b177b85eb017f5c2e810", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/1b948c121c1d10691382b177b85eb017f5c2e810", "message": "Adding comments", "committedDate": "2020-12-28T14:30:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0Njg3Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r549946877", "bodyText": "consider using better name. Gen3MeasurementsData -- doesn't provide clear info.", "author": "dabbcomputers", "createdAt": "2020-12-30T06:14:50Z", "path": "uiautomationutilities/perf_tool/Gen3MeasurementsData.cs", "diffHunk": "@@ -0,0 +1,33 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Linq;\n+using System.Text;\n+using System.Threading.Tasks;\n+\n+namespace PerfDiffResultMailer\n+{\n+    public class Gen3MeasurementsData : IEquatable<Gen3MeasurementsData>", "originalCommit": "1b948c121c1d10691382b177b85eb017f5c2e810", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzQ3MjUxNQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553472515", "bodyText": "Agreed,\nRenamed to MeasurementsData.cs", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-07T17:25:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0Njg3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0NzIwMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r549947202", "bodyText": "remove", "author": "dabbcomputers", "createdAt": "2020-12-30T06:16:35Z", "path": "uiautomationutilities/perf_tool/MathUtils.cs", "diffHunk": "@@ -0,0 +1,111 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Linq;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class MathUtils\n+    {\n+        public static double GetStdDeviation(List<double> values)\n+        {\n+            var average = values.Average();\n+            if (values.Count == 1)\n+            {\n+                return 0.0;\n+            }\n+\n+            var stdev = 0.0;\n+\n+            for (var n = 0; n < values.Count; n++)\n+            {\n+                stdev += Math.Pow(values[n] - average, 2);\n+            }\n+\n+            stdev = Math.Sqrt(stdev / (values.Count - 1));\n+\n+            return stdev;\n+        }\n+        public static double GetPercentile(List<double> values, int percentile)\n+        {\n+            if (percentile < 0 || percentile > 100)\n+            {\n+                throw new ArgumentException(\"Percentile can't be calculated for nonsensical index \" + percentile);\n+            }\n+\n+            if (values.Count == 1)\n+            {\n+                return values[0];\n+            }\n+\n+            values.Sort();\n+\n+            var n = percentile / 100.0 * (values.Count - 1) + 1.0;\n+            double left = 0.0, right = 0.0;\n+\n+            if (n >= 1)\n+            {\n+                left = values[(int)Math.Floor(n) - 1];\n+                right = values[(int)Math.Floor(n)];\n+            }\n+            else\n+            {\n+                left = values[0];\n+                right = values[1];\n+            }\n+\n+            if (left == right)\n+            {\n+                return left;\n+            }\n+\n+            var part = n - Math.Floor(n);\n+            return left + part * (right - left);\n+        }\n+\n+        public static List<double> GetMinSdSubset(List<double> values, int factor)\n+        {\n+            values.Sort();\n+            double average;\n+            if (values.Count == 1)\n+            {\n+                average = values[0];\n+            }\n+\n+            if (factor <= 0 || factor > 100)\n+            {\n+                throw new ArgumentException(\"Closest can't be calculated for nonsensical index \" + factor);\n+            }\n+\n+            var setSize = (int)(0.5 + (float)values.Count * factor / 100);\n+            //PerfConsole.LogInfoMessage(\"For a sample size of {0}, closest set size is {1}\", values.Count, setSize);", "originalCommit": "1b948c121c1d10691382b177b85eb017f5c2e810", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzQ3MjgzMw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553472833", "bodyText": "Taken care of this.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-07T17:26:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0NzIwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0NzMxNQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r549947315", "bodyText": "remove and check for other instances as well.", "author": "dabbcomputers", "createdAt": "2020-12-30T06:17:14Z", "path": "uiautomationutilities/perf_tool/MathUtils.cs", "diffHunk": "@@ -0,0 +1,111 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Linq;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class MathUtils\n+    {\n+        public static double GetStdDeviation(List<double> values)\n+        {\n+            var average = values.Average();\n+            if (values.Count == 1)\n+            {\n+                return 0.0;\n+            }\n+\n+            var stdev = 0.0;\n+\n+            for (var n = 0; n < values.Count; n++)\n+            {\n+                stdev += Math.Pow(values[n] - average, 2);\n+            }\n+\n+            stdev = Math.Sqrt(stdev / (values.Count - 1));\n+\n+            return stdev;\n+        }\n+        public static double GetPercentile(List<double> values, int percentile)\n+        {\n+            if (percentile < 0 || percentile > 100)\n+            {\n+                throw new ArgumentException(\"Percentile can't be calculated for nonsensical index \" + percentile);\n+            }\n+\n+            if (values.Count == 1)\n+            {\n+                return values[0];\n+            }\n+\n+            values.Sort();\n+\n+            var n = percentile / 100.0 * (values.Count - 1) + 1.0;\n+            double left = 0.0, right = 0.0;\n+\n+            if (n >= 1)\n+            {\n+                left = values[(int)Math.Floor(n) - 1];\n+                right = values[(int)Math.Floor(n)];\n+            }\n+            else\n+            {\n+                left = values[0];\n+                right = values[1];\n+            }\n+\n+            if (left == right)\n+            {\n+                return left;\n+            }\n+\n+            var part = n - Math.Floor(n);\n+            return left + part * (right - left);\n+        }\n+\n+        public static List<double> GetMinSdSubset(List<double> values, int factor)\n+        {\n+            values.Sort();\n+            double average;\n+            if (values.Count == 1)\n+            {\n+                average = values[0];\n+            }\n+\n+            if (factor <= 0 || factor > 100)\n+            {\n+                throw new ArgumentException(\"Closest can't be calculated for nonsensical index \" + factor);\n+            }\n+\n+            var setSize = (int)(0.5 + (float)values.Count * factor / 100);\n+            //PerfConsole.LogInfoMessage(\"For a sample size of {0}, closest set size is {1}\", values.Count, setSize);\n+\n+            if (setSize <= 0)\n+            {\n+                throw new ArgumentException(\"Factor - {0} too small for {1} iterations \" + factor,\n+                    values.Count.ToString());\n+            }\n+\n+            var currLow = 0;\n+            var currHigh = setSize - 1;\n+            var globalLow = 0;\n+            var globalHigh = setSize - 1;\n+            double globalSd = int.MaxValue;\n+\n+            while (currHigh < values.Count)\n+            {\n+                var currSd = GetStdDeviation(values.GetRange(currLow, setSize));\n+                if (currSd <= globalSd)\n+                {\n+                    globalSd = currSd;\n+                    globalLow = currLow;\n+                    globalHigh = currHigh;\n+                }\n+                currHigh++;\n+                currLow++;\n+            }\n+            /*PerfConsole.LogInfoMessage(\"Closest Subset {0}%/{1} Range is {2} - {3} \", factor, values.Count, globalLow,\n+                globalHigh);*/", "originalCommit": "1b948c121c1d10691382b177b85eb017f5c2e810", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzQ3MzEwMQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553473101", "bodyText": "Taken care of this.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-07T17:26:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0NzMxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0ODIzMw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r549948233", "bodyText": "what are chances of changing this headers order?\nif its too frequent I would say do string comparison and return index from from a utility.\nint MapHeaderToIndex(token)\n{\n\nswitch(token):\n\ncase \"TimeStamp\":\n\nreturn 0;\n}", "author": "dabbcomputers", "createdAt": "2020-12-30T06:23:10Z", "path": "uiautomationutilities/perf_tool/PerfData.cs", "diffHunk": "@@ -0,0 +1,173 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Globalization;\n+using System.IO;\n+using System.Linq;\n+using System.Text;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class PerfData\n+    {\n+        public List<PerfDataRecord> PerfDataRecordsList = new List<PerfDataRecord>();\n+        private PerfDataRecord _headers;\n+        //private static readonly string s_perfMarkersNameMappingFile = Path.Combine(\"codemarkersMapping.csv\");\n+        public PerfData(string filePath)\n+        {\n+            if (!File.Exists(filePath))\n+            {\n+                throw new Exception($\"File not found {filePath}\");\n+            }\n+            PerfDataRecordsList = File.ReadLines(filePath)\n+                .Select(line => line.Split(','))\n+                .Select(tokens => new PerfDataRecord(\n+                    tokens[0], //TimeStamp\n+                    tokens[1], //Marker", "originalCommit": "1b948c121c1d10691382b177b85eb017f5c2e810", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzQ3MzIxMQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553473211", "bodyText": "Taken care of this.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-07T17:26:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk0ODIzMw=="}], "type": "inlineReview"}, {"oid": "c0bd7042473ac3def3dac0db46810ee661c29d46", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c0bd7042473ac3def3dac0db46810ee661c29d46", "message": "Adding link to the artifacts", "committedDate": "2020-12-31T11:03:14Z", "type": "commit"}, {"oid": "2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "message": "Added a measurement", "committedDate": "2020-12-31T17:07:11Z", "type": "commit"}, {"oid": "daf8affc170850832e2d8c7ffccfef66a4a69071", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/daf8affc170850832e2d8c7ffccfef66a4a69071", "message": "PR comments", "committedDate": "2021-01-07T17:19:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDA2NzEyMA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r554067120", "bodyText": "Add license here and everywhere", "author": "shahzaibj", "createdAt": "2021-01-08T16:54:00Z", "path": "uiautomationutilities/perf_tool/MathUtils.cs", "diffHunk": "@@ -0,0 +1,108 @@\n+\ufeffusing System;", "originalCommit": "daf8affc170850832e2d8c7ffccfef66a4a69071", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NDU1OA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559694558", "bodyText": "Done. Thanks for the suggestion.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T16:49:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDA2NzEyMA=="}], "type": "inlineReview"}, {"oid": "80aad5482febed4711221aebe35412aeebf99d0e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/80aad5482febed4711221aebe35412aeebf99d0e", "message": "Improve report", "committedDate": "2021-01-08T18:42:25Z", "type": "commit"}, {"oid": "4f3e86bf50ce6623e64a10133551bcad3a0dd2f7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/4f3e86bf50ce6623e64a10133551bcad3a0dd2f7", "message": "Generate only relevant reports", "committedDate": "2021-01-11T13:09:50Z", "type": "commit"}, {"oid": "cf33dd80b1fe151bc2fb16ccad92cae901189302", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cf33dd80b1fe151bc2fb16ccad92cae901189302", "message": "adding changelog.txt", "committedDate": "2021-01-11T14:27:50Z", "type": "commit"}, {"oid": "fdfeef4b10a18f90411984344f29acefb68d5df0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/fdfeef4b10a18f90411984344f29acefb68d5df0", "message": "Removing executor measurement", "committedDate": "2021-01-12T12:46:02Z", "type": "commit"}, {"oid": "dc2a782a0e78bc2d3130d72c9ae236ca8a9cf911", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/dc2a782a0e78bc2d3130d72c9ae236ca8a9cf911", "message": "Correcting unit to seconds instead of ms", "committedDate": "2021-01-12T12:54:52Z", "type": "commit"}, {"oid": "ec07808e7b488fb09b221c280e2aaee562a560a8", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ec07808e7b488fb09b221c280e2aaee562a560a8", "message": "Create a link on the build number in report", "committedDate": "2021-01-12T15:38:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzMzk4Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553133987", "bodyText": "Comments please", "author": "Om83", "createdAt": "2021-01-07T06:32:04Z", "path": "uiautomationutilities/perf_tool/Gen3MeasurementsData.cs", "diffHunk": "@@ -0,0 +1,33 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Linq;\n+using System.Text;\n+using System.Threading.Tasks;\n+\n+namespace PerfDiffResultMailer\n+{\n+    public class Gen3MeasurementsData : IEquatable<Gen3MeasurementsData>\n+    {\n+        public string ScenarioName { get; set; }", "originalCommit": "2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NDc1NA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559694754", "bodyText": "I have added the comments. Thanks for the suggestion.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T16:50:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzMzk4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzNDM2OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553134369", "bodyText": "meaningful name here as well.", "author": "Om83", "createdAt": "2021-01-07T06:33:20Z", "path": "uiautomationutilities/perf_tool/Gen3MeasurementsData.cs", "diffHunk": "@@ -0,0 +1,33 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Linq;\n+using System.Text;\n+using System.Threading.Tasks;\n+\n+namespace PerfDiffResultMailer\n+{\n+    public class Gen3MeasurementsData : IEquatable<Gen3MeasurementsData>\n+    {\n+        public string ScenarioName { get; set; }\n+        public string ActivityName { get; set; }\n+        public string MeasurementName { get; set; }\n+\n+        public override bool Equals(object obj)\n+        {\n+            return this.Equals(obj as Gen3MeasurementsData);\n+        }\n+        public override int GetHashCode()\n+        {\n+            string x = this.MeasurementName + this.ScenarioName + this.ActivityName;\n+            return x.GetHashCode();\n+        }\n+        public bool Equals(Gen3MeasurementsData other)", "originalCommit": "2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NTkyOQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559695929", "bodyText": "Renamed \"Gen3MeasurementsData\" to \"MeasurementsData\". Thanks for the suggestion.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T16:52:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzNDM2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzNjM2OA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553136368", "bodyText": "Fix Name", "author": "Om83", "createdAt": "2021-01-07T06:39:59Z", "path": "uiautomationutilities/perf_tool/Program.cs", "diffHunk": "@@ -0,0 +1,14 @@\n+\ufeffusing System;\n+using TestScript;\n+\n+namespace ConsoleApp1", "originalCommit": "2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NTEwOQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559695109", "bodyText": "I have renamed the namespace to \"IdentityPerfTestApp\". Thanks for the suggestion.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T16:50:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzNjM2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzNjU2Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553136567", "bodyText": "Do we need this .. make it more meaningful", "author": "Om83", "createdAt": "2021-01-07T06:40:36Z", "path": "uiautomationutilities/perf_tool/Program.cs", "diffHunk": "@@ -0,0 +1,14 @@\n+\ufeffusing System;\n+using TestScript;\n+\n+namespace ConsoleApp1\n+{\n+    class Program\n+    {\n+        static void Main(string[] args)\n+        {\n+            Console.WriteLine(\"Hello World!\");", "originalCommit": "2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NTUzMA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559695530", "bodyText": "Removed the unnecessary print. Thanks for the suggestion.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T16:51:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzNjU2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzOTI4NA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r553139284", "bodyText": "Please change this to androididentity@microsoft.com.", "author": "Om83", "createdAt": "2021-01-07T06:49:28Z", "path": "uiautomationutilities/perf_tool/Properties/launchSettings.json", "diffHunk": "@@ -0,0 +1,8 @@\n+{\n+  \"profiles\": {\n+    \"ConsoleApp1\": {\n+      \"commandName\": \"Project\",\n+      \"commandLineArgs\": \"C:\\\\testdata\\\\ . PerfDataBase PerfDataTarget \\\"\\\" 696614 Pixel2 API28 21.11.3.3 21.11.3.4 MSALTestApp idlab1@msidlab4.onmicrosoft.com xxxxxxxx Neerav.Agarwal@microsoft.com MSALAcquireToken 696614\"", "originalCommit": "2e1fd7d8a5da711ba64fcc4757c54926909cd44f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NTYxNg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559695616", "bodyText": "Done. Thanks for the suggestion.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T16:51:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzEzOTI4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTkxNTA5NQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r555915095", "bodyText": "How many values are we expecting in this list?", "author": "AdamBJohnsonx", "createdAt": "2021-01-12T16:41:29Z", "path": "uiautomationutilities/perf_tool/MathUtils.cs", "diffHunk": "@@ -0,0 +1,108 @@\n+\ufeffusing System;\n+using System.Collections.Generic;\n+using System.Linq;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class MathUtils\n+    {\n+        public static double GetStdDeviation(List<double> values)\n+        {\n+            var average = values.Average();\n+            if (values.Count == 1)\n+            {\n+                return 0.0;\n+            }\n+\n+            var stdev = 0.0;\n+\n+            for (var n = 0; n < values.Count; n++)\n+            {\n+                stdev += Math.Pow(values[n] - average, 2);\n+            }\n+\n+            stdev = Math.Sqrt(stdev / (values.Count - 1));\n+\n+            return stdev;\n+        }\n+        public static double GetPercentile(List<double> values, int percentile)", "originalCommit": "ec07808e7b488fb09b221c280e2aaee562a560a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ0NTM2MQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r559445361", "bodyText": "@AdamBJohnsonx , the number of times the test is running (Number of iterations of same scenario), will be the length of the list.", "author": "neeravagarwalmicrosoft", "createdAt": "2021-01-18T10:00:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTkxNTA5NQ=="}], "type": "inlineReview"}, {"oid": "377e536cca52f60d09acaef17ce5e977ab55866e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/377e536cca52f60d09acaef17ce5e977ab55866e", "message": "Accommodating suggestions to improve report appearance", "committedDate": "2021-01-15T13:39:06Z", "type": "commit"}, {"oid": "3e3edc2e7af5f4909b3cd84a6cf813e3f6b11029", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3e3edc2e7af5f4909b3cd84a6cf813e3f6b11029", "message": "Accommodating PR suggestions", "committedDate": "2021-01-18T16:48:58Z", "type": "commit"}, {"oid": "9654b5a0f81d5aecc4cc9a04f3ef9646db97af46", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9654b5a0f81d5aecc4cc9a04f3ef9646db97af46", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-01-19T13:39:12Z", "type": "commit"}, {"oid": "32963f76e22b3aa8e85bb289573add20b94acc67", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/32963f76e22b3aa8e85bb289573add20b94acc67", "message": "Perf call suggestions", "committedDate": "2021-01-19T15:05:15Z", "type": "commit"}, {"oid": "7a92f754770285c0824825f570e96cdcd9bb4d61", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7a92f754770285c0824825f570e96cdcd9bb4d61", "message": "Merge branch 'neagarw/perf-CSharpTool' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into neagarw/perf-CSharpTool", "committedDate": "2021-01-19T15:10:00Z", "type": "commit"}, {"oid": "708c67dc7ba3ffd0d6d226aa86ffaa7efc9adec4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/708c67dc7ba3ffd0d6d226aa86ffaa7efc9adec4", "message": "Improved the doc", "committedDate": "2021-01-19T15:39:47Z", "type": "commit"}, {"oid": "84d96fea791c421eec61b6b67be938394bebab84", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/84d96fea791c421eec61b6b67be938394bebab84", "message": "renaming readme.txt to readme.md", "committedDate": "2021-01-20T09:30:30Z", "type": "commit"}, {"oid": "b73bd67ba865e3e581e57a687f010f07815c0779", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b73bd67ba865e3e581e57a687f010f07815c0779", "message": "Generate report in absense of basefiles", "committedDate": "2021-01-22T05:55:54Z", "type": "commit"}, {"oid": "41e7ba76977437c0536044cdd29699529dd21587", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/41e7ba76977437c0536044cdd29699529dd21587", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-04-21T13:32:23Z", "type": "commit"}, {"oid": "6c34a8670f72725c17a8896b7e24e6234977d097", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/6c34a8670f72725c17a8896b7e24e6234977d097", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-04-28T07:14:12Z", "type": "commit"}, {"oid": "c8b550026cd0c6319b94468dcaa7999a68f7cff7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c8b550026cd0c6319b94468dcaa7999a68f7cff7", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-05T14:26:14Z", "type": "commit"}, {"oid": "2614b48f19d838c78b8725a3642472149ba3ce88", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/2614b48f19d838c78b8725a3642472149ba3ce88", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-06T07:25:52Z", "type": "commit"}, {"oid": "ff2d02814dd0f1ce63a491a613cf9d070136768f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ff2d02814dd0f1ce63a491a613cf9d070136768f", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-10T12:57:50Z", "type": "commit"}, {"oid": "8aac49917acee77ad7df4cf18e0392da9698b652", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8aac49917acee77ad7df4cf18e0392da9698b652", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-11T16:21:35Z", "type": "commit"}, {"oid": "d22dcc6e7b5b08d236d3b766e72d4c1e388ab018", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d22dcc6e7b5b08d236d3b766e72d4c1e388ab018", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-12T10:23:06Z", "type": "commit"}, {"oid": "adba9d5dd79d49ab642b3c4d6c923524f72589d2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/adba9d5dd79d49ab642b3c4d6c923524f72589d2", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-19T15:27:37Z", "type": "commit"}, {"oid": "708f967775f6c953d1edc806e95a33e85a1e23c3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/708f967775f6c953d1edc806e95a33e85a1e23c3", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-20T12:30:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM2ODkwNQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638368905", "bodyText": "If we're commenting this out, either say why or remove it?", "author": "AdamBJohnsonx", "createdAt": "2021-05-25T00:14:17Z", "path": "uiautomationutilities/perf_tool/MeasurementsStore.cs", "diffHunk": "@@ -0,0 +1,151 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+using System.Collections.Generic;\n+//using PerfClTool.DbClasses;\n+using System.Linq;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class MeasurementsStore\n+    {\n+        public static Dictionary<string, List<PerfMeasurementsSet>> AllScenarioMeasurements { get; private set; }\n+        static MeasurementsStore()\n+        {\n+            AllScenarioMeasurements = new Dictionary<string, List<PerfMeasurementsSet>>();\n+        }\n+\n+        public static void clear()\n+        {\n+            AllScenarioMeasurements = new Dictionary<string, List<PerfMeasurementsSet>>();\n+        }\n+\n+        public static void AddScenarioIterationMeasurements(String scenarioName, PerfData perfData, List<PerfMeasurementConfiguration> enabledMeasurementsConfiguration)\n+        {\n+            if (!AllScenarioMeasurements.ContainsKey(scenarioName))\n+            {\n+                AllScenarioMeasurements.Add(scenarioName, new List<PerfMeasurementsSet>());\n+                foreach (var measurementConfiguration in enabledMeasurementsConfiguration)\n+                {\n+                    AllScenarioMeasurements[scenarioName].Add(new PerfMeasurementsSet(measurementConfiguration));\n+                }\n+            }\n+            foreach (var measurementSet in AllScenarioMeasurements[scenarioName])\n+            {\n+                measurementSet.AddIterationMeasurement(perfData);\n+            }\n+        }\n+\n+        public static void GenerateAggregateMeasurements()\n+        {\n+            foreach (var measurementSetList in AllScenarioMeasurements.Values)\n+            {\n+                //Delete any measurementSet that has no actual data.\n+                measurementSetList.RemoveAll(x => x._iterationMeasurements.Count == 0);\n+                measurementSetList.ForEach(t => t.GenerateAggregateMeasurements());\n+            }\n+        }\n+\n+        public static void DumpResponseTimeSummaryToFile(String fileName)\n+        {\n+            PerfMeasurementsSet.AppendMeasurementSummaryHeadersToFile(fileName);\n+            foreach (var scenarioMeasurements in AllScenarioMeasurements)\n+            {\n+                AllScenarioMeasurements[scenarioMeasurements.Key].ForEach(t => t.AppendMeasurementSummaryToFile(fileName, scenarioMeasurements.Key, PerformanceMetricType.ResponseTime));\n+            }\n+        }\n+\n+        public static void DumpRssEndSummaryToFile(String fileName)\n+        {\n+            PerfMeasurementsSet.AppendMeasurementSummaryHeadersToFile(fileName);\n+            foreach (var scenarioMeasurements in AllScenarioMeasurements)\n+            {\n+                AllScenarioMeasurements[scenarioMeasurements.Key].ForEach(t => t.AppendMeasurementSummaryToFile(fileName, scenarioMeasurements.Key, PerformanceMetricType.RssEnd));\n+            }\n+        }\n+        public static void DumpVssEndSummaryToFile(String fileName)\n+        {\n+            PerfMeasurementsSet.AppendMeasurementSummaryHeadersToFile(fileName);\n+            foreach (var scenarioMeasurements in AllScenarioMeasurements)\n+            {\n+                AllScenarioMeasurements[scenarioMeasurements.Key].ForEach(t => t.AppendMeasurementSummaryToFile(fileName, scenarioMeasurements.Key, PerformanceMetricType.VssEnd));\n+            }\n+        }\n+\n+        public static void DumpAllMeasurementsDataToFile(String fileName)\n+        {\n+            foreach (var scenarioMeasurements in AllScenarioMeasurements)\n+            {\n+                AllScenarioMeasurements[scenarioMeasurements.Key].ForEach(t => t.AppendMeasurementsDataToFile(fileName, scenarioMeasurements.Key));\n+            }\n+        }\n+        /*public static void InsertMeasurementsInDb(String taskId)", "originalCommit": "708f967775f6c953d1edc806e95a33e85a1e23c3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3ODAwOQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638378009", "bodyText": "+1", "author": "iambmelt", "createdAt": "2021-05-25T00:44:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM2ODkwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3MjE1MA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638372150", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            /perf_tool/obj/\n          \n          \n            \n            /perf_tool/obj/\n          \n          \n            \n            \n          \n      \n    \n    \n  \n\n(adding newline for EOF/posix compat)", "author": "iambmelt", "createdAt": "2021-05-25T00:24:51Z", "path": "uiautomationutilities/.gitignore", "diffHunk": "@@ -1 +1,3 @@\n /build\n+/perf_tool/.vs/\n+/perf_tool/obj/", "originalCommit": "708f967775f6c953d1edc806e95a33e85a1e23c3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/65625c6d673afc86ec7477d919efb7fdc07c6a42", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-25T00:33:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3NjMxNA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638376314", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    public static double GetPercentile(List<double> values, int percentile)\n          \n          \n            \n            \n          \n          \n            \n                    public static double GetPercentile(List<double> values, int percentile)", "author": "iambmelt", "createdAt": "2021-05-25T00:38:53Z", "path": "uiautomationutilities/perf_tool/MathUtils.cs", "diffHunk": "@@ -0,0 +1,131 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+using System.Collections.Generic;\n+using System.Linq;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class MathUtils\n+    {\n+        public static double GetStdDeviation(List<double> values)\n+        {\n+            var average = values.Average();\n+            if (values.Count == 1)\n+            {\n+                return 0.0;\n+            }\n+\n+            var stdev = 0.0;\n+\n+            for (var n = 0; n < values.Count; n++)\n+            {\n+                stdev += Math.Pow(values[n] - average, 2);\n+            }\n+\n+            stdev = Math.Sqrt(stdev / (values.Count - 1));\n+\n+            return stdev;\n+        }\n+        public static double GetPercentile(List<double> values, int percentile)", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3Nzg5MA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638377890", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                internal class ResponseTimeMetric : PerformanceMetric\n          \n          \n            \n            \n          \n          \n            \n                internal class ResponseTimeMetric : PerformanceMetric\n          \n      \n    \n    \n  \n\n(Just minor formatting)", "author": "iambmelt", "createdAt": "2021-05-25T00:44:08Z", "path": "uiautomationutilities/perf_tool/PerformanceMetric.cs", "diffHunk": "@@ -0,0 +1,95 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+\n+namespace PerfClTool.Measurement\n+{\n+    public enum PerformanceMetricType\n+    {\n+        ResponseTime,\n+        RssBegin,\n+        RssEnd,\n+        RssDelta,\n+        VssBegin,\n+        VssEnd,\n+        VssDelta\n+    }\n+\n+    internal abstract class PerformanceMetric\n+    {\n+        public abstract String Name { get; }\n+        public double MeasurementValue { get; set; }\n+        public PerformanceMetric(PerfDataRecord start, PerfDataRecord end){}\n+        public PerformanceMetric(Double value) { }\n+        public override string ToString() => MeasurementValue.ToString(format: \"F2\");\n+    }\n+    internal class ResponseTimeMetric : PerformanceMetric", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3ODMzMA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638378330", "bodyText": "Same feedback here - comment?", "author": "iambmelt", "createdAt": "2021-05-25T00:45:36Z", "path": "uiautomationutilities/perf_tool/PerfData.cs", "diffHunk": "@@ -0,0 +1,202 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+using System.Collections.Generic;\n+using System.Globalization;\n+using System.IO;\n+using System.Linq;\n+using System.Text;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class PerfData\n+    {\n+        public List<PerfDataRecord> PerfDataRecordsList = new List<PerfDataRecord>();\n+        private PerfDataRecord _headers;\n+        public PerfData(string filePath)\n+        {\n+            if (!File.Exists(filePath))\n+            {\n+                throw new Exception($\"File not found {filePath}\");\n+            }\n+            PerfDataRecordsList = File.ReadLines(filePath)\n+                .Select(line => line.Split(','))\n+                .Select(tokens => new PerfDataRecord(\n+                    tokens[MapHeaderToIndex(\"TimeStamp\")],\n+                    tokens[MapHeaderToIndex(\"Marker\")],\n+                    tokens[MapHeaderToIndex(\"Time\")],\n+                    tokens[MapHeaderToIndex(\"Thread\")],\n+                    tokens[MapHeaderToIndex(\"CpuUsed\")],\n+                    tokens[MapHeaderToIndex(\"CpuTotal\")],\n+                    tokens[MapHeaderToIndex(\"ResidentSize\")],\n+                    tokens[MapHeaderToIndex(\"VirtualSize\")],\n+                    tokens[MapHeaderToIndex(\"WifiSent\")],\n+                    tokens[MapHeaderToIndex(\"WifiRecv\")],\n+                    tokens[MapHeaderToIndex(\"WwanSent\")],\n+                    tokens[MapHeaderToIndex(\"WwanRecv\")],\n+                    tokens[MapHeaderToIndex(\"AppSent\")],\n+                    tokens[MapHeaderToIndex(\"AppRecv\")],\n+                    tokens[MapHeaderToIndex(\"Battery\")],\n+                    tokens[MapHeaderToIndex(\"SystemDiskRead\")],\n+                    tokens[MapHeaderToIndex(\"SystemDiskWrite\")]\n+                    )\n+                ).ToList();\n+            //Check if header is present\n+            if (PerfDataRecordsList.ElementAt(0).TimeStamp.Equals(\"TimeStamp\"))\n+            {\n+                _headers = PerfDataRecordsList.ElementAt(0);\n+                PerfDataRecordsList.RemoveAt(0);\n+            }\n+        }\n+\n+        private int MapHeaderToIndex(string token)\n+        {\n+            switch(token)\n+            {\n+                case \"TimeStamp\": return 0;\n+                case \"Marker\": return 1;\n+                case \"Time\": return 2;\n+                case \"Thread\": return 3;\n+                case \"CpuUsed\": return 4;\n+                case \"CpuTotal\": return 5;\n+                case \"ResidentSize\": return 6;\n+                case \"VirtualSize\": return 7;\n+                case \"WifiSent\": return 8;\n+                case \"WifiRecv\": return 9;\n+                case \"WwanSent\": return 10;\n+                case \"WwanRecv\": return 11;\n+                case \"AppSent\": return 12;\n+                case \"AppRecv\": return 13;\n+                case \"Battery\": return 14;\n+                case \"SystemDiskRead\": return 15;\n+                case \"SystemDiskWrite\": return 16;\n+                default: return -1;\n+            }\n+        }\n+\n+        public PerfDataRecord FindMarker(String marker, int skipCount = 0)\n+        {\n+            var records = PerfDataRecordsList.Where(t => t.Marker.Equals(marker, StringComparison.InvariantCultureIgnoreCase));\n+            if (records.Count() > skipCount)\n+            {\n+                return records.ElementAt(skipCount);\n+            }\n+            else\n+            {\n+                return null;\n+            }\n+        }\n+        public void AddMarkerNames()\n+        {\n+            _headers.MarkerName = \"MarkerName\";\n+        }\n+        public void AdjustTimeElapsed()\n+        {\n+            var firstMarkerTimeElapsed = Int64.Parse(PerfDataRecordsList.ElementAt(0).Time);\n+            if (firstMarkerTimeElapsed != 0)\n+            {\n+                foreach (var perfRecord in PerfDataRecordsList)\n+                {\n+                    perfRecord.Time = (Int64.Parse(perfRecord.Time) - firstMarkerTimeElapsed).ToString();\n+                }\n+            }\n+        }\n+\n+        public static void AppendAllHeadersToFile(String filePath)\n+        {\n+            StringBuilder sb = new StringBuilder();\n+            //Add Headers\n+            sb.AppendLine(\"Marker,MarkerName,Time(ms),Thread,ResidentSize,VirtualSize\");\n+            File.AppendAllText(filePath, sb.ToString());\n+        }\n+\n+        public void AppendMarkersDataToFile(string filePath)\n+        {\n+            var sb = new StringBuilder();\n+            foreach(var dataRecord in PerfDataRecordsList)\n+            {\n+                sb.AppendLine($\"{dataRecord.Marker},{dataRecord.MarkerName},{long.Parse(dataRecord.Time)/1000},{dataRecord.Thread},{dataRecord.ResidentSize},{dataRecord.VirtualSize}\");\n+            }\n+            File.AppendAllText(filePath, sb.ToString());\n+        }\n+\n+        public void AddPidCreationTime(DateTime startTime)\n+        {\n+            var firstRecord = PerfDataRecordsList.ElementAt(0);\n+            /*if (!(firstRecord.Marker.Equals(\"1\") || firstRecord.Marker.Equals(\"10011\")))", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3ODk3MQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638378971", "bodyText": "Can we clean up the formatting to prevent having to side-scroll past 100-ish chars? This, and in all files", "author": "iambmelt", "createdAt": "2021-05-25T00:47:44Z", "path": "uiautomationutilities/perf_tool/PerfDataRecord.cs", "diffHunk": "@@ -0,0 +1,75 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class PerfDataRecord\n+    {\n+        public static readonly string ValueNotApplicable = \"NA\";\n+        public PerfDataRecord(string timeStamp, string marker, string time, string thread, string cpuUsed, string cpuTotal, string residentSize, string virtualSize, string wifiSent, string wifiRecv, string wwanSent, string wwanRecv, string appSent, string appRecv, string battery, string systemDiskRead, string systemDiskWrite)", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3OTM1OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638379359", "bodyText": "I assume we don't want to check this in in this form....", "author": "iambmelt", "createdAt": "2021-05-25T00:48:59Z", "path": "uiautomationutilities/perf_tool/Properties/launchSettings.json", "diffHunk": "@@ -0,0 +1,8 @@\n+{\n+  \"profiles\": {\n+    \"IdentityPerfTestApp\": {\n+      \"commandName\": \"Project\",\n+      \"commandLineArgs\": \"C:\\\\testdata\\\\basefiles\\\\ C:\\\\testdata\\\\targetfiles\\\\ 705902 705916 Pixel2 API28 MSALTestApp idlab1@msidlab4.onmicrosoft.com xxxxxxxx Neerav.Agarwal@microsoft.com,androididentity@microsoft.com\"", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3OTM4OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638379389", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            }\n          \n          \n            \n            }", "author": "iambmelt", "createdAt": "2021-05-25T00:49:06Z", "path": "uiautomationutilities/perf_tool/Properties/launchSettings.json", "diffHunk": "@@ -0,0 +1,8 @@\n+{\n+  \"profiles\": {\n+    \"IdentityPerfTestApp\": {\n+      \"commandName\": \"Project\",\n+      \"commandLineArgs\": \"C:\\\\testdata\\\\basefiles\\\\ C:\\\\testdata\\\\targetfiles\\\\ 705902 705916 Pixel2 API28 MSALTestApp idlab1@msidlab4.onmicrosoft.com xxxxxxxx Neerav.Agarwal@microsoft.com,androididentity@microsoft.com\"\n+    }\n+  }\n+}", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM3OTY1OA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638379658", "bodyText": "If not needed, can we clean up commented out src? Here and everywhere", "author": "iambmelt", "createdAt": "2021-05-25T00:49:58Z", "path": "uiautomationutilities/perf_tool/ReportHelper.cs", "diffHunk": "@@ -0,0 +1,223 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+using System.IO;\n+using System.Net;\n+using System.Net.Mail;\n+using System.Net.Mime;\n+using System.Text;\n+\n+namespace PerfClTool\n+{\n+    internal class ReportHelper\n+    {\n+        public struct TableResultSummary\n+        {\n+            public int PassCount;\n+            public int FailCount;\n+        }\n+\n+        /// <summary>\n+        ///     This Method takes the Original HTML Blob and adds the entries in a CSV file as a Table in the HTML blob\n+        /// </summary>\n+        /// <param name=\"result\">HTML blob</param>\n+        /// <param name=\"CSVFile\">Path to the CSV File</param>\n+        public static TableResultSummary putCSVinHTMLTable(ref StringBuilder result, string CSVFile)\n+        {\n+            var TableResultSummary = new TableResultSummary();\n+            var totalPass = 0;\n+            var totalFail = 0;\n+            const char token = ',';\n+\n+\n+            var lines = File.ReadAllLines(CSVFile);\n+            result.Append(\n+                \"\\n<table border=1 BORDERCOLOR=BLUE cellpadding=10 cellspacing=10 bgcolor=#F2F2F2 style=\\\"border-collapse: collapse; \\\">\\n\");\n+            var count = 0;\n+            //string row;\n+            string headerRow = \"\";\n+            string lessImportantScenarios = \"\";\n+            string importantScenarios = \"\";\n+            foreach (var line in lines)\n+            {\n+                var parts = line.Split(token);\n+                var partsToOutput = new String[parts.Length - 1];\n+                Array.Copy(parts, partsToOutput, parts.Length - 1);\n+                if (count++ == 0)\n+                {\n+                    //Header row\n+                    headerRow = \"<tr bgcolor=#E5DFEC><td><b><FONT FACE=\\\"Calibri\\\">\" +\n+                          string.Join(\"</FONT></b></td><td><b><FONT FACE=\\\"Calibri\\\">\", partsToOutput) +\n+                          \"</FONT></b></td></tr>\\n\";\n+                }\n+\n+                else if (parts[parts.Length - 1].Equals( \"true\", StringComparison.InvariantCultureIgnoreCase))\n+                {\n+                    //main scenario\n+                    importantScenarios = importantScenarios + \"<tr><td>\" + string.Join(\"</td><td><FONT FACE=\\\"Calibri\\\">\", partsToOutput) + \"</FONT></td></tr>\\n\";\n+                }\n+                else if (parts[parts.Length - 1].Equals(\"false\",StringComparison.InvariantCultureIgnoreCase))\n+                {\n+                    lessImportantScenarios = lessImportantScenarios + \"<tr bgcolor=#fdfcff><td>\" + string.Join(\"</td><td><FONT FACE=\\\"Calibri\\\">\", partsToOutput) + \"</FONT></td></tr>\\n\";\n+                }\n+            }\n+            result.Append(headerRow);\n+            result.Append(importantScenarios);\n+            result.Append(lessImportantScenarios);\n+\n+            result.Append(\"</table>\\n\");\n+            TableResultSummary.PassCount = totalPass;\n+            TableResultSummary.FailCount = totalFail;\n+            return TableResultSummary;\n+        }\n+        public static void ShowResultNSendEmail(string stringhtml, string fromAddress, string fromPassword, string toList)\n+        {\n+            try\n+            {\n+                //var resourceDir = Path.Combine(PerfJobContext.GetInstance().ExeDir, \"Resources\"); Changed here", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM4MDcyMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638380722", "bodyText": "This function is documented... great! Can we (piecemeal) take steps to do this across the other classes comprising this perf measurement tool? Our team is going to be responsible for owning this implementation for the foreseeable future, it would be great to have it well documented with cleanly formatted source, etc. Incl. removing broken/commented out/inaccessible code", "author": "iambmelt", "createdAt": "2021-05-25T00:53:29Z", "path": "uiautomationutilities/perf_tool/ReportHelper.cs", "diffHunk": "@@ -0,0 +1,223 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+using System.IO;\n+using System.Net;\n+using System.Net.Mail;\n+using System.Net.Mime;\n+using System.Text;\n+\n+namespace PerfClTool\n+{\n+    internal class ReportHelper\n+    {\n+        public struct TableResultSummary\n+        {\n+            public int PassCount;\n+            public int FailCount;\n+        }\n+\n+        /// <summary>", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM4MTgzMw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638381833", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    public void AddMarkerNames()\n          \n          \n            \n            \n          \n          \n            \n                    public void AddMarkerNames()\n          \n      \n    \n    \n  \n\nGeneral formatting preference: let's add some line breaks between functions to keep the source easily visually scannable. Public methods to get documentation or have their visibility reduced (if they shouldn't be public)", "author": "iambmelt", "createdAt": "2021-05-25T00:57:22Z", "path": "uiautomationutilities/perf_tool/PerfData.cs", "diffHunk": "@@ -0,0 +1,202 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System;\n+using System.Collections.Generic;\n+using System.Globalization;\n+using System.IO;\n+using System.Linq;\n+using System.Text;\n+\n+namespace PerfClTool.Measurement\n+{\n+    internal class PerfData\n+    {\n+        public List<PerfDataRecord> PerfDataRecordsList = new List<PerfDataRecord>();\n+        private PerfDataRecord _headers;\n+        public PerfData(string filePath)\n+        {\n+            if (!File.Exists(filePath))\n+            {\n+                throw new Exception($\"File not found {filePath}\");\n+            }\n+            PerfDataRecordsList = File.ReadLines(filePath)\n+                .Select(line => line.Split(','))\n+                .Select(tokens => new PerfDataRecord(\n+                    tokens[MapHeaderToIndex(\"TimeStamp\")],\n+                    tokens[MapHeaderToIndex(\"Marker\")],\n+                    tokens[MapHeaderToIndex(\"Time\")],\n+                    tokens[MapHeaderToIndex(\"Thread\")],\n+                    tokens[MapHeaderToIndex(\"CpuUsed\")],\n+                    tokens[MapHeaderToIndex(\"CpuTotal\")],\n+                    tokens[MapHeaderToIndex(\"ResidentSize\")],\n+                    tokens[MapHeaderToIndex(\"VirtualSize\")],\n+                    tokens[MapHeaderToIndex(\"WifiSent\")],\n+                    tokens[MapHeaderToIndex(\"WifiRecv\")],\n+                    tokens[MapHeaderToIndex(\"WwanSent\")],\n+                    tokens[MapHeaderToIndex(\"WwanRecv\")],\n+                    tokens[MapHeaderToIndex(\"AppSent\")],\n+                    tokens[MapHeaderToIndex(\"AppRecv\")],\n+                    tokens[MapHeaderToIndex(\"Battery\")],\n+                    tokens[MapHeaderToIndex(\"SystemDiskRead\")],\n+                    tokens[MapHeaderToIndex(\"SystemDiskWrite\")]\n+                    )\n+                ).ToList();\n+            //Check if header is present\n+            if (PerfDataRecordsList.ElementAt(0).TimeStamp.Equals(\"TimeStamp\"))\n+            {\n+                _headers = PerfDataRecordsList.ElementAt(0);\n+                PerfDataRecordsList.RemoveAt(0);\n+            }\n+        }\n+\n+        private int MapHeaderToIndex(string token)\n+        {\n+            switch(token)\n+            {\n+                case \"TimeStamp\": return 0;\n+                case \"Marker\": return 1;\n+                case \"Time\": return 2;\n+                case \"Thread\": return 3;\n+                case \"CpuUsed\": return 4;\n+                case \"CpuTotal\": return 5;\n+                case \"ResidentSize\": return 6;\n+                case \"VirtualSize\": return 7;\n+                case \"WifiSent\": return 8;\n+                case \"WifiRecv\": return 9;\n+                case \"WwanSent\": return 10;\n+                case \"WwanRecv\": return 11;\n+                case \"AppSent\": return 12;\n+                case \"AppRecv\": return 13;\n+                case \"Battery\": return 14;\n+                case \"SystemDiskRead\": return 15;\n+                case \"SystemDiskWrite\": return 16;\n+                default: return -1;\n+            }\n+        }\n+\n+        public PerfDataRecord FindMarker(String marker, int skipCount = 0)\n+        {\n+            var records = PerfDataRecordsList.Where(t => t.Marker.Equals(marker, StringComparison.InvariantCultureIgnoreCase));\n+            if (records.Count() > skipCount)\n+            {\n+                return records.ElementAt(skipCount);\n+            }\n+            else\n+            {\n+                return null;\n+            }\n+        }\n+        public void AddMarkerNames()", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM4MjI3MQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r638382271", "bodyText": "Some cleanup items for this file (potentially across multiple files)\n\nConstants can be used to refer to reused xml tags/properties\nLine breaks between functions\nClass/method docs", "author": "iambmelt", "createdAt": "2021-05-25T00:58:55Z", "path": "uiautomationutilities/perf_tool/PerfDataConfiguration.cs", "diffHunk": "@@ -0,0 +1,118 @@\n+\ufeff//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+\n+using System.Collections.Generic;\n+using System.Xml.Serialization;\n+\n+namespace PerfClTool.Measurement\n+{\n+    [XmlRoot(ElementName = \"MeasurementConfiguration\")]\n+    public class MeasurementConfiguration\n+    {\n+        [XmlAttribute(AttributeName = \"Id\")]\n+        public string Id { get; set; }\n+        [XmlAttribute(AttributeName = \"StartMarker\")]\n+        public string StartMarker { get; set; }\n+        [XmlAttribute(AttributeName = \"EndMarker\")]\n+        public string EndMarker { get; set; }\n+        [XmlAttribute(AttributeName = \"startskip\")]\n+        public string Startskip { get; set; }\n+        [XmlAttribute(AttributeName = \"EndSkip\")]\n+        public string EndSkip { get; set; }\n+        [XmlAttribute(AttributeName = \"Name\")]\n+        public string Name { get; set; }\n+    }\n+\n+    [XmlRoot(ElementName = \"MeasurementsConfigurations\")]\n+    public class MeasurementsConfigurations\n+    {\n+        [XmlElement(ElementName = \"MeasurementConfiguration\")]\n+        public List<MeasurementConfiguration> MeasurementConfiguration { get; set; }\n+    }\n+\n+    [XmlRoot(ElementName = \"Measurement\")]\n+    public class Measurement\n+    {\n+        [XmlAttribute(AttributeName = \"Id\")]", "originalCommit": "65625c6d673afc86ec7477d919efb7fdc07c6a42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTg3NjU1Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r639876557", "bodyText": "Will reach out on the first point", "author": "paulkagiri", "createdAt": "2021-05-26T16:04:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM4MjI3MQ=="}], "type": "inlineReview"}, {"oid": "1d5f7c28a8a1c0408fad1d3fc8606bcf7afb5a4d", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/1d5f7c28a8a1c0408fad1d3fc8606bcf7afb5a4d", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-05-25T20:18:10Z", "type": "commit"}, {"oid": "5414ef224c5ca72ab95c80e08ad5d55ed0304e3c", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/5414ef224c5ca72ab95c80e08ad5d55ed0304e3c", "message": "some cleanup and formatting", "committedDate": "2021-05-26T08:28:17Z", "type": "commit"}, {"oid": "5ddc90fad8ade4ac1bb8b4f5714fd69b0b6a4012", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/5ddc90fad8ade4ac1bb8b4f5714fd69b0b6a4012", "message": "Merge branch 'neagarw/perf-CSharpTool' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into neagarw/perf-CSharpTool", "committedDate": "2021-05-26T08:29:08Z", "type": "commit"}, {"oid": "71e92b9b7848590506c5cd06e8d5d23137dcde50", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/71e92b9b7848590506c5cd06e8d5d23137dcde50", "message": "further cleanup", "committedDate": "2021-05-26T15:32:40Z", "type": "commit"}, {"oid": "80880e61fad7f0bd7e9594f78c716decd2b54175", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/80880e61fad7f0bd7e9594f78c716decd2b54175", "message": "minor formatting update", "committedDate": "2021-05-26T16:01:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0MDM0Mzg5MA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r640343890", "bodyText": "We can improve the formatting of this doc i.e. apply heading styles when appropriate", "author": "shahzaibj", "createdAt": "2021-05-27T07:06:37Z", "path": "uiautomationutilities/perf_tool/readme.md", "diffHunk": "@@ -0,0 +1,158 @@\n+Perf tool walk through recording: https://msit.microsoftstream.com/video/8930a1ff-0400-9887-b080-f1eb55ce8803", "originalCommit": "80880e61fad7f0bd7e9594f78c716decd2b54175", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4e7ca7cad96aca17022ff19adfdc0a451ec6ab2f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/4e7ca7cad96aca17022ff19adfdc0a451ec6ab2f", "message": "readme format", "committedDate": "2021-05-27T20:53:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0MDk4NjU0OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1175#discussion_r640986549", "bodyText": "Let's plan to do a brownbag on this topic; I think this would be useful to demonstrate", "author": "iambmelt", "createdAt": "2021-05-27T21:37:16Z", "path": "uiautomationutilities/perf_tool/readme.md", "diffHunk": "@@ -0,0 +1,155 @@\n+# Perf tool walk through\n+\n+**Recording:** https://msit.microsoftstream.com/video/8930a1ff-0400-9887-b080-f1eb55ce8803\n+\n+**Source code of C# tool:** \n+- Repo: https://github.com/AzureAD/microsoft-authentication-library-common-for-android\n+- Location: /uiautomationutilities/perf_tool\n+\n+**Pipeline information:** https://dev.azure.com/IdentityDivision/IDDP/_build?definitionId=1254\n+\n+### The source/path of the files:\n+- **New files:**\n+\t- command.cs\n+\t- PerfDataConfiguration.xml\n+\t- PerfMeasurementConfigurationsProvider.cs\n+\t- Program.cs\n+- **PerfCL files:**\n+\t- MathUtils.cs: \n+\t- MeasurementsConfiguration.cs\n+\t- MeasurementsStore.cs\n+\t- PerfData.cs\n+\t- PerfDataConfiguration.cs\n+\t- PerfDataRecord.cs\n+\t- PerfMeasurement.cs\n+\t- PerfMeasurementsSet.cs\n+\t- PerformanceMetric.cs\n+\t- ReportHelper.cs\n+\t- XMLUtility.cs\n+- **PerfDiffResultMailer files:**\n+\t- Gen3MeasurementsData.cs -> Renamed to -> MeasurementsData.cs\n+\t- Parameter.cs\n+\t- Task.cs\n+\t- View.cs\n+\n+### Source details of the files:\n+\n+- **New files:** \n+\t- Source: None\n+\t- Contact: Neerav Agarwal (Neerav.Agarwal@microsoft.com)\n+- **PerfCL files:** \n+\t- Source: \\\\daddev\\office\\16.0\\13328.10000\\src\\toolsrc\\PerfCLTool\n+\t- Contact: Arpit Aggarwal (Aggarwal.Arpit@microsoft.com)\n+- **PerfDiffResultMailer files:** \n+\t- Source: \\\\officestore\\scratch\\gargupta\\PerfDiffResultMailer\\\n+\t- Contact: Garima Gupta (Garima.Gupta@microsoft.com)\n+\n+\n+### Steps to modify the code to add a new marker and see it in the report:", "originalCommit": "4e7ca7cad96aca17022ff19adfdc0a451ec6ab2f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "701f43b4cabcf098e558a2965964b2147b9ac241", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/701f43b4cabcf098e558a2965964b2147b9ac241", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-02T15:38:39Z", "type": "commit"}, {"oid": "c07f186845c7c7fd42b6c7c554f9aae40f59ddc9", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c07f186845c7c7fd42b6c7c554f9aae40f59ddc9", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-03T12:37:42Z", "type": "commit"}, {"oid": "9bc04ee4ad2955af1bbb6b0ddded9d7a4ae1d1ef", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9bc04ee4ad2955af1bbb6b0ddded9d7a4ae1d1ef", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-07T13:47:37Z", "type": "commit"}, {"oid": "3029b54bcf78111a45c6d10f760532aa32251b7b", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3029b54bcf78111a45c6d10f760532aa32251b7b", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-08T16:23:01Z", "type": "commit"}, {"oid": "7252491e8a3c39874421c5db609e93aa9dca0a78", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7252491e8a3c39874421c5db609e93aa9dca0a78", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-09T15:54:56Z", "type": "commit"}, {"oid": "ce78233183423ab7bb186551e4eb8ccc2175f5c3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ce78233183423ab7bb186551e4eb8ccc2175f5c3", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-10T09:18:57Z", "type": "commit"}, {"oid": "0fd4803e8aec9b4dc9a8a7cda1a29b8157a47549", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0fd4803e8aec9b4dc9a8a7cda1a29b8157a47549", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-16T09:04:39Z", "type": "commit"}, {"oid": "2fa95e2e1273a6aa550b5848aec7ed1d72ce5055", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/2fa95e2e1273a6aa550b5848aec7ed1d72ce5055", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-18T06:25:56Z", "type": "commit"}, {"oid": "c68f18ad26ce2d088602a03ba82cd59714ab72f6", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c68f18ad26ce2d088602a03ba82cd59714ab72f6", "message": "Merge branch 'dev' into neagarw/perf-CSharpTool", "committedDate": "2021-06-21T06:03:04Z", "type": "commit"}]}