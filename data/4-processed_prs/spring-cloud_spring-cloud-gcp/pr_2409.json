{"pr_number": 2409, "pr_title": "Update changelog for 1.2.3 release", "pr_createdAt": "2020-06-01T21:47:16Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409", "timeline": [{"oid": "89472d0a2193aa8227b76afeee1eb327da5635fe", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/89472d0a2193aa8227b76afeee1eb327da5635fe", "message": "Update changelog for 1.2.3 release", "committedDate": "2020-06-01T21:41:00Z", "type": "commit"}, {"oid": "8ae649a67a50e1823c5481c28112c50c915aff34", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/8ae649a67a50e1823c5481c28112c50c915aff34", "message": "make links", "committedDate": "2020-06-01T21:47:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUzMjkzNw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r433532937", "bodyText": "I would add a more explicit statement that there are breaking changes between 1.2.2 and 1.2.3 for secret manager.\nMaybe somehting like:\n\"Version 1.2.3.RELEASE introduces breaking changes to using Secret Manager as a Spring Boot property source. Please see the reference documentation for the updated syntax for how to specify secrets in your application's .properties files.\"", "author": "dzou", "createdAt": "2020-06-01T22:59:30Z", "path": "CHANGELOG.adoc", "diffHunk": "@@ -5,6 +5,56 @@ https://spring.io/projects/spring-cloud-gcp[Spring Cloud GCP] is a set of integr\n This document provides a high-level overview of the changes introduced in Spring Cloud GCP by release.\n For a detailed view of what has changed, refer to the https://github.com/spring-cloud/spring-cloud-gcp/commits/master[commit history] on GitHub.\n \n+== 1.2.3.RELEASE (2020-05-29)\n+\n+=== General\n+\n+* Upgrade to latest libraries bom and sql socket factory (https://github.com/spring-cloud/spring-cloud-gcp/issues/2373[#2373])\n+* Make transaction managers conditional on enabled flag for Spanner and Datastore (https://github.com/spring-cloud/spring-cloud-gcp/issues/2376[#2376])\n+\n+=== Secret Manager \n+", "originalCommit": "8ae649a67a50e1823c5481c28112c50c915aff34", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg2NTg2MA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r433865860", "bodyText": "Done.", "author": "meltsufin", "createdAt": "2020-06-02T13:16:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUzMjkzNw=="}], "type": "inlineReview"}, {"oid": "e88ff79850e2926d82d08ef5bb43e59d66b9d97f", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/e88ff79850e2926d82d08ef5bb43e59d66b9d97f", "message": "add note about secret manager breaking changes", "committedDate": "2020-06-02T13:16:07Z", "type": "commit"}, {"oid": "759da1b61bd371dc367e8949a99535dec27ccbee", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/759da1b61bd371dc367e8949a99535dec27ccbee", "message": "add note about breaking change in logging", "committedDate": "2020-06-03T02:44:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgxNjEyOQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r434816129", "bodyText": "I don't think we need to add documentation changes to changelog.", "author": "elefeint", "createdAt": "2020-06-03T19:51:56Z", "path": "CHANGELOG.adoc", "diffHunk": "@@ -5,6 +5,64 @@ https://spring.io/projects/spring-cloud-gcp[Spring Cloud GCP] is a set of integr\n This document provides a high-level overview of the changes introduced in Spring Cloud GCP by release.\n For a detailed view of what has changed, refer to the https://github.com/spring-cloud/spring-cloud-gcp/commits/master[commit history] on GitHub.\n \n+== 1.2.3.RELEASE (2020-05-29)\n+\n+=== General\n+\n+* Upgrade to latest libraries bom and sql socket factory (https://github.com/spring-cloud/spring-cloud-gcp/issues/2373[#2373])\n+* Make transaction managers conditional on enabled flag for Spanner and Datastore (https://github.com/spring-cloud/spring-cloud-gcp/issues/2376[#2376])\n+\n+=== Logging\n+\n+NOTE: As we upgraded to the latest version of `google-cloud-logging-logback`, we picked up a https://github.com/googleapis/java-logging-logback/pull/43[breaking change] where the log entry payload is now written in JSON rather than plain text.\n+So, if you're reading log entries back from Cloud Logging using `LogEntry.getPayload()`, make sure to cast the returned payload object to `JsonPayload` instead of `StringPayload`.\n+\n+=== Secret Manager \n+\n+NOTE: This version introduced several breaking changes to Secret Manager property source.\n+Please see the https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.3.RELEASE/reference/html/#secret-manager-property-source)[reference documentation] for the new way for accessing secrets as properties.\n+\n+* Remove the version property in secret manager (https://github.com/spring-cloud/spring-cloud-gcp/issues/2270[#2270])\n+* Secret manager template with project (https://github.com/spring-cloud/spring-cloud-gcp/issues/2283[#2283]) (https://github.com/spring-cloud/spring-cloud-gcp/issues/2284[#2284])\n+* Create protocol for specifying secrets' project and versions (https://github.com/spring-cloud/spring-cloud-gcp/issues/2302[#2302])\n+* Add secret manager autoconfigure property (https://github.com/spring-cloud/spring-cloud-gcp/issues/2363[#2363])\n+\n+=== Pub/Sub \n+\n+* Suppress exception in Pub/Sub adapter in AUTO_ACK and MANUAL modes (https://github.com/spring-cloud/spring-cloud-gcp/issues/2319[#2319])\n+* Detailed docs on acking/nacking in Spring Integration (https://github.com/spring-cloud/spring-cloud-gcp/issues/2078[#2078])", "originalCommit": "759da1b61bd371dc367e8949a99535dec27ccbee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk4MTkwNA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r434981904", "bodyText": "I thought these were major enough to give them a shoutout, but OK. :)", "author": "meltsufin", "createdAt": "2020-06-04T04:12:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgxNjEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgxNzY3NA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r434817674", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            Thank you to the contributors from our user community: @eddumelendez, @mzeijen,@s13o, @acet, @guillaumeblaquiere", "author": "elefeint", "createdAt": "2020-06-03T19:55:00Z", "path": "CHANGELOG.adoc", "diffHunk": "@@ -5,6 +5,64 @@ https://spring.io/projects/spring-cloud-gcp[Spring Cloud GCP] is a set of integr\n This document provides a high-level overview of the changes introduced in Spring Cloud GCP by release.\n For a detailed view of what has changed, refer to the https://github.com/spring-cloud/spring-cloud-gcp/commits/master[commit history] on GitHub.\n \n+== 1.2.3.RELEASE (2020-05-29)\n+\n+=== General\n+\n+* Upgrade to latest libraries bom and sql socket factory (https://github.com/spring-cloud/spring-cloud-gcp/issues/2373[#2373])\n+* Make transaction managers conditional on enabled flag for Spanner and Datastore (https://github.com/spring-cloud/spring-cloud-gcp/issues/2376[#2376])\n+\n+=== Logging\n+\n+NOTE: As we upgraded to the latest version of `google-cloud-logging-logback`, we picked up a https://github.com/googleapis/java-logging-logback/pull/43[breaking change] where the log entry payload is now written in JSON rather than plain text.\n+So, if you're reading log entries back from Cloud Logging using `LogEntry.getPayload()`, make sure to cast the returned payload object to `JsonPayload` instead of `StringPayload`.\n+\n+=== Secret Manager \n+\n+NOTE: This version introduced several breaking changes to Secret Manager property source.\n+Please see the https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.3.RELEASE/reference/html/#secret-manager-property-source)[reference documentation] for the new way for accessing secrets as properties.\n+\n+* Remove the version property in secret manager (https://github.com/spring-cloud/spring-cloud-gcp/issues/2270[#2270])\n+* Secret manager template with project (https://github.com/spring-cloud/spring-cloud-gcp/issues/2283[#2283]) (https://github.com/spring-cloud/spring-cloud-gcp/issues/2284[#2284])\n+* Create protocol for specifying secrets' project and versions (https://github.com/spring-cloud/spring-cloud-gcp/issues/2302[#2302])\n+* Add secret manager autoconfigure property (https://github.com/spring-cloud/spring-cloud-gcp/issues/2363[#2363])\n+\n+=== Pub/Sub \n+\n+* Suppress exception in Pub/Sub adapter in AUTO_ACK and MANUAL modes (https://github.com/spring-cloud/spring-cloud-gcp/issues/2319[#2319])\n+* Detailed docs on acking/nacking in Spring Integration (https://github.com/spring-cloud/spring-cloud-gcp/issues/2078[#2078])\n+* Make 403 an allowable Pub/Sub UP status (https://github.com/spring-cloud/spring-cloud-gcp/issues/2385[#2385])\n+\n+=== Trace\n+\n+* Support Extra Propagation Fields with Trace (https://github.com/spring-cloud/spring-cloud-gcp/issues/2290[#2290])\n+\n+=== Spanner\n+\n+* Fix @Where with ORDER BY query generation (https://github.com/spring-cloud/spring-cloud-gcp/issues/2267[#2267])\n+* Add SpannerOptions auto-configuration for emulator (https://github.com/spring-cloud/spring-cloud-gcp/issues/2356[#2356])\n+\n+=== Datastore\n+\n+* Support for nested properties in PartTree methods (https://github.com/spring-cloud/spring-cloud-gcp/issues/2307[#2307])\n+* Datastore Projections should restrict query to contain only the necessary fields (https://github.com/spring-cloud/spring-cloud-gcp/issues/2335[#2335])\n+* Support custom maps (https://github.com/spring-cloud/spring-cloud-gcp/issues/2345[#2345])\n+\n+=== Firestore\n+\n+* Firestore nested properties (https://github.com/spring-cloud/spring-cloud-gcp/issues/2300[#2300])\n+* Add autoconfiguration for Firestore Emulator (https://github.com/spring-cloud/spring-cloud-gcp/issues/2244[#2244])\n+* Add support for Firestore Sort PartTree queries (https://github.com/spring-cloud/spring-cloud-gcp/issues/2341[#2341])\n+* Add child collection to the entity class in Firestore sample (https://github.com/spring-cloud/spring-cloud-gcp/issues/2388[#2388])\n+\n+=== Vision\n+\n+* Allow users to provide the ImageContext in CloudVisionTemplate (https://github.com/spring-cloud/spring-cloud-gcp/issues/2286[#2286])\n+\n+=== Firebase Security\n+\n+* Make Firebase Security Autoconfiguration conditional (https://github.com/spring-cloud/spring-cloud-gcp/issues/2258[#2258])\n+", "originalCommit": "759da1b61bd371dc367e8949a99535dec27ccbee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgxOTQ2Mw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r434819463", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            * New async pull methods in `Pub/Sub Template`, as well as fully asynchronous `PubSubReactiveFactory.poll()` (https://github.com/spring-cloud/spring-cloud-gcp/pull/2227[#2227])", "author": "elefeint", "createdAt": "2020-06-03T19:58:37Z", "path": "CHANGELOG.adoc", "diffHunk": "@@ -5,6 +5,64 @@ https://spring.io/projects/spring-cloud-gcp[Spring Cloud GCP] is a set of integr\n This document provides a high-level overview of the changes introduced in Spring Cloud GCP by release.\n For a detailed view of what has changed, refer to the https://github.com/spring-cloud/spring-cloud-gcp/commits/master[commit history] on GitHub.\n \n+== 1.2.3.RELEASE (2020-05-29)\n+\n+=== General\n+\n+* Upgrade to latest libraries bom and sql socket factory (https://github.com/spring-cloud/spring-cloud-gcp/issues/2373[#2373])\n+* Make transaction managers conditional on enabled flag for Spanner and Datastore (https://github.com/spring-cloud/spring-cloud-gcp/issues/2376[#2376])\n+\n+=== Logging\n+\n+NOTE: As we upgraded to the latest version of `google-cloud-logging-logback`, we picked up a https://github.com/googleapis/java-logging-logback/pull/43[breaking change] where the log entry payload is now written in JSON rather than plain text.\n+So, if you're reading log entries back from Cloud Logging using `LogEntry.getPayload()`, make sure to cast the returned payload object to `JsonPayload` instead of `StringPayload`.\n+\n+=== Secret Manager \n+\n+NOTE: This version introduced several breaking changes to Secret Manager property source.\n+Please see the https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.3.RELEASE/reference/html/#secret-manager-property-source)[reference documentation] for the new way for accessing secrets as properties.\n+\n+* Remove the version property in secret manager (https://github.com/spring-cloud/spring-cloud-gcp/issues/2270[#2270])\n+* Secret manager template with project (https://github.com/spring-cloud/spring-cloud-gcp/issues/2283[#2283]) (https://github.com/spring-cloud/spring-cloud-gcp/issues/2284[#2284])\n+* Create protocol for specifying secrets' project and versions (https://github.com/spring-cloud/spring-cloud-gcp/issues/2302[#2302])\n+* Add secret manager autoconfigure property (https://github.com/spring-cloud/spring-cloud-gcp/issues/2363[#2363])\n+\n+=== Pub/Sub \n+", "originalCommit": "759da1b61bd371dc367e8949a99535dec27ccbee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk4Mjk2NQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r434982965", "bodyText": "I don't know how I missed this one. Good catch!", "author": "meltsufin", "createdAt": "2020-06-04T04:17:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgxOTQ2Mw=="}], "type": "inlineReview"}, {"oid": "e6054e04722f033a49262e6b44bc216ce4a8ac63", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/e6054e04722f033a49262e6b44bc216ce4a8ac63", "message": "Thank community contributors\n\nCo-authored-by: Elena Felder <41136058+elefeint@users.noreply.github.com>", "committedDate": "2020-06-04T04:13:35Z", "type": "commit"}, {"oid": "24dcf7023c3a4c0606775fe9ea3afabfbb4cb2f0", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/24dcf7023c3a4c0606775fe9ea3afabfbb4cb2f0", "message": "async pull\n\nCo-authored-by: Elena Felder <41136058+elefeint@users.noreply.github.com>", "committedDate": "2020-06-04T04:17:16Z", "type": "commit"}, {"oid": "4413f893e37f86eeac2f69be1b5892ba5fc68721", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/4413f893e37f86eeac2f69be1b5892ba5fc68721", "message": "Remove ref to documentation change.", "committedDate": "2020-06-04T04:18:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk4MzgwMQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2409#discussion_r434983801", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Thank you to the contributors from our user community: @eddumelendez, @mzeijen,@s13o, @acet, @guillaumeblaquiere\n          \n          \n            \n            Thank you to the contributors from our user community: @eddumelendez, @mzeijen, @s13o, @acet, @guillaumeblaquiere", "author": "elefeint", "createdAt": "2020-06-04T04:20:13Z", "path": "CHANGELOG.adoc", "diffHunk": "@@ -62,7 +61,7 @@ Please see the https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.\n === Firebase Security\n \n * Make Firebase Security Autoconfiguration conditional (https://github.com/spring-cloud/spring-cloud-gcp/issues/2258[#2258])\n-\n+Thank you to the contributors from our user community: @eddumelendez, @mzeijen,@s13o, @acet, @guillaumeblaquiere", "originalCommit": "4413f893e37f86eeac2f69be1b5892ba5fc68721", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d9757cdc22ef5724b5f24259f8e78989aefbbdda", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/d9757cdc22ef5724b5f24259f8e78989aefbbdda", "message": "nit\n\nCo-authored-by: Elena Felder <41136058+elefeint@users.noreply.github.com>", "committedDate": "2020-06-04T04:43:13Z", "type": "commit"}]}