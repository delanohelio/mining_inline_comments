{"pr_number": 2224, "pr_title": "Add the refdoc for Secret Manager API Integration", "pr_createdAt": "2020-02-28T22:07:42Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224", "timeline": [{"oid": "ad37d00b53d27bba9ddf80c65d527c657321e35f", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/ad37d00b53d27bba9ddf80c65d527c657321e35f", "message": "Add Refdoc", "committedDate": "2020-02-28T22:04:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk5NjY1Mg==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r385996652", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * A convenience starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n          \n          \n            \n            * A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].", "author": "meltsufin", "createdAt": "2020-02-29T03:28:40Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,80 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A convenience starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].", "originalCommit": "ad37d00b53d27bba9ddf80c65d527c657321e35f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk5NjczMA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r385996730", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            All secrets will be loaded into the application environment using their `secretId` as the property's names.\n          \n          \n            \n            All secrets will be loaded into the application environment using their `secretId` as the property name.", "author": "meltsufin", "createdAt": "2020-02-29T03:30:24Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,80 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A convenience starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+After adding the starter dependency to your project, Spring Cloud GCP will automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property's names.", "originalCommit": "ad37d00b53d27bba9ddf80c65d527c657321e35f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwMDc1OA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386600758", "bodyText": "Maybe add a NOTE: box saying that bootstrap has to be explicitly enabled.", "author": "meltsufin", "createdAt": "2020-03-02T19:26:06Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,80 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A convenience starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+After adding the starter dependency to your project, Spring Cloud GCP will automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.", "originalCommit": "ad37d00b53d27bba9ddf80c65d527c657321e35f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyMzI5MA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386623290", "bodyText": "Done.", "author": "dzou", "createdAt": "2020-03-02T20:10:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwMDc1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwMDg4OQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386600889", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. | No | `true`\n          \n          \n            \n            | `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. | No | `false`", "author": "meltsufin", "createdAt": "2020-03-02T19:26:20Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,80 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A convenience starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+After adding the starter dependency to your project, Spring Cloud GCP will automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property's names.\n+For example, if your secret's id is `my-secret` then it will be accessible as a property using the name `my-secret`.\n+If you would like to append a prefix string to all property names imported from Secret Manager, you may use the `spring.cloud.gcp.secretmanager.secret-name-prefix` setting described below.\n+\n+Spring Cloud GCP Secret Manager offers several configuration properties to customize the behavior.\n+\n+|===\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. | No | `true`", "originalCommit": "ad37d00b53d27bba9ddf80c65d527c657321e35f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "296fd5a807c1d5a4b5e00e2f9668e48c7b7cbb21", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/296fd5a807c1d5a4b5e00e2f9668e48c7b7cbb21", "message": "Update docs/src/main/asciidoc/secretmanager.adoc\n\nCo-Authored-By: Mike Eltsufin <meltsufin@google.com>", "committedDate": "2020-03-02T19:59:13Z", "type": "commit"}, {"oid": "1cc242f41657eb7ab5ff5658eacd4e676136064f", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/1cc242f41657eb7ab5ff5658eacd4e676136064f", "message": "Update docs/src/main/asciidoc/secretmanager.adoc\n\nCo-Authored-By: Mike Eltsufin <meltsufin@google.com>", "committedDate": "2020-03-02T19:59:30Z", "type": "commit"}, {"oid": "24c154443707d2d2ad37cc88afab5fb66195f3a5", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/24c154443707d2d2ad37cc88afab5fb66195f3a5", "message": "refdoc updates", "committedDate": "2020-03-02T20:09:29Z", "type": "commit"}, {"oid": "cecd785609472701e7babc1a5021ed684e072c48", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/cecd785609472701e7babc1a5021ed684e072c48", "message": "Merge remote-tracking branch 'origin/secret-manager-refdoc' into secret-manager-refdoc", "committedDate": "2020-03-02T20:09:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNTgwMA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386625800", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.\n          \n          \n            \n            NOTE: To begin using this feature, you must set `spring.cloud.gcp.secretmanager.bootstrap.enabled=true` because this feature is disabled by default.", "author": "meltsufin", "createdAt": "2020-03-02T20:16:08Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,83 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.", "originalCommit": "cecd785609472701e7babc1a5021ed684e072c48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d845bcc371eaf95c02743befc5b6156e98a6722e", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/d845bcc371eaf95c02743befc5b6156e98a6722e", "message": "Update docs/src/main/asciidoc/secretmanager.adoc\n\nCo-Authored-By: Mike Eltsufin <meltsufin@google.com>", "committedDate": "2020-03-02T20:21:46Z", "type": "commit"}, {"oid": "4ab278920b802966f6c91e5235de0c24cec67aa8", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/4ab278920b802966f6c91e5235de0c24cec67aa8", "message": "Add secretmanager to index.adoc.", "committedDate": "2020-03-02T20:23:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNjA2OQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386626069", "bodyText": "I'd move\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.\n          \n          \n            \n            NOTE: This feature disabled by default; to use it, you must set `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**.", "author": "elefeint", "createdAt": "2020-03-02T20:16:38Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,83 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.", "originalCommit": "cecd785609472701e7babc1a5021ed684e072c48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0NDkxMA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386644910", "bodyText": "Done.", "author": "dzou", "createdAt": "2020-03-02T20:55:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNjA2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNjU4OQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386626589", "bodyText": "I am not sure I can english properly today, so check that this makes sense grammatically.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `spring.cloud.gcp.secretmanager.credentials.location` | OAuth2 credentials for authenticating with the Google Cloud Secret Manager API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n          \n          \n            \n            | `spring.cloud.gcp.secretmanager.credentials.location` | OAuth2 credentials for authenticating to the Google Cloud Secret Manager API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].", "author": "elefeint", "createdAt": "2020-03-02T20:17:49Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,83 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.\n+\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property name.\n+For example, if your secret's id is `my-secret` then it will be accessible as a property using the name `my-secret`.\n+If you would like to append a prefix string to all property names imported from Secret Manager, you may use the `spring.cloud.gcp.secretmanager.secret-name-prefix` setting described below.\n+\n+Spring Cloud GCP Secret Manager offers several configuration properties to customize the behavior.\n+\n+|===\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. Set this to **true** to enable the feature. | No | `false`\n+| `spring.cloud.gcp.secretmanager.credentials.location` | OAuth2 credentials for authenticating with the Google Cloud Secret Manager API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].", "originalCommit": "cecd785609472701e7babc1a5021ed684e072c48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0NTAzOQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386645039", "bodyText": "Done.", "author": "dzou", "createdAt": "2020-03-02T20:56:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNjU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNzE3MQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386627171", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `spring.cloud.gcp.secretmanager.credentials.encoded-key` | Base64-encoded contents of OAuth2 account private key for authenticating with the Google Cloud Storage API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n          \n          \n            \n            | `spring.cloud.gcp.secretmanager.credentials.encoded-key` | Base64-encoded contents of OAuth2 account private key for authenticating to the Google Cloud Storage API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].", "author": "elefeint", "createdAt": "2020-03-02T20:19:03Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,83 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.\n+\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property name.\n+For example, if your secret's id is `my-secret` then it will be accessible as a property using the name `my-secret`.\n+If you would like to append a prefix string to all property names imported from Secret Manager, you may use the `spring.cloud.gcp.secretmanager.secret-name-prefix` setting described below.\n+\n+Spring Cloud GCP Secret Manager offers several configuration properties to customize the behavior.\n+\n+|===\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. Set this to **true** to enable the feature. | No | `false`\n+| `spring.cloud.gcp.secretmanager.credentials.location` | OAuth2 credentials for authenticating with the Google Cloud Secret Manager API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.credentials.encoded-key` | Base64-encoded contents of OAuth2 account private key for authenticating with the Google Cloud Storage API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].", "originalCommit": "cecd785609472701e7babc1a5021ed684e072c48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0NDk5NA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386644994", "bodyText": "Done.", "author": "dzou", "createdAt": "2020-03-02T20:56:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNzE3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYzMzE1Nw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386633157", "bodyText": "Should we just vaguely say \"inject\" instead of \"autowire... using autowired\" despite showing an example of it?\nIn production code, autowire would not be commonly used.", "author": "elefeint", "createdAt": "2020-03-02T20:31:15Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,83 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.\n+\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property name.\n+For example, if your secret's id is `my-secret` then it will be accessible as a property using the name `my-secret`.\n+If you would like to append a prefix string to all property names imported from Secret Manager, you may use the `spring.cloud.gcp.secretmanager.secret-name-prefix` setting described below.\n+\n+Spring Cloud GCP Secret Manager offers several configuration properties to customize the behavior.\n+\n+|===\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. Set this to **true** to enable the feature. | No | `false`\n+| `spring.cloud.gcp.secretmanager.credentials.location` | OAuth2 credentials for authenticating with the Google Cloud Secret Manager API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.credentials.encoded-key` | Base64-encoded contents of OAuth2 account private key for authenticating with the Google Cloud Storage API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.project-id` | The GCP Project used to access Secret Manager API. | No | By default, infers the project from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.secret-name-prefix` | A prefix string to prepend to the property names of secrets read from Secret Manager | No | \"\" (empty string)\n+|===\n+\n+=== Secret Manager Template\n+\n+The `SecretManagerTemplate` class simplifies operations of creating, updating, and reading secrets.\n+\n+To begin using this class, you may autowire an instance of the class using `@Autowired` after adding the starter dependency to your project.", "originalCommit": "cecd785609472701e7babc1a5021ed684e072c48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0NTExMQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386645111", "bodyText": "Done.", "author": "dzou", "createdAt": "2020-03-02T20:56:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYzMzE1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYzMzYxOQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386633619", "bodyText": "Is this section a duplicate?", "author": "elefeint", "createdAt": "2020-03-02T20:32:19Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,83 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: To begin using this feature, you must set the setting `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**, this feature disabled by default.\n+\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property name.\n+For example, if your secret's id is `my-secret` then it will be accessible as a property using the name `my-secret`.\n+If you would like to append a prefix string to all property names imported from Secret Manager, you may use the `spring.cloud.gcp.secretmanager.secret-name-prefix` setting described below.\n+\n+Spring Cloud GCP Secret Manager offers several configuration properties to customize the behavior.\n+\n+|===\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. Set this to **true** to enable the feature. | No | `false`\n+| `spring.cloud.gcp.secretmanager.credentials.location` | OAuth2 credentials for authenticating with the Google Cloud Secret Manager API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.credentials.encoded-key` | Base64-encoded contents of OAuth2 account private key for authenticating with the Google Cloud Storage API. | No | By default, infers credentials from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.project-id` | The GCP Project used to access Secret Manager API. | No | By default, infers the project from https://cloud.google.com/docs/authentication/production[Application Default Credentials].\n+| `spring.cloud.gcp.secretmanager.secret-name-prefix` | A prefix string to prepend to the property names of secrets read from Secret Manager | No | \"\" (empty string)\n+|===\n+\n+=== Secret Manager Template\n+\n+The `SecretManagerTemplate` class simplifies operations of creating, updating, and reading secrets.\n+\n+To begin using this class, you may autowire an instance of the class using `@Autowired` after adding the starter dependency to your project.\n+\n+[source, java]\n+----\n+@Autowired\n+private SecretManagerTemplate secretManagerTemplate;\n+----\n+\n+Please consult https://github.com/spring-cloud/spring-cloud-gcp/blob/master/spring-cloud-gcp-secretmanager/src/main/java/org/springframework/cloud/gcp/secretmanager/SecretManagerOperations.java[`SecretManagerOperations`] for information on what operations are available for the Secret Manager template.\n+\n+|===", "originalCommit": "cecd785609472701e7babc1a5021ed684e072c48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0NTQyOQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386645429", "bodyText": "Parts of it were duplicated; I reorganized the properties so the duplicated authentication-related properties now appear in 1 place at the bottom.", "author": "dzou", "createdAt": "2020-03-02T20:57:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYzMzYxOQ=="}], "type": "inlineReview"}, {"oid": "f41ee2ea4741f8b7ec0b215aa8a556800d5338b7", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/f41ee2ea4741f8b7ec0b215aa8a556800d5338b7", "message": "PR Comments", "committedDate": "2020-03-02T20:55:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY1MTc1Mg==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386651752", "bodyText": "I'm afraid people may now miss the fact that auth settings are available.\nMaybe add a link here saying see auth setting below?", "author": "meltsufin", "createdAt": "2020-03-02T21:10:22Z", "path": "docs/src/main/asciidoc/secretmanager.adoc", "diffHunk": "@@ -0,0 +1,89 @@\n+== Secret Manager\n+\n+https://cloud.google.com/secret-manager[Google Cloud Secret Manager] is a secure and convenient method for storing API keys, passwords, certificates, and other sensitive data.\n+A detailed summary of its features can be found in the https://cloud.google.com/blog/products/identity-security/introducing-google-clouds-secret-manager[Secret Manager documentation].\n+\n+Spring Cloud GCP provides:\n+\n+* A Spring Boot starter which automatically loads the secrets of your GCP project into your application context as a https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context[Bootstrap Property Source].\n+* A `SecretManagerTemplate` which allows you to read, write, and update secrets in Secret Manager.\n+\n+=== Dependency Setup\n+\n+To begin using this library, add the `spring-cloud-gcp-starter-secretmanager` artifact to your project.\n+\n+Maven coordinates, using <<getting-started.adoc#_bill_of_materials, Spring Cloud GCP BOM>>:\n+\n+[source,xml]\n+----\n+<dependency>\n+  <groupId>org.springframework.cloud</groupId>\n+  <artifactId>spring-cloud-gcp-starter-secretmanager</artifactId>\n+</dependency>\n+----\n+\n+Gradle coordinates:\n+\n+[source]\n+----\n+dependencies {\n+  compile group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-secretmanager'\n+}\n+----\n+\n+=== Secret Manager Property Source\n+\n+The Spring Cloud GCP integration for Google Cloud Secret Manager enables you to use Secret Manager as a bootstrap property source.\n+\n+This feature allows you to automatically load your GCP project's secrets as properties into the application context during the https://cloud.spring.io/spring-cloud-commons/reference/html/#the-bootstrap-application-context[Bootstrap Phase], which refers to the initial phase when a Spring application is being loaded.\n+\n+NOTE: This feature disabled by default; to use it, you must set `spring.cloud.gcp.secretmanager.bootstrap.enabled` to **true**.\n+\n+Spring Cloud GCP will load the **latest** version of each secret into the application context.\n+\n+All secrets will be loaded into the application environment using their `secretId` as the property name.\n+For example, if your secret's id is `my-secret` then it will be accessible as a property using the name `my-secret`.\n+If you would like to append a prefix string to all property names imported from Secret Manager, you may use the `spring.cloud.gcp.secretmanager.secret-name-prefix` setting described below.\n+\n+Spring Cloud GCP Secret Manager offers several configuration properties to customize the behavior.\n+\n+|===\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.secretmanager.bootstrap.enabled` | Enables loading secrets from Secret Manager as a bootstrap property source. Set this to **true** to enable the feature. | No | `false`\n+| `spring.cloud.gcp.secretmanager.secret-name-prefix` | A prefix string to prepend to the property names of secrets read from Secret Manager | No | \"\" (empty string)\n+|===\n+", "originalCommit": "f41ee2ea4741f8b7ec0b215aa8a556800d5338b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY2MDM1MQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2224#discussion_r386660351", "bodyText": "Added blurb about seeing the Authentication settings section below.", "author": "dzou", "createdAt": "2020-03-02T21:27:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY1MTc1Mg=="}], "type": "inlineReview"}, {"oid": "1ec4d778063e237271d1bef90aeb89823c82ae12", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/1ec4d778063e237271d1bef90aeb89823c82ae12", "message": "Reference authentication settings section below.", "committedDate": "2020-03-02T21:26:47Z", "type": "commit"}]}