{"pr_number": 2287, "pr_title": "Update trace docs now that the trace scheduler is hidden", "pr_createdAt": "2020-03-27T02:55:48Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287", "timeline": [{"oid": "61460af8ea736d4da141beaa4c1c6caec3700f7b", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/61460af8ea736d4da141beaa4c1c6caec3700f7b", "message": "remove trace starter-specific mentions; replace Stackdriver with cloud trace where possible", "committedDate": "2020-03-27T02:47:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMwMjkxNw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287#discussion_r399302917", "bodyText": "Are we sure that the name is always async? Maybe just remove the warning altogether?\nIf we do keep this warning, can we mention how to disable them with spring.sleuth.scheduled.enabled=false?", "author": "meltsufin", "createdAt": "2020-03-27T14:26:35Z", "path": "docs/src/main/asciidoc/trace.adoc", "diffHunk": "@@ -89,21 +89,21 @@ For example, when you are testing to see the traces are going through, you can s\n \n [source]\n ----\n-spring.sleuth.sampler.probability=1                     # Send 100% of the request traces to Stackdriver.\n+spring.sleuth.sampler.probability=1                     # Send 100% of the request traces to Cloud Trace.\n spring.sleuth.web.skipPattern=(^cleanup.*|.+favicon.*)  # Ignore some URL paths.\n spring.sleuth.scheduled.enabled=false                   # disable executor 'async' traces\n ----\n \n-WARNING: By default, Spring Cloud Sleuth auto-configuration instruments executor beans, which causes many traces with the name `async` to appear in Stackdriver Trace. This is especially a problem because our starter comes with an executor. To avoid this noise, please disable automatic instrumentation of executors via `spring.sleuth.scheduled.enabled=false` in your application configuration.\n+WARNING: By default, Spring Cloud Sleuth auto-configuration instruments executor beans, which may cause recurring traces with the name `async` to appear in Cloud Trace if your application or one of its dependencies introduces scheduler beans into Spring application context.", "originalCommit": "61460af8ea736d4da141beaa4c1c6caec3700f7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUyMTY0MQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287#discussion_r399521641", "bodyText": "async is a default name. I've tested it with our pubsub starter, and yep, it was async, starting after the thread pool was first used.", "author": "elefeint", "createdAt": "2020-03-27T20:29:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMwMjkxNw=="}], "type": "inlineReview"}, {"oid": "835808bd3ddedcd4e91922ffb5dcb77112df261f", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/835808bd3ddedcd4e91922ffb5dcb77112df261f", "message": "back out Stackdriver renaming, add back directions for removing noise", "committedDate": "2020-03-27T20:29:44Z", "type": "commit"}, {"oid": "3e639fb8a272ee9298061bd40d1ca44d807b009d", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/3e639fb8a272ee9298061bd40d1ca44d807b009d", "message": "missed one renaming", "committedDate": "2020-03-27T20:30:41Z", "type": "commit"}]}