{"pr_number": 2311, "pr_title": "Cleanup Secret Manager module organization", "pr_createdAt": "2020-04-10T21:14:50Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311", "timeline": [{"oid": "bb6e67abada0ca2ae2322fd2d16606c274586f85", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/bb6e67abada0ca2ae2322fd2d16606c274586f85", "message": "Cleanup secret manager module", "committedDate": "2020-04-10T21:02:49Z", "type": "commit"}, {"oid": "d010fdc592c84374259e7d745931fe82eb5bf9c6", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/d010fdc592c84374259e7d745931fe82eb5bf9c6", "message": "rename it", "committedDate": "2020-04-10T21:11:57Z", "type": "commit"}, {"oid": "305b3239b341a06d781b265585e67881b7a83e91", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/305b3239b341a06d781b265585e67881b7a83e91", "message": "revert SM test changes", "committedDate": "2020-04-10T21:13:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk1MTE5MA==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#discussion_r406951190", "bodyText": "We're losing this test now.", "author": "meltsufin", "createdAt": "2020-04-10T21:27:32Z", "path": "spring-cloud-gcp-secretmanager/src/test/java/org/springframework/cloud/gcp/secretmanager/it/SecretManagerPropertySourceIntegrationTests.java", "diffHunk": "@@ -101,28 +99,14 @@ public void testConfiguration() {\n \t\tassertThat(byteArraySecret).isEqualTo(\"the secret data.\".getBytes());\n \t}\n \n-\t@Test\n-\tpublic void testConfigurationDisabled() {", "originalCommit": "305b3239b341a06d781b265585e67881b7a83e91", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYwMTM3Nw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#discussion_r407601377", "bodyText": "Gotcha - I moved this test to the configuration unit tests you wrote: SecretManagerBootstrapConfigurationTests", "author": "dzou", "createdAt": "2020-04-13T17:24:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk1MTE5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk1NDAyNQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#discussion_r406954025", "bodyText": "Would it be possible to add the @Value test here as well like what we're doing in the other PR:\n\t@Test\n\tpublic void test() {\n\t\ttry (ConfigurableApplicationContext c = applicationBuilder.run()) {\n\t\t\tString secret = c.getBean(\"secret\", String.class);\n\t\t\tassertThat(secret).isEqualTo(\"hello\");\n\t\t}\n\t}\n\n\t@Configuration\n\tstatic class TestConfiguration {\n\n\t\t@Value(\"${sm://spring-cloud-gcp-it-secret\")\n\t\tprivate String secret;\n\n\t\t@Bean\n\t\tpublic String secret() {\n\t\t\treturn secret;\n\t\t}\n\t}", "author": "meltsufin", "createdAt": "2020-04-10T21:36:29Z", "path": "spring-cloud-gcp-secretmanager/src/test/java/org/springframework/cloud/gcp/secretmanager/it/SecretManagerPropertySourceIntegrationTests.java", "diffHunk": "@@ -49,9 +47,9 @@\n import static org.assertj.core.api.Assumptions.assumeThat;\n import static org.awaitility.Awaitility.await;\n \n-public class SecretManagerIntegrationTests {\n+public class SecretManagerPropertySourceIntegrationTests {", "originalCommit": "305b3239b341a06d781b265585e67881b7a83e91", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYwMTQzNg==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#discussion_r407601436", "bodyText": "Done.", "author": "dzou", "createdAt": "2020-04-13T17:24:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk1NDAyNQ=="}], "type": "inlineReview"}, {"oid": "3a583743964c58ab5f692b7883893de4c975da9d", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/3a583743964c58ab5f692b7883893de4c975da9d", "message": "Merge branch 'master' into sm-cleanup", "committedDate": "2020-04-13T14:55:49Z", "type": "commit"}, {"oid": "0a83dff344b11dc8400f36b6a02bdd41bc2ada50", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/0a83dff344b11dc8400f36b6a02bdd41bc2ada50", "message": "PR Comments + test cleanup", "committedDate": "2020-04-13T17:21:59Z", "type": "commit"}, {"oid": "55d617866ce07c886b4154f1b4c76de42f94b47c", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/55d617866ce07c886b4154f1b4c76de42f94b47c", "message": "add additional version test case", "committedDate": "2020-04-13T17:27:31Z", "type": "commit"}]}