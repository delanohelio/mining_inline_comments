{"pr_number": 2150, "pr_title": "Add @ConditionalOnProperty to GcpContextAutoConfiguration", "pr_createdAt": "2020-01-30T10:25:54Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150", "timeline": [{"oid": "da129c7cb6648764c461e4916a51abd674d6ba92", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/da129c7cb6648764c461e4916a51abd674d6ba92", "message": "Add conditional property to GCP core auto configuration\n\nspring.cloud.gcp.core.enabled property enables/disables the auto configuration", "committedDate": "2020-01-30T10:13:37Z", "type": "commit"}, {"oid": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/8cb7ed66571bafb0ee68c2f1da522638a1c00ef6", "message": "Revert formatting changes", "committedDate": "2020-01-30T14:35:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAwNzMzMw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#discussion_r373007333", "bodyText": "Since we're adding this table, (which we should've always had), we should probably also list spring.cloud.gcp.credentials.location, spring.cloud.gcp.credentials.encoded-key, spring.cloud.gcp.project-id, and spring.cloud.gcp.credentials.scopes.\nI understand that's not the main focus of this PR. So, I would be OK with it being done in a separate PR.", "author": "meltsufin", "createdAt": "2020-01-30T15:12:53Z", "path": "docs/src/main/asciidoc/core.adoc", "diffHunk": "@@ -24,6 +24,15 @@ dependencies {\n }\n ----\n \n+=== Configuration\n+\n+The following options may be configured with Spring Cloud core.\n+\n+|===========================================================================\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.core.enabled` | Enables or disables GCP core auto configuration | No | `true`", "originalCommit": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAxMTQyNw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#discussion_r373011427", "bodyText": "I filed a follow-up issue #2151 for this.", "author": "elefeint", "createdAt": "2020-01-30T15:19:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAwNzMzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAxOTc5MQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#discussion_r373019791", "bodyText": "Better to do it in a separate PR connected to the new issue #2151 , I guess.", "author": "ssoydan-strands", "createdAt": "2020-01-30T15:32:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAwNzMzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAwODg0Mw==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#discussion_r373008843", "bodyText": "We should also add it to spring-cloud-gcp/spring-cloud-gcp-autoconfigure/src/main/resources/META-INF/additional-spring-configuration-metadata.json.", "author": "meltsufin", "createdAt": "2020-01-30T15:15:13Z", "path": "spring-cloud-gcp-autoconfigure/src/main/java/org/springframework/cloud/gcp/autoconfigure/core/GcpContextAutoConfiguration.java", "diffHunk": "@@ -40,8 +41,10 @@\n  * @author Mike Eltsufin\n  * @author Elena Felder\n  * @author Chengyuan Zhao\n+ * @author Serhat Soydan\n  */\n @Configuration\n+@ConditionalOnProperty(name = \"spring.cloud.gcp.core.enabled\", havingValue = \"true\", matchIfMissing = true)", "originalCommit": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c6e463d3465fcf172190ef3de4a5678e02f3133f", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/c6e463d3465fcf172190ef3de4a5678e02f3133f", "message": "Add new property to additional spring config metadata\n\nspring.cloud.gcp.core.enabled is added", "committedDate": "2020-01-30T15:30:15Z", "type": "commit"}]}