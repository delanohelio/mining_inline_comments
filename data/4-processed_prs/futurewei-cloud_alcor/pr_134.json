{"pr_number": 134, "pr_title": "VPC Manager service module", "pr_createdAt": "2020-03-24T23:38:56Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/134", "timeline": [{"oid": "a81d90c0c4b33c3a4ee7165b4f787aff53d440ff", "url": "https://github.com/futurewei-cloud/alcor/commit/a81d90c0c4b33c3a4ee7165b4f787aff53d440ff", "message": "vpcmanager", "committedDate": "2020-03-24T23:00:44Z", "type": "commit"}, {"oid": "93da5e40ad87f49cfc891b56a8618c25567b9c40", "url": "https://github.com/futurewei-cloud/alcor/commit/93da5e40ad87f49cfc891b56a8618c25567b9c40", "message": "vpc manager service update", "committedDate": "2020-03-24T23:35:04Z", "type": "commit"}, {"oid": "bb7c1ffd71e6ab1c1019b874322b18e239f0be61", "url": "https://github.com/futurewei-cloud/alcor/commit/bb7c1ffd71e6ab1c1019b874322b18e239f0be61", "message": "Merge pull request #1 from futurewei-cloud/master\n\nReplace Redis with Apache Ignite for in memory cache and db (#129)", "committedDate": "2020-03-25T16:12:19Z", "type": "commit"}, {"oid": "2b6a43fb0ae185b880969b49ce852434d1799a24", "url": "https://github.com/futurewei-cloud/alcor/commit/2b6a43fb0ae185b880969b49ce852434d1799a24", "message": "vpc manager directory structure update", "committedDate": "2020-03-25T18:26:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyNjIxNQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398826215", "bodyText": "Please remove all temp files.", "author": "xieus", "createdAt": "2020-03-26T19:11:13Z", "path": "vpcmanager/AlcorLog-2020-03-25.log.0", "diffHunk": "@@ -0,0 +1,2 @@\n+[2020-03-25 11:07:22] [INFO   ] Logger VpcRepository init completed  ", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyNjUyOQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398826529", "bodyText": "0.0.1? Let us use 0.1.0 :-)", "author": "xieus", "createdAt": "2020-03-26T19:11:44Z", "path": "vpcmanager/Dockerfile", "diffHunk": "@@ -0,0 +1,16 @@\n+# Dockerfile for VPC Manager\n+\n+FROM openjdk:8\n+\n+MAINTAINER Zhonghao Lyu <zlyu@futurewei.com>\n+\n+# VPC Manager process\n+EXPOSE 8080\n+# VPC Manager admin process\n+\n+# Generate container image and run container\n+COPY ./target/vpc-manager-0.0.1-SNAPSHOT.jar /app/vpc-manager-0.0.1.jar", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyNzIxOQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398827219", "bodyText": "Is this guidance from online Spring website? Do we need this this?", "author": "xieus", "createdAt": "2020-03-26T19:12:55Z", "path": "vpcmanager/HELP.md", "diffHunk": "@@ -0,0 +1,24 @@\n+# Getting Started\n+\n+### Reference Documentation\n+For further reference, please consider the following sections:", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyNzgwNw==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398827807", "bodyText": "Remove machines.json. Vpc Manager is supposed not to rely on physical topology therefore no need to import machine.json.", "author": "xieus", "createdAt": "2020-03-26T19:13:51Z", "path": "vpcmanager/config/machine.json", "diffHunk": "@@ -0,0 +1,64 @@\n+{", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyODA0Nw==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398828047", "bodyText": "Do we need this file?", "author": "xieus", "createdAt": "2020-03-26T19:14:16Z", "path": "vpcmanager/mvnw", "diffHunk": "@@ -0,0 +1,322 @@\n+#!/bin/sh", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyODMzOA==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398828338", "bodyText": "Do we need mvnw.cmd?", "author": "xieus", "createdAt": "2020-03-26T19:14:48Z", "path": "vpcmanager/mvnw.cmd", "diffHunk": "@@ -0,0 +1,182 @@\n+@REM ----------------------------------------------------------------------------\n+@REM Licensed to the Apache Software Foundation (ASF) under one", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyODk2NA==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398828964", "bodyText": "Supposedly, we shouldn't need mysql dependencies here.", "author": "xieus", "createdAt": "2020-03-26T19:15:56Z", "path": "vpcmanager/pom.xml", "diffHunk": "@@ -0,0 +1,177 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-starter-parent</artifactId>\n+        <version>2.2.5.RELEASE</version>\n+        <relativePath/> <!-- lookup parent from repository -->\n+    </parent>\n+    <groupId>com.futurewei</groupId>\n+    <artifactId>vpc-manager</artifactId>\n+    <version>0.0.1-SNAPSHOT</version>\n+    <name>vpc-manager</name>\n+    <description>VPC Manager Module</description>\n+\n+    <properties>\n+        <java.version>1.8</java.version>\n+        <maven.compiler.source>1.7</maven.compiler.source>\n+        <maven.compiler.target>1.7</maven.compiler.target>\n+        <asciidoctor-plugin.version>1.5.6</asciidoctor-plugin.version>\n+        <snippets>${project.basedir}/target/generated-snippets/</snippets>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-actuator</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-data-redis</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-thymeleaf</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.boot</groupId>\n+            <artifactId>spring-boot-starter-web</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.kafka</groupId>\n+            <artifactId>kafka-clients</artifactId>\n+            <version>2.3.0</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.google.protobuf</groupId>\n+            <artifactId>protobuf-java</artifactId>\n+            <version>3.8.0</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.projectlombok</groupId>\n+            <artifactId>lombok</artifactId>\n+            <version>1.18.0</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>mysql</groupId>", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyOTIwOQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398829209", "bodyText": "Please clean all the dependencies that are not needed.", "author": "xieus", "createdAt": "2020-03-26T19:16:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgyODk2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMDkxMA==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398830910", "bodyText": "If this is a generated code, they should be generated on the compile time, not stored in the src directory. Check how we handled it in the alcor/src directory.", "author": "xieus", "createdAt": "2020-03-26T19:19:09Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/comm/constants/Common.java", "diffHunk": "@@ -0,0 +1,709 @@\n+// Generated by the protocol buffer compiler.  DO NOT EDIT!", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMTUzNw==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398831537", "bodyText": "Cache and logging are common across microservices. Let us move out of the vpcmanager directory.", "author": "xieus", "createdAt": "2020-03-26T19:20:07Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/comm/exception/CacheException.java", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.futurewei.vpcmanager.comm.exception;", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMjAzNA==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398832034", "bodyText": "Move this file. It is not needed as machine.json.", "author": "xieus", "createdAt": "2020-03-26T19:20:58Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/config/DataCenterConfig.java", "diffHunk": "@@ -0,0 +1,22 @@\n+/*\n+Copyright 2019 The Alcor Authors.", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMjI3OA==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398832278", "bodyText": "common directory?", "author": "xieus", "createdAt": "2020-03-26T19:21:24Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/config/IgniteConfiguration.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+Copyright 2019 The Alcor Authors.", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMjQ5NQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398832495", "bodyText": "Remove this file.", "author": "xieus", "createdAt": "2020-03-26T19:21:46Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/config/OneBoxConfig.java", "diffHunk": "@@ -0,0 +1,190 @@\n+/*", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMzMyNw==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398833327", "bodyText": "All common db related files should be moved out of vpcmanager directory.", "author": "xieus", "createdAt": "2020-03-26T19:23:14Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/dao/ICachePublisher.java", "diffHunk": "@@ -0,0 +1,21 @@\n+/*\n+Copyright 2019 The Alcor Authors.", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMzU5NQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398833595", "bodyText": "Remove this file.", "author": "xieus", "createdAt": "2020-03-26T19:23:44Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/entity/HostInfo.java", "diffHunk": "@@ -0,0 +1,109 @@\n+/*\n+Copyright 2019 The Alcor Authors.", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzMzc4Mg==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398833782", "bodyText": "Remove.", "author": "xieus", "createdAt": "2020-03-26T19:24:00Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/entity/NodeManager.java", "diffHunk": "@@ -0,0 +1,118 @@\n+/*\n+Copyright 2019 The Alcor Authors.", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgzNDIwOA==", "url": "https://github.com/futurewei-cloud/alcor/pull/134#discussion_r398834208", "bodyText": "Remove.", "author": "xieus", "createdAt": "2020-03-26T19:24:37Z", "path": "vpcmanager/src/main/java/com/futurewei/vpcmanager/utils/OneBoxUtil.java", "diffHunk": "@@ -0,0 +1,53 @@\n+/*\n+Copyright 2019 The Alcor Authors.", "originalCommit": "2b6a43fb0ae185b880969b49ce852434d1799a24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "49ad0b0272ef71832af87ff93ab68c80a8300121", "url": "https://github.com/futurewei-cloud/alcor/commit/49ad0b0272ef71832af87ff93ab68c80a8300121", "message": "common service and updated vpcmanager", "committedDate": "2020-03-27T07:02:52Z", "type": "commit"}, {"oid": "c9935f10df13ca8e7cfff10ad9f07fdbfc61eb4f", "url": "https://github.com/futurewei-cloud/alcor/commit/c9935f10df13ca8e7cfff10ad9f07fdbfc61eb4f", "message": "Rename directory name from Common-service to lib", "committedDate": "2020-03-27T07:28:26Z", "type": "commit"}, {"oid": "3f04333e9042ae0c9577c875f9c430a3d78b5aa2", "url": "https://github.com/futurewei-cloud/alcor/commit/3f04333e9042ae0c9577c875f9c430a3d78b5aa2", "message": "Move lib files under com.futurewei.alcor.common", "committedDate": "2020-03-27T07:34:01Z", "type": "commit"}, {"oid": "715675ee72a3518e87c9280a57ffe52fa242b3e8", "url": "https://github.com/futurewei-cloud/alcor/commit/715675ee72a3518e87c9280a57ffe52fa242b3e8", "message": "fix package paths in lib", "committedDate": "2020-03-27T07:53:44Z", "type": "commit"}, {"oid": "4de3c83ba533eb941ab9a2392f863eda36baa0a9", "url": "https://github.com/futurewei-cloud/alcor/commit/4de3c83ba533eb941ab9a2392f863eda36baa0a9", "message": "Rename package path to com.futurewei.alcor.vpcmanager", "committedDate": "2020-03-27T08:04:01Z", "type": "commit"}, {"oid": "8d2a24da02a5540318f52d288030fbab99b776b6", "url": "https://github.com/futurewei-cloud/alcor/commit/8d2a24da02a5540318f52d288030fbab99b776b6", "message": "Update common jar and use latest package path in vpcmanager", "committedDate": "2020-03-27T08:12:46Z", "type": "commit"}, {"oid": "84b4cd58ce61c78df855a5feca4bed2b6c4cc760", "url": "https://github.com/futurewei-cloud/alcor/commit/84b4cd58ce61c78df855a5feca4bed2b6c4cc760", "message": "update vpc manager jar package name", "committedDate": "2020-03-27T08:14:40Z", "type": "commit"}, {"oid": "00328559311fede7087bf48ed328008e748f2b0b", "url": "https://github.com/futurewei-cloud/alcor/commit/00328559311fede7087bf48ed328008e748f2b0b", "message": "change Dockerfilr", "committedDate": "2020-03-27T17:19:05Z", "type": "commit"}, {"oid": "510fe4aced4f39764ac8f5a30df4783a67bef57a", "url": "https://github.com/futurewei-cloud/alcor/commit/510fe4aced4f39764ac8f5a30df4783a67bef57a", "message": "delete useless file", "committedDate": "2020-03-27T17:22:43Z", "type": "commit"}, {"oid": "2d1cca813255fedeb2cbd2662cbfb6b50e10f7b5", "url": "https://github.com/futurewei-cloud/alcor/commit/2d1cca813255fedeb2cbd2662cbfb6b50e10f7b5", "message": "Reformat some files in vpc manager", "committedDate": "2020-03-27T17:48:42Z", "type": "commit"}, {"oid": "b0a81d3ec168f2f1b55af276bcbe58d1255d1266", "url": "https://github.com/futurewei-cloud/alcor/commit/b0a81d3ec168f2f1b55af276bcbe58d1255d1266", "message": "Reformat files in common lib", "committedDate": "2020-03-27T17:55:22Z", "type": "commit"}]}