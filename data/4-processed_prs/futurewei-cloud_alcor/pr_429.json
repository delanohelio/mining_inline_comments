{"pr_number": 429, "pr_title": "[Documentation] Subnet Mgr Redesign with Routing Rule Update", "pr_createdAt": "2020-10-16T22:30:11Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/429", "timeline": [{"oid": "add697b9c2df6611b8df857aa4fcc8fa63d8c568", "url": "https://github.com/futurewei-cloud/alcor/commit/add697b9c2df6611b8df857aa4fcc8fa63d8c568", "message": "first commit", "committedDate": "2020-08-20T01:01:07Z", "type": "commit"}, {"oid": "b40c1cc7f4e86ef9d3d6074bfca709549b51bacd", "url": "https://github.com/futurewei-cloud/alcor/commit/b40c1cc7f4e86ef9d3d6074bfca709549b51bacd", "message": "update route_manager doc", "committedDate": "2020-08-20T01:17:12Z", "type": "commit"}, {"oid": "1c3f9f489adff0a8e24eb0cc7863cf28afc957af", "url": "https://github.com/futurewei-cloud/alcor/commit/1c3f9f489adff0a8e24eb0cc7863cf28afc957af", "message": "update route_manager doc", "committedDate": "2020-08-20T01:20:07Z", "type": "commit"}, {"oid": "26a9eecbddf2e1474c491b353489c8c5d8c9f240", "url": "https://github.com/futurewei-cloud/alcor/commit/26a9eecbddf2e1474c491b353489c8c5d8c9f240", "message": "update route_manager doc", "committedDate": "2020-08-21T17:42:58Z", "type": "commit"}, {"oid": "6e2380ebc483a9a47ff4af2dd678202edfa7027f", "url": "https://github.com/futurewei-cloud/alcor/commit/6e2380ebc483a9a47ff4af2dd678202edfa7027f", "message": "update route_manager doc", "committedDate": "2020-08-21T18:17:58Z", "type": "commit"}, {"oid": "df6f9161982242e08de932e9004feb85213b3025", "url": "https://github.com/futurewei-cloud/alcor/commit/df6f9161982242e08de932e9004feb85213b3025", "message": "update route_manager doc", "committedDate": "2020-08-24T18:47:54Z", "type": "commit"}, {"oid": "14b8e6aeeb81c2b945684620848cd39d4274c0f8", "url": "https://github.com/futurewei-cloud/alcor/commit/14b8e6aeeb81c2b945684620848cd39d4274c0f8", "message": "update route_manager doc", "committedDate": "2020-08-24T19:18:13Z", "type": "commit"}, {"oid": "ccddef6dc9418585eeafbd11fd2f2773d1e6e2e7", "url": "https://github.com/futurewei-cloud/alcor/commit/ccddef6dc9418585eeafbd11fd2f2773d1e6e2e7", "message": "update route_manager doc", "committedDate": "2020-08-24T21:35:42Z", "type": "commit"}, {"oid": "51aa0be273bf879c4d8a0aff68a35ef45762c609", "url": "https://github.com/futurewei-cloud/alcor/commit/51aa0be273bf879c4d8a0aff68a35ef45762c609", "message": "update route_manager doc", "committedDate": "2020-08-26T22:33:22Z", "type": "commit"}, {"oid": "17fb86a846a1e81dc309a675c4b6280814e18b05", "url": "https://github.com/futurewei-cloud/alcor/commit/17fb86a846a1e81dc309a675c4b6280814e18b05", "message": "update route_manager doc", "committedDate": "2020-08-27T00:28:01Z", "type": "commit"}, {"oid": "2aa15559b557a308319215440ed6c0b56d8a675b", "url": "https://github.com/futurewei-cloud/alcor/commit/2aa15559b557a308319215440ed6c0b56d8a675b", "message": "update route_manager doc", "committedDate": "2020-08-27T21:07:51Z", "type": "commit"}, {"oid": "0c409171eea35d897136f745e5a7b849a3b72f89", "url": "https://github.com/futurewei-cloud/alcor/commit/0c409171eea35d897136f745e5a7b849a3b72f89", "message": "update route_manager doc", "committedDate": "2020-08-27T22:59:23Z", "type": "commit"}, {"oid": "520a65c01978f7325271a143c0eefdf10e8e217c", "url": "https://github.com/futurewei-cloud/alcor/commit/520a65c01978f7325271a143c0eefdf10e8e217c", "message": "update route_manager doc", "committedDate": "2020-08-28T00:29:11Z", "type": "commit"}, {"oid": "ee5941cebf6223e31f4c1249335572212d3f79b3", "url": "https://github.com/futurewei-cloud/alcor/commit/ee5941cebf6223e31f4c1249335572212d3f79b3", "message": "update route_manager doc", "committedDate": "2020-08-28T19:24:35Z", "type": "commit"}, {"oid": "f074aedf2b19c083bd72e8e5c96b3d2c2a7019db", "url": "https://github.com/futurewei-cloud/alcor/commit/f074aedf2b19c083bd72e8e5c96b3d2c2a7019db", "message": "update route_manager doc", "committedDate": "2020-09-09T17:04:56Z", "type": "commit"}, {"oid": "b78cab860b1c60b2bde241bce3fa720e28261c23", "url": "https://github.com/futurewei-cloud/alcor/commit/b78cab860b1c60b2bde241bce3fa720e28261c23", "message": "update route_manager doc", "committedDate": "2020-09-09T17:56:42Z", "type": "commit"}, {"oid": "dcbca2b9fa80f18f22262f6943397fd57d574e1b", "url": "https://github.com/futurewei-cloud/alcor/commit/dcbca2b9fa80f18f22262f6943397fd57d574e1b", "message": "update route_manager doc", "committedDate": "2020-09-09T23:01:15Z", "type": "commit"}, {"oid": "b09f88e374795d345e856c6ec5652c721a2ebfa6", "url": "https://github.com/futurewei-cloud/alcor/commit/b09f88e374795d345e856c6ec5652c721a2ebfa6", "message": "update route_manager doc", "committedDate": "2020-09-09T23:04:39Z", "type": "commit"}, {"oid": "db1a1e932fa4e423bb2309d5c201eb48441fdc04", "url": "https://github.com/futurewei-cloud/alcor/commit/db1a1e932fa4e423bb2309d5c201eb48441fdc04", "message": "update route_manager doc", "committedDate": "2020-09-10T19:32:27Z", "type": "commit"}, {"oid": "208404025fb414371e2cb475e1d3c616e2c12339", "url": "https://github.com/futurewei-cloud/alcor/commit/208404025fb414371e2cb475e1d3c616e2c12339", "message": "update route_manager doc", "committedDate": "2020-09-10T19:41:17Z", "type": "commit"}, {"oid": "5b1c4074632d050f338cf15cf95d7463f2212ba8", "url": "https://github.com/futurewei-cloud/alcor/commit/5b1c4074632d050f338cf15cf95d7463f2212ba8", "message": "update route_manager doc", "committedDate": "2020-09-10T19:54:11Z", "type": "commit"}, {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "url": "https://github.com/futurewei-cloud/alcor/commit/8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "message": "update route_manager doc", "committedDate": "2020-09-10T19:56:22Z", "type": "commit"}, {"oid": "de799dfbbd5d024dda1745e432d3beb4ec1256a9", "url": "https://github.com/futurewei-cloud/alcor/commit/de799dfbbd5d024dda1745e432d3beb4ec1256a9", "message": "update route_manager doc", "committedDate": "2020-09-11T00:20:04Z", "type": "commit"}, {"oid": "6fbc6056b7ec17546c983f68f06450c75f4cfc4f", "url": "https://github.com/futurewei-cloud/alcor/commit/6fbc6056b7ec17546c983f68f06450c75f4cfc4f", "message": "update route_manager doc", "committedDate": "2020-09-11T00:22:08Z", "type": "commit"}, {"oid": "065539156247eb6358389409a760509c7a5309f2", "url": "https://github.com/futurewei-cloud/alcor/commit/065539156247eb6358389409a760509c7a5309f2", "message": "Update subnet manager's service requirements", "committedDate": "2020-09-17T16:38:54Z", "type": "commit"}, {"oid": "7f3879ba20910284db7b8f82d0255db855a4974b", "url": "https://github.com/futurewei-cloud/alcor/commit/7f3879ba20910284db7b8f82d0255db855a4974b", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into subnet-mgmt", "committedDate": "2020-09-17T16:41:01Z", "type": "commit"}, {"oid": "1a5ac336adaaee2f54bf7254e2d0b1c63e5370ac", "url": "https://github.com/futurewei-cloud/alcor/commit/1a5ac336adaaee2f54bf7254e2d0b1c63e5370ac", "message": "Merge branch 'master' of https://github.com/cj-chung/alcor into subnet-mgmt", "committedDate": "2020-10-08T05:48:56Z", "type": "commit"}, {"oid": "0832806a3c3904ba45218ea0cb74cea3952a04d8", "url": "https://github.com/futurewei-cloud/alcor/commit/0832806a3c3904ba45218ea0cb74cea3952a04d8", "message": "add requirements", "committedDate": "2020-10-12T16:29:03Z", "type": "commit"}, {"oid": "8b7885bbae33ef7bb390cd117838808769ac310d", "url": "https://github.com/futurewei-cloud/alcor/commit/8b7885bbae33ef7bb390cd117838808769ac310d", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into subnet-mgmt", "committedDate": "2020-10-12T16:30:35Z", "type": "commit"}, {"oid": "3df04de527405309bd593e23fa17a6a2525b1a77", "url": "https://github.com/futurewei-cloud/alcor/commit/3df04de527405309bd593e23fa17a6a2525b1a77", "message": "upload images", "committedDate": "2020-10-15T03:09:02Z", "type": "commit"}, {"oid": "6dbeccd163fab3279dd407bf05bf471515b431cd", "url": "https://github.com/futurewei-cloud/alcor/commit/6dbeccd163fab3279dd407bf05bf471515b431cd", "message": "update subnet's design and add update_routes api", "committedDate": "2020-10-16T22:21:09Z", "type": "commit"}, {"oid": "11da480da692452e31409c8255815ea572cf5796", "url": "https://github.com/futurewei-cloud/alcor/commit/11da480da692452e31409c8255815ea572cf5796", "message": "add more specs", "committedDate": "2020-10-20T17:45:24Z", "type": "commit"}, {"oid": "ffe7951988cc80d3634dceb2a1d62345304a9906", "url": "https://github.com/futurewei-cloud/alcor/commit/ffe7951988cc80d3634dceb2a1d62345304a9906", "message": "add more specs", "committedDate": "2020-10-20T18:02:23Z", "type": "commit"}, {"oid": "d99c1e04fc7205ec2eaef771180415098029e83d", "url": "https://github.com/futurewei-cloud/alcor/commit/d99c1e04fc7205ec2eaef771180415098029e83d", "message": "add more specs", "committedDate": "2020-10-20T18:06:43Z", "type": "commit"}, {"oid": "714912842800d4948758e28350463a8b18a07374", "url": "https://github.com/futurewei-cloud/alcor/commit/714912842800d4948758e28350463a8b18a07374", "message": "update images", "committedDate": "2020-10-20T20:43:58Z", "type": "commit"}, {"oid": "b11a412d87ba3ff81b6e6118f14fbbec22da2f64", "url": "https://github.com/futurewei-cloud/alcor/commit/b11a412d87ba3ff81b6e6118f14fbbec22da2f64", "message": "update images and add sidecar pattern", "committedDate": "2020-10-20T21:40:39Z", "type": "commit"}, {"oid": "ac77d6b2df06ea0fcd1fcef65ca8db0c312b1d12", "url": "https://github.com/futurewei-cloud/alcor/commit/ac77d6b2df06ea0fcd1fcef65ca8db0c312b1d12", "message": "fix images", "committedDate": "2020-10-20T21:43:53Z", "type": "commit"}, {"oid": "3138c1f66914b0e8d9170d065e8bf8cf11626f1d", "url": "https://github.com/futurewei-cloud/alcor/commit/3138c1f66914b0e8d9170d065e8bf8cf11626f1d", "message": "add option2", "committedDate": "2020-10-29T00:31:12Z", "type": "commit"}, {"oid": "f8e0fd80dd4553dbd96119afb48cfb0768a061b7", "url": "https://github.com/futurewei-cloud/alcor/commit/f8e0fd80dd4553dbd96119afb48cfb0768a061b7", "message": "Merge branch 'master' of https://github.com/cj-chung/alcor into subnet-mgmt", "committedDate": "2020-10-29T00:31:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzg1NDU3MQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/429#discussion_r513854571", "bodyText": "We may need 412 Precondition Failed as well.", "author": "xieus", "createdAt": "2020-10-29T01:19:07Z", "path": "docs/modules/ROOT/pages/mgmt_services/subnet_manager.adoc", "diffHunk": "@@ -111,24 +158,44 @@ Response:\n ....\n \n anchor:SubnetState_Post1[]\n-**(1) Create Subnet State**\n+**(2) Create Subnet State**\n \n * Method: `POST`\n-\n * Request: `/project/{projectid}/subnets, /v4/{projectid}/subnets`\n-\n * Request Parameter: `@PathVariable String projectid, @RequestBody SubnetWebJson resource`\n-\n+* Operation: Create a Subnet based on user's input.\n+** If both *gateway_ip* and *allocation_pools* are empty, this function needs automatically generate allocation_pools\n+based on the input *cidr* and ask Port Manager to create a gateway port using .4 ip address.\n+** If input body includes *gateway_ip*, this function needs to call Port Manager to create a port using\n+the specified ip.\n+** If input body includes Host Route, this function needs to send these routing rules to Route Manager and\n+ask Route Manage to create a routetable for the specified subnet.\n+** If both the *allocation_pools* and *gateway_ip* attributes are specified, we must ensure that the gateway IP does not\n+overlap with the allocation pools; otherwise, the call returns the *Conflict (409)* response code.\n * Response: subnet state\n * Normal response codes: 201\n-* Error response codes: 400, 404, 500, 503\n-\n+* Error response codes: 400, 401, 404, 404, 409, 500, 503", "originalCommit": "f8e0fd80dd4553dbd96119afb48cfb0768a061b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "24880e714f3328d79a8a34ecd6aa9c032fbb1b38", "url": "https://github.com/futurewei-cloud/alcor/commit/24880e714f3328d79a8a34ecd6aa9c032fbb1b38", "message": "subnet design update", "committedDate": "2020-11-11T22:43:15Z", "type": "commit"}, {"oid": "cf595a55056ba720125bc668d1350cd4ec3b2100", "url": "https://github.com/futurewei-cloud/alcor/commit/cf595a55056ba720125bc668d1350cd4ec3b2100", "message": "subnet design update", "committedDate": "2020-11-19T00:56:44Z", "type": "commit"}]}