{"pr_number": 504, "pr_title": "[Hotfix] Short-term Solution to GW Port Issues", "pr_createdAt": "2020-12-04T00:17:20Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/504", "timeline": [{"oid": "24b9b76ae349f277ac55f1cc11e81636d1569b6d", "url": "https://github.com/futurewei-cloud/alcor/commit/24b9b76ae349f277ac55f1cc11e81636d1569b6d", "message": "commit message", "committedDate": "2020-10-07T21:49:22Z", "type": "commit"}, {"oid": "08ec421662ef56559a388e6c7308aa47cfd07a6b", "url": "https://github.com/futurewei-cloud/alcor/commit/08ec421662ef56559a388e6c7308aa47cfd07a6b", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-07T22:00:25Z", "type": "commit"}, {"oid": "2507b8fc44a4ca94da310b73c11453cec9f2504b", "url": "https://github.com/futurewei-cloud/alcor/commit/2507b8fc44a4ca94da310b73c11453cec9f2504b", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-15T17:12:49Z", "type": "commit"}, {"oid": "8cab6bfa9573926c29b9f8dbbeab732a9de1da7e", "url": "https://github.com/futurewei-cloud/alcor/commit/8cab6bfa9573926c29b9f8dbbeab732a9de1da7e", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-15T23:33:06Z", "type": "commit"}, {"oid": "d9d2a5822429286e2b01ce0842f16cb70dc5168f", "url": "https://github.com/futurewei-cloud/alcor/commit/d9d2a5822429286e2b01ce0842f16cb70dc5168f", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-16T16:57:50Z", "type": "commit"}, {"oid": "daba98ee8949b91b2b77f74c6fbb30529355ee51", "url": "https://github.com/futurewei-cloud/alcor/commit/daba98ee8949b91b2b77f74c6fbb30529355ee51", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-20T00:03:13Z", "type": "commit"}, {"oid": "b813735c5032b70928a2304007875824f5ccedca", "url": "https://github.com/futurewei-cloud/alcor/commit/b813735c5032b70928a2304007875824f5ccedca", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-22T17:43:05Z", "type": "commit"}, {"oid": "fd9a9847b0f42c5a7fd089ea09fa6f24233d008e", "url": "https://github.com/futurewei-cloud/alcor/commit/fd9a9847b0f42c5a7fd089ea09fa6f24233d008e", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-28T19:40:54Z", "type": "commit"}, {"oid": "e44875aa2fa685b2252647f413c704dce7a21611", "url": "https://github.com/futurewei-cloud/alcor/commit/e44875aa2fa685b2252647f413c704dce7a21611", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-29T18:42:59Z", "type": "commit"}, {"oid": "98dcf0dbb1c950ee71a0d663a7042cbce30d24ed", "url": "https://github.com/futurewei-cloud/alcor/commit/98dcf0dbb1c950ee71a0d663a7042cbce30d24ed", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-10-30T22:44:46Z", "type": "commit"}, {"oid": "a9c3a47d74ba5fffbe13746ee4e33af0fbb394fe", "url": "https://github.com/futurewei-cloud/alcor/commit/a9c3a47d74ba5fffbe13746ee4e33af0fbb394fe", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-11-03T23:40:18Z", "type": "commit"}, {"oid": "f058bd1edef55af8ab0e25cb7b043fa6c04c272f", "url": "https://github.com/futurewei-cloud/alcor/commit/f058bd1edef55af8ab0e25cb7b043fa6c04c272f", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-11-05T07:42:35Z", "type": "commit"}, {"oid": "08d4a6f7da0d94caef77156cbb27fa05965eff9a", "url": "https://github.com/futurewei-cloud/alcor/commit/08d4a6f7da0d94caef77156cbb27fa05965eff9a", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-11-05T19:07:01Z", "type": "commit"}, {"oid": "ef0b4fe4b03ddcc00904f1d603d020648846c34f", "url": "https://github.com/futurewei-cloud/alcor/commit/ef0b4fe4b03ddcc00904f1d603d020648846c34f", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-11-18T22:54:01Z", "type": "commit"}, {"oid": "bf29fc71c3dba26a3a166b859fd10be380f03400", "url": "https://github.com/futurewei-cloud/alcor/commit/bf29fc71c3dba26a3a166b859fd10be380f03400", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-12-02T21:06:36Z", "type": "commit"}, {"oid": "b23608afa9dfcd50c2c172672f9a104ccb0e7f21", "url": "https://github.com/futurewei-cloud/alcor/commit/b23608afa9dfcd50c2c172672f9a104ccb0e7f21", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master", "committedDate": "2020-12-03T18:09:47Z", "type": "commit"}, {"oid": "d573fbfce3994282ebb7cfcdbe2556c2c35afc57", "url": "https://github.com/futurewei-cloud/alcor/commit/d573fbfce3994282ebb7cfcdbe2556c2c35afc57", "message": "temporary solution for issue 495 and 498", "committedDate": "2020-12-04T00:14:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc0MjM1Ng==", "url": "https://github.com/futurewei-cloud/alcor/pull/504#discussion_r535742356", "bodyText": "We can remove //-tem", "author": "xieus", "createdAt": "2020-12-04T00:18:19Z", "path": "services/route_manager/src/main/java/com/futurewei/alcor/route/service/Impl/NeutronRouterToSubnetServiceImpl.java", "diffHunk": "@@ -44,7 +44,7 @@ public SubnetWebJson getSubnet(String projectid, String subnetId) {\n \n     @Override\n     public SubnetsWebJson getSubnetsByPortId(String projectid, String portId) {\n-        String subnetManagerServiceUrl = subnetUrl + \"/project/\" + projectid + \"/subnets?port_id=\" + portId;\n+        String subnetManagerServiceUrl = subnetUrl + \"/project/\" + projectid + \"/subnets?gatewayPortId=\" + portId;//-tem", "originalCommit": "d573fbfce3994282ebb7cfcdbe2556c2c35afc57", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc0MjU2Ng==", "url": "https://github.com/futurewei-cloud/alcor/pull/504#discussion_r535742566", "bodyText": "Let us discuss this in today's afternoon sync up meeting.", "author": "xieus", "createdAt": "2020-12-04T00:19:00Z", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/controller/SubnetController.java", "diffHunk": "@@ -516,19 +519,19 @@ public ResponseId deleteSubnetState(@PathVariable String projectId, @PathVariabl\n                 throw new SubnetBindRoutes();\n             }\n \n-            this.subnetDatabaseService.deleteSubnet(subnetId);\n-\n             // delete subnet id in vpc\n             this.subnetService.deleteSubnetIdInVpc(subnetId, projectId, subnetEntity.getVpcId());\n \n             // delete subnet routing rule in route manager\n             this.subnetService.deleteSubnetRoutingRuleInRM(projectId, subnetId);\n \n-            // delete gateway port in port manager\n-            GatewayPortDetail gatewayPortDetail = subnetEntity.getGatewayPortDetail();\n-            if (gatewayPortDetail != null) {\n-                this.subnetToPortManagerService.deleteGatewayPort(projectId, gatewayPortDetail.getGatewayPortId());\n-            }\n+            // TODO: delete gateway port in port manager. Temporary solution, need PM fix issue", "originalCommit": "d573fbfce3994282ebb7cfcdbe2556c2c35afc57", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b77deb3ab22076f50577d6378e557adf197dbb1a", "url": "https://github.com/futurewei-cloud/alcor/commit/b77deb3ab22076f50577d6378e557adf197dbb1a", "message": "temporary solution for issue 495 and 498", "committedDate": "2020-12-04T03:03:01Z", "type": "commit"}, {"oid": "9c176a9f6751684c3526f582b34e183d5178efe6", "url": "https://github.com/futurewei-cloud/alcor/commit/9c176a9f6751684c3526f582b34e183d5178efe6", "message": "temporary solution for issue 495 and 498", "committedDate": "2020-12-04T03:33:10Z", "type": "commit"}]}