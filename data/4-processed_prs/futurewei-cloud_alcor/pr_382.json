{"pr_number": 382, "pr_title": "[Documentation] Route Manager Design doc", "pr_createdAt": "2020-09-10T20:48:32Z", "pr_url": "https://github.com/futurewei-cloud/alcor/pull/382", "timeline": [{"oid": "add697b9c2df6611b8df857aa4fcc8fa63d8c568", "url": "https://github.com/futurewei-cloud/alcor/commit/add697b9c2df6611b8df857aa4fcc8fa63d8c568", "message": "first commit", "committedDate": "2020-08-20T01:01:07Z", "type": "commit"}, {"oid": "b40c1cc7f4e86ef9d3d6074bfca709549b51bacd", "url": "https://github.com/futurewei-cloud/alcor/commit/b40c1cc7f4e86ef9d3d6074bfca709549b51bacd", "message": "update route_manager doc", "committedDate": "2020-08-20T01:17:12Z", "type": "commit"}, {"oid": "1c3f9f489adff0a8e24eb0cc7863cf28afc957af", "url": "https://github.com/futurewei-cloud/alcor/commit/1c3f9f489adff0a8e24eb0cc7863cf28afc957af", "message": "update route_manager doc", "committedDate": "2020-08-20T01:20:07Z", "type": "commit"}, {"oid": "26a9eecbddf2e1474c491b353489c8c5d8c9f240", "url": "https://github.com/futurewei-cloud/alcor/commit/26a9eecbddf2e1474c491b353489c8c5d8c9f240", "message": "update route_manager doc", "committedDate": "2020-08-21T17:42:58Z", "type": "commit"}, {"oid": "6e2380ebc483a9a47ff4af2dd678202edfa7027f", "url": "https://github.com/futurewei-cloud/alcor/commit/6e2380ebc483a9a47ff4af2dd678202edfa7027f", "message": "update route_manager doc", "committedDate": "2020-08-21T18:17:58Z", "type": "commit"}, {"oid": "df6f9161982242e08de932e9004feb85213b3025", "url": "https://github.com/futurewei-cloud/alcor/commit/df6f9161982242e08de932e9004feb85213b3025", "message": "update route_manager doc", "committedDate": "2020-08-24T18:47:54Z", "type": "commit"}, {"oid": "14b8e6aeeb81c2b945684620848cd39d4274c0f8", "url": "https://github.com/futurewei-cloud/alcor/commit/14b8e6aeeb81c2b945684620848cd39d4274c0f8", "message": "update route_manager doc", "committedDate": "2020-08-24T19:18:13Z", "type": "commit"}, {"oid": "ccddef6dc9418585eeafbd11fd2f2773d1e6e2e7", "url": "https://github.com/futurewei-cloud/alcor/commit/ccddef6dc9418585eeafbd11fd2f2773d1e6e2e7", "message": "update route_manager doc", "committedDate": "2020-08-24T21:35:42Z", "type": "commit"}, {"oid": "51aa0be273bf879c4d8a0aff68a35ef45762c609", "url": "https://github.com/futurewei-cloud/alcor/commit/51aa0be273bf879c4d8a0aff68a35ef45762c609", "message": "update route_manager doc", "committedDate": "2020-08-26T22:33:22Z", "type": "commit"}, {"oid": "17fb86a846a1e81dc309a675c4b6280814e18b05", "url": "https://github.com/futurewei-cloud/alcor/commit/17fb86a846a1e81dc309a675c4b6280814e18b05", "message": "update route_manager doc", "committedDate": "2020-08-27T00:28:01Z", "type": "commit"}, {"oid": "2aa15559b557a308319215440ed6c0b56d8a675b", "url": "https://github.com/futurewei-cloud/alcor/commit/2aa15559b557a308319215440ed6c0b56d8a675b", "message": "update route_manager doc", "committedDate": "2020-08-27T21:07:51Z", "type": "commit"}, {"oid": "0c409171eea35d897136f745e5a7b849a3b72f89", "url": "https://github.com/futurewei-cloud/alcor/commit/0c409171eea35d897136f745e5a7b849a3b72f89", "message": "update route_manager doc", "committedDate": "2020-08-27T22:59:23Z", "type": "commit"}, {"oid": "520a65c01978f7325271a143c0eefdf10e8e217c", "url": "https://github.com/futurewei-cloud/alcor/commit/520a65c01978f7325271a143c0eefdf10e8e217c", "message": "update route_manager doc", "committedDate": "2020-08-28T00:29:11Z", "type": "commit"}, {"oid": "ee5941cebf6223e31f4c1249335572212d3f79b3", "url": "https://github.com/futurewei-cloud/alcor/commit/ee5941cebf6223e31f4c1249335572212d3f79b3", "message": "update route_manager doc", "committedDate": "2020-08-28T19:24:35Z", "type": "commit"}, {"oid": "f074aedf2b19c083bd72e8e5c96b3d2c2a7019db", "url": "https://github.com/futurewei-cloud/alcor/commit/f074aedf2b19c083bd72e8e5c96b3d2c2a7019db", "message": "update route_manager doc", "committedDate": "2020-09-09T17:04:56Z", "type": "commit"}, {"oid": "b78cab860b1c60b2bde241bce3fa720e28261c23", "url": "https://github.com/futurewei-cloud/alcor/commit/b78cab860b1c60b2bde241bce3fa720e28261c23", "message": "update route_manager doc", "committedDate": "2020-09-09T17:56:42Z", "type": "commit"}, {"oid": "dcbca2b9fa80f18f22262f6943397fd57d574e1b", "url": "https://github.com/futurewei-cloud/alcor/commit/dcbca2b9fa80f18f22262f6943397fd57d574e1b", "message": "update route_manager doc", "committedDate": "2020-09-09T23:01:15Z", "type": "commit"}, {"oid": "b09f88e374795d345e856c6ec5652c721a2ebfa6", "url": "https://github.com/futurewei-cloud/alcor/commit/b09f88e374795d345e856c6ec5652c721a2ebfa6", "message": "update route_manager doc", "committedDate": "2020-09-09T23:04:39Z", "type": "commit"}, {"oid": "db1a1e932fa4e423bb2309d5c201eb48441fdc04", "url": "https://github.com/futurewei-cloud/alcor/commit/db1a1e932fa4e423bb2309d5c201eb48441fdc04", "message": "update route_manager doc", "committedDate": "2020-09-10T19:32:27Z", "type": "commit"}, {"oid": "208404025fb414371e2cb475e1d3c616e2c12339", "url": "https://github.com/futurewei-cloud/alcor/commit/208404025fb414371e2cb475e1d3c616e2c12339", "message": "update route_manager doc", "committedDate": "2020-09-10T19:41:17Z", "type": "commit"}, {"oid": "5b1c4074632d050f338cf15cf95d7463f2212ba8", "url": "https://github.com/futurewei-cloud/alcor/commit/5b1c4074632d050f338cf15cf95d7463f2212ba8", "message": "update route_manager doc", "committedDate": "2020-09-10T19:54:11Z", "type": "commit"}, {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "url": "https://github.com/futurewei-cloud/alcor/commit/8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "message": "update route_manager doc", "committedDate": "2020-09-10T19:56:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NTUwMw==", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486665503", "bodyText": "Minor: to be compatible with", "author": "xieus", "createdAt": "2020-09-10T22:20:01Z", "path": "docs/modules/ROOT/pages/mgmt_services/route_manager.adoc", "diffHunk": "@@ -0,0 +1,1227 @@\n+= Route Manager Design Specification\n+Chun-Jen Chung <cchung@futurewei.com>, Liguang Xie <lxie@futurewei.com>\n+v0.1, 2020-08-17\n+:toc: right\n+:imagesdir: ../../images\n+\n+== Overview\n+\n+The Route Manager is an Alcor microservice which manages the route tables and route entries for all VPCs and Subnets.\n+It also provides router-related functionalities to compatible with OpenStack Neutron's router APIs.", "originalCommit": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjcwMzQ0NA==", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486703444", "bodyText": "updated", "author": "cj-chung", "createdAt": "2020-09-11T00:22:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NTUwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NjE4Mw==", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486666183", "bodyText": "One more requirement:\n\nWarning message should be raised when adding an invalid routing rule", "author": "xieus", "createdAt": "2020-09-10T22:21:57Z", "path": "docs/modules/ROOT/pages/mgmt_services/route_manager.adoc", "diffHunk": "@@ -0,0 +1,1227 @@\n+= Route Manager Design Specification\n+Chun-Jen Chung <cchung@futurewei.com>, Liguang Xie <lxie@futurewei.com>\n+v0.1, 2020-08-17\n+:toc: right\n+:imagesdir: ../../images\n+\n+== Overview\n+\n+The Route Manager is an Alcor microservice which manages the route tables and route entries for all VPCs and Subnets.\n+It also provides router-related functionalities to compatible with OpenStack Neutron's router APIs.\n+Its responsibilities include but are not limited to creating, updating, deleting, and searching routers, route tables,\n+and route entries resource for a Network/VPC/Subnet.\n+It interacts with VPC Manager, Subnet Manager, Port Manager, and Data Plane Manager to provide route information for them.\n+\n+== Service Requirements\n+\n+[arabic]\n+. Availability Zone and Subnet-based route table.\n+. Default route tables for VPC and subnet.\n+. Default route to Internet Gateway in a public subnet route table.\n+. Default route to NAT Gateway in a private subnet route table.\n+. Router resource managed by an owner, Neutron or VPC.\n+. Route table resource managed by an owner, VPC or Subnet.\n+. Route entry should include destination, nexthop, target, and priority.\n+. Warning message should be raised if same route entry with different priority has been inserted by users.", "originalCommit": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjcwMzQ2MQ==", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486703461", "bodyText": "updated", "author": "cj-chung", "createdAt": "2020-09-11T00:22:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NjE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NzczMA==", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486667730", "bodyText": "We will need a new route_manager_l3_neighbors_update_5.PNG to remove the grammar check warning.", "author": "xieus", "createdAt": "2020-09-10T22:26:13Z", "path": "docs/modules/ROOT/pages/index.adoc", "diffHunk": "@@ -13,7 +13,7 @@\n *** xref:mgmt_services/vpc_manager.adoc[VPC Manager]", "originalCommit": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjcwMzYyNg==", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486703626", "bodyText": "The PNG is recaptured without grammar check warning.", "author": "cj-chung", "createdAt": "2020-09-11T00:23:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NzczMA=="}], "type": "inlineReview"}, {"oid": "de799dfbbd5d024dda1745e432d3beb4ec1256a9", "url": "https://github.com/futurewei-cloud/alcor/commit/de799dfbbd5d024dda1745e432d3beb4ec1256a9", "message": "update route_manager doc", "committedDate": "2020-09-11T00:20:04Z", "type": "commit"}, {"oid": "6fbc6056b7ec17546c983f68f06450c75f4cfc4f", "url": "https://github.com/futurewei-cloud/alcor/commit/6fbc6056b7ec17546c983f68f06450c75f4cfc4f", "message": "update route_manager doc", "committedDate": "2020-09-11T00:22:08Z", "type": "commit"}]}