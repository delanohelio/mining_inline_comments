{"pr_number": 44, "pr_title": "[releng] Update Jenkinsfile", "pr_createdAt": "2020-01-27T14:55:29Z", "pr_url": "https://github.com/eclipse/capella/pull/44", "timeline": [{"oid": "a1079ae0ef7ff2bcaffb0e5c83308bfda1a6f88d", "url": "https://github.com/eclipse/capella/commit/a1079ae0ef7ff2bcaffb0e5c83308bfda1a6f88d", "message": "[releng] Update Jenkinsfile\n\n- Update product branch\n\nChange-Id: I10fc9ded47db3c832a273f7ac25dbf706f6f990f\nSigned-off-by: Sandu Postaru <sandu.postaru@thalesgroup.com>", "committedDate": "2020-01-27T14:54:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQxNTkzOA==", "url": "https://github.com/eclipse/capella/pull/44#discussion_r371415938", "bodyText": "i think we can use here : FROM_PR ? env.CHANGE_TARGET : env.BRANCH_NAME.", "author": "pdulth", "createdAt": "2020-01-27T18:46:48Z", "path": "Jenkinsfile", "diffHunk": "@@ -10,7 +10,7 @@ pipeline {\n     \n     FROM_PR = \"${env.BRANCH_NAME}\".contains(\"PR-\");\n     \n-    PRODUCT_BRANCH = \"master\"", "originalCommit": "a1079ae0ef7ff2bcaffb0e5c83308bfda1a6f88d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc5MTMzNg==", "url": "https://github.com/eclipse/capella/pull/44#discussion_r371791336", "bodyText": "Yes we can.\nI discovered that the following syntax: ${env.BUILD_KEY == \"master\" ? X_VAR : Y_VAR} works, this avoids using the ${env.FROM_PR}\".replace(\"true\", \" \").replace(\"false\", \"-Psign\"); pattern.\nI will commit an updated version of the jenkins file in a future commit.", "author": "sandupostaru", "createdAt": "2020-01-28T13:09:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQxNTkzOA=="}], "type": "inlineReview"}]}