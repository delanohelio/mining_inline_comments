{"pr_number": 185, "pr_title": "Search behavior fixes", "pr_createdAt": "2020-04-27T11:53:53Z", "pr_url": "https://github.com/eclipse/capella/pull/185", "timeline": [{"oid": "470c85a9e69b822f6e4bac5839bae677336c13d3", "url": "https://github.com/eclipse/capella/commit/470c85a9e69b822f6e4bac5839bae677336c13d3", "message": "Search behavior fixes\n\n- Fixed AssertionFailedException when \"Whole word\" and \"Regular\nexpression\" options are used together\n-- A message informing the user is displayed and the search is not\nperformed\n\n- Fixed regex information in both text box and class filter\n- Fixed search queries that use the String Matcher format\n-- The String matcher is not as powerful as regex but allows the use of\n* for any string, ? for a character etc.\n\nChange-Id: I2ebf69f58c97de9453f42bfe84dbde49dccbd586\nSigned-off-by: Sandu Postaru <sandu.postaru@thalesgroup.com>", "committedDate": "2020-04-27T11:52:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc0ODg5Mw==", "url": "https://github.com/eclipse/capella/pull/185#discussion_r415748893", "bodyText": "This fixes the fact that the String Matcher symbols were not used as intended during the search (* for any string, ? for a character etc).", "author": "sandupostaru", "createdAt": "2020-04-27T11:55:30Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/CapellaSearchSettings.java", "diffHunk": "@@ -157,7 +163,7 @@ public IStatus validate() {\n \r\n   public static Pattern createPattern(String textPattern, boolean isCaseSensitive, boolean isRegExSearch,\r\n       boolean isWholeWord) {\r\n-    return PatternConstructor.createPattern(textPattern, isRegExSearch, false, isCaseSensitive, isWholeWord);\r\n+    return PatternConstructor.createPattern(textPattern, isRegExSearch, true, isCaseSensitive, isWholeWord);\r", "originalCommit": "470c85a9e69b822f6e4bac5839bae677336c13d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc0OTg1OQ==", "url": "https://github.com/eclipse/capella/pull/185#discussion_r415749859", "bodyText": "This is required since org.eclipse.search.internal.core.text.PatternConstructor.createPattern(String, boolean, boolean, boolean, boolean) throws an exception otherwise.", "author": "sandupostaru", "createdAt": "2020-04-27T11:56:58Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/CapellaSearchSettings.java", "diffHunk": "@@ -118,23 +118,28 @@ public void setAbstractChecked(boolean isAbstractChecked) {\n   public void setSemanticChecked(boolean isSemanticChecked) {\r\n     this.isSemanticChecked = isSemanticChecked;\r\n   }\r\n-  \r\n+\r\n   public void setScope(int scope) {\r\n     this.scope = scope;\r\n   }\r\n-  \r\n+\r\n   public int getScope() {\r\n     return this.scope;\r\n   }\r\n \r\n-  // method used to check the search settings (that we entered text, selected at least one mettaclass or attribute etc) \r\n+  // method used to check the search settings (that we entered text, selected at least one mettaclass or attribute etc)\r\n   public IStatus validate() {\r\n     if (textPattern == null || textPattern.isEmpty()) {\r\n       return new Status(IStatus.ERROR, Activator.PLUGIN_ID,\r\n           CapellaSearchConstants.CapellaSearchPage_Validation_Message_Pattern_Empty);\r\n     }\r\n-    \r\n+\r\n     if (isRegExSearch) {\r\n+      if (isWholeWord) {\r\n+        return new Status(IStatus.ERROR, Activator.PLUGIN_ID,\r\n+            CapellaSearchConstants.CapellaSearchPage_Validation_Message_Whole_Word_Same_Time_Regex);\r\n+      }\r\n+\r", "originalCommit": "470c85a9e69b822f6e4bac5839bae677336c13d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}