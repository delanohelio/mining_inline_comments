{"pr_number": 1250, "pr_title": "Fix weighted shortest path NPE", "pr_createdAt": "2020-11-10T08:47:08Z", "pr_url": "https://github.com/hugegraph/hugegraph/pull/1250", "timeline": [{"oid": "4f6fe752f7e5753615ffe12c063468193d5e664a", "url": "https://github.com/hugegraph/hugegraph/commit/4f6fe752f7e5753615ffe12c063468193d5e664a", "message": "fix NPE of weighted shortest path if no results\n\nChange-Id: Ic0fba1a0dea58b322cf864ac7212e0d311199b6f", "committedDate": "2020-11-10T07:52:52Z", "type": "commit"}, {"oid": "3783c6b0bcd2c795cfe502e71858189d230c7d8f", "url": "https://github.com/hugegraph/hugegraph/commit/3783c6b0bcd2c795cfe502e71858189d230c7d8f", "message": "add check for skip degree > 80w\n\nChange-Id: I1675790480f5499c076bfea5a0d562261eaa5b68", "committedDate": "2020-11-10T08:28:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQwNjA5OQ==", "url": "https://github.com/hugegraph/hugegraph/pull/1250#discussion_r520406099", "bodyText": "assert path is not empty", "author": "javeme", "createdAt": "2020-11-10T09:18:14Z", "path": "hugegraph-api/src/main/java/com/baidu/hugegraph/api/traversers/WeightedShortestPathAPI.java", "diffHunk": "@@ -94,7 +94,7 @@ public String get(@Context GraphManager manager,\n                               sourceId, targetId, dir, edgeLabel, weight,\n                               degree, skipDegree, capacity);\n         Iterator<Vertex> iterator = QueryResults.emptyIterator();\n-        if (withVertex) {\n+        if (path != null && withVertex) {", "originalCommit": "3783c6b0bcd2c795cfe502e71858189d230c7d8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQwODM5Ng==", "url": "https://github.com/hugegraph/hugegraph/pull/1250#discussion_r520408396", "bodyText": "add space", "author": "javeme", "createdAt": "2020-11-10T09:21:29Z", "path": "hugegraph-api/src/main/java/com/baidu/hugegraph/serializer/JsonSerializer.java", "diffHunk": "@@ -278,7 +278,9 @@ public String writeSimilars(SimilarsMap similars,\n     @Override\n     public String writeWeightedPath(NodeWithWeight path,\n                                     Iterator<Vertex> vertices) {\n-        return JsonUtil.toJson(ImmutableMap.of(\"path\", path.toMap(),\n+        Map<String, Object> pathMap = path == null?", "originalCommit": "3783c6b0bcd2c795cfe502e71858189d230c7d8f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a7372c599370ad49cf9eafa5d059008cfa907580", "url": "https://github.com/hugegraph/hugegraph/commit/a7372c599370ad49cf9eafa5d059008cfa907580", "message": "add NO_LIMIT check in adjacentEdges()\n\nChange-Id: Ic126213dde571e51f716aa0d2cb5b52d260d7c9d", "committedDate": "2020-11-10T09:55:29Z", "type": "commit"}, {"oid": "31890051ce87a6ad3cedc15186b3643b68a5ce0d", "url": "https://github.com/hugegraph/hugegraph/commit/31890051ce87a6ad3cedc15186b3643b68a5ce0d", "message": "fix template path error\n\nChange-Id: I51674d1d2a41f07f6cba025f12f32b0f611fd413", "committedDate": "2020-11-10T11:48:14Z", "type": "commit"}]}