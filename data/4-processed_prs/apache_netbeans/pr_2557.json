{"pr_number": 2557, "pr_title": "[NETBEANS-5057] fix for indexing JSF composite components", "pr_createdAt": "2020-11-23T08:35:49Z", "pr_url": "https://github.com/apache/netbeans/pull/2557", "timeline": [{"oid": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984", "url": "https://github.com/apache/netbeans/commit/f3517423d17cc1c945ea6e8ab47eabbe8f19f984", "message": "[NETBEANS-5057] fix for indexing composite components", "committedDate": "2020-11-26T05:39:28Z", "type": "commit"}, {"oid": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984", "url": "https://github.com/apache/netbeans/commit/f3517423d17cc1c945ea6e8ab47eabbe8f19f984", "message": "[NETBEANS-5057] fix for indexing composite components", "committedDate": "2020-11-26T05:39:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ==", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531204781", "bodyText": "This should not be necessary. FileObject#getName would be better called \"getNameWithoutExtension\" and FileObject#getNameExt returns the normal filename. Could you please double check?", "author": "matthiasblaesing", "createdAt": "2020-11-26T19:47:14Z", "path": "enterprise/web.jsf.editor/src/org/netbeans/modules/web/jsf/editor/index/CompositeComponentModel.java", "diffHunk": "@@ -270,7 +270,7 @@ private static FileObject getResourcesDirectory(FileObject file) {\n             if (folder.getName().equalsIgnoreCase(\"resources\")) { //NOI18N\n                 //check if its parent is META-INF\n                 FileObject parent = folder.getParent();\n-                if (parent != null && parent.getNameExt().startsWith(\"META-INF\")) { //NOI18N\n+                if (parent != null && parent.getName().startsWith(\"META-INF\")) { //NOI18N", "originalCommit": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyMzU0OA==", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531223548", "bodyText": "The inclusion of the \"extension\" is irrelevant here I guess, as you're only looking for META-INF at the beginning. That's probably why the original patch, as suggested on stackoverflow, changed from getNameExt() to getName(). Additional benefit is that you also get rid of a string concat by not using getNameExt().\nAs for FileObject itself: do you really want to change such a \"core\" class? This would trigger a lot of changes all over the place, no?", "author": "fcorneli", "createdAt": "2020-11-26T21:04:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyNDI3NA==", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531224274", "bodyText": "No I don't want to change FileObject, that sentence was meant as an explanation. I think FileObject is a broken abstraction, but indeed it so far into the base of netbeans, that it won't be changed. I prefer changes to be minimal. Not needing this change, dropping it is IMHO a good idea.", "author": "matthiasblaesing", "createdAt": "2020-11-26T21:06:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyNjE2OQ==", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531226169", "bodyText": "FileObject indeed looks a bit, how to put it, hairy.", "author": "fcorneli", "createdAt": "2020-11-26T21:15:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ=="}], "type": "inlineReview"}]}