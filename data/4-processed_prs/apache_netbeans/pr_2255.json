{"pr_number": 2255, "pr_title": "Removed java.platform dependency from the Gradle Projects module", "pr_createdAt": "2020-07-14T14:51:53Z", "pr_url": "https://github.com/apache/netbeans/pull/2255", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4NjY0Nw==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454486647", "bodyText": "OK.", "author": "JaroslavTulach", "createdAt": "2020-07-14T16:31:30Z", "path": "extide/gradle/nbproject/project.xml", "diffHunk": "@@ -139,15 +139,6 @@\n                         <specification-version>1.41.1</specification-version>\n                     </run-dependency>\n                 </dependency>\n-                <dependency>", "originalCommit": "bca815cdea451269f602ec1e4456e2114c28cb59", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4NzE3OA==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454487178", "bodyText": "I don't think you want to completely remove the file. You may want to remove just the lines that are no longer present.", "author": "JaroslavTulach", "createdAt": "2020-07-14T16:32:17Z", "path": "extide/gradle/nbproject/org-netbeans-modules-gradle.sig", "diffHunk": "@@ -1,1074 +0,0 @@\n-#Signature file v4.1\n-#Version 2.0\n-", "originalCommit": "bca815cdea451269f602ec1e4456e2114c28cb59", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4ODcyNw==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454488727", "bodyText": "You can keep these two methods around, just @deprecated. Change the return type to Pair - e.g. the raw type. JVM is going to link to these two methods without a problem. See more in my erasure blog post.", "author": "JaroslavTulach", "createdAt": "2020-07-14T16:34:55Z", "path": "extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java", "diffHunk": "@@ -347,41 +337,6 @@ public static ReplaceTokenProvider simpleReplaceTokenProvider(final String token\n         };\n     }\n \n- /**\n-     * Returns the active platform used by the project or null if the active\n-     * project platform is broken.\n-     * @param activePlatformId the name of platform used by Ant script or null\n-     * for default platform.\n-     * @return active {@link JavaPlatform} or null if the project's platform\n-     * is broken\n-     */\n-    public static Pair<String, JavaPlatform> getActivePlatform(final String activePlatformId) {", "originalCommit": "bca815cdea451269f602ec1e4456e2114c28cb59", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ5MDEwMw==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454490103", "bodyText": "I suggest to keep the removed methods around, just deprecated. Then you don't have to increment the release version and you can stick with /2.\nBtw. the methods could even delegate to some provider to work the same way that did so far...", "author": "JaroslavTulach", "createdAt": "2020-07-14T16:37:00Z", "path": "extide/gradle/manifest.mf", "diffHunk": "@@ -1,6 +1,6 @@\n Manifest-Version: 1.0\n AutoUpdate-Show-In-Client: false\n-OpenIDE-Module: org.netbeans.modules.gradle/2", "originalCommit": "bca815cdea451269f602ec1e4456e2114c28cb59", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1NjU2Ng==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454556566", "bodyText": "Thanks! Great idea! I could return a <String, null> pair. That's supposed to be handled as a broken/invalid platform it would be sightly better than responding a straight null.", "author": "lkishalmi", "createdAt": "2020-07-14T18:24:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ5MDEwMw=="}], "type": "inlineReview"}, {"oid": "d5dab0351473b5ea3a67e66376e326defcade4ba", "url": "https://github.com/apache/netbeans/commit/d5dab0351473b5ea3a67e66376e326defcade4ba", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T05:58:18Z", "type": "forcePushed"}, {"oid": "2bbc51586e8ea94c36c835455db256076ae5ed5b", "url": "https://github.com/apache/netbeans/commit/2bbc51586e8ea94c36c835455db256076ae5ed5b", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T06:03:54Z", "type": "forcePushed"}, {"oid": "a2149a2969f0970d2ff9bc947e147e75c298a410", "url": "https://github.com/apache/netbeans/commit/a2149a2969f0970d2ff9bc947e147e75c298a410", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T06:07:00Z", "type": "forcePushed"}, {"oid": "0d779e1c763682e59038593db17661b2c0c34f90", "url": "https://github.com/apache/netbeans/commit/0d779e1c763682e59038593db17661b2c0c34f90", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T21:35:33Z", "type": "commit"}, {"oid": "0d779e1c763682e59038593db17661b2c0c34f90", "url": "https://github.com/apache/netbeans/commit/0d779e1c763682e59038593db17661b2c0c34f90", "message": "Removed java.platform dependency from the Gradle Projects module", "committedDate": "2020-07-15T21:35:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTU3Ng==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r455509576", "bodyText": "Great.", "author": "JaroslavTulach", "createdAt": "2020-07-16T04:55:15Z", "path": "extide/gradle/nbproject/org-netbeans-modules-gradle.sig", "diffHunk": "@@ -480,8 +480,8 @@ meth public static org.netbeans.modules.gradle.spi.actions.ReplaceTokenProvider\n meth public static org.openide.execution.ExecutorTask executeGradle(org.netbeans.modules.gradle.api.execute.RunConfig,java.lang.String)\n meth public static org.openide.filesystems.FileObject extractFileObjectfromLookup(org.openide.util.Lookup)\n meth public static org.openide.filesystems.FileObject[] extractFileObjectsfromLookup(org.openide.util.Lookup)\n-meth public static org.openide.util.Pair<java.lang.String,org.netbeans.api.java.platform.JavaPlatform> getActivePlatform(java.lang.String)\n-meth public static org.openide.util.Pair<java.lang.String,org.netbeans.api.java.platform.JavaPlatform> getActivePlatform(org.netbeans.api.project.Project)\n+meth public static org.openide.util.Pair getActivePlatform(java.lang.String)", "originalCommit": "0d779e1c763682e59038593db17661b2c0c34f90", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTc5Nw==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r455509797", "bodyText": "Btw. it is possible to use <a href=\"@TOP@/org/netbeans/modules/gradle/api/execute/RunUtills.html\">RunUtils</a> to connect to the Javadoc generated classes.", "author": "JaroslavTulach", "createdAt": "2020-07-16T04:56:08Z", "path": "extide/gradle/apichanges.xml", "diffHunk": "@@ -83,6 +83,34 @@ is the proper place.\n     <!-- ACTUAL CHANGES BEGIN HERE: -->\n \n     <changes>\n+        <change id=\"gradle-java-independence\">\n+            <api name=\"general\"/>\n+            <summary>Remove Java Platform dependency.</summary>\n+            <version major=\"2\" minor=\"3\"/>\n+            <date year=\"2020\" month=\"7\" day=\"15\"/>\n+            <author login=\"lkishalmi\"/>\n+            <compatibility binary=\"compatible\" source=\"compatible\"/>\n+            <description>\n+                <p>\n+                    Due to recent movement and the plan to support Gradle native\n+                    projects as well in the future the dependency on\n+                    Java Platform module has been removed.\n+                </p>\n+                <p>\n+                    The removal affects <code>org.netbeans.modules.gradle.api.execute.RunUtils</code>", "originalCommit": "0d779e1c763682e59038593db17661b2c0c34f90", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUxMTg2OQ==", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r455511869", "bodyText": "Thanks! I'm going to try to keep that in mind.", "author": "lkishalmi", "createdAt": "2020-07-16T05:04:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTc5Nw=="}], "type": "inlineReview"}]}