{"pr_number": 2001, "pr_title": "Get a file of all libraries during download", "pr_createdAt": "2020-03-06T00:39:10Z", "pr_url": "https://github.com/apache/netbeans/pull/2001", "timeline": [{"oid": "bfc5121271564b970ec4016daa57b440f7d30360", "url": "https://github.com/apache/netbeans/commit/bfc5121271564b970ec4016daa57b440f7d30360", "message": "Get a file of all libraries during download", "committedDate": "2020-03-06T00:36:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyNjEzMg==", "url": "https://github.com/apache/netbeans/pull/2001#discussion_r389026132", "bodyText": "Please use the getBytes(Charset) variant. Depending on the default file encoding can lead to bugs.", "author": "matthiasblaesing", "createdAt": "2020-03-06T17:01:15Z", "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "diffHunk": "@@ -161,6 +169,13 @@ public void execute() throws BuildException {\n                             } else {\n                                 success &= fillInFile(hashAndFile[0], hashAndFile[1], manifest, () -> legacyDownload(hashAndFile[0] + \"-\" + hashAndFile[1]));\n                             }\n+                            if (report != null) {\n+                                Files.write(\n+                                        report.toPath(),\n+                                        (hashAndFile[0] + \";\" + hashAndFile[1] + \";\" + include + \"\\n\").getBytes(),", "originalCommit": "bfc5121271564b970ec4016daa57b440f7d30360", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyNzAzMQ==", "url": "https://github.com/apache/netbeans/pull/2001#discussion_r389027031", "bodyText": "The append looks strange here (you have a delete / touch before this). Why not just use StandardOpenOption.CREATE?", "author": "matthiasblaesing", "createdAt": "2020-03-06T17:03:02Z", "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "diffHunk": "@@ -161,6 +169,13 @@ public void execute() throws BuildException {\n                             } else {\n                                 success &= fillInFile(hashAndFile[0], hashAndFile[1], manifest, () -> legacyDownload(hashAndFile[0] + \"-\" + hashAndFile[1]));\n                             }\n+                            if (report != null) {\n+                                Files.write(\n+                                        report.toPath(),\n+                                        (hashAndFile[0] + \";\" + hashAndFile[1] + \";\" + include + \"\\n\").getBytes(),\n+                                        StandardOpenOption.APPEND);", "originalCommit": "bfc5121271564b970ec4016daa57b440f7d30360", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA1Nzc2Ng==", "url": "https://github.com/apache/netbeans/pull/2001#discussion_r389057766", "bodyText": "This would lead to having only last binary in the file.", "author": "ebarboni", "createdAt": "2020-03-06T18:03:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyNzAzMQ=="}], "type": "inlineReview"}, {"oid": "146d69c89b5d2e4b4c45792895ab0e9e67f52e96", "url": "https://github.com/apache/netbeans/commit/146d69c89b5d2e4b4c45792895ab0e9e67f52e96", "message": "put file creation into ant task and use UTF-8", "committedDate": "2020-03-06T18:02:36Z", "type": "commit"}]}