{"pr_number": 2000, "pr_title": "Adding full support for Wildfly 17, 18", "pr_createdAt": "2020-03-05T18:02:12Z", "pr_url": "https://github.com/apache/netbeans/pull/2000", "timeline": [{"oid": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "url": "https://github.com/apache/netbeans/commit/e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-06T17:40:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NTc2Nw==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390655767", "bodyText": "I think LGPL is category X for Apache. Can you confirm the license?", "author": "emilianbold", "createdAt": "2020-03-10T22:49:40Z", "path": "contrib/javaee.wildfly/licenseinfo.xml", "diffHunk": "@@ -47,4 +52,26 @@\n         <license ref=\"W3C2\" />\n         <comment type=\"CATEGORY_B\" />\n     </fileset>\n+    <fileset>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-app_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-service_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_7_3.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/datasources_1_4.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-common_6_0.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-as-messaging-deployment_1_0.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/wildfly-messaging-activemq-deployment_1_0.xsd</file>\n+        <license ref=\"LGPL-2.1\" />", "originalCommit": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg0NTUyNA==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390845524", "bodyText": "Yes\nI can update some (like wildfly-messaging-activemq-deployment_1_0.xsd can be moved to ASL 2.0) I can also remove some of them but then we would loose support for old JBoss / WildFly versions", "author": "ehsavoie", "createdAt": "2020-03-11T09:36:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NTc2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkwNjE0Nw==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390906147", "bodyText": "It would be useful to comment out the LGPL stuff and replace what you can replace with a better license (like Apache 2.0).", "author": "emilianbold", "createdAt": "2020-03-11T11:27:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NTc2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3MTc1OQ==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r393871759", "bodyText": "I'm almost done :)", "author": "ehsavoie", "createdAt": "2020-03-17T18:04:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NTc2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NjAyNw==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390656027", "bodyText": "Are these comments something we could enable in the future?", "author": "emilianbold", "createdAt": "2020-03-10T22:50:27Z", "path": "contrib/javaee.wildfly/src/org/netbeans/modules/javaee/wildfly/config/gen/package-info.java", "diffHunk": "@@ -58,8 +58,38 @@\n         docRoot=\"jboss-app\",\n         java5=true\n     ),\n+//    @Schema2Beans(\n+//        schema=\"../../resources/jboss-ejb3-2_1.xsd\",\n+//        schemaType=SchemaType.XML_SCHEMA,\n+//        outputType=OutputType.TRADITIONAL_BASEBEAN,\n+//        validate=true,\n+//        attrProp=true,\n+//        removeUnreferencedNodes=true,\n+//        docRoot=\"enterprise-beans\",\n+//        java5=true", "originalCommit": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgzNjI0MQ==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390836241", "bodyText": "I don't think those are required at all. i should remove them", "author": "ehsavoie", "createdAt": "2020-03-11T09:20:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NjAyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NzA0Mg==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390657042", "bodyText": "Again LGPL, Apache can't use it. No other variant?", "author": "emilianbold", "createdAt": "2020-03-10T22:53:20Z", "path": "contrib/javaee.wildfly/src/org/netbeans/modules/javaee/wildfly/resources/jboss-as-messaging-deployment_1_0.xsd", "diffHunk": "@@ -0,0 +1,122 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  ~ JBoss, Home of Professional Open Source.\n+  ~ Copyright 2011, Red Hat, Inc., and individual contributors\n+  ~ as indicated by the @author tags. See the copyright.txt file in the\n+  ~ distribution for a full listing of individual contributors.\n+  ~\n+  ~ This is free software; you can redistribute it and/or modify it\n+  ~ under the terms of the GNU Lesser General Public License as", "originalCommit": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY1NzIxNg==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390657216", "bodyText": "LGPL", "author": "emilianbold", "createdAt": "2020-03-10T22:53:48Z", "path": "contrib/javaee.wildfly/src/org/netbeans/modules/javaee/wildfly/resources/jboss-common_6_0.xsd", "diffHunk": "@@ -0,0 +1,572 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<xsd:schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+            targetNamespace=\"http://www.jboss.com/xml/ns/javaee\"\n+            xmlns:javaee=\"http://java.sun.com/xml/ns/javaee\"\n+            xmlns:jboss=\"http://www.jboss.com/xml/ns/javaee\"\n+            xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+            elementFormDefault=\"qualified\"\n+            attributeFormDefault=\"unqualified\"\n+            version=\"6.0\">\n+\n+   <xsd:annotation>\n+      <xsd:documentation> JBoss, Home of Professional Open Source Copyright 2005, JBoss Inc., and\n+         individual contributors as indicated by the @authors tag. See the copyright.txt in the\n+         distribution for a full listing of individual contributors. This is free software; you can\n+         redistribute it and/or modify it under the terms of the GNU Lesser General Public License as", "originalCommit": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMjM2Ng==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390632366", "bodyText": "LGPL-v2.1 is not CATEGORY_B - it is CATEGORY_X. If I remember correctly the DTDs and XSDs are the whole reason, that we can't release the plugin under the ASF umbrella. Which is the reason, that the plugin was moved to the contrib folder.", "author": "matthiasblaesing", "createdAt": "2020-03-10T21:50:49Z", "path": "contrib/javaee.wildfly/licenseinfo.xml", "diffHunk": "@@ -47,4 +52,26 @@\n         <license ref=\"W3C2\" />\n         <comment type=\"CATEGORY_B\" />\n     </fileset>\n+    <fileset>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-app_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-service_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_7_3.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/datasources_1_4.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-common_6_0.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-as-messaging-deployment_1_0.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/wildfly-messaging-activemq-deployment_1_0.xsd</file>\n+        <license ref=\"LGPL-2.1\" />\n+        <comment type=\"CATEGORY_B\" />", "originalCommit": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMjgzMQ==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r390632831", "bodyText": "That is not correct:\na) XSD support license header\nb) Are these XSDs really donated to the ASF? If so, who donates them?", "author": "matthiasblaesing", "createdAt": "2020-03-10T21:51:53Z", "path": "contrib/javaee.wildfly/licenseinfo.xml", "diffHunk": "@@ -47,4 +52,26 @@\n         <license ref=\"W3C2\" />\n         <comment type=\"CATEGORY_B\" />\n     </fileset>\n+    <fileset>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-app_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-service_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_7_3.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_4_0.dtd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/datasources_1_4.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-common_6_0.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-as-messaging-deployment_1_0.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/wildfly-messaging-activemq-deployment_1_0.xsd</file>\n+        <license ref=\"LGPL-2.1\" />\n+        <comment type=\"CATEGORY_B\" />\n+    </fileset>\n+    <fileset>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_14_1.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-app_8_1.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-common_8_1.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-ejb3-2_1.xsd</file>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/jboss-web_14_1.xsd</file>\n+        <license ref=\"Apache-2.0-ASF\" />\n+        <comment type=\"COMMENT_UNSUPPORTED\" />", "originalCommit": "e77eaaa477c3d4f1ac1ad47e1656650fe27b3e69", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA3ODI4Mw==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r392078283", "bodyText": "No they are not donated to ASF but are under ASL 2.0 license they can be incorporated and also because of this license not donation is required right ?", "author": "ehsavoie", "createdAt": "2020-03-13T08:02:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMjgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA5MDc1NQ==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r392090755", "bodyText": "I think ref=\"Apache-2.0-ASF\" means owned by Apache Software Foundation.\nI guess you can use ref=\"Apache-2.0\" for stuff under Apache 2.0 owned by somebody else.", "author": "emilianbold", "createdAt": "2020-03-13T08:35:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMjgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NzQ2Mg==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r392367462", "bodyText": "The \"ref\" points to the license in the nbbuild/licenses folder. For each license there can the full text be found. In this case \"Apache-2.0-ASF\" starts with \"Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.\" That statement would be wrong for foreign code, so the correct variant is \"Apache-2.0\".", "author": "matthiasblaesing", "createdAt": "2020-03-13T17:22:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMjgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3MTk5Nw==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r393871997", "bodyText": "ok, fixed", "author": "ehsavoie", "createdAt": "2020-03-17T18:05:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMjgzMQ=="}], "type": "inlineReview"}, {"oid": "f9053ba42e591cd759886455984297add3406468", "url": "https://github.com/apache/netbeans/commit/f9053ba42e591cd759886455984297add3406468", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-17T18:03:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg2Nzg1Mg==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r395867852", "bodyText": "LGPL-2.1 is Category-X, i.e. we can't use/redistribute it. https://www.apache.org/legal/resolved.html#category-x", "author": "matthiasblaesing", "createdAt": "2020-03-20T20:12:23Z", "path": "contrib/javaee.wildfly/licenseinfo.xml", "diffHunk": "@@ -47,4 +44,23 @@\n         <license ref=\"W3C2\" />\n         <comment type=\"CATEGORY_B\" />\n     </fileset>\n+    <fileset>\n+        <file>src/org/netbeans/modules/javaee/wildfly/resources/datasources_1_4.xsd</file>\n+        <license ref=\"LGPL-2.1\" />", "originalCommit": "f9053ba42e591cd759886455984297add3406468", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjExMjg1Mw==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r396112853", "bodyText": "this is a mistake it should be 1.4.1 which is EL1.0", "author": "ehsavoie", "createdAt": "2020-03-22T16:26:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg2Nzg1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg2OTE5Ng==", "url": "https://github.com/apache/netbeans/pull/2000#discussion_r395869196", "bodyText": "Please keep the license information - it makes it easier to reason about the code and if I remember correctly, we have multiple copies of the xml.xsd and they all should have the header.", "author": "matthiasblaesing", "createdAt": "2020-03-20T20:15:33Z", "path": "contrib/javaee.wildfly/src/org/netbeans/modules/javaee/wildfly/resources/xml.xsd", "diffHunk": "@@ -1,111 +1,107 @@\n <?xml version='1.0'?>\n-<!--", "originalCommit": "f9053ba42e591cd759886455984297add3406468", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8891a82fbfa4cca5d7e835b8fbec507b33892145", "url": "https://github.com/apache/netbeans/commit/8891a82fbfa4cca5d7e835b8fbec507b33892145", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-20T13:12:06Z", "type": "forcePushed"}, {"oid": "7475f4e34f4dc7853f60d04847bb0d0d3a8d4865", "url": "https://github.com/apache/netbeans/commit/7475f4e34f4dc7853f60d04847bb0d0d3a8d4865", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-22T16:44:56Z", "type": "forcePushed"}, {"oid": "15cc944ed2ec4002f582ce9ae1f9b8840188c4ff", "url": "https://github.com/apache/netbeans/commit/15cc944ed2ec4002f582ce9ae1f9b8840188c4ff", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-23T16:01:57Z", "type": "forcePushed"}, {"oid": "9047d265585271038933c9dace3359293b73048e", "url": "https://github.com/apache/netbeans/commit/9047d265585271038933c9dace3359293b73048e", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-24T08:10:27Z", "type": "commit"}, {"oid": "9047d265585271038933c9dace3359293b73048e", "url": "https://github.com/apache/netbeans/commit/9047d265585271038933c9dace3359293b73048e", "message": "Adding full support for Wildfly 17, 18\nFixing issue with missing JavaEE 8 web profile\nRemoving external downloads and updating schemas\nUpdating licenseinfo.xml", "committedDate": "2020-03-24T08:10:27Z", "type": "forcePushed"}]}