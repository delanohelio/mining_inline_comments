{"pr_number": 2122, "pr_title": "[NETBEANS-3413] Implicit inheritance of PHPDoc descriptions", "pr_createdAt": "2020-05-02T08:08:06Z", "pr_url": "https://github.com/apache/netbeans/pull/2122", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk3OTY4Mw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r418979683", "bodyText": "Should use Collections.emptyList() instead of new ArrayList<>()", "author": "junichi11", "createdAt": "2020-05-02T16:41:40Z", "path": "php/php.editor/src/org/netbeans/modules/php/editor/completion/DocRenderer.java", "diffHunk": "@@ -391,10 +388,11 @@ private void extractPHPDocBlock() {\n             List<PhpElement> inheritedElements = getInheritedElements();\n             List<PHPDocBlock> inheritedComments = getInheritedComments(inheritedElements);\n \n-            String description = phpDocBlock.getDescription();\n+            String description = phpDocBlock == null ? null : phpDocBlock.getDescription();\n             description = composeDescription(description, inheritedComments);\n \n-            for (PHPDocTag tag : phpDocBlock.getTags()) {\n+            List<PHPDocTag> tags = phpDocBlock == null ? new ArrayList<>() : phpDocBlock.getTags();", "originalCommit": "7bb580d7201a1a74432f668e28fed33e5b8aee36", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk4MzUxMA==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r418983510", "bodyText": "Changed, thank you.", "author": "KacerCZ", "createdAt": "2020-05-02T17:15:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk3OTY4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk3OTgyMw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r418979823", "bodyText": "Please remove whitespace before )", "author": "junichi11", "createdAt": "2020-05-02T16:43:01Z", "path": "php/php.editor/src/org/netbeans/modules/php/editor/completion/DocRenderer.java", "diffHunk": "@@ -575,6 +573,9 @@ private String composeDescription(String description, List<PHPDocBlock> comments\n         }\n \n         private String replaceInheritdocForDescription(String description, String parentDescription) {\n+            if (description == null ) {", "originalCommit": "7bb580d7201a1a74432f668e28fed33e5b8aee36", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk4MzM1OA==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r418983358", "bodyText": "Fixed.", "author": "KacerCZ", "createdAt": "2020-05-02T17:14:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk3OTgyMw=="}], "type": "inlineReview"}, {"oid": "cefa138b237cea1daea709747532cb91945b62c5", "url": "https://github.com/apache/netbeans/commit/cefa138b237cea1daea709747532cb91945b62c5", "message": "[NETBEANS-3413] Implicit inheritance of PHPDoc descriptions\n\nUses description of inherited element when no PHPDoc is present.", "committedDate": "2020-05-02T17:06:22Z", "type": "forcePushed"}, {"oid": "01ca3c191082143c47c1004046fbb12603665b6a", "url": "https://github.com/apache/netbeans/commit/01ca3c191082143c47c1004046fbb12603665b6a", "message": "[NETBEANS-3413] Implicit inheritance of PHPDoc descriptions\n\nUses description of inherited element when no PHPDoc is present.", "committedDate": "2020-05-02T17:54:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTY5Mw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419125693", "bodyText": "Missing @NullAllowed for phpDocBlock param, right?", "author": "tmysik", "createdAt": "2020-05-03T16:19:51Z", "path": "php/php.editor/src/org/netbeans/modules/php/editor/completion/DocRenderer.java", "diffHunk": "@@ -242,6 +243,7 @@ private static String getLocation(PhpElement indexedElement) {\n         private final PhpElement indexedElement;\n         private final List<String> links = new ArrayList<>();\n         private final ASTNode node;\n+        @NullAllowed\n         private PHPDocBlock phpDocBlock;\n \n         public PHPDocExtractor(CCDocHtmlFormatter header, PhpElement indexedElement, ASTNode node, PHPDocBlock phpDocBlock) {", "originalCommit": "01ca3c191082143c47c1004046fbb12603665b6a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNjY2Mw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419126663", "bodyText": "Now I see that @junichi11 already requested this change, sorry.", "author": "tmysik", "createdAt": "2020-05-03T16:27:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTY5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIxNzc2Ng==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419217766", "bodyText": "Yes, @tmysik is right.", "author": "junichi11", "createdAt": "2020-05-04T05:21:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTY5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ3NzI2NQ==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r421477265", "bodyText": "@KacerCZ\nMissing @NullAllowed yet:\npublic PHPDocExtractor(CCDocHtmlFormatter header, PhpElement indexedElement, ASTNode node, @NullAllowed PHPDocBlock phpDocBlock) {", "author": "junichi11", "createdAt": "2020-05-07T12:49:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTY5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5NzE2MA==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r421497160", "bodyText": "Fixed.", "author": "KacerCZ", "createdAt": "2020-05-07T13:19:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTY5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMDU2Nw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r421500567", "bodyText": "Thanks!", "author": "junichi11", "createdAt": "2020-05-07T13:24:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTY5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTc5NQ==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419125795", "bodyText": "Missing @NullAllowed for description param.", "author": "tmysik", "createdAt": "2020-05-03T16:20:37Z", "path": "php/php.editor/src/org/netbeans/modules/php/editor/completion/DocRenderer.java", "diffHunk": "@@ -575,6 +575,9 @@ private String composeDescription(String description, List<PHPDocBlock> comments\n         }\n \n         private String replaceInheritdocForDescription(String description, String parentDescription) {", "originalCommit": "01ca3c191082143c47c1004046fbb12603665b6a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTg3Mg==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419125872", "bodyText": "OT: And for parentDescription as well, could you please add it? Thanks.", "author": "tmysik", "createdAt": "2020-05-03T16:21:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTc5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNjAwNw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419126007", "bodyText": "OT: Also, the whole method should be annotated by @CheckForNull (IIRC) since it can return null if I understand it correctly. Thanks.", "author": "tmysik", "createdAt": "2020-05-03T16:22:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTc5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNjUwMw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419126503", "bodyText": "Resolving because of no change of this line in this MR (but still, would be nice to have it done).", "author": "tmysik", "createdAt": "2020-05-03T16:26:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNTc5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNjE3OA==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419126178", "bodyText": "OT: Again, missing annotations for null values.", "author": "tmysik", "createdAt": "2020-05-03T16:23:55Z", "path": "php/php.editor/src/org/netbeans/modules/php/editor/completion/DocRenderer.java", "diffHunk": "@@ -768,6 +771,9 @@ private boolean isOnlyInheritdoc(PHPDocBlock phpDocBlock) {\n         }\n \n         static String replaceInlineInheritdoc(String description, String inheritdoc) {", "originalCommit": "01ca3c191082143c47c1004046fbb12603665b6a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNjU4Nw==", "url": "https://github.com/apache/netbeans/pull/2122#discussion_r419126587", "bodyText": "Resolving because of no change of this line in this MR (but still, would be nice to have it done).", "author": "tmysik", "createdAt": "2020-05-03T16:26:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEyNjE3OA=="}], "type": "inlineReview"}, {"oid": "8d83ce127dd05a0d532fb837527619e9cf36202d", "url": "https://github.com/apache/netbeans/commit/8d83ce127dd05a0d532fb837527619e9cf36202d", "message": "[NETBEANS-3413] Implicit inheritance of PHPDoc descriptions\n\nUses description of inherited element when no PHPDoc is present.", "committedDate": "2020-05-04T09:13:42Z", "type": "forcePushed"}, {"oid": "c78cd553fcd8246154aa8b738feaf83f7b9a6649", "url": "https://github.com/apache/netbeans/commit/c78cd553fcd8246154aa8b738feaf83f7b9a6649", "message": "[NETBEANS-3413] Implicit inheritance of PHPDoc descriptions\n\nUses description of inherited element when no PHPDoc is present.", "committedDate": "2020-05-07T13:18:57Z", "type": "commit"}, {"oid": "c78cd553fcd8246154aa8b738feaf83f7b9a6649", "url": "https://github.com/apache/netbeans/commit/c78cd553fcd8246154aa8b738feaf83f7b9a6649", "message": "[NETBEANS-3413] Implicit inheritance of PHPDoc descriptions\n\nUses description of inherited element when no PHPDoc is present.", "committedDate": "2020-05-07T13:18:57Z", "type": "forcePushed"}]}