{"pr_number": 679, "pr_title": "Release the datastream task lock after shutdown is complete and not during stop()", "pr_createdAt": "2020-02-04T19:45:52Z", "pr_url": "https://github.com/linkedin/brooklin/pull/679", "timeline": [{"oid": "561cd473f91a3deffda36c04c737ecabb19e682b", "url": "https://github.com/linkedin/brooklin/commit/561cd473f91a3deffda36c04c737ecabb19e682b", "message": "Partition-managed BMM: The datastream task lock should be released after shutdown is complete and not during stop()", "committedDate": "2020-02-04T19:42:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg5MzQ0NQ==", "url": "https://github.com/linkedin/brooklin/pull/679#discussion_r374893445", "bodyText": "Thinking out loud: should we just call it postShutdown()?", "author": "ahmedahamid", "createdAt": "2020-02-04T20:03:38Z", "path": "datastream-kafka-connector/src/main/java/com/linkedin/datastream/connectors/kafka/AbstractKafkaBasedConnectorTask.java", "diffHunk": "@@ -206,6 +206,11 @@ protected KafkaBasedConnectorTaskMetrics createKafkaBasedConnectorTaskMetrics(St\n   protected abstract DatastreamProducerRecord translate(ConsumerRecord<?, ?> fromKafka, Instant readTime)\n       throws Exception;\n \n+  /**\n+   * Post shutdown hook to be called for any operations that need to be performed before exiting the task.\n+   */\n+  protected void postShutdownHook() { }", "originalCommit": "561cd473f91a3deffda36c04c737ecabb19e682b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}