{"pr_number": 768, "pr_title": "Add a configurable feature to include the datastream name in the consumer client.id for BMM", "pr_createdAt": "2020-10-16T22:29:50Z", "pr_url": "https://github.com/linkedin/brooklin/pull/768", "timeline": [{"oid": "422e25dc3487ac8fdc98da5d2a99636a4ca4bd8c", "url": "https://github.com/linkedin/brooklin/commit/422e25dc3487ac8fdc98da5d2a99636a4ca4bd8c", "message": "Add a configurable feature to include the datastream name in the consumer client.id for BMM", "committedDate": "2020-10-16T22:25:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc1ODUxNw==", "url": "https://github.com/linkedin/brooklin/pull/768#discussion_r506758517", "bodyText": "Do we need to make this a configurable? Why not add it without the config?", "author": "vishwajith-s", "createdAt": "2020-10-16T23:14:00Z", "path": "datastream-kafka-connector/src/main/java/com/linkedin/datastream/connectors/kafka/KafkaBasedConnectorConfig.java", "diffHunk": "@@ -32,6 +32,7 @@\n   public static final String CONFIG_PAUSE_PARTITION_ON_ERROR = \"pausePartitionOnError\";\n   public static final String CONFIG_PAUSE_ERROR_PARTITION_DURATION_MILLIS = \"pauseErrorPartitionDurationMs\";\n   public static final String ENABLE_ADDITIONAL_METRICS = \"enableAdditionalMetrics\";\n+  public static final String INCLUDE_DATASTREAM_NAME_IN_CONSUMER_CLIENT_ID = \"includeDatastreamNameInConsumerClientId\";", "originalCommit": "422e25dc3487ac8fdc98da5d2a99636a4ca4bd8c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc2MDA1OA==", "url": "https://github.com/linkedin/brooklin/pull/768#discussion_r506760058", "bodyText": "Want to make this configurable for two reasons:\n\nKafka quotas are currently enforced based on client.id. Kafka is in the process of migrating away from this model, but I don't want to break the client.ids until we are sure that the migration is complete and successful. So was thinking we can enable this on a per cluster basis.\nI don't expect us to hit metrics limitations in BMM, but want to make sure we have a knob to turn this off in case we start having problems with metrics.\n\nOnce we roll this out everywhere and all looks good, I can create a new PR to remove the config. How does that sound?", "author": "somandal", "createdAt": "2020-10-16T23:21:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc1ODUxNw=="}], "type": "inlineReview"}]}