{"pr_number": 3822, "pr_title": "Add segment v2 footer meta viewer", "pr_createdAt": "2020-06-10T12:18:08Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3822", "timeline": [{"oid": "19de3d6323317d2b52363fa785c9235747ba823d", "url": "https://github.com/apache/incubator-doris/commit/19de3d6323317d2b52363fa785c9235747ba823d", "message": "Add segment v2 footer meta viewer", "committedDate": "2020-06-10T11:50:08Z", "type": "commit"}, {"oid": "dd438ba0d310bed9a29526319013dbd1b25b6335", "url": "https://github.com/apache/incubator-doris/commit/dd438ba0d310bed9a29526319013dbd1b25b6335", "message": "Add segment v2 footer meta viewer", "committedDate": "2020-06-10T11:54:48Z", "type": "commit"}, {"oid": "ef6565974b2507c8f526a4be7db768061793f07d", "url": "https://github.com/apache/incubator-doris/commit/ef6565974b2507c8f526a4be7db768061793f07d", "message": "Add segment v2 footer meta viewer", "committedDate": "2020-06-10T11:55:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIzNzY0Ng==", "url": "https://github.com/apache/incubator-doris/pull/3822#discussion_r438237646", "bodyText": "place the include file in alphabetical order.", "author": "chaoyli", "createdAt": "2020-06-10T16:02:32Z", "path": "be/src/tools/meta_tool.cpp", "diffHunk": "@@ -34,6 +34,13 @@\n #include \"json2pb/pb_to_json.h\"\n #include \"gutil/strings/split.h\"\n #include \"gutil/strings/numbers.h\"\n+#include \"gutil/strings/substitute.h\"\n+#include \"util/coding.h\"\n+#include \"util/crc32c.h\"\n+#include \"olap/rowset/segment_v2/column_reader.h\"\n+#include \"olap/rowset/segment_v2/binary_plain_page.h\"\n+#include \"gen_cpp/segment_v2.pb.h\"\n+#include \"env/env.h\" ", "originalCommit": "ef6565974b2507c8f526a4be7db768061793f07d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU3MzIxNg==", "url": "https://github.com/apache/incubator-doris/pull/3822#discussion_r440573216", "bodyText": "@chaoyli please review again", "author": "yangzhg", "createdAt": "2020-06-16T04:02:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIzNzY0Ng=="}], "type": "inlineReview"}, {"oid": "6854027696401e0c51ab5985bfc85cd0a9fd7b6b", "url": "https://github.com/apache/incubator-doris/commit/6854027696401e0c51ab5985bfc85cd0a9fd7b6b", "message": "add docs", "committedDate": "2020-06-11T02:08:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5NjUxNA==", "url": "https://github.com/apache/incubator-doris/pull/3822#discussion_r440596514", "bodyText": "Would better show the command result by a simple example. Because most of people don't know what's SegmentFooterPB.", "author": "kangkaisen", "createdAt": "2020-06-16T05:36:01Z", "path": "docs/zh-CN/administrator-guide/operation/tablet-meta-tool.md", "diffHunk": "@@ -136,4 +136,13 @@ api\uff1a\n ./lib/meta_tool --operation=show_meta --root_path=/path/to/root_path --pb_header_path=path\n ```\n \n+### \u5c55\u793a pb \u683c\u5f0f\u7684 Segment Footer\n+\n+\u8fd9\u4e2a\u547d\u4ee4\u662f\u4e3a\u4e86\u67e5\u770bSegmentV2 \u7684SegmentFooterPB\u4fe1\u606f\uff0c\u4ee5json \u5f62\u5f0f\u5c55\u793a\u51fa\u6765", "originalCommit": "6854027696401e0c51ab5985bfc85cd0a9fd7b6b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cae1c35423729a38c68d41581f81b426aada4f41", "url": "https://github.com/apache/incubator-doris/commit/cae1c35423729a38c68d41581f81b426aada4f41", "message": "xxx", "committedDate": "2020-06-16T06:24:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTk4MzAzMg==", "url": "https://github.com/apache/incubator-doris/pull/3822#discussion_r441983032", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ./lib/meta_tool --operation=how_meta --root_path=/path/to/root_path --pb_header_path=path\n          \n          \n            \n            ./lib/meta_tool --operation=show_meta --root_path=/path/to/root_path --pb_header_path=path", "author": "morningman", "createdAt": "2020-06-18T05:52:05Z", "path": "docs/en/administrator-guide/operation/tablet-meta-tool.md", "diffHunk": "@@ -130,8 +130,18 @@ Batch delete will skip the line with incorrect tablet information format in `tab\n \n This command is to view the old file-based management PB format Tablet Meta, and to display Tablet Meta in JSON format.\n \n-Order:\n+Command:\n \n ```\n-./lib/meta_tool --operation=show_meta --root_path=/path/to/root_path --pb_header_path=path\n+./lib/meta_tool --operation=how_meta --root_path=/path/to/root_path --pb_header_path=path", "originalCommit": "cae1c35423729a38c68d41581f81b426aada4f41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bd98a8a23f8ed2ec9a0696dda4cab0b91e061701", "url": "https://github.com/apache/incubator-doris/commit/bd98a8a23f8ed2ec9a0696dda4cab0b91e061701", "message": "Update docs/en/administrator-guide/operation/tablet-meta-tool.md\n\nCo-authored-by: Mingyu Chen <morningman.cmy@gmail.com>", "committedDate": "2020-06-18T06:41:49Z", "type": "commit"}]}