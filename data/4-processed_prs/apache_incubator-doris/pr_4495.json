{"pr_number": 4495, "pr_title": "[Bug] function str_to_date()'s behavior on BE and FE is inconsistent", "pr_createdAt": "2020-09-01T06:42:02Z", "pr_url": "https://github.com/apache/incubator-doris/pull/4495", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkwNTE2OA==", "url": "https://github.com/apache/incubator-doris/pull/4495#discussion_r480905168", "bodyText": "Move these util methods to a single util class?", "author": "kangkaisen", "createdAt": "2020-09-01T07:12:55Z", "path": "fe/fe-core/src/main/java/org/apache/doris/analysis/DateLiteral.java", "diffHunk": "@@ -632,4 +669,435 @@ public long getSecond() {\n     public int hashCode() {\n         return 31 * super.hashCode() + Objects.hashCode(unixTimestamp(TimeZone.getDefault()));\n     }\n+\n+    // parset the date string value in 'value' by 'format' pattern.\n+    // return the next position to parse if hasSubVal is true.\n+    // throw InvalidFormatException if encounter errors.\n+    // this method is exaclty same as from_date_format_str() in be/src/runtime/datetime_value.cpp\n+    // change this method should also change that.\n+    public int fromDateFormatStr(String format, String value, boolean hasSubVal) throws InvalidFormatException {", "originalCommit": "f08da9836d61aa034df6ea17bddb30a6907245bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc0NzM4NA==", "url": "https://github.com/apache/incubator-doris/pull/4495#discussion_r481747384", "bodyText": "It is now only used for DateLiteral, and this method is also in datetime_value.cpp in BE.\nSo I think we can just leave it here.", "author": "morningman", "createdAt": "2020-09-02T05:53:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkwNTE2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg2ODkzMA==", "url": "https://github.com/apache/incubator-doris/pull/4495#discussion_r481868930", "bodyText": "Ok. I think the Literal class should be simple. But which isn't a big issue.", "author": "kangkaisen", "createdAt": "2020-09-02T08:12:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkwNTE2OA=="}], "type": "inlineReview"}, {"oid": "ac28b2e996539c486ca860fe7d0919871107207a", "url": "https://github.com/apache/incubator-doris/commit/ac28b2e996539c486ca860fe7d0919871107207a", "message": "first", "committedDate": "2020-09-01T09:12:35Z", "type": "commit"}, {"oid": "af10a535acdc2d14c4564e7972ecbc980d777eab", "url": "https://github.com/apache/incubator-doris/commit/af10a535acdc2d14c4564e7972ecbc980d777eab", "message": "rewrite fe", "committedDate": "2020-09-01T09:12:35Z", "type": "commit"}, {"oid": "b7c8f29b11a391e85966328fc1a6a2f109547922", "url": "https://github.com/apache/incubator-doris/commit/b7c8f29b11a391e85966328fc1a6a2f109547922", "message": "second", "committedDate": "2020-09-01T09:12:35Z", "type": "commit"}, {"oid": "a9ff1a7da412320332af677fa7b5129379ac49f5", "url": "https://github.com/apache/incubator-doris/commit/a9ff1a7da412320332af677fa7b5129379ac49f5", "message": "third", "committedDate": "2020-09-01T09:12:35Z", "type": "commit"}, {"oid": "e8a5db6321a55e23dbd7f3102aa6d78e4b53153b", "url": "https://github.com/apache/incubator-doris/commit/e8a5db6321a55e23dbd7f3102aa6d78e4b53153b", "message": "four", "committedDate": "2020-09-01T09:12:35Z", "type": "commit"}, {"oid": "e8a5db6321a55e23dbd7f3102aa6d78e4b53153b", "url": "https://github.com/apache/incubator-doris/commit/e8a5db6321a55e23dbd7f3102aa6d78e4b53153b", "message": "four", "committedDate": "2020-09-01T09:12:35Z", "type": "forcePushed"}]}