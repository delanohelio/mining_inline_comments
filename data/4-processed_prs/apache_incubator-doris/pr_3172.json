{"pr_number": 3172, "pr_title": "Change some config", "pr_createdAt": "2020-03-23T06:14:13Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3172", "timeline": [{"oid": "3b51d31dc68dc9b1f1260babf14552c69c6b33c6", "url": "https://github.com/apache/incubator-doris/commit/3b51d31dc68dc9b1f1260babf14552c69c6b33c6", "message": "add system variable of event_scheduler to compat with some mysql client", "committedDate": "2020-03-16T11:15:59Z", "type": "commit"}, {"oid": "84456d4ffdd7a1b5e0ef847e88817815e63bab24", "url": "https://github.com/apache/incubator-doris/commit/84456d4ffdd7a1b5e0ef847e88817815e63bab24", "message": "add system variable storage_engine", "committedDate": "2020-03-19T03:40:57Z", "type": "commit"}, {"oid": "5f5f2afe4bcf48367521db937afc29fba1bf14d7", "url": "https://github.com/apache/incubator-doris/commit/5f5f2afe4bcf48367521db937afc29fba1bf14d7", "message": "Merge branch 'master' of https://github.com/apache/incubator-doris", "committedDate": "2020-03-19T03:46:30Z", "type": "commit"}, {"oid": "7d2a847edcb362a2c03c261da4e5d65e0f951055", "url": "https://github.com/apache/incubator-doris/commit/7d2a847edcb362a2c03c261da4e5d65e0f951055", "message": "add system variable storage_engine", "committedDate": "2020-03-19T03:49:45Z", "type": "commit"}, {"oid": "7d0225e1cdea721e93b022d046225823b7ed9ebe", "url": "https://github.com/apache/incubator-doris/commit/7d0225e1cdea721e93b022d046225823b7ed9ebe", "message": "Merge branch 'dev' of github.com:gengjun-git/incubator-doris into dev", "committedDate": "2020-03-19T03:51:26Z", "type": "commit"}, {"oid": "44f2d599520b6165369293b7f3a518836ffaa733", "url": "https://github.com/apache/incubator-doris/commit/44f2d599520b6165369293b7f3a518836ffaa733", "message": "change word of palo to doris in conf file", "committedDate": "2020-03-23T06:02:33Z", "type": "commit"}, {"oid": "4663717436f28322c00fea94c63597645f9b8e13", "url": "https://github.com/apache/incubator-doris/commit/4663717436f28322c00fea94c63597645f9b8e13", "message": "Merge branch 'master' of https://github.com/apache/incubator-doris into dev", "committedDate": "2020-03-23T06:03:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjMwMzgxMg==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r396303812", "bodyText": "I am afraid this may cause some problem.\nSome users may not notice this configuration and use the default palo-meta directory directly. When the cluster is upgraded, if it is replaced with the doris-meta directory, some problems may occur. This directory configuration recommendation remains unchanged.", "author": "morningman", "createdAt": "2020-03-23T09:13:35Z", "path": "conf/fe.conf", "diffHunk": "@@ -38,7 +38,7 @@ JAVA_OPTS_FOR_JDK_9=\"-Xmx4096m -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=7 -X\n sys_log_level = INFO\n \n # store metadata, create it if it is not exist.\n-meta_dir = ${DORIS_HOME}/palo-meta", "originalCommit": "4663717436f28322c00fea94c63597645f9b8e13", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjMzNDY4Nw==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r396334687", "bodyText": "Hi @morningman, for this change I don't agree with you.\n\nconfiguration files will not be updated in normal case.\nEven if he uses the new configure file, the FE will exit with error messages like \"There is no meta directory\". And this can be fixed by change this option to the correct directory.\n\nIn my opinion, code must keep compatible with old versions. However, configuration default value is unnecessary.", "author": "imay", "createdAt": "2020-03-23T10:04:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjMwMzgxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjQ3NzgyNA==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r396477824", "bodyText": "How about change this to\n# meta_dir = ${DORIS_HOME}/doris-meta\n\nSo that it is same as default value in be.conf, which is also commented out.\nAnd we should also change this in FE's config.java", "author": "morningman", "createdAt": "2020-03-23T14:09:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjMwMzgxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg3MDg0OA==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r396870848", "bodyText": "It works for me.\nComment for this configuration should be recorded in this file carefully. And related documents and tutorials should be changed too.", "author": "imay", "createdAt": "2020-03-24T02:37:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjMwMzgxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg4NDI3NA==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r396884274", "bodyText": "OK. I will make meta_dir and storage_root_path commented out, and leave the default value changed to doris.", "author": "gengjun-git", "createdAt": "2020-03-24T03:32:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjMwMzgxMg=="}], "type": "inlineReview"}, {"oid": "d3d85db188e1dd230a5b8c1d8ca2d84d47241d7f", "url": "https://github.com/apache/incubator-doris/commit/d3d85db188e1dd230a5b8c1d8ca2d84d47241d7f", "message": "change storage config in be and fe", "committedDate": "2020-03-24T06:36:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NDAwMg==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r398694002", "bodyText": "be/src/common/conf.cpp should be changed too.", "author": "imay", "createdAt": "2020-03-26T16:05:55Z", "path": "conf/be.conf", "diffHunk": "@@ -36,15 +36,16 @@ brpc_port = 8060\n # you can specify the storage medium of each root path, HDD or SSD\n # you can add capacity limit at the end of each root path, seperate by ','\n # eg:\n-# storage_root_path = /home/disk1/palo.HDD,50;/home/disk2/palo.SSD,1;/home/disk2/palo\n-# /home/disk1/palo.HDD, capacity limit is 50GB, HDD;\n-# /home/disk2/palo.SSD, capacity limit is 1GB, SSD;\n-# /home/disk2/palo, capacity limit is disk capacity, HDD(default)\n+# storage_root_path = /home/disk1/doris.HDD,50;/home/disk2/doris.SSD,1;/home/disk2/doris\n+# /home/disk1/doris.HDD, capacity limit is 50GB, HDD;\n+# /home/disk2/doris.SSD, capacity limit is 1GB, SSD;\n+# /home/disk2/doris, capacity limit is disk capacity, HDD(default)\n # \n # you also can specify the properties by setting '<property>:<value>', seperate by ','\n # property 'medium' has a higher priority than the extension of path\n-# storage_root_path = /home/disk1/palo,medium:ssd,capacity:50\n-storage_root_path = /home/disk1/palo;/home/disk2/palo\n+#\n+# Default value is ${DORIS_HOME}/storage, you should create it by hand.\n+# storage_root_path = ${DORIS_HOME}/storage", "originalCommit": "d3d85db188e1dd230a5b8c1d8ca2d84d47241d7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE1NzgwMA==", "url": "https://github.com/apache/incubator-doris/pull/3172#discussion_r399157800", "bodyText": "The default value in conf.cpp is already ${DORIS_HOME}/storage.", "author": "gengjun-git", "createdAt": "2020-03-27T10:09:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NDAwMg=="}], "type": "inlineReview"}, {"oid": "fa3ae193c2dec17144369efc2c7645d91748c640", "url": "https://github.com/apache/incubator-doris/commit/fa3ae193c2dec17144369efc2c7645d91748c640", "message": "change docs", "committedDate": "2020-03-27T09:55:27Z", "type": "commit"}]}