{"pr_number": 3110, "pr_title": "[UT] Fix some BE unit tests", "pr_createdAt": "2020-03-13T16:08:32Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3110", "timeline": [{"oid": "27824441fa1b2e7ea0352452363e22477983ef5b", "url": "https://github.com/apache/incubator-doris/commit/27824441fa1b2e7ea0352452363e22477983ef5b", "message": "[UT] Fix some BE unit tests\n\nAnd also support graceful exit for StorageEngine to avoid hang too long\ntime in unit test.", "committedDate": "2020-03-14T03:26:50Z", "type": "commit"}, {"oid": "27824441fa1b2e7ea0352452363e22477983ef5b", "url": "https://github.com/apache/incubator-doris/commit/27824441fa1b2e7ea0352452363e22477983ef5b", "message": "[UT] Fix some BE unit tests\n\nAnd also support graceful exit for StorageEngine to avoid hang too long\ntime in unit test.", "committedDate": "2020-03-14T03:26:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1MTk2NA==", "url": "https://github.com/apache/incubator-doris/pull/3110#discussion_r392551964", "bodyText": "It's better to use Env to replace boost::filesystem::remove_all", "author": "chaoyli", "createdAt": "2020-03-14T03:18:38Z", "path": "be/test/olap/rowset/segment_v2/bloom_filter_index_reader_writer_test.cpp", "diffHunk": "@@ -33,14 +33,15 @@\n namespace doris {\n namespace segment_v2 {\n \n+const std::string dname = \"./ut_dir/bloom_filter_index_reader_writer_test\";\n+\n class BloomFilterIndexReaderWriterTest : public testing::Test {\n    public:\n-    BloomFilterIndexReaderWriterTest() { }\n-    virtual ~BloomFilterIndexReaderWriterTest() {\n+    virtual void SetUp() {\n+        ASSERT_TRUE(boost::filesystem::remove_all(dname));", "originalCommit": "741a19d939bf8141c8beabe840715ff868ea06a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6668d427e64ece3ba787f0fb046ab6e59badd7de", "url": "https://github.com/apache/incubator-doris/commit/6668d427e64ece3ba787f0fb046ab6e59badd7de", "message": "use Env", "committedDate": "2020-03-14T04:25:50Z", "type": "commit"}, {"oid": "6c6e75f914cf419f8a080065d0314b772c966a98", "url": "https://github.com/apache/incubator-doris/commit/6c6e75f914cf419f8a080065d0314b772c966a98", "message": "use Env", "committedDate": "2020-03-14T06:12:03Z", "type": "commit"}]}