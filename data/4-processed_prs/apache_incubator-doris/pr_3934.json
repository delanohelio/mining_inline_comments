{"pr_number": 3934, "pr_title": "[Refactor] Replace some boost to std in OlapScanNode", "pr_createdAt": "2020-06-23T15:47:55Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3934", "timeline": [{"oid": "b7b7df1d390329757cc77b0fa3174e83824f34aa", "url": "https://github.com/apache/incubator-doris/commit/b7b7df1d390329757cc77b0fa3174e83824f34aa", "message": "[Refactor] Replace some boost to std in OlapScanNode", "committedDate": "2020-06-23T15:45:20Z", "type": "commit"}, {"oid": "300c666304e2b85dbcdd1c6332facaf2942d1137", "url": "https://github.com/apache/incubator-doris/commit/300c666304e2b85dbcdd1c6332facaf2942d1137", "message": "remove unused import", "committedDate": "2020-06-24T01:19:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU5ODcyNg==", "url": "https://github.com/apache/incubator-doris/pull/3934#discussion_r444598726", "bodyText": "You can use util/condition_variable.h.\nIt comes from kudu, it's use is simple than std::", "author": "chaoyli", "createdAt": "2020-06-24T01:46:55Z", "path": "be/src/exec/olap_scan_node.cpp", "diffHunk": "@@ -186,9 +185,9 @@ Status OlapScanNode::get_next(RuntimeState* state, RowBatch* row_batch, bool* eo\n \n     // check if Canceled.\n     if (state->is_cancelled()) {\n-        boost::unique_lock<boost::mutex> l(_row_batches_lock);\n+        std::unique_lock<std::mutex> l(_row_batches_lock);", "originalCommit": "300c666304e2b85dbcdd1c6332facaf2942d1137", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTk5OTQ2NQ==", "url": "https://github.com/apache/incubator-doris/pull/3934#discussion_r445999465", "bodyText": "This PR is only try to solve the BE crash problem and I don't want to introduce any new potential problems.\nI can't see any necessary to replace the std::condition_variable with ConditionVariable. If it is,\nmaybe we can replace all std::condition_variable in another PR.", "author": "morningman", "createdAt": "2020-06-26T06:50:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU5ODcyNg=="}], "type": "inlineReview"}, {"oid": "a3000ec93d647c1a45246b6224e493c1485d33d0", "url": "https://github.com/apache/incubator-doris/commit/a3000ec93d647c1a45246b6224e493c1485d33d0", "message": "fix bug", "committedDate": "2020-06-24T05:39:33Z", "type": "commit"}, {"oid": "4c3c2a92cfac5e8cc13118017a9a46c88cd025b3", "url": "https://github.com/apache/incubator-doris/commit/4c3c2a92cfac5e8cc13118017a9a46c88cd025b3", "message": "modify header", "committedDate": "2020-06-24T06:00:15Z", "type": "commit"}, {"oid": "8989ac8d8591289a6be1b38b3ff0cb312bd07111", "url": "https://github.com/apache/incubator-doris/commit/8989ac8d8591289a6be1b38b3ff0cb312bd07111", "message": "fix bug", "committedDate": "2020-06-25T09:20:20Z", "type": "commit"}]}