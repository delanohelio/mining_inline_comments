{"pr_number": 3315, "pr_title": "[Doris on ES] fix bug of issue 3287", "pr_createdAt": "2020-04-14T07:03:35Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3315", "timeline": [{"oid": "41728ceb96377380904ef860d0b6afc764360f5e", "url": "https://github.com/apache/incubator-doris/commit/41728ceb96377380904ef860d0b6afc764360f5e", "message": "fix bug of issue 3287", "committedDate": "2020-04-14T06:48:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMDQ5NQ==", "url": "https://github.com/apache/incubator-doris/pull/3315#discussion_r407910495", "bodyText": "Can you delete the extra leading space?", "author": "wuyunfeng", "createdAt": "2020-04-14T07:05:27Z", "path": "be/src/exec/es/es_scroll_parser.cpp", "diffHunk": "@@ -129,14 +140,13 @@ static const string ERROR_COL_DATA_IS_ARRAY = \"Data source returned an array for\n \n template <typename T>\n static Status get_int_value(const rapidjson::Value &col, PrimitiveType type, void* slot, bool pure_doc_value) {\n-\n-\n     if (col.IsNumber()) {\n         *reinterpret_cast<T*>(slot) = (T)(sizeof(T) < 8 ? col.GetInt() : col.GetInt64());\n         return Status::OK();\n     }\n \n     if (pure_doc_value && col.IsArray()) {\n+\tRETURN_ERROR_IF_COL_IS_NOT_NUMBER(col, type);", "originalCommit": "41728ceb96377380904ef860d0b6afc764360f5e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eb4fab7489317822f4e9ef15f5eff005142a4e27", "url": "https://github.com/apache/incubator-doris/commit/eb4fab7489317822f4e9ef15f5eff005142a4e27", "message": "fix bug of 3315", "committedDate": "2020-04-14T07:20:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk3MTM0NA==", "url": "https://github.com/apache/incubator-doris/pull/3315#discussion_r407971344", "bodyText": "col is an array", "author": "wuyunfeng", "createdAt": "2020-04-14T08:51:07Z", "path": "be/src/exec/es/es_scroll_parser.cpp", "diffHunk": "@@ -129,14 +140,13 @@ static const string ERROR_COL_DATA_IS_ARRAY = \"Data source returned an array for\n \n template <typename T>\n static Status get_int_value(const rapidjson::Value &col, PrimitiveType type, void* slot, bool pure_doc_value) {\n-\n-\n     if (col.IsNumber()) {\n         *reinterpret_cast<T*>(slot) = (T)(sizeof(T) < 8 ? col.GetInt() : col.GetInt64());\n         return Status::OK();\n     }\n \n     if (pure_doc_value && col.IsArray()) {\n+        RETURN_ERROR_IF_COL_IS_NOT_NUMBER(col, type);", "originalCommit": "eb4fab7489317822f4e9ef15f5eff005142a4e27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "51d12fbff122240578c3ccf5f60ea69bb45dd528", "url": "https://github.com/apache/incubator-doris/commit/51d12fbff122240578c3ccf5f60ea69bb45dd528", "message": "fix bug of issue 3287", "committedDate": "2020-04-14T10:37:05Z", "type": "commit"}]}