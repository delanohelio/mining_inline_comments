{"pr_number": 4234, "pr_title": "Update support batch delete storage design document ", "pr_createdAt": "2020-08-02T12:45:49Z", "pr_url": "https://github.com/apache/incubator-doris/pull/4234", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1Nzg3Ng==", "url": "https://github.com/apache/incubator-doris/pull/4234#discussion_r464257876", "bodyText": "Please use English comment", "author": "EmmyMiao87", "createdAt": "2020-08-03T08:09:33Z", "path": "docs/en/internal/doris_storage_optimization.md", "diffHunk": "@@ -164,17 +197,18 @@ message ColumnMetaPB {\n \trepeated MetadataPairPB column_meta_datas;\n }\n \n-message FileFooterPB {\n+message SegmentFooterPB {\n \toptional uint32 version = 2 [default = 1]; // \u7528\u4e8e\u7248\u672c\u517c\u5bb9\u548c\u5347\u7ea7\u4f7f\u7528\n \trepeated ColumnPB schema = 5; // \u5217Schema\n-    optional uint64 num_values = 4; // \u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u884c\u6570\n-    optional uint64 index_footprint = 7; // \u7d22\u5f15\u5927\u5c0f\n-    optional uint64 data_footprint = 8; // \u6570\u636e\u5927\u5c0f\n+  optional uint64 num_values = 4; // \u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u884c\u6570", "originalCommit": "fb17eef0e845f7748608231d401b65da6c108b52", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc1OTE3OQ==", "url": "https://github.com/apache/incubator-doris/pull/4234#discussion_r464759179", "bodyText": "done", "author": "ZhangYu0123", "createdAt": "2020-08-04T02:16:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1Nzg3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1NzkzMA==", "url": "https://github.com/apache/incubator-doris/pull/4234#discussion_r464257930", "bodyText": "Same as above", "author": "EmmyMiao87", "createdAt": "2020-08-03T08:09:40Z", "path": "docs/en/internal/doris_storage_optimization.md", "diffHunk": "@@ -164,17 +197,18 @@ message ColumnMetaPB {\n \trepeated MetadataPairPB column_meta_datas;\n }\n \n-message FileFooterPB {\n+message SegmentFooterPB {\n \toptional uint32 version = 2 [default = 1]; // \u7528\u4e8e\u7248\u672c\u517c\u5bb9\u548c\u5347\u7ea7\u4f7f\u7528\n \trepeated ColumnPB schema = 5; // \u5217Schema\n-    optional uint64 num_values = 4; // \u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u884c\u6570\n-    optional uint64 index_footprint = 7; // \u7d22\u5f15\u5927\u5c0f\n-    optional uint64 data_footprint = 8; // \u6570\u636e\u5927\u5c0f\n+  optional uint64 num_values = 4; // \u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u884c\u6570\n+  optional uint64 index_footprint = 7; // \u7d22\u5f15\u5927\u5c0f\n+  optional uint64 data_footprint = 8; // \u6570\u636e\u5927\u5c0f\n \toptional uint64 raw_data_footprint = 8; // \u539f\u59cb\u6570\u636e\u5927\u5c0f\n \n-    optional CompressKind compress_kind = 9 [default = COMPRESS_LZO]; // \u538b\u7f29\u65b9\u5f0f\n-    repeated ColumnMetaPB column_metas = 10; // \u5217\u5143\u6570\u636e\n+  optional CompressKind compress_kind = 9 [default = COMPRESS_LZO]; // \u538b\u7f29\u65b9\u5f0f\n+  repeated ColumnMetaPB column_metas = 10; // \u5217\u5143\u6570\u636e\n \toptional PagePointerPB key_index_page; // short key\u7d22\u5f15page\n+  optional PagePointerPB delete_index_page; // delete index\u7d22\u5f15page", "originalCommit": "fb17eef0e845f7748608231d401b65da6c108b52", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc1OTIxNg==", "url": "https://github.com/apache/incubator-doris/pull/4234#discussion_r464759216", "bodyText": "dome", "author": "ZhangYu0123", "createdAt": "2020-08-04T02:17:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1NzkzMA=="}], "type": "inlineReview"}, {"oid": "b51c2b192e4570a0e06a0f9df015a51bc87a1ab6", "url": "https://github.com/apache/incubator-doris/commit/b51c2b192e4570a0e06a0f9df015a51bc87a1ab6", "message": "Delete index design doc", "committedDate": "2020-08-07T05:39:06Z", "type": "commit"}, {"oid": "b43d2889318e73443b60c9f85d946c5e3881272e", "url": "https://github.com/apache/incubator-doris/commit/b43d2889318e73443b60c9f85d946c5e3881272e", "message": "Update delete index design document", "committedDate": "2020-08-07T05:39:09Z", "type": "commit"}, {"oid": "540b62c2e9ea0e7a9bcd63862eac402d34f50d6e", "url": "https://github.com/apache/incubator-doris/commit/540b62c2e9ea0e7a9bcd63862eac402d34f50d6e", "message": "update doc", "committedDate": "2020-08-07T05:39:33Z", "type": "commit"}, {"oid": "74ab3418f0ade2bd1db46761d4fec0bf17e7abe1", "url": "https://github.com/apache/incubator-doris/commit/74ab3418f0ade2bd1db46761d4fec0bf17e7abe1", "message": "add doc update", "committedDate": "2020-08-07T05:39:34Z", "type": "commit"}, {"oid": "e875776c099766a9bc9436c6871611721e2574fb", "url": "https://github.com/apache/incubator-doris/commit/e875776c099766a9bc9436c6871611721e2574fb", "message": "add doc update", "committedDate": "2020-08-07T05:39:34Z", "type": "commit"}, {"oid": "e875776c099766a9bc9436c6871611721e2574fb", "url": "https://github.com/apache/incubator-doris/commit/e875776c099766a9bc9436c6871611721e2574fb", "message": "add doc update", "committedDate": "2020-08-07T05:39:34Z", "type": "forcePushed"}, {"oid": "28b976029351037abc1150cc246424a4bd79e790", "url": "https://github.com/apache/incubator-doris/commit/28b976029351037abc1150cc246424a4bd79e790", "message": "add doc update", "committedDate": "2020-08-07T10:06:04Z", "type": "commit"}, {"oid": "74e433507497b2c98191e40eef7b998ff49d0c4d", "url": "https://github.com/apache/incubator-doris/commit/74e433507497b2c98191e40eef7b998ff49d0c4d", "message": "add doc update", "committedDate": "2020-08-07T10:52:30Z", "type": "commit"}]}