{"pr_number": 3511, "pr_title": "[Bug] Fix constant In Predicate result error", "pr_createdAt": "2020-05-07T13:25:08Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3511", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyNTg5OA==", "url": "https://github.com/apache/incubator-doris/pull/3511#discussion_r421625898", "bodyText": "Why use static variable?  I think local variable is enough.", "author": "kangkaisen", "createdAt": "2020-05-07T16:13:22Z", "path": "fe/src/main/java/org/apache/doris/analysis/InPredicate.java", "diffHunk": "@@ -54,6 +54,8 @@\n     private static final String IN = \"in\";\n     private static final String NOT_IN = \"not_in\";\n \n+    private static final NullLiteral NULL_LITERAL = new NullLiteral();", "originalCommit": "cd1290949d146c68f704975c5835a1df0fb3b35d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg5NTM3NA==", "url": "https://github.com/apache/incubator-doris/pull/3511#discussion_r421895374", "bodyText": "This object does not need to have one for every InPredicate instance.", "author": "morningman", "createdAt": "2020-05-08T02:05:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyNTg5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyNjgwMA==", "url": "https://github.com/apache/incubator-doris/pull/3511#discussion_r421626800", "bodyText": "please move the test to ConstantExpressTest", "author": "kangkaisen", "createdAt": "2020-05-07T16:14:40Z", "path": "fe/src/test/java/org/apache/doris/planner/QueryPlanTest.java", "diffHunk": "@@ -725,4 +725,58 @@ public void testJoinPredicateTransitivityWithSubqueryInWhereClause() throws Exce\n         Assert.assertTrue(explainString.contains(\"CROSS JOIN\"));\n         Assert.assertTrue(!explainString.contains(\"PREDICATES\"));\n     }\n+\n+    @Test\n+    public void testConstantInPredicate() throws Exception {", "originalCommit": "cd1290949d146c68f704975c5835a1df0fb3b35d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg5NDM5MA==", "url": "https://github.com/apache/incubator-doris/pull/3511#discussion_r421894390", "bodyText": "OK", "author": "morningman", "createdAt": "2020-05-08T02:01:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyNjgwMA=="}], "type": "inlineReview"}, {"oid": "da5225e9d18b832bb4f84255d7c10d8ea9bed57a", "url": "https://github.com/apache/incubator-doris/commit/da5225e9d18b832bb4f84255d7c10d8ea9bed57a", "message": "[Bug] Fix constant In Predicate result error\n\n`select 1 not in (2, NULL, 1);` should return `0`", "committedDate": "2020-05-08T02:03:35Z", "type": "commit"}, {"oid": "7d49db31fbde26cbe14e95e5311321460476e61b", "url": "https://github.com/apache/incubator-doris/commit/7d49db31fbde26cbe14e95e5311321460476e61b", "message": "fix", "committedDate": "2020-05-08T02:05:39Z", "type": "commit"}, {"oid": "7d49db31fbde26cbe14e95e5311321460476e61b", "url": "https://github.com/apache/incubator-doris/commit/7d49db31fbde26cbe14e95e5311321460476e61b", "message": "fix", "committedDate": "2020-05-08T02:05:39Z", "type": "forcePushed"}]}