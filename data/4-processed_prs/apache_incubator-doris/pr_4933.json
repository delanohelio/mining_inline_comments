{"pr_number": 4933, "pr_title": "[Refactor] Short circuit return to avoid meaningless loop", "pr_createdAt": "2020-11-20T07:43:14Z", "pr_url": "https://github.com/apache/incubator-doris/pull/4933", "timeline": [{"oid": "487cb4b5192054d894b8d5de54c53e34fc54f717", "url": "https://github.com/apache/incubator-doris/commit/487cb4b5192054d894b8d5de54c53e34fc54f717", "message": "[Refactor] Short circuit return to avoid meaningless loop", "committedDate": "2020-11-20T09:52:00Z", "type": "commit"}, {"oid": "487cb4b5192054d894b8d5de54c53e34fc54f717", "url": "https://github.com/apache/incubator-doris/commit/487cb4b5192054d894b8d5de54c53e34fc54f717", "message": "[Refactor] Short circuit return to avoid meaningless loop", "committedDate": "2020-11-20T09:52:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODA4NjAwMA==", "url": "https://github.com/apache/incubator-doris/pull/4933#discussion_r528086000", "bodyText": "Could you add a comment for rowset_meta_is_useful? what's the meaning of useful?\nWhy when find_version is false, the rowset is unuseful?", "author": "kangkaisen", "createdAt": "2020-11-21T06:40:28Z", "path": "be/src/olap/tablet.cpp", "diffHunk": "@@ -1214,33 +1214,32 @@ void Tablet::do_tablet_meta_checkpoint() {\n \n bool Tablet::rowset_meta_is_useful(RowsetMetaSharedPtr rowset_meta) {", "originalCommit": "487cb4b5192054d894b8d5de54c53e34fc54f717", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODI3NjQ1Nw==", "url": "https://github.com/apache/incubator-doris/pull/4933#discussion_r528276457", "bodyText": "@kangkaisen Comment added.\n\nWhy when find_version is false, the rowset is unuseful?\n\nI think you want to ask why when find_version is true, the rowset is unuseful. Because when version founded, means the tablet has the data in this version (maybe compacted), we can sweep up this rowset. Only when the rowset has some new data (version is not covered, i.e. find_version is false), the rowset is useful.", "author": "acelyc111", "createdAt": "2020-11-22T03:35:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODA4NjAwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ0MzQxMQ==", "url": "https://github.com/apache/incubator-doris/pull/4933#discussion_r528443411", "bodyText": "OK, Thanks!", "author": "kangkaisen", "createdAt": "2020-11-23T02:11:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODA4NjAwMA=="}], "type": "inlineReview"}, {"oid": "d74146024bdf7a63132b4d48b681635a46734ef9", "url": "https://github.com/apache/incubator-doris/commit/d74146024bdf7a63132b4d48b681635a46734ef9", "message": "add comment", "committedDate": "2020-11-22T03:28:16Z", "type": "commit"}]}