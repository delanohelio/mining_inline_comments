{"pr_number": 4022, "pr_title": "Add thrift_client_retry_interval_ms config in be for thrift client to avoid avalanche disaster in fe thrift server", "pr_createdAt": "2020-07-05T10:08:21Z", "pr_url": "https://github.com/apache/incubator-doris/pull/4022", "timeline": [{"oid": "655d14d924df0ca04857111a83cbc1a1d7fa45ea", "url": "https://github.com/apache/incubator-doris/commit/655d14d924df0ca04857111a83cbc1a1d7fa45ea", "message": "Add thrift_client_retry_interval_ms for thrift client to avoid avalanche disaster in fe thrift server", "committedDate": "2020-07-05T10:01:03Z", "type": "commit"}, {"oid": "49cd3a59f4eec1409e5ab241adc227a5b7d3cbad", "url": "https://github.com/apache/incubator-doris/commit/49cd3a59f4eec1409e5ab241adc227a5b7d3cbad", "message": "remove unused import in ThriftServer.java", "committedDate": "2020-07-05T10:26:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4MzE4Mg==", "url": "https://github.com/apache/incubator-doris/pull/4022#discussion_r449883182", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        LOG(WARNING) << \"retrying call frontend service after \" << 1 << \" ms, address=\"\n          \n          \n            \n                        LOG(WARNING) << \"retrying call frontend service after \" << config::thrift_client_retry_interval_ms << \" ms, address=\"", "author": "morningman", "createdAt": "2020-07-05T14:24:50Z", "path": "be/src/util/thrift_rpc_helper.cpp", "diffHunk": "@@ -68,8 +69,9 @@ Status ThriftRpcHelper::rpc(\n         try {\n             callback(client);\n         } catch (apache::thrift::transport::TTransportException& e) {\n-            LOG(WARNING) << \"retrying call frontend service, address=\"\n+            LOG(WARNING) << \"retrying call frontend service after \" << 1 << \" ms, address=\"", "originalCommit": "49cd3a59f4eec1409e5ab241adc227a5b7d3cbad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d89fedc63ed01ba3b99875155d0869161c7c0089", "url": "https://github.com/apache/incubator-doris/commit/d89fedc63ed01ba3b99875155d0869161c7c0089", "message": "fix by review", "committedDate": "2020-07-05T16:43:58Z", "type": "commit"}]}