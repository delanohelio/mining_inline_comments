{"pr_number": 3488, "pr_title": "[Config] allow user to config BRPC socket_max_unwritten_bytes", "pr_createdAt": "2020-05-06T11:05:55Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3488", "timeline": [{"oid": "338c18df4973490c2c943bce1c6828e0a2372e12", "url": "https://github.com/apache/incubator-doris/commit/338c18df4973490c2c943bce1c6828e0a2372e12", "message": "[Config] allow user to config BRPC socket_max_unwritten_bytes", "committedDate": "2020-05-06T10:56:09Z", "type": "commit"}, {"oid": "61af7e13eee6316cfcdd14def9184a8176ef9bca", "url": "https://github.com/apache/incubator-doris/commit/61af7e13eee6316cfcdd14def9184a8176ef9bca", "message": "update be_config.md", "committedDate": "2020-05-07T03:23:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgwODgwOQ==", "url": "https://github.com/apache/incubator-doris/pull/3488#discussion_r420808809", "bodyText": "If this value is set large, eg, 200MB, by default, are there any side effects?", "author": "morningman", "createdAt": "2020-05-06T13:53:30Z", "path": "be/src/common/config.h", "diffHunk": "@@ -488,8 +488,10 @@ namespace config {\n     // Valid configs: ALPHA, BETA\n     CONF_String(default_rowset_type, \"ALPHA\");\n \n-    // brpc config, 200M\n+    // Maximum size of a single message body in all protocols\n     CONF_Int64(brpc_max_body_size, \"209715200\")\n+    // Max unwritten bytes in each socket, if the limit is reached, Socket.Write fails with EOVERCROWDED\n+    CONF_Int64(brpc_socket_max_unwritten_bytes, \"67108864\")", "originalCommit": "338c18df4973490c2c943bce1c6828e0a2372e12", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTk3NjQ1NQ==", "url": "https://github.com/apache/incubator-doris/pull/3488#discussion_r421976455", "bodyText": "I didn't notice any side effects right now, user could adjust this config based on their BE's memory capacity", "author": "gaodayue", "createdAt": "2020-05-08T06:56:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgwODgwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ4Njg2Ng==", "url": "https://github.com/apache/incubator-doris/pull/3488#discussion_r422486866", "bodyText": "OK", "author": "morningman", "createdAt": "2020-05-09T11:52:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgwODgwOQ=="}], "type": "inlineReview"}]}