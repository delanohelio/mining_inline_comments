{"pr_number": 5073, "pr_title": "[Bug] Fix Memory Leak in Json Load", "pr_createdAt": "2020-12-12T04:17:37Z", "pr_url": "https://github.com/apache/incubator-doris/pull/5073", "timeline": [{"oid": "90e0686dc936202c56f5934d40d71b0d59305f74", "url": "https://github.com/apache/incubator-doris/commit/90e0686dc936202c56f5934d40d71b0d59305f74", "message": "[Bug] Fix Memory Leak in Json Load", "committedDate": "2020-12-12T03:23:15Z", "type": "commit"}, {"oid": "751bc92ea5a333cf38b748a220a5aa60d1fc88d5", "url": "https://github.com/apache/incubator-doris/commit/751bc92ea5a333cf38b748a220a5aa60d1fc88d5", "message": "Merge branch 'master' into fix_json_load_leak", "committedDate": "2020-12-12T04:27:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTUxNzg5NQ==", "url": "https://github.com/apache/incubator-doris/pull/5073#discussion_r541517895", "bodyText": "Use pointer if the parameter will be changed.\nUse reference with const\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Status LocalFileReader::read_one_message(std::unique_ptr<uint8_t[]>& buf, size_t* length) {\n          \n          \n            \n            Status LocalFileReader::read_one_message(std::unique_ptr<uint8_t[]>* buf, size_t* length) {", "author": "imay", "createdAt": "2020-12-12T06:47:49Z", "path": "be/src/exec/local_file_reader.cpp", "diffHunk": "@@ -53,21 +53,17 @@ bool LocalFileReader::closed() {\n }\n \n // Read all bytes\n-Status LocalFileReader::read_one_message(uint8_t** buf, size_t* length) {\n+Status LocalFileReader::read_one_message(std::unique_ptr<uint8_t[]>& buf, size_t* length) {", "originalCommit": "751bc92ea5a333cf38b748a220a5aa60d1fc88d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTUzMTU4Nw==", "url": "https://github.com/apache/incubator-doris/pull/5073#discussion_r541531587", "bodyText": "I will apply it", "author": "stdpain", "createdAt": "2020-12-12T08:25:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTUxNzg5NQ=="}], "type": "inlineReview"}, {"oid": "964a3e184cfb6b2410fd615d7baaf1220f1414a6", "url": "https://github.com/apache/incubator-doris/commit/964a3e184cfb6b2410fd615d7baaf1220f1414a6", "message": "convert reference to pointer", "committedDate": "2020-12-12T08:01:59Z", "type": "forcePushed"}, {"oid": "7c82af857fe910a6ddd5c0906a7a3892df8f6fa4", "url": "https://github.com/apache/incubator-doris/commit/7c82af857fe910a6ddd5c0906a7a3892df8f6fa4", "message": "convert reference to pointer", "committedDate": "2020-12-12T08:21:57Z", "type": "forcePushed"}, {"oid": "7b0d477b939b512157343e566ddcadf705842868", "url": "https://github.com/apache/incubator-doris/commit/7b0d477b939b512157343e566ddcadf705842868", "message": "convert reference to pointer", "committedDate": "2020-12-12T09:39:23Z", "type": "forcePushed"}, {"oid": "6e814034c1442c5b31e9ae7b807add88aca3f1b3", "url": "https://github.com/apache/incubator-doris/commit/6e814034c1442c5b31e9ae7b807add88aca3f1b3", "message": "convert reference to pointer", "committedDate": "2020-12-12T09:40:56Z", "type": "commit"}, {"oid": "6e814034c1442c5b31e9ae7b807add88aca3f1b3", "url": "https://github.com/apache/incubator-doris/commit/6e814034c1442c5b31e9ae7b807add88aca3f1b3", "message": "convert reference to pointer", "committedDate": "2020-12-12T09:40:56Z", "type": "forcePushed"}, {"oid": "0eaa9060ed4b5e22adb9393790cf0e7d20d4fcae", "url": "https://github.com/apache/incubator-doris/commit/0eaa9060ed4b5e22adb9393790cf0e7d20d4fcae", "message": "Merge branch 'master' into fix_json_load_leak", "committedDate": "2020-12-15T02:14:49Z", "type": "commit"}]}