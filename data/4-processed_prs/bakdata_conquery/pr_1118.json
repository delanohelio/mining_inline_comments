{"pr_number": 1118, "pr_title": "HTTP 401 for Authentication and 403 for Authorization", "pr_createdAt": "2020-03-24T08:09:07Z", "pr_url": "https://github.com/bakdata/conquery/pull/1118", "timeline": [{"oid": "3cb47c4f7b1f6e261b244079d49da4fbd443fee7", "url": "https://github.com/bakdata/conquery/commit/3cb47c4f7b1f6e261b244079d49da4fbd443fee7", "message": "sends the right HTTP statuses", "committedDate": "2020-03-24T08:07:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4MjM2OQ==", "url": "https://github.com/bakdata/conquery/pull/1118#discussion_r396982369", "bodyText": "Is in der Exception der ganze Stacktrace drin? Erscheint mir etwas riskant das einfach rauzugeben", "author": "awildturtok", "createdAt": "2020-03-24T08:42:15Z", "path": "backend/src/main/java/com/bakdata/conquery/models/auth/web/AuthorizationExceptionMapper.java", "diffHunk": "@@ -19,9 +18,9 @@\n \t@Override\n \tpublic Response toResponse(AuthorizationException exception) {\n \t\tlog.warn(\"Shiro failed to authorize the request. See the following trace:\", exception);\n-\t\treturn Response.status(Response.Status.UNAUTHORIZED)\n+\t\treturn Response.status(Response.Status.FORBIDDEN)\n \t\t\t.type(MediaType.APPLICATION_JSON_TYPE)\n-\t\t\t.entity(new ErrorMessage(Response.Status.FORBIDDEN.getStatusCode(), \"Your error has been logged\"))\n+\t\t\t.entity(\"Not sufficient permissions to perform action: \" + exception.getMessage())", "originalCommit": "3cb47c4f7b1f6e261b244079d49da4fbd443fee7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4Mjk4MA==", "url": "https://github.com/bakdata/conquery/pull/1118#discussion_r396982980", "bodyText": "Nein da ist lediglich drinne, an welcher berechtigung es scheitert", "author": "thoniTUB", "createdAt": "2020-03-24T08:43:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4MjM2OQ=="}], "type": "inlineReview"}]}