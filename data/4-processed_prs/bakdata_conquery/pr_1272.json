{"pr_number": 1272, "pr_title": "Feature/fix docs and types for fe", "pr_createdAt": "2020-07-15T14:19:03Z", "pr_url": "https://github.com/bakdata/conquery/pull/1272", "timeline": [{"oid": "23b99066e28f64ef613b09ce77d9b0b1cfb23fb4", "url": "https://github.com/bakdata/conquery/commit/23b99066e28f64ef613b09ce77d9b0b1cfb23fb4", "message": "Add some more documentation for usage.", "committedDate": "2020-07-15T14:14:55Z", "type": "commit"}, {"oid": "c30c6297a660b9cd25ce49136e9b8ec6dd31305a", "url": "https://github.com/bakdata/conquery/commit/c30c6297a660b9cd25ce49136e9b8ec6dd31305a", "message": "fix some major type issues", "committedDate": "2020-07-15T14:15:38Z", "type": "commit"}, {"oid": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "url": "https://github.com/bakdata/conquery/commit/3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "message": "Merge branch 'develop' into feature/fix-docs-and-types-for-FE", "committedDate": "2020-07-15T14:20:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3MDQ3MQ==", "url": "https://github.com/bakdata/conquery/pull/1272#discussion_r456370471", "bodyText": "This environment variable (after being reassigned three times for no obvious reason) disables the login screen in the front end. It does not change the behaviour of the mock-api so to speak the back end. This api still requires the auth token! If one sets this variable to true, the dev preview is simply broken:\n\nIt might \"work for you\" because you have logged in once with auth on, then stopped the dev server, disabled the login and then started it again but that is only the case because after login a token is stored in local storage:\n\nTry deleting this token and using the app without login.\nAlso a fun fact: If you run REACT_APP_DISABLE_LOGIN=false yarn start the login screen is still enabled, because the environment variable is being negated twice in order to get a boolean. But environment variables are always strings in NodeJS. !!'false' is true not false... JSON.parse('false') is false. You can give this a spin in any JavaScript console.", "author": "Levino", "createdAt": "2020-07-17T10:54:18Z", "path": "frontend/README.md", "diffHunk": "@@ -27,12 +27,24 @@ Commands analogoues to `start_production.sh` script.\n \n ### Using node / express\n \n+\n ```\n yarn\n yarn run build\n PORT=8000 yarn run start-production\n ```\n \n+## Available Environment Variables\n+\n+````js\n+NODE_ENV: \"development\" | \"production\"; // Create a production build and disable debuggers when set to production   \n+REACT_APP_API_URL?: string; // Set the backend URL\n+REACT_APP_DISABLE_LOGIN?: boolean; // Disable forced login page", "originalCommit": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3MDY0NQ==", "url": "https://github.com/bakdata/conquery/pull/1272#discussion_r456370645", "bodyText": "That is default behaviour of create-react-app. No need to mention this here, I would say.", "author": "Levino", "createdAt": "2020-07-17T10:54:45Z", "path": "frontend/README.md", "diffHunk": "@@ -27,12 +27,24 @@ Commands analogoues to `start_production.sh` script.\n \n ### Using node / express\n \n+\n ```\n yarn\n yarn run build\n PORT=8000 yarn run start-production\n ```\n \n+## Available Environment Variables\n+\n+````js\n+NODE_ENV: \"development\" | \"production\"; // Create a production build and disable debuggers when set to production   \n+REACT_APP_API_URL?: string; // Set the backend URL\n+REACT_APP_DISABLE_LOGIN?: boolean; // Disable forced login page\n+REACT_APP_LANG?: \"de\" | \"en\"; // Select language for Frontend\n+PORT?: string; // Port on which to start the frontend", "originalCommit": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3MTIwNA==", "url": "https://github.com/bakdata/conquery/pull/1272#discussion_r456371204", "bodyText": "It might be a good idea to also say what the default value is for these environment variables. Here it is http://localhost:8001 which gives you a good hint that you have to start a back end for this to work.", "author": "Levino", "createdAt": "2020-07-17T10:55:59Z", "path": "frontend/README.md", "diffHunk": "@@ -27,12 +27,24 @@ Commands analogoues to `start_production.sh` script.\n \n ### Using node / express\n \n+\n ```\n yarn\n yarn run build\n PORT=8000 yarn run start-production\n ```\n \n+## Available Environment Variables\n+\n+````js\n+NODE_ENV: \"development\" | \"production\"; // Create a production build and disable debuggers when set to production   \n+REACT_APP_API_URL?: string; // Set the backend URL", "originalCommit": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3MTc4OA==", "url": "https://github.com/bakdata/conquery/pull/1272#discussion_r456371788", "bodyText": "Why do you not merge #1265? Then one just needs to run one command. yarn start is atm pretty pointless without yarn serve so you should make clear that one has to be run with the other.", "author": "Levino", "createdAt": "2020-07-17T10:57:16Z", "path": "frontend/README.md", "diffHunk": "@@ -52,6 +64,21 @@ $ yarn\n $ yarn start\n ```\n \n+**Mock API**\n+\n+```bash\n+$ yarn serve", "originalCommit": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3MjcwMA==", "url": "https://github.com/bakdata/conquery/pull/1272#discussion_r456372700", "bodyText": "This is also default behaviour of NodeJS and not specific for this project.", "author": "Levino", "createdAt": "2020-07-17T10:59:18Z", "path": "frontend/README.md", "diffHunk": "@@ -27,12 +27,24 @@ Commands analogoues to `start_production.sh` script.\n \n ### Using node / express\n \n+\n ```\n yarn\n yarn run build\n PORT=8000 yarn run start-production\n ```\n \n+## Available Environment Variables\n+\n+````js\n+NODE_ENV: \"development\" | \"production\"; // Create a production build and disable debuggers when set to production   ", "originalCommit": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3Mjk1Nw==", "url": "https://github.com/bakdata/conquery/pull/1272#discussion_r456372957", "bodyText": "This command does not work.", "author": "Levino", "createdAt": "2020-07-17T10:59:59Z", "path": "frontend/README.md", "diffHunk": "@@ -27,12 +27,24 @@ Commands analogoues to `start_production.sh` script.\n \n ### Using node / express\n \n+\n ```\n yarn\n yarn run build\n PORT=8000 yarn run start-production", "originalCommit": "3e9f92e1f6b9a74b493a15c06a7ec0b054cb919c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}