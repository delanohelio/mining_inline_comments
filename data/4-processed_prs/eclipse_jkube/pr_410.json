{"pr_number": 410, "pr_title": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.", "pr_createdAt": "2020-09-28T09:02:00Z", "pr_url": "https://github.com/eclipse/jkube/pull/410", "timeline": [{"oid": "fd3da680c12d9675ae827babb38f932f631d1fc4", "url": "https://github.com/eclipse/jkube/commit/fd3da680c12d9675ae827babb38f932f631d1fc4", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>", "committedDate": "2020-09-28T09:33:24Z", "type": "forcePushed"}, {"oid": "69dafe9bbb22f6d13b909dac3454efbea5e80916", "url": "https://github.com/eclipse/jkube/commit/69dafe9bbb22f6d13b909dac3454efbea5e80916", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>", "committedDate": "2020-09-29T12:37:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMDQxOA==", "url": "https://github.com/eclipse/jkube/pull/410#discussion_r497410418", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              aggregated resource list YAML file (not in the individual generated resourcs) if this option is enabled.\n          \n          \n            \n              aggregated resource list YAML file (not in the individual generated resources) if this option is enabled.", "author": "rohanKanojia", "createdAt": "2020-09-30T10:37:47Z", "path": "kubernetes-maven-plugin/doc/src/main/asciidoc/inc/goals/build/_jkube-resource.adoc", "diffHunk": "@@ -415,6 +415,20 @@ endif::[]\n   Defaults to `false`.\n | `jkube.mergeWithDekorate`\n \n+| *interpolateTemplateParameters*\n+| Interpolate parameter values from `*template.yml` fragments in the generated resource list (`kubernetes.yml`).\n+\n+  This is useful when using JKube in combination with Helm.\n+\n+  Placeholders for variables defined in template files can be used in the different resource fragments. Helm generated\n+  charts will contain these placeholders/parameters.\n+\n+  For `resource` goal, these placeholders are replaced in the\n+  aggregated resource list YAML file (not in the individual generated resourcs) if this option is enabled.", "originalCommit": "69dafe9bbb22f6d13b909dac3454efbea5e80916", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "983b8a9a57a9c633ca628e988ad299a031593324", "url": "https://github.com/eclipse/jkube/commit/983b8a9a57a9c633ca628e988ad299a031593324", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>", "committedDate": "2020-09-30T11:28:27Z", "type": "commit"}, {"oid": "983b8a9a57a9c633ca628e988ad299a031593324", "url": "https://github.com/eclipse/jkube/commit/983b8a9a57a9c633ca628e988ad299a031593324", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>", "committedDate": "2020-09-30T11:28:27Z", "type": "forcePushed"}]}