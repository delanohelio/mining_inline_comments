{"pr_number": 420, "pr_title": "Fix #386: final fat jar is not updated in docker build directory", "pr_createdAt": "2020-10-01T07:21:37Z", "pr_url": "https://github.com/eclipse/jkube/pull/420", "timeline": [{"oid": "92ee802079ae0265d47992c20b0f475d86372bfc", "url": "https://github.com/eclipse/jkube/commit/92ee802079ae0265d47992c20b0f475d86372bfc", "message": "Fix #386: final fat jar is not updated in docker build directory\n\nUpdated code in JKubeBuildTarArchiver to allow copying files when already existing.", "committedDate": "2020-10-01T07:55:48Z", "type": "forcePushed"}, {"oid": "f19f3ee47edfcd117f2862de171b6e1371e03095", "url": "https://github.com/eclipse/jkube/commit/f19f3ee47edfcd117f2862de171b6e1371e03095", "message": "Fix #386: final fat jar is not updated in docker build directory\n\nUpdated code in JKubeBuildTarArchiver to allow copying files when already existing.", "committedDate": "2020-10-01T07:56:41Z", "type": "forcePushed"}, {"oid": "9b3c062e589786296d7fa63cf93311ceb6582e17", "url": "https://github.com/eclipse/jkube/commit/9b3c062e589786296d7fa63cf93311ceb6582e17", "message": "Fix #386: final fat jar is not updated in docker build directory\n\nUpdated code in JKubeBuildTarArchiver to allow copying files when already existing.", "committedDate": "2020-10-01T09:16:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM4NzkyMw==", "url": "https://github.com/eclipse/jkube/pull/420#discussion_r499387923", "bodyText": "I don't understand the purpose of this statement.\nIs this supposed to prevent copying a file to \"itself\"? if this is the case, is it possible to at least change to something like !srcFile.equals(targetFile) to make it more obvious?\nHowever, I'm still not sure how this belongs here. It should make more sense within the FileUtils#copyFile method.", "author": "manusa", "createdAt": "2020-10-05T07:20:33Z", "path": "jkube-kit/build/api/src/main/java/org/eclipse/jkube/kit/build/api/assembly/JKubeBuildTarArchiver.java", "diffHunk": "@@ -81,4 +79,8 @@ public File createArchive(File inputDirectory, BuildDirs buildDirs, ArchiveCompr\n         return JKubeTarArchiver.createTarBall(outputFile, inputDirectory, fileListToAddInTarball, fileModeMap, compression);\n     }\n \n+    private boolean shouldCopyFileToAssemblyDir(File srcFile, File targetFile) throws IOException {\n+        return !srcFile.getCanonicalPath().equals(targetFile.getCanonicalPath());", "originalCommit": "9b3c062e589786296d7fa63cf93311ceb6582e17", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3f9f519a6a8582919bc63c85ea9bf044c259242c", "url": "https://github.com/eclipse/jkube/commit/3f9f519a6a8582919bc63c85ea9bf044c259242c", "message": "Fix #386: final fat jar is not updated in docker build directory\n\nUpdated code in JKubeBuildTarArchiver to allow copying files when already existing.", "committedDate": "2020-10-05T08:57:54Z", "type": "commit"}, {"oid": "3f9f519a6a8582919bc63c85ea9bf044c259242c", "url": "https://github.com/eclipse/jkube/commit/3f9f519a6a8582919bc63c85ea9bf044c259242c", "message": "Fix #386: final fat jar is not updated in docker build directory\n\nUpdated code in JKubeBuildTarArchiver to allow copying files when already existing.", "committedDate": "2020-10-05T08:57:54Z", "type": "forcePushed"}]}