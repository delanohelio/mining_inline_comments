{"pr_number": 4404, "pr_title": "chore(benchmarks): add development cluster setup", "pr_createdAt": "2020-04-28T16:36:06Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/4404", "timeline": [{"oid": "07b5340c8275a814bbb95bf09d774e9a997641d5", "url": "https://github.com/camunda-cloud/zeebe/commit/07b5340c8275a814bbb95bf09d774e9a997641d5", "message": "chore(benchmarks): version cluster setup", "committedDate": "2020-05-04T12:04:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ4MTQyNQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/4404#discussion_r421481425", "bodyText": "Thats why I havent added it the last time to the benchmark folder \ud83d\ude05", "author": "Zelldon", "createdAt": "2020-05-07T12:55:57Z", "path": "benchmarks/cluster/prometheus-operator-values.yml", "diffHunk": "@@ -0,0 +1,49 @@\n+alertmanager:\n+  enabled: false\n+\n+grafana:\n+  adminPassword: camunda", "originalCommit": "07b5340c8275a814bbb95bf09d774e9a997641d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk2MzEzMQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/4404#discussion_r422963131", "bodyText": "Yeah I thought about it, but it's not like it's a good password anyway. You'd still need to know the private IP of our Grafana instance. We could also always make it private again and you'd need to port-forward it, meaning you'd need access to the cluster, so really even having a password is kind of pointless \ud83d\ude05", "author": "npepinpe", "createdAt": "2020-05-11T11:08:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ4MTQyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxMjA2NQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/4404#discussion_r425012065", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            helm install metrics stable/prometheus-operator --atomic\n          \n          \n            \n            helm install metrics stable/prometheus-operator --atomic -f prometheus-operator-values.yml", "author": "npepinpe", "createdAt": "2020-05-14T09:50:41Z", "path": "benchmarks/docs/setup/README.md", "diffHunk": "@@ -1,29 +1,90 @@\n-# Setup a GCloud Cluster\n+# Setup a development cluster\n \n-As first you have to create a new cluster in the Google cloud console.\n-https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-cluster?hl=de\n-If you want to switch between clusters easily install `kubectx`.\n-On creating the new cluster and node pool make sure you are using `europe-west1-b` as zone.\n-Otherwise the cluster can be a bit limited due to our billing settings.\n+> There are a few additional steps that need to be done when setting this up with a cloud provider, such as GCP.\n+> There is a GCP specific section at the end to help you do so.\n \n-After the google cloud cluster is set up. You need to do some more initial steps to get our benchmarks\n-running.\n+In order to be able to properly test in a clustered setup, the development cluster requires\n+certain tools to be installed in it.\n \n+> The following assumes that the cluster was already created and configured locally, e.g. there\n+> a valid Kubernetes context configuration on your local machine\n \n-## Setup Tiller Service Account\n+To set up a development cluster, first ensure you are using the right Kubernetes context pointing to\n+the cluster you want to set up.\n \n+> Note that unless otherwise stated, you only need to set up a cluster for development once\n+\n+## Requirements\n+\n+The same requirements apply here as the general project (e.g. Helm v3.x.x).\n+\n+It's a good idea to update your Helm charts before proceeding.\n+\n+```sh\n+helm repo update\n+```\n+\n+## Monitoring\n+\n+To monitor your cluster, we will set up a the [Prometheus Operator helm chart](https://github.com/helm/charts/tree/master/stable/prometheus-operator),\n+which will install the following components the operator and Grafana.\n+\n+To do so, run:\n+\n+```sh\n+helm install metrics stable/prometheus-operator --atomic", "originalCommit": "ecd20b9e6566a0f0e871ad3e604295fd8a869693", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ba48f7e7bf1c0b7b174dc256b6d68863aad86662", "url": "https://github.com/camunda-cloud/zeebe/commit/ba48f7e7bf1c0b7b174dc256b6d68863aad86662", "message": "chore(benchmarks): version cluster setup", "committedDate": "2020-05-14T11:08:20Z", "type": "commit"}, {"oid": "ba48f7e7bf1c0b7b174dc256b6d68863aad86662", "url": "https://github.com/camunda-cloud/zeebe/commit/ba48f7e7bf1c0b7b174dc256b6d68863aad86662", "message": "chore(benchmarks): version cluster setup", "committedDate": "2020-05-14T11:08:20Z", "type": "forcePushed"}]}