{"pr_number": 5760, "pr_title": "fix(engine): always accept Deployment CREATE command", "pr_createdAt": "2020-11-04T10:57:55Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5760", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc4NDEyOA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5760#discussion_r517784128", "bodyText": "This string is not used anymore \ud83d\uddd1\ufe0f", "author": "saig0", "createdAt": "2020-11-05T04:21:33Z", "path": "engine/src/main/java/io/zeebe/engine/processing/deployment/DeploymentCreateProcessor.java", "diffHunk": "@@ -13,10 +13,10 @@\n import io.zeebe.engine.processing.streamprocessor.writers.TypedStreamWriter;\n import io.zeebe.engine.state.deployment.WorkflowState;\n import io.zeebe.protocol.impl.record.value.deployment.DeploymentRecord;\n-import io.zeebe.protocol.record.RejectionType;\n import io.zeebe.protocol.record.intent.DeploymentIntent;\n \n public final class DeploymentCreateProcessor implements TypedRecordProcessor<DeploymentRecord> {\n+\n   public static final String DEPLOYMENT_ALREADY_EXISTS_MESSAGE =\n       \"Expected to create a new deployment with key '%d', but there is already an existing deployment with that key\";", "originalCommit": "6e5e20fdc67c865fcda485f650510dcc4effe015", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc4NDc0MQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5760#discussion_r517784741", "bodyText": "Since the behavior changes, we should also change the name of the test method shouldRejectTwoCreatingCommands().", "author": "saig0", "createdAt": "2020-11-05T04:24:17Z", "path": "engine/src/test/java/io/zeebe/engine/processing/deployment/DeploymentCreateProcessorTest.java", "diffHunk": "@@ -73,12 +74,12 @@ public void shouldRejectTwoCreatingCommands() {\n             DeploymentIntent.CREATE,\n             DeploymentIntent.CREATED,\n             DeploymentIntent.CREATE,\n-            DeploymentIntent.CREATE);\n+            DeploymentIntent.CREATED);\n     //\n     Assertions.assertThat(collect)\n         .extracting(Record::getRecordType)\n         .containsExactly(\n-            RecordType.COMMAND, RecordType.EVENT, RecordType.COMMAND, RecordType.COMMAND_REJECTION);\n+            RecordType.COMMAND, RecordType.EVENT, RecordType.COMMAND, RecordType.EVENT);", "originalCommit": "6e5e20fdc67c865fcda485f650510dcc4effe015", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a0b4260fcf833868080f946e052eb7c435d858fe", "url": "https://github.com/camunda-cloud/zeebe/commit/a0b4260fcf833868080f946e052eb7c435d858fe", "message": "fix(engine): always accept Deplyoment CREATE command", "committedDate": "2020-11-06T18:44:50Z", "type": "commit"}, {"oid": "a0b4260fcf833868080f946e052eb7c435d858fe", "url": "https://github.com/camunda-cloud/zeebe/commit/a0b4260fcf833868080f946e052eb7c435d858fe", "message": "fix(engine): always accept Deplyoment CREATE command", "committedDate": "2020-11-06T18:44:50Z", "type": "forcePushed"}]}