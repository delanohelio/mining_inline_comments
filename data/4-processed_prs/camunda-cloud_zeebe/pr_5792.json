{"pr_number": 5792, "pr_title": "Remove usage of Throwable#printStackTrace from production code", "pr_createdAt": "2020-11-09T09:47:42Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5792", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTMxNw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520279317", "bodyText": "Shouldn't we use the existing ActorLogger?\nhttps://github.com/zeebe-io/zeebe/blob/develop/util/src/main/java/io/zeebe/util/Loggers.java#L16", "author": "saig0", "createdAt": "2020-11-10T04:30:09Z", "path": "util/src/main/java/io/zeebe/util/sched/ActorThread.java", "diffHunk": "@@ -32,13 +32,16 @@\n import org.agrona.UnsafeAccess;\n import org.agrona.concurrent.BackoffIdleStrategy;\n import org.agrona.concurrent.ManyToManyConcurrentArrayQueue;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n import org.slf4j.MDC;\n import sun.misc.Unsafe;\n \n @SuppressWarnings(\"restriction\")\n public class ActorThread extends Thread implements Consumer<Runnable> {\n   static final Unsafe UNSAFE = UnsafeAccess.UNSAFE;\n   private static final long STATE_OFFSET;\n+  private static final Logger LOG = LoggerFactory.getLogger(ActorThread.class);", "originalCommit": "49246a4cee5476c71483e057cf7f75beb4558b20", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM0NjY1MQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520346651", "bodyText": "Yes; why I initially went with a per-class logger is because I think in the long run it makes sense for us to drop these broad loggers. If you want to get fine-grained trace logs, or debug, etc., if you want control over what you're seeing, having one logger used for a complete unit is counter productive as you may get too much logs. At the same time, having one logger per class is cheap, and you can still group things by packages... Additionally, by sticking with one logger per class, this also follows standard conventions.\nHowever for this PR we probably should remain consistent, and moving away from module-level loggers or some such should be something we do in a separate PR.", "author": "npepinpe", "createdAt": "2020-11-10T07:34:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTMxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQxNjU3MA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520416570", "bodyText": "I agree. Let's discuss/announce it in the team meeting first :)", "author": "saig0", "createdAt": "2020-11-10T09:33:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTMxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTQ3Nw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520279477", "bodyText": "Shouldn't we use the existing SystemLogger? https://github.com/zeebe-io/zeebe/blob/develop/broker/src/main/java/io/zeebe/broker/Loggers.java#L16", "author": "saig0", "createdAt": "2020-11-10T04:30:50Z", "path": "dist/src/main/java/io/zeebe/broker/StandaloneBroker.java", "diffHunk": "@@ -28,6 +31,7 @@\n @SpringBootApplication(exclude = ElasticsearchRestClientAutoConfiguration.class)\n @ComponentScan({\"io.zeebe.broker\", \"io.zeebe.shared\"})\n public class StandaloneBroker implements CommandLineRunner {\n+  private static final Logger LOG = LoggerFactory.getLogger(StandaloneBroker.class);", "originalCommit": "49246a4cee5476c71483e057cf7f75beb4558b20", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM0Nzc0NA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520347744", "bodyText": "Should we? It's unclear to me what is referred to here by the system, to be honest. I think this kind of fits with the point I was trying to make above, but again, outside of scope for this PR, so let's go with that for now.", "author": "npepinpe", "createdAt": "2020-11-10T07:37:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTQ3Nw=="}], "type": "inlineReview"}, {"oid": "abd732767593f420b93d4e6d19b45dd5cb46926f", "url": "https://github.com/camunda-cloud/zeebe/commit/abd732767593f420b93d4e6d19b45dd5cb46926f", "message": "fix(util): use loggers instead of printStackTrace", "committedDate": "2020-11-10T09:32:04Z", "type": "commit"}, {"oid": "c3a9b7cb897133e5bab974b71876776936a666f9", "url": "https://github.com/camunda-cloud/zeebe/commit/c3a9b7cb897133e5bab974b71876776936a666f9", "message": "fix(dist): use loggers instead of printStackTrace", "committedDate": "2020-11-10T09:32:05Z", "type": "commit"}, {"oid": "c3a9b7cb897133e5bab974b71876776936a666f9", "url": "https://github.com/camunda-cloud/zeebe/commit/c3a9b7cb897133e5bab974b71876776936a666f9", "message": "fix(dist): use loggers instead of printStackTrace", "committedDate": "2020-11-10T09:32:05Z", "type": "forcePushed"}]}