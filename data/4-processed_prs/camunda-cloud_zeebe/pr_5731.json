{"pr_number": 5731, "pr_title": "Remove FNI exporter", "pr_createdAt": "2020-10-30T10:31:59Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5731", "timeline": [{"oid": "ceb73f80af245217a865c8a1a82877b82eb99ec8", "url": "https://github.com/camunda-cloud/zeebe/commit/ceb73f80af245217a865c8a1a82877b82eb99ec8", "message": "chore(broker): Revert \"chore(broker): add fni metrics\"\n\nThis reverts commit ed04e6baf964966cd409fdedde574ae2e4bf9251.", "committedDate": "2020-10-30T10:16:50Z", "type": "commit"}, {"oid": "1ca1d5fc17180d81b611de7881a5b594c644b01e", "url": "https://github.com/camunda-cloud/zeebe/commit/1ca1d5fc17180d81b611de7881a5b594c644b01e", "message": "chore(monitor): use old element instance metrics for FNI", "committedDate": "2020-10-30T10:27:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MDM0Mw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5731#discussion_r515060343", "bodyText": "I just thought about something - do we also count terminated here? I just saw activated/completed, but of course it may have been because none of them were terminated. Did you verify? I'm asking because I'm not sure if action !=\"activated\" is enough.", "author": "npepinpe", "createdAt": "2020-10-30T12:23:35Z", "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -253,10 +253,10 @@\n           \"steppedLine\": false,\n           \"targets\": [\n             {\n-              \"expr\": \"sum(rate(zeebe_flow_node_instance_counter{namespace=~\\\"$namespace\\\", pod=~\\\"$pod\\\"}[1m])) by (partition, type)\",\n+              \"expr\": \"sum(rate(zeebe_element_instance_events_total{namespace=~\\\"$namespace\\\", pod=~\\\"$pod\\\", type!=\\\"PROCESS\\\", action!=\\\"activated\\\"}[1m])) by (partition, action)\",", "originalCommit": "1ca1d5fc17180d81b611de7881a5b594c644b01e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MTIyNg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5731#discussion_r515061226", "bodyText": "We count terminated I verified it and this is how it was before we want to show both.", "author": "Zelldon", "createdAt": "2020-10-30T12:25:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MDM0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2OTUwNA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5731#discussion_r515069504", "bodyText": "@npepinpe", "author": "Zelldon", "createdAt": "2020-10-30T12:41:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MDM0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwNzY2NQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5731#discussion_r515107665", "bodyText": "Ok, so this count will be exactly completed + terminated? \ud83d\udc4d", "author": "npepinpe", "createdAt": "2020-10-30T13:45:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MDM0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwNzg3Mg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5731#discussion_r515107872", "bodyText": "yes", "author": "Zelldon", "createdAt": "2020-10-30T13:45:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MDM0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2MDQzNg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5731#discussion_r515060436", "bodyText": "Same as above", "author": "npepinpe", "createdAt": "2020-10-30T12:23:46Z", "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -361,12 +361,11 @@\n           \"pluginVersion\": \"6.7.1\",\n           \"targets\": [\n             {\n-              \"expr\": \"sum(rate(zeebe_flow_node_instance_counter{namespace=~\\\"$namespace\\\", pod=~\\\"$pod\\\"}[1m]))\",\n-              \"format\": \"time_series\",\n+              \"expr\": \"sum(rate(zeebe_element_instance_events_total{namespace=~\\\"$namespace\\\", pod=~\\\"$pod\\\", type!=\\\"PROCESS\\\", action!=\\\"activated\\\"}[1m]))\",", "originalCommit": "1ca1d5fc17180d81b611de7881a5b594c644b01e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}