{"pr_number": 5168, "pr_title": "fix(broker): environmentalise sed -i in benchmarks", "pr_createdAt": "2020-08-13T11:21:53Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5168", "timeline": [{"oid": "4635aef93db7510dd663a5f06fc0583a2593d85f", "url": "https://github.com/camunda-cloud/zeebe/commit/4635aef93db7510dd663a5f06fc0583a2593d85f", "message": "fix(broker): environmentalise sed -i in benchmarks", "committedDate": "2020-08-13T11:07:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMwMjgzMQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5168#discussion_r471302831", "bodyText": "I'm not sure about this. We have co-worker(s) working on Windows as well AFAIK.\n@pihme does the current sed implementation of this newBenchmark script work on your machine?", "author": "korthout", "createdAt": "2020-08-17T07:50:57Z", "path": "benchmarks/setup/newBenchmark.sh", "diffHunk": "@@ -1,4 +1,27 @@\n #!/bin/bash\n+\n+GO_OS=${GO_OS:-\"linux\"}\n+\n+function detect_os {\n+    # Detect the OS name\n+    case \"$(uname -s)\" in\n+      Darwin)\n+        host_os=darwin\n+        ;;\n+      Linux)\n+        host_os=linux\n+        ;;\n+      *)\n+        echo \"Unsupported host OS. Must be Linux or Mac OS X.\" >&2", "originalCommit": "4635aef93db7510dd663a5f06fc0583a2593d85f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxNjA4OQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5168#discussion_r471316089", "bodyText": "It does work. I have to use WSL (Windows Subsystem for Linux) anyway, and it registers properly as Linux i that mode.", "author": "pihme", "createdAt": "2020-08-17T08:16:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMwMjgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxNzkzNg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5168#discussion_r471317936", "bodyText": "@pihme ok, so the change here would also still work on WSL?", "author": "korthout", "createdAt": "2020-08-17T08:20:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMwMjgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxOTIzMg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5168#discussion_r471319232", "bodyText": "Yes, I tested it.", "author": "pihme", "createdAt": "2020-08-17T08:22:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMwMjgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMyMDM5Mg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5168#discussion_r471320392", "bodyText": "Thanks", "author": "korthout", "createdAt": "2020-08-17T08:25:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMwMjgzMQ=="}], "type": "inlineReview"}]}