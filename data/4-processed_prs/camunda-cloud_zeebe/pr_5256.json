{"pr_number": 5256, "pr_title": "Add new processing metrics", "pr_createdAt": "2020-08-28T12:57:46Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5256", "timeline": [{"oid": "5ef9cc847d5e0e3d2338489333c9847dd9542b1f", "url": "https://github.com/camunda-cloud/zeebe/commit/5ef9cc847d5e0e3d2338489333c9847dd9542b1f", "message": "chore(monitor): add new processing panels", "committedDate": "2020-08-28T12:58:34Z", "type": "forcePushed"}, {"oid": "50a69fd9907560b868da21258bce3a10f196ed25", "url": "https://github.com/camunda-cloud/zeebe/commit/50a69fd9907560b868da21258bce3a10f196ed25", "message": "chore(logstreams): add append and commit position metrics", "committedDate": "2020-08-28T13:04:25Z", "type": "commit"}, {"oid": "da6ea0721ec19b9cf365f6a440c83888aca35013", "url": "https://github.com/camunda-cloud/zeebe/commit/da6ea0721ec19b9cf365f6a440c83888aca35013", "message": "chore(engine): add last processed metrics", "committedDate": "2020-08-28T13:04:25Z", "type": "commit"}, {"oid": "5520b4ead529a11381bce19542b5c90189ebc9e7", "url": "https://github.com/camunda-cloud/zeebe/commit/5520b4ead529a11381bce19542b5c90189ebc9e7", "message": "chore(broker): add last exported metrics", "committedDate": "2020-08-28T13:04:25Z", "type": "commit"}, {"oid": "a5257ebbbd7482372937e0c943563e652c965fda", "url": "https://github.com/camunda-cloud/zeebe/commit/a5257ebbbd7482372937e0c943563e652c965fda", "message": "chore(monitor): add new processing panels", "committedDate": "2020-08-28T13:05:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5NjU5Nw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479296597", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"title\": \"Not updated exporter position\",\n          \n          \n            \n                      \"title\": \"Number of records exported but not acknowledged\",", "author": "deepthidevaki", "createdAt": "2020-08-28T13:36:20Z", "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -1496,6 +1496,587 @@\n         \"x\": 0,\n         \"y\": 1\n       },\n+      \"id\": 203,\n+      \"panels\": [\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many positions are not updated by exporters per partition. Means what is the difference between last committed exporter position and committed log position.\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 12,\n+            \"x\": 0,\n+            \"y\": 2\n+          },\n+          \"id\": 192,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_exporter_last_updated_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"{{exporter}} {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not updated exporter position\",", "originalCommit": "a5257ebbbd7482372937e0c943563e652c965fda", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5ODI2MA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479298260", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"title\": \"Not Exported Records\",\n          \n          \n            \n                      \"title\": \"Number of records not exported\",", "author": "deepthidevaki", "createdAt": "2020-08-28T13:38:09Z", "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -1496,6 +1496,587 @@\n         \"x\": 0,\n         \"y\": 1\n       },\n+      \"id\": 203,\n+      \"panels\": [\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many positions are not updated by exporters per partition. Means what is the difference between last committed exporter position and committed log position.\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 12,\n+            \"x\": 0,\n+            \"y\": 2\n+          },\n+          \"id\": 192,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_exporter_last_updated_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"{{exporter}} {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not updated exporter position\",\n+          \"type\": \"gauge\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the position, which was appended last by the leader per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 12,\n+            \"y\": 2\n+          },\n+          \"id\": 196,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_appended_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last appended position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last committed log position.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 16,\n+            \"y\": 2\n+          },\n+          \"id\": 200,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last committed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last processed position by the stream processor per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 20,\n+            \"y\": 2\n+          },\n+          \"id\": 198,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_stream_processor_last_processed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            },\n+            {\n+              \"expr\": \"\",\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"B\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last processed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many records are not exported yet.\",\n+          \"gridPos\": {\n+            \"h\": 6,\n+            \"w\": 5,\n+            \"x\": 0,\n+            \"y\": 6\n+          },\n+          \"id\": 194,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"mean\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}) by (partition) - sum (zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\", exporter=\\\"elasticsearch\\\"}) by (partition)\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"Exporter {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not Exported Records\",", "originalCommit": "a5257ebbbd7482372937e0c943563e652c965fda", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5OTUwNg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479299506", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"title\": \"Not processed\",\n          \n          \n            \n                      \"title\": \"Number of records not processed\",", "author": "deepthidevaki", "createdAt": "2020-08-28T13:39:29Z", "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -1496,6 +1496,587 @@\n         \"x\": 0,\n         \"y\": 1\n       },\n+      \"id\": 203,\n+      \"panels\": [\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many positions are not updated by exporters per partition. Means what is the difference between last committed exporter position and committed log position.\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 12,\n+            \"x\": 0,\n+            \"y\": 2\n+          },\n+          \"id\": 192,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_exporter_last_updated_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"{{exporter}} {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not updated exporter position\",\n+          \"type\": \"gauge\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the position, which was appended last by the leader per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 12,\n+            \"y\": 2\n+          },\n+          \"id\": 196,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_appended_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last appended position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last committed log position.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 16,\n+            \"y\": 2\n+          },\n+          \"id\": 200,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last committed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last processed position by the stream processor per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 20,\n+            \"y\": 2\n+          },\n+          \"id\": 198,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_stream_processor_last_processed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            },\n+            {\n+              \"expr\": \"\",\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"B\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last processed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many records are not exported yet.\",\n+          \"gridPos\": {\n+            \"h\": 6,\n+            \"w\": 5,\n+            \"x\": 0,\n+            \"y\": 6\n+          },\n+          \"id\": 194,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"mean\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}) by (partition) - sum (zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\", exporter=\\\"elasticsearch\\\"}) by (partition)\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"Exporter {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not Exported Records\",\n+          \"type\": \"gauge\"\n+        },\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many records the stream processor has not processed yet.\",\n+          \"gridPos\": {\n+            \"h\": 6,\n+            \"w\": 7,\n+            \"x\": 5,\n+            \"y\": 6\n+          },\n+          \"id\": 189,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_stream_processor_last_processed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"Partition {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not processed\",", "originalCommit": "a5257ebbbd7482372937e0c943563e652c965fda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTMwNjA2MA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479306060", "bodyText": "Should it be last_appended - last_processed?", "author": "deepthidevaki", "createdAt": "2020-08-28T13:46:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5OTUwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTMwODA5MA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479308090", "bodyText": "Hm no because the actual end of the log for the processing is the last committed position. At least this was my thought", "author": "Zelldon", "createdAt": "2020-08-28T13:48:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5OTUwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTMxMjkwMA==", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479312900", "bodyText": "Ok", "author": "deepthidevaki", "createdAt": "2020-08-28T13:53:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5OTUwNg=="}], "type": "inlineReview"}, {"oid": "4d1b005da537fdc040987cc57577d5a4e23ff19e", "url": "https://github.com/camunda-cloud/zeebe/commit/4d1b005da537fdc040987cc57577d5a4e23ff19e", "message": "chore(monitor): add new processing panels", "committedDate": "2020-08-31T07:24:26Z", "type": "commit"}, {"oid": "4d1b005da537fdc040987cc57577d5a4e23ff19e", "url": "https://github.com/camunda-cloud/zeebe/commit/4d1b005da537fdc040987cc57577d5a4e23ff19e", "message": "chore(monitor): add new processing panels", "committedDate": "2020-08-31T07:24:26Z", "type": "forcePushed"}]}