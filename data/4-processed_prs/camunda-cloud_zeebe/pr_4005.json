{"pr_number": 4005, "pr_title": " feat(broker): use FEEL for conditions on sequence flows", "pr_createdAt": "2020-03-09T13:01:55Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/4005", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2MjA4Mg==", "url": "https://github.com/camunda-cloud/zeebe/pull/4005#discussion_r390162082", "bodyText": "What if the condition is foo? Is it a valid condition expression?", "author": "deepthidevaki", "createdAt": "2020-03-10T08:43:42Z", "path": "engine/src/test/resources/workflows/invalid_process_condition.bpmn", "diffHunk": "@@ -1,13 +1,16 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:zeebe=\"http://camunda.org/schema/zeebe/1.0\" id=\"Definitions_1\" targetNamespace=\"http://bpmn.io/schema/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"1.8.2\">\n+<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"\n+  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"Definitions_1\"\n+  targetNamespace=\"http://bpmn.io/schema/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"1.8.2\">\n   <bpmn:process id=\"process\" name=\"Process\" isExecutable=\"true\">\n-  <bpmn:startEvent id=\"start\" />\n-  <bpmn:sequenceFlow id=\"flow1\" sourceRef=\"start\" targetRef=\"gateway\" />\n-  <bpmn:exclusiveGateway id=\"gateway\" />\n-  <bpmn:sequenceFlow id=\"flow2\" sourceRef=\"gateway\" targetRef=\"end\" >\n-    <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">foo</bpmn:conditionExpression>\n-  </bpmn:sequenceFlow>\n-  <bpmn:endEvent id=\"end\" />\n+    <bpmn:startEvent id=\"start\"/>\n+    <bpmn:sequenceFlow id=\"flow1\" sourceRef=\"start\" targetRef=\"gateway\"/>\n+    <bpmn:exclusiveGateway id=\"gateway\"/>\n+    <bpmn:sequenceFlow id=\"flow2\" sourceRef=\"gateway\" targetRef=\"end\">\n+      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">=?!</bpmn:conditionExpression>", "originalCommit": "700d955f64b9eb818dd6738bdbcb1c22a4da9d99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2Mzc0Mg==", "url": "https://github.com/camunda-cloud/zeebe/pull/4005#discussion_r390163742", "bodyText": "Yes, it is. foo could be a boolean variable that is computed before.\nCurrently, we need to write 'foo == true` \ud83d\ude05", "author": "saig0", "createdAt": "2020-03-10T08:47:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2MjA4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2NDQxNw==", "url": "https://github.com/camunda-cloud/zeebe/pull/4005#discussion_r390164417", "bodyText": "So it is always treated as an expression to be evaluated, not just a static value foo.", "author": "deepthidevaki", "createdAt": "2020-03-10T08:48:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2MjA4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2NTIzMg==", "url": "https://github.com/camunda-cloud/zeebe/pull/4005#discussion_r390165232", "bodyText": "Correct \ud83d\udc4d\nI see no use case for a static value here.", "author": "saig0", "createdAt": "2020-03-10T08:50:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2MjA4Mg=="}], "type": "inlineReview"}, {"oid": "f617827d6f65544c091bdfa39b38566b1ee50ee3", "url": "https://github.com/camunda-cloud/zeebe/commit/f617827d6f65544c091bdfa39b38566b1ee50ee3", "message": "feat(broker): use FEEL for conditions on sequence flows\n\n* replace the existing condition language with FEEL to uniform the expression languages\n* conditions can be used on sequence flows that are attached to an exclusive gateway\n* remove msgpack-el module", "committedDate": "2020-03-10T13:43:48Z", "type": "commit"}, {"oid": "f617827d6f65544c091bdfa39b38566b1ee50ee3", "url": "https://github.com/camunda-cloud/zeebe/commit/f617827d6f65544c091bdfa39b38566b1ee50ee3", "message": "feat(broker): use FEEL for conditions on sequence flows\n\n* replace the existing condition language with FEEL to uniform the expression languages\n* conditions can be used on sequence flows that are attached to an exclusive gateway\n* remove msgpack-el module", "committedDate": "2020-03-10T13:43:48Z", "type": "forcePushed"}]}