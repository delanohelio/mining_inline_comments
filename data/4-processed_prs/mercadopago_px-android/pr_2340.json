{"pr_number": 2340, "pr_title": "[Feature] Tracks", "pr_createdAt": "2020-09-21T21:09:00Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2340", "timeline": [{"oid": "28c2e4fac90ed596193b7e1ad95a413b79641cb0", "url": "https://github.com/mercadopago/px-android/commit/28c2e4fac90ed596193b7e1ad95a413b79641cb0", "message": "init feature branch", "committedDate": "2020-08-23T14:58:20Z", "type": "commit"}, {"oid": "82cb7b8cd4fb64f9e42d40854d85f880956dbd74", "url": "https://github.com/mercadopago/px-android/commit/82cb7b8cd4fb64f9e42d40854d85f880956dbd74", "message": "security code fragment added", "committedDate": "2020-08-31T11:50:47Z", "type": "commit"}, {"oid": "769960d27b06ddae9581551b4e069398c5284144", "url": "https://github.com/mercadopago/px-android/commit/769960d27b06ddae9581551b4e069398c5284144", "message": "Merge branch 'master' of github.com:mercadopago/px-android into feature/new-cvv-screen", "committedDate": "2020-08-31T11:53:03Z", "type": "commit"}, {"oid": "be68dd58df70ccf5317ebf1bb4786fdf0b6b5d84", "url": "https://github.com/mercadopago/px-android/commit/be68dd58df70ccf5317ebf1bb4786fdf0b6b5d84", "message": "viewmodel created", "committedDate": "2020-09-01T14:41:35Z", "type": "commit"}, {"oid": "3c31e23d507d035c82f47793415037217608fc2e", "url": "https://github.com/mercadopago/px-android/commit/3c31e23d507d035c82f47793415037217608fc2e", "message": "paylogic added", "committedDate": "2020-09-02T14:01:59Z", "type": "commit"}, {"oid": "2007e41be0c724b30b7550dec14057d61fdecdfc", "url": "https://github.com/mercadopago/px-android/commit/2007e41be0c724b30b7550dec14057d61fdecdfc", "message": "paylogic with paymentrecovery", "committedDate": "2020-09-03T18:19:21Z", "type": "commit"}, {"oid": "471a31738d0a9703820dcc597593098865e62692", "url": "https://github.com/mercadopago/px-android/commit/471a31738d0a9703820dcc597593098865e62692", "message": "refactor ciew model factory", "committedDate": "2020-09-03T19:22:44Z", "type": "commit"}, {"oid": "5a848d10f0e21412eca04d4c0b10853577b844a1", "url": "https://github.com/mercadopago/px-android/commit/5a848d10f0e21412eca04d4c0b10853577b844a1", "message": "merge master", "committedDate": "2020-09-03T19:45:28Z", "type": "commit"}, {"oid": "f0736150868f79f236616c9470832693fe6adcf0", "url": "https://github.com/mercadopago/px-android/commit/f0736150868f79f236616c9470832693fe6adcf0", "message": "revert change", "committedDate": "2020-09-03T20:19:25Z", "type": "commit"}, {"oid": "686ebe01c123c898fa30c34f39fd22c77afb4ed5", "url": "https://github.com/mercadopago/px-android/commit/686ebe01c123c898fa30c34f39fd22c77afb4ed5", "message": "revert change in samples", "committedDate": "2020-09-03T20:22:04Z", "type": "commit"}, {"oid": "4c7fbb5ac3c2468e0cfc3c8c4fc6e26658e27dfe", "url": "https://github.com/mercadopago/px-android/commit/4c7fbb5ac3c2468e0cfc3c8c4fc6e26658e27dfe", "message": "refactor", "committedDate": "2020-09-03T20:57:11Z", "type": "commit"}, {"oid": "11ac243d0c1a1d5cff982a0e2c7ff4cc0a359709", "url": "https://github.com/mercadopago/px-android/commit/11ac243d0c1a1d5cff982a0e2c7ff4cc0a359709", "message": "review changes", "committedDate": "2020-09-03T21:51:29Z", "type": "commit"}, {"oid": "10dc1e18846efee072bcb12b79242503eb2342a1", "url": "https://github.com/mercadopago/px-android/commit/10dc1e18846efee072bcb12b79242503eb2342a1", "message": "add resource string", "committedDate": "2020-09-04T17:37:56Z", "type": "commit"}, {"oid": "7b22ca7591720cddcbf84ac98614fa3c1937bfa4", "url": "https://github.com/mercadopago/px-android/commit/7b22ca7591720cddcbf84ac98614fa3c1937bfa4", "message": "translation resource added", "committedDate": "2020-09-04T18:06:13Z", "type": "commit"}, {"oid": "7c869ba4448f9fa02996a04359baa6ab6cde7922", "url": "https://github.com/mercadopago/px-android/commit/7c869ba4448f9fa02996a04359baa6ab6cde7922", "message": "test fixed", "committedDate": "2020-09-04T18:58:59Z", "type": "commit"}, {"oid": "23c082a4c974c3de3fafe440a1616836c5d3868c", "url": "https://github.com/mercadopago/px-android/commit/23c082a4c974c3de3fafe440a1616836c5d3868c", "message": "retries with snackbar", "committedDate": "2020-09-08T20:27:20Z", "type": "commit"}, {"oid": "de45027e4d12cbb74757866326df96bba146d07b", "url": "https://github.com/mercadopago/px-android/commit/de45027e4d12cbb74757866326df96bba146d07b", "message": "review changes", "committedDate": "2020-09-08T21:36:36Z", "type": "commit"}, {"oid": "1db09895b41eca4fdf6f41ad6681aaea17166230", "url": "https://github.com/mercadopago/px-android/commit/1db09895b41eca4fdf6f41ad6681aaea17166230", "message": "merge", "committedDate": "2020-09-08T21:42:40Z", "type": "commit"}, {"oid": "2e6e3e19ada54d3fd49d2af23ee161c857bd81c0", "url": "https://github.com/mercadopago/px-android/commit/2e6e3e19ada54d3fd49d2af23ee161c857bd81c0", "message": "snackbar error with action added", "committedDate": "2020-09-09T15:20:42Z", "type": "commit"}, {"oid": "0b6a3ed02e4f17dd508bb8ae3670c608e24575c8", "url": "https://github.com/mercadopago/px-android/commit/0b6a3ed02e4f17dd508bb8ae3670c608e24575c8", "message": "review changes", "committedDate": "2020-09-09T16:31:15Z", "type": "commit"}, {"oid": "3c0c37a44fa56b4e93f8312244acacb77d3e38ed", "url": "https://github.com/mercadopago/px-android/commit/3c0c37a44fa56b4e93f8312244acacb77d3e38ed", "message": "merge", "committedDate": "2020-09-09T18:27:02Z", "type": "commit"}, {"oid": "5a0770fa1e5c60de2dd94b9211d3499f6c2c34e7", "url": "https://github.com/mercadopago/px-android/commit/5a0770fa1e5c60de2dd94b9211d3499f6c2c34e7", "message": "review changes", "committedDate": "2020-09-09T18:44:42Z", "type": "commit"}, {"oid": "9d13d59112c8a5aeffafaec314919b91c303d8c1", "url": "https://github.com/mercadopago/px-android/commit/9d13d59112c8a5aeffafaec314919b91c303d8c1", "message": "Merge branch 'feature/paylogic' of github.com:mercadopago/px-android into feature/error_retries", "committedDate": "2020-09-09T18:49:22Z", "type": "commit"}, {"oid": "37754437552198465b613366fa1f24b330b7ff62", "url": "https://github.com/mercadopago/px-android/commit/37754437552198465b613366fa1f24b330b7ff62", "message": "SingleLiveData created", "committedDate": "2020-09-09T20:25:30Z", "type": "commit"}, {"oid": "06bee422dd622403fd2d542f3ff878c7582202b4", "url": "https://github.com/mercadopago/px-android/commit/06bee422dd622403fd2d542f3ff878c7582202b4", "message": "MutableSingleLiveData created", "committedDate": "2020-09-09T20:26:17Z", "type": "commit"}, {"oid": "9f06dda5dad04d2bdc05ec27d3eb2d27324fc737", "url": "https://github.com/mercadopago/px-android/commit/9f06dda5dad04d2bdc05ec27d3eb2d27324fc737", "message": "add tab", "committedDate": "2020-09-09T20:28:29Z", "type": "commit"}, {"oid": "92be8e5ad2f5ff0f682abddf9c7b3cb2ad95f5fc", "url": "https://github.com/mercadopago/px-android/commit/92be8e5ad2f5ff0f682abddf9c7b3cb2ad95f5fc", "message": "merge", "committedDate": "2020-09-10T11:55:42Z", "type": "commit"}, {"oid": "ec18cade1bb34463e3d10017ebe3f2926fbc2c7d", "url": "https://github.com/mercadopago/px-android/commit/ec18cade1bb34463e3d10017ebe3f2926fbc2c7d", "message": "refactor code", "committedDate": "2020-09-10T15:47:33Z", "type": "commit"}, {"oid": "a1783924fa107a1e7c2ca57dbdc8c5b9bc8bba6c", "url": "https://github.com/mercadopago/px-android/commit/a1783924fa107a1e7c2ca57dbdc8c5b9bc8bba6c", "message": "merge with cvv-screen", "committedDate": "2020-09-10T16:35:12Z", "type": "commit"}, {"oid": "768d637491b7e89cc2c323e8465d02caf5f6d05f", "url": "https://github.com/mercadopago/px-android/commit/768d637491b7e89cc2c323e8465d02caf5f6d05f", "message": "revert changes", "committedDate": "2020-09-10T17:03:25Z", "type": "commit"}, {"oid": "7efe1577aa8fd2c124d55c0c1954f62dce94417f", "url": "https://github.com/mercadopago/px-android/commit/7efe1577aa8fd2c124d55c0c1954f62dce94417f", "message": "test fixed", "committedDate": "2020-09-10T17:11:18Z", "type": "commit"}, {"oid": "2c11400b8e57b4b2cb1bc2cf434a97cf6ae076b1", "url": "https://github.com/mercadopago/px-android/commit/2c11400b8e57b4b2cb1bc2cf434a97cf6ae076b1", "message": "refactor code", "committedDate": "2020-09-10T19:05:23Z", "type": "commit"}, {"oid": "077f9f7267e3b1edc0e8e488389fe60f0f67eaa7", "url": "https://github.com/mercadopago/px-android/commit/077f9f7267e3b1edc0e8e488389fe60f0f67eaa7", "message": "handle back fixed", "committedDate": "2020-09-10T20:29:27Z", "type": "commit"}, {"oid": "d0b9665d832ebbba5741152d158ec6d82748862a", "url": "https://github.com/mercadopago/px-android/commit/d0b9665d832ebbba5741152d158ec6d82748862a", "message": "refactor", "committedDate": "2020-09-10T21:08:45Z", "type": "commit"}, {"oid": "7a2dda307b2e8089cea1fd2924d7007d8a7b0638", "url": "https://github.com/mercadopago/px-android/commit/7a2dda307b2e8089cea1fd2924d7007d8a7b0638", "message": "review change", "committedDate": "2020-09-14T19:02:43Z", "type": "commit"}, {"oid": "5a00603b39515346c1805f1917857efe3bb05171", "url": "https://github.com/mercadopago/px-android/commit/5a00603b39515346c1805f1917857efe3bb05171", "message": "Usecase added", "committedDate": "2020-09-15T14:55:19Z", "type": "commit"}, {"oid": "4d05212ed480cb16ae119686745f24ffba4753ea", "url": "https://github.com/mercadopago/px-android/commit/4d05212ed480cb16ae119686745f24ffba4753ea", "message": "refactor usecase", "committedDate": "2020-09-15T23:23:46Z", "type": "commit"}, {"oid": "36cba021043338564b25c207e4697b4e60e8930a", "url": "https://github.com/mercadopago/px-android/commit/36cba021043338564b25c207e4697b4e60e8930a", "message": "tracks", "committedDate": "2020-09-16T18:52:49Z", "type": "commit"}, {"oid": "34a006f21976d846950826c2a59565cdea0db6d8", "url": "https://github.com/mercadopago/px-android/commit/34a006f21976d846950826c2a59565cdea0db6d8", "message": "error handler fixed", "committedDate": "2020-09-17T12:26:16Z", "type": "commit"}, {"oid": "9aea8661634f2e58e290d7831d31b190dc4ea576", "url": "https://github.com/mercadopago/px-android/commit/9aea8661634f2e58e290d7831d31b190dc4ea576", "message": "revert change", "committedDate": "2020-09-17T12:32:38Z", "type": "commit"}, {"oid": "8b8b997ef408ee10390a354d4e947349e246da05", "url": "https://github.com/mercadopago/px-android/commit/8b8b997ef408ee10390a354d4e947349e246da05", "message": "clear cap added", "committedDate": "2020-09-17T12:43:24Z", "type": "commit"}, {"oid": "c5c56be4bf89fff89b05f639dae63b8af2edf9ad", "url": "https://github.com/mercadopago/px-android/commit/c5c56be4bf89fff89b05f639dae63b8af2edf9ad", "message": "test fixed", "committedDate": "2020-09-17T12:52:12Z", "type": "commit"}, {"oid": "f9564cbdd773047da9d77a42b556a89173b3e357", "url": "https://github.com/mercadopago/px-android/commit/f9564cbdd773047da9d77a42b556a89173b3e357", "message": "merge", "committedDate": "2020-09-17T13:06:29Z", "type": "commit"}, {"oid": "384cc3e6ff77be081cc76a0ef58250b9e5171e27", "url": "https://github.com/mercadopago/px-android/commit/384cc3e6ff77be081cc76a0ef58250b9e5171e27", "message": "merge", "committedDate": "2020-09-17T15:59:19Z", "type": "commit"}, {"oid": "edec9f4cb1de5cd119d5f971c9d0ede360b2c5f4", "url": "https://github.com/mercadopago/px-android/commit/edec9f4cb1de5cd119d5f971c9d0ede360b2c5f4", "message": "refactor tracks", "committedDate": "2020-09-17T16:25:41Z", "type": "commit"}, {"oid": "67a72c6ffce4ef9e6b243dcb07cd3757067b178d", "url": "https://github.com/mercadopago/px-android/commit/67a72c6ffce4ef9e6b243dcb07cd3757067b178d", "message": "refactor ConnectionError", "committedDate": "2020-09-17T16:41:07Z", "type": "commit"}, {"oid": "f49c25b14f59a063b83f2c4cd545aae0093a7870", "url": "https://github.com/mercadopago/px-android/commit/f49c25b14f59a063b83f2c4cd545aae0093a7870", "message": "remove values from paybutton", "committedDate": "2020-09-17T16:44:10Z", "type": "commit"}, {"oid": "6073b5f09c4dabc639e723e340a5a4c2203145cf", "url": "https://github.com/mercadopago/px-android/commit/6073b5f09c4dabc639e723e340a5a4c2203145cf", "message": "Merge branch 'feature/error_retries' of github.com:mercadopago/px-android into feature/usecases", "committedDate": "2020-09-17T16:46:25Z", "type": "commit"}, {"oid": "e3629f8c43b3657d7e5b39eebae0dd52de97d4e3", "url": "https://github.com/mercadopago/px-android/commit/e3629f8c43b3657d7e5b39eebae0dd52de97d4e3", "message": "merge", "committedDate": "2020-09-17T16:48:58Z", "type": "commit"}, {"oid": "f5314bd7037d953f92538850359dfb656aa1b20b", "url": "https://github.com/mercadopago/px-android/commit/f5314bd7037d953f92538850359dfb656aa1b20b", "message": "Merge branch 'feature/usecases' of github.com:mercadopago/px-android into feature/tracks", "committedDate": "2020-09-17T17:22:53Z", "type": "commit"}, {"oid": "a8cb7faaaafdc04ec487df44740908dbd53009e3", "url": "https://github.com/mercadopago/px-android/commit/a8cb7faaaafdc04ec487df44740908dbd53009e3", "message": "refactor", "committedDate": "2020-09-17T17:28:15Z", "type": "commit"}, {"oid": "93bf72c6c62b9934fa3d4b297c84d6925af5c7de", "url": "https://github.com/mercadopago/px-android/commit/93bf72c6c62b9934fa3d4b297c84d6925af5c7de", "message": "change name method in usecase", "committedDate": "2020-09-21T16:49:00Z", "type": "commit"}, {"oid": "ea200a17b2ed434f5c175da13234936913c4d3cc", "url": "https://github.com/mercadopago/px-android/commit/ea200a17b2ed434f5c175da13234936913c4d3cc", "message": "change package Response class", "committedDate": "2020-09-21T16:51:46Z", "type": "commit"}, {"oid": "447679dc9e6f191a3eece22d8f3049ca982d0f73", "url": "https://github.com/mercadopago/px-android/commit/447679dc9e6f191a3eece22d8f3049ca982d0f73", "message": "refactor DisplayDataUseCase, SecurityTrackModelUseCase added", "committedDate": "2020-09-21T19:45:32Z", "type": "commit"}, {"oid": "a5d13e3b3f792f88c9270adea98bfe00b91cbaca", "url": "https://github.com/mercadopago/px-android/commit/a5d13e3b3f792f88c9270adea98bfe00b91cbaca", "message": "merge", "committedDate": "2020-09-21T20:50:36Z", "type": "commit"}, {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24", "url": "https://github.com/mercadopago/px-android/commit/2f0a28c04fb054902996c0671eb1831e5d138b24", "message": "refactor", "committedDate": "2020-09-21T21:06:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg0OTQ2OQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492849469", "bodyText": "Cambiar el mensaje este ahora que le cambiamos el nombre al m\u00e9todo", "author": "guchito9", "createdAt": "2020-09-22T15:53:28Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/base/use_case/UseCase.kt", "diffHunk": "@@ -21,9 +21,8 @@ abstract class UseCase<in P, out R> {\n                     withContext(Dispatchers.Main) { response.resolve(success, failure) }\n                 }\n             } catch (e: Exception) {\n-                failure(MercadoPagoError(\n-                    e.localizedMessage.orIfEmpty(\"Error when build ${this@UseCase.javaClass}\"),\n-                    false))\n+                val errorMessage = e.localizedMessage.orIfEmpty(\"Error when build ${this@UseCase.javaClass}\")", "originalCommit": "2f0a28c04fb054902996c0671eb1831e5d138b24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMDUwNQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493500505", "bodyText": "Cambiado", "author": "jorGonzalez291292", "createdAt": "2020-09-23T11:55:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg0OTQ2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg1ODM1Nw==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492858357", "bodyText": "El onBack se est\u00e1 haciendo siempre independientemente si backea o no", "author": "cgaggino", "createdAt": "2020-09-22T16:05:34Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "diffHunk": "@@ -126,7 +129,11 @@ internal class SecurityCodeFragment : Fragment(), PayButton.Handler, BackHandler\n         securityCodeViewModel.enqueueOnExploding(cvvEditText.text.toString(), callback)\n     }\n \n-    override fun handleBack() = payButtonFragment.isExploding()\n+    override fun onPaymentError(error: MercadoPagoError) {\n+        securityCodeViewModel.onPaymentError()\n+    }\n+\n+    override fun handleBack() = payButtonFragment.isExploding().also { securityCodeViewModel.onBack() }", "originalCommit": "2f0a28c04fb054902996c0671eb1831e5d138b24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMDMzOQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493500339", "bodyText": "Corregido", "author": "jorGonzalez291292", "createdAt": "2020-09-23T11:55:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg1ODM1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg2MTQxOQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492861419", "bodyText": "No podemos hacer la clase directamente para que este friction se pueda trackear en cualquier lado? como hacemos con los demas frictions", "author": "cgaggino", "createdAt": "2020-09-22T16:10:05Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonViewModel.kt", "diffHunk": "@@ -228,6 +228,14 @@ internal class PayButtonViewModel(\n             FrictionEventTracker.Id.GENERIC, FrictionEventTracker.Style.CUSTOM_COMPONENT, error).track()\n     }\n \n+    private fun trackNoConnectionFriction() {\n+        val frictionId = FrictionEventTracker.Id.NO_CONNECTION", "originalCommit": "2f0a28c04fb054902996c0671eb1831e5d138b24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMDE4NA==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493500184", "bodyText": "Cambiado", "author": "jorGonzalez291292", "createdAt": "2020-09-23T11:55:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg2MTQxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MDg2NQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492870865", "bodyText": "tenemos que pensar esta estructura, vamos a separar cada feature en las capas o vamos a tener las capas independientes de cada feature?\nlo que me imagino que va a suceder es que vamos a necesitar data de un feature en particular en otro y se van a empezar a mezclar los packages", "author": "cgaggino", "createdAt": "2020-09-22T16:24:01Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/data/SecurityCodeDisplayData.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package com.mercadopago.android.px.internal.features.security_code.data", "originalCommit": "2f0a28c04fb054902996c0671eb1831e5d138b24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMTc2MA==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493501760", "bodyText": "Desde esa perspectiva ten\u00e9s raz\u00f3n. Quer\u00e9s que arme los packges?", "author": "jorGonzalez291292", "createdAt": "2020-09-23T11:57:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MDg2NQ=="}], "type": "inlineReview"}, {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "url": "https://github.com/mercadopago/px-android/commit/f631325c90449d79ee59a04cfe347b7cb78e0fde", "message": "review changes", "committedDate": "2020-09-23T11:55:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODI2NQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496098265", "bodyText": "cuando se setea este actionpath? no lo veo", "author": "cgaggino", "createdAt": "2020-09-28T16:57:35Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.TrackWrapper\n+import com.mercadopago.android.px.tracking.internal.model.Reason\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+abstract class SecurityCodeTrack: TrackWrapper() {\n+\n+    protected val data = mutableMapOf<String, Any>()\n+    protected var actionPath: String = \"\"", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NDQ4OQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496884489", "bodyText": "Se setean en los hijos", "author": "jorGonzalez291292", "createdAt": "2020-09-29T16:39:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODI2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODY0NA==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496098644", "bodyText": "la data a trackear va a cambiar din\u00e1micamente? se puede setear mas de una vez? se puede resolver en el constructor?", "author": "cgaggino", "createdAt": "2020-09-28T16:58:13Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.TrackWrapper\n+import com.mercadopago.android.px.tracking.internal.model.Reason\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+abstract class SecurityCodeTrack: TrackWrapper() {\n+\n+    protected val data = mutableMapOf<String, Any>()\n+    protected var actionPath: String = \"\"\n+\n+    fun setTrackData(securityCodeData: TrackingMapModel, reason: Reason) {", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk4MTM0Mg==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496981342", "bodyText": "Cambiado", "author": "jorGonzalez291292", "createdAt": "2020-09-29T19:18:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODY0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEwMDI0OQ==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496100249", "bodyText": "la data a trackear va a cambiar din\u00e1micamente? se puede setear mas de una vez? se puede resolver en el constructor?", "author": "cgaggino", "createdAt": "2020-09-28T16:59:44Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeFrictions.kt", "diffHunk": "@@ -0,0 +1,33 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.events.FrictionEventTracker\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+import java.util.*\n+\n+class SecurityCodeFrictions {\n+    private val data = mutableMapOf<String, Any>()\n+\n+    fun setTrackData(data: TrackingMapModel) {", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEwMzg5NA==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496103894", "bodyText": "Creo que podemos dejarlo as\u00ed por ahora, pero la idea a futuro es dejar de depender de este repositorio, creo que esa card podria ser el input del usecase, y le deberia llegar de alguna forma a la pantalla de cvv tambien", "author": "cgaggino", "createdAt": "2020-09-28T17:04:28Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/domain/use_case/SecurityTrackModelUseCase.kt", "diffHunk": "@@ -0,0 +1,27 @@\n+package com.mercadopago.android.px.internal.features.security_code.domain.use_case\n+\n+import com.mercadopago.android.px.internal.base.use_case.UseCase\n+import com.mercadopago.android.px.internal.callbacks.Response\n+import com.mercadopago.android.px.internal.extensions.notNull\n+import com.mercadopago.android.px.internal.repository.UserSelectionRepository\n+import com.mercadopago.android.px.model.Card\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+class SecurityTrackModelUseCase(\n+    private val userSelectionRepository: UserSelectionRepository\n+) : UseCase<Unit, TrackingMapModel>() {\n+\n+    override suspend fun doExecute(param: Unit) = notNull(userSelectionRepository.card).let { card ->", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEwMzk4Ng==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496103986", "bodyText": "Creo que podemos dejarlo as\u00ed por ahora, pero la idea a futuro es dejar de depender de este repositorio, creo que esa card podria ser el input del usecase, y le deberia llegar de alguna forma a la pantalla de cvv tambien", "author": "cgaggino", "createdAt": "2020-09-28T17:04:37Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/domain/use_case/DisplayDataUseCase.kt", "diffHunk": "@@ -0,0 +1,30 @@\n+package com.mercadopago.android.px.internal.features.security_code.domain.use_case\n+\n+import com.mercadopago.android.px.internal.base.use_case.UseCase\n+import com.mercadopago.android.px.internal.callbacks.Response\n+import com.mercadopago.android.px.internal.callbacks.map\n+import com.mercadopago.android.px.internal.extensions.notNull\n+import com.mercadopago.android.px.internal.features.security_code.data.SecurityCodeDisplayData\n+import com.mercadopago.android.px.internal.features.security_code.domain.model.BusinessSecurityCodeDisplayData\n+import com.mercadopago.android.px.internal.features.security_code.mapper.BusinessSecurityCodeDisplayDataMapper\n+import com.mercadopago.android.px.internal.repository.InitRepository\n+import com.mercadopago.android.px.internal.repository.UserSelectionRepository\n+\n+internal class DisplayDataUseCase(\n+    private val initRepository: InitRepository,\n+    private val userSelectionRepository: UserSelectionRepository,\n+    private val securityCodeDisplayDataMapper: BusinessSecurityCodeDisplayDataMapper\n+) : UseCase<Unit, BusinessSecurityCodeDisplayData>() {\n+\n+    override suspend fun doExecute(param: Unit) = notNull(userSelectionRepository.card).let { card ->", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEyMjQ3NA==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496122474", "bodyText": "Ver de hacer que no dependa de business models y que ahga un mapper que se encargue, de esta forma podemos unificar con el otro CardDrawerConfiguration", "author": "cgaggino", "createdAt": "2020-09-28T17:37:43Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/CardUiConfiguration.kt", "diffHunk": "@@ -0,0 +1,84 @@\n+package com.mercadopago.android.px.internal.viewmodel\n+\n+import android.graphics.Color\n+import android.widget.ImageView\n+import com.meli.android.carddrawer.configuration.FontType\n+import com.meli.android.carddrawer.configuration.SecurityCodeLocation\n+import com.meli.android.carddrawer.model.CardAnimationType\n+import com.meli.android.carddrawer.model.CardUI\n+import com.mercadopago.android.px.internal.features.security_code.domain.model.BusinessCardDisplayInfo\n+import com.mercadopago.android.px.internal.util.ViewUtils\n+\n+internal class CardUiConfiguration(\n+    private val businessCardDisplayInfo: BusinessCardDisplayInfo,", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NzY1Ng==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496977656", "bodyText": "Dale", "author": "jorGonzalez291292", "createdAt": "2020-09-29T19:14:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEyMjQ3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NTc2MA==", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496885760", "bodyText": "Yo tirar\u00eda un error ac\u00e1 si son nulas las dos, y listo. Deber\u00eda ser el \u00fanico chequeo de esto al respecto.", "author": "guchito9", "createdAt": "2020-09-29T16:41:43Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "diffHunk": "@@ -73,10 +74,12 @@ internal class SecurityCodeFragment : Fragment(), PayButton.Handler, BackHandler\n                 \"PaymentRecovery or PaymentConfiguration and Reason are needed\"\n             }\n \n+            val paymentRecovery = getParcelable<PaymentRecovery>(EXTRA_PAYMENT_RECOVERY)\n+            val reason = paymentRecovery?.let { Reason.from(it) } ?: getString(EXTRA_REASON)?.let { Reason.valueOf(it) }", "originalCommit": "f631325c90449d79ee59a04cfe347b7cb78e0fde", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6c2a96d2cd7b3a65b3ad8716b188502a764ceffe", "url": "https://github.com/mercadopago/px-android/commit/6c2a96d2cd7b3a65b3ad8716b188502a764ceffe", "message": "review code", "committedDate": "2020-09-29T19:20:02Z", "type": "commit"}]}