{"pr_number": 2355, "pr_title": "[Feature] Cvv Activity", "pr_createdAt": "2020-10-15T14:34:21Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2355", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU5NzczOA==", "url": "https://github.com/mercadopago/px-android/pull/2355#discussion_r505597738", "bodyText": "Todo este c\u00f3digo est\u00e1 rancio y se tiene que poder mejorar", "author": "guchito9", "createdAt": "2020-10-15T14:39:47Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonFragment.kt", "diffHunk": "@@ -94,9 +106,21 @@ class PayButtonFragment : Fragment(), PayButton.View, SecurityValidationHandler\n             is UIProgress.ButtonLoadingCanceled -> cancelLoading()\n             is UIResult.VisualProcessorResult -> PaymentProcessorActivity.start(this, REQ_CODE_PAYMENT_PROCESSOR)\n             is UIError -> resolveError(stateUI)\n-            is UIResult.PaymentResult -> PaymentResultActivity.start(this, REQ_CODE_CONGRATS, stateUI.model)\n-            is UIResult.NoCongratsResult -> DummyResultActivity.start(this, REQ_CODE_CONGRATS, stateUI.model)\n-            is UIResult.CongratsPaymentModel -> PaymentCongrats.show(stateUI.model, activity, REQ_CODE_CONGRATS)\n+            is UIResult.PaymentResult -> if (activity is SecurityCodeActivity) {", "originalCommit": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTcyODQ1OQ==", "url": "https://github.com/mercadopago/px-android/pull/2355#discussion_r505728459", "bodyText": "Listo", "author": "guchito9", "createdAt": "2020-10-15T17:48:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU5NzczOA=="}], "type": "inlineReview"}, {"oid": "6b79c20f49cd206705b2e4525410c22f7d680e7c", "url": "https://github.com/mercadopago/px-android/commit/6b79c20f49cd206705b2e4525410c22f7d680e7c", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container", "committedDate": "2020-10-15T14:45:14Z", "type": "forcePushed"}, {"oid": "4b542b09aa0ba44d63176b3dc5e2a6db5d76af4d", "url": "https://github.com/mercadopago/px-android/commit/4b542b09aa0ba44d63176b3dc5e2a6db5d76af4d", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container", "committedDate": "2020-10-15T17:37:39Z", "type": "forcePushed"}, {"oid": "4f76eec17f5b6cde8a261bae24217631cc24a39c", "url": "https://github.com/mercadopago/px-android/commit/4f76eec17f5b6cde8a261bae24217631cc24a39c", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container", "committedDate": "2020-10-15T17:42:12Z", "type": "forcePushed"}, {"oid": "fac24165fe932181552a39354f0194e7c5d236e1", "url": "https://github.com/mercadopago/px-android/commit/fac24165fe932181552a39354f0194e7c5d236e1", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container", "committedDate": "2020-10-15T17:46:29Z", "type": "commit"}, {"oid": "fac24165fe932181552a39354f0194e7c5d236e1", "url": "https://github.com/mercadopago/px-android/commit/fac24165fe932181552a39354f0194e7c5d236e1", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container", "committedDate": "2020-10-15T17:46:29Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU5OTkyMA==", "url": "https://github.com/mercadopago/px-android/pull/2355#discussion_r505599920", "bodyText": "podemos agregar el clear del viewmodel ac\u00e1.", "author": "jorGonzalez291292", "createdAt": "2020-10-15T14:42:36Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/base/BaseFragment.kt", "diffHunk": "@@ -0,0 +1,21 @@\n+package com.mercadopago.android.px.internal.base\n+\n+import android.content.Context\n+import androidx.fragment.app.Fragment\n+\n+abstract class BaseFragment : Fragment() {\n+\n+    protected var fragmentCommunicationViewModel: FragmentCommunicationViewModel? = null\n+\n+    override fun onAttach(context: Context) {\n+        super.onAttach(context)\n+        if (context is PXActivity<*>) {\n+            fragmentCommunicationViewModel = context.fragmentCommunicationViewModel\n+        }\n+    }\n+\n+    override fun onDetach() {\n+        super.onDetach()\n+        fragmentCommunicationViewModel = null", "originalCommit": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}