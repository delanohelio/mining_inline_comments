{"pr_number": 61, "pr_title": "Activity wait for cancellation", "pr_createdAt": "2020-04-07T21:06:21Z", "pr_url": "https://github.com/temporalio/sdk-java/pull/61", "timeline": [{"oid": "ef17e4d5af60853bec8090db6d5cc425172016bc", "url": "https://github.com/temporalio/sdk-java/commit/ef17e4d5af60853bec8090db6d5cc425172016bc", "message": "Added ActivityOptions.abandonOnCancellation", "committedDate": "2020-04-05T18:40:10Z", "type": "commit"}, {"oid": "c2af5efa2a4d714339d7d390a5393801f61ba58a", "url": "https://github.com/temporalio/sdk-java/commit/c2af5efa2a4d714339d7d390a5393801f61ba58a", "message": "Test service still broken", "committedDate": "2020-04-06T19:26:33Z", "type": "commit"}, {"oid": "e7b5a05e43801cb223776c1d58cf2136c5de9dca", "url": "https://github.com/temporalio/sdk-java/commit/e7b5a05e43801cb223776c1d58cf2136c5de9dca", "message": "Merge branch 'enums' into activity_wait_for_cancellation", "committedDate": "2020-04-07T01:30:35Z", "type": "commit"}, {"oid": "54ad63348c0689b5be6a035cf657f77d9ef325f7", "url": "https://github.com/temporalio/sdk-java/commit/54ad63348c0689b5be6a035cf657f77d9ef325f7", "message": "Fixed test service handling of the child workflow cancellation", "committedDate": "2020-04-07T04:07:59Z", "type": "commit"}, {"oid": "ccca48b284f870f52acd11a332898bc8b6de4ca9", "url": "https://github.com/temporalio/sdk-java/commit/ccca48b284f870f52acd11a332898bc8b6de4ca9", "message": "Merge branch 'master' into activity_wait_for_cancellation", "committedDate": "2020-04-07T04:39:02Z", "type": "commit"}, {"oid": "29bec0c5d08b7eaf03ad05b0933d4d65fc8936ad", "url": "https://github.com/temporalio/sdk-java/commit/29bec0c5d08b7eaf03ad05b0933d4d65fc8936ad", "message": "Merge branch 'master' of github.com:temporalio/temporal-java-sdk into activity_wait_for_cancellation", "committedDate": "2020-04-07T20:40:13Z", "type": "commit"}, {"oid": "174ab5b7fac949769ef641555226cabdf0efc17d", "url": "https://github.com/temporalio/sdk-java/commit/174ab5b7fac949769ef641555226cabdf0efc17d", "message": "Introduced ActivityCancellationType", "committedDate": "2020-04-07T21:03:19Z", "type": "commit"}, {"oid": "babd4a5efad20586ab26ac372c7f1b4699590e43", "url": "https://github.com/temporalio/sdk-java/commit/babd4a5efad20586ab26ac372c7f1b4699590e43", "message": "Merge branch 'master' of github.com:temporalio/temporal-java-sdk into activity_wait_for_cancellation", "committedDate": "2020-04-08T00:31:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTIwMzIwOQ==", "url": "https://github.com/temporalio/sdk-java/pull/61#discussion_r405203209", "bodyText": "Not sure if move to reference equality was intended?", "author": "shawnhathaway", "createdAt": "2020-04-08T01:16:03Z", "path": "src/main/java/io/temporal/internal/replay/StartChildWorkflowExecutionParameters.java", "diffHunk": "@@ -232,42 +245,46 @@ public ParentClosePolicy getParentClosePolicy() {\n     return parentClosePolicy;\n   }\n \n+  public ChildWorkflowCancellationType getCancellationType() {\n+    return cancellationType;\n+  }\n+\n   @Override\n   public boolean equals(Object o) {\n     if (this == o) return true;\n     if (o == null || getClass() != o.getClass()) return false;\n     StartChildWorkflowExecutionParameters that = (StartChildWorkflowExecutionParameters) o;\n     return executionStartToCloseTimeoutSeconds == that.executionStartToCloseTimeoutSeconds\n         && taskStartToCloseTimeoutSeconds == that.taskStartToCloseTimeoutSeconds\n-        && Objects.equals(namespace, that.namespace)\n+        && cancellationType == that.cancellationType\n+        && Objects.equal(namespace, that.namespace)\n         && Arrays.equals(input, that.input)\n-        && Objects.equals(taskList, that.taskList)\n-        && Objects.equals(workflowId, that.workflowId)\n-        && Objects.equals(workflowType, that.workflowType)\n+        && Objects.equal(taskList, that.taskList)\n+        && Objects.equal(workflowId, that.workflowId)\n+        && Objects.equal(workflowType, that.workflowType)\n         && workflowIdReusePolicy == that.workflowIdReusePolicy\n-        && Objects.equals(retryParameters, that.retryParameters)\n-        && Objects.equals(cronSchedule, that.cronSchedule)\n-        && Objects.equals(context, that.context)\n-        && Objects.equals(parentClosePolicy, that.parentClosePolicy);\n+        && Objects.equal(retryParameters, that.retryParameters)\n+        && Objects.equal(cronSchedule, that.cronSchedule)\n+        && Objects.equal(context, that.context)\n+        && parentClosePolicy == that.parentClosePolicy;", "originalCommit": "babd4a5efad20586ab26ac372c7f1b4699590e43", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTIwNTIyOA==", "url": "https://github.com/temporalio/sdk-java/pull/61#discussion_r405205228", "bodyText": "For enums == is a way to go: https://intellipaat.com/community/1254/comparing-java-enum-members-or-equals\nBTW this method is autogenerated by my IDE.", "author": "mfateev", "createdAt": "2020-04-08T01:23:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTIwMzIwOQ=="}], "type": "inlineReview"}]}