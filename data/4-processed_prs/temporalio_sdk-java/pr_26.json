{"pr_number": 26, "pr_title": "Merge from cadence-java-client", "pr_createdAt": "2020-03-05T22:36:58Z", "pr_url": "https://github.com/temporalio/sdk-java/pull/26", "timeline": [{"oid": "5b28096165ee4bb075bb1a9ac10064916b7b070a", "url": "https://github.com/temporalio/sdk-java/commit/5b28096165ee4bb075bb1a9ac10064916b7b070a", "message": "Support get search attributes inside workflow (#409)", "committedDate": "2019-10-22T00:16:58Z", "type": "commit"}, {"oid": "7dd8476ed7d16c92eddb5719c68053b0b7372178", "url": "https://github.com/temporalio/sdk-java/commit/7dd8476ed7d16c92eddb5719c68053b0b7372178", "message": "Fix all javadoc warnings (#410)", "committedDate": "2019-10-24T17:10:46Z", "type": "commit"}, {"oid": "891d2929a8694c8c067eb79dbd6df58faea43e45", "url": "https://github.com/temporalio/sdk-java/commit/891d2929a8694c8c067eb79dbd6df58faea43e45", "message": "Fix empty result when get twice from search attributes (#412)", "committedDate": "2019-10-25T16:46:14Z", "type": "commit"}, {"oid": "42d2135c5bff41d76711323d482e21de18268c74", "url": "https://github.com/temporalio/sdk-java/commit/42d2135c5bff41d76711323d482e21de18268c74", "message": "Prepare release 2.6.3 (#413)", "committedDate": "2019-10-26T00:08:24Z", "type": "commit"}, {"oid": "742d4ccb62abaaa4784d09176f1ac68764f94055", "url": "https://github.com/temporalio/sdk-java/commit/742d4ccb62abaaa4784d09176f1ac68764f94055", "message": "Include clientImpl headers in java client RPC calls (#424)", "committedDate": "2019-12-13T21:25:33Z", "type": "commit"}, {"oid": "cbe3706e2094e0abe4855b9afad1d58c86d7adfe", "url": "https://github.com/temporalio/sdk-java/commit/cbe3706e2094e0abe4855b9afad1d58c86d7adfe", "message": "Travis CI:  use 'https' instead of 'http' (#420)", "committedDate": "2019-12-16T23:41:03Z", "type": "commit"}, {"oid": "1ecbdcd4b2df54079793cf6865a8ac8b3b672db8", "url": "https://github.com/temporalio/sdk-java/commit/1ecbdcd4b2df54079793cf6865a8ac8b3b672db8", "message": "Feature/gradle 4 2 to 6 0 openjdk 8 alpine docker base image (#426)\n\n* Upgrade gradle wrapper from 4.2 to 6.0 (#417)\r\n\r\nTo improve compilation time and fix numerous amount of issues alongside\r\nother improvements that have been done throughout Gradle 5.0 and 6.0\r\n\r\n* Update Gradle wrapper jar and properties (#417)\r\nIn order to work with the newest Gradle version, the Wrapper jar and\r\nproperties also have to be updated, so that Gradle knows how to download\r\nit's executable\r\nGradle automatically downloads the Gradle executable through the\r\nproperties\r\n\r\n* Introduce OpenJDK Alpine Docker base image (#417)\r\nIn order to have the smallest image possible, the Alpine image has to\r\nbe used. This will increase performance and will use less disk space\r\nand network ingress.\r\nThis base image will reduce the final image size from 713MB down to\r\n377MB, this all by using as minimum libraries as needed; for example by\r\nremoving the linux-gnu library.\r\n\r\n* Update multiple Gradle dependencies+plugins (#417)\r\nIn order to keep up with the latest technology, benefit from the\r\nfastest features and to improve security due to fixed issues and\r\nbugs, there has to be a regular update for dependency and plugins.\r\nUpdate multiple Gradle dependencies and plugins:\r\nPlugins:\r\n- thrift-gradle-plugin (0.4.0 -> 0.4.1)\r\n- net.minecrell.licenser (0.3 -> 0.4.1)\r\n- com.github.sherter.google-java-format (0.6 -> 0.8)\r\n- net.ltgt.errorprone (0.6 -> 1.1.1)\r\n- java -> java-library\r\n\r\nCompile Dependencies:\r\ncom.google.errorprone:error_prone_core (2.3.1 -> 2.3.3)\r\ncom.uber.m3 (0.2.3 -> 0.4.0)\r\ncom.google.guava (27.0.1-jre -> 28.1-jre)\r\n\r\n* Updated GSON dependency to 2.8.6 (uber#417)\r\nIn order to keep up with the latest technology, benefit from the\r\nfastest features and to improve security due to fixed issues and\r\nbugs, there has to be a regular update for dependency and plugins.\r\nGSON 2.8.6 deprecates certain methods which will prevent usage of\r\nthese methods in the future.\r\nhttps://github.com/google/gson/blob/master/CHANGELOG.md#version-286\r\n\r\n* Removed deprecated JsonParser#parse (uber#417)\r\nJsonParser#parse and the initialization of the JsonParser objects\r\nwere deprecated in version 2.8.6 of GSON.\r\nIn order to be complient with the newest version, the code was updated\r\nto use the static JsonParser#parseString method.\r\n\r\n* Updated cron-utils from 8.0.0 -> 9.0.0 (uber#417)\r\nIt has been over a year since the version of cron-utils has been\r\nupdated. This update will bring numerous amount of fixes with it\r\nof which some will be linked in this commit message.\r\nhttps://github.com/jmrozanec/cron-utils/issues/394\r\nhttps://github.com/jmrozanec/cron-utils/issues/396\r\nMore to be found at: https://github.com/jmrozanec/cron-utils/compare/8.1.1...master\r\n\r\n* Remove copyright header and jvm args (uber#417)\r\nIn the previous gradle wrapper file and gradle bat file there\r\nwere no copyright headers and no default jvm arguments.\r\nThese have been removed to comply with previous wrapper files.\r\n\r\n* Re-added Maven publishing (uber#417)\r\n\r\n* Renamed mavenCustom -> maven (uber#417)\r\n\r\n* Moved maven publish to publications (uber#417)\r\n\r\n* Removed * import from JsonDataConverter (#417)\r\nThe start import is not used anywhere else in the project, in order to\r\nkeep the code design clean, the start import has to be removed.", "committedDate": "2020-01-13T02:10:51Z", "type": "commit"}, {"oid": "5653e4c07c2c1037e24ff22231038cfeacf3f53f", "url": "https://github.com/temporalio/sdk-java/commit/5653e4c07c2c1037e24ff22231038cfeacf3f53f", "message": "Add default micrometer reporter (#432)\n\nAdd default micrometer reporter\r\n\r\nCo-authored-by: NikitaNovozhilovWork <nikitanov@gmail.com>", "committedDate": "2020-01-16T00:50:21Z", "type": "commit"}, {"oid": "15e5b5ba7160844d4720f64a55efcb1454fb1812", "url": "https://github.com/temporalio/sdk-java/commit/15e5b5ba7160844d4720f64a55efcb1454fb1812", "message": "Use cadence-idl repo IDL storage (#427)\n\n* Use cadence-idl repo IDL storage\r\n* Delete thrift dir\r\n\r\nCo-authored-by: Liang Mei <meiliang86@gmail.com>", "committedDate": "2020-01-16T19:55:14Z", "type": "commit"}, {"oid": "854d1617aa6bd2716f26a3e16f3aeb3cf39b1acf", "url": "https://github.com/temporalio/sdk-java/commit/854d1617aa6bd2716f26a3e16f3aeb3cf39b1acf", "message": "Switched the WorkflowExecution Promise callback to a workflow thread (#431)\n\nCo-authored-by: Liang Mei <meiliang86@gmail.com>", "committedDate": "2020-01-16T20:39:56Z", "type": "commit"}, {"oid": "8ff8b856a2bdbde2fdc5b037317a160527e2c1d0", "url": "https://github.com/temporalio/sdk-java/commit/8ff8b856a2bdbde2fdc5b037317a160527e2c1d0", "message": "Implemented StartChildWorkflowExecutionParameters's ParentClosePolicy #433 (#437)\n\n* Implemented StartChildWorkflowExecutionParameters's ParentClosePolicy #433\r\nIn order to support that ChildWorkflows have the ability to have a\r\nParentClosePolicy, the field has to be added.\r\n\r\n* Added ParentClosePolicy to StateMachines #433\r\n\r\n* Added ParentClosePolicy to testWorkflowInput #433", "committedDate": "2020-01-18T02:15:09Z", "type": "commit"}, {"oid": "06174b42ca93b741f7e835a675f528cb5e245bb8", "url": "https://github.com/temporalio/sdk-java/commit/06174b42ca93b741f7e835a675f528cb5e245bb8", "message": "Added ParentClosePolicy to ChildWorkflowOptions merge #433 (#438)", "committedDate": "2020-01-18T18:22:38Z", "type": "commit"}, {"oid": "f8ff6c05f4d070d6bbdb039d6777bbd1b73254c5", "url": "https://github.com/temporalio/sdk-java/commit/f8ff6c05f4d070d6bbdb039d6777bbd1b73254c5", "message": "Automatically update idl submodule on build #435 (#436)\n\n* Add IDLs directory to gitignore #435\r\nTo leave the files on one place, the files coming from the submodule\r\nrepository should only stay on the submodule repository and not to be\r\nincluded in the Java client repository.\r\nBecause of this, the IDLs folder should be ignored completely.\r\n\r\n* Added initDlsSubmodule and updateDlsSubmodule task to gradle #435\r\nIn order to keep the master branch of the Dls repo up-to-date with the\r\nJava Client, the building process has to have an updated list of thrift\r\nfiles.\r\n\r\n* Added git to Dockerfile #435\r\nIn order to support updating submodules, the Git package has to be added\r\nto the JDK8 Alpine build image.\r\n\r\nCo-authored-by: Maxim Fateev <mfateev@users.noreply.github.com>", "committedDate": "2020-02-11T16:40:25Z", "type": "commit"}, {"oid": "e6872b9ebedfef666069ea14300099da06bc74c8", "url": "https://github.com/temporalio/sdk-java/commit/e6872b9ebedfef666069ea14300099da06bc74c8", "message": "Implement Context Propagation for Java (#428)\n\nThis commit addresses uber/cadence-java-client#398 by adding support\r\nfor pluggable context propagation in workflow execution.", "committedDate": "2020-02-19T00:24:55Z", "type": "commit"}, {"oid": "6545adba85909fdff955164bcdb3aa438e53c268", "url": "https://github.com/temporalio/sdk-java/commit/6545adba85909fdff955164bcdb3aa438e53c268", "message": "Increase RPC timeout for list archived workflow API (#449)", "committedDate": "2020-02-20T00:09:15Z", "type": "commit"}, {"oid": "42e570df742d7cb9d31313b4a7ece185ce63877a", "url": "https://github.com/temporalio/sdk-java/commit/42e570df742d7cb9d31313b4a7ece185ce63877a", "message": "Added implementation of ResetWorkflowExecution service method (#448)", "committedDate": "2020-02-21T01:11:17Z", "type": "commit"}, {"oid": "8714d94e1dbe3f15813e736b3af79176b159bd3d", "url": "https://github.com/temporalio/sdk-java/commit/8714d94e1dbe3f15813e736b3af79176b159bd3d", "message": "Fixed UUID generation bug when using TestWorkflowService (#451)", "committedDate": "2020-02-26T21:51:45Z", "type": "commit"}, {"oid": "f0613c63bcd0b9f8211d2b8e5b08340248f972f7", "url": "https://github.com/temporalio/sdk-java/commit/f0613c63bcd0b9f8211d2b8e5b08340248f972f7", "message": "Support update search attribute inside workflow (#360) (#452)\n\nUpdated the TestWorkflowMutableStateImpl to ensure the UpsertWorkflowSearchAttributes is recorded to the history in the unit tests. Prior to this fix, tests that involve search attributes would\r\nhit NonDeterminisicWorkflowError.\r\n\r\nCo-authored-by: Liang Mei <meiliang86@gmail.com>", "committedDate": "2020-02-27T17:42:25Z", "type": "commit"}, {"oid": "384ef72f401fe7e530d50d7d37c6368799e5b9ac", "url": "https://github.com/temporalio/sdk-java/commit/384ef72f401fe7e530d50d7d37c6368799e5b9ac", "message": "Fix missing import (#459)", "committedDate": "2020-03-04T18:54:57Z", "type": "commit"}, {"oid": "244d47d18d1c51ce81e22d3afc87327c1faf5f8e", "url": "https://github.com/temporalio/sdk-java/commit/244d47d18d1c51ce81e22d3afc87327c1faf5f8e", "message": "Add activity type and workflow type tags for activity e2e metrics (#458)\n\n* Add activity type and workflow type tags for activity e2e metrics\r\n* fix test service\r\n* Fix metrics test", "committedDate": "2020-03-04T22:58:47Z", "type": "commit"}, {"oid": "60bf6af82a29ba7beaffc3a6d70ef7af1af238ae", "url": "https://github.com/temporalio/sdk-java/commit/60bf6af82a29ba7beaffc3a6d70ef7af1af238ae", "message": "Merge remote-tracking branch 'cadence/master' into merge-cadence", "committedDate": "2020-03-05T18:08:20Z", "type": "commit"}, {"oid": "bce12cea88b96ee50035329adf47824ee5d0107d", "url": "https://github.com/temporalio/sdk-java/commit/bce12cea88b96ee50035329adf47824ee5d0107d", "message": "Removed merge conflicts", "committedDate": "2020-03-05T19:01:15Z", "type": "commit"}, {"oid": "a913b7abad116116de565bdf288feba66e5f81fd", "url": "https://github.com/temporalio/sdk-java/commit/a913b7abad116116de565bdf288feba66e5f81fd", "message": "Added back cadence-idl submodule", "committedDate": "2020-03-05T19:07:06Z", "type": "commit"}, {"oid": "dc9a5f9d1b01818f1877f27a746ff075f654a4c1", "url": "https://github.com/temporalio/sdk-java/commit/dc9a5f9d1b01818f1877f27a746ff075f654a4c1", "message": "Syntax errors fixed. Readme updated", "committedDate": "2020-03-05T22:10:42Z", "type": "commit"}, {"oid": "c3cd9d78877fb6a3527c76820022ba0c87e0768c", "url": "https://github.com/temporalio/sdk-java/commit/c3cd9d78877fb6a3527c76820022ba0c87e0768c", "message": "Fixed conflicts in non java files", "committedDate": "2020-03-05T22:34:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczMTAzOQ==", "url": "https://github.com/temporalio/sdk-java/pull/26#discussion_r388731039", "bodyText": "Needs resolving", "author": "shawnhathaway", "createdAt": "2020-03-06T06:23:00Z", "path": ".gitignore", "diffHunk": "@@ -7,5 +7,14 @@ target\n .gradle\n /build\n /out\n+/lib\n dummy\n $buildDir\n+<<<<<<< HEAD", "originalCommit": "c3cd9d78877fb6a3527c76820022ba0c87e0768c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczMTIyNw==", "url": "https://github.com/temporalio/sdk-java/pull/26#discussion_r388731227", "bodyText": "I know this is going away but why backwards on thrift version?", "author": "shawnhathaway", "createdAt": "2020-03-06T06:23:48Z", "path": ".travis.yml", "diffHunk": "@@ -7,9 +7,9 @@ env:\n \n before_install:\n   - pushd /tmp\n-  - wget https://www-us.apache.org/dist/thrift/0.13.0/thrift-0.13.0.tar.gz\n-  - tar xfz thrift-0.13.0.tar.gz\n-  - cd thrift-0.13.0\n+  - wget https://www-us.apache.org/dist/thrift/0.9.3/thrift-0.9.3.tar.gz", "originalCommit": "c3cd9d78877fb6a3527c76820022ba0c87e0768c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk4MzY0NQ==", "url": "https://github.com/temporalio/sdk-java/pull/26#discussion_r388983645", "bodyText": "To keep the version consistent with gradle build files. And yes I\"m removing all of these in the next series of PRs.", "author": "mfateev", "createdAt": "2020-03-06T15:53:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczMTIyNw=="}], "type": "inlineReview"}, {"oid": "80a2a6b98e2ba7a962ecd8b5d148b81ff78e0fde", "url": "https://github.com/temporalio/sdk-java/commit/80a2a6b98e2ba7a962ecd8b5d148b81ff78e0fde", "message": "Resolved conflict in .gitignore", "committedDate": "2020-03-06T15:52:48Z", "type": "commit"}]}