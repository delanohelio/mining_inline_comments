{"pr_number": 9677, "pr_title": "Plan route point menu trim", "pr_createdAt": "2020-08-21T10:52:05Z", "pr_url": "https://github.com/osmandapp/OsmAnd/pull/9677", "timeline": [{"oid": "d413591a0dd205ab153494dcc1c83801bd6af00e", "url": "https://github.com/osmandapp/OsmAnd/commit/d413591a0dd205ab153494dcc1c83801bd6af00e", "message": "Plan route point menu UI", "committedDate": "2020-08-13T12:00:46Z", "type": "commit"}, {"oid": "200b6055b00ac446c9648ef5ca19ac6c4b2a52f4", "url": "https://github.com/osmandapp/OsmAnd/commit/200b6055b00ac446c9648ef5ca19ac6c4b2a52f4", "message": "Bottom sheet menu buttons top shadow", "committedDate": "2020-08-13T12:03:48Z", "type": "commit"}, {"oid": "a4817be53b9bb0cf2bdbbedf989e99eb3bfabb27", "url": "https://github.com/osmandapp/OsmAnd/commit/a4817be53b9bb0cf2bdbbedf989e99eb3bfabb27", "message": "Fix plan a route options and point UI", "committedDate": "2020-08-13T14:21:26Z", "type": "commit"}, {"oid": "022ffb5813b831562dada2ec443d97d657a3cea6", "url": "https://github.com/osmandapp/OsmAnd/commit/022ffb5813b831562dada2ec443d97d657a3cea6", "message": "Merge branch 'master' into plan_route_point_menu\n\n# Conflicts:\n#\tOsmAnd/res/values/strings.xml\n#\tOsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java", "committedDate": "2020-08-17T20:28:01Z", "type": "commit"}, {"oid": "b3d0347dd289c8a8460a8fd4a513b2a7e940e06b", "url": "https://github.com/osmandapp/OsmAnd/commit/b3d0347dd289c8a8460a8fd4a513b2a7e940e06b", "message": "Fix merge, straight line npe, dark theme", "committedDate": "2020-08-17T21:15:11Z", "type": "commit"}, {"oid": "43fe12c05cb178027176776fab14f401b96a9f00", "url": "https://github.com/osmandapp/OsmAnd/commit/43fe12c05cb178027176776fab14f401b96a9f00", "message": "Merge branch 'master' into plan_route_point_menu\n\n# Conflicts:\n#\tOsmAnd/src/net/osmand/plus/measurementtool/RouteBetweenPointsBottomSheetDialogFragment.java", "committedDate": "2020-08-18T10:13:22Z", "type": "commit"}, {"oid": "82905381dc232a01495d5f421852aa3274192cdb", "url": "https://github.com/osmandapp/OsmAnd/commit/82905381dc232a01495d5f421852aa3274192cdb", "message": "Plan route point menu - Trim left/Trim right", "committedDate": "2020-08-18T11:41:36Z", "type": "commit"}, {"oid": "ec690e15489a511c1e94754a877021ef18be1b58", "url": "https://github.com/osmandapp/OsmAnd/commit/ec690e15489a511c1e94754a877021ef18be1b58", "message": "Remove Change route type", "committedDate": "2020-08-21T09:57:35Z", "type": "commit"}, {"oid": "25ad8f6f15bb636e902c78d5dfab1b02a64b25ce", "url": "https://github.com/osmandapp/OsmAnd/commit/25ad8f6f15bb636e902c78d5dfab1b02a64b25ce", "message": "Merge branch 'master' into plan_route_point_menu_trim\n\n# Conflicts:\n#\tOsmAnd/res/values/strings.xml\n#\tOsmAnd/src/net/osmand/plus/measurementtool/MeasurementEditingContext.java\n#\tOsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java\n#\tOsmAnd/src/net/osmand/plus/measurementtool/OptionsBottomSheetDialogFragment.java\n#\tOsmAnd/src/net/osmand/plus/measurementtool/command/ClearPointsCommand.java", "committedDate": "2020-08-21T10:31:39Z", "type": "commit"}, {"oid": "872d7b5adf2955804317458b236775ee383d5058", "url": "https://github.com/osmandapp/OsmAnd/commit/872d7b5adf2955804317458b236775ee383d5058", "message": "Fix merge", "committedDate": "2020-08-21T10:48:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyNjM3Mw==", "url": "https://github.com/osmandapp/OsmAnd/pull/9677#discussion_r474626373", "bodyText": "formatting", "author": "vshcherb", "createdAt": "2020-08-21T10:57:57Z", "path": "OsmAnd/src/net/osmand/plus/measurementtool/MeasurementEditingContext.java", "diffHunk": "@@ -293,13 +293,41 @@ public WptPt removePoint(int position, boolean updateSnapToRoad) {\n \t\treturn pt;\n \t}\n \n+\tpublic void trimBefore(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition);\n+\t\tclearBeforeSegments();\n+\t}\n+\n+\tpublic void trimAfter(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition + 1);\n+\t\tclearAfterSegments();\n+\t}\n+\n \tpublic void clearSegments() {\n+\t\tclearBeforeSegments();\n+\t\tclearAfterSegments();\n+\t}\n+\n+\tpublic void clearBeforeSegments() {\n \t\tbefore.points.clear();\n+\t\t\tif (beforeCacheForSnap != null) {", "originalCommit": "872d7b5adf2955804317458b236775ee383d5058", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyNjQxNg==", "url": "https://github.com/osmandapp/OsmAnd/pull/9677#discussion_r474626416", "bodyText": "formatting", "author": "vshcherb", "createdAt": "2020-08-21T10:58:04Z", "path": "OsmAnd/src/net/osmand/plus/measurementtool/MeasurementEditingContext.java", "diffHunk": "@@ -293,13 +293,41 @@ public WptPt removePoint(int position, boolean updateSnapToRoad) {\n \t\treturn pt;\n \t}\n \n+\tpublic void trimBefore(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition);\n+\t\tclearBeforeSegments();\n+\t}\n+\n+\tpublic void trimAfter(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition + 1);\n+\t\tclearAfterSegments();\n+\t}\n+\n \tpublic void clearSegments() {\n+\t\tclearBeforeSegments();\n+\t\tclearAfterSegments();\n+\t}\n+\n+\tpublic void clearBeforeSegments() {\n \t\tbefore.points.clear();\n+\t\t\tif (beforeCacheForSnap != null) {\n+\t\t\t\tbeforeCacheForSnap.points.clear();\n+\t\t\t}\n+\t}\n+\n+\tpublic void clearAfterSegments() {\n \t\tafter.points.clear();\n-\t\tif (beforeCacheForSnap != null && afterCacheForSnap != null) {\n-\t\t\tbeforeCacheForSnap.points.clear();\n-\t\t\tafterCacheForSnap.points.clear();\n-\t\t}\n+\t\t\tif (afterCacheForSnap != null) {", "originalCommit": "872d7b5adf2955804317458b236775ee383d5058", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}