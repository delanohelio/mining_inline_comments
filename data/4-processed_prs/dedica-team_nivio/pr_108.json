{"pr_number": 108, "pr_title": "107 deploy heroku", "pr_createdAt": "2020-02-22T13:56:35Z", "pr_url": "https://github.com/dedica-team/nivio/pull/108", "timeline": [{"oid": "086350726b231e8075b00ba87fa49bfc27db0a44", "url": "https://github.com/dedica-team/nivio/commit/086350726b231e8075b00ba87fa49bfc27db0a44", "message": "[#107] deployment to heroko with extra docker image", "committedDate": "2020-02-22T10:59:30Z", "type": "commit"}, {"oid": "b13784e6077c0441ebceb2d910524bc701864c64", "url": "https://github.com/dedica-team/nivio/commit/b13784e6077c0441ebceb2d910524bc701864c64", "message": "[#107] deployment to heroko with extra docker image", "committedDate": "2020-02-22T11:00:46Z", "type": "commit"}, {"oid": "050f0ff1ae8a50d309ca71034a3f4f2d4b855ddf", "url": "https://github.com/dedica-team/nivio/commit/050f0ff1ae8a50d309ca71034a3f4f2d4b855ddf", "message": "[#107] deployment to heroko with extra docker image", "committedDate": "2020-02-22T11:01:10Z", "type": "commit"}, {"oid": "9c99b1d999db1a37fa265987254dbf4a204e845c", "url": "https://github.com/dedica-team/nivio/commit/9c99b1d999db1a37fa265987254dbf4a204e845c", "message": "[#107] deployment to heroko with extra docker image", "committedDate": "2020-02-22T11:02:43Z", "type": "commit"}, {"oid": "a6a4895753134d11582534100d92191b5a79c494", "url": "https://github.com/dedica-team/nivio/commit/a6a4895753134d11582534100d92191b5a79c494", "message": "[#107] renamed file", "committedDate": "2020-02-22T11:07:08Z", "type": "commit"}, {"oid": "0650376c03f57d6ea2867b375b248aa237685bcc", "url": "https://github.com/dedica-team/nivio/commit/0650376c03f57d6ea2867b375b248aa237685bcc", "message": "[#107] added own branch to fire actions", "committedDate": "2020-02-22T11:13:05Z", "type": "commit"}, {"oid": "e7213a2a6b550b364dbccf5f7395feabbe2e0cdc", "url": "https://github.com/dedica-team/nivio/commit/e7213a2a6b550b364dbccf5f7395feabbe2e0cdc", "message": "[#107] two steps", "committedDate": "2020-02-22T11:17:42Z", "type": "commit"}, {"oid": "e2a88da2a133c3ff5ec42b4d3c73935c511d7e5a", "url": "https://github.com/dedica-team/nivio/commit/e2a88da2a133c3ff5ec42b4d3c73935c511d7e5a", "message": "[#107] fix", "committedDate": "2020-02-22T11:18:38Z", "type": "commit"}, {"oid": "bce4141db7aa3f46fd7a3f7a4c53576c8d07c6d7", "url": "https://github.com/dedica-team/nivio/commit/bce4141db7aa3f46fd7a3f7a4c53576c8d07c6d7", "message": "[#107] fix hub account", "committedDate": "2020-02-22T11:46:07Z", "type": "commit"}, {"oid": "974704bb6a988da99f173d4726d19307ba5c34aa", "url": "https://github.com/dedica-team/nivio/commit/974704bb6a988da99f173d4726d19307ba5c34aa", "message": "[#107] trying fix", "committedDate": "2020-02-22T12:34:53Z", "type": "commit"}, {"oid": "1d67ab2c16ff0cf34c606965540eb8af05552dbd", "url": "https://github.com/dedica-team/nivio/commit/1d67ab2c16ff0cf34c606965540eb8af05552dbd", "message": "[#107] trying fix", "committedDate": "2020-02-22T12:42:26Z", "type": "commit"}, {"oid": "f43a867518da77da1d68fb49664f7d0fbef9853e", "url": "https://github.com/dedica-team/nivio/commit/f43a867518da77da1d68fb49664f7d0fbef9853e", "message": "[#107] trying fix", "committedDate": "2020-02-22T12:49:15Z", "type": "commit"}, {"oid": "b3077ec54c719abd94e3f302deb44a26ee80a42d", "url": "https://github.com/dedica-team/nivio/commit/b3077ec54c719abd94e3f302deb44a26ee80a42d", "message": "[#107] trying PORT env var to fix startup", "committedDate": "2020-02-22T13:06:26Z", "type": "commit"}, {"oid": "3687094ccde06ca804fb107c96ee3d56549de6e6", "url": "https://github.com/dedica-team/nivio/commit/3687094ccde06ca804fb107c96ee3d56549de6e6", "message": "[#107] updated readme", "committedDate": "2020-02-22T13:12:16Z", "type": "commit"}, {"oid": "7b2f9272b20e7eafb4bcf36aa03c50bee8215f0a", "url": "https://github.com/dedica-team/nivio/commit/7b2f9272b20e7eafb4bcf36aa03c50bee8215f0a", "message": "[#107] [#33] fix for baseurl when running in docker", "committedDate": "2020-02-22T13:35:48Z", "type": "commit"}, {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "url": "https://github.com/dedica-team/nivio/commit/6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "message": "[#107] [#33] fix for baseurl when running in docker", "committedDate": "2020-02-22T13:46:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE0MA==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382923140", "bodyText": "Warum ist das != refs/heads/master? M\u00f6chte man nicht eigentlich gerade den Master deployen? Oder verstehe ich das falsch?", "author": "mfbieber", "createdAt": "2020-02-22T16:08:53Z", "path": ".github/workflows/main.yml", "diffHunk": "@@ -0,0 +1,55 @@\n+name: Java CI\n+\n+on:\n+  push:\n+    tags:\n+      - '*'\n+    branches:\n+      - master\n+      - develop\n+      - 107_deploy_heroku\n+\n+jobs:\n+\n+  build-and-deploy:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v1\n+    - name: Set up JDK 1.11\n+      uses: actions/setup-java@v1\n+      with:\n+        java-version: 11.0.4\n+    - name: Build with Maven\n+      run: mvn package --file pom.xml\n+\n+    #\n+    # docker\n+    #\n+    - name: Build and Publish Docker latest\n+      if: github.ref != 'refs/heads/master'", "originalCommit": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyOTExOA==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382929118", "bodyText": "Ja, normalerweise. Aber bisher gibt es nur alle halbe Jahre mal ne master Version. Ich dachte mir, dass man eher die Fortschritte sehen kann, wenn develop deployed wird.", "author": "bonndan", "createdAt": "2020-02-22T17:44:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzIyNjI5MA==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r383226290", "bodyText": "Develop hatte ich nicht auf dem Plan. Alles klar :)", "author": "mfbieber", "createdAt": "2020-02-24T12:01:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE4Mw==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382923183", "bodyText": "Im Wesentlichen wurden jetzt nur die Methoden auf private gesetzt, richtig?", "author": "mfbieber", "createdAt": "2020-02-22T16:10:00Z", "path": "src/main/java/de/bonndan/nivio/output/LocalServer.java", "diffHunk": "@@ -11,11 +13,34 @@\n \n     private static Environment env;\n \n-    public static String host() {\n+    /**\n+     * without slash\n+     */\n+    private final String baseUrl;\n+", "originalCommit": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyOTIxNg==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382929216", "bodyText": "Genau, und nicht mehr statisch. Die Methoden geben nur das zur\u00fcck, was man in de JVM sieht, und das ist meist unbrauchbar f\u00fcr Urls, die im Browser gelinkt werden sollen.", "author": "bonndan", "createdAt": "2020-02-22T17:46:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzI4NQ==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382923285", "bodyText": "Werden die env Variablen irgendwo gesetzt? Im docker-compose?", "author": "mfbieber", "createdAt": "2020-02-22T16:11:17Z", "path": "src/main/resources/application.yml", "diffHunk": "@@ -22,9 +21,11 @@ logging:\n         nivio:\n           output: TRACE\n \n-\n server:\n-  port: 8080\n+  port: ${PORT:8080}\n+\n+nivio:\n+  baseUrl: ${NIVIO_BASE_URL:}", "originalCommit": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyOTI1OA==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382929258", "bodyText": "In Heroku. Ich wei\u00df nicht ob die auch ne docker-compose verarbeiten.", "author": "bonndan", "createdAt": "2020-02-22T17:46:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzI4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzIyNjQzMA==", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r383226430", "bodyText": "Passt :)", "author": "mfbieber", "createdAt": "2020-02-24T12:01:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzI4NQ=="}], "type": "inlineReview"}]}