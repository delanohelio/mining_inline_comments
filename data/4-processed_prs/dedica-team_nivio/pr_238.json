{"pr_number": 238, "pr_title": "Search in Map/Dashboard", "pr_createdAt": "2020-08-28T12:43:14Z", "pr_url": "https://github.com/dedica-team/nivio/pull/238", "timeline": [{"oid": "4681be8039a100c794c2d8d24736f4effc01b8d7", "url": "https://github.com/dedica-team/nivio/commit/4681be8039a100c794c2d8d24736f4effc01b8d7", "message": "[#226] LandscapeItems (index) is not changed outside Indexer", "committedDate": "2020-08-08T12:09:06Z", "type": "commit"}, {"oid": "aec07bb6761b5c07922e61f7ba103ad386ee3e7d", "url": "https://github.com/dedica-team/nivio/commit/aec07bb6761b5c07922e61f7ba103ad386ee3e7d", "message": "[#226] lucene alongside cq engine (for now)", "committedDate": "2020-08-08T14:04:17Z", "type": "commit"}, {"oid": "008de262b5620df76ba6c41a39c7eec3948fb4a4", "url": "https://github.com/dedica-team/nivio/commit/008de262b5620df76ba6c41a39c7eec3948fb4a4", "message": "[#226] test fixes", "committedDate": "2020-08-08T14:28:40Z", "type": "commit"}, {"oid": "106c822f0a4c646f1afb9dab36b5f76a889e1892", "url": "https://github.com/dedica-team/nivio/commit/106c822f0a4c646f1afb9dab36b5f76a889e1892", "message": "[#226] added docs", "committedDate": "2020-08-08T14:32:25Z", "type": "commit"}, {"oid": "1fdce1d46bdb2f09c07680e6bbef915b8a72446d", "url": "https://github.com/dedica-team/nivio/commit/1fdce1d46bdb2f09c07680e6bbef915b8a72446d", "message": "[#226] frontend search poc", "committedDate": "2020-08-08T15:25:31Z", "type": "commit"}, {"oid": "d29f1f6475ef89e8df63061edcd45b38139ae852", "url": "https://github.com/dedica-team/nivio/commit/d29f1f6475ef89e8df63061edcd45b38139ae852", "message": "[#226] more indexed document fields", "committedDate": "2020-08-15T04:28:42Z", "type": "commit"}, {"oid": "a5a53024d9f6e8759e84143b59b93e31a8ac7be2", "url": "https://github.com/dedica-team/nivio/commit/a5a53024d9f6e8759e84143b59b93e31a8ac7be2", "message": "[#226] tags", "committedDate": "2020-08-16T21:19:47Z", "type": "commit"}, {"oid": "ca3e3666050577c360d35d2e528b16cff17f5451", "url": "https://github.com/dedica-team/nivio/commit/ca3e3666050577c360d35d2e528b16cff17f5451", "message": "Merge branch 'develop' into 226_search", "committedDate": "2020-08-22T09:59:33Z", "type": "commit"}, {"oid": "512399aabfe36e564d163e92bef4dce9881899ba", "url": "https://github.com/dedica-team/nivio/commit/512399aabfe36e564d163e92bef4dce9881899ba", "message": "[#226] work in progress", "committedDate": "2020-08-22T13:22:06Z", "type": "commit"}, {"oid": "6e8fd32c3fe0c807ea8ee0d2b6195b3fa080180d", "url": "https://github.com/dedica-team/nivio/commit/6e8fd32c3fe0c807ea8ee0d2b6195b3fa080180d", "message": "[#226] work in progress", "committedDate": "2020-08-22T13:26:44Z", "type": "commit"}, {"oid": "ffc73976114fc2cb88422137ff4a2ddcc4f4ac88", "url": "https://github.com/dedica-team/nivio/commit/ffc73976114fc2cb88422137ff4a2ddcc4f4ac88", "message": "[#226] search improvements", "committedDate": "2020-08-23T07:33:41Z", "type": "commit"}, {"oid": "7f650e089247d8c2ff000542e2274bce8e1548fe", "url": "https://github.com/dedica-team/nivio/commit/7f650e089247d8c2ff000542e2274bce8e1548fe", "message": "[#226] search improvements", "committedDate": "2020-08-23T12:31:51Z", "type": "commit"}, {"oid": "f0735c8313bd2f75628b0dd6029a9c196115cc17", "url": "https://github.com/dedica-team/nivio/commit/f0735c8313bd2f75628b0dd6029a9c196115cc17", "message": "[#226] toolbar", "committedDate": "2020-08-23T13:48:22Z", "type": "commit"}, {"oid": "57e64f0c735eae1cc64b7728feac93701d0d0c08", "url": "https://github.com/dedica-team/nivio/commit/57e64f0c735eae1cc64b7728feac93701d0d0c08", "message": "[#226] search can start with wildcard", "committedDate": "2020-08-23T15:42:15Z", "type": "commit"}, {"oid": "227271224d817f260757233992c2890da1d56f6d", "url": "https://github.com/dedica-team/nivio/commit/227271224d817f260757233992c2890da1d56f6d", "message": "[#226] encoding url params", "committedDate": "2020-08-23T15:42:36Z", "type": "commit"}, {"oid": "538f92ecfffe14a6d06b0c42cb0dd3e05887da3e", "url": "https://github.com/dedica-team/nivio/commit/538f92ecfffe14a6d06b0c42cb0dd3e05887da3e", "message": "[#226] clear search", "committedDate": "2020-08-23T15:55:07Z", "type": "commit"}, {"oid": "cbcf274010f5c364e543e644eefdc4836f183de6", "url": "https://github.com/dedica-team/nivio/commit/cbcf274010f5c364e543e644eefdc4836f183de6", "message": "[#226] search tooltip help", "committedDate": "2020-08-23T16:04:46Z", "type": "commit"}, {"oid": "423c754f898c126c0bbbf1147ad22b192360efba", "url": "https://github.com/dedica-team/nivio/commit/423c754f898c126c0bbbf1147ad22b192360efba", "message": "- Format Code\n- Fix lint errors\n- Remove search from AppBar and add it to LandscapeMap and LandscapeDashboard\n- Change Background Color of LandscapeItems and some minor style improvements\n- Restore old LandscapeItem functionality if you have already one open and click on another\n- Remove old unused CSS and TS code from Navigation\n- Add assesment API call to SearchResult for status colors\n- change header color to not be transparent and adjust color appropriately", "committedDate": "2020-08-28T12:15:11Z", "type": "commit"}, {"oid": "82e79ac37a19b8e53256317d1c9cc190f12efcb1", "url": "https://github.com/dedica-team/nivio/commit/82e79ac37a19b8e53256317d1c9cc190f12efcb1", "message": "[#226] fixed zoom on item", "committedDate": "2020-08-28T13:54:25Z", "type": "commit"}, {"oid": "a68dd64c7844bdda0f57e20310a6329a54794b71", "url": "https://github.com/dedica-team/nivio/commit/a68dd64c7844bdda0f57e20310a6329a54794b71", "message": "fix linter", "committedDate": "2020-08-28T17:27:31Z", "type": "commit"}, {"oid": "c0903be5786183fd1981a65bb6af73abe1e25b9f", "url": "https://github.com/dedica-team/nivio/commit/c0903be5786183fd1981a65bb6af73abe1e25b9f", "message": "[#226] search facets", "committedDate": "2020-08-30T09:40:03Z", "type": "commit"}, {"oid": "2061ebc69d6bc7ee64947ed9c340a1744907825a", "url": "https://github.com/dedica-team/nivio/commit/2061ebc69d6bc7ee64947ed9c340a1744907825a", "message": "[#226] showing some facets in frontend", "committedDate": "2020-08-30T09:41:03Z", "type": "commit"}, {"oid": "b5f9a6ee0418aa263c0ee7bf121c0252f988c929", "url": "https://github.com/dedica-team/nivio/commit/b5f9a6ee0418aa263c0ee7bf121c0252f988c929", "message": "[#226] frontend facet improvement", "committedDate": "2020-08-30T19:47:10Z", "type": "commit"}, {"oid": "f3f87515fe8d994b4c2ad35ba81888673a6be30b", "url": "https://github.com/dedica-team/nivio/commit/f3f87515fe8d994b4c2ad35ba81888673a6be30b", "message": "[#226] theme and button styling", "committedDate": "2020-08-31T18:32:09Z", "type": "commit"}, {"oid": "e1f543436c3a6610a2b50371251ae0f4e9b3a397", "url": "https://github.com/dedica-team/nivio/commit/e1f543436c3a6610a2b50371251ae0f4e9b3a397", "message": "Merge branch 'develop' into 226_search\n\n# Conflicts:\n#\tsrc/main/app/public/index.html\n#\tsrc/main/app/src/Components/LandscapeComponent/LandscapeMap/LandscapeMap.scss\n#\tsrc/main/resources/static/css/svg.css\n#\tsrc/test/resources/example/example_csv_debug.svg\n#\tsrc/test/resources/example/example_env_debug.svg\n#\tsrc/test/resources/example/example_four_groups_debug.svg\n#\tsrc/test/resources/example/inout_debug.svg\n#\tsrc/test/resources/example/large_debug.svg\n#\tsrc/test/resources/example/model_debug.svg", "committedDate": "2020-09-01T04:31:41Z", "type": "commit"}, {"oid": "89231194478a554f98f0528b1938c492c45d6856", "url": "https://github.com/dedica-team/nivio/commit/89231194478a554f98f0528b1938c492c45d6856", "message": "Fix search/logo styling and change some facet logic\n- remove all search related css from map and dashboard\n- add needed css in search and position it absolut again so it looks the same on both pages\n- results are now scrollable if they exceed 95vh\n- nivio in navigation is again in our font color\n- facets will now disappear if you search by hand or if you clicked on a facet\n- the search button will now also close facets in addition to clear the search, to remove the second button because overlapping the facets with search results was really ugly", "committedDate": "2020-09-04T11:59:54Z", "type": "commit"}, {"oid": "03da8a7764b08f8d916898490cf5994c6bbf0bba", "url": "https://github.com/dedica-team/nivio/commit/03da8a7764b08f8d916898490cf5994c6bbf0bba", "message": "Merge branch 'develop' into 226_search", "committedDate": "2020-09-04T12:56:03Z", "type": "commit"}, {"oid": "929d2c15d2e1e527f269dc4029f613199a731a89", "url": "https://github.com/dedica-team/nivio/commit/929d2c15d2e1e527f269dc4029f613199a731a89", "message": "fix lint errors", "committedDate": "2020-09-04T12:58:20Z", "type": "commit"}, {"oid": "2aeff49a87d32e4ff06562e9a0de8c4d68131f13", "url": "https://github.com/dedica-team/nivio/commit/2aeff49a87d32e4ff06562e9a0de8c4d68131f13", "message": "fix styling", "committedDate": "2020-09-04T13:05:32Z", "type": "commit"}, {"oid": "e4eeecada82ab463f6a07857be6301eade0a7618", "url": "https://github.com/dedica-team/nivio/commit/e4eeecada82ab463f6a07857be6301eade0a7618", "message": "fix map stylings from merge", "committedDate": "2020-09-04T13:30:38Z", "type": "commit"}, {"oid": "72ff601e1b12a6800e8d0332ddaaceea9a83c041", "url": "https://github.com/dedica-team/nivio/commit/72ff601e1b12a6800e8d0332ddaaceea9a83c041", "message": "add debug svg to .gitignore", "committedDate": "2020-09-04T13:34:08Z", "type": "commit"}, {"oid": "86b579a907aaebf0f8fc847a661213be71a6b3a7", "url": "https://github.com/dedica-team/nivio/commit/86b579a907aaebf0f8fc847a661213be71a6b3a7", "message": "remove now ignored files", "committedDate": "2020-09-04T13:45:12Z", "type": "commit"}, {"oid": "8275ed5dd0bce4bd410862c98581c479fcc2c745", "url": "https://github.com/dedica-team/nivio/commit/8275ed5dd0bce4bd410862c98581c479fcc2c745", "message": "remove ignored debug png's", "committedDate": "2020-09-04T13:51:04Z", "type": "commit"}, {"oid": "16d2184167f72551d9938c353b04ab322a75ae59", "url": "https://github.com/dedica-team/nivio/commit/16d2184167f72551d9938c353b04ab322a75ae59", "message": "add findItem function for dashboard", "committedDate": "2020-09-04T14:46:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3MTI5NA==", "url": "https://github.com/dedica-team/nivio/pull/238#discussion_r483671294", "bodyText": "das muss ich nach dem wochenende noch \u00fcberarbeiten :D", "author": "MarvinSchoening", "createdAt": "2020-09-04T14:55:47Z", "path": "src/main/app/src/Components/LandscapeComponent/LandscapeDashboard/LandscapeDashboard.tsx", "diffHunk": "@@ -17,10 +17,38 @@ const LandscapeDashboard: React.FC = () => {\n   const [sliderContent, setSliderContent] = useState<string | ReactElement | null>(null);\n   const [showSlider, setShowSlider] = useState(false);\n   const [assessments, setAssessments] = useState<IAssessment | null>(null);\n+  const [highlightElement, setHighlightElement] = useState<Element | HTMLCollection | null>(null);\n+\n+  const findItem = (fullyQualifiedItemIdentifier: string) => {\n+    const element = document.getElementById(fullyQualifiedItemIdentifier);\n+    setHighlightElement(element);\n+  };\n+\n+  useEffect(() => {\n+    let timeout: NodeJS.Timeout;\n+\n+    if (highlightElement instanceof Element) {\n+      highlightElement.classList.add('highlightDot');\n+      highlightElement.scrollIntoView({ behavior: 'smooth', block: 'end' });\n+      const itemGroup = highlightElement.parentElement?.parentElement?.parentElement;", "originalCommit": "16d2184167f72551d9938c353b04ab322a75ae59", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzcwNDQwOA==", "url": "https://github.com/dedica-team/nivio/pull/238#discussion_r483704408", "bodyText": "What language is this? \ud83d\ude04", "author": "bonndan", "createdAt": "2020-09-04T15:44:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3MTI5NA=="}], "type": "inlineReview"}]}