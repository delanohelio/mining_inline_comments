{"pr_number": 121, "pr_title": "114 remodel", "pr_createdAt": "2020-04-10T12:12:27Z", "pr_url": "https://github.com/dedica-team/nivio/pull/121", "timeline": [{"oid": "cce4ff330025fc67bb49ab1e95ae0b3385833b6e", "url": "https://github.com/dedica-team/nivio/commit/cce4ff330025fc67bb49ab1e95ae0b3385833b6e", "message": "[#114] component interfaces", "committedDate": "2020-03-10T16:39:00Z", "type": "commit"}, {"oid": "22cf33cc6e8aab51ba81dfc03a83cb562acc2491", "url": "https://github.com/dedica-team/nivio/commit/22cf33cc6e8aab51ba81dfc03a83cb562acc2491", "message": "[#114] using labels for uncommon fields", "committedDate": "2020-03-14T09:34:32Z", "type": "commit"}, {"oid": "e8894cca4334e37eb68504e8f1a8b75567a43a8c", "url": "https://github.com/dedica-team/nivio/commit/e8894cca4334e37eb68504e8f1a8b75567a43a8c", "message": "[#114] bumped version", "committedDate": "2020-03-14T09:38:57Z", "type": "commit"}, {"oid": "959f4c5ee7d1dc2f2e1fb66ad43902f1d1d6a5b5", "url": "https://github.com/dedica-team/nivio/commit/959f4c5ee7d1dc2f2e1fb66ad43902f1d1d6a5b5", "message": "refactoring wip", "committedDate": "2020-04-02T19:33:40Z", "type": "commit"}, {"oid": "5418595eabf7be44b041f2a8dabfa077bcaf98d8", "url": "https://github.com/dedica-team/nivio/commit/5418595eabf7be44b041f2a8dabfa077bcaf98d8", "message": "[#114] [#12] refactored status, introduced basic assessment", "committedDate": "2020-04-09T05:36:51Z", "type": "commit"}, {"oid": "6eb8af34f68d556b1212160e4fd7bd01541a95be", "url": "https://github.com/dedica-team/nivio/commit/6eb8af34f68d556b1212160e4fd7bd01541a95be", "message": "[#97] preparations for later development", "committedDate": "2020-04-09T08:49:22Z", "type": "commit"}, {"oid": "b2c63680662b8e4d437bb443e74496da715ccaf8", "url": "https://github.com/dedica-team/nivio/commit/b2c63680662b8e4d437bb443e74496da715ccaf8", "message": "[#114] test fixes", "committedDate": "2020-04-09T09:47:49Z", "type": "commit"}, {"oid": "3be51872e61a8e9f014ff11cf789bf950271af60", "url": "https://github.com/dedica-team/nivio/commit/3be51872e61a8e9f014ff11cf789bf950271af60", "message": "[#114] updated docs", "committedDate": "2020-04-09T10:03:29Z", "type": "commit"}, {"oid": "c5fb047127f3a94c906c67e2aa485642c96ba4c7", "url": "https://github.com/dedica-team/nivio/commit/c5fb047127f3a94c906c67e2aa485642c96ba4c7", "message": "[#12] integration test", "committedDate": "2020-04-09T10:24:17Z", "type": "commit"}, {"oid": "c90c2bbba23542cd59d60ac378c67cadbdd69230", "url": "https://github.com/dedica-team/nivio/commit/c90c2bbba23542cd59d60ac378c67cadbdd69230", "message": "[#12] kpi factory", "committedDate": "2020-04-09T12:52:29Z", "type": "commit"}, {"oid": "a69e518741c6503b74319dc75ceb82910526da6e", "url": "https://github.com/dedica-team/nivio/commit/a69e518741c6503b74319dc75ceb82910526da6e", "message": "[#12] preliminary docs", "committedDate": "2020-04-09T13:01:15Z", "type": "commit"}, {"oid": "5f029e9a41fd71cba2566f54f67cc1fc868d51d9", "url": "https://github.com/dedica-team/nivio/commit/5f029e9a41fd71cba2566f54f67cc1fc868d51d9", "message": "[#12] added tests", "committedDate": "2020-04-09T15:44:08Z", "type": "commit"}, {"oid": "1e6063d0ba7dbee1cf8d20391e07d070568dcd90", "url": "https://github.com/dedica-team/nivio/commit/1e6063d0ba7dbee1cf8d20391e07d070568dcd90", "message": "[#12] scaling assessment", "committedDate": "2020-04-09T16:08:52Z", "type": "commit"}, {"oid": "1a0c63115936f4ab60f5788df5a5f41c5d944c34", "url": "https://github.com/dedica-team/nivio/commit/1a0c63115936f4ab60f5788df5a5f41c5d944c34", "message": "[#12] scaling assessment (forgot file)", "committedDate": "2020-04-09T16:21:57Z", "type": "commit"}, {"oid": "88e8d2b1a6ac9977b05b46bf9e6fa768bc2ab517", "url": "https://github.com/dedica-team/nivio/commit/88e8d2b1a6ac9977b05b46bf9e6fa768bc2ab517", "message": "[#114] better api landscape representation", "committedDate": "2020-04-10T11:57:51Z", "type": "commit"}, {"oid": "1f0a29bd9817ac06a45a32e0b7f580fd415f3667", "url": "https://github.com/dedica-team/nivio/commit/1f0a29bd9817ac06a45a32e0b7f580fd415f3667", "message": "[#114] test fix", "committedDate": "2020-04-10T12:09:04Z", "type": "commit"}, {"oid": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "url": "https://github.com/dedica-team/nivio/commit/33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "message": "[#12] renamed overall status, fix for status deserializing", "committedDate": "2020-04-10T12:10:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2MTk0Mw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416561943", "bodyText": "It would be helpful to document, what data is used (or expected to be used) as keys.", "author": "Matthimatiker", "createdAt": "2020-04-28T12:12:24Z", "path": "src/main/java/de/bonndan/nivio/LandscapeConfig.java", "diffHunk": "@@ -13,6 +20,9 @@\n     private List<String> labelBlacklist = new ArrayList<>();\n     private Branding branding = new Branding();\n \n+    @JsonDeserialize(using = KPIFactory.class)\n+    private Map<String, KPI> kpis = new HashMap<>();", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2NTM0MQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416565341", "bodyText": "I guess this mutates the state of landscape? Might be worth to think about an immutable solution with simple input/output.", "author": "Matthimatiker", "createdAt": "2020-04-28T12:18:24Z", "path": "src/main/java/de/bonndan/nivio/api/ApiController.java", "diffHunk": "@@ -60,19 +61,22 @@ public ApiController(LandscapeRepository landscapeRepository, ItemDescriptionFor\n     private Function<LandscapeImpl, LandscapeDTO> createDTO() {\n         return landscape -> {\n             LandscapeDTO dto = LandscapeDTOFactory.from(landscape);\n+\n             LandscapeDTOFactory.addLinks(dto);\n             return dto;\n         };\n     }\n \n     @CrossOrigin(methods = RequestMethod.GET)\n-    @RequestMapping(path = \"/landscape/{identifier}\")\n+    @RequestMapping(path = \"/landscape/{identifier}\", produces = MediaType.APPLICATION_JSON_VALUE)\n     public ResponseEntity<LandscapeDTO> landscape(@PathVariable String identifier) {\n         LandscapeImpl landscape = landscapeRepository.findDistinctByIdentifier(identifier).orElse(null);\n         if (landscape == null)\n             return ResponseEntity.notFound().build();\n-\n-        return new ResponseEntity<>(createDTO().apply(landscape), HttpStatus.OK);\n+        Assessment assessment = new Assessment(landscape.getConfig().getKPIs());\n+        assessment.assess(landscape);", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg5ODQyMw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416898423", "bodyText": "I had in mind to decouple assessment (volatile state) from the landscape (much more static). This could be also worth an extra API endpoint (?)\nBut then again there is the Assessable interface which encourages to set state on landscape components. Any good idea? @Matthimatiker", "author": "bonndan", "createdAt": "2020-04-28T20:23:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2NTM0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUxNTE1NQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r417515155", "bodyText": "I would need more information to make a qualified decision here.\nSeparating the static landscape from the state sound reasonable.\nRegarding Assessable: What if state was returned instead of assigned?", "author": "Matthimatiker", "createdAt": "2020-04-29T18:13:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2NTM0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODcyOTU5Nw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r418729597", "bodyText": "changed as proposed. Assessment is a separate thing now with its own API and references to landscape components", "author": "bonndan", "createdAt": "2020-05-01T20:43:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2NTM0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2NzExOA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416567118", "bodyText": "This can also be configured on the deserialized objects via annotation, which would make the desired behavior more explicit.\nAdditionally it would\n\nmake data object compatible to any ObjectMapper\nmake deserialization testable in isolation", "author": "Matthimatiker", "createdAt": "2020-04-28T12:21:34Z", "path": "src/main/java/de/bonndan/nivio/api/LandscapeDTOFactory.java", "diffHunk": "@@ -21,57 +24,52 @@\n \n public class LandscapeDTOFactory {\n \n-    public static LandscapeDTO from(Landscape landscape) {\n+    static final ObjectMapper mapper;\n \n-        LandscapeDTO l = new LandscapeDTO();\n-        if (landscape == null)\n-            return l;\n-\n-        l.identifier = landscape.getIdentifier();\n-        l.name = landscape.getName();\n-        l.contact = landscape.getContact();\n-        l.source = landscape.getSource();\n-        l.description = landscape.getDescription();\n-\n-        if (landscape instanceof LandscapeImpl) {\n-            l.stats = getLandscapeStats((LandscapeImpl) landscape);\n-        }\n-\n-        return l;\n+    static {\n+        mapper = new ObjectMapper();\n+        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg5ODg2MQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416898861", "bodyText": "This code was obsolete, sorry.", "author": "bonndan", "createdAt": "2020-04-28T20:24:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjU2NzExOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0MjUxOA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416842518", "bodyText": "Interesting. You might consider using @Nullable and @Nonnull annotations on parameters and methods to make the null handling explicit. Additional nice effect: IntelliJ can use these annotations to provide hints when assumptions are violated.\nYou can find these annotations in the package com.google.code.findbugs.", "author": "Matthimatiker", "createdAt": "2020-04-28T18:45:48Z", "path": "src/main/java/de/bonndan/nivio/api/LandscapeDTOFactory.java", "diffHunk": "@@ -21,57 +24,52 @@\n \n public class LandscapeDTOFactory {\n \n-    public static LandscapeDTO from(Landscape landscape) {\n+    static final ObjectMapper mapper;\n \n-        LandscapeDTO l = new LandscapeDTO();\n-        if (landscape == null)\n-            return l;\n-\n-        l.identifier = landscape.getIdentifier();\n-        l.name = landscape.getName();\n-        l.contact = landscape.getContact();\n-        l.source = landscape.getSource();\n-        l.description = landscape.getDescription();\n-\n-        if (landscape instanceof LandscapeImpl) {\n-            l.stats = getLandscapeStats((LandscapeImpl) landscape);\n-        }\n-\n-        return l;\n+    static {\n+        mapper = new ObjectMapper();\n+        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n     }\n \n-    private static LandscapeStatistics getLandscapeStats(LandscapeImpl impl) {\n+    public static LandscapeDTO from(LandscapeImpl landscape) {\n \n-        LandscapeStatistics stats = new LandscapeStatistics();\n-        stats.items = impl.getItems().all().size();\n-        stats.groups = impl.getGroups().size();\n-\n-        List<StatusItem> collect = impl.getItems().stream()\n-                .map(item -> StatusItem.highestOf(item.getStatuses())).flatMap(Collection::stream)\n-                .collect(Collectors.toList());\n+        LandscapeDTO landscapeDTO = new LandscapeDTO();\n+        if (landscape == null)", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg5OTcxMg==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416899712", "bodyText": "org.springframework.lang also provides these annotations. Is findbugs more suitable?", "author": "bonndan", "createdAt": "2020-04-28T20:25:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkwOTM2OA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416909368", "bodyText": "Is it all JSR-305?", "author": "bonndan", "createdAt": "2020-04-28T20:43:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUxMzQ3Ng==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r417513476", "bodyText": "Is findbugs more suitable?\n\nI never used the annotation from Spring, so I cannot give a comparison.\nI like that the annotations from findbugs are purely informational.\nIn contrast, some similar annotations from Lombok add additional behavior.", "author": "Matthimatiker", "createdAt": "2020-04-29T18:11:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0MjUxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0Mzg1OA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416843858", "bodyText": "What are the keys?", "author": "Matthimatiker", "createdAt": "2020-04-28T18:47:57Z", "path": "src/main/java/de/bonndan/nivio/api/LandscapeDTOFactory.java", "diffHunk": "@@ -21,57 +24,52 @@\n \n public class LandscapeDTOFactory {\n \n-    public static LandscapeDTO from(Landscape landscape) {\n+    static final ObjectMapper mapper;\n \n-        LandscapeDTO l = new LandscapeDTO();\n-        if (landscape == null)\n-            return l;\n-\n-        l.identifier = landscape.getIdentifier();\n-        l.name = landscape.getName();\n-        l.contact = landscape.getContact();\n-        l.source = landscape.getSource();\n-        l.description = landscape.getDescription();\n-\n-        if (landscape instanceof LandscapeImpl) {\n-            l.stats = getLandscapeStats((LandscapeImpl) landscape);\n-        }\n-\n-        return l;\n+    static {\n+        mapper = new ObjectMapper();\n+        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n     }\n \n-    private static LandscapeStatistics getLandscapeStats(LandscapeImpl impl) {\n+    public static LandscapeDTO from(LandscapeImpl landscape) {\n \n-        LandscapeStatistics stats = new LandscapeStatistics();\n-        stats.items = impl.getItems().all().size();\n-        stats.groups = impl.getGroups().size();\n-\n-        List<StatusItem> collect = impl.getItems().stream()\n-                .map(item -> StatusItem.highestOf(item.getStatuses())).flatMap(Collection::stream)\n-                .collect(Collectors.toList());\n+        LandscapeDTO landscapeDTO = new LandscapeDTO();\n+        if (landscape == null)\n+            return landscapeDTO;\n \n-        if (!collect.isEmpty()) {\n-            stats.overallStatus = collect.get(0).getStatus();\n-        }\n+        landscapeDTO.identifier = landscape.getIdentifier();\n+        landscapeDTO.name = landscape.getName();\n+        landscapeDTO.contact = landscape.getContact();\n+        landscapeDTO.source = landscape.getSource();\n+        landscapeDTO.description = landscape.getDescription();\n \n-        stats.teams = impl.getItems().stream()\n-                .map(Item::getTeam)\n+        landscapeDTO.teams = landscape.getItems().stream()\n+                .map(item -> item.getLabel(Label.TEAM))\n                 .filter(s -> !StringUtils.isEmpty(s))\n                 .collect(Collectors.toSet())\n                 .toArray(String[]::new);\n \n-        if (impl.getLog() != null) {\n-            List<ProcessLog.Entry> messages = impl.getLog().getMessages();\n+        landscapeDTO.groups = getGroups(landscape);\n+        landscapeDTO.items = landscape.getItems().all();\n+        if (landscape.getLog() != null) {\n+            List<ProcessLog.Entry> messages = landscape.getLog().getMessages();\n             if (messages.size() > 0) {\n-                stats.lastUpdate = messages.get(messages.size() - 1).getDate();\n+                landscapeDTO.lastUpdate = messages.get(messages.size() - 1).getDate();\n             }\n         }\n-        return stats;\n+        return landscapeDTO;\n+    }\n+\n+    private static Map<String, Group> getGroups(LandscapeImpl landscape) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkwMDI3Ng==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416900276", "bodyText": "done", "author": "bonndan", "createdAt": "2020-04-28T20:26:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0Mzg1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0NDMxOQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416844319", "bodyText": "You might want to user a newer Date representation.", "author": "Matthimatiker", "createdAt": "2020-04-28T18:48:52Z", "path": "src/main/java/de/bonndan/nivio/api/dto/LandscapeDTO.java", "diffHunk": "@@ -1,62 +1,49 @@\n package de.bonndan.nivio.api.dto;\n \n import com.fasterxml.jackson.annotation.JsonInclude;\n-import de.bonndan.nivio.model.GroupItem;\n-import de.bonndan.nivio.model.LandscapeConfig;\n-import de.bonndan.nivio.model.Landscape;\n+import de.bonndan.nivio.model.Group;\n+import de.bonndan.nivio.model.Item;\n import org.springframework.hateoas.RepresentationModel;\n \n-import java.util.HashMap;\n+import java.util.Date;\n+import java.util.List;\n import java.util.Map;\n import java.util.Set;\n \n /**\n  * API representation of a landscape.\n  */\n @JsonInclude(JsonInclude.Include.NON_NULL)\n-public class LandscapeDTO extends RepresentationModel implements Landscape  {\n+public class LandscapeDTO extends RepresentationModel {\n \n     public String identifier;\n     public String name;\n     public String contact;\n     public String description;\n \n     public String source;\n-    public Map<String, GroupItem> groups;\n-    public LandscapeStatistics stats;\n+    public Map<String, Group> groups;\n+    public Set<Item> items;\n+    public Date lastUpdate;", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkwMzgzMA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416903830", "bodyText": "Done via merge from develop branch", "author": "bonndan", "createdAt": "2020-04-28T20:32:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0NDMxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0NjcxNQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416846715", "bodyText": "isHigherThan() \ud83d\udc4d", "author": "Matthimatiker", "createdAt": "2020-04-28T18:52:50Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.model.Component;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import static de.bonndan.nivio.assessment.StatusValue.SUMMARY_LABEL;\n+\n+/**\n+ * Interface for components that can be assessed and can have assigned {@link StatusValue}s.\n+ *\n+ *\n+ */\n+public interface Assessable extends Component {\n+\n+    /**\n+     * Returns the highest status as summary of all {@link StatusValue} and children summaries.\n+     *\n+     * @return status value, field contains the component identifier, message is the identifier of the highest status value\n+     */\n+    default StatusValue getOverallStatus() {\n+\n+        final AtomicReference<StatusValue> summary = new AtomicReference<>();\n+        summary.set(new StatusValue(SUMMARY_LABEL, Status.UNKNOWN));\n+\n+        List<StatusValue> statusValues = new ArrayList<>(getStatusValues());\n+        getChildren().forEach(o -> statusValues.add(o.getOverallStatus()));\n+        statusValues.forEach(value -> {\n+            if (value == null) {\n+                return;\n+            }\n+\n+            if (value.getStatus().isHigherThan(summary.get().getStatus())) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MDU0Ng==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416850546", "bodyText": "I assume this exists because of the lambda function in foreach.\nA simple for loop might be easier to use here, avoiding the atomic reference.\nAlternatively, using the stream-API might be feasible.\nSomething like:\nStream.of(\n    getStatusValues().stream(),\n    getChildren().stream().map(child -> child.getOverallStatus())\n)\n    .filter(Objects::nonNull)\n    // Sort by status value. Is there already a comparator for it?\n    .sort()\n    .findFirst()\n    .orElse(Status.UNKNOWN);", "author": "Matthimatiker", "createdAt": "2020-04-28T18:59:24Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.model.Component;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import static de.bonndan.nivio.assessment.StatusValue.SUMMARY_LABEL;\n+\n+/**\n+ * Interface for components that can be assessed and can have assigned {@link StatusValue}s.\n+ *\n+ *\n+ */\n+public interface Assessable extends Component {\n+\n+    /**\n+     * Returns the highest status as summary of all {@link StatusValue} and children summaries.\n+     *\n+     * @return status value, field contains the component identifier, message is the identifier of the highest status value\n+     */\n+    default StatusValue getOverallStatus() {\n+\n+        final AtomicReference<StatusValue> summary = new AtomicReference<>();\n+        summary.set(new StatusValue(SUMMARY_LABEL, Status.UNKNOWN));", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODkzMDc5OQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r418930799", "bodyText": "done", "author": "bonndan", "createdAt": "2020-05-02T08:28:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MDU0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MTI2Mg==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416851262", "bodyText": "I think this check could also be moved to the StatusValue constructor. That would ensure that instances of that class are always valid.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:00:42Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.model.Component;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import static de.bonndan.nivio.assessment.StatusValue.SUMMARY_LABEL;\n+\n+/**\n+ * Interface for components that can be assessed and can have assigned {@link StatusValue}s.\n+ *\n+ *\n+ */\n+public interface Assessable extends Component {\n+\n+    /**\n+     * Returns the highest status as summary of all {@link StatusValue} and children summaries.\n+     *\n+     * @return status value, field contains the component identifier, message is the identifier of the highest status value\n+     */\n+    default StatusValue getOverallStatus() {\n+\n+        final AtomicReference<StatusValue> summary = new AtomicReference<>();\n+        summary.set(new StatusValue(SUMMARY_LABEL, Status.UNKNOWN));\n+\n+        List<StatusValue> statusValues = new ArrayList<>(getStatusValues());\n+        getChildren().forEach(o -> statusValues.add(o.getOverallStatus()));\n+        statusValues.forEach(value -> {\n+            if (value == null) {\n+                return;\n+            }\n+\n+            if (value.getStatus().isHigherThan(summary.get().getStatus())) {\n+                summary.set(value);\n+            }\n+        });\n+\n+        return new StatusValue(SUMMARY_LABEL + \".\" + getIdentifier(), summary.get().getStatus(), summary.get().getField());\n+    }\n+\n+    Set<StatusValue> getStatusValues();\n+\n+    default void setStatusValue(StatusValue statusValue) {\n+\n+        if (statusValue == null) {\n+            throw new IllegalArgumentException(\"Status value is null\");\n+        }\n+        if (StringUtils.isEmpty(statusValue.getField())) {\n+            throw new IllegalArgumentException(\"Status value has no field\");", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkxMDE4Nw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416910187", "bodyText": "done", "author": "bonndan", "createdAt": "2020-04-28T20:44:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MTI2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MjAxOQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416852019", "bodyText": "\ud83d\udc4d\nI often use Objects.requireNonNull() as I am lazy. But this check provides the slightly better message.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:01:48Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.model.Component;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import static de.bonndan.nivio.assessment.StatusValue.SUMMARY_LABEL;\n+\n+/**\n+ * Interface for components that can be assessed and can have assigned {@link StatusValue}s.\n+ *\n+ *\n+ */\n+public interface Assessable extends Component {\n+\n+    /**\n+     * Returns the highest status as summary of all {@link StatusValue} and children summaries.\n+     *\n+     * @return status value, field contains the component identifier, message is the identifier of the highest status value\n+     */\n+    default StatusValue getOverallStatus() {\n+\n+        final AtomicReference<StatusValue> summary = new AtomicReference<>();\n+        summary.set(new StatusValue(SUMMARY_LABEL, Status.UNKNOWN));\n+\n+        List<StatusValue> statusValues = new ArrayList<>(getStatusValues());\n+        getChildren().forEach(o -> statusValues.add(o.getOverallStatus()));\n+        statusValues.forEach(value -> {\n+            if (value == null) {\n+                return;\n+            }\n+\n+            if (value.getStatus().isHigherThan(summary.get().getStatus())) {\n+                summary.set(value);\n+            }\n+        });\n+\n+        return new StatusValue(SUMMARY_LABEL + \".\" + getIdentifier(), summary.get().getStatus(), summary.get().getField());\n+    }\n+\n+    Set<StatusValue> getStatusValues();\n+\n+    default void setStatusValue(StatusValue statusValue) {\n+\n+        if (statusValue == null) {\n+            throw new IllegalArgumentException(\"Status value is null\");", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MjQ2Mw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416852463", "bodyText": "A short description of the class would be helpful.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:02:33Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessment.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.assessment.kpi.KPI;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+public class Assessment {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzNTI5Ng==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416935296", "bodyText": "done", "author": "bonndan", "createdAt": "2020-04-28T21:29:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MjQ2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MzA4MQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416853081", "bodyText": "This is more an \"add\" than a \"set\".", "author": "Matthimatiker", "createdAt": "2020-04-28T19:03:43Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.model.Component;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import static de.bonndan.nivio.assessment.StatusValue.SUMMARY_LABEL;\n+\n+/**\n+ * Interface for components that can be assessed and can have assigned {@link StatusValue}s.\n+ *\n+ *\n+ */\n+public interface Assessable extends Component {\n+\n+    /**\n+     * Returns the highest status as summary of all {@link StatusValue} and children summaries.\n+     *\n+     * @return status value, field contains the component identifier, message is the identifier of the highest status value\n+     */\n+    default StatusValue getOverallStatus() {\n+\n+        final AtomicReference<StatusValue> summary = new AtomicReference<>();\n+        summary.set(new StatusValue(SUMMARY_LABEL, Status.UNKNOWN));\n+\n+        List<StatusValue> statusValues = new ArrayList<>(getStatusValues());\n+        getChildren().forEach(o -> statusValues.add(o.getOverallStatus()));\n+        statusValues.forEach(value -> {\n+            if (value == null) {\n+                return;\n+            }\n+\n+            if (value.getStatus().isHigherThan(summary.get().getStatus())) {\n+                summary.set(value);\n+            }\n+        });\n+\n+        return new StatusValue(SUMMARY_LABEL + \".\" + getIdentifier(), summary.get().getStatus(), summary.get().getField());\n+    }\n+\n+    Set<StatusValue> getStatusValues();\n+\n+    default void setStatusValue(StatusValue statusValue) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkxMDc2OA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416910768", "bodyText": "The concept behind it is a distinct Set, determined by StatusValue.field", "author": "bonndan", "createdAt": "2020-04-28T20:45:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MzA4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODkzMDcxOQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r418930719", "bodyText": "this kind of state has been removed competely", "author": "bonndan", "createdAt": "2020-05-02T08:26:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MzA4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1MzQxMg==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416853412", "bodyText": "This line assumes that the implementation provides a mutable Set.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:04:16Z", "path": "src/main/java/de/bonndan/nivio/assessment/Assessable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package de.bonndan.nivio.assessment;\n+\n+import de.bonndan.nivio.model.Component;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import static de.bonndan.nivio.assessment.StatusValue.SUMMARY_LABEL;\n+\n+/**\n+ * Interface for components that can be assessed and can have assigned {@link StatusValue}s.\n+ *\n+ *\n+ */\n+public interface Assessable extends Component {\n+\n+    /**\n+     * Returns the highest status as summary of all {@link StatusValue} and children summaries.\n+     *\n+     * @return status value, field contains the component identifier, message is the identifier of the highest status value\n+     */\n+    default StatusValue getOverallStatus() {\n+\n+        final AtomicReference<StatusValue> summary = new AtomicReference<>();\n+        summary.set(new StatusValue(SUMMARY_LABEL, Status.UNKNOWN));\n+\n+        List<StatusValue> statusValues = new ArrayList<>(getStatusValues());\n+        getChildren().forEach(o -> statusValues.add(o.getOverallStatus()));\n+        statusValues.forEach(value -> {\n+            if (value == null) {\n+                return;\n+            }\n+\n+            if (value.getStatus().isHigherThan(summary.get().getStatus())) {\n+                summary.set(value);\n+            }\n+        });\n+\n+        return new StatusValue(SUMMARY_LABEL + \".\" + getIdentifier(), summary.get().getStatus(), summary.get().getField());\n+    }\n+\n+    Set<StatusValue> getStatusValues();\n+\n+    default void setStatusValue(StatusValue statusValue) {\n+\n+        if (statusValue == null) {\n+            throw new IllegalArgumentException(\"Status value is null\");\n+        }\n+        if (StringUtils.isEmpty(statusValue.getField())) {\n+            throw new IllegalArgumentException(\"Status value has no field\");\n+        }\n+\n+        getStatusValues().add(statusValue);", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1NDc0Mw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416854743", "bodyText": "\ud83d\udc4d", "author": "Matthimatiker", "createdAt": "2020-04-28T19:06:28Z", "path": "src/main/java/de/bonndan/nivio/assessment/kpi/CustomKPI.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package de.bonndan.nivio.assessment.kpi;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import de.bonndan.nivio.ProcessingException;\n+import de.bonndan.nivio.assessment.Status;\n+import de.bonndan.nivio.assessment.StatusValue;\n+import de.bonndan.nivio.model.Labeled;\n+import org.apache.commons.lang3.Range;\n+import org.springframework.lang.NonNull;\n+import org.springframework.lang.Nullable;\n+\n+import java.util.*;\n+import java.util.function.Function;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * A configured key performance indicator related to a landscape item label.", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1NTgxMQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416855811", "bodyText": "Renaming KPI to KeyPerformanceIndicator would make 100% clear what is meant.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:08:22Z", "path": "src/main/java/de/bonndan/nivio/assessment/kpi/CustomKPI.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package de.bonndan.nivio.assessment.kpi;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import de.bonndan.nivio.ProcessingException;\n+import de.bonndan.nivio.assessment.Status;\n+import de.bonndan.nivio.assessment.StatusValue;\n+import de.bonndan.nivio.model.Labeled;\n+import org.apache.commons.lang3.Range;\n+import org.springframework.lang.NonNull;\n+import org.springframework.lang.Nullable;\n+\n+import java.util.*;\n+import java.util.function.Function;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * A configured key performance indicator related to a landscape item label.\n+ */\n+public class CustomKPI extends KPI {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkyMTY5NQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416921695", "bodyText": "But we need to save precious bytes!", "author": "bonndan", "createdAt": "2020-04-28T21:05:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1NTgxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1NjQyNg==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416856426", "bodyText": "I like the Status as key.\nNevertheless, the map structure would profit from some documentation.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:09:26Z", "path": "src/main/java/de/bonndan/nivio/assessment/kpi/CustomKPI.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package de.bonndan.nivio.assessment.kpi;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import de.bonndan.nivio.ProcessingException;\n+import de.bonndan.nivio.assessment.Status;\n+import de.bonndan.nivio.assessment.StatusValue;\n+import de.bonndan.nivio.model.Labeled;\n+import org.apache.commons.lang3.Range;\n+import org.springframework.lang.NonNull;\n+import org.springframework.lang.Nullable;\n+\n+import java.util.*;\n+import java.util.function.Function;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * A configured key performance indicator related to a landscape item label.\n+ */\n+public class CustomKPI extends KPI {\n+\n+    public static final String SEPARATOR = \";\";\n+    private final Map<Status, Range<Double>> ranges;", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkxMzA4MQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416913081", "bodyText": "done", "author": "bonndan", "createdAt": "2020-04-28T20:49:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1NjQyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1OTQ5MA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416859490", "bodyText": "Is there a valid case where it is ok to ignore this exception? Doesn't it hide more errors?", "author": "Matthimatiker", "createdAt": "2020-04-28T19:14:52Z", "path": "src/main/java/de/bonndan/nivio/assessment/kpi/CustomKPI.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package de.bonndan.nivio.assessment.kpi;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import de.bonndan.nivio.ProcessingException;\n+import de.bonndan.nivio.assessment.Status;\n+import de.bonndan.nivio.assessment.StatusValue;\n+import de.bonndan.nivio.model.Labeled;\n+import org.apache.commons.lang3.Range;\n+import org.springframework.lang.NonNull;\n+import org.springframework.lang.Nullable;\n+\n+import java.util.*;\n+import java.util.function.Function;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * A configured key performance indicator related to a landscape item label.\n+ */\n+public class CustomKPI extends KPI {\n+\n+    public static final String SEPARATOR = \";\";\n+    private final Map<Status, Range<Double>> ranges;\n+    private final Map<Status, List<Function<String, Boolean>>> matches = new HashMap<>();\n+    private final String label;\n+\n+    /**\n+     * @param label        the label which is evaluated for status\n+     * @param messageLabel the label which is used as optional message\n+     */\n+    @JsonCreator\n+    public CustomKPI(@NonNull @JsonProperty(value = \"label\", required = true) String label,\n+                     @Nullable @JsonProperty(\"messageLabel\") String messageLabel,\n+                     @Nullable @JsonProperty(\"ranges\") Map<Status, String> ranges,\n+                     @Nullable @JsonProperty(\"matches\") Map<Status, String> matches\n+    ) {\n+        super(component -> {\n+                    if (component instanceof Labeled) {\n+                        return ((Labeled) component).getLabel(label);\n+                    }\n+                    throw new RuntimeException(\"Custom KPIs can only evaluate labels (custom fields).\");\n+                },\n+                component -> {\n+                    if (component instanceof Labeled) {\n+                        return ((Labeled) component).getLabel(messageLabel);\n+                    }\n+                    return null;\n+                });\n+\n+        this.label = label;\n+        this.ranges = asRanges(ranges);\n+        addSpecs(matches);\n+    }\n+\n+    @Override\n+    protected List<StatusValue> getStatusValues(String value, String message) {\n+\n+        List<StatusValue> values = new ArrayList<>();\n+        for (Status status : Status.values()) {\n+            Optional<Status> statusByRange = getStatusByRange(value);\n+            if (statusByRange.isPresent()) {\n+                values.add(new StatusValue(label, statusByRange.get(), message));\n+                break;\n+            }\n+\n+            if (!matches.containsKey(status)) {\n+                continue;\n+            }\n+            boolean anyMatch = matches.get(status).stream().anyMatch(stringBooleanFunction -> stringBooleanFunction.apply(value));\n+            if (anyMatch) {\n+                values.add(new StatusValue(label, status, message));\n+                break;\n+            }\n+        }\n+\n+        return values;\n+    }\n+\n+    private Map<Status, Range<Double>> asRanges(Map<Status, String> ranges) {\n+        Map<Status, Range<Double>> rangeMap = new HashMap<>();\n+        if (ranges == null) {\n+            return rangeMap;\n+        }\n+\n+        ranges.forEach((status, s) -> {\n+            String[] split;\n+            if (s.contains(SEPARATOR)) {\n+                split = s.split(SEPARATOR);\n+            } else {\n+                split = new String[2];\n+                split[0] = s;\n+                split[1] = s;\n+            }\n+            try {\n+                rangeMap.put(status, Range.between(Double.valueOf(split[0]), Double.valueOf(split[1])));\n+            } catch (NumberFormatException e) {\n+                throw new ProcessingException(\"Failed to parse KPI range: \" + s, e);\n+            }\n+        });\n+        return rangeMap;\n+    }\n+\n+    private Optional<Status> getStatusByRange(String value) {\n+        if (value == null) {\n+            return Optional.empty();\n+        }\n+\n+        double d;\n+        try {\n+            d = Double.parseDouble(value);\n+        } catch (NumberFormatException ignored) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkyMDU0MQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416920541", "bodyText": "We do not know the value to assess, which can be anything and can be supplied even by a third party system. So first we try parsing numbers to Double, and it that fails we assume it is a string and is compared against the regex matchers.\nOne improvement could be throwing an exception if only numeric ranges are defined for the KPI, but then we'd have to handle the exception, and a wrong value from a third party system is not necessarily exceptional.", "author": "bonndan", "createdAt": "2020-04-28T21:02:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1OTQ5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2MDA4NA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416860084", "bodyText": "\ud83d\udc4d  for @Nullable", "author": "Matthimatiker", "createdAt": "2020-04-28T19:15:57Z", "path": "src/main/java/de/bonndan/nivio/assessment/kpi/CustomKPI.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package de.bonndan.nivio.assessment.kpi;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import de.bonndan.nivio.ProcessingException;\n+import de.bonndan.nivio.assessment.Status;\n+import de.bonndan.nivio.assessment.StatusValue;\n+import de.bonndan.nivio.model.Labeled;\n+import org.apache.commons.lang3.Range;\n+import org.springframework.lang.NonNull;\n+import org.springframework.lang.Nullable;\n+\n+import java.util.*;\n+import java.util.function.Function;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * A configured key performance indicator related to a landscape item label.\n+ */\n+public class CustomKPI extends KPI {\n+\n+    public static final String SEPARATOR = \";\";\n+    private final Map<Status, Range<Double>> ranges;\n+    private final Map<Status, List<Function<String, Boolean>>> matches = new HashMap<>();\n+    private final String label;\n+\n+    /**\n+     * @param label        the label which is evaluated for status\n+     * @param messageLabel the label which is used as optional message\n+     */\n+    @JsonCreator\n+    public CustomKPI(@NonNull @JsonProperty(value = \"label\", required = true) String label,\n+                     @Nullable @JsonProperty(\"messageLabel\") String messageLabel,\n+                     @Nullable @JsonProperty(\"ranges\") Map<Status, String> ranges,\n+                     @Nullable @JsonProperty(\"matches\") Map<Status, String> matches\n+    ) {\n+        super(component -> {\n+                    if (component instanceof Labeled) {\n+                        return ((Labeled) component).getLabel(label);\n+                    }\n+                    throw new RuntimeException(\"Custom KPIs can only evaluate labels (custom fields).\");\n+                },\n+                component -> {\n+                    if (component instanceof Labeled) {\n+                        return ((Labeled) component).getLabel(messageLabel);\n+                    }\n+                    return null;\n+                });\n+\n+        this.label = label;\n+        this.ranges = asRanges(ranges);\n+        addSpecs(matches);\n+    }\n+\n+    @Override\n+    protected List<StatusValue> getStatusValues(String value, String message) {\n+\n+        List<StatusValue> values = new ArrayList<>();\n+        for (Status status : Status.values()) {\n+            Optional<Status> statusByRange = getStatusByRange(value);\n+            if (statusByRange.isPresent()) {\n+                values.add(new StatusValue(label, statusByRange.get(), message));\n+                break;\n+            }\n+\n+            if (!matches.containsKey(status)) {\n+                continue;\n+            }\n+            boolean anyMatch = matches.get(status).stream().anyMatch(stringBooleanFunction -> stringBooleanFunction.apply(value));\n+            if (anyMatch) {\n+                values.add(new StatusValue(label, status, message));\n+                break;\n+            }\n+        }\n+\n+        return values;\n+    }\n+\n+    private Map<Status, Range<Double>> asRanges(Map<Status, String> ranges) {\n+        Map<Status, Range<Double>> rangeMap = new HashMap<>();\n+        if (ranges == null) {\n+            return rangeMap;\n+        }\n+\n+        ranges.forEach((status, s) -> {\n+            String[] split;\n+            if (s.contains(SEPARATOR)) {\n+                split = s.split(SEPARATOR);\n+            } else {\n+                split = new String[2];\n+                split[0] = s;\n+                split[1] = s;\n+            }\n+            try {\n+                rangeMap.put(status, Range.between(Double.valueOf(split[0]), Double.valueOf(split[1])));\n+            } catch (NumberFormatException e) {\n+                throw new ProcessingException(\"Failed to parse KPI range: \" + s, e);\n+            }\n+        });\n+        return rangeMap;\n+    }\n+\n+    private Optional<Status> getStatusByRange(String value) {\n+        if (value == null) {\n+            return Optional.empty();\n+        }\n+\n+        double d;\n+        try {\n+            d = Double.parseDouble(value);\n+        } catch (NumberFormatException ignored) {\n+            return Optional.empty();\n+        }\n+        return ranges.entrySet().stream()\n+                .filter(entry -> entry.getValue().contains(d))\n+                .findFirst()\n+                .map(Map.Entry::getKey);\n+    }\n+\n+    private void addSpecs(@Nullable Map<Status, String> statusPatterns) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2MjA3OA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416862078", "bodyText": "Can we catch a more specific exception here? Can we check before if the pattern can be compiled?\nIs the fallback really the desired behavior? What if I supplied an invalid regex (because of a missing brace etc.), but never intended to apply the contains behavior?", "author": "Matthimatiker", "createdAt": "2020-04-28T19:19:16Z", "path": "src/main/java/de/bonndan/nivio/assessment/kpi/CustomKPI.java", "diffHunk": "@@ -0,0 +1,138 @@\n+package de.bonndan.nivio.assessment.kpi;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import de.bonndan.nivio.ProcessingException;\n+import de.bonndan.nivio.assessment.Status;\n+import de.bonndan.nivio.assessment.StatusValue;\n+import de.bonndan.nivio.model.Labeled;\n+import org.apache.commons.lang3.Range;\n+import org.springframework.lang.NonNull;\n+import org.springframework.lang.Nullable;\n+\n+import java.util.*;\n+import java.util.function.Function;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * A configured key performance indicator related to a landscape item label.\n+ */\n+public class CustomKPI extends KPI {\n+\n+    public static final String SEPARATOR = \";\";\n+    private final Map<Status, Range<Double>> ranges;\n+    private final Map<Status, List<Function<String, Boolean>>> matches = new HashMap<>();\n+    private final String label;\n+\n+    /**\n+     * @param label        the label which is evaluated for status\n+     * @param messageLabel the label which is used as optional message\n+     */\n+    @JsonCreator\n+    public CustomKPI(@NonNull @JsonProperty(value = \"label\", required = true) String label,\n+                     @Nullable @JsonProperty(\"messageLabel\") String messageLabel,\n+                     @Nullable @JsonProperty(\"ranges\") Map<Status, String> ranges,\n+                     @Nullable @JsonProperty(\"matches\") Map<Status, String> matches\n+    ) {\n+        super(component -> {\n+                    if (component instanceof Labeled) {\n+                        return ((Labeled) component).getLabel(label);\n+                    }\n+                    throw new RuntimeException(\"Custom KPIs can only evaluate labels (custom fields).\");\n+                },\n+                component -> {\n+                    if (component instanceof Labeled) {\n+                        return ((Labeled) component).getLabel(messageLabel);\n+                    }\n+                    return null;\n+                });\n+\n+        this.label = label;\n+        this.ranges = asRanges(ranges);\n+        addSpecs(matches);\n+    }\n+\n+    @Override\n+    protected List<StatusValue> getStatusValues(String value, String message) {\n+\n+        List<StatusValue> values = new ArrayList<>();\n+        for (Status status : Status.values()) {\n+            Optional<Status> statusByRange = getStatusByRange(value);\n+            if (statusByRange.isPresent()) {\n+                values.add(new StatusValue(label, statusByRange.get(), message));\n+                break;\n+            }\n+\n+            if (!matches.containsKey(status)) {\n+                continue;\n+            }\n+            boolean anyMatch = matches.get(status).stream().anyMatch(stringBooleanFunction -> stringBooleanFunction.apply(value));\n+            if (anyMatch) {\n+                values.add(new StatusValue(label, status, message));\n+                break;\n+            }\n+        }\n+\n+        return values;\n+    }\n+\n+    private Map<Status, Range<Double>> asRanges(Map<Status, String> ranges) {\n+        Map<Status, Range<Double>> rangeMap = new HashMap<>();\n+        if (ranges == null) {\n+            return rangeMap;\n+        }\n+\n+        ranges.forEach((status, s) -> {\n+            String[] split;\n+            if (s.contains(SEPARATOR)) {\n+                split = s.split(SEPARATOR);\n+            } else {\n+                split = new String[2];\n+                split[0] = s;\n+                split[1] = s;\n+            }\n+            try {\n+                rangeMap.put(status, Range.between(Double.valueOf(split[0]), Double.valueOf(split[1])));\n+            } catch (NumberFormatException e) {\n+                throw new ProcessingException(\"Failed to parse KPI range: \" + s, e);\n+            }\n+        });\n+        return rangeMap;\n+    }\n+\n+    private Optional<Status> getStatusByRange(String value) {\n+        if (value == null) {\n+            return Optional.empty();\n+        }\n+\n+        double d;\n+        try {\n+            d = Double.parseDouble(value);\n+        } catch (NumberFormatException ignored) {\n+            return Optional.empty();\n+        }\n+        return ranges.entrySet().stream()\n+                .filter(entry -> entry.getValue().contains(d))\n+                .findFirst()\n+                .map(Map.Entry::getKey);\n+    }\n+\n+    private void addSpecs(@Nullable Map<Status, String> statusPatterns) {\n+        if (statusPatterns == null)\n+            return;\n+\n+        statusPatterns.forEach((status, strings) -> {\n+            List<Function<String, Boolean>> specs = Arrays.stream(strings.split(SEPARATOR)).map(s -> {\n+                try {\n+                    Pattern p = Pattern.compile(s, Pattern.CASE_INSENSITIVE);\n+                    return (Function<String, Boolean>) s1 -> p.matcher(s1).matches();\n+                } catch (Exception e) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzMzcxNQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416933715", "bodyText": "What would you suggest? Simply warn the user that the regex is wrong?", "author": "bonndan", "createdAt": "2020-04-28T21:26:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2MjA3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2MzY4OA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416863688", "bodyText": "You can pass the exception as last parameter to ensure that it is not completely lost.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:21:50Z", "path": "src/main/java/de/bonndan/nivio/input/LabelToFieldProcessor.java", "diffHunk": "@@ -79,9 +81,15 @@ private void setValue(ItemDescription item, String name, String value) {\n                 return;\n             }\n \n-            myAccessor.setPropertyValue(name, value.trim());\n+            if (name.startsWith(Linked.LINK_LABEL_PREFIX)) {\n+                item.setLink(name.replace(Linked.LINK_LABEL_PREFIX, \"\"), new URL(value));\n+            } else {\n+                myAccessor.setPropertyValue(name, value.trim());\n+            }\n         } catch (NotWritablePropertyException e) {\n             logger.warn(\"Failed to write field '\" + name + \"' via label\");\n+        } catch (MalformedURLException e) {\n+            logger.warn(\"Failed to add link '\" + name + \"' via label because of malformed URL \" + value);", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkyNTU3NQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416925575", "bodyText": "This is nivio's special Logger decorator, meaning everything logged here lands in the GUI", "author": "bonndan", "createdAt": "2020-04-28T21:11:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2MzY4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2NTk3Mw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416865973", "bodyText": "Is it possible to avoid the checks and casts by overloading the method?", "author": "Matthimatiker", "createdAt": "2020-04-28T19:25:59Z", "path": "src/main/java/de/bonndan/nivio/input/dto/ItemDescription.java", "diffHunk": "@@ -397,15 +230,59 @@ public String toString() {\n         return FullyQualifiedIdentifier.build(environment, group, identifier).toString();\n     }\n \n+    /**\n+     * Legacy setter for {@link StatusValue}.\n+     *\n+     * @param statuses\n+     */\n+    @Deprecated\n+    public void setStatuses(List<LinkedHashMap<String, String>> statuses) {\n+        statuses.forEach(map -> {\n+            String key = map.get(\"label\");\n+            if (key != null) {\n+                String value = map.get(\"status\");\n+                String message = map.get(\"message\");\n+                setLabel(Label.PREFIX_STATUS + Label.DELIMITER + key + Label.DELIMITER + \"status\", value);\n+                setLabel(Label.PREFIX_STATUS + Label.DELIMITER + key + Label.DELIMITER + \"message\", message);\n+            }\n+        });\n+    }\n+\n     @Override\n     @JsonAnyGetter\n     public String getLabel(String key) {\n         return labels.get(key);\n     }\n \n     @Override\n-    @JsonAnySetter\n     public void setLabel(String key, String value) {\n-        labels.putIfAbsent(key, value);\n+        labels.put(key, value);\n+    }\n+\n+    @JsonAnySetter\n+    public void setLabel(String key, Object value) {\n+        if (value instanceof String) {\n+            labels.put(key.toLowerCase(), (String) value);\n+            return;\n+        }\n+        if (value instanceof String[]) {\n+            Arrays.stream(((String[]) value)).forEach(s -> setPrefixed(key, s));\n+            return;\n+        }\n+\n+        if (value instanceof List) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkxNDQyMw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416914423", "bodyText": "This JsonAnySetter is a last resort anways. See also https://stackoverflow.com/questions/22501844/multiple-any-setters-using-jackson\nBut yes, that would be better", "author": "bonndan", "createdAt": "2020-04-28T20:52:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2NTk3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2ODI1Nw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416868257", "bodyText": "Why are keys and values not passed as Map? Because it looks as if that is expected.", "author": "Matthimatiker", "createdAt": "2020-04-28T19:30:00Z", "path": "src/main/java/de/bonndan/nivio/model/Labeled.java", "diffHunk": "@@ -1,13 +1,149 @@\n package de.bonndan.nivio.model;\n \n+import org.springframework.util.StringUtils;\n+\n+import java.util.Arrays;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+\n /**\n  * Anything that has labels (key-value).\n- *\n- *\n  */\n public interface Labeled {\n \n+    String PREFIX_VALUE_DELIMITER = \";\";\n+\n+    default String getLabel(Label key) {\n+        return getLabel(key.name().toLowerCase());\n+    }\n+\n     String getLabel(String key);\n \n+    /**\n+     * Returns all label with values having the given prefix.\n+     */\n+    default Map<String, String> getLabels(String prefix) {\n+        return Labeled.withPrefix(prefix, getLabels());\n+    }\n+\n+    /**\n+     * Returns all labels with the given prefix.\n+     *\n+     */\n+    default Map<String, String> getLabels(Label prefix) {\n+        return getLabels(prefix.name().toLowerCase());\n+    }\n+\n+    default void setLabels(String prefix, String[] keys, String[] values) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkwMzM0OA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416903348", "bodyText": "Method has been removed.", "author": "bonndan", "createdAt": "2020-04-28T20:32:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2ODI1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2OTQzMA==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416869430", "bodyText": "Where is T used?", "author": "Matthimatiker", "createdAt": "2020-04-28T19:32:02Z", "path": "src/main/java/de/bonndan/nivio/model/RelationType.java", "diffHunk": "@@ -20,4 +24,13 @@ public static RelationType from(String relationType) {\n         return DATAFLOW;\n     }\n \n+    /**\n+     * Filters a list of relations for equal type.\n+     *\n+     * @param all all relations\n+     * @return filtered subset\n+     */\n+    public <T> List<RelationItem> filter(Collection<? extends RelationItem> all) {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkyOTYxNg==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416929616", "bodyText": "removed", "author": "bonndan", "createdAt": "2020-04-28T21:19:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg2OTQzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg3MDI5Mw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416870293", "bodyText": "\ud83d\udc4d", "author": "Matthimatiker", "createdAt": "2020-04-28T19:33:36Z", "path": "src/test/java/de/bonndan/nivio/assessment/AssessableTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+package de.bonndan.nivio.assessment;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.ArrayList;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Set;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+class AssessableTest {", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg3MTIxMw==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416871213", "bodyText": "Did not notice that before, but I would expect highestOf() to return a single item (or an Optional of an item).", "author": "Matthimatiker", "createdAt": "2020-04-28T19:35:17Z", "path": "src/test/java/de/bonndan/nivio/assessment/StatusValueTest.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package de.bonndan.nivio.assessment;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+\n+class StatusValueTest {\n+\n+    @Test\n+    void highestOf() {\n+        List<StatusValue> statusValueSet = new ArrayList<>();\n+        statusValueSet.add(new StatusValue(\"foo\", Status.GREEN));\n+        statusValueSet.add(new StatusValue(\"bar\", Status.ORANGE));\n+        statusValueSet.add(new StatusValue(\"baz\", Status.ORANGE));\n+\n+        List<StatusValue> highest = StatusValue.highestOf(statusValueSet);", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzMjYzNQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416932635", "bodyText": "No, for instance a landscape item could have Status.RED concerning security AND health, and neither of them is higher than the other. The method is unused yet, however.", "author": "bonndan", "createdAt": "2020-04-28T21:25:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg3MTIxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg3MTk5MQ==", "url": "https://github.com/dedica-team/nivio/pull/121#discussion_r416871991", "bodyText": "Cool :-)", "author": "Matthimatiker", "createdAt": "2020-04-28T19:36:35Z", "path": "src/test/resources/example/dedica.yml", "diffHunk": "@@ -0,0 +1,54 @@\n+identifier: dedica.team", "originalCommit": "33701d35e90619f0df8b0eb68408b2f6bc9e4aeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "31f95898fcdc85690bcb1c2bc5a349eb371ae24a", "url": "https://github.com/dedica-team/nivio/commit/31f95898fcdc85690bcb1c2bc5a349eb371ae24a", "message": "Merge branch 'develop' into 114_remodel", "committedDate": "2020-04-28T20:12:43Z", "type": "commit"}, {"oid": "14ad6b1399dfff7c7f41c0f6272a3d4418a4bfe3", "url": "https://github.com/dedica-team/nivio/commit/14ad6b1399dfff7c7f41c0f6272a3d4418a4bfe3", "message": "[#144] added comment", "committedDate": "2020-04-28T20:16:24Z", "type": "commit"}, {"oid": "b0f696350df8ecb9ca85463bc48e79446d635708", "url": "https://github.com/dedica-team/nivio/commit/b0f696350df8ecb9ca85463bc48e79446d635708", "message": "[#144] removed obsolete method", "committedDate": "2020-04-28T20:31:40Z", "type": "commit"}, {"oid": "e641fa33447bd8e9127ca99e9a227b86e359cb7f", "url": "https://github.com/dedica-team/nivio/commit/e641fa33447bd8e9127ca99e9a227b86e359cb7f", "message": "[#144] refactored StatusValue", "committedDate": "2020-04-28T20:44:23Z", "type": "commit"}, {"oid": "97c3bbeba56c0124b9e63327c640ba8aefba49b6", "url": "https://github.com/dedica-team/nivio/commit/97c3bbeba56c0124b9e63327c640ba8aefba49b6", "message": "[#144] added comments", "committedDate": "2020-04-28T20:49:27Z", "type": "commit"}, {"oid": "a7a9a1078c820903b7e54e59e4fe37974c066650", "url": "https://github.com/dedica-team/nivio/commit/a7a9a1078c820903b7e54e59e4fe37974c066650", "message": "[#114] cleanup", "committedDate": "2020-04-28T21:19:18Z", "type": "commit"}, {"oid": "396ec7bdb7a84c32023625716bb94c69125ec7b7", "url": "https://github.com/dedica-team/nivio/commit/396ec7bdb7a84c32023625716bb94c69125ec7b7", "message": "[#114] added comment", "committedDate": "2020-04-28T21:29:45Z", "type": "commit"}, {"oid": "07cb39b03d1a8cc4dc7952174343b98153648eb0", "url": "https://github.com/dedica-team/nivio/commit/07cb39b03d1a8cc4dc7952174343b98153648eb0", "message": "[#114] refactored FullyQualifiedIdentifier: extracted class ItemMatcher for searching purposes", "committedDate": "2020-05-01T19:43:33Z", "type": "commit"}, {"oid": "2b024be198d137ecb1d5dcd2440a5a952aa789b7", "url": "https://github.com/dedica-team/nivio/commit/2b024be198d137ecb1d5dcd2440a5a952aa789b7", "message": "[#12] assessment has separate api and does not change state of landscape component", "committedDate": "2020-05-01T20:40:54Z", "type": "commit"}, {"oid": "b1e6992369818f02053da3e54b6d8919122fe27e", "url": "https://github.com/dedica-team/nivio/commit/b1e6992369818f02053da3e54b6d8919122fe27e", "message": "[#12] kpis are initialised explicitly to catch configuration errors", "committedDate": "2020-05-02T18:00:00Z", "type": "commit"}, {"oid": "a2731bb8debe9fc8bc3b383079a5029975042c2b", "url": "https://github.com/dedica-team/nivio/commit/a2731bb8debe9fc8bc3b383079a5029975042c2b", "message": "[#114] frontend changes", "committedDate": "2020-05-03T06:32:53Z", "type": "commit"}, {"oid": "4a02c242084593da7022109dafe2aceae1b768d1", "url": "https://github.com/dedica-team/nivio/commit/4a02c242084593da7022109dafe2aceae1b768d1", "message": "[#12] Assessable methods not part of public data", "committedDate": "2020-05-03T07:02:10Z", "type": "commit"}, {"oid": "34451cfad1d1c545e18410932f14d39927efcb91", "url": "https://github.com/dedica-team/nivio/commit/34451cfad1d1c545e18410932f14d39927efcb91", "message": "[#114] using api data to display item details (wip)", "committedDate": "2020-05-03T07:04:58Z", "type": "commit"}, {"oid": "ccd24ba2d04553da957ff69efd4b0cdeeec2b825", "url": "https://github.com/dedica-team/nivio/commit/ccd24ba2d04553da957ff69efd4b0cdeeec2b825", "message": "[#12] removed evaluated scale from map", "committedDate": "2020-05-03T07:11:32Z", "type": "commit"}, {"oid": "551849d568511c18a6a8d980e54d31984825f064", "url": "https://github.com/dedica-team/nivio/commit/551849d568511c18a6a8d980e54d31984825f064", "message": "[#114] cleanup", "committedDate": "2020-05-03T07:11:45Z", "type": "commit"}]}