{"pr_number": 2940, "pr_title": "DROOLS-5291 & DROOLS-5223: Managing empty and invalid scesim file", "pr_createdAt": "2020-06-09T11:44:22Z", "pr_url": "https://github.com/kiegroup/drools/pull/2940", "timeline": [{"oid": "0aa54084190de70c512ab505ba8e09131b62e8d7", "url": "https://github.com/kiegroup/drools/commit/0aa54084190de70c512ab505ba8e09131b62e8d7", "message": "DROOLS-5291: Managing empty scesim file", "committedDate": "2020-06-08T19:25:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM0OTQwMw==", "url": "https://github.com/kiegroup/drools/pull/2940#discussion_r437349403", "bodyText": "What about Malformed file, content is empty!?", "author": "danielezonca", "createdAt": "2020-06-09T11:53:44Z", "path": "drools-scenario-simulation/drools-scenario-simulation-backend/src/main/java/org/drools/scenariosimulation/backend/util/ScenarioSimulationXMLPersistence.java", "diffHunk": "@@ -128,11 +128,8 @@ public ScenarioSimulationModel unmarshal(final String rawXml) throws Exception {\n     }\n \n     public ScenarioSimulationModel unmarshal(final String rawXml, boolean migrate) throws Exception {\n-        if (rawXml == null) {\n-            return new ScenarioSimulationModel();\n-        }\n-        if (rawXml.trim().equals(\"\")) {\n-            return new ScenarioSimulationModel();\n+        if (rawXml == null || rawXml.trim().equals(\"\")) {\n+            throw new IllegalArgumentException(\"File content is empty!\");", "originalCommit": "0aa54084190de70c512ab505ba8e09131b62e8d7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "46e1a9eebc7d90bea1ac73dd469ee2fcd12c0a3f", "url": "https://github.com/kiegroup/drools/commit/46e1a9eebc7d90bea1ac73dd469ee2fcd12c0a3f", "message": "DROOLS-5291: Changes required during CR", "committedDate": "2020-06-09T12:27:28Z", "type": "commit"}, {"oid": "0affa0b73ad072044c75b8a477a2d487933c4b04", "url": "https://github.com/kiegroup/drools/commit/0affa0b73ad072044c75b8a477a2d487933c4b04", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5223", "committedDate": "2020-06-18T10:45:30Z", "type": "commit"}, {"oid": "810b4006cd70d2cf43baea7f72cd69c99011ffa2", "url": "https://github.com/kiegroup/drools/commit/810b4006cd70d2cf43baea7f72cd69c99011ffa2", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5223", "committedDate": "2020-06-19T08:03:59Z", "type": "commit"}]}