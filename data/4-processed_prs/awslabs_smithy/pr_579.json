{"pr_number": 579, "pr_title": "Add aws.cloudformation traits", "pr_createdAt": "2020-09-28T23:08:21Z", "pr_url": "https://github.com/awslabs/smithy/pull/579", "timeline": [{"oid": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "url": "https://github.com/awslabs/smithy/commit/dc5a8a75efaa99e6558699ab17909e7530b0da83", "message": "Add aws.cloudformation traits\n\nThis commit adds several traits in the aws.cloudformation namespace,\ncontained in a new smithy-aws-cloudformation-traits package. These\ntraits indicate CloudFormation resources and the additional metadata\nabout their properties. A ResourceIndex is also included to make using\nthis information more accessible and to handle derived property\nmutabilities.", "committedDate": "2020-09-28T23:13:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyNjkxOQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497026919", "bodyText": "\"so they can be\" instead of \"as they would be\"?", "author": "mtdowling", "createdAt": "2020-09-29T20:33:25Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyNzY4MQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497027681", "bodyText": "Can this also go into a little motivation? Like what you get by using these traits and leveraging your existing API definitions to build out resource schemas?", "author": "mtdowling", "createdAt": "2020-09-29T20:34:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyNjkxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyOTUzNA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497029534", "bodyText": "What's the default?", "author": "mtdowling", "createdAt": "2020-09-29T20:36:08Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NDg2Ng==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514574866", "bodyText": "Re-opening this one since it still doesn't say what the default is if a name isn't given.", "author": "mtdowling", "createdAt": "2020-10-29T21:20:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyOTUzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzMDI1OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497030258", "bodyText": "Are all the structures merged together? What happens if there's a conflict?", "author": "mtdowling", "createdAt": "2020-09-29T20:36:47Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzMDk3Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497030973", "bodyText": "It doesn't seem like the service necessary in these examples.", "author": "mtdowling", "createdAt": "2020-09-29T20:37:29Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzMTM2OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497031369", "bodyText": "optional properties of what?", "author": "mtdowling", "createdAt": "2020-09-29T20:37:53Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzMzQxNw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497033417", "bodyText": "Is there a place this can link to that defines CloudFormation identifiers?", "author": "mtdowling", "createdAt": "2020-09-29T20:39:52Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNDU5Nw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497034597", "bodyText": "read not get", "author": "mtdowling", "createdAt": "2020-09-29T20:40:59Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNDg5Ng==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497034896", "bodyText": "Are these only found on operations bound to read operations? What are the rules for how this trait actually works?", "author": "mtdowling", "createdAt": "2020-09-29T20:41:17Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNTc1OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497035758", "bodyText": "\"derive in to a\" -> \"converted to a\"?", "author": "mtdowling", "createdAt": "2020-09-29T20:42:08Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNjQyMQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497036421", "bodyText": "How is this structure converted to a CloudFormation resource?", "author": "mtdowling", "createdAt": "2020-09-29T20:42:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNTc1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNjc1NA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497036754", "bodyText": "are all structure members converted by default?", "author": "mtdowling", "createdAt": "2020-09-29T20:43:07Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNzQ5Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497037493", "bodyText": "\"has the derivable responseCode property excluded\" -> \"excludes the responseCode property\"", "author": "mtdowling", "createdAt": "2020-09-29T20:43:51Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzODg4NQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497038885", "bodyText": "Can you link to the CFN specs for a what a property is?", "author": "mtdowling", "createdAt": "2020-09-29T20:45:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzNzQ5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAzODUxNA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497038514", "bodyText": "Is this only used on read operations? Can it be used anywhere in the closure of the output? What about input?", "author": "mtdowling", "createdAt": "2020-09-29T20:44:52Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MDQ2Ng==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497040466", "bodyText": "After reading this, I think this needs a high-level overview of what these traits do, how they work, and why they're useful. There should be links to the CFN specs when possible too for further reading.", "author": "mtdowling", "createdAt": "2020-09-29T20:46:43Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MTI5MA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497041290", "bodyText": "Not sure I fully understand the implications of adding these traits. What cascading effect does this have?", "author": "mtdowling", "createdAt": "2020-09-29T20:47:31Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MTcyMg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497041722", "bodyText": "read", "author": "mtdowling", "createdAt": "2020-09-29T20:48:00Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MTc4MA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497041780", "bodyText": "read", "author": "mtdowling", "createdAt": "2020-09-29T20:48:04Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``updatedAt`` and ``createdAt`` properties marked as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MjM4OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497042389", "bodyText": "You need double ticks instead of single ticks around read and list", "author": "mtdowling", "createdAt": "2020-09-29T20:48:39Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MzY2Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497043663", "bodyText": "Did you consider using a single trait, like aws.cloudformation#mutability with an enum that allows a fixed set of values? Or are specific traits needed for custom trait selectors or something?", "author": "mtdowling", "createdAt": "2020-09-29T20:49:55Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU5MzY2Nw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r498593667", "bodyText": "It was originally discounted because the conflicts lists were distinct and the traits' selectors were different. However, with some convergence on these over the development, I think it's reasonable to reconcile them down in to one trait.\nThe outstanding conflict list discrepancy (@writeOnlyProperty / @mutability(\"write-only\") + @additionalIdentifier) can be moved to in-code validation, and the usability here will be improved", "author": "kstich", "createdAt": "2020-10-02T02:20:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0MzY2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NDQyNA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497044424", "bodyText": "\"that has the derivable ...\" -> \"that marks the derivable ... as read only\"", "author": "mtdowling", "createdAt": "2020-09-29T20:50:40Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NDk4Mg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497044982", "bodyText": "This needs to be required. I suggest running all these examples through validation.", "author": "mtdowling", "createdAt": "2020-09-29T20:51:13Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``updatedAt`` and ``createdAt`` properties marked as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            fooId: String", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NTY3MA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497045670", "bodyText": "You need two ticks around read and list for rst", "author": "mtdowling", "createdAt": "2020-09-29T20:51:53Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``updatedAt`` and ``createdAt`` properties marked as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @readOnlyProperty\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @readOnlyProperty\n+            createdAt: Timestamp,\n+        }\n+\n+\n+.. _aws.cloudformation#writeOnlyProperty-trait:\n+\n+``aws.cloudformation#writeOnlyProperty`` trait\n+----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified by the user, but cannot be returned by a `read` or `list`", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NjYxOA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497046618", "bodyText": "In general use more active voice and less passive voice", "author": "mtdowling", "createdAt": "2020-09-29T20:52:50Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``updatedAt`` and ``createdAt`` properties marked as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @readOnlyProperty\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @readOnlyProperty\n+            createdAt: Timestamp,\n+        }\n+\n+\n+.. _aws.cloudformation#writeOnlyProperty-trait:\n+\n+``aws.cloudformation#writeOnlyProperty`` trait\n+----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified by the user, but cannot be returned by a `read` or `list`\n+    request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0ODQyOA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497048428", "bodyText": "This sentence be rewritten I think to make property mutability the subject", "author": "mtdowling", "createdAt": "2020-09-29T20:54:30Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``updatedAt`` and ``createdAt`` properties marked as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @readOnlyProperty\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @readOnlyProperty\n+            createdAt: Timestamp,\n+        }\n+\n+\n+.. _aws.cloudformation#writeOnlyProperty-trait:\n+\n+``aws.cloudformation#writeOnlyProperty`` trait\n+----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified by the user, but cannot be returned by a `read` or `list`\n+    request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``secret`` and ``password`` properties marked as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#writeOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @writeOnlyProperty\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @writeOnlyProperty\n+            password: String,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+----------------------------\n+Deriving Property Mutability\n+----------------------------\n+\n+Smithy will automatically derive property mutability information for resources\n+with the ``@aws.cloudformation#resource`` trait applied.\n+\n+A resources properties include those that are inferred from the resource's\n+identifiers as well as ``read`` lifecycle output, ``put`` lifecycle input,\n+``create`` lifecycle input, ``update`` lifecycle input, and any structures\n+listed in the ``@aws.cloudformation#resource`` trait's ``additionalSchemas``\n+property.\n+\n+A resource's property mutabilities are only derived for the top level of any", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0ODk4Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497048983", "bodyText": "mutability is only derived for top-level members of input/output shapes?", "author": "mtdowling", "createdAt": "2020-09-29T20:55:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0ODQyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MDE3NA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r497050174", "bodyText": "It would be nice to first given an example of something with as few traits as possible, and then a more kitchen-sink example like what you have here.", "author": "mtdowling", "createdAt": "2020-09-29T20:56:11Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,672 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components as they would be converted to `CloudFormation Resource Schemas`_.\n+\n+.. contents:: Table of contents\n+    :depth: 2\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                Foo,\n+            ],\n+        }\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a value for each of the optional properties:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        service TestService {\n+            version: \"2020-07-02\",\n+            resources: [\n+                FooResource,\n+            ],\n+        }\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    additional identifier for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the\n+``fooAlias`` property as an additional identifier:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation resource property name to\n+    differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+Given the following structure definition that is derived in to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included in generated\n+    CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``responseCode`` property excluded:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-traits:\n+\n+--------------------------\n+Property Mutability Traits\n+--------------------------\n+\n+The following set of traits define how resource properties can be altered, if\n+at all. When resolving the properties of a resource, these traits have a\n+cascading effect on the shape targeted by the member. Shapes that set one of\n+these traits explicitly will override any inherited value, specified or\n+derived.\n+\n+.. _aws.cloudformation#mutableProperty-trait:\n+\n+``aws.cloudformation#mutableProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member\n+    does not have any mutability restrictions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``tags`` and ``barProperty`` properties marked as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutableProperty\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws.cloudformation#createOnlyProperty-trait:\n+\n+``aws.cloudformation#createOnlyProperty`` trait\n+-----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified only during resource creation and can be returned in a `read`\n+    or `list` request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``immutableSetting`` property marked as create only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+.. _aws.cloudformation#readOnlyProperty-trait:\n+\n+``aws.cloudformation#readOnlyProperty`` trait\n+---------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be returned by a `read` or `list` request, but cannot be set by the user.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#writeOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``updatedAt`` and ``createdAt`` properties marked as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            get: GetFoo,\n+        }\n+\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @readOnlyProperty\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @readOnlyProperty\n+            createdAt: Timestamp,\n+        }\n+\n+\n+.. _aws.cloudformation#writeOnlyProperty-trait:\n+\n+``aws.cloudformation#writeOnlyProperty`` trait\n+----------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member can\n+    be specified by the user, but cannot be returned by a `read` or `list`\n+    request.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#createOnlyProperty-trait`,\n+    :ref:`aws.cloudformation#excludeProperty-trait`,\n+    :ref:`aws.cloudformation#mutableProperty-trait`,\n+    :ref:`aws.cloudformation#readOnlyProperty-trait`\n+\n+The following example defines a CloudFormation resource that has the derivable\n+``secret`` and ``password`` properties marked as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#writeOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: FooProperties)\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @writeOnlyProperty\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @writeOnlyProperty\n+            password: String,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+----------------------------\n+Deriving Property Mutability\n+----------------------------\n+\n+Smithy will automatically derive property mutability information for resources\n+with the ``@aws.cloudformation#resource`` trait applied.\n+\n+A resources properties include those that are inferred from the resource's\n+identifiers as well as ``read`` lifecycle output, ``put`` lifecycle input,\n+``create`` lifecycle input, ``update`` lifecycle input, and any structures\n+listed in the ``@aws.cloudformation#resource`` trait's ``additionalSchemas``\n+property.\n+\n+A resource's property mutabilities are only derived for the top level of any\n+of the above structures.\n+\n+Given the following model,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#createOnlyProperty\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#mutableProperty\n+        use aws.cloudformation#readOnlyProperty\n+        use aws.cloudformation#writeOnlyProperty\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        @http(method: \"POST\", uri: \"/foos\", code: 200)\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutableProperty\n+            tags: TagList,\n+\n+            @writeOnlyProperty\n+            secret: String,\n+\n+            fooAlias: String,\n+\n+            mutableProperty: ComplexProperty,\n+            createProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            @httpQuery(\"fooAlias\")\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+\n+            @readOnlyProperty\n+            updatedAt: Timestamp,\n+\n+            mutableProperty: ComplexProperty,\n+            createProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        @http(method: \"PUT\", uri: \"/foos/{fooId}\", code: 200)\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            fooAlias: String,\n+            writeProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+        }\n+\n+        structure FooProperties {\n+            addedProperty: String,\n+\n+            @mutableProperty\n+            barProperty: String,\n+\n+            @createOnlyProperty\n+            immutableSetting: Boolean,\n+\n+            @readOnlyProperty\n+            createdAt: Timestamp,\n+\n+            @writeOnlyProperty\n+            password: String,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:", "originalCommit": "dc5a8a75efaa99e6558699ab17909e7530b0da83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ba0156755e01e2b53becf2539f4624825a95b2b7", "url": "https://github.com/awslabs/smithy/commit/ba0156755e01e2b53becf2539f4624825a95b2b7", "message": "Add aws.cloudformation traits\n\nThis commit adds several traits in the aws.cloudformation namespace,\ncontained in a new smithy-aws-cloudformation-traits package. These\ntraits indicate CloudFormation resources and the additional metadata\nabout their properties. A ResourceIndex is also included to make using\nthis information more accessible and to handle derived property\nmutabilities.", "committedDate": "2020-10-16T23:26:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg4NzAxNg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508887016", "bodyText": "This and many other shape ID references in this file should be unquoted to improve validation and so you can shorten the shape ID to be relative. I'll just not it here, but it's prevalent throughout this model.", "author": "mtdowling", "createdAt": "2020-10-20T22:53:48Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg4NzEwNw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508887107", "bodyText": "that a structure member", "author": "mtdowling", "createdAt": "2020-10-20T22:54:04Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@tags([\"diff.error.remove\"])\n+structure additionalIdentifier {}\n+\n+/// The propertyName trait allows a CloudFormation resource property name to\n+/// differ from a structure member name used in the model.\n+@trait(selector: \"structure > member\")\n+@tags([\"diff.error.const\"])\n+string propertyName\n+\n+/// Indicates that structure member should not be included in generated", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg4NzQxMg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508887412", "bodyText": "\"generated from this\" is vague in terms of what \"this\" means.", "author": "mtdowling", "createdAt": "2020-10-20T22:54:49Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@tags([\"diff.error.remove\"])\n+structure additionalIdentifier {}\n+\n+/// The propertyName trait allows a CloudFormation resource property name to\n+/// differ from a structure member name used in the model.\n+@trait(selector: \"structure > member\")\n+@tags([\"diff.error.const\"])\n+string propertyName\n+\n+/// Indicates that structure member should not be included in generated\n+/// CloudFormation resource definitions.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\n+        \"aws.cloudformation#additionalIdentifier\",\n+        \"aws.cloudformation#mutability\",\n+    ]\n+)\n+@tags([\"diff.error.add\"])\n+structure excludeProperty {}\n+\n+/// Indicates that the CloudFormation property generated from this has the", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg4OTA0MA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508889040", "bodyText": "Should we call this something more descriptive like cfResource? I think most people will import this trait and then use it, so the resource will oddly be marked with a trait named resource. We did this for aws.api#service, and I kind of regret it.", "author": "mtdowling", "createdAt": "2020-10-20T22:59:21Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@tags([\"diff.error.remove\"])\n+structure additionalIdentifier {}\n+\n+/// The propertyName trait allows a CloudFormation resource property name to\n+/// differ from a structure member name used in the model.\n+@trait(selector: \"structure > member\")\n+@tags([\"diff.error.const\"])\n+string propertyName\n+\n+/// Indicates that structure member should not be included in generated\n+/// CloudFormation resource definitions.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\n+        \"aws.cloudformation#additionalIdentifier\",\n+        \"aws.cloudformation#mutability\",\n+    ]\n+)\n+@tags([\"diff.error.add\"])\n+structure excludeProperty {}\n+\n+/// Indicates that the CloudFormation property generated from this has the\n+/// specified mutability.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@enum([\n+    {\n+        value: \"full\",\n+        name: \"FULL\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member does not have any mutability restrictions.\"\"\",\n+    },\n+    {\n+        value: \"create-and-read\",\n+        name: \"CREATE_AND_READ\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be specified only during resource creation and can be\n+            returned in a `read` or `list` request.\"\"\",\n+    },\n+    {\n+        value: \"create\",\n+        name: \"CREATE\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be specified only during resource creation and cannot\n+            be returned in a `read` or `list` request. MUST NOT be set if the\n+            member is also marked with the `@additionalIdentifier` trait.\"\"\",\n+    },\n+    {\n+        value: \"read\",\n+        name: \"READ\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be returned by a `read` or `list` request, but\n+            cannot be set by the user.\"\"\",\n+    },\n+    {\n+        value: \"write\",\n+        name: \"WRITE\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be specified by the user, but cannot be returned by a\n+            `read` or `list` request. MUST NOT be set if the member is also\n+            marked with the `@additionalIdentifier` trait.\"\"\",\n+    }\n+])\n+string mutability\n+\n+/// Indicates that a Smithy resource is a CloudFormation resource.\n+@trait(selector: \"resource\")\n+@tags([\"diff.error.add\", \"diff.error.remove\"])\n+structure resource {", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1NDUxNg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513554516", "bodyText": "This trait has been renamed cloudFormationResource.", "author": "kstich", "createdAt": "2020-10-28T15:48:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg4OTA0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg4OTI0OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508889249", "bodyText": "An idRef trait!!! Nice.", "author": "mtdowling", "createdAt": "2020-10-20T22:59:56Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@tags([\"diff.error.remove\"])\n+structure additionalIdentifier {}\n+\n+/// The propertyName trait allows a CloudFormation resource property name to\n+/// differ from a structure member name used in the model.\n+@trait(selector: \"structure > member\")\n+@tags([\"diff.error.const\"])\n+string propertyName\n+\n+/// Indicates that structure member should not be included in generated\n+/// CloudFormation resource definitions.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\n+        \"aws.cloudformation#additionalIdentifier\",\n+        \"aws.cloudformation#mutability\",\n+    ]\n+)\n+@tags([\"diff.error.add\"])\n+structure excludeProperty {}\n+\n+/// Indicates that the CloudFormation property generated from this has the\n+/// specified mutability.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@enum([\n+    {\n+        value: \"full\",\n+        name: \"FULL\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member does not have any mutability restrictions.\"\"\",\n+    },\n+    {\n+        value: \"create-and-read\",\n+        name: \"CREATE_AND_READ\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be specified only during resource creation and can be\n+            returned in a `read` or `list` request.\"\"\",\n+    },\n+    {\n+        value: \"create\",\n+        name: \"CREATE\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be specified only during resource creation and cannot\n+            be returned in a `read` or `list` request. MUST NOT be set if the\n+            member is also marked with the `@additionalIdentifier` trait.\"\"\",\n+    },\n+    {\n+        value: \"read\",\n+        name: \"READ\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be returned by a `read` or `list` request, but\n+            cannot be set by the user.\"\"\",\n+    },\n+    {\n+        value: \"write\",\n+        name: \"WRITE\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member can be specified by the user, but cannot be returned by a\n+            `read` or `list` request. MUST NOT be set if the member is also\n+            marked with the `@additionalIdentifier` trait.\"\"\",\n+    }\n+])\n+string mutability\n+\n+/// Indicates that a Smithy resource is a CloudFormation resource.\n+@trait(selector: \"resource\")\n+@tags([\"diff.error.add\", \"diff.error.remove\"])\n+structure resource {\n+    /// Provides a custom CloudFormation resource name.\n+    name: String,\n+\n+    /// A list of additional shape IDs of structures that will have their\n+    /// properties added to the CloudFormation resource.\n+    additionalSchemas: StructureIdList,\n+}\n+\n+@private\n+list StructureIdList {\n+    @idRef(failWhenMissing: true, selector: \"structure\")", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5MjMzNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508892335", "bodyText": "Should this also be something like cfName to give a meaningful name even when it's imported?", "author": "mtdowling", "createdAt": "2020-10-20T23:09:23Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@tags([\"diff.error.remove\"])\n+structure additionalIdentifier {}\n+\n+/// The propertyName trait allows a CloudFormation resource property name to\n+/// differ from a structure member name used in the model.\n+@trait(selector: \"structure > member\")\n+@tags([\"diff.error.const\"])\n+string propertyName", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1NDMxNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513554315", "bodyText": "This trait has been renamed cloudFormationName.", "author": "kstich", "createdAt": "2020-10-28T15:47:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5MjMzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5Mjg1OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508892858", "bodyText": "Meaning what? Would be good to say what no mutability restrictions means here (is it supported on read, create, and update).", "author": "mtdowling", "createdAt": "2020-10-20T23:11:07Z", "path": "smithy-aws-cloudformation-traits/src/main/resources/META-INF/smithy/aws.cloudformation.smithy", "diffHunk": "@@ -0,0 +1,99 @@\n+$version: \"1.0\"\n+\n+namespace aws.cloudformation\n+\n+/// Indicates that the CloudFormation property generated from this member is an\n+/// additional identifier for the resource.\n+@trait(\n+    selector: \"structure > :test(member > string)\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@tags([\"diff.error.remove\"])\n+structure additionalIdentifier {}\n+\n+/// The propertyName trait allows a CloudFormation resource property name to\n+/// differ from a structure member name used in the model.\n+@trait(selector: \"structure > member\")\n+@tags([\"diff.error.const\"])\n+string propertyName\n+\n+/// Indicates that structure member should not be included in generated\n+/// CloudFormation resource definitions.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\n+        \"aws.cloudformation#additionalIdentifier\",\n+        \"aws.cloudformation#mutability\",\n+    ]\n+)\n+@tags([\"diff.error.add\"])\n+structure excludeProperty {}\n+\n+/// Indicates that the CloudFormation property generated from this has the\n+/// specified mutability.\n+@trait(\n+    selector: \"structure > member\",\n+    conflicts: [\"aws.cloudformation#excludeProperty\"]\n+)\n+@enum([\n+    {\n+        value: \"full\",\n+        name: \"FULL\",\n+        documentation: \"\"\"\n+            Indicates that the CloudFormation property generated from this\n+            member does not have any mutability restrictions.\"\"\",", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NDQzOA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508894438", "bodyText": "Can this be private? I don't think we'd want this kind of defaulting exposed outside the trait implementation.\nIt might help with clarity here too by renaming this to shapeName.", "author": "mtdowling", "createdAt": "2020-10-20T23:15:41Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceTrait.java", "diffHunk": "@@ -0,0 +1,148 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import software.amazon.smithy.model.node.ArrayNode;\n+import software.amazon.smithy.model.node.Node;\n+import software.amazon.smithy.model.node.ObjectNode;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.traits.AbstractTrait;\n+import software.amazon.smithy.model.traits.AbstractTraitBuilder;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Indicates that a Smithy resource is a CloudFormation resource.\n+ */\n+public final class ResourceTrait extends AbstractTrait implements ToSmithyBuilder<ResourceTrait> {\n+    public static final ShapeId ID = ShapeId.from(\"aws.cloudformation#resource\");\n+    private static final String NAME = \"name\";\n+    private static final String ADDITIONAL_SCHEMAS = \"additionalSchemas\";\n+    private static final List<String> PROPERTIES = ListUtils.of(NAME, ADDITIONAL_SCHEMAS);\n+\n+    private final String defaultName;\n+    private final String name;\n+    private final List<ShapeId> additionalSchemas;\n+\n+    private ResourceTrait(Builder builder) {\n+        super(ID, builder.getSourceLocation());\n+        defaultName = builder.defaultName;\n+        name = builder.name;\n+        additionalSchemas = ListUtils.copyOf(builder.additionalSchemas);\n+    }\n+\n+    /**\n+     * Get the AWS CloudFormation resource name.\n+     *\n+     * @return Returns the name.\n+     */\n+    public String getName() {\n+        return name == null ? defaultName : name;\n+    }\n+\n+    /**\n+     * Get the Smithy structure shape Ids for additional schema properties.\n+     *\n+     * @return Returns the additional schema shape Ids.\n+     */\n+    public List<ShapeId> getAdditionalSchemas() {\n+        return additionalSchemas;\n+    }\n+\n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+\n+    @Override\n+    protected Node createNode() {\n+        ObjectNode node = Node.objectNode();\n+        if (name != null) {\n+            node = node.withMember(NAME, name);\n+        }\n+        if (!additionalSchemas.isEmpty()) {\n+            ArrayNode schemas = additionalSchemas.stream()\n+                    .map(ShapeId::toString)\n+                    .map(Node::from)\n+                    .collect(ArrayNode.collect());\n+            node = node.withMember(\"additionalSchemas\", schemas);\n+        }\n+        return node;\n+    }\n+\n+    @Override\n+    public SmithyBuilder<ResourceTrait> toBuilder() {\n+        return builder().name(name).additionalSchemas(additionalSchemas);\n+    }\n+\n+    public static final class Provider extends AbstractTrait.Provider {\n+        public Provider() {\n+            super(ID);\n+        }\n+\n+        @Override\n+        public Trait createTrait(ShapeId target, Node value) {\n+            Builder builder = builder().sourceLocation(value);\n+            ObjectNode objectNode = value.expectObjectNode();\n+            // Use a hidden defaultName property so we don't write out the\n+            // Shape's name when defaulting.\n+            builder.defaultName(target.getName());\n+            objectNode.getStringMember(NAME).ifPresent(node -> builder.name(node.getValue()));\n+            // Convert this ArrayNode of StringNodes to a List of ShapeId\n+            objectNode.getArrayMember(ADDITIONAL_SCHEMAS)\n+                    .map(array -> array.getElementsAs(n -> ShapeId.from(n.expectStringNode().getValue())))\n+                    .ifPresent(builder::additionalSchemas);\n+            return builder.build();\n+        }\n+    }\n+\n+    public static final class Builder extends AbstractTraitBuilder<ResourceTrait, Builder> {\n+        private String defaultName;\n+        private String name;\n+        private final List<ShapeId> additionalSchemas = new ArrayList<>();\n+\n+        private Builder() {}\n+\n+        @Override\n+        public ResourceTrait build() {\n+            return new ResourceTrait(this);\n+        }\n+\n+        public Builder defaultName(String defaultName) {", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NDYxMQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508894611", "bodyText": "Why the need for a defaultName?", "author": "mtdowling", "createdAt": "2020-10-20T23:16:11Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceTrait.java", "diffHunk": "@@ -0,0 +1,148 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import software.amazon.smithy.model.node.ArrayNode;\n+import software.amazon.smithy.model.node.Node;\n+import software.amazon.smithy.model.node.ObjectNode;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.traits.AbstractTrait;\n+import software.amazon.smithy.model.traits.AbstractTraitBuilder;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Indicates that a Smithy resource is a CloudFormation resource.\n+ */\n+public final class ResourceTrait extends AbstractTrait implements ToSmithyBuilder<ResourceTrait> {\n+    public static final ShapeId ID = ShapeId.from(\"aws.cloudformation#resource\");\n+    private static final String NAME = \"name\";\n+    private static final String ADDITIONAL_SCHEMAS = \"additionalSchemas\";\n+    private static final List<String> PROPERTIES = ListUtils.of(NAME, ADDITIONAL_SCHEMAS);\n+\n+    private final String defaultName;\n+    private final String name;\n+    private final List<ShapeId> additionalSchemas;\n+\n+    private ResourceTrait(Builder builder) {\n+        super(ID, builder.getSourceLocation());\n+        defaultName = builder.defaultName;\n+        name = builder.name;\n+        additionalSchemas = ListUtils.copyOf(builder.additionalSchemas);\n+    }\n+\n+    /**\n+     * Get the AWS CloudFormation resource name.\n+     *\n+     * @return Returns the name.\n+     */\n+    public String getName() {\n+        return name == null ? defaultName : name;", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NTgyNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508895825", "bodyText": "This is unused. There should be a \"warnIfAdditionalProperties\" check in the provider.", "author": "mtdowling", "createdAt": "2020-10-20T23:19:48Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceTrait.java", "diffHunk": "@@ -0,0 +1,148 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import software.amazon.smithy.model.node.ArrayNode;\n+import software.amazon.smithy.model.node.Node;\n+import software.amazon.smithy.model.node.ObjectNode;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.traits.AbstractTrait;\n+import software.amazon.smithy.model.traits.AbstractTraitBuilder;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Indicates that a Smithy resource is a CloudFormation resource.\n+ */\n+public final class ResourceTrait extends AbstractTrait implements ToSmithyBuilder<ResourceTrait> {\n+    public static final ShapeId ID = ShapeId.from(\"aws.cloudformation#resource\");\n+    private static final String NAME = \"name\";\n+    private static final String ADDITIONAL_SCHEMAS = \"additionalSchemas\";\n+    private static final List<String> PROPERTIES = ListUtils.of(NAME, ADDITIONAL_SCHEMAS);", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MzU5MA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513553590", "bodyText": "Removed this instead, as it's handled in model loading now.", "author": "kstich", "createdAt": "2020-10-28T15:47:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NTgyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NjY5Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508896693", "bodyText": "This should point to the mutability trait by passing it in as the second argument", "author": "mtdowling", "createdAt": "2020-10-20T23:22:22Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/MutabilityTraitValidator.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.validation.AbstractValidator;\n+import software.amazon.smithy.model.validation.ValidationEvent;\n+\n+/**\n+ * Validates that members marked as having write-only mutability are not also\n+ * marked as additional identifiers for their CloudFormation resource.\n+ */\n+public final class MutabilityTraitValidator extends AbstractValidator {\n+    @Override\n+    public List<ValidationEvent> validate(Model model) {\n+        List<ValidationEvent> events = new ArrayList<>();\n+\n+        for (Shape shape : model.getShapesWithTrait(MutabilityTrait.class)) {\n+            MutabilityTrait trait = shape.expectTrait(MutabilityTrait.class);\n+            // Additional identifiers must be able to be read, so write and\n+            // create mutabilities cannot overlap.\n+            if (shape.hasTrait(AdditionalIdentifierTrait.ID) && (trait.isWrite() || trait.isCreate())) {\n+                events.add(error(shape, \"Member with the mutability value of \\\"write-only\\\" is also marked \"", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NzEyNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508897125", "bodyText": "It seems we're calling it \"write\" in the string but \"write-only\" in the error message. Should we add constants to the MutabilityTrait? Or an enum to detect this in code?", "author": "mtdowling", "createdAt": "2020-10-20T23:23:49Z", "path": "smithy-aws-cloudformation-traits/src/test/resources/software/amazon/smithy/aws/cloudformation/traits/errorfiles/write-only-additional-identifier.errors", "diffHunk": "@@ -0,0 +1 @@\n+[ERROR] smithy.example#FooStructure$member: Member with the mutability value of \"write-only\" is also marked as an additional identifier | MutabilityTrait", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MzIyMQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513553221", "bodyText": "Error message now properly uses the trait value instead of a hardcoded value.", "author": "kstich", "createdAt": "2020-10-28T15:46:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5NzEyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5ODMzOA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508898338", "bodyText": "This sentence is a bit complex. Can it be simplified to:\nThe `bar` property of the generated CloudFormation resource targets multiple shapes: [smithy.api#Boolean, smithy.api#String]. This must be resolved in the model or one of the members must be excluded from the conversion.\n\nI'm not sure how this gets resolved in the model though -- does it just mean they need to not use the same member name in confusing ways by targeting different types?", "author": "mtdowling", "createdAt": "2020-10-20T23:27:38Z", "path": "smithy-aws-cloudformation-traits/src/test/resources/software/amazon/smithy/aws/cloudformation/traits/errorfiles/additionalschemas-conflict.errors", "diffHunk": "@@ -0,0 +1,2 @@\n+[ERROR] smithy.example#AdditionalSchemasConflictResource: The AdditionalSchemasConflictResource property of the bar CloudFormation resource targets multiple shapes: [smithy.api#Boolean, smithy.api#String]. This should be resolved in the model or one of the members should be excluded from the conversion. | ResourceProperty", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg5OTE4MQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508899181", "bodyText": "If they had to deal with this discrepancy, does it mean they need to omit the member using excludeProperty and then manually specify it using resource.additionalSchemas? If this is the case, I'd add a lot more wording in the error message to:\na) State it's confusing to have member names reused across a resource that target different shapes\nb) Call out how to work around this.", "author": "mtdowling", "createdAt": "2020-10-20T23:30:19Z", "path": "smithy-aws-cloudformation-traits/src/test/resources/software/amazon/smithy/aws/cloudformation/traits/errorfiles/lifecycle-conflict.errors", "diffHunk": "@@ -0,0 +1 @@\n+[ERROR] smithy.example#LifecycleConflictResource: The LifecycleConflictResource property of the bar CloudFormation resource targets multiple shapes: [smithy.api#Boolean, smithy.api#String]. This should be resolved in the model or one of the members should be excluded from the conversion. | ResourceProperty", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwMzI3OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508903278", "bodyText": "Is this logic necessary anywhere else? Does it need to be in an index?", "author": "mtdowling", "createdAt": "2020-10-20T23:43:24Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourcePropertyValidator.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.TreeSet;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.model.validation.AbstractValidator;\n+import software.amazon.smithy.model.validation.ValidationEvent;\n+\n+/**\n+ * Validates that derived CloudFormation properties all have the same target.\n+ */\n+public final class ResourcePropertyValidator extends AbstractValidator {\n+\n+    @Override\n+    public List<ValidationEvent> validate(Model model) {\n+        List<ValidationEvent> events = new ArrayList<>();\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .map(pair -> validateResourceProperties(model, operationIndex, pair.getLeft(), pair.getRight()))\n+                .forEach(events::addAll);\n+\n+        return events;\n+    }\n+\n+    private List<ValidationEvent> validateResourceProperties(\n+            Model model,\n+            OperationIndex operationIndex,\n+            ResourceShape resource,\n+            ResourceTrait trait\n+    ) {\n+        List<ValidationEvent> events = new ArrayList<>();\n+\n+        Map<String, Set<ShapeId>> resourceProperties = getResourceProperties(model, operationIndex, resource, trait);\n+        for (Map.Entry<String, Set<ShapeId>> property : resourceProperties.entrySet()) {\n+            if (property.getValue().size() > 1) {\n+                events.add(error(resource, String.format(\"The %s property of the %s CloudFormation resource targets \"\n+                        + \"multiple shapes: %s. This should be resolved in the model or one of the members should be \"\n+                        + \"excluded from the conversion.\", trait.getName(), property.getKey(), property.getValue())));\n+            }\n+        }\n+\n+        return events;\n+    }\n+\n+    private Map<String, Set<ShapeId>> getResourceProperties(\n+            Model model,\n+            OperationIndex operationIndex,\n+            ResourceShape resource,\n+            ResourceTrait trait\n+    ) {\n+        Map<String, Set<ShapeId>> resourceProperties = new HashMap<>();\n+\n+        // Use the read lifecycle's input to collect the additional identifiers\n+        // and its output to collect readable properties.\n+        resource.getRead().ifPresent(operationId -> {", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwNTQ0Ng==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508905446", "bodyText": "Note this will blow up model loading. We don't have a wrapped try/catch for each validator, but maybe we should so you can do stuff like this?", "author": "mtdowling", "createdAt": "2020-10-20T23:50:07Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourcePropertyValidator.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.TreeSet;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.model.validation.AbstractValidator;\n+import software.amazon.smithy.model.validation.ValidationEvent;\n+\n+/**\n+ * Validates that derived CloudFormation properties all have the same target.\n+ */\n+public final class ResourcePropertyValidator extends AbstractValidator {\n+\n+    @Override\n+    public List<ValidationEvent> validate(Model model) {\n+        List<ValidationEvent> events = new ArrayList<>();\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .map(pair -> validateResourceProperties(model, operationIndex, pair.getLeft(), pair.getRight()))\n+                .forEach(events::addAll);\n+\n+        return events;\n+    }\n+\n+    private List<ValidationEvent> validateResourceProperties(\n+            Model model,\n+            OperationIndex operationIndex,\n+            ResourceShape resource,\n+            ResourceTrait trait\n+    ) {\n+        List<ValidationEvent> events = new ArrayList<>();\n+\n+        Map<String, Set<ShapeId>> resourceProperties = getResourceProperties(model, operationIndex, resource, trait);\n+        for (Map.Entry<String, Set<ShapeId>> property : resourceProperties.entrySet()) {\n+            if (property.getValue().size() > 1) {\n+                events.add(error(resource, String.format(\"The %s property of the %s CloudFormation resource targets \"\n+                        + \"multiple shapes: %s. This should be resolved in the model or one of the members should be \"\n+                        + \"excluded from the conversion.\", trait.getName(), property.getKey(), property.getValue())));\n+            }\n+        }\n+\n+        return events;\n+    }\n+\n+    private Map<String, Set<ShapeId>> getResourceProperties(\n+            Model model,\n+            OperationIndex operationIndex,\n+            ResourceShape resource,\n+            ResourceTrait trait\n+    ) {\n+        Map<String, Set<ShapeId>> resourceProperties = new HashMap<>();\n+\n+        // Use the read lifecycle's input to collect the additional identifiers\n+        // and its output to collect readable properties.\n+        resource.getRead().ifPresent(operationId -> {\n+            operationIndex.getOutput(operationId).ifPresent(output ->\n+                    computeResourceProperties(resourceProperties, output));\n+        });\n+\n+        // Use the put lifecycle's input to collect put-able properties.\n+        resource.getPut().ifPresent(operationId -> {\n+            operationIndex.getInput(operationId).ifPresent(input ->\n+                    computeResourceProperties(resourceProperties, input));\n+        });\n+\n+        // Use the create lifecycle's input to collect creatable properties.\n+        resource.getCreate().ifPresent(operationId -> {\n+            operationIndex.getInput(operationId).ifPresent(input ->\n+                    computeResourceProperties(resourceProperties, input));\n+        });\n+\n+        // Use the update lifecycle's input to collect writeable properties.\n+        resource.getUpdate().ifPresent(operationId -> {\n+            operationIndex.getInput(operationId).ifPresent(input ->\n+                    computeResourceProperties(resourceProperties, input));\n+        });\n+\n+        // Apply any members found through the trait's additionalSchemas property.\n+        for (ShapeId additionalSchema : trait.getAdditionalSchemas()) {\n+            StructureShape shape = model.expectShape(additionalSchema, StructureShape.class);", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MjQ5OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513552499", "bodyText": "This now gracefully handles these shapes potentially not existing, as the @idRef trait should fail its validation if they're missing.", "author": "kstich", "createdAt": "2020-10-28T15:45:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwNTQ0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwNjM0NA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508906344", "bodyText": "Given this member only appears on the GetFooResponse, does it need to be marked as read?", "author": "mtdowling", "createdAt": "2020-10-20T23:52:41Z", "path": "smithy-aws-cloudformation-traits/src/test/resources/software/amazon/smithy/aws/cloudformation/traits/test-service.smithy", "diffHunk": "@@ -0,0 +1,238 @@\n+$version: \"1.0\"\n+\n+namespace smithy.example\n+\n+use aws.cloudformation#resource\n+use aws.cloudformation#additionalIdentifier\n+use aws.cloudformation#excludeProperty\n+use aws.cloudformation#mutability\n+\n+service TestService {\n+    version: \"2020-07-02\",\n+    resources: [\n+        FooResource,\n+        BarResource,\n+    ],\n+}\n+\n+/// The Foo resource is cool.\n+@resource\n+resource FooResource {\n+    identifiers: {\n+        fooId: FooId,\n+    },\n+    create: CreateFooOperation,\n+    read: GetFooOperation,\n+    update: UpdateFooOperation,\n+}\n+\n+operation CreateFooOperation {\n+    input: CreateFooRequest,\n+    output: CreateFooResponse,\n+}\n+\n+structure CreateFooRequest {\n+    @mutability(\"create\")\n+    fooValidCreateProperty: String,\n+\n+    fooValidCreateReadProperty: String,\n+\n+    fooValidFullyMutableProperty: ComplexProperty,\n+}\n+\n+structure CreateFooResponse {\n+    fooId: FooId,\n+}\n+\n+@readonly\n+operation GetFooOperation {\n+    input: GetFooRequest,\n+    output: GetFooResponse,\n+}\n+\n+structure GetFooRequest {\n+    @required\n+    fooId: FooId,\n+}\n+\n+structure GetFooResponse {\n+    fooId: FooId,\n+\n+    @mutability(\"read\")", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwNzA3Mg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508907072", "bodyText": "We normally do SmithyBuilder.requiredState I think", "author": "mtdowling", "createdAt": "2020-10-20T23:55:04Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourcePropertyDefinition.java", "diffHunk": "@@ -0,0 +1,109 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.HashSet;\n+import java.util.Objects;\n+import java.util.Set;\n+import software.amazon.smithy.aws.cloudformation.traits.ResourceIndex.Mutability;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.utils.SetUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Contains extracted resource property information.\n+ */\n+public final class ResourcePropertyDefinition implements ToSmithyBuilder<ResourcePropertyDefinition> {\n+    private final ShapeId shapeId;\n+    private final Set<Mutability> mutabilities;\n+    private final boolean hasExplicitMutability;\n+\n+    private ResourcePropertyDefinition(Builder builder) {\n+        shapeId = Objects.requireNonNull(builder.shapeId);", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwNzE2Nw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508907167", "bodyText": "Does order matter?", "author": "mtdowling", "createdAt": "2020-10-20T23:55:24Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourcePropertyDefinition.java", "diffHunk": "@@ -0,0 +1,109 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.HashSet;\n+import java.util.Objects;\n+import java.util.Set;\n+import software.amazon.smithy.aws.cloudformation.traits.ResourceIndex.Mutability;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.utils.SetUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Contains extracted resource property information.\n+ */\n+public final class ResourcePropertyDefinition implements ToSmithyBuilder<ResourcePropertyDefinition> {\n+    private final ShapeId shapeId;\n+    private final Set<Mutability> mutabilities;\n+    private final boolean hasExplicitMutability;\n+\n+    private ResourcePropertyDefinition(Builder builder) {\n+        shapeId = Objects.requireNonNull(builder.shapeId);\n+        mutabilities = SetUtils.copyOf(builder.mutabilities);\n+        hasExplicitMutability = builder.hasExplicitMutability;\n+    }\n+\n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+\n+    /**\n+     * Gets the shape ID used to represent this property.\n+     *\n+     * @return Returns the shape ID.\n+     */\n+    public ShapeId getShapeId() {\n+        return shapeId;\n+    }\n+\n+    /**\n+     * Returns true if the property's mutability was configured explicitly\n+     * by the use of a trait instead of derived through its lifecycle\n+     * bindings within a resource.\n+     *\n+     * @return Returns true if the mutability is explicitly defined by a trait.\n+     *\n+     * @see MutabilityTrait\n+     */\n+    public boolean hasExplicitMutability() {\n+        return hasExplicitMutability;\n+    }\n+\n+    /**\n+     * Gets all of the CloudFormation-specific property mutability options\n+     * associated with this resource property.\n+     *\n+     * @return Returns the mutabilities.\n+     */\n+    public Set<Mutability> getMutabilities() {\n+        return mutabilities;\n+    }\n+\n+    @Override\n+    public Builder toBuilder() {\n+        return builder()\n+                .shapeId(shapeId)\n+                .mutabilities(mutabilities);\n+    }\n+\n+    public static final class Builder implements SmithyBuilder<ResourcePropertyDefinition> {\n+        private ShapeId shapeId;\n+        private Set<Mutability> mutabilities = new HashSet<>();", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAyNTAzOA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r511025038", "bodyText": "No, the set is only checked for containment of the various Mutability entries.", "author": "kstich", "createdAt": "2020-10-23T17:13:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwNzE2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwODU0Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508908543", "bodyText": "These are the names as they appear in CF? Or what?", "author": "mtdowling", "createdAt": "2020-10-20T23:56:41Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkwOTUwNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508909505", "bodyText": "Ideally this is a weak reference if you really need to hold onto the model", "author": "mtdowling", "createdAt": "2020-10-20T23:57:21Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMDUxMg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508910512", "bodyText": "Does this actually need a SetUtils.copyOf here?", "author": "mtdowling", "createdAt": "2020-10-20T23:58:57Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.\n+     */\n+    public enum Mutability {\n+        CREATE,\n+        READ,\n+        WRITE\n+    }\n+\n+    public ResourceIndex(Model model) {\n+        this.model = model;\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .forEach(pair -> {\n+                    ResourceShape resource = pair.getLeft();\n+                    ShapeId resourceId = resource.getId();\n+\n+                    // Start with the explicit resource identifiers.\n+                    resourcePrimaryIdentifiers.put(resourceId, SetUtils.copyOf(resource.getIdentifiers().keySet()));", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTAyNg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r508911026", "bodyText": "Members? Looks like it returns ResourcePropertyDefinitions. Maybe there's a better, or just more specific, term that can be used here?", "author": "mtdowling", "createdAt": "2020-10-21T00:00:21Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.\n+     */\n+    public enum Mutability {\n+        CREATE,\n+        READ,\n+        WRITE\n+    }\n+\n+    public ResourceIndex(Model model) {\n+        this.model = model;\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .forEach(pair -> {\n+                    ResourceShape resource = pair.getLeft();\n+                    ShapeId resourceId = resource.getId();\n+\n+                    // Start with the explicit resource identifiers.\n+                    resourcePrimaryIdentifiers.put(resourceId, SetUtils.copyOf(resource.getIdentifiers().keySet()));\n+                    setIdentifierMutabilities(resource);\n+\n+                    // Use the read lifecycle's input to collect the additional identifiers\n+                    // and its output to collect readable properties.\n+                    resource.getRead().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            addAdditionalIdentifiers(resource, computeResourceAdditionalIdentifiers(input));\n+                        });\n+                        operationIndex.getOutput(operationId).ifPresent(output -> {\n+                            updatePropertyMutabilities(resourceId, operationId, output,\n+                                    SetUtils.of(Mutability.READ), this::addReadMutability);\n+                        });\n+                    });\n+\n+                    // Use the put lifecycle's input to collect put-able properties.\n+                    resource.getPut().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE, Mutability.WRITE), this::addPutMutability);\n+                        });\n+                    });\n+\n+                    // Use the create lifecycle's input to collect creatable properties.\n+                    resource.getCreate().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE), this::addCreateMutability);\n+                        });\n+                    });\n+\n+                    // Use the update lifecycle's input to collect writeable properties.\n+                    resource.getUpdate().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.WRITE), this::addWriteMutability);\n+                        });\n+                    });\n+\n+                    // Apply any members found through the trait's additionalSchemas property.\n+                    for (ShapeId additionalSchema : pair.getRight().getAdditionalSchemas()) {\n+                        StructureShape shape = model.expectShape(additionalSchema, StructureShape.class);\n+                        updatePropertyMutabilities(resourceId, null, shape,\n+                                SetUtils.of(), Function.identity());\n+                    }\n+                });\n+    }\n+\n+    public static ResourceIndex of(Model model) {\n+        return model.getKnowledge(ResourceIndex.class, ResourceIndex::new);\n+    }\n+\n+    /**\n+     * Get all members of the CloudFormation resource.", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyNDY3OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509424678", "bodyText": "Not sure if it's possible to coherently refactor this in the way I'm thinking, but this code seems similar to the code used to validate properties too. I wonder if there's a way to create more of an abstraction for resolving properties and mutability using a more OO approach that separately encapsulates resolving properties (can be used in the validation stuff and probably feed into mutability resolution), mutability (replacing lots of stuff in this index), targets, etc.", "author": "mtdowling", "createdAt": "2020-10-21T16:20:45Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.\n+     */\n+    public enum Mutability {\n+        CREATE,\n+        READ,\n+        WRITE\n+    }\n+\n+    public ResourceIndex(Model model) {\n+        this.model = model;\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .forEach(pair -> {\n+                    ResourceShape resource = pair.getLeft();\n+                    ShapeId resourceId = resource.getId();\n+\n+                    // Start with the explicit resource identifiers.\n+                    resourcePrimaryIdentifiers.put(resourceId, SetUtils.copyOf(resource.getIdentifiers().keySet()));\n+                    setIdentifierMutabilities(resource);\n+\n+                    // Use the read lifecycle's input to collect the additional identifiers\n+                    // and its output to collect readable properties.\n+                    resource.getRead().ifPresent(operationId -> {", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MTI0OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513551249", "bodyText": "I took a smaller approach to refactoring this that handles removing the similar code and handles the potential edge cases safely.", "author": "kstich", "createdAt": "2020-10-28T15:44:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyNDY3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyNTU5Nw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509425597", "bodyText": "Ah, so we do automatically infer the mutability characteristics of properties based on which lifecycle the property is associated with.", "author": "mtdowling", "createdAt": "2020-10-21T16:22:08Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.\n+     */\n+    public enum Mutability {\n+        CREATE,\n+        READ,\n+        WRITE\n+    }\n+\n+    public ResourceIndex(Model model) {\n+        this.model = model;\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .forEach(pair -> {\n+                    ResourceShape resource = pair.getLeft();\n+                    ShapeId resourceId = resource.getId();\n+\n+                    // Start with the explicit resource identifiers.\n+                    resourcePrimaryIdentifiers.put(resourceId, SetUtils.copyOf(resource.getIdentifiers().keySet()));\n+                    setIdentifierMutabilities(resource);\n+\n+                    // Use the read lifecycle's input to collect the additional identifiers\n+                    // and its output to collect readable properties.\n+                    resource.getRead().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            addAdditionalIdentifiers(resource, computeResourceAdditionalIdentifiers(input));\n+                        });\n+                        operationIndex.getOutput(operationId).ifPresent(output -> {\n+                            updatePropertyMutabilities(resourceId, operationId, output,\n+                                    SetUtils.of(Mutability.READ), this::addReadMutability);\n+                        });\n+                    });\n+\n+                    // Use the put lifecycle's input to collect put-able properties.\n+                    resource.getPut().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE, Mutability.WRITE), this::addPutMutability);", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyNzMxMw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509427313", "bodyText": "Nit: these are javadoc comments and need stuff like {@code read} instead of markdown backticks.", "author": "mtdowling", "createdAt": "2020-10-21T16:24:41Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.\n+     */\n+    public enum Mutability {\n+        CREATE,\n+        READ,\n+        WRITE\n+    }\n+\n+    public ResourceIndex(Model model) {\n+        this.model = model;\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .forEach(pair -> {\n+                    ResourceShape resource = pair.getLeft();\n+                    ShapeId resourceId = resource.getId();\n+\n+                    // Start with the explicit resource identifiers.\n+                    resourcePrimaryIdentifiers.put(resourceId, SetUtils.copyOf(resource.getIdentifiers().keySet()));\n+                    setIdentifierMutabilities(resource);\n+\n+                    // Use the read lifecycle's input to collect the additional identifiers\n+                    // and its output to collect readable properties.\n+                    resource.getRead().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            addAdditionalIdentifiers(resource, computeResourceAdditionalIdentifiers(input));\n+                        });\n+                        operationIndex.getOutput(operationId).ifPresent(output -> {\n+                            updatePropertyMutabilities(resourceId, operationId, output,\n+                                    SetUtils.of(Mutability.READ), this::addReadMutability);\n+                        });\n+                    });\n+\n+                    // Use the put lifecycle's input to collect put-able properties.\n+                    resource.getPut().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE, Mutability.WRITE), this::addPutMutability);\n+                        });\n+                    });\n+\n+                    // Use the create lifecycle's input to collect creatable properties.\n+                    resource.getCreate().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE), this::addCreateMutability);\n+                        });\n+                    });\n+\n+                    // Use the update lifecycle's input to collect writeable properties.\n+                    resource.getUpdate().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.WRITE), this::addWriteMutability);\n+                        });\n+                    });\n+\n+                    // Apply any members found through the trait's additionalSchemas property.\n+                    for (ShapeId additionalSchema : pair.getRight().getAdditionalSchemas()) {\n+                        StructureShape shape = model.expectShape(additionalSchema, StructureShape.class);\n+                        updatePropertyMutabilities(resourceId, null, shape,\n+                                SetUtils.of(), Function.identity());\n+                    }\n+                });\n+    }\n+\n+    public static ResourceIndex of(Model model) {\n+        return model.getKnowledge(ResourceIndex.class, ResourceIndex::new);\n+    }\n+\n+    /**\n+     * Get all members of the CloudFormation resource.\n+     *\n+     * @param resource ShapeID of a resource.\n+     * @return Returns all members that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Map<String, ResourcePropertyDefinition> getProperties(ToShapeId resource) {\n+        return resourcePropertyMutabilities.getOrDefault(resource.toShapeId(), MapUtils.of())\n+                .entrySet().stream()\n+                .filter(entry -> !getExcludedProperties(resource).contains(entry.getValue().getShapeId()))\n+                .collect(MapUtils.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n+    }\n+\n+    /**\n+     * Gets the specified member of the CloudFormation resource.\n+     *\n+     * @param resource ShapeID of a resource\n+     * @param propertyName Name of the property to retrieve\n+     * @return The property definition.\n+     */\n+    public Optional<ResourcePropertyDefinition> getProperty(ToShapeId resource, String propertyName) {\n+        return Optional.ofNullable(getProperties(resource).get(propertyName));\n+    }\n+\n+    /**\n+     * Get create-specifiable-only members of the CloudFormation resource.\n+     *\n+     * These properties can be specified only during resource creation and\n+     * can be returned in a `read` or `list` request.\n+     *\n+     * @param resource ShapeID of a resource.\n+     * @return Returns create-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getCreateOnlyProperties(ToShapeId resource) {\n+        return getConstrainedProperties(resource, definition -> {\n+            Set<Mutability> mutabilities = definition.getMutabilities();\n+            return mutabilities.contains(Mutability.CREATE) && !mutabilities.contains(Mutability.WRITE);\n+        });\n+    }\n+\n+    /**\n+     * Get read-only members of the CloudFormation resource.\n+     *\n+     * These properties can be returned by a `read` or `list` request,", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyODMyMw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509428323", "bodyText": "I wonder if a lot of these methods can be moved to something like a CfResource type instead of kept on the index? That type would contain mutability, properties, exclusions, etc... Seems like that would greatly reduce the size of this index and give the definition more purpose IMO.", "author": "mtdowling", "createdAt": "2020-10-21T16:26:06Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/ResourceIndex.java", "diffHunk": "@@ -0,0 +1,479 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.Model;\n+import software.amazon.smithy.model.knowledge.IdentifierBindingIndex;\n+import software.amazon.smithy.model.knowledge.KnowledgeIndex;\n+import software.amazon.smithy.model.knowledge.OperationIndex;\n+import software.amazon.smithy.model.shapes.MemberShape;\n+import software.amazon.smithy.model.shapes.ResourceShape;\n+import software.amazon.smithy.model.shapes.Shape;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.model.shapes.ShapeVisitor;\n+import software.amazon.smithy.model.shapes.StructureShape;\n+import software.amazon.smithy.model.shapes.ToShapeId;\n+import software.amazon.smithy.model.traits.Trait;\n+import software.amazon.smithy.utils.ListUtils;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SetUtils;\n+\n+/**\n+ * Index of resources to their CloudFormation identifiers\n+ * and properties.\n+ *\n+ * <p>This index performs no validation that the identifiers\n+ * and reference valid shapes.\n+ */\n+public final class ResourceIndex implements KnowledgeIndex {\n+\n+    static final Set<Mutability> FULLY_MUTABLE = SetUtils.of(\n+            Mutability.CREATE, Mutability.READ, Mutability.WRITE);\n+\n+    private final Model model;\n+    private final Map<ShapeId, Map<String, ResourcePropertyDefinition>> resourcePropertyMutabilities = new HashMap<>();\n+    private final Map<ShapeId, Set<ShapeId>> resourceExcludedProperties = new HashMap<>();\n+    private final Map<ShapeId, Set<String>> resourcePrimaryIdentifiers = new HashMap<>();\n+    private final Map<ShapeId, List<Set<String>>> resourceAdditionalIdentifiers = new HashMap<>();\n+\n+    /**\n+     * CloudFormation-specific property mutability options.\n+     */\n+    public enum Mutability {\n+        CREATE,\n+        READ,\n+        WRITE\n+    }\n+\n+    public ResourceIndex(Model model) {\n+        this.model = model;\n+\n+        OperationIndex operationIndex = OperationIndex.of(model);\n+        model.shapes(ResourceShape.class)\n+                .flatMap(shape -> Trait.flatMapStream(shape, ResourceTrait.class))\n+                .forEach(pair -> {\n+                    ResourceShape resource = pair.getLeft();\n+                    ShapeId resourceId = resource.getId();\n+\n+                    // Start with the explicit resource identifiers.\n+                    resourcePrimaryIdentifiers.put(resourceId, SetUtils.copyOf(resource.getIdentifiers().keySet()));\n+                    setIdentifierMutabilities(resource);\n+\n+                    // Use the read lifecycle's input to collect the additional identifiers\n+                    // and its output to collect readable properties.\n+                    resource.getRead().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            addAdditionalIdentifiers(resource, computeResourceAdditionalIdentifiers(input));\n+                        });\n+                        operationIndex.getOutput(operationId).ifPresent(output -> {\n+                            updatePropertyMutabilities(resourceId, operationId, output,\n+                                    SetUtils.of(Mutability.READ), this::addReadMutability);\n+                        });\n+                    });\n+\n+                    // Use the put lifecycle's input to collect put-able properties.\n+                    resource.getPut().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE, Mutability.WRITE), this::addPutMutability);\n+                        });\n+                    });\n+\n+                    // Use the create lifecycle's input to collect creatable properties.\n+                    resource.getCreate().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.CREATE), this::addCreateMutability);\n+                        });\n+                    });\n+\n+                    // Use the update lifecycle's input to collect writeable properties.\n+                    resource.getUpdate().ifPresent(operationId -> {\n+                        operationIndex.getInput(operationId).ifPresent(input -> {\n+                            updatePropertyMutabilities(resourceId, operationId, input,\n+                                    SetUtils.of(Mutability.WRITE), this::addWriteMutability);\n+                        });\n+                    });\n+\n+                    // Apply any members found through the trait's additionalSchemas property.\n+                    for (ShapeId additionalSchema : pair.getRight().getAdditionalSchemas()) {\n+                        StructureShape shape = model.expectShape(additionalSchema, StructureShape.class);\n+                        updatePropertyMutabilities(resourceId, null, shape,\n+                                SetUtils.of(), Function.identity());\n+                    }\n+                });\n+    }\n+\n+    public static ResourceIndex of(Model model) {\n+        return model.getKnowledge(ResourceIndex.class, ResourceIndex::new);\n+    }\n+\n+    /**\n+     * Get all members of the CloudFormation resource.\n+     *\n+     * @param resource ShapeID of a resource.\n+     * @return Returns all members that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Map<String, ResourcePropertyDefinition> getProperties(ToShapeId resource) {\n+        return resourcePropertyMutabilities.getOrDefault(resource.toShapeId(), MapUtils.of())\n+                .entrySet().stream()\n+                .filter(entry -> !getExcludedProperties(resource).contains(entry.getValue().getShapeId()))\n+                .collect(MapUtils.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n+    }\n+\n+    /**\n+     * Gets the specified member of the CloudFormation resource.\n+     *\n+     * @param resource ShapeID of a resource\n+     * @param propertyName Name of the property to retrieve\n+     * @return The property definition.\n+     */\n+    public Optional<ResourcePropertyDefinition> getProperty(ToShapeId resource, String propertyName) {\n+        return Optional.ofNullable(getProperties(resource).get(propertyName));\n+    }\n+\n+    /**\n+     * Get create-specifiable-only members of the CloudFormation resource.\n+     *\n+     * These properties can be specified only during resource creation and\n+     * can be returned in a `read` or `list` request.\n+     *\n+     * @param resource ShapeID of a resource.\n+     * @return Returns create-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getCreateOnlyProperties(ToShapeId resource) {\n+        return getConstrainedProperties(resource, definition -> {\n+            Set<Mutability> mutabilities = definition.getMutabilities();\n+            return mutabilities.contains(Mutability.CREATE) && !mutabilities.contains(Mutability.WRITE);\n+        });\n+    }\n+\n+    /**\n+     * Get read-only members of the CloudFormation resource.\n+     *\n+     * These properties can be returned by a `read` or `list` request,\n+     * but cannot be set by the user.\n+     *\n+     * @param resource ShapeID of a resource.\n+     * @return Returns read-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getReadOnlyProperties(ToShapeId resource) {\n+        return getConstrainedProperties(resource, definition -> {\n+            Set<Mutability> mutabilities = definition.getMutabilities();\n+            return mutabilities.size() == 1 && mutabilities.contains(Mutability.READ);\n+        });\n+    }\n+\n+    /**\n+     * Get write-only members of the CloudFormation resource.\n+     *\n+     * These properties can be specified by the user, but cannot be\n+     * returned by a `read` or `list` request.\n+     *\n+     * @param resource ShapeID of a resource.\n+     * @return Returns write-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getWriteOnlyProperties(ToShapeId resource) {", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MDM4Ng==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513550386", "bodyText": "This functionality was broken out to the CfnResource data class. Other related components were also moved to Cfn prefixed class names.", "author": "kstich", "createdAt": "2020-10-28T15:43:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyODMyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMTU0OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509431549", "bodyText": "Nit: it might be nice to provide a little motivation here as to when or why you'd need this.", "author": "mtdowling", "createdAt": "2020-10-21T16:30:38Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,780 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name. This defaults to the\n+        shape name component of the ``resource`` shape's :ref:`shape\n+        ID <shape-id>`.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a ``name`` value and one structure shape in the", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMjAzMA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509432030", "bodyText": "Are these Smithy resource identifiers? If so, can you link to that part of the spec?", "author": "mtdowling", "createdAt": "2020-10-21T16:31:21Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,780 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name. This defaults to the\n+        shape name component of the ``resource`` shape's :ref:`shape\n+        ID <shape-id>`.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#resource`` trait applied.\n+\n+A resource's properties include the resource's identifiers as well as the top", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzNDU0Mw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509434543", "bodyText": "\"generated from this\" is too vague", "author": "mtdowling", "createdAt": "2020-10-21T16:35:13Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,780 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name. This defaults to the\n+        shape name component of the ``resource`` shape's :ref:`shape\n+        ID <shape-id>`.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#resource`` trait applied.\n+\n+A resource's properties include the resource's identifiers as well as the top\n+level members of the resource's ``read`` operation output structure, ``put``\n+operation input structure, ``create`` operation input structure, ``update``\n+operation input structure, and any structures listed in the ``@resource``\n+trait's ``additionalSchemas`` property. Members of these structures can be\n+excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 50 50\n+\n+    * - Name\n+      - Mutability\n+    * - ``fooId``\n+      - Read only\n+    * - ``createProperty``\n+      - Create only\n+    * - ``mutableProperty``\n+      - Full\n+    * - ``readProperty``\n+      - Read only\n+    * - ``writeProperty``\n+      - Write only\n+    * - ``createWriteProperty``\n+      - Create and write only\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this has the", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzNTk5OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509435999", "bodyText": "nit: Is there a need to say \"derivable\" here? It seems like it's just a member.", "author": "mtdowling", "createdAt": "2020-10-21T16:37:32Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,780 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name. This defaults to the\n+        shape name component of the ``resource`` shape's :ref:`shape\n+        ID <shape-id>`.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#resource`` trait applied.\n+\n+A resource's properties include the resource's identifiers as well as the top\n+level members of the resource's ``read`` operation output structure, ``put``\n+operation input structure, ``create`` operation input structure, ``update``\n+operation input structure, and any structures listed in the ``@resource``\n+trait's ``additionalSchemas`` property. Members of these structures can be\n+excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 50 50\n+\n+    * - Name\n+      - Mutability\n+    * - ``fooId``\n+      - Read only\n+    * - ``createProperty``\n+      - Create only\n+    * - ``mutableProperty``\n+      - Full\n+    * - ``readProperty``\n+      - Read only\n+    * - ``writeProperty``\n+      - Write only\n+    * - ``createWriteProperty``\n+      - Create and write only\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this has the\n+    specified mutability.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzNzIxMw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509437213", "bodyText": "This example and several others are pretty big. Can you comment inside the example to give more details as to what's happening and how things will resolve? Alternatively, provide a description property in the computed tables to say why something derived the way it did?", "author": "mtdowling", "createdAt": "2020-10-21T16:39:22Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,780 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name. This defaults to the\n+        shape name component of the ``resource`` shape's :ref:`shape\n+        ID <shape-id>`.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#resource`` trait applied.\n+\n+A resource's properties include the resource's identifiers as well as the top\n+level members of the resource's ``read`` operation output structure, ``put``\n+operation input structure, ``create`` operation input structure, ``update``\n+operation input structure, and any structures listed in the ``@resource``\n+trait's ``additionalSchemas`` property. Members of these structures can be\n+excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 50 50\n+\n+    * - Name\n+      - Mutability\n+    * - ``fooId``\n+      - Read only\n+    * - ``createProperty``\n+      - Create only\n+    * - ``mutableProperty``\n+      - Full\n+    * - ``readProperty``\n+      - Read only\n+    * - ``writeProperty``\n+      - Write only\n+    * - ``createWriteProperty``\n+      - Create and write only\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this has the\n+    specified mutability.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``tags`` and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,\n+\n+.. tabs::", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU0OTQ1Mg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r513549452", "bodyText": "Added descriptions to the tables for these two examples, as it was easier to relate them than with in-model comments.", "author": "kstich", "createdAt": "2020-10-28T15:41:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzNzIxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzODA1Mg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r509438052", "bodyText": "Can you give a brief rationale in the spec for when/why this is needed?", "author": "mtdowling", "createdAt": "2020-10-21T16:40:32Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,780 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#resource-trait:\n+\n+-------------------------------------\n+``aws.cloudformation#resource`` trait\n+-------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#resource`` trait is a structure that supports the\n+following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name. This defaults to the\n+        shape name component of the ``resource`` shape's :ref:`shape\n+        ID <shape-id>`.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#resource`` trait applied.\n+\n+A resource's properties include the resource's identifiers as well as the top\n+level members of the resource's ``read`` operation output structure, ``put``\n+operation input structure, ``create`` operation input structure, ``update``\n+operation input structure, and any structures listed in the ``@resource``\n+trait's ``additionalSchemas`` property. Members of these structures can be\n+excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#resource\n+\n+        @resource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 50 50\n+\n+    * - Name\n+      - Mutability\n+    * - ``fooId``\n+      - Read only\n+    * - ``createProperty``\n+      - Create only\n+    * - ``mutableProperty``\n+      - Full\n+    * - ``readProperty``\n+      - Read only\n+    * - ``writeProperty``\n+      - Write only\n+    * - ``createWriteProperty``\n+      - Create and write only\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this has the\n+    specified mutability.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``tags`` and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#resource\n+\n+        @resource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        @http(method: \"POST\", uri: \"/foos\", code: 200)\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+\n+            @mutability(\"write\")\n+            secret: String,\n+\n+            fooAlias: String,\n+\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            @httpQuery(\"fooAlias\")\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        @http(method: \"PUT\", uri: \"/foos/{fooId}\", code: 200)\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            fooAlias: String,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure FooProperties {\n+            addedProperty: String,\n+\n+            @mutability(\"full\")\n+            barProperty: String,\n+\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+        list TagList {\n+            member: String\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 50 50\n+\n+    * - Name\n+      - Mutability\n+    * - ``addedProperty``\n+      - Full\n+    * - ``barProperty``\n+      - Full\n+    * - ``createProperty``\n+      - Create only\n+    * - ``createWriteProperty``\n+      - Create and write only\n+    * - ``createdAt``\n+      - Read only\n+    * - ``fooAlias``\n+      - Full\n+    * - ``fooId``\n+      - Read only\n+    * - ``immutableSetting``\n+      - Create only\n+    * - ``mutableProperty``\n+      - Full\n+    * - ``password``\n+      - Write only\n+    * - ``readProperty``\n+      - Read only\n+    * - ``secret``\n+      - Write only\n+    * - ``tags``\n+      - Full\n+    * - ``updatedAt``\n+      - Read only\n+    * - ``writeProperty``\n+      - Write only\n+\n+\n+.. _aws.cloudformation#propertyName-trait:\n+\n+-----------------------------------------\n+``aws.cloudformation#propertyName`` trait\n+-----------------------------------------\n+\n+Summary\n+    The propertyName trait allows a CloudFormation `resource property`__ name\n+    to differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+Given the following structure definition that is converted to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#propertyName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @propertyName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    `additional identifier`__ for the resource.", "originalCommit": "ba0156755e01e2b53becf2539f4624825a95b2b7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "url": "https://github.com/awslabs/smithy/commit/7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "message": "Add aws.cloudformation traits\n\nThis commit adds several traits in the aws.cloudformation namespace,\ncontained in a new smithy-aws-cloudformation-traits package. These\ntraits indicate CloudFormation resources and the additional metadata\nabout their properties. A CfnResourceIndex is also included to make using\nthis information more accessible and to handle derived property\nmutabilities.", "committedDate": "2020-10-28T04:23:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NDIwMg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514574202", "bodyText": "I think cfnResource would be so much nicer for people reading and writing these models", "author": "mtdowling", "createdAt": "2020-10-29T21:19:33Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NTIzOQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514575239", "bodyText": "would not -> cannot", "author": "mtdowling", "createdAt": "2020-10-29T21:21:44Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NTQ4OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514575489", "bodyText": "includes -> requires", "author": "mtdowling", "createdAt": "2020-10-29T21:22:15Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NjAzOQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514576039", "bodyText": "This sentence lost me a little. \"would be derived into properties\" should probably be more like \"cannot be automatically converted to CloudFormation properties\" or something more clear.", "author": "mtdowling", "createdAt": "2020-10-29T21:23:28Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4MDkwNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514580905", "bodyText": "I think this sentence can be a little more clear. For example:\nThe ``excludeProperty`` trait omits a member from a Smithy resource from the :ref:`derived resource properties <aws-cloudformation-property-deriviation>` of a CloudFormation resource.", "author": "mtdowling", "createdAt": "2020-10-29T21:33:02Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4MTE4OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514581189", "bodyText": "mutability settings?", "author": "mtdowling", "createdAt": "2020-10-29T21:33:43Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4MjAwMw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514582003", "bodyText": "I don't think \"specific\" is the right word here. I think you can just drop everything after or \"write\".", "author": "mtdowling", "createdAt": "2020-10-29T21:35:22Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4Mjc3Ng==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514582776", "bodyText": "This can also be made more clear by rearranging the sentence (and I think you're missing a :ref: here too):\nThe `aws.cloudformation#mutability` trait overrides any :ref:`derived mutability setting <aws-cloudformation-mutability-deriviation>`_ on a member.", "author": "mtdowling", "createdAt": "2020-10-29T21:37:06Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4MzI2OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514583268", "bodyText": "I'd be more clear -- it can be used on create, read, and update", "author": "mtdowling", "createdAt": "2020-10-29T21:38:20Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4MzYyNw==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514583627", "bodyText": "\"This is a\" <- remove \"a\"\nAlso consider linking to whatever this is referencing? It seems a little unclear.", "author": "mtdowling", "createdAt": "2020-10-29T21:39:17Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4MzkyOQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514583929", "bodyText": "Is it necessary to call out \"derivable\" here?", "author": "mtdowling", "createdAt": "2020-10-29T21:39:56Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NDA5OQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514584099", "bodyText": "same, maybe get rid of derivable", "author": "mtdowling", "createdAt": "2020-10-29T21:40:16Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NDYwMg==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514584602", "bodyText": "Can this example get more of a setup? Or even its own section? It's huge and we need to prep readers that it's meant to encompass basically everything I guess.", "author": "mtdowling", "createdAt": "2020-10-29T21:41:18Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NDgyNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514584825", "bodyText": "Drop \"that is converted to a CloudFormation resource:\"", "author": "mtdowling", "createdAt": "2020-10-29T21:41:50Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        @http(method: \"POST\", uri: \"/foos\", code: 200)\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+\n+            @mutability(\"write\")\n+            secret: String,\n+\n+            fooAlias: String,\n+\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            @httpQuery(\"fooAlias\")\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+\n+            fooAlias: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        @http(method: \"PUT\", uri: \"/foos/{fooId}\", code: 200)\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            fooAlias: String,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure FooProperties {\n+            addedProperty: String,\n+\n+            @mutability(\"full\")\n+            barProperty: String,\n+\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+        list TagList {\n+            member: String\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``addedProperty``\n+      - Full\n+      - + Default mutability in ``FooProperties`` via ``additionalSchemas``.\n+    * - ``barProperty``\n+      - Full\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.=\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+    * - ``createdAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``fooAlias``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``immutableSetting``\n+      - Create only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``password``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``secret``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``tags``\n+      - Full\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``updatedAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+\n+\n+.. _aws.cloudformation#cloudFormationName-trait:\n+\n+-----------------------------------------------\n+``aws.cloudformation#cloudFormationName`` trait\n+-----------------------------------------------\n+\n+Summary\n+    The cloudFormationName trait allows a CloudFormation `resource property`__\n+    name to differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+Given the following structure definition that is converted to a CloudFormation", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NDkyMQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514584921", "bodyText": "add \"the generated CloudFormation resource ...\"", "author": "mtdowling", "createdAt": "2020-10-29T21:42:06Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        @http(method: \"POST\", uri: \"/foos\", code: 200)\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+\n+            @mutability(\"write\")\n+            secret: String,\n+\n+            fooAlias: String,\n+\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            @httpQuery(\"fooAlias\")\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+\n+            fooAlias: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        @http(method: \"PUT\", uri: \"/foos/{fooId}\", code: 200)\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            fooAlias: String,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure FooProperties {\n+            addedProperty: String,\n+\n+            @mutability(\"full\")\n+            barProperty: String,\n+\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+        list TagList {\n+            member: String\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``addedProperty``\n+      - Full\n+      - + Default mutability in ``FooProperties`` via ``additionalSchemas``.\n+    * - ``barProperty``\n+      - Full\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.=\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+    * - ``createdAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``fooAlias``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``immutableSetting``\n+      - Create only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``password``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``secret``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``tags``\n+      - Full\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``updatedAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+\n+\n+.. _aws.cloudformation#cloudFormationName-trait:\n+\n+-----------------------------------------------\n+``aws.cloudformation#cloudFormationName`` trait\n+-----------------------------------------------\n+\n+Summary\n+    The cloudFormationName trait allows a CloudFormation `resource property`__\n+    name to differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+Given the following structure definition that is converted to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @cloudFormationName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NTIzNQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514585235", "bodyText": "maybe an e.g. here -- \"(for example, a resource might accept an ARN and a unique ID)\"", "author": "mtdowling", "createdAt": "2020-10-29T21:42:48Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        @http(method: \"POST\", uri: \"/foos\", code: 200)\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+\n+            @mutability(\"write\")\n+            secret: String,\n+\n+            fooAlias: String,\n+\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            @httpQuery(\"fooAlias\")\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+\n+            fooAlias: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        @http(method: \"PUT\", uri: \"/foos/{fooId}\", code: 200)\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            fooAlias: String,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure FooProperties {\n+            addedProperty: String,\n+\n+            @mutability(\"full\")\n+            barProperty: String,\n+\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+        list TagList {\n+            member: String\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``addedProperty``\n+      - Full\n+      - + Default mutability in ``FooProperties`` via ``additionalSchemas``.\n+    * - ``barProperty``\n+      - Full\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.=\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+    * - ``createdAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``fooAlias``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``immutableSetting``\n+      - Create only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``password``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``secret``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``tags``\n+      - Full\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``updatedAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+\n+\n+.. _aws.cloudformation#cloudFormationName-trait:\n+\n+-----------------------------------------------\n+``aws.cloudformation#cloudFormationName`` trait\n+-----------------------------------------------\n+\n+Summary\n+    The cloudFormationName trait allows a CloudFormation `resource property`__\n+    name to differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+Given the following structure definition that is converted to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @cloudFormationName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    `additional identifier`__ for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-additionalidentifiers\n+\n+Each ``additionalIdentifier`` uniquely identifies an instance of the\n+CloudFormation resource it is a part of. This is useful for resources that\n+provide identifier aliases.", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NTQ1NQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514585455", "bodyText": "Can this be handled by a trait conflicts property (and called out in the trait definition above these two paragraphs)?", "author": "mtdowling", "createdAt": "2020-10-29T21:43:22Z", "path": "docs/source/1.0/spec/aws/aws-cloudformation.rst", "diffHunk": "@@ -0,0 +1,825 @@\n+=========================\n+AWS CloudFormation traits\n+=========================\n+\n+CloudFormation traits are used to describe Smithy resources and their\n+components so they can be converted to `CloudFormation Resource Schemas`_.\n+\n+.. _aws-cloudformation-overview:\n+\n+`CloudFormation Resource Schemas`_ are the standard method of `modeling a\n+resource provider`_ for use within CloudFormation. Smithy's modeled\n+:ref:`resources <resource>`, utilizing the traits below, can generate these\n+schemas. Automatically generating schemas from a service's API lowers the\n+effort needed to generate and maintain them, reduces the potential for errors\n+in the translation, and provides a more complete depiction of a resource in its\n+schema. These schemas can be utilized by the `CloudFormation Command Line\n+Interface`_ to build, register, and deploy `resource providers`_.\n+\n+.. contents:: Table of contents\n+    :depth: 3\n+    :local:\n+    :backlinks: none\n+\n+\n+.. _aws.cloudformation#cloudFormationResource-trait:\n+\n+---------------------------------------------------\n+``aws.cloudformation#cloudFormationResource`` trait\n+---------------------------------------------------\n+\n+Summary\n+    Indicates that a Smithy resource is a CloudFormation resource.\n+Trait selector\n+    ``resource``\n+Value type\n+    ``structure``\n+\n+The ``aws.cloudformation#cloudFormationResource`` trait is a structure that\n+supports the following members:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths:  10 20 70\n+\n+    * - Property\n+      - Type\n+      - Description\n+    * - name\n+      - ``string``\n+      - Provides a custom CloudFormation resource name.\n+    * - additionalSchemas\n+      - ``list<shapeId>``\n+      - A list of additional :ref:`shape IDs <shape-id>` of structures that\n+        will have their properties added to the CloudFormation resource.\n+        Members of these structures with the same names MUST resolve to the\n+        same target. See :ref:`aws-cloudformation-property-deriviation` for\n+        more information.\n+\n+The following example defines a simple resource that is also a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+\n+Resources that have properties that would not be :ref:`automatically derived\n+<aws-cloudformation-property-deriviation>` can use the ``additionalSchemas``\n+trait property to include them. This is useful if interacting with a resource\n+includes calling non-lifecycle APIs or some of the resource's properties are\n+not defined as members that would be derived into properties.\n+\n+The following example provides a ``name`` value and one structure shape in the\n+``additionalSchemas`` list.\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(\n+            name: \"Foo\",\n+            additionalSchemas: [AdditionalFooProperties])\n+        resource FooResource {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure AdditionalFooProperties {\n+            barProperty: String,\n+        }\n+\n+\n+.. _aws-cloudformation-property-deriviation:\n+\n+Resource properties\n+===================\n+\n+Smithy will automatically derive `property`__ information for resources with the\n+``@aws.cloudformation#cloudFormationResource`` trait applied.\n+\n+A resource's properties include the :ref:`resource's identifiers <resource-identifiers>`\n+as well as the top level members of the resource's ``read`` operation output\n+structure, ``put`` operation input structure, ``create`` operation input\n+structure, ``update`` operation input structure, and any structures listed in\n+the ``@cloudFormationResource`` trait's ``additionalSchemas`` property. Members\n+of these structures can be excluded by applying the :ref:`aws.cloudformation#excludeProperty-trait`.\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+.. important::\n+\n+    Any members used to derive properties that are defined in more than one of\n+    the above structures MUST resolve to the same target.\n+\n+.. seealso::\n+\n+    Refer to :ref:`property mutability <aws-cloudformation-mutability-derivation>`\n+    for more information on how the CloudFormation mutability of a property is\n+    derived.\n+\n+\n+.. _aws.cloudformation#excludeProperty-trait:\n+\n+--------------------------------------------\n+``aws.cloudformation#excludeProperty`` trait\n+--------------------------------------------\n+\n+Summary\n+    Indicates that structure member should not be included as a `property`__ in\n+    generated CloudFormation resource definitions.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    Annotation trait\n+Conflicts with\n+    :ref:`aws.cloudformation#additionalIdentifier-trait`,\n+    :ref:`aws.cloudformation#mutability-trait`\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+When :ref:`deriving a resource's properties <aws-cloudformation-property-deriviation>`,\n+all members of the used structures that have the ``excludeProperty`` trait\n+applied will not be included.\n+\n+The following example defines a CloudFormation resource that excludes the\n+``responseCode`` property:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+        }\n+\n+\n+.. _aws-cloudformation-mutability-derivation:\n+\n+-------------------\n+Property mutability\n+-------------------\n+\n+Any property derived for a resource will have its mutability automatically\n+derived as well. CloudFormation resource properties can have the following\n+mutabilities:\n+\n+* **Full** - Properties that can be specified when creating, updating, or\n+  reading a resource.\n+* **Create Only** - Properties that can be specified only during resource\n+  creation and can be returned in a ``read`` or ``list`` request.\n+* **Read Only** - Properties that can be returned by a ``read`` or ``list``\n+  request, but cannot be set by the user.\n+* **Write Only** - Properties that can be specified by the user, but cannot be\n+  returned by a ``read`` or ``list`` request.\n+* **Create and Write Only** - Properties that can be specified only during\n+  resource creation and cannot be returned in a ``read`` or ``list`` request.\n+\n+Given the following model without mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @required\n+            fooId: String,\n+\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+\n+\n+.. _aws.cloudformation#mutability-trait:\n+\n+---------------------------------------\n+``aws.cloudformation#mutability`` trait\n+---------------------------------------\n+\n+Summary\n+    Indicates an explicit CloudFormation mutability of the structure member\n+    when part of a CloudFormation resource.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string`` that MUST be set to \"full\", \"create\", \"create-and-read\", \"read\",\n+    or \"write\" to indicate the property's specific mutability.\n+Conflicts with\n+    :ref:`aws.cloudformation#excludeProperty-trait`\n+\n+Members with this trait applied will have their `derived mutability\n+<aws-cloudformation-mutability-deriviation>`_ overridden. The values of the\n+mutability trait have the following meanings:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 80\n+\n+    * - Value\n+      - Description\n+    * - ``full``\n+      - Indicates that the CloudFormation property generated from this member\n+        does not have any mutability restrictions.\n+    * - ``create``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and cannot returned in a\n+        ``read`` or ``list`` request. This is a equivalent to create and write\n+        only CloudFormation mutability.\n+    * - ``create-and-read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified only during resource creation and can be returned in a\n+        ``read`` or ``list`` request. This is equivalent to create only\n+        CloudFormation mutability.\n+    * - ``read``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be returned by a ``read`` or ``list`` request, but cannot be set by\n+        the user. This is equivalent to read only CloudFormation mutability.\n+    * - ``write``\n+      - Indicates that the CloudFormation property generated from this member\n+        can be specified by the user, but cannot be returned by a ``read`` or\n+        ``list`` request. MUST NOT be set if the member is also marked with the\n+        :ref:`aws.cloudformation#additionalIdentifier-trait`. This is\n+        equivalent to write only CloudFormation mutability.\n+\n+\n+The following example defines a CloudFormation resource that marks the ``tags``\n+and ``barProperty`` properties as fully mutable:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"full\")\n+            barProperty: String,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``immutableSetting`` property as create and read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``updatedAt`` and ``createdAt`` properties as read only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            read: GetFoo,\n+        }\n+\n+        @readonly\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @required\n+            fooId: String\n+        }\n+\n+        structure GetFooResponse {\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+        }\n+\n+\n+The following example defines a CloudFormation resource that marks the derivable\n+``secret`` and ``password`` properties as write only:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+        }\n+\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"write\")\n+            secret: String,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        structure FooProperties {\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+Given the following model with property mutability traits applied,\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#additionalIdentifier\n+        use aws.cloudformation#excludeProperty\n+        use aws.cloudformation#mutability\n+        use aws.cloudformation#cloudFormationResource\n+\n+        @cloudFormationResource(additionalSchemas: [FooProperties])\n+        resource Foo {\n+            identifiers: {\n+                fooId: String,\n+            },\n+            create: CreateFoo,\n+            read: GetFoo,\n+            update: UpdateFoo,\n+        }\n+\n+        @http(method: \"POST\", uri: \"/foos\", code: 200)\n+        operation CreateFoo {\n+            input: CreateFooRequest,\n+            output: CreateFooResponse,\n+        }\n+\n+        structure CreateFooRequest {\n+            @mutability(\"full\")\n+            tags: TagList,\n+\n+            @mutability(\"write\")\n+            secret: String,\n+\n+            fooAlias: String,\n+\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+            createWriteProperty: ComplexProperty,\n+        }\n+\n+        structure CreateFooResponse {\n+            fooId: String,\n+        }\n+\n+        @readonly\n+        @http(method: \"GET\", uri: \"/foos/{fooId}\", code: 200)\n+        operation GetFoo {\n+            input: GetFooRequest,\n+            output: GetFooResponse,\n+        }\n+\n+        structure GetFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            @httpQuery(\"fooAlias\")\n+            @additionalIdentifier\n+            fooAlias: String,\n+        }\n+\n+        structure GetFooResponse {\n+            fooId: String,\n+\n+            @httpResponseCode\n+            @excludeProperty\n+            responseCode: Integer,\n+\n+            @mutability(\"read\")\n+            updatedAt: Timestamp,\n+\n+            fooAlias: String,\n+            createProperty: ComplexProperty,\n+            mutableProperty: ComplexProperty,\n+            readProperty: ComplexProperty,\n+        }\n+\n+        @idempotent\n+        @http(method: \"PUT\", uri: \"/foos/{fooId}\", code: 200)\n+        operation UpdateFoo {\n+            input: UpdateFooRequest,\n+        }\n+\n+        structure UpdateFooRequest {\n+            @httpLabel\n+            @required\n+            fooId: String,\n+\n+            fooAlias: String,\n+            mutableProperty: ComplexProperty,\n+            writeProperty: ComplexProperty,\n+        }\n+\n+        structure FooProperties {\n+            addedProperty: String,\n+\n+            @mutability(\"full\")\n+            barProperty: String,\n+\n+            @mutability(\"create-and-read\")\n+            immutableSetting: Boolean,\n+\n+            @mutability(\"read\")\n+            createdAt: Timestamp,\n+\n+            @mutability(\"write\")\n+            password: String,\n+        }\n+\n+        structure ComplexProperty {\n+            anotherProperty: String,\n+        }\n+\n+        list TagList {\n+            member: String\n+        }\n+\n+The computed resource property mutabilities are:\n+\n+.. list-table::\n+    :header-rows: 1\n+    :widths: 20 20 60\n+\n+    * - Name\n+      - CloudFormation Mutability\n+      - Reasoning\n+    * - ``addedProperty``\n+      - Full\n+      - + Default mutability in ``FooProperties`` via ``additionalSchemas``.\n+    * - ``barProperty``\n+      - Full\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``createProperty``\n+      - Create only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.=\n+    * - ``createWriteProperty``\n+      - Create and write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+    * - ``createdAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``fooAlias``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``fooId``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``immutableSetting``\n+      - Create only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``mutableProperty``\n+      - Full\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+    * - ``password``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``FooProperties`` via\n+          ``additionalSchemas``.\n+    * - ``readProperty``\n+      - Read only\n+      - + Returned in the ``read`` lifecycle via ``GetFooResponse``.\n+    * - ``secret``\n+      - Write only\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``tags``\n+      - Full\n+      - + ``@mutability`` trait specified in ``CreateFooRequest``.\n+    * - ``updatedAt``\n+      - Read only\n+      - + ``@mutability`` trait specified in ``GetFooResponse``.\n+    * - ``writeProperty``\n+      - Write only\n+      - + Specified in the ``create`` lifecycle via ``CreateFooRequest``.\n+        + Specified in the ``update`` lifecycle via ``UpdateFooRequest``.\n+\n+\n+.. _aws.cloudformation#cloudFormationName-trait:\n+\n+-----------------------------------------------\n+``aws.cloudformation#cloudFormationName`` trait\n+-----------------------------------------------\n+\n+Summary\n+    The cloudFormationName trait allows a CloudFormation `resource property`__\n+    name to differ from a structure member name used in the model.\n+Trait selector\n+    ``structure > member``\n+\n+    *Any structure member*\n+Value type\n+    ``string``\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-properties\n+\n+Given the following structure definition that is converted to a CloudFormation\n+resource:\n+\n+.. tabs::\n+\n+    .. code-tab:: smithy\n+\n+        namespace smithy.example\n+\n+        use aws.cloudformation#cloudFormationName\n+\n+        structure AdditionalFooProperties {\n+            bar: String,\n+\n+            @cloudFormationName(\"Tags\")\n+            tagList: TagList,\n+        }\n+\n+the CloudFormation resource would have the following property names derived\n+from it:\n+\n+::\n+\n+    \"bar\"\n+    \"Tags\"\n+\n+.. _aws.cloudformation#additionalIdentifier-trait:\n+\n+-------------------------------------------------\n+``aws.cloudformation#additionalIdentifier`` trait\n+-------------------------------------------------\n+\n+Summary\n+    Indicates that the CloudFormation property generated from this member is an\n+    `additional identifier`__ for the resource.\n+Trait selector\n+    ``structure > :test(member > string)``\n+\n+    *Any structure member that targets a string*\n+Value type\n+    Annotation trait\n+\n+.. __: https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-schema.html#schema-properties-additionalidentifiers\n+\n+Each ``additionalIdentifier`` uniquely identifies an instance of the\n+CloudFormation resource it is a part of. This is useful for resources that\n+provide identifier aliases.\n+\n+``additionalIdentifier`` traits are ignored when applied outside of the input\n+to an operation bound to the ``read`` lifecycle of a resource. The\n+``additionalIdentifier`` trait MUST NOT be applied to members with the\n+:ref:`aws.cloudformation#mutability-trait` set to ``write-only``.", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDYzMTU0MA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514631540", "bodyText": "I've moved this sentence to a \"Validation\" section in the definition, as it cannot be done with a conflicts property since it validates against the value of the trait, not the presence.", "author": "kstich", "createdAt": "2020-10-29T23:51:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4NTQ1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU5NjE2OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514596168", "bodyText": "This includes excluded properties? Might need to call that out.", "author": "mtdowling", "createdAt": "2020-10-29T22:08:43Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/CfnResource.java", "diffHunk": "@@ -0,0 +1,254 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Contains extracted resource information.\n+ */\n+public final class CfnResource implements ToSmithyBuilder<CfnResource> {\n+    private final Map<String, CfnResourceProperty> propertyDefinitions = new HashMap<>();\n+    private final Set<ShapeId> excludedProperties = new HashSet<>();\n+    private final Set<String> primaryIdentifiers = new HashSet<>();\n+    private final List<Set<String>> additionalIdentifiers = new ArrayList<>();\n+\n+    private CfnResource(Builder builder) {\n+        this.propertyDefinitions.putAll(builder.propertyDefinitions);\n+        this.excludedProperties.addAll(builder.excludedProperties);\n+        this.primaryIdentifiers.addAll(builder.primaryIdentifiers);\n+        this.additionalIdentifiers.addAll(builder.additionalIdentifiers);\n+    }\n+\n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+\n+    /**\n+     * Get all property definitions of the CloudFormation resource.\n+     *\n+     * @return Returns all members that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Map<String, CfnResourceProperty> getProperties() {\n+        return propertyDefinitions.entrySet().stream()\n+                .filter(entry -> !getExcludedProperties().contains(entry.getValue().getShapeId()))\n+                .collect(MapUtils.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n+    }\n+\n+    /**\n+     * Gets the definition of the specified property of the CloudFormation resource.", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU5Njg3OA==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514596878", "bodyText": "Can this just be computed up front? It gets called a lot, and it might make the implementation clearer IMO.", "author": "mtdowling", "createdAt": "2020-10-29T22:10:23Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/CfnResource.java", "diffHunk": "@@ -0,0 +1,254 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Contains extracted resource information.\n+ */\n+public final class CfnResource implements ToSmithyBuilder<CfnResource> {\n+    private final Map<String, CfnResourceProperty> propertyDefinitions = new HashMap<>();\n+    private final Set<ShapeId> excludedProperties = new HashSet<>();\n+    private final Set<String> primaryIdentifiers = new HashSet<>();\n+    private final List<Set<String>> additionalIdentifiers = new ArrayList<>();\n+\n+    private CfnResource(Builder builder) {\n+        this.propertyDefinitions.putAll(builder.propertyDefinitions);\n+        this.excludedProperties.addAll(builder.excludedProperties);\n+        this.primaryIdentifiers.addAll(builder.primaryIdentifiers);\n+        this.additionalIdentifiers.addAll(builder.additionalIdentifiers);\n+    }\n+\n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+\n+    /**\n+     * Get all property definitions of the CloudFormation resource.\n+     *\n+     * @return Returns all members that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Map<String, CfnResourceProperty> getProperties() {\n+        return propertyDefinitions.entrySet().stream()", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU5NzA1MQ==", "url": "https://github.com/awslabs/smithy/pull/579#discussion_r514597051", "bodyText": "Can you clarify in code what \"primary\" means?", "author": "mtdowling", "createdAt": "2020-10-29T22:10:51Z", "path": "smithy-aws-cloudformation-traits/src/main/java/software/amazon/smithy/aws/cloudformation/traits/CfnResource.java", "diffHunk": "@@ -0,0 +1,254 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.smithy.aws.cloudformation.traits;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+import java.util.stream.Collectors;\n+import software.amazon.smithy.model.shapes.ShapeId;\n+import software.amazon.smithy.utils.MapUtils;\n+import software.amazon.smithy.utils.SmithyBuilder;\n+import software.amazon.smithy.utils.ToSmithyBuilder;\n+\n+/**\n+ * Contains extracted resource information.\n+ */\n+public final class CfnResource implements ToSmithyBuilder<CfnResource> {\n+    private final Map<String, CfnResourceProperty> propertyDefinitions = new HashMap<>();\n+    private final Set<ShapeId> excludedProperties = new HashSet<>();\n+    private final Set<String> primaryIdentifiers = new HashSet<>();\n+    private final List<Set<String>> additionalIdentifiers = new ArrayList<>();\n+\n+    private CfnResource(Builder builder) {\n+        this.propertyDefinitions.putAll(builder.propertyDefinitions);\n+        this.excludedProperties.addAll(builder.excludedProperties);\n+        this.primaryIdentifiers.addAll(builder.primaryIdentifiers);\n+        this.additionalIdentifiers.addAll(builder.additionalIdentifiers);\n+    }\n+\n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+\n+    /**\n+     * Get all property definitions of the CloudFormation resource.\n+     *\n+     * @return Returns all members that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Map<String, CfnResourceProperty> getProperties() {\n+        return propertyDefinitions.entrySet().stream()\n+                .filter(entry -> !getExcludedProperties().contains(entry.getValue().getShapeId()))\n+                .collect(MapUtils.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n+    }\n+\n+    /**\n+     * Gets the definition of the specified property of the CloudFormation resource.\n+     *\n+     * @param propertyName Name of the property to retrieve\n+     * @return The property definition.\n+     */\n+    public Optional<CfnResourceProperty> getProperty(String propertyName) {\n+        return Optional.ofNullable(getProperties().get(propertyName));\n+    }\n+\n+    /**\n+     * Get create-specifiable-only property definitions of the CloudFormation resource.\n+     *\n+     * These properties can be specified only during resource creation and\n+     * can be returned in a {@code read} or {@code list} request.\n+     *\n+     * @return Returns create-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getCreateOnlyProperties() {\n+        return getConstrainedProperties(definition -> {\n+            Set<CfnResourceIndex.Mutability> mutabilities = definition.getMutabilities();\n+            return mutabilities.contains(CfnResourceIndex.Mutability.CREATE)\n+                    && !mutabilities.contains(CfnResourceIndex.Mutability.WRITE);\n+        });\n+    }\n+\n+    /**\n+     * Get read-only property definitions of the CloudFormation resource.\n+     *\n+     * These properties can be returned by a {@code read} or {@code list} request,\n+     * but cannot be set by the user.\n+     *\n+     * @return Returns read-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getReadOnlyProperties() {\n+        return getConstrainedProperties(definition -> {\n+            Set<CfnResourceIndex.Mutability> mutabilities = definition.getMutabilities();\n+            return mutabilities.size() == 1 && mutabilities.contains(CfnResourceIndex.Mutability.READ);\n+        });\n+    }\n+\n+    /**\n+     * Get write-only property definitions of the CloudFormation resource.\n+     *\n+     * These properties can be specified by the user, but cannot be\n+     * returned by a {@code read} or {@code list} request.\n+     *\n+     * @return Returns write-only member names that map to CloudFormation resource\n+     *   properties.\n+     */\n+    public Set<String> getWriteOnlyProperties() {\n+        return getConstrainedProperties(definition -> {\n+            Set<CfnResourceIndex.Mutability> mutabilities = definition.getMutabilities();\n+            // Create and non-read properties need to be set as createOnly and writeOnly.\n+            if (mutabilities.size() == 1 && mutabilities.contains(CfnResourceIndex.Mutability.CREATE)) {\n+                return true;\n+            }\n+\n+            // Otherwise, create and update, or update only become writeOnly.\n+            return mutabilities.contains(CfnResourceIndex.Mutability.WRITE)\n+                    && !mutabilities.contains(CfnResourceIndex.Mutability.READ);\n+        });\n+    }\n+\n+    private Set<String> getConstrainedProperties(Predicate<CfnResourceProperty> constraint) {\n+        return getProperties().entrySet().stream()\n+                       .filter(property -> constraint.test(property.getValue()))\n+                       .map(Map.Entry::getKey)\n+                       .collect(Collectors.toSet());\n+    }\n+\n+    /**\n+     * Get members that have been explicitly excluded from the CloudFormation\n+     * resource.\n+     *\n+     * @return Returns members that have been excluded from a CloudFormation\n+     *   resource.\n+     */\n+    public Set<ShapeId> getExcludedProperties() {\n+        return excludedProperties;\n+    }\n+\n+    /**\n+     * Gets a set of member shape ids that represent the primary way\n+     * to identify a CloudFormation resource.\n+     *\n+     * @return Returns the identifier set primarily used to access a\n+     *   CloudFormation resource.\n+     */\n+    public Set<String> getPrimaryIdentifiers() {", "originalCommit": "7ef7419ed75b5f447c4a64ac59e16ff096121f6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ff3402b4090b37d7aafb3711356cf1982cd220ab", "url": "https://github.com/awslabs/smithy/commit/ff3402b4090b37d7aafb3711356cf1982cd220ab", "message": "Add aws.cloudformation traits\n\nThis commit adds several traits in the aws.cloudformation namespace,\ncontained in a new smithy-aws-cloudformation-traits package. These\ntraits indicate CloudFormation resources and the additional metadata\nabout their properties. A CfnResourceIndex is also included to make using\nthis information more accessible and to handle derived property\nmutabilities.", "committedDate": "2020-10-30T00:40:20Z", "type": "forcePushed"}, {"oid": "5bd9e9b3f7392090663bf3f3d5c47d25976d002a", "url": "https://github.com/awslabs/smithy/commit/5bd9e9b3f7392090663bf3f3d5c47d25976d002a", "message": "Add aws.cloudformation traits\n\nThis commit adds several traits in the aws.cloudformation namespace,\ncontained in a new smithy-aws-cloudformation-traits package. These\ntraits indicate CloudFormation resources and the additional metadata\nabout their properties. A CfnResourceIndex is also included to make using\nthis information more accessible and to handle derived property\nmutabilities.", "committedDate": "2020-11-13T21:52:28Z", "type": "commit"}, {"oid": "5bd9e9b3f7392090663bf3f3d5c47d25976d002a", "url": "https://github.com/awslabs/smithy/commit/5bd9e9b3f7392090663bf3f3d5c47d25976d002a", "message": "Add aws.cloudformation traits\n\nThis commit adds several traits in the aws.cloudformation namespace,\ncontained in a new smithy-aws-cloudformation-traits package. These\ntraits indicate CloudFormation resources and the additional metadata\nabout their properties. A CfnResourceIndex is also included to make using\nthis information more accessible and to handle derived property\nmutabilities.", "committedDate": "2020-11-13T21:52:28Z", "type": "forcePushed"}, {"oid": "4c0cfc1463d4e0521eaf76985909c2f2e5c9b1f2", "url": "https://github.com/awslabs/smithy/commit/4c0cfc1463d4e0521eaf76985909c2f2e5c9b1f2", "message": "Add CloudFormation resource schema generation\n\nThis commit introduces a new \"cloudformation\" build plugin that, given\na model decorated with the aws.cloudformation traits, will generate\nCloudFormation Resource Schemas. This includes support for specifying\nthe mutability of properties, their documentation, and more.", "committedDate": "2020-11-19T19:46:04Z", "type": "commit"}]}