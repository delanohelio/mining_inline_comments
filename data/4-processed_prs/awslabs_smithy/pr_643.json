{"pr_number": 643, "pr_title": "Clarify various aspects of xmlNamespace traits", "pr_createdAt": "2020-11-28T00:26:18Z", "pr_url": "https://github.com/awslabs/smithy/pull/643", "timeline": [{"oid": "930ac2392ce0f8042d466efdca88b1d17cc5366a", "url": "https://github.com/awslabs/smithy/commit/930ac2392ce0f8042d466efdca88b1d17cc5366a", "message": "Clarify various aspects of xmlNamespace traits\n\n* The xmlNamespace trait can only be applied to simple types, list,\n  map, set, structure, union, member, and service shapes. We previously\n  allowed \"*\", but that includes resource and operation shapes where\n  the trait isn't actually used.\n* aws.protocols#awsQuery and aws.protocols#ec2Query protocol traits\n  both now require that an xmlNamespace is set on the top-level\n  service shape they are applied to so that the namespace is\n  guaranteed to be known.\n* Added various examples for how the xmlNamespace trait interacts\n  with flattened lists and maps.\n* Add a protocol test suite named \"restXmlWithNamespace\" to test that\n  implementations add an xmlns to restXml services when necessary,\n  closing #616", "committedDate": "2020-11-28T03:16:49Z", "type": "commit"}, {"oid": "930ac2392ce0f8042d466efdca88b1d17cc5366a", "url": "https://github.com/awslabs/smithy/commit/930ac2392ce0f8042d466efdca88b1d17cc5366a", "message": "Clarify various aspects of xmlNamespace traits\n\n* The xmlNamespace trait can only be applied to simple types, list,\n  map, set, structure, union, member, and service shapes. We previously\n  allowed \"*\", but that includes resource and operation shapes where\n  the trait isn't actually used.\n* aws.protocols#awsQuery and aws.protocols#ec2Query protocol traits\n  both now require that an xmlNamespace is set on the top-level\n  service shape they are applied to so that the namespace is\n  guaranteed to be known.\n* Added various examples for how the xmlNamespace trait interacts\n  with flattened lists and maps.\n* Add a protocol test suite named \"restXmlWithNamespace\" to test that\n  implementations add an xmlns to restXml services when necessary,\n  closing #616", "committedDate": "2020-11-28T03:16:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc5NTcxOQ==", "url": "https://github.com/awslabs/smithy/pull/643#discussion_r532795719", "bodyText": "ec2Query got the updates for lists, but not the new test for maps.", "author": "kstich", "createdAt": "2020-11-30T18:05:44Z", "path": "smithy-aws-protocol-tests/model/ec2Query/xml-lists.smithy", "diffHunk": "@@ -23,7 +23,8 @@ use smithy.test#httpResponseTests\n /// 4. XML lists with @xmlName on its members\n /// 5. Flattened XML lists.\n /// 6. Flattened XML lists with @xmlName.\n-/// 7. Lists of structures.\n+/// 7. Flattened XML lists with @xmlNamespace.", "originalCommit": "930ac2392ce0f8042d466efdca88b1d17cc5366a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk3ODQ3Mw==", "url": "https://github.com/awslabs/smithy/pull/643#discussion_r532978473", "bodyText": "EC2 does not utilize any maps, so there aren't any tests for it in EC2.", "author": "mtdowling", "createdAt": "2020-11-30T23:48:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc5NTcxOQ=="}], "type": "inlineReview"}]}