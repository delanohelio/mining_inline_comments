{"pr_number": 339, "pr_title": "Add Cognito User Pools documentation to OpenAPI guide", "pr_createdAt": "2020-03-31T21:26:10Z", "pr_url": "https://github.com/awslabs/smithy/pull/339", "timeline": [{"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089", "url": "https://github.com/awslabs/smithy/commit/92ac75609d1cde9e3aadbace48dc49fa15082089", "message": "Add Cognito docs to OpenAPI guide", "committedDate": "2020-03-31T21:22:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4Mzk0Mw==", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401283943", "bodyText": "Why is this indented?", "author": "mtdowling", "createdAt": "2020-04-01T00:05:43Z", "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy\n+will add an a ``securitySchemes`` components entry:\n+\n+    .. code-block:: json", "originalCommit": "92ac75609d1cde9e3aadbace48dc49fa15082089", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDQyNA==", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284424", "bodyText": "Messed up indentation, and looks like it's missing a closing \"}\"", "author": "mtdowling", "createdAt": "2020-04-01T00:07:24Z", "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy\n+will add an a ``securitySchemes`` components entry:\n+\n+    .. code-block:: json\n+\n+        {\n+            \"aws.auth#cognitoUserPools\": {\n+                \"type\": \"apiKey\",\n+                \"description\": \"Amazon Cognito User Pools authentication\",\n+                \"name\": \"Authorization\",\n+                \"in\": \"header\",\n+                \"x-amazon-apigateway-authtype\": \"cognito_user_pools\",\n+                \"x-amazon-apigateway-authorizer\": {\n+                    \"type\": \"cognito_user_pools\",\n+                    \"providerARNs\": [\n+                        \"arn:aws:cognito-idp:us-east-1:123:userpool/123\"\n+                ]", "originalCommit": "92ac75609d1cde9e3aadbace48dc49fa15082089", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDUyOA==", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284528", "bodyText": "\"an a\" -> \"a\"", "author": "mtdowling", "createdAt": "2020-04-01T00:07:47Z", "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy\n+will add an a ``securitySchemes`` components entry:", "originalCommit": "92ac75609d1cde9e3aadbace48dc49fa15082089", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDYxMw==", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284613", "bodyText": "recommend breaking up lines longer than 80 chars", "author": "mtdowling", "createdAt": "2020-04-01T00:08:04Z", "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy", "originalCommit": "92ac75609d1cde9e3aadbace48dc49fa15082089", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDY1Nw==", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284657", "bodyText": "\"conversion\" -> \"model\"", "author": "mtdowling", "createdAt": "2020-04-01T00:08:17Z", "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the", "originalCommit": "92ac75609d1cde9e3aadbace48dc49fa15082089", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ded782679b53e78a619925c2e906f8140ede5fc7", "url": "https://github.com/awslabs/smithy/commit/ded782679b53e78a619925c2e906f8140ede5fc7", "message": "Fix formatting, wording", "committedDate": "2020-04-01T16:18:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk2NzkwMA==", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401967900", "bodyText": "Can you link to the actual trait using :ref:", "author": "mtdowling", "createdAt": "2020-04-01T23:27:42Z", "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,33 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI model when\n+the ``aws.auth#cognitoUserPools`` trait is added to a service shape. When this", "originalCommit": "ded782679b53e78a619925c2e906f8140ede5fc7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "878d1e36666df0007f20502eca763a178bdf5731", "url": "https://github.com/awslabs/smithy/commit/878d1e36666df0007f20502eca763a178bdf5731", "message": "Add trait ref", "committedDate": "2020-04-01T23:32:57Z", "type": "commit"}]}