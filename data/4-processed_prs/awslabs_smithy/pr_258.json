{"pr_number": 258, "pr_title": "Add aws.ec2 protocol tests", "pr_createdAt": "2020-01-14T22:47:00Z", "pr_url": "https://github.com/awslabs/smithy/pull/258", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYyMjAyNA==", "url": "https://github.com/awslabs/smithy/pull/258#discussion_r366622024", "bodyText": "Looks out of sync with the params (\"val\" vs \"val1\").\nAlso missed in review on the query protocol.", "author": "kstich", "createdAt": "2020-01-14T23:12:23Z", "path": "smithy-aws-protocol-tests/src/main/resources/META-INF/smithy/ec2-query/input.smithy", "diffHunk": "@@ -0,0 +1,362 @@\n+// This file defines test cases that test the basics of input serialization.\n+\n+$version: \"0.5.0\"\n+\n+namespace aws.protocols.tests.ec2\n+\n+use aws.api#ec2QueryName\n+use aws.protocols.tests.shared#EpochSeconds\n+use aws.protocols.tests.shared#FooEnum\n+use smithy.test#httpRequestTests\n+\n+/// This test serializes strings, numbers, and boolean values.\n+operation SimpleInputParams {\n+    input: SimpleInputParamsInput\n+}\n+\n+apply SimpleInputParams @httpRequestTests([\n+    {\n+        id: \"Ec2SimpleInputParamsStrings\",\n+        description: \"Serializes strings\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val1\n+              &Bar=val2\"\"\",\n+        bodyMediaType: \"application/x-www-form-urlencoded\",\n+        params: {\n+            Foo: \"val1\",\n+            Bar: \"val2\"\n+        }\n+    },\n+    {\n+        id: \"Ec2SimpleInputParamsStringAndBooleanTrue\",\n+        description: \"Serializes booleans that are true\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val", "originalCommit": "288340529f082c09a50867e3eb41c5e746585b08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYyMjIzNQ==", "url": "https://github.com/awslabs/smithy/pull/258#discussion_r366622235", "bodyText": "Looks out of sync with the params (exists here, doesn't in params).\nAlso missed in review on the query protocol.", "author": "kstich", "createdAt": "2020-01-14T23:13:05Z", "path": "smithy-aws-protocol-tests/src/main/resources/META-INF/smithy/ec2-query/input.smithy", "diffHunk": "@@ -0,0 +1,362 @@\n+// This file defines test cases that test the basics of input serialization.\n+\n+$version: \"0.5.0\"\n+\n+namespace aws.protocols.tests.ec2\n+\n+use aws.api#ec2QueryName\n+use aws.protocols.tests.shared#EpochSeconds\n+use aws.protocols.tests.shared#FooEnum\n+use smithy.test#httpRequestTests\n+\n+/// This test serializes strings, numbers, and boolean values.\n+operation SimpleInputParams {\n+    input: SimpleInputParamsInput\n+}\n+\n+apply SimpleInputParams @httpRequestTests([\n+    {\n+        id: \"Ec2SimpleInputParamsStrings\",\n+        description: \"Serializes strings\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val1\n+              &Bar=val2\"\"\",\n+        bodyMediaType: \"application/x-www-form-urlencoded\",\n+        params: {\n+            Foo: \"val1\",\n+            Bar: \"val2\"\n+        }\n+    },\n+    {\n+        id: \"Ec2SimpleInputParamsStringAndBooleanTrue\",\n+        description: \"Serializes booleans that are true\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val\n+              &Baz=true\"\"\",\n+        bodyMediaType: \"application/x-www-form-urlencoded\",\n+        params: {\n+            Foo: \"val1\",\n+            Baz: true,\n+        }\n+    },\n+    {\n+        id: \"Ec2SimpleInputParamsStringsAndBooleanFalse\",\n+        description: \"Serializes booleans that are false\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val1", "originalCommit": "288340529f082c09a50867e3eb41c5e746585b08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2fa64389a1d60ee8a4810ec613157c8a85a48643", "url": "https://github.com/awslabs/smithy/commit/2fa64389a1d60ee8a4810ec613157c8a85a48643", "message": "Add aws.ec2 protocol tests", "committedDate": "2020-01-14T23:17:04Z", "type": "commit"}, {"oid": "2fa64389a1d60ee8a4810ec613157c8a85a48643", "url": "https://github.com/awslabs/smithy/commit/2fa64389a1d60ee8a4810ec613157c8a85a48643", "message": "Add aws.ec2 protocol tests", "committedDate": "2020-01-14T23:17:04Z", "type": "forcePushed"}]}