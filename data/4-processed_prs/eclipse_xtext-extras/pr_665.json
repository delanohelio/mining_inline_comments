{"pr_number": 665, "pr_title": "regenerated languages", "pr_createdAt": "2020-11-17T08:53:27Z", "pr_url": "https://github.com/eclipse/xtext-extras/pull/665", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNTU0Mw==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r525025543", "bodyText": "@ArneDeutsch Missing formatting rule for qualified types in Actions? I wouldn't expect a space around ::", "author": "szarnekow", "createdAt": "2020-11-17T09:56:51Z", "path": "org.eclipse.xtext.extras.tests/src-gen/org/eclipse/xtext/generator/grammarAccess/services/GrammarAccessTestLanguageGrammarAccess.java", "diffHunk": "@@ -64,16 +64,16 @@\n \t\tprivate final Action cATypeAction_1 = (Action)cGroup.eContents().get(1);\n \t\t\n \t\t//AType root::AType:\n-\t\t//\t'foo' {root::AType};\n+\t\t//\t'foo' {root :: AType};", "originalCommit": "d1170a07dfa490f5008999890575e49b865c75a6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0ODYzMA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528548630", "bodyText": "problem is indeed still there", "author": "cdietrich", "createdAt": "2020-11-23T08:57:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNTU0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYwMjY0Mg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531602642", "bodyText": "Tested and fixed.", "author": "ArneDeutsch", "createdAt": "2020-11-27T13:29:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNTU0Mw=="}], "type": "inlineReview"}, {"oid": "892a01875e4100cbfbef1e344efe0ce1b8fec7ef", "url": "https://github.com/eclipse/xtext-extras/commit/892a01875e4100cbfbef1e344efe0ce1b8fec7ef", "message": "regenerated languages\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-11-17T09:57:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA4Mw==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r525027083", "bodyText": "Hmm there is a noSpace around the assignment ops, nevertheless we see a line break.\nhttps://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/xtext/XtextFormatterJava.java#L90\n@ArneDeutsch Something worthy to investigate?", "author": "szarnekow", "createdAt": "2020-11-17T09:59:09Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -401,20 +409,20 @@\n \t\t\n \t\t//@Override\n \t\t//XAssignment xbase::XExpression:\n-\t\t//\t{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n-\t\t//\tXConditionalExpression (=> ({xbase::XBinaryOperation.leftOperand=current}\n-\t\t//\tfeature=[types::JvmIdentifiableElement|OpMultiAssign]) rightOperand=XAssignment)?;\n+\t\t//\t{xbase :: XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n+\t\t//\tXConditionalExpression (=> ({xbase :: XBinaryOperation . leftOperand= current} feature=", "originalCommit": "892a01875e4100cbfbef1e344efe0ce1b8fec7ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxMTQ1NA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531611454", "bodyText": "The guilty is the following code (I commented the \"bad\" lines):\n\tprotected void format(CrossReference ref, IFormattableDocument doc) {\n//\t\tdoc.prepend(regionFor(ref).keyword(\"[\"), it -> it.autowrap());\n\t\tdoc.append(regionFor(ref).keyword(\"[\"), it -> it.noSpace());\n\t\tdoc.prepend(regionFor(ref).keyword(\"]\"), it -> it.noSpace());\n//\t\tdoc.append(regionFor(ref).keyword(\"]\"), it -> it.autowrap());\n\t\tdoc.surround(regionFor(ref).keyword(\"|\"), it -> it.noSpace());\n\t\tdoc.format(ref.getType());\n\t}\n\nI have run most tests locally and it seems I can remove the autowrap without breaking anything else. BUT ... the rule is a bit unfortunate ... the original looks like this:\n@Override \nXAssignment returns xbase::XExpression :\n\t{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n\tXConditionalExpression (\n\t\t=>({xbase::XBinaryOperation.leftOperand=current} feature=[types::JvmIdentifiableElement|OpMultiAssign]) rightOperand=XAssignment\n\t)?;\n\nWith above formatting I get the following:\n@Override\nXAssignment returns xbase::XExpression:\n\t{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n\tXConditionalExpression (=>\n\t({xbase::XBinaryOperation.leftOperand=current} feature=[types::JvmIdentifiableElement|OpMultiAssign])\n\trightOperand=XAssignment)?;\n\nNot THAT nice ... happens because the open paranthesis is the first possible autowrap point ...", "author": "ArneDeutsch", "createdAt": "2020-11-27T13:46:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxNDQzNw==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531614437", "bodyText": "I added autowrap before and after Actions (braces) ... this results in the following ... guess that is as good as we can get.\n@Override\nXAssignment returns xbase::XExpression:\n\t{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n\tXConditionalExpression (=>({xbase::XBinaryOperation.leftOperand=current}\n\tfeature=[types::JvmIdentifiableElement|OpMultiAssign]) rightOperand=XAssignment)?;", "author": "ArneDeutsch", "createdAt": "2020-11-27T13:52:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzYyNg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r525027626", "bodyText": "Why are the spaces kept here but not for other cases? @ArneDeutsch", "author": "szarnekow", "createdAt": "2020-11-17T09:59:55Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -488,30 +496,29 @@\n \t\tprivate final RuleCall cElseXExpressionParserRuleCall_1_2_1_0 = (RuleCall)cElseAssignment_1_2_1.eContents().get(0);\n \t\t\n \t\t//XConditionalExpression xbase::XExpression:\n-\t\t//\tXOrExpression (\n-\t\t//\t// The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n-\t\t//\t-> ({xbase::XIfExpression.if=current} conditionalExpression?='?') then=XExpression (-> ':' else=XExpression)?)?;\n+\t\t//\tXOrExpression (// The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n+\t\t//\t-> ({xbase :: XIfExpression . if= current} conditionalExpression?='?') then=XExpression (->':' else=XExpression)?)?;\n \t\t@Override public ParserRule getRule() { return rule; }\n \t\t\n-\t\t//XOrExpression ( // The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n-\t\t//-> ({xbase::XIfExpression.if=current} conditionalExpression?='?') then=XExpression (-> ':' else=XExpression)?)?\n+\t\t//XOrExpression (// The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n+\t\t//-> ({xbase :: XIfExpression . if= current} conditionalExpression?='?') then=XExpression (->':' else=XExpression)?)?\n \t\tpublic Group getGroup() { return cGroup; }\n \t\t\n \t\t//XOrExpression\n \t\tpublic RuleCall getXOrExpressionParserRuleCall_0() { return cXOrExpressionParserRuleCall_0; }\n \t\t\n-\t\t//( // The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n-\t\t//-> ({xbase::XIfExpression.if=current} conditionalExpression?='?') then=XExpression (-> ':' else=XExpression)?)?\n+\t\t//(// The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n+\t\t//-> ({xbase :: XIfExpression . if= current} conditionalExpression?='?') then=XExpression (->':' else=XExpression)?)?\n \t\tpublic Group getGroup_1() { return cGroup_1; }\n \t\t\n \t\t//// The java grammar does only allow other XConditionalExpression after the colon, but we can be more relaxed\n-\t\t//-> ({xbase::XIfExpression.if=current} conditionalExpression?='?')\n+\t\t//\t\t-> ({xbase :: XIfExpression . if= current} conditionalExpression?='?')", "originalCommit": "892a01875e4100cbfbef1e344efe0ce1b8fec7ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYwNTAyMw==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531605023", "bodyText": "Will be fixed with next commit ... recursion in actions where missing.", "author": "ArneDeutsch", "createdAt": "2020-11-27T13:34:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzYyNg=="}], "type": "inlineReview"}, {"oid": "4e3a334693f31246c5110f37b177f7423b72b601", "url": "https://github.com/eclipse/xtext-extras/commit/4e3a334693f31246c5110f37b177f7423b72b601", "message": "regenerated languages\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-11-20T15:40:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0Mzc5NQ==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528543795", "bodyText": "This is still an issue @ArneDeutsch", "author": "szarnekow", "createdAt": "2020-11-23T08:48:38Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -62,13 +62,13 @@\n \t\tprivate final Keyword cSemicolonKeyword_1_1 = (Keyword)cGroup_1.eContents().get(1);\n \t\t\n \t\t//SpecialBlockExpression xbase::XBlockExpression:\n-\t\t//\t{xbase::XBlockExpression} (expressions+=XExpressionOrVarDeclaration ';'?)*;\n+\t\t//\t{xbase :: XBlockExpression} (expressions+=XExpressionOrVarDeclaration ';'?)*;", "originalCommit": "4e3a334693f31246c5110f37b177f7423b72b601", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NDA3MA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528544070", "bodyText": "Still weird @ArneDeutsch", "author": "szarnekow", "createdAt": "2020-11-23T08:49:10Z", "path": "org.eclipse.xtext.xbase.testlanguages/src-gen/org/eclipse/xtext/xbase/testlanguages/bug462047/services/Bug462047LangGrammarAccess.java", "diffHunk": "@@ -475,8 +475,8 @@ public ParserRule getXListLiteralRule() {\n \t//XClosure XExpression:\n \t//\t=> ({XClosure}\n \t//\t'[')\n-\t//\t=> ((declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)?\n-\t//\texplicitSyntax?='|')?\n+\t//\t=> ((declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)\n+\t//\t? explicitSyntax?='|')?", "originalCommit": "4e3a334693f31246c5110f37b177f7423b72b601", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEwNTc5OQ==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r536105799", "bodyText": "The formatter does not do that. Unsure why it happens here.", "author": "ArneDeutsch", "createdAt": "2020-12-04T13:39:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NDA3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NDMwMg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528544302", "bodyText": "Still weird @ArneDeutsch\n@cdietrich Was this generated with the latest fixes applied?", "author": "szarnekow", "createdAt": "2020-11-23T08:49:39Z", "path": "org.eclipse.xtext.xbase.testlanguages/src-gen/org/eclipse/xtext/xbase/testlanguages/services/ContentAssistFragmentTestLangGrammarAccess.java", "diffHunk": "@@ -450,11 +450,11 @@ public ParserRule getOpPostfixRule() {\n \t}\n \t\n \t//XMemberFeatureCall XExpression:\n-\t//\tXPrimaryExpression (=> ({XAssignment.assignable=current} ('.' | explicitStatic?=\"::\")\n-\t//\tfeature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign) value=XAssignment\n+\t//\tXPrimaryExpression (=> ({XAssignment.assignable=current} ('.' | explicitStatic?=\"::\") feature=", "originalCommit": "4e3a334693f31246c5110f37b177f7423b72b601", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NTI1Mg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528545252", "bodyText": "thought so. will check", "author": "cdietrich", "createdAt": "2020-11-23T08:51:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NDMwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0ODkyOQ==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528548929", "bodyText": "nope this linebreak withing assignment instead of before is still there", "author": "cdietrich", "createdAt": "2020-11-23T08:58:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NDMwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxOTY1MA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531619650", "bodyText": "Added a test. With latest conmmit the following:\nXMemberFeatureCall returns XExpression:\n\tXPrimaryExpression\n\t(=>({XAssignment.assignable=current} ('.'|explicitStatic?=\"::\") feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign) value=XAssignment\n\t|=>({XMemberFeatureCall.memberCallTarget=current} (\".\"|nullSafe?=\"?.\"|explicitStatic?=\"::\"))\n\t\t('<' typeArguments+=JvmArgumentTypeReference (',' typeArguments+=JvmArgumentTypeReference)* '>')?\n\t\tfeature=[types::JvmIdentifiableElement|IdOrSuper] (\n\t\t\t=>explicitOperationCall?='('\n\t\t\t\t(\n\t\t\t\t    memberCallArguments+=XShortClosure\n\t\t\t\t  | memberCallArguments+=XExpression (',' memberCallArguments+=XExpression)*\n\t\t\t\t)?\n\t\t\t')')?\n\t\t\tmemberCallArguments+=XClosure?\n\t\t)*;\n\nwill be formatted to:\nXMemberFeatureCall returns XExpression:\n\tXPrimaryExpression\n\t(=>({XAssignment.assignable=current} ('.' | explicitStatic?=\"::\")\n\tfeature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign) value=XAssignment\n\t| =>({XMemberFeatureCall.memberCallTarget=current} (\".\" | nullSafe?=\"?.\" | explicitStatic?=\"::\"))\n\t('<' typeArguments+=JvmArgumentTypeReference (',' typeArguments+=JvmArgumentTypeReference)* '>')?\n\tfeature=[types::JvmIdentifiableElement|IdOrSuper] (=>explicitOperationCall?='('\n\t(memberCallArguments+=XShortClosure\n\t| memberCallArguments+=XExpression (',' memberCallArguments+=XExpression)*)?\n\t')')?\n\tmemberCallArguments+=XClosure?)*;\n\nThis looks expectable for me.", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:02:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0NDMwMg=="}], "type": "inlineReview"}, {"oid": "3cde7b3093987d341737393335eac9327e700a93", "url": "https://github.com/eclipse/xtext-extras/commit/3cde7b3093987d341737393335eac9327e700a93", "message": "regenerated languages\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-11-23T08:53:54Z", "type": "forcePushed"}, {"oid": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "url": "https://github.com/eclipse/xtext-extras/commit/22fc484f6c243e66ec3acdb45b698b44a93be00e", "message": "regenerated languages\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-11-23T08:56:40Z", "type": "commit"}, {"oid": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "url": "https://github.com/eclipse/xtext-extras/commit/22fc484f6c243e66ec3acdb45b698b44a93be00e", "message": "regenerated languages\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-11-23T08:56:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NDc1Mg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528554752", "bodyText": "Unexpected line-break in the assignment", "author": "szarnekow", "createdAt": "2020-11-23T09:09:25Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -401,20 +409,20 @@\n \t\t\n \t\t//@Override\n \t\t//XAssignment xbase::XExpression:\n-\t\t//\t{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n-\t\t//\tXConditionalExpression (=> ({xbase::XBinaryOperation.leftOperand=current}\n-\t\t//\tfeature=[types::JvmIdentifiableElement|OpMultiAssign]) rightOperand=XAssignment)?;\n+\t\t//\t{xbase :: XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\n+\t\t//\tXConditionalExpression (=> ({xbase :: XBinaryOperation.leftOperand=current} feature=", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYyMDY0OA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531620648", "bodyText": "Will be fixed with next commit.", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:04:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NDc1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NTA4NA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528555084", "bodyText": "Unexpected line-break before the cardinality.", "author": "szarnekow", "createdAt": "2020-11-23T09:09:58Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -994,8 +1000,8 @@ public ParserRule getXListLiteralRule() {\n \t//XClosure XExpression:\n \t//\t=> ({XClosure}\n \t//\t'[')\n-\t//\t=> ((declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)?\n-\t//\texplicitSyntax?='|')?\n+\t//\t=> ((declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)\n+\t//\t? explicitSyntax?='|')?", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYyNTQwNA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531625404", "bodyText": "This is because of the autowrap in the following code:\n\tprivate void formatParens(EObject element, IFormattableDocument doc) {\n\t\tdoc.prepend(regionFor(element).keyword(\"(\"), it -> it.autowrap());\n\t\tdoc.append(regionFor(element).keyword(\"(\"), it -> it.noSpace());\n\t\tdoc.prepend(regionFor(element).keyword(\")\"), it -> it.noSpace());\n\t\tdoc.append(regionFor(element).keyword(\")\"), it -> it.autowrap());\n\t}\n\nWe allow autowrap after paranthesis ... guess we want to have that, to break lines at reasonable places ... not sure how to make it better ...", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:14:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NTA4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYyNjU2NA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531626564", "bodyText": "Have it ... allow autowrap after the question mark as well:\n\tprivate void formatCardinality(EObject element, IFormattableDocument doc) {\n\t\tregionFor(element).keywords(\"?\", \"*\", \"+\").forEach(r -> doc.prepend(r, it -> it.noSpace()));\n\t\tregionFor(element).keywords(\"?\", \"*\", \"+\").forEach(r -> doc.append(r, it -> it.autowrap()));\n\t}", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:16:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NTA4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NTU0NA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528555544", "bodyText": "Nice improvements for the line-break before the predicate", "author": "szarnekow", "createdAt": "2020-11-23T09:10:46Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -1390,9 +1397,9 @@ public ParserRule getXFunctionTypeRefRule() {\n \t}\n \t\n \t//JvmParameterizedTypeReference:\n-\t//\ttype=[JvmType|super::QualifiedName] (=> '<' arguments+=JvmArgumentTypeReference (','\n-\t//\targuments+=JvmArgumentTypeReference)* '>' (=> ({JvmInnerTypeReference.outer=current} '.') type=[JvmType|ValidID] (=>\n-\t//\t'<' arguments+=JvmArgumentTypeReference (',' arguments+=JvmArgumentTypeReference)* '>')?)*)?;\n+\t//\ttype=[JvmType|super::QualifiedName] (=>'<' arguments+=JvmArgumentTypeReference (','\n+\t//\targuments+=JvmArgumentTypeReference)* '>' (=> ({JvmInnerTypeReference.outer=current} '.') type=[JvmType|ValidID] (\n+\t//\t=>'<' arguments+=JvmArgumentTypeReference (',' arguments+=JvmArgumentTypeReference)* '>')?)*)?;", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NTY1OQ==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528555659", "bodyText": "Nice improvement to the comment handling", "author": "szarnekow", "createdAt": "2020-11-23T09:10:59Z", "path": "org.eclipse.xtext.purexbase/src-gen/org/eclipse/xtext/purexbase/services/PureXbaseGrammarAccess.java", "diffHunk": "@@ -1330,7 +1336,8 @@ public ParserRule getNumberRule() {\n \t///**\n \t// * Dummy rule, for \"better\" downwards compatibility, since GrammarAccess generates non-static inner classes,\n \t// * which makes downstream grammars break on classloading, when a rule is removed.\n-\t// */ StaticQualifier:\n+\t// */\n+\t//StaticQualifier:", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NjE0Mg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528556142", "bodyText": "Unexpected space after the predicate if followed by a parentheses.", "author": "szarnekow", "createdAt": "2020-11-23T09:11:51Z", "path": "org.eclipse.xtext.xbase.testlanguages/src-gen/org/eclipse/xtext/xbase/testlanguages/services/ContentAssistFragmentTestLangGrammarAccess.java", "diffHunk": "@@ -544,8 +544,8 @@ public ParserRule getXExpressionInClosureRule() {\n \t}\n \t\n \t//XShortClosure XExpression:\n-\t//\t=> ({XClosure} (declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)?\n-\t//\texplicitSyntax?='|') expression=XExpression;\n+\t//\t=> ({XClosure} (declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYyODYxNA==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531628614", "bodyText": "Will be fixed with next commit by allowing autowrap after question mark.", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:20:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NjE0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NzI0NQ==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528557245", "bodyText": "Unexpected line-break after the opening parenthesis if there is no line-break before the closing parenthesis and no indentation applied. To be discussed if we want to do something about this and if so, what we want to do about this.", "author": "szarnekow", "createdAt": "2020-11-23T09:13:52Z", "path": "org.eclipse.xtext.xbase/src-gen/org/eclipse/xtext/xbase/annotations/services/XbaseWithAnnotationsGrammarAccess.java", "diffHunk": "@@ -54,15 +54,17 @@\n \t\t\n \t\t//XAnnotation:\n \t\t//\t{XAnnotation}\n-\t\t//\t'@' annotationType=[types::JvmAnnotationType|QualifiedName] (=> '(' (elementValuePairs+=XAnnotationElementValuePair\n-\t\t//\t(',' elementValuePairs+=XAnnotationElementValuePair)*\n+\t\t//\t'@' annotationType=[types::JvmAnnotationType|QualifiedName] (=>'(' (elementValuePairs+=XAnnotationElementValuePair (", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYzMTc4NQ==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531631785", "bodyText": "With latest patch the following\nXAnnotation :\n\t{XAnnotation}\n\t'@' annotationType=[types::JvmAnnotationType | QualifiedName] (=>'('\n\t\t(\n\t\t\telementValuePairs+=XAnnotationElementValuePair (',' elementValuePairs+=XAnnotationElementValuePair)*\n\t\t|\tvalue=XAnnotationElementValueOrCommaList\n\t\t)?\n\t')')?\n;\n\nwill result in\nXAnnotation:\n\t{XAnnotation}\n\t'@' annotationType=[types::JvmAnnotationType|QualifiedName] (=>'('\n\t(elementValuePairs+=XAnnotationElementValuePair (',' elementValuePairs+=XAnnotationElementValuePair)*\n\t| value=XAnnotationElementValueOrCommaList)?\n\t')')?;\n\nLooks ok for me.", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:26:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1NzI0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1ODA4Mg==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r528558082", "bodyText": "I think I mentioned it before: Unexpected space after the assignment operator.", "author": "szarnekow", "createdAt": "2020-11-23T09:15:08Z", "path": "org.eclipse.xtext.xbase/src-gen/org/eclipse/xtext/xbase/annotations/services/XbaseWithAnnotationsGrammarAccess.java", "diffHunk": "@@ -241,16 +244,16 @@\n \t\t//']'\n \t\tpublic Keyword getRightSquareBracketKeyword_0_2() { return cRightSquareBracketKeyword_0_2; }\n \t\t\n-\t\t//XAnnotationOrExpression ({xbase::XListLiteral.elements+=current} (',' elements+=XAnnotationOrExpression)+)?\n+\t\t//XAnnotationOrExpression ({xbase :: XListLiteral.elements+= current} (',' elements+=XAnnotationOrExpression)+)?\n \t\tpublic Group getGroup_1() { return cGroup_1; }\n \t\t\n \t\t//XAnnotationOrExpression\n \t\tpublic RuleCall getXAnnotationOrExpressionParserRuleCall_1_0() { return cXAnnotationOrExpressionParserRuleCall_1_0; }\n \t\t\n-\t\t//({xbase::XListLiteral.elements+=current} (',' elements+=XAnnotationOrExpression)+)?\n+\t\t//({xbase :: XListLiteral.elements+= current} (',' elements+=XAnnotationOrExpression)+)?", "originalCommit": "22fc484f6c243e66ec3acdb45b698b44a93be00e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYzMjE3Ng==", "url": "https://github.com/eclipse/xtext-extras/pull/665#discussion_r531632176", "bodyText": "Missing recursion, will be fixed with next commit.", "author": "ArneDeutsch", "createdAt": "2020-11-27T14:27:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU1ODA4Mg=="}], "type": "inlineReview"}]}