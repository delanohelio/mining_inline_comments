{"pr_number": 8082, "pr_title": "Implement lib-project #8068", "pr_createdAt": "2020-05-13T17:24:28Z", "pr_url": "https://github.com/enonic/xp/pull/8082", "timeline": [{"oid": "85b07d453da6f8f9cdae1a2f437f57c1ae8cba3d", "url": "https://github.com/enonic/xp/commit/85b07d453da6f8f9cdae1a2f437f57c1ae8cba3d", "message": "Implement lib-project #8068", "committedDate": "2020-05-13T17:23:41Z", "type": "commit"}, {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "url": "https://github.com/enonic/xp/commit/e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "message": "Fixed small codacy issues (#8068)", "committedDate": "2020-05-14T06:37:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgwMw==", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903803", "bodyText": "Issue found: Unexpected use of undefined.", "author": "jsi", "createdAt": "2020-05-14T06:42:34Z", "path": "modules/lib/lib-project/src/main/resources/lib/xp/project.js", "diffHunk": "@@ -0,0 +1,200 @@\n+/**\n+ * Functions to manage Content Projects.\n+ *\n+ * @example\n+ * var projectLib = require('/lib/xp/project');\n+ *\n+ * @module project\n+ */\n+\n+/* global __ */\n+\n+function required(params, name) {\n+    var value = params[name];\n+    if (value === undefined) {\n+        throw 'Parameter \\'' + name + '\\' is required';\n+    }\n+\n+    return value;\n+}\n+\n+function nullOrValue(value) {\n+    if (value === undefined) {", "originalCommit": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgwOQ==", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903809", "bodyText": "Issue found: Variable Assigned to Object Injection Sink", "author": "jsi", "createdAt": "2020-05-14T06:42:35Z", "path": "modules/lib/lib-project/src/main/resources/lib/xp/project.js", "diffHunk": "@@ -0,0 +1,200 @@\n+/**\n+ * Functions to manage Content Projects.\n+ *\n+ * @example\n+ * var projectLib = require('/lib/xp/project');\n+ *\n+ * @module project\n+ */\n+\n+/* global __ */\n+\n+function required(params, name) {\n+    var value = params[name];", "originalCommit": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgyMA==", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903820", "bodyText": "Issue found: Missing semicolon.", "author": "jsi", "createdAt": "2020-05-14T06:42:36Z", "path": "modules/lib/lib-project/src/main/resources/lib/xp/examples/project/delete.js", "diffHunk": "@@ -0,0 +1,28 @@\n+// BEGIN\n+// Deletes an existing content project\n+var projectLib = require('/lib/xp/project');\n+var result = projectLib.delete({\n+    id: 'my-project'\n+});\n+// END\n+\n+// BEGIN\n+// Deletes an existing content project inside context with `system.admin` role\n+var projectLib2 = require('/lib/xp/project');\n+var contextLib = require('/lib/xp/context');\n+\n+var deleteProject = function () {\n+    return projectLib2.delete({\n+        id: 'my-project'\n+    });\n+}", "originalCommit": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgzMw==", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903833", "bodyText": "Issue found: 'log' is not defined.", "author": "jsi", "createdAt": "2020-05-14T06:42:37Z", "path": "modules/lib/lib-project/src/main/resources/lib/xp/examples/project/create.js", "diffHunk": "@@ -0,0 +1,96 @@\n+// BEGIN\n+// Creates a Content Project with minimal properties\n+var projectLib = require('/lib/xp/project');\n+try {\n+    var project = projectLib.create({\n+        id: 'my-project',\n+        displayName: 'My Content Project',\n+        readAccess: {\n+            public: true\n+        }\n+    });\n+} catch (e) {\n+    log.error('Failed to create a project: ' + e);", "originalCommit": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}