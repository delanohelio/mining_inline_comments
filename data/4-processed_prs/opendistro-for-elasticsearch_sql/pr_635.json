{"pr_number": 635, "pr_title": "Add comparsion operator for SQL", "pr_createdAt": "2020-07-29T22:02:23Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635", "timeline": [{"oid": "c6fb336fb9b76de7a52c402ffc5a0b10b76f5348", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/c6fb336fb9b76de7a52c402ffc5a0b10b76f5348", "message": "Add comparsion operator for SQL", "committedDate": "2020-07-29T21:50:15Z", "type": "commit"}, {"oid": "c5608ddbe84d7861c9c365c5a66c46cdd4458dff", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/c5608ddbe84d7861c9c365c5a66c46cdd4458dff", "message": "Merge branch 'develop' into pr-operator-enhancement", "committedDate": "2020-07-29T21:59:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4NTk3Ng==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463185976", "bodyText": "Duplicate?", "author": "dai-chen", "createdAt": "2020-07-30T18:20:16Z", "path": "docs/user/index.rst", "diffHunk": "@@ -22,6 +22,8 @@ Open Distro for Elasticsearch SQL enables you to extract insights out of Elastic\n   - `Identifiers <general/identifiers.rst>`_\n   - `Data Types <general/datatype.rst>`_\n \n+  - `Data Types <general/datatype.rst>`_", "originalCommit": "c5608ddbe84d7861c9c365c5a66c46cdd4458dff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI2NjYzMQ==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463266631", "bodyText": "Done.", "author": "penghuo", "createdAt": "2020-07-30T20:56:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4NTk3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4NjgxNg==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463186816", "bodyText": "np: should be :: here and below?", "author": "dai-chen", "createdAt": "2020-07-30T18:21:54Z", "path": "docs/user/dql/expressions.rst", "diffHunk": "@@ -92,6 +92,83 @@ Here is an example for different type of arithmetic expressions::\n     | 3       | 2           | 2           |\n     +---------+-------------+-------------+\n \n+Comparison Operators\n+==================================\n+\n+Description\n+-----------\n+\n+Comparison operators are used to compare values. The MISSING and NULL value comparison has following the rule. MISSING value only equal to MISSING value and less than all the other values. NULL value equals to NULL value, large than MISSING value, but less than all the other values.\n+\n+Operators\n+`````````\n+\n++----------------+--------------------------------+\n+| name           | description                    |\n++----------------+--------------------------------+\n+| >              | Greater than operator          |\n++----------------+--------------------------------+\n+| >=             | Greater than or equal operator |\n++----------------+--------------------------------+\n+| <              | Less than operator             |\n++----------------+--------------------------------+\n+| !=             | Not equal operator             |\n++----------------+--------------------------------+\n+| <=             | Less than or equal operator    |\n++----------------+--------------------------------+\n+| =              | Equal operator                 |\n++----------------+--------------------------------+\n+| LIKE           | Simple pattern matching        |\n++----------------+--------------------------------+\n+| IS NULL        | NULL value test                |\n++----------------+--------------------------------+\n+| IS NOT NULL    | NOT NULL value test            |\n++----------------+--------------------------------+\n+| IS MISSING     | MISSING value test             |\n++----------------+--------------------------------+\n+| IS NOT MISSING | NOT MISSING value test         |\n++----------------+--------------------------------+\n+\n+\n+Basic Comparison Operator\n+-------------------------\n+\n+Here is an example for different type of comparison operators::::", "originalCommit": "c5608ddbe84d7861c9c365c5a66c46cdd4458dff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI2NzE3MQ==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463267171", "bodyText": "Done.", "author": "penghuo", "createdAt": "2020-07-30T20:58:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4NjgxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5MDM3MA==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463190370", "bodyText": "So 1 < NULL returns FALSE now?", "author": "dai-chen", "createdAt": "2020-07-30T18:28:16Z", "path": "core/src/test/java/com/amazon/opendistroforelasticsearch/sql/expression/operator/predicate/BinaryPredicateOperatorTest.java", "diffHunk": "@@ -458,46 +458,46 @@ public void test_less_null() {\n     FunctionExpression less = dsl.less(DSL.literal(1),\n         DSL.ref(INT_TYPE_NULL_VALUE_FIELD, INTEGER));\n     assertEquals(BOOLEAN, less.type());\n-    assertEquals(LITERAL_NULL, less.valueOf(valueEnv()));\n+    assertEquals(LITERAL_FALSE, less.valueOf(valueEnv()));", "originalCommit": "c5608ddbe84d7861c9c365c5a66c46cdd4458dff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI2ODA3Nw==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463268077", "bodyText": "This is the default order in our system.\nNULL equal to NULL\nNULL large than MISSING\nNULL less than all others.\nIn Order By, the user can also specify the order of NULL and MISSING.", "author": "penghuo", "createdAt": "2020-07-30T20:59:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5MDM3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY5MDMyNw==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/635#discussion_r463690327", "bodyText": "Got your point, change the logic, follow the MySQL way now.\nhttps://dev.mysql.com/doc/refman/8.0/en/working-with-null.html", "author": "penghuo", "createdAt": "2020-07-31T15:50:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5MDM3MA=="}], "type": "inlineReview"}, {"oid": "a1c9d031f914f402583dde9dcda69e8dc91de58b", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/a1c9d031f914f402583dde9dcda69e8dc91de58b", "message": "address comments", "committedDate": "2020-07-30T21:00:02Z", "type": "commit"}, {"oid": "2f3615bb3e2f88fb1c4ec794035ff327c4cf43b9", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/2f3615bb3e2f88fb1c4ec794035ff327c4cf43b9", "message": "address comments", "committedDate": "2020-07-30T23:29:08Z", "type": "commit"}, {"oid": "f17208387be564868c998e1f48010024de29ca46", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/f17208387be564868c998e1f48010024de29ca46", "message": "update", "committedDate": "2020-07-31T00:48:53Z", "type": "commit"}]}