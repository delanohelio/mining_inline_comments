{"pr_number": 1070, "pr_title": "HmsMessageService.onMessageReceived displaying", "pr_createdAt": "2020-06-18T08:26:00Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI4MDkwMA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#discussion_r442280900", "bodyText": "Remove extra new line", "author": "mikechoch", "createdAt": "2020-06-18T14:42:54Z", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/HmsMessageServiceOneSignal.java", "diffHunk": "@@ -16,4 +17,18 @@ public void onNewToken(String token) {\n         PushRegistratorHMS.fireCallback(token);\r\n     }\r\n \r\n+    /**\r\n+     * This method is called in the following cases:\r\n+     *   1. \"Data messages\" - App process is alive when received.\r\n+     *   2. \"Notification Message\" - foreground_show = false and app is in focus\r\n+     * This method callback must be completed in 10 seconds, start a new Job if more time is needed.\r\n+     *   - This may only be a restriction for #1\r\n+     *   - 10 sec limit didn't seem to hit for #2, even when backgrounding the app after the method starts\r\n+     *\r", "originalCommit": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI4NDExNA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#discussion_r443284114", "bodyText": "Fixed", "author": "jkasten2", "createdAt": "2020-06-22T01:55:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI4MDkwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI4MTcyNQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#discussion_r442281725", "bodyText": "Capitol first letter JsonStringToBundle?\njsonStringToBundle?\nconvertJsonStringToBundle?", "author": "mikechoch", "createdAt": "2020-06-18T14:43:59Z", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSUtils.java", "diffHunk": "@@ -633,6 +634,23 @@ static boolean hasConfigChangeFlag(Activity activity, int configChangeFlag) {\n       return result;\n    }\n \n+   static @Nullable Bundle JsonStringToBundle(@NonNull String data) {", "originalCommit": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI4NDEyNg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#discussion_r443284126", "bodyText": "Fixed", "author": "jkasten2", "createdAt": "2020-06-22T01:56:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI4MTcyNQ=="}], "type": "inlineReview"}, {"oid": "4da2f85a29bfcb50fd1d68942235644ea79e18e7", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/4da2f85a29bfcb50fd1d68942235644ea79e18e7", "message": "HmsMessageService.onMessageReceived displaying\n\n* Now if an HMS \"Data Message\" is recieved in the OneSignal format it\nwill be processed through the normal flow like GCM / FCM messages do.\n   -  All features we support for FCM Android notificatons now apply to\n         these types.", "committedDate": "2020-06-20T01:23:59Z", "type": "commit"}, {"oid": "4da2f85a29bfcb50fd1d68942235644ea79e18e7", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/4da2f85a29bfcb50fd1d68942235644ea79e18e7", "message": "HmsMessageService.onMessageReceived displaying\n\n* Now if an HMS \"Data Message\" is recieved in the OneSignal format it\nwill be processed through the normal flow like GCM / FCM messages do.\n   -  All features we support for FCM Android notificatons now apply to\n         these types.", "committedDate": "2020-06-20T01:23:59Z", "type": "forcePushed"}, {"oid": "d966e9e832b4a52fea94cb55c96ee4bacafe0d76", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d966e9e832b4a52fea94cb55c96ee4bacafe0d76", "message": "Basic integration tests for HMS data msg received\n\n* Tests included:\n   - Can handle null data\n   - Can handle \"\" data\n   - Displays notification when alert is present\n* Added null handling for data payload.", "committedDate": "2020-06-22T01:55:34Z", "type": "commit"}]}