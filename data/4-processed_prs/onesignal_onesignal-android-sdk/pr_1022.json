{"pr_number": 1022, "pr_title": "Added HMS Notif Open Activity", "pr_createdAt": "2020-05-19T03:47:16Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022", "timeline": [{"oid": "aee5894091552f41a8b7f27c61a898add5ff7ba3", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/aee5894091552f41a8b7f27c61a898add5ff7ba3", "message": "Added HMS Notif Open Activity\n\n* This is the entry point when tapping on a HMS core notification\n* This has to be it's own Activity separate from NotificationOpenedActivity\nsince we do not have full control over the Bundle", "committedDate": "2020-05-19T03:52:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyMjgyOA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r428322828", "bodyText": "can we remove this enters? or are we changing the convention?", "author": "Jeasmine", "createdAt": "2020-05-20T21:39:22Z", "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/NotificationOpenedActivityHMSIntegrationTestsRunner.java", "diffHunk": "@@ -0,0 +1,125 @@\n+package com.test.onesignal;\r\n+\r\n+import android.app.Activity;\r\n+import android.content.Intent;\r\n+import android.support.annotation.NonNull;\r\n+\r\n+import com.onesignal.NotificationOpenedActivityHMS;\r\n+import com.onesignal.OneSignal;\r\n+import com.onesignal.ShadowCustomTabsClient;\r\n+import com.onesignal.ShadowCustomTabsSession;\r\n+import com.onesignal.ShadowOSUtils;\r\n+import com.onesignal.ShadowOSViewUtils;\r\n+import com.onesignal.ShadowOSWebView;\r\n+import com.onesignal.ShadowOneSignalRestClient;\r\n+import com.onesignal.StaticResetHelper;\r\n+import com.onesignal.example.BlankActivity;\r\n+\r\n+import org.json.JSONObject;\r\n+import org.junit.Before;\r\n+import org.junit.BeforeClass;\r\n+import org.junit.Test;\r\n+import org.junit.runner.RunWith;\r\n+import org.robolectric.Robolectric;\r\n+import org.robolectric.RobolectricTestRunner;\r\n+import org.robolectric.RuntimeEnvironment;\r\n+import org.robolectric.annotation.Config;\r\n+import org.robolectric.shadows.ShadowLog;\r\n+\r\n+import java.util.UUID;\r\n+\r\n+import static com.onesignal.InAppMessagingHelpers.ONESIGNAL_APP_ID;\r\n+import static com.test.onesignal.TestHelpers.fastColdRestartApp;\r\n+import static com.test.onesignal.TestHelpers.threadAndTaskWait;\r\n+import static junit.framework.Assert.assertEquals;\r\n+import static org.robolectric.Shadows.shadowOf;\r\n+\r\n+\r\n+@Config(packageName = \"com.onesignal.example\",\r\n+    instrumentedPackages = { \"com.onesignal\" },\r\n+    shadows = {\r\n+        ShadowOSUtils.class,\r\n+        ShadowOneSignalRestClient.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowOSWebView.class,\r\n+        ShadowOSViewUtils.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowCustomTabsSession.class\r\n+    },\r\n+    sdk = 26\r\n+)\r\n+\r", "originalCommit": "5eb462d8d7209dca82ff6e7da4527f12601e9774", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYyMTQ5NQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r435621495", "bodyText": "Fixed!", "author": "jkasten2", "createdAt": "2020-06-05T00:02:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyMjgyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNDQzNQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r428324435", "bodyText": "FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET is deprecated, and why is needed?", "author": "Jeasmine", "createdAt": "2020-05-20T21:42:29Z", "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/NotificationOpenedActivityHMSIntegrationTestsRunner.java", "diffHunk": "@@ -0,0 +1,125 @@\n+package com.test.onesignal;\r\n+\r\n+import android.app.Activity;\r\n+import android.content.Intent;\r\n+import android.support.annotation.NonNull;\r\n+\r\n+import com.onesignal.NotificationOpenedActivityHMS;\r\n+import com.onesignal.OneSignal;\r\n+import com.onesignal.ShadowCustomTabsClient;\r\n+import com.onesignal.ShadowCustomTabsSession;\r\n+import com.onesignal.ShadowOSUtils;\r\n+import com.onesignal.ShadowOSViewUtils;\r\n+import com.onesignal.ShadowOSWebView;\r\n+import com.onesignal.ShadowOneSignalRestClient;\r\n+import com.onesignal.StaticResetHelper;\r\n+import com.onesignal.example.BlankActivity;\r\n+\r\n+import org.json.JSONObject;\r\n+import org.junit.Before;\r\n+import org.junit.BeforeClass;\r\n+import org.junit.Test;\r\n+import org.junit.runner.RunWith;\r\n+import org.robolectric.Robolectric;\r\n+import org.robolectric.RobolectricTestRunner;\r\n+import org.robolectric.RuntimeEnvironment;\r\n+import org.robolectric.annotation.Config;\r\n+import org.robolectric.shadows.ShadowLog;\r\n+\r\n+import java.util.UUID;\r\n+\r\n+import static com.onesignal.InAppMessagingHelpers.ONESIGNAL_APP_ID;\r\n+import static com.test.onesignal.TestHelpers.fastColdRestartApp;\r\n+import static com.test.onesignal.TestHelpers.threadAndTaskWait;\r\n+import static junit.framework.Assert.assertEquals;\r\n+import static org.robolectric.Shadows.shadowOf;\r\n+\r\n+\r\n+@Config(packageName = \"com.onesignal.example\",\r\n+    instrumentedPackages = { \"com.onesignal\" },\r\n+    shadows = {\r\n+        ShadowOSUtils.class,\r\n+        ShadowOneSignalRestClient.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowOSWebView.class,\r\n+        ShadowOSViewUtils.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowCustomTabsSession.class\r\n+    },\r\n+    sdk = 26\r\n+)\r\n+\r\n+\r\n+@RunWith(RobolectricTestRunner.class)\r\n+public class NotificationOpenedActivityHMSIntegrationTestsRunner {\r\n+\r\n+    @BeforeClass // Runs only once, before any tests\r\n+    public static void setUpClass() throws Exception {\r\n+        ShadowLog.stream = System.out;\r\n+        TestHelpers.beforeTestSuite();\r\n+        StaticResetHelper.saveStaticValues();\r\n+    }\r\n+\r\n+    @Before\r\n+    public void beforeEachTest() throws Exception {\r\n+        TestHelpers.beforeTestInitAndCleanup();\r\n+    }\r\n+\r\n+    private static Intent helper_baseHMSOpenIntent() {\r\n+        return new Intent()\r\n+                .setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET | Intent.FLAG_ACTIVITY_MULTIPLE_TASK | Intent.FLAG_ACTIVITY_NEW_TASK)\r", "originalCommit": "5eb462d8d7209dca82ff6e7da4527f12601e9774", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ0ODEzNw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r433448137", "bodyText": "He explains the reason for these flags in the comment in this PR\n// HMS Core creates a notification with an Intent when opened to start this Activity.\n//   Intent is defined via OneSignal's backend and is sent to HMS.\n// This has to be it's own Activity separate from NotificationOpenedActivity since\n//   we do not have full control over the Bundle.\n// Designed to be started with these flags\n// Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET | Intent.FLAG_ACTIVITY_MULTIPLE_TASK | Intent.FLAG_ACTIVITY_NEW_TASK\n// This way if app developer does not want the app to launch then it won't do so", "author": "mikechoch", "createdAt": "2020-06-01T19:40:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNDQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU2NDA0NQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r433564045", "bodyText": "yeah I saw that but was curious if there were other reason because that flag is deprecated and in the docs said to use FLAG_ACTIVITY_NEW_DOCUMENT but doesn't make sense to me for this scenario \ud83e\udd14", "author": "Jeasmine", "createdAt": "2020-06-02T00:54:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNDQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTY3NzU4MQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r435677581", "bodyText": "In testing found out that FLAG_ACTIVITY_NEW_TASK | FLAG_ACTIVITY_MULTIPLE_TASK provides the requirement of \"Allows the app developer to omit foregrounding the app if they choose\".", "author": "jkasten2", "createdAt": "2020-06-05T04:00:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNDQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTY3NzkzMw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r435677933", "bodyText": "I also added even more detail to the comment at the top of NotificationOpenedActivityHMS.java on the requirements and what does not work and why for future reference incase of a refactor of these flags.", "author": "jkasten2", "createdAt": "2020-06-05T04:02:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNDQzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNTMyOA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r428325328", "bodyText": "this combination Intent.FLAG_ACTIVITY_MULTIPLE_TASK | Intent.FLAG_ACTIVITY_NEW_TASK is forcing to always create a new task, can this lead to having 2 instances at the same time?", "author": "Jeasmine", "createdAt": "2020-05-20T21:44:41Z", "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/NotificationOpenedActivityHMSIntegrationTestsRunner.java", "diffHunk": "@@ -0,0 +1,125 @@\n+package com.test.onesignal;\r\n+\r\n+import android.app.Activity;\r\n+import android.content.Intent;\r\n+import android.support.annotation.NonNull;\r\n+\r\n+import com.onesignal.NotificationOpenedActivityHMS;\r\n+import com.onesignal.OneSignal;\r\n+import com.onesignal.ShadowCustomTabsClient;\r\n+import com.onesignal.ShadowCustomTabsSession;\r\n+import com.onesignal.ShadowOSUtils;\r\n+import com.onesignal.ShadowOSViewUtils;\r\n+import com.onesignal.ShadowOSWebView;\r\n+import com.onesignal.ShadowOneSignalRestClient;\r\n+import com.onesignal.StaticResetHelper;\r\n+import com.onesignal.example.BlankActivity;\r\n+\r\n+import org.json.JSONObject;\r\n+import org.junit.Before;\r\n+import org.junit.BeforeClass;\r\n+import org.junit.Test;\r\n+import org.junit.runner.RunWith;\r\n+import org.robolectric.Robolectric;\r\n+import org.robolectric.RobolectricTestRunner;\r\n+import org.robolectric.RuntimeEnvironment;\r\n+import org.robolectric.annotation.Config;\r\n+import org.robolectric.shadows.ShadowLog;\r\n+\r\n+import java.util.UUID;\r\n+\r\n+import static com.onesignal.InAppMessagingHelpers.ONESIGNAL_APP_ID;\r\n+import static com.test.onesignal.TestHelpers.fastColdRestartApp;\r\n+import static com.test.onesignal.TestHelpers.threadAndTaskWait;\r\n+import static junit.framework.Assert.assertEquals;\r\n+import static org.robolectric.Shadows.shadowOf;\r\n+\r\n+\r\n+@Config(packageName = \"com.onesignal.example\",\r\n+    instrumentedPackages = { \"com.onesignal\" },\r\n+    shadows = {\r\n+        ShadowOSUtils.class,\r\n+        ShadowOneSignalRestClient.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowOSWebView.class,\r\n+        ShadowOSViewUtils.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowCustomTabsSession.class\r\n+    },\r\n+    sdk = 26\r\n+)\r\n+\r\n+\r\n+@RunWith(RobolectricTestRunner.class)\r\n+public class NotificationOpenedActivityHMSIntegrationTestsRunner {\r\n+\r\n+    @BeforeClass // Runs only once, before any tests\r\n+    public static void setUpClass() throws Exception {\r\n+        ShadowLog.stream = System.out;\r\n+        TestHelpers.beforeTestSuite();\r\n+        StaticResetHelper.saveStaticValues();\r\n+    }\r\n+\r\n+    @Before\r\n+    public void beforeEachTest() throws Exception {\r\n+        TestHelpers.beforeTestInitAndCleanup();\r\n+    }\r\n+\r\n+    private static Intent helper_baseHMSOpenIntent() {\r\n+        return new Intent()\r\n+                .setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET | Intent.FLAG_ACTIVITY_MULTIPLE_TASK | Intent.FLAG_ACTIVITY_NEW_TASK)\r", "originalCommit": "5eb462d8d7209dca82ff6e7da4527f12601e9774", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ0ODIxNw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r433448217", "bodyText": "idem", "author": "mikechoch", "createdAt": "2020-06-01T19:40:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNTMyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTY3NzYxNw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r435677617", "bodyText": "In testing found out that FLAG_ACTIVITY_NEW_TASK | FLAG_ACTIVITY_MULTIPLE_TASK provides the requirement of \"Allows the app developer to omit foregrounding the app if they choose\".\nWe always want to create a new task so it doesn't resume some existing task. If it resumes an existing task then it won't be possible to prevent the app from showing. Some developer want to process the click in the background without bring the app to the foreground.", "author": "jkasten2", "createdAt": "2020-06-05T04:00:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNTMyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjM5NA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r428326394", "bodyText": "this class should test everything around notifications? how will this operate with notifications tracking etc? should we test that?", "author": "Jeasmine", "createdAt": "2020-05-20T21:46:58Z", "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/NotificationOpenedActivityHMSIntegrationTestsRunner.java", "diffHunk": "@@ -0,0 +1,125 @@\n+package com.test.onesignal;\r\n+\r\n+import android.app.Activity;\r\n+import android.content.Intent;\r\n+import android.support.annotation.NonNull;\r\n+\r\n+import com.onesignal.NotificationOpenedActivityHMS;\r\n+import com.onesignal.OneSignal;\r\n+import com.onesignal.ShadowCustomTabsClient;\r\n+import com.onesignal.ShadowCustomTabsSession;\r\n+import com.onesignal.ShadowOSUtils;\r\n+import com.onesignal.ShadowOSViewUtils;\r\n+import com.onesignal.ShadowOSWebView;\r\n+import com.onesignal.ShadowOneSignalRestClient;\r\n+import com.onesignal.StaticResetHelper;\r\n+import com.onesignal.example.BlankActivity;\r\n+\r\n+import org.json.JSONObject;\r\n+import org.junit.Before;\r\n+import org.junit.BeforeClass;\r\n+import org.junit.Test;\r\n+import org.junit.runner.RunWith;\r\n+import org.robolectric.Robolectric;\r\n+import org.robolectric.RobolectricTestRunner;\r\n+import org.robolectric.RuntimeEnvironment;\r\n+import org.robolectric.annotation.Config;\r\n+import org.robolectric.shadows.ShadowLog;\r\n+\r\n+import java.util.UUID;\r\n+\r\n+import static com.onesignal.InAppMessagingHelpers.ONESIGNAL_APP_ID;\r\n+import static com.test.onesignal.TestHelpers.fastColdRestartApp;\r\n+import static com.test.onesignal.TestHelpers.threadAndTaskWait;\r\n+import static junit.framework.Assert.assertEquals;\r\n+import static org.robolectric.Shadows.shadowOf;\r\n+\r\n+\r\n+@Config(packageName = \"com.onesignal.example\",\r\n+    instrumentedPackages = { \"com.onesignal\" },\r\n+    shadows = {\r\n+        ShadowOSUtils.class,\r\n+        ShadowOneSignalRestClient.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowOSWebView.class,\r\n+        ShadowOSViewUtils.class,\r\n+        ShadowCustomTabsClient.class,\r\n+        ShadowCustomTabsSession.class\r\n+    },\r\n+    sdk = 26\r\n+)\r\n+\r\n+\r\n+@RunWith(RobolectricTestRunner.class)\r\n+public class NotificationOpenedActivityHMSIntegrationTestsRunner {\r\n+\r\n+    @BeforeClass // Runs only once, before any tests\r\n+    public static void setUpClass() throws Exception {\r\n+        ShadowLog.stream = System.out;\r\n+        TestHelpers.beforeTestSuite();\r\n+        StaticResetHelper.saveStaticValues();\r\n+    }\r\n+\r\n+    @Before\r\n+    public void beforeEachTest() throws Exception {\r\n+        TestHelpers.beforeTestInitAndCleanup();\r\n+    }\r\n+\r\n+    private static Intent helper_baseHMSOpenIntent() {\r\n+        return new Intent()\r\n+                .setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET | Intent.FLAG_ACTIVITY_MULTIPLE_TASK | Intent.FLAG_ACTIVITY_NEW_TASK)\r\n+                .setAction(\"android.intent.action.VIEW\");\r\n+    }\r\n+\r\n+    private static void helper_startHMSOpenActivity(@NonNull Intent intent) {\r\n+        Robolectric.buildActivity(NotificationOpenedActivityHMS.class, intent).create();\r\n+    }\r\n+\r\n+    // Since the Activity has to be public it could be started outside of a OneSignal flow.\r\n+    // Ensure it doesn't crash the app.\r\n+    @Test\r\n+    public void emptyIntent_doesNotThrow() {\r\n+        helper_startHMSOpenActivity(helper_baseHMSOpenIntent());\r\n+    }\r\n+\r\n+    @Test\r\n+    public void barebonesOSPayload_startsMainActivity() throws Exception {\r", "originalCommit": "5eb462d8d7209dca82ff6e7da4527f12601e9774", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ0ODg4Mg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r433448882", "bodyText": "This is only for HMS notifications, but still good question bringing up tracking @Jeasmine", "author": "mikechoch", "createdAt": "2020-06-01T19:42:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjM5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYyMDgzOA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r435620838", "bodyText": "Added a test to ensure notification open REST API is made since this is a very important one.\nWe should come up with a pattern that will allow us to run the same asserts for FCM, HMS, and ADM opens so we don't need to repeat code. We should defer doing this outside of this PR though", "author": "jkasten2", "createdAt": "2020-06-04T23:59:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjM5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjAyOTI0OQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1022#discussion_r436029249", "bodyText": "Agree with having test for all platforms as a generic way!", "author": "Jeasmine", "createdAt": "2020-06-05T16:24:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjM5NA=="}], "type": "inlineReview"}, {"oid": "361cba216edbf6ae137e77aa64dcd323c5178726", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/361cba216edbf6ae137e77aa64dcd323c5178726", "message": "Added HMS open integration tests\n\n* Covers empty intent\n* Bare bones OneSignal paylaod\n* IAM Preview", "committedDate": "2020-06-04T23:34:24Z", "type": "forcePushed"}, {"oid": "449ac06ff2250411c8d1349a28a6d9176c815640", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/449ac06ff2250411c8d1349a28a6d9176c815640", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-05T04:16:06Z", "type": "forcePushed"}, {"oid": "a9ee78935114ed80addbb20267de2e147e9b7930", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/a9ee78935114ed80addbb20267de2e147e9b7930", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-05T04:49:38Z", "type": "forcePushed"}, {"oid": "2357d1a3aa7f7957242cf90142ddeeeb8fabb514", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/2357d1a3aa7f7957242cf90142ddeeeb8fabb514", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-05T05:00:50Z", "type": "forcePushed"}, {"oid": "9341758af638820d58f8800d1720c49e6085d154", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/9341758af638820d58f8800d1720c49e6085d154", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-05T05:17:55Z", "type": "forcePushed"}, {"oid": "572a1478e0281f737334388bdfbe6beda90ea962", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/572a1478e0281f737334388bdfbe6beda90ea962", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-05T07:02:34Z", "type": "forcePushed"}, {"oid": "93deaf4d521b42806196c26d2274762d426573f2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/93deaf4d521b42806196c26d2274762d426573f2", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-09T23:57:36Z", "type": "forcePushed"}, {"oid": "ccff53953aa9d27509c9034dcea6c0c5b1755d2c", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/ccff53953aa9d27509c9034dcea6c0c5b1755d2c", "message": "Added HMS Notif Open Activity\n\n* This is the entry point when tapping on a HMS core notification\n* This has to be it's own Activity separate from NotificationOpenedActivity\nsince we do not have full control over the Bundle", "committedDate": "2020-06-10T02:04:11Z", "type": "commit"}, {"oid": "f632ea5e5589b62ae20d1b7a6b151100651c2710", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/f632ea5e5589b62ae20d1b7a6b151100651c2710", "message": "Added HMS open integration tests\n\n* Covers empty intent\n* Bare bones OneSignal paylaod\n* IAM Preview", "committedDate": "2020-06-10T02:04:11Z", "type": "commit"}, {"oid": "0a3eb7a6d2e5ce154f41cc8df31b28baf61db15b", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/0a3eb7a6d2e5ce154f41cc8df31b28baf61db15b", "message": "Test for HMS notification open REST API call", "committedDate": "2020-06-10T02:04:11Z", "type": "commit"}, {"oid": "1599ad488ef7fa85f9196f05317b49768f381ae6", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/1599ad488ef7fa85f9196f05317b49768f381ae6", "message": "Adding manifest entries for HMS classes\n\n* Added notification open handling", "committedDate": "2020-06-10T02:04:11Z", "type": "commit"}, {"oid": "6c1823c4fdb60f83f3de734e3f83a7ae23e66ee4", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/6c1823c4fdb60f83f3de734e3f83a7ae23e66ee4", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-10T02:04:11Z", "type": "commit"}, {"oid": "6c1823c4fdb60f83f3de734e3f83a7ae23e66ee4", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/6c1823c4fdb60f83f3de734e3f83a7ae23e66ee4", "message": "Correct NotificationOpenedActivityHMS intent flags\n\n* Removed used of deperated flag\n* Added more comments on why the specific flags are needed.", "committedDate": "2020-06-10T02:04:11Z", "type": "forcePushed"}]}