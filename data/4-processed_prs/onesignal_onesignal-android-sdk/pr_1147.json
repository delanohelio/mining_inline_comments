{"pr_number": 1147, "pr_title": "Add toJSONObject to missing public classes", "pr_createdAt": "2020-09-14T21:27:22Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147", "timeline": [{"oid": "d657fbfcc6fd9abfec2023eb08437263f9edf9ed", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d657fbfcc6fd9abfec2023eb08437263f9edf9ed", "message": "Add toJSONObject to missing public classes\n\n* Add toJSONObject for better wrapper interoperabiliyy", "committedDate": "2020-09-14T21:43:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM3NjcwNw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r489376707", "bodyText": "Should be are_notifications_enabled", "author": "jkasten2", "createdAt": "2020-09-16T11:51:56Z", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSDeviceState.java", "diffHunk": "@@ -113,4 +115,22 @@ public String getEmailUserId() {\n     public String getEmailAddress() {\n         return emailAddress;\n     }\n+\n+    public JSONObject toJSONObject() {\n+        JSONObject mainObj = new JSONObject();\n+\n+        try {\n+            mainObj.put(\"notification_enabled\", notificationEnabled);", "originalCommit": "d657fbfcc6fd9abfec2023eb08437263f9edf9ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM3NzI0Mg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r489377242", "bodyText": "Looks like we forgot to update the field name for notificationEnabled to be areNotificationsEnabled in a previous PR but can we do this here?", "author": "jkasten2", "createdAt": "2020-09-16T11:52:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM3NjcwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4NDA5OA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r489484098", "bodyText": "since boolean getters add \"is\" or \"are\" prefix to the method as style convention, I didn't add the \"are\" to the variable. Do we want it to be called areNotificationsEnabled?", "author": "Jeasmine", "createdAt": "2020-09-16T14:31:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM3NjcwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4NTM4NA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r489485384", "bodyText": "also if we are changing to are_notifications_enabled should we change subscribed to is_subscribed? push_disabled to is_push_disabled?", "author": "Jeasmine", "createdAt": "2020-09-16T14:32:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM3NjcwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc1MjAzNg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r489752036", "bodyText": "yes, let's change the boolean field to areNotificationsEnabled so it matches the getter method name exactly.\nFor the JSON naming, we should drop the prefix though so it should just be notifications_enabled. (just need to add the missing s here.)\nSo keep it as push_disabled for the JSON.", "author": "jkasten2", "createdAt": "2020-09-16T21:02:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM3NjcwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3ODE5OQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r489778199", "bodyText": "actionID should be actionId", "author": "jkasten2", "createdAt": "2020-09-16T21:59:08Z", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSNotificationAction.java", "diffHunk": "@@ -57,4 +59,18 @@ public ActionType getType() {\n    public String getActionID() {\n       return actionID;\n    }\n+\n+   public JSONObject toJSONObject() {\n+      JSONObject mainObj = new JSONObject();\n+\n+      try {\n+         mainObj.put(\"type\", type.ordinal());\n+         mainObj.put(\"actionID\", actionID);", "originalCommit": "d657fbfcc6fd9abfec2023eb08437263f9edf9ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA4ODIyMA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r491088220", "bodyText": "should I change de variables too? and getter to getActionId? (in other PR)", "author": "Jeasmine", "createdAt": "2020-09-18T17:21:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3ODE5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1NjE1OA==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r491156158", "bodyText": "I think we should for consistency", "author": "rgomezp", "createdAt": "2020-09-18T19:44:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3ODE5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1Nzc1Mw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1147#discussion_r491157753", "bodyText": "I agree for consistently as well", "author": "jkasten2", "createdAt": "2020-09-18T19:47:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3ODE5OQ=="}], "type": "inlineReview"}, {"oid": "9622e4f584c0944412516db5c2d50dcd4cd0c34d", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/9622e4f584c0944412516db5c2d50dcd4cd0c34d", "message": "Add toJSONObject to missing public classes\n\n* Add toJSONObject for better wrapper interoperabiliyy", "committedDate": "2020-09-18T17:21:50Z", "type": "forcePushed"}, {"oid": "9f59351e83ae63226a869dccea7adc109de6da8c", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/9f59351e83ae63226a869dccea7adc109de6da8c", "message": "Add toJSONObject to missing public classes\n\n* Add toJSONObject for better wrapper interoperabiliyy", "committedDate": "2020-09-22T14:35:09Z", "type": "forcePushed"}, {"oid": "bc260712c584e52238b4d47fd9000968b964a2e2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/bc260712c584e52238b4d47fd9000968b964a2e2", "message": "Add toJSONObject to missing public classes\n\n* Add toJSONObject for better wrapper interoperabiliyy", "committedDate": "2020-09-22T14:37:02Z", "type": "commit"}, {"oid": "bc260712c584e52238b4d47fd9000968b964a2e2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/bc260712c584e52238b4d47fd9000968b964a2e2", "message": "Add toJSONObject to missing public classes\n\n* Add toJSONObject for better wrapper interoperabiliyy", "committedDate": "2020-09-22T14:37:02Z", "type": "forcePushed"}]}