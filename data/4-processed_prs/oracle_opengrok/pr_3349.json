{"pr_number": 3349, "pr_title": "make ProjectsController API calls using suggester async", "pr_createdAt": "2020-11-03T08:05:40Z", "pr_url": "https://github.com/oracle/opengrok/pull/3349", "timeline": [{"oid": "afa5030a1e2ec7f220e440e276ee679edd8e3a2e", "url": "https://github.com/oracle/opengrok/commit/afa5030a1e2ec7f220e440e276ee679edd8e3a2e", "message": "remove the counter, the count is already tracked by the timers", "committedDate": "2020-11-03T07:54:26Z", "type": "commit"}, {"oid": "9d1f790a9db39b6d184d7217c607a352a4587e0b", "url": "https://github.com/oracle/opengrok/commit/9d1f790a9db39b6d184d7217c607a352a4587e0b", "message": "endpoints calling into suggester should spawn a thread to become asynchronous", "committedDate": "2020-11-03T07:57:37Z", "type": "commit"}, {"oid": "8a4d2efbf33ee94e92cf496ecce4fc89f33a5cba", "url": "https://github.com/oracle/opengrok/commit/8a4d2efbf33ee94e92cf496ecce4fc89f33a5cba", "message": "remove unused import", "committedDate": "2020-11-03T08:18:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE3ODExNg==", "url": "https://github.com/oracle/opengrok/pull/3349#discussion_r517178116", "bodyText": "you could use CompletableFuture.runAsync to possibly reuse resources", "author": "tulinkry", "createdAt": "2020-11-04T08:43:20Z", "path": "opengrok-web/src/main/java/org/opengrok/web/api/v1/controller/ProjectsController.java", "diffHunk": "@@ -206,7 +206,7 @@ public void deleteProjectData(@PathParam(\"project\") String projectName) throws H\n         deleteHistoryCache(projectName);\n \n         // Delete suggester data.\n-        suggester.delete(projectName);\n+        new Thread(() -> suggester.delete(projectName)).start();", "originalCommit": "8a4d2efbf33ee94e92cf496ecce4fc89f33a5cba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE4NDg5MA==", "url": "https://github.com/oracle/opengrok/pull/3349#discussion_r517184890", "bodyText": "done", "author": "vladak", "createdAt": "2020-11-04T08:54:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE3ODExNg=="}], "type": "inlineReview"}, {"oid": "5b0c52f6c04025cc907f59e87d5d27f7aadfa993", "url": "https://github.com/oracle/opengrok/commit/5b0c52f6c04025cc907f59e87d5d27f7aadfa993", "message": "use CompletableFuture.runAsync()", "committedDate": "2020-11-04T08:54:10Z", "type": "commit"}, {"oid": "109a194d760d80fa9084ba2eaeff4734a2063815", "url": "https://github.com/oracle/opengrok/commit/109a194d760d80fa9084ba2eaeff4734a2063815", "message": "bump year", "committedDate": "2020-11-04T08:54:34Z", "type": "commit"}]}