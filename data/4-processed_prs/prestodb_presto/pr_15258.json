{"pr_number": 15258, "pr_title": "Add a new deployment example of running Presto on a laptop", "pr_createdAt": "2020-10-01T07:17:13Z", "pr_url": "https://github.com/prestodb/presto/pull/15258", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NDg0Mw==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498564843", "bodyText": "could it be: An Example deployment to query data in S3?", "author": "zhenxiao", "createdAt": "2020-10-01T23:50:50Z", "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop", "originalCommit": "08719837214bb5f209b4d7e0141b1cf2b2a04853", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3NDczMQ==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498974731", "bodyText": "done", "author": "apc999", "createdAt": "2020-10-02T18:12:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NDg0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTE2Mw==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498565163", "bodyText": "shall we omit version?", "author": "zhenxiao", "createdAt": "2020-10-01T23:52:10Z", "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop\n+-------------------------------\n+\n+This section shows how to run Presto connecting to Hive MetaStore on a single laptop to query data in an S3 bucket.\n+\n+Configure Hive MetaStore\n+^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Download and extract the binary tarball of Hive.\n+For example, download `apache-hive-2.3.7-bin.tar.gz <https://downloads.apache.org/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz>`_ .", "originalCommit": "08719837214bb5f209b4d7e0141b1cf2b2a04853", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3NDc2Nw==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498974767", "bodyText": "done", "author": "apc999", "createdAt": "2020-10-02T18:12:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTE2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTMxMw==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498565313", "bodyText": "do we need to document untar commands?", "author": "zhenxiao", "createdAt": "2020-10-01T23:52:47Z", "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop\n+-------------------------------\n+\n+This section shows how to run Presto connecting to Hive MetaStore on a single laptop to query data in an S3 bucket.\n+\n+Configure Hive MetaStore\n+^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Download and extract the binary tarball of Hive.\n+For example, download `apache-hive-2.3.7-bin.tar.gz <https://downloads.apache.org/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz>`_ .\n+\n+.. code-block:: console", "originalCommit": "08719837214bb5f209b4d7e0141b1cf2b2a04853", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3NDgwNQ==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498974805", "bodyText": "removed", "author": "apc999", "createdAt": "2020-10-02T18:12:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTU0MQ==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498565541", "bodyText": "omit jar versions?\nare these paths static and reliable?", "author": "zhenxiao", "createdAt": "2020-10-01T23:53:40Z", "path": "presto-docs/src/main/sphinx/installation/deployment.rst", "diffHunk": "@@ -271,6 +276,87 @@ After launching, you can find the log files in ``var/log``:\n   This is the HTTP request log which contains every HTTP request\n   received by the server. It is automatically rotated and compressed.\n \n+An Example Deployment on Laptop\n+-------------------------------\n+\n+This section shows how to run Presto connecting to Hive MetaStore on a single laptop to query data in an S3 bucket.\n+\n+Configure Hive MetaStore\n+^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Download and extract the binary tarball of Hive.\n+For example, download `apache-hive-2.3.7-bin.tar.gz <https://downloads.apache.org/hive/hive-2.3.7/apache-hive-2.3.7-bin.tar.gz>`_ .\n+\n+.. code-block:: console\n+\n+    $ tar -zxf apache-hive-2.3.7-bin.tar.gz\n+    $ cd apache-hive-2.3.7-bin\n+\n+You only need to launch Hive Metastore to serve Presto catalog information such as table schema and partition location.\n+If it is the first time to launch the Hive Metastore, prepare corresponding configuration files and environment, also initialize a new Metastore:\n+\n+.. code-block:: console\n+\n+    $ export HIVE_HOME=`pwd`\n+    $ cp conf/hive-default.xml.template conf/hive-site.xml\n+    $ mkdir -p hcatalog/var/log/\n+    # only required for the first time\n+    $ bin/schematool -dbType derby -initSchema\n+\n+If you want to access AWS S3, append the following lines in ``conf/hive-env.sh``.\n+Hive needs the corresponding jars to access files with ``s3a://`` addresses, and AWS credentials as well to access an S3 bucket (even it is public).\n+If you do not have a Hadoop installation which include above jars, download them from `maven central repository <https://repo1.maven.org/>`_.\n+\n+.. code-block:: console\n+\n+    $ export HIVE_AUX_JARS_PATH=${HADOOP_HOME}/share/hadoop/tools/lib/aws-java-sdk-core-1.10.6.jar:${HADOOP_HOME}/share/hadoop/tools/lib/aws-java-sdk-s3-1.10.6.jar:${HADOOP_HOME}/share/hadoop/tools/lib/hadoop-aws-2.8.4.jar", "originalCommit": "08719837214bb5f209b4d7e0141b1cf2b2a04853", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3NzQxMg==", "url": "https://github.com/prestodb/presto/pull/15258#discussion_r498977412", "bodyText": "updated", "author": "apc999", "createdAt": "2020-10-02T18:15:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2NTU0MQ=="}], "type": "inlineReview"}, {"oid": "68b5a7c17d79555e7948f29dbc9a766845a99780", "url": "https://github.com/prestodb/presto/commit/68b5a7c17d79555e7948f29dbc9a766845a99780", "message": "Add a new deployment example", "committedDate": "2020-10-02T18:21:12Z", "type": "commit"}, {"oid": "68b5a7c17d79555e7948f29dbc9a766845a99780", "url": "https://github.com/prestodb/presto/commit/68b5a7c17d79555e7948f29dbc9a766845a99780", "message": "Add a new deployment example", "committedDate": "2020-10-02T18:21:12Z", "type": "forcePushed"}]}