{"pr_number": 15499, "pr_title": "Add release notes for 0.245", "pr_createdAt": "2020-12-04T15:22:25Z", "pr_url": "https://github.com/prestodb/presto/pull/15499", "timeline": [{"oid": "caf1271ff397b14156a0f9951cad7b32e31cbf9e", "url": "https://github.com/prestodb/presto/commit/caf1271ff397b14156a0f9951cad7b32e31cbf9e", "message": "First set of tweaks/fixes to release notes", "committedDate": "2020-12-04T17:13:13Z", "type": "forcePushed"}, {"oid": "e9fc296b5e62d3354ac830fe1094a19f7ccfee99", "url": "https://github.com/prestodb/presto/commit/e9fc296b5e62d3354ac830fe1094a19f7ccfee99", "message": "Add better release note for result compression config", "committedDate": "2020-12-04T22:03:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4Mzg0NA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538683844", "bodyText": "These are technical details.  Give a user facing description instead. Something like:\nFix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length.", "author": "rschlussel", "createdAt": "2020-12-08T18:15:20Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).", "originalCommit": "eefc898e3ef60585096647eae4ab916dafbf89b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODcwMDM2MA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538700360", "bodyText": "Used your description, but added the issue link.", "author": "aweisberg", "createdAt": "2020-12-08T18:31:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4Mzg0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538684980", "bodyText": "what kind of bug?  Would queries fail?  Need a user facing description of what didn't work that now does.", "author": "rschlussel", "createdAt": "2020-12-08T18:16:18Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.", "originalCommit": "eefc898e3ef60585096647eae4ab916dafbf89b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY5NzE5OA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538697198", "bodyText": "@daniel-ohayon can you help describe what the bug was? How would a user experience it?", "author": "aweisberg", "createdAt": "2020-12-08T18:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgwMzQ5Mg==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538803492", "bodyText": "Here is a clearer definition: Fix a serialization bug which caused maps with string-valued enum keys to be displayed as illegible strings in the Presto CLI output.\nNote that enums have just been introduced into the presto core and there is no open-source connector supplying them, so immediate user impact should be non-existant at this point.", "author": "daniel-ohayon", "createdAt": "2020-12-08T20:59:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NDk4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NzA0Nw==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538687047", "bodyText": "maybe this is just a github display issue, but the line should be as long as the text.", "author": "rschlussel", "createdAt": "2020-12-08T18:18:23Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization to correctly canonicalize Block constant (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+____________", "originalCommit": "eefc898e3ef60585096647eae4ab916dafbf89b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY5NDc5Mw==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538694793", "bodyText": "When rendered it doesn't appear, but sure I can make it longer.", "author": "aweisberg", "createdAt": "2020-12-08T18:25:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4NzA0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MTM5MQ==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538741391", "bodyText": "Add :func:enum_key to get the key corresponding to an enum value", "author": "mayankgarg1990", "createdAt": "2020-12-08T19:20:56Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "originalCommit": "cb3302c108ce88a052394d5c14c2026a350dabb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1MjExMQ==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538752111", "bodyText": "Are you advocating for not showing the signature?", "author": "aweisberg", "createdAt": "2020-12-08T19:37:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MTM5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0MzUxOA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538743518", "bodyText": "Fix parsing logic for prepared statements to be consistent with regular statements - I don't think we need to outline the method that we achieved this.", "author": "mayankgarg1990", "createdAt": "2020-12-08T19:24:19Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.", "originalCommit": "cb3302c108ce88a052394d5c14c2026a350dabb5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0NDg2Ng==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538744866", "bodyText": "``Improve parquet metadata reader by preloading data and reducing the number of reads` - I don't think we should dig too much into the implementation details. We should just link to the issue/pr", "author": "mayankgarg1990", "createdAt": "2020-12-08T19:26:28Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New `ENUM_KEY` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix enum deserialization bug in map keys.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add a UDF to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+* Add SqlParserOptions to prepared statement handler so that parsing logic is consistent with regular requests.\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by pre-loading 16KiB from the end of the file. When the metadata section is smaller than the prefetch size, only a single read is performed compared to the previous two.", "originalCommit": "cb3302c108ce88a052394d5c14c2026a350dabb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1MzgwOA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538753808", "bodyText": "The release note generation logic doesn't link to PRs. I added the link for this one, but generally what are we doing? Seems like we should do it automatically.", "author": "aweisberg", "createdAt": "2020-12-08T19:40:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc0NDg2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyMDc2Mw==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538820763", "bodyText": "nit: bug which causing -> bug causing", "author": "rschlussel", "createdAt": "2020-12-08T21:29:02Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.", "originalCommit": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538829518", "bodyText": "we don't need the signature here. The :func: macro will make this a hyperlink and that should take people to the documentation", "author": "mayankgarg1990", "createdAt": "2020-12-08T21:43:39Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`", "originalCommit": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg2NDk0MQ==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538864941", "bodyText": "OK, when I tested it I didn't get a hyperlink.", "author": "aweisberg", "createdAt": "2020-12-08T22:46:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg3MDE3Mw==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538870173", "bodyText": "Need  a period at the end of  the line.", "author": "caithagoras", "createdAt": "2020-12-08T22:55:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODkzNTAyMQ==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538935021", "bodyText": "Going my own way on this and both including it and keeping the description because right now it is the only documentation of it!", "author": "aweisberg", "createdAt": "2020-12-09T01:28:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyOTUxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg3MDMyMA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r538870320", "bodyText": "Need a period at the end of the line.", "author": "caithagoras", "createdAt": "2020-12-08T22:56:02Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,34 @@\n+=============\n+Release 0.245\n+=============\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug which causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`\n+\n+Hive Connector Changes\n+______________________\n+* Improve parquet metadata reader by preloading data and reducing the number of reads (:pr:`15421`).\n+\n+SPI Changes\n+____________\n+* Add ``getSchema`` to ``ConnectorSession``", "originalCommit": "7c4c6d523c79128ad70f01bca4b5fb03eeb2fa86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "url": "https://github.com/prestodb/presto/commit/d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "message": "Add release notes for 0.245", "committedDate": "2020-12-09T01:39:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MTA2Ng==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r539671066", "bodyText": "you wrote the warning 2x", "author": "rschlussel", "createdAt": "2020-12-09T21:44:52Z", "path": "presto-docs/src/main/sphinx/release/release-0.242.rst", "diffHunk": "@@ -5,6 +5,12 @@ Release 0.242\n .. warning::\n     There is a bug in LambdaDefinitionExpression canonicalization introduced since 0.238. For more details, go to :issue:`15424`.\n \n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured. Fixed in :pr:`15501`.\n+\n+.. warning::", "originalCommit": "d6f6870b8ac0c94b5af4e221bb9764e1ef643492", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3NTY3MA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r539675670", "bodyText": "Fixed, oops!", "author": "aweisberg", "createdAt": "2020-12-09T21:52:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MTA2Ng=="}], "type": "inlineReview"}, {"oid": "cbfd2bdd04f401cb9f24344824566d3ff67955d4", "url": "https://github.com/prestodb/presto/commit/cbfd2bdd04f401cb9f24344824566d3ff67955d4", "message": "Add release notes for 0.245", "committedDate": "2020-12-09T21:52:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjg1OTIxOA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542859218", "bodyText": "Missing period at the end of the line.", "author": "caithagoras", "createdAt": "2020-12-14T22:14:20Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``", "originalCommit": "cbfd2bdd04f401cb9f24344824566d3ff67955d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0873990a07772be310d485d2d5f8b5b54e0d3203", "url": "https://github.com/prestodb/presto/commit/0873990a07772be310d485d2d5f8b5b54e0d3203", "message": "Release notes for 0.244.1", "committedDate": "2020-12-14T22:25:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkwMzkxNA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542903914", "bodyText": "I ran make with Sphinx 2.4.0 and it gives me warning about this line.\nWARNING: py:func reference target not found: enum_key  \n\nWe either need to document the function, or do\n``enum_key``\n\nas a temporary workaround to not reference the function.", "author": "caithagoras", "createdAt": "2020-12-14T22:58:26Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.", "originalCommit": "cbfd2bdd04f401cb9f24344824566d3ff67955d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkwNDAxMA==", "url": "https://github.com/prestodb/presto/pull/15499#discussion_r542904010", "bodyText": "Same here.", "author": "caithagoras", "createdAt": "2020-12-14T22:58:32Z", "path": "presto-docs/src/main/sphinx/release/release-0.245.rst", "diffHunk": "@@ -0,0 +1,37 @@\n+=============\n+Release 0.245\n+=============\n+\n+.. warning::\n+    There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured (:pr:`15501`).\n+\n+**Highlights**\n+==============\n+* New :func:`enum_key` UDF to get the key for an enum value.\n+* Configurable query result compression.\n+\n+**Details**\n+===========\n+\n+General Changes\n+_______________\n+* Fix wrong results issue for queries with multiple lambda expressions that differ only in array/map/row constants that have the same length (:issue:`15424`).\n+* Fix serialization bug causing maps with string-valued enum keys to be displayed as illegible strings in Presto CLI.\n+* Fix parsing logic for prepared statements to be consistent with regular statements.\n+* Improve memory usage for fragment result caching.\n+* Add support for disabling query result compression via client and server-side configuration properties. Clients can disable compressed responses using the ``--disable-compression`` flag or ``disableCompression`` driver property. Compression can be disabled server-wide by using the configuration property: ``query-results.compression-enabled=false``\n+* Add support in affinity scheduler to enable cache for bucketed table scan that has remote source.\n+* Add :func:`enum_key` to get the key corresponding to an enum value: `ENUM_KEY(EnumType) -> VARCHAR`.", "originalCommit": "cbfd2bdd04f401cb9f24344824566d3ff67955d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "103fc4961bff881da77f60816de3cdc238eb7348", "url": "https://github.com/prestodb/presto/commit/103fc4961bff881da77f60816de3cdc238eb7348", "message": "Add release notes for 0.245", "committedDate": "2020-12-14T23:32:50Z", "type": "commit"}, {"oid": "103fc4961bff881da77f60816de3cdc238eb7348", "url": "https://github.com/prestodb/presto/commit/103fc4961bff881da77f60816de3cdc238eb7348", "message": "Add release notes for 0.245", "committedDate": "2020-12-14T23:32:50Z", "type": "forcePushed"}]}