{"pr_number": 15032, "pr_title": "Add release notes for 0.240", "pr_createdAt": "2020-08-14T21:20:42Z", "pr_url": "https://github.com/prestodb/presto/pull/15032", "timeline": [{"oid": "ba2a29ad996be60b2b59466404e1736c53b66fb4", "url": "https://github.com/prestodb/presto/commit/ba2a29ad996be60b2b59466404e1736c53b66fb4", "message": "Add release notes for 0.240", "committedDate": "2020-08-19T23:28:16Z", "type": "forcePushed"}, {"oid": "66465bc6912d47db7e6c87cfc1264617622b86cd", "url": "https://github.com/prestodb/presto/commit/66465bc6912d47db7e6c87cfc1264617622b86cd", "message": "Add release notes for 0.240", "committedDate": "2020-08-19T23:30:55Z", "type": "forcePushed"}, {"oid": "d04851a066ceb7f8f09eea2ebe50544fcb0e2a29", "url": "https://github.com/prestodb/presto/commit/d04851a066ceb7f8f09eea2ebe50544fcb0e2a29", "message": "Add release notes for 0.240", "committedDate": "2020-08-19T23:36:23Z", "type": "forcePushed"}, {"oid": "e5afc56356c0a28c9f8233ea08c3f0357362799a", "url": "https://github.com/prestodb/presto/commit/e5afc56356c0a28c9f8233ea08c3f0357362799a", "message": "Add release notes for 0.240", "committedDate": "2020-08-19T23:38:53Z", "type": "forcePushed"}, {"oid": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "url": "https://github.com/prestodb/presto/commit/5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "message": "Add release notes for 0.240", "committedDate": "2020-08-19T23:39:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0NTQzOA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473445438", "bodyText": "What is the user impact?  Needs to be rephrased", "author": "tdcmeehan", "createdAt": "2020-08-19T23:48:34Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU1ODUwMQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473558501", "bodyText": "@rongrong This is from #14912  . Can you rephrase this and comment here. I can update the notes.", "author": "ajaygeorge", "createdAt": "2020-08-20T02:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0NTQzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMTUyNQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475901525", "bodyText": "Fix compiler error due to incorrect LambdaDefinitionExpression canonicalization.", "author": "rongrong", "createdAt": "2020-08-24T21:21:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0NTQzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0NjMzMw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473446333", "bodyText": "Doesn't seem to follow our convention.  Add optional parameters to procedures?", "author": "tdcmeehan", "createdAt": "2020-08-19T23:49:52Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU1MjE5OQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473552199", "bodyText": "done", "author": "ajaygeorge", "createdAt": "2020-08-20T02:33:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0NjMzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0NjczMA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473446730", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Push down dereference expression.\n          \n          \n            \n            * Add support for pushdown of dereference expressions.\n          \n      \n    \n    \n  \n\n?", "author": "tdcmeehan", "createdAt": "2020-08-19T23:50:26Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0ODcxMw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473448713", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Support union all operation with more than 1 druid source\n          \n          \n            \n            * Add support for union all operation with more than 1 druid source", "author": "tdcmeehan", "createdAt": "2020-08-19T23:53:14Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Support union all operation with more than 1 druid source", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0ODg2Mw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473448863", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Support Filter on top of Aggregation\n          \n          \n            \n            * Add support for filter on top of Aggregation", "author": "tdcmeehan", "createdAt": "2020-08-19T23:53:28Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Support union all operation with more than 1 druid source\n+* Support Filter on top of Aggregation", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0OTIwMA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473449200", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Add support for ip data type in ES Connector\n          \n          \n            \n            * Add support for IP data type.", "author": "tdcmeehan", "createdAt": "2020-08-19T23:53:59Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Support union all operation with more than 1 druid source\n+* Support Filter on top of Aggregation\n+* Fix unhandled HTTP response error for druid client\n+\n+Elasticserarch Changes\n+______________________\n+* Add support for ip data type in ES Connector", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ0OTk3Nw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473449977", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Improve geometry_to_bing_tiles.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.\n          \n          \n            \n            * Improve func:`geometry_to_bing_tiles` performance.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.", "author": "tdcmeehan", "createdAt": "2020-08-19T23:55:04Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Support union all operation with more than 1 druid source\n+* Support Filter on top of Aggregation\n+* Fix unhandled HTTP response error for druid client\n+\n+Elasticserarch Changes\n+______________________\n+* Add support for ip data type in ES Connector\n+\n+Geospatial Changes\n+__________________\n+* Improve geometry_to_bing_tiles.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ1MDM0Nw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473450347", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Improves split generation by avoiding an unncessary splittable check when files are smaller than the initial split max size, regardless of their input format.\n          \n          \n            \n            * Improve split generation performance.", "author": "tdcmeehan", "createdAt": "2020-08-19T23:55:36Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Support union all operation with more than 1 druid source\n+* Support Filter on top of Aggregation\n+* Fix unhandled HTTP response error for druid client\n+\n+Elasticserarch Changes\n+______________________\n+* Add support for ip data type in ES Connector\n+\n+Geospatial Changes\n+__________________\n+* Improve geometry_to_bing_tiles.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.\n+* Add geometry_to_dissolved_bing_tiles function, which dissolves complete sets of child tiles to their parent.\n+* Introduce ``bing_tile_children`` and ``bing_tile_parent`` functions to get parents and children of a Bing tile.\n+\n+Hive Changes\n+____________\n+* Fix parquet statistics when min/max is not set.\n+* Improves split generation by avoiding an unncessary splittable check when files are smaller than the initial split max size, regardless of their input format.", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ1MDc5Nw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473450797", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Support insert in Kafka connector.\n          \n          \n            \n            * Support `INSERT` in Kafka connector.", "author": "tdcmeehan", "createdAt": "2020-08-19T23:56:14Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,64 @@\n+=============\n+Release 0.240\n+=============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Allow procedures to have optional arguments with default values.\n+* Push down dereference expression.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Support union all operation with more than 1 druid source\n+* Support Filter on top of Aggregation\n+* Fix unhandled HTTP response error for druid client\n+\n+Elasticserarch Changes\n+______________________\n+* Add support for ip data type in ES Connector\n+\n+Geospatial Changes\n+__________________\n+* Improve geometry_to_bing_tiles.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.\n+* Add geometry_to_dissolved_bing_tiles function, which dissolves complete sets of child tiles to their parent.\n+* Introduce ``bing_tile_children`` and ``bing_tile_parent`` functions to get parents and children of a Bing tile.\n+\n+Hive Changes\n+____________\n+* Fix parquet statistics when min/max is not set.\n+* Improves split generation by avoiding an unncessary splittable check when files are smaller than the initial split max size, regardless of their input format.\n+* Add support for Hudi realtime input format for hudi realtime queries.\n+* Add support for splitting hive files when skip.header.line.count=1.\n+* Allow presto-hive to use custom parquet input formats.\n+\n+Kafka Changes\n+_____________\n+* Support insert in Kafka connector.", "originalCommit": "5a32d18a5d7b7cb484f5a7a0e8051117cd09214f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "47bcdca7dc589afdd5485082d78271a3f8ee9dbe", "url": "https://github.com/prestodb/presto/commit/47bcdca7dc589afdd5485082d78271a3f8ee9dbe", "message": "Add release notes for 0.240", "committedDate": "2020-08-20T02:30:48Z", "type": "forcePushed"}, {"oid": "9e2422ca252d334f88c02ec98a026065fe4c83ce", "url": "https://github.com/prestodb/presto/commit/9e2422ca252d334f88c02ec98a026065fe4c83ce", "message": "Add release notes for 0.240", "committedDate": "2020-08-20T02:33:21Z", "type": "forcePushed"}, {"oid": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "url": "https://github.com/prestodb/presto/commit/2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "message": "Add release notes for 0.240", "committedDate": "2020-08-20T02:37:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NDg1NA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473974854", "bodyText": "I think this is missing some words between token and presto-cli.  Is that how you use it?", "author": "rschlussel", "createdAt": "2020-08-20T13:30:44Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add optional parameters to procedures.\n+* Add support for pushdown of dereference expressions.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTAwMTcxOA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475001718", "bodyText": "I think this should be in two separate lines. See original PR for this #14585 .\nLet me add token. Usage : presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".", "author": "ajaygeorge", "createdAt": "2020-08-21T22:52:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NDg1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NTM2OA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473975368", "bodyText": "not a user friendly description", "author": "rschlussel", "createdAt": "2020-08-20T13:31:15Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add optional parameters to procedures.\n+* Add support for pushdown of dereference expressions.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTAwMjkwMw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475002903", "bodyText": "@rongrong this is from #14895 . Can you help me rephrase this in a user friendly way.", "author": "ajaygeorge", "createdAt": "2020-08-21T22:57:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NTM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMjk3Nw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475902977", "bodyText": "I don't know how to rephrase it. It basically pushes limit through union. I think it's pretty easy to understand and if we consider description of plan optimization not user friendly / not user facing we can remove this from release note.", "author": "rongrong", "createdAt": "2020-08-24T21:24:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NTM2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NzAyMw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473977023", "bodyText": "Add ability to spill window functions to local disk when a worker is out of memory.", "author": "rschlussel", "createdAt": "2020-08-20T13:32:51Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add optional parameters to procedures.\n+* Add support for pushdown of dereference expressions.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5OTgyNA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r474999824", "bodyText": "done.", "author": "ajaygeorge", "createdAt": "2020-08-21T22:44:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3NzAyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3OTg1NQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473979855", "bodyText": "this isn't a user friendly description", "author": "rschlussel", "createdAt": "2020-08-20T13:35:33Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add optional parameters to procedures.\n+* Add support for pushdown of dereference expressions.", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTAwMjQxOQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475002419", "bodyText": "@zhenxiao this is from #14829 . Can you help me rephrase this in a user friendly way.", "author": "ajaygeorge", "createdAt": "2020-08-21T22:55:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3OTg1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTAwNzcwOQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475007709", "bodyText": "Provide experimental.pushdown-dereference-enabled to enable pushdown of dereference expressions for querying nested data", "author": "zhenxiao", "createdAt": "2020-08-21T23:20:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3OTg1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5Nzc2OA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475897768", "bodyText": "I'm going to reword it as\nAdd support for pushdown of dereference expressions for querying nested data.  This can be enabled with the pushdown_dereference_enabled  session property or the experimental.pushdown-dereference-enabled configuration property.", "author": "ajaygeorge", "createdAt": "2020-08-24T21:13:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk3OTg1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4NDc5NA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473984794", "bodyText": "Allow procedures to accept optional parameters", "author": "rschlussel", "createdAt": "2020-08-20T13:40:04Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add optional parameters to procedures.", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4NTc3MA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473985770", "bodyText": "also this is an spi change", "author": "rschlussel", "createdAt": "2020-08-20T13:40:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4NDc5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5OTM5MQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r474999391", "bodyText": "Moved to spi with the suggested rewording.", "author": "ajaygeorge", "createdAt": "2020-08-21T22:42:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4NDc5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4NzYxOA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r473987618", "bodyText": "these release notes are missing periods at the end of the sentences", "author": "rschlussel", "createdAt": "2020-08-20T13:42:36Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add optional parameters to procedures.\n+* Add support for pushdown of dereference expressions.\n+* Use local private credentials (json key file) to refresh GCS access token presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add window function spilling capacity to local disk.\n+* Add support for limit pushdown through union\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Add support for union all operation with more than 1 druid source", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5OTMyMg==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r474999322", "bodyText": "Added periods.", "author": "ajaygeorge", "createdAt": "2020-08-21T22:42:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4NzYxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMjg5Mg==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r474212892", "bodyText": "This can go into the highlights.", "author": "caithagoras", "createdAt": "2020-08-20T19:15:46Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Highlights placeholder\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix LambdaDefinitionExpression canonicalization did not handle CAST.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.\n+* Add `query.max-scan-physical-bytes` configuration and `query_max_scan_physical_bytes` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.", "originalCommit": "2063b0eee2bc9f67f07853148e8bbc61fa5b890f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTAwMDg0NA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475000844", "bodyText": "done", "author": "ajaygeorge", "createdAt": "2020-08-21T22:48:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMjg5Mg=="}], "type": "inlineReview"}, {"oid": "0a98445ed79b8789932ab55c80b9f4d37483b87d", "url": "https://github.com/prestodb/presto/commit/0a98445ed79b8789932ab55c80b9f4d37483b87d", "message": "Add release notes for 0.240", "committedDate": "2020-08-21T22:41:54Z", "type": "forcePushed"}, {"oid": "55d73ff980dcd8d21f121ac49352b5ea663eeb18", "url": "https://github.com/prestodb/presto/commit/55d73ff980dcd8d21f121ac49352b5ea663eeb18", "message": "Add release notes for 0.240", "committedDate": "2020-08-21T22:43:54Z", "type": "forcePushed"}, {"oid": "aabc2c44ef942f03434710a8406a51dc05a3cfde", "url": "https://github.com/prestodb/presto/commit/aabc2c44ef942f03434710a8406a51dc05a3cfde", "message": "Add release notes for 0.240", "committedDate": "2020-08-21T22:48:17Z", "type": "forcePushed"}, {"oid": "8b9d13eebe0be4650a89ecbe8da75ea3bcef12e4", "url": "https://github.com/prestodb/presto/commit/8b9d13eebe0be4650a89ecbe8da75ea3bcef12e4", "message": "Add release notes for 0.240", "committedDate": "2020-08-21T22:53:24Z", "type": "forcePushed"}, {"oid": "674f2ca6b5e15e08ee748ae58fac69309e512262", "url": "https://github.com/prestodb/presto/commit/674f2ca6b5e15e08ee748ae58fac69309e512262", "message": "Add release notes for 0.240", "committedDate": "2020-08-24T21:15:11Z", "type": "forcePushed"}, {"oid": "8ec5ffe0cc38287969042ff0ef211d15ac07857a", "url": "https://github.com/prestodb/presto/commit/8ec5ffe0cc38287969042ff0ef211d15ac07857a", "message": "Add release notes for 0.240", "committedDate": "2020-08-24T21:37:23Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkxMTc3NQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475911775", "bodyText": "Use double back quotes, and fix misplace whitespace.", "author": "caithagoras", "createdAt": "2020-08-24T21:44:27Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,73 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Add support for inlining SQL functions at query planning time.\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix compiler error due to incorrect LambdaDefinitionExpression canonicalization.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`.", "originalCommit": "8ec5ffe0cc38287969042ff0ef211d15ac07857a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkxNTc0NA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r475915744", "bodyText": "done. corrected in a couple of other locations as well.", "author": "ajaygeorge", "createdAt": "2020-08-24T21:53:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkxMTc3NQ=="}], "type": "inlineReview"}, {"oid": "8d2ab33b3daa495478429e824066ffc7d2ee751e", "url": "https://github.com/prestodb/presto/commit/8d2ab33b3daa495478429e824066ffc7d2ee751e", "message": "Add release notes for 0.240", "committedDate": "2020-08-24T21:52:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDM0Mw==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476704343", "bodyText": "Let add those 2 items to highlights.", "author": "caithagoras", "createdAt": "2020-08-25T20:02:00Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,73 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Add support for inlining SQL functions at query planning time.\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix compiler error due to incorrect LambdaDefinitionExpression canonicalization.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add ``IF EXISTS`` and ``IF NOT EXISTS`` syntax to ``ALTER TABLE``.\n+* Add ``query.max-scan-physical-bytes`` configuration and ``query_max_scan_physical_bytes`` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add support for pushdown of dereference expressions for querying nested data. This can be enabled with the ``pushdown_dereference_enabled`` session property or the ``experimental.pushdown-dereference-enabled`` configuration property.\n+* Use local private credentials (json key file) to refresh GCS access token. Usage : presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add ability to spill window functions to local disk when a worker is out of memory.\n+* Add support for limit pushdown through union.", "originalCommit": "8d2ab33b3daa495478429e824066ffc7d2ee751e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Njc0NDI4OA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476744288", "bodyText": "done", "author": "ajaygeorge", "createdAt": "2020-08-25T21:19:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDM0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDUxMQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476704511", "bodyText": "Let's add this to highlight.", "author": "caithagoras", "createdAt": "2020-08-25T20:02:20Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,73 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Add support for inlining SQL functions at query planning time.\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix compiler error due to incorrect LambdaDefinitionExpression canonicalization.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add ``IF EXISTS`` and ``IF NOT EXISTS`` syntax to ``ALTER TABLE``.\n+* Add ``query.max-scan-physical-bytes`` configuration and ``query_max_scan_physical_bytes`` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.", "originalCommit": "8d2ab33b3daa495478429e824066ffc7d2ee751e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Njc0NDQxMA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476744410", "bodyText": "done", "author": "ajaygeorge", "createdAt": "2020-08-25T21:19:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDUxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDc2OQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476704769", "bodyText": ":func:", "author": "caithagoras", "createdAt": "2020-08-25T20:02:53Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,73 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Add support for inlining SQL functions at query planning time.\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix compiler error due to incorrect LambdaDefinitionExpression canonicalization.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add ``IF EXISTS`` and ``IF NOT EXISTS`` syntax to ``ALTER TABLE``.\n+* Add ``query.max-scan-physical-bytes`` configuration and ``query_max_scan_physical_bytes`` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add support for pushdown of dereference expressions for querying nested data. This can be enabled with the ``pushdown_dereference_enabled`` session property or the ``experimental.pushdown-dereference-enabled`` configuration property.\n+* Use local private credentials (json key file) to refresh GCS access token. Usage : presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add ability to spill window functions to local disk when a worker is out of memory.\n+* Add support for limit pushdown through union.\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Add support for union all operation with more than 1 druid source.\n+* Add support for filter on top of Aggregation.\n+* Fix unhandled HTTP response error for druid client.\n+\n+Elasticserarch Changes\n+______________________\n+* Add support for IP data type.\n+\n+Geospatial Changes\n+__________________\n+* Improve func:`geometry_to_bing_tiles` performance.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.", "originalCommit": "8d2ab33b3daa495478429e824066ffc7d2ee751e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Njc0NDUxMQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476744511", "bodyText": "done", "author": "ajaygeorge", "createdAt": "2020-08-25T21:20:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDc2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNTA3OA==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476705078", "bodyText": ":func:`bing_tile_children` :func:`bing_tile_parent`", "author": "caithagoras", "createdAt": "2020-08-25T20:03:31Z", "path": "presto-docs/src/main/sphinx/release/release-0.240.rst", "diffHunk": "@@ -0,0 +1,73 @@\n+=============\n+Release 0.240\n+=============\n+\n+**Highlights**\n+==============\n+* Add support for inlining SQL functions at query planning time.\n+\n+**Details**\n+==============\n+\n+General Changes\n+_______________\n+* Fix compiler error due to incorrect LambdaDefinitionExpression canonicalization.\n+* Fix compiler error in certain situations where sql functions with same lambda are used multiple times.\n+* Add ``IF EXISTS`` and ``IF NOT EXISTS`` syntax to ``ALTER TABLE``.\n+* Add ``query.max-scan-physical-bytes`` configuration and ``query_max_scan_physical_bytes`` session properties to limit total number of bytes read from storage during table scan. The default limit is 1PB.\n+* Add support for inlining SQL functions at query planning time. This feature is enabled by default, and can be disabled with the ``inline_sql_functions`` session property.\n+* Add :func:`geometry_from_geojson` and :func:`geometry_as_geojson` to convert geometries from and to GeoJSON format.\n+* Add support for pushdown of dereference expressions for querying nested data. This can be enabled with the ``pushdown_dereference_enabled`` session property or the ``experimental.pushdown-dereference-enabled`` configuration property.\n+* Use local private credentials (json key file) to refresh GCS access token. Usage : presto-cli --extra-credential hive.gcs.credentials.path=\"${PRIVATE_KEY_JSON_PATH}\".\n+* Add ability to spill window functions to local disk when a worker is out of memory.\n+* Add support for limit pushdown through union.\n+\n+Thrift Connector Changes\n+________________________\n+* Rename ``presto-thrift-connector-api`` to ``presto-thrift-api`` and have separate packages for datatypes, valuesets and connector.\n+\n+Verifier Changes\n+________________\n+* Fix an issue where Verifier fails to start when failure resolver is disabled.\n+* Add configuration property ``test_name``, to be passed in to the client info blob.\n+* Add support to implement customized way of launching Presto queries.\n+* Add support to populate client info for the queries issued by Verifier.\n+* Add support to resubmit verification if test query fails with ``HIVE_PARTITION_OFFLINE``.\n+* Add support to run helper queries on a separate cluster other than the control cluster.\n+* Add support to skip running control queries and comparing results. This can be enabled by configuration property ``skip-control``.\n+\n+Cassandra Changes\n+_________________\n+* Add TLS security support.\n+\n+Druid Changes\n+_____________\n+* Add support for union all operation with more than 1 druid source.\n+* Add support for filter on top of Aggregation.\n+* Fix unhandled HTTP response error for druid client.\n+\n+Elasticserarch Changes\n+______________________\n+* Add support for IP data type.\n+\n+Geospatial Changes\n+__________________\n+* Improve func:`geometry_to_bing_tiles` performance.  It is 50x faster on complex polygons, the limit on polygon complexity is removed, and some correctness bugs have been fixed.\n+* Add geometry_to_dissolved_bing_tiles function, which dissolves complete sets of child tiles to their parent.\n+* Introduce ``bing_tile_children`` and ``bing_tile_parent`` functions to get parents and children of a Bing tile.", "originalCommit": "8d2ab33b3daa495478429e824066ffc7d2ee751e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Njc0NDU1OQ==", "url": "https://github.com/prestodb/presto/pull/15032#discussion_r476744559", "bodyText": "done", "author": "ajaygeorge", "createdAt": "2020-08-25T21:20:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNTA3OA=="}], "type": "inlineReview"}, {"oid": "d64aca21d3618b87a2377b3ee15a9121088845c8", "url": "https://github.com/prestodb/presto/commit/d64aca21d3618b87a2377b3ee15a9121088845c8", "message": "Add release notes for 0.240", "committedDate": "2020-08-25T21:19:21Z", "type": "commit"}, {"oid": "d64aca21d3618b87a2377b3ee15a9121088845c8", "url": "https://github.com/prestodb/presto/commit/d64aca21d3618b87a2377b3ee15a9121088845c8", "message": "Add release notes for 0.240", "committedDate": "2020-08-25T21:19:21Z", "type": "forcePushed"}]}