{"pr_number": 14215, "pr_title": "Add release notes for 0.233", "pr_createdAt": "2020-03-05T08:00:15Z", "pr_url": "https://github.com/prestodb/presto/pull/14215", "timeline": [{"oid": "a48e2898185c31545ca9b64c9feafc51353e5b72", "url": "https://github.com/prestodb/presto/commit/a48e2898185c31545ca9b64c9feafc51353e5b72", "message": "Add release notes for 0.233", "committedDate": "2020-03-05T08:44:58Z", "type": "forcePushed"}, {"oid": "2e56413a28b80592ef2aa3b9f15be3a49c72ef3c", "url": "https://github.com/prestodb/presto/commit/2e56413a28b80592ef2aa3b9f15be3a49c72ef3c", "message": "Add release notes for 0.233", "committedDate": "2020-03-05T08:47:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE0OTUyNw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388149527", "bodyText": "@rschlussel How can we rephrase this? #14098", "author": "caithagoras", "createdAt": "2020-03-05T08:48:35Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for :func:`classification_fallout function`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.\n+* Allow server to start when ``hive.s3-file-system-type`` is set to ``HADOOP_DEFAULT``.\n+* Add configuration property ``hive.insert-overwrite-immutable-partitions-enabled`` to allow admin set insert overwrite\n+  as the default insertion behavior for Hive connector.\n+* Add configuration property ``hive.node-selection-strategy`` to choose ``NodeSelectionStrategy``. When ``SOFT_AFFINITY`` is selected,\n+  scheduler will make the best effort to request the same worker to fetch the same file.\n+* Remove configuration property ``hive.force-local-scheduling``. The same functionality can be achieved by setting\n+  ``hive.node-selection-strategy`` to ``HARD_AFFINITY``.\n+* Store column names and types for views in the metastore. Views in the Hive connector can now only use types supported by Hive.", "originalCommit": "2e56413a28b80592ef2aa3b9f15be3a49c72ef3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxNDQ1OQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388514459", "bodyText": "Add support for storing column names and types for views in the Hive metastore. <second sentence>", "author": "mayankgarg1990", "createdAt": "2020-03-05T19:30:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE0OTUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyMjIwMA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388522200", "bodyText": "Is this better?:\nInclude column information when storing a view in the metastore so that other tools can see the view definition.  As a result of this change, output column types for Hive views must be supported by the Hive metastore.\nHere's a longer description of what this change is about, in case you have any better suggestions:\nPreviously we didn't fill out the column name/type information when we created hive views in the metastore, we just put a single dummy column.  That meant other tools that aren't Presto had no insight into what a Presto view was.   Now we are storing the actual column information, so other tools can see that information in the metastore just as they can for tables created by Presto.  As a side effect, the output type of Hive views now must be supported hive types. Previously you technically could have your view return some random Presto type (e.g. hll) not supported by hive tables because we didn't tell the metastore about it.", "author": "rschlussel", "createdAt": "2020-03-05T19:44:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE0OTUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyNzM0MQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388527341", "bodyText": "oh didn't see @mayankgarg1990's suggestion.  that works too.", "author": "rschlussel", "createdAt": "2020-03-05T19:53:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE0OTUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1MDY1MQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388150651", "bodyText": "Seems a bit too verbose to me. Should we make it more concise? @kewang1024", "author": "caithagoras", "createdAt": "2020-03-05T08:50:53Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for :func:`classification_fallout function`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.\n+* Allow server to start when ``hive.s3-file-system-type`` is set to ``HADOOP_DEFAULT``.\n+* Add configuration property ``hive.insert-overwrite-immutable-partitions-enabled`` to allow admin set insert overwrite\n+  as the default insertion behavior for Hive connector.\n+* Add configuration property ``hive.node-selection-strategy`` to choose ``NodeSelectionStrategy``. When ``SOFT_AFFINITY`` is selected,\n+  scheduler will make the best effort to request the same worker to fetch the same file.\n+* Remove configuration property ``hive.force-local-scheduling``. The same functionality can be achieved by setting\n+  ``hive.node-selection-strategy`` to ``HARD_AFFINITY``.\n+* Store column names and types for views in the metastore. Views in the Hive connector can now only use types supported by Hive.\n+\n+\n+Verifier Changes\n+________________\n+* Fix an issue where invalid checksum queries can be generated for certain queries containing columns of ``RowType``.\n+* Fix an issue where checksum query would fail for queries containing map columns whose key or value types are arrays or rows.\n+* Fix incorrect decision for determinism analysis of queries with top-level ``LIMIT`` clause. (:pr:`14176`).\n+* Add checks for keys, values, and cardinality sum when validating a map column.\n+* Add support to disable individual failure resolvers (:pr:`14148`).\n+* Add support to auto-resolve control checksum query failures with ``COMPILER_ERROR``, instead of skipping the verification.\n+* Add support for specifying non-deterministic catalogs by configuration property ``determinism.non-determinism-catalogs``.\n+  Queries explicitly referencing tables from those catalogs are treated as non-deterministic.\n+* Improve query performance during determinism analysis of queries with top-level ``LIMIT`` clause.\n+* Improve correctness check for floating point columns whose mean values of either the control query or the test query is closed to 0.\n+\n+\n+Druid Changes\n+_____________\n+* Add Druid Connector.\n+* Improve query performance with filter pushdown.\n+\n+\n+Geospatial Changes\n+__________________\n+* Improve :func:`ST_Points` to add support for major well-known spatial objects.\n+  :func:`ST_Points` now supports ``POINT``, ``LINESTRING``, ``POLYGON``, ``MULTIPOINT``, ``MULTILINESTRING``, ``MULTIPOLYGON`` and ``GEOMETRYCOLLECTION``.\n+* Improve :func:`ST_IsValid` and :func:`ST_IsSimple` to adhere to the ISO/OGC standards more closely.\n+  The two functions used to return the same result but may now be different. Users should check both functions to be sure their geometries are well-behaved.\n+  :func:`geometry_invalid_reason` will return different but semantically similar strings.\n+* Improve performance of :func:`ST_Intersection` by reduces the cost by returning simply the geometry if it is with an enclosing envelope.\n+  This can reduce the cost by ``10^5x`` or more for complex polygons when this occurs.\n+\n+SPI Changes\n+___________\n+* Add parameter ``NodeSelectionStrategy nodeSelectionStrategy`` in method ``ConnectorBucketNodeMap#createBucketNodeMap`` to indicate\n+  which affinity strategy to use when creating a bucket node map.\n+* Add parameter ``List<Node> sortedNodes`` in method ``ConnectorNodePartitioningProvider#getBucketNodeMap`` to provide\n+  a sorted list of nodes from which a connector can choose to perform affinity scheduling.\n+* Add enum ``NodeSelectionStrategy``. ``NO_PREFERENCE`` indicates data is remotely accessible from workers,\n+  ``HARD_AFFINITY`` to indicate data and workers are collocated, and ``SOFT_AFFINITY`` to indicate data is remotely accessible", "originalCommit": "2e56413a28b80592ef2aa3b9f15be3a49c72ef3c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "url": "https://github.com/prestodb/presto/commit/d6b37f119d3ccd40b4036efbb530313d8da36c4c", "message": "Add release notes for 0.233", "committedDate": "2020-03-05T11:40:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NDQ1Mg==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388484452", "bodyText": "Not relevant, we can remove this", "author": "tdcmeehan", "createdAt": "2020-03-05T18:37:01Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NDk3MA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388484970", "bodyText": "My sense is we don't need to add this to our release notes, as it will eventually become the default", "author": "tdcmeehan", "createdAt": "2020-03-05T18:38:09Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NTE3Nw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388485177", "bodyText": "Not clear how one would use this", "author": "tdcmeehan", "createdAt": "2020-03-05T18:38:35Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0ODIxNw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r389448217", "bodyText": "@viczhang861 Could help improving this release note?", "author": "caithagoras", "createdAt": "2020-03-09T03:22:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NTE3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NjI1Mg==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388486252", "bodyText": "I think we can remove this and refer to the SPI changes section below", "author": "tdcmeehan", "createdAt": "2020-03-05T18:40:39Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4Njk3Nw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388486977", "bodyText": "Should we refer to the connectors documentation?  It will be missed in release notes", "author": "tdcmeehan", "createdAt": "2020-03-05T18:42:03Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0OTg0Nw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r389449847", "bodyText": "@kewang1024 Could you please update the connector documentation? Have a high-level description in the release notes and link to the documentation.", "author": "caithagoras", "createdAt": "2020-03-09T03:32:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4Njk3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY5MTgxMA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r390691810", "bodyText": "Add support for soft affinity scheduling for unbucketed split. Refer to connectors documentation.\nAdd soft affinity scheduling to bucketed split. Refer to connectors documentation.", "author": "kewang1024", "createdAt": "2020-03-11T00:53:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4Njk3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4ODQ1NQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388488455", "bodyText": "We just added the connector, so it's being introduced with this optimization.  Can't we remove this line then?", "author": "tdcmeehan", "createdAt": "2020-03-05T18:44:47Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.\n+* Allow server to start when ``hive.s3-file-system-type`` is set to ``HADOOP_DEFAULT``.\n+* Add configuration property ``hive.insert-overwrite-immutable-partitions-enabled`` to allow admin set insert overwrite\n+  as the default insertion behavior for Hive connector.\n+* Add configuration property ``hive.node-selection-strategy`` to choose ``NodeSelectionStrategy``. When ``SOFT_AFFINITY`` is selected,\n+  scheduler will make the best effort to request the same worker to fetch the same file.\n+* Remove configuration property ``hive.force-local-scheduling``. The same functionality can be achieved by setting\n+  ``hive.node-selection-strategy`` to ``HARD_AFFINITY``.\n+* Store column names and types for views in the metastore. Views in the Hive connector can now only use types supported by Hive.\n+\n+\n+Verifier Changes\n+________________\n+* Fix an issue where invalid checksum queries can be generated for certain queries containing columns of ``RowType``.\n+* Fix an issue where checksum query would fail for queries containing map columns whose key or value types are arrays or rows.\n+* Fix incorrect decision for determinism analysis of queries with top-level ``LIMIT`` clause. (:pr:`14176`).\n+* Add checks for keys, values, and cardinality sum when validating a map column.\n+* Add support to disable individual failure resolvers (:pr:`14148`).\n+* Add support to auto-resolve control checksum query failures with ``COMPILER_ERROR``, instead of skipping the verification.\n+* Add support for specifying non-deterministic catalogs by configuration property ``determinism.non-determinism-catalogs``.\n+  Queries explicitly referencing tables from those catalogs are treated as non-deterministic.\n+* Improve query performance during determinism analysis of queries with top-level ``LIMIT`` clause.\n+* Improve correctness check for floating point columns whose mean values of either the control query or the test query is closed to 0.\n+\n+\n+Druid Changes\n+_____________\n+* Add Druid Connector.\n+* Improve query performance with filter pushdown.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4ODc5Mg==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388488792", "bodyText": "Can improve this bullet", "author": "tdcmeehan", "createdAt": "2020-03-05T18:45:29Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.\n+* Allow server to start when ``hive.s3-file-system-type`` is set to ``HADOOP_DEFAULT``.\n+* Add configuration property ``hive.insert-overwrite-immutable-partitions-enabled`` to allow admin set insert overwrite\n+  as the default insertion behavior for Hive connector.\n+* Add configuration property ``hive.node-selection-strategy`` to choose ``NodeSelectionStrategy``. When ``SOFT_AFFINITY`` is selected,\n+  scheduler will make the best effort to request the same worker to fetch the same file.\n+* Remove configuration property ``hive.force-local-scheduling``. The same functionality can be achieved by setting\n+  ``hive.node-selection-strategy`` to ``HARD_AFFINITY``.\n+* Store column names and types for views in the metastore. Views in the Hive connector can now only use types supported by Hive.\n+\n+\n+Verifier Changes\n+________________\n+* Fix an issue where invalid checksum queries can be generated for certain queries containing columns of ``RowType``.\n+* Fix an issue where checksum query would fail for queries containing map columns whose key or value types are arrays or rows.\n+* Fix incorrect decision for determinism analysis of queries with top-level ``LIMIT`` clause. (:pr:`14176`).\n+* Add checks for keys, values, and cardinality sum when validating a map column.\n+* Add support to disable individual failure resolvers (:pr:`14148`).\n+* Add support to auto-resolve control checksum query failures with ``COMPILER_ERROR``, instead of skipping the verification.\n+* Add support for specifying non-deterministic catalogs by configuration property ``determinism.non-determinism-catalogs``.\n+  Queries explicitly referencing tables from those catalogs are treated as non-deterministic.\n+* Improve query performance during determinism analysis of queries with top-level ``LIMIT`` clause.\n+* Improve correctness check for floating point columns whose mean values of either the control query or the test query is closed to 0.\n+\n+\n+Druid Changes\n+_____________\n+* Add Druid Connector.\n+* Improve query performance with filter pushdown.\n+\n+\n+Geospatial Changes\n+__________________\n+* Improve :func:`ST_Points` to add support for major well-known spatial objects.\n+  :func:`ST_Points` now supports ``POINT``, ``LINESTRING``, ``POLYGON``, ``MULTIPOINT``, ``MULTILINESTRING``, ``MULTIPOLYGON`` and ``GEOMETRYCOLLECTION``.\n+* Improve :func:`ST_IsValid` and :func:`ST_IsSimple` to adhere to the ISO/OGC standards more closely.\n+  The two functions used to return the same result but may now be different. Users should check both functions to be sure their geometries are well-behaved.\n+  :func:`geometry_invalid_reason` will return different but semantically similar strings.\n+* Improve performance of :func:`ST_Intersection` by reduces the cost by returning simply the geometry if it is with an enclosing envelope.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4OTI0MA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388489240", "bodyText": "Hard to interpret this", "author": "tdcmeehan", "createdAt": "2020-03-05T18:46:16Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.\n+* Allow server to start when ``hive.s3-file-system-type`` is set to ``HADOOP_DEFAULT``.\n+* Add configuration property ``hive.insert-overwrite-immutable-partitions-enabled`` to allow admin set insert overwrite\n+  as the default insertion behavior for Hive connector.\n+* Add configuration property ``hive.node-selection-strategy`` to choose ``NodeSelectionStrategy``. When ``SOFT_AFFINITY`` is selected,\n+  scheduler will make the best effort to request the same worker to fetch the same file.\n+* Remove configuration property ``hive.force-local-scheduling``. The same functionality can be achieved by setting\n+  ``hive.node-selection-strategy`` to ``HARD_AFFINITY``.\n+* Store column names and types for views in the metastore. Views in the Hive connector can now only use types supported by Hive.\n+\n+\n+Verifier Changes\n+________________\n+* Fix an issue where invalid checksum queries can be generated for certain queries containing columns of ``RowType``.\n+* Fix an issue where checksum query would fail for queries containing map columns whose key or value types are arrays or rows.\n+* Fix incorrect decision for determinism analysis of queries with top-level ``LIMIT`` clause. (:pr:`14176`).\n+* Add checks for keys, values, and cardinality sum when validating a map column.\n+* Add support to disable individual failure resolvers (:pr:`14148`).\n+* Add support to auto-resolve control checksum query failures with ``COMPILER_ERROR``, instead of skipping the verification.\n+* Add support for specifying non-deterministic catalogs by configuration property ``determinism.non-determinism-catalogs``.\n+  Queries explicitly referencing tables from those catalogs are treated as non-deterministic.\n+* Improve query performance during determinism analysis of queries with top-level ``LIMIT`` clause.\n+* Improve correctness check for floating point columns whose mean values of either the control query or the test query is closed to 0.\n+\n+\n+Druid Changes\n+_____________\n+* Add Druid Connector.\n+* Improve query performance with filter pushdown.\n+\n+\n+Geospatial Changes\n+__________________\n+* Improve :func:`ST_Points` to add support for major well-known spatial objects.\n+  :func:`ST_Points` now supports ``POINT``, ``LINESTRING``, ``POLYGON``, ``MULTIPOINT``, ``MULTILINESTRING``, ``MULTIPOLYGON`` and ``GEOMETRYCOLLECTION``.\n+* Improve :func:`ST_IsValid` and :func:`ST_IsSimple` to adhere to the ISO/OGC standards more closely.\n+  The two functions used to return the same result but may now be different. Users should check both functions to be sure their geometries are well-behaved.\n+  :func:`geometry_invalid_reason` will return different but semantically similar strings.\n+* Improve performance of :func:`ST_Intersection` by reduces the cost by returning simply the geometry if it is with an enclosing envelope.\n+  This can reduce the cost by ``10^5x`` or more for complex polygons when this occurs.\n+\n+SPI Changes\n+___________\n+* Add parameter ``NodeSelectionStrategy nodeSelectionStrategy`` in method ``ConnectorBucketNodeMap#createBucketNodeMap`` to indicate\n+  which affinity strategy to use when creating a bucket node map.\n+* Add parameter ``List<Node> sortedNodes`` in method ``ConnectorNodePartitioningProvider#getBucketNodeMap`` to provide\n+  a sorted list of nodes from which a connector can choose to perform affinity scheduling.\n+* Add enum ``NodeSelectionStrategy``. ``NO_PREFERENCE`` indicates data is remotely accessible from workers,\n+  ``HARD_AFFINITY`` to indicate data and workers are collocated, and ``SOFT_AFFINITY`` to indicate data is remotely accessible\n+  but scheduler will make the best effort to fetch the same piece of data from the same worker.\n+* Replace ``ConnectorSplit#isRemoteAccessible`` with ``isRemoteAccessible`` is true if and only if ``getNodeSelectionStrategy`` returns ``HARD_AFFINITY``.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0OTU5NA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r389449594", "bodyText": "@kewang1024 Similar here. If things cannot be explained concisely, just include one release note item and refer to the PR with:\n(:pr:`13966`)", "author": "caithagoras", "createdAt": "2020-03-09T03:30:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4OTI0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY4Nzc3OQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r390687779", "bodyText": "Add parameter NodeSelectionStrategy nodeSelectionStrategy in method ConnectorBucketNodeMap#createBucketNodeMap to indicate\nwhich affinity strategy to use when creating a bucket node map (:pr:14095).\nAdd parameter List<Node> sortedNodes in method ConnectorNodePartitioningProvider#getBucketNodeMap to provide\na list of nodes from which a connector can choose to perform affinity scheduling (:pr:14095).\nAdd enum NodeSelectionStrategy. NO_PREFERENCE indicates data is remotely accessible from workers,\nHARD_AFFINITY to indicate data and workers are collocated, and SOFT_AFFINITY to indicate data is remotely accessible (:pr:13966).\nReplace ConnectorSplit#isRemoteAccessible with isRemoteAccessible is true if and only if getNodeSelectionStrategy returns HARD_AFFINITY (:pr:13966).\nReplace ConnectorSplit#getAddresses with getPreferredNodes, to provide hints to the scheduler where to schedule splits (:pr:13966).", "author": "kewang1024", "createdAt": "2020-03-11T00:37:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4OTI0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ5MjM2OA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388492368", "bodyText": "Fix function registration for :func:classification_fall_out.", "author": "bhhari", "createdAt": "2020-03-05T18:51:59Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwOTg5MA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388509890", "bodyText": "Both of these points are too specific - can we talk about the end impact? For ArbitraryOutputBuffer what kind of improvement should we see - errors or performance?\nFor function registration - does this mean the function was not usable?", "author": "mayankgarg1990", "createdAt": "2020-03-05T19:21:56Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0ODQzOA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r389448438", "bodyText": "@yingsu00 @wenleix Could you help improve this release note?", "author": "caithagoras", "createdAt": "2020-03-09T03:23:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwOTg5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxMjIzOQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388512239", "bodyText": "nit: Add IP address function->s<-", "author": "mayankgarg1990", "createdAt": "2020-03-05T19:26:05Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxMjU5NQ==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388512595", "bodyText": "Is this by default or needs to be enabled?", "author": "mayankgarg1990", "createdAt": "2020-03-05T19:26:43Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0ODY5Nw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r389448697", "bodyText": "@shixuan-fan Could you help improve this release note?", "author": "caithagoras", "createdAt": "2020-03-09T03:25:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxMjU5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU1MDIxNw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r390550217", "bodyText": "How about:\n* Add directory listing cache for Hive Connector. It is disabled by default and could be enabled by setting ``hive.file-status-cache-tables``,  ``hive.file-status-cache-size``, ``hive.file-status-cache-expire-time``.\n\nAlso cc @zhenxiao to see if it could be further improved.", "author": "shixuan-fan", "createdAt": "2020-03-10T19:11:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxMjU5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU2MDU4OA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r390560588", "bodyText": "looks good to me", "author": "zhenxiao", "createdAt": "2020-03-10T19:31:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxMjU5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxMzY0Mw==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r388513643", "bodyText": "to allow admin set insert overwrite -> is the intent to say to allow the admin to set insert overwrite ?", "author": "mayankgarg1990", "createdAt": "2020-03-05T19:28:37Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix function registration for function :func:`classification_fall_out`.\n+* Add configuration property ``exchange.async-page-transport-enabled`` to turn on non-blocking IO for page transport,\n+  and add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+  Use URL prefix ``/v1/task/async`` for async page transport request.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.\n+* Add support for soft affinity scheduling, which makes the best effort to fetch the same piece of data from the same worker,\n+  while allowing fallback to random workers if the preferred workers are too busy to handle additional splits.\n+  The feature can be turned on by ``ConnectorSplit#getNodeSelectionStrategy()``.\n+* Add soft affinity scheduling to bucketed split. It makes the best effort to fetch the same bucket data from the same worker.\n+  When using dynamic group scheduling, if the preferred workers are unavailable to handle the specific bucket splits, it will fallback to random workers.\n+* Add hash functions ``fnv1_32``, ``fnv1_64``, ``fnv1a_32``, and ``fnv1a_64``.\n+* Add IP address function :func:`ip_subnet_min`, :func:`ip_subnet_max`, :func:`ip_subnet_range`, and :func:`is_subnet_of`.\n+* Improve performance of ``StreamingAggregationOperator``.\n+\n+\n+Hive Changes\n+____________\n+* Add directory listing cache for Hive Connector.\n+* Allow server to start when ``hive.s3-file-system-type`` is set to ``HADOOP_DEFAULT``.\n+* Add configuration property ``hive.insert-overwrite-immutable-partitions-enabled`` to allow admin set insert overwrite", "originalCommit": "d6b37f119d3ccd40b4036efbb530313d8da36c4c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7d631ec8a1f439f1a0839bd1239b4739c2810885", "url": "https://github.com/prestodb/presto/commit/7d631ec8a1f439f1a0839bd1239b4739c2810885", "message": "Add release notes for 0.233", "committedDate": "2020-03-07T22:23:26Z", "type": "forcePushed"}, {"oid": "4dfafa907c70db0a0591be0d9c8e4e65868b34db", "url": "https://github.com/prestodb/presto/commit/4dfafa907c70db0a0591be0d9c8e4e65868b34db", "message": "Add release notes for 0.233", "committedDate": "2020-03-09T03:27:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgxMDExMA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r389810110", "bodyText": "Add support for async page transport with non-blocking IO. This can be enabled with the exchange.async-page-transport-enabled configuration property.  Server side page transport timeout is controlled with the exchange.async-page-transport-timeout configuration property.\nAdd support to handle timeouts of http requests using multiple thread pools. This can be controlled with the task.http-timeout-concurrency configuration property.", "author": "viczhang861", "createdAt": "2020-03-09T16:32:42Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,76 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution.\n+* Fix an issue where :func:`classification_fall_out` cannot be found.\n+* Add configuration property ``exchange.async-page-transport-timeout`` to set for server side timeout.\n+* Add configuration property ``task.http-timeout-concurrency`` to improve performance of task timeout executors.", "originalCommit": "4dfafa907c70db0a0591be0d9c8e4e65868b34db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1fae7ef1486ddde9a8fb90dc8c67c1cf114e2e44", "url": "https://github.com/prestodb/presto/commit/1fae7ef1486ddde9a8fb90dc8c67c1cf114e2e44", "message": "Add release notes for 0.233", "committedDate": "2020-03-10T22:56:50Z", "type": "forcePushed"}, {"oid": "ecd6babdc08fa10748d5bec413e84512a5c3add7", "url": "https://github.com/prestodb/presto/commit/ecd6babdc08fa10748d5bec413e84512a5c3add7", "message": "Add release notes for 0.233", "committedDate": "2020-03-10T23:02:52Z", "type": "forcePushed"}, {"oid": "c98913d50ca0a25432e0fa6eb8a89ca62e6c98fe", "url": "https://github.com/prestodb/presto/commit/c98913d50ca0a25432e0fa6eb8a89ca62e6c98fe", "message": "Add release notes for 0.233", "committedDate": "2020-03-10T23:05:10Z", "type": "forcePushed"}, {"oid": "eabbf88916708d29cbc76adb2fb5cd1579376ea6", "url": "https://github.com/prestodb/presto/commit/eabbf88916708d29cbc76adb2fb5cd1579376ea6", "message": "Add release notes for 0.233", "committedDate": "2020-03-11T21:08:41Z", "type": "forcePushed"}, {"oid": "7516e50f11db9dec874c1b0237a26ac8281a4254", "url": "https://github.com/prestodb/presto/commit/7516e50f11db9dec874c1b0237a26ac8281a4254", "message": "Add release notes for 0.233", "committedDate": "2020-03-11T21:53:33Z", "type": "forcePushed"}, {"oid": "4d8f0c88e26caace8d9f550408002a54600ee56b", "url": "https://github.com/prestodb/presto/commit/4d8f0c88e26caace8d9f550408002a54600ee56b", "message": "Add release notes for 0.233", "committedDate": "2020-03-11T21:55:00Z", "type": "forcePushed"}, {"oid": "161ac34a273220dadbbf91a58ad39db55f6afa31", "url": "https://github.com/prestodb/presto/commit/161ac34a273220dadbbf91a58ad39db55f6afa31", "message": "Add release notes for 0.233", "committedDate": "2020-03-11T21:55:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxMDM1MA==", "url": "https://github.com/prestodb/presto/pull/14215#discussion_r391910350", "bodyText": "Extra space before period.", "author": "viczhang861", "createdAt": "2020-03-12T21:34:39Z", "path": "presto-docs/src/main/sphinx/release/release-0.233.rst", "diffHunk": "@@ -0,0 +1,69 @@\n+=============\n+Release 0.233\n+=============\n+\n+General Changes\n+_______________\n+* Fix an optimizer failure introduced in ``0.229``, where a ``LIKE`` pattern is deduced into a constant, e.g., ``col LIKE 'a' and col = 'b'``.\n+* Fix ``ArbitraryOutputBuffer`` to avoid skewing output data distribution. (:pr:`14083`).\n+* Fix an issue where :func:`classification_fall_out` cannot be found.\n+* Add support for async page transport with non-blocking IO. This can be enabled by the ``exchange.async-page-transport-enabled`` configuration property .", "originalCommit": "161ac34a273220dadbbf91a58ad39db55f6afa31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ad16fbbd7c2f3ad46e687380b2b18bcbc9daf8ea", "url": "https://github.com/prestodb/presto/commit/ad16fbbd7c2f3ad46e687380b2b18bcbc9daf8ea", "message": "Add release notes for 0.233", "committedDate": "2020-03-13T20:30:44Z", "type": "forcePushed"}, {"oid": "4d55e7d183f9601117d9896c6d98d4df1648968c", "url": "https://github.com/prestodb/presto/commit/4d55e7d183f9601117d9896c6d98d4df1648968c", "message": "Add release notes for 0.233", "committedDate": "2020-03-16T21:34:00Z", "type": "forcePushed"}, {"oid": "834366d3319cb8e051136a815bd5c139094b6d8f", "url": "https://github.com/prestodb/presto/commit/834366d3319cb8e051136a815bd5c139094b6d8f", "message": "Add release notes for 0.233", "committedDate": "2020-03-16T22:37:35Z", "type": "forcePushed"}, {"oid": "3169260203bcbdab88df9339fdfb3a569ee05eca", "url": "https://github.com/prestodb/presto/commit/3169260203bcbdab88df9339fdfb3a569ee05eca", "message": "Add release notes for 0.233", "committedDate": "2020-03-16T22:39:44Z", "type": "forcePushed"}, {"oid": "4494ac63eca52374294d2788c7b08032974839df", "url": "https://github.com/prestodb/presto/commit/4494ac63eca52374294d2788c7b08032974839df", "message": "Add release notes for 0.233", "committedDate": "2020-03-16T22:40:12Z", "type": "commit"}, {"oid": "4494ac63eca52374294d2788c7b08032974839df", "url": "https://github.com/prestodb/presto/commit/4494ac63eca52374294d2788c7b08032974839df", "message": "Add release notes for 0.233", "committedDate": "2020-03-16T22:40:12Z", "type": "forcePushed"}]}