{"pr_number": 15467, "pr_title": "Add verifier flag for removing memory related session property", "pr_createdAt": "2020-11-20T23:49:04Z", "pr_url": "https://github.com/prestodb/presto/pull/15467", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODI1NDE0MQ==", "url": "https://github.com/prestodb/presto/pull/15467#discussion_r528254141", "bodyText": "Use plural?\n@Config(\"remove-memory-related-session-properties\")\n... setRemoveMemoryRelatedSessionProperties(boolean removeMemoryRelatedSessionProperties)", "author": "caithagoras", "createdAt": "2020-11-21T23:08:29Z", "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/prestoaction/PrestoActionConfig.java", "diffHunk": "@@ -140,4 +141,16 @@ public PrestoActionConfig setApplicationName(String applicationName)\n         this.applicationName = applicationName;\n         return this;\n     }\n+\n+    public boolean isRemoveMemoryRelatedSessionProperty()\n+    {\n+        return removeMemoryRelatedSessionProperty;\n+    }\n+\n+    @Config(\"remove-memory-related-session-property\")\n+    public PrestoActionConfig setRemoveMemoryRelatedSessionProperty(boolean removeMemoryRelatedSessionProperty)", "originalCommit": "3292544ed19c8567d5b1f67072a9e4bb315ae34d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODI1NDE4MA==", "url": "https://github.com/prestodb/presto/pull/15467#discussion_r528254180", "bodyText": "Use plural?", "author": "caithagoras", "createdAt": "2020-11-21T23:08:54Z", "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/prestoaction/JdbcPrestoAction.java", "diffHunk": "@@ -64,6 +64,7 @@\n     private final String testId;\n     private final Optional<String> testName;\n     private final String applicationName;\n+    private final boolean removeMemoryRelatedSessionProperty;", "originalCommit": "3292544ed19c8567d5b1f67072a9e4bb315ae34d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODI1NDE5Mg==", "url": "https://github.com/prestodb/presto/pull/15467#discussion_r528254192", "bodyText": "here as well?", "author": "caithagoras", "createdAt": "2020-11-21T23:09:06Z", "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/prestoaction/PrestoActionConfig.java", "diffHunk": "@@ -45,6 +45,7 @@\n     private Map<String, String> jdbcUrlParameters = ImmutableMap.of();\n     private Duration queryTimeout = new Duration(60, MINUTES);\n     private String applicationName = \"verifier-test\";\n+    private boolean removeMemoryRelatedSessionProperty = true;", "originalCommit": "3292544ed19c8567d5b1f67072a9e4bb315ae34d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "de55348415f817c1239fae5603fb8604baad2099", "url": "https://github.com/prestodb/presto/commit/de55348415f817c1239fae5603fb8604baad2099", "message": "Add verifier flag for removing memory related session property\n\nIn some cases we want to remove these session property when run verifier\ntest on smaller cluster. While in certain other cases we want to keep or\nadd them to test memory related improvements (while not changing the\ncluster config).", "committedDate": "2020-11-22T03:10:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODI4MjIzMg==", "url": "https://github.com/prestodb/presto/pull/15467#discussion_r528282232", "bodyText": "Here as well.", "author": "caithagoras", "createdAt": "2020-11-22T04:50:23Z", "path": "presto-verifier/src/main/java/com/facebook/presto/verifier/prestoaction/QueryActionUtil.java", "diffHunk": "@@ -36,7 +36,8 @@ private QueryActionUtil()\n     public static Map<String, String> mangleSessionProperties(\n             Map<String, String> mainQuerySessionProperty,\n             QueryStage queryStage,\n-            Duration queryTimeout)\n+            Duration queryTimeout,\n+            boolean removeMemoryRelatedSessionProperty)", "originalCommit": "de55348415f817c1239fae5603fb8604baad2099", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ee52981549a5f4c0a710b8dd7d9a18f61a670306", "url": "https://github.com/prestodb/presto/commit/ee52981549a5f4c0a710b8dd7d9a18f61a670306", "message": "Add verifier flag for removing memory related session property\n\nIn some cases we want to remove these session property when run verifier\ntest on smaller cluster. While in certain other cases we want to keep or\nadd them to test memory related improvements (while not changing the\ncluster config).", "committedDate": "2020-11-22T06:19:01Z", "type": "forcePushed"}, {"oid": "8eb9718575524574b710bdea619275b51993c1cb", "url": "https://github.com/prestodb/presto/commit/8eb9718575524574b710bdea619275b51993c1cb", "message": "Add verifier flag for removing memory related session property\n\nIn some cases we want to remove these session property when run verifier\ntest on smaller cluster. While in certain other cases we want to keep or\nadd them to test memory related improvements (while not changing the\ncluster config).", "committedDate": "2020-11-22T07:07:36Z", "type": "commit"}, {"oid": "8eb9718575524574b710bdea619275b51993c1cb", "url": "https://github.com/prestodb/presto/commit/8eb9718575524574b710bdea619275b51993c1cb", "message": "Add verifier flag for removing memory related session property\n\nIn some cases we want to remove these session property when run verifier\ntest on smaller cluster. While in certain other cases we want to keep or\nadd them to test memory related improvements (while not changing the\ncluster config).", "committedDate": "2020-11-22T07:07:36Z", "type": "forcePushed"}]}