{"pr_number": 186, "pr_title": "#175 - Do not build assembly jar-with-dependencies", "pr_createdAt": "2020-05-28T15:24:29Z", "pr_url": "https://github.com/artipie/artipie/pull/186", "timeline": [{"oid": "814b772e612e251134b32fed414825b2f3f192c7", "url": "https://github.com/artipie/artipie/commit/814b772e612e251134b32fed414825b2f3f192c7", "message": "Profile ver created in pom", "committedDate": "2020-05-28T15:21:54Z", "type": "commit"}, {"oid": "722c2c918f33d0aaf74d021731f5b8df3894870c", "url": "https://github.com/artipie/artipie/commit/722c2c918f33d0aaf74d021731f5b8df3894870c", "message": "Default profile - qulice", "committedDate": "2020-05-29T02:10:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNjQ0MA==", "url": "https://github.com/artipie/artipie/pull/186#discussion_r433026440", "bodyText": "@marceloamadeu based on my interpretation of #175, we should move this to a separate profile instead of including i in qulice profile. Besides, it does not make sense to tie this in to the static analysis of the Qulice plugin which is what the qulice profile.\nTl;dr, let's name it something other than qulice which is a profile we use for something else.", "author": "carlosmiranda", "createdAt": "2020-06-01T03:22:59Z", "path": "pom.xml", "diffHunk": "@@ -198,51 +198,66 @@ SOFTWARE.\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n-  <build>\n-    <testResources>\n-      <testResource>\n-        <directory>${basedir}/src/test/resources</directory>\n-        <filtering>true</filtering>\n-      </testResource>\n-    </testResources>\n-    <plugins>\n-      <plugin>\n-        <artifactId>maven-assembly-plugin</artifactId>\n-        <configuration>\n-          <finalName>artipie</finalName>\n-          <archive>\n-            <manifest>\n-              <mainClass>com.artipie.VertxMain</mainClass>\n-            </manifest>\n-          </archive>\n-          <descriptorRefs>\n-            <descriptorRef>jar-with-dependencies</descriptorRef>\n-          </descriptorRefs>\n-        </configuration>\n-        <executions>\n-          <execution>\n-            <id>make-assembly</id>\n-            <phase>package</phase>\n-            <goals>\n-              <goal>single</goal>\n-            </goals>\n-          </execution>\n-        </executions>\n-      </plugin>\n-      <plugin>\n-        <artifactId>maven-failsafe-plugin</artifactId>\n-        <configuration>\n-          <parallel>none</parallel>\n-        </configuration>\n-        <executions>\n-          <execution>\n-            <goals>\n-              <goal>integration-test</goal>\n-              <goal>verify</goal>\n-            </goals>\n-          </execution>\n-        </executions>\n-      </plugin>\n-    </plugins>\n-  </build>\n+  <profiles>\n+    <profile>\n+      <id>qulice</id>\n+      <activation>\n+        <activeByDefault>true</activeByDefault>\n+      </activation>\n+      <build>\n+        <testResources>\n+          <testResource>\n+            <directory>${basedir}/src/test/resources</directory>\n+            <filtering>true</filtering>\n+          </testResource>\n+        </testResources>\n+        <plugins>\n+          <plugin>\n+            <artifactId>maven-assembly-plugin</artifactId>", "originalCommit": "722c2c918f33d0aaf74d021731f5b8df3894870c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1NDgzOA==", "url": "https://github.com/artipie/artipie/pull/186#discussion_r433554838", "bodyText": "@carlosmiranda I understand your change request ... To confirm, before doing this, I would like to ask @victornoel's opinion.\nTks", "author": "marceloamadeu", "createdAt": "2020-06-02T00:17:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNjQ0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY1NDEwMA==", "url": "https://github.com/artipie/artipie/pull/186#discussion_r433654100", "bodyText": "@carlosmiranda @marceloamadeu I don't see any reason to have the maven-assembly-plugin in the same profile as qulice, those are two very different things and most certainly not meant to be used for the same reason.\nI would think introducing a separate profile should be a good solution.\nNote that I have no idea what this assembly file is used for, so maybe @g4s8 can chip in to tell us where the profile should be activated in the CI or in rultor for releases maybe?", "author": "victornoel", "createdAt": "2020-06-02T06:45:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNjQ0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY1NDQzNA==", "url": "https://github.com/artipie/artipie/pull/186#discussion_r433654434", "bodyText": "@carlosmiranda also, why put the tests related things in a profile? I think there were perfects where they were before IMHO.", "author": "victornoel", "createdAt": "2020-06-02T06:46:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNjQ0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY3MzI4OQ==", "url": "https://github.com/artipie/artipie/pull/186#discussion_r433673289", "bodyText": "@victornoel yes, you are right, this profile should be enabled with Docker builds in Github actions.", "author": "g4s8", "createdAt": "2020-06-02T07:27:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNjQ0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDI1MTkwMA==", "url": "https://github.com/artipie/artipie/pull/186#discussion_r434251900", "bodyText": "@marceloamadeu any updates on this?", "author": "carlosmiranda", "createdAt": "2020-06-03T00:54:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNjQ0MA=="}], "type": "inlineReview"}, {"oid": "82ccaf9b7900bc8ec6ce2a456eb93e4364147d73", "url": "https://github.com/artipie/artipie/commit/82ccaf9b7900bc8ec6ce2a456eb93e4364147d73", "message": "Corrections: pom.xml and Dockerfile", "committedDate": "2020-06-04T01:26:11Z", "type": "commit"}, {"oid": "d36551fa093a607df20277aae77057d98a60754c", "url": "https://github.com/artipie/artipie/commit/d36551fa093a607df20277aae77057d98a60754c", "message": "Corrections: pom.xml", "committedDate": "2020-06-04T01:31:24Z", "type": "commit"}, {"oid": "2aaf7e20729f0eb95563890e56379eddb8a7f628", "url": "https://github.com/artipie/artipie/commit/2aaf7e20729f0eb95563890e56379eddb8a7f628", "message": "Merge branch 'master' into 175", "committedDate": "2020-06-08T06:34:53Z", "type": "commit"}]}