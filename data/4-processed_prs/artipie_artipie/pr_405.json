{"pr_number": 405, "pr_title": "Proof for python repository", "pr_createdAt": "2020-07-30T05:40:06Z", "pr_url": "https://github.com/artipie/artipie/pull/405", "timeline": [{"oid": "7bab7b6a08046b1a9b522ccc85b315f4a4d7b89f", "url": "https://github.com/artipie/artipie/commit/7bab7b6a08046b1a9b522ccc85b315f4a4d7b89f", "message": "Pypi proof", "committedDate": "2020-07-30T05:19:00Z", "type": "commit"}, {"oid": "f5b0ec237ff1b7944998b697914dc96223bb2252", "url": "https://github.com/artipie/artipie/commit/f5b0ec237ff1b7944998b697914dc96223bb2252", "message": "proof-pypi.yml corrected", "committedDate": "2020-07-30T05:39:02Z", "type": "commit"}, {"oid": "912f55cb72aa6d8f87ba5a524eefdbf022f81ed8", "url": "https://github.com/artipie/artipie/commit/912f55cb72aa6d8f87ba5a524eefdbf022f81ed8", "message": "Merge branch 'master' into pypi-proof", "committedDate": "2020-07-30T05:40:53Z", "type": "commit"}, {"oid": "b5ed00c594f53d681e86aa903381706c85eda45d", "url": "https://github.com/artipie/artipie/commit/b5ed00c594f53d681e86aa903381706c85eda45d", "message": "chmod run.sh", "committedDate": "2020-07-30T10:06:22Z", "type": "commit"}, {"oid": "cdc1679fadd9cafe380310a5143a373747c4c6de", "url": "https://github.com/artipie/artipie/commit/cdc1679fadd9cafe380310a5143a373747c4c6de", "message": "Merge branch 'master' of https://github.com/artipie/artipie into pypi-proof", "committedDate": "2020-07-30T10:19:58Z", "type": "commit"}, {"oid": "27c589e6571daa88f6786795c00d5f2302ccdc31", "url": "https://github.com/artipie/artipie/commit/27c589e6571daa88f6786795c00d5f2302ccdc31", "message": "remove curl and verbose", "committedDate": "2020-07-30T10:20:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk4MjY3NA==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r462982674", "bodyText": "As it been discussed with @g4s8, we keep this part without any changes. But if you would ask my opinion, I think we should make this change with all the proofs which have a positive build status.", "author": "Sammers21", "createdAt": "2020-07-30T13:08:38Z", "path": ".github/workflows/proof-pypi.yml", "diffHunk": "@@ -3,6 +3,10 @@ on:\n   push:\n     branches:\n       - \"master\"\n+    pull_request:", "originalCommit": "27c589e6571daa88f6786795c00d5f2302ccdc31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAyOTE5Mw==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463029193", "bodyText": "Is it possible to remove --no-deps option? I can't find any dependencies declaration in setup.py", "author": "Sammers21", "createdAt": "2020-07-30T14:16:46Z", "path": "examples/pypi/run.sh", "diffHunk": "@@ -0,0 +1,22 @@\n+set -x\n+set -e\n+\n+# Start artipie.\n+docker run --name artipie -d -it -v $(pwd)/artipie.yaml:/etc/artipie.yml -v $(pwd):/var/artipie -p 8080:80 artipie/artipie:latest\n+\n+# Wait for container to be ready for new connections.\n+sleep 5\n+\n+# Build and upload python project to Artipie\n+cd sample-project\n+python3 -m pip install --user --upgrade setuptools wheel\n+python3 setup.py sdist bdist_wheel\n+python3 -m pip install --user --upgrade twine\n+python3 -m twine upload --repository-url http://localhost:8080/my-pypi -u username -p 123 dist/*\n+cd ..\n+\n+# Install earlier uploaded python package from artipie.\n+python3 -m pip install --index-url http://localhost:8080/my-pypi --no-deps sample_project", "originalCommit": "27c589e6571daa88f6786795c00d5f2302ccdc31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMDc5Mw==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463030793", "bodyText": "Is possible to get rid of passing credentials here? Since we permit anonymous access in the example, I guess we need to demonstrate it.\nAnd even if you decide to keep the credentials, please, make it consistent with the README.md. In the README.md you use a different password: -p password", "author": "Sammers21", "createdAt": "2020-07-30T14:19:08Z", "path": "examples/pypi/run.sh", "diffHunk": "@@ -0,0 +1,22 @@\n+set -x\n+set -e\n+\n+# Start artipie.\n+docker run --name artipie -d -it -v $(pwd)/artipie.yaml:/etc/artipie.yml -v $(pwd):/var/artipie -p 8080:80 artipie/artipie:latest\n+\n+# Wait for container to be ready for new connections.\n+sleep 5\n+\n+# Build and upload python project to Artipie\n+cd sample-project\n+python3 -m pip install --user --upgrade setuptools wheel\n+python3 setup.py sdist bdist_wheel\n+python3 -m pip install --user --upgrade twine\n+python3 -m twine upload --repository-url http://localhost:8080/my-pypi -u username -p 123 dist/*", "originalCommit": "27c589e6571daa88f6786795c00d5f2302ccdc31", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4MTgwMA==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463181800", "bodyText": "Unfortunately, credentials are required by twine: we can either pass them like it's done here or set via environment variables, I think first option is better in our case.\nAlso I've corrected password value to be consisted with readme.", "author": "olenagerasimova", "createdAt": "2020-07-30T18:12:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMDc5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMzgwNg==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463033806", "bodyText": "Please, end the sentence with a period for the sake of consistency with other comments.", "author": "Sammers21", "createdAt": "2020-07-30T14:23:20Z", "path": "examples/pypi/run.sh", "diffHunk": "@@ -0,0 +1,22 @@\n+set -x\n+set -e\n+\n+# Start artipie.\n+docker run --name artipie -d -it -v $(pwd)/artipie.yaml:/etc/artipie.yml -v $(pwd):/var/artipie -p 8080:80 artipie/artipie:latest\n+\n+# Wait for container to be ready for new connections.\n+sleep 5\n+\n+# Build and upload python project to Artipie", "originalCommit": "27c589e6571daa88f6786795c00d5f2302ccdc31", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4MjQ2MA==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463182460", "bodyText": "Done, also made first letter not capital as it's written in other sentences.", "author": "olenagerasimova", "createdAt": "2020-07-30T18:13:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMzgwNg=="}], "type": "inlineReview"}, {"oid": "fde0ac0ab7b2df2da1b87ec4eefa3d2c5cca3d15", "url": "https://github.com/artipie/artipie/commit/fde0ac0ab7b2df2da1b87ec4eefa3d2c5cca3d15", "message": "Python proof CR", "committedDate": "2020-07-30T18:09:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4NTgyNQ==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463185825", "bodyText": "Looks like a typo.", "author": "Sammers21", "createdAt": "2020-07-30T18:20:02Z", "path": "examples/pypi/README.md", "diffHunk": "@@ -6,25 +6,23 @@ Try this `pypi.yaml` file:\n \n ```yaml\n repo:\n-  type: pypi\n+  type: my-pypi.yaml", "originalCommit": "fde0ac0ab7b2df2da1b87ec4eefa3d2c5cca3d15", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4NjU3MQ==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463186571", "bodyText": "Can you remove this empty line, please?", "author": "Sammers21", "createdAt": "2020-07-30T18:21:24Z", "path": ".github/workflows/proof-pypi.yml", "diffHunk": "@@ -3,6 +3,7 @@ on:\n   push:\n     branches:\n       - \"master\"\n+", "originalCommit": "fde0ac0ab7b2df2da1b87ec4eefa3d2c5cca3d15", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "598c07daff4ba32529dec74bcebd991623fce47c", "url": "https://github.com/artipie/artipie/commit/598c07daff4ba32529dec74bcebd991623fce47c", "message": "Python proof CR", "committedDate": "2020-07-31T04:26:16Z", "type": "commit"}, {"oid": "19fa70ffdc3bbd9b5e64bd3b76974bd0fe139cbf", "url": "https://github.com/artipie/artipie/commit/19fa70ffdc3bbd9b5e64bd3b76974bd0fe139cbf", "message": "Merge branch 'master' into pypi-proof", "committedDate": "2020-07-31T04:28:20Z", "type": "commit"}, {"oid": "d4c237ca7f1335fa59483571b323613b16b35641", "url": "https://github.com/artipie/artipie/commit/d4c237ca7f1335fa59483571b323613b16b35641", "message": "Merge branch 'master' into pypi-proof", "committedDate": "2020-07-31T11:03:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzU1MTk5NA==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463551994", "bodyText": "Can we use:\n\npip  instead of python3 -m pip?\ntwine instead of python3 -m twine?\npip instead of python -m pip?\n\nSame about readme.", "author": "Sammers21", "createdAt": "2020-07-31T11:16:05Z", "path": "examples/pypi/run.sh", "diffHunk": "@@ -0,0 +1,22 @@\n+set -x\n+set -e\n+\n+# Start artipie.\n+docker run --name artipie -d -it -v $(pwd)/artipie.yaml:/etc/artipie.yml -v $(pwd):/var/artipie -p 8080:80 artipie/artipie:latest\n+\n+# Wait for container to be ready for new connections.\n+sleep 5\n+\n+# Build and upload python project to artipie.\n+cd sample-project\n+python3 -m pip install --user --upgrade setuptools wheel\n+python3 setup.py sdist bdist_wheel\n+python3 -m pip install --user --upgrade twine", "originalCommit": "d4c237ca7f1335fa59483571b323613b16b35641", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzU2NjE1NA==", "url": "https://github.com/artipie/artipie/pull/405#discussion_r463566154", "bodyText": "I do not think we should get rid of python3 -m in the script as it explicitly shows python version we are working with here and might (if python3 is not default one) be required if someone will run this script locally.\nIn readme, on the other hand, python version does not matter, so I agree we should remove it.", "author": "olenagerasimova", "createdAt": "2020-07-31T11:52:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzU1MTk5NA=="}], "type": "inlineReview"}, {"oid": "df8176e558c3e23171f44c8dec379c537bc7fdd4", "url": "https://github.com/artipie/artipie/commit/df8176e558c3e23171f44c8dec379c537bc7fdd4", "message": "Python proof CR", "committedDate": "2020-07-31T11:52:43Z", "type": "commit"}, {"oid": "2332fef4be9dfbafb7f59ad73efdd46cceb69def", "url": "https://github.com/artipie/artipie/commit/2332fef4be9dfbafb7f59ad73efdd46cceb69def", "message": "Merge branch 'master' into pypi-proof", "committedDate": "2020-08-03T11:03:49Z", "type": "commit"}]}