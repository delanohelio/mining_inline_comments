{"pr_number": 189, "pr_title": "Add helm adapter", "pr_createdAt": "2020-06-02T15:52:17Z", "pr_url": "https://github.com/artipie/artipie/pull/189", "timeline": [{"oid": "139e5331b8f800104235acb772e7d7a2b56276e1", "url": "https://github.com/artipie/artipie/commit/139e5331b8f800104235acb772e7d7a2b56276e1", "message": "#188 - add helm adapter", "committedDate": "2020-06-02T15:51:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQyNjMyMQ==", "url": "https://github.com/artipie/artipie/pull/189#discussion_r434426321", "bodyText": "@Sammers21 do you need full path URIs for Helm? If not, please wrap it with TrimPathSlice as some other endpoints", "author": "g4s8", "createdAt": "2020-06-03T09:16:57Z", "path": "src/main/java/com/artipie/SliceFromConfig.java", "diffHunk": "@@ -120,6 +121,10 @@ public SliceFromConfig(final RepoConfig config, final Vertx vertx,\n                         \"gem\",\n                         config -> CompletableFuture.completedStage(new GemSlice(storage, vertx.fileSystem()))\n                     ),\n+                    new MapEntry<>(\n+                        \"helm\",\n+                        config -> CompletableFuture.completedStage(new HelmSlice(storage))", "originalCommit": "139e5331b8f800104235acb772e7d7a2b56276e1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQyODAyMA==", "url": "https://github.com/artipie/artipie/pull/189#discussion_r434428020", "bodyText": "@g4s8, I need the full path", "author": "Sammers21", "createdAt": "2020-06-03T09:19:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQyNjMyMQ=="}], "type": "inlineReview"}, {"oid": "6fba7076340e3ad1011b8a3cd9bbde640d8214aa", "url": "https://github.com/artipie/artipie/commit/6fba7076340e3ad1011b8a3cd9bbde640d8214aa", "message": "Merge branch 'master' into add_helm", "committedDate": "2020-06-03T09:20:13Z", "type": "commit"}, {"oid": "eca5ce746bec16488713e3ac5e7ec350bb200a4a", "url": "https://github.com/artipie/artipie/commit/eca5ce746bec16488713e3ac5e7ec350bb200a4a", "message": "Merge branch 'master' of https://github.com/artipie/artipie into add_helm", "committedDate": "2020-06-03T10:11:45Z", "type": "commit"}, {"oid": "618d476a8dc78c7963d349f3d1a820b7fda32498", "url": "https://github.com/artipie/artipie/commit/618d476a8dc78c7963d349f3d1a820b7fda32498", "message": "Merge branch 'master' into add_helm", "committedDate": "2020-06-03T10:18:14Z", "type": "commit"}, {"oid": "632590a54305d06996d1212b2c382aeca4a2fa05", "url": "https://github.com/artipie/artipie/commit/632590a54305d06996d1212b2c382aeca4a2fa05", "message": "Merge branch 'master' of https://github.com/artipie/artipie into add_helm", "committedDate": "2020-06-04T12:32:52Z", "type": "commit"}, {"oid": "976a7256d22764bd579f4261a8565666dba7d836", "url": "https://github.com/artipie/artipie/commit/976a7256d22764bd579f4261a8565666dba7d836", "message": "#188 - update readme", "committedDate": "2020-06-04T12:37:29Z", "type": "commit"}, {"oid": "0d38794b2c6f712a24c17720bf84c62cd1be04f0", "url": "https://github.com/artipie/artipie/commit/0d38794b2c6f712a24c17720bf84c62cd1be04f0", "message": "Merge branch 'add_helm' of github.com:Sammers21/artipie into add_helm", "committedDate": "2020-06-04T12:37:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0NDU5MQ==", "url": "https://github.com/artipie/artipie/pull/189#discussion_r435244591", "bodyText": "@Sammers21 helm adapter supports \"helm push plugin\" https://github.com/chartmuseum/helm-push see: artipie/helm-adapter#12\nSo it should be helm repo add artipie http://localhost:8080 && helm push artipie @my_chart-1.6.4.tgz, isn't it?", "author": "g4s8", "createdAt": "2020-06-04T13:17:02Z", "path": "README.md", "diffHunk": "@@ -371,6 +371,31 @@ Install a gem:\n $ gem install my_first_gem --source http://localhost:8080/gem\n ```\n \n+## Helm chart repo\n+\n+Try this `helm.yaml` file:\n+\n+```yaml\n+repo:\n+  type: helm\n+  storage:\n+    type: fs\n+    path: /tmp/artipie/data/helm-charts\n+```\n+\n+Publish a chart:\n+\n+```bash\n+$ curl --data-binary \"@my_chart-1.6.4.tgz\" http://localhost:8080/helm", "originalCommit": "0d38794b2c6f712a24c17720bf84c62cd1be04f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0NjU5Mw==", "url": "https://github.com/artipie/artipie/pull/189#discussion_r435246593", "bodyText": "@g4s8, helm adapter is not tested with push plugin as per now and it is not as popular. I think we can add it later", "author": "Sammers21", "createdAt": "2020-06-04T13:19:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0NDU5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI2MTE0NA==", "url": "https://github.com/artipie/artipie/pull/189#discussion_r435261144", "bodyText": "@Sammers21 ok, let's add it later", "author": "g4s8", "createdAt": "2020-06-04T13:39:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0NDU5MQ=="}], "type": "inlineReview"}, {"oid": "19f34894fb2b374fb213098ad358b032b60975bb", "url": "https://github.com/artipie/artipie/commit/19f34894fb2b374fb213098ad358b032b60975bb", "message": "Merge branch 'master' of https://github.com/artipie/artipie into add_helm", "committedDate": "2020-06-05T00:26:15Z", "type": "commit"}, {"oid": "84b21d6fa87569fbf6c01a8cc860ef83f466bc68", "url": "https://github.com/artipie/artipie/commit/84b21d6fa87569fbf6c01a8cc860ef83f466bc68", "message": "#188 - add helm", "committedDate": "2020-06-05T00:27:11Z", "type": "commit"}]}