{"pr_number": 516, "pr_title": "Nuget proof", "pr_createdAt": "2020-08-26T13:28:44Z", "pr_url": "https://github.com/artipie/artipie/pull/516", "timeline": [{"oid": "46a4e97cff1724f32221f1e34a3916d6cc43600c", "url": "https://github.com/artipie/artipie/commit/46a4e97cff1724f32221f1e34a3916d6cc43600c", "message": "#154 - nuget proof", "committedDate": "2020-08-26T13:48:52Z", "type": "commit"}, {"oid": "46a4e97cff1724f32221f1e34a3916d6cc43600c", "url": "https://github.com/artipie/artipie/commit/46a4e97cff1724f32221f1e34a3916d6cc43600c", "message": "#154 - nuget proof", "committedDate": "2020-08-26T13:48:52Z", "type": "forcePushed"}, {"oid": "8c02d0a23b67907fe78d734c56a7ed5aa5e74f5b", "url": "https://github.com/artipie/artipie/commit/8c02d0a23b67907fe78d734c56a7ed5aa5e74f5b", "message": "#154 - use pwsh for linux", "committedDate": "2020-08-26T13:54:32Z", "type": "commit"}, {"oid": "4669a08025a9e424ab7ca05f81cc3fdf0023706a", "url": "https://github.com/artipie/artipie/commit/4669a08025a9e424ab7ca05f81cc3fdf0023706a", "message": "#154 - remove file -f + correct img name", "committedDate": "2020-08-26T14:04:51Z", "type": "commit"}, {"oid": "a0c87fd96eb947054673ad7cba75a10450440987", "url": "https://github.com/artipie/artipie/commit/a0c87fd96eb947054673ad7cba75a10450440987", "message": "#154 - setup nuget client", "committedDate": "2020-08-26T14:09:50Z", "type": "commit"}, {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "url": "https://github.com/artipie/artipie/commit/32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "message": "#154 - fix nuget install", "committedDate": "2020-08-26T14:14:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ2NzY1Ng==", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477467656", "bodyText": "@Sammers21 there is typo Repalce", "author": "olegmoz", "createdAt": "2020-08-26T17:27:11Z", "path": ".github/workflows/proof-nuget.yml", "diffHunk": "@@ -3,17 +3,26 @@ on:\n   push:\n     branches:\n       - \"master\"\n+  pull_request:\n+    branches:\n+      - \"master\"\n jobs:\n   proof:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Check out the code\n         uses: actions/checkout@v2\n+      - name: Setup NuGet client\n+        uses: nuget/setup-nuget@v1\n       - name: Build docker image\n         run: |\n           docker build . -t artipie\n-      - name: Start nuget example and proof it works\n+      - name: Repalce docker image with locally built one", "originalCommit": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ2ODEyOA==", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477468128", "bodyText": "@Sammers21 permissions may be removed, permissions are \"everyone can do anything\" by default", "author": "olegmoz", "createdAt": "2020-08-26T17:28:07Z", "path": "examples/nuget/configs/my-nuget.yaml", "diffHunk": "@@ -0,0 +1,10 @@\n+repo:\n+  type: nuget\n+  path: my-nuget\n+  url: http://localhost:8080/my-nuget\n+  storage:\n+    type: fs\n+    path: /var/artipie/data\n+  permissions:\n+    \"*\":\n+      - \"*\"", "originalCommit": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ2ODk4OA==", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477468988", "bodyText": "@Sammers21 I think that path is not supported by NuGet anymore so I think it will be better to remove it", "author": "olegmoz", "createdAt": "2020-08-26T17:29:40Z", "path": "examples/nuget/configs/my-nuget.yaml", "diffHunk": "@@ -0,0 +1,10 @@\n+repo:\n+  type: nuget\n+  path: my-nuget", "originalCommit": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3MDIwMg==", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477470202", "bodyText": "@Sammers21 sample-for-deployment and sample-consumer do not seem to make sense in context of a user. Maybe it will be better to name them sample-library and sample-project? WDYT?", "author": "olegmoz", "createdAt": "2020-08-26T17:31:40Z", "path": "examples/nuget/run.ps1", "diffHunk": "@@ -0,0 +1,30 @@\n+# Trace executed commands.\n+Set-PSDebug -Trace 1\n+\n+# Start Artipie.\n+docker run --rm -d --name artipie -it -v ${PWD}/artipie.yaml:/etc/artipie.yml -v  ${PWD}:/var/artipie -p 8080:80 artipie/artipie:latest\n+\n+# Wait for container to be ready for new connections.\n+Start-Sleep 5\n+\n+# Enter dir with a package for deployment.\n+Set-Location sample-for-deployment\n+\n+# Clear cache.\n+Remove-Item SampleForDeployment.1.0.0.nupkg -ErrorAction Ignore\n+nuget locals all -list\n+\n+# Create a NuGet package.\n+nuget pack\n+\n+# Push the package to Artipie.\n+nuget push SampleForDeployment.1.0.0.nupkg -SkipDuplicate -src http://localhost:8080/my-nuget/index.json\n+\n+# Getting to the consumer dir.\n+Set-Location ../sample-consumer", "originalCommit": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODIwMTkzOA==", "url": "https://github.com/artipie/artipie/pull/516#discussion_r478201938", "bodyText": "@olegmoz, we have the same name convention across all the proofs.", "author": "Sammers21", "createdAt": "2020-08-27T07:05:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3MDIwMg=="}], "type": "inlineReview"}, {"oid": "ba2f62b4911e7c44f5b405563c66062946442090", "url": "https://github.com/artipie/artipie/commit/ba2f62b4911e7c44f5b405563c66062946442090", "message": "#154 - fix typo", "committedDate": "2020-08-27T07:19:19Z", "type": "commit"}, {"oid": "fc56df08122d4ad108301e42094c9c78042e553f", "url": "https://github.com/artipie/artipie/commit/fc56df08122d4ad108301e42094c9c78042e553f", "message": "#154 - config simplification", "committedDate": "2020-08-27T07:24:18Z", "type": "commit"}, {"oid": "8d60170469858235c1bdabf2074a5b192194f11c", "url": "https://github.com/artipie/artipie/commit/8d60170469858235c1bdabf2074a5b192194f11c", "message": "Merge branch 'master' into nuget_proof", "committedDate": "2020-08-27T08:05:25Z", "type": "commit"}]}