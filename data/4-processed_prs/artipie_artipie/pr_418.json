{"pr_number": 418, "pr_title": "Rpm proof", "pr_createdAt": "2020-08-05T10:24:05Z", "pr_url": "https://github.com/artipie/artipie/pull/418", "timeline": [{"oid": "24192238e10e04fab068522c5a6ecb1693d322f0", "url": "https://github.com/artipie/artipie/commit/24192238e10e04fab068522c5a6ecb1693d322f0", "message": "#154 - initial work on rpm proof", "committedDate": "2020-08-05T10:22:54Z", "type": "commit"}, {"oid": "8c39494e6b4dce10a361a1853fcdab86a0105723", "url": "https://github.com/artipie/artipie/commit/8c39494e6b4dce10a361a1853fcdab86a0105723", "message": "#154 - bump rpm version", "committedDate": "2020-08-18T13:59:22Z", "type": "commit"}, {"oid": "4233f85fac7d1ccc47ea796cf3a1c0b0854cf4d6", "url": "https://github.com/artipie/artipie/commit/4233f85fac7d1ccc47ea796cf3a1c0b0854cf4d6", "message": "#154 - complete rpm proof", "committedDate": "2020-08-18T14:56:08Z", "type": "commit"}, {"oid": "602605e9d73b5f8ad4f0d12839232f613fa0f386", "url": "https://github.com/artipie/artipie/commit/602605e9d73b5f8ad4f0d12839232f613fa0f386", "message": "Merge branch 'master' into rpm_proof", "committedDate": "2020-08-18T14:56:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg3MTM5OQ==", "url": "https://github.com/artipie/artipie/pull/418#discussion_r472871399", "bodyText": "@Sammers21 this line looks massive and difficult (time consuming) to read and understand. Maybe we could to split it into several steps?", "author": "olenagerasimova", "createdAt": "2020-08-19T08:54:32Z", "path": "examples/rpm/run.sh", "diffHunk": "@@ -0,0 +1,25 @@\n+set -x\n+set -e\n+\n+# Since we can't run yum on non-rpm based machines\n+# we will use a docker with yum package manager.\n+docker network create --driver bridge artipie-rpm-demo\n+\n+# Start Artipie.\n+docker run --network artipie-rpm-demo --rm --name artipie -d -it -v $(pwd)/artipie.yaml:/etc/artipie.yml -v $(pwd):/var/artipie -p 8080:80 artipie-local\n+\n+# Wait for container to be ready for new connections.\n+sleep 5\n+\n+# Post a wget package.\n+curl -i  -X PUT  --data-binary \"@wget-1.19.5-8.el8_1.1.x86_64.rpm\" http://localhost:8080/my-rpm/wget-1.19.5-8.el8_1.1.x86_64.rpm\n+\n+# Start centos container and install wget from artipie.\n+docker run --network artipie-rpm-demo --rm --name centos -it centos:8 \\\n+ /bin/bash -c \"yum install -y yum-utils ; yum-config-manager --add-repo http://artipie:80/my-rpm/; yum --skip-broken --disablerepo='*' --enablerepo='80_my-rpm_' install wget\"", "originalCommit": "602605e9d73b5f8ad4f0d12839232f613fa0f386", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "92fc2fe79f8375f537b727151a76ec8cd46cf663", "url": "https://github.com/artipie/artipie/commit/92fc2fe79f8375f537b727151a76ec8cd46cf663", "message": "#154 - readability improvements", "committedDate": "2020-08-19T13:26:07Z", "type": "commit"}, {"oid": "b71cd47cf9bb16918bbf5c3be04271d120aecde7", "url": "https://github.com/artipie/artipie/commit/b71cd47cf9bb16918bbf5c3be04271d120aecde7", "message": "Merge branch 'rpm_proof' of github.com:Sammers21/artipie into rpm_proof", "committedDate": "2020-08-19T13:26:33Z", "type": "commit"}, {"oid": "7a4bc705168525e79a4e2221b942cb3d5739de0f", "url": "https://github.com/artipie/artipie/commit/7a4bc705168525e79a4e2221b942cb3d5739de0f", "message": "#154 - enable rpm proof on pull request", "committedDate": "2020-08-19T13:30:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAzNjA5OQ==", "url": "https://github.com/artipie/artipie/pull/418#discussion_r473036099", "bodyText": "@Sammers21 this test will not fail if any step fails, please use /bin/bash -e -c \"commands1; command2\" to fail CMD on step failure", "author": "g4s8", "createdAt": "2020-08-19T13:38:28Z", "path": "examples/rpm/run.sh", "diffHunk": "@@ -16,7 +16,10 @@ curl -i  -X PUT  --data-binary \"@wget-1.19.5-8.el8_1.1.x86_64.rpm\" http://localh\n \n # Start centos container and install wget from artipie.\n docker run --network artipie-rpm-demo --rm --name centos -it centos:8 \\\n- /bin/bash -c \"yum install -y yum-utils ; yum-config-manager --add-repo http://artipie:80/my-rpm/; yum --skip-broken --disablerepo='*' --enablerepo='80_my-rpm_' install wget\"\n+ /bin/bash -c \"\\\n+  yum install -y yum-utils ; \\", "originalCommit": "b71cd47cf9bb16918bbf5c3be04271d120aecde7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "08908473c03bdf0b5fffc8a8cc2aafcc06c1019e", "url": "https://github.com/artipie/artipie/commit/08908473c03bdf0b5fffc8a8cc2aafcc06c1019e", "message": "#154 - add -e option", "committedDate": "2020-08-19T13:40:32Z", "type": "commit"}, {"oid": "e6ee9ec78e0651bec5b1db9b0ad34d35e124333b", "url": "https://github.com/artipie/artipie/commit/e6ee9ec78e0651bec5b1db9b0ad34d35e124333b", "message": "Merge branch 'master' into rpm_proof", "committedDate": "2020-08-20T06:52:42Z", "type": "commit"}, {"oid": "dd27c875fa5b2640ac78d768b94652b7b9046f94", "url": "https://github.com/artipie/artipie/commit/dd27c875fa5b2640ac78d768b94652b7b9046f94", "message": "#154 - pdd ignore examples", "committedDate": "2020-08-20T08:01:04Z", "type": "commit"}, {"oid": "e19cb58022fc3ab48fe1883d3da984b1b0459111", "url": "https://github.com/artipie/artipie/commit/e19cb58022fc3ab48fe1883d3da984b1b0459111", "message": "Merge branch 'rpm_proof' of github.com:Sammers21/artipie into rpm_proof", "committedDate": "2020-08-20T08:01:56Z", "type": "commit"}, {"oid": "6b0e3abef1df0618813611a539bf71b60d60dfbe", "url": "https://github.com/artipie/artipie/commit/6b0e3abef1df0618813611a539bf71b60d60dfbe", "message": "Merge branch 'master' into rpm_proof", "committedDate": "2020-08-20T08:31:48Z", "type": "commit"}, {"oid": "f0c8a74928a6d14b84eca32b7ed76e12ea5ef865", "url": "https://github.com/artipie/artipie/commit/f0c8a74928a6d14b84eca32b7ed76e12ea5ef865", "message": "#154 - make centos start noninteractive", "committedDate": "2020-08-20T08:48:19Z", "type": "commit"}]}