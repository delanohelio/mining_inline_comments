{"pr_number": 2601, "pr_title": "Split files into separate packages", "pr_createdAt": "2020-04-08T11:30:20Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4NTM4OA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405685388", "bodyText": "Shouldn't there be a copyright here?", "author": "lesv", "createdAt": "2020-04-08T17:16:27Z", "path": "functions/snippets/concepts/pom.xml", "diffHunk": "@@ -0,0 +1,149 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4NjYyOQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405686629", "bodyText": "This is already in share-configuration w/o the skipTests.  Ok to keep.", "author": "lesv", "createdAt": "2020-04-08T17:18:28Z", "path": "functions/snippets/concepts/pom.xml", "diffHunk": "@@ -0,0 +1,149 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.example.cloud.functions</groupId>\n+  <artifactId>functions-snippets-concepts</artifactId>\n+\n+  <parent>\n+    <groupId>com.google.cloud.samples</groupId>\n+    <artifactId>shared-configuration</artifactId>\n+    <version>1.0.15</version>\n+  </parent>\n+\n+  <properties>\n+    <powermock.version>2.0.7</powermock.version>\n+    <maven.compiler.target>11</maven.compiler.target>\n+    <maven.compiler.source>11</maven.compiler.source>\n+    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.google.code.gson</groupId>\n+      <artifactId>gson</artifactId>\n+      <version>2.8.6</version>\n+    </dependency>\n+\n+    <!-- The following dependencies are only required for testing -->\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <version>4.13</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.mockito</groupId>\n+      <artifactId>mockito-core</artifactId>\n+      <version>3.3.3</version>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <!-- Required for mocking env vars -->\n+    <dependency>\n+      <groupId>com.github.stefanbirkner</groupId>\n+      <artifactId>system-rules</artifactId>\n+      <version>1.19.0</version>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.truth</groupId>\n+      <artifactId>truth</artifactId>\n+      <version>1.0.1</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.powermock</groupId>\n+      <artifactId>powermock-core</artifactId>\n+      <version>${powermock.version}</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.powermock</groupId>\n+      <artifactId>powermock-module-junit4</artifactId>\n+      <version>${powermock.version}</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.powermock</groupId>\n+      <artifactId>powermock-api-mockito2</artifactId>\n+      <version>${powermock.version}</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.google.guava</groupId>\n+      <artifactId>guava-testlib</artifactId>\n+      <version>28.2-jre</version>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <!-- Required for Function primitives -->\n+    <dependency>\n+      <groupId>com.google.cloud.functions</groupId>\n+      <artifactId>functions-framework-api</artifactId>\n+      <version>1.0.0-alpha-2-rc3</version>\n+      <type>jar</type>\n+    </dependency>\n+  </dependencies>\n+\n+  <!-- Disable tests during GCF builds (from parent POM) -->\n+  <!--   You can remove this profile to run tests -->\n+  <!--   when deploying, but we recommend creating -->\n+  <!--   a CI/CD pipeline via Cloud Build instead -->\n+  <profiles>\n+    <profile>\n+      <id>skip_tests_on_gcf</id>\n+      <activation>\n+        <property>\n+          <name>env.NEW_BUILD</name>\n+        </property>\n+      </activation>\n+      <properties>\n+        <skipTests>true</skipTests>\n+      </properties>\n+    </profile>\n+  </profiles>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4NzQ2MQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405687461", "bodyText": "Copyright & License?", "author": "lesv", "createdAt": "2020-04-08T17:19:54Z", "path": "functions/snippets/firebase/pom.xml", "diffHunk": "@@ -0,0 +1,130 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4Nzg0Ng==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405687846", "bodyText": "That version string isn't really appropriate.", "author": "lesv", "createdAt": "2020-04-08T17:20:32Z", "path": "functions/snippets/firebase/pom.xml", "diffHunk": "@@ -0,0 +1,130 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.example.cloud.functions</groupId>\n+  <artifactId>functions-snippets-firebase</artifactId>\n+\n+  <parent>\n+    <groupId>com.google.cloud.samples</groupId>\n+    <artifactId>shared-configuration</artifactId>\n+    <version>1.0.15</version>\n+  </parent>\n+\n+  <properties>\n+    <powermock.version>2.0.7</powermock.version>\n+    <maven.compiler.target>11</maven.compiler.target>\n+    <maven.compiler.source>11</maven.compiler.source>\n+    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.google.cloud</groupId>\n+      <artifactId>google-cloud-firestore</artifactId>\n+      <version>1.32.5</version>\n+    </dependency>\n+\n+    <!-- Required for Function primitives -->\n+    <dependency>\n+      <groupId>com.google.cloud.functions</groupId>\n+      <artifactId>functions-framework-api</artifactId>\n+      <version>1.0.0-alpha-2-rc3</version>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc1Mzc1Nw==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405753757", "bodyText": "It's what we have, but yes, it needs to be changed and will be.", "author": "eamonnmcmanus", "createdAt": "2020-04-08T19:13:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4Nzg0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4OTA3MA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405689070", "bodyText": "Copyright & license\n<!--\nblah blah blah\n-->", "author": "lesv", "createdAt": "2020-04-08T17:22:32Z", "path": "functions/snippets/helloworld/pom.xml", "diffHunk": "@@ -0,0 +1,231 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4OTg3OA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405689878", "bodyText": "Copyright & License?", "author": "lesv", "createdAt": "2020-04-08T17:23:52Z", "path": "functions/snippets/http/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY5MDMyOA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405690328", "bodyText": "Copyright & License?", "author": "lesv", "createdAt": "2020-04-08T17:24:33Z", "path": "functions/snippets/imagemagick/pom.xml", "diffHunk": "@@ -0,0 +1,181 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY5MDg4MQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405690881", "bodyText": "Copyright & Licenses?", "author": "lesv", "createdAt": "2020-04-08T17:25:19Z", "path": "functions/snippets/logging/pom.xml", "diffHunk": "@@ -0,0 +1,141 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY5MTI0MQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405691241", "bodyText": "Copyright & License?", "author": "lesv", "createdAt": "2020-04-08T17:25:53Z", "path": "functions/snippets/ocr/pom.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY5MjE1MA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405692150", "bodyText": "This may execute multiple times in J-D-S as it does a search for pom.xml files, and not this style.\n(ie. this might be redundant)", "author": "lesv", "createdAt": "2020-04-08T17:27:25Z", "path": "functions/snippets/pom.xml", "diffHunk": "@@ -8,6 +8,18 @@\n   <artifactId>functions-snippets</artifactId>\n   <version>1.0-SNAPSHOT</version>\n \n+  <packaging>pom</packaging>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg0OTQ5OQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405849499", "bodyText": "This file was deleted, per @kurtisvg's suggestion below. \ud83d\ude42", "author": "ace-n", "createdAt": "2020-04-08T22:24:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY5MjE1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY5MjUzMA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405692530", "bodyText": "Copyright & License?", "author": "lesv", "createdAt": "2020-04-08T17:28:01Z", "path": "functions/snippets/slack/pom.xml", "diffHunk": "@@ -0,0 +1,297 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc1NjE1Ng==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405756156", "bodyText": "We can address it later, but this seems wrong to me. HttpRequest isn't the sort of class you would expect to see as the payload of an event.", "author": "eamonnmcmanus", "createdAt": "2020-04-08T19:17:34Z", "path": "functions/snippets/helloworld/src/main/scala/com/example/functions/helloworld/ScalaHelloBackground.scala", "diffHunk": "@@ -1,9 +1,10 @@\n-package com.example.functions\n+package com.example.functions.helloworld\n \n // [START functions_helloworld_background]\n-import com.google.cloud.functions.{BackgroundFunction, Context, HttpRequest}\n import java.util.logging.Logger\n \n+import com.google.cloud.functions.{BackgroundFunction, Context, HttpRequest}\n+\n class ScalaHelloBackground extends BackgroundFunction[HttpRequest] {", "originalCommit": "2dac1fcd6969afc96c86b5fdc8ae674462c0d96a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg1NjEwOA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405856108", "bodyText": "We're going to have multiple region tag source in DRIFT if we have multiple files that have the same tag. Do we need it in multiple places?", "author": "grant", "createdAt": "2020-04-08T22:42:03Z", "path": "functions/snippets/concepts/src/main/java/com/example/functions/concepts/eventpojos/GcsEvent.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.example.functions.concepts.eventpojos;\n+\n+import java.util.Date;\n+\n+// [START functions_helloworld_gcs_event]", "originalCommit": "469c5991d16dc979ccff75782b4499e08ade2663", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjczOQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405862739", "bodyText": "Commented below.", "author": "ace-n", "createdAt": "2020-04-08T23:00:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg1NjEwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg1NjU1OQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405856559", "bodyText": "Do we expect users to copy and paste this class? Why are there multiple copies of this class in the samples rather than just one copy?", "author": "grant", "createdAt": "2020-04-08T22:43:11Z", "path": "functions/snippets/concepts/src/main/java/com/example/functions/concepts/eventpojos/GcsEvent.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.example.functions.concepts.eventpojos;\n+\n+import java.util.Date;\n+\n+// [START functions_helloworld_gcs_event]\n+public class GcsEvent {", "originalCommit": "469c5991d16dc979ccff75782b4499e08ade2663", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjQ2OA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2601#discussion_r405862468", "bodyText": "Ideally we'd move them into a separate package in the central Maven repo - but copying is the only way to avoid \"sibling dependencies\" for now (unless we somehow put them in the parent package, which I'm not sure Maven supports).", "author": "ace-n", "createdAt": "2020-04-08T22:59:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg1NjU1OQ=="}], "type": "inlineReview"}, {"oid": "267858aa2934eb67b26f89e255af994faf60fad4", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/267858aa2934eb67b26f89e255af994faf60fad4", "message": "Split files into separate packages", "committedDate": "2020-04-09T00:11:29Z", "type": "commit"}, {"oid": "14e0425f3cd9d73bc8129678c28bf4543a710bd4", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/14e0425f3cd9d73bc8129678c28bf4543a710bd4", "message": "Add license + remove parent pom", "committedDate": "2020-04-09T00:11:42Z", "type": "commit"}, {"oid": "14e0425f3cd9d73bc8129678c28bf4543a710bd4", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/14e0425f3cd9d73bc8129678c28bf4543a710bd4", "message": "Add license + remove parent pom", "committedDate": "2020-04-09T00:11:42Z", "type": "forcePushed"}, {"oid": "dd56ae08dfe3d3dd9f7002935efc6878ace8e5f8", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/dd56ae08dfe3d3dd9f7002935efc6878ace8e5f8", "message": "Delete pom.xml that got merged back in", "committedDate": "2020-04-09T00:38:19Z", "type": "commit"}]}