{"pr_number": 3332, "pr_title": "Fixed validation regular expressions", "pr_createdAt": "2020-07-10T15:42:13Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332", "timeline": [{"oid": "b04aeebf9e99445bf1caa4ecf5503964d45b0f55", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/b04aeebf9e99445bf1caa4ecf5503964d45b0f55", "message": "Fixed validation regular expressions\n\nUpdated the Pub/Sub regular expression to what Pub/Sub actually validates to.", "committedDate": "2020-07-10T15:41:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3Nzc3NA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332#discussion_r452977774", "bodyText": "You might wish to explain and put a pointer to where they can find more information on this.", "author": "lesv", "createdAt": "2020-07-10T17:29:57Z", "path": "dataflow/flex-templates/streaming_beam_sql/metadata.json", "diffHunk": "@@ -7,7 +7,7 @@\n       \"label\": \"Pub/Sub input subscription.\",\n       \"helpText\": \"Pub/Sub subscription to read from.\",\n       \"regexes\": [\n-        \"[-_.a-zA-Z0-9]+\"\n+        \"(?!goog)[a-zA-Z][-_.~+%a-zA-Z0-9]{2,}\"", "originalCommit": "b04aeebf9e99445bf1caa4ecf5503964d45b0f55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk5MDUyOQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332#discussion_r452990529", "bodyText": "Those are for user-defined inputs, in this case it happened to be Pub/Sub which has very specific validation rules, but it could be whatever the user wants to validate for in their own pipelines. What kind of information were you thinking about?", "author": "davidcavazos", "createdAt": "2020-07-10T17:56:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3Nzc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzAyMjY0Mw==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332#discussion_r453022643", "bodyText": "I was thinking that you might wish to link put a  comment w/ a link to the docs at a minimum.  Since (?!goog) looks a bit like magic.  Or a comment that says something like // (?!goog) makes the regular expression syntax behave like ...", "author": "lesv", "createdAt": "2020-07-10T18:55:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3Nzc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzAyNDE4Nw==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332#discussion_r453024187", "bodyText": "Or is goog a prefix?   https://regex101.com/\n/\n(?!goog)[a-zA-Z][-_.~+%a-zA-Z0-9]{2,}\n/\ngm\nNegative Lookahead (?!goog)\nAssert that the Regex below does not match\ngoog matches the characters goog literally (case sensitive)\nMatch a single character present in the list below [a-zA-Z]\na-z a single character in the range between a (index 97) and z (index 122) (case sensitive)\nA-Z a single character in the range between A (index 65) and Z (index 90) (case sensitive)\nMatch a single character present in the list below [-_.~+%a-zA-Z0-9]{2,}\n{2,} Quantifier \u2014 Matches between 2 and unlimited times, as many times as possible, giving back as needed (greedy)\n-_.~+% matches a single character in the list -_.~+% (case sensitive)\na-z a single character in the range between a (index 97) and z (index 122) (case sensitive)\nA-Z a single character in the range between A (index 65) and Z (index 90) (case sensitive)\n0-9 a single character in the range between 0 (index 48) and 9 (index 57) (case sensitive)\nGlobal pattern flags\ng modifier: global. All matches (don't return after first match)\nm modifier: multi", "author": "lesv", "createdAt": "2020-07-10T18:57:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3Nzc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg1NjQ3NA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332#discussion_r453856474", "bodyText": "It is negative lookahead on a prefix, Pub/Sub doesn't allow topics or subscriptions starting with goog.", "author": "davidcavazos", "createdAt": "2020-07-13T18:44:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3Nzc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ2NTI2MA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3332#discussion_r454465260", "bodyText": "I've included some links in the README", "author": "davidcavazos", "createdAt": "2020-07-14T15:59:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3Nzc3NA=="}], "type": "inlineReview"}, {"oid": "64a810f198b7490549697a1117251cf3f0837386", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/64a810f198b7490549697a1117251cf3f0837386", "message": "Linked to resources for validation", "committedDate": "2020-07-13T18:37:36Z", "type": "commit"}, {"oid": "c0b3c93bd8bfbd5413b14d658929df59c66a3885", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/c0b3c93bd8bfbd5413b14d658929df59c66a3885", "message": "Fixed lint warnings", "committedDate": "2020-07-14T15:57:50Z", "type": "commit"}, {"oid": "f81ecde77c9a15c6f720e6e50629bb00c96faf5d", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/f81ecde77c9a15c6f720e6e50629bb00c96faf5d", "message": "Merge branch 'master' of github.com:GoogleCloudPlatform/java-docs-samples into dataflow-metadata-fix", "committedDate": "2020-07-14T15:58:03Z", "type": "commit"}, {"oid": "f81ecde77c9a15c6f720e6e50629bb00c96faf5d", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/f81ecde77c9a15c6f720e6e50629bb00c96faf5d", "message": "Merge branch 'master' of github.com:GoogleCloudPlatform/java-docs-samples into dataflow-metadata-fix", "committedDate": "2020-07-14T15:58:03Z", "type": "forcePushed"}]}