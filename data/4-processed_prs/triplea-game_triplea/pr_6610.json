{"pr_number": 6610, "pr_title": "Combine nested if statements", "pr_createdAt": "2020-06-06T23:24:59Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6610", "timeline": [{"oid": "e9d2c60bce22ee94b88be43b7de202920698de83", "url": "https://github.com/triplea-game/triplea/commit/e9d2c60bce22ee94b88be43b7de202920698de83", "message": "Combine nested if statements\n\nFixes instances where Codacy.com identified via static analysis\nnested if statements that can be combined together.", "committedDate": "2020-06-06T23:23:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwODQ0MA==", "url": "https://github.com/triplea-game/triplea/pull/6610#discussion_r436308440", "bodyText": "Consider simplifying this complex logical expression.", "author": "codeclimate", "createdAt": "2020-06-06T23:26:58Z", "path": "game-core/src/main/java/games/strategy/triplea/delegate/MoveValidator.java", "diffHunk": "@@ -1666,16 +1660,15 @@ private static void addToMapping(\n     for (final Unit plane : selectFrom) {\n       final UnitAttachment planeAttachment = UnitAttachment.get(plane.getType());\n       final int cost = planeAttachment.getCarrierCost();\n-      if (available >= cost) {\n-        // this is to test if they started in the same sea zone or not, and its not a very good way\n-        // of testing it.\n-        if ((carrier.getAlreadyMoved().compareTo(plane.getAlreadyMoved()) == 0)\n-            || (Matches.unitHasNotMoved().test(plane) && Matches.unitHasNotMoved().test(carrier))\n-            || (Matches.unitIsOwnedBy(playerWhoIsDoingTheMovement).negate().test(plane)\n-                && Matches.alliedUnit(playerWhoIsDoingTheMovement, data).test(plane))) {\n-          available -= cost;\n-          canCarry.add(plane);\n-        }\n+      // this is to test if they started in the same sea zone or not, and its not a very good way\n+      // of testing it.\n+      if (available >= cost", "originalCommit": "e9d2c60bce22ee94b88be43b7de202920698de83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwODQ0MQ==", "url": "https://github.com/triplea-game/triplea/pull/6610#discussion_r436308441", "bodyText": "Consider simplifying this complex logical expression.", "author": "codeclimate", "createdAt": "2020-06-06T23:26:59Z", "path": "game-core/src/main/java/games/strategy/triplea/ai/weak/WeakAi.java", "diffHunk": "@@ -1015,12 +1013,11 @@ public void purchase(\n             (Math.random() < 0.7 && transportCount < goodNumberOfTransports)\n                 || Math.random() < 0.10;\n         final boolean dontBuyBecauseTooManyTransports = transportCount > 2 * goodNumberOfTransports;\n-        if ((!isTransport && Math.random() * cost < 2)\n-            || (isTransport && buyBecauseTransport && !dontBuyBecauseTooManyTransports)) {\n-          if (cost <= leftToSpend) {\n-            leftToSpend -= cost;\n-            purchase.add(rule, 1);\n-          }\n+        if (((!isTransport && Math.random() * cost < 2)", "originalCommit": "e9d2c60bce22ee94b88be43b7de202920698de83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwODQ0Mg==", "url": "https://github.com/triplea-game/triplea/pull/6610#discussion_r436308442", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "author": "codeclimate", "createdAt": "2020-06-06T23:26:59Z", "path": "game-core/src/main/java/games/strategy/triplea/delegate/MoveValidator.java", "diffHunk": "@@ -724,12 +722,11 @@ private MoveValidationResult validateBasic(\n       }\n \n       // if there is a neutral in the middle must stop unless all are air or getNeutralsBlitzable\n-      if (route.hasNeutralBeforeEnd()) {\n-        if ((units.isEmpty() || !units.stream().allMatch(Matches.unitIsAir()))\n-            && !isNeutralsBlitzable(data)) {\n-          return result.setErrorReturnResult(\n-              \"Must stop land units when passing through neutral territories\");\n-        }\n+      if (route.hasNeutralBeforeEnd()", "originalCommit": "e9d2c60bce22ee94b88be43b7de202920698de83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "61b39fae806909609dfda7c9e1fe5608a2cac5cf", "url": "https://github.com/triplea-game/triplea/commit/61b39fae806909609dfda7c9e1fe5608a2cac5cf", "message": "Combine duplicative if statements", "committedDate": "2020-06-06T23:56:11Z", "type": "commit"}]}