{"pr_number": 6447, "pr_title": "Add search to moderator access log tab", "pr_createdAt": "2020-05-09T08:41:47Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6447", "timeline": [{"oid": "a1026c810f73c35ae7111e9a59a1b6d759638979", "url": "https://github.com/triplea-game/triplea/commit/a1026c810f73c35ae7111e9a59a1b6d759638979", "message": "Inline access log DAO columns and delete AccessLogRecordTest\n\nInlining column names makes the DAO SQL easier to read and maintain.\nThe JDBI data type is already tested when we test the DAO, the test is\nredundant.", "committedDate": "2020-05-09T08:38:33Z", "type": "commit"}, {"oid": "16a690406ba9be2fe6e4eef85883f0add4be7f59", "url": "https://github.com/triplea-game/triplea/commit/16a690406ba9be2fe6e4eef85883f0add4be7f59", "message": "Add search capability to access log moderator toolbox", "committedDate": "2020-05-09T08:41:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ3MDYxNQ==", "url": "https://github.com/triplea-game/triplea/pull/6447#discussion_r422470615", "bodyText": "Method searchPanel has 56 lines of code (exceeds 30 allowed). Consider refactoring.", "author": "codeclimate", "createdAt": "2020-05-09T08:43:14Z", "path": "game-core/src/main/java/games/strategy/engine/lobby/moderator/toolbox/tabs/access/log/AccessLogTab.java", "diffHunk": "@@ -74,4 +84,66 @@ private JTable buildTable(final JButton loadMoreButton) {\n     ButtonColumn.attachButtonColumn(table, 6, accessLogTabActions.banUser());\n     return table;\n   }\n+\n+  private JComponent searchPanel(final JTable table, final JButton loadMoreButton) {", "originalCommit": "16a690406ba9be2fe6e4eef85883f0add4be7f59", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ3MDYxNg==", "url": "https://github.com/triplea-game/triplea/pull/6447#discussion_r422470616", "bodyText": "Method fetchAccessLogRows has 5 arguments (exceeds 4 allowed). Consider refactoring.", "author": "codeclimate", "createdAt": "2020-05-09T08:43:14Z", "path": "http-server/src/main/java/org/triplea/db/dao/access/log/AccessLogDao.java", "diffHunk": "@@ -12,25 +12,25 @@\n public interface AccessLogDao {\n \n   @SqlQuery(\n-      \"select\\n\"\n-          + AccessLogRecord.ACCESS_TIME_COLUMN\n-          + \", \"\n-          + AccessLogRecord.USERNAME_COLUMN\n-          + \", \"\n-          + AccessLogRecord.IP_COLUMN\n-          + \", \"\n-          + AccessLogRecord.SYSTEM_ID_COLUMN\n-          + \", \"\n-          + AccessLogRecord.REGISTERED_COLUMN\n-          + \"\\n\"\n-          + \"from access_log\\n\"\n-          + \"order by \"\n-          + AccessLogRecord.ACCESS_TIME_COLUMN\n-          + \" desc\\n\"\n-          + \"offset :rowOffset rows\\n\"\n-          + \"fetch next :rowCount rows only\")\n+      \"select\"\n+          + \"    access_time,\"\n+          + \"    username,\"\n+          + \"    ip,\"\n+          + \"    system_id,\"\n+          + \"    registered\"\n+          + \"  from access_log\"\n+          + \"  where username like :username\"\n+          + \"     and host(ip) like :ip\"\n+          + \"     and system_id like :systemId\"\n+          + \"  order by access_time desc\"\n+          + \"  offset :rowOffset rows\"\n+          + \"  fetch next :rowCount rows only\")\n   List<AccessLogRecord> fetchAccessLogRows(\n-      @Bind(\"rowOffset\") int rowOffset, @Bind(\"rowCount\") int rowCount);\n+      @Bind(\"rowOffset\") int rowOffset,", "originalCommit": "16a690406ba9be2fe6e4eef85883f0add4be7f59", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}