{"pr_number": 7682, "pr_title": "Documentation map changelog", "pr_createdAt": "2020-09-17T00:53:18Z", "pr_url": "https://github.com/triplea-game/triplea/pull/7682", "timeline": [{"oid": "01d83a1a9e604026d230ea17bf60559f389b1800", "url": "https://github.com/triplea-game/triplea/commit/01d83a1a9e604026d230ea17bf60559f389b1800", "message": "Documentation: legacy map upgrade edits\n\n- Re-title the page, prep for the page to be named \"map-change-log.md\"\n- Clarify that changes need to be done in sound.properties\n- Remove warnings section, all the properties mentioned are already in\n  the change list\n- Add missing variations of 'victoryCity' and 'isTwoHit' options", "committedDate": "2020-09-17T00:00:48Z", "type": "commit"}, {"oid": "7f6a2fc538ec1553fbd713fb6e242cccc2c6c64c", "url": "https://github.com/triplea-game/triplea/commit/7f6a2fc538ec1553fbd713fb6e242cccc2c6c64c", "message": "Add notes to delete property children: boolean, string, and how to change 'number' property", "committedDate": "2020-09-17T00:48:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg0ODA4Mg==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489848082", "bodyText": "To keep everything listed similarly, I would move this and the following line after this line:\n\n=\"conditionType\" value=\"XOR\" >> =\"conditionType\" value=\"1\"", "author": "Cernelius", "createdAt": "2020-09-17T01:17:03Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1MDAyMA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489850020", "bodyText": "I would have this and the following line before the other \"isTwoHit\" related lines, since this line and the following one are the two most important ones (by far). Practically this suggestion would change this part of the listing to this order:\n\n=\"isTwoHit\" value=\"true\" >> =\"hitPoints\" value=\"2\"\n=\"isTwoHit\" value=\"false\" >> =\"hitPoints\" count=\"1\"\n=\"isTwoHit\" count=\"true\" >> =\"hitPoints\" count=\"2\"\n=\"isTwoHit\" count=\"false\" >> =\"hitPoints\" count=\"1\"\n=\"isTwoHit\" count=\"-reset-true\" >> =\"hitPoints\" count=\"-reset-2\"\n=\"isTwoHit\" count=\"-reset-false\" >> =\"hitPoints\" count=\"-reset-1\"", "author": "Cernelius", "createdAt": "2020-09-17T01:20:04Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2OTQ1NQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489869455", "bodyText": "I suppose it's a bit arbitrary how to order the list. I appreciate the suggestion though for the ordering to make more sense.\nI pushed an update to alpha-sort the list: 81b5d1c\nSince it is a bit arbitrary, that at least gives a consistent ordering and keeps related elements close together.", "author": "DanVanAtta", "createdAt": "2020-09-17T01:50:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1MDAyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg3MzU0MQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489873541", "bodyText": "I guess that's acceptable but, sadly, this means that the much less important \"value\" ones come after the \"count\" ones. I guess this is a minor matter.", "author": "Cernelius", "createdAt": "2020-09-17T01:57:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1MDAyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1MzY4Nw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489853687", "bodyText": "This is wrong. You are changing \"value\" to \"count\".\nAlso, as per the above comment, I would list the \"value\" ones before the \"count\" ones (the value ones are more important as they act on the final attachments, while the other ones are for triggers changing them (rare case)).\nThis would be the listing order, with the (hopefully) correct code:\n\n=\"victoryCity\" value=\"true\" >> =\"victoryCity\" value=\"1\"\n=\"victoryCity\" value=\"false\" >> =\"victoryCity\" value=\"0\"\n=\"victoryCity\" count=\"true\" >> =\"victoryCity\" count=\"1\"\n=\"victoryCity\" count=\"false\" >> =\"victoryCity\" count=\"0\"\n=\"victoryCity\" count=\"-reset-true\" >> =\"victoryCity\" count=\"-reset-1\"\n=\"victoryCity\" count=\"-reset-false\" >> =\"victoryCity\" count=\"-reset-0\"", "author": "Cernelius", "createdAt": "2020-09-17T01:25:57Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`\n+- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"-reset-false\"` >> `=\"hitPoints\" count=\"-reset-1\"`\n - `=\"occupiedTerrOf\"` >> `=\"originalOwner\"`\n - `=\"victoryCity\" count=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n-- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" value=\"true\"` >> `=\"victoryCity\" count=\"1\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg3MDQ3Mw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489870473", "bodyText": "Ugh, I didn't realize that VC option can be either value or count. IMO it should just be one or the other. Thanks for spotting this.\nUpdated in: c206821", "author": "DanVanAtta", "createdAt": "2020-09-17T01:52:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1MzY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg4MDE2OQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489880169", "bodyText": "They cannot, as options. However, generally speaking, when you use triggers to change options, you define the name as value and the value as count (so you cannot use the count but in its value-integrated form (having the count being the first element specified in \"value\", which, in this case, would be the first element specified in \"count\", since the \"count\" is the \"value\" (it actually doesn't matter in this specific case, as the \"victoryCity\" option happens not to have a \"count\" at all (you can specify a value, never a count, for it)))).\nSince I feel what I just said is not very clear, I'll just redirect to the official information:\nhttps://github.com/triplea-maps/the_pact_of_steel/blob/master/map/games/pact_of_steel_2.xml#L3397\nAs a warning, such \"properties\" have nothing to do with what is normally identified as \"property\", within the game XML (and of course, nothing to do with the other things identified as \"properties\" too outside of it).\nThe \"value\" ones are for the options, the \"count\" ones are for triggers that are changing such options during the course of the game (most likely, there is not a single game doing that, I guess).", "author": "Cernelius", "createdAt": "2020-09-17T02:08:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1MzY4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1NDE0Nw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489854147", "bodyText": "This is wrong (you are changing \"value\" to \"count\") and covered by my previous comment.", "author": "Cernelius", "createdAt": "2020-09-17T01:26:39Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`\n+- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"-reset-false\"` >> `=\"hitPoints\" count=\"-reset-1\"`\n - `=\"occupiedTerrOf\"` >> `=\"originalOwner\"`\n - `=\"victoryCity\" count=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n-- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" value=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n+- `=\"victoryCity\" value=\"false\"` >> `=\"victoryCity\" count=\"0\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg3MDYyOQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489870629", "bodyText": "Updated in: c206821", "author": "DanVanAtta", "createdAt": "2020-09-17T01:52:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg1NDE0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MjY3Mw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489862673", "bodyText": "Since this is not any longer specifically about upgrading from maps made for TripleA 1.8.0.9, I guess sometime in the past this option was doing something, which may or may not be (exactly) the same that \"isAirTransportable\" is doing. However, this needs to be verified to be actually the case (we cannot just assume \"isAirTransportable\" is merely a name change of \"isParatroop\", because they sound being about the same thing, unless this assumption is documented, which I'm not aware).\nMoreover, it may be that there are games in which you have \"isParatroop\" set to \"false\" in a unit attachment after \"isAirTransportable\" set to true (garbage code, which I can tell is generally frequent in TripleA games). In this case, if in the TripleA for which the game was made the \"isParatroop\" was ineffective, you are substantially bugging the game, changing the behaviour of \"isAirTransportable\" from \"true\" to \"false\" (unburying bad coding).\nIn theory, to be exact, here you would need to find out the range of TripleA versions for which \"isParatroop\" was doing nothing, and telling that upgrading from those need to have the option deleted, to be sure to keep the behaviour unchanged (the upgrader would need to check the minimum version of the game, and delete or otherwise, depending on it).", "author": "Cernelius", "createdAt": "2020-09-17T01:39:58Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`\n+- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"-reset-false\"` >> `=\"hitPoints\" count=\"-reset-1\"`\n - `=\"occupiedTerrOf\"` >> `=\"originalOwner\"`\n - `=\"victoryCity\" count=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n-- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" value=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n+- `=\"victoryCity\" value=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"-reset-false\"` >> `=\"victoryCity\" count=\"-reset-0\"`\n-\n-\n-### **Procedural alternatives:**\n-\n-For a more defined change, instead of the aforementioned:\n-\n-- `attatchment` >> `attachment`\n-\n-you can change:\n-\n-- `attatchmentList` >> `attachmentList`\n-- `<attatchment` >> `<attachment`\n-- `attatchment>` >> `attachment>`\n-- `=\"games.strategy.triplea.attatchments` >> `=\"games.strategy.triplea.attachments`\n-\n-- `=\"techAttatchment` >> `=\"techAttachment`\n-- `=\"unitAttatchment` >> `=\"unitAttachment`\n-- `=\"territoryAttatchment` >> `=\"territoryAttachment`\n-- `=\"canalAttatchment` >> `=\"canalAttachment`\n-- `=\"rulesAttatchment` >> `=\"rulesAttachment`\n-- `=\"playerAttatchment` >> `=\"playerAttachment`\n+- `<option name=\"isParatroop\"` >> `<option name=\"isAirTransportable\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg3Nzc0Mg==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489877742", "bodyText": "@Cernelius I don't think we can assume that if a map is at version 1.8 that it was correctly upgraded to 1.8. Specifically, if we see 'isParatroop', does that mean the new property was simply added, or does it mean it was never added?\nIMO it's better to upgrade and allow the map maker to spot and remove duplicate options if then present. That handles the potential 'true' / 'false' case which would already have been a potential problem.\nHere is the diff of when 'isAirTransportable' was added:\ncommit d56265a\nAuthor: comradekev comradekev@yahoo.com\nDate:   Thu Jun 3 19:36:19 2010 +0000\n* fix bug 2998846 kamikaze aircraft not working * add isAirTransport(able) to support air dropping units * fix bug 2994004 air landing on newly produced carrier in multi-national SZ disappears * feature request (2799840) add tech tokens to status tab\n\ngit-svn-id: https://svn.code.sf.net/p/triplea/code/trunk/triplea@2785 a4c711aa-641f-0410-879d-9b464e52b682", "author": "DanVanAtta", "createdAt": "2020-09-17T02:04:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MjY3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg4ODg3MA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489888870", "bodyText": "I guess there's no need to worry too much about these things, since this is a mapmaker aid, but certainly I believe that, if we were ourselves making mass-changes, mass changing all \"isParatroop\" to \"isAirTransportable\", after many years in which the original has been ineffective, would be very risky.\nIt may be interesting to see a summary of all instances of \"isParatroop\" that have been removed in the repository, back then when the mass-deletion was made (I'm assuming it was).\nI'll still point out that we should not assume that \"isParatroop\" used to do the same that \"isAirTransportable\" is doing just because the name seems to be about the same thing. We shouldn't really infer anything from the name itself, as that is merely a label. So such a change really needs confirmation that \"isAirTransportable\" is indeed merely a renamed version of \"isParatroop\". If it is not, then we would be changing, not upgrading, also games made when the \"isParatroop\" option was non-deprecated.\nAll this based on the assumption that what I know and documented is right, since I've not tested any of this, at least recently.", "author": "Cernelius", "createdAt": "2020-09-17T02:21:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MjY3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg5NTEwOA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489895108", "bodyText": "Given the time of when 'isAirTransportable' was introduced, I'm pretty sure it was not mass replaced. It was left to individual map makers to make the update and instead their maps were broken by leaving in a useless property that while the game still ran, the 'isParatroop' no longer did anything. So map makers would have updated it or their maps were changed.\n\nSo such a change really needs confirmation that \"isAirTransportable\" is indeed merely a renamed version of \"isParatroop\". If it is not, then we would be changing, not upgrading, also games made when the \"isParatroop\" option was non-deprecated.\n\nCheck the referenced commit, it replaces isParatroop. I would guess if we see 'isParatroop', it's more likely that it was never replaced rather than was replaced but left in. I find that a far more likely scenario. Beyond that, if isParatroop is in the map, then 'isAirTransportable' was the desired behavior. A map not having 'isAirTransportable' would then not be functioning correctly. I'd reject the statement that if a map made it to 1.8 and someone continued to overlook that, then 'oh well', the map was never supposed to have 'isParatroop' to begin with.", "author": "DanVanAtta", "createdAt": "2020-09-17T02:32:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MjY3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg5ODA2OQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489898069", "bodyText": "I guess there's no need to worry too much about these things, since this is a mapmaker aid, but certainly I believe that, if we were ourselves making mass-changes, mass changing all \"isParatroop\" to \"isAirTransportable\", after many years in which the original has been ineffective, would be very risky.\n\nI think the days of mass changes are behind us. The migration is breaking to old engines and the benefit is non-existent now that 2.3 and beyond will be able to handle legacy values.", "author": "DanVanAtta", "createdAt": "2020-09-17T02:36:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MjY3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489863256", "bodyText": "All that I said in my previous comment applies here too, changing \"isParatroop\" with \"isMechanized\" and \"isAirTransportable\" with \"isLandTransportable\".", "author": "Cernelius", "createdAt": "2020-09-17T01:41:00Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`\n+- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"-reset-false\"` >> `=\"hitPoints\" count=\"-reset-1\"`\n - `=\"occupiedTerrOf\"` >> `=\"originalOwner\"`\n - `=\"victoryCity\" count=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n-- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" value=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n+- `=\"victoryCity\" value=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"-reset-false\"` >> `=\"victoryCity\" count=\"-reset-0\"`\n-\n-\n-### **Procedural alternatives:**\n-\n-For a more defined change, instead of the aforementioned:\n-\n-- `attatchment` >> `attachment`\n-\n-you can change:\n-\n-- `attatchmentList` >> `attachmentList`\n-- `<attatchment` >> `<attachment`\n-- `attatchment>` >> `attachment>`\n-- `=\"games.strategy.triplea.attatchments` >> `=\"games.strategy.triplea.attachments`\n-\n-- `=\"techAttatchment` >> `=\"techAttachment`\n-- `=\"unitAttatchment` >> `=\"unitAttachment`\n-- `=\"territoryAttatchment` >> `=\"territoryAttachment`\n-- `=\"canalAttatchment` >> `=\"canalAttachment`\n-- `=\"rulesAttatchment` >> `=\"rulesAttachment`\n-- `=\"playerAttatchment` >> `=\"playerAttachment`\n+- `<option name=\"isParatroop\"` >> `<option name=\"isAirTransportable\"`\n+- `<option name=\"isMechanized\"` >> `<optiona name=\"isLandTransportable\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg4NzUyNw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489887527", "bodyText": "Ditto, I am pretty confident this is the correct update to be done.\ncommit 67caac7\nAuthor: Ron Ron@RMURHAMM-W10E.fios-router.home\nDate:   Thu Dec 7 17:20:08 2017 -0600\nAdd isLandTransportable property and some refactoring\n\n\n// isInfantry is DEPRECATED, use isLandTransportable", "author": "DanVanAtta", "createdAt": "2020-09-17T02:19:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg4OTI4Mg==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489889282", "bodyText": "My second comment at my previous reviewed line still applies here too, the same way.", "author": "Cernelius", "createdAt": "2020-09-17T02:22:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg5OTE0NA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489899144", "bodyText": "I don't believe \"isInfantry\" has anything to do with this matter, beside being the old name for \"isLandTransportable\". I'm certain that \"isLandTransportable\" didn't yet exist when \"isInfantry\" was non-deprecated and \"isMechanized\" was.\nIf \"isMechanized\" is merely an old name for \"isInfantry\", then \"isInfantry\" would be the intermediate rename between \"isMechanized\" and \"isLandTransportable\", but I believe this is not actually the case, as I recall that \"isInfantry\" used to be an option applying more generally (I think it might have been the reference used for paratroopers too, at some point, but I'm not sure about this) and I don't even know which one existed before, in TripleA, between \"isMechanized\" and \"isInfantry\". I vaguely recall that the application of \"isInfantry\" varied overtime, until being restricted to, then superseded by, what \"isLandTransportable\" is currently doing, but I don't have the details.\nMy suggestion is not caring about the history of \"isInfantry\". What is actually needed is to assure that the current behaviour of \"isLandTransportable\" is exactly the same as the pre-deprecation behaviour of \"isMechanized\", if it is really wanted to suggest such a change (instead of telling to delete \"isMechanized\").", "author": "Cernelius", "createdAt": "2020-09-17T02:38:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkwNDExMg==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489904112", "bodyText": "IIRC 'isInfantry' implied 'isMechanized' and a few other properties and that is why it was removed.\n'isMechanized' is seemingly properly replaced by 'isLandTransportable'. For example, I found this check for it a unit can be loaded when the 'mechanized infantry' tech is discovered:\n    if (getIsLandTransportable() && playerHasMechInf(player)) {\n      tuples.add(Tuple.of(\"Can be Land Transported\", \"\"));\n    }", "author": "DanVanAtta", "createdAt": "2020-09-17T02:46:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkwODc1OA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489908758", "bodyText": "I recall that \"isInfantry\" was renamed to \"isLandTransportable\" merely to have a clearer name. When that happened, TripleA was past the point in which I believe you completely removed \"isMechanized\" from the program (under my suggestion).\nI believe what you quote may have nothing to do with the matter at hand. \"MechInf\" is referring to a technology a player may have, while \"isMechanized\" is a unit option. Unless proved by other means, I don't think that similar names assume relation (we have cases they do not, like \"kamikaze\"). Even if it is likely, in this case, that they are related, this still is not assuring that the non-deprecated behaviour of a \"isMechanized\" true unit would be the same as the current behaviour of a \"isLandTransportable\" true unit.", "author": "Cernelius", "createdAt": "2020-09-17T02:54:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkxMjk3Mg==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489912972", "bodyText": "I'm pretty sure 'isInfantry' was not renamed, but 'isMechanized' was. 'isinfantry' granted more options other than just land transportability.", "author": "DanVanAtta", "createdAt": "2020-09-17T03:00:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkyMDI4Mw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489920283", "bodyText": "I'm pretty confident that the noted changes are correct. Could certainly be wrong, it's an overly complicated mess of a code-base (that does great things, but messy under the covers). If we find out otherwise we can fix it. In the meantime I suspect nobody is going to use this guide for quite some time and perhaps if they can bring it up. For practical purposes this guide is actually most useful to me right now for coding up how legacy options are to be ported forward.", "author": "DanVanAtta", "createdAt": "2020-09-17T03:12:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkyMTI2Ng==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489921266", "bodyText": "\"isInfantry\" was not renamed? I'm as sure as I can be that @ron-murhammer renamed \"isInfantry\" to \"isLandTransportable\" and I still believe this has nothing to do with this matter. If the \"isInfantry\" to \"isLandTransportable\" would have been never made, I think now we would be at the same point, just that \"isLandTransportable\" would be still called \"isInfantry\". Then, we would be just discussing whether or not to suggest changing \"isMechanized\" to \"isInfantry\", exactly like now we are discussing the same for \"isMechanized\" to \"isLandTransportable\".\nIf @ron-murhammer can confirm what I'm saying, otherwise someone would need to look at the code, I assume.", "author": "Cernelius", "createdAt": "2020-09-17T03:13:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkyOTg2MA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489929860", "bodyText": "No, isInfantry was not renamed as it was triggering multiple behaviors, including 'isLandTransportable'. \"isInfantry' implies 'isLandTransportable', but not the other way around.", "author": "DanVanAtta", "createdAt": "2020-09-17T03:27:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk0MzcxNw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489943717", "bodyText": "I clearly remember that \"isInfantry\" was renamed to \"isLandTransportable\", while another option named \"isInfantry\" was added for compatibility. The \"isInfantry\" after the addition of \"isLandTransportable\" would do nothing but setting \"isLandTransportable\" to its same value.\nMeaning that I believe the only reason why \"isInfantry\" still exists is to support old maps, just like if you would update them all changing \"isInfantry\" to \"isLandTransportable\".\nImmediately before the addition of \"isLandTransportable\", I recall \"isInfantry\" was doing nothing more than what \"isLandTransportable\" currently does (\"isInfantry\" was probably doing other things further in the past, before 1.8.0.9).\n\nisInfantry was not renamed as it was triggering multiple behaviors, including 'isLandTransportable'.\n\nI believe that, from the addition of \"isLandTransportable\" onwards, \"isInfantry\" does nothing but setting \"isLandTransportable\". So I'm not aware that now or at any point in time \"isInfantry\" has ever both set \"isLandTransportable\" and done anything else, at the same time.\n\n\"isInfantry' implies 'isLandTransportable', but not the other way around.\n\nAs far as I know, this is true only because \"isInfantry\" does nothing but setting \"isLandTransportable\" to its same value. If \"isInfantry\" currently does anything else (making \"isLandTransportable\" a subset of \"isInfantry\"), this should be documented, I assume.\n@ron-murhammer Since I recall you are behind the \"isLandTransportable\" addition, can you help clarifying the matter here?", "author": "Cernelius", "createdAt": "2020-09-17T03:51:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk1OTU0OQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489959549", "bodyText": "It could be the case we were in a partial state where 'isInfantry' was made to be a subset of its original functionality. I would be a bit surprised AFAIK the only mass migrations of maps was done when we went to 1.9.\nCurrently 'isInfantry' appears nowhere in the codebase except in the legacy property mapper.", "author": "DanVanAtta", "createdAt": "2020-09-17T04:17:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk2MDg3MA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489960870", "bodyText": "'isInfantry' is missing from the list actually. We are beyond the scope of this update @Cernelius . It's best practice to keep conversations in a PR to the content in the PR. If we want clarification on this, let's discuss in an issue so that others can find it later and not have to search random PRs for the convo.", "author": "DanVanAtta", "createdAt": "2020-09-17T04:19:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk2MjMwNQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489962305", "bodyText": "'isInfantry' is missing from the list actually. We are beyond the scope of this update @Cernelius . It's best practice to keep conversations in a PR to the content in the PR. If we want clarification on this, let's discuss in an issue so that others can find it later and not have to search random PRs for the convo.\n\nThis is exactly what I said:\n\nI don't believe \"isInfantry\" has anything to do with this matter, beside being the old name for \"isLandTransportable\". I'm certain that \"isLandTransportable\" didn't yet exist when \"isInfantry\" was non-deprecated and \"isMechanized\" was.\n\nWe should have really never even mentioned \"isInfantry\", as the matter here appears to be exclusively whether to suggest to delete \"isMechanized\" as an option or to change \"isMechanized\" to \"isLandTransportable\". I believe this is dependent exclusively on what these two options did or do. You added \"isInfantry\" to the matter, as an element to take into consideration.", "author": "Cernelius", "createdAt": "2020-09-17T04:24:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2MzI1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489864993", "bodyText": "As I said in a section deleted at this update \"any option named \"giveUnitControl\" must be deleted only if its value is \"true\" or \"false\"\".\nIf this is not true, this needs to be indagated, as I believe \"giveUnitControl\" is currently documented as an effective and non-deprecated option. If so, telling to delete any occurrence of such option would be a very bad and damaging information.", "author": "Cernelius", "createdAt": "2020-09-17T01:43:48Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`\n+- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"-reset-false\"` >> `=\"hitPoints\" count=\"-reset-1\"`\n - `=\"occupiedTerrOf\"` >> `=\"originalOwner\"`\n - `=\"victoryCity\" count=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n-- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" value=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n+- `=\"victoryCity\" value=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"-reset-false\"` >> `=\"victoryCity\" count=\"-reset-0\"`\n-\n-\n-### **Procedural alternatives:**\n-\n-For a more defined change, instead of the aforementioned:\n-\n-- `attatchment` >> `attachment`\n-\n-you can change:\n-\n-- `attatchmentList` >> `attachmentList`\n-- `<attatchment` >> `<attachment`\n-- `attatchment>` >> `attachment>`\n-- `=\"games.strategy.triplea.attatchments` >> `=\"games.strategy.triplea.attachments`\n-\n-- `=\"techAttatchment` >> `=\"techAttachment`\n-- `=\"unitAttatchment` >> `=\"unitAttachment`\n-- `=\"territoryAttatchment` >> `=\"territoryAttachment`\n-- `=\"canalAttatchment` >> `=\"canalAttachment`\n-- `=\"rulesAttatchment` >> `=\"rulesAttachment`\n-- `=\"playerAttatchment` >> `=\"playerAttachment`\n+- `<option name=\"isParatroop\"` >> `<option name=\"isAirTransportable\"`\n+- `<option name=\"isMechanized\"` >> `<optiona name=\"isLandTransportable\"`\n \n \n ### XML Deletions\n \n-_(these items were already deprecated and did nothing)_\n-\n-- `<option name=\"isParatroop\"*/>`\n-- `<option name=\"isMechanized\"*/>`\n-- `<option name=\"takeUnitControl\"*/>`\n-- `<option name=\"giveUnitControl\" value=\"true\"/>`\n-- `<option name=\"giveUnitControl\" value=\"false\"/>`\n+Delete these options entirely:\n \n-## map.properties Changes\n+- `<option name=\"takeUnitControl\"`\n+- `<option name=\"giveUnitControl\"`", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg5MDU0Nw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489890547", "bodyText": "Why was this removal mentioned in the original notes?  I'm not aware we removed the 'true' 'false' to do nothing in 1.8 or 1.9", "author": "DanVanAtta", "createdAt": "2020-09-17T02:24:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg5MTYwMw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489891603", "bodyText": "I think it's better we just remove it for now. Chances are good the map will crash with incorrect values which would mean it would get noticed.\nUpdated: 131e640", "author": "DanVanAtta", "createdAt": "2020-09-17T02:26:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkwNDAyOA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489904028", "bodyText": "Absolutely not. As fas as I know, \"giveUnitControl\" is a currently valid option that should not necessarily be deleted.\nWhat my notes were saying is that \"giveUnitControl\" was doing nothing if set at value \"true\" or \"false\" and that, after the removals, should be deleted if set at those values (only).\nIf my notes were wrong, a developer would need to prove it by looking at the code or testing. However, I can reference the official game information, that currently have \"giveUnitControl\" as a non-deprecated option:\nhttps://github.com/triplea-maps/the_pact_of_steel/blob/master/map/games/pact_of_steel_2.xml#L4021\nTherefore, unless proved wrong, my information that \"takeUnitControl\" should be always deleted (as an option), while \"giveUnitControl\" should be deleted (as an option) only if set \"true\" of \"false\" should be correct and valuable information. Removing all reference to such options would be, in this case, a major step backward in making this document less incomplete.", "author": "Cernelius", "createdAt": "2020-09-17T02:46:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkwODYwMw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489908603", "bodyText": "What my notes were saying is that \"giveUnitControl\" was doing nothing if set at value \"true\" or \"false\" and that, after the removals, should be deleted if set at those values (only).\n\nWhy would it have been set to those values? Was it doing something previously? If so, I'm not aware of that changing in 1.9, was it change in 1.9?\nAre you saying \"always\" deleted assuming someone upgraded to 1.8 correctly? Personally, I am NOT assuming maps were always correctly upgraded to a 1.8 and just because you see a 'does nothing' property in 1.8 that it should be removed rather than replaced by it's correct replacement.", "author": "DanVanAtta", "createdAt": "2020-09-17T02:53:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkxMTIyMA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489911220", "bodyText": "Right or wrong (and, to the extent of my knowlege, it has always been right), what my documentation was telling is to:\n\nAlways delete the \"takeUnitControl\" option.\nDelete the \"giveUnitControl\" option only if its value is \"true\" or \"false\".\n\nI think this is clear enough.\nThis is based on the information (which now it is an assumption) that such items to delete were doing nothing, of course, in 1.8.0.9.\nWhether or not the map was correctly coded in 1.8.0.9 I believe it is beside the point. The documentation was meant to be as if 1.8.0.9 was the first version of TripleA ever. Of course, if I'm correct that the above were ineffective, they must have been somehow effective some time in the past, instead (it would be absurd if they never were).\nSo, of course, this deletion would be a correct upgrade only starting from the version of TripleA having the same behaviour of 1.8.0.9, and not for other preceeding versions until the version in which the option didn't yet exist in the program.\nI suppose now you are seeing why I said that it is advisable to set a minimum TripleA version for all these upgrade information (like telling that these information are only for upgrading maps from TripleA 1.8.0.9 or later, so that we may not care about anything before 1.8.0.9). Otherwise, for example in this case, if I'm correct, you would need to have one upgrade information set for when the option was doing one thing and another one for when the option was doing nothing.", "author": "Cernelius", "createdAt": "2020-09-17T02:57:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkxNTc2NA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489915764", "bodyText": "Indeed, dangerous assumption. You're assuming that someone:\n\nwas upgrading their map\nsaw a deprecated property\nknew it was supposed to be updated\nAdded the new property but did not remove the old\n\nIMO it's MUCH more likely that a map was simply just NEVER updated and so the property still remains.\nWhen we consider the risk of the two scenarios:\n\nin the first you have unclean XML and possibly conflicting values. If a map maker follows this guide then they'll see they have duplicate values (hopefully, but the proximity will be close to each other) and will resolve).\nin the second you have a map that is just not working correctly.\n\nI'll emphasize this is a change log document now to describe what map makers should do now given whatever map they are seeing. This goes back to my point about the lack of utility to upgrade to only 1.9.x and also how that does not serve an ongoing purpose of where to document changes (which then if this is a historical document, we then have duplication, legacy issues and just essentially more documentation laying around that makes it all harder to keep up to date).", "author": "DanVanAtta", "createdAt": "2020-09-17T03:04:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkxODE1Mw==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489918153", "bodyText": "Otherwise, for example in this case, if I'm correct, you would need to have one upgrade information set for when the option was doing one thing and another one for when the option was doing nothing.\n\nI don't think so. If the new properties would lead to duplication, we can leave it to a map maker to see that duplication. Even if they do not spot it, the duplication causes no harm. If the values were conflicting, then the map had issues to begin with.\n\nWhether or not the map was correctly coded in 1.8.0.9 I believe it is beside the point.\n\nThat actually is very much to the point. If we say \"delete\" this, and the map then changes in a way that is hard to notice, that's bad. Compare that to the risk of something not being upgraded more properly (likely), or someone not realizing that they are looking at a 1.7 map thinking it is a 1.8 map, then suddenly our directions steer them wrong.", "author": "DanVanAtta", "createdAt": "2020-09-17T03:08:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkxOTMwOA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489919308", "bodyText": "I'm not going to add these back in:\n\n    Always delete the \"takeUnitControl\" option.\n    Delete the \"giveUnitControl\" option only if its value is \"true\" or \"false\".\n\nWe need to know what the options are supposed to be changed into and let a map maker take care of potential duplication (which is relatively harmless if there is a duplicated value).", "author": "DanVanAtta", "createdAt": "2020-09-17T03:10:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkyNTkzOQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489925939", "bodyText": "Well, the original documentation was meant for upgrading maps from 1.8.0.9, while keeping exactly the same behaviour they had, when played with that version of TripleA. If now you are setting different standards, that is a change of direction. Here I'm just highlighting risks. However, if it can be confirmed that, at some time in TripleA history, these options were changed to become ineffective (and this was still the case when 1.8.0.9 came out), I think it would be the only consistent thing to do to turn them ineffective still. It is the same matter as if an option's behaviour was changed in the past. Maybe there is a map still coded on the assumption that the old behaviour applies, but you cannot go after such things, reliably.", "author": "Cernelius", "createdAt": "2020-09-17T03:21:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkzMTk1Ng==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489931956", "bodyText": "Please see my other comments, it's more risky to assume that someone did a bad upgrade to 1.8.0.9 and left in needless properties after replacing rather than the risk of they simply never upgraded at all.\nIf we need to assume a perfect upgrade to 1.8.0.9, then we need to have that documentation, which we don't. Otherwise how can you ever be confident, even if someone claims that a given map was upgraded, that it was done in a correct manner?", "author": "DanVanAtta", "createdAt": "2020-09-17T03:31:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkzMjcyMA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489932720", "bodyText": "Well, the original documentation was meant for upgrading maps from 1.8.0.9\n\nI am changing the scope, in sum for three reasons:\n\nthat is a risky assumption (see previous comment)\nnot useful (there is no point to upgrade to just 1.9.0.0.3xxx and there is no guarantee that a map is actually perfectly on 1.8.0.9)\nfails to serve an ongoing need", "author": "DanVanAtta", "createdAt": "2020-09-17T03:33:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NDk5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NjYzOA==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489866638", "bodyText": "To limit the risk of mistakenly remove a good \"giveUnitControl\" option, I think this warning (comprising the next line) is valuable even if the referenced item would be correct after this update.", "author": "Cernelius", "createdAt": "2020-09-17T01:46:45Z", "path": "docs/map-making/how-to-upgrade-legacy-map-features.md", "diffHunk": "@@ -35,70 +19,36 @@ All occurrences of the code before the `>>` must be substituted with the code af\n - `=\"conditionType\" count=\"XOR\"` >> `=\"conditionType\" count=\"1\"`\n - `=\"conditionType\" count=\"-reset-XOR\"` >> `=\"conditionType\" count=\"-reset-1\"`\n - `=\"isTwoHit\" count=\"true\"` >> `=\"hitPoints\" count=\"2\"`\n-- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" value=\"1\"`\n-- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" value=\"true\"` >> `=\"hitPoints\" value=\"2\"`\n+- `=\"isTwoHit\" value=\"false\"` >> `=\"hitPoints\" count=\"1\"`\n+- `=\"isTwoHit\" count=\"-reset-true\"` >> `=\"hitPoints\" count=\"-reset-2\"`\n - `=\"isTwoHit\" count=\"-reset-false\"` >> `=\"hitPoints\" count=\"-reset-1\"`\n - `=\"occupiedTerrOf\"` >> `=\"originalOwner\"`\n - `=\"victoryCity\" count=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n-- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" value=\"true\"` >> `=\"victoryCity\" count=\"1\"`\n+- `=\"victoryCity\" value=\"false\"` >> `=\"victoryCity\" count=\"0\"`\n+- `=\"victoryCity\" count=\"-reset-true\"` >> `=\"victoryCity\" count=\"-reset-1\"`\n - `=\"victoryCity\" count=\"-reset-false\"` >> `=\"victoryCity\" count=\"-reset-0\"`\n-\n-\n-### **Procedural alternatives:**\n-\n-For a more defined change, instead of the aforementioned:\n-\n-- `attatchment` >> `attachment`\n-\n-you can change:\n-\n-- `attatchmentList` >> `attachmentList`\n-- `<attatchment` >> `<attachment`\n-- `attatchment>` >> `attachment>`\n-- `=\"games.strategy.triplea.attatchments` >> `=\"games.strategy.triplea.attachments`\n-\n-- `=\"techAttatchment` >> `=\"techAttachment`\n-- `=\"unitAttatchment` >> `=\"unitAttachment`\n-- `=\"territoryAttatchment` >> `=\"territoryAttachment`\n-- `=\"canalAttatchment` >> `=\"canalAttachment`\n-- `=\"rulesAttatchment` >> `=\"rulesAttachment`\n-- `=\"playerAttatchment` >> `=\"playerAttachment`\n+- `<option name=\"isParatroop\"` >> `<option name=\"isAirTransportable\"`\n+- `<option name=\"isMechanized\"` >> `<optiona name=\"isLandTransportable\"`\n \n \n ### XML Deletions\n \n-_(these items were already deprecated and did nothing)_\n-\n-- `<option name=\"isParatroop\"*/>`\n-- `<option name=\"isMechanized\"*/>`\n-- `<option name=\"takeUnitControl\"*/>`\n-- `<option name=\"giveUnitControl\" value=\"true\"/>`\n-- `<option name=\"giveUnitControl\" value=\"false\"/>`\n+Delete these options entirely:\n \n-## map.properties Changes\n+- `<option name=\"takeUnitControl\"`\n+- `<option name=\"giveUnitControl\"`\n \n-Within every \"map\" properties file, inside the main folder of the map, change:\n+## map.properties changes\n \n - `color.Impassible=` >> `color.Impassable=`\n \n-## Sound file changes\n-\n-Change all sounds inside the \"sounds\" main folder of the map from \"wav\" to \"mp3\" format.\n-128Kbps and 168Kbps are the preferred bit rates.\n-\n-\n-## Warnings\n-\n-The following xml codes, as being properties, are not validated (if you leave them, the game will play,\n-but they will set nothing in the engine) (it is suggested you double check you don't have them within\n-any game files, after upgrading the map):\n+## sound.properties and sound file changes\n \n-- `=\"Battleships repair at end of round\"`\n-- `=\"Battleships repair at beginning of round\"`\n-- `=\"Naval Bombard Casualties Return Fire Restricted\"`\n-- `=\"SBR Affects Unit Production\"`\n+- .wav files need to be re-encoded as mp3 (128 or 168Kbps are preferred bit rates)\n+- all file names in sound.properties need to be updated to match the new '.mp3' suffix\n+  on sound files.\n \n-While all options named \"takeUnitControl\" must be deleted, any option named \"giveUnitControl\" must be", "originalCommit": "01d83a1a9e604026d230ea17bf60559f389b1800", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg5MjcyNQ==", "url": "https://github.com/triplea-game/triplea/pull/7682#discussion_r489892725", "bodyText": "I don't think this reduces the risk of mistakenly removing a valid option. If someone follows this guide exactly, then it won't be an issue, right? But furthermore, this is becoming a pure change log for information purposes, not to be followed with find/replacements. Specifically if we can load 1.8 maps in 2.3, then the right process will be to load the map and re-export it.", "author": "DanVanAtta", "createdAt": "2020-09-17T02:28:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTg2NjYzOA=="}], "type": "inlineReview"}, {"oid": "81b5d1c48ea99406ad1aa31aa3389ac6e52b94cf", "url": "https://github.com/triplea-game/triplea/commit/81b5d1c48ea99406ad1aa31aa3389ac6e52b94cf", "message": "Alpha sort change list", "committedDate": "2020-09-17T01:49:34Z", "type": "commit"}, {"oid": "c20682143ea04deaa0002b6e2a05ff64d1de551e", "url": "https://github.com/triplea-game/triplea/commit/c20682143ea04deaa0002b6e2a05ff64d1de551e", "message": "Update VC 'value' translation, 'value' option stays consistent (does not change to 'count')", "committedDate": "2020-09-17T01:52:09Z", "type": "commit"}, {"oid": "131e6407a0d867151283a79fc70ece92fc6163f0", "url": "https://github.com/triplea-game/triplea/commit/131e6407a0d867151283a79fc70ece92fc6163f0", "message": "Remove mention to delete options\n\nIt seems these options might still have an effect (though values\nof 'true' or 'false' seemingly would have always have been wrong\nmaking this option not do anything and/or crash on start-up anyways\nas a player would not be found)", "committedDate": "2020-09-17T02:25:06Z", "type": "commit"}, {"oid": "135ce697e578f9138a90b1c2d966f2b9229cf53a", "url": "https://github.com/triplea-game/triplea/commit/135ce697e578f9138a90b1c2d966f2b9229cf53a", "message": "Fix typo [skip ci]", "committedDate": "2020-09-17T02:47:04Z", "type": "commit"}]}