{"pr_number": 6294, "pr_title": "Add a check for game load NPE", "pr_createdAt": "2020-04-18T22:02:45Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6294", "timeline": [{"oid": "4afd6f0476e8d8bbef3fcbb26a8e0ecab393d1e3", "url": "https://github.com/triplea-game/triplea/commit/4afd6f0476e8d8bbef3fcbb26a8e0ecab393d1e3", "message": "Add a check for game load NPE\n\nShould fix the stack trace reported in:\nhttps://github.com/triplea-game/triplea/issues/6291", "committedDate": "2020-04-18T22:01:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk2OTg0NQ==", "url": "https://github.com/triplea-game/triplea/pull/6294#discussion_r410969845", "bodyText": "Actually I'd place ClientSetting.flush() outside of the individual if cases", "author": "RoiEXLab", "createdAt": "2020-04-19T19:08:24Z", "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/panels/main/game/selector/GameSelectorModel.java", "diffHunk": "@@ -60,10 +60,16 @@ public void load(final @Nullable GameData data, final @Nullable String fileName)\n \n   public void load(final GameChooserEntry entry) {\n     fileName = null;\n-    setGameData(entry.getGameData());\n-    ClientSetting.defaultGameName.setValue(entry.getGameData().getGameName());\n-    ClientSetting.defaultGameUri.setValue(entry.getUri().toString());\n-    ClientSetting.flush();\n+    if (entry == null) {\n+      ClientSetting.defaultGameName.resetValue();\n+      ClientSetting.defaultGameUri.resetValue();\n+      ClientSetting.flush();\n+    } else {\n+      setGameData(entry.getGameData());\n+      ClientSetting.defaultGameName.setValue(entry.getGameData().getGameName());\n+      ClientSetting.defaultGameUri.setValue(entry.getUri().toString());\n+      ClientSetting.flush();\n+    }", "originalCommit": "4afd6f0476e8d8bbef3fcbb26a8e0ecab393d1e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk3NjkzMA==", "url": "https://github.com/triplea-game/triplea/pull/6294#discussion_r410976930", "bodyText": "Agree, it's better to keep the conditional branches focused to only the things that are different.", "author": "DanVanAtta", "createdAt": "2020-04-19T19:45:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk2OTg0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk3ODgxMQ==", "url": "https://github.com/triplea-game/triplea/pull/6294#discussion_r410978811", "bodyText": "Updated: c212dfd", "author": "DanVanAtta", "createdAt": "2020-04-19T19:55:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk2OTg0NQ=="}], "type": "inlineReview"}, {"oid": "c212dfdd06b6c97f353ffccf036875ffcde606b9", "url": "https://github.com/triplea-game/triplea/commit/c212dfdd06b6c97f353ffccf036875ffcde606b9", "message": "Move common operation outside of if/else block", "committedDate": "2020-04-19T19:55:09Z", "type": "commit"}]}