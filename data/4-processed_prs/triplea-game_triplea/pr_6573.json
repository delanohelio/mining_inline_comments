{"pr_number": 6573, "pr_title": "Simplify: Combine if statements", "pr_createdAt": "2020-06-02T04:14:01Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6573", "timeline": [{"oid": "2f3bfac51ff08f5e993bfb9cf042f32380b6bf8c", "url": "https://github.com/triplea-game/triplea/commit/2f3bfac51ff08f5e993bfb9cf042f32380b6bf8c", "message": "Simplify: Combine if statements", "committedDate": "2020-06-02T04:11:46Z", "type": "commit"}, {"oid": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e", "url": "https://github.com/triplea-game/triplea/commit/2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e", "message": "Remove unnecessary parens", "committedDate": "2020-06-02T04:47:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY2OTI1Ng==", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r434669256", "bodyText": "Just a thought:\nsections.getOrDefault(player.getName(), List.of()).contains(key.get(1))\nwould be a shorter variant of the if statement, I haven't convinced myself that it's clearly better though", "author": "RoiEXLab", "createdAt": "2020-06-03T15:47:45Z", "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "diffHunk": "@@ -196,17 +196,16 @@ private void setObjectiveStats() {\n \n         // find which section\n         boolean found = false;\n-        if (sections.containsKey(player.getName())) {\n-          if (sections.get(player.getName()).contains(key.get(1))) {\n-            final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n-            if (map == null) {\n-              throw new IllegalStateException(\n-                  \"objective.properties group has nothing: \" + player.getName());\n-            }\n-            map.put(condition, value);\n-            statsObjectiveUnsorted.put(player.getName(), map);\n-            found = true;\n+        if (sections.containsKey(player.getName())\n+            && sections.get(player.getName()).contains(key.get(1))) {", "originalCommit": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE4MjAxNw==", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r436182017", "bodyText": "A more radical change introduces unwanted risk and perhaps should arguably be tested. I'm not saying I disagree, only that such a change should be done as it's own PR where we make that one change or a set of similar changes and ensure it is adequately tested.", "author": "DanVanAtta", "createdAt": "2020-06-05T21:57:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY2OTI1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE4MjY2Mg==", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r436182662", "bodyText": "A multimap might be what we want. Having a person reading code realize that the later execution is a no-op because we default to an empty list is a bit indirect. It is arguably simpler than the series of if statements, I agree that is debatable.", "author": "DanVanAtta", "createdAt": "2020-06-05T21:59:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY2OTI1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY3MDE1OQ==", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r434670159", "bodyText": "This put operation is redundant btw if I'm not missing something obvious", "author": "RoiEXLab", "createdAt": "2020-06-03T15:49:05Z", "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "diffHunk": "@@ -196,17 +196,16 @@ private void setObjectiveStats() {\n \n         // find which section\n         boolean found = false;\n-        if (sections.containsKey(player.getName())) {\n-          if (sections.get(player.getName()).contains(key.get(1))) {\n-            final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n-            if (map == null) {\n-              throw new IllegalStateException(\n-                  \"objective.properties group has nothing: \" + player.getName());\n-            }\n-            map.put(condition, value);\n-            statsObjectiveUnsorted.put(player.getName(), map);\n-            found = true;\n+        if (sections.containsKey(player.getName())\n+            && sections.get(player.getName()).contains(key.get(1))) {\n+          final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n+          if (map == null) {\n+            throw new IllegalStateException(\n+                \"objective.properties group has nothing: \" + player.getName());\n           }\n+          map.put(condition, value);\n+          statsObjectiveUnsorted.put(player.getName(), map);", "originalCommit": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}