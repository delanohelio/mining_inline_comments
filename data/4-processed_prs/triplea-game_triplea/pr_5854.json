{"pr_number": 5854, "pr_title": "Enable lower_snake_case validation of SQL and squash migrations", "pr_createdAt": "2020-01-19T22:44:33Z", "pr_url": "https://github.com/triplea-game/triplea/pull/5854", "timeline": [{"oid": "601e8ce38d9508e7f66f85d63c9e15353bd87e0a", "url": "https://github.com/triplea-game/triplea/commit/601e8ce38d9508e7f66f85d63c9e15353bd87e0a", "message": "Enable lower_snake_case validation of SQL and squash migrations\n\n1. Squash SQL migrations files together\n2. Enable validation to disallow camel casing in SQL migrations\n3. Fix camelCased names in SQL migration file", "committedDate": "2020-01-19T22:42:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMzNDE3MQ==", "url": "https://github.com/triplea-game/triplea/pull/5854#discussion_r368334171", "bodyText": "Not sure about that, but don't we usually use TripleA as default way to write it?", "author": "RoiEXLab", "createdAt": "2020-01-19T23:53:34Z", "path": "lobby-db/src/main/resources/db/migration/V2.00.00__lobby.sql", "diffHunk": "@@ -49,7 +49,7 @@ alter table lobby_user\n     owner to lobby_user;\n alter table lobby_user\n     add constraint lobby_user_pass_check check (password IS NOT NULL OR bcrypt_password IS NOT NULL);\n-comment on table lobby_user is 'Stores information about TripleA Lobby users.';\n+comment on table lobby_user is 'Stores information about Triplea Lobby users.';", "originalCommit": "601e8ce38d9508e7f66f85d63c9e15353bd87e0a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMzNDY3OA==", "url": "https://github.com/triplea-game/triplea/pull/5854#discussion_r368334678", "bodyText": "Yes, but it's also camel-cased too..", "author": "DanVanAtta", "createdAt": "2020-01-20T00:00:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMzNDE3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1OTIxMg==", "url": "https://github.com/triplea-game/triplea/pull/5854#discussion_r368759212", "bodyText": "Not quite sure on how to reply to your statement.\nI mean shouldn't we agree on some way or another?", "author": "RoiEXLab", "createdAt": "2020-01-20T23:41:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMzNDE3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxMjI0Mg==", "url": "https://github.com/triplea-game/triplea/pull/5854#discussion_r368812242", "bodyText": "I'm not sure i follow what kind of suggestion you would be proposing @RoiEXLab , could you walk me through what you might want to see?\nThe rule of looking for camel case in SQL files is pretty naive, just any lower case letter next to upper case. I don't think the ROI for special casing 'TripleA' to that is significant enough to worry about, and I would be concerned that we could see examples where 'TripleA' were used in a table or column name (in general, or let alone as a camel cased variant)", "author": "DanVanAtta", "createdAt": "2020-01-21T05:01:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMzNDE3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODg2OTM5Mw==", "url": "https://github.com/triplea-game/triplea/pull/5854#discussion_r368869393", "bodyText": "Ahh, that's the missing piece I was missing: There's a script that checks the casing in this file, which isn't smart enough to differenciate between regular syntax and strings, right?\nIn this case feel free to merge, I can't think of a good way to enhance the script to ignore strings. I mean for this particular case it might be sufficient to run the file through sed first and replace all strings with the empty string, but this could potentially cause problems with escape sequences", "author": "RoiEXLab", "createdAt": "2020-01-21T08:42:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMzNDE3MQ=="}], "type": "inlineReview"}]}