{"pr_number": 7568, "pr_title": "Simplify defaultGameChooser file construction", "pr_createdAt": "2020-09-07T20:57:11Z", "pr_url": "https://github.com/triplea-game/triplea/pull/7568", "timeline": [{"oid": "cd70886f2a06e096eb2d5be718f5057eca860870", "url": "https://github.com/triplea-game/triplea/commit/cd70886f2a06e096eb2d5be718f5057eca860870", "message": "Simplify ResourceLoader, simplify nullity & remove search for 'dependencies.txt'\n\n1. MapName is never null, if it were then ResourceLoader would go on to throw a NPE.\n2. No map has a 'dependencies.txt' file, the search for it is unnecessary.", "committedDate": "2020-09-07T20:53:16Z", "type": "commit"}, {"oid": "ac5037c0a194a891e5aa7ada0973f816f3a3c8d9", "url": "https://github.com/triplea-game/triplea/commit/ac5037c0a194a891e5aa7ada0973f816f3a3c8d9", "message": "Simplify, move error handling to ShallowGameParser", "committedDate": "2020-09-07T20:53:19Z", "type": "commit"}, {"oid": "1823076667a2aa7aa4921e3f1c234b4d515e11f3", "url": "https://github.com/triplea-game/triplea/commit/1823076667a2aa7aa4921e3f1c234b4d515e11f3", "message": "Mark exception variable as final per checkstyle rules", "committedDate": "2020-09-07T21:19:38Z", "type": "commit"}, {"oid": "0237caddbf259aec51d26f8602957c91a07340db", "url": "https://github.com/triplea-game/triplea/commit/0237caddbf259aec51d26f8602957c91a07340db", "message": "Fully quality Preconditions.checkNotNull (fix codacy warning)", "committedDate": "2020-09-07T21:27:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEzMTU3Ng==", "url": "https://github.com/triplea-game/triplea/pull/7568#discussion_r487131576", "bodyText": "Wait what?\nDoes any map even use this?", "author": "RoiEXLab", "createdAt": "2020-09-11T15:44:23Z", "path": "game-core/src/main/java/games/strategy/triplea/ResourceLoader.java", "diffHunk": "@@ -169,43 +170,11 @@ static String normalizeMapName(final String zipName) {\n     return sb.toString();\n   }\n \n-  private static List<String> getPaths(final String mapName) {\n-    if (mapName == null) {\n-      return new ArrayList<>();\n-    }\n-\n-    final List<File> candidates = getCandidatePaths(mapName);\n-\n-    final Optional<File> match = candidates.stream().filter(File::exists).findFirst();\n-    if (match.isEmpty()) {\n-      // if we get no results, we will eventually prompt the user to download the map\n-      return new ArrayList<>();\n-    }\n-\n-    final List<String> paths = new ArrayList<>();\n-    paths.add(match.get().getAbsolutePath());\n-    // find dependencies\n-    try (URLClassLoader url = new URLClassLoader(new URL[] {match.get().toURI().toURL()})) {\n-      final URL dependenciesUrl = url.getResource(\"dependencies.txt\");", "originalCommit": "0237caddbf259aec51d26f8602957c91a07340db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3OTI5MQ==", "url": "https://github.com/triplea-game/triplea/pull/7568#discussion_r487279291", "bodyText": "I've all maps cloned to \"work/maps\"\ndan@dan-xps:~$ cd work/maps/\ndan@dan-xps:~/work/maps$ find . -name \"dependencies.txt\"\ndan@dan-xps:~/work/maps$ \n\nI was a bit surprised. I wonder if maybe back when we had 'variants', if it was used then. We've since merged all of the core map data into each variant to remove the variant maps and have them as stand-alone. If that is the case, it explains this could having been used but no longer.", "author": "DanVanAtta", "createdAt": "2020-09-11T20:38:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEzMTU3Ng=="}], "type": "inlineReview"}]}