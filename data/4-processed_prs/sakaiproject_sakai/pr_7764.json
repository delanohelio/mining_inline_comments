{"pr_number": 7764, "pr_title": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "pr_createdAt": "2020-01-14T06:49:53Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/7764", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzU0Ng==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366423546", "bodyText": "Hi, this quotes are not right, they are french quotes, you need to update them, thanks :)", "author": "SedueRey", "createdAt": "2020-01-14T16:00:23Z", "path": "samigo/samigo-app/src/webapp/jsf/author/authorSettings.jsp", "diffHunk": "@@ -212,17 +212,21 @@\n         });\n \n         function expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\u2018div#jqueryui-accordion > .ui-accordion-content\u2019).show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-e\u201d).addClass(\u201cui-icon-triangle-1-s\u201d);\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header\u201d).addClass(\u201cui-accordion-header-active ui-state-active\u201d);\n \t\t}\n \n \t\tfunction collapseAccordion(iframId){\n \t\t\t$('.ui-accordion-content').hide();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").hide();\n \t\t\t$(\"#expandLink\").show();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-s\u201d).addClass(\u201cui-icon-triangle-1-e\u201d);", "originalCommit": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0NjI0MQ==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366546241", "bodyText": "There was both single quotes and double quotes in the functions already, so I just stuck with how they were. To be clear, which ones are French quotes? Should I be changing these to single or double quotes?", "author": "brickatyourfeet", "createdAt": "2020-01-14T20:04:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzU0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU3ODEzMw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366578133", "bodyText": "I think @SedueRey was referring to the rounded-looking quotes \u201c in comparison to the straight/vertical quotes \" that were already there.", "author": "fostersdesign", "createdAt": "2020-01-14T21:20:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzU0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwMDU3Mw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366600573", "bodyText": "Oh, I see that now - will fix. Thanks.", "author": "brickatyourfeet", "createdAt": "2020-01-14T22:12:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzU0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzY0Ng==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366423646", "bodyText": "Same here", "author": "SedueRey", "createdAt": "2020-01-14T16:00:33Z", "path": "samigo/samigo-app/src/webapp/jsf/author/authorSettings.jsp", "diffHunk": "@@ -212,17 +212,21 @@\n         });\n \n         function expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\u2018div#jqueryui-accordion > .ui-accordion-content\u2019).show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-e\u201d).addClass(\u201cui-icon-triangle-1-s\u201d);\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header\u201d).addClass(\u201cui-accordion-header-active ui-state-active\u201d);", "originalCommit": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzg4MA==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366423880", "bodyText": "same here, all quotes in this are french.", "author": "SedueRey", "createdAt": "2020-01-14T16:00:57Z", "path": "samigo/samigo-app/src/webapp/jsf/author/publishedSettings.jsp", "diffHunk": "@@ -182,10 +182,12 @@\n           checkLastHandling();\n         });\n \t\tfunction expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\u2018div#jqueryui-accordion > .ui-accordion-content\u2019).show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-e\u201d).addClass(\u201cui-icon-triangle-1-s\u201d);\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header\u201d).addClass(\u201cui-accordion-header-active ui-state-active\u201d);", "originalCommit": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1", "url": "https://github.com/sakaiproject/sakai/commit/0c9174bed13a03bf127c7f58e772962c2068cfb1", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "committedDate": "2020-01-14T22:32:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r368911197", "bodyText": "Why don't you change the icon in collapseAccordion here, too? Is there no need?", "author": "adrianfish", "createdAt": "2020-01-21T10:10:18Z", "path": "samigo/samigo-app/src/webapp/jsf/author/publishedSettings.jsp", "diffHunk": "@@ -182,10 +182,12 @@\n           checkLastHandling();\n         });\n \t\tfunction expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\"div#jqueryui-accordion > .ui-accordion-content\").show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header > span\").removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header\").addClass(\"ui-accordion-header-active ui-state-active\");", "originalCommit": "0c9174bed13a03bf127c7f58e772962c2068cfb1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTM4MzgyMg==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r369383822", "bodyText": "It doesn't appear to be necessary", "author": "brickatyourfeet", "createdAt": "2020-01-22T06:08:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTM4NDIzNw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r369384237", "bodyText": "This is how we've been running it in our instance, and it's done the trick", "author": "brickatyourfeet", "createdAt": "2020-01-22T06:10:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQ4ODU3NA==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r369488574", "bodyText": "Ok, one more thing. I think you should move these functions into authoring.js. They are more or less identical. I know they weren't there in the first place, but it's a definite improvement in removing duplication. Never be afraid to improve code in the areas surrounding your bugfix.", "author": "adrianfish", "createdAt": "2020-01-22T10:46:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk0MDA1Mw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r369940053", "bodyText": "Not sure what you mean, are you saying get rid of them in publishedSettings and just leave them in authorSettings?", "author": "brickatyourfeet", "createdAt": "2020-01-23T05:39:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk2NjQ0Nw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r369966447", "bodyText": "No, I mean move the function definition into authoring.js so the functions are defined in one place. Both JSPs bring that file in, so you can do that and still call it from the two jsps.", "author": "adrianfish", "createdAt": "2020-01-23T07:38:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ5Njc2MQ==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r370496761", "bodyText": "Oh right right, thanks. They are now moved to authoring.js", "author": "brickatyourfeet", "createdAt": "2020-01-24T07:07:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU2Mjc0Mw==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r370562743", "bodyText": "Have you taken them out of the jsp files? It looks to me like they're still there. You can remove them from there and the call will use the definition from authoring.js.", "author": "adrianfish", "createdAt": "2020-01-24T10:21:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDk2MjU1Ng==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r374962556", "bodyText": "The jsp files are now amended with the functions in authoring.js", "author": "brickatyourfeet", "createdAt": "2020-02-04T22:35:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}], "type": "inlineReview"}, {"oid": "12ba8985d897d9c28575e3b104847cbdee4df88a", "url": "https://github.com/sakaiproject/sakai/commit/12ba8985d897d9c28575e3b104847cbdee4df88a", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "committedDate": "2020-01-24T07:05:52Z", "type": "forcePushed"}, {"oid": "df4ddfd2d6b5a3c7c7cea046a0f6ae15d4b016ea", "url": "https://github.com/sakaiproject/sakai/commit/df4ddfd2d6b5a3c7c7cea046a0f6ae15d4b016ea", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "committedDate": "2020-01-25T02:19:10Z", "type": "forcePushed"}, {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "url": "https://github.com/sakaiproject/sakai/commit/ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "committedDate": "2020-01-25T02:26:54Z", "type": "commit"}, {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "url": "https://github.com/sakaiproject/sakai/commit/ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "committedDate": "2020-01-25T02:26:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQ5MzA3OQ==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r378493079", "bodyText": "Is this frame height script still required now that we no longer have iFrames? Or does Lessons still require it for embedded quizzes?", "author": "fostersdesign", "createdAt": "2020-02-12T20:24:52Z", "path": "samigo/samigo-app/src/webapp/js/authoring.js", "diffHunk": "@@ -787,4 +787,23 @@ function toggleCategories(checkbox) {\n             categoryDiv.fadeOut();\n         }\n     }\n-}\n\\ No newline at end of file\n+}\n+\n+function expandAccordion(iframId){\n+    $('div#jqueryui-accordion > .ui-accordion-content').show();\n+    mySetMainFrameHeight(iframId);", "originalCommit": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQ5NDA4Ng==", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r378494086", "bodyText": "Sorry, I haven't investigated alternative ways of accomplishing this. The worry about these lines was how fragile they could be. We could file a separate Jira issue to fix them better in the future.", "author": "fostersdesign", "createdAt": "2020-02-12T20:26:59Z", "path": "samigo/samigo-app/src/webapp/js/authoring.js", "diffHunk": "@@ -787,4 +787,23 @@ function toggleCategories(checkbox) {\n             categoryDiv.fadeOut();\n         }\n     }\n-}\n\\ No newline at end of file\n+}\n+\n+function expandAccordion(iframId){\n+    $('div#jqueryui-accordion > .ui-accordion-content').show();\n+    mySetMainFrameHeight(iframId);\n+    $(\"#collapseLink\").show();\n+    $(\"#expandLink\").hide();\n+    $(\"div#jqueryui-accordion > h3.ui-accordion-header > span\").removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");", "originalCommit": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}