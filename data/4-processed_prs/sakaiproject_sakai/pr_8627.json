{"pr_number": 8627, "pr_title": "SAK-44341 - escape the filename before building the resourceId for th\u2026", "pr_createdAt": "2020-09-29T00:51:48Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8627", "timeline": [{"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed", "url": "https://github.com/sakaiproject/sakai/commit/27f1c4f8be4e1d4574e651d98ce53e13bedf99ed", "message": "SAK-44341 - escape the filename before building the resourceId for the check to see if it exists or not", "committedDate": "2020-09-29T00:49:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgxOTMwNA==", "url": "https://github.com/sakaiproject/sakai/pull/8627#discussion_r496819304", "bodyText": "Validator is deprecated try using FormattedText", "author": "ern", "createdAt": "2020-09-29T15:32:56Z", "path": "content/content-tool/tool/src/java/org/sakaiproject/content/tool/ResourcesHelperAction.java", "diffHunk": "@@ -2067,7 +2067,7 @@ private synchronized void doDragDropUpload(HttpServletRequest request, HttpServl\n \t\t\t\tif (collection!=null)\n \t\t\t\t{\n \t\t\t\t\t//get the resourceId by using collectionName and uploadFileName\n-\t\t\t\t\tresourceId = collectionName +\"/\"+ uploadFileName;\n+\t\t\t\t\tresourceId = collectionName +\"/\"+ Validator.escapeResourceName(uploadFileName);", "originalCommit": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgxOTM5MA==", "url": "https://github.com/sakaiproject/sakai/pull/8627#discussion_r496819390", "bodyText": "Validator is deprecated try using FormattedText", "author": "ern", "createdAt": "2020-09-29T15:33:01Z", "path": "content/content-tool/tool/src/java/org/sakaiproject/content/tool/ResourcesHelperAction.java", "diffHunk": "@@ -2093,7 +2093,7 @@ private synchronized void doDragDropUpload(HttpServletRequest request, HttpServl\n \t\t\t\t\t//So I disable this method call, though it can be enabled again if desired.\n \t\t\t\t\t\n \t\t\t\t\t//String resourceName = getUniqueFileName(uploadFileName, resourceGroup);\n-\t\t\t\t\tresourceId = resourceGroup + uploadFileName;\n+\t\t\t\t\tresourceId = resourceGroup + Validator.escapeResourceName(uploadFileName);", "originalCommit": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}