{"pr_number": 8339, "pr_title": "SAK-43901: add wicket library for reusable components", "pr_createdAt": "2020-07-06T11:55:21Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8339", "timeline": [{"oid": "dedf53657088c6053393dc2c4d042b450ea61491", "url": "https://github.com/sakaiproject/sakai/commit/dedf53657088c6053393dc2c4d042b450ea61491", "message": "SAK-43901: add wicket library for reusable components", "committedDate": "2020-07-06T11:52:40Z", "type": "commit"}, {"oid": "5a267a9e098c53765cd23bd2135baee0d989471b", "url": "https://github.com/sakaiproject/sakai/commit/5a267a9e098c53765cd23bd2135baee0d989471b", "message": "SAK-43901: fixup for bad merge conflict resolution", "committedDate": "2020-07-06T12:15:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3OTg5OA==", "url": "https://github.com/sakaiproject/sakai/pull/8339#discussion_r450179898", "bodyText": "Looks like there's a label missing for this input. That makes it hard for people using screen readers or voice control to use the input.", "author": "accesslint", "createdAt": "2020-07-06T12:15:52Z", "path": "gradebookng/tool/src/java/org/sakaiproject/gradebookng/tool/panels/AddOrEditGradeItemPanelContent.html", "diffHunk": "@@ -49,46 +49,8 @@\n \t\t\t\t<label wicket:for=\"duedate\" class=\"col-xs-3 control-label\">\n \t\t\t\t\t<wicket:message key=\"label.addgradeitem.due\" />\n \t\t\t\t</label>\n-\t\t\t\t<div class=\"col-xs-6\">\n-\t\t\t\t\t<div class=\"input-group\">\n-\t\t\t\t\t\t<input wicket:id=\"duedate\" type=\"text\" class=\"form-control gb-datepicker\" aria-describedby=\"duedate-help\" />\n-\t\t\t\t\t\t<span class=\"input-group-btn\">\n-\t\t\t\t\t\t\t<button class=\"btn btn-sm btn-default invoke-datepicker-btn\" type=\"button\"><span class=\"glyphicon glyphicon-calendar\"></span></button>\n-\t\t\t\t\t\t\t<button class=\"btn btn-sm btn-default clear-datepicker-btn\" type=\"button\"><span class=\"glyphicon glyphicon-remove\"></span></button>\n-\t\t\t\t\t\t</span>\n-\t\t\t\t\t</div>\n-                    <script>\n-                        var initDatePickers = function () {\n-                            $('.gb-datepicker').each(function() {\n-                                var $datepicker = $(this);\n-\n-\t\t\t\t// This method is hardcoded to duedate_iso8601 so .each will only work with one date picker. \n-\t\t\t\t// Would need to adjust this or create a wicket component to support multiple dates.\n-                                localDatePicker({\n-                                    input: '#' + $datepicker.attr('id'),\n-                                    useTime: 0,\n-                                    icon: 0,\n-                                    allowEmptyDate: true,\n-                                    parseFormat: 'YYYY-MM-DD',\n-                                    val: $datepicker.val(),\n-                                    ashidden: { iso8601: 'duedate_iso8601' }\n-                                })\n-    \n-                                // setup input button to trigger date-time picker\n-                                $datepicker.parent().find(\".invoke-datepicker-btn\").click(function() {\n-                                    $datepicker.focus();\n-                                });\n-    \n-                                // add clear action if present\n-                                $datepicker.parent().find(\".clear-datepicker-btn\").click(function() {\n-                                    $datepicker.val(\"\");\n-\t\t\t\t    // Clear the hidden date too, possibly a better way to do this\n-\t    \t\t\t    $datepicker.siblings(\"#duedate_iso8601\").val(\"\")\n-                                });\n-                            });\n-                        };\n-                        initDatePickers();\n-                    </script>\n+\t\t\t\t<div class=\"col-xs-6 form-inline\">\n+\t\t\t\t\t<input wicket:id=\"duedate\" type=\"text\" class=\"form-control gb-datepicker\" aria-describedby=\"duedate-help\" />", "originalCommit": "5a267a9e098c53765cd23bd2135baee0d989471b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE4MTYyMw==", "url": "https://github.com/sakaiproject/sakai/pull/8339#discussion_r450181623", "bodyText": "This is a false positive, there is a label with wicket:for=\"duedate\" a few lines above this.", "author": "plukasew", "createdAt": "2020-07-06T12:19:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3OTg5OA=="}], "type": "inlineReview"}, {"oid": "23b37ca9a6b6c4941225970b52f304deeace36b5", "url": "https://github.com/sakaiproject/sakai/commit/23b37ca9a6b6c4941225970b52f304deeace36b5", "message": "SAK-43901: remove obsolete comment", "committedDate": "2020-07-06T13:29:32Z", "type": "commit"}, {"oid": "e81e8e066693f61d23ca17e9dfe07bde18b5225f", "url": "https://github.com/sakaiproject/sakai/commit/e81e8e066693f61d23ca17e9dfe07bde18b5225f", "message": "SAK-43901: directory restructure", "committedDate": "2020-07-07T16:56:57Z", "type": "commit"}]}