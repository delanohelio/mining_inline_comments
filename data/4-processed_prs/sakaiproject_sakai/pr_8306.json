{"pr_number": 8306, "pr_title": "SAK-43625 Samigo: Syntax error, unrecognized expression: Function.fa.\u2026", "pr_createdAt": "2020-06-19T23:46:16Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8306", "timeline": [{"oid": "56c6678316c418173bfb071d06f719716d5a106a", "url": "https://github.com/sakaiproject/sakai/commit/56c6678316c418173bfb071d06f719716d5a106a", "message": "SAK-43625 Samigo: Syntax error, unrecognized expression: Function.fa.error\nSAK-43814 Samigo - MCSC question labels are not aligned when shown all on one page\nSAK-43688 T&Q: MCSC short answer choices are not aligned at all now in the student feedback or instructor grading view", "committedDate": "2020-06-19T23:42:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446207410", "bodyText": "Can you explain this change? You are looking for the script tag's parent and then finding the first div.mcscFixUp? Why is this better than the previous jquery.Each function?", "author": "ottenhoff", "createdAt": "2020-06-26T14:09:12Z", "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "originalCommit": "56c6678316c418173bfb071d06f719716d5a106a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyMTIzNQ==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446321235", "bodyText": "see my explanation in SAK-43625\n\"I believe the root cause of the misalignment was because when there are more than one multiple choice questions on the same page, there will be multiple <script> tags written to the page, so the same javascript gets run on all of the multiple choice questions multiple times (throwing off the alignment)...\nThis fix attempts to fix all of the JIRAs mentioned above by targeting only the current script tag's elements.\"", "author": "austin48", "createdAt": "2020-06-26T17:38:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyMjYxNA==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446322614", "bodyText": "one unknown though, is that I don't have access to IE, so I couldn't test my patch there.  But it seemed to work ok on OS X with FF and Chrome", "author": "austin48", "createdAt": "2020-06-26T17:41:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyNDI3Ng==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446324276", "bodyText": "Searching for a script tag just looks strange .... can you do it on an HTML id or tag instead?", "author": "ottenhoff", "createdAt": "2020-06-26T17:45:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyOTEzNQ==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446329135", "bodyText": "I got that from this article\nhttps://stackoverflow.com/questions/403967/how-may-i-reference-the-script-tag-that-loaded-the-currently-executing-script\nit mentions that \"using an id may cause issues in some browsers\"", "author": "austin48", "createdAt": "2020-06-26T17:55:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMzMzA4Mg==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446333082", "bodyText": "I think that article meant using an id in the script tag.  Did you mean to add an id to some other tag?  e.g. the 'mcscFixUp' tag?  I suppose that's possible.  maybe I can use the question id?   I'll have to look into that.", "author": "austin48", "createdAt": "2020-06-26T18:03:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQyMDcwNA==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446420704", "bodyText": "any objection to using a style class as a selector instead of an id?  jsf prepends it's dynamic id stuff to form element ids, and I didn't know of a good way to get jquery to select that dynamic id.  Using a style classname seemed like a good compromise, which I found from the example in https://stackoverflow.com/a/16483521", "author": "austin48", "createdAt": "2020-06-26T21:34:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ1NjUzNw==", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446456537", "bodyText": "added additional commit 999cbe9", "author": "austin48", "createdAt": "2020-06-27T00:02:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}], "type": "inlineReview"}, {"oid": "999cbe9da0add05af57e84376ba64a509cf1e10e", "url": "https://github.com/sakaiproject/sakai/commit/999cbe9da0add05af57e84376ba64a509cf1e10e", "message": "SAK-43625 Samigo: Syntax error, unrecognized expression: Function.fa.error\nSAK-43814 Samigo - MCSC question labels are not aligned when shown all on one page\nSAK-43688 T&Q: MCSC short answer choices are not aligned at all now in the student feedback or instructor grading view\n\nuse a style class as a selector instead of searching for the current script tag.\ncouldn't use an id as a selector because jsf adds it's dynamic id to form element ids.", "committedDate": "2020-06-26T23:57:33Z", "type": "commit"}]}