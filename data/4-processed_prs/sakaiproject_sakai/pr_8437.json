{"pr_number": 8437, "pr_title": "SAK-41140:  Change initial run of updatePresence to be delayed if function doesn't exist yet.", "pr_createdAt": "2020-08-06T13:27:03Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8437", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQzMzcwMg==", "url": "https://github.com/sakaiproject/sakai/pull/8437#discussion_r468433702", "bodyText": "I would change the name of this function. It's always run, just with a possible delay first time round.", "author": "adrianfish", "createdAt": "2020-08-11T09:02:56Z", "path": "portal/portal-render-engine-impl/impl/src/webapp/vm/morpheus/includeFooterExtras.vm", "diffHunk": "@@ -293,7 +293,14 @@\n                 //these are global variables...\n                 var sakaiPresenceTimeDelay = ${sitePages.sakaiPresenceTimeDelay};\n                 var sakaiPresenceFragment = \"${sitePages.pageNavPresenceUrl}?output_fragment=yes&auto=true\";\n-                var sakaiLastPresenceTimeOut = setTimeout('updatePresence()', sakaiPresenceTimeDelay); \n+                var sakaiLastPresenceTimeOut = setTimeout('firstRun()', sakaiPresenceTimeDelay);\n+                var firstRun = function() {", "originalCommit": "89e357ea7d062e36844bc9396cc548e3f82947aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA2MjczMw==", "url": "https://github.com/sakaiproject/sakai/pull/8437#discussion_r469062733", "bodyText": "Changed from 'firstRun' to 'delayedUpdatePresence'", "author": "TurRil", "createdAt": "2020-08-12T07:33:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQzMzcwMg=="}], "type": "inlineReview"}, {"oid": "ed04b53920b24e02ef9ee5ce1e6675548179dae0", "url": "https://github.com/sakaiproject/sakai/commit/ed04b53920b24e02ef9ee5ce1e6675548179dae0", "message": "SAK-41140:  Change initial run of updatePresence to be delayed if function doesn't exist yet.", "committedDate": "2020-08-12T07:30:26Z", "type": "commit"}, {"oid": "ed04b53920b24e02ef9ee5ce1e6675548179dae0", "url": "https://github.com/sakaiproject/sakai/commit/ed04b53920b24e02ef9ee5ce1e6675548179dae0", "message": "SAK-41140:  Change initial run of updatePresence to be delayed if function doesn't exist yet.", "committedDate": "2020-08-12T07:30:26Z", "type": "forcePushed"}, {"oid": "654497ee9ec980c25cf4f6eb19ce9c3d91d22c5f", "url": "https://github.com/sakaiproject/sakai/commit/654497ee9ec980c25cf4f6eb19ce9c3d91d22c5f", "message": "SAK-41140: On review changed the name of the function to be more descriptive.", "committedDate": "2020-08-12T07:33:26Z", "type": "commit"}]}