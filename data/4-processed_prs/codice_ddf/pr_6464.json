{"pr_number": 6464, "pr_title": "[2.19.x] G-9195 G-9469 Fix single result export to have user-friendly headers", "pr_createdAt": "2020-12-16T20:57:51Z", "pr_url": "https://github.com/codice/ddf/pull/6464", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzNTA1Ng==", "url": "https://github.com/codice/ddf/pull/6464#discussion_r544635056", "bodyText": "\u270f\ufe0f You can remove the {} and the return since this a pretty short predicate statement now", "author": "leo-sakh", "createdAt": "2020-12-16T21:27:20Z", "path": "ui/packages/catalog-ui-search/src/main/webapp/react-component/results-export/container.tsx", "diffHunk": "@@ -69,9 +70,7 @@ class ResultsExport extends React.Component<Props, State> {\n   }\n \n   getTransformerType = () => {", "originalCommit": "c40cc1141898588ff4d9e93e42c90a6743b509e0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0MDM2OA==", "url": "https://github.com/codice/ddf/pull/6464#discussion_r544640368", "bodyText": "\u2753 Why can't we just do const attributes = this.props.results.map(result => result.attributes)?", "author": "leo-sakh", "createdAt": "2020-12-16T21:36:46Z", "path": "ui/packages/catalog-ui-search/src/main/webapp/react-component/results-export/container.tsx", "diffHunk": "@@ -149,20 +147,21 @@ class ResultsExport extends React.Component<Props, State> {\n           transformerId: uriEncodedTransformerId,\n         },\n       })\n-    } else if (this.props.results.length > 1) {\n+    } else {\n+      let attributes = new Array()", "originalCommit": "c40cc1141898588ff4d9e93e42c90a6743b509e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4MzQ2Mg==", "url": "https://github.com/codice/ddf/pull/6464#discussion_r544683462", "bodyText": "You're right, I think I could do something like\nconst attributes = Array.from(new Set(this.props.results.map(result => result.attributes))) which would be more concise. The Set part is just so that I can get only the unique values", "author": "cassandrabailey293", "createdAt": "2020-12-16T22:56:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0MDM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTY2Nw==", "url": "https://github.com/codice/ddf/pull/6464#discussion_r545219667", "bodyText": "If you only want unique values you can use the distinct() stream operator like this.props.results.map(result => result.attributes).distinct()", "author": "mojogitoverhere", "createdAt": "2020-12-17T16:21:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0MDM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMwMDYxMQ==", "url": "https://github.com/codice/ddf/pull/6464#discussion_r545300611", "bodyText": "this is exactly what i was looking for - thanks", "author": "cassandrabailey293", "createdAt": "2020-12-17T18:15:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0MDM2OA=="}], "type": "inlineReview"}, {"oid": "ba4fbfaadcd4d2fdc811b07a784dda0afbfdf08d", "url": "https://github.com/codice/ddf/commit/ba4fbfaadcd4d2fdc811b07a784dda0afbfdf08d", "message": "G-9195 initial commit", "committedDate": "2020-12-28T18:45:12Z", "type": "commit"}, {"oid": "c8ab9dd68a7df776d2c4b9133c398df1d1d1fb70", "url": "https://github.com/codice/ddf/commit/c8ab9dd68a7df776d2c4b9133c398df1d1d1fb70", "message": "G-9195 refactor to use query transformer only for csv case", "committedDate": "2020-12-28T18:45:12Z", "type": "commit"}, {"oid": "26ddf5b603e4edca43e97fa66d602da877950f2a", "url": "https://github.com/codice/ddf/commit/26ddf5b603e4edca43e97fa66d602da877950f2a", "message": "G-9195 use query transformers for all non-zipped export", "committedDate": "2020-12-28T18:46:24Z", "type": "commit"}, {"oid": "e0d6046032cb08880cc78f9e8a513d793b81cda8", "url": "https://github.com/codice/ddf/commit/e0d6046032cb08880cc78f9e8a513d793b81cda8", "message": "G-9195 formatting", "committedDate": "2020-12-28T18:46:25Z", "type": "commit"}, {"oid": "58ac6f7678712a1877cd4ceb37a11dc960d7b64b", "url": "https://github.com/codice/ddf/commit/58ac6f7678712a1877cd4ceb37a11dc960d7b64b", "message": "G-9195 remove accidental line addition", "committedDate": "2020-12-28T18:47:02Z", "type": "commit"}, {"oid": "2ac205e9f14b30dd05837dc286233aebf5076ccd", "url": "https://github.com/codice/ddf/commit/2ac205e9f14b30dd05837dc286233aebf5076ccd", "message": "G-9195 refactor", "committedDate": "2020-12-28T18:47:03Z", "type": "commit"}, {"oid": "2ac205e9f14b30dd05837dc286233aebf5076ccd", "url": "https://github.com/codice/ddf/commit/2ac205e9f14b30dd05837dc286233aebf5076ccd", "message": "G-9195 refactor", "committedDate": "2020-12-28T18:47:03Z", "type": "forcePushed"}]}