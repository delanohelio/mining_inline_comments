{"pr_number": 6423, "pr_title": "[2.19.x] DDF-6204 Reset Search window on Workspace change", "pr_createdAt": "2020-11-16T19:30:06Z", "pr_url": "https://github.com/codice/ddf/pull/6423", "timeline": [{"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649", "url": "https://github.com/codice/ddf/commit/199470d4894df9f4f5f2dc4c923caff55e86c649", "message": "DDF-6204 Reset Search window on Workspace change", "committedDate": "2020-11-12T16:52:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDYwOTE1NA==", "url": "https://github.com/codice/ddf/pull/6423#discussion_r524609154", "bodyText": "\u2753 So this will be listening for 'resetSearch' on the wreqr.vent object. Is that what we want to happen? Typically, we listen to changes/updates/additions to an object we 'own', i.e. this.model. If we're wanting to go the vent route then you might want to consider:\nwreqr.vent.on('resetSearch', this.cancel)\nthough I believe Backbone.Wreqr is deprecated.", "author": "leo-sakh", "createdAt": "2020-11-16T21:32:23Z", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "diffHunk": "@@ -58,6 +58,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.listenTo(this.model, 'resetToDefaults change:type', this.reshow)\n     this.listenTo(this.model, 'change:filterTree', this.reshow)\n     this.listenTo(this.model, 'closeDropdown', this.closeDropdown)\n+    this.listenTo(wreqr.vent, 'resetSearch', this.cancel)", "originalCommit": "199470d4894df9f4f5f2dc4c923caff55e86c649", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyNjE3NA==", "url": "https://github.com/codice/ddf/pull/6423#discussion_r530526174", "bodyText": "I think the vent route is best. The thing sending out the resetSearch is a React container so I'm not sure how I would go about listening to it as I would a Marionette model. The listenTo is also used throughout other parts of the UI code here so its probably best to keep to convention unless there is an issue I'm not seeing.", "author": "jMoneee", "createdAt": "2020-11-25T17:07:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDYwOTE1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzc0NjQyOA==", "url": "https://github.com/codice/ddf/pull/6423#discussion_r537746428", "bodyText": "Listening for event on vent just semantically seems pretty odd to me as it's a messaging framework, but assuming we're sunsetting this code either way I suppose it's fine for now.", "author": "leo-sakh", "createdAt": "2020-12-07T18:52:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDYwOTE1NA=="}], "type": "inlineReview"}]}