{"pr_number": 6350, "pr_title": "[2.19.x] Reduce average query size sent to Solr", "pr_createdAt": "2020-09-25T21:00:21Z", "pr_url": "https://github.com/codice/ddf/pull/6350", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk3MDY5OQ==", "url": "https://github.com/codice/ddf/pull/6350#discussion_r495970699", "bodyText": "look like this field is no longer used.", "author": "lamhuy", "createdAt": "2020-09-28T14:12:26Z", "path": "catalog/core/catalog-core-solr/src/main/java/ddf/catalog/source/solr/DynamicSchemaResolver.java", "diffHunk": "@@ -188,21 +191,20 @@ public DynamicSchemaResolver(List<String> additionalFields) {\n     this.tinyBinaryFunction = this::newTinyBinary;\n     this.schemaFields = new SchemaFields();\n     metadataMaximumBytes = getMetadataSizeLimit();\n+    anyTextFields = getAnyTextFields();\n     fieldsCache.add(Metacard.ID + SchemaFields.TEXT_SUFFIX);\n     fieldsCache.add(Metacard.ID + SchemaFields.TEXT_SUFFIX + SchemaFields.TOKENIZED);\n     fieldsCache.add(\n         Metacard.ID + SchemaFields.TEXT_SUFFIX + SchemaFields.TOKENIZED + SchemaFields.HAS_CASE);\n     fieldsCache.add(Metacard.TAGS + SchemaFields.TEXT_SUFFIX);\n \n-    anyTextFieldsCache.add(Metacard.METADATA + SchemaFields.TEXT_SUFFIX);\n     Set<String> basicTextAttributes =", "originalCommit": "b7b915ea5d826f1b0f61b9a42e0d2befca4774b6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d209fea3e4ff2bb10f36ce7b10e2168491aeeecb", "url": "https://github.com/codice/ddf/commit/d209fea3e4ff2bb10f36ce7b10e2168491aeeecb", "message": "Reduce average query size sent to Solr\n\n- Removes the dynamic generation of AnyText fields. This creates poor\n  query performance when expanding to hundreds of fields.\n- Disables filtered attribute feature that generated large field lists\n  but failed to significantly reduce query time for majority of\n  queries.\n- Removes spellcheck parameter if spell check is not enabled for the\n  query.\n- Removes score from field list if not sorting by relevance.", "committedDate": "2020-09-29T19:40:11Z", "type": "commit"}, {"oid": "d209fea3e4ff2bb10f36ce7b10e2168491aeeecb", "url": "https://github.com/codice/ddf/commit/d209fea3e4ff2bb10f36ce7b10e2168491aeeecb", "message": "Reduce average query size sent to Solr\n\n- Removes the dynamic generation of AnyText fields. This creates poor\n  query performance when expanding to hundreds of fields.\n- Disables filtered attribute feature that generated large field lists\n  but failed to significantly reduce query time for majority of\n  queries.\n- Removes spellcheck parameter if spell check is not enabled for the\n  query.\n- Removes score from field list if not sorting by relevance.", "committedDate": "2020-09-29T19:40:11Z", "type": "forcePushed"}]}