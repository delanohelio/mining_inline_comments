{"pr_number": 6355, "pr_title": "[2.19.x] DDF-UI-396 Result Form shows 'Make Default Form' even though already default", "pr_createdAt": "2020-09-29T21:24:26Z", "pr_url": "https://github.com/codice/ddf/pull/6355", "timeline": [{"oid": "5ffbfea6e95ec9c798f0821d58e9dcb009044b82", "url": "https://github.com/codice/ddf/commit/5ffbfea6e95ec9c798f0821d58e9dcb009044b82", "message": "DDF-UI-396 Result Form shows 'Make Default Form' even though already default", "committedDate": "2020-09-29T21:13:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499759953", "bodyText": "\u2753 Would this change impact how existing queries (i.e. queries created before this change) are handled ? I suspect it would be best if the code is able to handle both of these falsey values", "author": "mojogitoverhere", "createdAt": "2020-10-05T17:30:37Z", "path": "ui/packages/catalog-ui-search/src/main/webapp/js/model/Query.js", "diffHunk": "@@ -186,7 +186,7 @@ Query.Model = PartialAssociatedModel.extend({\n         type: 'text',\n         isLocal: false,\n         isOutdated: false,\n-        'detail-level': undefined,\n+        'detail-level': null,", "originalCommit": "5ffbfea6e95ec9c798f0821d58e9dcb009044b82", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NTgzNA==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499765834", "bodyText": "This would have no impact on existing queries, since existing queries would have an actual detail-level that was chosen, or an undefined detail-level that equates to allfields.", "author": "abel-connexta", "createdAt": "2020-10-05T17:41:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc3MjE2Ng==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499772166", "bodyText": "Ok, if the code i still able to handle undefined then we should be good to go. I'm still curious though, why was this changed to null to begin with? \ud83e\udd14", "author": "mojogitoverhere", "createdAt": "2020-10-05T17:53:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc3NjgxNA==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499776814", "bodyText": "Since we want to automatically inject the default Result form within a new Search Form, needed a way to know when a Search form is new. Because what was happening, was that when you tried to update a Search form, and you had previously saved 'All Result' for Result form, if you had a default Result Form, it was overriding your previously saved search form 'All Result'. Hence needed to know when a Search form was new so that the default form could be automatically inject, else, it should display whatever was saved if updating a Search form.", "author": "abel-connexta", "createdAt": "2020-10-05T18:02:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc4MDI0Mw==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499780243", "bodyText": "Can we somehow apply the default Result form when the user clicks on + Search Form card instead of changing the underlying model?", "author": "mojogitoverhere", "createdAt": "2020-10-05T18:08:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc4NTQ0NQ==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499785445", "bodyText": "That was the first thing I thought of doing, but since it does not only apply to + Search Form, but it also apply to wherever a search form is created (i.e. in workspace, when first click on \"Search DDF Intrigue\" or when switching from queries to new queries (from text to \"basic\" or \"advance\" search)", "author": "abel-connexta", "createdAt": "2020-10-05T18:18:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc4Nzc0Nw==", "url": "https://github.com/codice/ddf/pull/6355#discussion_r499787747", "bodyText": "ohhh ok, that makes sense \ud83d\udc4d", "author": "mojogitoverhere", "createdAt": "2020-10-05T18:22:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1OTk1Mw=="}], "type": "inlineReview"}]}