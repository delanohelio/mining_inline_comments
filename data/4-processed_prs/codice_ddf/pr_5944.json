{"pr_number": 5944, "pr_title": "DDF-5940 - Add anyText expansion whitelist and blacklist", "pr_createdAt": "2020-03-25T23:03:44Z", "pr_url": "https://github.com/codice/ddf/pull/5944", "timeline": [{"oid": "c6786ea926298d8b258522a3c9e959fc81ceae79", "url": "https://github.com/codice/ddf/commit/c6786ea926298d8b258522a3c9e959fc81ceae79", "message": "DDF-5940 - Add anyText expansion whitelist and blacklist", "committedDate": "2020-03-25T22:33:42Z", "type": "commit"}, {"oid": "1b227564d0a7b5f4db48e83aadb606b8d52bc400", "url": "https://github.com/codice/ddf/commit/1b227564d0a7b5f4db48e83aadb606b8d52bc400", "message": "Allow both blacklist and whitelist at the same time", "committedDate": "2020-03-25T23:54:45Z", "type": "commit"}, {"oid": "0105333ddb60b9da30e69a634bbefd33deadaec0", "url": "https://github.com/codice/ddf/commit/0105333ddb60b9da30e69a634bbefd33deadaec0", "message": "Move filtering logic to DynamicSchemaResolver", "committedDate": "2020-03-26T21:18:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwNDk0Ng==", "url": "https://github.com/codice/ddf/pull/5944#discussion_r398904946", "bodyText": "\u2753 The blueprint provide list is thread safe.  Is there another reason you are clearing and adding the elements?", "author": "pklinef", "createdAt": "2020-03-26T21:30:47Z", "path": "catalog/core/catalog-core-solr/src/main/java/ddf/catalog/source/solr/ConfigurationStore.java", "diffHunk": "@@ -78,9 +92,51 @@ public boolean isInMemory() {\n \n   public void setInMemory(boolean isInMemory) {\n     inMemory = isInMemory;\n+\n+    notifyListeners();\n   }\n \n   public void setForceAutoCommit(boolean forceAutoCommit) {\n     this.forceAutoCommit = forceAutoCommit;\n   }\n+\n+  public void setAnyTextFieldWhitelist(List<String> fieldWhitelist) {\n+    this.anyTextFieldWhitelist.clear();", "originalCommit": "0105333ddb60b9da30e69a634bbefd33deadaec0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwODg4OA==", "url": "https://github.com/codice/ddf/pull/5944#discussion_r398908888", "bodyText": "This pattern makes the list completely owned and managed by the ConfigurationStore.  Even though the blueprint list is thread safe if I used the list provided as a parameter I couldn't guarantee that the ConfigurationStore would know about everything that was added to (or removed from) the list so that it could properly notify the listeners of the change.  In theory, if I didn't do this, someone could pass in a list and then modify the list (add or remove) without ever causing a notification to get to the DynamicSchemaResolver.  While this won't happen with the current setup, I felt it was a better design.", "author": "derekwilhelm", "createdAt": "2020-03-26T21:39:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwNDk0Ng=="}], "type": "inlineReview"}, {"oid": "7e2f36811413641e6130639a44aa4c0567deabbb", "url": "https://github.com/codice/ddf/commit/7e2f36811413641e6130639a44aa4c0567deabbb", "message": "Add unit tests", "committedDate": "2020-03-26T23:09:27Z", "type": "commit"}]}