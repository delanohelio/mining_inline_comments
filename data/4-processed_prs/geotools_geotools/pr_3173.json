{"pr_number": 3173, "pr_title": "[GEOT-6716]: Support COG on ImageMosaic", "pr_createdAt": "2020-10-08T15:20:10Z", "pr_url": "https://github.com/geotools/geotools/pull/3173", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI4MDkyOQ==", "url": "https://github.com/geotools/geotools/pull/3173#discussion_r503280929", "bodyText": "Potentially redundant at this level... if there is a cogConfiguration, then it's a COG, otherwise not?", "author": "aaime", "createdAt": "2020-10-12T13:02:50Z", "path": "modules/plugin/imagemosaic/src/main/java/org/geotools/gce/imagemosaic/catalog/CatalogConfigurationBean.java", "diffHunk": "@@ -46,6 +46,11 @@\n \n     private boolean heterogeneousCRS;\n \n+    /** <code>true</code> if the mosaic is made of remote COG granules. */\n+    private boolean cog;", "originalCommit": "392ae0d8bcfc7f300064a67ae2ccadaeb3ee627e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzMzNDgzNw==", "url": "https://github.com/geotools/geotools/pull/3173#discussion_r503334837", "bodyText": "I had that idea indeed at some point but I left the boolean for \"lazyness\" check (isCog vs getCogBean()!=null)  on the various places around on property parsing/loading.\nAnyway, I can remove it.", "author": "dromagnoli", "createdAt": "2020-10-12T14:28:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI4MDkyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzMyOTQzMA==", "url": "https://github.com/geotools/geotools/pull/3173#discussion_r503329430", "bodyText": "So in the end the handling of COG refs and normal files was too different to homogeneize eh?", "author": "aaime", "createdAt": "2020-10-12T14:21:01Z", "path": "modules/plugin/imagemosaic/src/main/java/org/geotools/gce/imagemosaic/ImageMosaicDatastoreWalker.java", "diffHunk": "@@ -233,4 +257,151 @@ public void run() {\n             }\n         }\n     }\n+\n+    protected void handleCogGranule(final String granuleBeingProcessed) throws IOException {", "originalCommit": "392ae0d8bcfc7f300064a67ae2ccadaeb3ee627e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzMzNTM4Nw==", "url": "https://github.com/geotools/geotools/pull/3173#discussion_r503335387", "bodyText": "yep. there was several file-centric checks and assumptions here and there.", "author": "dromagnoli", "createdAt": "2020-10-12T14:29:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzMyOTQzMA=="}], "type": "inlineReview"}, {"oid": "9243261e4dd9cd126f98a0ce4529a87c32b7c59b", "url": "https://github.com/geotools/geotools/commit/9243261e4dd9cd126f98a0ce4529a87c32b7c59b", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-12T14:48:58Z", "type": "forcePushed"}, {"oid": "873470a848c9b58473e6d910f67136623005d1cf", "url": "https://github.com/geotools/geotools/commit/873470a848c9b58473e6d910f67136623005d1cf", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-16T10:48:26Z", "type": "forcePushed"}, {"oid": "2a70e29302c830f613c43bdccaf55dfdf3538a5d", "url": "https://github.com/geotools/geotools/commit/2a70e29302c830f613c43bdccaf55dfdf3538a5d", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-19T09:52:45Z", "type": "forcePushed"}, {"oid": "2cce9cd8d157646001236165ccf624b856b0408b", "url": "https://github.com/geotools/geotools/commit/2cce9cd8d157646001236165ccf624b856b0408b", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-19T17:48:52Z", "type": "forcePushed"}, {"oid": "92af29184f9d8ca709a5534138216253c8b107c4", "url": "https://github.com/geotools/geotools/commit/92af29184f9d8ca709a5534138216253c8b107c4", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-20T07:43:25Z", "type": "forcePushed"}, {"oid": "eeac3276451457d061ba45b19374e44d55c5bb6c", "url": "https://github.com/geotools/geotools/commit/eeac3276451457d061ba45b19374e44d55c5bb6c", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-20T07:48:40Z", "type": "forcePushed"}, {"oid": "91f5fa168cacfa148c39858a87c19458cc93d548", "url": "https://github.com/geotools/geotools/commit/91f5fa168cacfa148c39858a87c19458cc93d548", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-20T07:56:40Z", "type": "forcePushed"}, {"oid": "189fd6ea902d13bce8701c9f32248dc579fc4416", "url": "https://github.com/geotools/geotools/commit/189fd6ea902d13bce8701c9f32248dc579fc4416", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-20T10:15:34Z", "type": "forcePushed"}, {"oid": "a6b3aa1b027cef8c63d74707f9fb5d8fbdc5dbc3", "url": "https://github.com/geotools/geotools/commit/a6b3aa1b027cef8c63d74707f9fb5d8fbdc5dbc3", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-20T14:14:34Z", "type": "forcePushed"}, {"oid": "43c15ccfc7c78b26b5b27875d9e7f28dffd209fc", "url": "https://github.com/geotools/geotools/commit/43c15ccfc7c78b26b5b27875d9e7f28dffd209fc", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-21T09:35:05Z", "type": "commit"}, {"oid": "43c15ccfc7c78b26b5b27875d9e7f28dffd209fc", "url": "https://github.com/geotools/geotools/commit/43c15ccfc7c78b26b5b27875d9e7f28dffd209fc", "message": "[GEOT-6716]: ImageMosaic COG support", "committedDate": "2020-10-21T09:35:05Z", "type": "forcePushed"}]}