{"pr_number": 3181, "pr_title": "[GEOT-6722] Fix lost precision bug when saving a Double to GeoPackage", "pr_createdAt": "2020-10-18T15:54:16Z", "pr_url": "https://github.com/geotools/geotools/pull/3181", "timeline": [{"oid": "68c4cb7f5b9cab0f163df6d202ef33cd001313ef", "url": "https://github.com/geotools/geotools/commit/68c4cb7f5b9cab0f163df6d202ef33cd001313ef", "message": "[GEOT-6722] Fix lost precision bug when saving a Double to GeoPackage", "committedDate": "2020-10-18T16:28:01Z", "type": "commit"}, {"oid": "68c4cb7f5b9cab0f163df6d202ef33cd001313ef", "url": "https://github.com/geotools/geotools/commit/68c4cb7f5b9cab0f163df6d202ef33cd001313ef", "message": "[GEOT-6722] Fix lost precision bug when saving a Double to GeoPackage", "committedDate": "2020-10-18T16:28:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUzMjY4MA==", "url": "https://github.com/geotools/geotools/pull/3181#discussion_r507532680", "bodyText": "Should this be Float.class ?\nOh I see you are making this change on purpose:\n\nTaking this into consideration and the fact that currently geoPackage.reader().next().getAttribute() will return a Double value, I believe it makes sense to preserve this behavior and read the attribute as a Double even for FLOAT type in GeoPackage.", "author": "jodygarnett", "createdAt": "2020-10-19T07:36:43Z", "path": "modules/plugin/geopkg/src/main/java/org/geotools/geopkg/GeoPkgDialect.java", "diffHunk": "@@ -234,7 +234,10 @@ public String getGeometryTypeName(Integer type) {\n     @Override\n     public void registerSqlTypeNameToClassMappings(Map<String, Class<?>> mappings) {\n         super.registerSqlTypeNameToClassMappings(mappings);\n+        // preserve SQLite full precision when dealing with a GeoPackage:\n+        mappings.put(\"FLOAT\", Double.class);", "originalCommit": "68c4cb7f5b9cab0f163df6d202ef33cd001313ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}