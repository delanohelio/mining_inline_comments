{"pr_number": 3105, "pr_title": "[GEOT-6674] Mosaic coverage operation may produce output ignoring input coverage ROIs", "pr_createdAt": "2020-08-04T15:14:14Z", "pr_url": "https://github.com/geotools/geotools/pull/3105", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU0NjAxNQ==", "url": "https://github.com/geotools/geotools/pull/3105#discussion_r465546015", "bodyText": "\"the the ROIs in output\"\nI think they are in input, actually?\n\"the ROIs in input\"", "author": "dromagnoli", "createdAt": "2020-08-05T08:01:43Z", "path": "modules/library/coverage/src/main/java/org/geotools/coverage/processing/operation/Mosaic.java", "diffHunk": "@@ -853,6 +869,20 @@ protected RenderedImage createRenderedImage(\n         double[][] thresholds = getParameter(parameters, THRESHOLD_PARAM);\n         Range[] noData = getParameter(parameters, NODATA_RANGE_PARAM);\n         double[] backgrounds = getParameter(parameters, BACKGROUND_PARAM);\n+\n+        // the background value defaults to <code>new double[] {0}</code>, which makes\n+        // the ImageWorker use it and not the the ROIs in output, as they are supposed to", "originalCommit": "54fd35ac8961b826d4b50e23e4402a64453e8087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYwNDUwMg==", "url": "https://github.com/geotools/geotools/pull/3105#discussion_r465604502", "bodyText": "Ah, was meant to say \"not set the ROIs in output\". Fixing.", "author": "aaime", "createdAt": "2020-08-05T09:43:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU0NjAxNQ=="}], "type": "inlineReview"}, {"oid": "b692d3fa63806647296f86ebae9bfcd805286f19", "url": "https://github.com/geotools/geotools/commit/b692d3fa63806647296f86ebae9bfcd805286f19", "message": "[GEOT-6674] Mosaic coverage operation may produce output ignoring input coverage ROIs", "committedDate": "2020-08-05T10:00:06Z", "type": "commit"}, {"oid": "b692d3fa63806647296f86ebae9bfcd805286f19", "url": "https://github.com/geotools/geotools/commit/b692d3fa63806647296f86ebae9bfcd805286f19", "message": "[GEOT-6674] Mosaic coverage operation may produce output ignoring input coverage ROIs", "committedDate": "2020-08-05T10:00:06Z", "type": "forcePushed"}]}