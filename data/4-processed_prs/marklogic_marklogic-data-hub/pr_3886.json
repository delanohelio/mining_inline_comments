{"pr_number": 3886, "pr_title": "DHFPROD-4776: Fixed faceting persistence between Snippet and Table View", "pr_createdAt": "2020-04-28T21:50:01Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/3886", "timeline": [{"oid": "513cced586c42262c66b35f478b4e5b81cd6d2bd", "url": "https://github.com/marklogic/marklogic-data-hub/commit/513cced586c42262c66b35f478b4e5b81cd6d2bd", "message": "DHFPROD-4776: Fixed facet persistence when switching from Snippet and Table view\n\nDHFPROD-4776: added e2e test", "committedDate": "2020-04-30T23:10:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc5MDc3Mw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3886#discussion_r418790773", "bodyText": "Do we have to assert that apply button exist before hitting click. click action would wait for the element right. https://docs.cypress.io/guides/core-concepts/interacting-with-elements.html#Visibility", "author": "bsrikan", "createdAt": "2020-05-02T00:32:19Z", "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/scenarios.json.tsx", "diffHunk": "@@ -325,4 +325,27 @@ describe('json scenario for table on browse documents page', () => {\n     detailPage.getDocumentJSON().should('exist');\n   });\n \n+  it('search for multiple facets, switch to snippet view, delete a facet, switch to table view, verify search query', () => {\n+    browsePage.selectEntity('Customer');\n+    browsePage.getSelectedEntity().should('contain', 'Customer');\n+    cy.wait(500);\n+    browsePage.getFacetItemCheckbox('firstname', 'Kelley').click();\n+    browsePage.getFacetItemCheckbox('lastname', 'Oneal').click();\n+    browsePage.getSelectedFacets().should('exist');\n+    browsePage.getGreySelectedFacets('Kelley').should('exist');\n+    browsePage.getFacetApplyButton().should('exist');\n+    browsePage.getFacetApplyButton().click();", "originalCommit": "513cced586c42262c66b35f478b4e5b81cd6d2bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyMDczMA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3886#discussion_r419620730", "bodyText": "I removed the extra check for the apply button", "author": "brucean52", "createdAt": "2020-05-04T17:57:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc5MDc3Mw=="}], "type": "inlineReview"}, {"oid": "fe359baa3611146e503ea7fa1bf9a1515b699926", "url": "https://github.com/marklogic/marklogic-data-hub/commit/fe359baa3611146e503ea7fa1bf9a1515b699926", "message": "DHFPROD-4776: Fixed facet persistence when switching from Snippet and Table view\n\nDHFPROD-4776: added e2e test\n\nDHFPROD-4776: removed extra apply button assertion in e2e test", "committedDate": "2020-05-04T17:56:21Z", "type": "commit"}, {"oid": "fe359baa3611146e503ea7fa1bf9a1515b699926", "url": "https://github.com/marklogic/marklogic-data-hub/commit/fe359baa3611146e503ea7fa1bf9a1515b699926", "message": "DHFPROD-4776: Fixed facet persistence when switching from Snippet and Table view\n\nDHFPROD-4776: added e2e test\n\nDHFPROD-4776: removed extra apply button assertion in e2e test", "committedDate": "2020-05-04T17:56:21Z", "type": "forcePushed"}]}