{"pr_number": 5049, "pr_title": "DHFPROD-6327: Fixing unconverted reduce matcher", "pr_createdAt": "2020-12-23T03:01:22Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/5049", "timeline": [{"oid": "0c01e26ea87830dc7fa209e2161977ba08696f72", "url": "https://github.com/marklogic/marklogic-data-hub/commit/0c01e26ea87830dc7fa209e2161977ba08696f72", "message": "DHFPROD-6327: Fixing unconverted reduce matcher\n\nNot sure if this is the right fix, but it does fix the defect reported in this issue.\n\nHowever, see the comment in reduceTestLib.sjs. If both the JaneTurner and JackTurner docs exist, the reduce doesn't seem to have any impact.", "committedDate": "2020-12-23T03:02:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg4NzIxNQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5049#discussion_r549887215", "bodyText": "This should be map:get(\"propertyTitle\")", "author": "ryanjdew", "createdAt": "2020-12-29T23:34:07Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/com.marklogic.smart-mastering/matcher-impl/helper-impl.xqy", "diffHunk": "@@ -143,7 +143,7 @@ declare function helper-impl:property-name-to-qname($match-options as item(), $f\n       let $qname :=\n         if (fn:exists($property-info)) then\n           let $namespace := fn:string($property-info => map:get(\"namespace\"))\n-          return fn:QName($namespace, helper-impl:NCName-compatible($property-info => map:get(\"entityTitle\")))\n+          return fn:QName($namespace, helper-impl:NCName-compatible($property-info => map:get(\"propertyPath\")))", "originalCommit": "0c01e26ea87830dc7fa209e2161977ba08696f72", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDIxMzM3Nw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5049#discussion_r550213377", "bodyText": "Thanks, updated.", "author": "rjrudin", "createdAt": "2020-12-30T14:29:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg4NzIxNQ=="}], "type": "inlineReview"}, {"oid": "4033e4b98ebaa2cd77831c619f7fa89919a8a070", "url": "https://github.com/marklogic/marklogic-data-hub/commit/4033e4b98ebaa2cd77831c619f7fa89919a8a070", "message": "DHFPROD-6327: Fixing unconverted reduce matcher\n\nNot sure if this is the right fix, but it does fix the defect reported in this issue.\n\nHowever, see the comment in reduceTestLib.sjs. If both the JaneTurner and JackTurner docs exist, the reduce doesn't seem to have any impact.", "committedDate": "2020-12-30T14:29:32Z", "type": "forcePushed"}, {"oid": "b140101e7ffb7eacf33ecf90e6552f5587784abc", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b140101e7ffb7eacf33ecf90e6552f5587784abc", "message": "DHFPROD-6327: Fixing unconverted reduce matcher\n\nAlso tweaked some trace logging - xdmp:to-json-string seems more useful, as it produces a JSON string that can then be easily copied/pasted into an editor and formatted for analysis.", "committedDate": "2020-12-30T16:43:54Z", "type": "commit"}, {"oid": "b140101e7ffb7eacf33ecf90e6552f5587784abc", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b140101e7ffb7eacf33ecf90e6552f5587784abc", "message": "DHFPROD-6327: Fixing unconverted reduce matcher\n\nAlso tweaked some trace logging - xdmp:to-json-string seems more useful, as it produces a JSON string that can then be easily copied/pasted into an editor and formatted for analysis.", "committedDate": "2020-12-30T16:43:54Z", "type": "forcePushed"}]}