{"pr_number": 4926, "pr_title": "DHFPROD-5707: added focus style to MLButton component", "pr_createdAt": "2020-12-02T15:09:09Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4926", "timeline": [{"oid": "82988694bd434f1aef42144b3c8a174a33385fa3", "url": "https://github.com/marklogic/marklogic-data-hub/commit/82988694bd434f1aef42144b3c8a174a33385fa3", "message": "DHFPROD-5707: added focus style to Create Flow button", "committedDate": "2020-12-02T21:03:06Z", "type": "forcePushed"}, {"oid": "00e95326209d68b37fda9ca31584b002694c1b72", "url": "https://github.com/marklogic/marklogic-data-hub/commit/00e95326209d68b37fda9ca31584b002694c1b72", "message": "DHFPROD-5707: added focus style to all MLButton types", "committedDate": "2020-12-03T15:15:36Z", "type": "forcePushed"}, {"oid": "b0897f05d3ae6f9c0822b2dd049ada5ff0de3d9d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b0897f05d3ae6f9c0822b2dd049ada5ff0de3d9d", "message": "DHFPROD-5707: added focus style to all MLButton types", "committedDate": "2020-12-03T18:21:41Z", "type": "forcePushed"}, {"oid": "a64de0bffff51d65aed22e3dd6b20116a5c41f3b", "url": "https://github.com/marklogic/marklogic-data-hub/commit/a64de0bffff51d65aed22e3dd6b20116a5c41f3b", "message": "DHFPROD-5707: added focus style to all MLButton types", "committedDate": "2020-12-03T18:59:10Z", "type": "commit"}, {"oid": "a64de0bffff51d65aed22e3dd6b20116a5c41f3b", "url": "https://github.com/marklogic/marklogic-data-hub/commit/a64de0bffff51d65aed22e3dd6b20116a5c41f3b", "message": "DHFPROD-5707: added focus style to all MLButton types", "committedDate": "2020-12-03T18:59:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUyMDg0NQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4926#discussion_r535520845", "bodyText": "@jyangML Seeing the unit test failing on this line. Can you take a look?", "author": "briantang", "createdAt": "2020-12-03T19:28:07Z", "path": "marklogic-data-hub-central/ui/src/components/flows/flows.test.tsx", "diffHunk": "@@ -185,4 +185,32 @@ describe('Flows component', () => {\n \n     });\n \n+    it('create flow button can be focused and pressed by keyboard', async () => {\n+        const {getByText, getByLabelText} = render(\n+            <Router history={history}><Flows\n+                {...flowsProps}\n+                canReadFlow={true}\n+                canWriteFlow={true}\n+                hasOperatorRole={true}\n+            /></Router>\n+        );\n+\n+        let flowButton = getByLabelText('create-flow');\n+        expect(flowButton).toBeInTheDocument();\n+        flowButton.focus();\n+        expect(flowButton).toHaveFocus();\n+\n+        // button should be focusable\n+        // verified by tabbing away and tabbing back\n+        userEvent.tab();\n+        expect(flowButton).not.toHaveFocus();\n+        userEvent.tab({shift: true});\n+        expect(flowButton).toHaveFocus();\n+\n+        // pressing enter on button should bring up New Flow dialogue box\n+        fireEvent.keyDown(flowButton, { key: 'Enter', code: 'Enter' });\n+        expect(getByText(\"New Flow\")).toBeInTheDocument();", "originalCommit": "a64de0bffff51d65aed22e3dd6b20116a5c41f3b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUzMDA3Nw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4926#discussion_r535530077", "bodyText": "Disregard this, did not have the latest changes. Looks good now.", "author": "briantang", "createdAt": "2020-12-03T19:38:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUyMDg0NQ=="}], "type": "inlineReview"}]}