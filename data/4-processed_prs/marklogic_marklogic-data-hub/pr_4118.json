{"pr_number": 4118, "pr_title": "DHFPROD-5150: A hc-mapping-reader and an operator user should not be \u2026", "pr_createdAt": "2020-06-19T23:46:49Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4118", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE0MDQ0OA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4118#discussion_r443140448", "bodyText": "Is there not a way to add a test for this change?", "author": "rjrudin", "createdAt": "2020-06-20T15:50:14Z", "path": "marklogic-data-hub-central/ui/src/components/entities/mapping/source-entity-map/source-to-entity-map.tsx", "diffHunk": "@@ -620,12 +620,12 @@ const SourceToEntityMap = (props) => {\n                     autoSize={{ minRows: 1 }}\n                     disabled={!props.canReadWrite}></TextArea>&nbsp;&nbsp;\n                 <span>\n-                    <Dropdown overlay={sourceSearchMenu} trigger={['click']} >\n+                    <Dropdown overlay={sourceSearchMenu} trigger={['click']} disabled={!props.canReadWrite}>\n                         <i  id=\"listIcon\"><FontAwesomeIcon icon={faList} size=\"lg\"  data-testid={row.name.split('/').pop()+'-listIcon'}  className={styles.listIcon} onClick={(e) => handleSourceList(row)}/></i>\n                     </Dropdown>\n                 </span>\n                 &nbsp;&nbsp;\n-                <span ><Dropdown overlay={menu} trigger={['click']}><Button id=\"functionIcon\" data-testid={`${row.name.split('/').pop()}-${row.key}-functionIcon`} className={styles.functionIcon} size=\"small\" onClick={(e) => handleFunctionsList(row.name)}>fx</Button></Dropdown></span></div>\n+                <span ><Dropdown overlay={menu} trigger={['click']} disabled={!props.canReadWrite}><Button id=\"functionIcon\" data-testid={`${row.name.split('/').pop()}-${row.key}-functionIcon`} className={styles.functionIcon} size=\"small\" onClick={(e) => handleFunctionsList(row.name)}>fx</Button></Dropdown></span></div>", "originalCommit": "04e5a5217e09f24d8a313a626e9119f869d48c2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE0OTAxOQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4118#discussion_r443149019", "bodyText": "I am not sure but I will try to write test for it and submit PR again", "author": "AkshayBajajML", "createdAt": "2020-06-20T18:05:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE0MDQ0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE2NzAzNw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4118#discussion_r443167037", "bodyText": "In the test 'Verify evaluation of valid expression for mapping reader user' in source-to-entity-map.test you can add couple of assertions for functionIcon and listIcon that they are disabled.", "author": "bsrikan", "createdAt": "2020-06-20T23:21:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE0MDQ0OA=="}], "type": "inlineReview"}, {"oid": "f76bd7d3f7d346af09817056389672502ca29f2f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/f76bd7d3f7d346af09817056389672502ca29f2f", "message": "DHFPROD-5150: A hc-mapping-reader and an operator user should not be allowed to select from fx/source-data list", "committedDate": "2020-06-22T17:16:55Z", "type": "commit"}, {"oid": "f76bd7d3f7d346af09817056389672502ca29f2f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/f76bd7d3f7d346af09817056389672502ca29f2f", "message": "DHFPROD-5150: A hc-mapping-reader and an operator user should not be allowed to select from fx/source-data list", "committedDate": "2020-06-22T17:16:55Z", "type": "forcePushed"}]}