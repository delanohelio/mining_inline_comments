{"pr_number": 4086, "pr_title": "DHFPROD-4677: Add hub-central-custom-reader role", "pr_createdAt": "2020-06-11T17:38:40Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4086", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk2NjMxMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4086#discussion_r438966313", "bodyText": "Since custom steps do not exist as a separate artifacts and only exist inline within flows, should \"data-hub-flow-reader\" role be added and roles \"hub-central-load-reader\", \"hub-central-mapping-reader\",\"data-hub-match-merge-reader\" be dropped ?", "author": "srinathgit", "createdAt": "2020-06-11T17:50:55Z", "path": "marklogic-data-hub/src/main/resources/hub-internal-config/security/roles/hub-central-custom-reader.json", "diffHunk": "@@ -0,0 +1,19 @@\n+{\n+  \"role-name\": \"hub-central-custom-reader\",\n+  \"description\": \"Permits reading/reviewing custom steps in Hub Central\",", "originalCommit": "c57e3079c754ed2f519dc70bafa641c1812196a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3NDc2NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4086#discussion_r438974764", "bodyText": "I think this story is coming earlier than it should be, but it doesn't hurt anything. But there's also not really a way to test it from a user's perspective.", "author": "rjrudin", "createdAt": "2020-06-11T18:02:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk2NjMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3OTQ1OQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4086#discussion_r438979459", "bodyText": "If access to viewing custom steps have to be restricted in DHFPROD-4997, DHFPROD-4998, then, \"data-hub-flow-reader\" role should be added right ?", "author": "srinathgit", "createdAt": "2020-06-11T18:11:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk2NjMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxODc5OA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4086#discussion_r439018798", "bodyText": "@srinathgit Similar to the other step types, the user should have access to the step document, not the flow. The primary information of the custom step is contained in the step definition.\nSince all Custom step types will appear under the Custom tab, I believe you are correct that we can drop the hub-central-loader-reader, hub-central-mapping-reader, etc., roles.", "author": "ryanjdew", "createdAt": "2020-06-11T19:27:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk2NjMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3NTIwMQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4086#discussion_r438975201", "bodyText": "What's this needed for? Does it map to something in HC?", "author": "rjrudin", "createdAt": "2020-06-11T18:03:31Z", "path": "marklogic-data-hub/src/main/resources/hub-internal-config/security/privileges/data-hub-read-step-definition.json", "diffHunk": "@@ -0,0 +1,5 @@\n+{\n+  \"privilege-name\": \"data-hub:readStepDefinition\",", "originalCommit": "c57e3079c754ed2f519dc70bafa641c1812196a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA0ODIwNg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4086#discussion_r439048206", "bodyText": "@rjrudin The privilege/authority is for custom steps. I can change it to readCustom if we think it makes more sense. It is listed as stepDefinition in the roles wiki and is similar to readIngestion being closer to what we have on the backed. Perhaps we should use readCustom because we'll create separate custom steps aside from step definitions in the future?", "author": "ryanjdew", "createdAt": "2020-06-11T20:19:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3NTIwMQ=="}], "type": "inlineReview"}, {"oid": "021689cdde716ac7146c151cf837a19b64513772", "url": "https://github.com/marklogic/marklogic-data-hub/commit/021689cdde716ac7146c151cf837a19b64513772", "message": "DHFPROD-4677: Add hub-central-custom-reader role and update privileges", "committedDate": "2020-06-11T22:24:05Z", "type": "forcePushed"}, {"oid": "20eeb8ab33e3e1fa966e5b88e45d0b0fe84b6294", "url": "https://github.com/marklogic/marklogic-data-hub/commit/20eeb8ab33e3e1fa966e5b88e45d0b0fe84b6294", "message": "DHFPROD-4677: Add hub-central-custom-reader role and update privileges", "committedDate": "2020-06-11T23:34:50Z", "type": "commit"}, {"oid": "20eeb8ab33e3e1fa966e5b88e45d0b0fe84b6294", "url": "https://github.com/marklogic/marklogic-data-hub/commit/20eeb8ab33e3e1fa966e5b88e45d0b0fe84b6294", "message": "DHFPROD-4677: Add hub-central-custom-reader role and update privileges", "committedDate": "2020-06-11T23:34:50Z", "type": "forcePushed"}]}