{"pr_number": 4282, "pr_title": "DHFPROD-5568: Loading test modules now honors environment properties", "pr_createdAt": "2020-07-27T16:03:27Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4282", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAwMDE2Ng==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#discussion_r461000166", "bodyText": "Deleted this, since it wasn't testing anything", "author": "rjrudin", "createdAt": "2020-07-27T16:04:34Z", "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/core/DataHubInstallTest.java", "diffHunk": "@@ -247,23 +247,4 @@ public void testInstallUserModules() throws IOException, ParserConfigurationExce\n         assertFalse(propsManager.hasFileBeenModifiedSinceLastLoaded(new File(\"ye-olde-project/plugins/entities/test-entity/harmonize/REST/options/patients.xml\")));\n         assertFalse(propsManager.hasFileBeenModifiedSinceLastLoaded(new File(\"ye-olde-project/plugins/entities/test-entity/input/REST/transforms/test-input-transform.xqy\")));\n     }\n-\n-    @Test\n-    public void testClearUserModules() throws URISyntaxException {", "originalCommit": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAwMDI4OQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#discussion_r461000289", "bodyText": "Deleted this since it's been disabled for a couple years", "author": "rjrudin", "createdAt": "2020-07-27T16:04:47Z", "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/entity/EntityManagerTest.java", "diffHunk": "@@ -91,59 +88,11 @@ public void testDeploySearchOptionsWithNoEntities() {\n         assertNull(getModulesFile(\"/Default/\" + HubConfig.DEFAULT_FINAL_NAME + \"/rest-api/options/\" + HubConfig.FINAL_ENTITY_QUERY_OPTIONS_FILE));\n     }\n \n-    @Test\n-    @Disabled\n-    public void testDeploySearchOptions() throws IOException, SAXException {", "originalCommit": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "484ecfde974c0a61225a214e515fe36612061389", "url": "https://github.com/marklogic/marklogic-data-hub/commit/484ecfde974c0a61225a214e515fe36612061389", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything", "committedDate": "2020-07-27T16:05:25Z", "type": "forcePushed"}, {"oid": "c5535f5cbc9d1c0b9b40beea68ed6e23aaf5dda3", "url": "https://github.com/marklogic/marklogic-data-hub/commit/c5535f5cbc9d1c0b9b40beea68ed6e23aaf5dda3", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything", "committedDate": "2020-07-27T18:03:11Z", "type": "forcePushed"}, {"oid": "94f617fecb85dbf70b356f40ca1cd54e5de50f3c", "url": "https://github.com/marklogic/marklogic-data-hub/commit/94f617fecb85dbf70b356f40ca1cd54e5de50f3c", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything", "committedDate": "2020-07-28T14:50:27Z", "type": "forcePushed"}, {"oid": "ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything", "committedDate": "2020-07-28T18:07:40Z", "type": "commit"}, {"oid": "ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything", "committedDate": "2020-07-28T18:07:40Z", "type": "forcePushed"}]}