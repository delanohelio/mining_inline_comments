{"pr_number": 4234, "pr_title": "DHFPROD-5514: Add facetable and sortable property in entityPropertyDefinitions within searchResponse", "pr_createdAt": "2020-07-17T23:28:34Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4234", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjcyMDg0NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#discussion_r456720844", "bodyText": "Isn't this missing an additional assertion for test.assertEqual(true, metadata[0].sortable),?", "author": "saarimrahman", "createdAt": "2020-07-18T00:04:41Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/entities/search/buildPropertyMetadata.sjs", "diffHunk": "@@ -37,7 +39,8 @@ function verifySimpleProperty() {\n     test.assertEqual(\"customerId\", metadata[0].propertyPath),\n     test.assertEqual(\"customerId\", metadata[0].propertyLabel),\n     test.assertEqual(\"integer\", metadata[0].datatype),\n-    test.assertEqual(false, metadata[0].multiple)\n+    test.assertEqual(false, metadata[0].multiple),", "originalCommit": "900b6249fc499bf005b6023e2cf07fe75bb59630", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb", "url": "https://github.com/marklogic/marklogic-data-hub/commit/1d37744d664e0300ddbf819e017d5eedce82d7eb", "message": "DHFPROD-5514: Add sortable property in selectedPropertyDefinitions within searchResponse", "committedDate": "2020-07-18T01:17:39Z", "type": "commit"}, {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb", "url": "https://github.com/marklogic/marklogic-data-hub/commit/1d37744d664e0300ddbf819e017d5eedce82d7eb", "message": "DHFPROD-5514: Add sortable property in selectedPropertyDefinitions within searchResponse", "committedDate": "2020-07-18T01:17:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc5ODYyOQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#discussion_r456798629", "bodyText": "I like the variable names here, makes this read very clearly.", "author": "rjrudin", "createdAt": "2020-07-18T15:08:10Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/entities/entity-search-lib.sjs", "diffHunk": "@@ -104,6 +104,16 @@ function buildAllMetadata(parentPropertyName, entityModel, entityName) {\n     propertyMetadata[\"multiple\"] = (isSimpleArrayProperty || isStructuredArrayProperty) ? true : false;\n     propertyMetadataObject[\"multiple\"] = propertyMetadata[\"multiple\"];\n \n+    if(property.sortable && !(isStructuredProperty || isStructuredArrayProperty)) {", "originalCommit": "1d37744d664e0300ddbf819e017d5eedce82d7eb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}