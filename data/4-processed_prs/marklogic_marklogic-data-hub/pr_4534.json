{"pr_number": 4534, "pr_title": "DHFPROD-5888: Handling null values in user preferences for saved queries", "pr_createdAt": "2020-09-05T00:00:59Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4534", "timeline": [{"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b1119fa21a234e42a1355a83b3ae69add8ea3be8", "message": "DHFPROD-5888: Handling null values in user preferences for saved queries", "committedDate": "2020-09-08T23:39:45Z", "type": "commit"}, {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b1119fa21a234e42a1355a83b3ae69add8ea3be8", "message": "DHFPROD-5888: Handling null values in user preferences for saved queries", "committedDate": "2020-09-08T23:39:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1NzI0Nw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#discussion_r485257247", "bodyText": "@xnikhil08 @brucean52 @Sanjeevani19 @timur-isangulov  I think we should close the modal first and then apply current query on entity change.\nEarlier the modal was closed after setting the query, hence modal was hiding the spinner and hub properties was getting clicked on prematurely. So the fix was required in the code than to the test. This fixed scenario json/xml and queries test that were failing intermittently.\nAnother thing to keep in mind is careful usage of {force: true}. The action is performed if the element is available in the DOM and doesnt wait for animations and this could result in unnecessary failures. Tests ran ok 4 times successively. Hopefully it does so in Jenkins too.\nAdditionally pls review if this move to call toggleEntityConfirmation(false) within onNoClick wont impact the places where setCurrentQueryOnEntityChange() gets called.", "author": "bsrikan", "createdAt": "2020-09-08T23:53:19Z", "path": "marklogic-data-hub-central/ui/src/components/queries/queries.tsx", "diffHunk": "@@ -222,6 +224,7 @@ const Query: React.FC<Props> = (props) => {\n     }\n \n     const onNoClick  = () => {\n+        toggleEntityConfirmation(false);", "originalCommit": "b1119fa21a234e42a1355a83b3ae69add8ea3be8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcxMTU0NQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#discussion_r485711545", "bodyText": "Verified scenarios for adding the toggleEntityConfirmation(false). Looks good to me, e2e tests for scenarios.queries passed too.", "author": "Sanjeevani19", "createdAt": "2020-09-09T15:40:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1NzI0Nw=="}], "type": "inlineReview"}]}