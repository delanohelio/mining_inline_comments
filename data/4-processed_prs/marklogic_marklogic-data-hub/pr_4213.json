{"pr_number": 4213, "pr_title": "DHFPROD-5478: Supporting facetable attribute on frontend", "pr_createdAt": "2020-07-14T17:34:12Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4213", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzExMg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454547112", "bodyText": "This needs to be \"facetable\", and if it's false, let's not include it (the omission of it will be the same as false).", "author": "rjrudin", "createdAt": "2020-07-14T18:08:38Z", "path": "examples/reference-entity-model/entities/Customer.entity.json", "diffHunk": "@@ -1,98 +1,111 @@\n-{\n-  \"info\": {\n-    \"title\": \"Customer\",\n-    \"version\": \"0.0.1\",\n-    \"baseUri\": \"http://example.org/\"\n-  },\n-  \"definitions\": {\n-    \"Customer\": {\n-      \"required\": [\n-        \"name\"\n-      ],\n-      \"primaryKey\": \"customerId\",\n-      \"properties\": {\n-        \"customerId\": {\n-          \"datatype\": \"integer\"\n-        },\n-        \"name\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"nicknames\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of simple values\",\n-          \"items\": {\n-            \"datatype\": \"string\"\n-          }\n-        },\n-        \"shipping\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of structured values\",\n-          \"items\": {\n-            \"$ref\": \"#/definitions/Address\"\n-          }\n-        },\n-        \"billing\": {\n-          \"description\": \"Example of a single-value structured property\",\n-          \"$ref\": \"#/definitions/Address\"\n-        },\n-        \"birthDate\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"status\": {\n-          \"datatype\": \"string\"\n-        },\n-        \"customerSince\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"orders\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a relationship to another entity type\",\n-          \"items\": {\n-            \"$ref\": \"http://example.org/Order-0.0.1/Order\"\n-          }\n-        }\n-      }\n-    },\n-    \"Address\": {\n-      \"required\": [ ],\n-      \"pii\": [ ],\n-      \"elementRangeIndex\": [ ],\n-      \"rangeIndex\": [ ],\n-      \"wordLexicon\": [ ],\n-      \"properties\": {\n-        \"street\": {\n-          \"datatype\": \"array\",\n-          \"items\": {\n-            \"datatype\": \"string\",\n-            \"collation\": \"http://marklogic.com/collation/codepoint\"\n-          }\n-        },\n-        \"city\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"state\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"zip\": {\n-          \"$ref\": \"#/definitions/Zip\"\n-        }\n-      }\n-    },\n-    \"Zip\": {\n-      \"required\": [ ],\n-      \"properties\": {\n-        \"fiveDigit\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"plusFour\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        }\n-      }\n-    }\n-  }\n-}\n+{\r\n+  \"info\": {\r\n+    \"title\": \"Customer\",\r\n+    \"version\": \"0.0.1\",\r\n+    \"baseUri\": \"http://example.org/\"\r\n+  },\r\n+  \"definitions\": {\r\n+    \"Customer\": {\r\n+      \"required\": [\r\n+        \"name\"\r\n+      ],\r\n+      \"primaryKey\": \"customerId\",\r\n+      \"properties\": {\r\n+        \"customerId\": {\r\n+          \"datatype\": \"integer\",\r\n+          \"facet\": true\r\n+        },\r\n+        \"name\": {\r\n+          \"datatype\": \"string\",\r\n+          \"facet\": false,\r", "originalCommit": "da2fb6b6f59867c92fd245d2f34b260e2a354178", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzM5NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454547394", "bodyText": "Let's make \"status\" a facet instead of customerId - a user would likely never have a facet on a unique value like this.", "author": "rjrudin", "createdAt": "2020-07-14T18:09:09Z", "path": "examples/reference-entity-model/entities/Customer.entity.json", "diffHunk": "@@ -1,98 +1,111 @@\n-{\n-  \"info\": {\n-    \"title\": \"Customer\",\n-    \"version\": \"0.0.1\",\n-    \"baseUri\": \"http://example.org/\"\n-  },\n-  \"definitions\": {\n-    \"Customer\": {\n-      \"required\": [\n-        \"name\"\n-      ],\n-      \"primaryKey\": \"customerId\",\n-      \"properties\": {\n-        \"customerId\": {\n-          \"datatype\": \"integer\"\n-        },\n-        \"name\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"nicknames\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of simple values\",\n-          \"items\": {\n-            \"datatype\": \"string\"\n-          }\n-        },\n-        \"shipping\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of structured values\",\n-          \"items\": {\n-            \"$ref\": \"#/definitions/Address\"\n-          }\n-        },\n-        \"billing\": {\n-          \"description\": \"Example of a single-value structured property\",\n-          \"$ref\": \"#/definitions/Address\"\n-        },\n-        \"birthDate\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"status\": {\n-          \"datatype\": \"string\"\n-        },\n-        \"customerSince\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"orders\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a relationship to another entity type\",\n-          \"items\": {\n-            \"$ref\": \"http://example.org/Order-0.0.1/Order\"\n-          }\n-        }\n-      }\n-    },\n-    \"Address\": {\n-      \"required\": [ ],\n-      \"pii\": [ ],\n-      \"elementRangeIndex\": [ ],\n-      \"rangeIndex\": [ ],\n-      \"wordLexicon\": [ ],\n-      \"properties\": {\n-        \"street\": {\n-          \"datatype\": \"array\",\n-          \"items\": {\n-            \"datatype\": \"string\",\n-            \"collation\": \"http://marklogic.com/collation/codepoint\"\n-          }\n-        },\n-        \"city\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"state\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"zip\": {\n-          \"$ref\": \"#/definitions/Zip\"\n-        }\n-      }\n-    },\n-    \"Zip\": {\n-      \"required\": [ ],\n-      \"properties\": {\n-        \"fiveDigit\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"plusFour\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        }\n-      }\n-    }\n-  }\n-}\n+{\r\n+  \"info\": {\r\n+    \"title\": \"Customer\",\r\n+    \"version\": \"0.0.1\",\r\n+    \"baseUri\": \"http://example.org/\"\r\n+  },\r\n+  \"definitions\": {\r\n+    \"Customer\": {\r\n+      \"required\": [\r\n+        \"name\"\r\n+      ],\r\n+      \"primaryKey\": \"customerId\",\r\n+      \"properties\": {\r\n+        \"customerId\": {\r\n+          \"datatype\": \"integer\",\r\n+          \"facet\": true\r", "originalCommit": "da2fb6b6f59867c92fd245d2f34b260e2a354178", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzczNA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454547734", "bodyText": "If the property is of type \"date\" and facet = true, does that translate to a date range selector in the UI, as opposed to a set of values?", "author": "rjrudin", "createdAt": "2020-07-14T18:09:44Z", "path": "examples/reference-entity-model/entities/Customer.entity.json", "diffHunk": "@@ -1,98 +1,111 @@\n-{\n-  \"info\": {\n-    \"title\": \"Customer\",\n-    \"version\": \"0.0.1\",\n-    \"baseUri\": \"http://example.org/\"\n-  },\n-  \"definitions\": {\n-    \"Customer\": {\n-      \"required\": [\n-        \"name\"\n-      ],\n-      \"primaryKey\": \"customerId\",\n-      \"properties\": {\n-        \"customerId\": {\n-          \"datatype\": \"integer\"\n-        },\n-        \"name\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"nicknames\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of simple values\",\n-          \"items\": {\n-            \"datatype\": \"string\"\n-          }\n-        },\n-        \"shipping\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of structured values\",\n-          \"items\": {\n-            \"$ref\": \"#/definitions/Address\"\n-          }\n-        },\n-        \"billing\": {\n-          \"description\": \"Example of a single-value structured property\",\n-          \"$ref\": \"#/definitions/Address\"\n-        },\n-        \"birthDate\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"status\": {\n-          \"datatype\": \"string\"\n-        },\n-        \"customerSince\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"orders\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a relationship to another entity type\",\n-          \"items\": {\n-            \"$ref\": \"http://example.org/Order-0.0.1/Order\"\n-          }\n-        }\n-      }\n-    },\n-    \"Address\": {\n-      \"required\": [ ],\n-      \"pii\": [ ],\n-      \"elementRangeIndex\": [ ],\n-      \"rangeIndex\": [ ],\n-      \"wordLexicon\": [ ],\n-      \"properties\": {\n-        \"street\": {\n-          \"datatype\": \"array\",\n-          \"items\": {\n-            \"datatype\": \"string\",\n-            \"collation\": \"http://marklogic.com/collation/codepoint\"\n-          }\n-        },\n-        \"city\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"state\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"zip\": {\n-          \"$ref\": \"#/definitions/Zip\"\n-        }\n-      }\n-    },\n-    \"Zip\": {\n-      \"required\": [ ],\n-      \"properties\": {\n-        \"fiveDigit\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"plusFour\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        }\n-      }\n-    }\n-  }\n-}\n+{\r\n+  \"info\": {\r\n+    \"title\": \"Customer\",\r\n+    \"version\": \"0.0.1\",\r\n+    \"baseUri\": \"http://example.org/\"\r\n+  },\r\n+  \"definitions\": {\r\n+    \"Customer\": {\r\n+      \"required\": [\r\n+        \"name\"\r\n+      ],\r\n+      \"primaryKey\": \"customerId\",\r\n+      \"properties\": {\r\n+        \"customerId\": {\r\n+          \"datatype\": \"integer\",\r\n+          \"facet\": true\r\n+        },\r\n+        \"name\": {\r\n+          \"datatype\": \"string\",\r\n+          \"facet\": false,\r\n+          \"collation\": \"http://marklogic.com/collation/codepoint\"\r\n+        },\r\n+        \"nicknames\": {\r\n+          \"datatype\": \"array\",\r\n+          \"description\": \"Example of a multi-value property of simple values\",\r\n+          \"facet\": false,\r\n+          \"items\": {\r\n+            \"datatype\": \"string\"\r\n+          }\r\n+        },\r\n+        \"shipping\": {\r\n+          \"datatype\": \"array\",\r\n+          \"description\": \"Example of a multi-value property of structured values\",\r\n+          \"facet\": false,\r\n+          \"items\": {\r\n+            \"$ref\": \"#/definitions/Address\"\r\n+          }\r\n+        },\r\n+        \"billing\": {\r\n+          \"description\": \"Example of a single-value structured property\",\r\n+          \"$ref\": \"#/definitions/Address\"\r\n+        },\r\n+        \"birthDate\": {\r\n+          \"datatype\": \"date\",\r\n+          \"facet\": true\r", "originalCommit": "da2fb6b6f59867c92fd245d2f34b260e2a354178", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYyMDc5NQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454620795", "bodyText": "@rjrudin Ideally it should work after generating the path range indexes for facetable properties. But there is a bug currently in UI that the facets for range path indexes are not shown.\nThe entitySearch endpoint though is returning the response.", "author": "rahulvudutala", "createdAt": "2020-07-14T20:22:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzczNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYzNzUwMg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454637502", "bodyText": "Ignore my comment - I forgot this is only adjusting the modeling UI. How this translates to search options and the search UI is out of scope.", "author": "rjrudin", "createdAt": "2020-07-14T20:52:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzczNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzkzNQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454547935", "bodyText": "We're not going to support facets on structured properties for this first go-round.", "author": "rjrudin", "createdAt": "2020-07-14T18:10:04Z", "path": "examples/reference-entity-model/entities/Customer.entity.json", "diffHunk": "@@ -1,98 +1,111 @@\n-{\n-  \"info\": {\n-    \"title\": \"Customer\",\n-    \"version\": \"0.0.1\",\n-    \"baseUri\": \"http://example.org/\"\n-  },\n-  \"definitions\": {\n-    \"Customer\": {\n-      \"required\": [\n-        \"name\"\n-      ],\n-      \"primaryKey\": \"customerId\",\n-      \"properties\": {\n-        \"customerId\": {\n-          \"datatype\": \"integer\"\n-        },\n-        \"name\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"nicknames\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of simple values\",\n-          \"items\": {\n-            \"datatype\": \"string\"\n-          }\n-        },\n-        \"shipping\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a multi-value property of structured values\",\n-          \"items\": {\n-            \"$ref\": \"#/definitions/Address\"\n-          }\n-        },\n-        \"billing\": {\n-          \"description\": \"Example of a single-value structured property\",\n-          \"$ref\": \"#/definitions/Address\"\n-        },\n-        \"birthDate\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"status\": {\n-          \"datatype\": \"string\"\n-        },\n-        \"customerSince\": {\n-          \"datatype\": \"date\"\n-        },\n-        \"orders\": {\n-          \"datatype\": \"array\",\n-          \"description\": \"Example of a relationship to another entity type\",\n-          \"items\": {\n-            \"$ref\": \"http://example.org/Order-0.0.1/Order\"\n-          }\n-        }\n-      }\n-    },\n-    \"Address\": {\n-      \"required\": [ ],\n-      \"pii\": [ ],\n-      \"elementRangeIndex\": [ ],\n-      \"rangeIndex\": [ ],\n-      \"wordLexicon\": [ ],\n-      \"properties\": {\n-        \"street\": {\n-          \"datatype\": \"array\",\n-          \"items\": {\n-            \"datatype\": \"string\",\n-            \"collation\": \"http://marklogic.com/collation/codepoint\"\n-          }\n-        },\n-        \"city\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"state\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"zip\": {\n-          \"$ref\": \"#/definitions/Zip\"\n-        }\n-      }\n-    },\n-    \"Zip\": {\n-      \"required\": [ ],\n-      \"properties\": {\n-        \"fiveDigit\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        },\n-        \"plusFour\": {\n-          \"datatype\": \"string\",\n-          \"collation\": \"http://marklogic.com/collation/codepoint\"\n-        }\n-      }\n-    }\n-  }\n-}\n+{\r\n+  \"info\": {\r\n+    \"title\": \"Customer\",\r\n+    \"version\": \"0.0.1\",\r\n+    \"baseUri\": \"http://example.org/\"\r\n+  },\r\n+  \"definitions\": {\r\n+    \"Customer\": {\r\n+      \"required\": [\r\n+        \"name\"\r\n+      ],\r\n+      \"primaryKey\": \"customerId\",\r\n+      \"properties\": {\r\n+        \"customerId\": {\r\n+          \"datatype\": \"integer\",\r\n+          \"facet\": true\r\n+        },\r\n+        \"name\": {\r\n+          \"datatype\": \"string\",\r\n+          \"facet\": false,\r\n+          \"collation\": \"http://marklogic.com/collation/codepoint\"\r\n+        },\r\n+        \"nicknames\": {\r\n+          \"datatype\": \"array\",\r\n+          \"description\": \"Example of a multi-value property of simple values\",\r\n+          \"facet\": false,\r\n+          \"items\": {\r\n+            \"datatype\": \"string\"\r\n+          }\r\n+        },\r\n+        \"shipping\": {\r\n+          \"datatype\": \"array\",\r\n+          \"description\": \"Example of a multi-value property of structured values\",\r\n+          \"facet\": false,\r\n+          \"items\": {\r\n+            \"$ref\": \"#/definitions/Address\"\r\n+          }\r\n+        },\r\n+        \"billing\": {\r\n+          \"description\": \"Example of a single-value structured property\",\r\n+          \"$ref\": \"#/definitions/Address\"\r\n+        },\r\n+        \"birthDate\": {\r\n+          \"datatype\": \"date\",\r\n+          \"facet\": true\r\n+        },\r\n+        \"status\": {\r\n+          \"datatype\": \"string\",\r\n+          \"facet\": false\r\n+        },\r\n+        \"customerSince\": {\r\n+          \"datatype\": \"date\",\r\n+          \"facet\": false\r\n+        },\r\n+        \"orders\": {\r\n+          \"datatype\": \"array\",\r\n+          \"description\": \"Example of a relationship to another entity type\",\r\n+          \"facet\": false,\r\n+          \"items\": {\r\n+            \"$ref\": \"http://example.org/Order-0.0.1/Order\"\r\n+          }\r\n+        }\r\n+      }\r\n+    },\r\n+    \"Address\": {\r\n+      \"required\": [ ],\r\n+      \"pii\": [ ],\r\n+      \"elementRangeIndex\": [ ],\r\n+      \"rangeIndex\": [ ],\r\n+      \"wordLexicon\": [ ],\r\n+      \"properties\": {\r\n+        \"street\": {\r\n+          \"datatype\": \"array\",\r\n+          \"facet\": false,\r\n+          \"items\": {\r\n+            \"datatype\": \"string\",\r\n+            \"collation\": \"http://marklogic.com/collation/codepoint\"\r\n+          }\r\n+        },\r\n+        \"city\": {\r\n+          \"datatype\": \"string\",\r\n+          \"facet\": true,\r", "originalCommit": "da2fb6b6f59867c92fd245d2f34b260e2a354178", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0ODMxNg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454548316", "bodyText": "Let's hold off on modifying this entity - I think making birthDate and status facetable on Customer is enough for now (this is another property that a user would rarely enable a facet on).", "author": "rjrudin", "createdAt": "2020-07-14T18:10:42Z", "path": "examples/reference-entity-model/entities/Order.entity.json", "diffHunk": "@@ -1,31 +1,34 @@\n-{\n-  \"info\": {\n-    \"title\": \"Order\",\n-    \"version\": \"0.0.1\",\n-    \"baseUri\": \"http://marklogic.com/example/\"\n-  },\n-  \"definitions\": {\n-    \"Order\": {\n-      \"required\": [ ],\n-      \"primaryKey\": \"orderId\",\n-      \"properties\": {\n-        \"orderId\": {\n-          \"datatype\": \"string\"\n-        },\n-        \"address\": {\n-          \"$ref\": \"#/definitions/Address\"\n-        }\n-      }\n-    },\n-    \"Address\": {\n-      \"properties\": {\n-        \"city\": {\n-          \"datatype\": \"string\"\n-        },\n-        \"state\": {\n-          \"datatype\": \"string\"\n-        }\n-      }\n-    }\n-  }\n-}\n\\ No newline at end of file\n+{\r\n+  \"info\": {\r\n+    \"title\": \"Order\",\r\n+    \"version\": \"0.0.1\",\r\n+    \"baseUri\": \"http://marklogic.com/example/\"\r\n+  },\r\n+  \"definitions\": {\r\n+    \"Order\": {\r\n+      \"required\": [ ],\r\n+      \"primaryKey\": \"orderId\",\r\n+      \"properties\": {\r\n+        \"orderId\": {\r\n+          \"datatype\": \"string\",\r\n+          \"facet\": true\r", "originalCommit": "da2fb6b6f59867c92fd245d2f34b260e2a354178", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0ODkzNA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454548934", "bodyText": "Let's use the term \"facetable\" in the UI as well.", "author": "rjrudin", "createdAt": "2020-07-14T18:11:47Z", "path": "marklogic-data-hub-central/ui/src/components/modeling/property-table/property-table.tsx", "diffHunk": "@@ -321,6 +321,7 @@ const PropertyTable: React.FC<Props> = (props) => {\n       let externalEntity = modelingOptions.entityTypeNamesArray.find(entity => entity.name === parseType[1])\n       return {\n         datatype: 'array',\n+        facet: facetable,", "originalCommit": "da2fb6b6f59867c92fd245d2f34b260e2a354178", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYyNzAzNw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454627037", "bodyText": "\"facet\" is referenced a lot in the UI already, but go ahead and change it @saarimrahman", "author": "brucean52", "createdAt": "2020-07-14T20:33:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0ODkzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYzODI4NQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r454638285", "bodyText": "I think it's important to distinguish between the two concepts, which are - 1) the thing that appears in search results with values and counts, and 2) whether or not a property should have a thing appear in search results for it. Thus, two separate terms are warranted.", "author": "rjrudin", "createdAt": "2020-07-14T20:53:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0ODkzNA=="}], "type": "inlineReview"}, {"oid": "b93d87c26290eca6dbdce291202b91ff9da3132f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b93d87c26290eca6dbdce291202b91ff9da3132f", "message": "DHFPROD-5478: Supporting facetable attribute on frontend", "committedDate": "2020-07-15T00:20:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAzNDQxMQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455034411", "bodyText": "I think the code should definitely use the term \"facetable\" to avoid confusion over what \"facet\" means based on the context it's used in. But verify with @yasht2010 that it's okay for the UI to say \"Facetable\" - that's a change in the design. I don't have any issue with the UI saying e.g. \"Facet\" and \"Sort\" - in that context, those can be seen as verbs. But in the entity model itself, I think we want adjectives.", "author": "rjrudin", "createdAt": "2020-07-15T13:04:34Z", "path": "marklogic-data-hub-central/ui/src/components/modeling/property-table/property-table.test.tsx", "diffHunk": "@@ -240,6 +240,10 @@ describe('Entity Modeling Property Table Component', () => {\n     fireEvent.change(wildcardCheckbox, { target: { checked: true } });\n     expect(wildcardCheckbox).toBeChecked();\n \n+    const facetableCheckbox = screen.getByLabelText('Facetable');", "originalCommit": "b93d87c26290eca6dbdce291202b91ff9da3132f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTIwNDM2Mw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455204363", "bodyText": "I'd prefer to use the word \"Facet\" in the UI. \"Facetable\" is not a valid word.\n@eltesoro-ml", "author": "yasht2010", "createdAt": "2020-07-15T17:12:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAzNDQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTIwODcyNg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455208726", "bodyText": "How about...\nconst isFacetCheckbox = screen.getByLabelText('Use as a facet');", "author": "eltesoro-ml", "createdAt": "2020-07-15T17:18:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAzNDQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTIyNjU4Mw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455226583", "bodyText": "\"facetable\" has use in other products - for example, Azure uses it in their docs - https://docs.microsoft.com/en-us/azure/search/search-filters-facets , along with \"filterable\".\nFWIW, I believe \"facetable\" is commonly used in the field too - I think it's common for a consultant to say e.g. \"Let's make that property facetable\" (often as a substitute for \"searchable\").\nIt's not in the dictionary, but - well, that hasn't stopped Microsoft from using it. :)", "author": "rjrudin", "createdAt": "2020-07-15T17:39:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAzNDQxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTM3ODc4NQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455378785", "bodyText": "https://64.media.tumblr.com/7bc8be17beeed1dd44aa4e18b5e3e825/tumblr_inline_okb99j5SEa1sstivl_500.png\n\"FACETABLE ... When facepalm just isn't enough.\"\n(from https://thegrinningkitten.tumblr.com/post/156332512840/can-you-draw-a-facetable)", "author": "eltesoro-ml", "createdAt": "2020-07-15T21:46:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAzNDQxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTIwMDUzNw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455200537", "bodyText": "This check should be for getFacetIcon", "author": "brucean52", "createdAt": "2020-07-15T17:05:44Z", "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/modeling/scenarios.modeling.tsx", "diffHunk": "@@ -41,11 +41,13 @@ describe('Entity Modeling', () => {\n     propertyModal.getYesRadio('multiple').click();\n     propertyModal.getYesRadio('pii').click();\n     propertyModal.clickCheckbox('wildcard');\n+    propertyModal.clickCheckbox('facetable');\n     propertyModal.getSubmitButton().click();\n \n     propertyTable.getMultipleIcon('newID').should('exist');\n     propertyTable.getPiiIcon('newID').should('exist');\n     propertyTable.getWildcardIcon('newID').should('exist');\n+    propertyTable.getWildcardIcon('newID').should('exist');", "originalCommit": "b93d87c26290eca6dbdce291202b91ff9da3132f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b11ec1c84d03448ba897c2e493c0236474142ba0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b11ec1c84d03448ba897c2e493c0236474142ba0", "message": "DHFPROD-5478: Supporting facetable attribute on frontend", "committedDate": "2020-07-15T17:49:05Z", "type": "forcePushed"}, {"oid": "036b6fafd8561b0c591939381b1feb952747f0ec", "url": "https://github.com/marklogic/marklogic-data-hub/commit/036b6fafd8561b0c591939381b1feb952747f0ec", "message": "DHFPROD-5478: Supporting facetable attribute on frontend", "committedDate": "2020-07-15T18:29:10Z", "type": "commit"}, {"oid": "036b6fafd8561b0c591939381b1feb952747f0ec", "url": "https://github.com/marklogic/marklogic-data-hub/commit/036b6fafd8561b0c591939381b1feb952747f0ec", "message": "DHFPROD-5478: Supporting facetable attribute on frontend", "committedDate": "2020-07-15T18:29:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTI5ODg5OQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455298899", "bodyText": "No need to change right now - but @brucean52  is \"wildcard\" used? I didn't think we were supporting that. Enabling a word lexicon alone won't enabling wildcarded search. I'd rather see this removed (separate JIRA ticket) if we're not doing anything with it.", "author": "rjrudin", "createdAt": "2020-07-15T19:44:32Z", "path": "marklogic-data-hub-central/ui/src/components/modeling/property-table/property-table.tsx", "diffHunk": "@@ -55,7 +55,7 @@ const DEFAULT_SELECTED_PROPERTY_OPTIONS: PropertyOptions = {\n   multiple: '',\n   pii: '',\n   sort: false,\n-  facet: false,\n+  facetable: false,\n   wildcard: false", "originalCommit": "036b6fafd8561b0c591939381b1feb952747f0ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTMxMjU1NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455312554", "bodyText": "yeah, wildcard is hooked up to wordLexicon right now", "author": "brucean52", "createdAt": "2020-07-15T20:10:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTI5ODg5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTMyNTY3MA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4213#discussion_r455325670", "bodyText": "Can you work with Allison on changing this? We can't release this, because wordLexicon alone will not enable wildcard search.", "author": "rjrudin", "createdAt": "2020-07-15T20:34:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTI5ODg5OQ=="}], "type": "inlineReview"}]}