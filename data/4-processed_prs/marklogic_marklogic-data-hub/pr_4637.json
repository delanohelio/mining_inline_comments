{"pr_number": 4637, "pr_title": "DHFPROD-6058: Update setup.sh script for DHS", "pr_createdAt": "2020-09-29T16:34:47Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4637", "timeline": [{"oid": "5edbb660ff025e84a1759762c921ff54c2422c9c", "url": "https://github.com/marklogic/marklogic-data-hub/commit/5edbb660ff025e84a1759762c921ff54c2422c9c", "message": "DHFPROD-6058: Update setup.sh script for DHS", "committedDate": "2020-09-29T16:35:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NTcxMA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#discussion_r496885710", "bodyText": "If we are requiring mlAdminUsername and mlAdminPassword for both dhs and local, should we be using those variables here as well?", "author": "ryanjdew", "createdAt": "2020-09-29T16:41:39Z", "path": "marklogic-data-hub-central/ui/e2e/setup.sh", "diffHunk": "@@ -20,6 +22,7 @@ if $DHS\n then\n         env=dhs\n         perl -i -pe\"s/mlHost=.*/mlHost=$mlHost/g\" gradle-dhs.properties\n+        ./gradlew -i mldeployusers -PenvironmentName=$env -PmlUsername=$mlAdminUsername -PmlPassword=$mlAdminPassword\n         ./gradlew hubDeploy -PenvironmentName=$env --info --stacktrace\n else\n         ./gradlew mlDeploy -PmlUsername=admin -PmlPassword=admin --info --stacktrace", "originalCommit": "5edbb660ff025e84a1759762c921ff54c2422c9c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NzgyMQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#discussion_r496887821", "bodyText": "Right, thanks @ryanjdew will make that change", "author": "briantang", "createdAt": "2020-09-29T16:44:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NTcxMA=="}], "type": "inlineReview"}, {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970", "url": "https://github.com/marklogic/marklogic-data-hub/commit/817284a8de68dfcd516d01719e7a9b0ed2c78970", "message": "DHFPROD-6058: Update setup.sh script for DHS", "committedDate": "2020-09-29T16:45:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk1MDQ2OQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#discussion_r496950469", "bodyText": "Use mlSecurityUsername/Password instead - see https://github.com/marklogic-community/ml-gradle/wiki/Property-reference#manage-server-connection-properties", "author": "rjrudin", "createdAt": "2020-09-29T18:27:22Z", "path": "Jenkinsfile", "diffHunk": "@@ -191,7 +191,7 @@ def runCypressE2e(){\n           repo=\"maven {url '\"$M2_LOCAL_REPO\"'}\"\n           sed -i \"/repositories {/a$repo\" hc-qa-project/build.gradle\n           chmod +x setup.sh;\n-          ./setup.sh dhs=false mlHost=localhost;\n+          ./setup.sh dhs=false mlHost=localhost mlAdminUsername=admin mlAdminPassword=admin;", "originalCommit": "817284a8de68dfcd516d01719e7a9b0ed2c78970", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk1NjkzMg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#discussion_r496956932", "bodyText": "Thanks @rjrudin, modified the parameter names", "author": "briantang", "createdAt": "2020-09-29T18:39:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk1MDQ2OQ=="}], "type": "inlineReview"}, {"oid": "817ee8b308ace25a4c771d95c89f851a174420f3", "url": "https://github.com/marklogic/marklogic-data-hub/commit/817ee8b308ace25a4c771d95c89f851a174420f3", "message": "DHFPROD-6058: Update setup.sh script for DHS", "committedDate": "2020-09-29T18:36:18Z", "type": "forcePushed"}, {"oid": "07ac8593173324481802d1f73fde4ae12c866f86", "url": "https://github.com/marklogic/marklogic-data-hub/commit/07ac8593173324481802d1f73fde4ae12c866f86", "message": "DHFPROD-6058: Update setup.sh script for DHS", "committedDate": "2020-09-29T18:38:43Z", "type": "forcePushed"}, {"oid": "e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "url": "https://github.com/marklogic/marklogic-data-hub/commit/e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "message": "DHFPROD-6058: Update setup.sh script for DHS", "committedDate": "2020-09-29T18:40:29Z", "type": "commit"}, {"oid": "e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "url": "https://github.com/marklogic/marklogic-data-hub/commit/e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "message": "DHFPROD-6058: Update setup.sh script for DHS", "committedDate": "2020-09-29T18:40:29Z", "type": "forcePushed"}]}