{"pr_number": 4915, "pr_title": "DHFPROD-5949: Add sourceName and sourceType parameters to datahub MLCP transform", "pr_createdAt": "2020-11-27T16:39:04Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4915", "timeline": [{"oid": "af270b1269f8c849adeb0618da032504daae4907", "url": "https://github.com/marklogic/marklogic-data-hub/commit/af270b1269f8c849adeb0618da032504daae4907", "message": "DHFPROD-5949: Add sourceName and sourceType parameters to datahub MLCP transform", "committedDate": "2020-11-27T07:56:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTgxMTExMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4915#discussion_r531811113", "bodyText": "This is great news - our first test of this transform! :)", "author": "rjrudin", "createdAt": "2020-11-28T00:10:09Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/transforms/mlcp-transform/addSourceNameAndSourceType.sjs", "diffHunk": "@@ -0,0 +1,62 @@\n+const test = require(\"/test/test-helper.xqy\");\n+const mlcpTransform = require(\"/data-hub/5/transforms/mlcp-flow-transform.sjs\");\n+\n+function testAddSourceNameAndSourceType() {\n+  const assertions = [];\n+\n+  const content = {\n+    \"uri\": \"/mlcp-test/Cust1.json\",\n+    \"value\": {\n+      \"CustomerID\": 101\n+    }\n+  };\n+  const context = {\n+    \"transform_param\": \"flow-name=default-ingestion,step=1,sourceName=test-sourceName,sourceType=test-sourceType\",\n+    \"collections\": [\"input\"]\n+  };\n+\n+  let result = fn.head(mlcpTransform.transform(content, context));", "originalCommit": "af270b1269f8c849adeb0618da032504daae4907", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}